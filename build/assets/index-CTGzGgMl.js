const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-BjdX86Ev.js","assets/graph-DYwhvADm.js","assets/_baseUniq-BTt0XCjz.js","assets/layout-D1xLAivC.js","assets/_basePickBy-BP5KzX3q.js","assets/clone-Dzoz2g_q.js","assets/cose-bilkent-S5V4N54A-BK9mDQfm.js","assets/cytoscape.esm-DtBltrT8.js","assets/c4Diagram-YG6GDRKO-BPjjuzut.js","assets/chunk-TZMSLE5B-eWEJQvtN.js","assets/flowDiagram-NV44I4VS-Bhxds7HW.js","assets/chunk-FMBD7UC4-gJpw1hsg.js","assets/chunk-55IACEB6-htrvN8Rc.js","assets/chunk-QN33PNHL-BH2jZBZe.js","assets/channel-DXhS8EQJ.js","assets/erDiagram-Q2GNP2WA-CuWJdMG5.js","assets/gitGraphDiagram-V2S2FVAM-f9CnBx2f.js","assets/chunk-4BX2VUAB-z5aG-EwP.js","assets/chunk-QZHKN3VN-Dc_NgxSs.js","assets/treemap-GDKQZRPO-CpFUFCkM.js","assets/infoDiagram-HS3SLOUP-D6LiI-Xx.js","assets/pieDiagram-ADFJNKIX-CIpBsrNu.js","assets/arc-BW3-Jz3z.js","assets/requirementDiagram-UZGBJVZJ-BrG43w2w.js","assets/sequenceDiagram-WL72ISMW-B6aSWGjy.js","assets/classDiagram-2ON5EDUG-Cfranwh8.js","assets/chunk-B4BG7PRW-mFBu7OOC.js","assets/classDiagram-v2-WZHVMYZB-Cfranwh8.js","assets/stateDiagram-FKZM4ZOC-C0lQ4Vs5.js","assets/chunk-DI55MBZ5-BnPwswb9.js","assets/stateDiagram-v2-4FDKWEC3-CTAOTOMu.js","assets/journeyDiagram-XKPGCS4Q-rea99x-X.js","assets/timeline-definition-IT6M3QCI-DNAt1pr2.js","assets/mindmap-definition-VGOIOE7T-CXVtOHpg.js","assets/kanban-definition-3W4ZIXB7-BEgzLiuT.js","assets/diagram-S2PKOQOG-ChaUawsP.js","assets/diagram-QEK2KX5R-BT73abxs.js","assets/blockDiagram-VD42YOAC-C4BnJMEE.js","assets/architectureDiagram-VXUJARFQ-a48QScQ9.js","assets/diagram-PSM6KHXK-P0spN_ve.js"])))=>i.map(i=>d[i]);
function _mergeNamespaces(ee,te){for(var ne=0;ne<te.length;ne++){const xe=te[ne];if(typeof xe!="string"&&!Array.isArray(xe)){for(const rt in xe)if(rt!=="default"&&!(rt in ee)){const it=Object.getOwnPropertyDescriptor(xe,rt);it&&Object.defineProperty(ee,rt,it.get?it:{enumerable:!0,get:()=>xe[rt]})}}}return Object.freeze(Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}))}(function(){const te=document.createElement("link").relList;if(te&&te.supports&&te.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))xe(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const lt of it.addedNodes)lt.tagName==="LINK"&&lt.rel==="modulepreload"&&xe(lt)}).observe(document,{childList:!0,subtree:!0});function ne(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerPolicy&&(it.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?it.credentials="include":rt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function xe(rt){if(rt.ep)return;rt.ep=!0;const it=ne(rt);fetch(rt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}function getAugmentedNamespace(ee){if(Object.prototype.hasOwnProperty.call(ee,"__esModule"))return ee;var te=ee.default;if(typeof te=="function"){var ne=function xe(){return this instanceof xe?Reflect.construct(te,arguments,this.constructor):te.apply(this,arguments)};ne.prototype=te.prototype}else ne={};return Object.defineProperty(ne,"__esModule",{value:!0}),Object.keys(ee).forEach(function(xe){var rt=Object.getOwnPropertyDescriptor(ee,xe);Object.defineProperty(ne,xe,rt.get?rt:{enumerable:!0,get:function(){return ee[xe]}})}),ne}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var ee=Symbol.for("react.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),lt=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),dt=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),ft=Symbol.iterator;function pt(Ht){return Ht===null||typeof Ht!="object"?null:(Ht=ft&&Ht[ft]||Ht["@@iterator"],typeof Ht=="function"?Ht:null)}var mt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xt=Object.assign,yt={};function vt(Ht,Wt,Vt){this.props=Ht,this.context=Wt,this.refs=yt,this.updater=Vt||mt}vt.prototype.isReactComponent={},vt.prototype.setState=function(Ht,Wt){if(typeof Ht!="object"&&typeof Ht!="function"&&Ht!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ht,Wt,"setState")},vt.prototype.forceUpdate=function(Ht){this.updater.enqueueForceUpdate(this,Ht,"forceUpdate")};function Et(){}Et.prototype=vt.prototype;function _t(Ht,Wt,Vt){this.props=Ht,this.context=Wt,this.refs=yt,this.updater=Vt||mt}var wt=_t.prototype=new Et;wt.constructor=_t,xt(wt,vt.prototype),wt.isPureReactComponent=!0;var St=Array.isArray,Ct=Object.prototype.hasOwnProperty,jt={current:null},Rt={key:!0,ref:!0,__self:!0,__source:!0};function Pt(Ht,Wt,Vt){var Yt,Qt={},ar=null,Xt=null;if(Wt!=null)for(Yt in Wt.ref!==void 0&&(Xt=Wt.ref),Wt.key!==void 0&&(ar=""+Wt.key),Wt)Ct.call(Wt,Yt)&&!Rt.hasOwnProperty(Yt)&&(Qt[Yt]=Wt[Yt]);var tr=arguments.length-2;if(tr===1)Qt.children=Vt;else if(1<tr){for(var rr=Array(tr),ur=0;ur<tr;ur++)rr[ur]=arguments[ur+2];Qt.children=rr}if(Ht&&Ht.defaultProps)for(Yt in tr=Ht.defaultProps,tr)Qt[Yt]===void 0&&(Qt[Yt]=tr[Yt]);return{$$typeof:ee,type:Ht,key:ar,ref:Xt,props:Qt,_owner:jt.current}}function Ot(Ht,Wt){return{$$typeof:ee,type:Ht.type,key:Wt,ref:Ht.ref,props:Ht.props,_owner:Ht._owner}}function Ft(Ht){return typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===ee}function Lt(Ht){var Wt={"=":"=0",":":"=2"};return"$"+Ht.replace(/[=:]/g,function(Vt){return Wt[Vt]})}var Bt=/\/+/g;function Gt(Ht,Wt){return typeof Ht=="object"&&Ht!==null&&Ht.key!=null?Lt(""+Ht.key):Wt.toString(36)}function It(Ht,Wt,Vt,Yt,Qt){var ar=typeof Ht;(ar==="undefined"||ar==="boolean")&&(Ht=null);var Xt=!1;if(Ht===null)Xt=!0;else switch(ar){case"string":case"number":Xt=!0;break;case"object":switch(Ht.$$typeof){case ee:case te:Xt=!0}}if(Xt)return Xt=Ht,Qt=Qt(Xt),Ht=Yt===""?"."+Gt(Xt,0):Yt,St(Qt)?(Vt="",Ht!=null&&(Vt=Ht.replace(Bt,"$&/")+"/"),It(Qt,Wt,Vt,"",function(ur){return ur})):Qt!=null&&(Ft(Qt)&&(Qt=Ot(Qt,Vt+(!Qt.key||Xt&&Xt.key===Qt.key?"":(""+Qt.key).replace(Bt,"$&/")+"/")+Ht)),Wt.push(Qt)),1;if(Xt=0,Yt=Yt===""?".":Yt+":",St(Ht))for(var tr=0;tr<Ht.length;tr++){ar=Ht[tr];var rr=Yt+Gt(ar,tr);Xt+=It(ar,Wt,Vt,rr,Qt)}else if(rr=pt(Ht),typeof rr=="function")for(Ht=rr.call(Ht),tr=0;!(ar=Ht.next()).done;)ar=ar.value,rr=Yt+Gt(ar,tr++),Xt+=It(ar,Wt,Vt,rr,Qt);else if(ar==="object")throw Wt=String(Ht),Error("Objects are not valid as a React child (found: "+(Wt==="[object Object]"?"object with keys {"+Object.keys(Ht).join(", ")+"}":Wt)+"). If you meant to render a collection of children, use an array instead.");return Xt}function qt(Ht,Wt,Vt){if(Ht==null)return Ht;var Yt=[],Qt=0;return It(Ht,Yt,"","",function(ar){return Wt.call(Vt,ar,Qt++)}),Yt}function Nt(Ht){if(Ht._status===-1){var Wt=Ht._result;Wt=Wt(),Wt.then(function(Vt){(Ht._status===0||Ht._status===-1)&&(Ht._status=1,Ht._result=Vt)},function(Vt){(Ht._status===0||Ht._status===-1)&&(Ht._status=2,Ht._result=Vt)}),Ht._status===-1&&(Ht._status=0,Ht._result=Wt)}if(Ht._status===1)return Ht._result.default;throw Ht._result}var Dt={current:null},Tt={transition:null},Mt={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Tt,ReactCurrentOwner:jt};function $t(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:qt,forEach:function(Ht,Wt,Vt){qt(Ht,function(){Wt.apply(this,arguments)},Vt)},count:function(Ht){var Wt=0;return qt(Ht,function(){Wt++}),Wt},toArray:function(Ht){return qt(Ht,function(Wt){return Wt})||[]},only:function(Ht){if(!Ft(Ht))throw Error("React.Children.only expected to receive a single React element child.");return Ht}},react_production_min.Component=vt,react_production_min.Fragment=ne,react_production_min.Profiler=rt,react_production_min.PureComponent=_t,react_production_min.StrictMode=xe,react_production_min.Suspense=ut,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mt,react_production_min.act=$t,react_production_min.cloneElement=function(Ht,Wt,Vt){if(Ht==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Ht+".");var Yt=xt({},Ht.props),Qt=Ht.key,ar=Ht.ref,Xt=Ht._owner;if(Wt!=null){if(Wt.ref!==void 0&&(ar=Wt.ref,Xt=jt.current),Wt.key!==void 0&&(Qt=""+Wt.key),Ht.type&&Ht.type.defaultProps)var tr=Ht.type.defaultProps;for(rr in Wt)Ct.call(Wt,rr)&&!Rt.hasOwnProperty(rr)&&(Yt[rr]=Wt[rr]===void 0&&tr!==void 0?tr[rr]:Wt[rr])}var rr=arguments.length-2;if(rr===1)Yt.children=Vt;else if(1<rr){tr=Array(rr);for(var ur=0;ur<rr;ur++)tr[ur]=arguments[ur+2];Yt.children=tr}return{$$typeof:ee,type:Ht.type,key:Qt,ref:ar,props:Yt,_owner:Xt}},react_production_min.createContext=function(Ht){return Ht={$$typeof:lt,_currentValue:Ht,_currentValue2:Ht,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Ht.Provider={$$typeof:it,_context:Ht},Ht.Consumer=Ht},react_production_min.createElement=Pt,react_production_min.createFactory=function(Ht){var Wt=Pt.bind(null,Ht);return Wt.type=Ht,Wt},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Ht){return{$$typeof:ct,render:Ht}},react_production_min.isValidElement=Ft,react_production_min.lazy=function(Ht){return{$$typeof:ht,_payload:{_status:-1,_result:Ht},_init:Nt}},react_production_min.memo=function(Ht,Wt){return{$$typeof:dt,type:Ht,compare:Wt===void 0?null:Wt}},react_production_min.startTransition=function(Ht){var Wt=Tt.transition;Tt.transition={};try{Ht()}finally{Tt.transition=Wt}},react_production_min.unstable_act=$t,react_production_min.useCallback=function(Ht,Wt){return Dt.current.useCallback(Ht,Wt)},react_production_min.useContext=function(Ht){return Dt.current.useContext(Ht)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Ht){return Dt.current.useDeferredValue(Ht)},react_production_min.useEffect=function(Ht,Wt){return Dt.current.useEffect(Ht,Wt)},react_production_min.useId=function(){return Dt.current.useId()},react_production_min.useImperativeHandle=function(Ht,Wt,Vt){return Dt.current.useImperativeHandle(Ht,Wt,Vt)},react_production_min.useInsertionEffect=function(Ht,Wt){return Dt.current.useInsertionEffect(Ht,Wt)},react_production_min.useLayoutEffect=function(Ht,Wt){return Dt.current.useLayoutEffect(Ht,Wt)},react_production_min.useMemo=function(Ht,Wt){return Dt.current.useMemo(Ht,Wt)},react_production_min.useReducer=function(Ht,Wt,Vt){return Dt.current.useReducer(Ht,Wt,Vt)},react_production_min.useRef=function(Ht){return Dt.current.useRef(Ht)},react_production_min.useState=function(Ht){return Dt.current.useState(Ht)},react_production_min.useSyncExternalStore=function(Ht,Wt,Vt){return Dt.current.useSyncExternalStore(Ht,Wt,Vt)},react_production_min.useTransition=function(){return Dt.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var ee=requireReact(),te=Symbol.for("react.element"),ne=Symbol.for("react.fragment"),xe=Object.prototype.hasOwnProperty,rt=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,it={key:!0,ref:!0,__self:!0,__source:!0};function lt(ct,ut,dt){var ht,ft={},pt=null,mt=null;dt!==void 0&&(pt=""+dt),ut.key!==void 0&&(pt=""+ut.key),ut.ref!==void 0&&(mt=ut.ref);for(ht in ut)xe.call(ut,ht)&&!it.hasOwnProperty(ht)&&(ft[ht]=ut[ht]);if(ct&&ct.defaultProps)for(ht in ut=ct.defaultProps,ut)ft[ht]===void 0&&(ft[ht]=ut[ht]);return{$$typeof:te,type:ct,key:pt,ref:mt,props:ft,_owner:rt.current}}return reactJsxRuntime_production_min.Fragment=ne,reactJsxRuntime_production_min.jsx=lt,reactJsxRuntime_production_min.jsxs=lt,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(ee){function te(Tt,Mt){var $t=Tt.length;Tt.push(Mt);e:for(;0<$t;){var Ht=$t-1>>>1,Wt=Tt[Ht];if(0<rt(Wt,Mt))Tt[Ht]=Mt,Tt[$t]=Wt,$t=Ht;else break e}}function ne(Tt){return Tt.length===0?null:Tt[0]}function xe(Tt){if(Tt.length===0)return null;var Mt=Tt[0],$t=Tt.pop();if($t!==Mt){Tt[0]=$t;e:for(var Ht=0,Wt=Tt.length,Vt=Wt>>>1;Ht<Vt;){var Yt=2*(Ht+1)-1,Qt=Tt[Yt],ar=Yt+1,Xt=Tt[ar];if(0>rt(Qt,$t))ar<Wt&&0>rt(Xt,Qt)?(Tt[Ht]=Xt,Tt[ar]=$t,Ht=ar):(Tt[Ht]=Qt,Tt[Yt]=$t,Ht=Yt);else if(ar<Wt&&0>rt(Xt,$t))Tt[Ht]=Xt,Tt[ar]=$t,Ht=ar;else break e}}return Mt}function rt(Tt,Mt){var $t=Tt.sortIndex-Mt.sortIndex;return $t!==0?$t:Tt.id-Mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;ee.unstable_now=function(){return it.now()}}else{var lt=Date,ct=lt.now();ee.unstable_now=function(){return lt.now()-ct}}var ut=[],dt=[],ht=1,ft=null,pt=3,mt=!1,xt=!1,yt=!1,vt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function wt(Tt){for(var Mt=ne(dt);Mt!==null;){if(Mt.callback===null)xe(dt);else if(Mt.startTime<=Tt)xe(dt),Mt.sortIndex=Mt.expirationTime,te(ut,Mt);else break;Mt=ne(dt)}}function St(Tt){if(yt=!1,wt(Tt),!xt)if(ne(ut)!==null)xt=!0,Nt(Ct);else{var Mt=ne(dt);Mt!==null&&Dt(St,Mt.startTime-Tt)}}function Ct(Tt,Mt){xt=!1,yt&&(yt=!1,Et(Pt),Pt=-1),mt=!0;var $t=pt;try{for(wt(Mt),ft=ne(ut);ft!==null&&(!(ft.expirationTime>Mt)||Tt&&!Lt());){var Ht=ft.callback;if(typeof Ht=="function"){ft.callback=null,pt=ft.priorityLevel;var Wt=Ht(ft.expirationTime<=Mt);Mt=ee.unstable_now(),typeof Wt=="function"?ft.callback=Wt:ft===ne(ut)&&xe(ut),wt(Mt)}else xe(ut);ft=ne(ut)}if(ft!==null)var Vt=!0;else{var Yt=ne(dt);Yt!==null&&Dt(St,Yt.startTime-Mt),Vt=!1}return Vt}finally{ft=null,pt=$t,mt=!1}}var jt=!1,Rt=null,Pt=-1,Ot=5,Ft=-1;function Lt(){return!(ee.unstable_now()-Ft<Ot)}function Bt(){if(Rt!==null){var Tt=ee.unstable_now();Ft=Tt;var Mt=!0;try{Mt=Rt(!0,Tt)}finally{Mt?Gt():(jt=!1,Rt=null)}}else jt=!1}var Gt;if(typeof _t=="function")Gt=function(){_t(Bt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,qt=It.port2;It.port1.onmessage=Bt,Gt=function(){qt.postMessage(null)}}else Gt=function(){vt(Bt,0)};function Nt(Tt){Rt=Tt,jt||(jt=!0,Gt())}function Dt(Tt,Mt){Pt=vt(function(){Tt(ee.unstable_now())},Mt)}ee.unstable_IdlePriority=5,ee.unstable_ImmediatePriority=1,ee.unstable_LowPriority=4,ee.unstable_NormalPriority=3,ee.unstable_Profiling=null,ee.unstable_UserBlockingPriority=2,ee.unstable_cancelCallback=function(Tt){Tt.callback=null},ee.unstable_continueExecution=function(){xt||mt||(xt=!0,Nt(Ct))},ee.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<Tt?Math.floor(1e3/Tt):5},ee.unstable_getCurrentPriorityLevel=function(){return pt},ee.unstable_getFirstCallbackNode=function(){return ne(ut)},ee.unstable_next=function(Tt){switch(pt){case 1:case 2:case 3:var Mt=3;break;default:Mt=pt}var $t=pt;pt=Mt;try{return Tt()}finally{pt=$t}},ee.unstable_pauseExecution=function(){},ee.unstable_requestPaint=function(){},ee.unstable_runWithPriority=function(Tt,Mt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var $t=pt;pt=Tt;try{return Mt()}finally{pt=$t}},ee.unstable_scheduleCallback=function(Tt,Mt,$t){var Ht=ee.unstable_now();switch(typeof $t=="object"&&$t!==null?($t=$t.delay,$t=typeof $t=="number"&&0<$t?Ht+$t:Ht):$t=Ht,Tt){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=$t+Wt,Tt={id:ht++,callback:Mt,priorityLevel:Tt,startTime:$t,expirationTime:Wt,sortIndex:-1},$t>Ht?(Tt.sortIndex=$t,te(dt,Tt),ne(ut)===null&&Tt===ne(dt)&&(yt?(Et(Pt),Pt=-1):yt=!0,Dt(St,$t-Ht))):(Tt.sortIndex=Wt,te(ut,Tt),xt||mt||(xt=!0,Nt(Ct))),Tt},ee.unstable_shouldYield=Lt,ee.unstable_wrapCallback=function(Tt){var Mt=pt;return function(){var $t=pt;pt=Mt;try{return Tt.apply(this,arguments)}finally{pt=$t}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var ee=requireReact(),te=requireScheduler();function ne(gt){for(var bt="https://reactjs.org/docs/error-decoder.html?invariant="+gt,kt=1;kt<arguments.length;kt++)bt+="&args[]="+encodeURIComponent(arguments[kt]);return"Minified React error #"+gt+"; visit "+bt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xe=new Set,rt={};function it(gt,bt){lt(gt,bt),lt(gt+"Capture",bt)}function lt(gt,bt){for(rt[gt]=bt,gt=0;gt<bt.length;gt++)xe.add(bt[gt])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ut=Object.prototype.hasOwnProperty,dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ht={},ft={};function pt(gt){return ut.call(ft,gt)?!0:ut.call(ht,gt)?!1:dt.test(gt)?ft[gt]=!0:(ht[gt]=!0,!1)}function mt(gt,bt,kt,At){if(kt!==null&&kt.type===0)return!1;switch(typeof bt){case"function":case"symbol":return!0;case"boolean":return At?!1:kt!==null?!kt.acceptsBooleans:(gt=gt.toLowerCase().slice(0,5),gt!=="data-"&&gt!=="aria-");default:return!1}}function xt(gt,bt,kt,At){if(bt===null||typeof bt>"u"||mt(gt,bt,kt,At))return!0;if(At)return!1;if(kt!==null)switch(kt.type){case 3:return!bt;case 4:return bt===!1;case 5:return isNaN(bt);case 6:return isNaN(bt)||1>bt}return!1}function yt(gt,bt,kt,At,zt,Ut,Kt){this.acceptsBooleans=bt===2||bt===3||bt===4,this.attributeName=At,this.attributeNamespace=zt,this.mustUseProperty=kt,this.propertyName=gt,this.type=bt,this.sanitizeURL=Ut,this.removeEmptyString=Kt}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(gt){vt[gt]=new yt(gt,0,!1,gt,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(gt){var bt=gt[0];vt[bt]=new yt(bt,1,!1,gt[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(gt){vt[gt]=new yt(gt,2,!1,gt.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(gt){vt[gt]=new yt(gt,2,!1,gt,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(gt){vt[gt]=new yt(gt,3,!1,gt.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(gt){vt[gt]=new yt(gt,3,!0,gt,null,!1,!1)}),["capture","download"].forEach(function(gt){vt[gt]=new yt(gt,4,!1,gt,null,!1,!1)}),["cols","rows","size","span"].forEach(function(gt){vt[gt]=new yt(gt,6,!1,gt,null,!1,!1)}),["rowSpan","start"].forEach(function(gt){vt[gt]=new yt(gt,5,!1,gt.toLowerCase(),null,!1,!1)});var Et=/[\-:]([a-z])/g;function _t(gt){return gt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(gt){var bt=gt.replace(Et,_t);vt[bt]=new yt(bt,1,!1,gt,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(gt){var bt=gt.replace(Et,_t);vt[bt]=new yt(bt,1,!1,gt,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(gt){var bt=gt.replace(Et,_t);vt[bt]=new yt(bt,1,!1,gt,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(gt){vt[gt]=new yt(gt,1,!1,gt.toLowerCase(),null,!1,!1)}),vt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(gt){vt[gt]=new yt(gt,1,!1,gt.toLowerCase(),null,!0,!0)});function wt(gt,bt,kt,At){var zt=vt.hasOwnProperty(bt)?vt[bt]:null;(zt!==null?zt.type!==0:At||!(2<bt.length)||bt[0]!=="o"&&bt[0]!=="O"||bt[1]!=="n"&&bt[1]!=="N")&&(xt(bt,kt,zt,At)&&(kt=null),At||zt===null?pt(bt)&&(kt===null?gt.removeAttribute(bt):gt.setAttribute(bt,""+kt)):zt.mustUseProperty?gt[zt.propertyName]=kt===null?zt.type===3?!1:"":kt:(bt=zt.attributeName,At=zt.attributeNamespace,kt===null?gt.removeAttribute(bt):(zt=zt.type,kt=zt===3||zt===4&&kt===!0?"":""+kt,At?gt.setAttributeNS(At,bt,kt):gt.setAttribute(bt,kt))))}var St=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ct=Symbol.for("react.element"),jt=Symbol.for("react.portal"),Rt=Symbol.for("react.fragment"),Pt=Symbol.for("react.strict_mode"),Ot=Symbol.for("react.profiler"),Ft=Symbol.for("react.provider"),Lt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),qt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Dt=Symbol.for("react.offscreen"),Tt=Symbol.iterator;function Mt(gt){return gt===null||typeof gt!="object"?null:(gt=Tt&&gt[Tt]||gt["@@iterator"],typeof gt=="function"?gt:null)}var $t=Object.assign,Ht;function Wt(gt){if(Ht===void 0)try{throw Error()}catch(kt){var bt=kt.stack.trim().match(/\n( *(at )?)/);Ht=bt&&bt[1]||""}return`
`+Ht+gt}var Vt=!1;function Yt(gt,bt){if(!gt||Vt)return"";Vt=!0;var kt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(bt)if(bt=function(){throw Error()},Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(mr){var At=mr}Reflect.construct(gt,[],bt)}else{try{bt.call()}catch(mr){At=mr}gt.call(bt.prototype)}else{try{throw Error()}catch(mr){At=mr}gt()}}catch(mr){if(mr&&At&&typeof mr.stack=="string"){for(var zt=mr.stack.split(`
`),Ut=At.stack.split(`
`),Kt=zt.length-1,er=Ut.length-1;1<=Kt&&0<=er&&zt[Kt]!==Ut[er];)er--;for(;1<=Kt&&0<=er;Kt--,er--)if(zt[Kt]!==Ut[er]){if(Kt!==1||er!==1)do if(Kt--,er--,0>er||zt[Kt]!==Ut[er]){var ir=`
`+zt[Kt].replace(" at new "," at ");return gt.displayName&&ir.includes("<anonymous>")&&(ir=ir.replace("<anonymous>",gt.displayName)),ir}while(1<=Kt&&0<=er);break}}}finally{Vt=!1,Error.prepareStackTrace=kt}return(gt=gt?gt.displayName||gt.name:"")?Wt(gt):""}function Qt(gt){switch(gt.tag){case 5:return Wt(gt.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return gt=Yt(gt.type,!1),gt;case 11:return gt=Yt(gt.type.render,!1),gt;case 1:return gt=Yt(gt.type,!0),gt;default:return""}}function ar(gt){if(gt==null)return null;if(typeof gt=="function")return gt.displayName||gt.name||null;if(typeof gt=="string")return gt;switch(gt){case Rt:return"Fragment";case jt:return"Portal";case Ot:return"Profiler";case Pt:return"StrictMode";case Gt:return"Suspense";case It:return"SuspenseList"}if(typeof gt=="object")switch(gt.$$typeof){case Lt:return(gt.displayName||"Context")+".Consumer";case Ft:return(gt._context.displayName||"Context")+".Provider";case Bt:var bt=gt.render;return gt=gt.displayName,gt||(gt=bt.displayName||bt.name||"",gt=gt!==""?"ForwardRef("+gt+")":"ForwardRef"),gt;case qt:return bt=gt.displayName||null,bt!==null?bt:ar(gt.type)||"Memo";case Nt:bt=gt._payload,gt=gt._init;try{return ar(gt(bt))}catch{}}return null}function Xt(gt){var bt=gt.type;switch(gt.tag){case 24:return"Cache";case 9:return(bt.displayName||"Context")+".Consumer";case 10:return(bt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return gt=bt.render,gt=gt.displayName||gt.name||"",bt.displayName||(gt!==""?"ForwardRef("+gt+")":"ForwardRef");case 7:return"Fragment";case 5:return bt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ar(bt);case 8:return bt===Pt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof bt=="function")return bt.displayName||bt.name||null;if(typeof bt=="string")return bt}return null}function tr(gt){switch(typeof gt){case"boolean":case"number":case"string":case"undefined":return gt;case"object":return gt;default:return""}}function rr(gt){var bt=gt.type;return(gt=gt.nodeName)&&gt.toLowerCase()==="input"&&(bt==="checkbox"||bt==="radio")}function ur(gt){var bt=rr(gt)?"checked":"value",kt=Object.getOwnPropertyDescriptor(gt.constructor.prototype,bt),At=""+gt[bt];if(!gt.hasOwnProperty(bt)&&typeof kt<"u"&&typeof kt.get=="function"&&typeof kt.set=="function"){var zt=kt.get,Ut=kt.set;return Object.defineProperty(gt,bt,{configurable:!0,get:function(){return zt.call(this)},set:function(Kt){At=""+Kt,Ut.call(this,Kt)}}),Object.defineProperty(gt,bt,{enumerable:kt.enumerable}),{getValue:function(){return At},setValue:function(Kt){At=""+Kt},stopTracking:function(){gt._valueTracker=null,delete gt[bt]}}}}function Jt(gt){gt._valueTracker||(gt._valueTracker=ur(gt))}function Zt(gt){if(!gt)return!1;var bt=gt._valueTracker;if(!bt)return!0;var kt=bt.getValue(),At="";return gt&&(At=rr(gt)?gt.checked?"true":"false":gt.value),gt=At,gt!==kt?(bt.setValue(gt),!0):!1}function or(gt){if(gt=gt||(typeof document<"u"?document:void 0),typeof gt>"u")return null;try{return gt.activeElement||gt.body}catch{return gt.body}}function dr(gt,bt){var kt=bt.checked;return $t({},bt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:kt??gt._wrapperState.initialChecked})}function Ar(gt,bt){var kt=bt.defaultValue==null?"":bt.defaultValue,At=bt.checked!=null?bt.checked:bt.defaultChecked;kt=tr(bt.value!=null?bt.value:kt),gt._wrapperState={initialChecked:At,initialValue:kt,controlled:bt.type==="checkbox"||bt.type==="radio"?bt.checked!=null:bt.value!=null}}function Nr(gt,bt){bt=bt.checked,bt!=null&&wt(gt,"checked",bt,!1)}function Mr(gt,bt){Nr(gt,bt);var kt=tr(bt.value),At=bt.type;if(kt!=null)At==="number"?(kt===0&&gt.value===""||gt.value!=kt)&&(gt.value=""+kt):gt.value!==""+kt&&(gt.value=""+kt);else if(At==="submit"||At==="reset"){gt.removeAttribute("value");return}bt.hasOwnProperty("value")?Yr(gt,bt.type,kt):bt.hasOwnProperty("defaultValue")&&Yr(gt,bt.type,tr(bt.defaultValue)),bt.checked==null&&bt.defaultChecked!=null&&(gt.defaultChecked=!!bt.defaultChecked)}function Gr(gt,bt,kt){if(bt.hasOwnProperty("value")||bt.hasOwnProperty("defaultValue")){var At=bt.type;if(!(At!=="submit"&&At!=="reset"||bt.value!==void 0&&bt.value!==null))return;bt=""+gt._wrapperState.initialValue,kt||bt===gt.value||(gt.value=bt),gt.defaultValue=bt}kt=gt.name,kt!==""&&(gt.name=""),gt.defaultChecked=!!gt._wrapperState.initialChecked,kt!==""&&(gt.name=kt)}function Yr(gt,bt,kt){(bt!=="number"||or(gt.ownerDocument)!==gt)&&(kt==null?gt.defaultValue=""+gt._wrapperState.initialValue:gt.defaultValue!==""+kt&&(gt.defaultValue=""+kt))}var en=Array.isArray;function Jr(gt,bt,kt,At){if(gt=gt.options,bt){bt={};for(var zt=0;zt<kt.length;zt++)bt["$"+kt[zt]]=!0;for(kt=0;kt<gt.length;kt++)zt=bt.hasOwnProperty("$"+gt[kt].value),gt[kt].selected!==zt&&(gt[kt].selected=zt),zt&&At&&(gt[kt].defaultSelected=!0)}else{for(kt=""+tr(kt),bt=null,zt=0;zt<gt.length;zt++){if(gt[zt].value===kt){gt[zt].selected=!0,At&&(gt[zt].defaultSelected=!0);return}bt!==null||gt[zt].disabled||(bt=gt[zt])}bt!==null&&(bt.selected=!0)}}function on(gt,bt){if(bt.dangerouslySetInnerHTML!=null)throw Error(ne(91));return $t({},bt,{value:void 0,defaultValue:void 0,children:""+gt._wrapperState.initialValue})}function sn(gt,bt){var kt=bt.value;if(kt==null){if(kt=bt.children,bt=bt.defaultValue,kt!=null){if(bt!=null)throw Error(ne(92));if(en(kt)){if(1<kt.length)throw Error(ne(93));kt=kt[0]}bt=kt}bt==null&&(bt=""),kt=bt}gt._wrapperState={initialValue:tr(kt)}}function an(gt,bt){var kt=tr(bt.value),At=tr(bt.defaultValue);kt!=null&&(kt=""+kt,kt!==gt.value&&(gt.value=kt),bt.defaultValue==null&&gt.defaultValue!==kt&&(gt.defaultValue=kt)),At!=null&&(gt.defaultValue=""+At)}function dn(gt){var bt=gt.textContent;bt===gt._wrapperState.initialValue&&bt!==""&&bt!==null&&(gt.value=bt)}function pr(gt){switch(gt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Er(gt,bt){return gt==null||gt==="http://www.w3.org/1999/xhtml"?pr(bt):gt==="http://www.w3.org/2000/svg"&&bt==="foreignObject"?"http://www.w3.org/1999/xhtml":gt}var sr,vr=(function(gt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(bt,kt,At,zt){MSApp.execUnsafeLocalFunction(function(){return gt(bt,kt,At,zt)})}:gt})(function(gt,bt){if(gt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in gt)gt.innerHTML=bt;else{for(sr=sr||document.createElement("div"),sr.innerHTML="<svg>"+bt.valueOf().toString()+"</svg>",bt=sr.firstChild;gt.firstChild;)gt.removeChild(gt.firstChild);for(;bt.firstChild;)gt.appendChild(bt.firstChild)}});function Pr(gt,bt){if(bt){var kt=gt.firstChild;if(kt&&kt===gt.lastChild&&kt.nodeType===3){kt.nodeValue=bt;return}}gt.textContent=bt}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(gt){Ln.forEach(function(bt){bt=bt+gt.charAt(0).toUpperCase()+gt.substring(1),Kr[bt]=Kr[gt]})});function kn(gt,bt,kt){return bt==null||typeof bt=="boolean"||bt===""?"":kt||typeof bt!="number"||bt===0||Kr.hasOwnProperty(gt)&&Kr[gt]?(""+bt).trim():bt+"px"}function qn(gt,bt){gt=gt.style;for(var kt in bt)if(bt.hasOwnProperty(kt)){var At=kt.indexOf("--")===0,zt=kn(kt,bt[kt],At);kt==="float"&&(kt="cssFloat"),At?gt.setProperty(kt,zt):gt[kt]=zt}}var vn=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fn(gt,bt){if(bt){if(vn[gt]&&(bt.children!=null||bt.dangerouslySetInnerHTML!=null))throw Error(ne(137,gt));if(bt.dangerouslySetInnerHTML!=null){if(bt.children!=null)throw Error(ne(60));if(typeof bt.dangerouslySetInnerHTML!="object"||!("__html"in bt.dangerouslySetInnerHTML))throw Error(ne(61))}if(bt.style!=null&&typeof bt.style!="object")throw Error(ne(62))}}function $n(gt,bt){if(gt.indexOf("-")===-1)return typeof bt.is=="string";switch(gt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bn=null;function ni(gt){return gt=gt.target||gt.srcElement||window,gt.correspondingUseElement&&(gt=gt.correspondingUseElement),gt.nodeType===3?gt.parentNode:gt}var mi=null,Wn=null,ii=null;function gi(gt){if(gt=bo(gt)){if(typeof mi!="function")throw Error(ne(280));var bt=gt.stateNode;bt&&(bt=Jo(bt),mi(gt.stateNode,gt.type,bt))}}function Ki(gt){Wn?ii?ii.push(gt):ii=[gt]:Wn=gt}function Li(){if(Wn){var gt=Wn,bt=ii;if(ii=Wn=null,gi(gt),bt)for(gt=0;gt<bt.length;gt++)gi(bt[gt])}}function En(gt,bt){return gt(bt)}function yr(){}var $r=!1;function tn(gt,bt,kt){if($r)return gt(bt,kt);$r=!0;try{return En(gt,bt,kt)}finally{$r=!1,(Wn!==null||ii!==null)&&(yr(),Li())}}function yn(gt,bt){var kt=gt.stateNode;if(kt===null)return null;var At=Jo(kt);if(At===null)return null;kt=At[bt];e:switch(bt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(At=!At.disabled)||(gt=gt.type,At=!(gt==="button"||gt==="input"||gt==="select"||gt==="textarea")),gt=!At;break e;default:gt=!1}if(gt)return null;if(kt&&typeof kt!="function")throw Error(ne(231,bt,typeof kt));return kt}var Sn=!1;if(ct)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Sn=!1}function as(gt,bt,kt,At,zt,Ut,Kt,er,ir){var mr=Array.prototype.slice.call(arguments,3);try{bt.apply(kt,mr)}catch(Sr){this.onError(Sr)}}var _n=!1,Dn=null,si=!1,bi=null,Ei={onError:function(gt){_n=!0,Dn=gt}};function xi(gt,bt,kt,At,zt,Ut,Kt,er,ir){_n=!1,Dn=null,as.apply(Ei,arguments)}function Yn(gt,bt,kt,At,zt,Ut,Kt,er,ir){if(xi.apply(this,arguments),_n){if(_n){var mr=Dn;_n=!1,Dn=null}else throw Error(ne(198));si||(si=!0,bi=mr)}}function ai(gt){var bt=gt,kt=gt;if(gt.alternate)for(;bt.return;)bt=bt.return;else{gt=bt;do bt=gt,(bt.flags&4098)!==0&&(kt=bt.return),gt=bt.return;while(gt)}return bt.tag===3?kt:null}function Yi(gt){if(gt.tag===13){var bt=gt.memoizedState;if(bt===null&&(gt=gt.alternate,gt!==null&&(bt=gt.memoizedState)),bt!==null)return bt.dehydrated}return null}function Xi(gt){if(ai(gt)!==gt)throw Error(ne(188))}function gs(gt){var bt=gt.alternate;if(!bt){if(bt=ai(gt),bt===null)throw Error(ne(188));return bt!==gt?null:gt}for(var kt=gt,At=bt;;){var zt=kt.return;if(zt===null)break;var Ut=zt.alternate;if(Ut===null){if(At=zt.return,At!==null){kt=At;continue}break}if(zt.child===Ut.child){for(Ut=zt.child;Ut;){if(Ut===kt)return Xi(zt),gt;if(Ut===At)return Xi(zt),bt;Ut=Ut.sibling}throw Error(ne(188))}if(kt.return!==At.return)kt=zt,At=Ut;else{for(var Kt=!1,er=zt.child;er;){if(er===kt){Kt=!0,kt=zt,At=Ut;break}if(er===At){Kt=!0,At=zt,kt=Ut;break}er=er.sibling}if(!Kt){for(er=Ut.child;er;){if(er===kt){Kt=!0,kt=Ut,At=zt;break}if(er===At){Kt=!0,At=Ut,kt=zt;break}er=er.sibling}if(!Kt)throw Error(ne(189))}}if(kt.alternate!==At)throw Error(ne(190))}if(kt.tag!==3)throw Error(ne(188));return kt.stateNode.current===kt?gt:bt}function Ms(gt){return gt=gs(gt),gt!==null?qr(gt):null}function qr(gt){if(gt.tag===5||gt.tag===6)return gt;for(gt=gt.child;gt!==null;){var bt=qr(gt);if(bt!==null)return bt;gt=gt.sibling}return null}var nr=te.unstable_scheduleCallback,Cr=te.unstable_cancelCallback,Or=te.unstable_shouldYield,xn=te.unstable_requestPaint,rn=te.unstable_now,Cn=te.unstable_getCurrentPriorityLevel,Mn=te.unstable_ImmediatePriority,wn=te.unstable_UserBlockingPriority,Fn=te.unstable_NormalPriority,ei=te.unstable_LowPriority,Rn=te.unstable_IdlePriority,oi=null,Xn=null;function Pi(gt){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(oi,gt,void 0,(gt.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:Is,Os=Math.log,Za=Math.LN2;function Is(gt){return gt>>>=0,gt===0?32:31-(Os(gt)/Za|0)|0}var xs=64,Ls=4194304;function Zi(gt){switch(gt&-gt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return gt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return gt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return gt}}function na(gt,bt){var kt=gt.pendingLanes;if(kt===0)return 0;var At=0,zt=gt.suspendedLanes,Ut=gt.pingedLanes,Kt=kt&268435455;if(Kt!==0){var er=Kt&~zt;er!==0?At=Zi(er):(Ut&=Kt,Ut!==0&&(At=Zi(Ut)))}else Kt=kt&~zt,Kt!==0?At=Zi(Kt):Ut!==0&&(At=Zi(Ut));if(At===0)return 0;if(bt!==0&&bt!==At&&(bt&zt)===0&&(zt=At&-At,Ut=bt&-bt,zt>=Ut||zt===16&&(Ut&4194240)!==0))return bt;if((At&4)!==0&&(At|=kt&16),bt=gt.entangledLanes,bt!==0)for(gt=gt.entanglements,bt&=At;0<bt;)kt=31-li(bt),zt=1<<kt,At|=gt[kt],bt&=~zt;return At}function _a(gt,bt){switch(gt){case 1:case 2:case 4:return bt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return bt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(gt,bt){for(var kt=gt.suspendedLanes,At=gt.pingedLanes,zt=gt.expirationTimes,Ut=gt.pendingLanes;0<Ut;){var Kt=31-li(Ut),er=1<<Kt,ir=zt[Kt];ir===-1?((er&kt)===0||(er&At)!==0)&&(zt[Kt]=_a(er,bt)):ir<=bt&&(gt.expiredLanes|=er),Ut&=~er}}function ia(gt){return gt=gt.pendingLanes&-1073741825,gt!==0?gt:gt&1073741824?1073741824:0}function Ji(){var gt=xs;return xs<<=1,(xs&4194240)===0&&(xs=64),gt}function ys(gt){for(var bt=[],kt=0;31>kt;kt++)bt.push(gt);return bt}function vs(gt,bt,kt){gt.pendingLanes|=bt,bt!==536870912&&(gt.suspendedLanes=0,gt.pingedLanes=0),gt=gt.eventTimes,bt=31-li(bt),gt[bt]=kt}function Ds(gt,bt){var kt=gt.pendingLanes&~bt;gt.pendingLanes=bt,gt.suspendedLanes=0,gt.pingedLanes=0,gt.expiredLanes&=bt,gt.mutableReadLanes&=bt,gt.entangledLanes&=bt,bt=gt.entanglements;var At=gt.eventTimes;for(gt=gt.expirationTimes;0<kt;){var zt=31-li(kt),Ut=1<<zt;bt[zt]=0,At[zt]=-1,gt[zt]=-1,kt&=~Ut}}function Si(gt,bt){var kt=gt.entangledLanes|=bt;for(gt=gt.entanglements;kt;){var At=31-li(kt),zt=1<<At;zt&bt|gt[At]&bt&&(gt[At]|=bt),kt&=~zt}}var hn=0;function wa(gt){return gt&=-gt,1<gt?4<gt?(gt&268435455)!==0?16:536870912:4:1}var Oo,Ja,Qa,Sa,os,eo=!1,Ca=[],ls=null,Qi=null,Ni=null,sa=new Map,Fs=new Map,Di=[],Ll="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $i(gt,bt){switch(gt){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":sa.delete(bt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(bt.pointerId)}}function bs(gt,bt,kt,At,zt,Ut){return gt===null||gt.nativeEvent!==Ut?(gt={blockedOn:bt,domEventName:kt,eventSystemFlags:At,nativeEvent:Ut,targetContainers:[zt]},bt!==null&&(bt=bo(bt),bt!==null&&Ja(bt)),gt):(gt.eventSystemFlags|=At,bt=gt.targetContainers,zt!==null&&bt.indexOf(zt)===-1&&bt.push(zt),gt)}function to(gt,bt,kt,At,zt){switch(bt){case"focusin":return ls=bs(ls,gt,bt,kt,At,zt),!0;case"dragenter":return Qi=bs(Qi,gt,bt,kt,At,zt),!0;case"mouseover":return Ni=bs(Ni,gt,bt,kt,At,zt),!0;case"pointerover":var Ut=zt.pointerId;return sa.set(Ut,bs(sa.get(Ut)||null,gt,bt,kt,At,zt)),!0;case"gotpointercapture":return Ut=zt.pointerId,Fs.set(Ut,bs(Fs.get(Ut)||null,gt,bt,kt,At,zt)),!0}return!1}function Vr(gt){var bt=ua(gt.target);if(bt!==null){var kt=ai(bt);if(kt!==null){if(bt=kt.tag,bt===13){if(bt=Yi(kt),bt!==null){gt.blockedOn=bt,os(gt.priority,function(){Qa(kt)});return}}else if(bt===3&&kt.stateNode.current.memoizedState.isDehydrated){gt.blockedOn=kt.tag===3?kt.stateNode.containerInfo:null;return}}}gt.blockedOn=null}function nn(gt){if(gt.blockedOn!==null)return!1;for(var bt=gt.targetContainers;0<bt.length;){var kt=aa(gt.domEventName,gt.eventSystemFlags,bt[0],gt.nativeEvent);if(kt===null){kt=gt.nativeEvent;var At=new kt.constructor(kt.type,kt);bn=At,kt.target.dispatchEvent(At),bn=null}else return bt=bo(kt),bt!==null&&Ja(bt),gt.blockedOn=kt,!1;bt.shift()}return!0}function Es(gt,bt,kt){nn(gt)&&kt.delete(bt)}function ja(){eo=!1,ls!==null&&nn(ls)&&(ls=null),Qi!==null&&nn(Qi)&&(Qi=null),Ni!==null&&nn(Ni)&&(Ni=null),sa.forEach(Es),Fs.forEach(Es)}function cs(gt,bt){gt.blockedOn===bt&&(gt.blockedOn=null,eo||(eo=!0,te.unstable_scheduleCallback(te.unstable_NormalPriority,ja)))}function _s(gt){function bt(zt){return cs(zt,gt)}if(0<Ca.length){cs(Ca[0],gt);for(var kt=1;kt<Ca.length;kt++){var At=Ca[kt];At.blockedOn===gt&&(At.blockedOn=null)}}for(ls!==null&&cs(ls,gt),Qi!==null&&cs(Qi,gt),Ni!==null&&cs(Ni,gt),sa.forEach(bt),Fs.forEach(bt),kt=0;kt<Di.length;kt++)At=Di[kt],At.blockedOn===gt&&(At.blockedOn=null);for(;0<Di.length&&(kt=Di[0],kt.blockedOn===null);)Vr(kt),kt.blockedOn===null&&Di.shift()}var Fi=St.ReactCurrentBatchConfig,Tn=!0;function Io(gt,bt,kt,At){var zt=hn,Ut=Fi.transition;Fi.transition=null;try{hn=1,ro(gt,bt,kt,At)}finally{hn=zt,Fi.transition=Ut}}function Dl(gt,bt,kt,At){var zt=hn,Ut=Fi.transition;Fi.transition=null;try{hn=4,ro(gt,bt,kt,At)}finally{hn=zt,Fi.transition=Ut}}function ro(gt,bt,kt,At){if(Tn){var zt=aa(gt,bt,kt,At);if(zt===null)rc(gt,bt,At,ws,kt),$i(gt,At);else if(to(zt,gt,bt,kt,At))At.stopPropagation();else if($i(gt,At),bt&4&&-1<Ll.indexOf(gt)){for(;zt!==null;){var Ut=bo(zt);if(Ut!==null&&Oo(Ut),Ut=aa(gt,bt,kt,At),Ut===null&&rc(gt,bt,At,ws,kt),Ut===zt)break;zt=Ut}zt!==null&&At.stopPropagation()}else rc(gt,bt,At,null,kt)}}var ws=null;function aa(gt,bt,kt,At){if(ws=null,gt=ni(At),gt=ua(gt),gt!==null)if(bt=ai(gt),bt===null)gt=null;else if(kt=bt.tag,kt===13){if(gt=Yi(bt),gt!==null)return gt;gt=null}else if(kt===3){if(bt.stateNode.current.memoizedState.isDehydrated)return bt.tag===3?bt.stateNode.containerInfo:null;gt=null}else bt!==gt&&(gt=null);return ws=gt,null}function Ra(gt){switch(gt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cn()){case Mn:return 1;case wn:return 4;case Fn:case ei:return 16;case Rn:return 536870912;default:return 16}default:return 16}}var Bi=null,no=null,Ci=null;function io(){if(Ci)return Ci;var gt,bt=no,kt=bt.length,At,zt="value"in Bi?Bi.value:Bi.textContent,Ut=zt.length;for(gt=0;gt<kt&&bt[gt]===zt[gt];gt++);var Kt=kt-gt;for(At=1;At<=Kt&&bt[kt-At]===zt[Ut-At];At++);return Ci=zt.slice(gt,1<At?1-At:void 0)}function oa(gt){var bt=gt.keyCode;return"charCode"in gt?(gt=gt.charCode,gt===0&&bt===13&&(gt=13)):gt=bt,gt===10&&(gt=13),32<=gt||gt===13?gt:0}function la(){return!0}function so(){return!1}function ci(gt){function bt(kt,At,zt,Ut,Kt){this._reactName=kt,this._targetInst=zt,this.type=At,this.nativeEvent=Ut,this.target=Kt,this.currentTarget=null;for(var er in gt)gt.hasOwnProperty(er)&&(kt=gt[er],this[er]=kt?kt(Ut):Ut[er]);return this.isDefaultPrevented=(Ut.defaultPrevented!=null?Ut.defaultPrevented:Ut.returnValue===!1)?la:so,this.isPropagationStopped=so,this}return $t(bt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var kt=this.nativeEvent;kt&&(kt.preventDefault?kt.preventDefault():typeof kt.returnValue!="unknown"&&(kt.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var kt=this.nativeEvent;kt&&(kt.stopPropagation?kt.stopPropagation():typeof kt.cancelBubble!="unknown"&&(kt.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),bt}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(gt){return gt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=ci(Ss),us=$t({},Ss,{view:0,detail:0}),zi=ci(us),ao,oo,Bs,ca=$t({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:un,button:0,buttons:0,relatedTarget:function(gt){return gt.relatedTarget===void 0?gt.fromElement===gt.srcElement?gt.toElement:gt.fromElement:gt.relatedTarget},movementX:function(gt){return"movementX"in gt?gt.movementX:(gt!==Bs&&(Bs&&gt.type==="mousemove"?(ao=gt.screenX-Bs.screenX,oo=gt.screenY-Bs.screenY):oo=ao=0,Bs=gt),ao)},movementY:function(gt){return"movementY"in gt?gt.movementY:oo}}),Lo=ci(ca),Fl=$t({},ca,{dataTransfer:0}),Bl=ci(Fl),Do=$t({},us,{relatedTarget:0}),lo=ci(Do),zl=$t({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),ql=ci(zl),cr=$t({},Ss,{clipboardData:function(gt){return"clipboardData"in gt?gt.clipboardData:window.clipboardData}}),gr=ci(cr),_r=$t({},Ss,{data:0}),xr=ci(_r),Tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fr(gt){var bt=this.nativeEvent;return bt.getModifierState?bt.getModifierState(gt):(gt=Dr[gt])?!!bt[gt]:!1}function un(){return Fr}var ds=$t({},us,{key:function(gt){if(gt.key){var bt=Tr[gt.key]||gt.key;if(bt!=="Unidentified")return bt}return gt.type==="keypress"?(gt=oa(gt),gt===13?"Enter":String.fromCharCode(gt)):gt.type==="keydown"||gt.type==="keyup"?Ir[gt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:un,charCode:function(gt){return gt.type==="keypress"?oa(gt):0},keyCode:function(gt){return gt.type==="keydown"||gt.type==="keyup"?gt.keyCode:0},which:function(gt){return gt.type==="keypress"?oa(gt):gt.type==="keydown"||gt.type==="keyup"?gt.keyCode:0}}),Bn=ci(ds),zs=$t({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=ci(zs),Hl=$t({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:un}),Fo=ci(Hl),Bo=$t({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),zo=ci(Bo),qo=$t({},ca,{deltaX:function(gt){return"deltaX"in gt?gt.deltaX:"wheelDeltaX"in gt?-gt.wheelDeltaX:0},deltaY:function(gt){return"deltaY"in gt?gt.deltaY:"wheelDeltaY"in gt?-gt.wheelDeltaY:"wheelDelta"in gt?-gt.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=ci(qo),Ul=[9,13,27,32],Pa=ct&&"CompositionEvent"in window,qs=null;ct&&"documentMode"in document&&(qs=document.documentMode);var Wl=ct&&"TextEvent"in window&&!qs,Ho=ct&&(!Pa||qs&&8<qs&&11>=qs),Wr=" ",Hn=!1;function co(gt,bt){switch(gt){case"keyup":return Ul.indexOf(bt.keyCode)!==-1;case"keydown":return bt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(gt){return gt=gt.detail,typeof gt=="object"&&"data"in gt?gt.data:null}var Cs=!1;function Vo(gt,bt){switch(gt){case"compositionend":return uo(bt);case"keypress":return bt.which!==32?null:(Hn=!0,Wr);case"textInput":return gt=bt.data,gt===Wr&&Hn?null:gt;default:return null}}function Ch(gt,bt){if(Cs)return gt==="compositionend"||!Pa&&co(gt,bt)?(gt=io(),Ci=no=Bi=null,Cs=!1,gt):null;switch(gt){case"paste":return null;case"keypress":if(!(bt.ctrlKey||bt.altKey||bt.metaKey)||bt.ctrlKey&&bt.altKey){if(bt.char&&1<bt.char.length)return bt.char;if(bt.which)return String.fromCharCode(bt.which)}return null;case"compositionend":return Ho&&bt.locale!=="ko"?null:bt.data;default:return null}}var jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(gt){var bt=gt&&gt.nodeName&&gt.nodeName.toLowerCase();return bt==="input"?!!jh[gt.type]:bt==="textarea"}function vu(gt,bt,kt,At){Ki(At),bt=Yo(bt,"onChange"),0<bt.length&&(kt=new Ta("onChange","change",null,kt,At),gt.push({event:kt,listeners:bt}))}var ho=null,fo=null;function kh(gt){Lu(gt,0)}function Uo(gt){var bt=Ia(gt);if(Zt(bt))return gt}function Rh(gt,bt){if(gt==="change")return bt}var bu=!1;if(ct){var Gl;if(ct){var Kl="oninput"in document;if(!Kl){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),Kl=typeof Eu.oninput=="function"}Gl=Kl}else Gl=!1;bu=Gl&&(!document.documentMode||9<document.documentMode)}function _u(){ho&&(ho.detachEvent("onpropertychange",wu),fo=ho=null)}function wu(gt){if(gt.propertyName==="value"&&Uo(fo)){var bt=[];vu(bt,fo,gt,ni(gt)),tn(kh,bt)}}function Th(gt,bt,kt){gt==="focusin"?(_u(),ho=bt,fo=kt,ho.attachEvent("onpropertychange",wu)):gt==="focusout"&&_u()}function Ah(gt){if(gt==="selectionchange"||gt==="keyup"||gt==="keydown")return Uo(fo)}function Ph(gt,bt){if(gt==="click")return Uo(bt)}function Nh(gt,bt){if(gt==="input"||gt==="change")return Uo(bt)}function $h(gt,bt){return gt===bt&&(gt!==0||1/gt===1/bt)||gt!==gt&&bt!==bt}var es=typeof Object.is=="function"?Object.is:$h;function po(gt,bt){if(es(gt,bt))return!0;if(typeof gt!="object"||gt===null||typeof bt!="object"||bt===null)return!1;var kt=Object.keys(gt),At=Object.keys(bt);if(kt.length!==At.length)return!1;for(At=0;At<kt.length;At++){var zt=kt[At];if(!ut.call(bt,zt)||!es(gt[zt],bt[zt]))return!1}return!0}function Su(gt){for(;gt&&gt.firstChild;)gt=gt.firstChild;return gt}function Cu(gt,bt){var kt=Su(gt);gt=0;for(var At;kt;){if(kt.nodeType===3){if(At=gt+kt.textContent.length,gt<=bt&&At>=bt)return{node:kt,offset:bt-gt};gt=At}e:{for(;kt;){if(kt.nextSibling){kt=kt.nextSibling;break e}kt=kt.parentNode}kt=void 0}kt=Su(kt)}}function ju(gt,bt){return gt&&bt?gt===bt?!0:gt&&gt.nodeType===3?!1:bt&&bt.nodeType===3?ju(gt,bt.parentNode):"contains"in gt?gt.contains(bt):gt.compareDocumentPosition?!!(gt.compareDocumentPosition(bt)&16):!1:!1}function ku(){for(var gt=window,bt=or();bt instanceof gt.HTMLIFrameElement;){try{var kt=typeof bt.contentWindow.location.href=="string"}catch{kt=!1}if(kt)gt=bt.contentWindow;else break;bt=or(gt.document)}return bt}function Yl(gt){var bt=gt&&gt.nodeName&&gt.nodeName.toLowerCase();return bt&&(bt==="input"&&(gt.type==="text"||gt.type==="search"||gt.type==="tel"||gt.type==="url"||gt.type==="password")||bt==="textarea"||gt.contentEditable==="true")}function Mh(gt){var bt=ku(),kt=gt.focusedElem,At=gt.selectionRange;if(bt!==kt&&kt&&kt.ownerDocument&&ju(kt.ownerDocument.documentElement,kt)){if(At!==null&&Yl(kt)){if(bt=At.start,gt=At.end,gt===void 0&&(gt=bt),"selectionStart"in kt)kt.selectionStart=bt,kt.selectionEnd=Math.min(gt,kt.value.length);else if(gt=(bt=kt.ownerDocument||document)&&bt.defaultView||window,gt.getSelection){gt=gt.getSelection();var zt=kt.textContent.length,Ut=Math.min(At.start,zt);At=At.end===void 0?Ut:Math.min(At.end,zt),!gt.extend&&Ut>At&&(zt=At,At=Ut,Ut=zt),zt=Cu(kt,Ut);var Kt=Cu(kt,At);zt&&Kt&&(gt.rangeCount!==1||gt.anchorNode!==zt.node||gt.anchorOffset!==zt.offset||gt.focusNode!==Kt.node||gt.focusOffset!==Kt.offset)&&(bt=bt.createRange(),bt.setStart(zt.node,zt.offset),gt.removeAllRanges(),Ut>At?(gt.addRange(bt),gt.extend(Kt.node,Kt.offset)):(bt.setEnd(Kt.node,Kt.offset),gt.addRange(bt)))}}for(bt=[],gt=kt;gt=gt.parentNode;)gt.nodeType===1&&bt.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof kt.focus=="function"&&kt.focus(),kt=0;kt<bt.length;kt++)gt=bt[kt],gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}var Oh=ct&&"documentMode"in document&&11>=document.documentMode,Na=null,Xl=null,mo=null,Zl=!1;function Ru(gt,bt,kt){var At=kt.window===kt?kt.document:kt.nodeType===9?kt:kt.ownerDocument;Zl||Na==null||Na!==or(At)||(At=Na,"selectionStart"in At&&Yl(At)?At={start:At.selectionStart,end:At.selectionEnd}:(At=(At.ownerDocument&&At.ownerDocument.defaultView||window).getSelection(),At={anchorNode:At.anchorNode,anchorOffset:At.anchorOffset,focusNode:At.focusNode,focusOffset:At.focusOffset}),mo&&po(mo,At)||(mo=At,At=Yo(Xl,"onSelect"),0<At.length&&(bt=new Ta("onSelect","select",null,bt,kt),gt.push({event:bt,listeners:At}),bt.target=Na)))}function Wo(gt,bt){var kt={};return kt[gt.toLowerCase()]=bt.toLowerCase(),kt["Webkit"+gt]="webkit"+bt,kt["Moz"+gt]="moz"+bt,kt}var $a={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},Jl={},Tu={};ct&&(Tu=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Go(gt){if(Jl[gt])return Jl[gt];if(!$a[gt])return gt;var bt=$a[gt],kt;for(kt in bt)if(bt.hasOwnProperty(kt)&&kt in Tu)return Jl[gt]=bt[kt];return gt}var Au=Go("animationend"),Pu=Go("animationiteration"),Nu=Go("animationstart"),$u=Go("transitionend"),Mu=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(gt,bt){Mu.set(gt,bt),it(bt,[gt])}for(var Ql=0;Ql<Ou.length;Ql++){var ec=Ou[Ql],Ih=ec.toLowerCase(),Lh=ec[0].toUpperCase()+ec.slice(1);Hs(Ih,"on"+Lh)}Hs(Au,"onAnimationEnd"),Hs(Pu,"onAnimationIteration"),Hs(Nu,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs($u,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function Iu(gt,bt,kt){var At=gt.type||"unknown-event";gt.currentTarget=kt,Yn(At,bt,void 0,gt),gt.currentTarget=null}function Lu(gt,bt){bt=(bt&4)!==0;for(var kt=0;kt<gt.length;kt++){var At=gt[kt],zt=At.event;At=At.listeners;e:{var Ut=void 0;if(bt)for(var Kt=At.length-1;0<=Kt;Kt--){var er=At[Kt],ir=er.instance,mr=er.currentTarget;if(er=er.listener,ir!==Ut&&zt.isPropagationStopped())break e;Iu(zt,er,mr),Ut=ir}else for(Kt=0;Kt<At.length;Kt++){if(er=At[Kt],ir=er.instance,mr=er.currentTarget,er=er.listener,ir!==Ut&&zt.isPropagationStopped())break e;Iu(zt,er,mr),Ut=ir}}}if(si)throw gt=bi,si=!1,bi=null,gt}function An(gt,bt){var kt=bt[lc];kt===void 0&&(kt=bt[lc]=new Set);var At=gt+"__bubble";kt.has(At)||(Du(bt,gt,2,!1),kt.add(At))}function tc(gt,bt,kt){var At=0;bt&&(At|=4),Du(kt,gt,At,bt)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function xo(gt){if(!gt[Ko]){gt[Ko]=!0,xe.forEach(function(kt){kt!=="selectionchange"&&(Dh.has(kt)||tc(kt,!1,gt),tc(kt,!0,gt))});var bt=gt.nodeType===9?gt:gt.ownerDocument;bt===null||bt[Ko]||(bt[Ko]=!0,tc("selectionchange",!1,bt))}}function Du(gt,bt,kt,At){switch(Ra(bt)){case 1:var zt=Io;break;case 4:zt=Dl;break;default:zt=ro}kt=zt.bind(null,bt,kt,gt),zt=void 0,!Sn||bt!=="touchstart"&&bt!=="touchmove"&&bt!=="wheel"||(zt=!0),At?zt!==void 0?gt.addEventListener(bt,kt,{capture:!0,passive:zt}):gt.addEventListener(bt,kt,!0):zt!==void 0?gt.addEventListener(bt,kt,{passive:zt}):gt.addEventListener(bt,kt,!1)}function rc(gt,bt,kt,At,zt){var Ut=At;if((bt&1)===0&&(bt&2)===0&&At!==null)e:for(;;){if(At===null)return;var Kt=At.tag;if(Kt===3||Kt===4){var er=At.stateNode.containerInfo;if(er===zt||er.nodeType===8&&er.parentNode===zt)break;if(Kt===4)for(Kt=At.return;Kt!==null;){var ir=Kt.tag;if((ir===3||ir===4)&&(ir=Kt.stateNode.containerInfo,ir===zt||ir.nodeType===8&&ir.parentNode===zt))return;Kt=Kt.return}for(;er!==null;){if(Kt=ua(er),Kt===null)return;if(ir=Kt.tag,ir===5||ir===6){At=Ut=Kt;continue e}er=er.parentNode}}At=At.return}tn(function(){var mr=Ut,Sr=ni(kt),jr=[];e:{var wr=Mu.get(gt);if(wr!==void 0){var Lr=Ta,zr=gt;switch(gt){case"keypress":if(oa(kt)===0)break e;case"keydown":case"keyup":Lr=Bn;break;case"focusin":zr="focus",Lr=lo;break;case"focusout":zr="blur",Lr=lo;break;case"beforeblur":case"afterblur":Lr=lo;break;case"click":if(kt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lr=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lr=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lr=Fo;break;case Au:case Pu:case Nu:Lr=ql;break;case $u:Lr=zo;break;case"scroll":Lr=zi;break;case"wheel":Lr=Vl;break;case"copy":case"cut":case"paste":Lr=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lr=Aa}var Hr=(bt&4)!==0,Vn=!Hr&&gt==="scroll",hr=Hr?wr!==null?wr+"Capture":null:wr;Hr=[];for(var lr=mr,fr;lr!==null;){fr=lr;var Rr=fr.stateNode;if(fr.tag===5&&Rr!==null&&(fr=Rr,hr!==null&&(Rr=yn(lr,hr),Rr!=null&&Hr.push(yo(lr,Rr,fr)))),Vn)break;lr=lr.return}0<Hr.length&&(wr=new Lr(wr,zr,null,kt,Sr),jr.push({event:wr,listeners:Hr}))}}if((bt&7)===0){e:{if(wr=gt==="mouseover"||gt==="pointerover",Lr=gt==="mouseout"||gt==="pointerout",wr&&kt!==bn&&(zr=kt.relatedTarget||kt.fromElement)&&(ua(zr)||zr[js]))break e;if((Lr||wr)&&(wr=Sr.window===Sr?Sr:(wr=Sr.ownerDocument)?wr.defaultView||wr.parentWindow:window,Lr?(zr=kt.relatedTarget||kt.toElement,Lr=mr,zr=zr?ua(zr):null,zr!==null&&(Vn=ai(zr),zr!==Vn||zr.tag!==5&&zr.tag!==6)&&(zr=null)):(Lr=null,zr=mr),Lr!==zr)){if(Hr=Lo,Rr="onMouseLeave",hr="onMouseEnter",lr="mouse",(gt==="pointerout"||gt==="pointerover")&&(Hr=Aa,Rr="onPointerLeave",hr="onPointerEnter",lr="pointer"),Vn=Lr==null?wr:Ia(Lr),fr=zr==null?wr:Ia(zr),wr=new Hr(Rr,lr+"leave",Lr,kt,Sr),wr.target=Vn,wr.relatedTarget=fr,Rr=null,ua(Sr)===mr&&(Hr=new Hr(hr,lr+"enter",zr,kt,Sr),Hr.target=fr,Hr.relatedTarget=Vn,Rr=Hr),Vn=Rr,Lr&&zr)t:{for(Hr=Lr,hr=zr,lr=0,fr=Hr;fr;fr=Ma(fr))lr++;for(fr=0,Rr=hr;Rr;Rr=Ma(Rr))fr++;for(;0<lr-fr;)Hr=Ma(Hr),lr--;for(;0<fr-lr;)hr=Ma(hr),fr--;for(;lr--;){if(Hr===hr||hr!==null&&Hr===hr.alternate)break t;Hr=Ma(Hr),hr=Ma(hr)}Hr=null}else Hr=null;Lr!==null&&Fu(jr,wr,Lr,Hr,!1),zr!==null&&Vn!==null&&Fu(jr,Vn,zr,Hr,!0)}}e:{if(wr=mr?Ia(mr):window,Lr=wr.nodeName&&wr.nodeName.toLowerCase(),Lr==="select"||Lr==="input"&&wr.type==="file")var Ur=Rh;else if(yu(wr))if(bu)Ur=Nh;else{Ur=Ah;var Xr=Th}else(Lr=wr.nodeName)&&Lr.toLowerCase()==="input"&&(wr.type==="checkbox"||wr.type==="radio")&&(Ur=Ph);if(Ur&&(Ur=Ur(gt,mr))){vu(jr,Ur,kt,Sr);break e}Xr&&Xr(gt,wr,mr),gt==="focusout"&&(Xr=wr._wrapperState)&&Xr.controlled&&wr.type==="number"&&Yr(wr,"number",wr.value)}switch(Xr=mr?Ia(mr):window,gt){case"focusin":(yu(Xr)||Xr.contentEditable==="true")&&(Na=Xr,Xl=mr,mo=null);break;case"focusout":mo=Xl=Na=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Ru(jr,kt,Sr);break;case"selectionchange":if(Oh)break;case"keydown":case"keyup":Ru(jr,kt,Sr)}var Zr;if(Pa)e:{switch(gt){case"compositionstart":var Qr="onCompositionStart";break e;case"compositionend":Qr="onCompositionEnd";break e;case"compositionupdate":Qr="onCompositionUpdate";break e}Qr=void 0}else Cs?co(gt,kt)&&(Qr="onCompositionEnd"):gt==="keydown"&&kt.keyCode===229&&(Qr="onCompositionStart");Qr&&(Ho&&kt.locale!=="ko"&&(Cs||Qr!=="onCompositionStart"?Qr==="onCompositionEnd"&&Cs&&(Zr=io()):(Bi=Sr,no="value"in Bi?Bi.value:Bi.textContent,Cs=!0)),Xr=Yo(mr,Qr),0<Xr.length&&(Qr=new xr(Qr,gt,null,kt,Sr),jr.push({event:Qr,listeners:Xr}),Zr?Qr.data=Zr:(Zr=uo(kt),Zr!==null&&(Qr.data=Zr)))),(Zr=Wl?Vo(gt,kt):Ch(gt,kt))&&(mr=Yo(mr,"onBeforeInput"),0<mr.length&&(Sr=new xr("onBeforeInput","beforeinput",null,kt,Sr),jr.push({event:Sr,listeners:mr}),Sr.data=Zr))}Lu(jr,bt)})}function yo(gt,bt,kt){return{instance:gt,listener:bt,currentTarget:kt}}function Yo(gt,bt){for(var kt=bt+"Capture",At=[];gt!==null;){var zt=gt,Ut=zt.stateNode;zt.tag===5&&Ut!==null&&(zt=Ut,Ut=yn(gt,kt),Ut!=null&&At.unshift(yo(gt,Ut,zt)),Ut=yn(gt,bt),Ut!=null&&At.push(yo(gt,Ut,zt))),gt=gt.return}return At}function Ma(gt){if(gt===null)return null;do gt=gt.return;while(gt&&gt.tag!==5);return gt||null}function Fu(gt,bt,kt,At,zt){for(var Ut=bt._reactName,Kt=[];kt!==null&&kt!==At;){var er=kt,ir=er.alternate,mr=er.stateNode;if(ir!==null&&ir===At)break;er.tag===5&&mr!==null&&(er=mr,zt?(ir=yn(kt,Ut),ir!=null&&Kt.unshift(yo(kt,ir,er))):zt||(ir=yn(kt,Ut),ir!=null&&Kt.push(yo(kt,ir,er)))),kt=kt.return}Kt.length!==0&&gt.push({event:bt,listeners:Kt})}var Fh=/\r\n?/g,Bh=/\u0000|\uFFFD/g;function Bu(gt){return(typeof gt=="string"?gt:""+gt).replace(Fh,`
`).replace(Bh,"")}function Xo(gt,bt,kt){if(bt=Bu(bt),Bu(gt)!==bt&&kt)throw Error(ne(425))}function Zo(){}var nc=null,ic=null;function sc(gt,bt){return gt==="textarea"||gt==="noscript"||typeof bt.children=="string"||typeof bt.children=="number"||typeof bt.dangerouslySetInnerHTML=="object"&&bt.dangerouslySetInnerHTML!==null&&bt.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,zh=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,qh=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(gt){return zu.resolve(null).then(gt).catch(Hh)}:ac;function Hh(gt){setTimeout(function(){throw gt})}function oc(gt,bt){var kt=bt,At=0;do{var zt=kt.nextSibling;if(gt.removeChild(kt),zt&&zt.nodeType===8)if(kt=zt.data,kt==="/$"){if(At===0){gt.removeChild(zt),_s(bt);return}At--}else kt!=="$"&&kt!=="$?"&&kt!=="$!"||At++;kt=zt}while(kt);_s(bt)}function Vs(gt){for(;gt!=null;gt=gt.nextSibling){var bt=gt.nodeType;if(bt===1||bt===3)break;if(bt===8){if(bt=gt.data,bt==="$"||bt==="$!"||bt==="$?")break;if(bt==="/$")return null}}return gt}function qu(gt){gt=gt.previousSibling;for(var bt=0;gt;){if(gt.nodeType===8){var kt=gt.data;if(kt==="$"||kt==="$!"||kt==="$?"){if(bt===0)return gt;bt--}else kt==="/$"&&bt++}gt=gt.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),hs="__reactFiber$"+Oa,vo="__reactProps$"+Oa,js="__reactContainer$"+Oa,lc="__reactEvents$"+Oa,Vh="__reactListeners$"+Oa,Uh="__reactHandles$"+Oa;function ua(gt){var bt=gt[hs];if(bt)return bt;for(var kt=gt.parentNode;kt;){if(bt=kt[js]||kt[hs]){if(kt=bt.alternate,bt.child!==null||kt!==null&&kt.child!==null)for(gt=qu(gt);gt!==null;){if(kt=gt[hs])return kt;gt=qu(gt)}return bt}gt=kt,kt=gt.parentNode}return null}function bo(gt){return gt=gt[hs]||gt[js],!gt||gt.tag!==5&&gt.tag!==6&&gt.tag!==13&&gt.tag!==3?null:gt}function Ia(gt){if(gt.tag===5||gt.tag===6)return gt.stateNode;throw Error(ne(33))}function Jo(gt){return gt[vo]||null}var uc=[],La=-1;function Us(gt){return{current:gt}}function Pn(gt){0>La||(gt.current=uc[La],uc[La]=null,La--)}function jn(gt,bt){La++,uc[La]=gt.current,gt.current=bt}var Ws={},ui=Us(Ws),ji=Us(!1),da=Ws;function Da(gt,bt){var kt=gt.type.contextTypes;if(!kt)return Ws;var At=gt.stateNode;if(At&&At.__reactInternalMemoizedUnmaskedChildContext===bt)return At.__reactInternalMemoizedMaskedChildContext;var zt={},Ut;for(Ut in kt)zt[Ut]=bt[Ut];return At&&(gt=gt.stateNode,gt.__reactInternalMemoizedUnmaskedChildContext=bt,gt.__reactInternalMemoizedMaskedChildContext=zt),zt}function ki(gt){return gt=gt.childContextTypes,gt!=null}function Qo(){Pn(ji),Pn(ui)}function Hu(gt,bt,kt){if(ui.current!==Ws)throw Error(ne(168));jn(ui,bt),jn(ji,kt)}function Vu(gt,bt,kt){var At=gt.stateNode;if(bt=bt.childContextTypes,typeof At.getChildContext!="function")return kt;At=At.getChildContext();for(var zt in At)if(!(zt in bt))throw Error(ne(108,Xt(gt)||"Unknown",zt));return $t({},kt,At)}function el(gt){return gt=(gt=gt.stateNode)&&gt.__reactInternalMemoizedMergedChildContext||Ws,da=ui.current,jn(ui,gt),jn(ji,ji.current),!0}function Uu(gt,bt,kt){var At=gt.stateNode;if(!At)throw Error(ne(169));kt?(gt=Vu(gt,bt,da),At.__reactInternalMemoizedMergedChildContext=gt,Pn(ji),Pn(ui),jn(ui,gt)):Pn(ji),jn(ji,kt)}var ks=null,tl=!1,dc=!1;function Wu(gt){ks===null?ks=[gt]:ks.push(gt)}function Wh(gt){tl=!0,Wu(gt)}function Gs(){if(!dc&&ks!==null){dc=!0;var gt=0,bt=hn;try{var kt=ks;for(hn=1;gt<kt.length;gt++){var At=kt[gt];do At=At(!0);while(At!==null)}ks=null,tl=!1}catch(zt){throw ks!==null&&(ks=ks.slice(gt+1)),nr(Mn,Gs),zt}finally{hn=bt,dc=!1}}return null}var Fa=[],Ba=0,rl=null,nl=0,qi=[],Hi=0,ha=null,Rs=1,Ts="";function fa(gt,bt){Fa[Ba++]=nl,Fa[Ba++]=rl,rl=gt,nl=bt}function Gu(gt,bt,kt){qi[Hi++]=Rs,qi[Hi++]=Ts,qi[Hi++]=ha,ha=gt;var At=Rs;gt=Ts;var zt=32-li(At)-1;At&=~(1<<zt),kt+=1;var Ut=32-li(bt)+zt;if(30<Ut){var Kt=zt-zt%5;Ut=(At&(1<<Kt)-1).toString(32),At>>=Kt,zt-=Kt,Rs=1<<32-li(bt)+zt|kt<<zt|At,Ts=Ut+gt}else Rs=1<<Ut|kt<<zt|At,Ts=gt}function hc(gt){gt.return!==null&&(fa(gt,1),Gu(gt,1,0))}function fc(gt){for(;gt===rl;)rl=Fa[--Ba],Fa[Ba]=null,nl=Fa[--Ba],Fa[Ba]=null;for(;gt===ha;)ha=qi[--Hi],qi[Hi]=null,Ts=qi[--Hi],qi[Hi]=null,Rs=qi[--Hi],qi[Hi]=null}var Mi=null,Oi=null,Nn=!1,ts=null;function Ku(gt,bt){var kt=Gi(5,null,null,0);kt.elementType="DELETED",kt.stateNode=bt,kt.return=gt,bt=gt.deletions,bt===null?(gt.deletions=[kt],gt.flags|=16):bt.push(kt)}function Yu(gt,bt){switch(gt.tag){case 5:var kt=gt.type;return bt=bt.nodeType!==1||kt.toLowerCase()!==bt.nodeName.toLowerCase()?null:bt,bt!==null?(gt.stateNode=bt,Mi=gt,Oi=Vs(bt.firstChild),!0):!1;case 6:return bt=gt.pendingProps===""||bt.nodeType!==3?null:bt,bt!==null?(gt.stateNode=bt,Mi=gt,Oi=null,!0):!1;case 13:return bt=bt.nodeType!==8?null:bt,bt!==null?(kt=ha!==null?{id:Rs,overflow:Ts}:null,gt.memoizedState={dehydrated:bt,treeContext:kt,retryLane:1073741824},kt=Gi(18,null,null,0),kt.stateNode=bt,kt.return=gt,gt.child=kt,Mi=gt,Oi=null,!0):!1;default:return!1}}function pc(gt){return(gt.mode&1)!==0&&(gt.flags&128)===0}function mc(gt){if(Nn){var bt=Oi;if(bt){var kt=bt;if(!Yu(gt,bt)){if(pc(gt))throw Error(ne(418));bt=Vs(kt.nextSibling);var At=Mi;bt&&Yu(gt,bt)?Ku(At,kt):(gt.flags=gt.flags&-4097|2,Nn=!1,Mi=gt)}}else{if(pc(gt))throw Error(ne(418));gt.flags=gt.flags&-4097|2,Nn=!1,Mi=gt}}}function Xu(gt){for(gt=gt.return;gt!==null&&gt.tag!==5&&gt.tag!==3&&gt.tag!==13;)gt=gt.return;Mi=gt}function il(gt){if(gt!==Mi)return!1;if(!Nn)return Xu(gt),Nn=!0,!1;var bt;if((bt=gt.tag!==3)&&!(bt=gt.tag!==5)&&(bt=gt.type,bt=bt!=="head"&&bt!=="body"&&!sc(gt.type,gt.memoizedProps)),bt&&(bt=Oi)){if(pc(gt))throw Zu(),Error(ne(418));for(;bt;)Ku(gt,bt),bt=Vs(bt.nextSibling)}if(Xu(gt),gt.tag===13){if(gt=gt.memoizedState,gt=gt!==null?gt.dehydrated:null,!gt)throw Error(ne(317));e:{for(gt=gt.nextSibling,bt=0;gt;){if(gt.nodeType===8){var kt=gt.data;if(kt==="/$"){if(bt===0){Oi=Vs(gt.nextSibling);break e}bt--}else kt!=="$"&&kt!=="$!"&&kt!=="$?"||bt++}gt=gt.nextSibling}Oi=null}}else Oi=Mi?Vs(gt.stateNode.nextSibling):null;return!0}function Zu(){for(var gt=Oi;gt;)gt=Vs(gt.nextSibling)}function za(){Oi=Mi=null,Nn=!1}function gc(gt){ts===null?ts=[gt]:ts.push(gt)}var Gh=St.ReactCurrentBatchConfig;function Eo(gt,bt,kt){if(gt=kt.ref,gt!==null&&typeof gt!="function"&&typeof gt!="object"){if(kt._owner){if(kt=kt._owner,kt){if(kt.tag!==1)throw Error(ne(309));var At=kt.stateNode}if(!At)throw Error(ne(147,gt));var zt=At,Ut=""+gt;return bt!==null&&bt.ref!==null&&typeof bt.ref=="function"&&bt.ref._stringRef===Ut?bt.ref:(bt=function(Kt){var er=zt.refs;Kt===null?delete er[Ut]:er[Ut]=Kt},bt._stringRef=Ut,bt)}if(typeof gt!="string")throw Error(ne(284));if(!kt._owner)throw Error(ne(290,gt))}return gt}function sl(gt,bt){throw gt=Object.prototype.toString.call(bt),Error(ne(31,gt==="[object Object]"?"object with keys {"+Object.keys(bt).join(", ")+"}":gt))}function Ju(gt){var bt=gt._init;return bt(gt._payload)}function Qu(gt){function bt(hr,lr){if(gt){var fr=hr.deletions;fr===null?(hr.deletions=[lr],hr.flags|=16):fr.push(lr)}}function kt(hr,lr){if(!gt)return null;for(;lr!==null;)bt(hr,lr),lr=lr.sibling;return null}function At(hr,lr){for(hr=new Map;lr!==null;)lr.key!==null?hr.set(lr.key,lr):hr.set(lr.index,lr),lr=lr.sibling;return hr}function zt(hr,lr){return hr=ta(hr,lr),hr.index=0,hr.sibling=null,hr}function Ut(hr,lr,fr){return hr.index=fr,gt?(fr=hr.alternate,fr!==null?(fr=fr.index,fr<lr?(hr.flags|=2,lr):fr):(hr.flags|=2,lr)):(hr.flags|=1048576,lr)}function Kt(hr){return gt&&hr.alternate===null&&(hr.flags|=2),hr}function er(hr,lr,fr,Rr){return lr===null||lr.tag!==6?(lr=uu(fr,hr.mode,Rr),lr.return=hr,lr):(lr=zt(lr,fr),lr.return=hr,lr)}function ir(hr,lr,fr,Rr){var Ur=fr.type;return Ur===Rt?Sr(hr,lr,fr.props.children,Rr,fr.key):lr!==null&&(lr.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===Nt&&Ju(Ur)===lr.type)?(Rr=zt(lr,fr.props),Rr.ref=Eo(hr,lr,fr),Rr.return=hr,Rr):(Rr=Tl(fr.type,fr.key,fr.props,null,hr.mode,Rr),Rr.ref=Eo(hr,lr,fr),Rr.return=hr,Rr)}function mr(hr,lr,fr,Rr){return lr===null||lr.tag!==4||lr.stateNode.containerInfo!==fr.containerInfo||lr.stateNode.implementation!==fr.implementation?(lr=du(fr,hr.mode,Rr),lr.return=hr,lr):(lr=zt(lr,fr.children||[]),lr.return=hr,lr)}function Sr(hr,lr,fr,Rr,Ur){return lr===null||lr.tag!==7?(lr=Ea(fr,hr.mode,Rr,Ur),lr.return=hr,lr):(lr=zt(lr,fr),lr.return=hr,lr)}function jr(hr,lr,fr){if(typeof lr=="string"&&lr!==""||typeof lr=="number")return lr=uu(""+lr,hr.mode,fr),lr.return=hr,lr;if(typeof lr=="object"&&lr!==null){switch(lr.$$typeof){case Ct:return fr=Tl(lr.type,lr.key,lr.props,null,hr.mode,fr),fr.ref=Eo(hr,null,lr),fr.return=hr,fr;case jt:return lr=du(lr,hr.mode,fr),lr.return=hr,lr;case Nt:var Rr=lr._init;return jr(hr,Rr(lr._payload),fr)}if(en(lr)||Mt(lr))return lr=Ea(lr,hr.mode,fr,null),lr.return=hr,lr;sl(hr,lr)}return null}function wr(hr,lr,fr,Rr){var Ur=lr!==null?lr.key:null;if(typeof fr=="string"&&fr!==""||typeof fr=="number")return Ur!==null?null:er(hr,lr,""+fr,Rr);if(typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case Ct:return fr.key===Ur?ir(hr,lr,fr,Rr):null;case jt:return fr.key===Ur?mr(hr,lr,fr,Rr):null;case Nt:return Ur=fr._init,wr(hr,lr,Ur(fr._payload),Rr)}if(en(fr)||Mt(fr))return Ur!==null?null:Sr(hr,lr,fr,Rr,null);sl(hr,fr)}return null}function Lr(hr,lr,fr,Rr,Ur){if(typeof Rr=="string"&&Rr!==""||typeof Rr=="number")return hr=hr.get(fr)||null,er(lr,hr,""+Rr,Ur);if(typeof Rr=="object"&&Rr!==null){switch(Rr.$$typeof){case Ct:return hr=hr.get(Rr.key===null?fr:Rr.key)||null,ir(lr,hr,Rr,Ur);case jt:return hr=hr.get(Rr.key===null?fr:Rr.key)||null,mr(lr,hr,Rr,Ur);case Nt:var Xr=Rr._init;return Lr(hr,lr,fr,Xr(Rr._payload),Ur)}if(en(Rr)||Mt(Rr))return hr=hr.get(fr)||null,Sr(lr,hr,Rr,Ur,null);sl(lr,Rr)}return null}function zr(hr,lr,fr,Rr){for(var Ur=null,Xr=null,Zr=lr,Qr=lr=0,Qn=null;Zr!==null&&Qr<fr.length;Qr++){Zr.index>Qr?(Qn=Zr,Zr=null):Qn=Zr.sibling;var gn=wr(hr,Zr,fr[Qr],Rr);if(gn===null){Zr===null&&(Zr=Qn);break}gt&&Zr&&gn.alternate===null&&bt(hr,Zr),lr=Ut(gn,lr,Qr),Xr===null?Ur=gn:Xr.sibling=gn,Xr=gn,Zr=Qn}if(Qr===fr.length)return kt(hr,Zr),Nn&&fa(hr,Qr),Ur;if(Zr===null){for(;Qr<fr.length;Qr++)Zr=jr(hr,fr[Qr],Rr),Zr!==null&&(lr=Ut(Zr,lr,Qr),Xr===null?Ur=Zr:Xr.sibling=Zr,Xr=Zr);return Nn&&fa(hr,Qr),Ur}for(Zr=At(hr,Zr);Qr<fr.length;Qr++)Qn=Lr(Zr,hr,Qr,fr[Qr],Rr),Qn!==null&&(gt&&Qn.alternate!==null&&Zr.delete(Qn.key===null?Qr:Qn.key),lr=Ut(Qn,lr,Qr),Xr===null?Ur=Qn:Xr.sibling=Qn,Xr=Qn);return gt&&Zr.forEach(function(ra){return bt(hr,ra)}),Nn&&fa(hr,Qr),Ur}function Hr(hr,lr,fr,Rr){var Ur=Mt(fr);if(typeof Ur!="function")throw Error(ne(150));if(fr=Ur.call(fr),fr==null)throw Error(ne(151));for(var Xr=Ur=null,Zr=lr,Qr=lr=0,Qn=null,gn=fr.next();Zr!==null&&!gn.done;Qr++,gn=fr.next()){Zr.index>Qr?(Qn=Zr,Zr=null):Qn=Zr.sibling;var ra=wr(hr,Zr,gn.value,Rr);if(ra===null){Zr===null&&(Zr=Qn);break}gt&&Zr&&ra.alternate===null&&bt(hr,Zr),lr=Ut(ra,lr,Qr),Xr===null?Ur=ra:Xr.sibling=ra,Xr=ra,Zr=Qn}if(gn.done)return kt(hr,Zr),Nn&&fa(hr,Qr),Ur;if(Zr===null){for(;!gn.done;Qr++,gn=fr.next())gn=jr(hr,gn.value,Rr),gn!==null&&(lr=Ut(gn,lr,Qr),Xr===null?Ur=gn:Xr.sibling=gn,Xr=gn);return Nn&&fa(hr,Qr),Ur}for(Zr=At(hr,Zr);!gn.done;Qr++,gn=fr.next())gn=Lr(Zr,hr,Qr,gn.value,Rr),gn!==null&&(gt&&gn.alternate!==null&&Zr.delete(gn.key===null?Qr:gn.key),lr=Ut(gn,lr,Qr),Xr===null?Ur=gn:Xr.sibling=gn,Xr=gn);return gt&&Zr.forEach(function(kf){return bt(hr,kf)}),Nn&&fa(hr,Qr),Ur}function Vn(hr,lr,fr,Rr){if(typeof fr=="object"&&fr!==null&&fr.type===Rt&&fr.key===null&&(fr=fr.props.children),typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case Ct:e:{for(var Ur=fr.key,Xr=lr;Xr!==null;){if(Xr.key===Ur){if(Ur=fr.type,Ur===Rt){if(Xr.tag===7){kt(hr,Xr.sibling),lr=zt(Xr,fr.props.children),lr.return=hr,hr=lr;break e}}else if(Xr.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===Nt&&Ju(Ur)===Xr.type){kt(hr,Xr.sibling),lr=zt(Xr,fr.props),lr.ref=Eo(hr,Xr,fr),lr.return=hr,hr=lr;break e}kt(hr,Xr);break}else bt(hr,Xr);Xr=Xr.sibling}fr.type===Rt?(lr=Ea(fr.props.children,hr.mode,Rr,fr.key),lr.return=hr,hr=lr):(Rr=Tl(fr.type,fr.key,fr.props,null,hr.mode,Rr),Rr.ref=Eo(hr,lr,fr),Rr.return=hr,hr=Rr)}return Kt(hr);case jt:e:{for(Xr=fr.key;lr!==null;){if(lr.key===Xr)if(lr.tag===4&&lr.stateNode.containerInfo===fr.containerInfo&&lr.stateNode.implementation===fr.implementation){kt(hr,lr.sibling),lr=zt(lr,fr.children||[]),lr.return=hr,hr=lr;break e}else{kt(hr,lr);break}else bt(hr,lr);lr=lr.sibling}lr=du(fr,hr.mode,Rr),lr.return=hr,hr=lr}return Kt(hr);case Nt:return Xr=fr._init,Vn(hr,lr,Xr(fr._payload),Rr)}if(en(fr))return zr(hr,lr,fr,Rr);if(Mt(fr))return Hr(hr,lr,fr,Rr);sl(hr,fr)}return typeof fr=="string"&&fr!==""||typeof fr=="number"?(fr=""+fr,lr!==null&&lr.tag===6?(kt(hr,lr.sibling),lr=zt(lr,fr),lr.return=hr,hr=lr):(kt(hr,lr),lr=uu(fr,hr.mode,Rr),lr.return=hr,hr=lr),Kt(hr)):kt(hr,lr)}return Vn}var qa=Qu(!0),ed=Qu(!1),al=Us(null),ol=null,Ha=null,xc=null;function yc(){xc=Ha=ol=null}function vc(gt){var bt=al.current;Pn(al),gt._currentValue=bt}function bc(gt,bt,kt){for(;gt!==null;){var At=gt.alternate;if((gt.childLanes&bt)!==bt?(gt.childLanes|=bt,At!==null&&(At.childLanes|=bt)):At!==null&&(At.childLanes&bt)!==bt&&(At.childLanes|=bt),gt===kt)break;gt=gt.return}}function Va(gt,bt){ol=gt,xc=Ha=null,gt=gt.dependencies,gt!==null&&gt.firstContext!==null&&((gt.lanes&bt)!==0&&(Ri=!0),gt.firstContext=null)}function Vi(gt){var bt=gt._currentValue;if(xc!==gt)if(gt={context:gt,memoizedValue:bt,next:null},Ha===null){if(ol===null)throw Error(ne(308));Ha=gt,ol.dependencies={lanes:0,firstContext:gt}}else Ha=Ha.next=gt;return bt}var pa=null;function Ec(gt){pa===null?pa=[gt]:pa.push(gt)}function td(gt,bt,kt,At){var zt=bt.interleaved;return zt===null?(kt.next=kt,Ec(bt)):(kt.next=zt.next,zt.next=kt),bt.interleaved=kt,As(gt,At)}function As(gt,bt){gt.lanes|=bt;var kt=gt.alternate;for(kt!==null&&(kt.lanes|=bt),kt=gt,gt=gt.return;gt!==null;)gt.childLanes|=bt,kt=gt.alternate,kt!==null&&(kt.childLanes|=bt),kt=gt,gt=gt.return;return kt.tag===3?kt.stateNode:null}var Ks=!1;function _c(gt){gt.updateQueue={baseState:gt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rd(gt,bt){gt=gt.updateQueue,bt.updateQueue===gt&&(bt.updateQueue={baseState:gt.baseState,firstBaseUpdate:gt.firstBaseUpdate,lastBaseUpdate:gt.lastBaseUpdate,shared:gt.shared,effects:gt.effects})}function Ps(gt,bt){return{eventTime:gt,lane:bt,tag:0,payload:null,callback:null,next:null}}function Ys(gt,bt,kt){var At=gt.updateQueue;if(At===null)return null;if(At=At.shared,(pn&2)!==0){var zt=At.pending;return zt===null?bt.next=bt:(bt.next=zt.next,zt.next=bt),At.pending=bt,As(gt,kt)}return zt=At.interleaved,zt===null?(bt.next=bt,Ec(At)):(bt.next=zt.next,zt.next=bt),At.interleaved=bt,As(gt,kt)}function ll(gt,bt,kt){if(bt=bt.updateQueue,bt!==null&&(bt=bt.shared,(kt&4194240)!==0)){var At=bt.lanes;At&=gt.pendingLanes,kt|=At,bt.lanes=kt,Si(gt,kt)}}function nd(gt,bt){var kt=gt.updateQueue,At=gt.alternate;if(At!==null&&(At=At.updateQueue,kt===At)){var zt=null,Ut=null;if(kt=kt.firstBaseUpdate,kt!==null){do{var Kt={eventTime:kt.eventTime,lane:kt.lane,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null};Ut===null?zt=Ut=Kt:Ut=Ut.next=Kt,kt=kt.next}while(kt!==null);Ut===null?zt=Ut=bt:Ut=Ut.next=bt}else zt=Ut=bt;kt={baseState:At.baseState,firstBaseUpdate:zt,lastBaseUpdate:Ut,shared:At.shared,effects:At.effects},gt.updateQueue=kt;return}gt=kt.lastBaseUpdate,gt===null?kt.firstBaseUpdate=bt:gt.next=bt,kt.lastBaseUpdate=bt}function cl(gt,bt,kt,At){var zt=gt.updateQueue;Ks=!1;var Ut=zt.firstBaseUpdate,Kt=zt.lastBaseUpdate,er=zt.shared.pending;if(er!==null){zt.shared.pending=null;var ir=er,mr=ir.next;ir.next=null,Kt===null?Ut=mr:Kt.next=mr,Kt=ir;var Sr=gt.alternate;Sr!==null&&(Sr=Sr.updateQueue,er=Sr.lastBaseUpdate,er!==Kt&&(er===null?Sr.firstBaseUpdate=mr:er.next=mr,Sr.lastBaseUpdate=ir))}if(Ut!==null){var jr=zt.baseState;Kt=0,Sr=mr=ir=null,er=Ut;do{var wr=er.lane,Lr=er.eventTime;if((At&wr)===wr){Sr!==null&&(Sr=Sr.next={eventTime:Lr,lane:0,tag:er.tag,payload:er.payload,callback:er.callback,next:null});e:{var zr=gt,Hr=er;switch(wr=bt,Lr=kt,Hr.tag){case 1:if(zr=Hr.payload,typeof zr=="function"){jr=zr.call(Lr,jr,wr);break e}jr=zr;break e;case 3:zr.flags=zr.flags&-65537|128;case 0:if(zr=Hr.payload,wr=typeof zr=="function"?zr.call(Lr,jr,wr):zr,wr==null)break e;jr=$t({},jr,wr);break e;case 2:Ks=!0}}er.callback!==null&&er.lane!==0&&(gt.flags|=64,wr=zt.effects,wr===null?zt.effects=[er]:wr.push(er))}else Lr={eventTime:Lr,lane:wr,tag:er.tag,payload:er.payload,callback:er.callback,next:null},Sr===null?(mr=Sr=Lr,ir=jr):Sr=Sr.next=Lr,Kt|=wr;if(er=er.next,er===null){if(er=zt.shared.pending,er===null)break;wr=er,er=wr.next,wr.next=null,zt.lastBaseUpdate=wr,zt.shared.pending=null}}while(!0);if(Sr===null&&(ir=jr),zt.baseState=ir,zt.firstBaseUpdate=mr,zt.lastBaseUpdate=Sr,bt=zt.shared.interleaved,bt!==null){zt=bt;do Kt|=zt.lane,zt=zt.next;while(zt!==bt)}else Ut===null&&(zt.shared.lanes=0);xa|=Kt,gt.lanes=Kt,gt.memoizedState=jr}}function sd(gt,bt,kt){if(gt=bt.effects,bt.effects=null,gt!==null)for(bt=0;bt<gt.length;bt++){var At=gt[bt],zt=At.callback;if(zt!==null){if(At.callback=null,At=kt,typeof zt!="function")throw Error(ne(191,zt));zt.call(At)}}}var _o={},fs=Us(_o),wo=Us(_o),So=Us(_o);function ma(gt){if(gt===_o)throw Error(ne(174));return gt}function wc(gt,bt){switch(jn(So,bt),jn(wo,gt),jn(fs,_o),gt=bt.nodeType,gt){case 9:case 11:bt=(bt=bt.documentElement)?bt.namespaceURI:Er(null,"");break;default:gt=gt===8?bt.parentNode:bt,bt=gt.namespaceURI||null,gt=gt.tagName,bt=Er(bt,gt)}Pn(fs),jn(fs,bt)}function Ua(){Pn(fs),Pn(wo),Pn(So)}function ad(gt){ma(So.current);var bt=ma(fs.current),kt=Er(bt,gt.type);bt!==kt&&(jn(wo,gt),jn(fs,kt))}function Cc(gt){wo.current===gt&&(Pn(fs),Pn(wo))}var On=Us(0);function ul(gt){for(var bt=gt;bt!==null;){if(bt.tag===13){var kt=bt.memoizedState;if(kt!==null&&(kt=kt.dehydrated,kt===null||kt.data==="$?"||kt.data==="$!"))return bt}else if(bt.tag===19&&bt.memoizedProps.revealOrder!==void 0){if((bt.flags&128)!==0)return bt}else if(bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===gt)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===gt)return null;bt=bt.return}bt.sibling.return=bt.return,bt=bt.sibling}return null}var jc=[];function kc(){for(var gt=0;gt<jc.length;gt++)jc[gt]._workInProgressVersionPrimary=null;jc.length=0}var dl=St.ReactCurrentDispatcher,Rc=St.ReactCurrentBatchConfig,ga=0,In=null,Gn=null,Zn=null,hl=!1,Co=!1,jo=0,Kh=0;function di(){throw Error(ne(321))}function Ac(gt,bt){if(bt===null)return!1;for(var kt=0;kt<bt.length&&kt<gt.length;kt++)if(!es(gt[kt],bt[kt]))return!1;return!0}function Pc(gt,bt,kt,At,zt,Ut){if(ga=Ut,In=bt,bt.memoizedState=null,bt.updateQueue=null,bt.lanes=0,dl.current=gt===null||gt.memoizedState===null?Jh:Qh,gt=kt(At,zt),Co){Ut=0;do{if(Co=!1,jo=0,25<=Ut)throw Error(ne(301));Ut+=1,Zn=Gn=null,bt.updateQueue=null,dl.current=ef,gt=kt(At,zt)}while(Co)}if(dl.current=ml,bt=Gn!==null&&Gn.next!==null,ga=0,Zn=Gn=In=null,hl=!1,bt)throw Error(ne(300));return gt}function Nc(){var gt=jo!==0;return jo=0,gt}function ps(){var gt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?In.memoizedState=Zn=gt:Zn=Zn.next=gt,Zn}function Ui(){if(Gn===null){var gt=In.alternate;gt=gt!==null?gt.memoizedState:null}else gt=Gn.next;var bt=Zn===null?In.memoizedState:Zn.next;if(bt!==null)Zn=bt,Gn=gt;else{if(gt===null)throw Error(ne(310));Gn=gt,gt={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},Zn===null?In.memoizedState=Zn=gt:Zn=Zn.next=gt}return Zn}function ko(gt,bt){return typeof bt=="function"?bt(gt):bt}function $c(gt){var bt=Ui(),kt=bt.queue;if(kt===null)throw Error(ne(311));kt.lastRenderedReducer=gt;var At=Gn,zt=At.baseQueue,Ut=kt.pending;if(Ut!==null){if(zt!==null){var Kt=zt.next;zt.next=Ut.next,Ut.next=Kt}At.baseQueue=zt=Ut,kt.pending=null}if(zt!==null){Ut=zt.next,At=At.baseState;var er=Kt=null,ir=null,mr=Ut;do{var Sr=mr.lane;if((ga&Sr)===Sr)ir!==null&&(ir=ir.next={lane:0,action:mr.action,hasEagerState:mr.hasEagerState,eagerState:mr.eagerState,next:null}),At=mr.hasEagerState?mr.eagerState:gt(At,mr.action);else{var jr={lane:Sr,action:mr.action,hasEagerState:mr.hasEagerState,eagerState:mr.eagerState,next:null};ir===null?(er=ir=jr,Kt=At):ir=ir.next=jr,In.lanes|=Sr,xa|=Sr}mr=mr.next}while(mr!==null&&mr!==Ut);ir===null?Kt=At:ir.next=er,es(At,bt.memoizedState)||(Ri=!0),bt.memoizedState=At,bt.baseState=Kt,bt.baseQueue=ir,kt.lastRenderedState=At}if(gt=kt.interleaved,gt!==null){zt=gt;do Ut=zt.lane,In.lanes|=Ut,xa|=Ut,zt=zt.next;while(zt!==gt)}else zt===null&&(kt.lanes=0);return[bt.memoizedState,kt.dispatch]}function Mc(gt){var bt=Ui(),kt=bt.queue;if(kt===null)throw Error(ne(311));kt.lastRenderedReducer=gt;var At=kt.dispatch,zt=kt.pending,Ut=bt.memoizedState;if(zt!==null){kt.pending=null;var Kt=zt=zt.next;do Ut=gt(Ut,Kt.action),Kt=Kt.next;while(Kt!==zt);es(Ut,bt.memoizedState)||(Ri=!0),bt.memoizedState=Ut,bt.baseQueue===null&&(bt.baseState=Ut),kt.lastRenderedState=Ut}return[Ut,At]}function od(){}function ld(gt,bt){var kt=In,At=Ui(),zt=bt(),Ut=!es(At.memoizedState,zt);if(Ut&&(At.memoizedState=zt,Ri=!0),At=At.queue,Oc(dd.bind(null,kt,At,gt),[gt]),At.getSnapshot!==bt||Ut||Zn!==null&&Zn.memoizedState.tag&1){if(kt.flags|=2048,Ro(9,ud.bind(null,kt,At,zt,bt),void 0,null),Jn===null)throw Error(ne(349));(ga&30)!==0||cd(kt,bt,zt)}return zt}function cd(gt,bt,kt){gt.flags|=16384,gt={getSnapshot:bt,value:kt},bt=In.updateQueue,bt===null?(bt={lastEffect:null,stores:null},In.updateQueue=bt,bt.stores=[gt]):(kt=bt.stores,kt===null?bt.stores=[gt]:kt.push(gt))}function ud(gt,bt,kt,At){bt.value=kt,bt.getSnapshot=At,hd(bt)&&fd(gt)}function dd(gt,bt,kt){return kt(function(){hd(bt)&&fd(gt)})}function hd(gt){var bt=gt.getSnapshot;gt=gt.value;try{var kt=bt();return!es(gt,kt)}catch{return!0}}function fd(gt){var bt=As(gt,1);bt!==null&&ss(bt,gt,1,-1)}function pd(gt){var bt=ps();return typeof gt=="function"&&(gt=gt()),bt.memoizedState=bt.baseState=gt,gt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:gt},bt.queue=gt,gt=gt.dispatch=Zh.bind(null,In,gt),[bt.memoizedState,gt]}function Ro(gt,bt,kt,At){return gt={tag:gt,create:bt,destroy:kt,deps:At,next:null},bt=In.updateQueue,bt===null?(bt={lastEffect:null,stores:null},In.updateQueue=bt,bt.lastEffect=gt.next=gt):(kt=bt.lastEffect,kt===null?bt.lastEffect=gt.next=gt:(At=kt.next,kt.next=gt,gt.next=At,bt.lastEffect=gt)),gt}function md(){return Ui().memoizedState}function fl(gt,bt,kt,At){var zt=ps();In.flags|=gt,zt.memoizedState=Ro(1|bt,kt,void 0,At===void 0?null:At)}function pl(gt,bt,kt,At){var zt=Ui();At=At===void 0?null:At;var Ut=void 0;if(Gn!==null){var Kt=Gn.memoizedState;if(Ut=Kt.destroy,At!==null&&Ac(At,Kt.deps)){zt.memoizedState=Ro(bt,kt,Ut,At);return}}In.flags|=gt,zt.memoizedState=Ro(1|bt,kt,Ut,At)}function gd(gt,bt){return fl(8390656,8,gt,bt)}function Oc(gt,bt){return pl(2048,8,gt,bt)}function xd(gt,bt){return pl(4,2,gt,bt)}function yd(gt,bt){return pl(4,4,gt,bt)}function vd(gt,bt){if(typeof bt=="function")return gt=gt(),bt(gt),function(){bt(null)};if(bt!=null)return gt=gt(),bt.current=gt,function(){bt.current=null}}function bd(gt,bt,kt){return kt=kt!=null?kt.concat([gt]):null,pl(4,4,vd.bind(null,bt,gt),kt)}function Ic(){}function Ed(gt,bt){var kt=Ui();bt=bt===void 0?null:bt;var At=kt.memoizedState;return At!==null&&bt!==null&&Ac(bt,At[1])?At[0]:(kt.memoizedState=[gt,bt],gt)}function _d(gt,bt){var kt=Ui();bt=bt===void 0?null:bt;var At=kt.memoizedState;return At!==null&&bt!==null&&Ac(bt,At[1])?At[0]:(gt=gt(),kt.memoizedState=[gt,bt],gt)}function wd(gt,bt,kt){return(ga&21)===0?(gt.baseState&&(gt.baseState=!1,Ri=!0),gt.memoizedState=kt):(es(kt,bt)||(kt=Ji(),In.lanes|=kt,xa|=kt,gt.baseState=!0),bt)}function Yh(gt,bt){var kt=hn;hn=kt!==0&&4>kt?kt:4,gt(!0);var At=Rc.transition;Rc.transition={};try{gt(!1),bt()}finally{hn=kt,Rc.transition=At}}function Sd(){return Ui().memoizedState}function Xh(gt,bt,kt){var At=Qs(gt);if(kt={lane:At,action:kt,hasEagerState:!1,eagerState:null,next:null},Cd(gt))jd(bt,kt);else if(kt=td(gt,bt,kt,At),kt!==null){var zt=vi();ss(kt,gt,At,zt),kd(kt,bt,At)}}function Zh(gt,bt,kt){var At=Qs(gt),zt={lane:At,action:kt,hasEagerState:!1,eagerState:null,next:null};if(Cd(gt))jd(bt,zt);else{var Ut=gt.alternate;if(gt.lanes===0&&(Ut===null||Ut.lanes===0)&&(Ut=bt.lastRenderedReducer,Ut!==null))try{var Kt=bt.lastRenderedState,er=Ut(Kt,kt);if(zt.hasEagerState=!0,zt.eagerState=er,es(er,Kt)){var ir=bt.interleaved;ir===null?(zt.next=zt,Ec(bt)):(zt.next=ir.next,ir.next=zt),bt.interleaved=zt;return}}catch{}finally{}kt=td(gt,bt,zt,At),kt!==null&&(zt=vi(),ss(kt,gt,At,zt),kd(kt,bt,At))}}function Cd(gt){var bt=gt.alternate;return gt===In||bt!==null&&bt===In}function jd(gt,bt){Co=hl=!0;var kt=gt.pending;kt===null?bt.next=bt:(bt.next=kt.next,kt.next=bt),gt.pending=bt}function kd(gt,bt,kt){if((kt&4194240)!==0){var At=bt.lanes;At&=gt.pendingLanes,kt|=At,bt.lanes=kt,Si(gt,kt)}}var ml={readContext:Vi,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},Jh={readContext:Vi,useCallback:function(gt,bt){return ps().memoizedState=[gt,bt===void 0?null:bt],gt},useContext:Vi,useEffect:gd,useImperativeHandle:function(gt,bt,kt){return kt=kt!=null?kt.concat([gt]):null,fl(4194308,4,vd.bind(null,bt,gt),kt)},useLayoutEffect:function(gt,bt){return fl(4194308,4,gt,bt)},useInsertionEffect:function(gt,bt){return fl(4,2,gt,bt)},useMemo:function(gt,bt){var kt=ps();return bt=bt===void 0?null:bt,gt=gt(),kt.memoizedState=[gt,bt],gt},useReducer:function(gt,bt,kt){var At=ps();return bt=kt!==void 0?kt(bt):bt,At.memoizedState=At.baseState=bt,gt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gt,lastRenderedState:bt},At.queue=gt,gt=gt.dispatch=Xh.bind(null,In,gt),[At.memoizedState,gt]},useRef:function(gt){var bt=ps();return gt={current:gt},bt.memoizedState=gt},useState:pd,useDebugValue:Ic,useDeferredValue:function(gt){return ps().memoizedState=gt},useTransition:function(){var gt=pd(!1),bt=gt[0];return gt=Yh.bind(null,gt[1]),ps().memoizedState=gt,[bt,gt]},useMutableSource:function(){},useSyncExternalStore:function(gt,bt,kt){var At=In,zt=ps();if(Nn){if(kt===void 0)throw Error(ne(407));kt=kt()}else{if(kt=bt(),Jn===null)throw Error(ne(349));(ga&30)!==0||cd(At,bt,kt)}zt.memoizedState=kt;var Ut={value:kt,getSnapshot:bt};return zt.queue=Ut,gd(dd.bind(null,At,Ut,gt),[gt]),At.flags|=2048,Ro(9,ud.bind(null,At,Ut,kt,bt),void 0,null),kt},useId:function(){var gt=ps(),bt=Jn.identifierPrefix;if(Nn){var kt=Ts,At=Rs;kt=(At&~(1<<32-li(At)-1)).toString(32)+kt,bt=":"+bt+"R"+kt,kt=jo++,0<kt&&(bt+="H"+kt.toString(32)),bt+=":"}else kt=Kh++,bt=":"+bt+"r"+kt.toString(32)+":";return gt.memoizedState=bt},unstable_isNewReconciler:!1},Qh={readContext:Vi,useCallback:Ed,useContext:Vi,useEffect:Oc,useImperativeHandle:bd,useInsertionEffect:xd,useLayoutEffect:yd,useMemo:_d,useReducer:$c,useRef:md,useState:function(){return $c(ko)},useDebugValue:Ic,useDeferredValue:function(gt){var bt=Ui();return wd(bt,Gn.memoizedState,gt)},useTransition:function(){var gt=$c(ko)[0],bt=Ui().memoizedState;return[gt,bt]},useMutableSource:od,useSyncExternalStore:ld,useId:Sd,unstable_isNewReconciler:!1},ef={readContext:Vi,useCallback:Ed,useContext:Vi,useEffect:Oc,useImperativeHandle:bd,useInsertionEffect:xd,useLayoutEffect:yd,useMemo:_d,useReducer:Mc,useRef:md,useState:function(){return Mc(ko)},useDebugValue:Ic,useDeferredValue:function(gt){var bt=Ui();return Gn===null?bt.memoizedState=gt:wd(bt,Gn.memoizedState,gt)},useTransition:function(){var gt=Mc(ko)[0],bt=Ui().memoizedState;return[gt,bt]},useMutableSource:od,useSyncExternalStore:ld,useId:Sd,unstable_isNewReconciler:!1};function rs(gt,bt){if(gt&&gt.defaultProps){bt=$t({},bt),gt=gt.defaultProps;for(var kt in gt)bt[kt]===void 0&&(bt[kt]=gt[kt]);return bt}return bt}function Lc(gt,bt,kt,At){bt=gt.memoizedState,kt=kt(At,bt),kt=kt==null?bt:$t({},bt,kt),gt.memoizedState=kt,gt.lanes===0&&(gt.updateQueue.baseState=kt)}var gl={isMounted:function(gt){return(gt=gt._reactInternals)?ai(gt)===gt:!1},enqueueSetState:function(gt,bt,kt){gt=gt._reactInternals;var At=vi(),zt=Qs(gt),Ut=Ps(At,zt);Ut.payload=bt,kt!=null&&(Ut.callback=kt),bt=Ys(gt,Ut,zt),bt!==null&&(ss(bt,gt,zt,At),ll(bt,gt,zt))},enqueueReplaceState:function(gt,bt,kt){gt=gt._reactInternals;var At=vi(),zt=Qs(gt),Ut=Ps(At,zt);Ut.tag=1,Ut.payload=bt,kt!=null&&(Ut.callback=kt),bt=Ys(gt,Ut,zt),bt!==null&&(ss(bt,gt,zt,At),ll(bt,gt,zt))},enqueueForceUpdate:function(gt,bt){gt=gt._reactInternals;var kt=vi(),At=Qs(gt),zt=Ps(kt,At);zt.tag=2,bt!=null&&(zt.callback=bt),bt=Ys(gt,zt,At),bt!==null&&(ss(bt,gt,At,kt),ll(bt,gt,At))}};function Rd(gt,bt,kt,At,zt,Ut,Kt){return gt=gt.stateNode,typeof gt.shouldComponentUpdate=="function"?gt.shouldComponentUpdate(At,Ut,Kt):bt.prototype&&bt.prototype.isPureReactComponent?!po(kt,At)||!po(zt,Ut):!0}function Td(gt,bt,kt){var At=!1,zt=Ws,Ut=bt.contextType;return typeof Ut=="object"&&Ut!==null?Ut=Vi(Ut):(zt=ki(bt)?da:ui.current,At=bt.contextTypes,Ut=(At=At!=null)?Da(gt,zt):Ws),bt=new bt(kt,Ut),gt.memoizedState=bt.state!==null&&bt.state!==void 0?bt.state:null,bt.updater=gl,gt.stateNode=bt,bt._reactInternals=gt,At&&(gt=gt.stateNode,gt.__reactInternalMemoizedUnmaskedChildContext=zt,gt.__reactInternalMemoizedMaskedChildContext=Ut),bt}function Ad(gt,bt,kt,At){gt=bt.state,typeof bt.componentWillReceiveProps=="function"&&bt.componentWillReceiveProps(kt,At),typeof bt.UNSAFE_componentWillReceiveProps=="function"&&bt.UNSAFE_componentWillReceiveProps(kt,At),bt.state!==gt&&gl.enqueueReplaceState(bt,bt.state,null)}function Fc(gt,bt,kt,At){var zt=gt.stateNode;zt.props=kt,zt.state=gt.memoizedState,zt.refs={},_c(gt);var Ut=bt.contextType;typeof Ut=="object"&&Ut!==null?zt.context=Vi(Ut):(Ut=ki(bt)?da:ui.current,zt.context=Da(gt,Ut)),zt.state=gt.memoizedState,Ut=bt.getDerivedStateFromProps,typeof Ut=="function"&&(Lc(gt,bt,Ut,kt),zt.state=gt.memoizedState),typeof bt.getDerivedStateFromProps=="function"||typeof zt.getSnapshotBeforeUpdate=="function"||typeof zt.UNSAFE_componentWillMount!="function"&&typeof zt.componentWillMount!="function"||(bt=zt.state,typeof zt.componentWillMount=="function"&&zt.componentWillMount(),typeof zt.UNSAFE_componentWillMount=="function"&&zt.UNSAFE_componentWillMount(),bt!==zt.state&&gl.enqueueReplaceState(zt,zt.state,null),cl(gt,kt,zt,At),zt.state=gt.memoizedState),typeof zt.componentDidMount=="function"&&(gt.flags|=4194308)}function Wa(gt,bt){try{var kt="",At=bt;do kt+=Qt(At),At=At.return;while(At);var zt=kt}catch(Ut){zt=`
Error generating stack: `+Ut.message+`
`+Ut.stack}return{value:gt,source:bt,stack:zt,digest:null}}function Bc(gt,bt,kt){return{value:gt,source:null,stack:kt??null,digest:bt??null}}function zc(gt,bt){try{console.error(bt.value)}catch(kt){setTimeout(function(){throw kt})}}var tf=typeof WeakMap=="function"?WeakMap:Map;function Pd(gt,bt,kt){kt=Ps(-1,kt),kt.tag=3,kt.payload={element:null};var At=bt.value;return kt.callback=function(){wl||(wl=!0,ru=At),zc(gt,bt)},kt}function Nd(gt,bt,kt){kt=Ps(-1,kt),kt.tag=3;var At=gt.type.getDerivedStateFromError;if(typeof At=="function"){var zt=bt.value;kt.payload=function(){return At(zt)},kt.callback=function(){zc(gt,bt)}}var Ut=gt.stateNode;return Ut!==null&&typeof Ut.componentDidCatch=="function"&&(kt.callback=function(){zc(gt,bt),typeof At!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var Kt=bt.stack;this.componentDidCatch(bt.value,{componentStack:Kt!==null?Kt:""})}),kt}function $d(gt,bt,kt){var At=gt.pingCache;if(At===null){At=gt.pingCache=new tf;var zt=new Set;At.set(bt,zt)}else zt=At.get(bt),zt===void 0&&(zt=new Set,At.set(bt,zt));zt.has(kt)||(zt.add(kt),gt=gf.bind(null,gt,bt,kt),bt.then(gt,gt))}function Md(gt){do{var bt;if((bt=gt.tag===13)&&(bt=gt.memoizedState,bt=bt!==null?bt.dehydrated!==null:!0),bt)return gt;gt=gt.return}while(gt!==null);return null}function Od(gt,bt,kt,At,zt){return(gt.mode&1)===0?(gt===bt?gt.flags|=65536:(gt.flags|=128,kt.flags|=131072,kt.flags&=-52805,kt.tag===1&&(kt.alternate===null?kt.tag=17:(bt=Ps(-1,1),bt.tag=2,Ys(kt,bt,1))),kt.lanes|=1),gt):(gt.flags|=65536,gt.lanes=zt,gt)}var rf=St.ReactCurrentOwner,Ri=!1;function yi(gt,bt,kt,At){bt.child=gt===null?ed(bt,null,kt,At):qa(bt,gt.child,kt,At)}function Id(gt,bt,kt,At,zt){kt=kt.render;var Ut=bt.ref;return Va(bt,zt),At=Pc(gt,bt,kt,At,Ut,zt),kt=Nc(),gt!==null&&!Ri?(bt.updateQueue=gt.updateQueue,bt.flags&=-2053,gt.lanes&=~zt,Ns(gt,bt,zt)):(Nn&&kt&&hc(bt),bt.flags|=1,yi(gt,bt,At,zt),bt.child)}function Ld(gt,bt,kt,At,zt){if(gt===null){var Ut=kt.type;return typeof Ut=="function"&&!cu(Ut)&&Ut.defaultProps===void 0&&kt.compare===null&&kt.defaultProps===void 0?(bt.tag=15,bt.type=Ut,Dd(gt,bt,Ut,At,zt)):(gt=Tl(kt.type,null,At,bt,bt.mode,zt),gt.ref=bt.ref,gt.return=bt,bt.child=gt)}if(Ut=gt.child,(gt.lanes&zt)===0){var Kt=Ut.memoizedProps;if(kt=kt.compare,kt=kt!==null?kt:po,kt(Kt,At)&&gt.ref===bt.ref)return Ns(gt,bt,zt)}return bt.flags|=1,gt=ta(Ut,At),gt.ref=bt.ref,gt.return=bt,bt.child=gt}function Dd(gt,bt,kt,At,zt){if(gt!==null){var Ut=gt.memoizedProps;if(po(Ut,At)&&gt.ref===bt.ref)if(Ri=!1,bt.pendingProps=At=Ut,(gt.lanes&zt)!==0)(gt.flags&131072)!==0&&(Ri=!0);else return bt.lanes=gt.lanes,Ns(gt,bt,zt)}return qc(gt,bt,kt,At,zt)}function Fd(gt,bt,kt){var At=bt.pendingProps,zt=At.children,Ut=gt!==null?gt.memoizedState:null;if(At.mode==="hidden")if((bt.mode&1)===0)bt.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(Ka,Ii),Ii|=kt;else{if((kt&1073741824)===0)return gt=Ut!==null?Ut.baseLanes|kt:kt,bt.lanes=bt.childLanes=1073741824,bt.memoizedState={baseLanes:gt,cachePool:null,transitions:null},bt.updateQueue=null,jn(Ka,Ii),Ii|=gt,null;bt.memoizedState={baseLanes:0,cachePool:null,transitions:null},At=Ut!==null?Ut.baseLanes:kt,jn(Ka,Ii),Ii|=At}else Ut!==null?(At=Ut.baseLanes|kt,bt.memoizedState=null):At=kt,jn(Ka,Ii),Ii|=At;return yi(gt,bt,zt,kt),bt.child}function Bd(gt,bt){var kt=bt.ref;(gt===null&&kt!==null||gt!==null&&gt.ref!==kt)&&(bt.flags|=512,bt.flags|=2097152)}function qc(gt,bt,kt,At,zt){var Ut=ki(kt)?da:ui.current;return Ut=Da(bt,Ut),Va(bt,zt),kt=Pc(gt,bt,kt,At,Ut,zt),At=Nc(),gt!==null&&!Ri?(bt.updateQueue=gt.updateQueue,bt.flags&=-2053,gt.lanes&=~zt,Ns(gt,bt,zt)):(Nn&&At&&hc(bt),bt.flags|=1,yi(gt,bt,kt,zt),bt.child)}function zd(gt,bt,kt,At,zt){if(ki(kt)){var Ut=!0;el(bt)}else Ut=!1;if(Va(bt,zt),bt.stateNode===null)yl(gt,bt),Td(bt,kt,At),Fc(bt,kt,At,zt),At=!0;else if(gt===null){var Kt=bt.stateNode,er=bt.memoizedProps;Kt.props=er;var ir=Kt.context,mr=kt.contextType;typeof mr=="object"&&mr!==null?mr=Vi(mr):(mr=ki(kt)?da:ui.current,mr=Da(bt,mr));var Sr=kt.getDerivedStateFromProps,jr=typeof Sr=="function"||typeof Kt.getSnapshotBeforeUpdate=="function";jr||typeof Kt.UNSAFE_componentWillReceiveProps!="function"&&typeof Kt.componentWillReceiveProps!="function"||(er!==At||ir!==mr)&&Ad(bt,Kt,At,mr),Ks=!1;var wr=bt.memoizedState;Kt.state=wr,cl(bt,At,Kt,zt),ir=bt.memoizedState,er!==At||wr!==ir||ji.current||Ks?(typeof Sr=="function"&&(Lc(bt,kt,Sr,At),ir=bt.memoizedState),(er=Ks||Rd(bt,kt,er,At,wr,ir,mr))?(jr||typeof Kt.UNSAFE_componentWillMount!="function"&&typeof Kt.componentWillMount!="function"||(typeof Kt.componentWillMount=="function"&&Kt.componentWillMount(),typeof Kt.UNSAFE_componentWillMount=="function"&&Kt.UNSAFE_componentWillMount()),typeof Kt.componentDidMount=="function"&&(bt.flags|=4194308)):(typeof Kt.componentDidMount=="function"&&(bt.flags|=4194308),bt.memoizedProps=At,bt.memoizedState=ir),Kt.props=At,Kt.state=ir,Kt.context=mr,At=er):(typeof Kt.componentDidMount=="function"&&(bt.flags|=4194308),At=!1)}else{Kt=bt.stateNode,rd(gt,bt),er=bt.memoizedProps,mr=bt.type===bt.elementType?er:rs(bt.type,er),Kt.props=mr,jr=bt.pendingProps,wr=Kt.context,ir=kt.contextType,typeof ir=="object"&&ir!==null?ir=Vi(ir):(ir=ki(kt)?da:ui.current,ir=Da(bt,ir));var Lr=kt.getDerivedStateFromProps;(Sr=typeof Lr=="function"||typeof Kt.getSnapshotBeforeUpdate=="function")||typeof Kt.UNSAFE_componentWillReceiveProps!="function"&&typeof Kt.componentWillReceiveProps!="function"||(er!==jr||wr!==ir)&&Ad(bt,Kt,At,ir),Ks=!1,wr=bt.memoizedState,Kt.state=wr,cl(bt,At,Kt,zt);var zr=bt.memoizedState;er!==jr||wr!==zr||ji.current||Ks?(typeof Lr=="function"&&(Lc(bt,kt,Lr,At),zr=bt.memoizedState),(mr=Ks||Rd(bt,kt,mr,At,wr,zr,ir)||!1)?(Sr||typeof Kt.UNSAFE_componentWillUpdate!="function"&&typeof Kt.componentWillUpdate!="function"||(typeof Kt.componentWillUpdate=="function"&&Kt.componentWillUpdate(At,zr,ir),typeof Kt.UNSAFE_componentWillUpdate=="function"&&Kt.UNSAFE_componentWillUpdate(At,zr,ir)),typeof Kt.componentDidUpdate=="function"&&(bt.flags|=4),typeof Kt.getSnapshotBeforeUpdate=="function"&&(bt.flags|=1024)):(typeof Kt.componentDidUpdate!="function"||er===gt.memoizedProps&&wr===gt.memoizedState||(bt.flags|=4),typeof Kt.getSnapshotBeforeUpdate!="function"||er===gt.memoizedProps&&wr===gt.memoizedState||(bt.flags|=1024),bt.memoizedProps=At,bt.memoizedState=zr),Kt.props=At,Kt.state=zr,Kt.context=ir,At=mr):(typeof Kt.componentDidUpdate!="function"||er===gt.memoizedProps&&wr===gt.memoizedState||(bt.flags|=4),typeof Kt.getSnapshotBeforeUpdate!="function"||er===gt.memoizedProps&&wr===gt.memoizedState||(bt.flags|=1024),At=!1)}return Hc(gt,bt,kt,At,Ut,zt)}function Hc(gt,bt,kt,At,zt,Ut){Bd(gt,bt);var Kt=(bt.flags&128)!==0;if(!At&&!Kt)return zt&&Uu(bt,kt,!1),Ns(gt,bt,Ut);At=bt.stateNode,rf.current=bt;var er=Kt&&typeof kt.getDerivedStateFromError!="function"?null:At.render();return bt.flags|=1,gt!==null&&Kt?(bt.child=qa(bt,gt.child,null,Ut),bt.child=qa(bt,null,er,Ut)):yi(gt,bt,er,Ut),bt.memoizedState=At.state,zt&&Uu(bt,kt,!0),bt.child}function qd(gt){var bt=gt.stateNode;bt.pendingContext?Hu(gt,bt.pendingContext,bt.pendingContext!==bt.context):bt.context&&Hu(gt,bt.context,!1),wc(gt,bt.containerInfo)}function Hd(gt,bt,kt,At,zt){return za(),gc(zt),bt.flags|=256,yi(gt,bt,kt,At),bt.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Uc(gt){return{baseLanes:gt,cachePool:null,transitions:null}}function Vd(gt,bt,kt){var At=bt.pendingProps,zt=On.current,Ut=!1,Kt=(bt.flags&128)!==0,er;if((er=Kt)||(er=gt!==null&&gt.memoizedState===null?!1:(zt&2)!==0),er?(Ut=!0,bt.flags&=-129):(gt===null||gt.memoizedState!==null)&&(zt|=1),jn(On,zt&1),gt===null)return mc(bt),gt=bt.memoizedState,gt!==null&&(gt=gt.dehydrated,gt!==null)?((bt.mode&1)===0?bt.lanes=1:gt.data==="$!"?bt.lanes=8:bt.lanes=1073741824,null):(Kt=At.children,gt=At.fallback,Ut?(At=bt.mode,Ut=bt.child,Kt={mode:"hidden",children:Kt},(At&1)===0&&Ut!==null?(Ut.childLanes=0,Ut.pendingProps=Kt):Ut=Al(Kt,At,0,null),gt=Ea(gt,At,kt,null),Ut.return=bt,gt.return=bt,Ut.sibling=gt,bt.child=Ut,bt.child.memoizedState=Uc(kt),bt.memoizedState=Vc,gt):Wc(bt,Kt));if(zt=gt.memoizedState,zt!==null&&(er=zt.dehydrated,er!==null))return nf(gt,bt,Kt,At,er,zt,kt);if(Ut){Ut=At.fallback,Kt=bt.mode,zt=gt.child,er=zt.sibling;var ir={mode:"hidden",children:At.children};return(Kt&1)===0&&bt.child!==zt?(At=bt.child,At.childLanes=0,At.pendingProps=ir,bt.deletions=null):(At=ta(zt,ir),At.subtreeFlags=zt.subtreeFlags&14680064),er!==null?Ut=ta(er,Ut):(Ut=Ea(Ut,Kt,kt,null),Ut.flags|=2),Ut.return=bt,At.return=bt,At.sibling=Ut,bt.child=At,At=Ut,Ut=bt.child,Kt=gt.child.memoizedState,Kt=Kt===null?Uc(kt):{baseLanes:Kt.baseLanes|kt,cachePool:null,transitions:Kt.transitions},Ut.memoizedState=Kt,Ut.childLanes=gt.childLanes&~kt,bt.memoizedState=Vc,At}return Ut=gt.child,gt=Ut.sibling,At=ta(Ut,{mode:"visible",children:At.children}),(bt.mode&1)===0&&(At.lanes=kt),At.return=bt,At.sibling=null,gt!==null&&(kt=bt.deletions,kt===null?(bt.deletions=[gt],bt.flags|=16):kt.push(gt)),bt.child=At,bt.memoizedState=null,At}function Wc(gt,bt){return bt=Al({mode:"visible",children:bt},gt.mode,0,null),bt.return=gt,gt.child=bt}function xl(gt,bt,kt,At){return At!==null&&gc(At),qa(bt,gt.child,null,kt),gt=Wc(bt,bt.pendingProps.children),gt.flags|=2,bt.memoizedState=null,gt}function nf(gt,bt,kt,At,zt,Ut,Kt){if(kt)return bt.flags&256?(bt.flags&=-257,At=Bc(Error(ne(422))),xl(gt,bt,Kt,At)):bt.memoizedState!==null?(bt.child=gt.child,bt.flags|=128,null):(Ut=At.fallback,zt=bt.mode,At=Al({mode:"visible",children:At.children},zt,0,null),Ut=Ea(Ut,zt,Kt,null),Ut.flags|=2,At.return=bt,Ut.return=bt,At.sibling=Ut,bt.child=At,(bt.mode&1)!==0&&qa(bt,gt.child,null,Kt),bt.child.memoizedState=Uc(Kt),bt.memoizedState=Vc,Ut);if((bt.mode&1)===0)return xl(gt,bt,Kt,null);if(zt.data==="$!"){if(At=zt.nextSibling&&zt.nextSibling.dataset,At)var er=At.dgst;return At=er,Ut=Error(ne(419)),At=Bc(Ut,At,void 0),xl(gt,bt,Kt,At)}if(er=(Kt&gt.childLanes)!==0,Ri||er){if(At=Jn,At!==null){switch(Kt&-Kt){case 4:zt=2;break;case 16:zt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:zt=32;break;case 536870912:zt=268435456;break;default:zt=0}zt=(zt&(At.suspendedLanes|Kt))!==0?0:zt,zt!==0&&zt!==Ut.retryLane&&(Ut.retryLane=zt,As(gt,zt),ss(At,gt,zt,-1))}return lu(),At=Bc(Error(ne(421))),xl(gt,bt,Kt,At)}return zt.data==="$?"?(bt.flags|=128,bt.child=gt.child,bt=xf.bind(null,gt),zt._reactRetry=bt,null):(gt=Ut.treeContext,Oi=Vs(zt.nextSibling),Mi=bt,Nn=!0,ts=null,gt!==null&&(qi[Hi++]=Rs,qi[Hi++]=Ts,qi[Hi++]=ha,Rs=gt.id,Ts=gt.overflow,ha=bt),bt=Wc(bt,At.children),bt.flags|=4096,bt)}function Ud(gt,bt,kt){gt.lanes|=bt;var At=gt.alternate;At!==null&&(At.lanes|=bt),bc(gt.return,bt,kt)}function Gc(gt,bt,kt,At,zt){var Ut=gt.memoizedState;Ut===null?gt.memoizedState={isBackwards:bt,rendering:null,renderingStartTime:0,last:At,tail:kt,tailMode:zt}:(Ut.isBackwards=bt,Ut.rendering=null,Ut.renderingStartTime=0,Ut.last=At,Ut.tail=kt,Ut.tailMode=zt)}function Wd(gt,bt,kt){var At=bt.pendingProps,zt=At.revealOrder,Ut=At.tail;if(yi(gt,bt,At.children,kt),At=On.current,(At&2)!==0)At=At&1|2,bt.flags|=128;else{if(gt!==null&&(gt.flags&128)!==0)e:for(gt=bt.child;gt!==null;){if(gt.tag===13)gt.memoizedState!==null&&Ud(gt,kt,bt);else if(gt.tag===19)Ud(gt,kt,bt);else if(gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===bt)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===bt)break e;gt=gt.return}gt.sibling.return=gt.return,gt=gt.sibling}At&=1}if(jn(On,At),(bt.mode&1)===0)bt.memoizedState=null;else switch(zt){case"forwards":for(kt=bt.child,zt=null;kt!==null;)gt=kt.alternate,gt!==null&&ul(gt)===null&&(zt=kt),kt=kt.sibling;kt=zt,kt===null?(zt=bt.child,bt.child=null):(zt=kt.sibling,kt.sibling=null),Gc(bt,!1,zt,kt,Ut);break;case"backwards":for(kt=null,zt=bt.child,bt.child=null;zt!==null;){if(gt=zt.alternate,gt!==null&&ul(gt)===null){bt.child=zt;break}gt=zt.sibling,zt.sibling=kt,kt=zt,zt=gt}Gc(bt,!0,kt,null,Ut);break;case"together":Gc(bt,!1,null,null,void 0);break;default:bt.memoizedState=null}return bt.child}function yl(gt,bt){(bt.mode&1)===0&&gt!==null&&(gt.alternate=null,bt.alternate=null,bt.flags|=2)}function Ns(gt,bt,kt){if(gt!==null&&(bt.dependencies=gt.dependencies),xa|=bt.lanes,(kt&bt.childLanes)===0)return null;if(gt!==null&&bt.child!==gt.child)throw Error(ne(153));if(bt.child!==null){for(gt=bt.child,kt=ta(gt,gt.pendingProps),bt.child=kt,kt.return=bt;gt.sibling!==null;)gt=gt.sibling,kt=kt.sibling=ta(gt,gt.pendingProps),kt.return=bt;kt.sibling=null}return bt.child}function sf(gt,bt,kt){switch(bt.tag){case 3:qd(bt),za();break;case 5:ad(bt);break;case 1:ki(bt.type)&&el(bt);break;case 4:wc(bt,bt.stateNode.containerInfo);break;case 10:var At=bt.type._context,zt=bt.memoizedProps.value;jn(al,At._currentValue),At._currentValue=zt;break;case 13:if(At=bt.memoizedState,At!==null)return At.dehydrated!==null?(jn(On,On.current&1),bt.flags|=128,null):(kt&bt.child.childLanes)!==0?Vd(gt,bt,kt):(jn(On,On.current&1),gt=Ns(gt,bt,kt),gt!==null?gt.sibling:null);jn(On,On.current&1);break;case 19:if(At=(kt&bt.childLanes)!==0,(gt.flags&128)!==0){if(At)return Wd(gt,bt,kt);bt.flags|=128}if(zt=bt.memoizedState,zt!==null&&(zt.rendering=null,zt.tail=null,zt.lastEffect=null),jn(On,On.current),At)break;return null;case 22:case 23:return bt.lanes=0,Fd(gt,bt,kt)}return Ns(gt,bt,kt)}var Gd,Kc,Kd,Yd;Gd=function(gt,bt){for(var kt=bt.child;kt!==null;){if(kt.tag===5||kt.tag===6)gt.appendChild(kt.stateNode);else if(kt.tag!==4&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===bt)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===bt)return;kt=kt.return}kt.sibling.return=kt.return,kt=kt.sibling}},Kc=function(){},Kd=function(gt,bt,kt,At){var zt=gt.memoizedProps;if(zt!==At){gt=bt.stateNode,ma(fs.current);var Ut=null;switch(kt){case"input":zt=dr(gt,zt),At=dr(gt,At),Ut=[];break;case"select":zt=$t({},zt,{value:void 0}),At=$t({},At,{value:void 0}),Ut=[];break;case"textarea":zt=on(gt,zt),At=on(gt,At),Ut=[];break;default:typeof zt.onClick!="function"&&typeof At.onClick=="function"&&(gt.onclick=Zo)}fn(kt,At);var Kt;kt=null;for(mr in zt)if(!At.hasOwnProperty(mr)&&zt.hasOwnProperty(mr)&&zt[mr]!=null)if(mr==="style"){var er=zt[mr];for(Kt in er)er.hasOwnProperty(Kt)&&(kt||(kt={}),kt[Kt]="")}else mr!=="dangerouslySetInnerHTML"&&mr!=="children"&&mr!=="suppressContentEditableWarning"&&mr!=="suppressHydrationWarning"&&mr!=="autoFocus"&&(rt.hasOwnProperty(mr)?Ut||(Ut=[]):(Ut=Ut||[]).push(mr,null));for(mr in At){var ir=At[mr];if(er=zt?.[mr],At.hasOwnProperty(mr)&&ir!==er&&(ir!=null||er!=null))if(mr==="style")if(er){for(Kt in er)!er.hasOwnProperty(Kt)||ir&&ir.hasOwnProperty(Kt)||(kt||(kt={}),kt[Kt]="");for(Kt in ir)ir.hasOwnProperty(Kt)&&er[Kt]!==ir[Kt]&&(kt||(kt={}),kt[Kt]=ir[Kt])}else kt||(Ut||(Ut=[]),Ut.push(mr,kt)),kt=ir;else mr==="dangerouslySetInnerHTML"?(ir=ir?ir.__html:void 0,er=er?er.__html:void 0,ir!=null&&er!==ir&&(Ut=Ut||[]).push(mr,ir)):mr==="children"?typeof ir!="string"&&typeof ir!="number"||(Ut=Ut||[]).push(mr,""+ir):mr!=="suppressContentEditableWarning"&&mr!=="suppressHydrationWarning"&&(rt.hasOwnProperty(mr)?(ir!=null&&mr==="onScroll"&&An("scroll",gt),Ut||er===ir||(Ut=[])):(Ut=Ut||[]).push(mr,ir))}kt&&(Ut=Ut||[]).push("style",kt);var mr=Ut;(bt.updateQueue=mr)&&(bt.flags|=4)}},Yd=function(gt,bt,kt,At){kt!==At&&(bt.flags|=4)};function To(gt,bt){if(!Nn)switch(gt.tailMode){case"hidden":bt=gt.tail;for(var kt=null;bt!==null;)bt.alternate!==null&&(kt=bt),bt=bt.sibling;kt===null?gt.tail=null:kt.sibling=null;break;case"collapsed":kt=gt.tail;for(var At=null;kt!==null;)kt.alternate!==null&&(At=kt),kt=kt.sibling;At===null?bt||gt.tail===null?gt.tail=null:gt.tail.sibling=null:At.sibling=null}}function hi(gt){var bt=gt.alternate!==null&&gt.alternate.child===gt.child,kt=0,At=0;if(bt)for(var zt=gt.child;zt!==null;)kt|=zt.lanes|zt.childLanes,At|=zt.subtreeFlags&14680064,At|=zt.flags&14680064,zt.return=gt,zt=zt.sibling;else for(zt=gt.child;zt!==null;)kt|=zt.lanes|zt.childLanes,At|=zt.subtreeFlags,At|=zt.flags,zt.return=gt,zt=zt.sibling;return gt.subtreeFlags|=At,gt.childLanes=kt,bt}function af(gt,bt,kt){var At=bt.pendingProps;switch(fc(bt),bt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(bt),null;case 1:return ki(bt.type)&&Qo(),hi(bt),null;case 3:return At=bt.stateNode,Ua(),Pn(ji),Pn(ui),kc(),At.pendingContext&&(At.context=At.pendingContext,At.pendingContext=null),(gt===null||gt.child===null)&&(il(bt)?bt.flags|=4:gt===null||gt.memoizedState.isDehydrated&&(bt.flags&256)===0||(bt.flags|=1024,ts!==null&&(su(ts),ts=null))),Kc(gt,bt),hi(bt),null;case 5:Cc(bt);var zt=ma(So.current);if(kt=bt.type,gt!==null&&bt.stateNode!=null)Kd(gt,bt,kt,At,zt),gt.ref!==bt.ref&&(bt.flags|=512,bt.flags|=2097152);else{if(!At){if(bt.stateNode===null)throw Error(ne(166));return hi(bt),null}if(gt=ma(fs.current),il(bt)){At=bt.stateNode,kt=bt.type;var Ut=bt.memoizedProps;switch(At[hs]=bt,At[vo]=Ut,gt=(bt.mode&1)!==0,kt){case"dialog":An("cancel",At),An("close",At);break;case"iframe":case"object":case"embed":An("load",At);break;case"video":case"audio":for(zt=0;zt<go.length;zt++)An(go[zt],At);break;case"source":An("error",At);break;case"img":case"image":case"link":An("error",At),An("load",At);break;case"details":An("toggle",At);break;case"input":Ar(At,Ut),An("invalid",At);break;case"select":At._wrapperState={wasMultiple:!!Ut.multiple},An("invalid",At);break;case"textarea":sn(At,Ut),An("invalid",At)}fn(kt,Ut),zt=null;for(var Kt in Ut)if(Ut.hasOwnProperty(Kt)){var er=Ut[Kt];Kt==="children"?typeof er=="string"?At.textContent!==er&&(Ut.suppressHydrationWarning!==!0&&Xo(At.textContent,er,gt),zt=["children",er]):typeof er=="number"&&At.textContent!==""+er&&(Ut.suppressHydrationWarning!==!0&&Xo(At.textContent,er,gt),zt=["children",""+er]):rt.hasOwnProperty(Kt)&&er!=null&&Kt==="onScroll"&&An("scroll",At)}switch(kt){case"input":Jt(At),Gr(At,Ut,!0);break;case"textarea":Jt(At),dn(At);break;case"select":case"option":break;default:typeof Ut.onClick=="function"&&(At.onclick=Zo)}At=zt,bt.updateQueue=At,At!==null&&(bt.flags|=4)}else{Kt=zt.nodeType===9?zt:zt.ownerDocument,gt==="http://www.w3.org/1999/xhtml"&&(gt=pr(kt)),gt==="http://www.w3.org/1999/xhtml"?kt==="script"?(gt=Kt.createElement("div"),gt.innerHTML="<script><\/script>",gt=gt.removeChild(gt.firstChild)):typeof At.is=="string"?gt=Kt.createElement(kt,{is:At.is}):(gt=Kt.createElement(kt),kt==="select"&&(Kt=gt,At.multiple?Kt.multiple=!0:At.size&&(Kt.size=At.size))):gt=Kt.createElementNS(gt,kt),gt[hs]=bt,gt[vo]=At,Gd(gt,bt,!1,!1),bt.stateNode=gt;e:{switch(Kt=$n(kt,At),kt){case"dialog":An("cancel",gt),An("close",gt),zt=At;break;case"iframe":case"object":case"embed":An("load",gt),zt=At;break;case"video":case"audio":for(zt=0;zt<go.length;zt++)An(go[zt],gt);zt=At;break;case"source":An("error",gt),zt=At;break;case"img":case"image":case"link":An("error",gt),An("load",gt),zt=At;break;case"details":An("toggle",gt),zt=At;break;case"input":Ar(gt,At),zt=dr(gt,At),An("invalid",gt);break;case"option":zt=At;break;case"select":gt._wrapperState={wasMultiple:!!At.multiple},zt=$t({},At,{value:void 0}),An("invalid",gt);break;case"textarea":sn(gt,At),zt=on(gt,At),An("invalid",gt);break;default:zt=At}fn(kt,zt),er=zt;for(Ut in er)if(er.hasOwnProperty(Ut)){var ir=er[Ut];Ut==="style"?qn(gt,ir):Ut==="dangerouslySetInnerHTML"?(ir=ir?ir.__html:void 0,ir!=null&&vr(gt,ir)):Ut==="children"?typeof ir=="string"?(kt!=="textarea"||ir!=="")&&Pr(gt,ir):typeof ir=="number"&&Pr(gt,""+ir):Ut!=="suppressContentEditableWarning"&&Ut!=="suppressHydrationWarning"&&Ut!=="autoFocus"&&(rt.hasOwnProperty(Ut)?ir!=null&&Ut==="onScroll"&&An("scroll",gt):ir!=null&&wt(gt,Ut,ir,Kt))}switch(kt){case"input":Jt(gt),Gr(gt,At,!1);break;case"textarea":Jt(gt),dn(gt);break;case"option":At.value!=null&&gt.setAttribute("value",""+tr(At.value));break;case"select":gt.multiple=!!At.multiple,Ut=At.value,Ut!=null?Jr(gt,!!At.multiple,Ut,!1):At.defaultValue!=null&&Jr(gt,!!At.multiple,At.defaultValue,!0);break;default:typeof zt.onClick=="function"&&(gt.onclick=Zo)}switch(kt){case"button":case"input":case"select":case"textarea":At=!!At.autoFocus;break e;case"img":At=!0;break e;default:At=!1}}At&&(bt.flags|=4)}bt.ref!==null&&(bt.flags|=512,bt.flags|=2097152)}return hi(bt),null;case 6:if(gt&&bt.stateNode!=null)Yd(gt,bt,gt.memoizedProps,At);else{if(typeof At!="string"&&bt.stateNode===null)throw Error(ne(166));if(kt=ma(So.current),ma(fs.current),il(bt)){if(At=bt.stateNode,kt=bt.memoizedProps,At[hs]=bt,(Ut=At.nodeValue!==kt)&&(gt=Mi,gt!==null))switch(gt.tag){case 3:Xo(At.nodeValue,kt,(gt.mode&1)!==0);break;case 5:gt.memoizedProps.suppressHydrationWarning!==!0&&Xo(At.nodeValue,kt,(gt.mode&1)!==0)}Ut&&(bt.flags|=4)}else At=(kt.nodeType===9?kt:kt.ownerDocument).createTextNode(At),At[hs]=bt,bt.stateNode=At}return hi(bt),null;case 13:if(Pn(On),At=bt.memoizedState,gt===null||gt.memoizedState!==null&&gt.memoizedState.dehydrated!==null){if(Nn&&Oi!==null&&(bt.mode&1)!==0&&(bt.flags&128)===0)Zu(),za(),bt.flags|=98560,Ut=!1;else if(Ut=il(bt),At!==null&&At.dehydrated!==null){if(gt===null){if(!Ut)throw Error(ne(318));if(Ut=bt.memoizedState,Ut=Ut!==null?Ut.dehydrated:null,!Ut)throw Error(ne(317));Ut[hs]=bt}else za(),(bt.flags&128)===0&&(bt.memoizedState=null),bt.flags|=4;hi(bt),Ut=!1}else ts!==null&&(su(ts),ts=null),Ut=!0;if(!Ut)return bt.flags&65536?bt:null}return(bt.flags&128)!==0?(bt.lanes=kt,bt):(At=At!==null,At!==(gt!==null&&gt.memoizedState!==null)&&At&&(bt.child.flags|=8192,(bt.mode&1)!==0&&(gt===null||(On.current&1)!==0?Kn===0&&(Kn=3):lu())),bt.updateQueue!==null&&(bt.flags|=4),hi(bt),null);case 4:return Ua(),Kc(gt,bt),gt===null&&xo(bt.stateNode.containerInfo),hi(bt),null;case 10:return vc(bt.type._context),hi(bt),null;case 17:return ki(bt.type)&&Qo(),hi(bt),null;case 19:if(Pn(On),Ut=bt.memoizedState,Ut===null)return hi(bt),null;if(At=(bt.flags&128)!==0,Kt=Ut.rendering,Kt===null)if(At)To(Ut,!1);else{if(Kn!==0||gt!==null&&(gt.flags&128)!==0)for(gt=bt.child;gt!==null;){if(Kt=ul(gt),Kt!==null){for(bt.flags|=128,To(Ut,!1),At=Kt.updateQueue,At!==null&&(bt.updateQueue=At,bt.flags|=4),bt.subtreeFlags=0,At=kt,kt=bt.child;kt!==null;)Ut=kt,gt=At,Ut.flags&=14680066,Kt=Ut.alternate,Kt===null?(Ut.childLanes=0,Ut.lanes=gt,Ut.child=null,Ut.subtreeFlags=0,Ut.memoizedProps=null,Ut.memoizedState=null,Ut.updateQueue=null,Ut.dependencies=null,Ut.stateNode=null):(Ut.childLanes=Kt.childLanes,Ut.lanes=Kt.lanes,Ut.child=Kt.child,Ut.subtreeFlags=0,Ut.deletions=null,Ut.memoizedProps=Kt.memoizedProps,Ut.memoizedState=Kt.memoizedState,Ut.updateQueue=Kt.updateQueue,Ut.type=Kt.type,gt=Kt.dependencies,Ut.dependencies=gt===null?null:{lanes:gt.lanes,firstContext:gt.firstContext}),kt=kt.sibling;return jn(On,On.current&1|2),bt.child}gt=gt.sibling}Ut.tail!==null&&rn()>Ya&&(bt.flags|=128,At=!0,To(Ut,!1),bt.lanes=4194304)}else{if(!At)if(gt=ul(Kt),gt!==null){if(bt.flags|=128,At=!0,kt=gt.updateQueue,kt!==null&&(bt.updateQueue=kt,bt.flags|=4),To(Ut,!0),Ut.tail===null&&Ut.tailMode==="hidden"&&!Kt.alternate&&!Nn)return hi(bt),null}else 2*rn()-Ut.renderingStartTime>Ya&&kt!==1073741824&&(bt.flags|=128,At=!0,To(Ut,!1),bt.lanes=4194304);Ut.isBackwards?(Kt.sibling=bt.child,bt.child=Kt):(kt=Ut.last,kt!==null?kt.sibling=Kt:bt.child=Kt,Ut.last=Kt)}return Ut.tail!==null?(bt=Ut.tail,Ut.rendering=bt,Ut.tail=bt.sibling,Ut.renderingStartTime=rn(),bt.sibling=null,kt=On.current,jn(On,At?kt&1|2:kt&1),bt):(hi(bt),null);case 22:case 23:return ou(),At=bt.memoizedState!==null,gt!==null&&gt.memoizedState!==null!==At&&(bt.flags|=8192),At&&(bt.mode&1)!==0?(Ii&1073741824)!==0&&(hi(bt),bt.subtreeFlags&6&&(bt.flags|=8192)):hi(bt),null;case 24:return null;case 25:return null}throw Error(ne(156,bt.tag))}function of(gt,bt){switch(fc(bt),bt.tag){case 1:return ki(bt.type)&&Qo(),gt=bt.flags,gt&65536?(bt.flags=gt&-65537|128,bt):null;case 3:return Ua(),Pn(ji),Pn(ui),kc(),gt=bt.flags,(gt&65536)!==0&&(gt&128)===0?(bt.flags=gt&-65537|128,bt):null;case 5:return Cc(bt),null;case 13:if(Pn(On),gt=bt.memoizedState,gt!==null&&gt.dehydrated!==null){if(bt.alternate===null)throw Error(ne(340));za()}return gt=bt.flags,gt&65536?(bt.flags=gt&-65537|128,bt):null;case 19:return Pn(On),null;case 4:return Ua(),null;case 10:return vc(bt.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var vl=!1,fi=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Br=null;function Ga(gt,bt){var kt=gt.ref;if(kt!==null)if(typeof kt=="function")try{kt(null)}catch(At){zn(gt,bt,At)}else kt.current=null}function Yc(gt,bt,kt){try{kt()}catch(At){zn(gt,bt,At)}}var Xd=!1;function cf(gt,bt){if(nc=Tn,gt=ku(),Yl(gt)){if("selectionStart"in gt)var kt={start:gt.selectionStart,end:gt.selectionEnd};else e:{kt=(kt=gt.ownerDocument)&&kt.defaultView||window;var At=kt.getSelection&&kt.getSelection();if(At&&At.rangeCount!==0){kt=At.anchorNode;var zt=At.anchorOffset,Ut=At.focusNode;At=At.focusOffset;try{kt.nodeType,Ut.nodeType}catch{kt=null;break e}var Kt=0,er=-1,ir=-1,mr=0,Sr=0,jr=gt,wr=null;t:for(;;){for(var Lr;jr!==kt||zt!==0&&jr.nodeType!==3||(er=Kt+zt),jr!==Ut||At!==0&&jr.nodeType!==3||(ir=Kt+At),jr.nodeType===3&&(Kt+=jr.nodeValue.length),(Lr=jr.firstChild)!==null;)wr=jr,jr=Lr;for(;;){if(jr===gt)break t;if(wr===kt&&++mr===zt&&(er=Kt),wr===Ut&&++Sr===At&&(ir=Kt),(Lr=jr.nextSibling)!==null)break;jr=wr,wr=jr.parentNode}jr=Lr}kt=er===-1||ir===-1?null:{start:er,end:ir}}else kt=null}kt=kt||{start:0,end:0}}else kt=null;for(ic={focusedElem:gt,selectionRange:kt},Tn=!1,Br=bt;Br!==null;)if(bt=Br,gt=bt.child,(bt.subtreeFlags&1028)!==0&&gt!==null)gt.return=bt,Br=gt;else for(;Br!==null;){bt=Br;try{var zr=bt.alternate;if((bt.flags&1024)!==0)switch(bt.tag){case 0:case 11:case 15:break;case 1:if(zr!==null){var Hr=zr.memoizedProps,Vn=zr.memoizedState,hr=bt.stateNode,lr=hr.getSnapshotBeforeUpdate(bt.elementType===bt.type?Hr:rs(bt.type,Hr),Vn);hr.__reactInternalSnapshotBeforeUpdate=lr}break;case 3:var fr=bt.stateNode.containerInfo;fr.nodeType===1?fr.textContent="":fr.nodeType===9&&fr.documentElement&&fr.removeChild(fr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(Rr){zn(bt,bt.return,Rr)}if(gt=bt.sibling,gt!==null){gt.return=bt.return,Br=gt;break}Br=bt.return}return zr=Xd,Xd=!1,zr}function Ao(gt,bt,kt){var At=bt.updateQueue;if(At=At!==null?At.lastEffect:null,At!==null){var zt=At=At.next;do{if((zt.tag&gt)===gt){var Ut=zt.destroy;zt.destroy=void 0,Ut!==void 0&&Yc(bt,kt,Ut)}zt=zt.next}while(zt!==At)}}function bl(gt,bt){if(bt=bt.updateQueue,bt=bt!==null?bt.lastEffect:null,bt!==null){var kt=bt=bt.next;do{if((kt.tag&gt)===gt){var At=kt.create;kt.destroy=At()}kt=kt.next}while(kt!==bt)}}function Xc(gt){var bt=gt.ref;if(bt!==null){var kt=gt.stateNode;switch(gt.tag){case 5:gt=kt;break;default:gt=kt}typeof bt=="function"?bt(gt):bt.current=gt}}function Zd(gt){var bt=gt.alternate;bt!==null&&(gt.alternate=null,Zd(bt)),gt.child=null,gt.deletions=null,gt.sibling=null,gt.tag===5&&(bt=gt.stateNode,bt!==null&&(delete bt[hs],delete bt[vo],delete bt[lc],delete bt[Vh],delete bt[Uh])),gt.stateNode=null,gt.return=null,gt.dependencies=null,gt.memoizedProps=null,gt.memoizedState=null,gt.pendingProps=null,gt.stateNode=null,gt.updateQueue=null}function Jd(gt){return gt.tag===5||gt.tag===3||gt.tag===4}function Qd(gt){e:for(;;){for(;gt.sibling===null;){if(gt.return===null||Jd(gt.return))return null;gt=gt.return}for(gt.sibling.return=gt.return,gt=gt.sibling;gt.tag!==5&&gt.tag!==6&&gt.tag!==18;){if(gt.flags&2||gt.child===null||gt.tag===4)continue e;gt.child.return=gt,gt=gt.child}if(!(gt.flags&2))return gt.stateNode}}function Zc(gt,bt,kt){var At=gt.tag;if(At===5||At===6)gt=gt.stateNode,bt?kt.nodeType===8?kt.parentNode.insertBefore(gt,bt):kt.insertBefore(gt,bt):(kt.nodeType===8?(bt=kt.parentNode,bt.insertBefore(gt,kt)):(bt=kt,bt.appendChild(gt)),kt=kt._reactRootContainer,kt!=null||bt.onclick!==null||(bt.onclick=Zo));else if(At!==4&&(gt=gt.child,gt!==null))for(Zc(gt,bt,kt),gt=gt.sibling;gt!==null;)Zc(gt,bt,kt),gt=gt.sibling}function Jc(gt,bt,kt){var At=gt.tag;if(At===5||At===6)gt=gt.stateNode,bt?kt.insertBefore(gt,bt):kt.appendChild(gt);else if(At!==4&&(gt=gt.child,gt!==null))for(Jc(gt,bt,kt),gt=gt.sibling;gt!==null;)Jc(gt,bt,kt),gt=gt.sibling}var ti=null,ns=!1;function Xs(gt,bt,kt){for(kt=kt.child;kt!==null;)eh(gt,bt,kt),kt=kt.sibling}function eh(gt,bt,kt){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(oi,kt)}catch{}switch(kt.tag){case 5:fi||Ga(kt,bt);case 6:var At=ti,zt=ns;ti=null,Xs(gt,bt,kt),ti=At,ns=zt,ti!==null&&(ns?(gt=ti,kt=kt.stateNode,gt.nodeType===8?gt.parentNode.removeChild(kt):gt.removeChild(kt)):ti.removeChild(kt.stateNode));break;case 18:ti!==null&&(ns?(gt=ti,kt=kt.stateNode,gt.nodeType===8?oc(gt.parentNode,kt):gt.nodeType===1&&oc(gt,kt),_s(gt)):oc(ti,kt.stateNode));break;case 4:At=ti,zt=ns,ti=kt.stateNode.containerInfo,ns=!0,Xs(gt,bt,kt),ti=At,ns=zt;break;case 0:case 11:case 14:case 15:if(!fi&&(At=kt.updateQueue,At!==null&&(At=At.lastEffect,At!==null))){zt=At=At.next;do{var Ut=zt,Kt=Ut.destroy;Ut=Ut.tag,Kt!==void 0&&((Ut&2)!==0||(Ut&4)!==0)&&Yc(kt,bt,Kt),zt=zt.next}while(zt!==At)}Xs(gt,bt,kt);break;case 1:if(!fi&&(Ga(kt,bt),At=kt.stateNode,typeof At.componentWillUnmount=="function"))try{At.props=kt.memoizedProps,At.state=kt.memoizedState,At.componentWillUnmount()}catch(er){zn(kt,bt,er)}Xs(gt,bt,kt);break;case 21:Xs(gt,bt,kt);break;case 22:kt.mode&1?(fi=(At=fi)||kt.memoizedState!==null,Xs(gt,bt,kt),fi=At):Xs(gt,bt,kt);break;default:Xs(gt,bt,kt)}}function th(gt){var bt=gt.updateQueue;if(bt!==null){gt.updateQueue=null;var kt=gt.stateNode;kt===null&&(kt=gt.stateNode=new lf),bt.forEach(function(At){var zt=yf.bind(null,gt,At);kt.has(At)||(kt.add(At),At.then(zt,zt))})}}function is(gt,bt){var kt=bt.deletions;if(kt!==null)for(var At=0;At<kt.length;At++){var zt=kt[At];try{var Ut=gt,Kt=bt,er=Kt;e:for(;er!==null;){switch(er.tag){case 5:ti=er.stateNode,ns=!1;break e;case 3:ti=er.stateNode.containerInfo,ns=!0;break e;case 4:ti=er.stateNode.containerInfo,ns=!0;break e}er=er.return}if(ti===null)throw Error(ne(160));eh(Ut,Kt,zt),ti=null,ns=!1;var ir=zt.alternate;ir!==null&&(ir.return=null),zt.return=null}catch(mr){zn(zt,bt,mr)}}if(bt.subtreeFlags&12854)for(bt=bt.child;bt!==null;)rh(bt,gt),bt=bt.sibling}function rh(gt,bt){var kt=gt.alternate,At=gt.flags;switch(gt.tag){case 0:case 11:case 14:case 15:if(is(bt,gt),ms(gt),At&4){try{Ao(3,gt,gt.return),bl(3,gt)}catch(Hr){zn(gt,gt.return,Hr)}try{Ao(5,gt,gt.return)}catch(Hr){zn(gt,gt.return,Hr)}}break;case 1:is(bt,gt),ms(gt),At&512&&kt!==null&&Ga(kt,kt.return);break;case 5:if(is(bt,gt),ms(gt),At&512&&kt!==null&&Ga(kt,kt.return),gt.flags&32){var zt=gt.stateNode;try{Pr(zt,"")}catch(Hr){zn(gt,gt.return,Hr)}}if(At&4&&(zt=gt.stateNode,zt!=null)){var Ut=gt.memoizedProps,Kt=kt!==null?kt.memoizedProps:Ut,er=gt.type,ir=gt.updateQueue;if(gt.updateQueue=null,ir!==null)try{er==="input"&&Ut.type==="radio"&&Ut.name!=null&&Nr(zt,Ut),$n(er,Kt);var mr=$n(er,Ut);for(Kt=0;Kt<ir.length;Kt+=2){var Sr=ir[Kt],jr=ir[Kt+1];Sr==="style"?qn(zt,jr):Sr==="dangerouslySetInnerHTML"?vr(zt,jr):Sr==="children"?Pr(zt,jr):wt(zt,Sr,jr,mr)}switch(er){case"input":Mr(zt,Ut);break;case"textarea":an(zt,Ut);break;case"select":var wr=zt._wrapperState.wasMultiple;zt._wrapperState.wasMultiple=!!Ut.multiple;var Lr=Ut.value;Lr!=null?Jr(zt,!!Ut.multiple,Lr,!1):wr!==!!Ut.multiple&&(Ut.defaultValue!=null?Jr(zt,!!Ut.multiple,Ut.defaultValue,!0):Jr(zt,!!Ut.multiple,Ut.multiple?[]:"",!1))}zt[vo]=Ut}catch(Hr){zn(gt,gt.return,Hr)}}break;case 6:if(is(bt,gt),ms(gt),At&4){if(gt.stateNode===null)throw Error(ne(162));zt=gt.stateNode,Ut=gt.memoizedProps;try{zt.nodeValue=Ut}catch(Hr){zn(gt,gt.return,Hr)}}break;case 3:if(is(bt,gt),ms(gt),At&4&&kt!==null&&kt.memoizedState.isDehydrated)try{_s(bt.containerInfo)}catch(Hr){zn(gt,gt.return,Hr)}break;case 4:is(bt,gt),ms(gt);break;case 13:is(bt,gt),ms(gt),zt=gt.child,zt.flags&8192&&(Ut=zt.memoizedState!==null,zt.stateNode.isHidden=Ut,!Ut||zt.alternate!==null&&zt.alternate.memoizedState!==null||(tu=rn())),At&4&&th(gt);break;case 22:if(Sr=kt!==null&&kt.memoizedState!==null,gt.mode&1?(fi=(mr=fi)||Sr,is(bt,gt),fi=mr):is(bt,gt),ms(gt),At&8192){if(mr=gt.memoizedState!==null,(gt.stateNode.isHidden=mr)&&!Sr&&(gt.mode&1)!==0)for(Br=gt,Sr=gt.child;Sr!==null;){for(jr=Br=Sr;Br!==null;){switch(wr=Br,Lr=wr.child,wr.tag){case 0:case 11:case 14:case 15:Ao(4,wr,wr.return);break;case 1:Ga(wr,wr.return);var zr=wr.stateNode;if(typeof zr.componentWillUnmount=="function"){At=wr,kt=wr.return;try{bt=At,zr.props=bt.memoizedProps,zr.state=bt.memoizedState,zr.componentWillUnmount()}catch(Hr){zn(At,kt,Hr)}}break;case 5:Ga(wr,wr.return);break;case 22:if(wr.memoizedState!==null){sh(jr);continue}}Lr!==null?(Lr.return=wr,Br=Lr):sh(jr)}Sr=Sr.sibling}e:for(Sr=null,jr=gt;;){if(jr.tag===5){if(Sr===null){Sr=jr;try{zt=jr.stateNode,mr?(Ut=zt.style,typeof Ut.setProperty=="function"?Ut.setProperty("display","none","important"):Ut.display="none"):(er=jr.stateNode,ir=jr.memoizedProps.style,Kt=ir!=null&&ir.hasOwnProperty("display")?ir.display:null,er.style.display=kn("display",Kt))}catch(Hr){zn(gt,gt.return,Hr)}}}else if(jr.tag===6){if(Sr===null)try{jr.stateNode.nodeValue=mr?"":jr.memoizedProps}catch(Hr){zn(gt,gt.return,Hr)}}else if((jr.tag!==22&&jr.tag!==23||jr.memoizedState===null||jr===gt)&&jr.child!==null){jr.child.return=jr,jr=jr.child;continue}if(jr===gt)break e;for(;jr.sibling===null;){if(jr.return===null||jr.return===gt)break e;Sr===jr&&(Sr=null),jr=jr.return}Sr===jr&&(Sr=null),jr.sibling.return=jr.return,jr=jr.sibling}}break;case 19:is(bt,gt),ms(gt),At&4&&th(gt);break;case 21:break;default:is(bt,gt),ms(gt)}}function ms(gt){var bt=gt.flags;if(bt&2){try{e:{for(var kt=gt.return;kt!==null;){if(Jd(kt)){var At=kt;break e}kt=kt.return}throw Error(ne(160))}switch(At.tag){case 5:var zt=At.stateNode;At.flags&32&&(Pr(zt,""),At.flags&=-33);var Ut=Qd(gt);Jc(gt,Ut,zt);break;case 3:case 4:var Kt=At.stateNode.containerInfo,er=Qd(gt);Zc(gt,er,Kt);break;default:throw Error(ne(161))}}catch(ir){zn(gt,gt.return,ir)}gt.flags&=-3}bt&4096&&(gt.flags&=-4097)}function uf(gt,bt,kt){Br=gt,nh(gt)}function nh(gt,bt,kt){for(var At=(gt.mode&1)!==0;Br!==null;){var zt=Br,Ut=zt.child;if(zt.tag===22&&At){var Kt=zt.memoizedState!==null||vl;if(!Kt){var er=zt.alternate,ir=er!==null&&er.memoizedState!==null||fi;er=vl;var mr=fi;if(vl=Kt,(fi=ir)&&!mr)for(Br=zt;Br!==null;)Kt=Br,ir=Kt.child,Kt.tag===22&&Kt.memoizedState!==null?ah(zt):ir!==null?(ir.return=Kt,Br=ir):ah(zt);for(;Ut!==null;)Br=Ut,nh(Ut),Ut=Ut.sibling;Br=zt,vl=er,fi=mr}ih(gt)}else(zt.subtreeFlags&8772)!==0&&Ut!==null?(Ut.return=zt,Br=Ut):ih(gt)}}function ih(gt){for(;Br!==null;){var bt=Br;if((bt.flags&8772)!==0){var kt=bt.alternate;try{if((bt.flags&8772)!==0)switch(bt.tag){case 0:case 11:case 15:fi||bl(5,bt);break;case 1:var At=bt.stateNode;if(bt.flags&4&&!fi)if(kt===null)At.componentDidMount();else{var zt=bt.elementType===bt.type?kt.memoizedProps:rs(bt.type,kt.memoizedProps);At.componentDidUpdate(zt,kt.memoizedState,At.__reactInternalSnapshotBeforeUpdate)}var Ut=bt.updateQueue;Ut!==null&&sd(bt,Ut,At);break;case 3:var Kt=bt.updateQueue;if(Kt!==null){if(kt=null,bt.child!==null)switch(bt.child.tag){case 5:kt=bt.child.stateNode;break;case 1:kt=bt.child.stateNode}sd(bt,Kt,kt)}break;case 5:var er=bt.stateNode;if(kt===null&&bt.flags&4){kt=er;var ir=bt.memoizedProps;switch(bt.type){case"button":case"input":case"select":case"textarea":ir.autoFocus&&kt.focus();break;case"img":ir.src&&(kt.src=ir.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(bt.memoizedState===null){var mr=bt.alternate;if(mr!==null){var Sr=mr.memoizedState;if(Sr!==null){var jr=Sr.dehydrated;jr!==null&&_s(jr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}fi||bt.flags&512&&Xc(bt)}catch(wr){zn(bt,bt.return,wr)}}if(bt===gt){Br=null;break}if(kt=bt.sibling,kt!==null){kt.return=bt.return,Br=kt;break}Br=bt.return}}function sh(gt){for(;Br!==null;){var bt=Br;if(bt===gt){Br=null;break}var kt=bt.sibling;if(kt!==null){kt.return=bt.return,Br=kt;break}Br=bt.return}}function ah(gt){for(;Br!==null;){var bt=Br;try{switch(bt.tag){case 0:case 11:case 15:var kt=bt.return;try{bl(4,bt)}catch(ir){zn(bt,kt,ir)}break;case 1:var At=bt.stateNode;if(typeof At.componentDidMount=="function"){var zt=bt.return;try{At.componentDidMount()}catch(ir){zn(bt,zt,ir)}}var Ut=bt.return;try{Xc(bt)}catch(ir){zn(bt,Ut,ir)}break;case 5:var Kt=bt.return;try{Xc(bt)}catch(ir){zn(bt,Kt,ir)}}}catch(ir){zn(bt,bt.return,ir)}if(bt===gt){Br=null;break}var er=bt.sibling;if(er!==null){er.return=bt.return,Br=er;break}Br=bt.return}}var df=Math.ceil,El=St.ReactCurrentDispatcher,Qc=St.ReactCurrentOwner,Wi=St.ReactCurrentBatchConfig,pn=0,Jn=null,Un=null,ri=0,Ii=0,Ka=Us(0),Kn=0,Po=null,xa=0,_l=0,eu=0,No=null,Ti=null,tu=0,Ya=1/0,$s=null,wl=!1,ru=null,Zs=null,Sl=!1,Js=null,Cl=0,$o=0,nu=null,jl=-1,kl=0;function vi(){return(pn&6)!==0?rn():jl!==-1?jl:jl=rn()}function Qs(gt){return(gt.mode&1)===0?1:(pn&2)!==0&&ri!==0?ri&-ri:Gh.transition!==null?(kl===0&&(kl=Ji()),kl):(gt=hn,gt!==0||(gt=window.event,gt=gt===void 0?16:Ra(gt.type)),gt)}function ss(gt,bt,kt,At){if(50<$o)throw $o=0,nu=null,Error(ne(185));vs(gt,kt,At),((pn&2)===0||gt!==Jn)&&(gt===Jn&&((pn&2)===0&&(_l|=kt),Kn===4&&ea(gt,ri)),Ai(gt,At),kt===1&&pn===0&&(bt.mode&1)===0&&(Ya=rn()+500,tl&&Gs()))}function Ai(gt,bt){var kt=gt.callbackNode;wi(gt,bt);var At=na(gt,gt===Jn?ri:0);if(At===0)kt!==null&&Cr(kt),gt.callbackNode=null,gt.callbackPriority=0;else if(bt=At&-At,gt.callbackPriority!==bt){if(kt!=null&&Cr(kt),bt===1)gt.tag===0?Wh(lh.bind(null,gt)):Wu(lh.bind(null,gt)),qh(function(){(pn&6)===0&&Gs()}),kt=null;else{switch(wa(At)){case 1:kt=Mn;break;case 4:kt=wn;break;case 16:kt=Fn;break;case 536870912:kt=Rn;break;default:kt=Fn}kt=xh(kt,oh.bind(null,gt))}gt.callbackPriority=bt,gt.callbackNode=kt}}function oh(gt,bt){if(jl=-1,kl=0,(pn&6)!==0)throw Error(ne(327));var kt=gt.callbackNode;if(Xa()&&gt.callbackNode!==kt)return null;var At=na(gt,gt===Jn?ri:0);if(At===0)return null;if((At&30)!==0||(At&gt.expiredLanes)!==0||bt)bt=Rl(gt,At);else{bt=At;var zt=pn;pn|=2;var Ut=dh();(Jn!==gt||ri!==bt)&&($s=null,Ya=rn()+500,va(gt,bt));do try{pf();break}catch(er){uh(gt,er)}while(!0);yc(),El.current=Ut,pn=zt,Un!==null?bt=0:(Jn=null,ri=0,bt=Kn)}if(bt!==0){if(bt===2&&(zt=ia(gt),zt!==0&&(At=zt,bt=iu(gt,zt))),bt===1)throw kt=Po,va(gt,0),ea(gt,At),Ai(gt,rn()),kt;if(bt===6)ea(gt,At);else{if(zt=gt.current.alternate,(At&30)===0&&!hf(zt)&&(bt=Rl(gt,At),bt===2&&(Ut=ia(gt),Ut!==0&&(At=Ut,bt=iu(gt,Ut))),bt===1))throw kt=Po,va(gt,0),ea(gt,At),Ai(gt,rn()),kt;switch(gt.finishedWork=zt,gt.finishedLanes=At,bt){case 0:case 1:throw Error(ne(345));case 2:ba(gt,Ti,$s);break;case 3:if(ea(gt,At),(At&130023424)===At&&(bt=tu+500-rn(),10<bt)){if(na(gt,0)!==0)break;if(zt=gt.suspendedLanes,(zt&At)!==At){vi(),gt.pingedLanes|=gt.suspendedLanes&zt;break}gt.timeoutHandle=ac(ba.bind(null,gt,Ti,$s),bt);break}ba(gt,Ti,$s);break;case 4:if(ea(gt,At),(At&4194240)===At)break;for(bt=gt.eventTimes,zt=-1;0<At;){var Kt=31-li(At);Ut=1<<Kt,Kt=bt[Kt],Kt>zt&&(zt=Kt),At&=~Ut}if(At=zt,At=rn()-At,At=(120>At?120:480>At?480:1080>At?1080:1920>At?1920:3e3>At?3e3:4320>At?4320:1960*df(At/1960))-At,10<At){gt.timeoutHandle=ac(ba.bind(null,gt,Ti,$s),At);break}ba(gt,Ti,$s);break;case 5:ba(gt,Ti,$s);break;default:throw Error(ne(329))}}}return Ai(gt,rn()),gt.callbackNode===kt?oh.bind(null,gt):null}function iu(gt,bt){var kt=No;return gt.current.memoizedState.isDehydrated&&(va(gt,bt).flags|=256),gt=Rl(gt,bt),gt!==2&&(bt=Ti,Ti=kt,bt!==null&&su(bt)),gt}function su(gt){Ti===null?Ti=gt:Ti.push.apply(Ti,gt)}function hf(gt){for(var bt=gt;;){if(bt.flags&16384){var kt=bt.updateQueue;if(kt!==null&&(kt=kt.stores,kt!==null))for(var At=0;At<kt.length;At++){var zt=kt[At],Ut=zt.getSnapshot;zt=zt.value;try{if(!es(Ut(),zt))return!1}catch{return!1}}}if(kt=bt.child,bt.subtreeFlags&16384&&kt!==null)kt.return=bt,bt=kt;else{if(bt===gt)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===gt)return!0;bt=bt.return}bt.sibling.return=bt.return,bt=bt.sibling}}return!0}function ea(gt,bt){for(bt&=~eu,bt&=~_l,gt.suspendedLanes|=bt,gt.pingedLanes&=~bt,gt=gt.expirationTimes;0<bt;){var kt=31-li(bt),At=1<<kt;gt[kt]=-1,bt&=~At}}function lh(gt){if((pn&6)!==0)throw Error(ne(327));Xa();var bt=na(gt,0);if((bt&1)===0)return Ai(gt,rn()),null;var kt=Rl(gt,bt);if(gt.tag!==0&&kt===2){var At=ia(gt);At!==0&&(bt=At,kt=iu(gt,At))}if(kt===1)throw kt=Po,va(gt,0),ea(gt,bt),Ai(gt,rn()),kt;if(kt===6)throw Error(ne(345));return gt.finishedWork=gt.current.alternate,gt.finishedLanes=bt,ba(gt,Ti,$s),Ai(gt,rn()),null}function au(gt,bt){var kt=pn;pn|=1;try{return gt(bt)}finally{pn=kt,pn===0&&(Ya=rn()+500,tl&&Gs())}}function ya(gt){Js!==null&&Js.tag===0&&(pn&6)===0&&Xa();var bt=pn;pn|=1;var kt=Wi.transition,At=hn;try{if(Wi.transition=null,hn=1,gt)return gt()}finally{hn=At,Wi.transition=kt,pn=bt,(pn&6)===0&&Gs()}}function ou(){Ii=Ka.current,Pn(Ka)}function va(gt,bt){gt.finishedWork=null,gt.finishedLanes=0;var kt=gt.timeoutHandle;if(kt!==-1&&(gt.timeoutHandle=-1,zh(kt)),Un!==null)for(kt=Un.return;kt!==null;){var At=kt;switch(fc(At),At.tag){case 1:At=At.type.childContextTypes,At!=null&&Qo();break;case 3:Ua(),Pn(ji),Pn(ui),kc();break;case 5:Cc(At);break;case 4:Ua();break;case 13:Pn(On);break;case 19:Pn(On);break;case 10:vc(At.type._context);break;case 22:case 23:ou()}kt=kt.return}if(Jn=gt,Un=gt=ta(gt.current,null),ri=Ii=bt,Kn=0,Po=null,eu=_l=xa=0,Ti=No=null,pa!==null){for(bt=0;bt<pa.length;bt++)if(kt=pa[bt],At=kt.interleaved,At!==null){kt.interleaved=null;var zt=At.next,Ut=kt.pending;if(Ut!==null){var Kt=Ut.next;Ut.next=zt,At.next=Kt}kt.pending=At}pa=null}return gt}function uh(gt,bt){do{var kt=Un;try{if(yc(),dl.current=ml,hl){for(var At=In.memoizedState;At!==null;){var zt=At.queue;zt!==null&&(zt.pending=null),At=At.next}hl=!1}if(ga=0,Zn=Gn=In=null,Co=!1,jo=0,Qc.current=null,kt===null||kt.return===null){Kn=1,Po=bt,Un=null;break}e:{var Ut=gt,Kt=kt.return,er=kt,ir=bt;if(bt=ri,er.flags|=32768,ir!==null&&typeof ir=="object"&&typeof ir.then=="function"){var mr=ir,Sr=er,jr=Sr.tag;if((Sr.mode&1)===0&&(jr===0||jr===11||jr===15)){var wr=Sr.alternate;wr?(Sr.updateQueue=wr.updateQueue,Sr.memoizedState=wr.memoizedState,Sr.lanes=wr.lanes):(Sr.updateQueue=null,Sr.memoizedState=null)}var Lr=Md(Kt);if(Lr!==null){Lr.flags&=-257,Od(Lr,Kt,er,Ut,bt),Lr.mode&1&&$d(Ut,mr,bt),bt=Lr,ir=mr;var zr=bt.updateQueue;if(zr===null){var Hr=new Set;Hr.add(ir),bt.updateQueue=Hr}else zr.add(ir);break e}else{if((bt&1)===0){$d(Ut,mr,bt),lu();break e}ir=Error(ne(426))}}else if(Nn&&er.mode&1){var Vn=Md(Kt);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),Od(Vn,Kt,er,Ut,bt),gc(Wa(ir,er));break e}}Ut=ir=Wa(ir,er),Kn!==4&&(Kn=2),No===null?No=[Ut]:No.push(Ut),Ut=Kt;do{switch(Ut.tag){case 3:Ut.flags|=65536,bt&=-bt,Ut.lanes|=bt;var hr=Pd(Ut,ir,bt);nd(Ut,hr);break e;case 1:er=ir;var lr=Ut.type,fr=Ut.stateNode;if((Ut.flags&128)===0&&(typeof lr.getDerivedStateFromError=="function"||fr!==null&&typeof fr.componentDidCatch=="function"&&(Zs===null||!Zs.has(fr)))){Ut.flags|=65536,bt&=-bt,Ut.lanes|=bt;var Rr=Nd(Ut,er,bt);nd(Ut,Rr);break e}}Ut=Ut.return}while(Ut!==null)}fh(kt)}catch(Ur){bt=Ur,Un===kt&&kt!==null&&(Un=kt=kt.return);continue}break}while(!0)}function dh(){var gt=El.current;return El.current=ml,gt===null?ml:gt}function lu(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),Jn===null||(xa&268435455)===0&&(_l&268435455)===0||ea(Jn,ri)}function Rl(gt,bt){var kt=pn;pn|=2;var At=dh();(Jn!==gt||ri!==bt)&&($s=null,va(gt,bt));do try{ff();break}catch(zt){uh(gt,zt)}while(!0);if(yc(),pn=kt,El.current=At,Un!==null)throw Error(ne(261));return Jn=null,ri=0,Kn}function ff(){for(;Un!==null;)hh(Un)}function pf(){for(;Un!==null&&!Or();)hh(Un)}function hh(gt){var bt=gh(gt.alternate,gt,Ii);gt.memoizedProps=gt.pendingProps,bt===null?fh(gt):Un=bt,Qc.current=null}function fh(gt){var bt=gt;do{var kt=bt.alternate;if(gt=bt.return,(bt.flags&32768)===0){if(kt=af(kt,bt,Ii),kt!==null){Un=kt;return}}else{if(kt=of(kt,bt),kt!==null){kt.flags&=32767,Un=kt;return}if(gt!==null)gt.flags|=32768,gt.subtreeFlags=0,gt.deletions=null;else{Kn=6,Un=null;return}}if(bt=bt.sibling,bt!==null){Un=bt;return}Un=bt=gt}while(bt!==null);Kn===0&&(Kn=5)}function ba(gt,bt,kt){var At=hn,zt=Wi.transition;try{Wi.transition=null,hn=1,mf(gt,bt,kt,At)}finally{Wi.transition=zt,hn=At}return null}function mf(gt,bt,kt,At){do Xa();while(Js!==null);if((pn&6)!==0)throw Error(ne(327));kt=gt.finishedWork;var zt=gt.finishedLanes;if(kt===null)return null;if(gt.finishedWork=null,gt.finishedLanes=0,kt===gt.current)throw Error(ne(177));gt.callbackNode=null,gt.callbackPriority=0;var Ut=kt.lanes|kt.childLanes;if(Ds(gt,Ut),gt===Jn&&(Un=Jn=null,ri=0),(kt.subtreeFlags&2064)===0&&(kt.flags&2064)===0||Sl||(Sl=!0,xh(Fn,function(){return Xa(),null})),Ut=(kt.flags&15990)!==0,(kt.subtreeFlags&15990)!==0||Ut){Ut=Wi.transition,Wi.transition=null;var Kt=hn;hn=1;var er=pn;pn|=4,Qc.current=null,cf(gt,kt),rh(kt,gt),Mh(ic),Tn=!!nc,ic=nc=null,gt.current=kt,uf(kt),xn(),pn=er,hn=Kt,Wi.transition=Ut}else gt.current=kt;if(Sl&&(Sl=!1,Js=gt,Cl=zt),Ut=gt.pendingLanes,Ut===0&&(Zs=null),Pi(kt.stateNode),Ai(gt,rn()),bt!==null)for(At=gt.onRecoverableError,kt=0;kt<bt.length;kt++)zt=bt[kt],At(zt.value,{componentStack:zt.stack,digest:zt.digest});if(wl)throw wl=!1,gt=ru,ru=null,gt;return(Cl&1)!==0&&gt.tag!==0&&Xa(),Ut=gt.pendingLanes,(Ut&1)!==0?gt===nu?$o++:($o=0,nu=gt):$o=0,Gs(),null}function Xa(){if(Js!==null){var gt=wa(Cl),bt=Wi.transition,kt=hn;try{if(Wi.transition=null,hn=16>gt?16:gt,Js===null)var At=!1;else{if(gt=Js,Js=null,Cl=0,(pn&6)!==0)throw Error(ne(331));var zt=pn;for(pn|=4,Br=gt.current;Br!==null;){var Ut=Br,Kt=Ut.child;if((Br.flags&16)!==0){var er=Ut.deletions;if(er!==null){for(var ir=0;ir<er.length;ir++){var mr=er[ir];for(Br=mr;Br!==null;){var Sr=Br;switch(Sr.tag){case 0:case 11:case 15:Ao(8,Sr,Ut)}var jr=Sr.child;if(jr!==null)jr.return=Sr,Br=jr;else for(;Br!==null;){Sr=Br;var wr=Sr.sibling,Lr=Sr.return;if(Zd(Sr),Sr===mr){Br=null;break}if(wr!==null){wr.return=Lr,Br=wr;break}Br=Lr}}}var zr=Ut.alternate;if(zr!==null){var Hr=zr.child;if(Hr!==null){zr.child=null;do{var Vn=Hr.sibling;Hr.sibling=null,Hr=Vn}while(Hr!==null)}}Br=Ut}}if((Ut.subtreeFlags&2064)!==0&&Kt!==null)Kt.return=Ut,Br=Kt;else e:for(;Br!==null;){if(Ut=Br,(Ut.flags&2048)!==0)switch(Ut.tag){case 0:case 11:case 15:Ao(9,Ut,Ut.return)}var hr=Ut.sibling;if(hr!==null){hr.return=Ut.return,Br=hr;break e}Br=Ut.return}}var lr=gt.current;for(Br=lr;Br!==null;){Kt=Br;var fr=Kt.child;if((Kt.subtreeFlags&2064)!==0&&fr!==null)fr.return=Kt,Br=fr;else e:for(Kt=lr;Br!==null;){if(er=Br,(er.flags&2048)!==0)try{switch(er.tag){case 0:case 11:case 15:bl(9,er)}}catch(Ur){zn(er,er.return,Ur)}if(er===Kt){Br=null;break e}var Rr=er.sibling;if(Rr!==null){Rr.return=er.return,Br=Rr;break e}Br=er.return}}if(pn=zt,Gs(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(oi,gt)}catch{}At=!0}return At}finally{hn=kt,Wi.transition=bt}}return!1}function ph(gt,bt,kt){bt=Wa(kt,bt),bt=Pd(gt,bt,1),gt=Ys(gt,bt,1),bt=vi(),gt!==null&&(vs(gt,1,bt),Ai(gt,bt))}function zn(gt,bt,kt){if(gt.tag===3)ph(gt,gt,kt);else for(;bt!==null;){if(bt.tag===3){ph(bt,gt,kt);break}else if(bt.tag===1){var At=bt.stateNode;if(typeof bt.type.getDerivedStateFromError=="function"||typeof At.componentDidCatch=="function"&&(Zs===null||!Zs.has(At))){gt=Wa(kt,gt),gt=Nd(bt,gt,1),bt=Ys(bt,gt,1),gt=vi(),bt!==null&&(vs(bt,1,gt),Ai(bt,gt));break}}bt=bt.return}}function gf(gt,bt,kt){var At=gt.pingCache;At!==null&&At.delete(bt),bt=vi(),gt.pingedLanes|=gt.suspendedLanes&kt,Jn===gt&&(ri&kt)===kt&&(Kn===4||Kn===3&&(ri&130023424)===ri&&500>rn()-tu?va(gt,0):eu|=kt),Ai(gt,bt)}function mh(gt,bt){bt===0&&((gt.mode&1)===0?bt=1:(bt=Ls,Ls<<=1,(Ls&130023424)===0&&(Ls=4194304)));var kt=vi();gt=As(gt,bt),gt!==null&&(vs(gt,bt,kt),Ai(gt,kt))}function xf(gt){var bt=gt.memoizedState,kt=0;bt!==null&&(kt=bt.retryLane),mh(gt,kt)}function yf(gt,bt){var kt=0;switch(gt.tag){case 13:var At=gt.stateNode,zt=gt.memoizedState;zt!==null&&(kt=zt.retryLane);break;case 19:At=gt.stateNode;break;default:throw Error(ne(314))}At!==null&&At.delete(bt),mh(gt,kt)}var gh;gh=function(gt,bt,kt){if(gt!==null)if(gt.memoizedProps!==bt.pendingProps||ji.current)Ri=!0;else{if((gt.lanes&kt)===0&&(bt.flags&128)===0)return Ri=!1,sf(gt,bt,kt);Ri=(gt.flags&131072)!==0}else Ri=!1,Nn&&(bt.flags&1048576)!==0&&Gu(bt,nl,bt.index);switch(bt.lanes=0,bt.tag){case 2:var At=bt.type;yl(gt,bt),gt=bt.pendingProps;var zt=Da(bt,ui.current);Va(bt,kt),zt=Pc(null,bt,At,gt,zt,kt);var Ut=Nc();return bt.flags|=1,typeof zt=="object"&&zt!==null&&typeof zt.render=="function"&&zt.$$typeof===void 0?(bt.tag=1,bt.memoizedState=null,bt.updateQueue=null,ki(At)?(Ut=!0,el(bt)):Ut=!1,bt.memoizedState=zt.state!==null&&zt.state!==void 0?zt.state:null,_c(bt),zt.updater=gl,bt.stateNode=zt,zt._reactInternals=bt,Fc(bt,At,gt,kt),bt=Hc(null,bt,At,!0,Ut,kt)):(bt.tag=0,Nn&&Ut&&hc(bt),yi(null,bt,zt,kt),bt=bt.child),bt;case 16:At=bt.elementType;e:{switch(yl(gt,bt),gt=bt.pendingProps,zt=At._init,At=zt(At._payload),bt.type=At,zt=bt.tag=bf(At),gt=rs(At,gt),zt){case 0:bt=qc(null,bt,At,gt,kt);break e;case 1:bt=zd(null,bt,At,gt,kt);break e;case 11:bt=Id(null,bt,At,gt,kt);break e;case 14:bt=Ld(null,bt,At,rs(At.type,gt),kt);break e}throw Error(ne(306,At,""))}return bt;case 0:return At=bt.type,zt=bt.pendingProps,zt=bt.elementType===At?zt:rs(At,zt),qc(gt,bt,At,zt,kt);case 1:return At=bt.type,zt=bt.pendingProps,zt=bt.elementType===At?zt:rs(At,zt),zd(gt,bt,At,zt,kt);case 3:e:{if(qd(bt),gt===null)throw Error(ne(387));At=bt.pendingProps,Ut=bt.memoizedState,zt=Ut.element,rd(gt,bt),cl(bt,At,null,kt);var Kt=bt.memoizedState;if(At=Kt.element,Ut.isDehydrated)if(Ut={element:At,isDehydrated:!1,cache:Kt.cache,pendingSuspenseBoundaries:Kt.pendingSuspenseBoundaries,transitions:Kt.transitions},bt.updateQueue.baseState=Ut,bt.memoizedState=Ut,bt.flags&256){zt=Wa(Error(ne(423)),bt),bt=Hd(gt,bt,At,kt,zt);break e}else if(At!==zt){zt=Wa(Error(ne(424)),bt),bt=Hd(gt,bt,At,kt,zt);break e}else for(Oi=Vs(bt.stateNode.containerInfo.firstChild),Mi=bt,Nn=!0,ts=null,kt=ed(bt,null,At,kt),bt.child=kt;kt;)kt.flags=kt.flags&-3|4096,kt=kt.sibling;else{if(za(),At===zt){bt=Ns(gt,bt,kt);break e}yi(gt,bt,At,kt)}bt=bt.child}return bt;case 5:return ad(bt),gt===null&&mc(bt),At=bt.type,zt=bt.pendingProps,Ut=gt!==null?gt.memoizedProps:null,Kt=zt.children,sc(At,zt)?Kt=null:Ut!==null&&sc(At,Ut)&&(bt.flags|=32),Bd(gt,bt),yi(gt,bt,Kt,kt),bt.child;case 6:return gt===null&&mc(bt),null;case 13:return Vd(gt,bt,kt);case 4:return wc(bt,bt.stateNode.containerInfo),At=bt.pendingProps,gt===null?bt.child=qa(bt,null,At,kt):yi(gt,bt,At,kt),bt.child;case 11:return At=bt.type,zt=bt.pendingProps,zt=bt.elementType===At?zt:rs(At,zt),Id(gt,bt,At,zt,kt);case 7:return yi(gt,bt,bt.pendingProps,kt),bt.child;case 8:return yi(gt,bt,bt.pendingProps.children,kt),bt.child;case 12:return yi(gt,bt,bt.pendingProps.children,kt),bt.child;case 10:e:{if(At=bt.type._context,zt=bt.pendingProps,Ut=bt.memoizedProps,Kt=zt.value,jn(al,At._currentValue),At._currentValue=Kt,Ut!==null)if(es(Ut.value,Kt)){if(Ut.children===zt.children&&!ji.current){bt=Ns(gt,bt,kt);break e}}else for(Ut=bt.child,Ut!==null&&(Ut.return=bt);Ut!==null;){var er=Ut.dependencies;if(er!==null){Kt=Ut.child;for(var ir=er.firstContext;ir!==null;){if(ir.context===At){if(Ut.tag===1){ir=Ps(-1,kt&-kt),ir.tag=2;var mr=Ut.updateQueue;if(mr!==null){mr=mr.shared;var Sr=mr.pending;Sr===null?ir.next=ir:(ir.next=Sr.next,Sr.next=ir),mr.pending=ir}}Ut.lanes|=kt,ir=Ut.alternate,ir!==null&&(ir.lanes|=kt),bc(Ut.return,kt,bt),er.lanes|=kt;break}ir=ir.next}}else if(Ut.tag===10)Kt=Ut.type===bt.type?null:Ut.child;else if(Ut.tag===18){if(Kt=Ut.return,Kt===null)throw Error(ne(341));Kt.lanes|=kt,er=Kt.alternate,er!==null&&(er.lanes|=kt),bc(Kt,kt,bt),Kt=Ut.sibling}else Kt=Ut.child;if(Kt!==null)Kt.return=Ut;else for(Kt=Ut;Kt!==null;){if(Kt===bt){Kt=null;break}if(Ut=Kt.sibling,Ut!==null){Ut.return=Kt.return,Kt=Ut;break}Kt=Kt.return}Ut=Kt}yi(gt,bt,zt.children,kt),bt=bt.child}return bt;case 9:return zt=bt.type,At=bt.pendingProps.children,Va(bt,kt),zt=Vi(zt),At=At(zt),bt.flags|=1,yi(gt,bt,At,kt),bt.child;case 14:return At=bt.type,zt=rs(At,bt.pendingProps),zt=rs(At.type,zt),Ld(gt,bt,At,zt,kt);case 15:return Dd(gt,bt,bt.type,bt.pendingProps,kt);case 17:return At=bt.type,zt=bt.pendingProps,zt=bt.elementType===At?zt:rs(At,zt),yl(gt,bt),bt.tag=1,ki(At)?(gt=!0,el(bt)):gt=!1,Va(bt,kt),Td(bt,At,zt),Fc(bt,At,zt,kt),Hc(null,bt,At,!0,gt,kt);case 19:return Wd(gt,bt,kt);case 22:return Fd(gt,bt,kt)}throw Error(ne(156,bt.tag))};function xh(gt,bt){return nr(gt,bt)}function vf(gt,bt,kt,At){this.tag=gt,this.key=kt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=bt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=At,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(gt,bt,kt,At){return new vf(gt,bt,kt,At)}function cu(gt){return gt=gt.prototype,!(!gt||!gt.isReactComponent)}function bf(gt){if(typeof gt=="function")return cu(gt)?1:0;if(gt!=null){if(gt=gt.$$typeof,gt===Bt)return 11;if(gt===qt)return 14}return 2}function ta(gt,bt){var kt=gt.alternate;return kt===null?(kt=Gi(gt.tag,bt,gt.key,gt.mode),kt.elementType=gt.elementType,kt.type=gt.type,kt.stateNode=gt.stateNode,kt.alternate=gt,gt.alternate=kt):(kt.pendingProps=bt,kt.type=gt.type,kt.flags=0,kt.subtreeFlags=0,kt.deletions=null),kt.flags=gt.flags&14680064,kt.childLanes=gt.childLanes,kt.lanes=gt.lanes,kt.child=gt.child,kt.memoizedProps=gt.memoizedProps,kt.memoizedState=gt.memoizedState,kt.updateQueue=gt.updateQueue,bt=gt.dependencies,kt.dependencies=bt===null?null:{lanes:bt.lanes,firstContext:bt.firstContext},kt.sibling=gt.sibling,kt.index=gt.index,kt.ref=gt.ref,kt}function Tl(gt,bt,kt,At,zt,Ut){var Kt=2;if(At=gt,typeof gt=="function")cu(gt)&&(Kt=1);else if(typeof gt=="string")Kt=5;else e:switch(gt){case Rt:return Ea(kt.children,zt,Ut,bt);case Pt:Kt=8,zt|=8;break;case Ot:return gt=Gi(12,kt,bt,zt|2),gt.elementType=Ot,gt.lanes=Ut,gt;case Gt:return gt=Gi(13,kt,bt,zt),gt.elementType=Gt,gt.lanes=Ut,gt;case It:return gt=Gi(19,kt,bt,zt),gt.elementType=It,gt.lanes=Ut,gt;case Dt:return Al(kt,zt,Ut,bt);default:if(typeof gt=="object"&&gt!==null)switch(gt.$$typeof){case Ft:Kt=10;break e;case Lt:Kt=9;break e;case Bt:Kt=11;break e;case qt:Kt=14;break e;case Nt:Kt=16,At=null;break e}throw Error(ne(130,gt==null?gt:typeof gt,""))}return bt=Gi(Kt,kt,bt,zt),bt.elementType=gt,bt.type=At,bt.lanes=Ut,bt}function Ea(gt,bt,kt,At){return gt=Gi(7,gt,At,bt),gt.lanes=kt,gt}function Al(gt,bt,kt,At){return gt=Gi(22,gt,At,bt),gt.elementType=Dt,gt.lanes=kt,gt.stateNode={isHidden:!1},gt}function uu(gt,bt,kt){return gt=Gi(6,gt,null,bt),gt.lanes=kt,gt}function du(gt,bt,kt){return bt=Gi(4,gt.children!==null?gt.children:[],gt.key,bt),bt.lanes=kt,bt.stateNode={containerInfo:gt.containerInfo,pendingChildren:null,implementation:gt.implementation},bt}function Ef(gt,bt,kt,At,zt){this.tag=bt,this.containerInfo=gt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ys(0),this.expirationTimes=ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.identifierPrefix=At,this.onRecoverableError=zt,this.mutableSourceEagerHydrationData=null}function hu(gt,bt,kt,At,zt,Ut,Kt,er,ir){return gt=new Ef(gt,bt,kt,er,ir),bt===1?(bt=1,Ut===!0&&(bt|=8)):bt=0,Ut=Gi(3,null,null,bt),gt.current=Ut,Ut.stateNode=gt,Ut.memoizedState={element:At,isDehydrated:kt,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(Ut),gt}function _f(gt,bt,kt){var At=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jt,key:At==null?null:""+At,children:gt,containerInfo:bt,implementation:kt}}function yh(gt){if(!gt)return Ws;gt=gt._reactInternals;e:{if(ai(gt)!==gt||gt.tag!==1)throw Error(ne(170));var bt=gt;do{switch(bt.tag){case 3:bt=bt.stateNode.context;break e;case 1:if(ki(bt.type)){bt=bt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}bt=bt.return}while(bt!==null);throw Error(ne(171))}if(gt.tag===1){var kt=gt.type;if(ki(kt))return Vu(gt,kt,bt)}return bt}function vh(gt,bt,kt,At,zt,Ut,Kt,er,ir){return gt=hu(kt,At,!0,gt,zt,Ut,Kt,er,ir),gt.context=yh(null),kt=gt.current,At=vi(),zt=Qs(kt),Ut=Ps(At,zt),Ut.callback=bt??null,Ys(kt,Ut,zt),gt.current.lanes=zt,vs(gt,zt,At),Ai(gt,At),gt}function Pl(gt,bt,kt,At){var zt=bt.current,Ut=vi(),Kt=Qs(zt);return kt=yh(kt),bt.context===null?bt.context=kt:bt.pendingContext=kt,bt=Ps(Ut,Kt),bt.payload={element:gt},At=At===void 0?null:At,At!==null&&(bt.callback=At),gt=Ys(zt,bt,Kt),gt!==null&&(ss(gt,zt,Kt,Ut),ll(gt,zt,Kt)),Kt}function Nl(gt){if(gt=gt.current,!gt.child)return null;switch(gt.child.tag){case 5:return gt.child.stateNode;default:return gt.child.stateNode}}function bh(gt,bt){if(gt=gt.memoizedState,gt!==null&&gt.dehydrated!==null){var kt=gt.retryLane;gt.retryLane=kt!==0&&kt<bt?kt:bt}}function fu(gt,bt){bh(gt,bt),(gt=gt.alternate)&&bh(gt,bt)}function wf(){return null}var Eh=typeof reportError=="function"?reportError:function(gt){console.error(gt)};function pu(gt){this._internalRoot=gt}$l.prototype.render=pu.prototype.render=function(gt){var bt=this._internalRoot;if(bt===null)throw Error(ne(409));Pl(gt,bt,null,null)},$l.prototype.unmount=pu.prototype.unmount=function(){var gt=this._internalRoot;if(gt!==null){this._internalRoot=null;var bt=gt.containerInfo;ya(function(){Pl(null,gt,null,null)}),bt[js]=null}};function $l(gt){this._internalRoot=gt}$l.prototype.unstable_scheduleHydration=function(gt){if(gt){var bt=Sa();gt={blockedOn:null,target:gt,priority:bt};for(var kt=0;kt<Di.length&&bt!==0&&bt<Di[kt].priority;kt++);Di.splice(kt,0,gt),kt===0&&Vr(gt)}};function mu(gt){return!(!gt||gt.nodeType!==1&&gt.nodeType!==9&&gt.nodeType!==11)}function Ml(gt){return!(!gt||gt.nodeType!==1&&gt.nodeType!==9&&gt.nodeType!==11&&(gt.nodeType!==8||gt.nodeValue!==" react-mount-point-unstable "))}function _h(){}function Sf(gt,bt,kt,At,zt){if(zt){if(typeof At=="function"){var Ut=At;At=function(){var mr=Nl(Kt);Ut.call(mr)}}var Kt=vh(bt,At,gt,0,null,!1,!1,"",_h);return gt._reactRootContainer=Kt,gt[js]=Kt.current,xo(gt.nodeType===8?gt.parentNode:gt),ya(),Kt}for(;zt=gt.lastChild;)gt.removeChild(zt);if(typeof At=="function"){var er=At;At=function(){var mr=Nl(ir);er.call(mr)}}var ir=hu(gt,0,!1,null,null,!1,!1,"",_h);return gt._reactRootContainer=ir,gt[js]=ir.current,xo(gt.nodeType===8?gt.parentNode:gt),ya(function(){Pl(bt,ir,kt,At)}),ir}function Ol(gt,bt,kt,At,zt){var Ut=kt._reactRootContainer;if(Ut){var Kt=Ut;if(typeof zt=="function"){var er=zt;zt=function(){var ir=Nl(Kt);er.call(ir)}}Pl(bt,Kt,gt,zt)}else Kt=Sf(kt,bt,gt,zt,At);return Nl(Kt)}Oo=function(gt){switch(gt.tag){case 3:var bt=gt.stateNode;if(bt.current.memoizedState.isDehydrated){var kt=Zi(bt.pendingLanes);kt!==0&&(Si(bt,kt|1),Ai(bt,rn()),(pn&6)===0&&(Ya=rn()+500,Gs()))}break;case 13:ya(function(){var At=As(gt,1);if(At!==null){var zt=vi();ss(At,gt,1,zt)}}),fu(gt,1)}},Ja=function(gt){if(gt.tag===13){var bt=As(gt,134217728);if(bt!==null){var kt=vi();ss(bt,gt,134217728,kt)}fu(gt,134217728)}},Qa=function(gt){if(gt.tag===13){var bt=Qs(gt),kt=As(gt,bt);if(kt!==null){var At=vi();ss(kt,gt,bt,At)}fu(gt,bt)}},Sa=function(){return hn},os=function(gt,bt){var kt=hn;try{return hn=gt,bt()}finally{hn=kt}},mi=function(gt,bt,kt){switch(bt){case"input":if(Mr(gt,kt),bt=kt.name,kt.type==="radio"&&bt!=null){for(kt=gt;kt.parentNode;)kt=kt.parentNode;for(kt=kt.querySelectorAll("input[name="+JSON.stringify(""+bt)+'][type="radio"]'),bt=0;bt<kt.length;bt++){var At=kt[bt];if(At!==gt&&At.form===gt.form){var zt=Jo(At);if(!zt)throw Error(ne(90));Zt(At),Mr(At,zt)}}}break;case"textarea":an(gt,kt);break;case"select":bt=kt.value,bt!=null&&Jr(gt,!!kt.multiple,bt,!1)}},En=au,yr=ya;var Cf={usingClientEntryPoint:!1,Events:[bo,Ia,Jo,Ki,Li,au]},Mo={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jf={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(gt){return gt=Ms(gt),gt===null?null:gt.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||wf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{oi=Il.inject(jf),Xn=Il}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cf,reactDom_production_min.createPortal=function(gt,bt){var kt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(bt))throw Error(ne(200));return _f(gt,bt,null,kt)},reactDom_production_min.createRoot=function(gt,bt){if(!mu(gt))throw Error(ne(299));var kt=!1,At="",zt=Eh;return bt!=null&&(bt.unstable_strictMode===!0&&(kt=!0),bt.identifierPrefix!==void 0&&(At=bt.identifierPrefix),bt.onRecoverableError!==void 0&&(zt=bt.onRecoverableError)),bt=hu(gt,1,!1,null,null,kt,!1,At,zt),gt[js]=bt.current,xo(gt.nodeType===8?gt.parentNode:gt),new pu(bt)},reactDom_production_min.findDOMNode=function(gt){if(gt==null)return null;if(gt.nodeType===1)return gt;var bt=gt._reactInternals;if(bt===void 0)throw typeof gt.render=="function"?Error(ne(188)):(gt=Object.keys(gt).join(","),Error(ne(268,gt)));return gt=Ms(bt),gt=gt===null?null:gt.stateNode,gt},reactDom_production_min.flushSync=function(gt){return ya(gt)},reactDom_production_min.hydrate=function(gt,bt,kt){if(!Ml(bt))throw Error(ne(200));return Ol(null,gt,bt,!0,kt)},reactDom_production_min.hydrateRoot=function(gt,bt,kt){if(!mu(gt))throw Error(ne(405));var At=kt!=null&&kt.hydratedSources||null,zt=!1,Ut="",Kt=Eh;if(kt!=null&&(kt.unstable_strictMode===!0&&(zt=!0),kt.identifierPrefix!==void 0&&(Ut=kt.identifierPrefix),kt.onRecoverableError!==void 0&&(Kt=kt.onRecoverableError)),bt=vh(bt,null,gt,1,kt??null,zt,!1,Ut,Kt),gt[js]=bt.current,xo(gt),At)for(gt=0;gt<At.length;gt++)kt=At[gt],zt=kt._getVersion,zt=zt(kt._source),bt.mutableSourceEagerHydrationData==null?bt.mutableSourceEagerHydrationData=[kt,zt]:bt.mutableSourceEagerHydrationData.push(kt,zt);return new $l(bt)},reactDom_production_min.render=function(gt,bt,kt){if(!Ml(bt))throw Error(ne(200));return Ol(null,gt,bt,!1,kt)},reactDom_production_min.unmountComponentAtNode=function(gt){if(!Ml(gt))throw Error(ne(40));return gt._reactRootContainer?(ya(function(){Ol(null,null,gt,!1,function(){gt._reactRootContainer=null,gt[js]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=au,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(gt,bt,kt,At){if(!Ml(kt))throw Error(ne(200));if(gt==null||gt._reactInternals===void 0)throw Error(ne(38));return Ol(gt,bt,kt,!1,At)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ee)}catch(te){console.error(te)}}return ee(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var ee=requireReactDom();return client.createRoot=ee.createRoot,client.hydrateRoot=ee.hydrateRoot,client}var clientExports=requireClient(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(ee={}){function te(xe,rt){let{pathname:it,search:lt,hash:ct}=xe.location;return createLocation("",{pathname:it,search:lt,hash:ct},rt.state&&rt.state.usr||null,rt.state&&rt.state.key||"default")}function ne(xe,rt){return typeof rt=="string"?rt:createPath(rt)}return getUrlBasedHistory(te,ne,null,ee)}function invariant$1(ee,te){if(ee===!1||ee===null||typeof ee>"u")throw new Error(te)}function warning(ee,te){if(!ee){typeof console<"u"&&console.warn(te);try{throw new Error(te)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(ee,te){return{usr:ee.state,key:ee.key,idx:te}}function createLocation(ee,te,ne=null,xe){return{pathname:typeof ee=="string"?ee:ee.pathname,search:"",hash:"",...typeof te=="string"?parsePath(te):te,state:ne,key:te&&te.key||xe||createKey()}}function createPath({pathname:ee="/",search:te="",hash:ne=""}){return te&&te!=="?"&&(ee+=te.charAt(0)==="?"?te:"?"+te),ne&&ne!=="#"&&(ee+=ne.charAt(0)==="#"?ne:"#"+ne),ee}function parsePath(ee){let te={};if(ee){let ne=ee.indexOf("#");ne>=0&&(te.hash=ee.substring(ne),ee=ee.substring(0,ne));let xe=ee.indexOf("?");xe>=0&&(te.search=ee.substring(xe),ee=ee.substring(0,xe)),ee&&(te.pathname=ee)}return te}function getUrlBasedHistory(ee,te,ne,xe={}){let{window:rt=document.defaultView,v5Compat:it=!1}=xe,lt=rt.history,ct="POP",ut=null,dt=ht();dt==null&&(dt=0,lt.replaceState({...lt.state,idx:dt},""));function ht(){return(lt.state||{idx:null}).idx}function ft(){ct="POP";let vt=ht(),Et=vt==null?null:vt-dt;dt=vt,ut&&ut({action:ct,location:yt.location,delta:Et})}function pt(vt,Et){ct="PUSH";let _t=createLocation(yt.location,vt,Et);dt=ht()+1;let wt=getHistoryState(_t,dt),St=yt.createHref(_t);try{lt.pushState(wt,"",St)}catch(Ct){if(Ct instanceof DOMException&&Ct.name==="DataCloneError")throw Ct;rt.location.assign(St)}it&&ut&&ut({action:ct,location:yt.location,delta:1})}function mt(vt,Et){ct="REPLACE";let _t=createLocation(yt.location,vt,Et);dt=ht();let wt=getHistoryState(_t,dt),St=yt.createHref(_t);lt.replaceState(wt,"",St),it&&ut&&ut({action:ct,location:yt.location,delta:0})}function xt(vt){return createBrowserURLImpl(vt)}let yt={get action(){return ct},get location(){return ee(rt,lt)},listen(vt){if(ut)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,ft),ut=vt,()=>{rt.removeEventListener(PopStateEventType,ft),ut=null}},createHref(vt){return te(rt,vt)},createURL:xt,encodeLocation(vt){let Et=xt(vt);return{pathname:Et.pathname,search:Et.search,hash:Et.hash}},push:pt,replace:mt,go(vt){return lt.go(vt)}};return yt}function createBrowserURLImpl(ee,te=!1){let ne="http://localhost";typeof window<"u"&&(ne=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(ne,"No window.location.(origin|href) available to create URL");let xe=typeof ee=="string"?ee:createPath(ee);return xe=xe.replace(/ $/,"%20"),!te&&xe.startsWith("//")&&(xe=ne+xe),new URL(xe,ne)}function matchRoutes(ee,te,ne="/"){return matchRoutesImpl(ee,te,ne,!1)}function matchRoutesImpl(ee,te,ne,xe){let rt=typeof te=="string"?parsePath(te):te,it=stripBasename(rt.pathname||"/",ne);if(it==null)return null;let lt=flattenRoutes(ee);rankRouteBranches(lt);let ct=null;for(let ut=0;ct==null&&ut<lt.length;++ut){let dt=decodePath(it);ct=matchRouteBranch(lt[ut],dt,xe)}return ct}function flattenRoutes(ee,te=[],ne=[],xe="",rt=!1){let it=(lt,ct,ut=rt,dt)=>{let ht={relativePath:dt===void 0?lt.path||"":dt,caseSensitive:lt.caseSensitive===!0,childrenIndex:ct,route:lt};if(ht.relativePath.startsWith("/")){if(!ht.relativePath.startsWith(xe)&&ut)return;invariant$1(ht.relativePath.startsWith(xe),`Absolute route path "${ht.relativePath}" nested under path "${xe}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),ht.relativePath=ht.relativePath.slice(xe.length)}let ft=joinPaths([xe,ht.relativePath]),pt=ne.concat(ht);lt.children&&lt.children.length>0&&(invariant$1(lt.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ft}".`),flattenRoutes(lt.children,te,pt,ft,ut)),!(lt.path==null&&!lt.index)&&te.push({path:ft,score:computeScore(ft,lt.index),routesMeta:pt})};return ee.forEach((lt,ct)=>{if(lt.path===""||!lt.path?.includes("?"))it(lt,ct);else for(let ut of explodeOptionalSegments(lt.path))it(lt,ct,!0,ut)}),te}function explodeOptionalSegments(ee){let te=ee.split("/");if(te.length===0)return[];let[ne,...xe]=te,rt=ne.endsWith("?"),it=ne.replace(/\?$/,"");if(xe.length===0)return rt?[it,""]:[it];let lt=explodeOptionalSegments(xe.join("/")),ct=[];return ct.push(...lt.map(ut=>ut===""?it:[it,ut].join("/"))),rt&&ct.push(...lt),ct.map(ut=>ee.startsWith("/")&&ut===""?"/":ut)}function rankRouteBranches(ee){ee.sort((te,ne)=>te.score!==ne.score?ne.score-te.score:compareIndexes(te.routesMeta.map(xe=>xe.childrenIndex),ne.routesMeta.map(xe=>xe.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ee=>ee==="*";function computeScore(ee,te){let ne=ee.split("/"),xe=ne.length;return ne.some(isSplat)&&(xe+=splatPenalty),te&&(xe+=indexRouteValue),ne.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),xe)}function compareIndexes(ee,te){return ee.length===te.length&&ee.slice(0,-1).every((xe,rt)=>xe===te[rt])?ee[ee.length-1]-te[te.length-1]:0}function matchRouteBranch(ee,te,ne=!1){let{routesMeta:xe}=ee,rt={},it="/",lt=[];for(let ct=0;ct<xe.length;++ct){let ut=xe[ct],dt=ct===xe.length-1,ht=it==="/"?te:te.slice(it.length)||"/",ft=matchPath({path:ut.relativePath,caseSensitive:ut.caseSensitive,end:dt},ht),pt=ut.route;if(!ft&&dt&&ne&&!xe[xe.length-1].route.index&&(ft=matchPath({path:ut.relativePath,caseSensitive:ut.caseSensitive,end:!1},ht)),!ft)return null;Object.assign(rt,ft.params),lt.push({params:rt,pathname:joinPaths([it,ft.pathname]),pathnameBase:normalizePathname(joinPaths([it,ft.pathnameBase])),route:pt}),ft.pathnameBase!=="/"&&(it=joinPaths([it,ft.pathnameBase]))}return lt}function matchPath(ee,te){typeof ee=="string"&&(ee={path:ee,caseSensitive:!1,end:!0});let[ne,xe]=compilePath(ee.path,ee.caseSensitive,ee.end),rt=te.match(ne);if(!rt)return null;let it=rt[0],lt=it.replace(/(.)\/+$/,"$1"),ct=rt.slice(1);return{params:xe.reduce((dt,{paramName:ht,isOptional:ft},pt)=>{if(ht==="*"){let xt=ct[pt]||"";lt=it.slice(0,it.length-xt.length).replace(/(.)\/+$/,"$1")}const mt=ct[pt];return ft&&!mt?dt[ht]=void 0:dt[ht]=(mt||"").replace(/%2F/g,"/"),dt},{}),pathname:it,pathnameBase:lt,pattern:ee}}function compilePath(ee,te=!1,ne=!0){warning(ee==="*"||!ee.endsWith("*")||ee.endsWith("/*"),`Route path "${ee}" will be treated as if it were "${ee.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${ee.replace(/\*$/,"/*")}".`);let xe=[],rt="^"+ee.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(lt,ct,ut)=>(xe.push({paramName:ct,isOptional:ut!=null}),ut?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return ee.endsWith("*")?(xe.push({paramName:"*"}),rt+=ee==="*"||ee==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ne?rt+="\\/*$":ee!==""&&ee!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,te?void 0:"i"),xe]}function decodePath(ee){try{return ee.split("/").map(te=>decodeURIComponent(te).replace(/\//g,"%2F")).join("/")}catch(te){return warning(!1,`The URL path "${ee}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${te}).`),ee}}function stripBasename(ee,te){if(te==="/")return ee;if(!ee.toLowerCase().startsWith(te.toLowerCase()))return null;let ne=te.endsWith("/")?te.length-1:te.length,xe=ee.charAt(ne);return xe&&xe!=="/"?null:ee.slice(ne)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function resolvePath(ee,te="/"){let{pathname:ne,search:xe="",hash:rt=""}=typeof ee=="string"?parsePath(ee):ee,it;return ne?(ne=ne.replace(/\/\/+/g,"/"),ne.startsWith("/")?it=resolvePathname(ne.substring(1),"/"):it=resolvePathname(ne,te)):it=te,{pathname:it,search:normalizeSearch(xe),hash:normalizeHash(rt)}}function resolvePathname(ee,te){let ne=te.replace(/\/+$/,"").split("/");return ee.split("/").forEach(rt=>{rt===".."?ne.length>1&&ne.pop():rt!=="."&&ne.push(rt)}),ne.length>1?ne.join("/"):"/"}function getInvalidPathError(ee,te,ne,xe){return`Cannot include a '${ee}' character in a manually specified \`to.${te}\` field [${JSON.stringify(xe)}].  Please separate it out to the \`to.${ne}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(ee){return ee.filter((te,ne)=>ne===0||te.route.path&&te.route.path.length>0)}function getResolveToMatches(ee){let te=getPathContributingMatches(ee);return te.map((ne,xe)=>xe===te.length-1?ne.pathname:ne.pathnameBase)}function resolveTo(ee,te,ne,xe=!1){let rt;typeof ee=="string"?rt=parsePath(ee):(rt={...ee},invariant$1(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant$1(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant$1(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let it=ee===""||rt.pathname==="",lt=it?"/":rt.pathname,ct;if(lt==null)ct=ne;else{let ft=te.length-1;if(!xe&&lt.startsWith("..")){let pt=lt.split("/");for(;pt[0]==="..";)pt.shift(),ft-=1;rt.pathname=pt.join("/")}ct=ft>=0?te[ft]:"/"}let ut=resolvePath(rt,ct),dt=lt&&lt!=="/"&&lt.endsWith("/"),ht=(it||lt===".")&&ne.endsWith("/");return!ut.pathname.endsWith("/")&&(dt||ht)&&(ut.pathname+="/"),ut}var joinPaths=ee=>ee.join("/").replace(/\/\/+/g,"/"),normalizePathname=ee=>ee.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ee=>!ee||ee==="?"?"":ee.startsWith("?")?ee:"?"+ee,normalizeHash=ee=>!ee||ee==="#"?"":ee.startsWith("#")?ee:"#"+ee,ErrorResponseImpl=class{constructor(ee,te,ne,xe=!1){this.status=ee,this.statusText=te||"",this.internal=xe,ne instanceof Error?(this.data=ne.toString(),this.error=ne):this.data=ne}};function isRouteErrorResponse(ee){return ee!=null&&typeof ee.status=="number"&&typeof ee.statusText=="string"&&typeof ee.internal=="boolean"&&"data"in ee}function getRoutePattern(ee){return ee.map(te=>te.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function parseToInfo(ee,te){let ne=ee;if(typeof ne!="string"||!ABSOLUTE_URL_REGEX.test(ne))return{absoluteURL:void 0,isExternal:!1,to:ne};let xe=ne,rt=!1;if(isBrowser$1)try{let it=new URL(window.location.href),lt=ne.startsWith("//")?new URL(it.protocol+ne):new URL(ne),ct=stripBasename(lt.pathname,te);lt.origin===it.origin&&ct!=null?ne=ct+lt.search+lt.hash:rt=!0}catch{warning(!1,`<Link to="${ne}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:xe,isExternal:rt,to:ne}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var RSCRouterContext=reactExports.createContext(!1),ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";var ERROR_DIGEST_BASE="REACT_ROUTER_ERROR",ERROR_DIGEST_REDIRECT="REDIRECT",ERROR_DIGEST_ROUTE_ERROR_RESPONSE="ROUTE_ERROR_RESPONSE";function decodeRedirectErrorDigest(ee){if(ee.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`))try{let te=JSON.parse(ee.slice(28));if(typeof te=="object"&&te&&typeof te.status=="number"&&typeof te.statusText=="string"&&typeof te.location=="string"&&typeof te.reloadDocument=="boolean"&&typeof te.replace=="boolean")return te}catch{}}function decodeRouteErrorResponseDigest(ee){if(ee.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`))try{let te=JSON.parse(ee.slice(40));if(typeof te=="object"&&te&&typeof te.status=="number"&&typeof te.statusText=="string")return new ErrorResponseImpl(te.status,te.statusText,te.data)}catch{}}function useHref(ee,{relative:te}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:ne,navigator:xe}=reactExports.useContext(NavigationContext),{hash:rt,pathname:it,search:lt}=useResolvedPath(ee,{relative:te}),ct=it;return ne!=="/"&&(ct=it==="/"?ne:joinPaths([ne,it])),xe.createHref({pathname:ct,search:lt,hash:rt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(ee){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ee)}function useNavigate(){let{isDataRoute:ee}=reactExports.useContext(RouteContext);return ee?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let ee=reactExports.useContext(DataRouterContext),{basename:te,navigator:ne}=reactExports.useContext(NavigationContext),{matches:xe}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),it=JSON.stringify(getResolveToMatches(xe)),lt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{lt.current=!0}),reactExports.useCallback((ut,dt={})=>{if(warning(lt.current,navigateEffectWarning),!lt.current)return;if(typeof ut=="number"){ne.go(ut);return}let ht=resolveTo(ut,JSON.parse(it),rt,dt.relative==="path");ee==null&&te!=="/"&&(ht.pathname=ht.pathname==="/"?te:joinPaths([te,ht.pathname])),(dt.replace?ne.replace:ne.push)(ht,dt.state,dt)},[te,ne,it,rt,ee])}reactExports.createContext(null);function useParams(){let{matches:ee}=reactExports.useContext(RouteContext),te=ee[ee.length-1];return te?te.params:{}}function useResolvedPath(ee,{relative:te}={}){let{matches:ne}=reactExports.useContext(RouteContext),{pathname:xe}=useLocation(),rt=JSON.stringify(getResolveToMatches(ne));return reactExports.useMemo(()=>resolveTo(ee,JSON.parse(rt),xe,te==="path"),[ee,rt,xe,te])}function useRoutes(ee,te){return useRoutesImpl(ee,te)}function useRoutesImpl(ee,te,ne,xe,rt){invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:it}=reactExports.useContext(NavigationContext),{matches:lt}=reactExports.useContext(RouteContext),ct=lt[lt.length-1],ut=ct?ct.params:{},dt=ct?ct.pathname:"/",ht=ct?ct.pathnameBase:"/",ft=ct&&ct.route;{let _t=ft&&ft.path||"";warningOnce(dt,!ft||_t.endsWith("*")||_t.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${dt}" (under <Route path="${_t}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_t}"> to <Route path="${_t==="/"?"*":`${_t}/*`}">.`)}let pt=useLocation(),mt;if(te){let _t=typeof te=="string"?parsePath(te):te;invariant$1(ht==="/"||_t.pathname?.startsWith(ht),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${ht}" but pathname "${_t.pathname}" was given in the \`location\` prop.`),mt=_t}else mt=pt;let xt=mt.pathname||"/",yt=xt;if(ht!=="/"){let _t=ht.replace(/^\//,"").split("/");yt="/"+xt.replace(/^\//,"").split("/").slice(_t.length).join("/")}let vt=matchRoutes(ee,{pathname:yt});warning(ft||vt!=null,`No routes matched location "${mt.pathname}${mt.search}${mt.hash}" `),warning(vt==null||vt[vt.length-1].route.element!==void 0||vt[vt.length-1].route.Component!==void 0||vt[vt.length-1].route.lazy!==void 0,`Matched leaf route at location "${mt.pathname}${mt.search}${mt.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Et=_renderMatches(vt&&vt.map(_t=>Object.assign({},_t,{params:Object.assign({},ut,_t.params),pathname:joinPaths([ht,it.encodeLocation?it.encodeLocation(_t.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_t.pathname]),pathnameBase:_t.pathnameBase==="/"?ht:joinPaths([ht,it.encodeLocation?it.encodeLocation(_t.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_t.pathnameBase])})),lt,ne,xe,rt);return te&&Et?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...mt},navigationType:"POP"}},Et):Et}function DefaultErrorComponent(){let ee=useRouteError(),te=isRouteErrorResponse(ee)?`${ee.status} ${ee.statusText}`:ee instanceof Error?ee.message:JSON.stringify(ee),ne=ee instanceof Error?ee.stack:null,xe="rgba(200,200,200, 0.5)",rt={padding:"0.5rem",backgroundColor:xe},it={padding:"2px 4px",backgroundColor:xe},lt=null;return console.error("Error handled by React Router default ErrorBoundary:",ee),lt=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:it},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:it},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},te),ne?reactExports.createElement("pre",{style:rt},ne):null,lt)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(ee){super(ee),this.state={location:ee.location,revalidation:ee.revalidation,error:ee.error}}static getDerivedStateFromError(ee){return{error:ee}}static getDerivedStateFromProps(ee,te){return te.location!==ee.location||te.revalidation!=="idle"&&ee.revalidation==="idle"?{error:ee.error,location:ee.location,revalidation:ee.revalidation}:{error:ee.error!==void 0?ee.error:te.error,location:te.location,revalidation:ee.revalidation||te.revalidation}}componentDidCatch(ee,te){this.props.onError?this.props.onError(ee,te):console.error("React Router caught the following error during render",ee)}render(){let ee=this.state.error;if(this.context&&typeof ee=="object"&&ee&&"digest"in ee&&typeof ee.digest=="string"){const ne=decodeRouteErrorResponseDigest(ee.digest);ne&&(ee=ne)}let te=ee!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:ee,children:this.props.component})):this.props.children;return this.context?reactExports.createElement(RSCErrorHandler,{error:ee},te):te}};RenderErrorBoundary.contextType=RSCRouterContext;var errorRedirectHandledMap=new WeakMap;function RSCErrorHandler({children:ee,error:te}){let{basename:ne}=reactExports.useContext(NavigationContext);if(typeof te=="object"&&te&&"digest"in te&&typeof te.digest=="string"){let xe=decodeRedirectErrorDigest(te.digest);if(xe){let rt=errorRedirectHandledMap.get(te);if(rt)throw rt;let it=parseToInfo(xe.location,ne);if(isBrowser$1&&!errorRedirectHandledMap.get(te))if(it.isExternal||xe.reloadDocument)window.location.href=it.absoluteURL||it.to;else{const lt=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(it.to,{replace:xe.replace}));throw errorRedirectHandledMap.set(te,lt),lt}return reactExports.createElement("meta",{httpEquiv:"refresh",content:`0;url=${it.absoluteURL||it.to}`})}}return ee}function RenderedRoute({routeContext:ee,match:te,children:ne}){let xe=reactExports.useContext(DataRouterContext);return xe&&xe.static&&xe.staticContext&&(te.route.errorElement||te.route.ErrorBoundary)&&(xe.staticContext._deepestRenderedBoundaryId=te.route.id),reactExports.createElement(RouteContext.Provider,{value:ee},ne)}function _renderMatches(ee,te=[],ne=null,xe=null,rt=null){if(ee==null){if(!ne)return null;if(ne.errors)ee=ne.matches;else if(te.length===0&&!ne.initialized&&ne.matches.length>0)ee=ne.matches;else return null}let it=ee,lt=ne?.errors;if(lt!=null){let ht=it.findIndex(ft=>ft.route.id&&lt?.[ft.route.id]!==void 0);invariant$1(ht>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(lt).join(",")}`),it=it.slice(0,Math.min(it.length,ht+1))}let ct=!1,ut=-1;if(ne)for(let ht=0;ht<it.length;ht++){let ft=it[ht];if((ft.route.HydrateFallback||ft.route.hydrateFallbackElement)&&(ut=ht),ft.route.id){let{loaderData:pt,errors:mt}=ne,xt=ft.route.loader&&!pt.hasOwnProperty(ft.route.id)&&(!mt||mt[ft.route.id]===void 0);if(ft.route.lazy||xt){ct=!0,ut>=0?it=it.slice(0,ut+1):it=[it[0]];break}}}let dt=ne&&xe?(ht,ft)=>{xe(ht,{location:ne.location,params:ne.matches?.[0]?.params??{},unstable_pattern:getRoutePattern(ne.matches),errorInfo:ft})}:void 0;return it.reduceRight((ht,ft,pt)=>{let mt,xt=!1,yt=null,vt=null;ne&&(mt=lt&&ft.route.id?lt[ft.route.id]:void 0,yt=ft.route.errorElement||defaultErrorElement,ct&&(ut<0&&pt===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),xt=!0,vt=null):ut===pt&&(xt=!0,vt=ft.route.hydrateFallbackElement||null)));let Et=te.concat(it.slice(0,pt+1)),_t=()=>{let wt;return mt?wt=yt:xt?wt=vt:ft.route.Component?wt=reactExports.createElement(ft.route.Component,null):ft.route.element?wt=ft.route.element:wt=ht,reactExports.createElement(RenderedRoute,{match:ft,routeContext:{outlet:ht,matches:Et,isDataRoute:ne!=null},children:wt})};return ne&&(ft.route.ErrorBoundary||ft.route.errorElement||pt===0)?reactExports.createElement(RenderErrorBoundary,{location:ne.location,revalidation:ne.revalidation,component:yt,error:mt,children:_t(),routeContext:{outlet:null,matches:Et,isDataRoute:!0},onError:dt}):_t()},null)}function getDataRouterConsoleError(ee){return`${ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(ee){let te=reactExports.useContext(DataRouterContext);return invariant$1(te,getDataRouterConsoleError(ee)),te}function useDataRouterState(ee){let te=reactExports.useContext(DataRouterStateContext);return invariant$1(te,getDataRouterConsoleError(ee)),te}function useRouteContext(ee){let te=reactExports.useContext(RouteContext);return invariant$1(te,getDataRouterConsoleError(ee)),te}function useCurrentRouteId(ee){let te=useRouteContext(ee),ne=te.matches[te.matches.length-1];return invariant$1(ne.route.id,`${ee} can only be used on routes that contain a unique "id"`),ne.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let ee=reactExports.useContext(RouteErrorContext),te=useDataRouterState("useRouteError"),ne=useCurrentRouteId("useRouteError");return ee!==void 0?ee:te.errors?.[ne]}function useNavigateStable(){let{router:ee}=useDataRouterContext("useNavigate"),te=useCurrentRouteId("useNavigate"),ne=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{ne.current=!0}),reactExports.useCallback(async(rt,it={})=>{warning(ne.current,navigateEffectWarning),ne.current&&(typeof rt=="number"?await ee.navigate(rt):await ee.navigate(rt,{fromRouteId:te,...it}))},[ee,te])}var alreadyWarned={};function warningOnce(ee,te,ne){!te&&!alreadyWarned[ee]&&(alreadyWarned[ee]=!0,warning(!1,ne))}reactExports.memo(DataRoutes);function DataRoutes({routes:ee,future:te,state:ne,onError:xe}){return useRoutesImpl(ee,void 0,ne,xe,te)}function Route(ee){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:ee="/",children:te=null,location:ne,navigationType:xe="POP",navigator:rt,static:it=!1,unstable_useTransitions:lt}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let ct=ee.replace(/^\/*/,"/"),ut=reactExports.useMemo(()=>({basename:ct,navigator:rt,static:it,unstable_useTransitions:lt,future:{}}),[ct,rt,it,lt]);typeof ne=="string"&&(ne=parsePath(ne));let{pathname:dt="/",search:ht="",hash:ft="",state:pt=null,key:mt="default"}=ne,xt=reactExports.useMemo(()=>{let yt=stripBasename(dt,ct);return yt==null?null:{location:{pathname:yt,search:ht,hash:ft,state:pt,key:mt},navigationType:xe}},[ct,dt,ht,ft,pt,mt,xe]);return warning(xt!=null,`<Router basename="${ct}"> is not able to match the URL "${dt}${ht}${ft}" because it does not start with the basename, so the <Router> won't render anything.`),xt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ut},reactExports.createElement(LocationContext.Provider,{children:te,value:xt}))}function Routes({children:ee,location:te}){return useRoutes(createRoutesFromChildren(ee),te)}function createRoutesFromChildren(ee,te=[]){let ne=[];return reactExports.Children.forEach(ee,(xe,rt)=>{if(!reactExports.isValidElement(xe))return;let it=[...te,rt];if(xe.type===reactExports.Fragment){ne.push.apply(ne,createRoutesFromChildren(xe.props.children,it));return}invariant$1(xe.type===Route,`[${typeof xe.type=="string"?xe.type:xe.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!xe.props.index||!xe.props.children,"An index route cannot have child routes.");let lt={id:xe.props.id||it.join("-"),caseSensitive:xe.props.caseSensitive,element:xe.props.element,Component:xe.props.Component,index:xe.props.index,path:xe.props.path,middleware:xe.props.middleware,loader:xe.props.loader,action:xe.props.action,hydrateFallbackElement:xe.props.hydrateFallbackElement,HydrateFallback:xe.props.HydrateFallback,errorElement:xe.props.errorElement,ErrorBoundary:xe.props.ErrorBoundary,hasErrorBoundary:xe.props.hasErrorBoundary===!0||xe.props.ErrorBoundary!=null||xe.props.errorElement!=null,shouldRevalidate:xe.props.shouldRevalidate,handle:xe.props.handle,lazy:xe.props.lazy};xe.props.children&&(lt.children=createRoutesFromChildren(xe.props.children,it)),ne.push(lt)}),ne}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(ee){return typeof HTMLElement<"u"&&ee instanceof HTMLElement}function isButtonElement(ee){return isHtmlElement(ee)&&ee.tagName.toLowerCase()==="button"}function isFormElement(ee){return isHtmlElement(ee)&&ee.tagName.toLowerCase()==="form"}function isInputElement(ee){return isHtmlElement(ee)&&ee.tagName.toLowerCase()==="input"}function isModifiedEvent(ee){return!!(ee.metaKey||ee.altKey||ee.ctrlKey||ee.shiftKey)}function shouldProcessLinkClick(ee,te){return ee.button===0&&(!te||te==="_self")&&!isModifiedEvent(ee)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(ee){return ee!=null&&!supportedFormEncTypes.has(ee)?(warning(!1,`"${ee}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):ee}function getFormSubmissionInfo(ee,te){let ne,xe,rt,it,lt;if(isFormElement(ee)){let ct=ee.getAttribute("action");xe=ct?stripBasename(ct,te):null,ne=ee.getAttribute("method")||defaultMethod,rt=getFormEncType(ee.getAttribute("enctype"))||defaultEncType,it=new FormData(ee)}else if(isButtonElement(ee)||isInputElement(ee)&&(ee.type==="submit"||ee.type==="image")){let ct=ee.form;if(ct==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let ut=ee.getAttribute("formaction")||ct.getAttribute("action");if(xe=ut?stripBasename(ut,te):null,ne=ee.getAttribute("formmethod")||ct.getAttribute("method")||defaultMethod,rt=getFormEncType(ee.getAttribute("formenctype"))||getFormEncType(ct.getAttribute("enctype"))||defaultEncType,it=new FormData(ct,ee),!isFormDataSubmitterSupported()){let{name:dt,type:ht,value:ft}=ee;if(ht==="image"){let pt=dt?`${dt}.`:"";it.append(`${pt}x`,"0"),it.append(`${pt}y`,"0")}else dt&&it.append(dt,ft)}}else{if(isHtmlElement(ee))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');ne=defaultMethod,xe=null,rt=defaultEncType,lt=ee}return it&&rt==="text/plain"&&(lt=it,it=void 0),{action:xe,method:ne.toLowerCase(),encType:rt,formData:it,body:lt}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(ee,te){if(ee===!1||ee===null||typeof ee>"u")throw new Error(te)}function singleFetchUrl(ee,te,ne,xe){let rt=typeof ee=="string"?new URL(ee,typeof window>"u"?"server://singlefetch/":window.location.origin):ee;return ne?rt.pathname.endsWith("/")?rt.pathname=`${rt.pathname}_.${xe}`:rt.pathname=`${rt.pathname}.${xe}`:rt.pathname==="/"?rt.pathname=`_root.${xe}`:te&&stripBasename(rt.pathname,te)==="/"?rt.pathname=`${te.replace(/\/$/,"")}/_root.${xe}`:rt.pathname=`${rt.pathname.replace(/\/$/,"")}.${xe}`,rt}async function loadRouteModule(ee,te){if(ee.id in te)return te[ee.id];try{let ne=await import(ee.module);return te[ee.id]=ne,ne}catch(ne){return console.error(`Error loading route module \`${ee.module}\`, reloading page...`),console.error(ne),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(ee){return ee==null?!1:ee.href==null?ee.rel==="preload"&&typeof ee.imageSrcSet=="string"&&typeof ee.imageSizes=="string":typeof ee.rel=="string"&&typeof ee.href=="string"}async function getKeyedPrefetchLinks(ee,te,ne){let xe=await Promise.all(ee.map(async rt=>{let it=te.routes[rt.route.id];if(it){let lt=await loadRouteModule(it,ne);return lt.links?lt.links():[]}return[]}));return dedupeLinkDescriptors(xe.flat(1).filter(isHtmlLinkDescriptor).filter(rt=>rt.rel==="stylesheet"||rt.rel==="preload").map(rt=>rt.rel==="stylesheet"?{...rt,rel:"prefetch",as:"style"}:{...rt,rel:"prefetch"}))}function getNewMatchesForLinks(ee,te,ne,xe,rt,it){let lt=(ut,dt)=>ne[dt]?ut.route.id!==ne[dt].route.id:!0,ct=(ut,dt)=>ne[dt].pathname!==ut.pathname||ne[dt].route.path?.endsWith("*")&&ne[dt].params["*"]!==ut.params["*"];return it==="assets"?te.filter((ut,dt)=>lt(ut,dt)||ct(ut,dt)):it==="data"?te.filter((ut,dt)=>{let ht=xe.routes[ut.route.id];if(!ht||!ht.hasLoader)return!1;if(lt(ut,dt)||ct(ut,dt))return!0;if(ut.route.shouldRevalidate){let ft=ut.route.shouldRevalidate({currentUrl:new URL(rt.pathname+rt.search+rt.hash,window.origin),currentParams:ne[0]?.params||{},nextUrl:new URL(ee,window.origin),nextParams:ut.params,defaultShouldRevalidate:!0});if(typeof ft=="boolean")return ft}return!0}):[]}function getModuleLinkHrefs(ee,te,{includeHydrateFallback:ne}={}){return dedupeHrefs(ee.map(xe=>{let rt=te.routes[xe.route.id];if(!rt)return[];let it=[rt.module];return rt.clientActionModule&&(it=it.concat(rt.clientActionModule)),rt.clientLoaderModule&&(it=it.concat(rt.clientLoaderModule)),ne&&rt.hydrateFallbackModule&&(it=it.concat(rt.hydrateFallbackModule)),rt.imports&&(it=it.concat(rt.imports)),it}).flat(1))}function dedupeHrefs(ee){return[...new Set(ee)]}function sortKeys(ee){let te={},ne=Object.keys(ee).sort();for(let xe of ne)te[xe]=ee[xe];return te}function dedupeLinkDescriptors(ee,te){let ne=new Set;return new Set(te),ee.reduce((xe,rt)=>{let it=JSON.stringify(sortKeys(rt));return ne.has(it)||(ne.add(it),xe.push({key:it,link:rt})),xe},[])}function useDataRouterContext2(){let ee=reactExports.useContext(DataRouterContext);return invariant2(ee,"You must render this element inside a <DataRouterContext.Provider> element"),ee}function useDataRouterStateContext(){let ee=reactExports.useContext(DataRouterStateContext);return invariant2(ee,"You must render this element inside a <DataRouterStateContext.Provider> element"),ee}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let ee=reactExports.useContext(FrameworkContext);return invariant2(ee,"You must render this element inside a <HydratedRouter> element"),ee}function usePrefetchBehavior(ee,te){let ne=reactExports.useContext(FrameworkContext),[xe,rt]=reactExports.useState(!1),[it,lt]=reactExports.useState(!1),{onFocus:ct,onBlur:ut,onMouseEnter:dt,onMouseLeave:ht,onTouchStart:ft}=te,pt=reactExports.useRef(null);reactExports.useEffect(()=>{if(ee==="render"&&lt(!0),ee==="viewport"){let yt=Et=>{Et.forEach(_t=>{lt(_t.isIntersecting)})},vt=new IntersectionObserver(yt,{threshold:.5});return pt.current&&vt.observe(pt.current),()=>{vt.disconnect()}}},[ee]),reactExports.useEffect(()=>{if(xe){let yt=setTimeout(()=>{lt(!0)},100);return()=>{clearTimeout(yt)}}},[xe]);let mt=()=>{rt(!0)},xt=()=>{rt(!1),lt(!1)};return ne?ee!=="intent"?[it,pt,{}]:[it,pt,{onFocus:composeEventHandlers$1(ct,mt),onBlur:composeEventHandlers$1(ut,xt),onMouseEnter:composeEventHandlers$1(dt,mt),onMouseLeave:composeEventHandlers$1(ht,xt),onTouchStart:composeEventHandlers$1(ft,mt)}]:[!1,pt,{}]}function composeEventHandlers$1(ee,te){return ne=>{ee&&ee(ne),ne.defaultPrevented||te(ne)}}function PrefetchPageLinks({page:ee,...te}){let{router:ne}=useDataRouterContext2(),xe=reactExports.useMemo(()=>matchRoutes(ne.routes,ee,ne.basename),[ne.routes,ee,ne.basename]);return xe?reactExports.createElement(PrefetchPageLinksImpl,{page:ee,matches:xe,...te}):null}function useKeyedPrefetchLinks(ee){let{manifest:te,routeModules:ne}=useFrameworkContext(),[xe,rt]=reactExports.useState([]);return reactExports.useEffect(()=>{let it=!1;return getKeyedPrefetchLinks(ee,te,ne).then(lt=>{it||rt(lt)}),()=>{it=!0}},[ee,te,ne]),xe}function PrefetchPageLinksImpl({page:ee,matches:te,...ne}){let xe=useLocation(),{future:rt,manifest:it,routeModules:lt}=useFrameworkContext(),{basename:ct}=useDataRouterContext2(),{loaderData:ut,matches:dt}=useDataRouterStateContext(),ht=reactExports.useMemo(()=>getNewMatchesForLinks(ee,te,dt,it,xe,"data"),[ee,te,dt,it,xe]),ft=reactExports.useMemo(()=>getNewMatchesForLinks(ee,te,dt,it,xe,"assets"),[ee,te,dt,it,xe]),pt=reactExports.useMemo(()=>{if(ee===xe.pathname+xe.search+xe.hash)return[];let yt=new Set,vt=!1;if(te.forEach(_t=>{let wt=it.routes[_t.route.id];!wt||!wt.hasLoader||(!ht.some(St=>St.route.id===_t.route.id)&&_t.route.id in ut&&lt[_t.route.id]?.shouldRevalidate||wt.hasClientLoader?vt=!0:yt.add(_t.route.id))}),yt.size===0)return[];let Et=singleFetchUrl(ee,ct,rt.unstable_trailingSlashAwareDataRequests,"data");return vt&&yt.size>0&&Et.searchParams.set("_routes",te.filter(_t=>yt.has(_t.route.id)).map(_t=>_t.route.id).join(",")),[Et.pathname+Et.search]},[ct,rt.unstable_trailingSlashAwareDataRequests,ut,xe,it,ht,te,ee,lt]),mt=reactExports.useMemo(()=>getModuleLinkHrefs(ft,it),[ft,it]),xt=useKeyedPrefetchLinks(ft);return reactExports.createElement(reactExports.Fragment,null,pt.map(yt=>reactExports.createElement("link",{key:yt,rel:"prefetch",as:"fetch",href:yt,...ne})),mt.map(yt=>reactExports.createElement("link",{key:yt,rel:"modulepreload",href:yt,...ne})),xt.map(({key:yt,link:vt})=>reactExports.createElement("link",{key:yt,nonce:ne.nonce,...vt,crossOrigin:vt.crossOrigin??ne.crossOrigin})))}function mergeRefs(...ee){return te=>{ee.forEach(ne=>{typeof ne=="function"?ne(te):ne!=null&&(ne.current=te)})}}var isBrowser2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser2&&(window.__reactRouterVersion="7.13.0")}catch{}function BrowserRouter({basename:ee,children:te,unstable_useTransitions:ne,window:xe}){let rt=reactExports.useRef();rt.current==null&&(rt.current=createBrowserHistory({window:xe,v5Compat:!0}));let it=rt.current,[lt,ct]=reactExports.useState({action:it.action,location:it.location}),ut=reactExports.useCallback(dt=>{ne===!1?ct(dt):reactExports.startTransition(()=>ct(dt))},[ne]);return reactExports.useLayoutEffect(()=>it.listen(ut),[it,ut]),reactExports.createElement(Router,{basename:ee,children:te,location:lt.location,navigationType:lt.action,navigator:it,unstable_useTransitions:ne})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function({onClick:te,discover:ne="render",prefetch:xe="none",relative:rt,reloadDocument:it,replace:lt,state:ct,target:ut,to:dt,preventScrollReset:ht,viewTransition:ft,unstable_defaultShouldRevalidate:pt,...mt},xt){let{basename:yt,unstable_useTransitions:vt}=reactExports.useContext(NavigationContext),Et=typeof dt=="string"&&ABSOLUTE_URL_REGEX2.test(dt),_t=parseToInfo(dt,yt);dt=_t.to;let wt=useHref(dt,{relative:rt}),[St,Ct,jt]=usePrefetchBehavior(xe,mt),Rt=useLinkClickHandler(dt,{replace:lt,state:ct,target:ut,preventScrollReset:ht,relative:rt,viewTransition:ft,unstable_defaultShouldRevalidate:pt,unstable_useTransitions:vt});function Pt(Ft){te&&te(Ft),Ft.defaultPrevented||Rt(Ft)}let Ot=reactExports.createElement("a",{...mt,...jt,href:_t.absoluteURL||wt,onClick:_t.isExternal||it?te:Pt,ref:mergeRefs(xt,Ct),target:ut,"data-discover":!Et&&ne==="render"?"true":void 0});return St&&!Et?reactExports.createElement(reactExports.Fragment,null,Ot,reactExports.createElement(PrefetchPageLinks,{page:wt})):Ot});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":te="page",caseSensitive:ne=!1,className:xe="",end:rt=!1,style:it,to:lt,viewTransition:ct,children:ut,...dt},ht){let ft=useResolvedPath(lt,{relative:dt.relative}),pt=useLocation(),mt=reactExports.useContext(DataRouterStateContext),{navigator:xt,basename:yt}=reactExports.useContext(NavigationContext),vt=mt!=null&&useViewTransitionState(ft)&&ct===!0,Et=xt.encodeLocation?xt.encodeLocation(ft).pathname:ft.pathname,_t=pt.pathname,wt=mt&&mt.navigation&&mt.navigation.location?mt.navigation.location.pathname:null;ne||(_t=_t.toLowerCase(),wt=wt?wt.toLowerCase():null,Et=Et.toLowerCase()),wt&&yt&&(wt=stripBasename(wt,yt)||wt);const St=Et!=="/"&&Et.endsWith("/")?Et.length-1:Et.length;let Ct=_t===Et||!rt&&_t.startsWith(Et)&&_t.charAt(St)==="/",jt=wt!=null&&(wt===Et||!rt&&wt.startsWith(Et)&&wt.charAt(Et.length)==="/"),Rt={isActive:Ct,isPending:jt,isTransitioning:vt},Pt=Ct?te:void 0,Ot;typeof xe=="function"?Ot=xe(Rt):Ot=[xe,Ct?"active":null,jt?"pending":null,vt?"transitioning":null].filter(Boolean).join(" ");let Ft=typeof it=="function"?it(Rt):it;return reactExports.createElement(Link$1,{...dt,"aria-current":Pt,className:Ot,ref:ht,style:Ft,to:lt,viewTransition:ct},typeof ut=="function"?ut(Rt):ut)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:ee="render",fetcherKey:te,navigate:ne,reloadDocument:xe,replace:rt,state:it,method:lt=defaultMethod,action:ct,onSubmit:ut,relative:dt,preventScrollReset:ht,viewTransition:ft,unstable_defaultShouldRevalidate:pt,...mt},xt)=>{let{unstable_useTransitions:yt}=reactExports.useContext(NavigationContext),vt=useSubmit(),Et=useFormAction(ct,{relative:dt}),_t=lt.toLowerCase()==="get"?"get":"post",wt=typeof ct=="string"&&ABSOLUTE_URL_REGEX2.test(ct),St=Ct=>{if(ut&&ut(Ct),Ct.defaultPrevented)return;Ct.preventDefault();let jt=Ct.nativeEvent.submitter,Rt=jt?.getAttribute("formmethod")||lt,Pt=()=>vt(jt||Ct.currentTarget,{fetcherKey:te,method:Rt,navigate:ne,replace:rt,state:it,relative:dt,preventScrollReset:ht,viewTransition:ft,unstable_defaultShouldRevalidate:pt});yt&&ne!==!1?reactExports.startTransition(()=>Pt()):Pt()};return reactExports.createElement("form",{ref:xt,method:_t,action:Et,onSubmit:xe?ut:St,...mt,"data-discover":!wt&&ee==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(ee){return`${ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(ee){let te=reactExports.useContext(DataRouterContext);return invariant$1(te,getDataRouterConsoleError2(ee)),te}function useLinkClickHandler(ee,{target:te,replace:ne,state:xe,preventScrollReset:rt,relative:it,viewTransition:lt,unstable_defaultShouldRevalidate:ct,unstable_useTransitions:ut}={}){let dt=useNavigate(),ht=useLocation(),ft=useResolvedPath(ee,{relative:it});return reactExports.useCallback(pt=>{if(shouldProcessLinkClick(pt,te)){pt.preventDefault();let mt=ne!==void 0?ne:createPath(ht)===createPath(ft),xt=()=>dt(ee,{replace:mt,state:xe,preventScrollReset:rt,relative:it,viewTransition:lt,unstable_defaultShouldRevalidate:ct});ut?reactExports.startTransition(()=>xt()):xt()}},[ht,dt,ft,ne,xe,te,ee,rt,it,lt,ct,ut])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:ee}=useDataRouterContext3("useSubmit"),{basename:te}=reactExports.useContext(NavigationContext),ne=useRouteId(),xe=ee.fetch,rt=ee.navigate;return reactExports.useCallback(async(it,lt={})=>{let{action:ct,method:ut,encType:dt,formData:ht,body:ft}=getFormSubmissionInfo(it,te);if(lt.navigate===!1){let pt=lt.fetcherKey||getUniqueFetcherId();await xe(pt,ne,lt.action||ct,{unstable_defaultShouldRevalidate:lt.unstable_defaultShouldRevalidate,preventScrollReset:lt.preventScrollReset,formData:ht,body:ft,formMethod:lt.method||ut,formEncType:lt.encType||dt,flushSync:lt.flushSync})}else await rt(lt.action||ct,{unstable_defaultShouldRevalidate:lt.unstable_defaultShouldRevalidate,preventScrollReset:lt.preventScrollReset,formData:ht,body:ft,formMethod:lt.method||ut,formEncType:lt.encType||dt,replace:lt.replace,state:lt.state,fromRouteId:ne,flushSync:lt.flushSync,viewTransition:lt.viewTransition})},[xe,rt,te,ne])}function useFormAction(ee,{relative:te}={}){let{basename:ne}=reactExports.useContext(NavigationContext),xe=reactExports.useContext(RouteContext);invariant$1(xe,"useFormAction must be used inside a RouteContext");let[rt]=xe.matches.slice(-1),it={...useResolvedPath(ee||".",{relative:te})},lt=useLocation();if(ee==null){it.search=lt.search;let ct=new URLSearchParams(it.search),ut=ct.getAll("index");if(ut.some(ht=>ht==="")){ct.delete("index"),ut.filter(ft=>ft).forEach(ft=>ct.append("index",ft));let ht=ct.toString();it.search=ht?`?${ht}`:""}}return(!ee||ee===".")&&rt.route.index&&(it.search=it.search?it.search.replace(/^\?/,"?index&"):"?index"),ne!=="/"&&(it.pathname=it.pathname==="/"?ne:joinPaths([ne,it.pathname])),createPath(it)}function useViewTransitionState(ee,{relative:te}={}){let ne=reactExports.useContext(ViewTransitionContext);invariant$1(ne!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:xe}=useDataRouterContext3("useViewTransitionState"),rt=useResolvedPath(ee,{relative:te});if(!ne.isTransitioning)return!1;let it=stripBasename(ne.currentLocation.pathname,xe)||ne.currentLocation.pathname,lt=stripBasename(ne.nextLocation.pathname,xe)||ne.nextLocation.pathname;return matchPath(rt.pathname,lt)!=null||matchPath(rt.pathname,it)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var __assign=function(){return __assign=Object.assign||function(te){for(var ne,xe=1,rt=arguments.length;xe<rt;xe++){ne=arguments[xe];for(var it in ne)Object.prototype.hasOwnProperty.call(ne,it)&&(te[it]=ne[it])}return te},__assign.apply(this,arguments)};function __rest(ee,te){var ne={};for(var xe in ee)Object.prototype.hasOwnProperty.call(ee,xe)&&te.indexOf(xe)<0&&(ne[xe]=ee[xe]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,xe=Object.getOwnPropertySymbols(ee);rt<xe.length;rt++)te.indexOf(xe[rt])<0&&Object.prototype.propertyIsEnumerable.call(ee,xe[rt])&&(ne[xe[rt]]=ee[xe[rt]]);return ne}function __awaiter(ee,te,ne,xe){function rt(it){return it instanceof ne?it:new ne(function(lt){lt(it)})}return new(ne||(ne=Promise))(function(it,lt){function ct(ht){try{dt(xe.next(ht))}catch(ft){lt(ft)}}function ut(ht){try{dt(xe.throw(ht))}catch(ft){lt(ft)}}function dt(ht){ht.done?it(ht.value):rt(ht.value).then(ct,ut)}dt((xe=xe.apply(ee,te||[])).next())})}function __spreadArray(ee,te,ne){if(ne||arguments.length===2)for(var xe=0,rt=te.length,it;xe<rt;xe++)(it||!(xe in te))&&(it||(it=Array.prototype.slice.call(te,0,xe)),it[xe]=te[xe]);return ee.concat(it||Array.prototype.slice.call(te))}typeof SuppressedError=="function"&&SuppressedError;const resolveFetch$3=ee=>ee?(...te)=>ee(...te):(...te)=>fetch(...te);class FunctionsError extends Error{constructor(te,ne="FunctionsError",xe){super(te),this.name=ne,this.context=xe}}class FunctionsFetchError extends FunctionsError{constructor(te){super("Failed to send a request to the Edge Function","FunctionsFetchError",te)}}class FunctionsRelayError extends FunctionsError{constructor(te){super("Relay Error invoking the Edge Function","FunctionsRelayError",te)}}class FunctionsHttpError extends FunctionsError{constructor(te){super("Edge Function returned a non-2xx status code","FunctionsHttpError",te)}}var FunctionRegion;(function(ee){ee.Any="any",ee.ApNortheast1="ap-northeast-1",ee.ApNortheast2="ap-northeast-2",ee.ApSouth1="ap-south-1",ee.ApSoutheast1="ap-southeast-1",ee.ApSoutheast2="ap-southeast-2",ee.CaCentral1="ca-central-1",ee.EuCentral1="eu-central-1",ee.EuWest1="eu-west-1",ee.EuWest2="eu-west-2",ee.EuWest3="eu-west-3",ee.SaEast1="sa-east-1",ee.UsEast1="us-east-1",ee.UsWest1="us-west-1",ee.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(te,{headers:ne={},customFetch:xe,region:rt=FunctionRegion.Any}={}){this.url=te,this.headers=ne,this.region=rt,this.fetch=resolveFetch$3(xe)}setAuth(te){this.headers.Authorization=`Bearer ${te}`}invoke(te){return __awaiter(this,arguments,void 0,function*(ne,xe={}){var rt;let it,lt;try{const{headers:ct,method:ut,body:dt,signal:ht,timeout:ft}=xe;let pt={},{region:mt}=xe;mt||(mt=this.region);const xt=new URL(`${this.url}/${ne}`);mt&&mt!=="any"&&(pt["x-region"]=mt,xt.searchParams.set("forceFunctionRegion",mt));let yt;dt&&(ct&&!Object.prototype.hasOwnProperty.call(ct,"Content-Type")||!ct)?typeof Blob<"u"&&dt instanceof Blob||dt instanceof ArrayBuffer?(pt["Content-Type"]="application/octet-stream",yt=dt):typeof dt=="string"?(pt["Content-Type"]="text/plain",yt=dt):typeof FormData<"u"&&dt instanceof FormData?yt=dt:(pt["Content-Type"]="application/json",yt=JSON.stringify(dt)):dt&&typeof dt!="string"&&!(typeof Blob<"u"&&dt instanceof Blob)&&!(dt instanceof ArrayBuffer)&&!(typeof FormData<"u"&&dt instanceof FormData)?yt=JSON.stringify(dt):yt=dt;let vt=ht;ft&&(lt=new AbortController,it=setTimeout(()=>lt.abort(),ft),ht?(vt=lt.signal,ht.addEventListener("abort",()=>lt.abort())):vt=lt.signal);const Et=yield this.fetch(xt.toString(),{method:ut||"POST",headers:Object.assign(Object.assign(Object.assign({},pt),this.headers),ct),body:yt,signal:vt}).catch(Ct=>{throw new FunctionsFetchError(Ct)}),_t=Et.headers.get("x-relay-error");if(_t&&_t==="true")throw new FunctionsRelayError(Et);if(!Et.ok)throw new FunctionsHttpError(Et);let wt=((rt=Et.headers.get("Content-Type"))!==null&&rt!==void 0?rt:"text/plain").split(";")[0].trim(),St;return wt==="application/json"?St=yield Et.json():wt==="application/octet-stream"||wt==="application/pdf"?St=yield Et.blob():wt==="text/event-stream"?St=Et:wt==="multipart/form-data"?St=yield Et.formData():St=yield Et.text(),{data:St,error:null,response:Et}}catch(ct){return{data:null,error:ct,response:ct instanceof FunctionsHttpError||ct instanceof FunctionsRelayError?ct.context:void 0}}finally{it&&clearTimeout(it)}})}}var PostgrestError=class extends Error{constructor(ee){super(ee.message),this.name="PostgrestError",this.details=ee.details,this.hint=ee.hint,this.code=ee.code}},PostgrestBuilder=class{constructor(ee){var te,ne,xe;this.shouldThrowOnError=!1,this.method=ee.method,this.url=ee.url,this.headers=new Headers(ee.headers),this.schema=ee.schema,this.body=ee.body,this.shouldThrowOnError=(te=ee.shouldThrowOnError)!==null&&te!==void 0?te:!1,this.signal=ee.signal,this.isMaybeSingle=(ne=ee.isMaybeSingle)!==null&&ne!==void 0?ne:!1,this.urlLengthLimit=(xe=ee.urlLengthLimit)!==null&&xe!==void 0?xe:8e3,ee.fetch?this.fetch=ee.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(ee,te){return this.headers=new Headers(this.headers),this.headers.set(ee,te),this}then(ee,te){var ne=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const xe=this.fetch;let rt=xe(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async it=>{let lt=null,ct=null,ut=null,dt=it.status,ht=it.statusText;if(it.ok){var ft,pt;if(ne.method!=="HEAD"){var mt;const Et=await it.text();Et===""||(ne.headers.get("Accept")==="text/csv"||ne.headers.get("Accept")&&(!((mt=ne.headers.get("Accept"))===null||mt===void 0)&&mt.includes("application/vnd.pgrst.plan+text"))?ct=Et:ct=JSON.parse(Et))}const yt=(ft=ne.headers.get("Prefer"))===null||ft===void 0?void 0:ft.match(/count=(exact|planned|estimated)/),vt=(pt=it.headers.get("content-range"))===null||pt===void 0?void 0:pt.split("/");yt&&vt&&vt.length>1&&(ut=parseInt(vt[1])),ne.isMaybeSingle&&ne.method==="GET"&&Array.isArray(ct)&&(ct.length>1?(lt={code:"PGRST116",details:`Results contain ${ct.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},ct=null,ut=null,dt=406,ht="Not Acceptable"):ct.length===1?ct=ct[0]:ct=null)}else{var xt;const yt=await it.text();try{lt=JSON.parse(yt),Array.isArray(lt)&&it.status===404&&(ct=[],lt=null,dt=200,ht="OK")}catch{it.status===404&&yt===""?(dt=204,ht="No Content"):lt={message:yt}}if(lt&&ne.isMaybeSingle&&(!(lt==null||(xt=lt.details)===null||xt===void 0)&&xt.includes("0 rows"))&&(lt=null,dt=200,ht="OK"),lt&&ne.shouldThrowOnError)throw new PostgrestError(lt)}return{error:lt,data:ct,count:ut,status:dt,statusText:ht}});return this.shouldThrowOnError||(rt=rt.catch(it=>{var lt;let ct="",ut="",dt="";const ht=it?.cause;if(ht){var ft,pt,mt,xt;const Et=(ft=ht?.message)!==null&&ft!==void 0?ft:"",_t=(pt=ht?.code)!==null&&pt!==void 0?pt:"";ct=`${(mt=it?.name)!==null&&mt!==void 0?mt:"FetchError"}: ${it?.message}`,ct+=`

Caused by: ${(xt=ht?.name)!==null&&xt!==void 0?xt:"Error"}: ${Et}`,_t&&(ct+=` (${_t})`),ht?.stack&&(ct+=`
${ht.stack}`)}else{var yt;ct=(yt=it?.stack)!==null&&yt!==void 0?yt:""}const vt=this.url.toString().length;return it?.name==="AbortError"||it?.code==="ABORT_ERR"?(dt="",ut="Request was aborted (timeout or manual cancellation)",vt>this.urlLengthLimit&&(ut+=`. Note: Your request URL is ${vt} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(ht?.name==="HeadersOverflowError"||ht?.code==="UND_ERR_HEADERS_OVERFLOW")&&(dt="",ut="HTTP headers exceeded server limits (typically 16KB)",vt>this.urlLengthLimit&&(ut+=`. Your request URL is ${vt} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(lt=it?.name)!==null&&lt!==void 0?lt:"FetchError"}: ${it?.message}`,details:ct,hint:ut,code:dt},data:null,count:null,status:0,statusText:""}})),rt.then(ee,te)}returns(){return this}overrideTypes(){return this}},PostgrestTransformBuilder=class extends PostgrestBuilder{select(ee){let te=!1;const ne=(ee??"*").split("").map(xe=>/\s/.test(xe)&&!te?"":(xe==='"'&&(te=!te),xe)).join("");return this.url.searchParams.set("select",ne),this.headers.append("Prefer","return=representation"),this}order(ee,{ascending:te=!0,nullsFirst:ne,foreignTable:xe,referencedTable:rt=xe}={}){const it=rt?`${rt}.order`:"order",lt=this.url.searchParams.get(it);return this.url.searchParams.set(it,`${lt?`${lt},`:""}${ee}.${te?"asc":"desc"}${ne===void 0?"":ne?".nullsfirst":".nullslast"}`),this}limit(ee,{foreignTable:te,referencedTable:ne=te}={}){const xe=typeof ne>"u"?"limit":`${ne}.limit`;return this.url.searchParams.set(xe,`${ee}`),this}range(ee,te,{foreignTable:ne,referencedTable:xe=ne}={}){const rt=typeof xe>"u"?"offset":`${xe}.offset`,it=typeof xe>"u"?"limit":`${xe}.limit`;return this.url.searchParams.set(rt,`${ee}`),this.url.searchParams.set(it,`${te-ee+1}`),this}abortSignal(ee){return this.signal=ee,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:ee=!1,verbose:te=!1,settings:ne=!1,buffers:xe=!1,wal:rt=!1,format:it="text"}={}){var lt;const ct=[ee?"analyze":null,te?"verbose":null,ne?"settings":null,xe?"buffers":null,rt?"wal":null].filter(Boolean).join("|"),ut=(lt=this.headers.get("Accept"))!==null&&lt!==void 0?lt:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${it}; for="${ut}"; options=${ct};`),it==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(ee){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${ee}`),this}};const PostgrestReservedCharsRegexp=new RegExp("[,()]");var PostgrestFilterBuilder=class extends PostgrestTransformBuilder{eq(ee,te){return this.url.searchParams.append(ee,`eq.${te}`),this}neq(ee,te){return this.url.searchParams.append(ee,`neq.${te}`),this}gt(ee,te){return this.url.searchParams.append(ee,`gt.${te}`),this}gte(ee,te){return this.url.searchParams.append(ee,`gte.${te}`),this}lt(ee,te){return this.url.searchParams.append(ee,`lt.${te}`),this}lte(ee,te){return this.url.searchParams.append(ee,`lte.${te}`),this}like(ee,te){return this.url.searchParams.append(ee,`like.${te}`),this}likeAllOf(ee,te){return this.url.searchParams.append(ee,`like(all).{${te.join(",")}}`),this}likeAnyOf(ee,te){return this.url.searchParams.append(ee,`like(any).{${te.join(",")}}`),this}ilike(ee,te){return this.url.searchParams.append(ee,`ilike.${te}`),this}ilikeAllOf(ee,te){return this.url.searchParams.append(ee,`ilike(all).{${te.join(",")}}`),this}ilikeAnyOf(ee,te){return this.url.searchParams.append(ee,`ilike(any).{${te.join(",")}}`),this}regexMatch(ee,te){return this.url.searchParams.append(ee,`match.${te}`),this}regexIMatch(ee,te){return this.url.searchParams.append(ee,`imatch.${te}`),this}is(ee,te){return this.url.searchParams.append(ee,`is.${te}`),this}isDistinct(ee,te){return this.url.searchParams.append(ee,`isdistinct.${te}`),this}in(ee,te){const ne=Array.from(new Set(te)).map(xe=>typeof xe=="string"&&PostgrestReservedCharsRegexp.test(xe)?`"${xe}"`:`${xe}`).join(",");return this.url.searchParams.append(ee,`in.(${ne})`),this}notIn(ee,te){const ne=Array.from(new Set(te)).map(xe=>typeof xe=="string"&&PostgrestReservedCharsRegexp.test(xe)?`"${xe}"`:`${xe}`).join(",");return this.url.searchParams.append(ee,`not.in.(${ne})`),this}contains(ee,te){return typeof te=="string"?this.url.searchParams.append(ee,`cs.${te}`):Array.isArray(te)?this.url.searchParams.append(ee,`cs.{${te.join(",")}}`):this.url.searchParams.append(ee,`cs.${JSON.stringify(te)}`),this}containedBy(ee,te){return typeof te=="string"?this.url.searchParams.append(ee,`cd.${te}`):Array.isArray(te)?this.url.searchParams.append(ee,`cd.{${te.join(",")}}`):this.url.searchParams.append(ee,`cd.${JSON.stringify(te)}`),this}rangeGt(ee,te){return this.url.searchParams.append(ee,`sr.${te}`),this}rangeGte(ee,te){return this.url.searchParams.append(ee,`nxl.${te}`),this}rangeLt(ee,te){return this.url.searchParams.append(ee,`sl.${te}`),this}rangeLte(ee,te){return this.url.searchParams.append(ee,`nxr.${te}`),this}rangeAdjacent(ee,te){return this.url.searchParams.append(ee,`adj.${te}`),this}overlaps(ee,te){return typeof te=="string"?this.url.searchParams.append(ee,`ov.${te}`):this.url.searchParams.append(ee,`ov.{${te.join(",")}}`),this}textSearch(ee,te,{config:ne,type:xe}={}){let rt="";xe==="plain"?rt="pl":xe==="phrase"?rt="ph":xe==="websearch"&&(rt="w");const it=ne===void 0?"":`(${ne})`;return this.url.searchParams.append(ee,`${rt}fts${it}.${te}`),this}match(ee){return Object.entries(ee).forEach(([te,ne])=>{this.url.searchParams.append(te,`eq.${ne}`)}),this}not(ee,te,ne){return this.url.searchParams.append(ee,`not.${te}.${ne}`),this}or(ee,{foreignTable:te,referencedTable:ne=te}={}){const xe=ne?`${ne}.or`:"or";return this.url.searchParams.append(xe,`(${ee})`),this}filter(ee,te,ne){return this.url.searchParams.append(ee,`${te}.${ne}`),this}},PostgrestQueryBuilder=class{constructor(ee,{headers:te={},schema:ne,fetch:xe,urlLengthLimit:rt=8e3}){this.url=ee,this.headers=new Headers(te),this.schema=ne,this.fetch=xe,this.urlLengthLimit=rt}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(ee,te){const{head:ne=!1,count:xe}=te??{},rt=ne?"HEAD":"GET";let it=!1;const lt=(ee??"*").split("").map(dt=>/\s/.test(dt)&&!it?"":(dt==='"'&&(it=!it),dt)).join(""),{url:ct,headers:ut}=this.cloneRequestState();return ct.searchParams.set("select",lt),xe&&ut.append("Prefer",`count=${xe}`),new PostgrestFilterBuilder({method:rt,url:ct,headers:ut,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(ee,{count:te,defaultToNull:ne=!0}={}){var xe;const rt="POST",{url:it,headers:lt}=this.cloneRequestState();if(te&&lt.append("Prefer",`count=${te}`),ne||lt.append("Prefer","missing=default"),Array.isArray(ee)){const ct=ee.reduce((ut,dt)=>ut.concat(Object.keys(dt)),[]);if(ct.length>0){const ut=[...new Set(ct)].map(dt=>`"${dt}"`);it.searchParams.set("columns",ut.join(","))}}return new PostgrestFilterBuilder({method:rt,url:it,headers:lt,schema:this.schema,body:ee,fetch:(xe=this.fetch)!==null&&xe!==void 0?xe:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(ee,{onConflict:te,ignoreDuplicates:ne=!1,count:xe,defaultToNull:rt=!0}={}){var it;const lt="POST",{url:ct,headers:ut}=this.cloneRequestState();if(ut.append("Prefer",`resolution=${ne?"ignore":"merge"}-duplicates`),te!==void 0&&ct.searchParams.set("on_conflict",te),xe&&ut.append("Prefer",`count=${xe}`),rt||ut.append("Prefer","missing=default"),Array.isArray(ee)){const dt=ee.reduce((ht,ft)=>ht.concat(Object.keys(ft)),[]);if(dt.length>0){const ht=[...new Set(dt)].map(ft=>`"${ft}"`);ct.searchParams.set("columns",ht.join(","))}}return new PostgrestFilterBuilder({method:lt,url:ct,headers:ut,schema:this.schema,body:ee,fetch:(it=this.fetch)!==null&&it!==void 0?it:fetch,urlLengthLimit:this.urlLengthLimit})}update(ee,{count:te}={}){var ne;const xe="PATCH",{url:rt,headers:it}=this.cloneRequestState();return te&&it.append("Prefer",`count=${te}`),new PostgrestFilterBuilder({method:xe,url:rt,headers:it,schema:this.schema,body:ee,fetch:(ne=this.fetch)!==null&&ne!==void 0?ne:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:ee}={}){var te;const ne="DELETE",{url:xe,headers:rt}=this.cloneRequestState();return ee&&rt.append("Prefer",`count=${ee}`),new PostgrestFilterBuilder({method:ne,url:xe,headers:rt,schema:this.schema,fetch:(te=this.fetch)!==null&&te!==void 0?te:fetch,urlLengthLimit:this.urlLengthLimit})}};function _typeof$Q(ee){"@babel/helpers - typeof";return _typeof$Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$Q(ee)}function toPrimitive$2(ee,te){if(_typeof$Q(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$Q(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function toPropertyKey$2(ee){var te=toPrimitive$2(ee,"string");return _typeof$Q(te)=="symbol"?te:te+""}function _defineProperty$O(ee,te,ne){return(te=toPropertyKey$2(te))in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function ownKeys$I(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread2$3(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$I(Object(ne),!0).forEach(function(xe){_defineProperty$O(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$I(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}var PostgrestClient=class wh{constructor(te,{headers:ne={},schema:xe,fetch:rt,timeout:it,urlLengthLimit:lt=8e3}={}){this.url=te,this.headers=new Headers(ne),this.schemaName=xe,this.urlLengthLimit=lt;const ct=rt??globalThis.fetch;it!==void 0&&it>0?this.fetch=(ut,dt)=>{const ht=new AbortController,ft=setTimeout(()=>ht.abort(),it),pt=dt?.signal;if(pt){if(pt.aborted)return clearTimeout(ft),ct(ut,dt);const mt=()=>{clearTimeout(ft),ht.abort()};return pt.addEventListener("abort",mt,{once:!0}),ct(ut,_objectSpread2$3(_objectSpread2$3({},dt),{},{signal:ht.signal})).finally(()=>{clearTimeout(ft),pt.removeEventListener("abort",mt)})}return ct(ut,_objectSpread2$3(_objectSpread2$3({},dt),{},{signal:ht.signal})).finally(()=>clearTimeout(ft))}:this.fetch=ct}from(te){if(!te||typeof te!="string"||te.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PostgrestQueryBuilder(new URL(`${this.url}/${te}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(te){return new wh(this.url,{headers:this.headers,schema:te,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(te,ne={},{head:xe=!1,get:rt=!1,count:it}={}){var lt;let ct;const ut=new URL(`${this.url}/rpc/${te}`);let dt;const ht=mt=>mt!==null&&typeof mt=="object"&&(!Array.isArray(mt)||mt.some(ht)),ft=xe&&Object.values(ne).some(ht);ft?(ct="POST",dt=ne):xe||rt?(ct=xe?"HEAD":"GET",Object.entries(ne).filter(([mt,xt])=>xt!==void 0).map(([mt,xt])=>[mt,Array.isArray(xt)?`{${xt.join(",")}}`:`${xt}`]).forEach(([mt,xt])=>{ut.searchParams.append(mt,xt)})):(ct="POST",dt=ne);const pt=new Headers(this.headers);return ft?pt.set("Prefer",it?`count=${it},return=minimal`:"return=minimal"):it&&pt.set("Prefer",`count=${it}`),new PostgrestFilterBuilder({method:ct,url:ut,headers:pt,schema:this.schemaName,body:dt,fetch:(lt=this.fetch)!==null&&lt!==void 0?lt:fetch,urlLengthLimit:this.urlLengthLimit})}};class WebSocketFactory{constructor(){}static detectEnvironment(){var te;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((te=navigator.userAgent)===null||te===void 0)&&te.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const ne=globalThis.process;if(ne){const xe=ne.versions;if(xe&&xe.node){const rt=xe.node,it=parseInt(rt.replace(/^v/,"").split(".")[0]);return it>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${it} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${it} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const te=this.detectEnvironment();if(te.constructor)return te.constructor;let ne=te.error||"WebSocket not supported in this environment.";throw te.workaround&&(ne+=`

Suggested solution: ${te.workaround}`),new Error(ne)}static createWebSocket(te,ne){const xe=this.getWebSocketConstructor();return new xe(te,ne)}static isWebSocketSupported(){try{const te=this.detectEnvironment();return te.type==="native"||te.type==="ws"}catch{return!1}}}const version$4="2.94.1",DEFAULT_VERSION=`realtime-js/${version$4}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_2_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(ee){ee[ee.connecting=0]="connecting",ee[ee.open=1]="open",ee[ee.closing=2]="closing",ee[ee.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(ee){ee.closed="closed",ee.errored="errored",ee.joined="joined",ee.joining="joining",ee.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(ee){ee.close="phx_close",ee.error="phx_error",ee.join="phx_join",ee.reply="phx_reply",ee.leave="phx_leave",ee.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(ee){ee.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(ee){ee.Connecting="connecting",ee.Open="open",ee.Closing="closing",ee.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(te){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=te??[]}encode(te,ne){if(te.event===this.BROADCAST_EVENT&&!(te.payload instanceof ArrayBuffer)&&typeof te.payload.event=="string")return ne(this._binaryEncodeUserBroadcastPush(te));let xe=[te.join_ref,te.ref,te.topic,te.event,te.payload];return ne(JSON.stringify(xe))}_binaryEncodeUserBroadcastPush(te){var ne;return this._isArrayBuffer((ne=te.payload)===null||ne===void 0?void 0:ne.payload)?this._encodeBinaryUserBroadcastPush(te):this._encodeJsonUserBroadcastPush(te)}_encodeBinaryUserBroadcastPush(te){var ne,xe;const rt=(xe=(ne=te.payload)===null||ne===void 0?void 0:ne.payload)!==null&&xe!==void 0?xe:new ArrayBuffer(0);return this._encodeUserBroadcastPush(te,this.BINARY_ENCODING,rt)}_encodeJsonUserBroadcastPush(te){var ne,xe;const rt=(xe=(ne=te.payload)===null||ne===void 0?void 0:ne.payload)!==null&&xe!==void 0?xe:{},lt=new TextEncoder().encode(JSON.stringify(rt)).buffer;return this._encodeUserBroadcastPush(te,this.JSON_ENCODING,lt)}_encodeUserBroadcastPush(te,ne,xe){var rt,it;const lt=te.topic,ct=(rt=te.ref)!==null&&rt!==void 0?rt:"",ut=(it=te.join_ref)!==null&&it!==void 0?it:"",dt=te.payload.event,ht=this.allowedMetadataKeys?this._pick(te.payload,this.allowedMetadataKeys):{},ft=Object.keys(ht).length===0?"":JSON.stringify(ht);if(ut.length>255)throw new Error(`joinRef length ${ut.length} exceeds maximum of 255`);if(ct.length>255)throw new Error(`ref length ${ct.length} exceeds maximum of 255`);if(lt.length>255)throw new Error(`topic length ${lt.length} exceeds maximum of 255`);if(dt.length>255)throw new Error(`userEvent length ${dt.length} exceeds maximum of 255`);if(ft.length>255)throw new Error(`metadata length ${ft.length} exceeds maximum of 255`);const pt=this.USER_BROADCAST_PUSH_META_LENGTH+ut.length+ct.length+lt.length+dt.length+ft.length,mt=new ArrayBuffer(this.HEADER_LENGTH+pt);let xt=new DataView(mt),yt=0;xt.setUint8(yt++,this.KINDS.userBroadcastPush),xt.setUint8(yt++,ut.length),xt.setUint8(yt++,ct.length),xt.setUint8(yt++,lt.length),xt.setUint8(yt++,dt.length),xt.setUint8(yt++,ft.length),xt.setUint8(yt++,ne),Array.from(ut,Et=>xt.setUint8(yt++,Et.charCodeAt(0))),Array.from(ct,Et=>xt.setUint8(yt++,Et.charCodeAt(0))),Array.from(lt,Et=>xt.setUint8(yt++,Et.charCodeAt(0))),Array.from(dt,Et=>xt.setUint8(yt++,Et.charCodeAt(0))),Array.from(ft,Et=>xt.setUint8(yt++,Et.charCodeAt(0)));var vt=new Uint8Array(mt.byteLength+xe.byteLength);return vt.set(new Uint8Array(mt),0),vt.set(new Uint8Array(xe),mt.byteLength),vt.buffer}decode(te,ne){if(this._isArrayBuffer(te)){let xe=this._binaryDecode(te);return ne(xe)}if(typeof te=="string"){const xe=JSON.parse(te),[rt,it,lt,ct,ut]=xe;return ne({join_ref:rt,ref:it,topic:lt,event:ct,payload:ut})}return ne({})}_binaryDecode(te){const ne=new DataView(te),xe=ne.getUint8(0),rt=new TextDecoder;switch(xe){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(te,ne,rt)}}_decodeUserBroadcast(te,ne,xe){const rt=ne.getUint8(1),it=ne.getUint8(2),lt=ne.getUint8(3),ct=ne.getUint8(4);let ut=this.HEADER_LENGTH+4;const dt=xe.decode(te.slice(ut,ut+rt));ut=ut+rt;const ht=xe.decode(te.slice(ut,ut+it));ut=ut+it;const ft=xe.decode(te.slice(ut,ut+lt));ut=ut+lt;const pt=te.slice(ut,te.byteLength),mt=ct===this.JSON_ENCODING?JSON.parse(xe.decode(pt)):pt,xt={type:this.BROADCAST_EVENT,event:ht,payload:mt};return lt>0&&(xt.meta=JSON.parse(ft)),{join_ref:null,ref:null,topic:dt,event:this.BROADCAST_EVENT,payload:xt}}_isArrayBuffer(te){var ne;return te instanceof ArrayBuffer||((ne=te?.constructor)===null||ne===void 0?void 0:ne.name)==="ArrayBuffer"}_pick(te,ne){return!te||typeof te!="object"?{}:Object.fromEntries(Object.entries(te).filter(([xe])=>ne.includes(xe)))}}let Timer$1=class{constructor(te,ne){this.callback=te,this.timerCalc=ne,this.timer=void 0,this.tries=0,this.callback=te,this.timerCalc=ne}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var PostgresTypes;(function(ee){ee.abstime="abstime",ee.bool="bool",ee.date="date",ee.daterange="daterange",ee.float4="float4",ee.float8="float8",ee.int2="int2",ee.int4="int4",ee.int4range="int4range",ee.int8="int8",ee.int8range="int8range",ee.json="json",ee.jsonb="jsonb",ee.money="money",ee.numeric="numeric",ee.oid="oid",ee.reltime="reltime",ee.text="text",ee.time="time",ee.timestamp="timestamp",ee.timestamptz="timestamptz",ee.timetz="timetz",ee.tsrange="tsrange",ee.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(ee,te,ne={})=>{var xe;const rt=(xe=ne.skipTypes)!==null&&xe!==void 0?xe:[];return te?Object.keys(te).reduce((it,lt)=>(it[lt]=convertColumn(lt,ee,te,rt),it),{}):{}},convertColumn=(ee,te,ne,xe)=>{const rt=te.find(ct=>ct.name===ee),it=rt?.type,lt=ne[ee];return it&&!xe.includes(it)?convertCell(it,lt):noop$4(lt)},convertCell=(ee,te)=>{if(ee.charAt(0)==="_"){const ne=ee.slice(1,ee.length);return toArray$2(te,ne)}switch(ee){case PostgresTypes.bool:return toBoolean(te);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(te);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(te);case PostgresTypes.timestamp:return toTimestampString(te);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$4(te);default:return noop$4(te)}},noop$4=ee=>ee,toBoolean=ee=>{switch(ee){case"t":return!0;case"f":return!1;default:return ee}},toNumber=ee=>{if(typeof ee=="string"){const te=parseFloat(ee);if(!Number.isNaN(te))return te}return ee},toJson=ee=>{if(typeof ee=="string")try{return JSON.parse(ee)}catch{return ee}return ee},toArray$2=(ee,te)=>{if(typeof ee!="string")return ee;const ne=ee.length-1,xe=ee[ne];if(ee[0]==="{"&&xe==="}"){let it;const lt=ee.slice(1,ne);try{it=JSON.parse("["+lt+"]")}catch{it=lt?lt.split(","):[]}return it.map(ct=>convertCell(te,ct))}return ee},toTimestampString=ee=>typeof ee=="string"?ee.replace(" ","T"):ee,httpEndpointURL=ee=>{const te=new URL(ee);return te.protocol=te.protocol.replace(/^ws/i,"http"),te.pathname=te.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),te.pathname===""||te.pathname==="/"?te.pathname="/api/broadcast":te.pathname=te.pathname+"/api/broadcast",te.href};class Push{constructor(te,ne,xe={},rt=DEFAULT_TIMEOUT){this.channel=te,this.event=ne,this.payload=xe,this.timeout=rt,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(te){this.timeout=te,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(te){this.payload=Object.assign(Object.assign({},this.payload),te)}receive(te,ne){var xe;return this._hasReceived(te)&&ne((xe=this.receivedResp)===null||xe===void 0?void 0:xe.response),this.recHooks.push({status:te,callback:ne}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const te=ne=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=ne,this._matchReceive(ne)};this.channel._on(this.refEvent,{},te),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(te,ne){this.refEvent&&this.channel._trigger(this.refEvent,{status:te,response:ne})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:te,response:ne}){this.recHooks.filter(xe=>xe.status===te).forEach(xe=>xe.callback(ne))}_hasReceived(te){return this.receivedResp&&this.receivedResp.status===te}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(ee){ee.SYNC="sync",ee.JOIN="join",ee.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(te,ne){this.channel=te,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const xe=ne?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(xe.state,{},rt=>{const{onJoin:it,onLeave:lt,onSync:ct}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,rt,it,lt),this.pendingDiffs.forEach(ut=>{this.state=RealtimePresence.syncDiff(this.state,ut,it,lt)}),this.pendingDiffs=[],ct()}),this.channel._on(xe.diff,{},rt=>{const{onJoin:it,onLeave:lt,onSync:ct}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(rt):(this.state=RealtimePresence.syncDiff(this.state,rt,it,lt),ct())}),this.onJoin((rt,it,lt)=>{this.channel._trigger("presence",{event:"join",key:rt,currentPresences:it,newPresences:lt})}),this.onLeave((rt,it,lt)=>{this.channel._trigger("presence",{event:"leave",key:rt,currentPresences:it,leftPresences:lt})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(te,ne,xe,rt){const it=this.cloneDeep(te),lt=this.transformState(ne),ct={},ut={};return this.map(it,(dt,ht)=>{lt[dt]||(ut[dt]=ht)}),this.map(lt,(dt,ht)=>{const ft=it[dt];if(ft){const pt=ht.map(vt=>vt.presence_ref),mt=ft.map(vt=>vt.presence_ref),xt=ht.filter(vt=>mt.indexOf(vt.presence_ref)<0),yt=ft.filter(vt=>pt.indexOf(vt.presence_ref)<0);xt.length>0&&(ct[dt]=xt),yt.length>0&&(ut[dt]=yt)}else ct[dt]=ht}),this.syncDiff(it,{joins:ct,leaves:ut},xe,rt)}static syncDiff(te,ne,xe,rt){const{joins:it,leaves:lt}={joins:this.transformState(ne.joins),leaves:this.transformState(ne.leaves)};return xe||(xe=()=>{}),rt||(rt=()=>{}),this.map(it,(ct,ut)=>{var dt;const ht=(dt=te[ct])!==null&&dt!==void 0?dt:[];if(te[ct]=this.cloneDeep(ut),ht.length>0){const ft=te[ct].map(mt=>mt.presence_ref),pt=ht.filter(mt=>ft.indexOf(mt.presence_ref)<0);te[ct].unshift(...pt)}xe(ct,ht,ut)}),this.map(lt,(ct,ut)=>{let dt=te[ct];if(!dt)return;const ht=ut.map(ft=>ft.presence_ref);dt=dt.filter(ft=>ht.indexOf(ft.presence_ref)<0),te[ct]=dt,rt(ct,dt,ut),dt.length===0&&delete te[ct]}),te}static map(te,ne){return Object.getOwnPropertyNames(te).map(xe=>ne(xe,te[xe]))}static transformState(te){return te=this.cloneDeep(te),Object.getOwnPropertyNames(te).reduce((ne,xe)=>{const rt=te[xe];return"metas"in rt?ne[xe]=rt.metas.map(it=>(it.presence_ref=it.phx_ref,delete it.phx_ref,delete it.phx_ref_prev,it)):ne[xe]=rt,ne},{})}static cloneDeep(te){return JSON.parse(JSON.stringify(te))}onJoin(te){this.caller.onJoin=te}onLeave(te){this.caller.onLeave=te}onSync(te){this.caller.onSync=te}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(ee){ee.ALL="*",ee.INSERT="INSERT",ee.UPDATE="UPDATE",ee.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(ee){ee.BROADCAST="broadcast",ee.PRESENCE="presence",ee.POSTGRES_CHANGES="postgres_changes",ee.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(ee){ee.SUBSCRIBED="SUBSCRIBED",ee.TIMED_OUT="TIMED_OUT",ee.CLOSED="CLOSED",ee.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(te,ne={config:{}},xe){var rt,it;if(this.topic=te,this.params=ne,this.socket=xe,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=te.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},ne.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer$1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(lt=>lt.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(lt=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,lt),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",lt=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,lt),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(lt,ct)=>{this._trigger(this._replyEventName(ct),lt)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((it=(rt=this.params.config)===null||rt===void 0?void 0:rt.broadcast)===null||it===void 0)&&it.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(te,ne=this.timeout){var xe,rt,it;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:lt,presence:ct,private:ut}}=this.params,dt=(rt=(xe=this.bindings.postgres_changes)===null||xe===void 0?void 0:xe.map(mt=>mt.filter))!==null&&rt!==void 0?rt:[],ht=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((it=this.params.config.presence)===null||it===void 0?void 0:it.enabled)===!0,ft={},pt={broadcast:lt,presence:Object.assign(Object.assign({},ct),{enabled:ht}),postgres_changes:dt,private:ut};this.socket.accessTokenValue&&(ft.access_token=this.socket.accessTokenValue),this._onError(mt=>te?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,mt)),this._onClose(()=>te?.(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:pt},ft)),this.joinedOnce=!0,this._rejoin(ne),this.joinPush.receive("ok",async({postgres_changes:mt})=>{var xt;if(this.socket._isManualToken()||this.socket.setAuth(),mt===void 0){te?.(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const yt=this.bindings.postgres_changes,vt=(xt=yt?.length)!==null&&xt!==void 0?xt:0,Et=[];for(let _t=0;_t<vt;_t++){const wt=yt[_t],{filter:{event:St,schema:Ct,table:jt,filter:Rt}}=wt,Pt=mt&&mt[_t];if(Pt&&Pt.event===St&&RealtimeChannel.isFilterValueEqual(Pt.schema,Ct)&&RealtimeChannel.isFilterValueEqual(Pt.table,jt)&&RealtimeChannel.isFilterValueEqual(Pt.filter,Rt))Et.push(Object.assign(Object.assign({},wt),{id:Pt.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,te?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Et,te&&te(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",mt=>{this.state=CHANNEL_STATES.errored,te?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(mt).join(", ")||"error")))}).receive("timeout",()=>{te?.(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(te,ne={}){return await this.send({type:"presence",event:"track",payload:te},ne.timeout||this.timeout)}async untrack(te={}){return await this.send({type:"presence",event:"untrack"},te)}on(te,ne,xe){return this.state===CHANNEL_STATES.joined&&te===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(te,ne,xe)}async httpSend(te,ne,xe={}){var rt;if(ne==null)return Promise.reject("Payload is required for httpSend()");const it={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(it.Authorization=`Bearer ${this.socket.accessTokenValue}`);const lt={method:"POST",headers:it,body:JSON.stringify({messages:[{topic:this.subTopic,event:te,payload:ne,private:this.private}]})},ct=await this._fetchWithTimeout(this.broadcastEndpointURL,lt,(rt=xe.timeout)!==null&&rt!==void 0?rt:this.timeout);if(ct.status===202)return{success:!0};let ut=ct.statusText;try{const dt=await ct.json();ut=dt.error||dt.message||ut}catch{}return Promise.reject(new Error(ut))}async send(te,ne={}){var xe,rt;if(!this._canPush()&&te.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:it,payload:lt}=te,ct={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(ct.Authorization=`Bearer ${this.socket.accessTokenValue}`);const ut={method:"POST",headers:ct,body:JSON.stringify({messages:[{topic:this.subTopic,event:it,payload:lt,private:this.private}]})};try{const dt=await this._fetchWithTimeout(this.broadcastEndpointURL,ut,(xe=ne.timeout)!==null&&xe!==void 0?xe:this.timeout);return await((rt=dt.body)===null||rt===void 0?void 0:rt.cancel()),dt.ok?"ok":"error"}catch(dt){return dt.name==="AbortError"?"timed out":"error"}}else return new Promise(it=>{var lt,ct,ut;const dt=this._push(te.type,te,ne.timeout||this.timeout);te.type==="broadcast"&&!(!((ut=(ct=(lt=this.params)===null||lt===void 0?void 0:lt.config)===null||ct===void 0?void 0:ct.broadcast)===null||ut===void 0)&&ut.ack)&&it("ok"),dt.receive("ok",()=>it("ok")),dt.receive("error",()=>it("error")),dt.receive("timeout",()=>it("timed out"))})}updateJoinPayload(te){this.joinPush.updatePayload(te)}unsubscribe(te=this.timeout){this.state=CHANNEL_STATES.leaving;const ne=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let xe=null;return new Promise(rt=>{xe=new Push(this,CHANNEL_EVENTS.leave,{},te),xe.receive("ok",()=>{ne(),rt("ok")}).receive("timeout",()=>{ne(),rt("timed out")}).receive("error",()=>{rt("error")}),xe.send(),this._canPush()||xe.trigger("ok",{})}).finally(()=>{xe?.destroy()})}teardown(){this.pushBuffer.forEach(te=>te.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(te,ne,xe){const rt=new AbortController,it=setTimeout(()=>rt.abort(),xe),lt=await this.socket.fetch(te,Object.assign(Object.assign({},ne),{signal:rt.signal}));return clearTimeout(it),lt}_push(te,ne,xe=this.timeout){if(!this.joinedOnce)throw`tried to push '${te}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let rt=new Push(this,te,ne,xe);return this._canPush()?rt.send():this._addToPushBuffer(rt),rt}_addToPushBuffer(te){if(te.startTimeout(),this.pushBuffer.push(te),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const ne=this.pushBuffer.shift();ne&&(ne.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${ne.event}`,ne.payload))}}_onMessage(te,ne,xe){return ne}_isMember(te){return this.topic===te}_joinRef(){return this.joinPush.ref}_trigger(te,ne,xe){var rt,it;const lt=te.toLocaleLowerCase(),{close:ct,error:ut,leave:dt,join:ht}=CHANNEL_EVENTS;if(xe&&[ct,ut,dt,ht].indexOf(lt)>=0&&xe!==this._joinRef())return;let pt=this._onMessage(lt,ne,xe);if(ne&&!pt)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(lt)?(rt=this.bindings.postgres_changes)===null||rt===void 0||rt.filter(mt=>{var xt,yt,vt;return((xt=mt.filter)===null||xt===void 0?void 0:xt.event)==="*"||((vt=(yt=mt.filter)===null||yt===void 0?void 0:yt.event)===null||vt===void 0?void 0:vt.toLocaleLowerCase())===lt}).map(mt=>mt.callback(pt,xe)):(it=this.bindings[lt])===null||it===void 0||it.filter(mt=>{var xt,yt,vt,Et,_t,wt;if(["broadcast","presence","postgres_changes"].includes(lt))if("id"in mt){const St=mt.id,Ct=(xt=mt.filter)===null||xt===void 0?void 0:xt.event;return St&&((yt=ne.ids)===null||yt===void 0?void 0:yt.includes(St))&&(Ct==="*"||Ct?.toLocaleLowerCase()===((vt=ne.data)===null||vt===void 0?void 0:vt.type.toLocaleLowerCase()))}else{const St=(_t=(Et=mt?.filter)===null||Et===void 0?void 0:Et.event)===null||_t===void 0?void 0:_t.toLocaleLowerCase();return St==="*"||St===((wt=ne?.event)===null||wt===void 0?void 0:wt.toLocaleLowerCase())}else return mt.type.toLocaleLowerCase()===lt}).map(mt=>{if(typeof pt=="object"&&"ids"in pt){const xt=pt.data,{schema:yt,table:vt,commit_timestamp:Et,type:_t,errors:wt}=xt;pt=Object.assign(Object.assign({},{schema:yt,table:vt,commit_timestamp:Et,eventType:_t,new:{},old:{},errors:wt}),this._getPayloadRecords(xt))}mt.callback(pt,xe)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(te){return`chan_reply_${te}`}_on(te,ne,xe){const rt=te.toLocaleLowerCase(),it={type:rt,filter:ne,callback:xe};return this.bindings[rt]?this.bindings[rt].push(it):this.bindings[rt]=[it],this}_off(te,ne){const xe=te.toLocaleLowerCase();return this.bindings[xe]&&(this.bindings[xe]=this.bindings[xe].filter(rt=>{var it;return!(((it=rt.type)===null||it===void 0?void 0:it.toLocaleLowerCase())===xe&&RealtimeChannel.isEqual(rt.filter,ne))})),this}static isEqual(te,ne){if(Object.keys(te).length!==Object.keys(ne).length)return!1;for(const xe in te)if(te[xe]!==ne[xe])return!1;return!0}static isFilterValueEqual(te,ne){return(te??void 0)===(ne??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(te){this._on(CHANNEL_EVENTS.close,{},te)}_onError(te){this._on(CHANNEL_EVENTS.error,{},ne=>te(ne))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(te=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(te))}_getPayloadRecords(te){const ne={new:{},old:{}};return(te.type==="INSERT"||te.type==="UPDATE")&&(ne.new=convertChangeData(te.columns,te.record)),(te.type==="UPDATE"||te.type==="DELETE")&&(ne.old=convertChangeData(te.columns,te.old_record)),ne}}const noop$3=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(te,ne){var xe;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$3,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop$3,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=rt=>rt?(...it)=>rt(...it):(...it)=>fetch(...it),!(!((xe=ne?.params)===null||xe===void 0)&&xe.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=ne.params.apikey,this.endPoint=`${te}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(te),this._initializeOptions(ne),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(ne?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(te){this._setConnectionState("disconnected");const ne=te.message;throw ne.includes("Node.js")?new Error(`${ne}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${ne}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(te,ne){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const xe=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(xe),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(te?this.conn.close(te,ne??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(te){const ne=await te.unsubscribe();return this.channels.length===0&&this.disconnect(),ne}async removeAllChannels(){const te=await Promise.all(this.channels.map(ne=>ne.unsubscribe()));return this.channels=[],this.disconnect(),te}log(te,ne,xe){this.logger(te,ne,xe)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(te,ne={config:{}}){const xe=`realtime:${te}`,rt=this.getChannels().find(it=>it.topic===xe);if(rt)return rt;{const it=new RealtimeChannel(`realtime:${te}`,ne,this);return this.channels.push(it),it}}push(te){const{topic:ne,event:xe,payload:rt,ref:it}=te,lt=()=>{this.encode(te,ct=>{var ut;(ut=this.conn)===null||ut===void 0||ut.send(ct)})};this.log("push",`${ne} ${xe} (${it})`,rt),this.isConnected()?lt():this.sendBuffer.push(lt)}async setAuth(te=null){this._authPromise=this._performAuth(te);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var te;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(ne){this.log("error","error in heartbeat callback",ne)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(ne){this.log("error","error in heartbeat callback",ne)}this._wasManualDisconnect=!1,(te=this.conn)===null||te===void 0||te.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var ne;this.isConnected()||(ne=this.reconnectTimer)===null||ne===void 0||ne.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(ne){this.log("error","error in heartbeat callback",ne)}this._setAuthSafely("heartbeat")}onHeartbeat(te){this.heartbeatCallback=te}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(te=>te()),this.sendBuffer=[])}_makeRef(){let te=this.ref+1;return te===this.ref?this.ref=0:this.ref=te,this.ref.toString()}_leaveOpenTopic(te){let ne=this.channels.find(xe=>xe.topic===te&&(xe._isJoined()||xe._isJoining()));ne&&(this.log("transport",`leaving duplicate topic "${te}"`),ne.unsubscribe())}_remove(te){this.channels=this.channels.filter(ne=>ne.topic!==te.topic)}_onConnMessage(te){this.decode(te.data,ne=>{if(ne.topic==="phoenix"&&ne.event==="phx_reply"&&ne.ref&&ne.ref===this.pendingHeartbeatRef){const dt=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(ne.payload.status==="ok"?"ok":"error",dt)}catch(ht){this.log("error","error in heartbeat callback",ht)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:xe,event:rt,payload:it,ref:lt}=ne,ct=lt?`(${lt})`:"",ut=it.status||"";this.log("receive",`${ut} ${xe} ${rt} ${ct}`.trim(),it),this.channels.filter(dt=>dt._isMember(xe)).forEach(dt=>dt._trigger(rt,it,lt)),this._triggerStateCallbacks("message",ne)})}_clearTimer(te){var ne;te==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):te==="reconnect"&&((ne=this.reconnectTimer)===null||ne===void 0||ne.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=te=>this._onConnError(te),this.conn.onmessage=te=>this._onConnMessage(te),this.conn.onclose=te=>this._onConnClose(te),this.conn.readyState===SOCKET_STATES.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(te){this.log("error","Error closing connection",te)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(te=>te.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(ne=>{this.log("error","error waiting for auth on connect",ne),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const te=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(te),this.workerRef.onerror=ne=>{this.log("worker","worker error",ne.message),this._terminateWorker()},this.workerRef.onmessage=ne=>{ne.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(te){var ne;this._setConnectionState("disconnected"),this.log("transport","close",te),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(ne=this.reconnectTimer)===null||ne===void 0||ne.scheduleTimeout(),this._triggerStateCallbacks("close",te)}_onConnError(te){this._setConnectionState("disconnected"),this.log("transport",`${te}`),this._triggerChanError(),this._triggerStateCallbacks("error",te);try{this.heartbeatCallback("error")}catch(ne){this.log("error","error in heartbeat callback",ne)}}_triggerChanError(){this.channels.forEach(te=>te._trigger(CHANNEL_EVENTS.error))}_appendParams(te,ne){if(Object.keys(ne).length===0)return te;const xe=te.match(/\?/)?"&":"?",rt=new URLSearchParams(ne);return`${te}${xe}${rt}`}_workerObjectUrl(te){let ne;if(te)ne=te;else{const xe=new Blob([WORKER_SCRIPT],{type:"application/javascript"});ne=URL.createObjectURL(xe)}return ne}_setConnectionState(te,ne=!1){this._connectionState=te,te==="connecting"?this._wasManualDisconnect=!1:te==="disconnecting"&&(this._wasManualDisconnect=ne)}async _performAuth(te=null){let ne,xe=!1;if(te)ne=te,xe=!0;else if(this.accessToken)try{ne=await this.accessToken()}catch(rt){this.log("error","Error fetching access token from callback",rt),ne=this.accessTokenValue}else ne=this.accessTokenValue;xe?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=ne&&(this.accessTokenValue=ne,this.channels.forEach(rt=>{const it={access_token:ne,version:DEFAULT_VERSION};ne&&rt.updateJoinPayload(it),rt.joinedOnce&&rt._isJoined()&&rt._push(CHANNEL_EVENTS.access_token,{access_token:ne})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(te="general"){this._isManualToken()||this.setAuth().catch(ne=>{this.log("error",`Error setting auth in ${te}`,ne)})}_triggerStateCallbacks(te,ne){try{this.stateChangeCallbacks[te].forEach(xe=>{try{xe(ne)}catch(rt){this.log("error",`error in ${te} callback`,rt)}})}catch(xe){this.log("error",`error triggering ${te} callbacks`,xe)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer$1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(te){var ne,xe,rt,it,lt,ct,ut,dt,ht,ft,pt,mt;switch(this.transport=(ne=te?.transport)!==null&&ne!==void 0?ne:null,this.timeout=(xe=te?.timeout)!==null&&xe!==void 0?xe:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(rt=te?.heartbeatIntervalMs)!==null&&rt!==void 0?rt:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(it=te?.worker)!==null&&it!==void 0?it:!1,this.accessToken=(lt=te?.accessToken)!==null&&lt!==void 0?lt:null,this.heartbeatCallback=(ct=te?.heartbeatCallback)!==null&&ct!==void 0?ct:noop$3,this.vsn=(ut=te?.vsn)!==null&&ut!==void 0?ut:DEFAULT_VSN,te?.params&&(this.params=te.params),te?.logger&&(this.logger=te.logger),(te?.logLevel||te?.log_level)&&(this.logLevel=te.logLevel||te.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(dt=te?.reconnectAfterMs)!==null&&dt!==void 0?dt:(xt=>RECONNECT_INTERVALS[xt-1]||DEFAULT_RECONNECT_FALLBACK),this.vsn){case VSN_1_0_0:this.encode=(ht=te?.encode)!==null&&ht!==void 0?ht:((xt,yt)=>yt(JSON.stringify(xt))),this.decode=(ft=te?.decode)!==null&&ft!==void 0?ft:((xt,yt)=>yt(JSON.parse(xt)));break;case VSN_2_0_0:this.encode=(pt=te?.encode)!==null&&pt!==void 0?pt:this.serializer.encode.bind(this.serializer),this.decode=(mt=te?.decode)!==null&&mt!==void 0?mt:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=te?.workerUrl}}}var IcebergError=class extends Error{constructor(ee,te){super(ee),this.name="IcebergError",this.status=te.status,this.icebergType=te.icebergType,this.icebergCode=te.icebergCode,this.details=te.details,this.isCommitStateUnknown=te.icebergType==="CommitStateUnknownException"||[500,502,504].includes(te.status)&&te.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function buildUrl(ee,te,ne){const xe=new URL(te,ee);if(ne)for(const[rt,it]of Object.entries(ne))it!==void 0&&xe.searchParams.set(rt,it);return xe.toString()}async function buildAuthHeaders(ee){return!ee||ee.type==="none"?{}:ee.type==="bearer"?{Authorization:`Bearer ${ee.token}`}:ee.type==="header"?{[ee.name]:ee.value}:ee.type==="custom"?await ee.getHeaders():{}}function createFetchClient(ee){const te=ee.fetchImpl??globalThis.fetch;return{async request({method:ne,path:xe,query:rt,body:it,headers:lt}){const ct=buildUrl(ee.baseUrl,xe,rt),ut=await buildAuthHeaders(ee.auth),dt=await te(ct,{method:ne,headers:{...it?{"Content-Type":"application/json"}:{},...ut,...lt},body:it?JSON.stringify(it):void 0}),ht=await dt.text(),ft=(dt.headers.get("content-type")||"").includes("application/json"),pt=ft&&ht?JSON.parse(ht):ht;if(!dt.ok){const mt=ft?pt:void 0,xt=mt?.error;throw new IcebergError(xt?.message??`Request failed with status ${dt.status}`,{status:dt.status,icebergType:xt?.type,icebergCode:xt?.code,details:mt})}return{status:dt.status,headers:dt.headers,data:pt}}}}function namespaceToPath(ee){return ee.join("")}var NamespaceOperations=class{constructor(ee,te=""){this.client=ee,this.prefix=te}async listNamespaces(ee){const te=ee?{parent:namespaceToPath(ee.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:te})).data.namespaces.map(xe=>({namespace:xe}))}async createNamespace(ee,te){const ne={namespace:ee.namespace,properties:te?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:ne})).data}async dropNamespace(ee){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath(ee.namespace)}`})}async loadNamespaceMetadata(ee){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath(ee.namespace)}`})).data.properties}}async namespaceExists(ee){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath(ee.namespace)}`}),!0}catch(te){if(te instanceof IcebergError&&te.status===404)return!1;throw te}}async createNamespaceIfNotExists(ee,te){try{return await this.createNamespace(ee,te)}catch(ne){if(ne instanceof IcebergError&&ne.status===409)return;throw ne}}};function namespaceToPath2(ee){return ee.join("")}var TableOperations=class{constructor(ee,te="",ne){this.client=ee,this.prefix=te,this.accessDelegation=ne}async listTables(ee){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(ee.namespace)}/tables`})).data.identifiers}async createTable(ee,te){const ne={};return this.accessDelegation&&(ne["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(ee.namespace)}/tables`,body:te,headers:ne})).data.metadata}async updateTable(ee,te){const ne=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(ee.namespace)}/tables/${ee.name}`,body:te});return{"metadata-location":ne.data["metadata-location"],metadata:ne.data.metadata}}async dropTable(ee,te){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath2(ee.namespace)}/tables/${ee.name}`,query:{purgeRequested:String(te?.purge??!1)}})}async loadTable(ee){const te={};return this.accessDelegation&&(te["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(ee.namespace)}/tables/${ee.name}`,headers:te})).data.metadata}async tableExists(ee){const te={};this.accessDelegation&&(te["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath2(ee.namespace)}/tables/${ee.name}`,headers:te}),!0}catch(ne){if(ne instanceof IcebergError&&ne.status===404)return!1;throw ne}}async createTableIfNotExists(ee,te){try{return await this.createTable(ee,te)}catch(ne){if(ne instanceof IcebergError&&ne.status===409)return await this.loadTable({namespace:ee.namespace,name:te.name});throw ne}}},IcebergRestCatalog=class{constructor(ee){let te="v1";ee.catalogName&&(te+=`/${ee.catalogName}`);const ne=ee.baseUrl.endsWith("/")?ee.baseUrl:`${ee.baseUrl}/`;this.client=createFetchClient({baseUrl:ne,auth:ee.auth,fetchImpl:ee.fetch}),this.accessDelegation=ee.accessDelegation?.join(","),this.namespaceOps=new NamespaceOperations(this.client,te),this.tableOps=new TableOperations(this.client,te,this.accessDelegation)}async listNamespaces(ee){return this.namespaceOps.listNamespaces(ee)}async createNamespace(ee,te){return this.namespaceOps.createNamespace(ee,te)}async dropNamespace(ee){await this.namespaceOps.dropNamespace(ee)}async loadNamespaceMetadata(ee){return this.namespaceOps.loadNamespaceMetadata(ee)}async listTables(ee){return this.tableOps.listTables(ee)}async createTable(ee,te){return this.tableOps.createTable(ee,te)}async updateTable(ee,te){return this.tableOps.updateTable(ee,te)}async dropTable(ee,te){await this.tableOps.dropTable(ee,te)}async loadTable(ee){return this.tableOps.loadTable(ee)}async namespaceExists(ee){return this.namespaceOps.namespaceExists(ee)}async tableExists(ee){return this.tableOps.tableExists(ee)}async createNamespaceIfNotExists(ee,te){return this.namespaceOps.createNamespaceIfNotExists(ee,te)}async createTableIfNotExists(ee,te){return this.tableOps.createTableIfNotExists(ee,te)}},StorageError=class extends Error{constructor(ee,te="storage",ne,xe){super(ee),this.__isStorageError=!0,this.namespace=te,this.name=te==="vectors"?"StorageVectorsError":"StorageError",this.status=ne,this.statusCode=xe}};function isStorageError(ee){return typeof ee=="object"&&ee!==null&&"__isStorageError"in ee}var StorageApiError=class extends StorageError{constructor(ee,te,ne,xe="storage"){super(ee,xe,te,ne),this.name=xe==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=te,this.statusCode=ne}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageUnknownError=class extends StorageError{constructor(ee,te,ne="storage"){super(ee,ne),this.name=ne==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=te}};const resolveFetch$2=ee=>ee?(...te)=>ee(...te):(...te)=>fetch(...te),isPlainObject$3=ee=>{if(typeof ee!="object"||ee===null)return!1;const te=Object.getPrototypeOf(ee);return(te===null||te===Object.prototype||Object.getPrototypeOf(te)===null)&&!(Symbol.toStringTag in ee)&&!(Symbol.iterator in ee)},recursiveToCamel=ee=>{if(Array.isArray(ee))return ee.map(ne=>recursiveToCamel(ne));if(typeof ee=="function"||ee!==Object(ee))return ee;const te={};return Object.entries(ee).forEach(([ne,xe])=>{const rt=ne.replace(/([-_][a-z])/gi,it=>it.toUpperCase().replace(/[-_]/g,""));te[rt]=recursiveToCamel(xe)}),te},isValidBucketName=ee=>!ee||typeof ee!="string"||ee.length===0||ee.length>100||ee.trim()!==ee||ee.includes("/")||ee.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(ee);function _typeof$P(ee){"@babel/helpers - typeof";return _typeof$P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$P(ee)}function toPrimitive$1(ee,te){if(_typeof$P(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$P(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function toPropertyKey$1(ee){var te=toPrimitive$1(ee,"string");return _typeof$P(te)=="symbol"?te:te+""}function _defineProperty$N(ee,te,ne){return(te=toPropertyKey$1(te))in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function ownKeys$H(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread2$2(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$H(Object(ne),!0).forEach(function(xe){_defineProperty$N(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$H(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}const _getErrorMessage$1=ee=>{var te;return ee.msg||ee.message||ee.error_description||(typeof ee.error=="string"?ee.error:(te=ee.error)===null||te===void 0?void 0:te.message)||JSON.stringify(ee)},handleError$2=async(ee,te,ne,xe)=>{if(ee&&typeof ee=="object"&&"status"in ee&&"ok"in ee&&typeof ee.status=="number"&&!ne?.noResolveJson){const rt=ee,it=rt.status||500;if(typeof rt.json=="function")rt.json().then(lt=>{const ct=lt?.statusCode||lt?.code||it+"";te(new StorageApiError(_getErrorMessage$1(lt),it,ct,xe))}).catch(()=>{if(xe==="vectors"){const lt=it+"";te(new StorageApiError(rt.statusText||`HTTP ${it} error`,it,lt,xe))}else{const lt=it+"";te(new StorageApiError(rt.statusText||`HTTP ${it} error`,it,lt,xe))}});else{const lt=it+"";te(new StorageApiError(rt.statusText||`HTTP ${it} error`,it,lt,xe))}}else te(new StorageUnknownError(_getErrorMessage$1(ee),ee,xe))},_getRequestParams$1=(ee,te,ne,xe)=>{const rt={method:ee,headers:te?.headers||{}};return ee==="GET"||ee==="HEAD"||!xe?_objectSpread2$2(_objectSpread2$2({},rt),ne):(isPlainObject$3(xe)?(rt.headers=_objectSpread2$2({"Content-Type":"application/json"},te?.headers),rt.body=JSON.stringify(xe)):rt.body=xe,te?.duplex&&(rt.duplex=te.duplex),_objectSpread2$2(_objectSpread2$2({},rt),ne))};async function _handleRequest$1(ee,te,ne,xe,rt,it,lt){return new Promise((ct,ut)=>{ee(ne,_getRequestParams$1(te,xe,rt,it)).then(dt=>{if(!dt.ok)throw dt;if(xe?.noResolveJson)return dt;if(lt==="vectors"){const ht=dt.headers.get("content-type");if(dt.headers.get("content-length")==="0"||dt.status===204)return{};if(!ht||!ht.includes("application/json"))return{}}return dt.json()}).then(dt=>ct(dt)).catch(dt=>handleError$2(dt,ut,xe,lt))})}function createFetchApi(ee="storage"){return{get:async(te,ne,xe,rt)=>_handleRequest$1(te,"GET",ne,xe,rt,void 0,ee),post:async(te,ne,xe,rt,it)=>_handleRequest$1(te,"POST",ne,rt,it,xe,ee),put:async(te,ne,xe,rt,it)=>_handleRequest$1(te,"PUT",ne,rt,it,xe,ee),head:async(te,ne,xe,rt)=>_handleRequest$1(te,"HEAD",ne,_objectSpread2$2(_objectSpread2$2({},xe),{},{noResolveJson:!0}),rt,void 0,ee),remove:async(te,ne,xe,rt,it)=>_handleRequest$1(te,"DELETE",ne,rt,it,xe,ee)}}const defaultApi=createFetchApi("storage"),{get:get$3,post:post$1,put,head,remove:remove$1}=defaultApi,vectorsApi=createFetchApi("vectors");var BaseApiClient=class{constructor(ee,te={},ne,xe="storage"){this.shouldThrowOnError=!1,this.url=ee,this.headers=te,this.fetch=resolveFetch$2(ne),this.namespace=xe}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(ee){var te=this;try{return{data:await ee(),error:null}}catch(ne){if(te.shouldThrowOnError)throw ne;if(isStorageError(ne))return{data:null,error:ne};throw ne}}},StreamDownloadBuilder=class{constructor(ee,te){this.downloadFn=ee,this.shouldThrowOnError=te}then(ee,te){return this.execute().then(ee,te)}async execute(){var ee=this;try{return{data:(await ee.downloadFn()).body,error:null}}catch(te){if(ee.shouldThrowOnError)throw te;if(isStorageError(te))return{data:null,error:te};throw te}}};let _Symbol$toStringTag;_Symbol$toStringTag=Symbol.toStringTag;var BlobDownloadBuilder=class{constructor(ee,te){this.downloadFn=ee,this.shouldThrowOnError=te,this[_Symbol$toStringTag]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(ee,te){return this.getPromise().then(ee,te)}catch(ee){return this.getPromise().catch(ee)}finally(ee){return this.getPromise().finally(ee)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var ee=this;try{return{data:await(await ee.downloadFn()).blob(),error:null}}catch(te){if(ee.shouldThrowOnError)throw te;if(isStorageError(te))return{data:null,error:te};throw te}}};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var StorageFileApi=class extends BaseApiClient{constructor(ee,te={},ne,xe){super(ee,te,xe,"storage"),this.bucketId=ne}async uploadOrUpdate(ee,te,ne,xe){var rt=this;return rt.handleOperation(async()=>{let it;const lt=_objectSpread2$2(_objectSpread2$2({},DEFAULT_FILE_OPTIONS),xe);let ct=_objectSpread2$2(_objectSpread2$2({},rt.headers),ee==="POST"&&{"x-upsert":String(lt.upsert)});const ut=lt.metadata;typeof Blob<"u"&&ne instanceof Blob?(it=new FormData,it.append("cacheControl",lt.cacheControl),ut&&it.append("metadata",rt.encodeMetadata(ut)),it.append("",ne)):typeof FormData<"u"&&ne instanceof FormData?(it=ne,it.has("cacheControl")||it.append("cacheControl",lt.cacheControl),ut&&!it.has("metadata")&&it.append("metadata",rt.encodeMetadata(ut))):(it=ne,ct["cache-control"]=`max-age=${lt.cacheControl}`,ct["content-type"]=lt.contentType,ut&&(ct["x-metadata"]=rt.toBase64(rt.encodeMetadata(ut))),(typeof ReadableStream<"u"&&it instanceof ReadableStream||it&&typeof it=="object"&&"pipe"in it&&typeof it.pipe=="function")&&!lt.duplex&&(lt.duplex="half")),xe?.headers&&(ct=_objectSpread2$2(_objectSpread2$2({},ct),xe.headers));const dt=rt._removeEmptyFolders(te),ht=rt._getFinalPath(dt),ft=await(ee=="PUT"?put:post$1)(rt.fetch,`${rt.url}/object/${ht}`,it,_objectSpread2$2({headers:ct},lt?.duplex?{duplex:lt.duplex}:{}));return{path:dt,id:ft.Id,fullPath:ft.Key}})}async upload(ee,te,ne){return this.uploadOrUpdate("POST",ee,te,ne)}async uploadToSignedUrl(ee,te,ne,xe){var rt=this;const it=rt._removeEmptyFolders(ee),lt=rt._getFinalPath(it),ct=new URL(rt.url+`/object/upload/sign/${lt}`);return ct.searchParams.set("token",te),rt.handleOperation(async()=>{let ut;const dt=_objectSpread2$2({upsert:DEFAULT_FILE_OPTIONS.upsert},xe),ht=_objectSpread2$2(_objectSpread2$2({},rt.headers),{"x-upsert":String(dt.upsert)});return typeof Blob<"u"&&ne instanceof Blob?(ut=new FormData,ut.append("cacheControl",dt.cacheControl),ut.append("",ne)):typeof FormData<"u"&&ne instanceof FormData?(ut=ne,ut.append("cacheControl",dt.cacheControl)):(ut=ne,ht["cache-control"]=`max-age=${dt.cacheControl}`,ht["content-type"]=dt.contentType),{path:it,fullPath:(await put(rt.fetch,ct.toString(),ut,{headers:ht})).Key}})}async createSignedUploadUrl(ee,te){var ne=this;return ne.handleOperation(async()=>{let xe=ne._getFinalPath(ee);const rt=_objectSpread2$2({},ne.headers);te?.upsert&&(rt["x-upsert"]="true");const it=await post$1(ne.fetch,`${ne.url}/object/upload/sign/${xe}`,{},{headers:rt}),lt=new URL(ne.url+it.url),ct=lt.searchParams.get("token");if(!ct)throw new StorageError("No token returned by API");return{signedUrl:lt.toString(),path:ee,token:ct}})}async update(ee,te,ne){return this.uploadOrUpdate("PUT",ee,te,ne)}async move(ee,te,ne){var xe=this;return xe.handleOperation(async()=>await post$1(xe.fetch,`${xe.url}/object/move`,{bucketId:xe.bucketId,sourceKey:ee,destinationKey:te,destinationBucket:ne?.destinationBucket},{headers:xe.headers}))}async copy(ee,te,ne){var xe=this;return xe.handleOperation(async()=>({path:(await post$1(xe.fetch,`${xe.url}/object/copy`,{bucketId:xe.bucketId,sourceKey:ee,destinationKey:te,destinationBucket:ne?.destinationBucket},{headers:xe.headers})).Key}))}async createSignedUrl(ee,te,ne){var xe=this;return xe.handleOperation(async()=>{let rt=xe._getFinalPath(ee),it=await post$1(xe.fetch,`${xe.url}/object/sign/${rt}`,_objectSpread2$2({expiresIn:te},ne?.transform?{transform:ne.transform}:{}),{headers:xe.headers});const lt=ne?.download?`&download=${ne.download===!0?"":ne.download}`:"";return{signedUrl:encodeURI(`${xe.url}${it.signedURL}${lt}`)}})}async createSignedUrls(ee,te,ne){var xe=this;return xe.handleOperation(async()=>{const rt=await post$1(xe.fetch,`${xe.url}/object/sign/${xe.bucketId}`,{expiresIn:te,paths:ee},{headers:xe.headers}),it=ne?.download?`&download=${ne.download===!0?"":ne.download}`:"";return rt.map(lt=>_objectSpread2$2(_objectSpread2$2({},lt),{},{signedUrl:lt.signedURL?encodeURI(`${xe.url}${lt.signedURL}${it}`):null}))})}download(ee,te){const ne=typeof te?.transform<"u"?"render/image/authenticated":"object",xe=this.transformOptsToQueryString(te?.transform||{}),rt=xe?`?${xe}`:"",it=this._getFinalPath(ee),lt=()=>get$3(this.fetch,`${this.url}/${ne}/${it}${rt}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(lt,this.shouldThrowOnError)}async info(ee){var te=this;const ne=te._getFinalPath(ee);return te.handleOperation(async()=>recursiveToCamel(await get$3(te.fetch,`${te.url}/object/info/${ne}`,{headers:te.headers})))}async exists(ee){var te=this;const ne=te._getFinalPath(ee);try{return await head(te.fetch,`${te.url}/object/${ne}`,{headers:te.headers}),{data:!0,error:null}}catch(xe){if(te.shouldThrowOnError)throw xe;if(isStorageError(xe)&&xe instanceof StorageUnknownError){const rt=xe.originalError;if([400,404].includes(rt?.status))return{data:!1,error:xe}}throw xe}}getPublicUrl(ee,te){const ne=this._getFinalPath(ee),xe=[],rt=te?.download?`download=${te.download===!0?"":te.download}`:"";rt!==""&&xe.push(rt);const it=typeof te?.transform<"u"?"render/image":"object",lt=this.transformOptsToQueryString(te?.transform||{});lt!==""&&xe.push(lt);let ct=xe.join("&");return ct!==""&&(ct=`?${ct}`),{data:{publicUrl:encodeURI(`${this.url}/${it}/public/${ne}${ct}`)}}}async remove(ee){var te=this;return te.handleOperation(async()=>await remove$1(te.fetch,`${te.url}/object/${te.bucketId}`,{prefixes:ee},{headers:te.headers}))}async list(ee,te,ne){var xe=this;return xe.handleOperation(async()=>{const rt=_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},DEFAULT_SEARCH_OPTIONS),te),{},{prefix:ee||""});return await post$1(xe.fetch,`${xe.url}/object/list/${xe.bucketId}`,rt,{headers:xe.headers},ne)})}async listV2(ee,te){var ne=this;return ne.handleOperation(async()=>{const xe=_objectSpread2$2({},ee);return await post$1(ne.fetch,`${ne.url}/object/list-v2/${ne.bucketId}`,xe,{headers:ne.headers},te)})}encodeMetadata(ee){return JSON.stringify(ee)}toBase64(ee){return typeof Buffer<"u"?Buffer.from(ee).toString("base64"):btoa(ee)}_getFinalPath(ee){return`${this.bucketId}/${ee.replace(/^\/+/,"")}`}_removeEmptyFolders(ee){return ee.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(ee){const te=[];return ee.width&&te.push(`width=${ee.width}`),ee.height&&te.push(`height=${ee.height}`),ee.resize&&te.push(`resize=${ee.resize}`),ee.format&&te.push(`format=${ee.format}`),ee.quality&&te.push(`quality=${ee.quality}`),te.join("&")}};const version$3="2.94.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$3}`};var StorageBucketApi=class extends BaseApiClient{constructor(ee,te={},ne,xe){const rt=new URL(ee);xe?.useNewHostname&&/supabase\.(co|in|red)$/.test(rt.hostname)&&!rt.hostname.includes("storage.supabase.")&&(rt.hostname=rt.hostname.replace("supabase.","storage.supabase."));const it=rt.href.replace(/\/$/,""),lt=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),te);super(it,lt,ne,"storage")}async listBuckets(ee){var te=this;return te.handleOperation(async()=>{const ne=te.listBucketOptionsToQueryString(ee);return await get$3(te.fetch,`${te.url}/bucket${ne}`,{headers:te.headers})})}async getBucket(ee){var te=this;return te.handleOperation(async()=>await get$3(te.fetch,`${te.url}/bucket/${ee}`,{headers:te.headers}))}async createBucket(ee,te={public:!1}){var ne=this;return ne.handleOperation(async()=>await post$1(ne.fetch,`${ne.url}/bucket`,{id:ee,name:ee,type:te.type,public:te.public,file_size_limit:te.fileSizeLimit,allowed_mime_types:te.allowedMimeTypes},{headers:ne.headers}))}async updateBucket(ee,te){var ne=this;return ne.handleOperation(async()=>await put(ne.fetch,`${ne.url}/bucket/${ee}`,{id:ee,name:ee,public:te.public,file_size_limit:te.fileSizeLimit,allowed_mime_types:te.allowedMimeTypes},{headers:ne.headers}))}async emptyBucket(ee){var te=this;return te.handleOperation(async()=>await post$1(te.fetch,`${te.url}/bucket/${ee}/empty`,{},{headers:te.headers}))}async deleteBucket(ee){var te=this;return te.handleOperation(async()=>await remove$1(te.fetch,`${te.url}/bucket/${ee}`,{},{headers:te.headers}))}listBucketOptionsToQueryString(ee){const te={};return ee&&("limit"in ee&&(te.limit=String(ee.limit)),"offset"in ee&&(te.offset=String(ee.offset)),ee.search&&(te.search=ee.search),ee.sortColumn&&(te.sortColumn=ee.sortColumn),ee.sortOrder&&(te.sortOrder=ee.sortOrder)),Object.keys(te).length>0?"?"+new URLSearchParams(te).toString():""}},StorageAnalyticsClient=class extends BaseApiClient{constructor(ee,te={},ne){const xe=ee.replace(/\/$/,""),rt=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),te);super(xe,rt,ne,"storage")}async createBucket(ee){var te=this;return te.handleOperation(async()=>await post$1(te.fetch,`${te.url}/bucket`,{name:ee},{headers:te.headers}))}async listBuckets(ee){var te=this;return te.handleOperation(async()=>{const ne=new URLSearchParams;ee?.limit!==void 0&&ne.set("limit",ee.limit.toString()),ee?.offset!==void 0&&ne.set("offset",ee.offset.toString()),ee?.sortColumn&&ne.set("sortColumn",ee.sortColumn),ee?.sortOrder&&ne.set("sortOrder",ee.sortOrder),ee?.search&&ne.set("search",ee.search);const xe=ne.toString(),rt=xe?`${te.url}/bucket?${xe}`:`${te.url}/bucket`;return await get$3(te.fetch,rt,{headers:te.headers})})}async deleteBucket(ee){var te=this;return te.handleOperation(async()=>await remove$1(te.fetch,`${te.url}/bucket/${ee}`,{},{headers:te.headers}))}from(ee){var te=this;if(!isValidBucketName(ee))throw new StorageError("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const ne=new IcebergRestCatalog({baseUrl:this.url,catalogName:ee,auth:{type:"custom",getHeaders:async()=>te.headers},fetch:this.fetch}),xe=this.shouldThrowOnError;return new Proxy(ne,{get(rt,it){const lt=rt[it];return typeof lt!="function"?lt:async(...ct)=>{try{return{data:await lt.apply(rt,ct),error:null}}catch(ut){if(xe)throw ut;return{data:null,error:ut}}}}})}},VectorIndexApi=class extends BaseApiClient{constructor(ee,te={},ne){const xe=ee.replace(/\/$/,""),rt=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),{},{"Content-Type":"application/json"},te);super(xe,rt,ne,"vectors")}async createIndex(ee){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/CreateIndex`,ee,{headers:te.headers})||{})}async getIndex(ee,te){var ne=this;return ne.handleOperation(async()=>await vectorsApi.post(ne.fetch,`${ne.url}/GetIndex`,{vectorBucketName:ee,indexName:te},{headers:ne.headers}))}async listIndexes(ee){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/ListIndexes`,ee,{headers:te.headers}))}async deleteIndex(ee,te){var ne=this;return ne.handleOperation(async()=>await vectorsApi.post(ne.fetch,`${ne.url}/DeleteIndex`,{vectorBucketName:ee,indexName:te},{headers:ne.headers})||{})}},VectorDataApi=class extends BaseApiClient{constructor(ee,te={},ne){const xe=ee.replace(/\/$/,""),rt=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),{},{"Content-Type":"application/json"},te);super(xe,rt,ne,"vectors")}async putVectors(ee){var te=this;if(ee.vectors.length<1||ee.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/PutVectors`,ee,{headers:te.headers})||{})}async getVectors(ee){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/GetVectors`,ee,{headers:te.headers}))}async listVectors(ee){var te=this;if(ee.segmentCount!==void 0){if(ee.segmentCount<1||ee.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(ee.segmentIndex!==void 0&&(ee.segmentIndex<0||ee.segmentIndex>=ee.segmentCount))throw new Error(`segmentIndex must be between 0 and ${ee.segmentCount-1}`)}return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/ListVectors`,ee,{headers:te.headers}))}async queryVectors(ee){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/QueryVectors`,ee,{headers:te.headers}))}async deleteVectors(ee){var te=this;if(ee.keys.length<1||ee.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/DeleteVectors`,ee,{headers:te.headers})||{})}},VectorBucketApi=class extends BaseApiClient{constructor(ee,te={},ne){const xe=ee.replace(/\/$/,""),rt=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),{},{"Content-Type":"application/json"},te);super(xe,rt,ne,"vectors")}async createBucket(ee){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/CreateVectorBucket`,{vectorBucketName:ee},{headers:te.headers})||{})}async getBucket(ee){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/GetVectorBucket`,{vectorBucketName:ee},{headers:te.headers}))}async listBuckets(ee={}){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/ListVectorBuckets`,ee,{headers:te.headers}))}async deleteBucket(ee){var te=this;return te.handleOperation(async()=>await vectorsApi.post(te.fetch,`${te.url}/DeleteVectorBucket`,{vectorBucketName:ee},{headers:te.headers})||{})}},StorageVectorsClient=class extends VectorBucketApi{constructor(ee,te={}){super(ee,te.headers||{},te.fetch)}from(ee){return new VectorBucketScope(this.url,this.headers,ee,this.fetch)}async createBucket(ee){var te=()=>super.createBucket,ne=this;return te().call(ne,ee)}async getBucket(ee){var te=()=>super.getBucket,ne=this;return te().call(ne,ee)}async listBuckets(ee={}){var te=()=>super.listBuckets,ne=this;return te().call(ne,ee)}async deleteBucket(ee){var te=()=>super.deleteBucket,ne=this;return te().call(ne,ee)}},VectorBucketScope=class extends VectorIndexApi{constructor(ee,te,ne,xe){super(ee,te,xe),this.vectorBucketName=ne}async createIndex(ee){var te=()=>super.createIndex,ne=this;return te().call(ne,_objectSpread2$2(_objectSpread2$2({},ee),{},{vectorBucketName:ne.vectorBucketName}))}async listIndexes(ee={}){var te=()=>super.listIndexes,ne=this;return te().call(ne,_objectSpread2$2(_objectSpread2$2({},ee),{},{vectorBucketName:ne.vectorBucketName}))}async getIndex(ee){var te=()=>super.getIndex,ne=this;return te().call(ne,ne.vectorBucketName,ee)}async deleteIndex(ee){var te=()=>super.deleteIndex,ne=this;return te().call(ne,ne.vectorBucketName,ee)}index(ee){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,ee,this.fetch)}},VectorIndexScope=class extends VectorDataApi{constructor(ee,te,ne,xe,rt){super(ee,te,rt),this.vectorBucketName=ne,this.indexName=xe}async putVectors(ee){var te=()=>super.putVectors,ne=this;return te().call(ne,_objectSpread2$2(_objectSpread2$2({},ee),{},{vectorBucketName:ne.vectorBucketName,indexName:ne.indexName}))}async getVectors(ee){var te=()=>super.getVectors,ne=this;return te().call(ne,_objectSpread2$2(_objectSpread2$2({},ee),{},{vectorBucketName:ne.vectorBucketName,indexName:ne.indexName}))}async listVectors(ee={}){var te=()=>super.listVectors,ne=this;return te().call(ne,_objectSpread2$2(_objectSpread2$2({},ee),{},{vectorBucketName:ne.vectorBucketName,indexName:ne.indexName}))}async queryVectors(ee){var te=()=>super.queryVectors,ne=this;return te().call(ne,_objectSpread2$2(_objectSpread2$2({},ee),{},{vectorBucketName:ne.vectorBucketName,indexName:ne.indexName}))}async deleteVectors(ee){var te=()=>super.deleteVectors,ne=this;return te().call(ne,_objectSpread2$2(_objectSpread2$2({},ee),{},{vectorBucketName:ne.vectorBucketName,indexName:ne.indexName}))}},StorageClient=class extends StorageBucketApi{constructor(ee,te={},ne,xe){super(ee,te,ne,xe)}from(ee){return new StorageFileApi(this.url,this.headers,ee,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsClient(this.url+"/iceberg",this.headers,this.fetch)}};const version$2="2.94.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS$1={"X-Client-Info":`gotrue-js/${version$2}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=600*1e3;class AuthError extends Error{constructor(te,ne,xe){super(te),this.__isAuthError=!0,this.name="AuthError",this.status=ne,this.code=xe}}function isAuthError(ee){return typeof ee=="object"&&ee!==null&&"__isAuthError"in ee}class AuthApiError extends AuthError{constructor(te,ne,xe){super(te,ne,xe),this.name="AuthApiError",this.status=ne,this.code=xe}}function isAuthApiError(ee){return isAuthError(ee)&&ee.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(te,ne){super(te),this.name="AuthUnknownError",this.originalError=ne}}class CustomAuthError extends AuthError{constructor(te,ne,xe,rt){super(te,xe,rt),this.name=ne,this.status=xe}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(ee){return isAuthError(ee)&&ee.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(te){super(te,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(te,ne=null){super(te,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=ne}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(ee){return isAuthError(ee)&&ee.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(te,ne=null){super(te,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=ne}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCECodeVerifierMissingError extends CustomAuthError{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AuthRetryableFetchError extends CustomAuthError{constructor(te,ne){super(te,"AuthRetryableFetchError",ne,void 0)}}function isAuthRetryableFetchError(ee){return isAuthError(ee)&&ee.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(te,ne,xe){super(te,"AuthWeakPasswordError",ne,"weak_password"),this.reasons=xe}}class AuthInvalidJwtError extends CustomAuthError{constructor(te){super(te,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const ee=new Array(128);for(let te=0;te<ee.length;te+=1)ee[te]=-1;for(let te=0;te<IGNORE_BASE64URL.length;te+=1)ee[IGNORE_BASE64URL[te].charCodeAt(0)]=-2;for(let te=0;te<TO_BASE64URL.length;te+=1)ee[TO_BASE64URL[te].charCodeAt(0)]=te;return ee})();function byteToBase64URL(ee,te,ne){if(ee!==null)for(te.queue=te.queue<<8|ee,te.queuedBits+=8;te.queuedBits>=6;){const xe=te.queue>>te.queuedBits-6&63;ne(TO_BASE64URL[xe]),te.queuedBits-=6}else if(te.queuedBits>0)for(te.queue=te.queue<<6-te.queuedBits,te.queuedBits=6;te.queuedBits>=6;){const xe=te.queue>>te.queuedBits-6&63;ne(TO_BASE64URL[xe]),te.queuedBits-=6}}function byteFromBase64URL(ee,te,ne){const xe=FROM_BASE64URL[ee];if(xe>-1)for(te.queue=te.queue<<6|xe,te.queuedBits+=6;te.queuedBits>=8;)ne(te.queue>>te.queuedBits-8&255),te.queuedBits-=8;else{if(xe===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(ee)}"`)}}function stringFromBase64URL(ee){const te=[],ne=lt=>{te.push(String.fromCodePoint(lt))},xe={utf8seq:0,codepoint:0},rt={queue:0,queuedBits:0},it=lt=>{stringFromUTF8(lt,xe,ne)};for(let lt=0;lt<ee.length;lt+=1)byteFromBase64URL(ee.charCodeAt(lt),rt,it);return te.join("")}function codepointToUTF8(ee,te){if(ee<=127){te(ee);return}else if(ee<=2047){te(192|ee>>6),te(128|ee&63);return}else if(ee<=65535){te(224|ee>>12),te(128|ee>>6&63),te(128|ee&63);return}else if(ee<=1114111){te(240|ee>>18),te(128|ee>>12&63),te(128|ee>>6&63),te(128|ee&63);return}throw new Error(`Unrecognized Unicode codepoint: ${ee.toString(16)}`)}function stringToUTF8(ee,te){for(let ne=0;ne<ee.length;ne+=1){let xe=ee.charCodeAt(ne);if(xe>55295&&xe<=56319){const rt=(xe-55296)*1024&65535;xe=(ee.charCodeAt(ne+1)-56320&65535|rt)+65536,ne+=1}codepointToUTF8(xe,te)}}function stringFromUTF8(ee,te,ne){if(te.utf8seq===0){if(ee<=127){ne(ee);return}for(let xe=1;xe<6;xe+=1)if((ee>>7-xe&1)===0){te.utf8seq=xe;break}if(te.utf8seq===2)te.codepoint=ee&31;else if(te.utf8seq===3)te.codepoint=ee&15;else if(te.utf8seq===4)te.codepoint=ee&7;else throw new Error("Invalid UTF-8 sequence");te.utf8seq-=1}else if(te.utf8seq>0){if(ee<=127)throw new Error("Invalid UTF-8 sequence");te.codepoint=te.codepoint<<6|ee&63,te.utf8seq-=1,te.utf8seq===0&&ne(te.codepoint)}}function base64UrlToUint8Array(ee){const te=[],ne={queue:0,queuedBits:0},xe=rt=>{te.push(rt)};for(let rt=0;rt<ee.length;rt+=1)byteFromBase64URL(ee.charCodeAt(rt),ne,xe);return new Uint8Array(te)}function stringToUint8Array(ee){const te=[];return stringToUTF8(ee,ne=>te.push(ne)),new Uint8Array(te)}function bytesToBase64URL(ee){const te=[],ne={queue:0,queuedBits:0},xe=rt=>{te.push(rt)};return ee.forEach(rt=>byteToBase64URL(rt,ne,xe)),byteToBase64URL(null,ne,xe),te.join("")}function expiresAt(ee){return Math.round(Date.now()/1e3)+ee}function generateCallbackId(){return Symbol("auth-callback")}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const ee=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(ee,ee),globalThis.localStorage.removeItem(ee),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(ee){const te={},ne=new URL(ee);if(ne.hash&&ne.hash[0]==="#")try{new URLSearchParams(ne.hash.substring(1)).forEach((rt,it)=>{te[it]=rt})}catch{}return ne.searchParams.forEach((xe,rt)=>{te[rt]=xe}),te}const resolveFetch$1=ee=>ee?(...te)=>ee(...te):(...te)=>fetch(...te),looksLikeFetchResponse=ee=>typeof ee=="object"&&ee!==null&&"status"in ee&&"ok"in ee&&"json"in ee&&typeof ee.json=="function",setItemAsync=async(ee,te,ne)=>{await ee.setItem(te,JSON.stringify(ne))},getItemAsync=async(ee,te)=>{const ne=await ee.getItem(te);if(!ne)return null;try{return JSON.parse(ne)}catch{return ne}},removeItemAsync=async(ee,te)=>{await ee.removeItem(te)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((te,ne)=>{this.resolve=te,this.reject=ne})}}Deferred.promiseConstructor=Promise;function decodeJWT(ee){const te=ee.split(".");if(te.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let xe=0;xe<te.length;xe++)if(!BASE64URL_REGEX.test(te[xe]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(te[0])),payload:JSON.parse(stringFromBase64URL(te[1])),signature:base64UrlToUint8Array(te[2]),raw:{header:te[0],payload:te[1]}}}async function sleep$1(ee){return await new Promise(te=>{setTimeout(()=>te(null),ee)})}function retryable(ee,te){return new Promise((xe,rt)=>{(async()=>{for(let it=0;it<1/0;it++)try{const lt=await ee(it);if(!te(it,null,lt)){xe(lt);return}}catch(lt){if(!te(it,lt)){rt(lt);return}}})()})}function dec2hex(ee){return("0"+ee.toString(16)).substr(-2)}function generatePKCEVerifier(){const te=new Uint32Array(56);if(typeof crypto>"u"){const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",xe=ne.length;let rt="";for(let it=0;it<56;it++)rt+=ne.charAt(Math.floor(Math.random()*xe));return rt}return crypto.getRandomValues(te),Array.from(te,dec2hex).join("")}async function sha256(ee){const ne=new TextEncoder().encode(ee),xe=await crypto.subtle.digest("SHA-256",ne),rt=new Uint8Array(xe);return Array.from(rt).map(it=>String.fromCharCode(it)).join("")}async function generatePKCEChallenge(ee){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),ee;const ne=await sha256(ee);return btoa(ne).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(ee,te,ne=!1){const xe=generatePKCEVerifier();let rt=xe;ne&&(rt+="/PASSWORD_RECOVERY"),await setItemAsync(ee,`${te}-code-verifier`,rt);const it=await generatePKCEChallenge(xe);return[it,xe===it?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(ee){const te=ee.headers.get(API_VERSION_HEADER_NAME);if(!te||!te.match(API_VERSION_REGEX))return null;try{return new Date(`${te}T00:00:00.0Z`)}catch{return null}}function validateExp(ee){if(!ee)throw new Error("Missing exp claim");const te=Math.floor(Date.now()/1e3);if(ee<=te)throw new Error("JWT has expired")}function getAlgorithm(ee){switch(ee){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(ee){if(!UUID_REGEX.test(ee))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const ee={};return new Proxy(ee,{get:(te,ne)=>{if(ne==="__isUserNotAvailableProxy")return!0;if(typeof ne=="symbol"){const xe=ne.toString();if(xe==="Symbol(Symbol.toPrimitive)"||xe==="Symbol(Symbol.toStringTag)"||xe==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${ne}" property of the session object is not supported. Please use getUser() instead.`)},set:(te,ne)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${ne}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(te,ne)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${ne}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(ee,te){return new Proxy(ee,{get:(ne,xe,rt)=>{if(xe==="__isInsecureUserWarningProxy")return!0;if(typeof xe=="symbol"){const it=xe.toString();if(it==="Symbol(Symbol.toPrimitive)"||it==="Symbol(Symbol.toStringTag)"||it==="Symbol(util.inspect.custom)"||it==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(ne,xe,rt)}return!te.value&&typeof xe=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),te.value=!0),Reflect.get(ne,xe,rt)}})}function deepClone(ee){return JSON.parse(JSON.stringify(ee))}const _getErrorMessage=ee=>ee.msg||ee.message||ee.error_description||ee.error||JSON.stringify(ee),NETWORK_ERROR_CODES=[502,503,504];async function handleError$1(ee){var te;if(!looksLikeFetchResponse(ee))throw new AuthRetryableFetchError(_getErrorMessage(ee),0);if(NETWORK_ERROR_CODES.includes(ee.status))throw new AuthRetryableFetchError(_getErrorMessage(ee),ee.status);let ne;try{ne=await ee.json()}catch(it){throw new AuthUnknownError(_getErrorMessage(it),it)}let xe;const rt=parseResponseAPIVersion(ee);if(rt&&rt.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof ne=="object"&&ne&&typeof ne.code=="string"?xe=ne.code:typeof ne=="object"&&ne&&typeof ne.error_code=="string"&&(xe=ne.error_code),xe){if(xe==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(ne),ee.status,((te=ne.weak_password)===null||te===void 0?void 0:te.reasons)||[]);if(xe==="session_not_found")throw new AuthSessionMissingError}else if(typeof ne=="object"&&ne&&typeof ne.weak_password=="object"&&ne.weak_password&&Array.isArray(ne.weak_password.reasons)&&ne.weak_password.reasons.length&&ne.weak_password.reasons.reduce((it,lt)=>it&&typeof lt=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(ne),ee.status,ne.weak_password.reasons);throw new AuthApiError(_getErrorMessage(ne),ee.status||500,xe)}const _getRequestParams=(ee,te,ne,xe)=>{const rt={method:ee,headers:te?.headers||{}};return ee==="GET"?rt:(rt.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},te?.headers),rt.body=JSON.stringify(xe),Object.assign(Object.assign({},rt),ne))};async function _request(ee,te,ne,xe){var rt;const it=Object.assign({},xe?.headers);it[API_VERSION_HEADER_NAME]||(it[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),xe?.jwt&&(it.Authorization=`Bearer ${xe.jwt}`);const lt=(rt=xe?.query)!==null&&rt!==void 0?rt:{};xe?.redirectTo&&(lt.redirect_to=xe.redirectTo);const ct=Object.keys(lt).length?"?"+new URLSearchParams(lt).toString():"",ut=await _handleRequest(ee,te,ne+ct,{headers:it,noResolveJson:xe?.noResolveJson},{},xe?.body);return xe?.xform?xe?.xform(ut):{data:Object.assign({},ut),error:null}}async function _handleRequest(ee,te,ne,xe,rt,it){const lt=_getRequestParams(te,xe,rt,it);let ct;try{ct=await ee(ne,Object.assign({},lt))}catch(ut){throw console.error(ut),new AuthRetryableFetchError(_getErrorMessage(ut),0)}if(ct.ok||await handleError$1(ct),xe?.noResolveJson)return ct;try{return await ct.json()}catch(ut){await handleError$1(ut)}}function _sessionResponse(ee){var te;let ne=null;hasSession(ee)&&(ne=Object.assign({},ee),ee.expires_at||(ne.expires_at=expiresAt(ee.expires_in)));const xe=(te=ee.user)!==null&&te!==void 0?te:ee;return{data:{session:ne,user:xe},error:null}}function _sessionResponsePassword(ee){const te=_sessionResponse(ee);return!te.error&&ee.weak_password&&typeof ee.weak_password=="object"&&Array.isArray(ee.weak_password.reasons)&&ee.weak_password.reasons.length&&ee.weak_password.message&&typeof ee.weak_password.message=="string"&&ee.weak_password.reasons.reduce((ne,xe)=>ne&&typeof xe=="string",!0)&&(te.data.weak_password=ee.weak_password),te}function _userResponse(ee){var te;return{data:{user:(te=ee.user)!==null&&te!==void 0?te:ee},error:null}}function _ssoResponse(ee){return{data:ee,error:null}}function _generateLinkResponse(ee){const{action_link:te,email_otp:ne,hashed_token:xe,redirect_to:rt,verification_type:it}=ee,lt=__rest(ee,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),ct={action_link:te,email_otp:ne,hashed_token:xe,redirect_to:rt,verification_type:it},ut=Object.assign({},lt);return{data:{properties:ct,user:ut},error:null}}function _noResolveJsonResponse(ee){return ee}function hasSession(ee){return ee.access_token&&ee.refresh_token&&ee.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:te="",headers:ne={},fetch:xe}){this.url=te,this.headers=ne,this.fetch=resolveFetch$1(xe),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(te,ne=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(ne)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${ne}`,{headers:this.headers,jwt:te,noResolveJson:!0}),{data:null,error:null}}catch(xe){if(isAuthError(xe))return{data:null,error:xe};throw xe}}async inviteUserByEmail(te,ne={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:te,data:ne.data},headers:this.headers,redirectTo:ne.redirectTo,xform:_userResponse})}catch(xe){if(isAuthError(xe))return{data:{user:null},error:xe};throw xe}}async generateLink(te){try{const{options:ne}=te,xe=__rest(te,["options"]),rt=Object.assign(Object.assign({},xe),ne);return"newEmail"in xe&&(rt.new_email=xe?.newEmail,delete rt.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:rt,headers:this.headers,xform:_generateLinkResponse,redirectTo:ne?.redirectTo})}catch(ne){if(isAuthError(ne))return{data:{properties:null,user:null},error:ne};throw ne}}async createUser(te){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:te,headers:this.headers,xform:_userResponse})}catch(ne){if(isAuthError(ne))return{data:{user:null},error:ne};throw ne}}async listUsers(te){var ne,xe,rt,it,lt,ct,ut;try{const dt={nextPage:null,lastPage:0,total:0},ht=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(xe=(ne=te?.page)===null||ne===void 0?void 0:ne.toString())!==null&&xe!==void 0?xe:"",per_page:(it=(rt=te?.perPage)===null||rt===void 0?void 0:rt.toString())!==null&&it!==void 0?it:""},xform:_noResolveJsonResponse});if(ht.error)throw ht.error;const ft=await ht.json(),pt=(lt=ht.headers.get("x-total-count"))!==null&&lt!==void 0?lt:0,mt=(ut=(ct=ht.headers.get("link"))===null||ct===void 0?void 0:ct.split(","))!==null&&ut!==void 0?ut:[];return mt.length>0&&(mt.forEach(xt=>{const yt=parseInt(xt.split(";")[0].split("=")[1].substring(0,1)),vt=JSON.parse(xt.split(";")[1].split("=")[1]);dt[`${vt}Page`]=yt}),dt.total=parseInt(pt)),{data:Object.assign(Object.assign({},ft),dt),error:null}}catch(dt){if(isAuthError(dt))return{data:{users:[]},error:dt};throw dt}}async getUserById(te){validateUUID(te);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${te}`,{headers:this.headers,xform:_userResponse})}catch(ne){if(isAuthError(ne))return{data:{user:null},error:ne};throw ne}}async updateUserById(te,ne){validateUUID(te);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${te}`,{body:ne,headers:this.headers,xform:_userResponse})}catch(xe){if(isAuthError(xe))return{data:{user:null},error:xe};throw xe}}async deleteUser(te,ne=!1){validateUUID(te);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${te}`,{headers:this.headers,body:{should_soft_delete:ne},xform:_userResponse})}catch(xe){if(isAuthError(xe))return{data:{user:null},error:xe};throw xe}}async _listFactors(te){validateUUID(te.userId);try{const{data:ne,error:xe}=await _request(this.fetch,"GET",`${this.url}/admin/users/${te.userId}/factors`,{headers:this.headers,xform:rt=>({data:{factors:rt},error:null})});return{data:ne,error:xe}}catch(ne){if(isAuthError(ne))return{data:null,error:ne};throw ne}}async _deleteFactor(te){validateUUID(te.userId),validateUUID(te.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${te.userId}/factors/${te.id}`,{headers:this.headers}),error:null}}catch(ne){if(isAuthError(ne))return{data:null,error:ne};throw ne}}async _listOAuthClients(te){var ne,xe,rt,it,lt,ct,ut;try{const dt={nextPage:null,lastPage:0,total:0},ht=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(xe=(ne=te?.page)===null||ne===void 0?void 0:ne.toString())!==null&&xe!==void 0?xe:"",per_page:(it=(rt=te?.perPage)===null||rt===void 0?void 0:rt.toString())!==null&&it!==void 0?it:""},xform:_noResolveJsonResponse});if(ht.error)throw ht.error;const ft=await ht.json(),pt=(lt=ht.headers.get("x-total-count"))!==null&&lt!==void 0?lt:0,mt=(ut=(ct=ht.headers.get("link"))===null||ct===void 0?void 0:ct.split(","))!==null&&ut!==void 0?ut:[];return mt.length>0&&(mt.forEach(xt=>{const yt=parseInt(xt.split(";")[0].split("=")[1].substring(0,1)),vt=JSON.parse(xt.split(";")[1].split("=")[1]);dt[`${vt}Page`]=yt}),dt.total=parseInt(pt)),{data:Object.assign(Object.assign({},ft),dt),error:null}}catch(dt){if(isAuthError(dt))return{data:{clients:[]},error:dt};throw dt}}async _createOAuthClient(te){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:te,headers:this.headers,xform:ne=>({data:ne,error:null})})}catch(ne){if(isAuthError(ne))return{data:null,error:ne};throw ne}}async _getOAuthClient(te){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${te}`,{headers:this.headers,xform:ne=>({data:ne,error:null})})}catch(ne){if(isAuthError(ne))return{data:null,error:ne};throw ne}}async _updateOAuthClient(te,ne){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${te}`,{body:ne,headers:this.headers,xform:xe=>({data:xe,error:null})})}catch(xe){if(isAuthError(xe))return{data:null,error:xe};throw xe}}async _deleteOAuthClient(te){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${te}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(ne){if(isAuthError(ne))return{data:null,error:ne};throw ne}}async _regenerateOAuthClientSecret(te){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${te}/regenerate_secret`,{headers:this.headers,xform:ne=>({data:ne,error:null})})}catch(ne){if(isAuthError(ne))return{data:null,error:ne};throw ne}}}function memoryLocalStorageAdapter(ee={}){return{getItem:te=>ee[te]||null,setItem:(te,ne)=>{ee[te]=ne},removeItem:te=>{delete ee[te]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(te){super(te),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(ee,te,ne){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",ee,te);const xe=new globalThis.AbortController;return te>0&&setTimeout(()=>{xe.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",ee)},te),await Promise.resolve().then(()=>globalThis.navigator.locks.request(ee,te===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:xe.signal},async rt=>{if(rt){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",ee,rt.name);try{return await ne()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",ee,rt.name)}}else{if(te===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",ee),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${ee}" immediately failed`);if(internals.debug)try{const it=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(it,null,"  "))}catch(it){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",it)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await ne()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(ee){if(!/^0x[a-fA-F0-9]{40}$/.test(ee))throw new Error(`@supabase/auth-js: Address "${ee}" is invalid.`);return ee.toLowerCase()}function fromHex(ee){return parseInt(ee,16)}function toHex(ee){const te=new TextEncoder().encode(ee);return"0x"+Array.from(te,xe=>xe.toString(16).padStart(2,"0")).join("")}function createSiweMessage(ee){var te;const{chainId:ne,domain:xe,expirationTime:rt,issuedAt:it=new Date,nonce:lt,notBefore:ct,requestId:ut,resources:dt,scheme:ht,uri:ft,version:pt}=ee;{if(!Number.isInteger(ne))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${ne}`);if(!xe)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(lt&&lt.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${lt}`);if(!ft)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(pt!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${pt}`);if(!((te=ee.statement)===null||te===void 0)&&te.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${ee.statement}`)}const mt=getAddress(ee.address),xt=ht?`${ht}://${xe}`:xe,yt=ee.statement?`${ee.statement}
`:"",vt=`${xt} wants you to sign in with your Ethereum account:
${mt}

${yt}`;let Et=`URI: ${ft}
Version: ${pt}
Chain ID: ${ne}${lt?`
Nonce: ${lt}`:""}
Issued At: ${it.toISOString()}`;if(rt&&(Et+=`
Expiration Time: ${rt.toISOString()}`),ct&&(Et+=`
Not Before: ${ct.toISOString()}`),ut&&(Et+=`
Request ID: ${ut}`),dt){let _t=`
Resources:`;for(const wt of dt){if(!wt||typeof wt!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${wt}`);_t+=`
- ${wt}`}Et+=_t}return`${vt}
${Et}`}class WebAuthnError extends Error{constructor({message:te,code:ne,cause:xe,name:rt}){var it;super(te,{cause:xe}),this.__isWebAuthnError=!0,this.name=(it=rt??(xe instanceof Error?xe.name:void 0))!==null&&it!==void 0?it:"Unknown Error",this.code=ne}}class WebAuthnUnknownError extends WebAuthnError{constructor(te,ne){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:ne,message:te}),this.name="WebAuthnUnknownError",this.originalError=ne}}function identifyRegistrationError({error:ee,options:te}){var ne,xe,rt;const{publicKey:it}=te;if(!it)throw Error("options was missing required publicKey property");if(ee.name==="AbortError"){if(te.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:ee})}else if(ee.name==="ConstraintError"){if(((ne=it.authenticatorSelection)===null||ne===void 0?void 0:ne.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:ee});if(te.mediation==="conditional"&&((xe=it.authenticatorSelection)===null||xe===void 0?void 0:xe.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:ee});if(((rt=it.authenticatorSelection)===null||rt===void 0?void 0:rt.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:ee})}else{if(ee.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:ee});if(ee.name==="NotAllowedError")return new WebAuthnError({message:ee.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:ee});if(ee.name==="NotSupportedError")return it.pubKeyCredParams.filter(ct=>ct.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:ee}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:ee});if(ee.name==="SecurityError"){const lt=window.location.hostname;if(isValidDomain(lt)){if(it.rp.id!==lt)return new WebAuthnError({message:`The RP ID "${it.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:ee})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:ee})}else if(ee.name==="TypeError"){if(it.user.id.byteLength<1||it.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:ee})}else if(ee.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:ee})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:ee})}function identifyAuthenticationError({error:ee,options:te}){const{publicKey:ne}=te;if(!ne)throw Error("options was missing required publicKey property");if(ee.name==="AbortError"){if(te.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:ee})}else{if(ee.name==="NotAllowedError")return new WebAuthnError({message:ee.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:ee});if(ee.name==="SecurityError"){const xe=window.location.hostname;if(isValidDomain(xe)){if(ne.rpId!==xe)return new WebAuthnError({message:`The RP ID "${ne.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:ee})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:ee})}else if(ee.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:ee})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:ee})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const ne=new Error("Cancelling existing WebAuthn API call for new one");ne.name="AbortError",this.controller.abort(ne)}const te=new AbortController;return this.controller=te,te.signal}cancelCeremony(){if(this.controller){const te=new Error("Manually cancelling existing WebAuthn API call");te.name="AbortError",this.controller.abort(te),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(ee){if(!ee)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(ee);const{challenge:te,user:ne,excludeCredentials:xe}=ee,rt=__rest(ee,["challenge","user","excludeCredentials"]),it=base64UrlToUint8Array(te).buffer,lt=Object.assign(Object.assign({},ne),{id:base64UrlToUint8Array(ne.id).buffer}),ct=Object.assign(Object.assign({},rt),{challenge:it,user:lt});if(xe&&xe.length>0){ct.excludeCredentials=new Array(xe.length);for(let ut=0;ut<xe.length;ut++){const dt=xe[ut];ct.excludeCredentials[ut]=Object.assign(Object.assign({},dt),{id:base64UrlToUint8Array(dt.id).buffer,type:dt.type||"public-key",transports:dt.transports})}}return ct}function deserializeCredentialRequestOptions(ee){if(!ee)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(ee);const{challenge:te,allowCredentials:ne}=ee,xe=__rest(ee,["challenge","allowCredentials"]),rt=base64UrlToUint8Array(te).buffer,it=Object.assign(Object.assign({},xe),{challenge:rt});if(ne&&ne.length>0){it.allowCredentials=new Array(ne.length);for(let lt=0;lt<ne.length;lt++){const ct=ne[lt];it.allowCredentials[lt]=Object.assign(Object.assign({},ct),{id:base64UrlToUint8Array(ct.id).buffer,type:ct.type||"public-key",transports:ct.transports})}}return it}function serializeCredentialCreationResponse(ee){var te;if("toJSON"in ee&&typeof ee.toJSON=="function")return ee.toJSON();const ne=ee;return{id:ee.id,rawId:ee.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(ee.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(ee.response.clientDataJSON))},type:"public-key",clientExtensionResults:ee.getClientExtensionResults(),authenticatorAttachment:(te=ne.authenticatorAttachment)!==null&&te!==void 0?te:void 0}}function serializeCredentialRequestResponse(ee){var te;if("toJSON"in ee&&typeof ee.toJSON=="function")return ee.toJSON();const ne=ee,xe=ee.getClientExtensionResults(),rt=ee.response;return{id:ee.id,rawId:ee.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(rt.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(rt.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(rt.signature)),userHandle:rt.userHandle?bytesToBase64URL(new Uint8Array(rt.userHandle)):void 0},type:"public-key",clientExtensionResults:xe,authenticatorAttachment:(te=ne.authenticatorAttachment)!==null&&te!==void 0?te:void 0}}function isValidDomain(ee){return ee==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(ee)}function browserSupportsWebAuthn(){var ee,te;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((ee=navigator?.credentials)===null||ee===void 0?void 0:ee.create)=="function"&&typeof((te=navigator?.credentials)===null||te===void 0?void 0:te.get)=="function")}async function createCredential(ee){try{const te=await navigator.credentials.create(ee);return te?te instanceof PublicKeyCredential?{data:te,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",te)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",te)}}catch(te){return{data:null,error:identifyRegistrationError({error:te,options:ee})}}}async function getCredential(ee){try{const te=await navigator.credentials.get(ee);return te?te instanceof PublicKeyCredential?{data:te,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",te)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",te)}}catch(te){return{data:null,error:identifyAuthenticationError({error:te,options:ee})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function deepMerge(...ee){const te=rt=>rt!==null&&typeof rt=="object"&&!Array.isArray(rt),ne=rt=>rt instanceof ArrayBuffer||ArrayBuffer.isView(rt),xe={};for(const rt of ee)if(rt)for(const it in rt){const lt=rt[it];if(lt!==void 0)if(Array.isArray(lt))xe[it]=lt;else if(ne(lt))xe[it]=lt;else if(te(lt)){const ct=xe[it];te(ct)?xe[it]=deepMerge(ct,lt):xe[it]=deepMerge(lt)}else xe[it]=lt}return xe}function mergeCredentialCreationOptions(ee,te){return deepMerge(DEFAULT_CREATION_OPTIONS,ee,te||{})}function mergeCredentialRequestOptions(ee,te){return deepMerge(DEFAULT_REQUEST_OPTIONS,ee,te||{})}class WebAuthnApi{constructor(te){this.client=te,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(te){return this.client.mfa.enroll(Object.assign(Object.assign({},te),{factorType:"webauthn"}))}async _challenge({factorId:te,webauthn:ne,friendlyName:xe,signal:rt},it){var lt;try{const{data:ct,error:ut}=await this.client.mfa.challenge({factorId:te,webauthn:ne});if(!ct)return{data:null,error:ut};const dt=rt??webAuthnAbortService.createNewAbortSignal();if(ct.webauthn.type==="create"){const{user:ht}=ct.webauthn.credential_options.publicKey;if(!ht.name){const ft=xe;if(ft)ht.name=`${ht.id}:${ft}`;else{const mt=(await this.client.getUser()).data.user,xt=((lt=mt?.user_metadata)===null||lt===void 0?void 0:lt.name)||mt?.email||mt?.id||"User";ht.name=`${ht.id}:${xt}`}}ht.displayName||(ht.displayName=ht.name)}switch(ct.webauthn.type){case"create":{const ht=mergeCredentialCreationOptions(ct.webauthn.credential_options.publicKey,it?.create),{data:ft,error:pt}=await createCredential({publicKey:ht,signal:dt});return ft?{data:{factorId:te,challengeId:ct.id,webauthn:{type:ct.webauthn.type,credential_response:ft}},error:null}:{data:null,error:pt}}case"request":{const ht=mergeCredentialRequestOptions(ct.webauthn.credential_options.publicKey,it?.request),{data:ft,error:pt}=await getCredential(Object.assign(Object.assign({},ct.webauthn.credential_options),{publicKey:ht,signal:dt}));return ft?{data:{factorId:te,challengeId:ct.id,webauthn:{type:ct.webauthn.type,credential_response:ft}},error:null}:{data:null,error:pt}}}}catch(ct){return isAuthError(ct)?{data:null,error:ct}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",ct)}}}async _verify({challengeId:te,factorId:ne,webauthn:xe}){return this.client.mfa.verify({factorId:ne,challengeId:te,webauthn:xe})}async _authenticate({factorId:te,webauthn:{rpId:ne=typeof window<"u"?window.location.hostname:void 0,rpOrigins:xe=typeof window<"u"?[window.location.origin]:void 0,signal:rt}={}},it){if(!ne)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:lt,error:ct}=await this.challenge({factorId:te,webauthn:{rpId:ne,rpOrigins:xe},signal:rt},{request:it});if(!lt)return{data:null,error:ct};const{webauthn:ut}=lt;return this._verify({factorId:te,challengeId:lt.challengeId,webauthn:{type:ut.type,rpId:ne,rpOrigins:xe,credential_response:ut.credential_response}})}catch(lt){return isAuthError(lt)?{data:null,error:lt}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",lt)}}}async _register({friendlyName:te,webauthn:{rpId:ne=typeof window<"u"?window.location.hostname:void 0,rpOrigins:xe=typeof window<"u"?[window.location.origin]:void 0,signal:rt}={}},it){if(!ne)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:lt,error:ct}=await this._enroll({friendlyName:te});if(!lt)return await this.client.mfa.listFactors().then(ht=>{var ft;return(ft=ht.data)===null||ft===void 0?void 0:ft.all.find(pt=>pt.factor_type==="webauthn"&&pt.friendly_name===te&&pt.status!=="unverified")}).then(ht=>ht?this.client.mfa.unenroll({factorId:ht?.id}):void 0),{data:null,error:ct};const{data:ut,error:dt}=await this._challenge({factorId:lt.id,friendlyName:lt.friendly_name,webauthn:{rpId:ne,rpOrigins:xe},signal:rt},{create:it});return ut?this._verify({factorId:lt.id,challengeId:ut.challengeId,webauthn:{rpId:ne,rpOrigins:xe,type:ut.webauthn.type,credential_response:ut.webauthn.credential_response}}):{data:null,error:dt}}catch(lt){return isAuthError(lt)?{data:null,error:lt}:{data:null,error:new AuthUnknownError("Unexpected error in register",lt)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS$1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function lockNoOp(ee,te,ne){return await ne()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var te,ne;return(ne=(te=GLOBAL_JWKS[this.storageKey])===null||te===void 0?void 0:te.jwks)!==null&&ne!==void 0?ne:{keys:[]}}set jwks(te){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:te})}get jwks_cached_at(){var te,ne;return(ne=(te=GLOBAL_JWKS[this.storageKey])===null||te===void 0?void 0:te.cachedAt)!==null&&ne!==void 0?ne:Number.MIN_SAFE_INTEGER}set jwks_cached_at(te){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:te})}constructor(te){var ne,xe,rt;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const it=Object.assign(Object.assign({},DEFAULT_OPTIONS),te);if(this.storageKey=it.storageKey,this.instanceID=(ne=GoTrueClient.nextInstanceID[this.storageKey])!==null&&ne!==void 0?ne:0,GoTrueClient.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!it.debug,typeof it.debug=="function"&&(this.logger=it.debug),this.instanceID>0&&isBrowser()){const lt=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(lt),this.logDebugMessages&&console.trace(lt)}if(this.persistSession=it.persistSession,this.autoRefreshToken=it.autoRefreshToken,this.admin=new GoTrueAdminApi({url:it.url,headers:it.headers,fetch:it.fetch}),this.url=it.url,this.headers=it.headers,this.fetch=resolveFetch$1(it.fetch),this.lock=it.lock||lockNoOp,this.detectSessionInUrl=it.detectSessionInUrl,this.flowType=it.flowType,this.hasCustomAuthorizationHeader=it.hasCustomAuthorizationHeader,this.throwOnError=it.throwOnError,this.lockAcquireTimeout=it.lockAcquireTimeout,it.lock?this.lock=it.lock:this.persistSession&&isBrowser()&&(!((xe=globalThis?.navigator)===null||xe===void 0)&&xe.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(it.storage?this.storage=it.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),it.userStorage&&(this.userStorage=it.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(lt){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",lt)}(rt=this.broadcastChannel)===null||rt===void 0||rt.addEventListener("message",async lt=>{this._debug("received broadcast notification from other tab or client",lt);try{await this._notifyAllSubscribers(lt.data.event,lt.data.session,!1)}catch(ct){this._debug("#broadcastChannel","error",ct)}})}this.initialize().catch(lt=>{this._debug("#initialize()","error",lt)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(te){if(this.throwOnError&&te&&te.error)throw te.error;return te}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${version$2}) ${new Date().toISOString()}`}_debug(...te){return this.logDebugMessages&&this.logger(this._logPrefix(),...te),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var te;try{let ne={},xe="none";if(isBrowser()&&(ne=parseParametersFromURL(window.location.href),this._isImplicitGrantCallback(ne)?xe="implicit":await this._isPKCECallback(ne)&&(xe="pkce")),isBrowser()&&this.detectSessionInUrl&&xe!=="none"){const{data:rt,error:it}=await this._getSessionFromURL(ne,xe);if(it){if(this._debug("#_initialize()","error detecting session from URL",it),isAuthImplicitGrantRedirectError(it)){const ut=(te=it.details)===null||te===void 0?void 0:te.code;if(ut==="identity_already_exists"||ut==="identity_not_found"||ut==="single_identity_not_deletable")return{error:it}}return{error:it}}const{session:lt,redirectType:ct}=rt;return this._debug("#_initialize()","detected session in URL",lt,"redirect type",ct),await this._saveSession(lt),setTimeout(async()=>{ct==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",lt):await this._notifyAllSubscribers("SIGNED_IN",lt)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(ne){return isAuthError(ne)?this._returnResult({error:ne}):this._returnResult({error:new AuthUnknownError("Unexpected error during initialization",ne)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(te){var ne,xe,rt;try{const it=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(xe=(ne=te?.options)===null||ne===void 0?void 0:ne.data)!==null&&xe!==void 0?xe:{},gotrue_meta_security:{captcha_token:(rt=te?.options)===null||rt===void 0?void 0:rt.captchaToken}},xform:_sessionResponse}),{data:lt,error:ct}=it;if(ct||!lt)return this._returnResult({data:{user:null,session:null},error:ct});const ut=lt.session,dt=lt.user;return lt.session&&(await this._saveSession(lt.session),await this._notifyAllSubscribers("SIGNED_IN",ut)),this._returnResult({data:{user:dt,session:ut},error:null})}catch(it){if(isAuthError(it))return this._returnResult({data:{user:null,session:null},error:it});throw it}}async signUp(te){var ne,xe,rt;try{let it;if("email"in te){const{email:ht,password:ft,options:pt}=te;let mt=null,xt=null;this.flowType==="pkce"&&([mt,xt]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),it=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:pt?.emailRedirectTo,body:{email:ht,password:ft,data:(ne=pt?.data)!==null&&ne!==void 0?ne:{},gotrue_meta_security:{captcha_token:pt?.captchaToken},code_challenge:mt,code_challenge_method:xt},xform:_sessionResponse})}else if("phone"in te){const{phone:ht,password:ft,options:pt}=te;it=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:ht,password:ft,data:(xe=pt?.data)!==null&&xe!==void 0?xe:{},channel:(rt=pt?.channel)!==null&&rt!==void 0?rt:"sms",gotrue_meta_security:{captcha_token:pt?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:lt,error:ct}=it;if(ct||!lt)return await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:ct});const ut=lt.session,dt=lt.user;return lt.session&&(await this._saveSession(lt.session),await this._notifyAllSubscribers("SIGNED_IN",ut)),this._returnResult({data:{user:dt,session:ut},error:null})}catch(it){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(it))return this._returnResult({data:{user:null,session:null},error:it});throw it}}async signInWithPassword(te){try{let ne;if("email"in te){const{email:it,password:lt,options:ct}=te;ne=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:it,password:lt,gotrue_meta_security:{captcha_token:ct?.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in te){const{phone:it,password:lt,options:ct}=te;ne=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:it,password:lt,gotrue_meta_security:{captcha_token:ct?.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:xe,error:rt}=ne;if(rt)return this._returnResult({data:{user:null,session:null},error:rt});if(!xe||!xe.session||!xe.user){const it=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:it})}return xe.session&&(await this._saveSession(xe.session),await this._notifyAllSubscribers("SIGNED_IN",xe.session)),this._returnResult({data:Object.assign({user:xe.user,session:xe.session},xe.weak_password?{weakPassword:xe.weak_password}:null),error:rt})}catch(ne){if(isAuthError(ne))return this._returnResult({data:{user:null,session:null},error:ne});throw ne}}async signInWithOAuth(te){var ne,xe,rt,it;return await this._handleProviderSignIn(te.provider,{redirectTo:(ne=te.options)===null||ne===void 0?void 0:ne.redirectTo,scopes:(xe=te.options)===null||xe===void 0?void 0:xe.scopes,queryParams:(rt=te.options)===null||rt===void 0?void 0:rt.queryParams,skipBrowserRedirect:(it=te.options)===null||it===void 0?void 0:it.skipBrowserRedirect})}async exchangeCodeForSession(te){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(te))}async signInWithWeb3(te){const{chain:ne}=te;switch(ne){case"ethereum":return await this.signInWithEthereum(te);case"solana":return await this.signInWithSolana(te);default:throw new Error(`@supabase/auth-js: Unsupported chain "${ne}"`)}}async signInWithEthereum(te){var ne,xe,rt,it,lt,ct,ut,dt,ht,ft,pt;let mt,xt;if("message"in te)mt=te.message,xt=te.signature;else{const{chain:yt,wallet:vt,statement:Et,options:_t}=te;let wt;if(isBrowser())if(typeof vt=="object")wt=vt;else{const Ot=window;if("ethereum"in Ot&&typeof Ot.ethereum=="object"&&"request"in Ot.ethereum&&typeof Ot.ethereum.request=="function")wt=Ot.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof vt!="object"||!_t?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");wt=vt}const St=new URL((ne=_t?.url)!==null&&ne!==void 0?ne:window.location.href),Ct=await wt.request({method:"eth_requestAccounts"}).then(Ot=>Ot).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ct||Ct.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const jt=getAddress(Ct[0]);let Rt=(xe=_t?.signInWithEthereum)===null||xe===void 0?void 0:xe.chainId;if(!Rt){const Ot=await wt.request({method:"eth_chainId"});Rt=fromHex(Ot)}const Pt={domain:St.host,address:jt,statement:Et,uri:St.href,version:"1",chainId:Rt,nonce:(rt=_t?.signInWithEthereum)===null||rt===void 0?void 0:rt.nonce,issuedAt:(lt=(it=_t?.signInWithEthereum)===null||it===void 0?void 0:it.issuedAt)!==null&&lt!==void 0?lt:new Date,expirationTime:(ct=_t?.signInWithEthereum)===null||ct===void 0?void 0:ct.expirationTime,notBefore:(ut=_t?.signInWithEthereum)===null||ut===void 0?void 0:ut.notBefore,requestId:(dt=_t?.signInWithEthereum)===null||dt===void 0?void 0:dt.requestId,resources:(ht=_t?.signInWithEthereum)===null||ht===void 0?void 0:ht.resources};mt=createSiweMessage(Pt),xt=await wt.request({method:"personal_sign",params:[toHex(mt),jt]})}try{const{data:yt,error:vt}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:mt,signature:xt},!((ft=te.options)===null||ft===void 0)&&ft.captchaToken?{gotrue_meta_security:{captcha_token:(pt=te.options)===null||pt===void 0?void 0:pt.captchaToken}}:null),xform:_sessionResponse});if(vt)throw vt;if(!yt||!yt.session||!yt.user){const Et=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:Et})}return yt.session&&(await this._saveSession(yt.session),await this._notifyAllSubscribers("SIGNED_IN",yt.session)),this._returnResult({data:Object.assign({},yt),error:vt})}catch(yt){if(isAuthError(yt))return this._returnResult({data:{user:null,session:null},error:yt});throw yt}}async signInWithSolana(te){var ne,xe,rt,it,lt,ct,ut,dt,ht,ft,pt,mt;let xt,yt;if("message"in te)xt=te.message,yt=te.signature;else{const{chain:vt,wallet:Et,statement:_t,options:wt}=te;let St;if(isBrowser())if(typeof Et=="object")St=Et;else{const jt=window;if("solana"in jt&&typeof jt.solana=="object"&&("signIn"in jt.solana&&typeof jt.solana.signIn=="function"||"signMessage"in jt.solana&&typeof jt.solana.signMessage=="function"))St=jt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Et!="object"||!wt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");St=Et}const Ct=new URL((ne=wt?.url)!==null&&ne!==void 0?ne:window.location.href);if("signIn"in St&&St.signIn){const jt=await St.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},wt?.signInWithSolana),{version:"1",domain:Ct.host,uri:Ct.href}),_t?{statement:_t}:null));let Rt;if(Array.isArray(jt)&&jt[0]&&typeof jt[0]=="object")Rt=jt[0];else if(jt&&typeof jt=="object"&&"signedMessage"in jt&&"signature"in jt)Rt=jt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Rt&&"signature"in Rt&&(typeof Rt.signedMessage=="string"||Rt.signedMessage instanceof Uint8Array)&&Rt.signature instanceof Uint8Array)xt=typeof Rt.signedMessage=="string"?Rt.signedMessage:new TextDecoder().decode(Rt.signedMessage),yt=Rt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in St)||typeof St.signMessage!="function"||!("publicKey"in St)||typeof St!="object"||!St.publicKey||!("toBase58"in St.publicKey)||typeof St.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");xt=[`${Ct.host} wants you to sign in with your Solana account:`,St.publicKey.toBase58(),..._t?["",_t,""]:[""],"Version: 1",`URI: ${Ct.href}`,`Issued At: ${(rt=(xe=wt?.signInWithSolana)===null||xe===void 0?void 0:xe.issuedAt)!==null&&rt!==void 0?rt:new Date().toISOString()}`,...!((it=wt?.signInWithSolana)===null||it===void 0)&&it.notBefore?[`Not Before: ${wt.signInWithSolana.notBefore}`]:[],...!((lt=wt?.signInWithSolana)===null||lt===void 0)&&lt.expirationTime?[`Expiration Time: ${wt.signInWithSolana.expirationTime}`]:[],...!((ct=wt?.signInWithSolana)===null||ct===void 0)&&ct.chainId?[`Chain ID: ${wt.signInWithSolana.chainId}`]:[],...!((ut=wt?.signInWithSolana)===null||ut===void 0)&&ut.nonce?[`Nonce: ${wt.signInWithSolana.nonce}`]:[],...!((dt=wt?.signInWithSolana)===null||dt===void 0)&&dt.requestId?[`Request ID: ${wt.signInWithSolana.requestId}`]:[],...!((ft=(ht=wt?.signInWithSolana)===null||ht===void 0?void 0:ht.resources)===null||ft===void 0)&&ft.length?["Resources",...wt.signInWithSolana.resources.map(Rt=>`- ${Rt}`)]:[]].join(`
`);const jt=await St.signMessage(new TextEncoder().encode(xt),"utf8");if(!jt||!(jt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");yt=jt}}try{const{data:vt,error:Et}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:xt,signature:bytesToBase64URL(yt)},!((pt=te.options)===null||pt===void 0)&&pt.captchaToken?{gotrue_meta_security:{captcha_token:(mt=te.options)===null||mt===void 0?void 0:mt.captchaToken}}:null),xform:_sessionResponse});if(Et)throw Et;if(!vt||!vt.session||!vt.user){const _t=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:_t})}return vt.session&&(await this._saveSession(vt.session),await this._notifyAllSubscribers("SIGNED_IN",vt.session)),this._returnResult({data:Object.assign({},vt),error:Et})}catch(vt){if(isAuthError(vt))return this._returnResult({data:{user:null,session:null},error:vt});throw vt}}async _exchangeCodeForSession(te){const ne=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[xe,rt]=(ne??"").split("/");try{if(!xe&&this.flowType==="pkce")throw new AuthPKCECodeVerifierMissingError;const{data:it,error:lt}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:te,code_verifier:xe},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),lt)throw lt;if(!it||!it.session||!it.user){const ct=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null,redirectType:null},error:ct})}return it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",it.session)),this._returnResult({data:Object.assign(Object.assign({},it),{redirectType:rt??null}),error:lt})}catch(it){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(it))return this._returnResult({data:{user:null,session:null,redirectType:null},error:it});throw it}}async signInWithIdToken(te){try{const{options:ne,provider:xe,token:rt,access_token:it,nonce:lt}=te,ct=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:xe,id_token:rt,access_token:it,nonce:lt,gotrue_meta_security:{captcha_token:ne?.captchaToken}},xform:_sessionResponse}),{data:ut,error:dt}=ct;if(dt)return this._returnResult({data:{user:null,session:null},error:dt});if(!ut||!ut.session||!ut.user){const ht=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:ht})}return ut.session&&(await this._saveSession(ut.session),await this._notifyAllSubscribers("SIGNED_IN",ut.session)),this._returnResult({data:ut,error:dt})}catch(ne){if(isAuthError(ne))return this._returnResult({data:{user:null,session:null},error:ne});throw ne}}async signInWithOtp(te){var ne,xe,rt,it,lt;try{if("email"in te){const{email:ct,options:ut}=te;let dt=null,ht=null;this.flowType==="pkce"&&([dt,ht]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:ft}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:ct,data:(ne=ut?.data)!==null&&ne!==void 0?ne:{},create_user:(xe=ut?.shouldCreateUser)!==null&&xe!==void 0?xe:!0,gotrue_meta_security:{captcha_token:ut?.captchaToken},code_challenge:dt,code_challenge_method:ht},redirectTo:ut?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:ft})}if("phone"in te){const{phone:ct,options:ut}=te,{data:dt,error:ht}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:ct,data:(rt=ut?.data)!==null&&rt!==void 0?rt:{},create_user:(it=ut?.shouldCreateUser)!==null&&it!==void 0?it:!0,gotrue_meta_security:{captcha_token:ut?.captchaToken},channel:(lt=ut?.channel)!==null&&lt!==void 0?lt:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:dt?.message_id},error:ht})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(ct){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(ct))return this._returnResult({data:{user:null,session:null},error:ct});throw ct}}async verifyOtp(te){var ne,xe;try{let rt,it;"options"in te&&(rt=(ne=te.options)===null||ne===void 0?void 0:ne.redirectTo,it=(xe=te.options)===null||xe===void 0?void 0:xe.captchaToken);const{data:lt,error:ct}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},te),{gotrue_meta_security:{captcha_token:it}}),redirectTo:rt,xform:_sessionResponse});if(ct)throw ct;if(!lt)throw new Error("An error occurred on token verification.");const ut=lt.session,dt=lt.user;return ut?.access_token&&(await this._saveSession(ut),await this._notifyAllSubscribers(te.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",ut)),this._returnResult({data:{user:dt,session:ut},error:null})}catch(rt){if(isAuthError(rt))return this._returnResult({data:{user:null,session:null},error:rt});throw rt}}async signInWithSSO(te){var ne,xe,rt,it,lt;try{let ct=null,ut=null;this.flowType==="pkce"&&([ct,ut]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const dt=await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in te?{provider_id:te.providerId}:null),"domain"in te?{domain:te.domain}:null),{redirect_to:(xe=(ne=te.options)===null||ne===void 0?void 0:ne.redirectTo)!==null&&xe!==void 0?xe:void 0}),!((rt=te?.options)===null||rt===void 0)&&rt.captchaToken?{gotrue_meta_security:{captcha_token:te.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:ct,code_challenge_method:ut}),headers:this.headers,xform:_ssoResponse});return!((it=dt.data)===null||it===void 0)&&it.url&&isBrowser()&&!(!((lt=te.options)===null||lt===void 0)&&lt.skipBrowserRedirect)&&window.location.assign(dt.data.url),this._returnResult(dt)}catch(ct){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(ct))return this._returnResult({data:null,error:ct});throw ct}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async te=>{const{data:{session:ne},error:xe}=te;if(xe)throw xe;if(!ne)throw new AuthSessionMissingError;const{error:rt}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:ne.access_token});return this._returnResult({data:{user:null,session:null},error:rt})})}catch(te){if(isAuthError(te))return this._returnResult({data:{user:null,session:null},error:te});throw te}}async resend(te){try{const ne=`${this.url}/resend`;if("email"in te){const{email:xe,type:rt,options:it}=te,{error:lt}=await _request(this.fetch,"POST",ne,{headers:this.headers,body:{email:xe,type:rt,gotrue_meta_security:{captcha_token:it?.captchaToken}},redirectTo:it?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:lt})}else if("phone"in te){const{phone:xe,type:rt,options:it}=te,{data:lt,error:ct}=await _request(this.fetch,"POST",ne,{headers:this.headers,body:{phone:xe,type:rt,gotrue_meta_security:{captcha_token:it?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:lt?.message_id},error:ct})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(ne){if(isAuthError(ne))return this._returnResult({data:{user:null,session:null},error:ne});throw ne}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async ne=>ne))}async _acquireLock(te,ne){this._debug("#_acquireLock","begin",te);try{if(this.lockAcquired){const xe=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),rt=(async()=>(await xe,await ne()))();return this.pendingInLock.push((async()=>{try{await rt}catch{}})()),rt}return await this.lock(`lock:${this.storageKey}`,te,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const xe=ne();for(this.pendingInLock.push((async()=>{try{await xe}catch{}})()),await xe;this.pendingInLock.length;){const rt=[...this.pendingInLock];await Promise.all(rt),this.pendingInLock.splice(0,rt.length)}return await xe}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(te){this._debug("#_useSession","begin");try{const ne=await this.__loadSession();return await te(ne)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let te=null;const ne=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",ne),ne!==null&&(this._isValidSession(ne)?te=ne:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!te)return{data:{session:null},error:null};const xe=te.expires_at?te.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${xe?"":" not"} expired`,"expires_at",te.expires_at),!xe){if(this.userStorage){const lt=await getItemAsync(this.userStorage,this.storageKey+"-user");lt?.user?te.user=lt.user:te.user=userNotAvailableProxy()}if(this.storage.isServer&&te.user&&!te.user.__isUserNotAvailableProxy){const lt={value:this.suppressGetSessionWarning};te.user=insecureUserWarningProxy(te.user,lt),lt.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:te},error:null}}const{data:rt,error:it}=await this._callRefreshToken(te.refresh_token);return it?this._returnResult({data:{session:null},error:it}):this._returnResult({data:{session:rt},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(te){if(te)return await this._getUser(te);await this.initializePromise;const ne=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return ne.data.user&&(this.suppressGetSessionWarning=!0),ne}async _getUser(te){try{return te?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:te,xform:_userResponse}):await this._useSession(async ne=>{var xe,rt,it;const{data:lt,error:ct}=ne;if(ct)throw ct;return!(!((xe=lt.session)===null||xe===void 0)&&xe.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(it=(rt=lt.session)===null||rt===void 0?void 0:rt.access_token)!==null&&it!==void 0?it:void 0,xform:_userResponse})})}catch(ne){if(isAuthError(ne))return isAuthSessionMissingError(ne)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:ne});throw ne}}async updateUser(te,ne={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(te,ne))}async _updateUser(te,ne={}){try{return await this._useSession(async xe=>{const{data:rt,error:it}=xe;if(it)throw it;if(!rt.session)throw new AuthSessionMissingError;const lt=rt.session;let ct=null,ut=null;this.flowType==="pkce"&&te.email!=null&&([ct,ut]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:dt,error:ht}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:ne?.emailRedirectTo,body:Object.assign(Object.assign({},te),{code_challenge:ct,code_challenge_method:ut}),jwt:lt.access_token,xform:_userResponse});if(ht)throw ht;return lt.user=dt.user,await this._saveSession(lt),await this._notifyAllSubscribers("USER_UPDATED",lt),this._returnResult({data:{user:lt.user},error:null})})}catch(xe){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(xe))return this._returnResult({data:{user:null},error:xe});throw xe}}async setSession(te){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(te))}async _setSession(te){try{if(!te.access_token||!te.refresh_token)throw new AuthSessionMissingError;const ne=Date.now()/1e3;let xe=ne,rt=!0,it=null;const{payload:lt}=decodeJWT(te.access_token);if(lt.exp&&(xe=lt.exp,rt=xe<=ne),rt){const{data:ct,error:ut}=await this._callRefreshToken(te.refresh_token);if(ut)return this._returnResult({data:{user:null,session:null},error:ut});if(!ct)return{data:{user:null,session:null},error:null};it=ct}else{const{data:ct,error:ut}=await this._getUser(te.access_token);if(ut)return this._returnResult({data:{user:null,session:null},error:ut});it={access_token:te.access_token,refresh_token:te.refresh_token,user:ct.user,token_type:"bearer",expires_in:xe-ne,expires_at:xe},await this._saveSession(it),await this._notifyAllSubscribers("SIGNED_IN",it)}return this._returnResult({data:{user:it.user,session:it},error:null})}catch(ne){if(isAuthError(ne))return this._returnResult({data:{session:null,user:null},error:ne});throw ne}}async refreshSession(te){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(te))}async _refreshSession(te){try{return await this._useSession(async ne=>{var xe;if(!te){const{data:lt,error:ct}=ne;if(ct)throw ct;te=(xe=lt.session)!==null&&xe!==void 0?xe:void 0}if(!te?.refresh_token)throw new AuthSessionMissingError;const{data:rt,error:it}=await this._callRefreshToken(te.refresh_token);return it?this._returnResult({data:{user:null,session:null},error:it}):rt?this._returnResult({data:{user:rt.user,session:rt},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(ne){if(isAuthError(ne))return this._returnResult({data:{user:null,session:null},error:ne});throw ne}}async _getSessionFromURL(te,ne){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(te.error||te.error_description||te.error_code)throw new AuthImplicitGrantRedirectError(te.error_description||"Error in URL with unspecified error_description",{error:te.error||"unspecified_error",code:te.error_code||"unspecified_code"});switch(ne){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(ne==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!te.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:_t,error:wt}=await this._exchangeCodeForSession(te.code);if(wt)throw wt;const St=new URL(window.location.href);return St.searchParams.delete("code"),window.history.replaceState(window.history.state,"",St.toString()),{data:{session:_t.session,redirectType:null},error:null}}const{provider_token:xe,provider_refresh_token:rt,access_token:it,refresh_token:lt,expires_in:ct,expires_at:ut,token_type:dt}=te;if(!it||!ct||!lt||!dt)throw new AuthImplicitGrantRedirectError("No session defined in URL");const ht=Math.round(Date.now()/1e3),ft=parseInt(ct);let pt=ht+ft;ut&&(pt=parseInt(ut));const mt=pt-ht;mt*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${mt}s, should have been closer to ${ft}s`);const xt=pt-ft;ht-xt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",xt,pt,ht):ht-xt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",xt,pt,ht);const{data:yt,error:vt}=await this._getUser(it);if(vt)throw vt;const Et={provider_token:xe,provider_refresh_token:rt,access_token:it,expires_in:ft,expires_at:pt,refresh_token:lt,token_type:dt,user:yt.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Et,redirectType:te.type},error:null})}catch(xe){if(isAuthError(xe))return this._returnResult({data:{session:null,redirectType:null},error:xe});throw xe}}_isImplicitGrantCallback(te){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),te):!!(te.access_token||te.error_description)}async _isPKCECallback(te){const ne=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(te.code&&ne)}async signOut(te={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(te))}async _signOut({scope:te}={scope:"global"}){return await this._useSession(async ne=>{var xe;const{data:rt,error:it}=ne;if(it&&!isAuthSessionMissingError(it))return this._returnResult({error:it});const lt=(xe=rt.session)===null||xe===void 0?void 0:xe.access_token;if(lt){const{error:ct}=await this.admin.signOut(lt,te);if(ct&&!(isAuthApiError(ct)&&(ct.status===404||ct.status===401||ct.status===403)||isAuthSessionMissingError(ct)))return this._returnResult({error:ct})}return te!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(te){const ne=generateCallbackId(),xe={id:ne,callback:te,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",ne),this.stateChangeEmitters.delete(ne)}};return this._debug("#onAuthStateChange()","registered callback with id",ne),this.stateChangeEmitters.set(ne,xe),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(ne)})))(),{data:{subscription:xe}}}async _emitInitialSession(te){return await this._useSession(async ne=>{var xe,rt;try{const{data:{session:it},error:lt}=ne;if(lt)throw lt;await((xe=this.stateChangeEmitters.get(te))===null||xe===void 0?void 0:xe.callback("INITIAL_SESSION",it)),this._debug("INITIAL_SESSION","callback id",te,"session",it)}catch(it){await((rt=this.stateChangeEmitters.get(te))===null||rt===void 0?void 0:rt.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",te,"error",it),console.error(it)}})}async resetPasswordForEmail(te,ne={}){let xe=null,rt=null;this.flowType==="pkce"&&([xe,rt]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:te,code_challenge:xe,code_challenge_method:rt,gotrue_meta_security:{captcha_token:ne.captchaToken}},headers:this.headers,redirectTo:ne.redirectTo})}catch(it){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(it))return this._returnResult({data:null,error:it});throw it}}async getUserIdentities(){var te;try{const{data:ne,error:xe}=await this.getUser();if(xe)throw xe;return this._returnResult({data:{identities:(te=ne.user.identities)!==null&&te!==void 0?te:[]},error:null})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}}async linkIdentity(te){return"token"in te?this.linkIdentityIdToken(te):this.linkIdentityOAuth(te)}async linkIdentityOAuth(te){var ne;try{const{data:xe,error:rt}=await this._useSession(async it=>{var lt,ct,ut,dt,ht;const{data:ft,error:pt}=it;if(pt)throw pt;const mt=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,te.provider,{redirectTo:(lt=te.options)===null||lt===void 0?void 0:lt.redirectTo,scopes:(ct=te.options)===null||ct===void 0?void 0:ct.scopes,queryParams:(ut=te.options)===null||ut===void 0?void 0:ut.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",mt,{headers:this.headers,jwt:(ht=(dt=ft.session)===null||dt===void 0?void 0:dt.access_token)!==null&&ht!==void 0?ht:void 0})});if(rt)throw rt;return isBrowser()&&!(!((ne=te.options)===null||ne===void 0)&&ne.skipBrowserRedirect)&&window.location.assign(xe?.url),this._returnResult({data:{provider:te.provider,url:xe?.url},error:null})}catch(xe){if(isAuthError(xe))return this._returnResult({data:{provider:te.provider,url:null},error:xe});throw xe}}async linkIdentityIdToken(te){return await this._useSession(async ne=>{var xe;try{const{error:rt,data:{session:it}}=ne;if(rt)throw rt;const{options:lt,provider:ct,token:ut,access_token:dt,nonce:ht}=te,ft=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(xe=it?.access_token)!==null&&xe!==void 0?xe:void 0,body:{provider:ct,id_token:ut,access_token:dt,nonce:ht,link_identity:!0,gotrue_meta_security:{captcha_token:lt?.captchaToken}},xform:_sessionResponse}),{data:pt,error:mt}=ft;return mt?this._returnResult({data:{user:null,session:null},error:mt}):!pt||!pt.session||!pt.user?this._returnResult({data:{user:null,session:null},error:new AuthInvalidTokenResponseError}):(pt.session&&(await this._saveSession(pt.session),await this._notifyAllSubscribers("USER_UPDATED",pt.session)),this._returnResult({data:pt,error:mt}))}catch(rt){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(rt))return this._returnResult({data:{user:null,session:null},error:rt});throw rt}})}async unlinkIdentity(te){try{return await this._useSession(async ne=>{var xe,rt;const{data:it,error:lt}=ne;if(lt)throw lt;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${te.identity_id}`,{headers:this.headers,jwt:(rt=(xe=it.session)===null||xe===void 0?void 0:xe.access_token)!==null&&rt!==void 0?rt:void 0})})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}}async _refreshAccessToken(te){const ne=`#_refreshAccessToken(${te.substring(0,5)}...)`;this._debug(ne,"begin");try{const xe=Date.now();return await retryable(async rt=>(rt>0&&await sleep$1(200*Math.pow(2,rt-1)),this._debug(ne,"refreshing attempt",rt),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:te},headers:this.headers,xform:_sessionResponse})),(rt,it)=>{const lt=200*Math.pow(2,rt);return it&&isAuthRetryableFetchError(it)&&Date.now()+lt-xe<AUTO_REFRESH_TICK_DURATION_MS})}catch(xe){if(this._debug(ne,"error",xe),isAuthError(xe))return this._returnResult({data:{session:null,user:null},error:xe});throw xe}finally{this._debug(ne,"end")}}_isValidSession(te){return typeof te=="object"&&te!==null&&"access_token"in te&&"refresh_token"in te&&"expires_at"in te}async _handleProviderSignIn(te,ne){const xe=await this._getUrlForProvider(`${this.url}/authorize`,te,{redirectTo:ne.redirectTo,scopes:ne.scopes,queryParams:ne.queryParams});return this._debug("#_handleProviderSignIn()","provider",te,"options",ne,"url",xe),isBrowser()&&!ne.skipBrowserRedirect&&window.location.assign(xe),{data:{provider:te,url:xe},error:null}}async _recoverAndRefresh(){var te,ne;const xe="#_recoverAndRefresh()";this._debug(xe,"begin");try{const rt=await getItemAsync(this.storage,this.storageKey);if(rt&&this.userStorage){let lt=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!lt&&(lt={user:rt.user},await setItemAsync(this.userStorage,this.storageKey+"-user",lt)),rt.user=(te=lt?.user)!==null&&te!==void 0?te:userNotAvailableProxy()}else if(rt&&!rt.user&&!rt.user){const lt=await getItemAsync(this.storage,this.storageKey+"-user");lt&&lt?.user?(rt.user=lt.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,rt)):rt.user=userNotAvailableProxy()}if(this._debug(xe,"session from storage",rt),!this._isValidSession(rt)){this._debug(xe,"session is not valid"),rt!==null&&await this._removeSession();return}const it=((ne=rt.expires_at)!==null&&ne!==void 0?ne:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(xe,`session has${it?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),it){if(this.autoRefreshToken&&rt.refresh_token){const{error:lt}=await this._callRefreshToken(rt.refresh_token);lt&&(console.error(lt),isAuthRetryableFetchError(lt)||(this._debug(xe,"refresh failed with a non-retryable error, removing the session",lt),await this._removeSession()))}}else if(rt.user&&rt.user.__isUserNotAvailableProxy===!0)try{const{data:lt,error:ct}=await this._getUser(rt.access_token);!ct&&lt?.user?(rt.user=lt.user,await this._saveSession(rt),await this._notifyAllSubscribers("SIGNED_IN",rt)):this._debug(xe,"could not get user data, skipping SIGNED_IN notification")}catch(lt){console.error("Error getting user data:",lt),this._debug(xe,"error getting user data, skipping SIGNED_IN notification",lt)}else await this._notifyAllSubscribers("SIGNED_IN",rt)}catch(rt){this._debug(xe,"error",rt),console.error(rt);return}finally{this._debug(xe,"end")}}async _callRefreshToken(te){var ne,xe;if(!te)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const rt=`#_callRefreshToken(${te.substring(0,5)}...)`;this._debug(rt,"begin");try{this.refreshingDeferred=new Deferred;const{data:it,error:lt}=await this._refreshAccessToken(te);if(lt)throw lt;if(!it.session)throw new AuthSessionMissingError;await this._saveSession(it.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",it.session);const ct={data:it.session,error:null};return this.refreshingDeferred.resolve(ct),ct}catch(it){if(this._debug(rt,"error",it),isAuthError(it)){const lt={data:null,error:it};return isAuthRetryableFetchError(it)||await this._removeSession(),(ne=this.refreshingDeferred)===null||ne===void 0||ne.resolve(lt),lt}throw(xe=this.refreshingDeferred)===null||xe===void 0||xe.reject(it),it}finally{this.refreshingDeferred=null,this._debug(rt,"end")}}async _notifyAllSubscribers(te,ne,xe=!0){const rt=`#_notifyAllSubscribers(${te})`;this._debug(rt,"begin",ne,`broadcast = ${xe}`);try{this.broadcastChannel&&xe&&this.broadcastChannel.postMessage({event:te,session:ne});const it=[],lt=Array.from(this.stateChangeEmitters.values()).map(async ct=>{try{await ct.callback(te,ne)}catch(ut){it.push(ut)}});if(await Promise.all(lt),it.length>0){for(let ct=0;ct<it.length;ct+=1)console.error(it[ct]);throw it[0]}}finally{this._debug(rt,"end")}}async _saveSession(te){this._debug("#_saveSession()",te),this.suppressGetSessionWarning=!0,await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`);const ne=Object.assign({},te),xe=ne.user&&ne.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!xe&&ne.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:ne.user});const rt=Object.assign({},ne);delete rt.user;const it=deepClone(rt);await setItemAsync(this.storage,this.storageKey,it)}else{const rt=deepClone(ne);await setItemAsync(this.storage,this.storageKey,rt)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const te=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{te&&isBrowser()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",te)}catch(ne){console.error("removing visibilitychange callback failed",ne)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const te=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=te,te&&typeof te=="object"&&typeof te.unref=="function"?te.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(te);const ne=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=ne,ne&&typeof ne=="object"&&typeof ne.unref=="function"?ne.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(ne)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const te=this.autoRefreshTicker;this.autoRefreshTicker=null,te&&clearInterval(te);const ne=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,ne&&clearTimeout(ne)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const te=Date.now();try{return await this._useSession(async ne=>{const{data:{session:xe}}=ne;if(!xe||!xe.refresh_token||!xe.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const rt=Math.floor((xe.expires_at*1e3-te)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${rt} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),rt<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(xe.refresh_token)})}catch(ne){console.error("Auto refresh tick failed with error. This is likely a transient error.",ne)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(te){if(te.isAcquireTimeout||te instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw te}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(te){this._debug("#visibilityChangedCallback","error",te)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(te){console.error("_handleVisibilityChange",te)}}async _onVisibilityChanged(te){const ne=`#_onVisibilityChanged(${te})`;this._debug(ne,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),te||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(ne,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(te,ne,xe){const rt=[`provider=${encodeURIComponent(ne)}`];if(xe?.redirectTo&&rt.push(`redirect_to=${encodeURIComponent(xe.redirectTo)}`),xe?.scopes&&rt.push(`scopes=${encodeURIComponent(xe.scopes)}`),this.flowType==="pkce"){const[it,lt]=await getCodeChallengeAndMethod(this.storage,this.storageKey),ct=new URLSearchParams({code_challenge:`${encodeURIComponent(it)}`,code_challenge_method:`${encodeURIComponent(lt)}`});rt.push(ct.toString())}if(xe?.queryParams){const it=new URLSearchParams(xe.queryParams);rt.push(it.toString())}return xe?.skipBrowserRedirect&&rt.push(`skip_http_redirect=${xe.skipBrowserRedirect}`),`${te}?${rt.join("&")}`}async _unenroll(te){try{return await this._useSession(async ne=>{var xe;const{data:rt,error:it}=ne;return it?this._returnResult({data:null,error:it}):await _request(this.fetch,"DELETE",`${this.url}/factors/${te.factorId}`,{headers:this.headers,jwt:(xe=rt?.session)===null||xe===void 0?void 0:xe.access_token})})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}}async _enroll(te){try{return await this._useSession(async ne=>{var xe,rt;const{data:it,error:lt}=ne;if(lt)return this._returnResult({data:null,error:lt});const ct=Object.assign({friendly_name:te.friendlyName,factor_type:te.factorType},te.factorType==="phone"?{phone:te.phone}:te.factorType==="totp"?{issuer:te.issuer}:{}),{data:ut,error:dt}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:ct,headers:this.headers,jwt:(xe=it?.session)===null||xe===void 0?void 0:xe.access_token});return dt?this._returnResult({data:null,error:dt}):(te.factorType==="totp"&&ut.type==="totp"&&(!((rt=ut?.totp)===null||rt===void 0)&&rt.qr_code)&&(ut.totp.qr_code=`data:image/svg+xml;utf-8,${ut.totp.qr_code}`),this._returnResult({data:ut,error:null}))})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}}async _verify(te){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async ne=>{var xe;const{data:rt,error:it}=ne;if(it)return this._returnResult({data:null,error:it});const lt=Object.assign({challenge_id:te.challengeId},"webauthn"in te?{webauthn:Object.assign(Object.assign({},te.webauthn),{credential_response:te.webauthn.type==="create"?serializeCredentialCreationResponse(te.webauthn.credential_response):serializeCredentialRequestResponse(te.webauthn.credential_response)})}:{code:te.code}),{data:ct,error:ut}=await _request(this.fetch,"POST",`${this.url}/factors/${te.factorId}/verify`,{body:lt,headers:this.headers,jwt:(xe=rt?.session)===null||xe===void 0?void 0:xe.access_token});return ut?this._returnResult({data:null,error:ut}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+ct.expires_in},ct)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",ct),this._returnResult({data:ct,error:ut}))})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}})}async _challenge(te){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async ne=>{var xe;const{data:rt,error:it}=ne;if(it)return this._returnResult({data:null,error:it});const lt=await _request(this.fetch,"POST",`${this.url}/factors/${te.factorId}/challenge`,{body:te,headers:this.headers,jwt:(xe=rt?.session)===null||xe===void 0?void 0:xe.access_token});if(lt.error)return lt;const{data:ct}=lt;if(ct.type!=="webauthn")return{data:ct,error:null};switch(ct.webauthn.type){case"create":return{data:Object.assign(Object.assign({},ct),{webauthn:Object.assign(Object.assign({},ct.webauthn),{credential_options:Object.assign(Object.assign({},ct.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(ct.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},ct),{webauthn:Object.assign(Object.assign({},ct.webauthn),{credential_options:Object.assign(Object.assign({},ct.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(ct.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}})}async _challengeAndVerify(te){const{data:ne,error:xe}=await this._challenge({factorId:te.factorId});return xe?this._returnResult({data:null,error:xe}):await this._verify({factorId:te.factorId,challengeId:ne.id,code:te.code})}async _listFactors(){var te;const{data:{user:ne},error:xe}=await this.getUser();if(xe)return{data:null,error:xe};const rt={all:[],phone:[],totp:[],webauthn:[]};for(const it of(te=ne?.factors)!==null&&te!==void 0?te:[])rt.all.push(it),it.status==="verified"&&rt[it.factor_type].push(it);return{data:rt,error:null}}async _getAuthenticatorAssuranceLevel(te){var ne,xe,rt,it;if(te)try{const{payload:mt}=decodeJWT(te);let xt=null;mt.aal&&(xt=mt.aal);let yt=xt;const{data:{user:vt},error:Et}=await this.getUser(te);if(Et)return this._returnResult({data:null,error:Et});((xe=(ne=vt?.factors)===null||ne===void 0?void 0:ne.filter(St=>St.status==="verified"))!==null&&xe!==void 0?xe:[]).length>0&&(yt="aal2");const wt=mt.amr||[];return{data:{currentLevel:xt,nextLevel:yt,currentAuthenticationMethods:wt},error:null}}catch(mt){if(isAuthError(mt))return this._returnResult({data:null,error:mt});throw mt}const{data:{session:lt},error:ct}=await this.getSession();if(ct)return this._returnResult({data:null,error:ct});if(!lt)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:ut}=decodeJWT(lt.access_token);let dt=null;ut.aal&&(dt=ut.aal);let ht=dt;((it=(rt=lt.user.factors)===null||rt===void 0?void 0:rt.filter(mt=>mt.status==="verified"))!==null&&it!==void 0?it:[]).length>0&&(ht="aal2");const pt=ut.amr||[];return{data:{currentLevel:dt,nextLevel:ht,currentAuthenticationMethods:pt},error:null}}async _getAuthorizationDetails(te){try{return await this._useSession(async ne=>{const{data:{session:xe},error:rt}=ne;return rt?this._returnResult({data:null,error:rt}):xe?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${te}`,{headers:this.headers,jwt:xe.access_token,xform:it=>({data:it,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}}async _approveAuthorization(te,ne){try{return await this._useSession(async xe=>{const{data:{session:rt},error:it}=xe;if(it)return this._returnResult({data:null,error:it});if(!rt)return this._returnResult({data:null,error:new AuthSessionMissingError});const lt=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${te}/consent`,{headers:this.headers,jwt:rt.access_token,body:{action:"approve"},xform:ct=>({data:ct,error:null})});return lt.data&&lt.data.redirect_url&&isBrowser()&&!ne?.skipBrowserRedirect&&window.location.assign(lt.data.redirect_url),lt})}catch(xe){if(isAuthError(xe))return this._returnResult({data:null,error:xe});throw xe}}async _denyAuthorization(te,ne){try{return await this._useSession(async xe=>{const{data:{session:rt},error:it}=xe;if(it)return this._returnResult({data:null,error:it});if(!rt)return this._returnResult({data:null,error:new AuthSessionMissingError});const lt=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${te}/consent`,{headers:this.headers,jwt:rt.access_token,body:{action:"deny"},xform:ct=>({data:ct,error:null})});return lt.data&&lt.data.redirect_url&&isBrowser()&&!ne?.skipBrowserRedirect&&window.location.assign(lt.data.redirect_url),lt})}catch(xe){if(isAuthError(xe))return this._returnResult({data:null,error:xe});throw xe}}async _listOAuthGrants(){try{return await this._useSession(async te=>{const{data:{session:ne},error:xe}=te;return xe?this._returnResult({data:null,error:xe}):ne?await _request(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:ne.access_token,xform:rt=>({data:rt,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(te){if(isAuthError(te))return this._returnResult({data:null,error:te});throw te}}async _revokeOAuthGrant(te){try{return await this._useSession(async ne=>{const{data:{session:xe},error:rt}=ne;return rt?this._returnResult({data:null,error:rt}):xe?(await _request(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:xe.access_token,query:{client_id:te.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(ne){if(isAuthError(ne))return this._returnResult({data:null,error:ne});throw ne}}async fetchJwk(te,ne={keys:[]}){let xe=ne.keys.find(ct=>ct.kid===te);if(xe)return xe;const rt=Date.now();if(xe=this.jwks.keys.find(ct=>ct.kid===te),xe&&this.jwks_cached_at+JWKS_TTL>rt)return xe;const{data:it,error:lt}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(lt)throw lt;return!it.keys||it.keys.length===0||(this.jwks=it,this.jwks_cached_at=rt,xe=it.keys.find(ct=>ct.kid===te),!xe)?null:xe}async getClaims(te,ne={}){try{let xe=te;if(!xe){const{data:mt,error:xt}=await this.getSession();if(xt||!mt.session)return this._returnResult({data:null,error:xt});xe=mt.session.access_token}const{header:rt,payload:it,signature:lt,raw:{header:ct,payload:ut}}=decodeJWT(xe);ne?.allowExpired||validateExp(it.exp);const dt=!rt.alg||rt.alg.startsWith("HS")||!rt.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(rt.kid,ne?.keys?{keys:ne.keys}:ne?.jwks);if(!dt){const{error:mt}=await this.getUser(xe);if(mt)throw mt;return{data:{claims:it,header:rt,signature:lt},error:null}}const ht=getAlgorithm(rt.alg),ft=await crypto.subtle.importKey("jwk",dt,ht,!0,["verify"]);if(!await crypto.subtle.verify(ht,ft,lt,stringToUint8Array(`${ct}.${ut}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:it,header:rt,signature:lt},error:null}}catch(xe){if(isAuthError(xe))return this._returnResult({data:null,error:xe});throw xe}}}GoTrueClient.nextInstanceID={};const AuthClient=GoTrueClient,version$1="2.94.1";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};function _typeof$O(ee){"@babel/helpers - typeof";return _typeof$O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$O(ee)}function toPrimitive(ee,te){if(_typeof$O(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$O(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function toPropertyKey(ee){var te=toPrimitive(ee,"string");return _typeof$O(te)=="symbol"?te:te+""}function _defineProperty$M(ee,te,ne){return(te=toPropertyKey(te))in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function ownKeys$G(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread2$1(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$G(Object(ne),!0).forEach(function(xe){_defineProperty$M(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$G(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}const resolveFetch=ee=>ee?(...te)=>ee(...te):(...te)=>fetch(...te),resolveHeadersConstructor=()=>Headers,fetchWithAuth=(ee,te,ne)=>{const xe=resolveFetch(ne),rt=resolveHeadersConstructor();return async(it,lt)=>{var ct;const ut=(ct=await te())!==null&&ct!==void 0?ct:ee;let dt=new rt(lt?.headers);return dt.has("apikey")||dt.set("apikey",ee),dt.has("Authorization")||dt.set("Authorization",`Bearer ${ut}`),xe(it,_objectSpread2$1(_objectSpread2$1({},lt),{},{headers:dt}))}};function ensureTrailingSlash(ee){return ee.endsWith("/")?ee:ee+"/"}function applySettingDefaults(ee,te){var ne,xe;const{db:rt,auth:it,realtime:lt,global:ct}=ee,{db:ut,auth:dt,realtime:ht,global:ft}=te,pt={db:_objectSpread2$1(_objectSpread2$1({},ut),rt),auth:_objectSpread2$1(_objectSpread2$1({},dt),it),realtime:_objectSpread2$1(_objectSpread2$1({},ht),lt),storage:{},global:_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ft),ct),{},{headers:_objectSpread2$1(_objectSpread2$1({},(ne=ft?.headers)!==null&&ne!==void 0?ne:{}),(xe=ct?.headers)!==null&&xe!==void 0?xe:{})}),accessToken:async()=>""};return ee.accessToken?pt.accessToken=ee.accessToken:delete pt.accessToken,pt}function validateSupabaseUrl(ee){const te=ee?.trim();if(!te)throw new Error("supabaseUrl is required.");if(!te.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(te))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SupabaseAuthClient=class extends AuthClient{constructor(ee){super(ee)}},SupabaseClient=class{constructor(ee,te,ne){var xe,rt;this.supabaseUrl=ee,this.supabaseKey=te;const it=validateSupabaseUrl(ee);if(!te)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",it),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",it),this.storageUrl=new URL("storage/v1",it),this.functionsUrl=new URL("functions/v1",it);const lt=`sb-${it.hostname.split(".")[0]}-auth-token`,ct={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:_objectSpread2$1(_objectSpread2$1({},DEFAULT_AUTH_OPTIONS),{},{storageKey:lt}),global:DEFAULT_GLOBAL_OPTIONS},ut=applySettingDefaults(ne??{},ct);if(this.storageKey=(xe=ut.auth.storageKey)!==null&&xe!==void 0?xe:"",this.headers=(rt=ut.global.headers)!==null&&rt!==void 0?rt:{},ut.accessToken)this.accessToken=ut.accessToken,this.auth=new Proxy({},{get:(ht,ft)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ft)} is not possible`)}});else{var dt;this.auth=this._initSupabaseAuthClient((dt=ut.auth)!==null&&dt!==void 0?dt:{},this.headers,ut.global.fetch)}this.fetch=fetchWithAuth(te,this._getAccessToken.bind(this),ut.global.fetch),this.realtime=this._initRealtimeClient(_objectSpread2$1({headers:this.headers,accessToken:this._getAccessToken.bind(this)},ut.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(ht=>this.realtime.setAuth(ht)).catch(ht=>console.warn("Failed to set initial Realtime auth token:",ht)),this.rest=new PostgrestClient(new URL("rest/v1",it).href,{headers:this.headers,schema:ut.db.schema,fetch:this.fetch,timeout:ut.db.timeout,urlLengthLimit:ut.db.urlLengthLimit}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,ne?.storage),ut.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(ee){return this.rest.from(ee)}schema(ee){return this.rest.schema(ee)}rpc(ee,te={},ne={head:!1,get:!1,count:void 0}){return this.rest.rpc(ee,te,ne)}channel(ee,te={config:{}}){return this.realtime.channel(ee,te)}getChannels(){return this.realtime.getChannels()}removeChannel(ee){return this.realtime.removeChannel(ee)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var ee=this,te,ne;if(ee.accessToken)return await ee.accessToken();const{data:xe}=await ee.auth.getSession();return(te=(ne=xe.session)===null||ne===void 0?void 0:ne.access_token)!==null&&te!==void 0?te:ee.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:ee,persistSession:te,detectSessionInUrl:ne,storage:xe,userStorage:rt,storageKey:it,flowType:lt,lock:ct,debug:ut,throwOnError:dt},ht,ft){const pt={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:_objectSpread2$1(_objectSpread2$1({},pt),ht),storageKey:it,autoRefreshToken:ee,persistSession:te,detectSessionInUrl:ne,storage:xe,userStorage:rt,flowType:lt,lock:ct,debug:ut,throwOnError:dt,fetch:ft,hasCustomAuthorizationHeader:Object.keys(this.headers).some(mt=>mt.toLowerCase()==="authorization")})}_initRealtimeClient(ee){return new RealtimeClient(this.realtimeUrl.href,_objectSpread2$1(_objectSpread2$1({},ee),{},{params:_objectSpread2$1(_objectSpread2$1({},{apikey:this.supabaseKey}),ee?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((ee,te)=>{this._handleTokenChanged(ee,"CLIENT",te?.access_token)})}_handleTokenChanged(ee,te,ne){(ee==="TOKEN_REFRESHED"||ee==="SIGNED_IN")&&this.changedAccessToken!==ne?(this.changedAccessToken=ne,this.realtime.setAuth(ne)):ee==="SIGNED_OUT"&&(this.realtime.setAuth(),te=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const createClient=(ee,te,ne)=>new SupabaseClient(ee,te,ne);function shouldShowDeprecationWarning(){if(typeof window<"u")return!1;const ee=globalThis.process;if(!ee)return!1;const te=ee.version;if(te==null)return!1;const ne=te.match(/^v(\d+)\./);return ne?parseInt(ne[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const projectId="xfwnjocfdvuocvwjopke",publicAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhmd25qb2NmZHZ1b2N2d2pvcGtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3NDgwODIsImV4cCI6MjA1ODMyNDA4Mn0.gZLl8dXJxpZxzIxmkMEiHilUDUWQLwBwlDfnlTt-cl8",supabase=createClient(`https://${projectId}.supabase.co`,publicAnonKey),AuthContext=reactExports.createContext(void 0);function mapUserTypeToRole(ee){return ee==="teacher"||ee==="student"||ee==="parent"?ee:"student"}function parsePreferences(ee){if(ee&&typeof ee=="object"&&!Array.isArray(ee)){const te=ee;return{grade:typeof te.grade=="string"?te.grade:void 0,interests:Array.isArray(te.interests)?te.interests.filter(ne=>typeof ne=="string"):void 0,defaultGrade:typeof te.defaultGrade=="string"?te.defaultGrade:void 0,defaultSubject:typeof te.defaultSubject=="string"?te.defaultSubject:void 0,notifications:te.notifications&&typeof te.notifications=="object"&&!Array.isArray(te.notifications)?te.notifications:void 0}}return{}}async function loadProfileFromSupabase(ee,te){const{data:ne}=await supabase.from("profiles").select("id, name, user_type, preferences").eq("id",ee).maybeSingle();if(ne){const xe=parsePreferences(ne.preferences);return{user:{id:ne.id,email:te,name:ne.name??te.split("@")[0],grade:xe.grade??"",interests:xe.interests??[],role:mapUserTypeToRole(ne.user_type)},preferences:xe}}return null}function AuthProvider({children:ee}){const[te,ne]=reactExports.useState(null),[xe,rt]=reactExports.useState({}),[it,lt]=reactExports.useState(!0),ct=vt=>{vt?(ne(vt.user),rt(vt.preferences)):(ne(null),rt({}))},ut=vt=>({id:vt.id,email:vt.email??"",name:vt.user_metadata?.full_name??vt.email?.split("@")[0]??"",grade:"",interests:[],role:"student"});reactExports.useEffect(()=>{let Et=!1;const _t=async()=>{try{const{data:{session:Ct}}=await supabase.auth.getSession();if(Et)return;if(Ct?.user){const jt=await loadProfileFromSupabase(Ct.user.id,Ct.user.email??"");if(Et)return;jt?ct(jt):(ne(ut(Ct.user)),rt({}))}else ne(null),rt({})}catch(Ct){console.error("[Auth] Error initializing auth:",Ct),ne(null),rt({})}finally{Et||(Et=!0,lt(!1))}},wt=setTimeout(()=>{Et||(Et=!0,console.warn("[Auth] (8s) loading"),lt(!1),ne(null),rt({}))},8e3);_t();const{data:{subscription:St}}=supabase.auth.onAuthStateChange((Ct,jt)=>{Ct==="SIGNED_OUT"?(ne(null),rt({})):jt?.user&&loadProfileFromSupabase(jt.user.id,jt.user.email??"").then(Rt=>{Rt?ct(Rt):(ne(ut(jt.user)),rt({}))}).catch(Rt=>console.error("[Auth] onAuthStateChange  profile :",Rt))});return()=>{clearTimeout(wt),St.unsubscribe()}},[]);const dt=async(vt,Et,_t)=>{const{data:wt,error:St}=await supabase.auth.signInWithPassword({email:vt,password:Et});if(St)throw new Error(St.message||"");const Ct=await loadProfileFromSupabase(wt.user.id,wt.user.email??"");Ct?ct(Ct):(ne(ut(wt.user)),rt({}))},ht=async(vt,Et,_t,wt)=>{const{data:St,error:Ct}=await supabase.auth.signUp({email:vt,password:Et,options:{data:{full_name:_t,user_type:wt}}});if(Ct)throw new Error(Ct.message||"");if(St.user){const{error:jt}=await supabase.from("profiles").upsert({id:St.user.id,name:_t,user_type:wt,updated_at:new Date().toISOString()},{onConflict:"id"});jt&&console.warn("Profile upsert failed (trigger may handle it):",jt),ne({id:St.user.id,email:St.user.email??"",name:_t,grade:"",interests:[],role:wt})}},ft=async()=>{await supabase.auth.signOut(),ne(null)},pt=async(vt,Et)=>{te&&(await mt({grade:vt,interests:Et}),ne(_t=>_t?{..._t,grade:vt,interests:Et}:null))},mt=async vt=>{if(!te)return;const Et={...xe,...vt,notifications:{...xe.notifications,...vt.notifications}},{error:_t}=await supabase.from("profiles").update({preferences:Et,updated_at:new Date().toISOString()}).eq("id",te.id);if(_t)throw new Error(_t.message||"");rt(Et),(vt.grade!==void 0||vt.interests!==void 0)&&ne(wt=>wt?{...wt,grade:Et.grade??wt.grade,interests:Et.interests??wt.interests}:null)},xt=async vt=>{const{error:Et}=await supabase.auth.updateUser({password:vt});if(Et)throw new Error(Et.message||"")},yt=async vt=>{const{error:Et}=await supabase.auth.resetPasswordForEmail(vt,{redirectTo:`${typeof window<"u"?window.location.origin:""}/reset-password`});if(Et)throw new Error(Et.message||"")};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:te,preferences:xe,loading:it,login:dt,register:ht,logout:ft,resetPasswordForEmail:yt,updateUserPreferences:pt,updateProfilePreferences:mt,changePassword:xt},children:ee})}function useAuth(){const ee=reactExports.useContext(AuthContext);if(ee===void 0)throw new Error("useAuth must be used within an AuthProvider");return ee}const getBaseUrl$1=()=>{const ee="http://localhost:3002";return console.log("VITE_API_URL=",ee),ee.replace(/\/$/,"")};async function apiCall(ee,te={}){const ne=getBaseUrl$1(),xe=ee.startsWith("http")?ee:`${ne}${ee}`;try{const rt=await fetch(xe,{...te,headers:{"Content-Type":"application/json",...te.headers}});if(!rt.ok){let lt=`API call failed: ${rt.statusText}`;try{lt=(await rt.json()).error||lt}catch{lt=`API call failed with status ${rt.status}: ${rt.statusText}`}throw new Error(lt)}return(await rt.json()).data}catch(rt){throw rt instanceof TypeError&&rt.message==="Failed to fetch"?new Error(""):rt instanceof Error?rt:new Error(String(rt))}}async function generateCurriculumDesign(ee,te,ne,xe,rt="",it="zh"){return apiCall("/api/curriculum",{method:"POST",body:JSON.stringify({subject:ee,grade:te,topic:ne,textbook:xe,context:rt,language:it})})}async function generateTaskDocuments(ee,te,ne,xe=""){return apiCall("/api/documents",{method:"POST",body:JSON.stringify({subject:ee,topic:te,curriculumJson:JSON.stringify(ne),context:xe})})}async function generateSystemTaskPlan(ee,te,ne,xe=""){return apiCall("/api/tasks",{method:"POST",body:JSON.stringify({taskSheetMarkdown:ee,subject:te,grade:ne,context:xe})})}async function generateTaskAsset(ee,te,ne,xe){if(!te?.trim())return null;try{return await apiCall("/api/assets",{method:"POST",body:JSON.stringify({type:ee,prompt:te,courseId:ne,taskId:xe})})}catch(rt){return console.error("Asset generation failed:",rt),null}}async function createCourse(ee,te){const ne=Array.isArray(ee.taskIds)?{taskIds:ee.taskIds}:{plan:ee},xe=te!=null?{...ne,teacherId:te}:ne;return apiCall("/api/courses",{method:"POST",body:JSON.stringify(xe)})}async function saveTask(ee,te,ne){return apiCall("/api/tasks",{method:"POST",body:JSON.stringify({task:ee,teacherId:te,...ne})})}async function getTask(ee){return apiCall(`/api/tasks?id=${encodeURIComponent(ee)}`,{method:"GET"})}async function listTeacherTasks(ee,te){const ne=new URLSearchParams({teacherId:ee});return te?.includeDeleted&&ne.set("includeDeleted","true"),te?.deletedOnly&&ne.set("deletedOnly","true"),te?.restorableOnly&&ne.set("restorableOnly","true"),apiCall(`/api/tasks?${ne.toString()}`,{method:"GET"})}async function deleteTask(ee,te){await apiCall(`/api/tasks?id=${encodeURIComponent(ee)}&teacherId=${encodeURIComponent(te)}`,{method:"DELETE"})}async function updateTaskVisibility(ee,te,ne){return apiCall("/api/tasks",{method:"PATCH",body:JSON.stringify({id:ee,teacherId:te,action:ne})})}async function restoreTask(ee,te){return apiCall("/api/tasks",{method:"PATCH",body:JSON.stringify({id:ee,teacherId:te,action:"restore"})})}async function listPublicTasks(ee){const te=new URLSearchParams({public:"true"});return ee?.q&&te.set("q",ee.q),ee?.subject&&te.set("subject",ee.subject),ee?.grade&&te.set("grade",ee.grade),apiCall(`/api/tasks?${te.toString()}`,{method:"GET"})}async function listTeacherClasses(ee){return apiCall(`/api/classes?teacherId=${encodeURIComponent(ee)}`,{method:"GET"})}async function createClass$1(ee,te,ne){return apiCall("/api/classes",{method:"POST",body:JSON.stringify({teacherId:ee,name:te,grade:ne})})}async function getClass(ee){return apiCall(`/api/classes/${encodeURIComponent(ee)}`,{method:"GET"})}async function addStudentToClassByEmail(ee,te){return apiCall(`/api/classes/${encodeURIComponent(ee)}/students`,{method:"POST",body:JSON.stringify({email:te})})}async function removeStudentFromClass(ee,te){await apiCall(`/api/classes/${encodeURIComponent(ee)}/students?studentId=${encodeURIComponent(te)}`,{method:"DELETE"})}async function deleteClass(ee){await apiCall(`/api/classes/${encodeURIComponent(ee)}`,{method:"DELETE"})}async function assignCourseToClasses(ee,te,ne){return apiCall("/api/assignments",{method:"POST",body:JSON.stringify({courseId:ee,classIds:te,teacherId:ne})})}async function getCourseAssignments(ee,te){return apiCall(`/api/assignments?courseId=${encodeURIComponent(ee)}&teacherId=${encodeURIComponent(te)}`,{method:"GET"})}async function removeCourseAssignment(ee,te,ne){return apiCall(`/api/assignments?courseId=${encodeURIComponent(ee)}&classId=${encodeURIComponent(te)}&teacherId=${encodeURIComponent(ne)}`,{method:"DELETE"})}async function getStudentCourses(ee){return apiCall(`/api/assignments?studentId=${encodeURIComponent(ee)}`,{method:"GET"})}async function getCourse(ee){return apiCall(`/api/courses?id=${encodeURIComponent(ee)}`,{method:"GET"})}async function getTeacherStats(ee){return apiCall(`/api/teacher-stats?teacherId=${encodeURIComponent(ee)}`,{method:"GET"})}async function listTeacherCoursesWithStats(ee,te){const ne=new URLSearchParams({teacherId:ee});return te?.includeDeleted&&ne.set("includeDeleted","true"),te?.deletedOnly&&ne.set("deletedOnly","true"),te?.restorableOnly&&ne.set("restorableOnly","true"),apiCall(`/api/teacher-courses?${ne.toString()}`,{method:"GET"})}async function deleteCourse(ee,te){await apiCall(`/api/courses?id=${encodeURIComponent(ee)}&teacherId=${encodeURIComponent(te)}`,{method:"DELETE"})}async function updateCourseVisibility(ee,te,ne){return apiCall("/api/courses",{method:"PATCH",body:JSON.stringify({id:ee,teacherId:te,action:ne})})}async function restoreCourse(ee,te){return apiCall("/api/courses",{method:"PATCH",body:JSON.stringify({id:ee,teacherId:te,action:"restore"})})}async function listCourseShares(ee,te){return apiCall(`/api/course-shares?courseId=${encodeURIComponent(ee)}&ownerTeacherId=${encodeURIComponent(te)}`,{method:"GET"})}async function createCourseShare(ee){return apiCall("/api/course-shares",{method:"POST",body:JSON.stringify(ee)})}async function deleteCourseShare(ee,te){return apiCall(`/api/course-shares?id=${encodeURIComponent(ee)}&ownerTeacherId=${encodeURIComponent(te)}`,{method:"DELETE"})}async function sendChatMessage(ee,te,ne,xe){try{return await apiCall("/api/chat",{method:"POST",body:JSON.stringify({history:ee,newMessage:te,systemInstruction:ne,language:xe})})}catch(rt){const it=rt instanceof Error?rt.message:String(rt);return it.includes("")||it.includes("Failed to fetch")?"":it.includes("API Key")||it.includes("not configured")?"":it.includes("timeout")||it.includes("")?"":""}}async function generateExitTicket(ee,te,ne,xe){try{return await apiCall("/api/exit-ticket",{method:"POST",body:JSON.stringify({chatLog:ee,language:te,studentName:ne||"",...xe&&{objectiveMetrics:xe}})})}catch(rt){return console.error("Exit Ticket Error",rt),null}}async function getSpeechVoices(){const ee=getBaseUrl$1(),te=await fetch(`${ee}/api/speech/voices`,{method:"GET"});if(!te.ok){const ne=await te.json().catch(()=>({}));throw new Error(ne.error||"Failed to fetch speech voices")}return te.json()}async function textToSpeech(ee,te,ne){const xe=getBaseUrl$1(),rt=await fetch(`${xe}/api/speech/tts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:ee,languageCode:te,voiceName:ne})});if(!rt.ok){const lt=await rt.json().catch(()=>({}));throw new Error(lt.error||"Text-to-speech synthesis failed")}return(await rt.json()).audioData}async function speechToText(ee,te){const ne=getBaseUrl$1(),xe=await fetch(`${ne}/api/speech/stt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioData:ee,languageCode:te})});if(!xe.ok){const it=await xe.json().catch(()=>({}));throw new Error(it.error||"Speech recognition failed")}return(await xe.json()).text}async function searchVideos(ee,te=5){const ne=new URLSearchParams({q:ee.trim(),maxResults:String(Math.min(te,10))});return apiCall(`/api/materials/video-search?${ne}`)}async function getVideoContent(ee){return apiCall("/api/materials/video-content",{method:"POST",body:JSON.stringify({url:ee.trim()})})}async function generateTaskDesign(ee){return apiCall("/api/materials/generate-task-design",{method:"POST",body:JSON.stringify({subject:ee.subject.trim(),topic:ee.topic.trim(),grade:ee.grade.trim(),duration:ee.duration,difficulty:ee.difficulty?.trim()||"",prerequisites:ee.prerequisites?.trim()||""})})}const backendApi=Object.freeze(Object.defineProperty({__proto__:null,addStudentToClassByEmail,assignCourseToClasses,createClass:createClass$1,createCourse,createCourseShare,deleteClass,deleteCourse,deleteCourseShare,deleteTask,generateCurriculumDesign,generateExitTicket,generateSystemTaskPlan,generateTaskAsset,generateTaskDesign,generateTaskDocuments,getClass,getCourse,getCourseAssignments,getSpeechVoices,getStudentCourses,getTask,getTeacherStats,getVideoContent,listCourseShares,listPublicTasks,listTeacherClasses,listTeacherCoursesWithStats,listTeacherTasks,removeCourseAssignment,removeStudentFromClass,restoreCourse,restoreTask,saveTask,searchVideos,sendChatMessage,speechToText,textToSpeech,updateCourseVisibility,updateTaskVisibility},Symbol.toStringTag,{value:"Module"})),PublishedCoursesContext=reactExports.createContext(void 0);function PublishedCoursesProvider({children:ee}){const{user:te}=useAuth(),[ne,xe]=reactExports.useState([]),rt=ct=>{const ut=`${ct.subject} - ${ct.topic}`,dt={...ct,title:ut,id:Date.now().toString(),publishedAt:new Date().toISOString(),status:"published",assignmentStatus:"assigned",visibilityStatus:"private",shareStatus:"none",students:0,completion:0,lastUpdated:""};xe(ht=>[dt,...ht])},it=reactExports.useCallback(async()=>{if(!te||te.role!=="teacher"){xe([]);return}try{const{courses:ct}=await listTeacherCoursesWithStats(te.id),ut=ct.map(dt=>({id:dt.id,title:dt.title,subject:dt.subject,grade:dt.grade,topic:dt.topic,textbook:dt.textbook??"",hours:"1",publishedAt:"",status:dt.status,assignmentStatus:dt.assignmentStatus??(dt.status==="published"?"assigned":"unassigned"),visibilityStatus:dt.visibilityStatus??"private",shareStatus:dt.shareStatus??"none",students:dt.students,completion:dt.completion,lastUpdated:dt.lastUpdated}));xe(ut)}catch(ct){console.error("[PublishedCoursesProvider] Failed to load courses:",ct)}},[te]);reactExports.useEffect(()=>{it()},[it]);const lt=reactExports.useCallback(async()=>{await it()},[it]);return jsxRuntimeExports.jsx(PublishedCoursesContext.Provider,{value:{publishedCourses:ne,addPublishedCourse:rt,refreshCourses:lt},children:ee})}function usePublishedCourses(){const ee=reactExports.useContext(PublishedCoursesContext);if(!ee)throw new Error("usePublishedCourses must be used within PublishedCoursesProvider");return ee}function setRef(ee,te){if(typeof ee=="function")return ee(te);ee!=null&&(ee.current=te)}function composeRefs(...ee){return te=>{let ne=!1;const xe=ee.map(rt=>{const it=setRef(rt,te);return!ne&&typeof it=="function"&&(ne=!0),it});if(ne)return()=>{for(let rt=0;rt<xe.length;rt++){const it=xe[rt];typeof it=="function"?it():setRef(ee[rt],null)}}}}function useComposedRefs(...ee){return reactExports.useCallback(composeRefs(...ee),ee)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$1[" use ".trim().toString()];function isPromiseLike(ee){return typeof ee=="object"&&ee!==null&&"then"in ee}function isLazyComponent(ee){return ee!=null&&typeof ee=="object"&&"$$typeof"in ee&&ee.$$typeof===REACT_LAZY_TYPE&&"_payload"in ee&&isPromiseLike(ee._payload)}function createSlot$4(ee){const te=createSlotClone$4(ee),ne=reactExports.forwardRef((xe,rt)=>{let{children:it,...lt}=xe;isLazyComponent(it)&&typeof use=="function"&&(it=use(it._payload));const ct=reactExports.Children.toArray(it),ut=ct.find(isSlottable$4);if(ut){const dt=ut.props.children,ht=ct.map(ft=>ft===ut?reactExports.Children.count(dt)>1?reactExports.Children.only(null):reactExports.isValidElement(dt)?dt.props.children:null:ft);return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:reactExports.isValidElement(dt)?reactExports.cloneElement(dt,void 0,ht):null})}return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:it})});return ne.displayName=`${ee}.Slot`,ne}var Slot$2=createSlot$4("Slot");function createSlotClone$4(ee){const te=reactExports.forwardRef((ne,xe)=>{let{children:rt,...it}=ne;if(isLazyComponent(rt)&&typeof use=="function"&&(rt=use(rt._payload)),reactExports.isValidElement(rt)){const lt=getElementRef$5(rt),ct=mergeProps$4(it,rt.props);return rt.type!==reactExports.Fragment&&(ct.ref=xe?composeRefs(xe,lt):lt),reactExports.cloneElement(rt,ct)}return reactExports.Children.count(rt)>1?reactExports.Children.only(null):null});return te.displayName=`${ee}.SlotClone`,te}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(ee){return reactExports.isValidElement(ee)&&typeof ee.type=="function"&&"__radixId"in ee.type&&ee.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(ee,te){const ne={...te};for(const xe in te){const rt=ee[xe],it=te[xe];/^on[A-Z]/.test(xe)?rt&&it?ne[xe]=(...ct)=>{const ut=it(...ct);return rt(...ct),ut}:rt&&(ne[xe]=rt):xe==="style"?ne[xe]={...rt,...it}:xe==="className"&&(ne[xe]=[rt,it].filter(Boolean).join(" "))}return{...ee,...ne}}function getElementRef$5(ee){let te=Object.getOwnPropertyDescriptor(ee.props,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning;return ne?ee.ref:(te=Object.getOwnPropertyDescriptor(ee,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning,ne?ee.props.ref:ee.props.ref||ee.ref)}function r$1(ee){var te,ne,xe="";if(typeof ee=="string"||typeof ee=="number")xe+=ee;else if(typeof ee=="object")if(Array.isArray(ee)){var rt=ee.length;for(te=0;te<rt;te++)ee[te]&&(ne=r$1(ee[te]))&&(xe&&(xe+=" "),xe+=ne)}else for(ne in ee)ee[ne]&&(xe&&(xe+=" "),xe+=ne);return xe}function clsx(){for(var ee,te,ne=0,xe="",rt=arguments.length;ne<rt;ne++)(ee=arguments[ne])&&(te=r$1(ee))&&(xe&&(xe+=" "),xe+=te);return xe}const falsyToString=ee=>typeof ee=="boolean"?`${ee}`:ee===0?"0":ee,cx=clsx,cva=(ee,te)=>ne=>{var xe;if(te?.variants==null)return cx(ee,ne?.class,ne?.className);const{variants:rt,defaultVariants:it}=te,lt=Object.keys(rt).map(dt=>{const ht=ne?.[dt],ft=it?.[dt];if(ht===null)return null;const pt=falsyToString(ht)||falsyToString(ft);return rt[dt][pt]}),ct=ne&&Object.entries(ne).reduce((dt,ht)=>{let[ft,pt]=ht;return pt===void 0||(dt[ft]=pt),dt},{}),ut=te==null||(xe=te.compoundVariants)===null||xe===void 0?void 0:xe.reduce((dt,ht)=>{let{class:ft,className:pt,...mt}=ht;return Object.entries(mt).every(xt=>{let[yt,vt]=xt;return Array.isArray(vt)?vt.includes({...it,...ct}[yt]):{...it,...ct}[yt]===vt})?[...dt,ft,pt]:dt},[]);return cx(ee,lt,ut,ne?.class,ne?.className)},concatArrays=(ee,te)=>{const ne=new Array(ee.length+te.length);for(let xe=0;xe<ee.length;xe++)ne[xe]=ee[xe];for(let xe=0;xe<te.length;xe++)ne[ee.length+xe]=te[xe];return ne},createClassValidatorObject=(ee,te)=>({classGroupId:ee,validator:te}),createClassPartObject=(ee=new Map,te=null,ne)=>({nextPart:ee,validators:te,classGroupId:ne}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=ee=>{const te=createClassMap(ee),{conflictingClassGroups:ne,conflictingClassGroupModifiers:xe}=ee;return{getClassGroupId:lt=>{if(lt.startsWith("[")&&lt.endsWith("]"))return getGroupIdForArbitraryProperty(lt);const ct=lt.split(CLASS_PART_SEPARATOR),ut=ct[0]===""&&ct.length>1?1:0;return getGroupRecursive(ct,ut,te)},getConflictingClassGroupIds:(lt,ct)=>{if(ct){const ut=xe[lt],dt=ne[lt];return ut?dt?concatArrays(dt,ut):ut:dt||EMPTY_CONFLICTS}return ne[lt]||EMPTY_CONFLICTS}}},getGroupRecursive=(ee,te,ne)=>{if(ee.length-te===0)return ne.classGroupId;const rt=ee[te],it=ne.nextPart.get(rt);if(it){const dt=getGroupRecursive(ee,te+1,it);if(dt)return dt}const lt=ne.validators;if(lt===null)return;const ct=te===0?ee.join(CLASS_PART_SEPARATOR):ee.slice(te).join(CLASS_PART_SEPARATOR),ut=lt.length;for(let dt=0;dt<ut;dt++){const ht=lt[dt];if(ht.validator(ct))return ht.classGroupId}},getGroupIdForArbitraryProperty=ee=>ee.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const te=ee.slice(1,-1),ne=te.indexOf(":"),xe=te.slice(0,ne);return xe?ARBITRARY_PROPERTY_PREFIX+xe:void 0})(),createClassMap=ee=>{const{theme:te,classGroups:ne}=ee;return processClassGroups(ne,te)},processClassGroups=(ee,te)=>{const ne=createClassPartObject();for(const xe in ee){const rt=ee[xe];processClassesRecursively(rt,ne,xe,te)}return ne},processClassesRecursively=(ee,te,ne,xe)=>{const rt=ee.length;for(let it=0;it<rt;it++){const lt=ee[it];processClassDefinition(lt,te,ne,xe)}},processClassDefinition=(ee,te,ne,xe)=>{if(typeof ee=="string"){processStringDefinition(ee,te,ne);return}if(typeof ee=="function"){processFunctionDefinition(ee,te,ne,xe);return}processObjectDefinition(ee,te,ne,xe)},processStringDefinition=(ee,te,ne)=>{const xe=ee===""?te:getPart(te,ee);xe.classGroupId=ne},processFunctionDefinition=(ee,te,ne,xe)=>{if(isThemeGetter(ee)){processClassesRecursively(ee(xe),te,ne,xe);return}te.validators===null&&(te.validators=[]),te.validators.push(createClassValidatorObject(ne,ee))},processObjectDefinition=(ee,te,ne,xe)=>{const rt=Object.entries(ee),it=rt.length;for(let lt=0;lt<it;lt++){const[ct,ut]=rt[lt];processClassesRecursively(ut,getPart(te,ct),ne,xe)}},getPart=(ee,te)=>{let ne=ee;const xe=te.split(CLASS_PART_SEPARATOR),rt=xe.length;for(let it=0;it<rt;it++){const lt=xe[it];let ct=ne.nextPart.get(lt);ct||(ct=createClassPartObject(),ne.nextPart.set(lt,ct)),ne=ct}return ne},isThemeGetter=ee=>"isThemeGetter"in ee&&ee.isThemeGetter===!0,createLruCache=ee=>{if(ee<1)return{get:()=>{},set:()=>{}};let te=0,ne=Object.create(null),xe=Object.create(null);const rt=(it,lt)=>{ne[it]=lt,te++,te>ee&&(te=0,xe=ne,ne=Object.create(null))};return{get(it){let lt=ne[it];if(lt!==void 0)return lt;if((lt=xe[it])!==void 0)return rt(it,lt),lt},set(it,lt){it in ne?ne[it]=lt:rt(it,lt)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(ee,te,ne,xe,rt)=>({modifiers:ee,hasImportantModifier:te,baseClassName:ne,maybePostfixModifierPosition:xe,isExternal:rt}),createParseClassName=ee=>{const{prefix:te,experimentalParseClassName:ne}=ee;let xe=rt=>{const it=[];let lt=0,ct=0,ut=0,dt;const ht=rt.length;for(let yt=0;yt<ht;yt++){const vt=rt[yt];if(lt===0&&ct===0){if(vt===MODIFIER_SEPARATOR){it.push(rt.slice(ut,yt)),ut=yt+1;continue}if(vt==="/"){dt=yt;continue}}vt==="["?lt++:vt==="]"?lt--:vt==="("?ct++:vt===")"&&ct--}const ft=it.length===0?rt:rt.slice(ut);let pt=ft,mt=!1;ft.endsWith(IMPORTANT_MODIFIER)?(pt=ft.slice(0,-1),mt=!0):ft.startsWith(IMPORTANT_MODIFIER)&&(pt=ft.slice(1),mt=!0);const xt=dt&&dt>ut?dt-ut:void 0;return createResultObject(it,mt,pt,xt)};if(te){const rt=te+MODIFIER_SEPARATOR,it=xe;xe=lt=>lt.startsWith(rt)?it(lt.slice(rt.length)):createResultObject(EMPTY_MODIFIERS,!1,lt,void 0,!0)}if(ne){const rt=xe;xe=it=>ne({className:it,parseClassName:rt})}return xe},createSortModifiers=ee=>{const te=new Map;return ee.orderSensitiveModifiers.forEach((ne,xe)=>{te.set(ne,1e6+xe)}),ne=>{const xe=[];let rt=[];for(let it=0;it<ne.length;it++){const lt=ne[it],ct=lt[0]==="[",ut=te.has(lt);ct||ut?(rt.length>0&&(rt.sort(),xe.push(...rt),rt=[]),xe.push(lt)):rt.push(lt)}return rt.length>0&&(rt.sort(),xe.push(...rt)),xe}},createConfigUtils=ee=>({cache:createLruCache(ee.cacheSize),parseClassName:createParseClassName(ee),sortModifiers:createSortModifiers(ee),...createClassGroupUtils(ee)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(ee,te)=>{const{parseClassName:ne,getClassGroupId:xe,getConflictingClassGroupIds:rt,sortModifiers:it}=te,lt=[],ct=ee.trim().split(SPLIT_CLASSES_REGEX);let ut="";for(let dt=ct.length-1;dt>=0;dt-=1){const ht=ct[dt],{isExternal:ft,modifiers:pt,hasImportantModifier:mt,baseClassName:xt,maybePostfixModifierPosition:yt}=ne(ht);if(ft){ut=ht+(ut.length>0?" "+ut:ut);continue}let vt=!!yt,Et=xe(vt?xt.substring(0,yt):xt);if(!Et){if(!vt){ut=ht+(ut.length>0?" "+ut:ut);continue}if(Et=xe(xt),!Et){ut=ht+(ut.length>0?" "+ut:ut);continue}vt=!1}const _t=pt.length===0?"":pt.length===1?pt[0]:it(pt).join(":"),wt=mt?_t+IMPORTANT_MODIFIER:_t,St=wt+Et;if(lt.indexOf(St)>-1)continue;lt.push(St);const Ct=rt(Et,vt);for(let jt=0;jt<Ct.length;++jt){const Rt=Ct[jt];lt.push(wt+Rt)}ut=ht+(ut.length>0?" "+ut:ut)}return ut},twJoin=(...ee)=>{let te=0,ne,xe,rt="";for(;te<ee.length;)(ne=ee[te++])&&(xe=toValue(ne))&&(rt&&(rt+=" "),rt+=xe);return rt},toValue=ee=>{if(typeof ee=="string")return ee;let te,ne="";for(let xe=0;xe<ee.length;xe++)ee[xe]&&(te=toValue(ee[xe]))&&(ne&&(ne+=" "),ne+=te);return ne},createTailwindMerge=(ee,...te)=>{let ne,xe,rt,it;const lt=ut=>{const dt=te.reduce((ht,ft)=>ft(ht),ee());return ne=createConfigUtils(dt),xe=ne.cache.get,rt=ne.cache.set,it=ct,ct(ut)},ct=ut=>{const dt=xe(ut);if(dt)return dt;const ht=mergeClassList(ut,ne);return rt(ut,ht),ht};return it=lt,(...ut)=>it(twJoin(...ut))},fallbackThemeArr=[],fromTheme=ee=>{const te=ne=>ne[ee]||fallbackThemeArr;return te.isThemeGetter=!0,te},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=ee=>fractionRegex.test(ee),isNumber$3=ee=>!!ee&&!Number.isNaN(Number(ee)),isInteger$1=ee=>!!ee&&Number.isInteger(Number(ee)),isPercent$1=ee=>ee.endsWith("%")&&isNumber$3(ee.slice(0,-1)),isTshirtSize=ee=>tshirtUnitRegex.test(ee),isAny=()=>!0,isLengthOnly=ee=>lengthUnitRegex.test(ee)&&!colorFunctionRegex.test(ee),isNever=()=>!1,isShadow=ee=>shadowRegex.test(ee),isImage=ee=>imageRegex.test(ee),isAnyNonArbitrary=ee=>!isArbitraryValue(ee)&&!isArbitraryVariable(ee),isArbitrarySize=ee=>getIsArbitraryValue(ee,isLabelSize,isNever),isArbitraryValue=ee=>arbitraryValueRegex.test(ee),isArbitraryLength=ee=>getIsArbitraryValue(ee,isLabelLength,isLengthOnly),isArbitraryNumber=ee=>getIsArbitraryValue(ee,isLabelNumber,isNumber$3),isArbitraryPosition=ee=>getIsArbitraryValue(ee,isLabelPosition,isNever),isArbitraryImage=ee=>getIsArbitraryValue(ee,isLabelImage,isImage),isArbitraryShadow=ee=>getIsArbitraryValue(ee,isLabelShadow,isShadow),isArbitraryVariable=ee=>arbitraryVariableRegex.test(ee),isArbitraryVariableLength=ee=>getIsArbitraryVariable(ee,isLabelLength),isArbitraryVariableFamilyName=ee=>getIsArbitraryVariable(ee,isLabelFamilyName),isArbitraryVariablePosition=ee=>getIsArbitraryVariable(ee,isLabelPosition),isArbitraryVariableSize=ee=>getIsArbitraryVariable(ee,isLabelSize),isArbitraryVariableImage=ee=>getIsArbitraryVariable(ee,isLabelImage),isArbitraryVariableShadow=ee=>getIsArbitraryVariable(ee,isLabelShadow,!0),getIsArbitraryValue=(ee,te,ne)=>{const xe=arbitraryValueRegex.exec(ee);return xe?xe[1]?te(xe[1]):ne(xe[2]):!1},getIsArbitraryVariable=(ee,te,ne=!1)=>{const xe=arbitraryVariableRegex.exec(ee);return xe?xe[1]?te(xe[1]):ne:!1},isLabelPosition=ee=>ee==="position"||ee==="percentage",isLabelImage=ee=>ee==="image"||ee==="url",isLabelSize=ee=>ee==="length"||ee==="size"||ee==="bg-size",isLabelLength=ee=>ee==="length",isLabelNumber=ee=>ee==="number",isLabelFamilyName=ee=>ee==="family-name",isLabelShadow=ee=>ee==="shadow",getDefaultConfig=()=>{const ee=fromTheme("color"),te=fromTheme("font"),ne=fromTheme("text"),xe=fromTheme("font-weight"),rt=fromTheme("tracking"),it=fromTheme("leading"),lt=fromTheme("breakpoint"),ct=fromTheme("container"),ut=fromTheme("spacing"),dt=fromTheme("radius"),ht=fromTheme("shadow"),ft=fromTheme("inset-shadow"),pt=fromTheme("text-shadow"),mt=fromTheme("drop-shadow"),xt=fromTheme("blur"),yt=fromTheme("perspective"),vt=fromTheme("aspect"),Et=fromTheme("ease"),_t=fromTheme("animate"),wt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],St=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Ct=()=>[...St(),isArbitraryVariable,isArbitraryValue],jt=()=>["auto","hidden","clip","visible","scroll"],Rt=()=>["auto","contain","none"],Pt=()=>[isArbitraryVariable,isArbitraryValue,ut],Ot=()=>[isFraction,"full","auto",...Pt()],Ft=()=>[isInteger$1,"none","subgrid",isArbitraryVariable,isArbitraryValue],Lt=()=>["auto",{span:["full",isInteger$1,isArbitraryVariable,isArbitraryValue]},isInteger$1,isArbitraryVariable,isArbitraryValue],Bt=()=>[isInteger$1,"auto",isArbitraryVariable,isArbitraryValue],Gt=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],It=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],qt=()=>["start","end","center","stretch","center-safe","end-safe"],Nt=()=>["auto",...Pt()],Dt=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Pt()],Tt=()=>[ee,isArbitraryVariable,isArbitraryValue],Mt=()=>[...St(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],$t=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ht=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Wt=()=>[isPercent$1,isArbitraryVariableLength,isArbitraryLength],Vt=()=>["","none","full",dt,isArbitraryVariable,isArbitraryValue],Yt=()=>["",isNumber$3,isArbitraryVariableLength,isArbitraryLength],Qt=()=>["solid","dashed","dotted","double"],ar=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Xt=()=>[isNumber$3,isPercent$1,isArbitraryVariablePosition,isArbitraryPosition],tr=()=>["","none",xt,isArbitraryVariable,isArbitraryValue],rr=()=>["none",isNumber$3,isArbitraryVariable,isArbitraryValue],ur=()=>["none",isNumber$3,isArbitraryVariable,isArbitraryValue],Jt=()=>[isNumber$3,isArbitraryVariable,isArbitraryValue],Zt=()=>[isFraction,"full",...Pt()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$3],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,vt]}],container:["container"],columns:[{columns:[isNumber$3,isArbitraryValue,isArbitraryVariable,ct]}],"break-after":[{"break-after":wt()}],"break-before":[{"break-before":wt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Ct()}],overflow:[{overflow:jt()}],"overflow-x":[{"overflow-x":jt()}],"overflow-y":[{"overflow-y":jt()}],overscroll:[{overscroll:Rt()}],"overscroll-x":[{"overscroll-x":Rt()}],"overscroll-y":[{"overscroll-y":Rt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Ot()}],"inset-x":[{"inset-x":Ot()}],"inset-y":[{"inset-y":Ot()}],start:[{start:Ot()}],end:[{end:Ot()}],top:[{top:Ot()}],right:[{right:Ot()}],bottom:[{bottom:Ot()}],left:[{left:Ot()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger$1,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",ct,...Pt()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$3,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger$1,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":Ft()}],"col-start-end":[{col:Lt()}],"col-start":[{"col-start":Bt()}],"col-end":[{"col-end":Bt()}],"grid-rows":[{"grid-rows":Ft()}],"row-start-end":[{row:Lt()}],"row-start":[{"row-start":Bt()}],"row-end":[{"row-end":Bt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Gt()}],"auto-rows":[{"auto-rows":Gt()}],gap:[{gap:Pt()}],"gap-x":[{"gap-x":Pt()}],"gap-y":[{"gap-y":Pt()}],"justify-content":[{justify:[...It(),"normal"]}],"justify-items":[{"justify-items":[...qt(),"normal"]}],"justify-self":[{"justify-self":["auto",...qt()]}],"align-content":[{content:["normal",...It()]}],"align-items":[{items:[...qt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...qt(),{baseline:["","last"]}]}],"place-content":[{"place-content":It()}],"place-items":[{"place-items":[...qt(),"baseline"]}],"place-self":[{"place-self":["auto",...qt()]}],p:[{p:Pt()}],px:[{px:Pt()}],py:[{py:Pt()}],ps:[{ps:Pt()}],pe:[{pe:Pt()}],pt:[{pt:Pt()}],pr:[{pr:Pt()}],pb:[{pb:Pt()}],pl:[{pl:Pt()}],m:[{m:Nt()}],mx:[{mx:Nt()}],my:[{my:Nt()}],ms:[{ms:Nt()}],me:[{me:Nt()}],mt:[{mt:Nt()}],mr:[{mr:Nt()}],mb:[{mb:Nt()}],ml:[{ml:Nt()}],"space-x":[{"space-x":Pt()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Pt()}],"space-y-reverse":["space-y-reverse"],size:[{size:Dt()}],w:[{w:[ct,"screen",...Dt()]}],"min-w":[{"min-w":[ct,"screen","none",...Dt()]}],"max-w":[{"max-w":[ct,"screen","none","prose",{screen:[lt]},...Dt()]}],h:[{h:["screen","lh",...Dt()]}],"min-h":[{"min-h":["screen","lh","none",...Dt()]}],"max-h":[{"max-h":["screen","lh",...Dt()]}],"font-size":[{text:["base",ne,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[xe,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent$1,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,te]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[rt,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$3,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[it,...Pt()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Tt()}],"text-color":[{text:Tt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Qt(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$3,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Tt()}],"underline-offset":[{"underline-offset":[isNumber$3,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Pt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Mt()}],"bg-repeat":[{bg:$t()}],"bg-size":[{bg:Ht()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger$1,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger$1,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Tt()}],"gradient-from-pos":[{from:Wt()}],"gradient-via-pos":[{via:Wt()}],"gradient-to-pos":[{to:Wt()}],"gradient-from":[{from:Tt()}],"gradient-via":[{via:Tt()}],"gradient-to":[{to:Tt()}],rounded:[{rounded:Vt()}],"rounded-s":[{"rounded-s":Vt()}],"rounded-e":[{"rounded-e":Vt()}],"rounded-t":[{"rounded-t":Vt()}],"rounded-r":[{"rounded-r":Vt()}],"rounded-b":[{"rounded-b":Vt()}],"rounded-l":[{"rounded-l":Vt()}],"rounded-ss":[{"rounded-ss":Vt()}],"rounded-se":[{"rounded-se":Vt()}],"rounded-ee":[{"rounded-ee":Vt()}],"rounded-es":[{"rounded-es":Vt()}],"rounded-tl":[{"rounded-tl":Vt()}],"rounded-tr":[{"rounded-tr":Vt()}],"rounded-br":[{"rounded-br":Vt()}],"rounded-bl":[{"rounded-bl":Vt()}],"border-w":[{border:Yt()}],"border-w-x":[{"border-x":Yt()}],"border-w-y":[{"border-y":Yt()}],"border-w-s":[{"border-s":Yt()}],"border-w-e":[{"border-e":Yt()}],"border-w-t":[{"border-t":Yt()}],"border-w-r":[{"border-r":Yt()}],"border-w-b":[{"border-b":Yt()}],"border-w-l":[{"border-l":Yt()}],"divide-x":[{"divide-x":Yt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Yt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Qt(),"hidden","none"]}],"divide-style":[{divide:[...Qt(),"hidden","none"]}],"border-color":[{border:Tt()}],"border-color-x":[{"border-x":Tt()}],"border-color-y":[{"border-y":Tt()}],"border-color-s":[{"border-s":Tt()}],"border-color-e":[{"border-e":Tt()}],"border-color-t":[{"border-t":Tt()}],"border-color-r":[{"border-r":Tt()}],"border-color-b":[{"border-b":Tt()}],"border-color-l":[{"border-l":Tt()}],"divide-color":[{divide:Tt()}],"outline-style":[{outline:[...Qt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$3,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Tt()}],shadow:[{shadow:["","none",ht,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Tt()}],"inset-shadow":[{"inset-shadow":["none",ft,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Tt()}],"ring-w":[{ring:Yt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Tt()}],"ring-offset-w":[{"ring-offset":[isNumber$3,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Tt()}],"inset-ring-w":[{"inset-ring":Yt()}],"inset-ring-color":[{"inset-ring":Tt()}],"text-shadow":[{"text-shadow":["none",pt,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Tt()}],opacity:[{opacity:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...ar(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ar()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$3]}],"mask-image-linear-from-pos":[{"mask-linear-from":Xt()}],"mask-image-linear-to-pos":[{"mask-linear-to":Xt()}],"mask-image-linear-from-color":[{"mask-linear-from":Tt()}],"mask-image-linear-to-color":[{"mask-linear-to":Tt()}],"mask-image-t-from-pos":[{"mask-t-from":Xt()}],"mask-image-t-to-pos":[{"mask-t-to":Xt()}],"mask-image-t-from-color":[{"mask-t-from":Tt()}],"mask-image-t-to-color":[{"mask-t-to":Tt()}],"mask-image-r-from-pos":[{"mask-r-from":Xt()}],"mask-image-r-to-pos":[{"mask-r-to":Xt()}],"mask-image-r-from-color":[{"mask-r-from":Tt()}],"mask-image-r-to-color":[{"mask-r-to":Tt()}],"mask-image-b-from-pos":[{"mask-b-from":Xt()}],"mask-image-b-to-pos":[{"mask-b-to":Xt()}],"mask-image-b-from-color":[{"mask-b-from":Tt()}],"mask-image-b-to-color":[{"mask-b-to":Tt()}],"mask-image-l-from-pos":[{"mask-l-from":Xt()}],"mask-image-l-to-pos":[{"mask-l-to":Xt()}],"mask-image-l-from-color":[{"mask-l-from":Tt()}],"mask-image-l-to-color":[{"mask-l-to":Tt()}],"mask-image-x-from-pos":[{"mask-x-from":Xt()}],"mask-image-x-to-pos":[{"mask-x-to":Xt()}],"mask-image-x-from-color":[{"mask-x-from":Tt()}],"mask-image-x-to-color":[{"mask-x-to":Tt()}],"mask-image-y-from-pos":[{"mask-y-from":Xt()}],"mask-image-y-to-pos":[{"mask-y-to":Xt()}],"mask-image-y-from-color":[{"mask-y-from":Tt()}],"mask-image-y-to-color":[{"mask-y-to":Tt()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Xt()}],"mask-image-radial-to-pos":[{"mask-radial-to":Xt()}],"mask-image-radial-from-color":[{"mask-radial-from":Tt()}],"mask-image-radial-to-color":[{"mask-radial-to":Tt()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":St()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$3]}],"mask-image-conic-from-pos":[{"mask-conic-from":Xt()}],"mask-image-conic-to-pos":[{"mask-conic-to":Xt()}],"mask-image-conic-from-color":[{"mask-conic-from":Tt()}],"mask-image-conic-to-color":[{"mask-conic-to":Tt()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Mt()}],"mask-repeat":[{mask:$t()}],"mask-size":[{mask:Ht()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:tr()}],brightness:[{brightness:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",mt,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Tt()}],grayscale:[{grayscale:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":tr()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Pt()}],"border-spacing-x":[{"border-spacing-x":Pt()}],"border-spacing-y":[{"border-spacing-y":Pt()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$3,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",Et,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",_t,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[yt,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":Ct()}],rotate:[{rotate:rr()}],"rotate-x":[{"rotate-x":rr()}],"rotate-y":[{"rotate-y":rr()}],"rotate-z":[{"rotate-z":rr()}],scale:[{scale:ur()}],"scale-x":[{"scale-x":ur()}],"scale-y":[{"scale-y":ur()}],"scale-z":[{"scale-z":ur()}],"scale-3d":["scale-3d"],skew:[{skew:Jt()}],"skew-x":[{"skew-x":Jt()}],"skew-y":[{"skew-y":Jt()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:Ct()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Zt()}],"translate-x":[{"translate-x":Zt()}],"translate-y":[{"translate-y":Zt()}],"translate-z":[{"translate-z":Zt()}],"translate-none":["translate-none"],accent:[{accent:Tt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Tt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Pt()}],"scroll-mx":[{"scroll-mx":Pt()}],"scroll-my":[{"scroll-my":Pt()}],"scroll-ms":[{"scroll-ms":Pt()}],"scroll-me":[{"scroll-me":Pt()}],"scroll-mt":[{"scroll-mt":Pt()}],"scroll-mr":[{"scroll-mr":Pt()}],"scroll-mb":[{"scroll-mb":Pt()}],"scroll-ml":[{"scroll-ml":Pt()}],"scroll-p":[{"scroll-p":Pt()}],"scroll-px":[{"scroll-px":Pt()}],"scroll-py":[{"scroll-py":Pt()}],"scroll-ps":[{"scroll-ps":Pt()}],"scroll-pe":[{"scroll-pe":Pt()}],"scroll-pt":[{"scroll-pt":Pt()}],"scroll-pr":[{"scroll-pr":Pt()}],"scroll-pb":[{"scroll-pb":Pt()}],"scroll-pl":[{"scroll-pl":Pt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Tt()]}],"stroke-w":[{stroke:[isNumber$3,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Tt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...ee){return twMerge(clsx(ee))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Button({className:ee,variant:te,size:ne,asChild:xe=!1,...rt}){const it=xe?Slot$2:"button";return jsxRuntimeExports.jsx(it,{"data-slot":"button",className:cn(buttonVariants({variant:te,size:ne,className:ee})),...rt})}function Input({className:ee,type:te,...ne}){return jsxRuntimeExports.jsx("input",{type:te,"data-slot":"input",className:cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",ee),...ne})}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((ee,te)=>{const ne=createSlot$4(`Primitive.${te}`),xe=reactExports.forwardRef((rt,it)=>{const{asChild:lt,...ct}=rt,ut=lt?ne:te;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(ut,{...ct,ref:it})});return xe.displayName=`Primitive.${te}`,{...ee,[te]:xe}},{}),NAME$2="Label",Label$2=reactExports.forwardRef((ee,te)=>jsxRuntimeExports.jsx(Primitive$3.label,{...ee,ref:te,onMouseDown:ne=>{ne.target.closest("button, input, select, textarea")||(ee.onMouseDown?.(ne),!ne.defaultPrevented&&ne.detail>1&&ne.preventDefault())}}));Label$2.displayName=NAME$2;var Root$8=Label$2;function Label$1({className:ee,...te}){return jsxRuntimeExports.jsx(Root$8,{"data-slot":"label",className:cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",ee),...te})}function Card({className:ee,...te}){return jsxRuntimeExports.jsx("div",{"data-slot":"card",className:cn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",ee),...te})}function CardHeader({className:ee,...te}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-header",className:cn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",ee),...te})}function CardTitle({className:ee,...te}){return jsxRuntimeExports.jsx("h4",{"data-slot":"card-title",className:cn("leading-none",ee),...te})}function CardDescription({className:ee,...te}){return jsxRuntimeExports.jsx("p",{"data-slot":"card-description",className:cn("text-muted-foreground",ee),...te})}function CardContent({className:ee,...te}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-content",className:cn("px-6 [&:last-child]:pb-6",ee),...te})}function composeEventHandlers(ee,te,{checkForDefaultPrevented:ne=!0}={}){return function(rt){if(ee?.(rt),ne===!1||!rt.defaultPrevented)return te?.(rt)}}function createContext2(ee,te){const ne=reactExports.createContext(te),xe=it=>{const{children:lt,...ct}=it,ut=reactExports.useMemo(()=>ct,Object.values(ct));return jsxRuntimeExports.jsx(ne.Provider,{value:ut,children:lt})};xe.displayName=ee+"Provider";function rt(it){const lt=reactExports.useContext(ne);if(lt)return lt;if(te!==void 0)return te;throw new Error(`\`${it}\` must be used within \`${ee}\``)}return[xe,rt]}function createContextScope$2(ee,te=[]){let ne=[];function xe(it,lt){const ct=reactExports.createContext(lt),ut=ne.length;ne=[...ne,lt];const dt=ft=>{const{scope:pt,children:mt,...xt}=ft,yt=pt?.[ee]?.[ut]||ct,vt=reactExports.useMemo(()=>xt,Object.values(xt));return jsxRuntimeExports.jsx(yt.Provider,{value:vt,children:mt})};dt.displayName=it+"Provider";function ht(ft,pt){const mt=pt?.[ee]?.[ut]||ct,xt=reactExports.useContext(mt);if(xt)return xt;if(lt!==void 0)return lt;throw new Error(`\`${ft}\` must be used within \`${it}\``)}return[dt,ht]}const rt=()=>{const it=ne.map(lt=>reactExports.createContext(lt));return function(ct){const ut=ct?.[ee]||it;return reactExports.useMemo(()=>({[`__scope${ee}`]:{...ct,[ee]:ut}}),[ct,ut])}};return rt.scopeName=ee,[xe,composeContextScopes$2(rt,...te)]}function composeContextScopes$2(...ee){const te=ee[0];if(ee.length===1)return te;const ne=()=>{const xe=ee.map(rt=>({useScope:rt(),scopeName:rt.scopeName}));return function(it){const lt=xe.reduce((ct,{useScope:ut,scopeName:dt})=>{const ft=ut(it)[`__scope${dt}`];return{...ct,...ft}},{});return reactExports.useMemo(()=>({[`__scope${te.scopeName}`]:lt}),[lt])}};return ne.scopeName=te.scopeName,ne}function createSlot$3(ee){const te=createSlotClone$3(ee),ne=reactExports.forwardRef((xe,rt)=>{const{children:it,...lt}=xe,ct=reactExports.Children.toArray(it),ut=ct.find(isSlottable$3);if(ut){const dt=ut.props.children,ht=ct.map(ft=>ft===ut?reactExports.Children.count(dt)>1?reactExports.Children.only(null):reactExports.isValidElement(dt)?dt.props.children:null:ft);return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:reactExports.isValidElement(dt)?reactExports.cloneElement(dt,void 0,ht):null})}return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:it})});return ne.displayName=`${ee}.Slot`,ne}function createSlotClone$3(ee){const te=reactExports.forwardRef((ne,xe)=>{const{children:rt,...it}=ne;if(reactExports.isValidElement(rt)){const lt=getElementRef$4(rt),ct=mergeProps$3(it,rt.props);return rt.type!==reactExports.Fragment&&(ct.ref=xe?composeRefs(xe,lt):lt),reactExports.cloneElement(rt,ct)}return reactExports.Children.count(rt)>1?reactExports.Children.only(null):null});return te.displayName=`${ee}.SlotClone`,te}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(ee){return reactExports.isValidElement(ee)&&typeof ee.type=="function"&&"__radixId"in ee.type&&ee.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(ee,te){const ne={...te};for(const xe in te){const rt=ee[xe],it=te[xe];/^on[A-Z]/.test(xe)?rt&&it?ne[xe]=(...ct)=>{const ut=it(...ct);return rt(...ct),ut}:rt&&(ne[xe]=rt):xe==="style"?ne[xe]={...rt,...it}:xe==="className"&&(ne[xe]=[rt,it].filter(Boolean).join(" "))}return{...ee,...ne}}function getElementRef$4(ee){let te=Object.getOwnPropertyDescriptor(ee.props,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning;return ne?ee.ref:(te=Object.getOwnPropertyDescriptor(ee,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning,ne?ee.props.ref:ee.props.ref||ee.ref)}function createCollection(ee){const te=ee+"CollectionProvider",[ne,xe]=createContextScope$2(te),[rt,it]=ne(te,{collectionRef:{current:null},itemMap:new Map}),lt=yt=>{const{scope:vt,children:Et}=yt,_t=React.useRef(null),wt=React.useRef(new Map).current;return jsxRuntimeExports.jsx(rt,{scope:vt,itemMap:wt,collectionRef:_t,children:Et})};lt.displayName=te;const ct=ee+"CollectionSlot",ut=createSlot$3(ct),dt=React.forwardRef((yt,vt)=>{const{scope:Et,children:_t}=yt,wt=it(ct,Et),St=useComposedRefs(vt,wt.collectionRef);return jsxRuntimeExports.jsx(ut,{ref:St,children:_t})});dt.displayName=ct;const ht=ee+"CollectionItemSlot",ft="data-radix-collection-item",pt=createSlot$3(ht),mt=React.forwardRef((yt,vt)=>{const{scope:Et,children:_t,...wt}=yt,St=React.useRef(null),Ct=useComposedRefs(vt,St),jt=it(ht,Et);return React.useEffect(()=>(jt.itemMap.set(St,{ref:St,...wt}),()=>void jt.itemMap.delete(St))),jsxRuntimeExports.jsx(pt,{[ft]:"",ref:Ct,children:_t})});mt.displayName=ht;function xt(yt){const vt=it(ee+"CollectionConsumer",yt);return React.useCallback(()=>{const _t=vt.collectionRef.current;if(!_t)return[];const wt=Array.from(_t.querySelectorAll(`[${ft}]`));return Array.from(vt.itemMap.values()).sort((jt,Rt)=>wt.indexOf(jt.ref.current)-wt.indexOf(Rt.ref.current))},[vt.collectionRef,vt.itemMap])}return[{Provider:lt,Slot:dt,ItemSlot:mt},xt,xe]}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId(ee){const[te,ne]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{ne(xe=>xe??String(count$1++))},[ee]),ee||(te?`radix-${te}`:"")}function createSlot$2(ee){const te=createSlotClone$2(ee),ne=reactExports.forwardRef((xe,rt)=>{const{children:it,...lt}=xe,ct=reactExports.Children.toArray(it),ut=ct.find(isSlottable$2);if(ut){const dt=ut.props.children,ht=ct.map(ft=>ft===ut?reactExports.Children.count(dt)>1?reactExports.Children.only(null):reactExports.isValidElement(dt)?dt.props.children:null:ft);return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:reactExports.isValidElement(dt)?reactExports.cloneElement(dt,void 0,ht):null})}return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:it})});return ne.displayName=`${ee}.Slot`,ne}function createSlotClone$2(ee){const te=reactExports.forwardRef((ne,xe)=>{const{children:rt,...it}=ne;if(reactExports.isValidElement(rt)){const lt=getElementRef$3(rt),ct=mergeProps$2(it,rt.props);return rt.type!==reactExports.Fragment&&(ct.ref=xe?composeRefs(xe,lt):lt),reactExports.cloneElement(rt,ct)}return reactExports.Children.count(rt)>1?reactExports.Children.only(null):null});return te.displayName=`${ee}.SlotClone`,te}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(ee){return reactExports.isValidElement(ee)&&typeof ee.type=="function"&&"__radixId"in ee.type&&ee.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(ee,te){const ne={...te};for(const xe in te){const rt=ee[xe],it=te[xe];/^on[A-Z]/.test(xe)?rt&&it?ne[xe]=(...ct)=>{const ut=it(...ct);return rt(...ct),ut}:rt&&(ne[xe]=rt):xe==="style"?ne[xe]={...rt,...it}:xe==="className"&&(ne[xe]=[rt,it].filter(Boolean).join(" "))}return{...ee,...ne}}function getElementRef$3(ee){let te=Object.getOwnPropertyDescriptor(ee.props,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning;return ne?ee.ref:(te=Object.getOwnPropertyDescriptor(ee,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning,ne?ee.props.ref:ee.props.ref||ee.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((ee,te)=>{const ne=createSlot$2(`Primitive.${te}`),xe=reactExports.forwardRef((rt,it)=>{const{asChild:lt,...ct}=rt,ut=lt?ne:te;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(ut,{...ct,ref:it})});return xe.displayName=`Primitive.${te}`,{...ee,[te]:xe}},{});function dispatchDiscreteCustomEvent(ee,te){ee&&reactDomExports.flushSync(()=>ee.dispatchEvent(te))}function useCallbackRef$1(ee){const te=reactExports.useRef(ee);return reactExports.useEffect(()=>{te.current=ee}),reactExports.useMemo(()=>(...ne)=>te.current?.(...ne),[])}var useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:ee,defaultProp:te,onChange:ne=()=>{},caller:xe}){const[rt,it,lt]=useUncontrolledState({defaultProp:te,onChange:ne}),ct=ee!==void 0,ut=ct?ee:rt;{const ht=reactExports.useRef(ee!==void 0);reactExports.useEffect(()=>{const ft=ht.current;ft!==ct&&console.warn(`${xe} is changing from ${ft?"controlled":"uncontrolled"} to ${ct?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),ht.current=ct},[ct,xe])}const dt=reactExports.useCallback(ht=>{if(ct){const ft=isFunction$2(ht)?ht(ee):ht;ft!==ee&&lt.current?.(ft)}else it(ht)},[ct,ee,it,lt]);return[ut,dt]}function useUncontrolledState({defaultProp:ee,onChange:te}){const[ne,xe]=reactExports.useState(ee),rt=reactExports.useRef(ne),it=reactExports.useRef(te);return useInsertionEffect(()=>{it.current=te},[te]),reactExports.useEffect(()=>{rt.current!==ne&&(it.current?.(ne),rt.current=ne)},[ne,rt]),[ne,xe,it]}function isFunction$2(ee){return typeof ee=="function"}var DirectionContext=reactExports.createContext(void 0);function useDirection(ee){const te=reactExports.useContext(DirectionContext);return ee||te||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME$1="RovingFocusGroup",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(GROUP_NAME$1),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope$2(GROUP_NAME$1,[createCollectionScope$3]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$1),RovingFocusGroup=reactExports.forwardRef((ee,te)=>jsxRuntimeExports.jsx(Collection$3.Provider,{scope:ee.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:ee.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...ee,ref:te})})}));RovingFocusGroup.displayName=GROUP_NAME$1;var RovingFocusGroupImpl=reactExports.forwardRef((ee,te)=>{const{__scopeRovingFocusGroup:ne,orientation:xe,loop:rt=!1,dir:it,currentTabStopId:lt,defaultCurrentTabStopId:ct,onCurrentTabStopIdChange:ut,onEntryFocus:dt,preventScrollOnEntryFocus:ht=!1,...ft}=ee,pt=reactExports.useRef(null),mt=useComposedRefs(te,pt),xt=useDirection(it),[yt,vt]=useControllableState({prop:lt,defaultProp:ct??null,onChange:ut,caller:GROUP_NAME$1}),[Et,_t]=reactExports.useState(!1),wt=useCallbackRef$1(dt),St=useCollection$3(ne),Ct=reactExports.useRef(!1),[jt,Rt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Pt=pt.current;if(Pt)return Pt.addEventListener(ENTRY_FOCUS,wt),()=>Pt.removeEventListener(ENTRY_FOCUS,wt)},[wt]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:ne,orientation:xe,dir:xt,loop:rt,currentTabStopId:yt,onItemFocus:reactExports.useCallback(Pt=>vt(Pt),[vt]),onItemShiftTab:reactExports.useCallback(()=>_t(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Rt(Pt=>Pt+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Rt(Pt=>Pt-1),[]),children:jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:Et||jt===0?-1:0,"data-orientation":xe,...ft,ref:mt,style:{outline:"none",...ee.style},onMouseDown:composeEventHandlers(ee.onMouseDown,()=>{Ct.current=!0}),onFocus:composeEventHandlers(ee.onFocus,Pt=>{const Ot=!Ct.current;if(Pt.target===Pt.currentTarget&&Ot&&!Et){const Ft=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(Pt.currentTarget.dispatchEvent(Ft),!Ft.defaultPrevented){const Lt=St().filter(Nt=>Nt.focusable),Bt=Lt.find(Nt=>Nt.active),Gt=Lt.find(Nt=>Nt.id===yt),qt=[Bt,Gt,...Lt].filter(Boolean).map(Nt=>Nt.ref.current);focusFirst$1(qt,ht)}}Ct.current=!1}),onBlur:composeEventHandlers(ee.onBlur,()=>_t(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((ee,te)=>{const{__scopeRovingFocusGroup:ne,focusable:xe=!0,active:rt=!1,tabStopId:it,children:lt,...ct}=ee,ut=useId(),dt=it||ut,ht=useRovingFocusContext(ITEM_NAME$2,ne),ft=ht.currentTabStopId===dt,pt=useCollection$3(ne),{onFocusableItemAdd:mt,onFocusableItemRemove:xt,currentTabStopId:yt}=ht;return reactExports.useEffect(()=>{if(xe)return mt(),()=>xt()},[xe,mt,xt]),jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:ne,id:dt,focusable:xe,active:rt,children:jsxRuntimeExports.jsx(Primitive$2.span,{tabIndex:ft?0:-1,"data-orientation":ht.orientation,...ct,ref:te,onMouseDown:composeEventHandlers(ee.onMouseDown,vt=>{xe?ht.onItemFocus(dt):vt.preventDefault()}),onFocus:composeEventHandlers(ee.onFocus,()=>ht.onItemFocus(dt)),onKeyDown:composeEventHandlers(ee.onKeyDown,vt=>{if(vt.key==="Tab"&&vt.shiftKey){ht.onItemShiftTab();return}if(vt.target!==vt.currentTarget)return;const Et=getFocusIntent(vt,ht.orientation,ht.dir);if(Et!==void 0){if(vt.metaKey||vt.ctrlKey||vt.altKey||vt.shiftKey)return;vt.preventDefault();let wt=pt().filter(St=>St.focusable).map(St=>St.ref.current);if(Et==="last")wt.reverse();else if(Et==="prev"||Et==="next"){Et==="prev"&&wt.reverse();const St=wt.indexOf(vt.currentTarget);wt=ht.loop?wrapArray$1(wt,St+1):wt.slice(St+1)}setTimeout(()=>focusFirst$1(wt))}}),children:typeof lt=="function"?lt({isCurrentTabStop:ft,hasTabStop:yt!=null}):lt})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(ee,te){return te!=="rtl"?ee:ee==="ArrowLeft"?"ArrowRight":ee==="ArrowRight"?"ArrowLeft":ee}function getFocusIntent(ee,te,ne){const xe=getDirectionAwareKey(ee.key,ne);if(!(te==="vertical"&&["ArrowLeft","ArrowRight"].includes(xe))&&!(te==="horizontal"&&["ArrowUp","ArrowDown"].includes(xe)))return MAP_KEY_TO_FOCUS_INTENT[xe]}function focusFirst$1(ee,te=!1){const ne=document.activeElement;for(const xe of ee)if(xe===ne||(xe.focus({preventScroll:te}),document.activeElement!==ne))return}function wrapArray$1(ee,te){return ee.map((ne,xe)=>ee[(te+xe)%ee.length])}var Root$7=RovingFocusGroup,Item$2=RovingFocusGroupItem;function useStateMachine(ee,te){return reactExports.useReducer((ne,xe)=>te[ne][xe]??ne,ee)}var Presence=ee=>{const{present:te,children:ne}=ee,xe=usePresence(te),rt=typeof ne=="function"?ne({present:xe.isPresent}):reactExports.Children.only(ne),it=useComposedRefs(xe.ref,getElementRef$2(rt));return typeof ne=="function"||xe.isPresent?reactExports.cloneElement(rt,{ref:it}):null};Presence.displayName="Presence";function usePresence(ee){const[te,ne]=reactExports.useState(),xe=reactExports.useRef(null),rt=reactExports.useRef(ee),it=reactExports.useRef("none"),lt=ee?"mounted":"unmounted",[ct,ut]=useStateMachine(lt,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const dt=getAnimationName(xe.current);it.current=ct==="mounted"?dt:"none"},[ct]),useLayoutEffect2(()=>{const dt=xe.current,ht=rt.current;if(ht!==ee){const pt=it.current,mt=getAnimationName(dt);ee?ut("MOUNT"):mt==="none"||dt?.display==="none"?ut("UNMOUNT"):ut(ht&&pt!==mt?"ANIMATION_OUT":"UNMOUNT"),rt.current=ee}},[ee,ut]),useLayoutEffect2(()=>{if(te){let dt;const ht=te.ownerDocument.defaultView??window,ft=mt=>{const yt=getAnimationName(xe.current).includes(CSS.escape(mt.animationName));if(mt.target===te&&yt&&(ut("ANIMATION_END"),!rt.current)){const vt=te.style.animationFillMode;te.style.animationFillMode="forwards",dt=ht.setTimeout(()=>{te.style.animationFillMode==="forwards"&&(te.style.animationFillMode=vt)})}},pt=mt=>{mt.target===te&&(it.current=getAnimationName(xe.current))};return te.addEventListener("animationstart",pt),te.addEventListener("animationcancel",ft),te.addEventListener("animationend",ft),()=>{ht.clearTimeout(dt),te.removeEventListener("animationstart",pt),te.removeEventListener("animationcancel",ft),te.removeEventListener("animationend",ft)}}else ut("ANIMATION_END")},[te,ut]),{isPresent:["mounted","unmountSuspended"].includes(ct),ref:reactExports.useCallback(dt=>{xe.current=dt?getComputedStyle(dt):null,ne(dt)},[])}}function getAnimationName(ee){return ee?.animationName||"none"}function getElementRef$2(ee){let te=Object.getOwnPropertyDescriptor(ee.props,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning;return ne?ee.ref:(te=Object.getOwnPropertyDescriptor(ee,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning,ne?ee.props.ref:ee.props.ref||ee.ref)}var TABS_NAME="Tabs",[createTabsContext]=createContextScope$2(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((ee,te)=>{const{__scopeTabs:ne,value:xe,onValueChange:rt,defaultValue:it,orientation:lt="horizontal",dir:ct,activationMode:ut="automatic",...dt}=ee,ht=useDirection(ct),[ft,pt]=useControllableState({prop:xe,onChange:rt,defaultProp:it??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:ne,baseId:useId(),value:ft,onValueChange:pt,orientation:lt,dir:ht,activationMode:ut,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:ht,"data-orientation":lt,...dt,ref:te})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((ee,te)=>{const{__scopeTabs:ne,loop:xe=!0,...rt}=ee,it=useTabsContext(TAB_LIST_NAME,ne),lt=useRovingFocusGroupScope(ne);return jsxRuntimeExports.jsx(Root$7,{asChild:!0,...lt,orientation:it.orientation,dir:it.dir,loop:xe,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"tablist","aria-orientation":it.orientation,...rt,ref:te})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$4="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((ee,te)=>{const{__scopeTabs:ne,value:xe,disabled:rt=!1,...it}=ee,lt=useTabsContext(TRIGGER_NAME$4,ne),ct=useRovingFocusGroupScope(ne),ut=makeTriggerId(lt.baseId,xe),dt=makeContentId(lt.baseId,xe),ht=xe===lt.value;return jsxRuntimeExports.jsx(Item$2,{asChild:!0,...ct,focusable:!rt,active:ht,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"tab","aria-selected":ht,"aria-controls":dt,"data-state":ht?"active":"inactive","data-disabled":rt?"":void 0,disabled:rt,id:ut,...it,ref:te,onMouseDown:composeEventHandlers(ee.onMouseDown,ft=>{!rt&&ft.button===0&&ft.ctrlKey===!1?lt.onValueChange(xe):ft.preventDefault()}),onKeyDown:composeEventHandlers(ee.onKeyDown,ft=>{[" ","Enter"].includes(ft.key)&&lt.onValueChange(xe)}),onFocus:composeEventHandlers(ee.onFocus,()=>{const ft=lt.activationMode!=="manual";!ht&&!rt&&ft&&lt.onValueChange(xe)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$4;var CONTENT_NAME$5="TabsContent",TabsContent$1=reactExports.forwardRef((ee,te)=>{const{__scopeTabs:ne,value:xe,forceMount:rt,children:it,...lt}=ee,ct=useTabsContext(CONTENT_NAME$5,ne),ut=makeTriggerId(ct.baseId,xe),dt=makeContentId(ct.baseId,xe),ht=xe===ct.value,ft=reactExports.useRef(ht);return reactExports.useEffect(()=>{const pt=requestAnimationFrame(()=>ft.current=!1);return()=>cancelAnimationFrame(pt)},[]),jsxRuntimeExports.jsx(Presence,{present:rt||ht,children:({present:pt})=>jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":ht?"active":"inactive","data-orientation":ct.orientation,role:"tabpanel","aria-labelledby":ut,hidden:!pt,id:dt,tabIndex:0,...lt,ref:te,style:{...ee.style,animationDuration:ft.current?"0s":void 0},children:pt&&it})})});TabsContent$1.displayName=CONTENT_NAME$5;function makeTriggerId(ee,te){return`${ee}-trigger-${te}`}function makeContentId(ee,te){return`${ee}-content-${te}`}var Root2$3=Tabs$1,List$1=TabsList$1,Trigger$2=TabsTrigger$1,Content$3=TabsContent$1;function Tabs({className:ee,...te}){return jsxRuntimeExports.jsx(Root2$3,{"data-slot":"tabs",className:cn("flex flex-col gap-2",ee),...te})}function TabsList({className:ee,...te}){return jsxRuntimeExports.jsx(List$1,{"data-slot":"tabs-list",className:cn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",ee),...te})}function TabsTrigger({className:ee,...te}){return jsxRuntimeExports.jsx(Trigger$2,{"data-slot":"tabs-trigger",className:cn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",ee),...te})}function TabsContent({className:ee,...te}){return jsxRuntimeExports.jsx(Content$3,{"data-slot":"tabs-content",className:cn("flex-1 outline-none",ee),...te})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=ee=>ee.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=ee=>ee.replace(/^([A-Z])|[\s-_]+(\w)/g,(te,ne,xe)=>xe?xe.toUpperCase():ne.toLowerCase()),toPascalCase=ee=>{const te=toCamelCase(ee);return te.charAt(0).toUpperCase()+te.slice(1)},mergeClasses=(...ee)=>ee.filter((te,ne,xe)=>!!te&&te.trim()!==""&&xe.indexOf(te)===ne).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:ee="currentColor",size:te=24,strokeWidth:ne=2,absoluteStrokeWidth:xe,className:rt="",children:it,iconNode:lt,...ct},ut)=>reactExports.createElement("svg",{ref:ut,...defaultAttributes,width:te,height:te,stroke:ee,strokeWidth:xe?Number(ne)*24/Number(te):ne,className:mergeClasses("lucide",rt),...ct},[...lt.map(([dt,ht])=>reactExports.createElement(dt,ht)),...Array.isArray(it)?it:[it]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(ee,te)=>{const ne=reactExports.forwardRef(({className:xe,...rt},it)=>reactExports.createElement(Icon$1,{ref:it,iconNode:te,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(ee))}`,`lucide-${ee}`,xe),...rt}));return ne.displayName=toPascalCase(ee),ne};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1u=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Activity=createLucideIcon("activity",__iconNode$1u);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1t=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$1t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1s=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$1s);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1r=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$1r);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1q=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("bell",__iconNode$1q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1p=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$1p);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1o=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Brain=createLucideIcon("brain",__iconNode$1o);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1n=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$1n);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1m=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$1m);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1l=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$1l);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1k=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$1k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1j=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$1j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1i=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$1i);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1h=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$1h);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1g=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$1g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$1f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleHelp=createLucideIcon("circle-help",__iconNode$1e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1d=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],CirclePlus=createLucideIcon("circle-plus",__iconNode$1d);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1c=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$1c);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Clock=createLucideIcon("clock",__iconNode$1b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],Computer=createLucideIcon("computer",__iconNode$1a);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$19);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Download=createLucideIcon("download",__iconNode$18);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$17);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$16);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],FileQuestion=createLucideIcon("file-question",__iconNode$15);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$14);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],FlaskConical=createLucideIcon("flask-conical",__iconNode$13);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Funnel=createLucideIcon("funnel",__iconNode$12);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Gamepad2=createLucideIcon("gamepad-2",__iconNode$11);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],GitBranch=createLucideIcon("git-branch",__iconNode$10);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],GraduationCap=createLucideIcon("graduation-cap",__iconNode$_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Heart=createLucideIcon("heart",__iconNode$Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],House=createLucideIcon("house",__iconNode$Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],IdCard=createLucideIcon("id-card",__iconNode$X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image$2=createLucideIcon("image",__iconNode$W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("layout-dashboard",__iconNode$U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lightbulb=createLucideIcon("lightbulb",__iconNode$T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Link2=createLucideIcon("link-2",__iconNode$S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link=createLucideIcon("link",__iconNode$R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],ListOrdered=createLucideIcon("list-ordered",__iconNode$Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],List=createLucideIcon("list",__iconNode$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$O);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],LogOut=createLucideIcon("log-out",__iconNode$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mail=createLucideIcon("mail",__iconNode$M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Map$2=createLucideIcon("map",__iconNode$K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Maximize=createLucideIcon("maximize",__iconNode$J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$I);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Mic=createLucideIcon("mic",__iconNode$H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],Microscope=createLucideIcon("microscope",__iconNode$G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Minimize2=createLucideIcon("minimize-2",__iconNode$F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],MousePointerClick=createLucideIcon("mouse-pointer-click",__iconNode$E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Move=createLucideIcon("move",__iconNode$D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Network=createLucideIcon("network",__iconNode$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Pause=createLucideIcon("pause",__iconNode$B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],PenLine=createLucideIcon("pen-line",__iconNode$A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],PenTool=createLucideIcon("pen-tool",__iconNode$z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pen=createLucideIcon("pen",__iconNode$y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Play=createLucideIcon("play",__iconNode$x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Presentation=createLucideIcon("presentation",__iconNode$v);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],RefreshCcw=createLucideIcon("refresh-ccw",__iconNode$u);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("refresh-cw",__iconNode$t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Repeat=createLucideIcon("repeat",__iconNode$s);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rocket=createLucideIcon("rocket",__iconNode$r);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$p);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Search=createLucideIcon("search",__iconNode$o);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$n);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings$1=createLucideIcon("settings",__iconNode$m);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("share-2",__iconNode$l);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],SkipBack=createLucideIcon("skip-back",__iconNode$j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],SkipForward=createLucideIcon("skip-forward",__iconNode$i);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Sparkles=createLucideIcon("sparkles",__iconNode$h);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Ticket=createLucideIcon("ticket",__iconNode$d);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("trash-2",__iconNode$c);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],TrendingDown=createLucideIcon("trending-down",__iconNode$b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$a);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Trophy=createLucideIcon("trophy",__iconNode$9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Type$2=createLucideIcon("type",__iconNode$8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Upload=createLucideIcon("upload",__iconNode$7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserPlus=createLucideIcon("user-plus",__iconNode$6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Users=createLucideIcon("users",__iconNode$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Volume2=createLucideIcon("volume-2",__iconNode$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$2=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode);function LoginPage({onSuccess:ee,onQuickExperience:te}){const[ne,xe]=reactExports.useState(""),[rt,it]=reactExports.useState(""),[lt,ct]=reactExports.useState(""),[ut,dt]=reactExports.useState("student"),[ht,ft]=reactExports.useState(!1),[pt,mt]=reactExports.useState(""),{login:xt,register:yt}=useAuth(),vt=async _t=>{_t.preventDefault(),ft(!0),mt("");try{await xt(ne,rt),ee()}catch(wt){console.error("Login failed:",wt),mt(wt.message||"Login failed")}finally{ft(!1)}},Et=async _t=>{_t.preventDefault(),ft(!0),mt("");try{await yt(ne,rt,lt,ut),ee()}catch(wt){console.error("Registration failed:",wt),mt(wt.message||"Registration failed")}finally{ft(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs("div",{className:"w-full grid lg:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:block relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-200 via-orange-300 to-orange-400 opacity-80"}),jsxRuntimeExports.jsxs("div",{className:"absolute top-0 right-0 w-1/2 h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-8 right-8 w-80 h-80 bg-white/30 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-16 right-16 w-60 h-60 bg-white/40 rounded-full blur-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-lg space-y-8",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 leading-tight",children:["",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-indigo-600",children:""}),jsxRuntimeExports.jsx("br",{}),""]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"AI"}),jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white shadow-lg",onClick:te,children:[jsxRuntimeExports.jsx(Upload,{className:"w-5 h-5 mr-2"}),"AIPDF"]})]})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center p-8 bg-white",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-md",children:jsxRuntimeExports.jsxs(Card,{className:"w-full shadow-xl border-gray-200",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl text-[#1a73e8]",children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsxs(CardContent,{children:[pt&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:pt}),jsxRuntimeExports.jsxs("div",{className:"mb-4 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-[#1a73e8] mb-1",children:":"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-xs",children:": student@demo.com"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-xs",children:": "})]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",size:"sm",className:"ml-2",onClick:async()=>{xe("student@demo.com"),it("demo123");try{ft(!0),mt(""),await xt("student@demo.com","demo123","student"),ee()}catch(_t){mt(_t.message||"")}finally{ft(!1)}},disabled:ht,children:""})]})}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-600 mb-1",children:":"}),jsxRuntimeExports.jsx("p",{className:"text-blue-700 text-xs",children:": teacher@demo.com"}),jsxRuntimeExports.jsx("p",{className:"text-blue-700 text-xs",children:": "})]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",size:"sm",className:"ml-2 border-blue-300 text-blue-600 hover:bg-blue-100",onClick:async()=>{xe("teacher@demo.com"),it("demo123");try{ft(!0),mt(""),await xt("teacher@demo.com","demo123","teacher"),ee()}catch(_t){mt(_t.message||"")}finally{ft(!1)}},disabled:ht,children:""})]})})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"login",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2 bg-gray-100 p-1 rounded-lg",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"login",className:"data-[state=active]:bg-white data-[state=active]:text-[#1a73e8] data-[state=active]:shadow-sm",children:""}),jsxRuntimeExports.jsx(TabsTrigger,{value:"register",className:"data-[state=active]:bg-white data-[state=active]:text-[#1a73e8] data-[state=active]:shadow-sm",children:""})]}),jsxRuntimeExports.jsx(TabsContent,{value:"login",children:jsxRuntimeExports.jsxs("form",{onSubmit:vt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:""}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"",value:ne,onChange:_t=>xe(_t.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:""}),jsxRuntimeExports.jsx(Link$1,{to:"/forgot-password",className:"text-sm text-[#1a73e8] hover:underline",children:""})]}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",placeholder:"",value:rt,onChange:_t=>it(_t.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"default",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:ht,children:ht?"...":""})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"register",children:jsxRuntimeExports.jsxs("form",{onSubmit:Et,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:""}),jsxRuntimeExports.jsx(Input,{id:"name",type:"text",placeholder:"",value:lt,onChange:_t=>ct(_t.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"register-email",children:""}),jsxRuntimeExports.jsx(Input,{id:"register-email",type:"email",placeholder:"",value:ne,onChange:_t=>xe(_t.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"register-password",children:""}),jsxRuntimeExports.jsx(Input,{id:"register-password",type:"password",placeholder:"",value:rt,onChange:_t=>it(_t.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"role",children:""}),jsxRuntimeExports.jsxs("select",{id:"role",value:ut,onChange:_t=>dt(_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#1a73e8] focus:border-[#1a73e8]",children:[jsxRuntimeExports.jsx("option",{value:"student",children:""}),jsxRuntimeExports.jsx("option",{value:"teacher",children:""}),jsxRuntimeExports.jsx("option",{value:"parent",children:""})]})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"default",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:ht,children:ht?"...":""})]})})]})]})]})})})]})})}function clamp$2(ee,[te,ne]){return Math.min(ne,Math.max(te,ee))}function useEscapeKeydown(ee,te=globalThis?.document){const ne=useCallbackRef$1(ee);reactExports.useEffect(()=>{const xe=rt=>{rt.key==="Escape"&&ne(rt)};return te.addEventListener("keydown",xe,{capture:!0}),()=>te.removeEventListener("keydown",xe,{capture:!0})},[ne,te])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((ee,te)=>{const{disableOutsidePointerEvents:ne=!1,onEscapeKeyDown:xe,onPointerDownOutside:rt,onFocusOutside:it,onInteractOutside:lt,onDismiss:ct,...ut}=ee,dt=reactExports.useContext(DismissableLayerContext),[ht,ft]=reactExports.useState(null),pt=ht?.ownerDocument??globalThis?.document,[,mt]=reactExports.useState({}),xt=useComposedRefs(te,Rt=>ft(Rt)),yt=Array.from(dt.layers),[vt]=[...dt.layersWithOutsidePointerEventsDisabled].slice(-1),Et=yt.indexOf(vt),_t=ht?yt.indexOf(ht):-1,wt=dt.layersWithOutsidePointerEventsDisabled.size>0,St=_t>=Et,Ct=usePointerDownOutside(Rt=>{const Pt=Rt.target,Ot=[...dt.branches].some(Ft=>Ft.contains(Pt));!St||Ot||(rt?.(Rt),lt?.(Rt),Rt.defaultPrevented||ct?.())},pt),jt=useFocusOutside(Rt=>{const Pt=Rt.target;[...dt.branches].some(Ft=>Ft.contains(Pt))||(it?.(Rt),lt?.(Rt),Rt.defaultPrevented||ct?.())},pt);return useEscapeKeydown(Rt=>{_t===dt.layers.size-1&&(xe?.(Rt),!Rt.defaultPrevented&&ct&&(Rt.preventDefault(),ct()))},pt),reactExports.useEffect(()=>{if(ht)return ne&&(dt.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=pt.body.style.pointerEvents,pt.body.style.pointerEvents="none"),dt.layersWithOutsidePointerEventsDisabled.add(ht)),dt.layers.add(ht),dispatchUpdate(),()=>{ne&&dt.layersWithOutsidePointerEventsDisabled.size===1&&(pt.body.style.pointerEvents=originalBodyPointerEvents)}},[ht,pt,ne,dt]),reactExports.useEffect(()=>()=>{ht&&(dt.layers.delete(ht),dt.layersWithOutsidePointerEventsDisabled.delete(ht),dispatchUpdate())},[ht,dt]),reactExports.useEffect(()=>{const Rt=()=>mt({});return document.addEventListener(CONTEXT_UPDATE,Rt),()=>document.removeEventListener(CONTEXT_UPDATE,Rt)},[]),jsxRuntimeExports.jsx(Primitive$2.div,{...ut,ref:xt,style:{pointerEvents:wt?St?"auto":"none":void 0,...ee.style},onFocusCapture:composeEventHandlers(ee.onFocusCapture,jt.onFocusCapture),onBlurCapture:composeEventHandlers(ee.onBlurCapture,jt.onBlurCapture),onPointerDownCapture:composeEventHandlers(ee.onPointerDownCapture,Ct.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((ee,te)=>{const ne=reactExports.useContext(DismissableLayerContext),xe=reactExports.useRef(null),rt=useComposedRefs(te,xe);return reactExports.useEffect(()=>{const it=xe.current;if(it)return ne.branches.add(it),()=>{ne.branches.delete(it)}},[ne.branches]),jsxRuntimeExports.jsx(Primitive$2.div,{...ee,ref:rt})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(ee,te=globalThis?.document){const ne=useCallbackRef$1(ee),xe=reactExports.useRef(!1),rt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const it=ct=>{if(ct.target&&!xe.current){let ut=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,ne,dt,{discrete:!0})};const dt={originalEvent:ct};ct.pointerType==="touch"?(te.removeEventListener("click",rt.current),rt.current=ut,te.addEventListener("click",rt.current,{once:!0})):ut()}else te.removeEventListener("click",rt.current);xe.current=!1},lt=window.setTimeout(()=>{te.addEventListener("pointerdown",it)},0);return()=>{window.clearTimeout(lt),te.removeEventListener("pointerdown",it),te.removeEventListener("click",rt.current)}},[te,ne]),{onPointerDownCapture:()=>xe.current=!0}}function useFocusOutside(ee,te=globalThis?.document){const ne=useCallbackRef$1(ee),xe=reactExports.useRef(!1);return reactExports.useEffect(()=>{const rt=it=>{it.target&&!xe.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,ne,{originalEvent:it},{discrete:!1})};return te.addEventListener("focusin",rt),()=>te.removeEventListener("focusin",rt)},[te,ne]),{onFocusCapture:()=>xe.current=!0,onBlurCapture:()=>xe.current=!1}}function dispatchUpdate(){const ee=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(ee)}function handleAndDispatchCustomEvent(ee,te,ne,{discrete:xe}){const rt=ne.originalEvent.target,it=new CustomEvent(ee,{bubbles:!1,cancelable:!0,detail:ne});te&&rt.addEventListener(ee,te,{once:!0}),xe?dispatchDiscreteCustomEvent(rt,it):rt.dispatchEvent(it)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const ee=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",ee[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",ee[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(te=>te.remove()),count--}},[])}function createFocusGuard(){const ee=document.createElement("span");return ee.setAttribute("data-radix-focus-guard",""),ee.tabIndex=0,ee.style.outline="none",ee.style.opacity="0",ee.style.position="fixed",ee.style.pointerEvents="none",ee}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((ee,te)=>{const{loop:ne=!1,trapped:xe=!1,onMountAutoFocus:rt,onUnmountAutoFocus:it,...lt}=ee,[ct,ut]=reactExports.useState(null),dt=useCallbackRef$1(rt),ht=useCallbackRef$1(it),ft=reactExports.useRef(null),pt=useComposedRefs(te,yt=>ut(yt)),mt=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(xe){let yt=function(wt){if(mt.paused||!ct)return;const St=wt.target;ct.contains(St)?ft.current=St:focus(ft.current,{select:!0})},vt=function(wt){if(mt.paused||!ct)return;const St=wt.relatedTarget;St!==null&&(ct.contains(St)||focus(ft.current,{select:!0}))},Et=function(wt){if(document.activeElement===document.body)for(const Ct of wt)Ct.removedNodes.length>0&&focus(ct)};document.addEventListener("focusin",yt),document.addEventListener("focusout",vt);const _t=new MutationObserver(Et);return ct&&_t.observe(ct,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",yt),document.removeEventListener("focusout",vt),_t.disconnect()}}},[xe,ct,mt.paused]),reactExports.useEffect(()=>{if(ct){focusScopesStack.add(mt);const yt=document.activeElement;if(!ct.contains(yt)){const Et=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);ct.addEventListener(AUTOFOCUS_ON_MOUNT,dt),ct.dispatchEvent(Et),Et.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(ct)),{select:!0}),document.activeElement===yt&&focus(ct))}return()=>{ct.removeEventListener(AUTOFOCUS_ON_MOUNT,dt),setTimeout(()=>{const Et=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);ct.addEventListener(AUTOFOCUS_ON_UNMOUNT,ht),ct.dispatchEvent(Et),Et.defaultPrevented||focus(yt??document.body,{select:!0}),ct.removeEventListener(AUTOFOCUS_ON_UNMOUNT,ht),focusScopesStack.remove(mt)},0)}}},[ct,dt,ht,mt]);const xt=reactExports.useCallback(yt=>{if(!ne&&!xe||mt.paused)return;const vt=yt.key==="Tab"&&!yt.altKey&&!yt.ctrlKey&&!yt.metaKey,Et=document.activeElement;if(vt&&Et){const _t=yt.currentTarget,[wt,St]=getTabbableEdges(_t);wt&&St?!yt.shiftKey&&Et===St?(yt.preventDefault(),ne&&focus(wt,{select:!0})):yt.shiftKey&&Et===wt&&(yt.preventDefault(),ne&&focus(St,{select:!0})):Et===_t&&yt.preventDefault()}},[ne,xe,mt.paused]);return jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:-1,...lt,ref:pt,onKeyDown:xt})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(ee,{select:te=!1}={}){const ne=document.activeElement;for(const xe of ee)if(focus(xe,{select:te}),document.activeElement!==ne)return}function getTabbableEdges(ee){const te=getTabbableCandidates(ee),ne=findVisible(te,ee),xe=findVisible(te.reverse(),ee);return[ne,xe]}function getTabbableCandidates(ee){const te=[],ne=document.createTreeWalker(ee,NodeFilter.SHOW_ELEMENT,{acceptNode:xe=>{const rt=xe.tagName==="INPUT"&&xe.type==="hidden";return xe.disabled||xe.hidden||rt?NodeFilter.FILTER_SKIP:xe.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;ne.nextNode();)te.push(ne.currentNode);return te}function findVisible(ee,te){for(const ne of ee)if(!isHidden(ne,{upTo:te}))return ne}function isHidden(ee,{upTo:te}){if(getComputedStyle(ee).visibility==="hidden")return!0;for(;ee;){if(te!==void 0&&ee===te)return!1;if(getComputedStyle(ee).display==="none")return!0;ee=ee.parentElement}return!1}function isSelectableInput(ee){return ee instanceof HTMLInputElement&&"select"in ee}function focus(ee,{select:te=!1}={}){if(ee&&ee.focus){const ne=document.activeElement;ee.focus({preventScroll:!0}),ee!==ne&&isSelectableInput(ee)&&te&&ee.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let ee=[];return{add(te){const ne=ee[0];te!==ne&&ne?.pause(),ee=arrayRemove(ee,te),ee.unshift(te)},remove(te){ee=arrayRemove(ee,te),ee[0]?.resume()}}}function arrayRemove(ee,te){const ne=[...ee],xe=ne.indexOf(te);return xe!==-1&&ne.splice(xe,1),ne}function removeLinks(ee){return ee.filter(te=>te.tagName!=="A")}const sides=["top","right","bottom","left"],min$3=Math.min,max$3=Math.max,round$1=Math.round,floor=Math.floor,createCoords=ee=>({x:ee,y:ee}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(ee,te,ne){return max$3(ee,min$3(te,ne))}function evaluate$1(ee,te){return typeof ee=="function"?ee(te):ee}function getSide(ee){return ee.split("-")[0]}function getAlignment(ee){return ee.split("-")[1]}function getOppositeAxis(ee){return ee==="x"?"y":"x"}function getAxisLength(ee){return ee==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(ee){return yAxisSides.has(getSide(ee))?"y":"x"}function getAlignmentAxis(ee){return getOppositeAxis(getSideAxis(ee))}function getAlignmentSides(ee,te,ne){ne===void 0&&(ne=!1);const xe=getAlignment(ee),rt=getAlignmentAxis(ee),it=getAxisLength(rt);let lt=rt==="x"?xe===(ne?"end":"start")?"right":"left":xe==="start"?"bottom":"top";return te.reference[it]>te.floating[it]&&(lt=getOppositePlacement(lt)),[lt,getOppositePlacement(lt)]}function getExpandedPlacements(ee){const te=getOppositePlacement(ee);return[getOppositeAlignmentPlacement(ee),te,getOppositeAlignmentPlacement(te)]}function getOppositeAlignmentPlacement(ee){return ee.replace(/start|end/g,te=>oppositeAlignmentMap[te])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(ee,te,ne){switch(ee){case"top":case"bottom":return ne?te?rlPlacement:lrPlacement:te?lrPlacement:rlPlacement;case"left":case"right":return te?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(ee,te,ne,xe){const rt=getAlignment(ee);let it=getSideList(getSide(ee),ne==="start",xe);return rt&&(it=it.map(lt=>lt+"-"+rt),te&&(it=it.concat(it.map(getOppositeAlignmentPlacement)))),it}function getOppositePlacement(ee){return ee.replace(/left|right|bottom|top/g,te=>oppositeSideMap[te])}function expandPaddingObject(ee){return{top:0,right:0,bottom:0,left:0,...ee}}function getPaddingObject(ee){return typeof ee!="number"?expandPaddingObject(ee):{top:ee,right:ee,bottom:ee,left:ee}}function rectToClientRect(ee){const{x:te,y:ne,width:xe,height:rt}=ee;return{width:xe,height:rt,top:ne,left:te,right:te+xe,bottom:ne+rt,x:te,y:ne}}function computeCoordsFromPlacement(ee,te,ne){let{reference:xe,floating:rt}=ee;const it=getSideAxis(te),lt=getAlignmentAxis(te),ct=getAxisLength(lt),ut=getSide(te),dt=it==="y",ht=xe.x+xe.width/2-rt.width/2,ft=xe.y+xe.height/2-rt.height/2,pt=xe[ct]/2-rt[ct]/2;let mt;switch(ut){case"top":mt={x:ht,y:xe.y-rt.height};break;case"bottom":mt={x:ht,y:xe.y+xe.height};break;case"right":mt={x:xe.x+xe.width,y:ft};break;case"left":mt={x:xe.x-rt.width,y:ft};break;default:mt={x:xe.x,y:xe.y}}switch(getAlignment(te)){case"start":mt[lt]-=pt*(ne&&dt?-1:1);break;case"end":mt[lt]+=pt*(ne&&dt?-1:1);break}return mt}async function detectOverflow(ee,te){var ne;te===void 0&&(te={});const{x:xe,y:rt,platform:it,rects:lt,elements:ct,strategy:ut}=ee,{boundary:dt="clippingAncestors",rootBoundary:ht="viewport",elementContext:ft="floating",altBoundary:pt=!1,padding:mt=0}=evaluate$1(te,ee),xt=getPaddingObject(mt),vt=ct[pt?ft==="floating"?"reference":"floating":ft],Et=rectToClientRect(await it.getClippingRect({element:(ne=await(it.isElement==null?void 0:it.isElement(vt)))==null||ne?vt:vt.contextElement||await(it.getDocumentElement==null?void 0:it.getDocumentElement(ct.floating)),boundary:dt,rootBoundary:ht,strategy:ut})),_t=ft==="floating"?{x:xe,y:rt,width:lt.floating.width,height:lt.floating.height}:lt.reference,wt=await(it.getOffsetParent==null?void 0:it.getOffsetParent(ct.floating)),St=await(it.isElement==null?void 0:it.isElement(wt))?await(it.getScale==null?void 0:it.getScale(wt))||{x:1,y:1}:{x:1,y:1},Ct=rectToClientRect(it.convertOffsetParentRelativeRectToViewportRelativeRect?await it.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ct,rect:_t,offsetParent:wt,strategy:ut}):_t);return{top:(Et.top-Ct.top+xt.top)/St.y,bottom:(Ct.bottom-Et.bottom+xt.bottom)/St.y,left:(Et.left-Ct.left+xt.left)/St.x,right:(Ct.right-Et.right+xt.right)/St.x}}const computePosition$1=async(ee,te,ne)=>{const{placement:xe="bottom",strategy:rt="absolute",middleware:it=[],platform:lt}=ne,ct=it.filter(Boolean),ut=await(lt.isRTL==null?void 0:lt.isRTL(te));let dt=await lt.getElementRects({reference:ee,floating:te,strategy:rt}),{x:ht,y:ft}=computeCoordsFromPlacement(dt,xe,ut),pt=xe,mt={},xt=0;for(let vt=0;vt<ct.length;vt++){var yt;const{name:Et,fn:_t}=ct[vt],{x:wt,y:St,data:Ct,reset:jt}=await _t({x:ht,y:ft,initialPlacement:xe,placement:pt,strategy:rt,middlewareData:mt,rects:dt,platform:{...lt,detectOverflow:(yt=lt.detectOverflow)!=null?yt:detectOverflow},elements:{reference:ee,floating:te}});ht=wt??ht,ft=St??ft,mt={...mt,[Et]:{...mt[Et],...Ct}},jt&&xt<=50&&(xt++,typeof jt=="object"&&(jt.placement&&(pt=jt.placement),jt.rects&&(dt=jt.rects===!0?await lt.getElementRects({reference:ee,floating:te,strategy:rt}):jt.rects),{x:ht,y:ft}=computeCoordsFromPlacement(dt,pt,ut)),vt=-1)}return{x:ht,y:ft,placement:pt,strategy:rt,middlewareData:mt}},arrow$3=ee=>({name:"arrow",options:ee,async fn(te){const{x:ne,y:xe,placement:rt,rects:it,platform:lt,elements:ct,middlewareData:ut}=te,{element:dt,padding:ht=0}=evaluate$1(ee,te)||{};if(dt==null)return{};const ft=getPaddingObject(ht),pt={x:ne,y:xe},mt=getAlignmentAxis(rt),xt=getAxisLength(mt),yt=await lt.getDimensions(dt),vt=mt==="y",Et=vt?"top":"left",_t=vt?"bottom":"right",wt=vt?"clientHeight":"clientWidth",St=it.reference[xt]+it.reference[mt]-pt[mt]-it.floating[xt],Ct=pt[mt]-it.reference[mt],jt=await(lt.getOffsetParent==null?void 0:lt.getOffsetParent(dt));let Rt=jt?jt[wt]:0;(!Rt||!await(lt.isElement==null?void 0:lt.isElement(jt)))&&(Rt=ct.floating[wt]||it.floating[xt]);const Pt=St/2-Ct/2,Ot=Rt/2-yt[xt]/2-1,Ft=min$3(ft[Et],Ot),Lt=min$3(ft[_t],Ot),Bt=Ft,Gt=Rt-yt[xt]-Lt,It=Rt/2-yt[xt]/2+Pt,qt=clamp$1(Bt,It,Gt),Nt=!ut.arrow&&getAlignment(rt)!=null&&It!==qt&&it.reference[xt]/2-(It<Bt?Ft:Lt)-yt[xt]/2<0,Dt=Nt?It<Bt?It-Bt:It-Gt:0;return{[mt]:pt[mt]+Dt,data:{[mt]:qt,centerOffset:It-qt-Dt,...Nt&&{alignmentOffset:Dt}},reset:Nt}}}),flip$2=function(ee){return ee===void 0&&(ee={}),{name:"flip",options:ee,async fn(te){var ne,xe;const{placement:rt,middlewareData:it,rects:lt,initialPlacement:ct,platform:ut,elements:dt}=te,{mainAxis:ht=!0,crossAxis:ft=!0,fallbackPlacements:pt,fallbackStrategy:mt="bestFit",fallbackAxisSideDirection:xt="none",flipAlignment:yt=!0,...vt}=evaluate$1(ee,te);if((ne=it.arrow)!=null&&ne.alignmentOffset)return{};const Et=getSide(rt),_t=getSideAxis(ct),wt=getSide(ct)===ct,St=await(ut.isRTL==null?void 0:ut.isRTL(dt.floating)),Ct=pt||(wt||!yt?[getOppositePlacement(ct)]:getExpandedPlacements(ct)),jt=xt!=="none";!pt&&jt&&Ct.push(...getOppositeAxisPlacements(ct,yt,xt,St));const Rt=[ct,...Ct],Pt=await ut.detectOverflow(te,vt),Ot=[];let Ft=((xe=it.flip)==null?void 0:xe.overflows)||[];if(ht&&Ot.push(Pt[Et]),ft){const It=getAlignmentSides(rt,lt,St);Ot.push(Pt[It[0]],Pt[It[1]])}if(Ft=[...Ft,{placement:rt,overflows:Ot}],!Ot.every(It=>It<=0)){var Lt,Bt;const It=(((Lt=it.flip)==null?void 0:Lt.index)||0)+1,qt=Rt[It];if(qt&&(!(ft==="alignment"?_t!==getSideAxis(qt):!1)||Ft.every(Tt=>getSideAxis(Tt.placement)===_t?Tt.overflows[0]>0:!0)))return{data:{index:It,overflows:Ft},reset:{placement:qt}};let Nt=(Bt=Ft.filter(Dt=>Dt.overflows[0]<=0).sort((Dt,Tt)=>Dt.overflows[1]-Tt.overflows[1])[0])==null?void 0:Bt.placement;if(!Nt)switch(mt){case"bestFit":{var Gt;const Dt=(Gt=Ft.filter(Tt=>{if(jt){const Mt=getSideAxis(Tt.placement);return Mt===_t||Mt==="y"}return!0}).map(Tt=>[Tt.placement,Tt.overflows.filter(Mt=>Mt>0).reduce((Mt,$t)=>Mt+$t,0)]).sort((Tt,Mt)=>Tt[1]-Mt[1])[0])==null?void 0:Gt[0];Dt&&(Nt=Dt);break}case"initialPlacement":Nt=ct;break}if(rt!==Nt)return{reset:{placement:Nt}}}return{}}}};function getSideOffsets(ee,te){return{top:ee.top-te.height,right:ee.right-te.width,bottom:ee.bottom-te.height,left:ee.left-te.width}}function isAnySideFullyClipped(ee){return sides.some(te=>ee[te]>=0)}const hide$2=function(ee){return ee===void 0&&(ee={}),{name:"hide",options:ee,async fn(te){const{rects:ne,platform:xe}=te,{strategy:rt="referenceHidden",...it}=evaluate$1(ee,te);switch(rt){case"referenceHidden":{const lt=await xe.detectOverflow(te,{...it,elementContext:"reference"}),ct=getSideOffsets(lt,ne.reference);return{data:{referenceHiddenOffsets:ct,referenceHidden:isAnySideFullyClipped(ct)}}}case"escaped":{const lt=await xe.detectOverflow(te,{...it,altBoundary:!0}),ct=getSideOffsets(lt,ne.floating);return{data:{escapedOffsets:ct,escaped:isAnySideFullyClipped(ct)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(ee,te){const{placement:ne,platform:xe,elements:rt}=ee,it=await(xe.isRTL==null?void 0:xe.isRTL(rt.floating)),lt=getSide(ne),ct=getAlignment(ne),ut=getSideAxis(ne)==="y",dt=originSides.has(lt)?-1:1,ht=it&&ut?-1:1,ft=evaluate$1(te,ee);let{mainAxis:pt,crossAxis:mt,alignmentAxis:xt}=typeof ft=="number"?{mainAxis:ft,crossAxis:0,alignmentAxis:null}:{mainAxis:ft.mainAxis||0,crossAxis:ft.crossAxis||0,alignmentAxis:ft.alignmentAxis};return ct&&typeof xt=="number"&&(mt=ct==="end"?xt*-1:xt),ut?{x:mt*ht,y:pt*dt}:{x:pt*dt,y:mt*ht}}const offset$2=function(ee){return ee===void 0&&(ee=0),{name:"offset",options:ee,async fn(te){var ne,xe;const{x:rt,y:it,placement:lt,middlewareData:ct}=te,ut=await convertValueToCoords(te,ee);return lt===((ne=ct.offset)==null?void 0:ne.placement)&&(xe=ct.arrow)!=null&&xe.alignmentOffset?{}:{x:rt+ut.x,y:it+ut.y,data:{...ut,placement:lt}}}}},shift$2=function(ee){return ee===void 0&&(ee={}),{name:"shift",options:ee,async fn(te){const{x:ne,y:xe,placement:rt,platform:it}=te,{mainAxis:lt=!0,crossAxis:ct=!1,limiter:ut={fn:Et=>{let{x:_t,y:wt}=Et;return{x:_t,y:wt}}},...dt}=evaluate$1(ee,te),ht={x:ne,y:xe},ft=await it.detectOverflow(te,dt),pt=getSideAxis(getSide(rt)),mt=getOppositeAxis(pt);let xt=ht[mt],yt=ht[pt];if(lt){const Et=mt==="y"?"top":"left",_t=mt==="y"?"bottom":"right",wt=xt+ft[Et],St=xt-ft[_t];xt=clamp$1(wt,xt,St)}if(ct){const Et=pt==="y"?"top":"left",_t=pt==="y"?"bottom":"right",wt=yt+ft[Et],St=yt-ft[_t];yt=clamp$1(wt,yt,St)}const vt=ut.fn({...te,[mt]:xt,[pt]:yt});return{...vt,data:{x:vt.x-ne,y:vt.y-xe,enabled:{[mt]:lt,[pt]:ct}}}}}},limitShift$2=function(ee){return ee===void 0&&(ee={}),{options:ee,fn(te){const{x:ne,y:xe,placement:rt,rects:it,middlewareData:lt}=te,{offset:ct=0,mainAxis:ut=!0,crossAxis:dt=!0}=evaluate$1(ee,te),ht={x:ne,y:xe},ft=getSideAxis(rt),pt=getOppositeAxis(ft);let mt=ht[pt],xt=ht[ft];const yt=evaluate$1(ct,te),vt=typeof yt=="number"?{mainAxis:yt,crossAxis:0}:{mainAxis:0,crossAxis:0,...yt};if(ut){const wt=pt==="y"?"height":"width",St=it.reference[pt]-it.floating[wt]+vt.mainAxis,Ct=it.reference[pt]+it.reference[wt]-vt.mainAxis;mt<St?mt=St:mt>Ct&&(mt=Ct)}if(dt){var Et,_t;const wt=pt==="y"?"width":"height",St=originSides.has(getSide(rt)),Ct=it.reference[ft]-it.floating[wt]+(St&&((Et=lt.offset)==null?void 0:Et[ft])||0)+(St?0:vt.crossAxis),jt=it.reference[ft]+it.reference[wt]+(St?0:((_t=lt.offset)==null?void 0:_t[ft])||0)-(St?vt.crossAxis:0);xt<Ct?xt=Ct:xt>jt&&(xt=jt)}return{[pt]:mt,[ft]:xt}}}},size$2=function(ee){return ee===void 0&&(ee={}),{name:"size",options:ee,async fn(te){var ne,xe;const{placement:rt,rects:it,platform:lt,elements:ct}=te,{apply:ut=()=>{},...dt}=evaluate$1(ee,te),ht=await lt.detectOverflow(te,dt),ft=getSide(rt),pt=getAlignment(rt),mt=getSideAxis(rt)==="y",{width:xt,height:yt}=it.floating;let vt,Et;ft==="top"||ft==="bottom"?(vt=ft,Et=pt===(await(lt.isRTL==null?void 0:lt.isRTL(ct.floating))?"start":"end")?"left":"right"):(Et=ft,vt=pt==="end"?"top":"bottom");const _t=yt-ht.top-ht.bottom,wt=xt-ht.left-ht.right,St=min$3(yt-ht[vt],_t),Ct=min$3(xt-ht[Et],wt),jt=!te.middlewareData.shift;let Rt=St,Pt=Ct;if((ne=te.middlewareData.shift)!=null&&ne.enabled.x&&(Pt=wt),(xe=te.middlewareData.shift)!=null&&xe.enabled.y&&(Rt=_t),jt&&!pt){const Ft=max$3(ht.left,0),Lt=max$3(ht.right,0),Bt=max$3(ht.top,0),Gt=max$3(ht.bottom,0);mt?Pt=xt-2*(Ft!==0||Lt!==0?Ft+Lt:max$3(ht.left,ht.right)):Rt=yt-2*(Bt!==0||Gt!==0?Bt+Gt:max$3(ht.top,ht.bottom))}await ut({...te,availableWidth:Pt,availableHeight:Rt});const Ot=await lt.getDimensions(ct.floating);return xt!==Ot.width||yt!==Ot.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(ee){return isNode$1(ee)?(ee.nodeName||"").toLowerCase():"#document"}function getWindow(ee){var te;return(ee==null||(te=ee.ownerDocument)==null?void 0:te.defaultView)||window}function getDocumentElement(ee){var te;return(te=(isNode$1(ee)?ee.ownerDocument:ee.document)||window.document)==null?void 0:te.documentElement}function isNode$1(ee){return hasWindow()?ee instanceof Node||ee instanceof getWindow(ee).Node:!1}function isElement(ee){return hasWindow()?ee instanceof Element||ee instanceof getWindow(ee).Element:!1}function isHTMLElement(ee){return hasWindow()?ee instanceof HTMLElement||ee instanceof getWindow(ee).HTMLElement:!1}function isShadowRoot(ee){return!hasWindow()||typeof ShadowRoot>"u"?!1:ee instanceof ShadowRoot||ee instanceof getWindow(ee).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(ee){const{overflow:te,overflowX:ne,overflowY:xe,display:rt}=getComputedStyle$1(ee);return/auto|scroll|overlay|hidden|clip/.test(te+xe+ne)&&!invalidOverflowDisplayValues.has(rt)}const tableElements$1=new Set(["table","td","th"]);function isTableElement(ee){return tableElements$1.has(getNodeName(ee))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(ee){return topLayerSelectors.some(te=>{try{return ee.matches(te)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(ee){const te=isWebKit(),ne=isElement(ee)?getComputedStyle$1(ee):ee;return transformProperties.some(xe=>ne[xe]?ne[xe]!=="none":!1)||(ne.containerType?ne.containerType!=="normal":!1)||!te&&(ne.backdropFilter?ne.backdropFilter!=="none":!1)||!te&&(ne.filter?ne.filter!=="none":!1)||willChangeValues.some(xe=>(ne.willChange||"").includes(xe))||containValues.some(xe=>(ne.contain||"").includes(xe))}function getContainingBlock(ee){let te=getParentNode(ee);for(;isHTMLElement(te)&&!isLastTraversableNode(te);){if(isContainingBlock(te))return te;if(isTopLayer(te))return null;te=getParentNode(te)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(ee){return lastTraversableNodeNames.has(getNodeName(ee))}function getComputedStyle$1(ee){return getWindow(ee).getComputedStyle(ee)}function getNodeScroll(ee){return isElement(ee)?{scrollLeft:ee.scrollLeft,scrollTop:ee.scrollTop}:{scrollLeft:ee.scrollX,scrollTop:ee.scrollY}}function getParentNode(ee){if(getNodeName(ee)==="html")return ee;const te=ee.assignedSlot||ee.parentNode||isShadowRoot(ee)&&ee.host||getDocumentElement(ee);return isShadowRoot(te)?te.host:te}function getNearestOverflowAncestor(ee){const te=getParentNode(ee);return isLastTraversableNode(te)?ee.ownerDocument?ee.ownerDocument.body:ee.body:isHTMLElement(te)&&isOverflowElement(te)?te:getNearestOverflowAncestor(te)}function getOverflowAncestors(ee,te,ne){var xe;te===void 0&&(te=[]),ne===void 0&&(ne=!0);const rt=getNearestOverflowAncestor(ee),it=rt===((xe=ee.ownerDocument)==null?void 0:xe.body),lt=getWindow(rt);if(it){const ct=getFrameElement(lt);return te.concat(lt,lt.visualViewport||[],isOverflowElement(rt)?rt:[],ct&&ne?getOverflowAncestors(ct):[])}return te.concat(rt,getOverflowAncestors(rt,[],ne))}function getFrameElement(ee){return ee.parent&&Object.getPrototypeOf(ee.parent)?ee.frameElement:null}function getCssDimensions(ee){const te=getComputedStyle$1(ee);let ne=parseFloat(te.width)||0,xe=parseFloat(te.height)||0;const rt=isHTMLElement(ee),it=rt?ee.offsetWidth:ne,lt=rt?ee.offsetHeight:xe,ct=round$1(ne)!==it||round$1(xe)!==lt;return ct&&(ne=it,xe=lt),{width:ne,height:xe,$:ct}}function unwrapElement(ee){return isElement(ee)?ee:ee.contextElement}function getScale(ee){const te=unwrapElement(ee);if(!isHTMLElement(te))return createCoords(1);const ne=te.getBoundingClientRect(),{width:xe,height:rt,$:it}=getCssDimensions(te);let lt=(it?round$1(ne.width):ne.width)/xe,ct=(it?round$1(ne.height):ne.height)/rt;return(!lt||!Number.isFinite(lt))&&(lt=1),(!ct||!Number.isFinite(ct))&&(ct=1),{x:lt,y:ct}}const noOffsets=createCoords(0);function getVisualOffsets(ee){const te=getWindow(ee);return!isWebKit()||!te.visualViewport?noOffsets:{x:te.visualViewport.offsetLeft,y:te.visualViewport.offsetTop}}function shouldAddVisualOffsets(ee,te,ne){return te===void 0&&(te=!1),!ne||te&&ne!==getWindow(ee)?!1:te}function getBoundingClientRect(ee,te,ne,xe){te===void 0&&(te=!1),ne===void 0&&(ne=!1);const rt=ee.getBoundingClientRect(),it=unwrapElement(ee);let lt=createCoords(1);te&&(xe?isElement(xe)&&(lt=getScale(xe)):lt=getScale(ee));const ct=shouldAddVisualOffsets(it,ne,xe)?getVisualOffsets(it):createCoords(0);let ut=(rt.left+ct.x)/lt.x,dt=(rt.top+ct.y)/lt.y,ht=rt.width/lt.x,ft=rt.height/lt.y;if(it){const pt=getWindow(it),mt=xe&&isElement(xe)?getWindow(xe):xe;let xt=pt,yt=getFrameElement(xt);for(;yt&&xe&&mt!==xt;){const vt=getScale(yt),Et=yt.getBoundingClientRect(),_t=getComputedStyle$1(yt),wt=Et.left+(yt.clientLeft+parseFloat(_t.paddingLeft))*vt.x,St=Et.top+(yt.clientTop+parseFloat(_t.paddingTop))*vt.y;ut*=vt.x,dt*=vt.y,ht*=vt.x,ft*=vt.y,ut+=wt,dt+=St,xt=getWindow(yt),yt=getFrameElement(xt)}}return rectToClientRect({width:ht,height:ft,x:ut,y:dt})}function getWindowScrollBarX(ee,te){const ne=getNodeScroll(ee).scrollLeft;return te?te.left+ne:getBoundingClientRect(getDocumentElement(ee)).left+ne}function getHTMLOffset(ee,te){const ne=ee.getBoundingClientRect(),xe=ne.left+te.scrollLeft-getWindowScrollBarX(ee,ne),rt=ne.top+te.scrollTop;return{x:xe,y:rt}}function convertOffsetParentRelativeRectToViewportRelativeRect(ee){let{elements:te,rect:ne,offsetParent:xe,strategy:rt}=ee;const it=rt==="fixed",lt=getDocumentElement(xe),ct=te?isTopLayer(te.floating):!1;if(xe===lt||ct&&it)return ne;let ut={scrollLeft:0,scrollTop:0},dt=createCoords(1);const ht=createCoords(0),ft=isHTMLElement(xe);if((ft||!ft&&!it)&&((getNodeName(xe)!=="body"||isOverflowElement(lt))&&(ut=getNodeScroll(xe)),isHTMLElement(xe))){const mt=getBoundingClientRect(xe);dt=getScale(xe),ht.x=mt.x+xe.clientLeft,ht.y=mt.y+xe.clientTop}const pt=lt&&!ft&&!it?getHTMLOffset(lt,ut):createCoords(0);return{width:ne.width*dt.x,height:ne.height*dt.y,x:ne.x*dt.x-ut.scrollLeft*dt.x+ht.x+pt.x,y:ne.y*dt.y-ut.scrollTop*dt.y+ht.y+pt.y}}function getClientRects(ee){return Array.from(ee.getClientRects())}function getDocumentRect(ee){const te=getDocumentElement(ee),ne=getNodeScroll(ee),xe=ee.ownerDocument.body,rt=max$3(te.scrollWidth,te.clientWidth,xe.scrollWidth,xe.clientWidth),it=max$3(te.scrollHeight,te.clientHeight,xe.scrollHeight,xe.clientHeight);let lt=-ne.scrollLeft+getWindowScrollBarX(ee);const ct=-ne.scrollTop;return getComputedStyle$1(xe).direction==="rtl"&&(lt+=max$3(te.clientWidth,xe.clientWidth)-rt),{width:rt,height:it,x:lt,y:ct}}const SCROLLBAR_MAX=25;function getViewportRect(ee,te){const ne=getWindow(ee),xe=getDocumentElement(ee),rt=ne.visualViewport;let it=xe.clientWidth,lt=xe.clientHeight,ct=0,ut=0;if(rt){it=rt.width,lt=rt.height;const ht=isWebKit();(!ht||ht&&te==="fixed")&&(ct=rt.offsetLeft,ut=rt.offsetTop)}const dt=getWindowScrollBarX(xe);if(dt<=0){const ht=xe.ownerDocument,ft=ht.body,pt=getComputedStyle(ft),mt=ht.compatMode==="CSS1Compat"&&parseFloat(pt.marginLeft)+parseFloat(pt.marginRight)||0,xt=Math.abs(xe.clientWidth-ft.clientWidth-mt);xt<=SCROLLBAR_MAX&&(it-=xt)}else dt<=SCROLLBAR_MAX&&(it+=dt);return{width:it,height:lt,x:ct,y:ut}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(ee,te){const ne=getBoundingClientRect(ee,!0,te==="fixed"),xe=ne.top+ee.clientTop,rt=ne.left+ee.clientLeft,it=isHTMLElement(ee)?getScale(ee):createCoords(1),lt=ee.clientWidth*it.x,ct=ee.clientHeight*it.y,ut=rt*it.x,dt=xe*it.y;return{width:lt,height:ct,x:ut,y:dt}}function getClientRectFromClippingAncestor(ee,te,ne){let xe;if(te==="viewport")xe=getViewportRect(ee,ne);else if(te==="document")xe=getDocumentRect(getDocumentElement(ee));else if(isElement(te))xe=getInnerBoundingClientRect(te,ne);else{const rt=getVisualOffsets(ee);xe={x:te.x-rt.x,y:te.y-rt.y,width:te.width,height:te.height}}return rectToClientRect(xe)}function hasFixedPositionAncestor(ee,te){const ne=getParentNode(ee);return ne===te||!isElement(ne)||isLastTraversableNode(ne)?!1:getComputedStyle$1(ne).position==="fixed"||hasFixedPositionAncestor(ne,te)}function getClippingElementAncestors(ee,te){const ne=te.get(ee);if(ne)return ne;let xe=getOverflowAncestors(ee,[],!1).filter(ct=>isElement(ct)&&getNodeName(ct)!=="body"),rt=null;const it=getComputedStyle$1(ee).position==="fixed";let lt=it?getParentNode(ee):ee;for(;isElement(lt)&&!isLastTraversableNode(lt);){const ct=getComputedStyle$1(lt),ut=isContainingBlock(lt);!ut&&ct.position==="fixed"&&(rt=null),(it?!ut&&!rt:!ut&&ct.position==="static"&&!!rt&&absoluteOrFixed.has(rt.position)||isOverflowElement(lt)&&!ut&&hasFixedPositionAncestor(ee,lt))?xe=xe.filter(ht=>ht!==lt):rt=ct,lt=getParentNode(lt)}return te.set(ee,xe),xe}function getClippingRect(ee){let{element:te,boundary:ne,rootBoundary:xe,strategy:rt}=ee;const lt=[...ne==="clippingAncestors"?isTopLayer(te)?[]:getClippingElementAncestors(te,this._c):[].concat(ne),xe],ct=lt[0],ut=lt.reduce((dt,ht)=>{const ft=getClientRectFromClippingAncestor(te,ht,rt);return dt.top=max$3(ft.top,dt.top),dt.right=min$3(ft.right,dt.right),dt.bottom=min$3(ft.bottom,dt.bottom),dt.left=max$3(ft.left,dt.left),dt},getClientRectFromClippingAncestor(te,ct,rt));return{width:ut.right-ut.left,height:ut.bottom-ut.top,x:ut.left,y:ut.top}}function getDimensions$1(ee){const{width:te,height:ne}=getCssDimensions(ee);return{width:te,height:ne}}function getRectRelativeToOffsetParent(ee,te,ne){const xe=isHTMLElement(te),rt=getDocumentElement(te),it=ne==="fixed",lt=getBoundingClientRect(ee,!0,it,te);let ct={scrollLeft:0,scrollTop:0};const ut=createCoords(0);function dt(){ut.x=getWindowScrollBarX(rt)}if(xe||!xe&&!it)if((getNodeName(te)!=="body"||isOverflowElement(rt))&&(ct=getNodeScroll(te)),xe){const mt=getBoundingClientRect(te,!0,it,te);ut.x=mt.x+te.clientLeft,ut.y=mt.y+te.clientTop}else rt&&dt();it&&!xe&&rt&&dt();const ht=rt&&!xe&&!it?getHTMLOffset(rt,ct):createCoords(0),ft=lt.left+ct.scrollLeft-ut.x-ht.x,pt=lt.top+ct.scrollTop-ut.y-ht.y;return{x:ft,y:pt,width:lt.width,height:lt.height}}function isStaticPositioned(ee){return getComputedStyle$1(ee).position==="static"}function getTrueOffsetParent(ee,te){if(!isHTMLElement(ee)||getComputedStyle$1(ee).position==="fixed")return null;if(te)return te(ee);let ne=ee.offsetParent;return getDocumentElement(ee)===ne&&(ne=ne.ownerDocument.body),ne}function getOffsetParent(ee,te){const ne=getWindow(ee);if(isTopLayer(ee))return ne;if(!isHTMLElement(ee)){let rt=getParentNode(ee);for(;rt&&!isLastTraversableNode(rt);){if(isElement(rt)&&!isStaticPositioned(rt))return rt;rt=getParentNode(rt)}return ne}let xe=getTrueOffsetParent(ee,te);for(;xe&&isTableElement(xe)&&isStaticPositioned(xe);)xe=getTrueOffsetParent(xe,te);return xe&&isLastTraversableNode(xe)&&isStaticPositioned(xe)&&!isContainingBlock(xe)?ne:xe||getContainingBlock(ee)||ne}const getElementRects=async function(ee){const te=this.getOffsetParent||getOffsetParent,ne=this.getDimensions,xe=await ne(ee.floating);return{reference:getRectRelativeToOffsetParent(ee.reference,await te(ee.floating),ee.strategy),floating:{x:0,y:0,width:xe.width,height:xe.height}}};function isRTL(ee){return getComputedStyle$1(ee).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions:getDimensions$1,getScale,isElement,isRTL};function rectsAreEqual(ee,te){return ee.x===te.x&&ee.y===te.y&&ee.width===te.width&&ee.height===te.height}function observeMove(ee,te){let ne=null,xe;const rt=getDocumentElement(ee);function it(){var ct;clearTimeout(xe),(ct=ne)==null||ct.disconnect(),ne=null}function lt(ct,ut){ct===void 0&&(ct=!1),ut===void 0&&(ut=1),it();const dt=ee.getBoundingClientRect(),{left:ht,top:ft,width:pt,height:mt}=dt;if(ct||te(),!pt||!mt)return;const xt=floor(ft),yt=floor(rt.clientWidth-(ht+pt)),vt=floor(rt.clientHeight-(ft+mt)),Et=floor(ht),wt={rootMargin:-xt+"px "+-yt+"px "+-vt+"px "+-Et+"px",threshold:max$3(0,min$3(1,ut))||1};let St=!0;function Ct(jt){const Rt=jt[0].intersectionRatio;if(Rt!==ut){if(!St)return lt();Rt?lt(!1,Rt):xe=setTimeout(()=>{lt(!1,1e-7)},1e3)}Rt===1&&!rectsAreEqual(dt,ee.getBoundingClientRect())&&lt(),St=!1}try{ne=new IntersectionObserver(Ct,{...wt,root:rt.ownerDocument})}catch{ne=new IntersectionObserver(Ct,wt)}ne.observe(ee)}return lt(!0),it}function autoUpdate(ee,te,ne,xe){xe===void 0&&(xe={});const{ancestorScroll:rt=!0,ancestorResize:it=!0,elementResize:lt=typeof ResizeObserver=="function",layoutShift:ct=typeof IntersectionObserver=="function",animationFrame:ut=!1}=xe,dt=unwrapElement(ee),ht=rt||it?[...dt?getOverflowAncestors(dt):[],...getOverflowAncestors(te)]:[];ht.forEach(Et=>{rt&&Et.addEventListener("scroll",ne,{passive:!0}),it&&Et.addEventListener("resize",ne)});const ft=dt&&ct?observeMove(dt,ne):null;let pt=-1,mt=null;lt&&(mt=new ResizeObserver(Et=>{let[_t]=Et;_t&&_t.target===dt&&mt&&(mt.unobserve(te),cancelAnimationFrame(pt),pt=requestAnimationFrame(()=>{var wt;(wt=mt)==null||wt.observe(te)})),ne()}),dt&&!ut&&mt.observe(dt),mt.observe(te));let xt,yt=ut?getBoundingClientRect(ee):null;ut&&vt();function vt(){const Et=getBoundingClientRect(ee);yt&&!rectsAreEqual(yt,Et)&&ne(),yt=Et,xt=requestAnimationFrame(vt)}return ne(),()=>{var Et;ht.forEach(_t=>{rt&&_t.removeEventListener("scroll",ne),it&&_t.removeEventListener("resize",ne)}),ft?.(),(Et=mt)==null||Et.disconnect(),mt=null,ut&&cancelAnimationFrame(xt)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(ee,te,ne)=>{const xe=new Map,rt={platform,...ne},it={...rt.platform,_c:xe};return computePosition$1(ee,te,{...rt,platform:it})};var isClient=typeof document<"u",noop$2=function(){},index$2=isClient?reactExports.useLayoutEffect:noop$2;function deepEqual$1(ee,te){if(ee===te)return!0;if(typeof ee!=typeof te)return!1;if(typeof ee=="function"&&ee.toString()===te.toString())return!0;let ne,xe,rt;if(ee&&te&&typeof ee=="object"){if(Array.isArray(ee)){if(ne=ee.length,ne!==te.length)return!1;for(xe=ne;xe--!==0;)if(!deepEqual$1(ee[xe],te[xe]))return!1;return!0}if(rt=Object.keys(ee),ne=rt.length,ne!==Object.keys(te).length)return!1;for(xe=ne;xe--!==0;)if(!{}.hasOwnProperty.call(te,rt[xe]))return!1;for(xe=ne;xe--!==0;){const it=rt[xe];if(!(it==="_owner"&&ee.$$typeof)&&!deepEqual$1(ee[it],te[it]))return!1}return!0}return ee!==ee&&te!==te}function getDPR(ee){return typeof window>"u"?1:(ee.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(ee,te){const ne=getDPR(ee);return Math.round(te*ne)/ne}function useLatestRef(ee){const te=reactExports.useRef(ee);return index$2(()=>{te.current=ee}),te}function useFloating(ee){ee===void 0&&(ee={});const{placement:te="bottom",strategy:ne="absolute",middleware:xe=[],platform:rt,elements:{reference:it,floating:lt}={},transform:ct=!0,whileElementsMounted:ut,open:dt}=ee,[ht,ft]=reactExports.useState({x:0,y:0,strategy:ne,placement:te,middlewareData:{},isPositioned:!1}),[pt,mt]=reactExports.useState(xe);deepEqual$1(pt,xe)||mt(xe);const[xt,yt]=reactExports.useState(null),[vt,Et]=reactExports.useState(null),_t=reactExports.useCallback(Tt=>{Tt!==jt.current&&(jt.current=Tt,yt(Tt))},[]),wt=reactExports.useCallback(Tt=>{Tt!==Rt.current&&(Rt.current=Tt,Et(Tt))},[]),St=it||xt,Ct=lt||vt,jt=reactExports.useRef(null),Rt=reactExports.useRef(null),Pt=reactExports.useRef(ht),Ot=ut!=null,Ft=useLatestRef(ut),Lt=useLatestRef(rt),Bt=useLatestRef(dt),Gt=reactExports.useCallback(()=>{if(!jt.current||!Rt.current)return;const Tt={placement:te,strategy:ne,middleware:pt};Lt.current&&(Tt.platform=Lt.current),computePosition(jt.current,Rt.current,Tt).then(Mt=>{const $t={...Mt,isPositioned:Bt.current!==!1};It.current&&!deepEqual$1(Pt.current,$t)&&(Pt.current=$t,reactDomExports.flushSync(()=>{ft($t)}))})},[pt,te,ne,Lt,Bt]);index$2(()=>{dt===!1&&Pt.current.isPositioned&&(Pt.current.isPositioned=!1,ft(Tt=>({...Tt,isPositioned:!1})))},[dt]);const It=reactExports.useRef(!1);index$2(()=>(It.current=!0,()=>{It.current=!1}),[]),index$2(()=>{if(St&&(jt.current=St),Ct&&(Rt.current=Ct),St&&Ct){if(Ft.current)return Ft.current(St,Ct,Gt);Gt()}},[St,Ct,Gt,Ft,Ot]);const qt=reactExports.useMemo(()=>({reference:jt,floating:Rt,setReference:_t,setFloating:wt}),[_t,wt]),Nt=reactExports.useMemo(()=>({reference:St,floating:Ct}),[St,Ct]),Dt=reactExports.useMemo(()=>{const Tt={position:ne,left:0,top:0};if(!Nt.floating)return Tt;const Mt=roundByDPR(Nt.floating,ht.x),$t=roundByDPR(Nt.floating,ht.y);return ct?{...Tt,transform:"translate("+Mt+"px, "+$t+"px)",...getDPR(Nt.floating)>=1.5&&{willChange:"transform"}}:{position:ne,left:Mt,top:$t}},[ne,ct,Nt.floating,ht.x,ht.y]);return reactExports.useMemo(()=>({...ht,update:Gt,refs:qt,elements:Nt,floatingStyles:Dt}),[ht,Gt,qt,Nt,Dt])}const arrow$1=ee=>{function te(ne){return{}.hasOwnProperty.call(ne,"current")}return{name:"arrow",options:ee,fn(ne){const{element:xe,padding:rt}=typeof ee=="function"?ee(ne):ee;return xe&&te(xe)?xe.current!=null?arrow$2({element:xe.current,padding:rt}).fn(ne):{}:xe?arrow$2({element:xe,padding:rt}).fn(ne):{}}}},offset=(ee,te)=>({...offset$1(ee),options:[ee,te]}),shift=(ee,te)=>({...shift$1(ee),options:[ee,te]}),limitShift=(ee,te)=>({...limitShift$1(ee),options:[ee,te]}),flip=(ee,te)=>({...flip$1(ee),options:[ee,te]}),size=(ee,te)=>({...size$1(ee),options:[ee,te]}),hide=(ee,te)=>({...hide$1(ee),options:[ee,te]}),arrow=(ee,te)=>({...arrow$1(ee),options:[ee,te]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((ee,te)=>{const{children:ne,width:xe=10,height:rt=5,...it}=ee;return jsxRuntimeExports.jsx(Primitive$2.svg,{...it,ref:te,width:xe,height:rt,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:ee.asChild?ne:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$6=Arrow$1;function useSize(ee){const[te,ne]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(ee){ne({width:ee.offsetWidth,height:ee.offsetHeight});const xe=new ResizeObserver(rt=>{if(!Array.isArray(rt)||!rt.length)return;const it=rt[0];let lt,ct;if("borderBoxSize"in it){const ut=it.borderBoxSize,dt=Array.isArray(ut)?ut[0]:ut;lt=dt.inlineSize,ct=dt.blockSize}else lt=ee.offsetWidth,ct=ee.offsetHeight;ne({width:lt,height:ct})});return xe.observe(ee,{box:"border-box"}),()=>xe.unobserve(ee)}else ne(void 0)},[ee]),te}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$2(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=ee=>{const{__scopePopper:te,children:ne}=ee,[xe,rt]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:te,anchor:xe,onAnchorChange:rt,children:ne})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((ee,te)=>{const{__scopePopper:ne,virtualRef:xe,...rt}=ee,it=usePopperContext(ANCHOR_NAME,ne),lt=reactExports.useRef(null),ct=useComposedRefs(te,lt),ut=reactExports.useRef(null);return reactExports.useEffect(()=>{const dt=ut.current;ut.current=xe?.current||lt.current,dt!==ut.current&&it.onAnchorChange(ut.current)}),xe?null:jsxRuntimeExports.jsx(Primitive$2.div,{...rt,ref:ct})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((ee,te)=>{const{__scopePopper:ne,side:xe="bottom",sideOffset:rt=0,align:it="center",alignOffset:lt=0,arrowPadding:ct=0,avoidCollisions:ut=!0,collisionBoundary:dt=[],collisionPadding:ht=0,sticky:ft="partial",hideWhenDetached:pt=!1,updatePositionStrategy:mt="optimized",onPlaced:xt,...yt}=ee,vt=usePopperContext(CONTENT_NAME$4,ne),[Et,_t]=reactExports.useState(null),wt=useComposedRefs(te,Xt=>_t(Xt)),[St,Ct]=reactExports.useState(null),jt=useSize(St),Rt=jt?.width??0,Pt=jt?.height??0,Ot=xe+(it!=="center"?"-"+it:""),Ft=typeof ht=="number"?ht:{top:0,right:0,bottom:0,left:0,...ht},Lt=Array.isArray(dt)?dt:[dt],Bt=Lt.length>0,Gt={padding:Ft,boundary:Lt.filter(isNotNull),altBoundary:Bt},{refs:It,floatingStyles:qt,placement:Nt,isPositioned:Dt,middlewareData:Tt}=useFloating({strategy:"fixed",placement:Ot,whileElementsMounted:(...Xt)=>autoUpdate(...Xt,{animationFrame:mt==="always"}),elements:{reference:vt.anchor},middleware:[offset({mainAxis:rt+Pt,alignmentAxis:lt}),ut&&shift({mainAxis:!0,crossAxis:!1,limiter:ft==="partial"?limitShift():void 0,...Gt}),ut&&flip({...Gt}),size({...Gt,apply:({elements:Xt,rects:tr,availableWidth:rr,availableHeight:ur})=>{const{width:Jt,height:Zt}=tr.reference,or=Xt.floating.style;or.setProperty("--radix-popper-available-width",`${rr}px`),or.setProperty("--radix-popper-available-height",`${ur}px`),or.setProperty("--radix-popper-anchor-width",`${Jt}px`),or.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),St&&arrow({element:St,padding:ct}),transformOrigin({arrowWidth:Rt,arrowHeight:Pt}),pt&&hide({strategy:"referenceHidden",...Gt})]}),[Mt,$t]=getSideAndAlignFromPlacement(Nt),Ht=useCallbackRef$1(xt);useLayoutEffect2(()=>{Dt&&Ht?.()},[Dt,Ht]);const Wt=Tt.arrow?.x,Vt=Tt.arrow?.y,Yt=Tt.arrow?.centerOffset!==0,[Qt,ar]=reactExports.useState();return useLayoutEffect2(()=>{Et&&ar(window.getComputedStyle(Et).zIndex)},[Et]),jsxRuntimeExports.jsx("div",{ref:It.setFloating,"data-radix-popper-content-wrapper":"",style:{...qt,transform:Dt?qt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qt,"--radix-popper-transform-origin":[Tt.transformOrigin?.x,Tt.transformOrigin?.y].join(" "),...Tt.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:ee.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:ne,placedSide:Mt,onArrowChange:Ct,arrowX:Wt,arrowY:Vt,shouldHideArrow:Yt,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-side":Mt,"data-align":$t,...yt,ref:wt,style:{...yt.style,animation:Dt?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(te,ne){const{__scopePopper:xe,...rt}=te,it=useContentContext(ARROW_NAME$1,xe),lt=OPPOSITE_SIDE[it.placedSide];return jsxRuntimeExports.jsx("span",{ref:it.onArrowChange,style:{position:"absolute",left:it.arrowX,top:it.arrowY,[lt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[it.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[it.placedSide],visibility:it.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$6,{...rt,ref:ne,style:{...rt.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(ee){return ee!==null}var transformOrigin=ee=>({name:"transformOrigin",options:ee,fn(te){const{placement:ne,rects:xe,middlewareData:rt}=te,lt=rt.arrow?.centerOffset!==0,ct=lt?0:ee.arrowWidth,ut=lt?0:ee.arrowHeight,[dt,ht]=getSideAndAlignFromPlacement(ne),ft={start:"0%",center:"50%",end:"100%"}[ht],pt=(rt.arrow?.x??0)+ct/2,mt=(rt.arrow?.y??0)+ut/2;let xt="",yt="";return dt==="bottom"?(xt=lt?ft:`${pt}px`,yt=`${-ut}px`):dt==="top"?(xt=lt?ft:`${pt}px`,yt=`${xe.floating.height+ut}px`):dt==="right"?(xt=`${-ut}px`,yt=lt?ft:`${mt}px`):dt==="left"&&(xt=`${xe.floating.width+ut}px`,yt=lt?ft:`${mt}px`),{data:{x:xt,y:yt}}}});function getSideAndAlignFromPlacement(ee){const[te,ne="center"]=ee.split("-");return[te,ne]}var Root2$2=Popper,Anchor$1=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,PORTAL_NAME$2="Portal",Portal$2=reactExports.forwardRef((ee,te)=>{const{container:ne,...xe}=ee,[rt,it]=reactExports.useState(!1);useLayoutEffect2(()=>it(!0),[]);const lt=ne||rt&&globalThis?.document?.body;return lt?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$2.div,{...xe,ref:te}),lt):null});Portal$2.displayName=PORTAL_NAME$2;function createSlot$1(ee){const te=createSlotClone$1(ee),ne=reactExports.forwardRef((xe,rt)=>{const{children:it,...lt}=xe,ct=reactExports.Children.toArray(it),ut=ct.find(isSlottable$1);if(ut){const dt=ut.props.children,ht=ct.map(ft=>ft===ut?reactExports.Children.count(dt)>1?reactExports.Children.only(null):reactExports.isValidElement(dt)?dt.props.children:null:ft);return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:reactExports.isValidElement(dt)?reactExports.cloneElement(dt,void 0,ht):null})}return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:it})});return ne.displayName=`${ee}.Slot`,ne}function createSlotClone$1(ee){const te=reactExports.forwardRef((ne,xe)=>{const{children:rt,...it}=ne;if(reactExports.isValidElement(rt)){const lt=getElementRef$1(rt),ct=mergeProps$1(it,rt.props);return rt.type!==reactExports.Fragment&&(ct.ref=xe?composeRefs(xe,lt):lt),reactExports.cloneElement(rt,ct)}return reactExports.Children.count(rt)>1?reactExports.Children.only(null):null});return te.displayName=`${ee}.SlotClone`,te}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(ee){return reactExports.isValidElement(ee)&&typeof ee.type=="function"&&"__radixId"in ee.type&&ee.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(ee,te){const ne={...te};for(const xe in te){const rt=ee[xe],it=te[xe];/^on[A-Z]/.test(xe)?rt&&it?ne[xe]=(...ct)=>{const ut=it(...ct);return rt(...ct),ut}:rt&&(ne[xe]=rt):xe==="style"?ne[xe]={...rt,...it}:xe==="className"&&(ne[xe]=[rt,it].filter(Boolean).join(" "))}return{...ee,...ne}}function getElementRef$1(ee){let te=Object.getOwnPropertyDescriptor(ee.props,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning;return ne?ee.ref:(te=Object.getOwnPropertyDescriptor(ee,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning,ne?ee.props.ref:ee.props.ref||ee.ref)}function usePrevious(ee){const te=reactExports.useRef({value:ee,previous:ee});return reactExports.useMemo(()=>(te.current.value!==ee&&(te.current.previous=te.current.value,te.current.value=ee),te.current.previous),[ee])}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((ee,te)=>jsxRuntimeExports.jsx(Primitive$2.span,{...ee,ref:te,style:{...VISUALLY_HIDDEN_STYLES,...ee.style}}));VisuallyHidden.displayName=NAME;var getDefaultParent=function(ee){if(typeof document>"u")return null;var te=Array.isArray(ee)?ee[0]:ee;return te.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(ee){return ee&&(ee.host||unwrapHost(ee.parentNode))},correctTargets=function(ee,te){return te.map(function(ne){if(ee.contains(ne))return ne;var xe=unwrapHost(ne);return xe&&ee.contains(xe)?xe:(console.error("aria-hidden",ne,"in not contained inside",ee,". Doing nothing"),null)}).filter(function(ne){return!!ne})},applyAttributeToOthers=function(ee,te,ne,xe){var rt=correctTargets(te,Array.isArray(ee)?ee:[ee]);markerMap[ne]||(markerMap[ne]=new WeakMap);var it=markerMap[ne],lt=[],ct=new Set,ut=new Set(rt),dt=function(ft){!ft||ct.has(ft)||(ct.add(ft),dt(ft.parentNode))};rt.forEach(dt);var ht=function(ft){!ft||ut.has(ft)||Array.prototype.forEach.call(ft.children,function(pt){if(ct.has(pt))ht(pt);else try{var mt=pt.getAttribute(xe),xt=mt!==null&&mt!=="false",yt=(counterMap.get(pt)||0)+1,vt=(it.get(pt)||0)+1;counterMap.set(pt,yt),it.set(pt,vt),lt.push(pt),yt===1&&xt&&uncontrolledNodes.set(pt,!0),vt===1&&pt.setAttribute(ne,"true"),xt||pt.setAttribute(xe,"true")}catch(Et){console.error("aria-hidden: cannot operate on ",pt,Et)}})};return ht(te),ct.clear(),lockCount++,function(){lt.forEach(function(ft){var pt=counterMap.get(ft)-1,mt=it.get(ft)-1;counterMap.set(ft,pt),it.set(ft,mt),pt||(uncontrolledNodes.has(ft)||ft.removeAttribute(xe),uncontrolledNodes.delete(ft)),mt||ft.removeAttribute(ne)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(ee,te,ne){ne===void 0&&(ne="data-aria-hidden");var xe=Array.from(Array.isArray(ee)?ee:[ee]),rt=getDefaultParent(ee);return rt?(xe.push.apply(xe,Array.from(rt.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(xe,rt,ne,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(ee,te){return typeof ee=="function"?ee(te):ee&&(ee.current=te),ee}function useCallbackRef(ee,te){var ne=reactExports.useState(function(){return{value:ee,callback:te,facade:{get current(){return ne.value},set current(xe){var rt=ne.value;rt!==xe&&(ne.value=xe,ne.callback(xe,rt))}}}})[0];return ne.callback=te,ne.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(ee,te){var ne=useCallbackRef(null,function(xe){return ee.forEach(function(rt){return assignRef(rt,xe)})});return useIsomorphicLayoutEffect$1(function(){var xe=currentValues.get(ne);if(xe){var rt=new Set(xe),it=new Set(ee),lt=ne.current;rt.forEach(function(ct){it.has(ct)||assignRef(ct,null)}),it.forEach(function(ct){rt.has(ct)||assignRef(ct,lt)})}currentValues.set(ne,ee)},[ee]),ne}function ItoI(ee){return ee}function innerCreateMedium(ee,te){te===void 0&&(te=ItoI);var ne=[],xe=!1,rt={read:function(){if(xe)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return ne.length?ne[ne.length-1]:ee},useMedium:function(it){var lt=te(it,xe);return ne.push(lt),function(){ne=ne.filter(function(ct){return ct!==lt})}},assignSyncMedium:function(it){for(xe=!0;ne.length;){var lt=ne;ne=[],lt.forEach(it)}ne={push:function(ct){return it(ct)},filter:function(){return ne}}},assignMedium:function(it){xe=!0;var lt=[];if(ne.length){var ct=ne;ne=[],ct.forEach(it),lt=ne}var ut=function(){var ht=lt;lt=[],ht.forEach(it)},dt=function(){return Promise.resolve().then(ut)};dt(),ne={push:function(ht){lt.push(ht),dt()},filter:function(ht){return lt=lt.filter(ht),ne}}}};return rt}function createSidecarMedium(ee){ee===void 0&&(ee={});var te=innerCreateMedium(null);return te.options=__assign({async:!0,ssr:!1},ee),te}var SideCar$1=function(ee){var te=ee.sideCar,ne=__rest(ee,["sideCar"]);if(!te)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var xe=te.read();if(!xe)throw new Error("Sidecar medium not found");return reactExports.createElement(xe,__assign({},ne))};SideCar$1.isSideCarExport=!0;function exportSidecar(ee,te){return ee.useMedium(te),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(ee,te){var ne=reactExports.useRef(null),xe=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),rt=xe[0],it=xe[1],lt=ee.forwardProps,ct=ee.children,ut=ee.className,dt=ee.removeScrollBar,ht=ee.enabled,ft=ee.shards,pt=ee.sideCar,mt=ee.noRelative,xt=ee.noIsolation,yt=ee.inert,vt=ee.allowPinchZoom,Et=ee.as,_t=Et===void 0?"div":Et,wt=ee.gapMode,St=__rest(ee,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Ct=pt,jt=useMergeRefs([ne,te]),Rt=__assign(__assign({},St),rt);return reactExports.createElement(reactExports.Fragment,null,ht&&reactExports.createElement(Ct,{sideCar:effectCar,removeScrollBar:dt,shards:ft,noRelative:mt,noIsolation:xt,inert:yt,setCallbacks:it,allowPinchZoom:!!vt,lockRef:ne,gapMode:wt}),lt?reactExports.cloneElement(reactExports.Children.only(ct),__assign(__assign({},Rt),{ref:jt})):reactExports.createElement(_t,__assign({},Rt,{className:ut,ref:jt}),ct))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var ee=document.createElement("style");ee.type="text/css";var te=getNonce();return te&&ee.setAttribute("nonce",te),ee}function injectStyles(ee,te){ee.styleSheet?ee.styleSheet.cssText=te:ee.appendChild(document.createTextNode(te))}function insertStyleTag(ee){var te=document.head||document.getElementsByTagName("head")[0];te.appendChild(ee)}var stylesheetSingleton=function(){var ee=0,te=null;return{add:function(ne){ee==0&&(te=makeStyleTag())&&(injectStyles(te,ne),insertStyleTag(te)),ee++},remove:function(){ee--,!ee&&te&&(te.parentNode&&te.parentNode.removeChild(te),te=null)}}},styleHookSingleton=function(){var ee=stylesheetSingleton();return function(te,ne){reactExports.useEffect(function(){return ee.add(te),function(){ee.remove()}},[te&&ne])}},styleSingleton=function(){var ee=styleHookSingleton(),te=function(ne){var xe=ne.styles,rt=ne.dynamic;return ee(xe,rt),null};return te},zeroGap={left:0,top:0,right:0,gap:0},parse$5=function(ee){return parseInt(ee||"",10)||0},getOffset$1=function(ee){var te=window.getComputedStyle(document.body),ne=te[ee==="padding"?"paddingLeft":"marginLeft"],xe=te[ee==="padding"?"paddingTop":"marginTop"],rt=te[ee==="padding"?"paddingRight":"marginRight"];return[parse$5(ne),parse$5(xe),parse$5(rt)]},getGapWidth=function(ee){if(ee===void 0&&(ee="margin"),typeof window>"u")return zeroGap;var te=getOffset$1(ee),ne=document.documentElement.clientWidth,xe=window.innerWidth;return{left:te[0],top:te[1],right:te[2],gap:Math.max(0,xe-ne+te[2]-te[0])}},Style$2=styleSingleton(),lockAttribute="data-scroll-locked",getStyles$1=function(ee,te,ne,xe){var rt=ee.left,it=ee.top,lt=ee.right,ct=ee.gap;return ne===void 0&&(ne="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(xe,`;
   padding-right: `).concat(ct,"px ").concat(xe,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(xe,`;
    overscroll-behavior: contain;
    `).concat([te&&"position: relative ".concat(xe,";"),ne==="margin"&&`
    padding-left: `.concat(rt,`px;
    padding-top: `).concat(it,`px;
    padding-right: `).concat(lt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ct,"px ").concat(xe,`;
    `),ne==="padding"&&"padding-right: ".concat(ct,"px ").concat(xe,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ct,"px ").concat(xe,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ct,"px ").concat(xe,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(xe,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(xe,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(ct,`px;
  }
`)},getCurrentUseCounter=function(){var ee=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(ee)?ee:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var ee=getCurrentUseCounter()-1;ee<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,ee.toString())}},[])},RemoveScrollBar=function(ee){var te=ee.noRelative,ne=ee.noImportant,xe=ee.gapMode,rt=xe===void 0?"margin":xe;useLockAttribute();var it=reactExports.useMemo(function(){return getGapWidth(rt)},[rt]);return reactExports.createElement(Style$2,{styles:getStyles$1(it,!te,rt,ne?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(ee){return ee.tagName==="TEXTAREA"},elementCanBeScrolled=function(ee,te){if(!(ee instanceof Element))return!1;var ne=window.getComputedStyle(ee);return ne[te]!=="hidden"&&!(ne.overflowY===ne.overflowX&&!alwaysContainsScroll(ee)&&ne[te]==="visible")},elementCouldBeVScrolled=function(ee){return elementCanBeScrolled(ee,"overflowY")},elementCouldBeHScrolled=function(ee){return elementCanBeScrolled(ee,"overflowX")},locationCouldBeScrolled=function(ee,te){var ne=te.ownerDocument,xe=te;do{typeof ShadowRoot<"u"&&xe instanceof ShadowRoot&&(xe=xe.host);var rt=elementCouldBeScrolled(ee,xe);if(rt){var it=getScrollVariables(ee,xe),lt=it[1],ct=it[2];if(lt>ct)return!0}xe=xe.parentNode}while(xe&&xe!==ne.body);return!1},getVScrollVariables=function(ee){var te=ee.scrollTop,ne=ee.scrollHeight,xe=ee.clientHeight;return[te,ne,xe]},getHScrollVariables=function(ee){var te=ee.scrollLeft,ne=ee.scrollWidth,xe=ee.clientWidth;return[te,ne,xe]},elementCouldBeScrolled=function(ee,te){return ee==="v"?elementCouldBeVScrolled(te):elementCouldBeHScrolled(te)},getScrollVariables=function(ee,te){return ee==="v"?getVScrollVariables(te):getHScrollVariables(te)},getDirectionFactor=function(ee,te){return ee==="h"&&te==="rtl"?-1:1},handleScroll=function(ee,te,ne,xe,rt){var it=getDirectionFactor(ee,window.getComputedStyle(te).direction),lt=it*xe,ct=ne.target,ut=te.contains(ct),dt=!1,ht=lt>0,ft=0,pt=0;do{if(!ct)break;var mt=getScrollVariables(ee,ct),xt=mt[0],yt=mt[1],vt=mt[2],Et=yt-vt-it*xt;(xt||Et)&&elementCouldBeScrolled(ee,ct)&&(ft+=Et,pt+=xt);var _t=ct.parentNode;ct=_t&&_t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_t.host:_t}while(!ut&&ct!==document.body||ut&&(te.contains(ct)||te===ct));return(ht&&Math.abs(ft)<1||!ht&&Math.abs(pt)<1)&&(dt=!0),dt},getTouchXY=function(ee){return"changedTouches"in ee?[ee.changedTouches[0].clientX,ee.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(ee){return[ee.deltaX,ee.deltaY]},extractRef=function(ee){return ee&&"current"in ee?ee.current:ee},deltaCompare=function(ee,te){return ee[0]===te[0]&&ee[1]===te[1]},generateStyle=function(ee){return`
  .block-interactivity-`.concat(ee,` {pointer-events: none;}
  .allow-interactivity-`).concat(ee,` {pointer-events: all;}
`)},idCounter$1=0,lockStack=[];function RemoveScrollSideCar(ee){var te=reactExports.useRef([]),ne=reactExports.useRef([0,0]),xe=reactExports.useRef(),rt=reactExports.useState(idCounter$1++)[0],it=reactExports.useState(styleSingleton)[0],lt=reactExports.useRef(ee);reactExports.useEffect(function(){lt.current=ee},[ee]),reactExports.useEffect(function(){if(ee.inert){document.body.classList.add("block-interactivity-".concat(rt));var yt=__spreadArray([ee.lockRef.current],(ee.shards||[]).map(extractRef),!0).filter(Boolean);return yt.forEach(function(vt){return vt.classList.add("allow-interactivity-".concat(rt))}),function(){document.body.classList.remove("block-interactivity-".concat(rt)),yt.forEach(function(vt){return vt.classList.remove("allow-interactivity-".concat(rt))})}}},[ee.inert,ee.lockRef.current,ee.shards]);var ct=reactExports.useCallback(function(yt,vt){if("touches"in yt&&yt.touches.length===2||yt.type==="wheel"&&yt.ctrlKey)return!lt.current.allowPinchZoom;var Et=getTouchXY(yt),_t=ne.current,wt="deltaX"in yt?yt.deltaX:_t[0]-Et[0],St="deltaY"in yt?yt.deltaY:_t[1]-Et[1],Ct,jt=yt.target,Rt=Math.abs(wt)>Math.abs(St)?"h":"v";if("touches"in yt&&Rt==="h"&&jt.type==="range")return!1;var Pt=window.getSelection(),Ot=Pt&&Pt.anchorNode,Ft=Ot?Ot===jt||Ot.contains(jt):!1;if(Ft)return!1;var Lt=locationCouldBeScrolled(Rt,jt);if(!Lt)return!0;if(Lt?Ct=Rt:(Ct=Rt==="v"?"h":"v",Lt=locationCouldBeScrolled(Rt,jt)),!Lt)return!1;if(!xe.current&&"changedTouches"in yt&&(wt||St)&&(xe.current=Ct),!Ct)return!0;var Bt=xe.current||Ct;return handleScroll(Bt,vt,yt,Bt==="h"?wt:St)},[]),ut=reactExports.useCallback(function(yt){var vt=yt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==it)){var Et="deltaY"in vt?getDeltaXY(vt):getTouchXY(vt),_t=te.current.filter(function(Ct){return Ct.name===vt.type&&(Ct.target===vt.target||vt.target===Ct.shadowParent)&&deltaCompare(Ct.delta,Et)})[0];if(_t&&_t.should){vt.cancelable&&vt.preventDefault();return}if(!_t){var wt=(lt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Ct){return Ct.contains(vt.target)}),St=wt.length>0?ct(vt,wt[0]):!lt.current.noIsolation;St&&vt.cancelable&&vt.preventDefault()}}},[]),dt=reactExports.useCallback(function(yt,vt,Et,_t){var wt={name:yt,delta:vt,target:Et,should:_t,shadowParent:getOutermostShadowParent(Et)};te.current.push(wt),setTimeout(function(){te.current=te.current.filter(function(St){return St!==wt})},1)},[]),ht=reactExports.useCallback(function(yt){ne.current=getTouchXY(yt),xe.current=void 0},[]),ft=reactExports.useCallback(function(yt){dt(yt.type,getDeltaXY(yt),yt.target,ct(yt,ee.lockRef.current))},[]),pt=reactExports.useCallback(function(yt){dt(yt.type,getTouchXY(yt),yt.target,ct(yt,ee.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(it),ee.setCallbacks({onScrollCapture:ft,onWheelCapture:ft,onTouchMoveCapture:pt}),document.addEventListener("wheel",ut,nonPassive),document.addEventListener("touchmove",ut,nonPassive),document.addEventListener("touchstart",ht,nonPassive),function(){lockStack=lockStack.filter(function(yt){return yt!==it}),document.removeEventListener("wheel",ut,nonPassive),document.removeEventListener("touchmove",ut,nonPassive),document.removeEventListener("touchstart",ht,nonPassive)}},[]);var mt=ee.removeScrollBar,xt=ee.inert;return reactExports.createElement(reactExports.Fragment,null,xt?reactExports.createElement(it,{styles:generateStyle(rt)}):null,mt?reactExports.createElement(RemoveScrollBar,{noRelative:ee.noRelative,gapMode:ee.gapMode}):null)}function getOutermostShadowParent(ee){for(var te=null;ee!==null;)ee instanceof ShadowRoot&&(te=ee.host,ee=ee.host),ee=ee.parentNode;return te}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(ee,te){return reactExports.createElement(RemoveScroll,__assign({},ee,{ref:te,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope$2(SELECT_NAME,[createCollectionScope$2,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=ee=>{const{__scopeSelect:te,children:ne,open:xe,defaultOpen:rt,onOpenChange:it,value:lt,defaultValue:ct,onValueChange:ut,dir:dt,name:ht,autoComplete:ft,disabled:pt,required:mt,form:xt}=ee,yt=usePopperScope(te),[vt,Et]=reactExports.useState(null),[_t,wt]=reactExports.useState(null),[St,Ct]=reactExports.useState(!1),jt=useDirection(dt),[Rt,Pt]=useControllableState({prop:xe,defaultProp:rt??!1,onChange:it,caller:SELECT_NAME}),[Ot,Ft]=useControllableState({prop:lt,defaultProp:ct,onChange:ut,caller:SELECT_NAME}),Lt=reactExports.useRef(null),Bt=vt?xt||!!vt.closest("form"):!0,[Gt,It]=reactExports.useState(new Set),qt=Array.from(Gt).map(Nt=>Nt.props.value).join(";");return jsxRuntimeExports.jsx(Root2$2,{...yt,children:jsxRuntimeExports.jsxs(SelectProvider,{required:mt,scope:te,trigger:vt,onTriggerChange:Et,valueNode:_t,onValueNodeChange:wt,valueNodeHasChildren:St,onValueNodeHasChildrenChange:Ct,contentId:useId(),value:Ot,onValueChange:Ft,open:Rt,onOpenChange:Pt,dir:jt,triggerPointerDownPosRef:Lt,disabled:pt,children:[jsxRuntimeExports.jsx(Collection$2.Provider,{scope:te,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:ee.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Nt=>{It(Dt=>new Set(Dt).add(Nt))},[]),onNativeOptionRemove:reactExports.useCallback(Nt=>{It(Dt=>{const Tt=new Set(Dt);return Tt.delete(Nt),Tt})},[]),children:ne})}),Bt?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:mt,tabIndex:-1,name:ht,autoComplete:ft,value:Ot,onChange:Nt=>Ft(Nt.target.value),disabled:pt,form:xt,children:[Ot===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Gt)]},qt):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$3="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,disabled:xe=!1,...rt}=ee,it=usePopperScope(ne),lt=useSelectContext(TRIGGER_NAME$3,ne),ct=lt.disabled||xe,ut=useComposedRefs(te,lt.onTriggerChange),dt=useCollection$2(ne),ht=reactExports.useRef("touch"),[ft,pt,mt]=useTypeaheadSearch(yt=>{const vt=dt().filter(wt=>!wt.disabled),Et=vt.find(wt=>wt.value===lt.value),_t=findNextItem(vt,yt,Et);_t!==void 0&&lt.onValueChange(_t.value)}),xt=yt=>{ct||(lt.onOpenChange(!0),mt()),yt&&(lt.triggerPointerDownPosRef.current={x:Math.round(yt.pageX),y:Math.round(yt.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...it,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"combobox","aria-controls":lt.contentId,"aria-expanded":lt.open,"aria-required":lt.required,"aria-autocomplete":"none",dir:lt.dir,"data-state":lt.open?"open":"closed",disabled:ct,"data-disabled":ct?"":void 0,"data-placeholder":shouldShowPlaceholder(lt.value)?"":void 0,...rt,ref:ut,onClick:composeEventHandlers(rt.onClick,yt=>{yt.currentTarget.focus(),ht.current!=="mouse"&&xt(yt)}),onPointerDown:composeEventHandlers(rt.onPointerDown,yt=>{ht.current=yt.pointerType;const vt=yt.target;vt.hasPointerCapture(yt.pointerId)&&vt.releasePointerCapture(yt.pointerId),yt.button===0&&yt.ctrlKey===!1&&yt.pointerType==="mouse"&&(xt(yt),yt.preventDefault())}),onKeyDown:composeEventHandlers(rt.onKeyDown,yt=>{const vt=ft.current!=="";!(yt.ctrlKey||yt.altKey||yt.metaKey)&&yt.key.length===1&&pt(yt.key),!(vt&&yt.key===" ")&&OPEN_KEYS.includes(yt.key)&&(xt(),yt.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$3;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,className:xe,style:rt,children:it,placeholder:lt="",...ct}=ee,ut=useSelectContext(VALUE_NAME,ne),{onValueNodeHasChildrenChange:dt}=ut,ht=it!==void 0,ft=useComposedRefs(te,ut.onValueNodeChange);return useLayoutEffect2(()=>{dt(ht)},[dt,ht]),jsxRuntimeExports.jsx(Primitive$2.span,{...ct,ref:ft,style:{pointerEvents:"none"},children:shouldShowPlaceholder(ut.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:lt}):it})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,children:xe,...rt}=ee;return jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...rt,ref:te,children:xe||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=ee=>jsxRuntimeExports.jsx(Portal$2,{asChild:!0,...ee});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$3="SelectContent",SelectContent$1=reactExports.forwardRef((ee,te)=>{const ne=useSelectContext(CONTENT_NAME$3,ee.__scopeSelect),[xe,rt]=reactExports.useState();if(useLayoutEffect2(()=>{rt(new DocumentFragment)},[]),!ne.open){const it=xe;return it?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:ee.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:ee.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:ee.children})})}),it):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...ee,ref:te})});SelectContent$1.displayName=CONTENT_NAME$3;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$3),CONTENT_IMPL_NAME="SelectContentImpl",Slot$1=createSlot$1("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,position:xe="item-aligned",onCloseAutoFocus:rt,onEscapeKeyDown:it,onPointerDownOutside:lt,side:ct,sideOffset:ut,align:dt,alignOffset:ht,arrowPadding:ft,collisionBoundary:pt,collisionPadding:mt,sticky:xt,hideWhenDetached:yt,avoidCollisions:vt,...Et}=ee,_t=useSelectContext(CONTENT_NAME$3,ne),[wt,St]=reactExports.useState(null),[Ct,jt]=reactExports.useState(null),Rt=useComposedRefs(te,Xt=>St(Xt)),[Pt,Ot]=reactExports.useState(null),[Ft,Lt]=reactExports.useState(null),Bt=useCollection$2(ne),[Gt,It]=reactExports.useState(!1),qt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(wt)return hideOthers(wt)},[wt]),useFocusGuards();const Nt=reactExports.useCallback(Xt=>{const[tr,...rr]=Bt().map(Zt=>Zt.ref.current),[ur]=rr.slice(-1),Jt=document.activeElement;for(const Zt of Xt)if(Zt===Jt||(Zt?.scrollIntoView({block:"nearest"}),Zt===tr&&Ct&&(Ct.scrollTop=0),Zt===ur&&Ct&&(Ct.scrollTop=Ct.scrollHeight),Zt?.focus(),document.activeElement!==Jt))return},[Bt,Ct]),Dt=reactExports.useCallback(()=>Nt([Pt,wt]),[Nt,Pt,wt]);reactExports.useEffect(()=>{Gt&&Dt()},[Gt,Dt]);const{onOpenChange:Tt,triggerPointerDownPosRef:Mt}=_t;reactExports.useEffect(()=>{if(wt){let Xt={x:0,y:0};const tr=ur=>{Xt={x:Math.abs(Math.round(ur.pageX)-(Mt.current?.x??0)),y:Math.abs(Math.round(ur.pageY)-(Mt.current?.y??0))}},rr=ur=>{Xt.x<=10&&Xt.y<=10?ur.preventDefault():wt.contains(ur.target)||Tt(!1),document.removeEventListener("pointermove",tr),Mt.current=null};return Mt.current!==null&&(document.addEventListener("pointermove",tr),document.addEventListener("pointerup",rr,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",tr),document.removeEventListener("pointerup",rr,{capture:!0})}}},[wt,Tt,Mt]),reactExports.useEffect(()=>{const Xt=()=>Tt(!1);return window.addEventListener("blur",Xt),window.addEventListener("resize",Xt),()=>{window.removeEventListener("blur",Xt),window.removeEventListener("resize",Xt)}},[Tt]);const[$t,Ht]=useTypeaheadSearch(Xt=>{const tr=Bt().filter(Jt=>!Jt.disabled),rr=tr.find(Jt=>Jt.ref.current===document.activeElement),ur=findNextItem(tr,Xt,rr);ur&&setTimeout(()=>ur.ref.current.focus())}),Wt=reactExports.useCallback((Xt,tr,rr)=>{const ur=!qt.current&&!rr;(_t.value!==void 0&&_t.value===tr||ur)&&(Ot(Xt),ur&&(qt.current=!0))},[_t.value]),Vt=reactExports.useCallback(()=>wt?.focus(),[wt]),Yt=reactExports.useCallback((Xt,tr,rr)=>{const ur=!qt.current&&!rr;(_t.value!==void 0&&_t.value===tr||ur)&&Lt(Xt)},[_t.value]),Qt=xe==="popper"?SelectPopperPosition:SelectItemAlignedPosition,ar=Qt===SelectPopperPosition?{side:ct,sideOffset:ut,align:dt,alignOffset:ht,arrowPadding:ft,collisionBoundary:pt,collisionPadding:mt,sticky:xt,hideWhenDetached:yt,avoidCollisions:vt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:ne,content:wt,viewport:Ct,onViewportChange:jt,itemRefCallback:Wt,selectedItem:Pt,onItemLeave:Vt,itemTextRefCallback:Yt,focusSelectedItem:Dt,selectedItemText:Ft,position:xe,isPositioned:Gt,searchRef:$t,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:_t.open,onMountAutoFocus:Xt=>{Xt.preventDefault()},onUnmountAutoFocus:composeEventHandlers(rt,Xt=>{_t.trigger?.focus({preventScroll:!0}),Xt.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:it,onPointerDownOutside:lt,onFocusOutside:Xt=>Xt.preventDefault(),onDismiss:()=>_t.onOpenChange(!1),children:jsxRuntimeExports.jsx(Qt,{role:"listbox",id:_t.contentId,"data-state":_t.open?"open":"closed",dir:_t.dir,onContextMenu:Xt=>Xt.preventDefault(),...Et,...ar,onPlaced:()=>It(!0),ref:Rt,style:{display:"flex",flexDirection:"column",outline:"none",...Et.style},onKeyDown:composeEventHandlers(Et.onKeyDown,Xt=>{const tr=Xt.ctrlKey||Xt.altKey||Xt.metaKey;if(Xt.key==="Tab"&&Xt.preventDefault(),!tr&&Xt.key.length===1&&Ht(Xt.key),["ArrowUp","ArrowDown","Home","End"].includes(Xt.key)){let ur=Bt().filter(Jt=>!Jt.disabled).map(Jt=>Jt.ref.current);if(["ArrowUp","End"].includes(Xt.key)&&(ur=ur.slice().reverse()),["ArrowUp","ArrowDown"].includes(Xt.key)){const Jt=Xt.target,Zt=ur.indexOf(Jt);ur=ur.slice(Zt+1)}setTimeout(()=>Nt(ur)),Xt.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,onPlaced:xe,...rt}=ee,it=useSelectContext(CONTENT_NAME$3,ne),lt=useSelectContentContext(CONTENT_NAME$3,ne),[ct,ut]=reactExports.useState(null),[dt,ht]=reactExports.useState(null),ft=useComposedRefs(te,Rt=>ht(Rt)),pt=useCollection$2(ne),mt=reactExports.useRef(!1),xt=reactExports.useRef(!0),{viewport:yt,selectedItem:vt,selectedItemText:Et,focusSelectedItem:_t}=lt,wt=reactExports.useCallback(()=>{if(it.trigger&&it.valueNode&&ct&&dt&&yt&&vt&&Et){const Rt=it.trigger.getBoundingClientRect(),Pt=dt.getBoundingClientRect(),Ot=it.valueNode.getBoundingClientRect(),Ft=Et.getBoundingClientRect();if(it.dir!=="rtl"){const Jt=Ft.left-Pt.left,Zt=Ot.left-Jt,or=Rt.left-Zt,dr=Rt.width+or,Ar=Math.max(dr,Pt.width),Nr=window.innerWidth-CONTENT_MARGIN,Mr=clamp$2(Zt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Nr-Ar)]);ct.style.minWidth=dr+"px",ct.style.left=Mr+"px"}else{const Jt=Pt.right-Ft.right,Zt=window.innerWidth-Ot.right-Jt,or=window.innerWidth-Rt.right-Zt,dr=Rt.width+or,Ar=Math.max(dr,Pt.width),Nr=window.innerWidth-CONTENT_MARGIN,Mr=clamp$2(Zt,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Nr-Ar)]);ct.style.minWidth=dr+"px",ct.style.right=Mr+"px"}const Lt=pt(),Bt=window.innerHeight-CONTENT_MARGIN*2,Gt=yt.scrollHeight,It=window.getComputedStyle(dt),qt=parseInt(It.borderTopWidth,10),Nt=parseInt(It.paddingTop,10),Dt=parseInt(It.borderBottomWidth,10),Tt=parseInt(It.paddingBottom,10),Mt=qt+Nt+Gt+Tt+Dt,$t=Math.min(vt.offsetHeight*5,Mt),Ht=window.getComputedStyle(yt),Wt=parseInt(Ht.paddingTop,10),Vt=parseInt(Ht.paddingBottom,10),Yt=Rt.top+Rt.height/2-CONTENT_MARGIN,Qt=Bt-Yt,ar=vt.offsetHeight/2,Xt=vt.offsetTop+ar,tr=qt+Nt+Xt,rr=Mt-tr;if(tr<=Yt){const Jt=Lt.length>0&&vt===Lt[Lt.length-1].ref.current;ct.style.bottom="0px";const Zt=dt.clientHeight-yt.offsetTop-yt.offsetHeight,or=Math.max(Qt,ar+(Jt?Vt:0)+Zt+Dt),dr=tr+or;ct.style.height=dr+"px"}else{const Jt=Lt.length>0&&vt===Lt[0].ref.current;ct.style.top="0px";const or=Math.max(Yt,qt+yt.offsetTop+(Jt?Wt:0)+ar)+rr;ct.style.height=or+"px",yt.scrollTop=tr-Yt+yt.offsetTop}ct.style.margin=`${CONTENT_MARGIN}px 0`,ct.style.minHeight=$t+"px",ct.style.maxHeight=Bt+"px",xe?.(),requestAnimationFrame(()=>mt.current=!0)}},[pt,it.trigger,it.valueNode,ct,dt,yt,vt,Et,it.dir,xe]);useLayoutEffect2(()=>wt(),[wt]);const[St,Ct]=reactExports.useState();useLayoutEffect2(()=>{dt&&Ct(window.getComputedStyle(dt).zIndex)},[dt]);const jt=reactExports.useCallback(Rt=>{Rt&&xt.current===!0&&(wt(),_t?.(),xt.current=!1)},[wt,_t]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:ne,contentWrapper:ct,shouldExpandOnScrollRef:mt,onScrollButtonChange:jt,children:jsxRuntimeExports.jsx("div",{ref:ut,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:St},children:jsxRuntimeExports.jsx(Primitive$2.div,{...rt,ref:ft,style:{boxSizing:"border-box",maxHeight:"100%",...rt.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,align:xe="start",collisionPadding:rt=CONTENT_MARGIN,...it}=ee,lt=usePopperScope(ne);return jsxRuntimeExports.jsx(Content$2,{...lt,...it,ref:te,align:xe,collisionPadding:rt,style:{boxSizing:"border-box",...it.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$3,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,nonce:xe,...rt}=ee,it=useSelectContentContext(VIEWPORT_NAME,ne),lt=useSelectViewportContext(VIEWPORT_NAME,ne),ct=useComposedRefs(te,it.onViewportChange),ut=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:xe}),jsxRuntimeExports.jsx(Collection$2.Slot,{scope:ne,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-select-viewport":"",role:"presentation",...rt,ref:ct,style:{position:"relative",flex:1,overflow:"hidden auto",...rt.style},onScroll:composeEventHandlers(rt.onScroll,dt=>{const ht=dt.currentTarget,{contentWrapper:ft,shouldExpandOnScrollRef:pt}=lt;if(pt?.current&&ft){const mt=Math.abs(ut.current-ht.scrollTop);if(mt>0){const xt=window.innerHeight-CONTENT_MARGIN*2,yt=parseFloat(ft.style.minHeight),vt=parseFloat(ft.style.height),Et=Math.max(yt,vt);if(Et<xt){const _t=Et+mt,wt=Math.min(xt,_t),St=_t-wt;ft.style.height=wt+"px",ft.style.bottom==="0px"&&(ht.scrollTop=St>0?St:0,ft.style.justifyContent="flex-end")}}}ut.current=ht.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,...xe}=ee,rt=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:ne,id:rt,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"group","aria-labelledby":rt,...xe,ref:te})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,...xe}=ee,rt=useSelectGroupContext(LABEL_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.div,{id:rt.id,...xe,ref:te})});SelectLabel.displayName=LABEL_NAME;var ITEM_NAME$1="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$1),SelectItem$1=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,value:xe,disabled:rt=!1,textValue:it,...lt}=ee,ct=useSelectContext(ITEM_NAME$1,ne),ut=useSelectContentContext(ITEM_NAME$1,ne),dt=ct.value===xe,[ht,ft]=reactExports.useState(it??""),[pt,mt]=reactExports.useState(!1),xt=useComposedRefs(te,_t=>ut.itemRefCallback?.(_t,xe,rt)),yt=useId(),vt=reactExports.useRef("touch"),Et=()=>{rt||(ct.onValueChange(xe),ct.onOpenChange(!1))};if(xe==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:ne,value:xe,disabled:rt,textId:yt,isSelected:dt,onItemTextChange:reactExports.useCallback(_t=>{ft(wt=>wt||(_t?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:ne,value:xe,disabled:rt,textValue:ht,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"option","aria-labelledby":yt,"data-highlighted":pt?"":void 0,"aria-selected":dt&&pt,"data-state":dt?"checked":"unchecked","aria-disabled":rt||void 0,"data-disabled":rt?"":void 0,tabIndex:rt?void 0:-1,...lt,ref:xt,onFocus:composeEventHandlers(lt.onFocus,()=>mt(!0)),onBlur:composeEventHandlers(lt.onBlur,()=>mt(!1)),onClick:composeEventHandlers(lt.onClick,()=>{vt.current!=="mouse"&&Et()}),onPointerUp:composeEventHandlers(lt.onPointerUp,()=>{vt.current==="mouse"&&Et()}),onPointerDown:composeEventHandlers(lt.onPointerDown,_t=>{vt.current=_t.pointerType}),onPointerMove:composeEventHandlers(lt.onPointerMove,_t=>{vt.current=_t.pointerType,rt?ut.onItemLeave?.():vt.current==="mouse"&&_t.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(lt.onPointerLeave,_t=>{_t.currentTarget===document.activeElement&&ut.onItemLeave?.()}),onKeyDown:composeEventHandlers(lt.onKeyDown,_t=>{ut.searchRef?.current!==""&&_t.key===" "||(SELECTION_KEYS.includes(_t.key)&&Et(),_t.key===" "&&_t.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$1;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,className:xe,style:rt,...it}=ee,lt=useSelectContext(ITEM_TEXT_NAME,ne),ct=useSelectContentContext(ITEM_TEXT_NAME,ne),ut=useSelectItemContext(ITEM_TEXT_NAME,ne),dt=useSelectNativeOptionsContext(ITEM_TEXT_NAME,ne),[ht,ft]=reactExports.useState(null),pt=useComposedRefs(te,Et=>ft(Et),ut.onItemTextChange,Et=>ct.itemTextRefCallback?.(Et,ut.value,ut.disabled)),mt=ht?.textContent,xt=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:ut.value,disabled:ut.disabled,children:mt},ut.value),[ut.disabled,ut.value,mt]),{onNativeOptionAdd:yt,onNativeOptionRemove:vt}=dt;return useLayoutEffect2(()=>(yt(xt),()=>vt(xt)),[yt,vt,xt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$2.span,{id:ut.textId,...it,ref:pt}),ut.isSelected&&lt.valueNode&&!lt.valueNodeHasChildren?reactDomExports.createPortal(it.children,lt.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,...xe}=ee;return useSelectItemContext(ITEM_INDICATOR_NAME,ne).isSelected?jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...xe,ref:te}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((ee,te)=>{const ne=useSelectContentContext(SCROLL_UP_BUTTON_NAME,ee.__scopeSelect),xe=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,ee.__scopeSelect),[rt,it]=reactExports.useState(!1),lt=useComposedRefs(te,xe.onScrollButtonChange);return useLayoutEffect2(()=>{if(ne.viewport&&ne.isPositioned){let ct=function(){const dt=ut.scrollTop>0;it(dt)};const ut=ne.viewport;return ct(),ut.addEventListener("scroll",ct),()=>ut.removeEventListener("scroll",ct)}},[ne.viewport,ne.isPositioned]),rt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...ee,ref:lt,onAutoScroll:()=>{const{viewport:ct,selectedItem:ut}=ne;ct&&ut&&(ct.scrollTop=ct.scrollTop-ut.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((ee,te)=>{const ne=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,ee.__scopeSelect),xe=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,ee.__scopeSelect),[rt,it]=reactExports.useState(!1),lt=useComposedRefs(te,xe.onScrollButtonChange);return useLayoutEffect2(()=>{if(ne.viewport&&ne.isPositioned){let ct=function(){const dt=ut.scrollHeight-ut.clientHeight,ht=Math.ceil(ut.scrollTop)<dt;it(ht)};const ut=ne.viewport;return ct(),ut.addEventListener("scroll",ct),()=>ut.removeEventListener("scroll",ct)}},[ne.viewport,ne.isPositioned]),rt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...ee,ref:lt,onAutoScroll:()=>{const{viewport:ct,selectedItem:ut}=ne;ct&&ut&&(ct.scrollTop=ct.scrollTop+ut.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,onAutoScroll:xe,...rt}=ee,it=useSelectContentContext("SelectScrollButton",ne),lt=reactExports.useRef(null),ct=useCollection$2(ne),ut=reactExports.useCallback(()=>{lt.current!==null&&(window.clearInterval(lt.current),lt.current=null)},[]);return reactExports.useEffect(()=>()=>ut(),[ut]),useLayoutEffect2(()=>{ct().find(ht=>ht.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[ct]),jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...rt,ref:te,style:{flexShrink:0,...rt.style},onPointerDown:composeEventHandlers(rt.onPointerDown,()=>{lt.current===null&&(lt.current=window.setInterval(xe,50))}),onPointerMove:composeEventHandlers(rt.onPointerMove,()=>{it.onItemLeave?.(),lt.current===null&&(lt.current=window.setInterval(xe,50))}),onPointerLeave:composeEventHandlers(rt.onPointerLeave,()=>{ut()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,...xe}=ee;return jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...xe,ref:te})});SelectSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((ee,te)=>{const{__scopeSelect:ne,...xe}=ee,rt=usePopperScope(ne),it=useSelectContext(ARROW_NAME,ne),lt=useSelectContentContext(ARROW_NAME,ne);return it.open&&lt.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...rt,...xe,ref:te}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$2="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:ee,value:te,...ne},xe)=>{const rt=reactExports.useRef(null),it=useComposedRefs(xe,rt),lt=usePrevious(te);return reactExports.useEffect(()=>{const ct=rt.current;if(!ct)return;const ut=window.HTMLSelectElement.prototype,ht=Object.getOwnPropertyDescriptor(ut,"value").set;if(lt!==te&&ht){const ft=new Event("change",{bubbles:!0});ht.call(ct,te),ct.dispatchEvent(ft)}},[lt,te]),jsxRuntimeExports.jsx(Primitive$2.select,{...ne,style:{...VISUALLY_HIDDEN_STYLES,...ne.style},ref:it,defaultValue:te})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function shouldShowPlaceholder(ee){return ee===""||ee===void 0}function useTypeaheadSearch(ee){const te=useCallbackRef$1(ee),ne=reactExports.useRef(""),xe=reactExports.useRef(0),rt=reactExports.useCallback(lt=>{const ct=ne.current+lt;te(ct),(function ut(dt){ne.current=dt,window.clearTimeout(xe.current),dt!==""&&(xe.current=window.setTimeout(()=>ut(""),1e3))})(ct)},[te]),it=reactExports.useCallback(()=>{ne.current="",window.clearTimeout(xe.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(xe.current),[]),[ne,rt,it]}function findNextItem(ee,te,ne){const rt=te.length>1&&Array.from(te).every(dt=>dt===te[0])?te[0]:te,it=ne?ee.indexOf(ne):-1;let lt=wrapArray(ee,Math.max(it,0));rt.length===1&&(lt=lt.filter(dt=>dt!==ne));const ut=lt.find(dt=>dt.textValue.toLowerCase().startsWith(rt.toLowerCase()));return ut!==ne?ut:void 0}function wrapArray(ee,te){return ee.map((ne,xe)=>ee[(te+xe)%ee.length])}var Root2$1=Select$1,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$1=SelectPortal,Content2$1=SelectContent$1,Viewport$1=SelectViewport,Item$1=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1;function Select({...ee}){return jsxRuntimeExports.jsx(Root2$1,{"data-slot":"select",...ee})}function SelectValue({...ee}){return jsxRuntimeExports.jsx(Value,{"data-slot":"select-value",...ee})}function SelectTrigger({className:ee,size:te="default",children:ne,...xe}){return jsxRuntimeExports.jsxs(Trigger$1,{"data-slot":"select-trigger","data-size":te,className:cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",ee),...xe,children:[ne,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4 opacity-50"})})]})}function SelectContent({className:ee,children:te,position:ne="popper",...xe}){return jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$1,{"data-slot":"select-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",ne==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",ee),position:ne,...xe,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",ne==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:te}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})})}function SelectItem({className:ee,children:te,...ne}){return jsxRuntimeExports.jsxs(Item$1,{"data-slot":"select-item",className:cn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",ee),...ne,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"size-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:te})]})}function SelectScrollUpButton({className:ee,...te}){return jsxRuntimeExports.jsx(ScrollUpButton,{"data-slot":"select-scroll-up-button",className:cn("flex cursor-default items-center justify-center py-1",ee),...te,children:jsxRuntimeExports.jsx(ChevronUp,{className:"size-4"})})}function SelectScrollDownButton({className:ee,...te}){return jsxRuntimeExports.jsx(ScrollDownButton,{"data-slot":"select-scroll-down-button",className:cn("flex cursor-default items-center justify-center py-1",ee),...te,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4"})})}const ERROR_IMG_SRC="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function ImageWithFallback(ee){const[te,ne]=reactExports.useState(!1),xe=()=>{ne(!0)},{src:rt,alt:it,style:lt,className:ct,...ut}=ee;return te?jsxRuntimeExports.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${ct??""}`,style:lt,children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-full h-full",children:jsxRuntimeExports.jsx("img",{src:ERROR_IMG_SRC,alt:"Error loading image",...ut,"data-original-url":rt})})}):jsxRuntimeExports.jsx("img",{src:rt,alt:it,className:ct,style:lt,...ut,onError:xe})}const interests$1=[{id:"basketball",name:"",icon:"",image:"https://images.unsplash.com/photo-1743105351315-540bce258f1d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYXNrZXRiYWxsJTIwc3BvcnRzJTIwaWNvbnxlbnwxfHx8fDE3NTg2ODYzOTl8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"music",name:"",icon:"",image:"https://images.unsplash.com/photo-1705045206911-3599644d4d09?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtdXNpYyUyMGluc3RydW1lbnRzJTIwYXJ0c3xlbnwxfHx8fDE3NTg2ODY0MDN8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"art",name:"",icon:"",image:"https://images.unsplash.com/photo-1692859532235-c93fa73bd5d0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhcnQlMjBwYWludGluZyUyMGNyZWF0aXZlfGVufDF8fHx8MTc1ODY4NjQwNnww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"reading",name:"",icon:""},{id:"games",name:"",icon:""},{id:"photography",name:"",icon:""},{id:"science",name:"",icon:""},{id:"geography",name:"",icon:""},{id:"math",name:"",icon:""}],grades$1=[{id:"grade1",name:""},{id:"grade2",name:""},{id:"grade3",name:""},{id:"grade4",name:""},{id:"grade5",name:""},{id:"grade6",name:""},{id:"grade7",name:""},{id:"grade8",name:""},{id:"grade9",name:""},{id:"grade10",name:""},{id:"grade11",name:""},{id:"grade12",name:""}];function OnboardingPage({onComplete:ee}){const[te,ne]=reactExports.useState(""),[xe,rt]=reactExports.useState([]),[it,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(""),{updateUserPreferences:dt}=useAuth(),ht=mt=>{rt(xt=>xt.includes(mt)?xt.filter(yt=>yt!==mt):[...xt,mt])},ft=async()=>{lt(!0),ut("");try{await dt(te,xe),ee()}catch(mt){console.error("Error updating preferences:",mt),ut(mt.message||"Failed to save preferences")}finally{lt(!1)}},pt=te&&xe.length>0;return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-[#F9FAFB] p-4",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto py-8",children:jsxRuntimeExports.jsxs(Card,{className:"w-full",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl text-[#4F46E5]",children:""}),jsxRuntimeExports.jsx(CardDescription,{className:"text-lg",children:""})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-lg",children:""}),jsxRuntimeExports.jsxs(Select,{value:te,onValueChange:ne,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:""})}),jsxRuntimeExports.jsx(SelectContent,{children:grades$1.map(mt=>jsxRuntimeExports.jsx(SelectItem,{value:mt.id,children:mt.name},mt.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-lg",children:""}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:interests$1.map(mt=>jsxRuntimeExports.jsx(Card,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${xe.includes(mt.id)?"ring-2 ring-[#4F46E5] bg-[#4F46E5]/5":"hover:bg-gray-50"}`,onClick:()=>ht(mt.id),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 text-center",children:[mt.image?jsxRuntimeExports.jsx(ImageWithFallback,{src:mt.image,alt:mt.name,className:"w-16 h-16 rounded-full mx-auto mb-2 object-cover"}):jsxRuntimeExports.jsx("div",{className:"text-4xl mb-2",children:mt.icon}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:mt.name})]})},mt.id))})]}),(te||xe.length>0)&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"mb-2",children:""}),te&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["",grades$1.find(mt=>mt.id===te)?.name]}),xe.length>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["",xe.map(mt=>interests$1.find(xt=>xt.id===mt)?.name).join("")]})]}),ct&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:ct})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center pt-4",children:jsxRuntimeExports.jsx(Button,{onClick:ft,disabled:!pt||it,className:"px-8 py-2 bg-[#4F46E5] hover:bg-[#4338CA]",size:"lg",children:it?"...":""})})]})]})})})}function createContextScope$1(ee,te=[]){let ne=[];function xe(it,lt){const ct=reactExports.createContext(lt);ct.displayName=it+"Context";const ut=ne.length;ne=[...ne,lt];const dt=ft=>{const{scope:pt,children:mt,...xt}=ft,yt=pt?.[ee]?.[ut]||ct,vt=reactExports.useMemo(()=>xt,Object.values(xt));return jsxRuntimeExports.jsx(yt.Provider,{value:vt,children:mt})};dt.displayName=it+"Provider";function ht(ft,pt){const mt=pt?.[ee]?.[ut]||ct,xt=reactExports.useContext(mt);if(xt)return xt;if(lt!==void 0)return lt;throw new Error(`\`${ft}\` must be used within \`${it}\``)}return[dt,ht]}const rt=()=>{const it=ne.map(lt=>reactExports.createContext(lt));return function(ct){const ut=ct?.[ee]||it;return reactExports.useMemo(()=>({[`__scope${ee}`]:{...ct,[ee]:ut}}),[ct,ut])}};return rt.scopeName=ee,[xe,composeContextScopes$1(rt,...te)]}function composeContextScopes$1(...ee){const te=ee[0];if(ee.length===1)return te;const ne=()=>{const xe=ee.map(rt=>({useScope:rt(),scopeName:rt.scopeName}));return function(it){const lt=xe.reduce((ct,{useScope:ut,scopeName:dt})=>{const ft=ut(it)[`__scope${dt}`];return{...ct,...ft}},{});return reactExports.useMemo(()=>({[`__scope${te.scopeName}`]:lt}),[lt])}};return ne.scopeName=te.scopeName,ne}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((ee,te)=>{const ne=createSlot$4(`Primitive.${te}`),xe=reactExports.forwardRef((rt,it)=>{const{asChild:lt,...ct}=rt,ut=lt?ne:te;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(ut,{...ct,ref:it})});return xe.displayName=`Primitive.${te}`,{...ee,[te]:xe}},{}),shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var ee=requireReact();function te(ft,pt){return ft===pt&&(ft!==0||1/ft===1/pt)||ft!==ft&&pt!==pt}var ne=typeof Object.is=="function"?Object.is:te,xe=ee.useState,rt=ee.useEffect,it=ee.useLayoutEffect,lt=ee.useDebugValue;function ct(ft,pt){var mt=pt(),xt=xe({inst:{value:mt,getSnapshot:pt}}),yt=xt[0].inst,vt=xt[1];return it(function(){yt.value=mt,yt.getSnapshot=pt,ut(yt)&&vt({inst:yt})},[ft,mt,pt]),rt(function(){return ut(yt)&&vt({inst:yt}),ft(function(){ut(yt)&&vt({inst:yt})})},[ft]),lt(mt),mt}function ut(ft){var pt=ft.getSnapshot;ft=ft.value;try{var mt=pt();return!ne(ft,mt)}catch{return!0}}function dt(ft,pt){return pt()}var ht=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dt:ct;return useSyncExternalStoreShim_production.useSyncExternalStore=ee.useSyncExternalStore!==void 0?ee.useSyncExternalStore:ht,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();function useIsHydrated(){return shimExports.useSyncExternalStore(subscribe,()=>!0,()=>!1)}function subscribe(){return()=>{}}var AVATAR_NAME="Avatar",[createAvatarContext]=createContextScope$1(AVATAR_NAME),[AvatarProvider,useAvatarContext]=createAvatarContext(AVATAR_NAME),Avatar$1=reactExports.forwardRef((ee,te)=>{const{__scopeAvatar:ne,...xe}=ee,[rt,it]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:ne,imageLoadingStatus:rt,onImageLoadingStatusChange:it,children:jsxRuntimeExports.jsx(Primitive$1.span,{...xe,ref:te})})});Avatar$1.displayName=AVATAR_NAME;var IMAGE_NAME="AvatarImage",AvatarImage$1=reactExports.forwardRef((ee,te)=>{const{__scopeAvatar:ne,src:xe,onLoadingStatusChange:rt=()=>{},...it}=ee,lt=useAvatarContext(IMAGE_NAME,ne),ct=useImageLoadingStatus(xe,it),ut=useCallbackRef$1(dt=>{rt(dt),lt.onImageLoadingStatusChange(dt)});return useLayoutEffect2(()=>{ct!=="idle"&&ut(ct)},[ct,ut]),ct==="loaded"?jsxRuntimeExports.jsx(Primitive$1.img,{...it,ref:te,src:xe}):null});AvatarImage$1.displayName=IMAGE_NAME;var FALLBACK_NAME="AvatarFallback",AvatarFallback$1=reactExports.forwardRef((ee,te)=>{const{__scopeAvatar:ne,delayMs:xe,...rt}=ee,it=useAvatarContext(FALLBACK_NAME,ne),[lt,ct]=reactExports.useState(xe===void 0);return reactExports.useEffect(()=>{if(xe!==void 0){const ut=window.setTimeout(()=>ct(!0),xe);return()=>window.clearTimeout(ut)}},[xe]),lt&&it.imageLoadingStatus!=="loaded"?jsxRuntimeExports.jsx(Primitive$1.span,{...rt,ref:te}):null});AvatarFallback$1.displayName=FALLBACK_NAME;function resolveLoadingStatus(ee,te){return ee?te?(ee.src!==te&&(ee.src=te),ee.complete&&ee.naturalWidth>0?"loaded":"loading"):"error":"idle"}function useImageLoadingStatus(ee,{referrerPolicy:te,crossOrigin:ne}){const xe=useIsHydrated(),rt=reactExports.useRef(null),it=xe?(rt.current||(rt.current=new window.Image),rt.current):null,[lt,ct]=reactExports.useState(()=>resolveLoadingStatus(it,ee));return useLayoutEffect2(()=>{ct(resolveLoadingStatus(it,ee))},[it,ee]),useLayoutEffect2(()=>{const ut=ft=>()=>{ct(ft)};if(!it)return;const dt=ut("loaded"),ht=ut("error");return it.addEventListener("load",dt),it.addEventListener("error",ht),te&&(it.referrerPolicy=te),typeof ne=="string"&&(it.crossOrigin=ne),()=>{it.removeEventListener("load",dt),it.removeEventListener("error",ht)}},[it,ne,te]),lt}var Root$5=Avatar$1,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;function Avatar({className:ee,...te}){return jsxRuntimeExports.jsx(Root$5,{"data-slot":"avatar",className:cn("relative flex size-10 shrink-0 overflow-hidden rounded-full",ee),...te})}function AvatarImage({className:ee,...te}){return jsxRuntimeExports.jsx(Image$1,{"data-slot":"avatar-image",className:cn("aspect-square size-full",ee),...te})}function AvatarFallback({className:ee,...te}){return jsxRuntimeExports.jsx(Fallback,{"data-slot":"avatar-fallback",className:cn("bg-muted flex size-full items-center justify-center rounded-full",ee),...te})}const navigationItems$1=[{id:"home",name:"",icon:House},{id:"learn-your-way",name:"AI",icon:Sparkles},{id:"paths",name:"",icon:TrendingUp},{id:"reports",name:"",icon:ChartColumn},{id:"settings",name:"",icon:Settings$1}];function Sidebar({activeSection:ee,onSectionChange:te}){const{user:ne,logout:xe}=useAuth();return jsxRuntimeExports.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col h-screen",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-sidebar-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-sidebar-primary rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg text-sidebar-primary",children:"AI"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"AI"})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-sidebar-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:""}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-sidebar-primary text-sidebar-primary-foreground",children:ne?.name?.charAt(0)||"U"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:ne?.name||""}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:ne?.grade?`${ne.grade.replace("grade","")}`:""})]})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:navigationItems$1.map(rt=>{const it=rt.icon,lt=ee===rt.id;return jsxRuntimeExports.jsxs(Button,{variant:lt?"secondary":"ghost",className:`w-full justify-start ${lt?"bg-sidebar-primary/10 text-sidebar-primary hover:bg-sidebar-primary/20":"text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent"}`,onClick:()=>te(rt.id),children:[jsxRuntimeExports.jsx(it,{className:"w-5 h-5 mr-3"}),rt.name]},rt.id)})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-sidebar-border",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent",onClick:xe,children:[jsxRuntimeExports.jsx(LogOut,{className:"w-5 h-5 mr-3"}),""]})})]})}const navigationItems=[{id:"overview",name:"",icon:LayoutDashboard},{id:"materials",name:"",icon:FileText},{id:"course-design",name:"",icon:CirclePlus},{id:"tasks",name:"",icon:FileText},{id:"courses",name:"",icon:BookOpen},{id:"classes",name:"",icon:Users},{id:"settings",name:"",icon:Settings$1}];function TeacherSidebar({activeSection:ee,onSectionChange:te}){const{user:ne,logout:xe}=useAuth();return jsxRuntimeExports.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col h-screen",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-sidebar-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5 text-primary-foreground"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg text-primary font-semibold",children:""}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"AI"})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-sidebar-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:""}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-primary text-primary-foreground",children:ne?.name?.charAt(0)||"T"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:ne?.name||""}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:navigationItems.map(rt=>{const it=rt.icon,lt=ee===rt.id;return jsxRuntimeExports.jsxs(Button,{variant:lt?"secondary":"ghost",className:`w-full justify-start ${lt?"bg-primary/10 text-primary hover:bg-primary/20":"text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent"}`,onClick:()=>te(rt.id),children:[jsxRuntimeExports.jsx(it,{className:"w-5 h-5 mr-3"}),rt.name]},rt.id)})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-sidebar-border",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent",onClick:xe,children:[jsxRuntimeExports.jsx(LogOut,{className:"w-5 h-5 mr-3"}),""]})})]})}function createContextScope(ee,te=[]){let ne=[];function xe(it,lt){const ct=reactExports.createContext(lt);ct.displayName=it+"Context";const ut=ne.length;ne=[...ne,lt];const dt=ft=>{const{scope:pt,children:mt,...xt}=ft,yt=pt?.[ee]?.[ut]||ct,vt=reactExports.useMemo(()=>xt,Object.values(xt));return jsxRuntimeExports.jsx(yt.Provider,{value:vt,children:mt})};dt.displayName=it+"Provider";function ht(ft,pt){const mt=pt?.[ee]?.[ut]||ct,xt=reactExports.useContext(mt);if(xt)return xt;if(lt!==void 0)return lt;throw new Error(`\`${ft}\` must be used within \`${it}\``)}return[dt,ht]}const rt=()=>{const it=ne.map(lt=>reactExports.createContext(lt));return function(ct){const ut=ct?.[ee]||it;return reactExports.useMemo(()=>({[`__scope${ee}`]:{...ct,[ee]:ut}}),[ct,ut])}};return rt.scopeName=ee,[xe,composeContextScopes(rt,...te)]}function composeContextScopes(...ee){const te=ee[0];if(ee.length===1)return te;const ne=()=>{const xe=ee.map(rt=>({useScope:rt(),scopeName:rt.scopeName}));return function(it){const lt=xe.reduce((ct,{useScope:ut,scopeName:dt})=>{const ft=ut(it)[`__scope${dt}`];return{...ct,...ft}},{});return reactExports.useMemo(()=>({[`__scope${te.scopeName}`]:lt}),[lt])}};return ne.scopeName=te.scopeName,ne}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((ee,te)=>{const ne=createSlot$4(`Primitive.${te}`),xe=reactExports.forwardRef((rt,it)=>{const{asChild:lt,...ct}=rt,ut=lt?ne:te;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(ut,{...ct,ref:it})});return xe.displayName=`Primitive.${te}`,{...ee,[te]:xe}},{}),PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((ee,te)=>{const{__scopeProgress:ne,value:xe=null,max:rt,getValueLabel:it=defaultGetValueLabel,...lt}=ee;(rt||rt===0)&&!isValidMaxNumber(rt)&&console.error(getInvalidMaxError(`${rt}`,"Progress"));const ct=isValidMaxNumber(rt)?rt:DEFAULT_MAX;xe!==null&&!isValidValueNumber(xe,ct)&&console.error(getInvalidValueError(`${xe}`,"Progress"));const ut=isValidValueNumber(xe,ct)?xe:null,dt=isNumber$2(ut)?it(ut,ct):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:ne,value:ut,max:ct,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":ct,"aria-valuemin":0,"aria-valuenow":isNumber$2(ut)?ut:void 0,"aria-valuetext":dt,role:"progressbar","data-state":getProgressState(ut,ct),"data-value":ut??void 0,"data-max":ct,...lt,ref:te})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((ee,te)=>{const{__scopeProgress:ne,...xe}=ee,rt=useProgressContext(INDICATOR_NAME,ne);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(rt.value,rt.max),"data-value":rt.value??void 0,"data-max":rt.max,...xe,ref:te})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(ee,te){return`${Math.round(ee/te*100)}%`}function getProgressState(ee,te){return ee==null?"indeterminate":ee===te?"complete":"loading"}function isNumber$2(ee){return typeof ee=="number"}function isValidMaxNumber(ee){return isNumber$2(ee)&&!isNaN(ee)&&ee>0}function isValidValueNumber(ee,te){return isNumber$2(ee)&&!isNaN(ee)&&ee<=te&&ee>=0}function getInvalidMaxError(ee,te){return`Invalid prop \`max\` of value \`${ee}\` supplied to \`${te}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(ee,te){return`Invalid prop \`value\` of value \`${ee}\` supplied to \`${te}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$4=Progress$1,Indicator=ProgressIndicator;function Progress({className:ee,value:te,...ne}){return jsxRuntimeExports.jsx(Root$4,{"data-slot":"progress",className:cn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",ee),...ne,children:jsxRuntimeExports.jsx(Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(te||0)}%)`}})})}const badgeVariants=cva("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:ee,variant:te,asChild:ne=!1,...xe}){const rt=ne?Slot$2:"span";return jsxRuntimeExports.jsx(rt,{"data-slot":"badge",className:cn(badgeVariants({variant:te}),ee),...xe})}function useProgressTracker(){const[ee,te]=reactExports.useState({}),ne=async(lt,ct={})=>{const{data:{session:ut}}=await supabase.auth.getSession(),dt=ut?.access_token;if(!dt)throw new Error("Not authenticated");const ht=await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-82343da6${lt}`,{...ct,headers:{"Content-Type":"application/json",Authorization:`Bearer ${dt}`,...ct.headers}});if(!ht.ok){const ft=await ht.json().catch(()=>({error:"Network error"}));throw new Error(ft.error||"Request failed")}return ht.json()},xe=async()=>{try{try{const{progress:ct}=await ne("/progress"),ut={};ct.forEach(ht=>{ut[ht.chapterId]=ht}),te(ut);const{data:{session:dt}}=await supabase.auth.getSession();dt?.user&&localStorage.setItem(`progress_${dt.user.id}`,JSON.stringify(ut));return}catch(ct){console.log("Backend failed, loading from localStorage:",ct)}const{data:{session:lt}}=await supabase.auth.getSession();if(lt?.user){const ct=localStorage.getItem(`progress_${lt.user.id}`);ct&&te(JSON.parse(ct))}}catch(lt){console.error("Error loading progress:",lt)}},rt=async(lt,ct,ut=!1,dt=0)=>{const ht={chapterId:lt,progress:ct,completed:ut,timeSpent:(ee[lt]?.timeSpent||0)+dt};te(ft=>({...ft,[lt]:ht}));try{await ne("/progress",{method:"POST",body:JSON.stringify(ht)})}catch(ft){console.log("Backend update failed, using localStorage:",ft)}try{const{data:{session:ft}}=await supabase.auth.getSession();if(ft?.user){const pt={...ee,[lt]:ht};localStorage.setItem(`progress_${ft.user.id}`,JSON.stringify(pt))}}catch(ft){console.error("Error saving to localStorage:",ft)}},it=async(lt,ct,ut,dt)=>{try{await ne("/quiz-result",{method:"POST",body:JSON.stringify({chapterId:lt,score:ct,answers:ut,timeSpent:dt})})}catch(ht){console.error("Error saving quiz result:",ht)}};return reactExports.useEffect(()=>{xe()},[]),{progressData:ee,updateProgress:rt,saveQuizResult:it,loadProgress:xe}}const COURSE_COLORS=["#34A853","#FBBC05","#1A73E8","#EA4335"],achievements$1=[{name:"7",icon:"",earned:!0},{name:"10",icon:"",earned:!0},{name:"",icon:"",earned:!1},{name:"",icon:"",earned:!1}];function HomePage({onStartChapter:ee}){const{user:te}=useAuth(),ne=useNavigate(),{progressData:xe}=useProgressTracker(),[rt,it]=reactExports.useState([]),[lt,ct]=reactExports.useState(!0);reactExports.useEffect(()=>{if(!te?.id){ct(!1);return}getStudentCourses(te.id).then(dt=>it(dt.courses||[])).catch(()=>it([])).finally(()=>ct(!1))},[te?.id]);const ut=()=>{const dt=new Date().getHours();return dt<12?"":dt<18?"":""};return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary to-accent text-primary-foreground rounded-lg p-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl mb-2",children:[ut(),"",te?.name,""]}),jsxRuntimeExports.jsx("p",{className:"text-primary-foreground/80",children:""}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Target,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"2"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"1,250"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:lt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):rt.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center py-6",children:""}):rt.map((dt,ht)=>{const ft=xe[dt.courseId],pt=ft?.progress||0,mt=ft?.completed||!1,xt=COURSE_COLORS[ht%COURSE_COLORS.length];return jsxRuntimeExports.jsx(Card,{className:"border-l-4",style:{borderLeftColor:xt},children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:dt.topic||dt.courseId}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:dt.teacherName?` ${dt.teacherName} `:""}),mt&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"mt-1 bg-google-green/10 text-google-green",children:""})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:[Math.round(pt),"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:pt,className:"h-2"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>ne(`/course/${dt.courseId}`),className:"bg-primary hover:bg-primary-hover text-primary-foreground",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 mr-1"}),mt?"":""]})})]})]})},dt.courseId)})})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:""})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"12.5"})]}),jsxRuntimeExports.jsx(Progress,{value:70,className:"h-2"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{children:"18"}),jsxRuntimeExports.jsx("span",{children:"70%"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:""})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:achievements$1.map((dt,ht)=>jsxRuntimeExports.jsxs("div",{className:`text-center p-3 rounded-lg border ${dt.earned?"bg-[#22C55E]/10 border-[#22C55E]/30":"bg-gray-50 border-gray-200"}`,children:[jsxRuntimeExports.jsx("div",{className:`text-2xl mb-1 ${!dt.earned&&"grayscale"}`,children:dt.icon}),jsxRuntimeExports.jsx("p",{className:`text-xs ${dt.earned?"text-[#22C55E]":"text-gray-500"}`,children:dt.name})]},ht))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:""})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl text-[#FACC15] mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:" 7 "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:""})]})})]})]})]})]})}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SLIDER_NAME),[createSliderContext]=createContextScope$2(SLIDER_NAME,[createCollectionScope$1]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((ee,te)=>{const{name:ne,min:xe=0,max:rt=100,step:it=1,orientation:lt="horizontal",disabled:ct=!1,minStepsBetweenThumbs:ut=0,defaultValue:dt=[xe],value:ht,onValueChange:ft=()=>{},onValueCommit:pt=()=>{},inverted:mt=!1,form:xt,...yt}=ee,vt=reactExports.useRef(new Set),Et=reactExports.useRef(0),wt=lt==="horizontal"?SliderHorizontal:SliderVertical,[St=[],Ct]=useControllableState({prop:ht,defaultProp:dt,onChange:Lt=>{[...vt.current][Et.current]?.focus(),ft(Lt)}}),jt=reactExports.useRef(St);function Rt(Lt){const Bt=getClosestValueIndex(St,Lt);Ft(Lt,Bt)}function Pt(Lt){Ft(Lt,Et.current)}function Ot(){const Lt=jt.current[Et.current];St[Et.current]!==Lt&&pt(St)}function Ft(Lt,Bt,{commit:Gt}={commit:!1}){const It=getDecimalCount(it),qt=roundValue(Math.round((Lt-xe)/it)*it+xe,It),Nt=clamp$2(qt,[xe,rt]);Ct((Dt=[])=>{const Tt=getNextSortedValues(Dt,Nt,Bt);if(hasMinStepsBetweenValues(Tt,ut*it)){Et.current=Tt.indexOf(Nt);const Mt=String(Tt)!==String(Dt);return Mt&&Gt&&pt(Tt),Mt?Tt:Dt}else return Dt})}return jsxRuntimeExports.jsx(SliderProvider,{scope:ee.__scopeSlider,name:ne,disabled:ct,min:xe,max:rt,valueIndexToChangeRef:Et,thumbs:vt.current,values:St,orientation:lt,form:xt,children:jsxRuntimeExports.jsx(Collection$1.Provider,{scope:ee.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:ee.__scopeSlider,children:jsxRuntimeExports.jsx(wt,{"aria-disabled":ct,"data-disabled":ct?"":void 0,...yt,ref:te,onPointerDown:composeEventHandlers(yt.onPointerDown,()=>{ct||(jt.current=St)}),min:xe,max:rt,inverted:mt,onSlideStart:ct?void 0:Rt,onSlideMove:ct?void 0:Pt,onSlideEnd:ct?void 0:Ot,onHomeKeyDown:()=>!ct&&Ft(xe,0,{commit:!0}),onEndKeyDown:()=>!ct&&Ft(rt,St.length-1,{commit:!0}),onStepKeyDown:({event:Lt,direction:Bt})=>{if(!ct){const qt=PAGE_KEYS.includes(Lt.key)||Lt.shiftKey&&ARROW_KEYS.includes(Lt.key)?10:1,Nt=Et.current,Dt=St[Nt],Tt=it*qt*Bt;Ft(Dt+Tt,Nt,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((ee,te)=>{const{min:ne,max:xe,dir:rt,inverted:it,onSlideStart:lt,onSlideMove:ct,onSlideEnd:ut,onStepKeyDown:dt,...ht}=ee,[ft,pt]=reactExports.useState(null),mt=useComposedRefs(te,wt=>pt(wt)),xt=reactExports.useRef(void 0),yt=useDirection(rt),vt=yt==="ltr",Et=vt&&!it||!vt&&it;function _t(wt){const St=xt.current||ft.getBoundingClientRect(),Ct=[0,St.width],Rt=linearScale(Ct,Et?[ne,xe]:[xe,ne]);return xt.current=St,Rt(wt-St.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:ee.__scopeSlider,startEdge:Et?"left":"right",endEdge:Et?"right":"left",direction:Et?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:yt,"data-orientation":"horizontal",...ht,ref:mt,style:{...ht.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:wt=>{const St=_t(wt.clientX);lt?.(St)},onSlideMove:wt=>{const St=_t(wt.clientX);ct?.(St)},onSlideEnd:()=>{xt.current=void 0,ut?.()},onStepKeyDown:wt=>{const Ct=BACK_KEYS[Et?"from-left":"from-right"].includes(wt.key);dt?.({event:wt,direction:Ct?-1:1})}})})}),SliderVertical=reactExports.forwardRef((ee,te)=>{const{min:ne,max:xe,inverted:rt,onSlideStart:it,onSlideMove:lt,onSlideEnd:ct,onStepKeyDown:ut,...dt}=ee,ht=reactExports.useRef(null),ft=useComposedRefs(te,ht),pt=reactExports.useRef(void 0),mt=!rt;function xt(yt){const vt=pt.current||ht.current.getBoundingClientRect(),Et=[0,vt.height],wt=linearScale(Et,mt?[xe,ne]:[ne,xe]);return pt.current=vt,wt(yt-vt.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:ee.__scopeSlider,startEdge:mt?"bottom":"top",endEdge:mt?"top":"bottom",size:"height",direction:mt?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...dt,ref:ft,style:{...dt.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:yt=>{const vt=xt(yt.clientY);it?.(vt)},onSlideMove:yt=>{const vt=xt(yt.clientY);lt?.(vt)},onSlideEnd:()=>{pt.current=void 0,ct?.()},onStepKeyDown:yt=>{const Et=BACK_KEYS[mt?"from-bottom":"from-top"].includes(yt.key);ut?.({event:yt,direction:Et?-1:1})}})})}),SliderImpl=reactExports.forwardRef((ee,te)=>{const{__scopeSlider:ne,onSlideStart:xe,onSlideMove:rt,onSlideEnd:it,onHomeKeyDown:lt,onEndKeyDown:ct,onStepKeyDown:ut,...dt}=ee,ht=useSliderContext(SLIDER_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.span,{...dt,ref:te,onKeyDown:composeEventHandlers(ee.onKeyDown,ft=>{ft.key==="Home"?(lt(ft),ft.preventDefault()):ft.key==="End"?(ct(ft),ft.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(ft.key)&&(ut(ft),ft.preventDefault())}),onPointerDown:composeEventHandlers(ee.onPointerDown,ft=>{const pt=ft.target;pt.setPointerCapture(ft.pointerId),ft.preventDefault(),ht.thumbs.has(pt)?pt.focus():xe(ft)}),onPointerMove:composeEventHandlers(ee.onPointerMove,ft=>{ft.target.hasPointerCapture(ft.pointerId)&&rt(ft)}),onPointerUp:composeEventHandlers(ee.onPointerUp,ft=>{const pt=ft.target;pt.hasPointerCapture(ft.pointerId)&&(pt.releasePointerCapture(ft.pointerId),it(ft))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((ee,te)=>{const{__scopeSlider:ne,...xe}=ee,rt=useSliderContext(TRACK_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-disabled":rt.disabled?"":void 0,"data-orientation":rt.orientation,...xe,ref:te})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((ee,te)=>{const{__scopeSlider:ne,...xe}=ee,rt=useSliderContext(RANGE_NAME,ne),it=useSliderOrientationContext(RANGE_NAME,ne),lt=reactExports.useRef(null),ct=useComposedRefs(te,lt),ut=rt.values.length,dt=rt.values.map(pt=>convertValueToPercentage(pt,rt.min,rt.max)),ht=ut>1?Math.min(...dt):0,ft=100-Math.max(...dt);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-orientation":rt.orientation,"data-disabled":rt.disabled?"":void 0,...xe,ref:ct,style:{...ee.style,[it.startEdge]:ht+"%",[it.endEdge]:ft+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((ee,te)=>{const ne=useCollection$1(ee.__scopeSlider),[xe,rt]=reactExports.useState(null),it=useComposedRefs(te,ct=>rt(ct)),lt=reactExports.useMemo(()=>xe?ne().findIndex(ct=>ct.ref.current===xe):-1,[ne,xe]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...ee,ref:it,index:lt})}),SliderThumbImpl=reactExports.forwardRef((ee,te)=>{const{__scopeSlider:ne,index:xe,name:rt,...it}=ee,lt=useSliderContext(THUMB_NAME$1,ne),ct=useSliderOrientationContext(THUMB_NAME$1,ne),[ut,dt]=reactExports.useState(null),ht=useComposedRefs(te,_t=>dt(_t)),ft=ut?lt.form||!!ut.closest("form"):!0,pt=useSize(ut),mt=lt.values[xe],xt=mt===void 0?0:convertValueToPercentage(mt,lt.min,lt.max),yt=getLabel$1(xe,lt.values.length),vt=pt?.[ct.size],Et=vt?getThumbInBoundsOffset(vt,xt,ct.direction):0;return reactExports.useEffect(()=>{if(ut)return lt.thumbs.add(ut),()=>{lt.thumbs.delete(ut)}},[ut,lt.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[ct.startEdge]:`calc(${xt}% + ${Et}px)`},children:[jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:ee.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive$2.span,{role:"slider","aria-label":ee["aria-label"]||yt,"aria-valuemin":lt.min,"aria-valuenow":mt,"aria-valuemax":lt.max,"aria-orientation":lt.orientation,"data-orientation":lt.orientation,"data-disabled":lt.disabled?"":void 0,tabIndex:lt.disabled?void 0:0,...it,ref:ht,style:mt===void 0?{display:"none"}:ee.style,onFocus:composeEventHandlers(ee.onFocus,()=>{lt.valueIndexToChangeRef.current=xe})})}),ft&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:rt??(lt.name?lt.name+(lt.values.length>1?"[]":""):void 0),form:lt.form,value:mt},xe)]})});SliderThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME$1="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:ee,value:te,...ne},xe)=>{const rt=reactExports.useRef(null),it=useComposedRefs(rt,xe),lt=usePrevious(te);return reactExports.useEffect(()=>{const ct=rt.current;if(!ct)return;const ut=window.HTMLInputElement.prototype,ht=Object.getOwnPropertyDescriptor(ut,"value").set;if(lt!==te&&ht){const ft=new Event("input",{bubbles:!0});ht.call(ct,te),ct.dispatchEvent(ft)}},[lt,te]),jsxRuntimeExports.jsx(Primitive$2.input,{style:{display:"none"},...ne,ref:it,defaultValue:te})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function getNextSortedValues(ee=[],te,ne){const xe=[...ee];return xe[ne]=te,xe.sort((rt,it)=>rt-it)}function convertValueToPercentage(ee,te,ne){const it=100/(ne-te)*(ee-te);return clamp$2(it,[0,100])}function getLabel$1(ee,te){return te>2?`Value ${ee+1} of ${te}`:te===2?["Minimum","Maximum"][ee]:void 0}function getClosestValueIndex(ee,te){if(ee.length===1)return 0;const ne=ee.map(rt=>Math.abs(rt-te)),xe=Math.min(...ne);return ne.indexOf(xe)}function getThumbInBoundsOffset(ee,te,ne){const xe=ee/2,it=linearScale([0,50],[0,xe]);return(xe-it(te)*ne)*ne}function getStepsBetweenValues(ee){return ee.slice(0,-1).map((te,ne)=>ee[ne+1]-te)}function hasMinStepsBetweenValues(ee,te){if(te>0){const ne=getStepsBetweenValues(ee);return Math.min(...ne)>=te}return!0}function linearScale(ee,te){return ne=>{if(ee[0]===ee[1]||te[0]===te[1])return te[0];const xe=(te[1]-te[0])/(ee[1]-ee[0]);return te[0]+xe*(ne-ee[0])}}function getDecimalCount(ee){return(String(ee).split(".")[1]||"").length}function roundValue(ee,te){const ne=Math.pow(10,te);return Math.round(ee*ne)/ne}var Root$3=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb$1=SliderThumb;function Slider({className:ee,defaultValue:te,value:ne,min:xe=0,max:rt=100,...it}){const lt=reactExports.useMemo(()=>Array.isArray(ne)?ne:Array.isArray(te)?te:[xe,rt],[ne,te,xe,rt]);return jsxRuntimeExports.jsxs(Root$3,{"data-slot":"slider",defaultValue:te,value:ne,min:xe,max:rt,className:cn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",ee),...it,children:[jsxRuntimeExports.jsx(Track,{"data-slot":"slider-track",className:cn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:jsxRuntimeExports.jsx(Range,{"data-slot":"slider-range",className:cn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:lt.length},(ct,ut)=>jsxRuntimeExports.jsx(Thumb$1,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},ut))]})}const chapterData={1:{title:"",subject:"",description:"",progress:75,estimatedTime:"15",content:{text:` 1/3  1/4 



## 



1/5 + 2/5 = 3/5

5123 3/5 

## 



1/3 + 1/4 = 4/12 + 3/12 = 7/12`,slides:[{title:"",content:"",visual:" ",notes:""},{title:"",content:"",visual:"1/5 + 2/5 = 3/5",notes:""},{title:"",content:"",visual:" 1/3 + 1/4",notes:""},{title:"",content:"",visual:"1/3 + 1/4  4/12 + 3/12 = 7/12",notes:""}],audioScript:[{time:0,text:"",emphasis:"welcome"},{time:5,text:"",emphasis:"scenario"},{time:12,text:"",emphasis:"question"},{time:20,text:"",emphasis:"transition"},{time:28,text:"",emphasis:"rule"},{time:35,text:"",emphasis:"example"},{time:42,text:"5123",emphasis:"analogy"}],mindMap:{center:"",branches:[{name:"",children:["","","1/5 + 2/5 = 3/5"],color:"#4285F4"},{name:"",children:["","","","1/3 + 1/4 = 7/12"],color:"#34A853"},{name:"",children:["","","",""],color:"#FBBC05"},{name:"",children:["","","",""],color:"#EA4335"}]},questions:[{id:"q1",question:" 2/7 + 3/7 = ?",options:["4/7","5/7","6/7","5/14"],correct:1,explanation:"2 + 3 = 5 5/7",adaptiveHint:'""'},{id:"q2",question:" 3/10 2/10",options:["5/10","5/20","6/10","1/2"],correct:0,explanation:"3/10 + 2/10 = 5/10",adaptiveHint:""},{id:"q3",question:" 1/3 + 1/4 = ?",options:["2/7","7/12","1/7","4/12"],correct:1,explanation:"1/3 = 4/12, 1/4 = 3/12,  4/12 + 3/12 = 7/12",adaptiveHint:"12"}]}}};function EnhancedChapterPage({chapterId:ee,onBack:te,onStartQuiz:ne}){const[xe,rt]=reactExports.useState({}),[it,lt]=reactExports.useState({}),[ct]=reactExports.useState(Date.now()),[ut,dt]=reactExports.useState(0),[ht,ft]=reactExports.useState(!1),[pt,mt]=reactExports.useState(0),[xt,yt]=reactExports.useState(1),[vt,Et]=reactExports.useState(!1),[_t,wt]=reactExports.useState("visual"),[St,Ct]=reactExports.useState("standard"),[jt,Rt]=reactExports.useState(!0),{progressData:Pt,updateProgress:Ot}=useProgressTracker(),Ft=chapterData[ee];if(!Ft)return jsxRuntimeExports.jsx("div",{children:"Chapter not found"});const Bt=Pt[ee]?.progress||Ft.progress;reactExports.useEffect(()=>{Ot(ee,Bt,!1,0)},[ee]);const Gt=(Mt,$t)=>{rt(Yt=>({...Yt,[Mt]:$t})),lt(Yt=>({...Yt,[Mt]:!0}));const Ht=Object.keys(xe).length+1,Wt=Ft.content.questions.length,Vt=Math.min(90,Ht/Wt*90);Ot(ee,Vt,!1,0)},It=()=>{const Mt=Math.round((Date.now()-ct)/1e3);Ot(ee,100,!0,Mt),ne()},qt=()=>jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jt&&_t==="visual"&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-[#E3F2FD] border border-[#1A73E8]/20 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5 text-[#1A73E8]"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-[#1A73E8]",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-[#5F6368]",children:""})]}),jsxRuntimeExports.jsx("div",{className:"prose max-w-none space-y-6",children:Ft.content.text.split(`

`).map((Mt,$t)=>jsxRuntimeExports.jsx("div",{className:"leading-relaxed text-[#202124]",children:Mt.includes("##")?jsxRuntimeExports.jsxs("h2",{className:"text-xl font-medium text-[#1A73E8] mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5"}),Mt.replace("## ","")]}):jsxRuntimeExports.jsx("p",{className:"mb-4",children:Mt})},$t))}),jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-medium text-[#202124] flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-[#FBBC05]"}),""]}),Ft.content.questions.map((Mt,$t)=>jsxRuntimeExports.jsxs(Card,{className:"border-l-4 border-l-[#1A73E8] shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-5 h-5 text-[#1A73E8]"}),jsxRuntimeExports.jsxs("span",{children:[" ",$t+1]})]}),xe[Mt.id]!==void 0&&jsxRuntimeExports.jsx(Badge,{className:xe[Mt.id]===Mt.correct?"bg-[#34A853] text-white":"bg-[#EA4335] text-white",children:xe[Mt.id]===Mt.correct?"":""})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(QuestionCard,{question:Mt,answered:xe[Mt.id],showFeedback:it[Mt.id],onAnswer:Ht=>Gt(Mt.id,Ht),showAdaptiveHint:jt})})]},Mt.id))]})]}),Nt=()=>{const Mt=Ft.content.slides,$t=Mt[ut];return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{className:"min-h-[500px]",children:jsxRuntimeExports.jsx(CardContent,{className:"p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-[#1A73E8]/10 to-[#4285F4]/10 rounded-xl p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-medium text-[#202124] mb-4",children:$t.title}),jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:$t.visual}),jsxRuntimeExports.jsx("p",{className:"text-lg text-[#5F6368]",children:$t.content})]}),$t.notes&&jsxRuntimeExports.jsx("div",{className:"bg-[#F8F9FA] rounded-lg p-4 text-left",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:""})," ",$t.notes]})})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-6",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>dt(Math.max(0,ut-1)),disabled:ut===0,children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-[#5F6368]",children:[ut+1," / ",Mt.length]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-1",children:Mt.map((Ht,Wt)=>jsxRuntimeExports.jsx("button",{onClick:()=>dt(Wt),className:`w-2 h-2 rounded-full ${Wt===ut?"bg-[#1A73E8]":"bg-[#E0E0E0]"}`},Wt))})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>dt(Math.min(Mt.length-1,ut+1)),disabled:ut===Mt.length-1,children:["",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-2"})]})]})]})},Dt=()=>{const Mt=Ft.content.audioScript,$t=Mt[Math.floor(pt/100*Mt.length)];return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-[#1A73E8] to-[#4285F4] rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Volume2,{className:"w-12 h-12 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium text-[#202124] mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-[#5F6368]",children:Ft.title})]}),jsxRuntimeExports.jsx("div",{className:"bg-[#F8F9FA] rounded-lg p-6 text-left",children:jsxRuntimeExports.jsx("p",{className:"text-lg text-[#202124] leading-relaxed",children:$t?.text||""})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:jsxRuntimeExports.jsx(SkipBack,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{onClick:()=>ft(!ht),className:"w-12 h-12 rounded-full bg-[#1A73E8] hover:bg-[#1557B0]",children:ht?jsxRuntimeExports.jsx(Pause,{className:"w-6 h-6"}):jsxRuntimeExports.jsx(Play,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:jsxRuntimeExports.jsx(SkipForward,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Slider,{value:[pt],onValueChange:Ht=>mt(Ht[0]),max:100,step:1,className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-[#5F6368]",children:[jsxRuntimeExports.jsxs("span",{children:[Math.floor(pt/100*7),":00"]}),jsxRuntimeExports.jsx("span",{children:"7:00"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-[#5F6368]",children:":"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>yt(xt===2?.5:xt+.25),children:[xt,"x"]})]})]})]})})}),jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:""})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Mt.map((Ht,Wt)=>jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${Wt===Math.floor(pt/100*Mt.length)?"bg-[#1A73E8]/10 border border-[#1A73E8]/20":"hover:bg-[#F8F9FA]"}`,onClick:()=>mt(Wt/Mt.length*100),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-[#5F6368] font-mono",children:[Math.floor(Ht.time/60),":",(Ht.time%60).toString().padStart(2,"0")]}),jsxRuntimeExports.jsx("p",{className:"text-[#202124] flex-1",children:Ht.text})]})},Wt))})})]})]})},Tt=()=>{const Mt=Ft.content.mindMap;return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-[#1A73E8] to-[#4285F4] rounded-full flex items-center justify-center text-white text-lg font-medium shadow-lg",children:Mt.center})}),Mt.branches.map(($t,Ht)=>{const Wt=Ht*360/Mt.branches.length,Vt=200,Yt=Math.cos(Wt*Math.PI/180)*Vt,Qt=Math.sin(Wt*Math.PI/180)*Vt;return jsxRuntimeExports.jsxs("div",{className:"absolute top-1/2 left-1/2",style:{transform:`translate(calc(-50% + ${Yt}px), calc(-50% + ${Qt}px))`},children:[jsxRuntimeExports.jsx("svg",{className:"absolute top-1/2 left-1/2 pointer-events-none",style:{transform:`translate(-50%, -50%) rotate(${Wt+180}deg)`,width:Vt,height:2},children:jsxRuntimeExports.jsx("line",{x1:"0",y1:"1",x2:Vt,y2:"1",stroke:$t.color,strokeWidth:"2"})}),jsxRuntimeExports.jsxs(Card,{className:"w-48 shadow-lg hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",style:{borderLeftColor:$t.color,borderLeftWidth:"4px"},children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm",style:{color:$t.color},children:$t.name})}),jsxRuntimeExports.jsx(CardContent,{className:"pt-0",children:jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:$t.children.map((ar,Xt)=>jsxRuntimeExports.jsxs("li",{className:"text-xs text-[#5F6368] flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full bg-[#5F6368]"}),jsxRuntimeExports.jsx("span",{children:ar})]},Xt))})})]})]},Ht)})]}),jsxRuntimeExports.jsx("div",{className:"h-96"})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 text-center",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"mr-4",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-4 h-4 mr-2"}),""]})]})]})};return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:te,className:"text-[#5F6368] hover:text-[#202124]",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-medium text-[#202124]",children:Ft.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-[#5F6368]",children:[jsxRuntimeExports.jsx(Badge,{className:"bg-[#1A73E8] text-white",children:Ft.subject}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[" ",Ft.estimatedTime]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[" ",Math.round(Bt),"%"]})]})]})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>Et(!vt),className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]})]}),vt&&jsxRuntimeExports.jsxs(Card,{className:"mb-6 border-[#1A73E8]/20",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-[#1A73E8]"}),jsxRuntimeExports.jsx("span",{children:"AI "})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-[#202124] mb-2 block",children:""}),jsxRuntimeExports.jsxs("select",{value:_t,onChange:Mt=>wt(Mt.target.value),className:"w-full p-2 border border-[#E0E0E0] rounded-lg",children:[jsxRuntimeExports.jsx("option",{value:"visual",children:""}),jsxRuntimeExports.jsx("option",{value:"auditory",children:""}),jsxRuntimeExports.jsx("option",{value:"kinesthetic",children:""})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-[#202124] mb-2 block",children:""}),jsxRuntimeExports.jsxs("select",{value:St,onChange:Mt=>Ct(Mt.target.value),className:"w-full p-2 border border-[#E0E0E0] rounded-lg",children:[jsxRuntimeExports.jsx("option",{value:"basic",children:""}),jsxRuntimeExports.jsx("option",{value:"standard",children:""}),jsxRuntimeExports.jsx("option",{value:"advanced",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"adaptive-hints",checked:jt,onChange:Mt=>Rt(Mt.target.checked),className:"rounded"}),jsxRuntimeExports.jsx("label",{htmlFor:"adaptive-hints",className:"text-sm text-[#202124]",children:""})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx(Progress,{value:Bt,className:"h-2"})}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"text",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4 mb-6",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"text",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"slides",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Presentation,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"audio",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"mindmap",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(GitBranch,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"text",children:qt()}),jsxRuntimeExports.jsx(TabsContent,{value:"slides",children:Nt()}),jsxRuntimeExports.jsx(TabsContent,{value:"audio",children:Dt()}),jsxRuntimeExports.jsx(TabsContent,{value:"mindmap",children:Tt()})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 text-center",children:jsxRuntimeExports.jsx(Button,{onClick:It,className:"px-8 py-3 bg-[#34A853] hover:bg-[#2E7D32] text-white",size:"lg",children:""})})]})}function QuestionCard({question:ee,answered:te,showFeedback:ne,onAnswer:xe,showAdaptiveHint:rt=!1}){return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-[#202124]",children:ee.question}),rt&&!ne&&jsxRuntimeExports.jsxs("div",{className:"bg-[#FFF3E0] border border-[#FBBC05]/20 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-[#FBBC05]"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-[#FBBC05]",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368]",children:ee.adaptiveHint})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ee.options.map((it,lt)=>{const ct=te===lt,ut=lt===ee.correct,dt=ne&&ct;return jsxRuntimeExports.jsx(Button,{variant:ct?"default":"outline",className:`w-full justify-start text-left h-auto py-3 px-4 ${dt?ut?"bg-[#34A853] hover:bg-[#34A853] text-white":"bg-[#EA4335] hover:bg-[#EA4335] text-white":ct?"bg-[#1A73E8] hover:bg-[#1A73E8] text-white":"hover:bg-[#F8F9FA]"}`,onClick:()=>xe(lt),disabled:ne,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[jsxRuntimeExports.jsx("span",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+lt)}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:it}),dt&&jsxRuntimeExports.jsx("div",{className:"ml-auto",children:ut?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5"})})]})},lt)})}),ne&&te!==void 0&&jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg ${te===ee.correct?"bg-[#34A853]/10 border border-[#34A853]/30":"bg-[#EA4335]/10 border border-[#EA4335]/30"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[te===ee.correct?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-[#34A853]"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5 text-[#EA4335]"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:te===ee.correct?"":""})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368]",children:ee.explanation})]})]})}const quizData={title:"",description:"",questions:[{id:1,question:"2/5 + 1/5 = ?",options:["2/5","3/5","3/10","1/5"],correct:1,explanation:"2 + 1 = 3 3/5"},{id:2,question:" 1/4  1/4 ",options:["1/2 ","1/4 ","2/4 ","1/8 "],correct:0,explanation:"1/4 + 1/4 = 2/4 = 1/2 "},{id:3,question:"4/7 - 2/7 = ?",options:["2/7","6/7","2/14","4/7"],correct:0,explanation:"4 - 2 = 2 2/7"},{id:4,question:" 3/8 2/8",options:["5/8","5/16","1/8","6/8"],correct:0,explanation:"3/8 + 2/8 = 5/8 5/8"},{id:5,question:" 5/9  2/9",options:["7/9","3/9","7/18","5/9"],correct:0,explanation:"5/9 + 2/9 = 7/9 7/9"}]};function QuizPage({chapterId:ee="1",onBack:te,onComplete:ne}){const[xe,rt]=reactExports.useState(0),[it,lt]=reactExports.useState({}),[ct,ut]=reactExports.useState(!1),[dt,ht]=reactExports.useState({}),[ft]=reactExports.useState(Date.now()),{saveQuizResult:pt}=useProgressTracker(),mt=(Pt,Ot)=>{lt(Ft=>({...Ft,[Pt]:Ot})),ht(Ft=>({...Ft,[Pt]:!0}))},xt=()=>{xe<quizData.questions.length-1&&rt(xe+1)},yt=()=>{xe>0&&rt(xe-1)},vt=async()=>{const Pt=Math.round((Date.now()-ft)/1e3),Ot=_t();try{await pt(ee,Ot.percentage,it,Pt)}catch(Ft){console.error("Error saving quiz result:",Ft)}ut(!0)},Et=()=>{rt(0),lt({}),ut(!1),ht({})},_t=()=>{let Pt=0;return quizData.questions.forEach(Ot=>{it[Ot.id]===Ot.correct&&Pt++}),{correct:Pt,total:quizData.questions.length,percentage:Math.round(Pt/quizData.questions.length*100)}},wt=Pt=>Pt>=80?"#22C55E":Pt>=60?"#FACC15":"#EF4444",St=Pt=>Pt>=90?{title:"",message:"",emoji:""}:Pt>=80?{title:"",message:"",emoji:""}:Pt>=60?{title:"",message:"",emoji:""}:{title:"",message:"",emoji:""};if(ct){const Pt=_t(),Ot=St(Pt.percentage),Ft=wt(Pt.percentage);return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{className:"mb-6",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4",children:Ot.emoji}),jsxRuntimeExports.jsx("h1",{className:"text-3xl mb-2",style:{color:Ft},children:Ot.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:Ot.message}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-4xl mb-2",style:{color:Ft},children:[Pt.percentage,"%"]}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-600",children:[Pt.correct," / ",Pt.total," "]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsxs(Button,{onClick:Et,variant:"outline",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs(Button,{onClick:ne,className:"bg-[#4F46E5] hover:bg-[#4338CA] flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]})]})]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-6",children:quizData.questions.map((Lt,Bt)=>{const Gt=it[Lt.id],It=Gt===Lt.correct;return jsxRuntimeExports.jsxs("div",{className:"border-l-4 pl-4",style:{borderLeftColor:It?"#22C55E":"#EF4444"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium",children:[" ",Bt+1]}),It?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-[#22C55E]"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5 text-red-500"})]}),jsxRuntimeExports.jsx("p",{className:"mb-3",children:Lt.question}),jsxRuntimeExports.jsx("div",{className:"space-y-1 mb-3",children:Lt.options.map((qt,Nt)=>jsxRuntimeExports.jsxs("div",{className:`text-sm p-2 rounded ${Nt===Lt.correct?"bg-[#22C55E]/10 text-[#22C55E]":Nt===Gt&&!It?"bg-red-50 text-red-600":"text-gray-600"}`,children:[String.fromCharCode(65+Nt),". ",qt,Nt===Lt.correct&&" ",Nt===Gt&&!It&&" "]},Nt))}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm text-gray-700",children:[jsxRuntimeExports.jsx("strong",{children:""}),Lt.explanation]})]},Lt.id)})})]})]})})}const Ct=quizData.questions[xe],jt=(xe+1)/quizData.questions.length*100,Rt=Object.keys(it).length;return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:te,children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-medium",children:quizData.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:quizData.description})]}),jsxRuntimeExports.jsx("div",{className:"w-20"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[jsxRuntimeExports.jsxs("span",{children:[" ",xe+1," / ",quizData.questions.length]}),jsxRuntimeExports.jsxs("span",{children:[" ",Rt," "]})]}),jsxRuntimeExports.jsx(Progress,{value:jt,className:"h-2"})]}),jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-[#4F46E5] text-white rounded-full flex items-center justify-center text-sm",children:xe+1}),jsxRuntimeExports.jsxs("span",{children:[" ",xe+1," "]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-lg mb-6",children:Ct.question}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Ct.options.map((Pt,Ot)=>{const Ft=it[Ct.id]===Ot,Lt=Ot===Ct.correct,Bt=dt[Ct.id];return jsxRuntimeExports.jsx(Button,{variant:Ft?"default":"outline",className:`w-full justify-start text-left h-auto py-4 px-4 ${Bt&&Ft?Lt?"bg-[#22C55E] hover:bg-[#22C55E] text-white":"bg-red-500 hover:bg-red-500 text-white":Ft?"bg-[#4F46E5] hover:bg-[#4F46E5]":""}`,onClick:()=>mt(Ct.id,Ot),disabled:dt[Ct.id],children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[jsxRuntimeExports.jsx("span",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm",children:String.fromCharCode(65+Ot)}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:Pt}),Bt&&Ft&&jsxRuntimeExports.jsx("div",{children:Lt?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5"})})]})},Ot)})}),dt[Ct.id]&&jsxRuntimeExports.jsxs("div",{className:`mt-6 p-4 rounded-lg ${it[Ct.id]===Ct.correct?"bg-[#22C55E]/10 border border-[#22C55E]/30":"bg-red-50 border border-red-200"}`,children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:Ct.explanation})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:yt,disabled:xe===0,children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]}),xe===quizData.questions.length-1?jsxRuntimeExports.jsxs(Button,{onClick:()=>vt(),disabled:Rt<quizData.questions.length,className:"bg-[#22C55E] hover:bg-[#16A34A]",children:["",jsxRuntimeExports.jsx(Trophy,{className:"w-4 h-4 ml-2"})]}):jsxRuntimeExports.jsxs(Button,{onClick:xt,disabled:xe===quizData.questions.length-1,children:["",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 ml-2"})]})]})]})})}function useAnalytics(){const[ee,te]=reactExports.useState(null),[ne,xe]=reactExports.useState(!0),rt=async()=>{try{const{data:{session:it}}=await supabase.auth.getSession(),lt=it?.access_token;if(!lt){xe(!1);return}try{const ct=await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-82343da6/analytics`,{headers:{Authorization:`Bearer ${lt}`}});if(ct.ok){const{analytics:ut}=await ct.json();te(ut);return}}catch(ct){console.log("Backend failed, calculating from localStorage:",ct)}if(it?.user){const ct=localStorage.getItem(`progress_${it.user.id}`);if(ct){const ut=JSON.parse(ct),dt=Object.values(ut),ht={totalChapters:dt.length||5,completedChapters:dt.filter(ft=>ft.completed).length,totalTimeSpent:dt.reduce((ft,pt)=>ft+(pt.timeSpent||0),0),averageScore:85,recentQuizzes:[],weeklyProgress:dt.slice(-7)};te(ht)}else te({totalChapters:5,completedChapters:0,totalTimeSpent:0,averageScore:0,recentQuizzes:[],weeklyProgress:[]})}}catch(it){console.error("Error loading analytics:",it)}finally{xe(!1)}};return reactExports.useEffect(()=>{rt()},[]),{analytics:ee,loading:ne,refresh:rt}}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var ee=Array.isArray;return isArray_1=ee,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var ee=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=ee,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var ee=require_freeGlobal(),te=typeof self=="object"&&self&&self.Object===Object&&self,ne=ee||te||Function("return this")();return _root=ne,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var ee=require_root(),te=ee.Symbol;return _Symbol=te,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var ee=require_Symbol(),te=Object.prototype,ne=te.hasOwnProperty,xe=te.toString,rt=ee?ee.toStringTag:void 0;function it(lt){var ct=ne.call(lt,rt),ut=lt[rt];try{lt[rt]=void 0;var dt=!0}catch{}var ht=xe.call(lt);return dt&&(ct?lt[rt]=ut:delete lt[rt]),ht}return _getRawTag=it,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var ee=Object.prototype,te=ee.toString;function ne(xe){return te.call(xe)}return _objectToString=ne,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var ee=require_Symbol(),te=require_getRawTag(),ne=require_objectToString(),xe="[object Null]",rt="[object Undefined]",it=ee?ee.toStringTag:void 0;function lt(ct){return ct==null?ct===void 0?rt:xe:it&&it in Object(ct)?te(ct):ne(ct)}return _baseGetTag=lt,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function ee(te){return te!=null&&typeof te=="object"}return isObjectLike_1=ee,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var ee=require_baseGetTag(),te=requireIsObjectLike(),ne="[object Symbol]";function xe(rt){return typeof rt=="symbol"||te(rt)&&ee(rt)==ne}return isSymbol_1=xe,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var ee=requireIsArray(),te=requireIsSymbol(),ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/;function rt(it,lt){if(ee(it))return!1;var ct=typeof it;return ct=="number"||ct=="symbol"||ct=="boolean"||it==null||te(it)?!0:xe.test(it)||!ne.test(it)||lt!=null&&it in Object(lt)}return _isKey=rt,_isKey}var isObject_1$1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1$1;hasRequiredIsObject=1;function ee(te){var ne=typeof te;return te!=null&&(ne=="object"||ne=="function")}return isObject_1$1=ee,isObject_1$1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var ee=require_baseGetTag(),te=requireIsObject(),ne="[object AsyncFunction]",xe="[object Function]",rt="[object GeneratorFunction]",it="[object Proxy]";function lt(ct){if(!te(ct))return!1;var ut=ee(ct);return ut==xe||ut==rt||ut==ne||ut==it}return isFunction_1=lt,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var ee=require_root(),te=ee["__core-js_shared__"];return _coreJsData=te,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var ee=require_coreJsData(),te=(function(){var xe=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return xe?"Symbol(src)_1."+xe:""})();function ne(xe){return!!te&&te in xe}return _isMasked=ne,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var ee=Function.prototype,te=ee.toString;function ne(xe){if(xe!=null){try{return te.call(xe)}catch{}try{return xe+""}catch{}}return""}return _toSource=ne,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var ee=requireIsFunction(),te=require_isMasked(),ne=requireIsObject(),xe=require_toSource(),rt=/[\\^$.*+?()[\]{}|]/g,it=/^\[object .+?Constructor\]$/,lt=Function.prototype,ct=Object.prototype,ut=lt.toString,dt=ct.hasOwnProperty,ht=RegExp("^"+ut.call(dt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ft(pt){if(!ne(pt)||te(pt))return!1;var mt=ee(pt)?ht:it;return mt.test(xe(pt))}return _baseIsNative=ft,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function ee(te,ne){return te?.[ne]}return _getValue=ee,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var ee=require_baseIsNative(),te=require_getValue();function ne(xe,rt){var it=te(xe,rt);return ee(it)?it:void 0}return _getNative=ne,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var ee=require_getNative(),te=ee(Object,"create");return _nativeCreate=te,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var ee=require_nativeCreate();function te(){this.__data__=ee?ee(null):{},this.size=0}return _hashClear=te,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function ee(te){var ne=this.has(te)&&delete this.__data__[te];return this.size-=ne?1:0,ne}return _hashDelete=ee,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var ee=require_nativeCreate(),te="__lodash_hash_undefined__",ne=Object.prototype,xe=ne.hasOwnProperty;function rt(it){var lt=this.__data__;if(ee){var ct=lt[it];return ct===te?void 0:ct}return xe.call(lt,it)?lt[it]:void 0}return _hashGet=rt,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var ee=require_nativeCreate(),te=Object.prototype,ne=te.hasOwnProperty;function xe(rt){var it=this.__data__;return ee?it[rt]!==void 0:ne.call(it,rt)}return _hashHas=xe,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var ee=require_nativeCreate(),te="__lodash_hash_undefined__";function ne(xe,rt){var it=this.__data__;return this.size+=this.has(xe)?0:1,it[xe]=ee&&rt===void 0?te:rt,this}return _hashSet=ne,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var ee=require_hashClear(),te=require_hashDelete(),ne=require_hashGet(),xe=require_hashHas(),rt=require_hashSet();function it(lt){var ct=-1,ut=lt==null?0:lt.length;for(this.clear();++ct<ut;){var dt=lt[ct];this.set(dt[0],dt[1])}}return it.prototype.clear=ee,it.prototype.delete=te,it.prototype.get=ne,it.prototype.has=xe,it.prototype.set=rt,_Hash=it,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function ee(){this.__data__=[],this.size=0}return _listCacheClear=ee,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function ee(te,ne){return te===ne||te!==te&&ne!==ne}return eq_1=ee,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var ee=requireEq();function te(ne,xe){for(var rt=ne.length;rt--;)if(ee(ne[rt][0],xe))return rt;return-1}return _assocIndexOf=te,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var ee=require_assocIndexOf(),te=Array.prototype,ne=te.splice;function xe(rt){var it=this.__data__,lt=ee(it,rt);if(lt<0)return!1;var ct=it.length-1;return lt==ct?it.pop():ne.call(it,lt,1),--this.size,!0}return _listCacheDelete=xe,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var ee=require_assocIndexOf();function te(ne){var xe=this.__data__,rt=ee(xe,ne);return rt<0?void 0:xe[rt][1]}return _listCacheGet=te,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var ee=require_assocIndexOf();function te(ne){return ee(this.__data__,ne)>-1}return _listCacheHas=te,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var ee=require_assocIndexOf();function te(ne,xe){var rt=this.__data__,it=ee(rt,ne);return it<0?(++this.size,rt.push([ne,xe])):rt[it][1]=xe,this}return _listCacheSet=te,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var ee=require_listCacheClear(),te=require_listCacheDelete(),ne=require_listCacheGet(),xe=require_listCacheHas(),rt=require_listCacheSet();function it(lt){var ct=-1,ut=lt==null?0:lt.length;for(this.clear();++ct<ut;){var dt=lt[ct];this.set(dt[0],dt[1])}}return it.prototype.clear=ee,it.prototype.delete=te,it.prototype.get=ne,it.prototype.has=xe,it.prototype.set=rt,_ListCache=it,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var ee=require_getNative(),te=require_root(),ne=ee(te,"Map");return _Map=ne,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var ee=require_Hash(),te=require_ListCache(),ne=require_Map();function xe(){this.size=0,this.__data__={hash:new ee,map:new(ne||te),string:new ee}}return _mapCacheClear=xe,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function ee(te){var ne=typeof te;return ne=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?te!=="__proto__":te===null}return _isKeyable=ee,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var ee=require_isKeyable();function te(ne,xe){var rt=ne.__data__;return ee(xe)?rt[typeof xe=="string"?"string":"hash"]:rt.map}return _getMapData=te,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var ee=require_getMapData();function te(ne){var xe=ee(this,ne).delete(ne);return this.size-=xe?1:0,xe}return _mapCacheDelete=te,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var ee=require_getMapData();function te(ne){return ee(this,ne).get(ne)}return _mapCacheGet=te,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var ee=require_getMapData();function te(ne){return ee(this,ne).has(ne)}return _mapCacheHas=te,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var ee=require_getMapData();function te(ne,xe){var rt=ee(this,ne),it=rt.size;return rt.set(ne,xe),this.size+=rt.size==it?0:1,this}return _mapCacheSet=te,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var ee=require_mapCacheClear(),te=require_mapCacheDelete(),ne=require_mapCacheGet(),xe=require_mapCacheHas(),rt=require_mapCacheSet();function it(lt){var ct=-1,ut=lt==null?0:lt.length;for(this.clear();++ct<ut;){var dt=lt[ct];this.set(dt[0],dt[1])}}return it.prototype.clear=ee,it.prototype.delete=te,it.prototype.get=ne,it.prototype.has=xe,it.prototype.set=rt,_MapCache=it,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var ee=require_MapCache(),te="Expected a function";function ne(xe,rt){if(typeof xe!="function"||rt!=null&&typeof rt!="function")throw new TypeError(te);var it=function(){var lt=arguments,ct=rt?rt.apply(this,lt):lt[0],ut=it.cache;if(ut.has(ct))return ut.get(ct);var dt=xe.apply(this,lt);return it.cache=ut.set(ct,dt)||ut,dt};return it.cache=new(ne.Cache||ee),it}return ne.Cache=ee,memoize_1=ne,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var ee=requireMemoize(),te=500;function ne(xe){var rt=ee(xe,function(lt){return it.size===te&&it.clear(),lt}),it=rt.cache;return rt}return _memoizeCapped=ne,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var ee=require_memoizeCapped(),te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/\\(\\)?/g,xe=ee(function(rt){var it=[];return rt.charCodeAt(0)===46&&it.push(""),rt.replace(te,function(lt,ct,ut,dt){it.push(ut?dt.replace(ne,"$1"):ct||lt)}),it});return _stringToPath=xe,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function ee(te,ne){for(var xe=-1,rt=te==null?0:te.length,it=Array(rt);++xe<rt;)it[xe]=ne(te[xe],xe,te);return it}return _arrayMap=ee,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var ee=require_Symbol(),te=require_arrayMap(),ne=requireIsArray(),xe=requireIsSymbol(),rt=ee?ee.prototype:void 0,it=rt?rt.toString:void 0;function lt(ct){if(typeof ct=="string")return ct;if(ne(ct))return te(ct,lt)+"";if(xe(ct))return it?it.call(ct):"";var ut=ct+"";return ut=="0"&&1/ct==-1/0?"-0":ut}return _baseToString=lt,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var ee=require_baseToString();function te(ne){return ne==null?"":ee(ne)}return toString_1=te,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var ee=requireIsArray(),te=require_isKey(),ne=require_stringToPath(),xe=requireToString();function rt(it,lt){return ee(it)?it:te(it,lt)?[it]:ne(xe(it))}return _castPath=rt,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var ee=requireIsSymbol();function te(ne){if(typeof ne=="string"||ee(ne))return ne;var xe=ne+"";return xe=="0"&&1/ne==-1/0?"-0":xe}return _toKey=te,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var ee=require_castPath(),te=require_toKey();function ne(xe,rt){rt=ee(rt,xe);for(var it=0,lt=rt.length;xe!=null&&it<lt;)xe=xe[te(rt[it++])];return it&&it==lt?xe:void 0}return _baseGet=ne,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var ee=require_baseGet();function te(ne,xe,rt){var it=ne==null?void 0:ee(ne,xe);return it===void 0?rt:it}return get_1=te,get_1}var getExports=requireGet();const get$2=getDefaultExportFromCjs(getExports);var isNil_1,hasRequiredIsNil;function requireIsNil(){if(hasRequiredIsNil)return isNil_1;hasRequiredIsNil=1;function ee(te){return te==null}return isNil_1=ee,isNil_1}var isNilExports=requireIsNil();const isNil=getDefaultExportFromCjs(isNilExports);var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var ee=require_baseGetTag(),te=requireIsArray(),ne=requireIsObjectLike(),xe="[object String]";function rt(it){return typeof it=="string"||!te(it)&&ne(it)&&ee(it)==xe}return isString_1=rt,isString_1}var isStringExports=requireIsString();const isString=getDefaultExportFromCjs(isStringExports);var isFunctionExports=requireIsFunction();const isFunction$1=getDefaultExportFromCjs(isFunctionExports);var isObjectExports=requireIsObject();const isObject$2=getDefaultExportFromCjs(isObjectExports);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var ee=Symbol.for("react.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),lt=Symbol.for("react.context"),ct=Symbol.for("react.server_context"),ut=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),mt=Symbol.for("react.offscreen"),xt;xt=Symbol.for("react.module.reference");function yt(vt){if(typeof vt=="object"&&vt!==null){var Et=vt.$$typeof;switch(Et){case ee:switch(vt=vt.type,vt){case ne:case rt:case xe:case dt:case ht:return vt;default:switch(vt=vt&&vt.$$typeof,vt){case ct:case lt:case ut:case pt:case ft:case it:return vt;default:return Et}}case te:return Et}}}return reactIs_production_min.ContextConsumer=lt,reactIs_production_min.ContextProvider=it,reactIs_production_min.Element=ee,reactIs_production_min.ForwardRef=ut,reactIs_production_min.Fragment=ne,reactIs_production_min.Lazy=pt,reactIs_production_min.Memo=ft,reactIs_production_min.Portal=te,reactIs_production_min.Profiler=rt,reactIs_production_min.StrictMode=xe,reactIs_production_min.Suspense=dt,reactIs_production_min.SuspenseList=ht,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(vt){return yt(vt)===lt},reactIs_production_min.isContextProvider=function(vt){return yt(vt)===it},reactIs_production_min.isElement=function(vt){return typeof vt=="object"&&vt!==null&&vt.$$typeof===ee},reactIs_production_min.isForwardRef=function(vt){return yt(vt)===ut},reactIs_production_min.isFragment=function(vt){return yt(vt)===ne},reactIs_production_min.isLazy=function(vt){return yt(vt)===pt},reactIs_production_min.isMemo=function(vt){return yt(vt)===ft},reactIs_production_min.isPortal=function(vt){return yt(vt)===te},reactIs_production_min.isProfiler=function(vt){return yt(vt)===rt},reactIs_production_min.isStrictMode=function(vt){return yt(vt)===xe},reactIs_production_min.isSuspense=function(vt){return yt(vt)===dt},reactIs_production_min.isSuspenseList=function(vt){return yt(vt)===ht},reactIs_production_min.isValidElementType=function(vt){return typeof vt=="string"||typeof vt=="function"||vt===ne||vt===rt||vt===xe||vt===dt||vt===ht||vt===mt||typeof vt=="object"&&vt!==null&&(vt.$$typeof===pt||vt.$$typeof===ft||vt.$$typeof===it||vt.$$typeof===lt||vt.$$typeof===ut||vt.$$typeof===xt||vt.getModuleId!==void 0)},reactIs_production_min.typeOf=yt,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),isNumber_1,hasRequiredIsNumber;function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var ee=require_baseGetTag(),te=requireIsObjectLike(),ne="[object Number]";function xe(rt){return typeof rt=="number"||te(rt)&&ee(rt)==ne}return isNumber_1=xe,isNumber_1}var _isNaN,hasRequired_isNaN;function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var ee=requireIsNumber();function te(ne){return ee(ne)&&ne!=+ne}return _isNaN=te,_isNaN}var _isNaNExports=require_isNaN();const isNan=getDefaultExportFromCjs(_isNaNExports);var isNumberExports=requireIsNumber();const isNumber$1=getDefaultExportFromCjs(isNumberExports);var mathSign=function(te){return te===0?0:te>0?1:-1},isPercent=function(te){return isString(te)&&te.indexOf("%")===te.length-1},isNumber=function(te){return isNumber$1(te)&&!isNan(te)},isNullish=function(te){return isNil(te)},isNumOrStr=function(te){return isNumber(te)||isString(te)},idCounter=0,uniqueId=function(te){var ne=++idCounter;return"".concat(te||"").concat(ne)},getPercentValue=function(te,ne){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(te)&&!isString(te))return xe;var it;if(isPercent(te)){var lt=te.indexOf("%");it=ne*parseFloat(te.slice(0,lt))/100}else it=+te;return isNan(it)&&(it=xe),rt&&it>ne&&(it=ne),it},getAnyElementOfObject=function(te){if(!te)return null;var ne=Object.keys(te);return ne&&ne.length?te[ne[0]]:null},hasDuplicate=function(te){if(!Array.isArray(te))return!1;for(var ne=te.length,xe={},rt=0;rt<ne;rt++)if(!xe[te[rt]])xe[te[rt]]=!0;else return!0;return!1},interpolateNumber$2=function(te,ne){return isNumber(te)&&isNumber(ne)?function(xe){return te+xe*(ne-te)}:function(){return ne}};function findEntryInArray(ee,te,ne){return!ee||!ee.length?null:ee.find(function(xe){return xe&&(typeof te=="function"?te(xe):get$2(xe,te))===ne})}var compareValues=function(te,ne){return isNumber(te)&&isNumber(ne)?te-ne:isString(te)&&isString(ne)?te.localeCompare(ne):te instanceof Date&&ne instanceof Date?te.getTime()-ne.getTime():String(te).localeCompare(String(ne))};function shallowEqual(ee,te){for(var ne in ee)if({}.hasOwnProperty.call(ee,ne)&&(!{}.hasOwnProperty.call(te,ne)||ee[ne]!==te[ne]))return!1;for(var xe in te)if({}.hasOwnProperty.call(te,xe)&&!{}.hasOwnProperty.call(ee,xe))return!1;return!0}function _typeof$N(ee){"@babel/helpers - typeof";return _typeof$N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$N(ee)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(te,ne){if(!te||typeof te=="function"||typeof te=="boolean")return null;var xe=te;if(reactExports.isValidElement(te)&&(xe=te.props),!isObject$2(xe))return null;var rt={};return Object.keys(xe).forEach(function(it){EventKeys.includes(it)&&(rt[it]=ne||function(lt){return xe[it](xe,lt)})}),rt},getEventHandlerOfChild=function(te,ne,xe){return function(rt){return te(ne,xe,rt),null}},adaptEventsOfChild=function(te,ne,xe){if(!isObject$2(te)||_typeof$N(te)!=="object")return null;var rt=null;return Object.keys(te).forEach(function(it){var lt=te[it];EventKeys.includes(it)&&typeof lt=="function"&&(rt||(rt={}),rt[it]=getEventHandlerOfChild(lt,ne,xe))}),rt},_excluded$n=["children"],_excluded2$7=["children"];function _objectWithoutProperties$m(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$m(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$m(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _typeof$M(ee){"@babel/helpers - typeof";return _typeof$M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$M(ee)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function(te){return typeof te=="string"?te:te?te.displayName||te.name||"Component":""},lastChildren=null,lastResult=null,toArray$1=function ee(te){if(te===lastChildren&&Array.isArray(lastResult))return lastResult;var ne=[];return reactExports.Children.forEach(te,function(xe){isNil(xe)||(reactIsExports.isFragment(xe)?ne=ne.concat(ee(xe.props.children)):ne.push(xe))}),lastResult=ne,lastChildren=te,ne};function findAllByType(ee,te){var ne=[],xe=[];return Array.isArray(te)?xe=te.map(function(rt){return getDisplayName(rt)}):xe=[getDisplayName(te)],toArray$1(ee).forEach(function(rt){var it=get$2(rt,"type.displayName")||get$2(rt,"type.name");xe.indexOf(it)!==-1&&ne.push(rt)}),ne}function findChildByType(ee,te){var ne=findAllByType(ee,te);return ne&&ne[0]}var validateWidthHeight=function(te){if(!te||!te.props)return!1;var ne=te.props,xe=ne.width,rt=ne.height;return!(!isNumber(xe)||xe<=0||!isNumber(rt)||rt<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function(te){return te&&te.type&&isString(te.type)&&SVG_TAGS.indexOf(te.type)>=0},hasClipDot=function(te){return te&&_typeof$M(te)==="object"&&"clipDot"in te},isValidSpreadableProp=function(te,ne,xe,rt){var it,lt=(it=FilteredElementKeyMap?.[rt])!==null&&it!==void 0?it:[];return ne.startsWith("data-")||!isFunction$1(te)&&(rt&&lt.includes(ne)||SVGElementPropKeys.includes(ne))||xe&&EventKeys.includes(ne)},filterProps=function(te,ne,xe){if(!te||typeof te=="function"||typeof te=="boolean")return null;var rt=te;if(reactExports.isValidElement(te)&&(rt=te.props),!isObject$2(rt))return null;var it={};return Object.keys(rt).forEach(function(lt){var ct;isValidSpreadableProp((ct=rt)===null||ct===void 0?void 0:ct[lt],lt,ne,xe)&&(it[lt]=rt[lt])}),it},isChildrenEqual=function ee(te,ne){if(te===ne)return!0;var xe=reactExports.Children.count(te);if(xe!==reactExports.Children.count(ne))return!1;if(xe===0)return!0;if(xe===1)return isSingleChildEqual(Array.isArray(te)?te[0]:te,Array.isArray(ne)?ne[0]:ne);for(var rt=0;rt<xe;rt++){var it=te[rt],lt=ne[rt];if(Array.isArray(it)||Array.isArray(lt)){if(!ee(it,lt))return!1}else if(!isSingleChildEqual(it,lt))return!1}return!0},isSingleChildEqual=function(te,ne){if(isNil(te)&&isNil(ne))return!0;if(!isNil(te)&&!isNil(ne)){var xe=te.props||{},rt=xe.children,it=_objectWithoutProperties$m(xe,_excluded$n),lt=ne.props||{},ct=lt.children,ut=_objectWithoutProperties$m(lt,_excluded2$7);return rt&&ct?shallowEqual(it,ut)&&isChildrenEqual(rt,ct):!rt&&!ct?shallowEqual(it,ut):!1}return!1},renderByOrder=function(te,ne){var xe=[],rt={};return toArray$1(te).forEach(function(it,lt){if(isSvgElement(it))xe.push(it);else if(it){var ct=getDisplayName(it.type),ut=ne[ct]||{},dt=ut.handler,ht=ut.once;if(dt&&(!ht||!rt[ct])){var ft=dt(it,ct,lt);xe.push(ft),rt[ct]=!0}}}),xe},getReactEventByType=function(te){var ne=te&&te.type;return ne&&REACT_BROWSER_EVENT_MAP[ne]?REACT_BROWSER_EVENT_MAP[ne]:null},parseChildIndex=function(te,ne){return toArray$1(ne).indexOf(te)},_excluded$m=["children","width","height","viewBox","className","style","title","desc"];function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$w.apply(this,arguments)}function _objectWithoutProperties$l(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$l(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$l(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function Surface(ee){var te=ee.children,ne=ee.width,xe=ee.height,rt=ee.viewBox,it=ee.className,lt=ee.style,ct=ee.title,ut=ee.desc,dt=_objectWithoutProperties$l(ee,_excluded$m),ht=rt||{width:ne,height:xe,x:0,y:0},ft=clsx("recharts-surface",it);return React.createElement("svg",_extends$w({},filterProps(dt,!0,"svg"),{className:ft,width:ne,height:xe,style:lt,viewBox:"".concat(ht.x," ").concat(ht.y," ").concat(ht.width," ").concat(ht.height)}),React.createElement("title",null,ct),React.createElement("desc",null,ut),te)}var _excluded$l=["children","className"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$v.apply(this,arguments)}function _objectWithoutProperties$k(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$k(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$k(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}var Layer=React.forwardRef(function(ee,te){var ne=ee.children,xe=ee.className,rt=_objectWithoutProperties$k(ee,_excluded$l),it=clsx("recharts-layer",xe);return React.createElement("g",_extends$v({className:it},filterProps(rt,!0),{ref:te}),ne)}),warn=function(te,ne){for(var xe=arguments.length,rt=new Array(xe>2?xe-2:0),it=2;it<xe;it++)rt[it-2]=arguments[it]},_baseSlice,hasRequired_baseSlice;function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;hasRequired_baseSlice=1;function ee(te,ne,xe){var rt=-1,it=te.length;ne<0&&(ne=-ne>it?0:it+ne),xe=xe>it?it:xe,xe<0&&(xe+=it),it=ne>xe?0:xe-ne>>>0,ne>>>=0;for(var lt=Array(it);++rt<it;)lt[rt]=te[rt+ne];return lt}return _baseSlice=ee,_baseSlice}var _castSlice,hasRequired_castSlice;function require_castSlice(){if(hasRequired_castSlice)return _castSlice;hasRequired_castSlice=1;var ee=require_baseSlice();function te(ne,xe,rt){var it=ne.length;return rt=rt===void 0?it:rt,!xe&&rt>=it?ne:ee(ne,xe,rt)}return _castSlice=te,_castSlice}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var ee="\\ud800-\\udfff",te="\\u0300-\\u036f",ne="\\ufe20-\\ufe2f",xe="\\u20d0-\\u20ff",rt=te+ne+xe,it="\\ufe0e\\ufe0f",lt="\\u200d",ct=RegExp("["+lt+ee+rt+it+"]");function ut(dt){return ct.test(dt)}return _hasUnicode=ut,_hasUnicode}var _asciiToArray,hasRequired_asciiToArray;function require_asciiToArray(){if(hasRequired_asciiToArray)return _asciiToArray;hasRequired_asciiToArray=1;function ee(te){return te.split("")}return _asciiToArray=ee,_asciiToArray}var _unicodeToArray,hasRequired_unicodeToArray;function require_unicodeToArray(){if(hasRequired_unicodeToArray)return _unicodeToArray;hasRequired_unicodeToArray=1;var ee="\\ud800-\\udfff",te="\\u0300-\\u036f",ne="\\ufe20-\\ufe2f",xe="\\u20d0-\\u20ff",rt=te+ne+xe,it="\\ufe0e\\ufe0f",lt="["+ee+"]",ct="["+rt+"]",ut="\\ud83c[\\udffb-\\udfff]",dt="(?:"+ct+"|"+ut+")",ht="[^"+ee+"]",ft="(?:\\ud83c[\\udde6-\\uddff]){2}",pt="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="\\u200d",xt=dt+"?",yt="["+it+"]?",vt="(?:"+mt+"(?:"+[ht,ft,pt].join("|")+")"+yt+xt+")*",Et=yt+xt+vt,_t="(?:"+[ht+ct+"?",ct,ft,pt,lt].join("|")+")",wt=RegExp(ut+"(?="+ut+")|"+_t+Et,"g");function St(Ct){return Ct.match(wt)||[]}return _unicodeToArray=St,_unicodeToArray}var _stringToArray,hasRequired_stringToArray;function require_stringToArray(){if(hasRequired_stringToArray)return _stringToArray;hasRequired_stringToArray=1;var ee=require_asciiToArray(),te=require_hasUnicode(),ne=require_unicodeToArray();function xe(rt){return te(rt)?ne(rt):ee(rt)}return _stringToArray=xe,_stringToArray}var _createCaseFirst,hasRequired_createCaseFirst;function require_createCaseFirst(){if(hasRequired_createCaseFirst)return _createCaseFirst;hasRequired_createCaseFirst=1;var ee=require_castSlice(),te=require_hasUnicode(),ne=require_stringToArray(),xe=requireToString();function rt(it){return function(lt){lt=xe(lt);var ct=te(lt)?ne(lt):void 0,ut=ct?ct[0]:lt.charAt(0),dt=ct?ee(ct,1).join(""):lt.slice(1);return ut[it]()+dt}}return _createCaseFirst=rt,_createCaseFirst}var upperFirst_1,hasRequiredUpperFirst;function requireUpperFirst(){if(hasRequiredUpperFirst)return upperFirst_1;hasRequiredUpperFirst=1;var ee=require_createCaseFirst(),te=ee("toUpperCase");return upperFirst_1=te,upperFirst_1}var upperFirstExports=requireUpperFirst();const upperFirst=getDefaultExportFromCjs(upperFirstExports);function constant$5(ee){return function(){return ee}}const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max$2=Math.max,min$2=Math.min,sin=Math.sin,sqrt$1=Math.sqrt,epsilon$1=1e-12,pi$1=Math.PI,halfPi=pi$1/2,tau$1=2*pi$1;function acos(ee){return ee>1?0:ee<-1?pi$1:Math.acos(ee)}function asin(ee){return ee>=1?halfPi:ee<=-1?-halfPi:Math.asin(ee)}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append$1(ee){this._+=ee[0];for(let te=1,ne=ee.length;te<ne;++te)this._+=arguments[te]+ee[te]}function appendRound(ee){let te=Math.floor(ee);if(!(te>=0))throw new Error(`invalid digits: ${ee}`);if(te>15)return append$1;const ne=10**te;return function(xe){this._+=xe[0];for(let rt=1,it=xe.length;rt<it;++rt)this._+=Math.round(arguments[rt]*ne)/ne+xe[rt]}}class Path{constructor(te){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=te==null?append$1:appendRound(te)}moveTo(te,ne){this._append`M${this._x0=this._x1=+te},${this._y0=this._y1=+ne}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(te,ne){this._append`L${this._x1=+te},${this._y1=+ne}`}quadraticCurveTo(te,ne,xe,rt){this._append`Q${+te},${+ne},${this._x1=+xe},${this._y1=+rt}`}bezierCurveTo(te,ne,xe,rt,it,lt){this._append`C${+te},${+ne},${+xe},${+rt},${this._x1=+it},${this._y1=+lt}`}arcTo(te,ne,xe,rt,it){if(te=+te,ne=+ne,xe=+xe,rt=+rt,it=+it,it<0)throw new Error(`negative radius: ${it}`);let lt=this._x1,ct=this._y1,ut=xe-te,dt=rt-ne,ht=lt-te,ft=ct-ne,pt=ht*ht+ft*ft;if(this._x1===null)this._append`M${this._x1=te},${this._y1=ne}`;else if(pt>epsilon)if(!(Math.abs(ft*ut-dt*ht)>epsilon)||!it)this._append`L${this._x1=te},${this._y1=ne}`;else{let mt=xe-lt,xt=rt-ct,yt=ut*ut+dt*dt,vt=mt*mt+xt*xt,Et=Math.sqrt(yt),_t=Math.sqrt(pt),wt=it*Math.tan((pi-Math.acos((yt+pt-vt)/(2*Et*_t)))/2),St=wt/_t,Ct=wt/Et;Math.abs(St-1)>epsilon&&this._append`L${te+St*ht},${ne+St*ft}`,this._append`A${it},${it},0,0,${+(ft*mt>ht*xt)},${this._x1=te+Ct*ut},${this._y1=ne+Ct*dt}`}}arc(te,ne,xe,rt,it,lt){if(te=+te,ne=+ne,xe=+xe,lt=!!lt,xe<0)throw new Error(`negative radius: ${xe}`);let ct=xe*Math.cos(rt),ut=xe*Math.sin(rt),dt=te+ct,ht=ne+ut,ft=1^lt,pt=lt?rt-it:it-rt;this._x1===null?this._append`M${dt},${ht}`:(Math.abs(this._x1-dt)>epsilon||Math.abs(this._y1-ht)>epsilon)&&this._append`L${dt},${ht}`,xe&&(pt<0&&(pt=pt%tau+tau),pt>tauEpsilon?this._append`A${xe},${xe},0,1,${ft},${te-ct},${ne-ut}A${xe},${xe},0,1,${ft},${this._x1=dt},${this._y1=ht}`:pt>epsilon&&this._append`A${xe},${xe},0,${+(pt>=pi)},${ft},${this._x1=te+xe*Math.cos(it)},${this._y1=ne+xe*Math.sin(it)}`)}rect(te,ne,xe,rt){this._append`M${this._x0=this._x1=+te},${this._y0=this._y1=+ne}h${xe=+xe}v${+rt}h${-xe}Z`}toString(){return this._}}function withPath(ee){let te=3;return ee.digits=function(ne){if(!arguments.length)return te;if(ne==null)te=null;else{const xe=Math.floor(ne);if(!(xe>=0))throw new RangeError(`invalid digits: ${ne}`);te=xe}return ee},()=>new Path(te)}function array$1(ee){return typeof ee=="object"&&"length"in ee?ee:Array.from(ee)}function Linear(ee){this._context=ee}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;default:this._context.lineTo(ee,te);break}}};function curveLinear(ee){return new Linear(ee)}function x$2(ee){return ee[0]}function y$2(ee){return ee[1]}function line$1(ee,te){var ne=constant$5(!0),xe=null,rt=curveLinear,it=null,lt=withPath(ct);ee=typeof ee=="function"?ee:ee===void 0?x$2:constant$5(ee),te=typeof te=="function"?te:te===void 0?y$2:constant$5(te);function ct(ut){var dt,ht=(ut=array$1(ut)).length,ft,pt=!1,mt;for(xe==null&&(it=rt(mt=lt())),dt=0;dt<=ht;++dt)!(dt<ht&&ne(ft=ut[dt],dt,ut))===pt&&((pt=!pt)?it.lineStart():it.lineEnd()),pt&&it.point(+ee(ft,dt,ut),+te(ft,dt,ut));if(mt)return it=null,mt+""||null}return ct.x=function(ut){return arguments.length?(ee=typeof ut=="function"?ut:constant$5(+ut),ct):ee},ct.y=function(ut){return arguments.length?(te=typeof ut=="function"?ut:constant$5(+ut),ct):te},ct.defined=function(ut){return arguments.length?(ne=typeof ut=="function"?ut:constant$5(!!ut),ct):ne},ct.curve=function(ut){return arguments.length?(rt=ut,xe!=null&&(it=rt(xe)),ct):rt},ct.context=function(ut){return arguments.length?(ut==null?xe=it=null:it=rt(xe=ut),ct):xe},ct}function shapeArea(ee,te,ne){var xe=null,rt=constant$5(!0),it=null,lt=curveLinear,ct=null,ut=withPath(dt);ee=typeof ee=="function"?ee:ee===void 0?x$2:constant$5(+ee),te=typeof te=="function"?te:constant$5(te===void 0?0:+te),ne=typeof ne=="function"?ne:ne===void 0?y$2:constant$5(+ne);function dt(ft){var pt,mt,xt,yt=(ft=array$1(ft)).length,vt,Et=!1,_t,wt=new Array(yt),St=new Array(yt);for(it==null&&(ct=lt(_t=ut())),pt=0;pt<=yt;++pt){if(!(pt<yt&&rt(vt=ft[pt],pt,ft))===Et)if(Et=!Et)mt=pt,ct.areaStart(),ct.lineStart();else{for(ct.lineEnd(),ct.lineStart(),xt=pt-1;xt>=mt;--xt)ct.point(wt[xt],St[xt]);ct.lineEnd(),ct.areaEnd()}Et&&(wt[pt]=+ee(vt,pt,ft),St[pt]=+te(vt,pt,ft),ct.point(xe?+xe(vt,pt,ft):wt[pt],ne?+ne(vt,pt,ft):St[pt]))}if(_t)return ct=null,_t+""||null}function ht(){return line$1().defined(rt).curve(lt).context(it)}return dt.x=function(ft){return arguments.length?(ee=typeof ft=="function"?ft:constant$5(+ft),xe=null,dt):ee},dt.x0=function(ft){return arguments.length?(ee=typeof ft=="function"?ft:constant$5(+ft),dt):ee},dt.x1=function(ft){return arguments.length?(xe=ft==null?null:typeof ft=="function"?ft:constant$5(+ft),dt):xe},dt.y=function(ft){return arguments.length?(te=typeof ft=="function"?ft:constant$5(+ft),ne=null,dt):te},dt.y0=function(ft){return arguments.length?(te=typeof ft=="function"?ft:constant$5(+ft),dt):te},dt.y1=function(ft){return arguments.length?(ne=ft==null?null:typeof ft=="function"?ft:constant$5(+ft),dt):ne},dt.lineX0=dt.lineY0=function(){return ht().x(ee).y(te)},dt.lineY1=function(){return ht().x(ee).y(ne)},dt.lineX1=function(){return ht().x(xe).y(te)},dt.defined=function(ft){return arguments.length?(rt=typeof ft=="function"?ft:constant$5(!!ft),dt):rt},dt.curve=function(ft){return arguments.length?(lt=ft,it!=null&&(ct=lt(it)),dt):lt},dt.context=function(ft){return arguments.length?(ft==null?it=ct=null:ct=lt(it=ft),dt):it},dt}class Bump{constructor(te,ne){this._context=te,this._x=ne}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(te,ne){switch(te=+te,ne=+ne,this._point){case 0:{this._point=1,this._line?this._context.lineTo(te,ne):this._context.moveTo(te,ne);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+te)/2,this._y0,this._x0,ne,te,ne):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+ne)/2,te,this._y0,te,ne);break}}this._x0=te,this._y0=ne}}function bumpX(ee){return new Bump(ee,!0)}function bumpY(ee){return new Bump(ee,!1)}const symbolCircle={draw(ee,te){const ne=sqrt$1(te/pi$1);ee.moveTo(ne,0),ee.arc(0,0,ne,0,tau$1)}},symbolCross={draw(ee,te){const ne=sqrt$1(te/5)/2;ee.moveTo(-3*ne,-ne),ee.lineTo(-ne,-ne),ee.lineTo(-ne,-3*ne),ee.lineTo(ne,-3*ne),ee.lineTo(ne,-ne),ee.lineTo(3*ne,-ne),ee.lineTo(3*ne,ne),ee.lineTo(ne,ne),ee.lineTo(ne,3*ne),ee.lineTo(-ne,3*ne),ee.lineTo(-ne,ne),ee.lineTo(-3*ne,ne),ee.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(ee,te){const ne=sqrt$1(te/tan30_2),xe=ne*tan30;ee.moveTo(0,-ne),ee.lineTo(xe,0),ee.lineTo(0,ne),ee.lineTo(-xe,0),ee.closePath()}},symbolSquare={draw(ee,te){const ne=sqrt$1(te),xe=-ne/2;ee.rect(xe,xe,ne,ne)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(ee,te){const ne=sqrt$1(te*ka),xe=kx*ne,rt=ky*ne;ee.moveTo(0,-ne),ee.lineTo(xe,rt);for(let it=1;it<5;++it){const lt=tau$1*it/5,ct=cos(lt),ut=sin(lt);ee.lineTo(ut*ne,-ct*ne),ee.lineTo(ct*xe-ut*rt,ut*xe+ct*rt)}ee.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(ee,te){const ne=-sqrt$1(te/(sqrt3*3));ee.moveTo(0,ne*2),ee.lineTo(-sqrt3*ne,-ne),ee.lineTo(sqrt3*ne,-ne),ee.closePath()}},c$1=-.5,s$2=sqrt$1(3)/2,k$2=1/sqrt$1(12),a$1=(k$2/2+1)*3,symbolWye={draw(ee,te){const ne=sqrt$1(te/a$1),xe=ne/2,rt=ne*k$2,it=xe,lt=ne*k$2+ne,ct=-it,ut=lt;ee.moveTo(xe,rt),ee.lineTo(it,lt),ee.lineTo(ct,ut),ee.lineTo(c$1*xe-s$2*rt,s$2*xe+c$1*rt),ee.lineTo(c$1*it-s$2*lt,s$2*it+c$1*lt),ee.lineTo(c$1*ct-s$2*ut,s$2*ct+c$1*ut),ee.lineTo(c$1*xe+s$2*rt,c$1*rt-s$2*xe),ee.lineTo(c$1*it+s$2*lt,c$1*lt-s$2*it),ee.lineTo(c$1*ct+s$2*ut,c$1*ut-s$2*ct),ee.closePath()}};function Symbol$2(ee,te){let ne=null,xe=withPath(rt);ee=typeof ee=="function"?ee:constant$5(ee||symbolCircle),te=typeof te=="function"?te:constant$5(te===void 0?64:+te);function rt(){let it;if(ne||(ne=it=xe()),ee.apply(this,arguments).draw(ne,+te.apply(this,arguments)),it)return ne=null,it+""||null}return rt.type=function(it){return arguments.length?(ee=typeof it=="function"?it:constant$5(it),rt):ee},rt.size=function(it){return arguments.length?(te=typeof it=="function"?it:constant$5(+it),rt):te},rt.context=function(it){return arguments.length?(ne=it??null,rt):ne},rt}function noop$1(){}function point$8(ee,te,ne){ee._context.bezierCurveTo((2*ee._x0+ee._x1)/3,(2*ee._y0+ee._y1)/3,(ee._x0+2*ee._x1)/3,(ee._y0+2*ee._y1)/3,(ee._x0+4*ee._x1+te)/6,(ee._y0+4*ee._y1+ne)/6)}function Basis(ee){this._context=ee}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$8(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$8(this,ee,te);break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te}};function curveBasis(ee){return new Basis(ee)}function BasisClosed(ee){this._context=ee}BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._x2=ee,this._y2=te;break;case 1:this._point=2,this._x3=ee,this._y3=te;break;case 2:this._point=3,this._x4=ee,this._y4=te,this._context.moveTo((this._x0+4*this._x1+ee)/6,(this._y0+4*this._y1+te)/6);break;default:point$8(this,ee,te);break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te}};function curveBasisClosed(ee){return new BasisClosed(ee)}function BasisOpen(ee){this._context=ee}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ne=(this._x0+4*this._x1+ee)/6,xe=(this._y0+4*this._y1+te)/6;this._line?this._context.lineTo(ne,xe):this._context.moveTo(ne,xe);break;case 3:this._point=4;default:point$8(this,ee,te);break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te}};function curveBasisOpen(ee){return new BasisOpen(ee)}function Bundle(ee,te){this._basis=new Basis(ee),this._beta=te}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var ee=this._x,te=this._y,ne=ee.length-1;if(ne>0)for(var xe=ee[0],rt=te[0],it=ee[ne]-xe,lt=te[ne]-rt,ct=-1,ut;++ct<=ne;)ut=ct/ne,this._basis.point(this._beta*ee[ct]+(1-this._beta)*(xe+ut*it),this._beta*te[ct]+(1-this._beta)*(rt+ut*lt));this._x=this._y=null,this._basis.lineEnd()},point:function(ee,te){this._x.push(+ee),this._y.push(+te)}};const curveBundle=(function ee(te){function ne(xe){return te===1?new Basis(xe):new Bundle(xe,te)}return ne.beta=function(xe){return ee(+xe)},ne})(.85);function point$7(ee,te,ne){ee._context.bezierCurveTo(ee._x1+ee._k*(ee._x2-ee._x0),ee._y1+ee._k*(ee._y2-ee._y0),ee._x2+ee._k*(ee._x1-te),ee._y2+ee._k*(ee._y1-ne),ee._x2,ee._y2)}function Cardinal(ee,te){this._context=ee,this._k=(1-te)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$7(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2,this._x1=ee,this._y1=te;break;case 2:this._point=3;default:point$7(this,ee,te);break}this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCardinal=(function ee(te){function ne(xe){return new Cardinal(xe,te)}return ne.tension=function(xe){return ee(+xe)},ne})(0);function CardinalClosed(ee,te){this._context=ee,this._k=(1-te)/6}CardinalClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._x3=ee,this._y3=te;break;case 1:this._point=2,this._context.moveTo(this._x4=ee,this._y4=te);break;case 2:this._point=3,this._x5=ee,this._y5=te;break;default:point$7(this,ee,te);break}this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCardinalClosed=(function ee(te){function ne(xe){return new CardinalClosed(xe,te)}return ne.tension=function(xe){return ee(+xe)},ne})(0);function CardinalOpen(ee,te){this._context=ee,this._k=(1-te)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$7(this,ee,te);break}this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCardinalOpen=(function ee(te){function ne(xe){return new CardinalOpen(xe,te)}return ne.tension=function(xe){return ee(+xe)},ne})(0);function point$6(ee,te,ne){var xe=ee._x1,rt=ee._y1,it=ee._x2,lt=ee._y2;if(ee._l01_a>epsilon$1){var ct=2*ee._l01_2a+3*ee._l01_a*ee._l12_a+ee._l12_2a,ut=3*ee._l01_a*(ee._l01_a+ee._l12_a);xe=(xe*ct-ee._x0*ee._l12_2a+ee._x2*ee._l01_2a)/ut,rt=(rt*ct-ee._y0*ee._l12_2a+ee._y2*ee._l01_2a)/ut}if(ee._l23_a>epsilon$1){var dt=2*ee._l23_2a+3*ee._l23_a*ee._l12_a+ee._l12_2a,ht=3*ee._l23_a*(ee._l23_a+ee._l12_a);it=(it*dt+ee._x1*ee._l23_2a-te*ee._l12_2a)/ht,lt=(lt*dt+ee._y1*ee._l23_2a-ne*ee._l12_2a)/ht}ee._context.bezierCurveTo(xe,rt,it,lt,ee._x2,ee._y2)}function CatmullRom(ee,te){this._context=ee,this._alpha=te}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){if(ee=+ee,te=+te,this._point){var ne=this._x2-ee,xe=this._y2-te;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ne*ne+xe*xe,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;break;case 2:this._point=3;default:point$6(this,ee,te);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCatmullRom=(function ee(te){function ne(xe){return te?new CatmullRom(xe,te):new Cardinal(xe,0)}return ne.alpha=function(xe){return ee(+xe)},ne})(.5);function CatmullRomClosed(ee,te){this._context=ee,this._alpha=te}CatmullRomClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(ee,te){if(ee=+ee,te=+te,this._point){var ne=this._x2-ee,xe=this._y2-te;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ne*ne+xe*xe,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=ee,this._y3=te;break;case 1:this._point=2,this._context.moveTo(this._x4=ee,this._y4=te);break;case 2:this._point=3,this._x5=ee,this._y5=te;break;default:point$6(this,ee,te);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCatmullRomClosed=(function ee(te){function ne(xe){return te?new CatmullRomClosed(xe,te):new CardinalClosed(xe,0)}return ne.alpha=function(xe){return ee(+xe)},ne})(.5);function CatmullRomOpen(ee,te){this._context=ee,this._alpha=te}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){if(ee=+ee,te=+te,this._point){var ne=this._x2-ee,xe=this._y2-te;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ne*ne+xe*xe,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$6(this,ee,te);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ee,this._y0=this._y1,this._y1=this._y2,this._y2=te}};const curveCatmullRomOpen=(function ee(te){function ne(xe){return te?new CatmullRomOpen(xe,te):new CardinalOpen(xe,0)}return ne.alpha=function(xe){return ee(+xe)},ne})(.5);function LinearClosed(ee){this._context=ee}LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(ee,te){ee=+ee,te=+te,this._point?this._context.lineTo(ee,te):(this._point=1,this._context.moveTo(ee,te))}};function curveLinearClosed(ee){return new LinearClosed(ee)}function sign(ee){return ee<0?-1:1}function slope3(ee,te,ne){var xe=ee._x1-ee._x0,rt=te-ee._x1,it=(ee._y1-ee._y0)/(xe||rt<0&&-0),lt=(ne-ee._y1)/(rt||xe<0&&-0),ct=(it*rt+lt*xe)/(xe+rt);return(sign(it)+sign(lt))*Math.min(Math.abs(it),Math.abs(lt),.5*Math.abs(ct))||0}function slope2(ee,te){var ne=ee._x1-ee._x0;return ne?(3*(ee._y1-ee._y0)/ne-te)/2:te}function point$5(ee,te,ne){var xe=ee._x0,rt=ee._y0,it=ee._x1,lt=ee._y1,ct=(it-xe)/3;ee._context.bezierCurveTo(xe+ct,rt+ct*te,it-ct,lt-ct*ne,it,lt)}function MonotoneX(ee){this._context=ee}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$5(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ee,te){var ne=NaN;if(ee=+ee,te=+te,!(ee===this._x1&&te===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;break;case 2:this._point=3,point$5(this,slope2(this,ne=slope3(this,ee,te)),ne);break;default:point$5(this,this._t0,ne=slope3(this,ee,te));break}this._x0=this._x1,this._x1=ee,this._y0=this._y1,this._y1=te,this._t0=ne}}};function MonotoneY(ee){this._context=new ReflectContext(ee)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(ee,te){MonotoneX.prototype.point.call(this,te,ee)};function ReflectContext(ee){this._context=ee}ReflectContext.prototype={moveTo:function(ee,te){this._context.moveTo(te,ee)},closePath:function(){this._context.closePath()},lineTo:function(ee,te){this._context.lineTo(te,ee)},bezierCurveTo:function(ee,te,ne,xe,rt,it){this._context.bezierCurveTo(te,ee,xe,ne,it,rt)}};function monotoneX(ee){return new MonotoneX(ee)}function monotoneY(ee){return new MonotoneY(ee)}function Natural(ee){this._context=ee}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var ee=this._x,te=this._y,ne=ee.length;if(ne)if(this._line?this._context.lineTo(ee[0],te[0]):this._context.moveTo(ee[0],te[0]),ne===2)this._context.lineTo(ee[1],te[1]);else for(var xe=controlPoints(ee),rt=controlPoints(te),it=0,lt=1;lt<ne;++it,++lt)this._context.bezierCurveTo(xe[0][it],rt[0][it],xe[1][it],rt[1][it],ee[lt],te[lt]);(this._line||this._line!==0&&ne===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(ee,te){this._x.push(+ee),this._y.push(+te)}};function controlPoints(ee){var te,ne=ee.length-1,xe,rt=new Array(ne),it=new Array(ne),lt=new Array(ne);for(rt[0]=0,it[0]=2,lt[0]=ee[0]+2*ee[1],te=1;te<ne-1;++te)rt[te]=1,it[te]=4,lt[te]=4*ee[te]+2*ee[te+1];for(rt[ne-1]=2,it[ne-1]=7,lt[ne-1]=8*ee[ne-1]+ee[ne],te=1;te<ne;++te)xe=rt[te]/it[te-1],it[te]-=xe,lt[te]-=xe*lt[te-1];for(rt[ne-1]=lt[ne-1]/it[ne-1],te=ne-2;te>=0;--te)rt[te]=(lt[te]-rt[te+1])/it[te];for(it[ne-1]=(ee[ne]+rt[ne-1])/2,te=0;te<ne-1;++te)it[te]=2*ee[te+1]-rt[te+1];return[rt,it]}function curveNatural(ee){return new Natural(ee)}function Step(ee,te){this._context=ee,this._t=te}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(ee,te){switch(ee=+ee,te=+te,this._point){case 0:this._point=1,this._line?this._context.lineTo(ee,te):this._context.moveTo(ee,te);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,te),this._context.lineTo(ee,te);else{var ne=this._x*(1-this._t)+ee*this._t;this._context.lineTo(ne,this._y),this._context.lineTo(ne,te)}break}}this._x=ee,this._y=te}};function curveStep(ee){return new Step(ee,.5)}function stepBefore(ee){return new Step(ee,0)}function stepAfter(ee){return new Step(ee,1)}function stackOffsetNone(ee,te){if((lt=ee.length)>1)for(var ne=1,xe,rt,it=ee[te[0]],lt,ct=it.length;ne<lt;++ne)for(rt=it,it=ee[te[ne]],xe=0;xe<ct;++xe)it[xe][1]+=it[xe][0]=isNaN(rt[xe][1])?rt[xe][0]:rt[xe][1]}function stackOrderNone(ee){for(var te=ee.length,ne=new Array(te);--te>=0;)ne[te]=te;return ne}function stackValue(ee,te){return ee[te]}function stackSeries(ee){const te=[];return te.key=ee,te}function shapeStack(){var ee=constant$5([]),te=stackOrderNone,ne=stackOffsetNone,xe=stackValue;function rt(it){var lt=Array.from(ee.apply(this,arguments),stackSeries),ct,ut=lt.length,dt=-1,ht;for(const ft of it)for(ct=0,++dt;ct<ut;++ct)(lt[ct][dt]=[0,+xe(ft,lt[ct].key,dt,it)]).data=ft;for(ct=0,ht=array$1(te(lt));ct<ut;++ct)lt[ht[ct]].index=ct;return ne(lt,ht),lt}return rt.keys=function(it){return arguments.length?(ee=typeof it=="function"?it:constant$5(Array.from(it)),rt):ee},rt.value=function(it){return arguments.length?(xe=typeof it=="function"?it:constant$5(+it),rt):xe},rt.order=function(it){return arguments.length?(te=it==null?stackOrderNone:typeof it=="function"?it:constant$5(Array.from(it)),rt):te},rt.offset=function(it){return arguments.length?(ne=it??stackOffsetNone,rt):ne},rt}function stackOffsetExpand(ee,te){if((xe=ee.length)>0){for(var ne,xe,rt=0,it=ee[0].length,lt;rt<it;++rt){for(lt=ne=0;ne<xe;++ne)lt+=ee[ne][rt][1]||0;if(lt)for(ne=0;ne<xe;++ne)ee[ne][rt][1]/=lt}stackOffsetNone(ee,te)}}function stackOffsetSilhouette(ee,te){if((rt=ee.length)>0){for(var ne=0,xe=ee[te[0]],rt,it=xe.length;ne<it;++ne){for(var lt=0,ct=0;lt<rt;++lt)ct+=ee[lt][ne][1]||0;xe[ne][1]+=xe[ne][0]=-ct/2}stackOffsetNone(ee,te)}}function stackOffsetWiggle(ee,te){if(!(!((lt=ee.length)>0)||!((it=(rt=ee[te[0]]).length)>0))){for(var ne=0,xe=1,rt,it,lt;xe<it;++xe){for(var ct=0,ut=0,dt=0;ct<lt;++ct){for(var ht=ee[te[ct]],ft=ht[xe][1]||0,pt=ht[xe-1][1]||0,mt=(ft-pt)/2,xt=0;xt<ct;++xt){var yt=ee[te[xt]],vt=yt[xe][1]||0,Et=yt[xe-1][1]||0;mt+=vt-Et}ut+=ft,dt+=mt*ft}rt[xe-1][1]+=rt[xe-1][0]=ne,ut&&(ne-=dt/ut)}rt[xe-1][1]+=rt[xe-1][0]=ne,stackOffsetNone(ee,te)}}function _typeof$L(ee){"@babel/helpers - typeof";return _typeof$L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$L(ee)}var _excluded$k=["type","size","sizeType"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$u.apply(this,arguments)}function ownKeys$F(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$E(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$F(Object(ne),!0).forEach(function(xe){_defineProperty$L(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$F(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$L(ee,te,ne){return te=_toPropertyKey$L(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$L(ee){var te=_toPrimitive$L(ee,"string");return _typeof$L(te)=="symbol"?te:te+""}function _toPrimitive$L(ee,te){if(_typeof$L(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$L(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _objectWithoutProperties$j(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$j(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$j(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function(te){var ne="symbol".concat(upperFirst(te));return symbolFactories[ne]||symbolCircle},calculateAreaSize=function(te,ne,xe){if(ne==="area")return te;switch(xe){case"cross":return 5*te*te/9;case"diamond":return .5*te*te/Math.sqrt(3);case"square":return te*te;case"star":{var rt=18*RADIAN$2;return 1.25*te*te*(Math.tan(rt)-Math.tan(rt*2)*Math.pow(Math.tan(rt),2))}case"triangle":return Math.sqrt(3)*te*te/4;case"wye":return(21-10*Math.sqrt(3))*te*te/8;default:return Math.PI*te*te/4}},registerSymbol=function(te,ne){symbolFactories["symbol".concat(upperFirst(te))]=ne},Symbols=function(te){var ne=te.type,xe=ne===void 0?"circle":ne,rt=te.size,it=rt===void 0?64:rt,lt=te.sizeType,ct=lt===void 0?"area":lt,ut=_objectWithoutProperties$j(te,_excluded$k),dt=_objectSpread$E(_objectSpread$E({},ut),{},{type:xe,size:it,sizeType:ct}),ht=function(){var vt=getSymbolFactory(xe),Et=Symbol$2().type(vt).size(calculateAreaSize(it,ct,xe));return Et()},ft=dt.className,pt=dt.cx,mt=dt.cy,xt=filterProps(dt,!0);return pt===+pt&&mt===+mt&&it===+it?React.createElement("path",_extends$u({},xt,{className:clsx("recharts-symbols",ft),transform:"translate(".concat(pt,", ").concat(mt,")"),d:ht()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$K(ee){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$K(ee)}function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$t.apply(this,arguments)}function ownKeys$E(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$D(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$E(Object(ne),!0).forEach(function(xe){_defineProperty$K(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$E(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$m(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$m(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$K(xe.key),xe)}}function _createClass$m(ee,te,ne){return te&&_defineProperties$m(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$i(ee,te,ne){return te=_getPrototypeOf$j(te),_possibleConstructorReturn$j(ee,_isNativeReflectConstruct$j()?Reflect.construct(te,ne||[],_getPrototypeOf$j(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$j(ee,te){if(te&&(_typeof$K(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$j(ee)}function _assertThisInitialized$j(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$j(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$j=function(){return!!ee})()}function _getPrototypeOf$j(ee){return _getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$j(ee)}function _inherits$j(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$j(ee,te)}function _setPrototypeOf$j(ee,te){return _setPrototypeOf$j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$j(ee,te)}function _defineProperty$K(ee,te,ne){return te=_toPropertyKey$K(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$K(ee){var te=_toPrimitive$K(ee,"string");return _typeof$K(te)=="symbol"?te:te+""}function _toPrimitive$K(ee,te){if(_typeof$K(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$K(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var SIZE=32,DefaultLegendContent=(function(ee){function te(){return _classCallCheck$m(this,te),_callSuper$i(this,te,arguments)}return _inherits$j(te,ee),_createClass$m(te,[{key:"renderIcon",value:function(xe){var rt=this.props.inactiveColor,it=SIZE/2,lt=SIZE/6,ct=SIZE/3,ut=xe.inactive?rt:xe.color;if(xe.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:ut,strokeDasharray:xe.payload.strokeDasharray,x1:0,y1:it,x2:SIZE,y2:it,className:"recharts-legend-icon"});if(xe.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:ut,d:"M0,".concat(it,"h").concat(ct,`
            A`).concat(lt,",").concat(lt,",0,1,1,").concat(2*ct,",").concat(it,`
            H`).concat(SIZE,"M").concat(2*ct,",").concat(it,`
            A`).concat(lt,",").concat(lt,",0,1,1,").concat(ct,",").concat(it),className:"recharts-legend-icon"});if(xe.type==="rect")return React.createElement("path",{stroke:"none",fill:ut,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(xe.legendIcon)){var dt=_objectSpread$D({},xe);return delete dt.legendIcon,React.cloneElement(xe.legendIcon,dt)}return React.createElement(Symbols,{fill:ut,cx:it,cy:it,size:SIZE,sizeType:"diameter",type:xe.type})}},{key:"renderItems",value:function(){var xe=this,rt=this.props,it=rt.payload,lt=rt.iconSize,ct=rt.layout,ut=rt.formatter,dt=rt.inactiveColor,ht={x:0,y:0,width:SIZE,height:SIZE},ft={display:ct==="horizontal"?"inline-block":"block",marginRight:10},pt={display:"inline-block",verticalAlign:"middle",marginRight:4};return it.map(function(mt,xt){var yt=mt.formatter||ut,vt=clsx(_defineProperty$K(_defineProperty$K({"recharts-legend-item":!0},"legend-item-".concat(xt),!0),"inactive",mt.inactive));if(mt.type==="none")return null;var Et=isFunction$1(mt.value)?null:mt.value;warn(!isFunction$1(mt.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _t=mt.inactive?dt:mt.color;return React.createElement("li",_extends$t({className:vt,style:ft,key:"legend-item-".concat(xt)},adaptEventsOfChild(xe.props,mt,xt)),React.createElement(Surface,{width:lt,height:lt,viewBox:ht,style:pt},xe.renderIcon(mt)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:_t}},yt?yt(Et,mt,xt):Et))})}},{key:"render",value:function(){var xe=this.props,rt=xe.payload,it=xe.layout,lt=xe.align;if(!rt||!rt.length)return null;var ct={padding:0,margin:0,textAlign:it==="horizontal"?lt:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:ct},this.renderItems())}}])})(reactExports.PureComponent);_defineProperty$K(DefaultLegendContent,"displayName","Legend");_defineProperty$K(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var ee=require_ListCache();function te(){this.__data__=new ee,this.size=0}return _stackClear=te,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function ee(te){var ne=this.__data__,xe=ne.delete(te);return this.size=ne.size,xe}return _stackDelete=ee,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function ee(te){return this.__data__.get(te)}return _stackGet=ee,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function ee(te){return this.__data__.has(te)}return _stackHas=ee,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var ee=require_ListCache(),te=require_Map(),ne=require_MapCache(),xe=200;function rt(it,lt){var ct=this.__data__;if(ct instanceof ee){var ut=ct.__data__;if(!te||ut.length<xe-1)return ut.push([it,lt]),this.size=++ct.size,this;ct=this.__data__=new ne(ut)}return ct.set(it,lt),this.size=ct.size,this}return _stackSet=rt,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var ee=require_ListCache(),te=require_stackClear(),ne=require_stackDelete(),xe=require_stackGet(),rt=require_stackHas(),it=require_stackSet();function lt(ct){var ut=this.__data__=new ee(ct);this.size=ut.size}return lt.prototype.clear=te,lt.prototype.delete=ne,lt.prototype.get=xe,lt.prototype.has=rt,lt.prototype.set=it,_Stack=lt,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var ee="__lodash_hash_undefined__";function te(ne){return this.__data__.set(ne,ee),this}return _setCacheAdd=te,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function ee(te){return this.__data__.has(te)}return _setCacheHas=ee,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var ee=require_MapCache(),te=require_setCacheAdd(),ne=require_setCacheHas();function xe(rt){var it=-1,lt=rt==null?0:rt.length;for(this.__data__=new ee;++it<lt;)this.add(rt[it])}return xe.prototype.add=xe.prototype.push=te,xe.prototype.has=ne,_SetCache=xe,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function ee(te,ne){for(var xe=-1,rt=te==null?0:te.length;++xe<rt;)if(ne(te[xe],xe,te))return!0;return!1}return _arraySome=ee,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function ee(te,ne){return te.has(ne)}return _cacheHas=ee,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var ee=require_SetCache(),te=require_arraySome(),ne=require_cacheHas(),xe=1,rt=2;function it(lt,ct,ut,dt,ht,ft){var pt=ut&xe,mt=lt.length,xt=ct.length;if(mt!=xt&&!(pt&&xt>mt))return!1;var yt=ft.get(lt),vt=ft.get(ct);if(yt&&vt)return yt==ct&&vt==lt;var Et=-1,_t=!0,wt=ut&rt?new ee:void 0;for(ft.set(lt,ct),ft.set(ct,lt);++Et<mt;){var St=lt[Et],Ct=ct[Et];if(dt)var jt=pt?dt(Ct,St,Et,ct,lt,ft):dt(St,Ct,Et,lt,ct,ft);if(jt!==void 0){if(jt)continue;_t=!1;break}if(wt){if(!te(ct,function(Rt,Pt){if(!ne(wt,Pt)&&(St===Rt||ht(St,Rt,ut,dt,ft)))return wt.push(Pt)})){_t=!1;break}}else if(!(St===Ct||ht(St,Ct,ut,dt,ft))){_t=!1;break}}return ft.delete(lt),ft.delete(ct),_t}return _equalArrays=it,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var ee=require_root(),te=ee.Uint8Array;return _Uint8Array=te,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function ee(te){var ne=-1,xe=Array(te.size);return te.forEach(function(rt,it){xe[++ne]=[it,rt]}),xe}return _mapToArray=ee,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function ee(te){var ne=-1,xe=Array(te.size);return te.forEach(function(rt){xe[++ne]=rt}),xe}return _setToArray=ee,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var ee=require_Symbol(),te=require_Uint8Array(),ne=requireEq(),xe=require_equalArrays(),rt=require_mapToArray(),it=require_setToArray(),lt=1,ct=2,ut="[object Boolean]",dt="[object Date]",ht="[object Error]",ft="[object Map]",pt="[object Number]",mt="[object RegExp]",xt="[object Set]",yt="[object String]",vt="[object Symbol]",Et="[object ArrayBuffer]",_t="[object DataView]",wt=ee?ee.prototype:void 0,St=wt?wt.valueOf:void 0;function Ct(jt,Rt,Pt,Ot,Ft,Lt,Bt){switch(Pt){case _t:if(jt.byteLength!=Rt.byteLength||jt.byteOffset!=Rt.byteOffset)return!1;jt=jt.buffer,Rt=Rt.buffer;case Et:return!(jt.byteLength!=Rt.byteLength||!Lt(new te(jt),new te(Rt)));case ut:case dt:case pt:return ne(+jt,+Rt);case ht:return jt.name==Rt.name&&jt.message==Rt.message;case mt:case yt:return jt==Rt+"";case ft:var Gt=rt;case xt:var It=Ot&lt;if(Gt||(Gt=it),jt.size!=Rt.size&&!It)return!1;var qt=Bt.get(jt);if(qt)return qt==Rt;Ot|=ct,Bt.set(jt,Rt);var Nt=xe(Gt(jt),Gt(Rt),Ot,Ft,Lt,Bt);return Bt.delete(jt),Nt;case vt:if(St)return St.call(jt)==St.call(Rt)}return!1}return _equalByTag=Ct,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function ee(te,ne){for(var xe=-1,rt=ne.length,it=te.length;++xe<rt;)te[it+xe]=ne[xe];return te}return _arrayPush=ee,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var ee=require_arrayPush(),te=requireIsArray();function ne(xe,rt,it){var lt=rt(xe);return te(xe)?lt:ee(lt,it(xe))}return _baseGetAllKeys=ne,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function ee(te,ne){for(var xe=-1,rt=te==null?0:te.length,it=0,lt=[];++xe<rt;){var ct=te[xe];ne(ct,xe,te)&&(lt[it++]=ct)}return lt}return _arrayFilter=ee,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function ee(){return[]}return stubArray_1=ee,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var ee=require_arrayFilter(),te=requireStubArray(),ne=Object.prototype,xe=ne.propertyIsEnumerable,rt=Object.getOwnPropertySymbols,it=rt?function(lt){return lt==null?[]:(lt=Object(lt),ee(rt(lt),function(ct){return xe.call(lt,ct)}))}:te;return _getSymbols=it,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function ee(te,ne){for(var xe=-1,rt=Array(te);++xe<te;)rt[xe]=ne(xe);return rt}return _baseTimes=ee,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var ee=require_baseGetTag(),te=requireIsObjectLike(),ne="[object Arguments]";function xe(rt){return te(rt)&&ee(rt)==ne}return _baseIsArguments=xe,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var ee=require_baseIsArguments(),te=requireIsObjectLike(),ne=Object.prototype,xe=ne.hasOwnProperty,rt=ne.propertyIsEnumerable,it=ee((function(){return arguments})())?ee:function(lt){return te(lt)&&xe.call(lt,"callee")&&!rt.call(lt,"callee")};return isArguments_1=it,isArguments_1}var isBuffer$1={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function ee(){return!1}return stubFalse_1=ee,stubFalse_1}isBuffer$1.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(ee,te){var ne=require_root(),xe=requireStubFalse(),rt=te&&!te.nodeType&&te,it=rt&&!0&&ee&&!ee.nodeType&&ee,lt=it&&it.exports===rt,ct=lt?ne.Buffer:void 0,ut=ct?ct.isBuffer:void 0,dt=ut||xe;ee.exports=dt})(isBuffer$1,isBuffer$1.exports)),isBuffer$1.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var ee=9007199254740991,te=/^(?:0|[1-9]\d*)$/;function ne(xe,rt){var it=typeof xe;return rt=rt??ee,!!rt&&(it=="number"||it!="symbol"&&te.test(xe))&&xe>-1&&xe%1==0&&xe<rt}return _isIndex=ne,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var ee=9007199254740991;function te(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=ee}return isLength_1=te,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var ee=require_baseGetTag(),te=requireIsLength(),ne=requireIsObjectLike(),xe="[object Arguments]",rt="[object Array]",it="[object Boolean]",lt="[object Date]",ct="[object Error]",ut="[object Function]",dt="[object Map]",ht="[object Number]",ft="[object Object]",pt="[object RegExp]",mt="[object Set]",xt="[object String]",yt="[object WeakMap]",vt="[object ArrayBuffer]",Et="[object DataView]",_t="[object Float32Array]",wt="[object Float64Array]",St="[object Int8Array]",Ct="[object Int16Array]",jt="[object Int32Array]",Rt="[object Uint8Array]",Pt="[object Uint8ClampedArray]",Ot="[object Uint16Array]",Ft="[object Uint32Array]",Lt={};Lt[_t]=Lt[wt]=Lt[St]=Lt[Ct]=Lt[jt]=Lt[Rt]=Lt[Pt]=Lt[Ot]=Lt[Ft]=!0,Lt[xe]=Lt[rt]=Lt[vt]=Lt[it]=Lt[Et]=Lt[lt]=Lt[ct]=Lt[ut]=Lt[dt]=Lt[ht]=Lt[ft]=Lt[pt]=Lt[mt]=Lt[xt]=Lt[yt]=!1;function Bt(Gt){return ne(Gt)&&te(Gt.length)&&!!Lt[ee(Gt)]}return _baseIsTypedArray=Bt,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function ee(te){return function(ne){return te(ne)}}return _baseUnary=ee,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(ee,te){var ne=require_freeGlobal(),xe=te&&!te.nodeType&&te,rt=xe&&!0&&ee&&!ee.nodeType&&ee,it=rt&&rt.exports===xe,lt=it&&ne.process,ct=(function(){try{var ut=rt&&rt.require&&rt.require("util").types;return ut||lt&&lt.binding&&lt.binding("util")}catch{}})();ee.exports=ct})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var ee=require_baseIsTypedArray(),te=require_baseUnary(),ne=require_nodeUtil(),xe=ne&&ne.isTypedArray,rt=xe?te(xe):ee;return isTypedArray_1=rt,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var ee=require_baseTimes(),te=requireIsArguments(),ne=requireIsArray(),xe=requireIsBuffer(),rt=require_isIndex(),it=requireIsTypedArray(),lt=Object.prototype,ct=lt.hasOwnProperty;function ut(dt,ht){var ft=ne(dt),pt=!ft&&te(dt),mt=!ft&&!pt&&xe(dt),xt=!ft&&!pt&&!mt&&it(dt),yt=ft||pt||mt||xt,vt=yt?ee(dt.length,String):[],Et=vt.length;for(var _t in dt)(ht||ct.call(dt,_t))&&!(yt&&(_t=="length"||mt&&(_t=="offset"||_t=="parent")||xt&&(_t=="buffer"||_t=="byteLength"||_t=="byteOffset")||rt(_t,Et)))&&vt.push(_t);return vt}return _arrayLikeKeys=ut,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var ee=Object.prototype;function te(ne){var xe=ne&&ne.constructor,rt=typeof xe=="function"&&xe.prototype||ee;return ne===rt}return _isPrototype=te,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function ee(te,ne){return function(xe){return te(ne(xe))}}return _overArg=ee,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var ee=require_overArg(),te=ee(Object.keys,Object);return _nativeKeys=te,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var ee=require_isPrototype(),te=require_nativeKeys(),ne=Object.prototype,xe=ne.hasOwnProperty;function rt(it){if(!ee(it))return te(it);var lt=[];for(var ct in Object(it))xe.call(it,ct)&&ct!="constructor"&&lt.push(ct);return lt}return _baseKeys=rt,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var ee=requireIsFunction(),te=requireIsLength();function ne(xe){return xe!=null&&te(xe.length)&&!ee(xe)}return isArrayLike_1=ne,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var ee=require_arrayLikeKeys(),te=require_baseKeys(),ne=requireIsArrayLike();function xe(rt){return ne(rt)?ee(rt):te(rt)}return keys_1=xe,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var ee=require_baseGetAllKeys(),te=require_getSymbols(),ne=requireKeys();function xe(rt){return ee(rt,ne,te)}return _getAllKeys=xe,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var ee=require_getAllKeys(),te=1,ne=Object.prototype,xe=ne.hasOwnProperty;function rt(it,lt,ct,ut,dt,ht){var ft=ct&te,pt=ee(it),mt=pt.length,xt=ee(lt),yt=xt.length;if(mt!=yt&&!ft)return!1;for(var vt=mt;vt--;){var Et=pt[vt];if(!(ft?Et in lt:xe.call(lt,Et)))return!1}var _t=ht.get(it),wt=ht.get(lt);if(_t&&wt)return _t==lt&&wt==it;var St=!0;ht.set(it,lt),ht.set(lt,it);for(var Ct=ft;++vt<mt;){Et=pt[vt];var jt=it[Et],Rt=lt[Et];if(ut)var Pt=ft?ut(Rt,jt,Et,lt,it,ht):ut(jt,Rt,Et,it,lt,ht);if(!(Pt===void 0?jt===Rt||dt(jt,Rt,ct,ut,ht):Pt)){St=!1;break}Ct||(Ct=Et=="constructor")}if(St&&!Ct){var Ot=it.constructor,Ft=lt.constructor;Ot!=Ft&&"constructor"in it&&"constructor"in lt&&!(typeof Ot=="function"&&Ot instanceof Ot&&typeof Ft=="function"&&Ft instanceof Ft)&&(St=!1)}return ht.delete(it),ht.delete(lt),St}return _equalObjects=rt,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var ee=require_getNative(),te=require_root(),ne=ee(te,"DataView");return _DataView=ne,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var ee=require_getNative(),te=require_root(),ne=ee(te,"Promise");return _Promise=ne,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var ee=require_getNative(),te=require_root(),ne=ee(te,"Set");return _Set=ne,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var ee=require_getNative(),te=require_root(),ne=ee(te,"WeakMap");return _WeakMap=ne,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var ee=require_DataView(),te=require_Map(),ne=require_Promise(),xe=require_Set(),rt=require_WeakMap(),it=require_baseGetTag(),lt=require_toSource(),ct="[object Map]",ut="[object Object]",dt="[object Promise]",ht="[object Set]",ft="[object WeakMap]",pt="[object DataView]",mt=lt(ee),xt=lt(te),yt=lt(ne),vt=lt(xe),Et=lt(rt),_t=it;return(ee&&_t(new ee(new ArrayBuffer(1)))!=pt||te&&_t(new te)!=ct||ne&&_t(ne.resolve())!=dt||xe&&_t(new xe)!=ht||rt&&_t(new rt)!=ft)&&(_t=function(wt){var St=it(wt),Ct=St==ut?wt.constructor:void 0,jt=Ct?lt(Ct):"";if(jt)switch(jt){case mt:return pt;case xt:return ct;case yt:return dt;case vt:return ht;case Et:return ft}return St}),_getTag=_t,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var ee=require_Stack(),te=require_equalArrays(),ne=require_equalByTag(),xe=require_equalObjects(),rt=require_getTag(),it=requireIsArray(),lt=requireIsBuffer(),ct=requireIsTypedArray(),ut=1,dt="[object Arguments]",ht="[object Array]",ft="[object Object]",pt=Object.prototype,mt=pt.hasOwnProperty;function xt(yt,vt,Et,_t,wt,St){var Ct=it(yt),jt=it(vt),Rt=Ct?ht:rt(yt),Pt=jt?ht:rt(vt);Rt=Rt==dt?ft:Rt,Pt=Pt==dt?ft:Pt;var Ot=Rt==ft,Ft=Pt==ft,Lt=Rt==Pt;if(Lt&&lt(yt)){if(!lt(vt))return!1;Ct=!0,Ot=!1}if(Lt&&!Ot)return St||(St=new ee),Ct||ct(yt)?te(yt,vt,Et,_t,wt,St):ne(yt,vt,Rt,Et,_t,wt,St);if(!(Et&ut)){var Bt=Ot&&mt.call(yt,"__wrapped__"),Gt=Ft&&mt.call(vt,"__wrapped__");if(Bt||Gt){var It=Bt?yt.value():yt,qt=Gt?vt.value():vt;return St||(St=new ee),wt(It,qt,Et,_t,St)}}return Lt?(St||(St=new ee),xe(yt,vt,Et,_t,wt,St)):!1}return _baseIsEqualDeep=xt,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var ee=require_baseIsEqualDeep(),te=requireIsObjectLike();function ne(xe,rt,it,lt,ct){return xe===rt?!0:xe==null||rt==null||!te(xe)&&!te(rt)?xe!==xe&&rt!==rt:ee(xe,rt,it,lt,ne,ct)}return _baseIsEqual=ne,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var ee=require_Stack(),te=require_baseIsEqual(),ne=1,xe=2;function rt(it,lt,ct,ut){var dt=ct.length,ht=dt,ft=!ut;if(it==null)return!ht;for(it=Object(it);dt--;){var pt=ct[dt];if(ft&&pt[2]?pt[1]!==it[pt[0]]:!(pt[0]in it))return!1}for(;++dt<ht;){pt=ct[dt];var mt=pt[0],xt=it[mt],yt=pt[1];if(ft&&pt[2]){if(xt===void 0&&!(mt in it))return!1}else{var vt=new ee;if(ut)var Et=ut(xt,yt,mt,it,lt,vt);if(!(Et===void 0?te(yt,xt,ne|xe,ut,vt):Et))return!1}}return!0}return _baseIsMatch=rt,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var ee=requireIsObject();function te(ne){return ne===ne&&!ee(ne)}return _isStrictComparable=te,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var ee=require_isStrictComparable(),te=requireKeys();function ne(xe){for(var rt=te(xe),it=rt.length;it--;){var lt=rt[it],ct=xe[lt];rt[it]=[lt,ct,ee(ct)]}return rt}return _getMatchData=ne,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function ee(te,ne){return function(xe){return xe==null?!1:xe[te]===ne&&(ne!==void 0||te in Object(xe))}}return _matchesStrictComparable=ee,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var ee=require_baseIsMatch(),te=require_getMatchData(),ne=require_matchesStrictComparable();function xe(rt){var it=te(rt);return it.length==1&&it[0][2]?ne(it[0][0],it[0][1]):function(lt){return lt===rt||ee(lt,rt,it)}}return _baseMatches=xe,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function ee(te,ne){return te!=null&&ne in Object(te)}return _baseHasIn=ee,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var ee=require_castPath(),te=requireIsArguments(),ne=requireIsArray(),xe=require_isIndex(),rt=requireIsLength(),it=require_toKey();function lt(ct,ut,dt){ut=ee(ut,ct);for(var ht=-1,ft=ut.length,pt=!1;++ht<ft;){var mt=it(ut[ht]);if(!(pt=ct!=null&&dt(ct,mt)))break;ct=ct[mt]}return pt||++ht!=ft?pt:(ft=ct==null?0:ct.length,!!ft&&rt(ft)&&xe(mt,ft)&&(ne(ct)||te(ct)))}return _hasPath=lt,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var ee=require_baseHasIn(),te=require_hasPath();function ne(xe,rt){return xe!=null&&te(xe,rt,ee)}return hasIn_1=ne,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var ee=require_baseIsEqual(),te=requireGet(),ne=requireHasIn(),xe=require_isKey(),rt=require_isStrictComparable(),it=require_matchesStrictComparable(),lt=require_toKey(),ct=1,ut=2;function dt(ht,ft){return xe(ht)&&rt(ft)?it(lt(ht),ft):function(pt){var mt=te(pt,ht);return mt===void 0&&mt===ft?ne(pt,ht):ee(ft,mt,ct|ut)}}return _baseMatchesProperty=dt,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function ee(te){return te}return identity_1=ee,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function ee(te){return function(ne){return ne?.[te]}}return _baseProperty=ee,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var ee=require_baseGet();function te(ne){return function(xe){return ee(xe,ne)}}return _basePropertyDeep=te,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var ee=require_baseProperty(),te=require_basePropertyDeep(),ne=require_isKey(),xe=require_toKey();function rt(it){return ne(it)?ee(xe(it)):te(it)}return property_1=rt,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var ee=require_baseMatches(),te=require_baseMatchesProperty(),ne=requireIdentity(),xe=requireIsArray(),rt=requireProperty();function it(lt){return typeof lt=="function"?lt:lt==null?ne:typeof lt=="object"?xe(lt)?te(lt[0],lt[1]):ee(lt):rt(lt)}return _baseIteratee=it,_baseIteratee}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function ee(te,ne,xe,rt){for(var it=te.length,lt=xe+(rt?1:-1);rt?lt--:++lt<it;)if(ne(te[lt],lt,te))return lt;return-1}return _baseFindIndex=ee,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function ee(te){return te!==te}return _baseIsNaN=ee,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function ee(te,ne,xe){for(var rt=xe-1,it=te.length;++rt<it;)if(te[rt]===ne)return rt;return-1}return _strictIndexOf=ee,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var ee=require_baseFindIndex(),te=require_baseIsNaN(),ne=require_strictIndexOf();function xe(rt,it,lt){return it===it?ne(rt,it,lt):ee(rt,te,lt)}return _baseIndexOf=xe,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var ee=require_baseIndexOf();function te(ne,xe){var rt=ne==null?0:ne.length;return!!rt&&ee(ne,xe,0)>-1}return _arrayIncludes=te,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function ee(te,ne,xe){for(var rt=-1,it=te==null?0:te.length;++rt<it;)if(xe(ne,te[rt]))return!0;return!1}return _arrayIncludesWith=ee,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function ee(){}return noop_1=ee,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var ee=require_Set(),te=requireNoop(),ne=require_setToArray(),xe=1/0,rt=ee&&1/ne(new ee([,-0]))[1]==xe?function(it){return new ee(it)}:te;return _createSet=rt,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var ee=require_SetCache(),te=require_arrayIncludes(),ne=require_arrayIncludesWith(),xe=require_cacheHas(),rt=require_createSet(),it=require_setToArray(),lt=200;function ct(ut,dt,ht){var ft=-1,pt=te,mt=ut.length,xt=!0,yt=[],vt=yt;if(ht)xt=!1,pt=ne;else if(mt>=lt){var Et=dt?null:rt(ut);if(Et)return it(Et);xt=!1,pt=xe,vt=new ee}else vt=dt?[]:yt;e:for(;++ft<mt;){var _t=ut[ft],wt=dt?dt(_t):_t;if(_t=ht||_t!==0?_t:0,xt&&wt===wt){for(var St=vt.length;St--;)if(vt[St]===wt)continue e;dt&&vt.push(wt),yt.push(_t)}else pt(vt,wt,ht)||(vt!==yt&&vt.push(wt),yt.push(_t))}return yt}return _baseUniq=ct,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var ee=require_baseIteratee(),te=require_baseUniq();function ne(xe,rt){return xe&&xe.length?te(xe,ee(rt,2)):[]}return uniqBy_1=ne,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(ee,te,ne){return te===!0?uniqBy(ee,ne):isFunction$1(te)?uniqBy(ee,te):ee}function _typeof$J(ee){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$J(ee)}var _excluded$j=["ref"];function ownKeys$D(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$C(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$D(Object(ne),!0).forEach(function(xe){_defineProperty$J(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$D(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$l(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$J(xe.key),xe)}}function _createClass$l(ee,te,ne){return te&&_defineProperties$l(ee.prototype,te),ne&&_defineProperties$l(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$h(ee,te,ne){return te=_getPrototypeOf$i(te),_possibleConstructorReturn$i(ee,_isNativeReflectConstruct$i()?Reflect.construct(te,ne||[],_getPrototypeOf$i(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$i(ee,te){if(te&&(_typeof$J(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(ee)}function _assertThisInitialized$i(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$i(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!ee})()}function _getPrototypeOf$i(ee){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$i(ee)}function _inherits$i(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$i(ee,te)}function _setPrototypeOf$i(ee,te){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$i(ee,te)}function _defineProperty$J(ee,te,ne){return te=_toPropertyKey$J(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$J(ee){var te=_toPrimitive$J(ee,"string");return _typeof$J(te)=="symbol"?te:te+""}function _toPrimitive$J(ee,te){if(_typeof$J(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$J(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}function _objectWithoutProperties$i(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$i(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$i(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function defaultUniqBy$1(ee){return ee.value}function renderContent$1(ee,te){if(React.isValidElement(ee))return React.cloneElement(ee,te);if(typeof ee=="function")return React.createElement(ee,te);te.ref;var ne=_objectWithoutProperties$i(te,_excluded$j);return React.createElement(DefaultLegendContent,ne)}var EPS$1=1,Legend=(function(ee){function te(){var ne;_classCallCheck$l(this,te);for(var xe=arguments.length,rt=new Array(xe),it=0;it<xe;it++)rt[it]=arguments[it];return ne=_callSuper$h(this,te,[].concat(rt)),_defineProperty$J(ne,"lastBoundingBox",{width:-1,height:-1}),ne}return _inherits$i(te,ee),_createClass$l(te,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var xe=this.wrapperNode.getBoundingClientRect();return xe.height=this.wrapperNode.offsetHeight,xe.width=this.wrapperNode.offsetWidth,xe}return null}},{key:"updateBBox",value:function(){var xe=this.props.onBBoxUpdate,rt=this.getBBox();rt?(Math.abs(rt.width-this.lastBoundingBox.width)>EPS$1||Math.abs(rt.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=rt.width,this.lastBoundingBox.height=rt.height,xe&&xe(rt)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,xe&&xe(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$C({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(xe){var rt=this.props,it=rt.layout,lt=rt.align,ct=rt.verticalAlign,ut=rt.margin,dt=rt.chartWidth,ht=rt.chartHeight,ft,pt;if(!xe||(xe.left===void 0||xe.left===null)&&(xe.right===void 0||xe.right===null))if(lt==="center"&&it==="vertical"){var mt=this.getBBoxSnapshot();ft={left:((dt||0)-mt.width)/2}}else ft=lt==="right"?{right:ut&&ut.right||0}:{left:ut&&ut.left||0};if(!xe||(xe.top===void 0||xe.top===null)&&(xe.bottom===void 0||xe.bottom===null))if(ct==="middle"){var xt=this.getBBoxSnapshot();pt={top:((ht||0)-xt.height)/2}}else pt=ct==="bottom"?{bottom:ut&&ut.bottom||0}:{top:ut&&ut.top||0};return _objectSpread$C(_objectSpread$C({},ft),pt)}},{key:"render",value:function(){var xe=this,rt=this.props,it=rt.content,lt=rt.width,ct=rt.height,ut=rt.wrapperStyle,dt=rt.payloadUniqBy,ht=rt.payload,ft=_objectSpread$C(_objectSpread$C({position:"absolute",width:lt||"auto",height:ct||"auto"},this.getDefaultPosition(ut)),ut);return React.createElement("div",{className:"recharts-legend-wrapper",style:ft,ref:function(mt){xe.wrapperNode=mt}},renderContent$1(it,_objectSpread$C(_objectSpread$C({},this.props),{},{payload:getUniqPayload(ht,dt,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(xe,rt){var it=_objectSpread$C(_objectSpread$C({},this.defaultProps),xe.props),lt=it.layout;return lt==="vertical"&&isNumber(xe.props.height)?{height:xe.props.height}:lt==="horizontal"?{width:xe.props.width||rt}:null}}])})(reactExports.PureComponent);_defineProperty$J(Legend,"displayName","Legend");_defineProperty$J(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var ee=require_Symbol(),te=requireIsArguments(),ne=requireIsArray(),xe=ee?ee.isConcatSpreadable:void 0;function rt(it){return ne(it)||te(it)||!!(xe&&it&&it[xe])}return _isFlattenable=rt,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var ee=require_arrayPush(),te=require_isFlattenable();function ne(xe,rt,it,lt,ct){var ut=-1,dt=xe.length;for(it||(it=te),ct||(ct=[]);++ut<dt;){var ht=xe[ut];rt>0&&it(ht)?rt>1?ne(ht,rt-1,it,lt,ct):ee(ct,ht):lt||(ct[ct.length]=ht)}return ct}return _baseFlatten=ne,_baseFlatten}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function ee(te){return function(ne,xe,rt){for(var it=-1,lt=Object(ne),ct=rt(ne),ut=ct.length;ut--;){var dt=ct[te?ut:++it];if(xe(lt[dt],dt,lt)===!1)break}return ne}}return _createBaseFor=ee,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var ee=require_createBaseFor(),te=ee();return _baseFor=te,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var ee=require_baseFor(),te=requireKeys();function ne(xe,rt){return xe&&ee(xe,rt,te)}return _baseForOwn=ne,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var ee=requireIsArrayLike();function te(ne,xe){return function(rt,it){if(rt==null)return rt;if(!ee(rt))return ne(rt,it);for(var lt=rt.length,ct=xe?lt:-1,ut=Object(rt);(xe?ct--:++ct<lt)&&it(ut[ct],ct,ut)!==!1;);return rt}}return _createBaseEach=te,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var ee=require_baseForOwn(),te=require_createBaseEach(),ne=te(ee);return _baseEach=ne,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var ee=require_baseEach(),te=requireIsArrayLike();function ne(xe,rt){var it=-1,lt=te(xe)?Array(xe.length):[];return ee(xe,function(ct,ut,dt){lt[++it]=rt(ct,ut,dt)}),lt}return _baseMap=ne,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function ee(te,ne){var xe=te.length;for(te.sort(ne);xe--;)te[xe]=te[xe].value;return te}return _baseSortBy=ee,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var ee=requireIsSymbol();function te(ne,xe){if(ne!==xe){var rt=ne!==void 0,it=ne===null,lt=ne===ne,ct=ee(ne),ut=xe!==void 0,dt=xe===null,ht=xe===xe,ft=ee(xe);if(!dt&&!ft&&!ct&&ne>xe||ct&&ut&&ht&&!dt&&!ft||it&&ut&&ht||!rt&&ht||!lt)return 1;if(!it&&!ct&&!ft&&ne<xe||ft&&rt&&lt&&!it&&!ct||dt&&rt&&lt||!ut&&lt||!ht)return-1}return 0}return _compareAscending=te,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var ee=require_compareAscending();function te(ne,xe,rt){for(var it=-1,lt=ne.criteria,ct=xe.criteria,ut=lt.length,dt=rt.length;++it<ut;){var ht=ee(lt[it],ct[it]);if(ht){if(it>=dt)return ht;var ft=rt[it];return ht*(ft=="desc"?-1:1)}}return ne.index-xe.index}return _compareMultiple=te,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var ee=require_arrayMap(),te=require_baseGet(),ne=require_baseIteratee(),xe=require_baseMap(),rt=require_baseSortBy(),it=require_baseUnary(),lt=require_compareMultiple(),ct=requireIdentity(),ut=requireIsArray();function dt(ht,ft,pt){ft.length?ft=ee(ft,function(yt){return ut(yt)?function(vt){return te(vt,yt.length===1?yt[0]:yt)}:yt}):ft=[ct];var mt=-1;ft=ee(ft,it(ne));var xt=xe(ht,function(yt,vt,Et){var _t=ee(ft,function(wt){return wt(yt)});return{criteria:_t,index:++mt,value:yt}});return rt(xt,function(yt,vt){return lt(yt,vt,pt)})}return _baseOrderBy=dt,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function ee(te,ne,xe){switch(xe.length){case 0:return te.call(ne);case 1:return te.call(ne,xe[0]);case 2:return te.call(ne,xe[0],xe[1]);case 3:return te.call(ne,xe[0],xe[1],xe[2])}return te.apply(ne,xe)}return _apply=ee,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var ee=require_apply(),te=Math.max;function ne(xe,rt,it){return rt=te(rt===void 0?xe.length-1:rt,0),function(){for(var lt=arguments,ct=-1,ut=te(lt.length-rt,0),dt=Array(ut);++ct<ut;)dt[ct]=lt[rt+ct];ct=-1;for(var ht=Array(rt+1);++ct<rt;)ht[ct]=lt[ct];return ht[rt]=it(dt),ee(xe,this,ht)}}return _overRest=ne,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function ee(te){return function(){return te}}return constant_1=ee,constant_1}var _defineProperty$I,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$I;hasRequired_defineProperty=1;var ee=require_getNative(),te=(function(){try{var ne=ee(Object,"defineProperty");return ne({},"",{}),ne}catch{}})();return _defineProperty$I=te,_defineProperty$I}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var ee=requireConstant(),te=require_defineProperty(),ne=requireIdentity(),xe=te?function(rt,it){return te(rt,"toString",{configurable:!0,enumerable:!1,value:ee(it),writable:!0})}:ne;return _baseSetToString=xe,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var ee=800,te=16,ne=Date.now;function xe(rt){var it=0,lt=0;return function(){var ct=ne(),ut=te-(ct-lt);if(lt=ct,ut>0){if(++it>=ee)return arguments[0]}else it=0;return rt.apply(void 0,arguments)}}return _shortOut=xe,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var ee=require_baseSetToString(),te=require_shortOut(),ne=te(ee);return _setToString=ne,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var ee=requireIdentity(),te=require_overRest(),ne=require_setToString();function xe(rt,it){return ne(te(rt,it,ee),rt+"")}return _baseRest=xe,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var ee=requireEq(),te=requireIsArrayLike(),ne=require_isIndex(),xe=requireIsObject();function rt(it,lt,ct){if(!xe(ct))return!1;var ut=typeof lt;return(ut=="number"?te(ct)&&ne(lt,ct.length):ut=="string"&&lt in ct)?ee(ct[lt],it):!1}return _isIterateeCall=rt,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var ee=require_baseFlatten(),te=require_baseOrderBy(),ne=require_baseRest(),xe=require_isIterateeCall(),rt=ne(function(it,lt){if(it==null)return[];var ct=lt.length;return ct>1&&xe(it,lt[0],lt[1])?lt=[]:ct>2&&xe(lt[0],lt[1],lt[2])&&(lt=[lt[0]]),te(it,ee(lt,1),[])});return sortBy_1=rt,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);function _typeof$I(ee){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$I(ee)}function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$s.apply(this,arguments)}function _slicedToArray$d(ee,te){return _arrayWithHoles$e(ee)||_iterableToArrayLimit$d(ee,te)||_unsupportedIterableToArray$m(ee,te)||_nonIterableRest$e()}function _nonIterableRest$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$m(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$m(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$m(ee,te)}}function _arrayLikeToArray$m(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$d(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$e(ee){if(Array.isArray(ee))return ee}function ownKeys$C(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$B(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$C(Object(ne),!0).forEach(function(xe){_defineProperty$H(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$C(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$H(ee,te,ne){return te=_toPropertyKey$I(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$I(ee){var te=_toPrimitive$I(ee,"string");return _typeof$I(te)=="symbol"?te:te+""}function _toPrimitive$I(ee,te){if(_typeof$I(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$I(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function defaultFormatter(ee){return Array.isArray(ee)&&isNumOrStr(ee[0])&&isNumOrStr(ee[1])?ee.join(" ~ "):ee}var DefaultTooltipContent=function(te){var ne=te.separator,xe=ne===void 0?" : ":ne,rt=te.contentStyle,it=rt===void 0?{}:rt,lt=te.itemStyle,ct=lt===void 0?{}:lt,ut=te.labelStyle,dt=ut===void 0?{}:ut,ht=te.payload,ft=te.formatter,pt=te.itemSorter,mt=te.wrapperClassName,xt=te.labelClassName,yt=te.label,vt=te.labelFormatter,Et=te.accessibilityLayer,_t=Et===void 0?!1:Et,wt=function(){if(ht&&ht.length){var Bt={padding:0,margin:0},Gt=(pt?sortBy(ht,pt):ht).map(function(It,qt){if(It.type==="none")return null;var Nt=_objectSpread$B({display:"block",paddingTop:4,paddingBottom:4,color:It.color||"#000"},ct),Dt=It.formatter||ft||defaultFormatter,Tt=It.value,Mt=It.name,$t=Tt,Ht=Mt;if(Dt&&$t!=null&&Ht!=null){var Wt=Dt(Tt,Mt,It,qt,ht);if(Array.isArray(Wt)){var Vt=_slicedToArray$d(Wt,2);$t=Vt[0],Ht=Vt[1]}else $t=Wt}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(qt),style:Nt},isNumOrStr(Ht)?React.createElement("span",{className:"recharts-tooltip-item-name"},Ht):null,isNumOrStr(Ht)?React.createElement("span",{className:"recharts-tooltip-item-separator"},xe):null,React.createElement("span",{className:"recharts-tooltip-item-value"},$t),React.createElement("span",{className:"recharts-tooltip-item-unit"},It.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:Bt},Gt)}return null},St=_objectSpread$B({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},it),Ct=_objectSpread$B({margin:0},dt),jt=!isNil(yt),Rt=jt?yt:"",Pt=clsx("recharts-default-tooltip",mt),Ot=clsx("recharts-tooltip-label",xt);jt&&vt&&ht!==void 0&&ht!==null&&(Rt=vt(yt,ht));var Ft=_t?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$s({className:Pt,style:St},Ft),React.createElement("p",{className:Ot,style:Ct},React.isValidElement(Rt)?Rt:"".concat(Rt)),wt())};function _typeof$H(ee){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$H(ee)}function _defineProperty$G(ee,te,ne){return te=_toPropertyKey$H(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$H(ee){var te=_toPrimitive$H(ee,"string");return _typeof$H(te)=="symbol"?te:te+""}function _toPrimitive$H(ee,te){if(_typeof$H(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$H(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(ee){var te=ee.coordinate,ne=ee.translateX,xe=ee.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$G(_defineProperty$G(_defineProperty$G(_defineProperty$G({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(ne)&&te&&isNumber(te.x)&&ne>=te.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(ne)&&te&&isNumber(te.x)&&ne<te.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(xe)&&te&&isNumber(te.y)&&xe>=te.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(xe)&&te&&isNumber(te.y)&&xe<te.y))}function getTooltipTranslateXY(ee){var te=ee.allowEscapeViewBox,ne=ee.coordinate,xe=ee.key,rt=ee.offsetTopLeft,it=ee.position,lt=ee.reverseDirection,ct=ee.tooltipDimension,ut=ee.viewBox,dt=ee.viewBoxDimension;if(it&&isNumber(it[xe]))return it[xe];var ht=ne[xe]-ct-rt,ft=ne[xe]+rt;if(te[xe])return lt[xe]?ht:ft;if(lt[xe]){var pt=ht,mt=ut[xe];return pt<mt?Math.max(ft,ut[xe]):Math.max(ht,ut[xe])}var xt=ft+ct,yt=ut[xe]+dt;return xt>yt?Math.max(ht,ut[xe]):Math.max(ft,ut[xe])}function getTransformStyle(ee){var te=ee.translateX,ne=ee.translateY,xe=ee.useTranslate3d;return{transform:xe?"translate3d(".concat(te,"px, ").concat(ne,"px, 0)"):"translate(".concat(te,"px, ").concat(ne,"px)")}}function getTooltipTranslate(ee){var te=ee.allowEscapeViewBox,ne=ee.coordinate,xe=ee.offsetTopLeft,rt=ee.position,it=ee.reverseDirection,lt=ee.tooltipBox,ct=ee.useTranslate3d,ut=ee.viewBox,dt,ht,ft;return lt.height>0&&lt.width>0&&ne?(ht=getTooltipTranslateXY({allowEscapeViewBox:te,coordinate:ne,key:"x",offsetTopLeft:xe,position:rt,reverseDirection:it,tooltipDimension:lt.width,viewBox:ut,viewBoxDimension:ut.width}),ft=getTooltipTranslateXY({allowEscapeViewBox:te,coordinate:ne,key:"y",offsetTopLeft:xe,position:rt,reverseDirection:it,tooltipDimension:lt.height,viewBox:ut,viewBoxDimension:ut.height}),dt=getTransformStyle({translateX:ht,translateY:ft,useTranslate3d:ct})):dt=TOOLTIP_HIDDEN,{cssProperties:dt,cssClasses:getTooltipCSSClassName({translateX:ht,translateY:ft,coordinate:ne})}}function _typeof$G(ee){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$G(ee)}function ownKeys$B(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$A(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$B(Object(ne),!0).forEach(function(xe){_defineProperty$F(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$B(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$k(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$G(xe.key),xe)}}function _createClass$k(ee,te,ne){return te&&_defineProperties$k(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$g(ee,te,ne){return te=_getPrototypeOf$h(te),_possibleConstructorReturn$h(ee,_isNativeReflectConstruct$h()?Reflect.construct(te,ne||[],_getPrototypeOf$h(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$h(ee,te){if(te&&(_typeof$G(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(ee)}function _assertThisInitialized$h(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$h(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!ee})()}function _getPrototypeOf$h(ee){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$h(ee)}function _inherits$h(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$h(ee,te)}function _setPrototypeOf$h(ee,te){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$h(ee,te)}function _defineProperty$F(ee,te,ne){return te=_toPropertyKey$G(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$G(ee){var te=_toPrimitive$G(ee,"string");return _typeof$G(te)=="symbol"?te:te+""}function _toPrimitive$G(ee,te){if(_typeof$G(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$G(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var EPSILON=1,TooltipBoundingBox=(function(ee){function te(){var ne;_classCallCheck$k(this,te);for(var xe=arguments.length,rt=new Array(xe),it=0;it<xe;it++)rt[it]=arguments[it];return ne=_callSuper$g(this,te,[].concat(rt)),_defineProperty$F(ne,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$F(ne,"handleKeyDown",function(lt){if(lt.key==="Escape"){var ct,ut,dt,ht;ne.setState({dismissed:!0,dismissedAtCoordinate:{x:(ct=(ut=ne.props.coordinate)===null||ut===void 0?void 0:ut.x)!==null&&ct!==void 0?ct:0,y:(dt=(ht=ne.props.coordinate)===null||ht===void 0?void 0:ht.y)!==null&&dt!==void 0?dt:0}})}}),ne}return _inherits$h(te,ee),_createClass$k(te,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var xe=this.wrapperNode.getBoundingClientRect();(Math.abs(xe.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(xe.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:xe.width,height:xe.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var xe,rt;this.props.active&&this.updateBBox(),this.state.dismissed&&(((xe=this.props.coordinate)===null||xe===void 0?void 0:xe.x)!==this.state.dismissedAtCoordinate.x||((rt=this.props.coordinate)===null||rt===void 0?void 0:rt.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var xe=this,rt=this.props,it=rt.active,lt=rt.allowEscapeViewBox,ct=rt.animationDuration,ut=rt.animationEasing,dt=rt.children,ht=rt.coordinate,ft=rt.hasPayload,pt=rt.isAnimationActive,mt=rt.offset,xt=rt.position,yt=rt.reverseDirection,vt=rt.useTranslate3d,Et=rt.viewBox,_t=rt.wrapperStyle,wt=getTooltipTranslate({allowEscapeViewBox:lt,coordinate:ht,offsetTopLeft:mt,position:xt,reverseDirection:yt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:vt,viewBox:Et}),St=wt.cssClasses,Ct=wt.cssProperties,jt=_objectSpread$A(_objectSpread$A({transition:pt&&it?"transform ".concat(ct,"ms ").concat(ut):void 0},Ct),{},{pointerEvents:"none",visibility:!this.state.dismissed&&it&&ft?"visible":"hidden",position:"absolute",top:0,left:0},_t);return React.createElement("div",{tabIndex:-1,className:St,style:jt,ref:function(Pt){xe.wrapperNode=Pt}},dt)}}])})(reactExports.PureComponent),parseIsSsrByDefault=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$F(ee){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$F(ee)}function ownKeys$A(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$z(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$A(Object(ne),!0).forEach(function(xe){_defineProperty$E(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$A(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$j(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$F(xe.key),xe)}}function _createClass$j(ee,te,ne){return te&&_defineProperties$j(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$f(ee,te,ne){return te=_getPrototypeOf$g(te),_possibleConstructorReturn$g(ee,_isNativeReflectConstruct$g()?Reflect.construct(te,ne||[],_getPrototypeOf$g(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$g(ee,te){if(te&&(_typeof$F(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(ee)}function _assertThisInitialized$g(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$g(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!ee})()}function _getPrototypeOf$g(ee){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$g(ee)}function _inherits$g(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$g(ee,te)}function _setPrototypeOf$g(ee,te){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$g(ee,te)}function _defineProperty$E(ee,te,ne){return te=_toPropertyKey$F(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$F(ee){var te=_toPrimitive$F(ee,"string");return _typeof$F(te)=="symbol"?te:te+""}function _toPrimitive$F(ee,te){if(_typeof$F(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$F(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}function defaultUniqBy(ee){return ee.dataKey}function renderContent(ee,te){return React.isValidElement(ee)?React.cloneElement(ee,te):typeof ee=="function"?React.createElement(ee,te):React.createElement(DefaultTooltipContent,te)}var Tooltip=(function(ee){function te(){return _classCallCheck$j(this,te),_callSuper$f(this,te,arguments)}return _inherits$g(te,ee),_createClass$j(te,[{key:"render",value:function(){var xe=this,rt=this.props,it=rt.active,lt=rt.allowEscapeViewBox,ct=rt.animationDuration,ut=rt.animationEasing,dt=rt.content,ht=rt.coordinate,ft=rt.filterNull,pt=rt.isAnimationActive,mt=rt.offset,xt=rt.payload,yt=rt.payloadUniqBy,vt=rt.position,Et=rt.reverseDirection,_t=rt.useTranslate3d,wt=rt.viewBox,St=rt.wrapperStyle,Ct=xt??[];ft&&Ct.length&&(Ct=getUniqPayload(xt.filter(function(Rt){return Rt.value!=null&&(Rt.hide!==!0||xe.props.includeHidden)}),yt,defaultUniqBy));var jt=Ct.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:lt,animationDuration:ct,animationEasing:ut,isAnimationActive:pt,active:it,coordinate:ht,hasPayload:jt,offset:mt,position:vt,reverseDirection:Et,useTranslate3d:_t,viewBox:wt,wrapperStyle:St},renderContent(dt,_objectSpread$z(_objectSpread$z({},this.props),{},{payload:Ct})))}}])})(reactExports.PureComponent);_defineProperty$E(Tooltip,"displayName","Tooltip");_defineProperty$E(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var ee=require_root(),te=function(){return ee.Date.now()};return now_1=te,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var ee=/\s/;function te(ne){for(var xe=ne.length;xe--&&ee.test(ne.charAt(xe)););return xe}return _trimmedEndIndex=te,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var ee=require_trimmedEndIndex(),te=/^\s+/;function ne(xe){return xe&&xe.slice(0,ee(xe)+1).replace(te,"")}return _baseTrim=ne,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var ee=require_baseTrim(),te=requireIsObject(),ne=requireIsSymbol(),xe=NaN,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,lt=/^0o[0-7]+$/i,ct=parseInt;function ut(dt){if(typeof dt=="number")return dt;if(ne(dt))return xe;if(te(dt)){var ht=typeof dt.valueOf=="function"?dt.valueOf():dt;dt=te(ht)?ht+"":ht}if(typeof dt!="string")return dt===0?dt:+dt;dt=ee(dt);var ft=it.test(dt);return ft||lt.test(dt)?ct(dt.slice(2),ft?2:8):rt.test(dt)?xe:+dt}return toNumber_1=ut,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var ee=requireIsObject(),te=requireNow(),ne=requireToNumber(),xe="Expected a function",rt=Math.max,it=Math.min;function lt(ct,ut,dt){var ht,ft,pt,mt,xt,yt,vt=0,Et=!1,_t=!1,wt=!0;if(typeof ct!="function")throw new TypeError(xe);ut=ne(ut)||0,ee(dt)&&(Et=!!dt.leading,_t="maxWait"in dt,pt=_t?rt(ne(dt.maxWait)||0,ut):pt,wt="trailing"in dt?!!dt.trailing:wt);function St(Gt){var It=ht,qt=ft;return ht=ft=void 0,vt=Gt,mt=ct.apply(qt,It),mt}function Ct(Gt){return vt=Gt,xt=setTimeout(Pt,ut),Et?St(Gt):mt}function jt(Gt){var It=Gt-yt,qt=Gt-vt,Nt=ut-It;return _t?it(Nt,pt-qt):Nt}function Rt(Gt){var It=Gt-yt,qt=Gt-vt;return yt===void 0||It>=ut||It<0||_t&&qt>=pt}function Pt(){var Gt=te();if(Rt(Gt))return Ot(Gt);xt=setTimeout(Pt,jt(Gt))}function Ot(Gt){return xt=void 0,wt&&ht?St(Gt):(ht=ft=void 0,mt)}function Ft(){xt!==void 0&&clearTimeout(xt),vt=0,ht=yt=ft=xt=void 0}function Lt(){return xt===void 0?mt:Ot(te())}function Bt(){var Gt=te(),It=Rt(Gt);if(ht=arguments,ft=this,yt=Gt,It){if(xt===void 0)return Ct(yt);if(_t)return clearTimeout(xt),xt=setTimeout(Pt,ut),St(yt)}return xt===void 0&&(xt=setTimeout(Pt,ut)),mt}return Bt.cancel=Ft,Bt.flush=Lt,Bt}return debounce_1=lt,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var ee=requireDebounce(),te=requireIsObject(),ne="Expected a function";function xe(rt,it,lt){var ct=!0,ut=!0;if(typeof rt!="function")throw new TypeError(ne);return te(lt)&&(ct="leading"in lt?!!lt.leading:ct,ut="trailing"in lt?!!lt.trailing:ut),ee(rt,it,{leading:ct,maxWait:it,trailing:ut})}return throttle_1=xe,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);function _typeof$E(ee){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$E(ee)}function ownKeys$z(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$y(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$z(Object(ne),!0).forEach(function(xe){_defineProperty$D(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$z(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$D(ee,te,ne){return te=_toPropertyKey$E(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$E(ee){var te=_toPrimitive$E(ee,"string");return _typeof$E(te)=="symbol"?te:te+""}function _toPrimitive$E(ee,te){if(_typeof$E(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$E(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _slicedToArray$c(ee,te){return _arrayWithHoles$d(ee)||_iterableToArrayLimit$c(ee,te)||_unsupportedIterableToArray$l(ee,te)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$l(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$l(ee,te)}}function _arrayLikeToArray$l(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$c(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$d(ee){if(Array.isArray(ee))return ee}var ResponsiveContainer=reactExports.forwardRef(function(ee,te){var ne=ee.aspect,xe=ee.initialDimension,rt=xe===void 0?{width:-1,height:-1}:xe,it=ee.width,lt=it===void 0?"100%":it,ct=ee.height,ut=ct===void 0?"100%":ct,dt=ee.minWidth,ht=dt===void 0?0:dt,ft=ee.minHeight,pt=ee.maxHeight,mt=ee.children,xt=ee.debounce,yt=xt===void 0?0:xt,vt=ee.id,Et=ee.className,_t=ee.onResize,wt=ee.style,St=wt===void 0?{}:wt,Ct=reactExports.useRef(null),jt=reactExports.useRef();jt.current=_t,reactExports.useImperativeHandle(te,function(){return Object.defineProperty(Ct.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),Ct.current},configurable:!0})});var Rt=reactExports.useState({containerWidth:rt.width,containerHeight:rt.height}),Pt=_slicedToArray$c(Rt,2),Ot=Pt[0],Ft=Pt[1],Lt=reactExports.useCallback(function(Gt,It){Ft(function(qt){var Nt=Math.round(Gt),Dt=Math.round(It);return qt.containerWidth===Nt&&qt.containerHeight===Dt?qt:{containerWidth:Nt,containerHeight:Dt}})},[]);reactExports.useEffect(function(){var Gt=function(Mt){var $t,Ht=Mt[0].contentRect,Wt=Ht.width,Vt=Ht.height;Lt(Wt,Vt),($t=jt.current)===null||$t===void 0||$t.call(jt,Wt,Vt)};yt>0&&(Gt=throttle(Gt,yt,{trailing:!0,leading:!1}));var It=new ResizeObserver(Gt),qt=Ct.current.getBoundingClientRect(),Nt=qt.width,Dt=qt.height;return Lt(Nt,Dt),It.observe(Ct.current),function(){It.disconnect()}},[Lt,yt]);var Bt=reactExports.useMemo(function(){var Gt=Ot.containerWidth,It=Ot.containerHeight;if(Gt<0||It<0)return null;warn(isPercent(lt)||isPercent(ut),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,lt,ut),warn(!ne||ne>0,"The aspect(%s) must be greater than zero.",ne);var qt=isPercent(lt)?Gt:lt,Nt=isPercent(ut)?It:ut;ne&&ne>0&&(qt?Nt=qt/ne:Nt&&(qt=Nt*ne),pt&&Nt>pt&&(Nt=pt)),warn(qt>0||Nt>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,qt,Nt,lt,ut,ht,ft,ne);var Dt=!Array.isArray(mt)&&getDisplayName(mt.type).endsWith("Chart");return React.Children.map(mt,function(Tt){return React.isValidElement(Tt)?reactExports.cloneElement(Tt,_objectSpread$y({width:qt,height:Nt},Dt?{style:_objectSpread$y({height:"100%",width:"100%",maxHeight:Nt,maxWidth:qt},Tt.props.style)}:{})):Tt})},[ne,mt,ut,pt,ft,ht,Ot,lt]);return React.createElement("div",{id:vt?"".concat(vt):void 0,className:clsx("recharts-responsive-container",Et),style:_objectSpread$y(_objectSpread$y({},St),{},{width:lt,height:ut,minWidth:ht,minHeight:ft,maxHeight:pt}),ref:Ct},Bt)}),Cell=function(te){return null};Cell.displayName="Cell";function _typeof$D(ee){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$D(ee)}function ownKeys$y(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$x(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$y(Object(ne),!0).forEach(function(xe){_defineProperty$C(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$y(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$C(ee,te,ne){return te=_toPropertyKey$D(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$D(ee){var te=_toPrimitive$D(ee,"string");return _typeof$D(te)=="symbol"?te:te+""}function _toPrimitive$D(ee,te){if(_typeof$D(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$D(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(ee){var te=_objectSpread$x({},ee);return Object.keys(te).forEach(function(ne){te[ne]||delete te[ne]}),te}var getStringSize=function(te){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(te==null||Global.isSsr)return{width:0,height:0};var xe=removeInvalidKeys(ne),rt=JSON.stringify({text:te,copyStyle:xe});if(stringCache.widthCache[rt])return stringCache.widthCache[rt];try{var it=document.getElementById(MEASUREMENT_SPAN_ID);it||(it=document.createElement("span"),it.setAttribute("id",MEASUREMENT_SPAN_ID),it.setAttribute("aria-hidden","true"),document.body.appendChild(it));var lt=_objectSpread$x(_objectSpread$x({},SPAN_STYLE),xe);Object.assign(it.style,lt),it.textContent="".concat(te);var ct=it.getBoundingClientRect(),ut={width:ct.width,height:ct.height};return stringCache.widthCache[rt]=ut,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),ut}catch{return{width:0,height:0}}},getOffset=function(te){return{top:te.top+window.scrollY-document.documentElement.clientTop,left:te.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$C(ee){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$C(ee)}function _slicedToArray$b(ee,te){return _arrayWithHoles$c(ee)||_iterableToArrayLimit$b(ee,te)||_unsupportedIterableToArray$k(ee,te)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$k(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$k(ee,te)}}function _arrayLikeToArray$k(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$b(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te===0){if(Object(ne)!==ne)return;ut=!1}else for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$c(ee){if(Array.isArray(ee))return ee}function _classCallCheck$i(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$C(xe.key),xe)}}function _createClass$i(ee,te,ne){return te&&_defineProperties$i(ee.prototype,te),ne&&_defineProperties$i(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _toPropertyKey$C(ee){var te=_toPrimitive$C(ee,"string");return _typeof$C(te)=="symbol"?te:te+""}function _toPrimitive$C(ee,te){if(_typeof$C(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$C(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(ee,te){return ee*CONVERSION_RATES[te]}var DecimalCSS=(function(){function ee(te,ne){_classCallCheck$i(this,ee),this.num=te,this.unit=ne,this.num=te,this.unit=ne,Number.isNaN(te)&&(this.unit=""),ne!==""&&!CSS_LENGTH_UNIT_REGEX.test(ne)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(ne)&&(this.num=convertToPx(te,ne),this.unit="px")}return _createClass$i(ee,[{key:"add",value:function(ne){return this.unit!==ne.unit?new ee(NaN,""):new ee(this.num+ne.num,this.unit)}},{key:"subtract",value:function(ne){return this.unit!==ne.unit?new ee(NaN,""):new ee(this.num-ne.num,this.unit)}},{key:"multiply",value:function(ne){return this.unit!==""&&ne.unit!==""&&this.unit!==ne.unit?new ee(NaN,""):new ee(this.num*ne.num,this.unit||ne.unit)}},{key:"divide",value:function(ne){return this.unit!==""&&ne.unit!==""&&this.unit!==ne.unit?new ee(NaN,""):new ee(this.num/ne.num,this.unit||ne.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(ne){var xe,rt=(xe=NUM_SPLIT_REGEX.exec(ne))!==null&&xe!==void 0?xe:[],it=_slicedToArray$b(rt,3),lt=it[1],ct=it[2];return new ee(parseFloat(lt),ct??"")}}])})();function calculateArithmetic(ee){if(ee.includes(STR_NAN))return STR_NAN;for(var te=ee;te.includes("*")||te.includes("/");){var ne,xe=(ne=MULTIPLY_OR_DIVIDE_REGEX.exec(te))!==null&&ne!==void 0?ne:[],rt=_slicedToArray$b(xe,4),it=rt[1],lt=rt[2],ct=rt[3],ut=DecimalCSS.parse(it??""),dt=DecimalCSS.parse(ct??""),ht=lt==="*"?ut.multiply(dt):ut.divide(dt);if(ht.isNaN())return STR_NAN;te=te.replace(MULTIPLY_OR_DIVIDE_REGEX,ht.toString())}for(;te.includes("+")||/.-\d+(?:\.\d+)?/.test(te);){var ft,pt=(ft=ADD_OR_SUBTRACT_REGEX.exec(te))!==null&&ft!==void 0?ft:[],mt=_slicedToArray$b(pt,4),xt=mt[1],yt=mt[2],vt=mt[3],Et=DecimalCSS.parse(xt??""),_t=DecimalCSS.parse(vt??""),wt=yt==="+"?Et.add(_t):Et.subtract(_t);if(wt.isNaN())return STR_NAN;te=te.replace(ADD_OR_SUBTRACT_REGEX,wt.toString())}return te}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(ee){for(var te=ee;te.includes("(");){var ne=PARENTHESES_REGEX.exec(te),xe=_slicedToArray$b(ne,2),rt=xe[1];te=te.replace(PARENTHESES_REGEX,calculateArithmetic(rt))}return te}function evaluateExpression(ee){var te=ee.replace(/\s+/g,"");return te=calculateParentheses(te),te=calculateArithmetic(te),te}function safeEvaluateExpression(ee){try{return evaluateExpression(ee)}catch{return STR_NAN}}function reduceCSSCalc(ee){var te=safeEvaluateExpression(ee.slice(5,-1));return te===STR_NAN?"":te}var _excluded$i=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$r.apply(this,arguments)}function _objectWithoutProperties$h(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$h(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$h(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _slicedToArray$a(ee,te){return _arrayWithHoles$b(ee)||_iterableToArrayLimit$a(ee,te)||_unsupportedIterableToArray$j(ee,te)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$j(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$j(ee,te)}}function _arrayLikeToArray$j(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$a(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te===0){if(Object(ne)!==ne)return;ut=!1}else for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$b(ee){if(Array.isArray(ee))return ee}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(te){var ne=te.children,xe=te.breakAll,rt=te.style;try{var it=[];isNil(ne)||(xe?it=ne.toString().split(""):it=ne.toString().split(BREAKING_SPACES));var lt=it.map(function(ut){return{word:ut,width:getStringSize(ut,rt).width}}),ct=xe?0:getStringSize("",rt).width;return{wordsWithComputedWidth:lt,spaceWidth:ct}}catch{return null}},calculateWordsByLines=function(te,ne,xe,rt,it){var lt=te.maxLines,ct=te.children,ut=te.style,dt=te.breakAll,ht=isNumber(lt),ft=ct,pt=function(){var qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return qt.reduce(function(Nt,Dt){var Tt=Dt.word,Mt=Dt.width,$t=Nt[Nt.length-1];if($t&&(rt==null||it||$t.width+Mt+xe<Number(rt)))$t.words.push(Tt),$t.width+=Mt+xe;else{var Ht={words:[Tt],width:Mt};Nt.push(Ht)}return Nt},[])},mt=pt(ne),xt=function(qt){return qt.reduce(function(Nt,Dt){return Nt.width>Dt.width?Nt:Dt})};if(!ht)return mt;for(var yt="",vt=function(qt){var Nt=ft.slice(0,qt),Dt=calculateWordWidths({breakAll:dt,style:ut,children:Nt+yt}).wordsWithComputedWidth,Tt=pt(Dt),Mt=Tt.length>lt||xt(Tt).width>Number(rt);return[Mt,Tt]},Et=0,_t=ft.length-1,wt=0,St;Et<=_t&&wt<=ft.length-1;){var Ct=Math.floor((Et+_t)/2),jt=Ct-1,Rt=vt(jt),Pt=_slicedToArray$a(Rt,2),Ot=Pt[0],Ft=Pt[1],Lt=vt(Ct),Bt=_slicedToArray$a(Lt,1),Gt=Bt[0];if(!Ot&&!Gt&&(Et=Ct+1),Ot&&Gt&&(_t=Ct-1),!Ot&&Gt){St=Ft;break}wt++}return St||mt},getWordsWithoutCalculate=function(te){var ne=isNil(te)?[]:te.toString().split(BREAKING_SPACES);return[{words:ne}]},getWordsByLines=function(te){var ne=te.width,xe=te.scaleToFit,rt=te.children,it=te.style,lt=te.breakAll,ct=te.maxLines;if((ne||xe)&&!Global.isSsr){var ut,dt,ht=calculateWordWidths({breakAll:lt,children:rt,style:it});if(ht){var ft=ht.wordsWithComputedWidth,pt=ht.spaceWidth;ut=ft,dt=pt}else return getWordsWithoutCalculate(rt);return calculateWordsByLines({breakAll:lt,children:rt,maxLines:ct,style:it},ut,dt,ne,xe)}return getWordsWithoutCalculate(rt)},DEFAULT_FILL="#808080",Text=function(te){var ne=te.x,xe=ne===void 0?0:ne,rt=te.y,it=rt===void 0?0:rt,lt=te.lineHeight,ct=lt===void 0?"1em":lt,ut=te.capHeight,dt=ut===void 0?"0.71em":ut,ht=te.scaleToFit,ft=ht===void 0?!1:ht,pt=te.textAnchor,mt=pt===void 0?"start":pt,xt=te.verticalAnchor,yt=xt===void 0?"end":xt,vt=te.fill,Et=vt===void 0?DEFAULT_FILL:vt,_t=_objectWithoutProperties$h(te,_excluded$i),wt=reactExports.useMemo(function(){return getWordsByLines({breakAll:_t.breakAll,children:_t.children,maxLines:_t.maxLines,scaleToFit:ft,style:_t.style,width:_t.width})},[_t.breakAll,_t.children,_t.maxLines,ft,_t.style,_t.width]),St=_t.dx,Ct=_t.dy,jt=_t.angle,Rt=_t.className,Pt=_t.breakAll,Ot=_objectWithoutProperties$h(_t,_excluded2$6);if(!isNumOrStr(xe)||!isNumOrStr(it))return null;var Ft=xe+(isNumber(St)?St:0),Lt=it+(isNumber(Ct)?Ct:0),Bt;switch(yt){case"start":Bt=reduceCSSCalc("calc(".concat(dt,")"));break;case"middle":Bt=reduceCSSCalc("calc(".concat((wt.length-1)/2," * -").concat(ct," + (").concat(dt," / 2))"));break;default:Bt=reduceCSSCalc("calc(".concat(wt.length-1," * -").concat(ct,")"));break}var Gt=[];if(ft){var It=wt[0].width,qt=_t.width;Gt.push("scale(".concat((isNumber(qt)?qt/It:1)/It,")"))}return jt&&Gt.push("rotate(".concat(jt,", ").concat(Ft,", ").concat(Lt,")")),Gt.length&&(Ot.transform=Gt.join(" ")),React.createElement("text",_extends$r({},filterProps(Ot,!0),{x:Ft,y:Lt,className:clsx("recharts-text",Rt),textAnchor:mt,fill:Et.includes("url")?DEFAULT_FILL:Et}),wt.map(function(Nt,Dt){var Tt=Nt.words.join(Pt?"":" ");return React.createElement("tspan",{x:Ft,dy:Dt===0?Bt:ct,key:"".concat(Tt,"-").concat(Dt)},Tt)}))};function ascending$1(ee,te){return ee==null||te==null?NaN:ee<te?-1:ee>te?1:ee>=te?0:NaN}function descending(ee,te){return ee==null||te==null?NaN:te<ee?-1:te>ee?1:te>=ee?0:NaN}function bisector(ee){let te,ne,xe;ee.length!==2?(te=ascending$1,ne=(ct,ut)=>ascending$1(ee(ct),ut),xe=(ct,ut)=>ee(ct)-ut):(te=ee===ascending$1||ee===descending?ee:zero$1,ne=ee,xe=ee);function rt(ct,ut,dt=0,ht=ct.length){if(dt<ht){if(te(ut,ut)!==0)return ht;do{const ft=dt+ht>>>1;ne(ct[ft],ut)<0?dt=ft+1:ht=ft}while(dt<ht)}return dt}function it(ct,ut,dt=0,ht=ct.length){if(dt<ht){if(te(ut,ut)!==0)return ht;do{const ft=dt+ht>>>1;ne(ct[ft],ut)<=0?dt=ft+1:ht=ft}while(dt<ht)}return dt}function lt(ct,ut,dt=0,ht=ct.length){const ft=rt(ct,ut,dt,ht-1);return ft>dt&&xe(ct[ft-1],ut)>-xe(ct[ft],ut)?ft-1:ft}return{left:rt,center:lt,right:it}}function zero$1(){return 0}function number$3(ee){return ee===null?NaN:+ee}function*numbers(ee,te){for(let ne of ee)ne!=null&&(ne=+ne)>=ne&&(yield ne)}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$3).center;class InternMap extends Map{constructor(te,ne=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:ne}}),te!=null)for(const[xe,rt]of te)this.set(xe,rt)}get(te){return super.get(intern_get(this,te))}has(te){return super.has(intern_get(this,te))}set(te,ne){return super.set(intern_set(this,te),ne)}delete(te){return super.delete(intern_delete(this,te))}}function intern_get({_intern:ee,_key:te},ne){const xe=te(ne);return ee.has(xe)?ee.get(xe):ne}function intern_set({_intern:ee,_key:te},ne){const xe=te(ne);return ee.has(xe)?ee.get(xe):(ee.set(xe,ne),ne)}function intern_delete({_intern:ee,_key:te},ne){const xe=te(ne);return ee.has(xe)&&(ne=ee.get(xe),ee.delete(xe)),ne}function keyof(ee){return ee!==null&&typeof ee=="object"?ee.valueOf():ee}function compareDefined(ee=ascending$1){if(ee===ascending$1)return ascendingDefined;if(typeof ee!="function")throw new TypeError("compare is not a function");return(te,ne)=>{const xe=ee(te,ne);return xe||xe===0?xe:(ee(ne,ne)===0)-(ee(te,te)===0)}}function ascendingDefined(ee,te){return(ee==null||!(ee>=ee))-(te==null||!(te>=te))||(ee<te?-1:ee>te?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(ee,te,ne){const xe=(te-ee)/Math.max(0,ne),rt=Math.floor(Math.log10(xe)),it=xe/Math.pow(10,rt),lt=it>=e10?10:it>=e5?5:it>=e2?2:1;let ct,ut,dt;return rt<0?(dt=Math.pow(10,-rt)/lt,ct=Math.round(ee*dt),ut=Math.round(te*dt),ct/dt<ee&&++ct,ut/dt>te&&--ut,dt=-dt):(dt=Math.pow(10,rt)*lt,ct=Math.round(ee/dt),ut=Math.round(te/dt),ct*dt<ee&&++ct,ut*dt>te&&--ut),ut<ct&&.5<=ne&&ne<2?tickSpec(ee,te,ne*2):[ct,ut,dt]}function ticks(ee,te,ne){if(te=+te,ee=+ee,ne=+ne,!(ne>0))return[];if(ee===te)return[ee];const xe=te<ee,[rt,it,lt]=xe?tickSpec(te,ee,ne):tickSpec(ee,te,ne);if(!(it>=rt))return[];const ct=it-rt+1,ut=new Array(ct);if(xe)if(lt<0)for(let dt=0;dt<ct;++dt)ut[dt]=(it-dt)/-lt;else for(let dt=0;dt<ct;++dt)ut[dt]=(it-dt)*lt;else if(lt<0)for(let dt=0;dt<ct;++dt)ut[dt]=(rt+dt)/-lt;else for(let dt=0;dt<ct;++dt)ut[dt]=(rt+dt)*lt;return ut}function tickIncrement(ee,te,ne){return te=+te,ee=+ee,ne=+ne,tickSpec(ee,te,ne)[2]}function tickStep(ee,te,ne){te=+te,ee=+ee,ne=+ne;const xe=te<ee,rt=xe?tickIncrement(te,ee,ne):tickIncrement(ee,te,ne);return(xe?-1:1)*(rt<0?1/-rt:rt)}function max$1(ee,te){let ne;if(te===void 0)for(const xe of ee)xe!=null&&(ne<xe||ne===void 0&&xe>=xe)&&(ne=xe);else{let xe=-1;for(let rt of ee)(rt=te(rt,++xe,ee))!=null&&(ne<rt||ne===void 0&&rt>=rt)&&(ne=rt)}return ne}function min$1(ee,te){let ne;if(te===void 0)for(const xe of ee)xe!=null&&(ne>xe||ne===void 0&&xe>=xe)&&(ne=xe);else{let xe=-1;for(let rt of ee)(rt=te(rt,++xe,ee))!=null&&(ne>rt||ne===void 0&&rt>=rt)&&(ne=rt)}return ne}function quickselect(ee,te,ne=0,xe=1/0,rt){if(te=Math.floor(te),ne=Math.floor(Math.max(0,ne)),xe=Math.floor(Math.min(ee.length-1,xe)),!(ne<=te&&te<=xe))return ee;for(rt=rt===void 0?ascendingDefined:compareDefined(rt);xe>ne;){if(xe-ne>600){const ut=xe-ne+1,dt=te-ne+1,ht=Math.log(ut),ft=.5*Math.exp(2*ht/3),pt=.5*Math.sqrt(ht*ft*(ut-ft)/ut)*(dt-ut/2<0?-1:1),mt=Math.max(ne,Math.floor(te-dt*ft/ut+pt)),xt=Math.min(xe,Math.floor(te+(ut-dt)*ft/ut+pt));quickselect(ee,te,mt,xt,rt)}const it=ee[te];let lt=ne,ct=xe;for(swap(ee,ne,te),rt(ee[xe],it)>0&&swap(ee,ne,xe);lt<ct;){for(swap(ee,lt,ct),++lt,--ct;rt(ee[lt],it)<0;)++lt;for(;rt(ee[ct],it)>0;)--ct}rt(ee[ne],it)===0?swap(ee,ne,ct):(++ct,swap(ee,ct,xe)),ct<=te&&(ne=ct+1),te<=ct&&(xe=ct-1)}return ee}function swap(ee,te,ne){const xe=ee[te];ee[te]=ee[ne],ee[ne]=xe}function quantile$1(ee,te,ne){if(ee=Float64Array.from(numbers(ee)),!(!(xe=ee.length)||isNaN(te=+te))){if(te<=0||xe<2)return min$1(ee);if(te>=1)return max$1(ee);var xe,rt=(xe-1)*te,it=Math.floor(rt),lt=max$1(quickselect(ee,it).subarray(0,it+1)),ct=min$1(ee.subarray(it+1));return lt+(ct-lt)*(rt-it)}}function quantileSorted(ee,te,ne=number$3){if(!(!(xe=ee.length)||isNaN(te=+te))){if(te<=0||xe<2)return+ne(ee[0],0,ee);if(te>=1)return+ne(ee[xe-1],xe-1,ee);var xe,rt=(xe-1)*te,it=Math.floor(rt),lt=+ne(ee[it],it,ee),ct=+ne(ee[it+1],it+1,ee);return lt+(ct-lt)*(rt-it)}}function range$2(ee,te,ne){ee=+ee,te=+te,ne=(rt=arguments.length)<2?(te=ee,ee=0,1):rt<3?1:+ne;for(var xe=-1,rt=Math.max(0,Math.ceil((te-ee)/ne))|0,it=new Array(rt);++xe<rt;)it[xe]=ee+xe*ne;return it}function initRange(ee,te){switch(arguments.length){case 0:break;case 1:this.range(ee);break;default:this.range(te).domain(ee);break}return this}function initInterpolator(ee,te){switch(arguments.length){case 0:break;case 1:{typeof ee=="function"?this.interpolator(ee):this.range(ee);break}default:{this.domain(ee),typeof te=="function"?this.interpolator(te):this.range(te);break}}return this}const implicit=Symbol("implicit");function ordinal(){var ee=new InternMap,te=[],ne=[],xe=implicit;function rt(it){let lt=ee.get(it);if(lt===void 0){if(xe!==implicit)return xe;ee.set(it,lt=te.push(it)-1)}return ne[lt%ne.length]}return rt.domain=function(it){if(!arguments.length)return te.slice();te=[],ee=new InternMap;for(const lt of it)ee.has(lt)||ee.set(lt,te.push(lt)-1);return rt},rt.range=function(it){return arguments.length?(ne=Array.from(it),rt):ne.slice()},rt.unknown=function(it){return arguments.length?(xe=it,rt):xe},rt.copy=function(){return ordinal(te,ne).unknown(xe)},initRange.apply(rt,arguments),rt}function band(){var ee=ordinal().unknown(void 0),te=ee.domain,ne=ee.range,xe=0,rt=1,it,lt,ct=!1,ut=0,dt=0,ht=.5;delete ee.unknown;function ft(){var pt=te().length,mt=rt<xe,xt=mt?rt:xe,yt=mt?xe:rt;it=(yt-xt)/Math.max(1,pt-ut+dt*2),ct&&(it=Math.floor(it)),xt+=(yt-xt-it*(pt-ut))*ht,lt=it*(1-ut),ct&&(xt=Math.round(xt),lt=Math.round(lt));var vt=range$2(pt).map(function(Et){return xt+it*Et});return ne(mt?vt.reverse():vt)}return ee.domain=function(pt){return arguments.length?(te(pt),ft()):te()},ee.range=function(pt){return arguments.length?([xe,rt]=pt,xe=+xe,rt=+rt,ft()):[xe,rt]},ee.rangeRound=function(pt){return[xe,rt]=pt,xe=+xe,rt=+rt,ct=!0,ft()},ee.bandwidth=function(){return lt},ee.step=function(){return it},ee.round=function(pt){return arguments.length?(ct=!!pt,ft()):ct},ee.padding=function(pt){return arguments.length?(ut=Math.min(1,dt=+pt),ft()):ut},ee.paddingInner=function(pt){return arguments.length?(ut=Math.min(1,pt),ft()):ut},ee.paddingOuter=function(pt){return arguments.length?(dt=+pt,ft()):dt},ee.align=function(pt){return arguments.length?(ht=Math.max(0,Math.min(1,pt)),ft()):ht},ee.copy=function(){return band(te(),[xe,rt]).round(ct).paddingInner(ut).paddingOuter(dt).align(ht)},initRange.apply(ft(),arguments)}function pointish(ee){var te=ee.copy;return ee.padding=ee.paddingOuter,delete ee.paddingInner,delete ee.paddingOuter,ee.copy=function(){return pointish(te())},ee}function point$4(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(ee,te,ne){ee.prototype=te.prototype=ne,ne.constructor=ee}function extend$3(ee,te){var ne=Object.create(ee.prototype);for(var xe in te)ne[xe]=te[xe];return ne}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color$1,{copy(ee){return Object.assign(new this.constructor,this,ee)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(ee){var te,ne;return ee=(ee+"").trim().toLowerCase(),(te=reHex.exec(ee))?(ne=te[1].length,te=parseInt(te[1],16),ne===6?rgbn(te):ne===3?new Rgb(te>>8&15|te>>4&240,te>>4&15|te&240,(te&15)<<4|te&15,1):ne===8?rgba$1(te>>24&255,te>>16&255,te>>8&255,(te&255)/255):ne===4?rgba$1(te>>12&15|te>>8&240,te>>8&15|te>>4&240,te>>4&15|te&240,((te&15)<<4|te&15)/255):null):(te=reRgbInteger.exec(ee))?new Rgb(te[1],te[2],te[3],1):(te=reRgbPercent.exec(ee))?new Rgb(te[1]*255/100,te[2]*255/100,te[3]*255/100,1):(te=reRgbaInteger.exec(ee))?rgba$1(te[1],te[2],te[3],te[4]):(te=reRgbaPercent.exec(ee))?rgba$1(te[1]*255/100,te[2]*255/100,te[3]*255/100,te[4]):(te=reHslPercent.exec(ee))?hsla(te[1],te[2]/100,te[3]/100,1):(te=reHslaPercent.exec(ee))?hsla(te[1],te[2]/100,te[3]/100,te[4]):named.hasOwnProperty(ee)?rgbn(named[ee]):ee==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(ee){return new Rgb(ee>>16&255,ee>>8&255,ee&255,1)}function rgba$1(ee,te,ne,xe){return xe<=0&&(ee=te=ne=NaN),new Rgb(ee,te,ne,xe)}function rgbConvert(ee){return ee instanceof Color$1||(ee=color$1(ee)),ee?(ee=ee.rgb(),new Rgb(ee.r,ee.g,ee.b,ee.opacity)):new Rgb}function rgb(ee,te,ne,xe){return arguments.length===1?rgbConvert(ee):new Rgb(ee,te,ne,xe??1)}function Rgb(ee,te,ne,xe){this.r=+ee,this.g=+te,this.b=+ne,this.opacity=+xe}define(Rgb,rgb,extend$3(Color$1,{brighter(ee){return ee=ee==null?brighter:Math.pow(brighter,ee),new Rgb(this.r*ee,this.g*ee,this.b*ee,this.opacity)},darker(ee){return ee=ee==null?darker:Math.pow(darker,ee),new Rgb(this.r*ee,this.g*ee,this.b*ee,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const ee=clampa(this.opacity);return`${ee===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${ee===1?")":`, ${ee})`}`}function clampa(ee){return isNaN(ee)?1:Math.max(0,Math.min(1,ee))}function clampi(ee){return Math.max(0,Math.min(255,Math.round(ee)||0))}function hex(ee){return ee=clampi(ee),(ee<16?"0":"")+ee.toString(16)}function hsla(ee,te,ne,xe){return xe<=0?ee=te=ne=NaN:ne<=0||ne>=1?ee=te=NaN:te<=0&&(ee=NaN),new Hsl(ee,te,ne,xe)}function hslConvert(ee){if(ee instanceof Hsl)return new Hsl(ee.h,ee.s,ee.l,ee.opacity);if(ee instanceof Color$1||(ee=color$1(ee)),!ee)return new Hsl;if(ee instanceof Hsl)return ee;ee=ee.rgb();var te=ee.r/255,ne=ee.g/255,xe=ee.b/255,rt=Math.min(te,ne,xe),it=Math.max(te,ne,xe),lt=NaN,ct=it-rt,ut=(it+rt)/2;return ct?(te===it?lt=(ne-xe)/ct+(ne<xe)*6:ne===it?lt=(xe-te)/ct+2:lt=(te-ne)/ct+4,ct/=ut<.5?it+rt:2-it-rt,lt*=60):ct=ut>0&&ut<1?0:lt,new Hsl(lt,ct,ut,ee.opacity)}function hsl(ee,te,ne,xe){return arguments.length===1?hslConvert(ee):new Hsl(ee,te,ne,xe??1)}function Hsl(ee,te,ne,xe){this.h=+ee,this.s=+te,this.l=+ne,this.opacity=+xe}define(Hsl,hsl,extend$3(Color$1,{brighter(ee){return ee=ee==null?brighter:Math.pow(brighter,ee),new Hsl(this.h,this.s,this.l*ee,this.opacity)},darker(ee){return ee=ee==null?darker:Math.pow(darker,ee),new Hsl(this.h,this.s,this.l*ee,this.opacity)},rgb(){var ee=this.h%360+(this.h<0)*360,te=isNaN(ee)||isNaN(this.s)?0:this.s,ne=this.l,xe=ne+(ne<.5?ne:1-ne)*te,rt=2*ne-xe;return new Rgb(hsl2rgb(ee>=240?ee-240:ee+120,rt,xe),hsl2rgb(ee,rt,xe),hsl2rgb(ee<120?ee+240:ee-120,rt,xe),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const ee=clampa(this.opacity);return`${ee===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${ee===1?")":`, ${ee})`}`}}));function clamph(ee){return ee=(ee||0)%360,ee<0?ee+360:ee}function clampt(ee){return Math.max(0,Math.min(1,ee||0))}function hsl2rgb(ee,te,ne){return(ee<60?te+(ne-te)*ee/60:ee<180?ne:ee<240?te+(ne-te)*(240-ee)/60:te)*255}const constant$4=ee=>()=>ee;function linear$1(ee,te){return function(ne){return ee+ne*te}}function exponential(ee,te,ne){return ee=Math.pow(ee,ne),te=Math.pow(te,ne)-ee,ne=1/ne,function(xe){return Math.pow(ee+xe*te,ne)}}function hue(ee,te){var ne=te-ee;return ne?linear$1(ee,ne>180||ne<-180?ne-360*Math.round(ne/360):ne):constant$4(isNaN(ee)?te:ee)}function gamma(ee){return(ee=+ee)==1?nogamma:function(te,ne){return ne-te?exponential(te,ne,ee):constant$4(isNaN(te)?ne:te)}}function nogamma(ee,te){var ne=te-ee;return ne?linear$1(ee,ne):constant$4(isNaN(ee)?te:ee)}const interpolateRgb=(function ee(te){var ne=gamma(te);function xe(rt,it){var lt=ne((rt=rgb(rt)).r,(it=rgb(it)).r),ct=ne(rt.g,it.g),ut=ne(rt.b,it.b),dt=nogamma(rt.opacity,it.opacity);return function(ht){return rt.r=lt(ht),rt.g=ct(ht),rt.b=ut(ht),rt.opacity=dt(ht),rt+""}}return xe.gamma=ee,xe})(1);function numberArray(ee,te){te||(te=[]);var ne=ee?Math.min(te.length,ee.length):0,xe=te.slice(),rt;return function(it){for(rt=0;rt<ne;++rt)xe[rt]=ee[rt]*(1-it)+te[rt]*it;return xe}}function isNumberArray(ee){return ArrayBuffer.isView(ee)&&!(ee instanceof DataView)}function genericArray(ee,te){var ne=te?te.length:0,xe=ee?Math.min(ne,ee.length):0,rt=new Array(xe),it=new Array(ne),lt;for(lt=0;lt<xe;++lt)rt[lt]=interpolate$1(ee[lt],te[lt]);for(;lt<ne;++lt)it[lt]=te[lt];return function(ct){for(lt=0;lt<xe;++lt)it[lt]=rt[lt](ct);return it}}function date$1(ee,te){var ne=new Date;return ee=+ee,te=+te,function(xe){return ne.setTime(ee*(1-xe)+te*xe),ne}}function interpolateNumber$1(ee,te){return ee=+ee,te=+te,function(ne){return ee*(1-ne)+te*ne}}function object(ee,te){var ne={},xe={},rt;(ee===null||typeof ee!="object")&&(ee={}),(te===null||typeof te!="object")&&(te={});for(rt in te)rt in ee?ne[rt]=interpolate$1(ee[rt],te[rt]):xe[rt]=te[rt];return function(it){for(rt in ne)xe[rt]=ne[rt](it);return xe}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(ee){return function(){return ee}}function one$3(ee){return function(te){return ee(te)+""}}function interpolateString(ee,te){var ne=reA.lastIndex=reB.lastIndex=0,xe,rt,it,lt=-1,ct=[],ut=[];for(ee=ee+"",te=te+"";(xe=reA.exec(ee))&&(rt=reB.exec(te));)(it=rt.index)>ne&&(it=te.slice(ne,it),ct[lt]?ct[lt]+=it:ct[++lt]=it),(xe=xe[0])===(rt=rt[0])?ct[lt]?ct[lt]+=rt:ct[++lt]=rt:(ct[++lt]=null,ut.push({i:lt,x:interpolateNumber$1(xe,rt)})),ne=reB.lastIndex;return ne<te.length&&(it=te.slice(ne),ct[lt]?ct[lt]+=it:ct[++lt]=it),ct.length<2?ut[0]?one$3(ut[0].x):zero(te):(te=ut.length,function(dt){for(var ht=0,ft;ht<te;++ht)ct[(ft=ut[ht]).i]=ft.x(dt);return ct.join("")})}function interpolate$1(ee,te){var ne=typeof te,xe;return te==null||ne==="boolean"?constant$4(te):(ne==="number"?interpolateNumber$1:ne==="string"?(xe=color$1(te))?(te=xe,interpolateRgb):interpolateString:te instanceof color$1?interpolateRgb:te instanceof Date?date$1:isNumberArray(te)?numberArray:Array.isArray(te)?genericArray:typeof te.valueOf!="function"&&typeof te.toString!="function"||isNaN(te)?object:interpolateNumber$1)(ee,te)}function interpolateRound(ee,te){return ee=+ee,te=+te,function(ne){return Math.round(ee*(1-ne)+te*ne)}}var degrees=180/Math.PI,identity$8={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(ee,te,ne,xe,rt,it){var lt,ct,ut;return(lt=Math.sqrt(ee*ee+te*te))&&(ee/=lt,te/=lt),(ut=ee*ne+te*xe)&&(ne-=ee*ut,xe-=te*ut),(ct=Math.sqrt(ne*ne+xe*xe))&&(ne/=ct,xe/=ct,ut/=ct),ee*xe<te*ne&&(ee=-ee,te=-te,ut=-ut,lt=-lt),{translateX:rt,translateY:it,rotate:Math.atan2(te,ee)*degrees,skewX:Math.atan(ut)*degrees,scaleX:lt,scaleY:ct}}var svgNode;function parseCss(ee){const te=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(ee+"");return te.isIdentity?identity$8:decompose(te.a,te.b,te.c,te.d,te.e,te.f)}function parseSvg(ee){return ee==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",ee),!(ee=svgNode.transform.baseVal.consolidate()))?identity$8:(ee=ee.matrix,decompose(ee.a,ee.b,ee.c,ee.d,ee.e,ee.f))}function interpolateTransform(ee,te,ne,xe){function rt(dt){return dt.length?dt.pop()+" ":""}function it(dt,ht,ft,pt,mt,xt){if(dt!==ft||ht!==pt){var yt=mt.push("translate(",null,te,null,ne);xt.push({i:yt-4,x:interpolateNumber$1(dt,ft)},{i:yt-2,x:interpolateNumber$1(ht,pt)})}else(ft||pt)&&mt.push("translate("+ft+te+pt+ne)}function lt(dt,ht,ft,pt){dt!==ht?(dt-ht>180?ht+=360:ht-dt>180&&(dt+=360),pt.push({i:ft.push(rt(ft)+"rotate(",null,xe)-2,x:interpolateNumber$1(dt,ht)})):ht&&ft.push(rt(ft)+"rotate("+ht+xe)}function ct(dt,ht,ft,pt){dt!==ht?pt.push({i:ft.push(rt(ft)+"skewX(",null,xe)-2,x:interpolateNumber$1(dt,ht)}):ht&&ft.push(rt(ft)+"skewX("+ht+xe)}function ut(dt,ht,ft,pt,mt,xt){if(dt!==ft||ht!==pt){var yt=mt.push(rt(mt)+"scale(",null,",",null,")");xt.push({i:yt-4,x:interpolateNumber$1(dt,ft)},{i:yt-2,x:interpolateNumber$1(ht,pt)})}else(ft!==1||pt!==1)&&mt.push(rt(mt)+"scale("+ft+","+pt+")")}return function(dt,ht){var ft=[],pt=[];return dt=ee(dt),ht=ee(ht),it(dt.translateX,dt.translateY,ht.translateX,ht.translateY,ft,pt),lt(dt.rotate,ht.rotate,ft,pt),ct(dt.skewX,ht.skewX,ft,pt),ut(dt.scaleX,dt.scaleY,ht.scaleX,ht.scaleY,ft,pt),dt=ht=null,function(mt){for(var xt=-1,yt=pt.length,vt;++xt<yt;)ft[(vt=pt[xt]).i]=vt.x(mt);return ft.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2=1e-12;function cosh(ee){return((ee=Math.exp(ee))+1/ee)/2}function sinh(ee){return((ee=Math.exp(ee))-1/ee)/2}function tanh(ee){return((ee=Math.exp(2*ee))-1)/(ee+1)}const interpolateZoom=(function ee(te,ne,xe){function rt(it,lt){var ct=it[0],ut=it[1],dt=it[2],ht=lt[0],ft=lt[1],pt=lt[2],mt=ht-ct,xt=ft-ut,yt=mt*mt+xt*xt,vt,Et;if(yt<epsilon2)Et=Math.log(pt/dt)/te,vt=function(Rt){return[ct+Rt*mt,ut+Rt*xt,dt*Math.exp(te*Rt*Et)]};else{var _t=Math.sqrt(yt),wt=(pt*pt-dt*dt+xe*yt)/(2*dt*ne*_t),St=(pt*pt-dt*dt-xe*yt)/(2*pt*ne*_t),Ct=Math.log(Math.sqrt(wt*wt+1)-wt),jt=Math.log(Math.sqrt(St*St+1)-St);Et=(jt-Ct)/te,vt=function(Rt){var Pt=Rt*Et,Ot=cosh(Ct),Ft=dt/(ne*_t)*(Ot*tanh(te*Pt+Ct)-sinh(Ct));return[ct+Ft*mt,ut+Ft*xt,dt*Ot/cosh(te*Pt+Ct)]}}return vt.duration=Et*1e3*te/Math.SQRT2,vt}return rt.rho=function(it){var lt=Math.max(.001,+it),ct=lt*lt,ut=ct*ct;return ee(lt,ct,ut)},rt})(Math.SQRT2,2,4);function piecewise(ee,te){te===void 0&&(te=ee,ee=interpolate$1);for(var ne=0,xe=te.length-1,rt=te[0],it=new Array(xe<0?0:xe);ne<xe;)it[ne]=ee(rt,rt=te[++ne]);return function(lt){var ct=Math.max(0,Math.min(xe-1,Math.floor(lt*=xe)));return it[ct](lt-ct)}}function constants$1(ee){return function(){return ee}}function number$2(ee){return+ee}var unit=[0,1];function identity$7(ee){return ee}function normalize$2(ee,te){return(te-=ee=+ee)?function(ne){return(ne-ee)/te}:constants$1(isNaN(te)?NaN:.5)}function clamper(ee,te){var ne;return ee>te&&(ne=ee,ee=te,te=ne),function(xe){return Math.max(ee,Math.min(te,xe))}}function bimap(ee,te,ne){var xe=ee[0],rt=ee[1],it=te[0],lt=te[1];return rt<xe?(xe=normalize$2(rt,xe),it=ne(lt,it)):(xe=normalize$2(xe,rt),it=ne(it,lt)),function(ct){return it(xe(ct))}}function polymap(ee,te,ne){var xe=Math.min(ee.length,te.length)-1,rt=new Array(xe),it=new Array(xe),lt=-1;for(ee[xe]<ee[0]&&(ee=ee.slice().reverse(),te=te.slice().reverse());++lt<xe;)rt[lt]=normalize$2(ee[lt],ee[lt+1]),it[lt]=ne(te[lt],te[lt+1]);return function(ct){var ut=bisectRight(ee,ct,1,xe)-1;return it[ut](rt[ut](ct))}}function copy$1(ee,te){return te.domain(ee.domain()).range(ee.range()).interpolate(ee.interpolate()).clamp(ee.clamp()).unknown(ee.unknown())}function transformer$2(){var ee=unit,te=unit,ne=interpolate$1,xe,rt,it,lt=identity$7,ct,ut,dt;function ht(){var pt=Math.min(ee.length,te.length);return lt!==identity$7&&(lt=clamper(ee[0],ee[pt-1])),ct=pt>2?polymap:bimap,ut=dt=null,ft}function ft(pt){return pt==null||isNaN(pt=+pt)?it:(ut||(ut=ct(ee.map(xe),te,ne)))(xe(lt(pt)))}return ft.invert=function(pt){return lt(rt((dt||(dt=ct(te,ee.map(xe),interpolateNumber$1)))(pt)))},ft.domain=function(pt){return arguments.length?(ee=Array.from(pt,number$2),ht()):ee.slice()},ft.range=function(pt){return arguments.length?(te=Array.from(pt),ht()):te.slice()},ft.rangeRound=function(pt){return te=Array.from(pt),ne=interpolateRound,ht()},ft.clamp=function(pt){return arguments.length?(lt=pt?!0:identity$7,ht()):lt!==identity$7},ft.interpolate=function(pt){return arguments.length?(ne=pt,ht()):ne},ft.unknown=function(pt){return arguments.length?(it=pt,ft):it},function(pt,mt){return xe=pt,rt=mt,ht()}}function continuous(){return transformer$2()(identity$7,identity$7)}function formatDecimal(ee){return Math.abs(ee=Math.round(ee))>=1e21?ee.toLocaleString("en").replace(/,/g,""):ee.toString(10)}function formatDecimalParts(ee,te){if(!isFinite(ee)||ee===0)return null;var ne=(ee=te?ee.toExponential(te-1):ee.toExponential()).indexOf("e"),xe=ee.slice(0,ne);return[xe.length>1?xe[0]+xe.slice(2):xe,+ee.slice(ne+1)]}function exponent(ee){return ee=formatDecimalParts(Math.abs(ee)),ee?ee[1]:NaN}function formatGroup(ee,te){return function(ne,xe){for(var rt=ne.length,it=[],lt=0,ct=ee[0],ut=0;rt>0&&ct>0&&(ut+ct+1>xe&&(ct=Math.max(1,xe-ut)),it.push(ne.substring(rt-=ct,rt+ct)),!((ut+=ct+1)>xe));)ct=ee[lt=(lt+1)%ee.length];return it.reverse().join(te)}}function formatNumerals(ee){return function(te){return te.replace(/[0-9]/g,function(ne){return ee[+ne]})}}var re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(ee){if(!(te=re$2.exec(ee)))throw new Error("invalid format: "+ee);var te;return new FormatSpecifier({fill:te[1],align:te[2],sign:te[3],symbol:te[4],zero:te[5],width:te[6],comma:te[7],precision:te[8]&&te[8].slice(1),trim:te[9],type:te[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(ee){this.fill=ee.fill===void 0?" ":ee.fill+"",this.align=ee.align===void 0?">":ee.align+"",this.sign=ee.sign===void 0?"-":ee.sign+"",this.symbol=ee.symbol===void 0?"":ee.symbol+"",this.zero=!!ee.zero,this.width=ee.width===void 0?void 0:+ee.width,this.comma=!!ee.comma,this.precision=ee.precision===void 0?void 0:+ee.precision,this.trim=!!ee.trim,this.type=ee.type===void 0?"":ee.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(ee){e:for(var te=ee.length,ne=1,xe=-1,rt;ne<te;++ne)switch(ee[ne]){case".":xe=rt=ne;break;case"0":xe===0&&(xe=ne),rt=ne;break;default:if(!+ee[ne])break e;xe>0&&(xe=0);break}return xe>0?ee.slice(0,xe)+ee.slice(rt+1):ee}var prefixExponent;function formatPrefixAuto(ee,te){var ne=formatDecimalParts(ee,te);if(!ne)return prefixExponent=void 0,ee.toPrecision(te);var xe=ne[0],rt=ne[1],it=rt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(rt/3)))*3)+1,lt=xe.length;return it===lt?xe:it>lt?xe+new Array(it-lt+1).join("0"):it>0?xe.slice(0,it)+"."+xe.slice(it):"0."+new Array(1-it).join("0")+formatDecimalParts(ee,Math.max(0,te+it-1))[0]}function formatRounded(ee,te){var ne=formatDecimalParts(ee,te);if(!ne)return ee+"";var xe=ne[0],rt=ne[1];return rt<0?"0."+new Array(-rt).join("0")+xe:xe.length>rt+1?xe.slice(0,rt+1)+"."+xe.slice(rt+1):xe+new Array(rt-xe.length+2).join("0")}const formatTypes={"%":(ee,te)=>(ee*100).toFixed(te),b:ee=>Math.round(ee).toString(2),c:ee=>ee+"",d:formatDecimal,e:(ee,te)=>ee.toExponential(te),f:(ee,te)=>ee.toFixed(te),g:(ee,te)=>ee.toPrecision(te),o:ee=>Math.round(ee).toString(8),p:(ee,te)=>formatRounded(ee*100,te),r:formatRounded,s:formatPrefixAuto,X:ee=>Math.round(ee).toString(16).toUpperCase(),x:ee=>Math.round(ee).toString(16)};function identity$6(ee){return ee}var map$4=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(ee){var te=ee.grouping===void 0||ee.thousands===void 0?identity$6:formatGroup(map$4.call(ee.grouping,Number),ee.thousands+""),ne=ee.currency===void 0?"":ee.currency[0]+"",xe=ee.currency===void 0?"":ee.currency[1]+"",rt=ee.decimal===void 0?".":ee.decimal+"",it=ee.numerals===void 0?identity$6:formatNumerals(map$4.call(ee.numerals,String)),lt=ee.percent===void 0?"%":ee.percent+"",ct=ee.minus===void 0?"":ee.minus+"",ut=ee.nan===void 0?"NaN":ee.nan+"";function dt(ft,pt){ft=formatSpecifier(ft);var mt=ft.fill,xt=ft.align,yt=ft.sign,vt=ft.symbol,Et=ft.zero,_t=ft.width,wt=ft.comma,St=ft.precision,Ct=ft.trim,jt=ft.type;jt==="n"?(wt=!0,jt="g"):formatTypes[jt]||(St===void 0&&(St=12),Ct=!0,jt="g"),(Et||mt==="0"&&xt==="=")&&(Et=!0,mt="0",xt="=");var Rt=(pt&&pt.prefix!==void 0?pt.prefix:"")+(vt==="$"?ne:vt==="#"&&/[boxX]/.test(jt)?"0"+jt.toLowerCase():""),Pt=(vt==="$"?xe:/[%p]/.test(jt)?lt:"")+(pt&&pt.suffix!==void 0?pt.suffix:""),Ot=formatTypes[jt],Ft=/[defgprs%]/.test(jt);St=St===void 0?6:/[gprs]/.test(jt)?Math.max(1,Math.min(21,St)):Math.max(0,Math.min(20,St));function Lt(Bt){var Gt=Rt,It=Pt,qt,Nt,Dt;if(jt==="c")It=Ot(Bt)+It,Bt="";else{Bt=+Bt;var Tt=Bt<0||1/Bt<0;if(Bt=isNaN(Bt)?ut:Ot(Math.abs(Bt),St),Ct&&(Bt=formatTrim(Bt)),Tt&&+Bt==0&&yt!=="+"&&(Tt=!1),Gt=(Tt?yt==="("?yt:ct:yt==="-"||yt==="("?"":yt)+Gt,It=(jt==="s"&&!isNaN(Bt)&&prefixExponent!==void 0?prefixes[8+prefixExponent/3]:"")+It+(Tt&&yt==="("?")":""),Ft){for(qt=-1,Nt=Bt.length;++qt<Nt;)if(Dt=Bt.charCodeAt(qt),48>Dt||Dt>57){It=(Dt===46?rt+Bt.slice(qt+1):Bt.slice(qt))+It,Bt=Bt.slice(0,qt);break}}}wt&&!Et&&(Bt=te(Bt,1/0));var Mt=Gt.length+Bt.length+It.length,$t=Mt<_t?new Array(_t-Mt+1).join(mt):"";switch(wt&&Et&&(Bt=te($t+Bt,$t.length?_t-It.length:1/0),$t=""),xt){case"<":Bt=Gt+Bt+It+$t;break;case"=":Bt=Gt+$t+Bt+It;break;case"^":Bt=$t.slice(0,Mt=$t.length>>1)+Gt+Bt+It+$t.slice(Mt);break;default:Bt=$t+Gt+Bt+It;break}return it(Bt)}return Lt.toString=function(){return ft+""},Lt}function ht(ft,pt){var mt=Math.max(-8,Math.min(8,Math.floor(exponent(pt)/3)))*3,xt=Math.pow(10,-mt),yt=dt((ft=formatSpecifier(ft),ft.type="f",ft),{suffix:prefixes[8+mt/3]});return function(vt){return yt(xt*vt)}}return{format:dt,formatPrefix:ht}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(ee){return locale$1=formatLocale$1(ee),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(ee){return Math.max(0,-exponent(Math.abs(ee)))}function precisionPrefix(ee,te){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(te)/3)))*3-exponent(Math.abs(ee)))}function precisionRound(ee,te){return ee=Math.abs(ee),te=Math.abs(te)-ee,Math.max(0,exponent(te)-exponent(ee))+1}function tickFormat(ee,te,ne,xe){var rt=tickStep(ee,te,ne),it;switch(xe=formatSpecifier(xe??",f"),xe.type){case"s":{var lt=Math.max(Math.abs(ee),Math.abs(te));return xe.precision==null&&!isNaN(it=precisionPrefix(rt,lt))&&(xe.precision=it),formatPrefix(xe,lt)}case"":case"e":case"g":case"p":case"r":{xe.precision==null&&!isNaN(it=precisionRound(rt,Math.max(Math.abs(ee),Math.abs(te))))&&(xe.precision=it-(xe.type==="e"));break}case"f":case"%":{xe.precision==null&&!isNaN(it=precisionFixed(rt))&&(xe.precision=it-(xe.type==="%")*2);break}}return format$1(xe)}function linearish(ee){var te=ee.domain;return ee.ticks=function(ne){var xe=te();return ticks(xe[0],xe[xe.length-1],ne??10)},ee.tickFormat=function(ne,xe){var rt=te();return tickFormat(rt[0],rt[rt.length-1],ne??10,xe)},ee.nice=function(ne){ne==null&&(ne=10);var xe=te(),rt=0,it=xe.length-1,lt=xe[rt],ct=xe[it],ut,dt,ht=10;for(ct<lt&&(dt=lt,lt=ct,ct=dt,dt=rt,rt=it,it=dt);ht-- >0;){if(dt=tickIncrement(lt,ct,ne),dt===ut)return xe[rt]=lt,xe[it]=ct,te(xe);if(dt>0)lt=Math.floor(lt/dt)*dt,ct=Math.ceil(ct/dt)*dt;else if(dt<0)lt=Math.ceil(lt*dt)/dt,ct=Math.floor(ct*dt)/dt;else break;ut=dt}return ee},ee}function linear(){var ee=continuous();return ee.copy=function(){return copy$1(ee,linear())},initRange.apply(ee,arguments),linearish(ee)}function identity$5(ee){var te;function ne(xe){return xe==null||isNaN(xe=+xe)?te:xe}return ne.invert=ne,ne.domain=ne.range=function(xe){return arguments.length?(ee=Array.from(xe,number$2),ne):ee.slice()},ne.unknown=function(xe){return arguments.length?(te=xe,ne):te},ne.copy=function(){return identity$5(ee).unknown(te)},ee=arguments.length?Array.from(ee,number$2):[0,1],linearish(ne)}function nice(ee,te){ee=ee.slice();var ne=0,xe=ee.length-1,rt=ee[ne],it=ee[xe],lt;return it<rt&&(lt=ne,ne=xe,xe=lt,lt=rt,rt=it,it=lt),ee[ne]=te.floor(rt),ee[xe]=te.ceil(it),ee}function transformLog(ee){return Math.log(ee)}function transformExp(ee){return Math.exp(ee)}function transformLogn(ee){return-Math.log(-ee)}function transformExpn(ee){return-Math.exp(-ee)}function pow10(ee){return isFinite(ee)?+("1e"+ee):ee<0?0:ee}function powp(ee){return ee===10?pow10:ee===Math.E?Math.exp:te=>Math.pow(ee,te)}function logp(ee){return ee===Math.E?Math.log:ee===10&&Math.log10||ee===2&&Math.log2||(ee=Math.log(ee),te=>Math.log(te)/ee)}function reflect(ee){return(te,ne)=>-ee(-te,ne)}function loggish(ee){const te=ee(transformLog,transformExp),ne=te.domain;let xe=10,rt,it;function lt(){return rt=logp(xe),it=powp(xe),ne()[0]<0?(rt=reflect(rt),it=reflect(it),ee(transformLogn,transformExpn)):ee(transformLog,transformExp),te}return te.base=function(ct){return arguments.length?(xe=+ct,lt()):xe},te.domain=function(ct){return arguments.length?(ne(ct),lt()):ne()},te.ticks=ct=>{const ut=ne();let dt=ut[0],ht=ut[ut.length-1];const ft=ht<dt;ft&&([dt,ht]=[ht,dt]);let pt=rt(dt),mt=rt(ht),xt,yt;const vt=ct==null?10:+ct;let Et=[];if(!(xe%1)&&mt-pt<vt){if(pt=Math.floor(pt),mt=Math.ceil(mt),dt>0){for(;pt<=mt;++pt)for(xt=1;xt<xe;++xt)if(yt=pt<0?xt/it(-pt):xt*it(pt),!(yt<dt)){if(yt>ht)break;Et.push(yt)}}else for(;pt<=mt;++pt)for(xt=xe-1;xt>=1;--xt)if(yt=pt>0?xt/it(-pt):xt*it(pt),!(yt<dt)){if(yt>ht)break;Et.push(yt)}Et.length*2<vt&&(Et=ticks(dt,ht,vt))}else Et=ticks(pt,mt,Math.min(mt-pt,vt)).map(it);return ft?Et.reverse():Et},te.tickFormat=(ct,ut)=>{if(ct==null&&(ct=10),ut==null&&(ut=xe===10?"s":","),typeof ut!="function"&&(!(xe%1)&&(ut=formatSpecifier(ut)).precision==null&&(ut.trim=!0),ut=format$1(ut)),ct===1/0)return ut;const dt=Math.max(1,xe*ct/te.ticks().length);return ht=>{let ft=ht/it(Math.round(rt(ht)));return ft*xe<xe-.5&&(ft*=xe),ft<=dt?ut(ht):""}},te.nice=()=>ne(nice(ne(),{floor:ct=>it(Math.floor(rt(ct))),ceil:ct=>it(Math.ceil(rt(ct)))})),te}function log$1(){const ee=loggish(transformer$2()).domain([1,10]);return ee.copy=()=>copy$1(ee,log$1()).base(ee.base()),initRange.apply(ee,arguments),ee}function transformSymlog(ee){return function(te){return Math.sign(te)*Math.log1p(Math.abs(te/ee))}}function transformSymexp(ee){return function(te){return Math.sign(te)*Math.expm1(Math.abs(te))*ee}}function symlogish(ee){var te=1,ne=ee(transformSymlog(te),transformSymexp(te));return ne.constant=function(xe){return arguments.length?ee(transformSymlog(te=+xe),transformSymexp(te)):te},linearish(ne)}function symlog(){var ee=symlogish(transformer$2());return ee.copy=function(){return copy$1(ee,symlog()).constant(ee.constant())},initRange.apply(ee,arguments)}function transformPow(ee){return function(te){return te<0?-Math.pow(-te,ee):Math.pow(te,ee)}}function transformSqrt(ee){return ee<0?-Math.sqrt(-ee):Math.sqrt(ee)}function transformSquare(ee){return ee<0?-ee*ee:ee*ee}function powish(ee){var te=ee(identity$7,identity$7),ne=1;function xe(){return ne===1?ee(identity$7,identity$7):ne===.5?ee(transformSqrt,transformSquare):ee(transformPow(ne),transformPow(1/ne))}return te.exponent=function(rt){return arguments.length?(ne=+rt,xe()):ne},linearish(te)}function pow(){var ee=powish(transformer$2());return ee.copy=function(){return copy$1(ee,pow()).exponent(ee.exponent())},initRange.apply(ee,arguments),ee}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(ee){return Math.sign(ee)*ee*ee}function unsquare(ee){return Math.sign(ee)*Math.sqrt(Math.abs(ee))}function radial(){var ee=continuous(),te=[0,1],ne=!1,xe;function rt(it){var lt=unsquare(ee(it));return isNaN(lt)?xe:ne?Math.round(lt):lt}return rt.invert=function(it){return ee.invert(square(it))},rt.domain=function(it){return arguments.length?(ee.domain(it),rt):ee.domain()},rt.range=function(it){return arguments.length?(ee.range((te=Array.from(it,number$2)).map(square)),rt):te.slice()},rt.rangeRound=function(it){return rt.range(it).round(!0)},rt.round=function(it){return arguments.length?(ne=!!it,rt):ne},rt.clamp=function(it){return arguments.length?(ee.clamp(it),rt):ee.clamp()},rt.unknown=function(it){return arguments.length?(xe=it,rt):xe},rt.copy=function(){return radial(ee.domain(),te).round(ne).clamp(ee.clamp()).unknown(xe)},initRange.apply(rt,arguments),linearish(rt)}function quantile(){var ee=[],te=[],ne=[],xe;function rt(){var lt=0,ct=Math.max(1,te.length);for(ne=new Array(ct-1);++lt<ct;)ne[lt-1]=quantileSorted(ee,lt/ct);return it}function it(lt){return lt==null||isNaN(lt=+lt)?xe:te[bisectRight(ne,lt)]}return it.invertExtent=function(lt){var ct=te.indexOf(lt);return ct<0?[NaN,NaN]:[ct>0?ne[ct-1]:ee[0],ct<ne.length?ne[ct]:ee[ee.length-1]]},it.domain=function(lt){if(!arguments.length)return ee.slice();ee=[];for(let ct of lt)ct!=null&&!isNaN(ct=+ct)&&ee.push(ct);return ee.sort(ascending$1),rt()},it.range=function(lt){return arguments.length?(te=Array.from(lt),rt()):te.slice()},it.unknown=function(lt){return arguments.length?(xe=lt,it):xe},it.quantiles=function(){return ne.slice()},it.copy=function(){return quantile().domain(ee).range(te).unknown(xe)},initRange.apply(it,arguments)}function quantize(){var ee=0,te=1,ne=1,xe=[.5],rt=[0,1],it;function lt(ut){return ut!=null&&ut<=ut?rt[bisectRight(xe,ut,0,ne)]:it}function ct(){var ut=-1;for(xe=new Array(ne);++ut<ne;)xe[ut]=((ut+1)*te-(ut-ne)*ee)/(ne+1);return lt}return lt.domain=function(ut){return arguments.length?([ee,te]=ut,ee=+ee,te=+te,ct()):[ee,te]},lt.range=function(ut){return arguments.length?(ne=(rt=Array.from(ut)).length-1,ct()):rt.slice()},lt.invertExtent=function(ut){var dt=rt.indexOf(ut);return dt<0?[NaN,NaN]:dt<1?[ee,xe[0]]:dt>=ne?[xe[ne-1],te]:[xe[dt-1],xe[dt]]},lt.unknown=function(ut){return arguments.length&&(it=ut),lt},lt.thresholds=function(){return xe.slice()},lt.copy=function(){return quantize().domain([ee,te]).range(rt).unknown(it)},initRange.apply(linearish(lt),arguments)}function threshold(){var ee=[.5],te=[0,1],ne,xe=1;function rt(it){return it!=null&&it<=it?te[bisectRight(ee,it,0,xe)]:ne}return rt.domain=function(it){return arguments.length?(ee=Array.from(it),xe=Math.min(ee.length,te.length-1),rt):ee.slice()},rt.range=function(it){return arguments.length?(te=Array.from(it),xe=Math.min(ee.length,te.length-1),rt):te.slice()},rt.invertExtent=function(it){var lt=te.indexOf(it);return[ee[lt-1],ee[lt]]},rt.unknown=function(it){return arguments.length?(ne=it,rt):ne},rt.copy=function(){return threshold().domain(ee).range(te).unknown(ne)},initRange.apply(rt,arguments)}const t0=new Date,t1=new Date;function timeInterval(ee,te,ne,xe){function rt(it){return ee(it=arguments.length===0?new Date:new Date(+it)),it}return rt.floor=it=>(ee(it=new Date(+it)),it),rt.ceil=it=>(ee(it=new Date(it-1)),te(it,1),ee(it),it),rt.round=it=>{const lt=rt(it),ct=rt.ceil(it);return it-lt<ct-it?lt:ct},rt.offset=(it,lt)=>(te(it=new Date(+it),lt==null?1:Math.floor(lt)),it),rt.range=(it,lt,ct)=>{const ut=[];if(it=rt.ceil(it),ct=ct==null?1:Math.floor(ct),!(it<lt)||!(ct>0))return ut;let dt;do ut.push(dt=new Date(+it)),te(it,ct),ee(it);while(dt<it&&it<lt);return ut},rt.filter=it=>timeInterval(lt=>{if(lt>=lt)for(;ee(lt),!it(lt);)lt.setTime(lt-1)},(lt,ct)=>{if(lt>=lt)if(ct<0)for(;++ct<=0;)for(;te(lt,-1),!it(lt););else for(;--ct>=0;)for(;te(lt,1),!it(lt););}),ne&&(rt.count=(it,lt)=>(t0.setTime(+it),t1.setTime(+lt),ee(t0),ee(t1),Math.floor(ne(t0,t1))),rt.every=it=>(it=Math.floor(it),!isFinite(it)||!(it>0)?null:it>1?rt.filter(xe?lt=>xe(lt)%it===0:lt=>rt.count(0,lt)%it===0):rt)),rt}const millisecond=timeInterval(()=>{},(ee,te)=>{ee.setTime(+ee+te)},(ee,te)=>te-ee);millisecond.every=ee=>(ee=Math.floor(ee),!isFinite(ee)||!(ee>0)?null:ee>1?timeInterval(te=>{te.setTime(Math.floor(te/ee)*ee)},(te,ne)=>{te.setTime(+te+ne*ee)},(te,ne)=>(ne-te)/ee):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(ee=>{ee.setTime(ee-ee.getMilliseconds())},(ee,te)=>{ee.setTime(+ee+te*durationSecond)},(ee,te)=>(te-ee)/durationSecond,ee=>ee.getUTCSeconds());second.range;const timeMinute=timeInterval(ee=>{ee.setTime(ee-ee.getMilliseconds()-ee.getSeconds()*durationSecond)},(ee,te)=>{ee.setTime(+ee+te*durationMinute)},(ee,te)=>(te-ee)/durationMinute,ee=>ee.getMinutes());timeMinute.range;const utcMinute=timeInterval(ee=>{ee.setUTCSeconds(0,0)},(ee,te)=>{ee.setTime(+ee+te*durationMinute)},(ee,te)=>(te-ee)/durationMinute,ee=>ee.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(ee=>{ee.setTime(ee-ee.getMilliseconds()-ee.getSeconds()*durationSecond-ee.getMinutes()*durationMinute)},(ee,te)=>{ee.setTime(+ee+te*durationHour)},(ee,te)=>(te-ee)/durationHour,ee=>ee.getHours());timeHour.range;const utcHour=timeInterval(ee=>{ee.setUTCMinutes(0,0,0)},(ee,te)=>{ee.setTime(+ee+te*durationHour)},(ee,te)=>(te-ee)/durationHour,ee=>ee.getUTCHours());utcHour.range;const timeDay=timeInterval(ee=>ee.setHours(0,0,0,0),(ee,te)=>ee.setDate(ee.getDate()+te),(ee,te)=>(te-ee-(te.getTimezoneOffset()-ee.getTimezoneOffset())*durationMinute)/durationDay,ee=>ee.getDate()-1);timeDay.range;const utcDay=timeInterval(ee=>{ee.setUTCHours(0,0,0,0)},(ee,te)=>{ee.setUTCDate(ee.getUTCDate()+te)},(ee,te)=>(te-ee)/durationDay,ee=>ee.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(ee=>{ee.setUTCHours(0,0,0,0)},(ee,te)=>{ee.setUTCDate(ee.getUTCDate()+te)},(ee,te)=>(te-ee)/durationDay,ee=>Math.floor(ee/durationDay));unixDay.range;function timeWeekday(ee){return timeInterval(te=>{te.setDate(te.getDate()-(te.getDay()+7-ee)%7),te.setHours(0,0,0,0)},(te,ne)=>{te.setDate(te.getDate()+ne*7)},(te,ne)=>(ne-te-(ne.getTimezoneOffset()-te.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(ee){return timeInterval(te=>{te.setUTCDate(te.getUTCDate()-(te.getUTCDay()+7-ee)%7),te.setUTCHours(0,0,0,0)},(te,ne)=>{te.setUTCDate(te.getUTCDate()+ne*7)},(te,ne)=>(ne-te)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(ee=>{ee.setDate(1),ee.setHours(0,0,0,0)},(ee,te)=>{ee.setMonth(ee.getMonth()+te)},(ee,te)=>te.getMonth()-ee.getMonth()+(te.getFullYear()-ee.getFullYear())*12,ee=>ee.getMonth());timeMonth.range;const utcMonth=timeInterval(ee=>{ee.setUTCDate(1),ee.setUTCHours(0,0,0,0)},(ee,te)=>{ee.setUTCMonth(ee.getUTCMonth()+te)},(ee,te)=>te.getUTCMonth()-ee.getUTCMonth()+(te.getUTCFullYear()-ee.getUTCFullYear())*12,ee=>ee.getUTCMonth());utcMonth.range;const timeYear=timeInterval(ee=>{ee.setMonth(0,1),ee.setHours(0,0,0,0)},(ee,te)=>{ee.setFullYear(ee.getFullYear()+te)},(ee,te)=>te.getFullYear()-ee.getFullYear(),ee=>ee.getFullYear());timeYear.every=ee=>!isFinite(ee=Math.floor(ee))||!(ee>0)?null:timeInterval(te=>{te.setFullYear(Math.floor(te.getFullYear()/ee)*ee),te.setMonth(0,1),te.setHours(0,0,0,0)},(te,ne)=>{te.setFullYear(te.getFullYear()+ne*ee)});timeYear.range;const utcYear=timeInterval(ee=>{ee.setUTCMonth(0,1),ee.setUTCHours(0,0,0,0)},(ee,te)=>{ee.setUTCFullYear(ee.getUTCFullYear()+te)},(ee,te)=>te.getUTCFullYear()-ee.getUTCFullYear(),ee=>ee.getUTCFullYear());utcYear.every=ee=>!isFinite(ee=Math.floor(ee))||!(ee>0)?null:timeInterval(te=>{te.setUTCFullYear(Math.floor(te.getUTCFullYear()/ee)*ee),te.setUTCMonth(0,1),te.setUTCHours(0,0,0,0)},(te,ne)=>{te.setUTCFullYear(te.getUTCFullYear()+ne*ee)});utcYear.range;function ticker(ee,te,ne,xe,rt,it){const lt=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[it,1,durationMinute],[it,5,5*durationMinute],[it,15,15*durationMinute],[it,30,30*durationMinute],[rt,1,durationHour],[rt,3,3*durationHour],[rt,6,6*durationHour],[rt,12,12*durationHour],[xe,1,durationDay],[xe,2,2*durationDay],[ne,1,durationWeek],[te,1,durationMonth],[te,3,3*durationMonth],[ee,1,durationYear]];function ct(dt,ht,ft){const pt=ht<dt;pt&&([dt,ht]=[ht,dt]);const mt=ft&&typeof ft.range=="function"?ft:ut(dt,ht,ft),xt=mt?mt.range(dt,+ht+1):[];return pt?xt.reverse():xt}function ut(dt,ht,ft){const pt=Math.abs(ht-dt)/ft,mt=bisector(([,,vt])=>vt).right(lt,pt);if(mt===lt.length)return ee.every(tickStep(dt/durationYear,ht/durationYear,ft));if(mt===0)return millisecond.every(Math.max(tickStep(dt,ht,ft),1));const[xt,yt]=lt[pt/lt[mt-1][2]<lt[mt][2]/pt?mt-1:mt];return xt.every(yt)}return[ct,ut]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(ee){if(0<=ee.y&&ee.y<100){var te=new Date(-1,ee.m,ee.d,ee.H,ee.M,ee.S,ee.L);return te.setFullYear(ee.y),te}return new Date(ee.y,ee.m,ee.d,ee.H,ee.M,ee.S,ee.L)}function utcDate(ee){if(0<=ee.y&&ee.y<100){var te=new Date(Date.UTC(-1,ee.m,ee.d,ee.H,ee.M,ee.S,ee.L));return te.setUTCFullYear(ee.y),te}return new Date(Date.UTC(ee.y,ee.m,ee.d,ee.H,ee.M,ee.S,ee.L))}function newDate(ee,te,ne){return{y:ee,m:te,d:ne,H:0,M:0,S:0,L:0}}function formatLocale(ee){var te=ee.dateTime,ne=ee.date,xe=ee.time,rt=ee.periods,it=ee.days,lt=ee.shortDays,ct=ee.months,ut=ee.shortMonths,dt=formatRe(rt),ht=formatLookup(rt),ft=formatRe(it),pt=formatLookup(it),mt=formatRe(lt),xt=formatLookup(lt),yt=formatRe(ct),vt=formatLookup(ct),Et=formatRe(ut),_t=formatLookup(ut),wt={a:Dt,A:Tt,b:Mt,B:$t,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Ht,q:Wt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},St={a:Vt,A:Yt,b:Qt,B:ar,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Xt,q:tr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Ct={a:Ft,A:Lt,b:Bt,B:Gt,c:It,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Ot,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:qt,X:Nt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};wt.x=jt(ne,wt),wt.X=jt(xe,wt),wt.c=jt(te,wt),St.x=jt(ne,St),St.X=jt(xe,St),St.c=jt(te,St);function jt(rr,ur){return function(Jt){var Zt=[],or=-1,dr=0,Ar=rr.length,Nr,Mr,Gr;for(Jt instanceof Date||(Jt=new Date(+Jt));++or<Ar;)rr.charCodeAt(or)===37&&(Zt.push(rr.slice(dr,or)),(Mr=pads[Nr=rr.charAt(++or)])!=null?Nr=rr.charAt(++or):Mr=Nr==="e"?" ":"0",(Gr=ur[Nr])&&(Nr=Gr(Jt,Mr)),Zt.push(Nr),dr=or+1);return Zt.push(rr.slice(dr,or)),Zt.join("")}}function Rt(rr,ur){return function(Jt){var Zt=newDate(1900,void 0,1),or=Pt(Zt,rr,Jt+="",0),dr,Ar;if(or!=Jt.length)return null;if("Q"in Zt)return new Date(Zt.Q);if("s"in Zt)return new Date(Zt.s*1e3+("L"in Zt?Zt.L:0));if(ur&&!("Z"in Zt)&&(Zt.Z=0),"p"in Zt&&(Zt.H=Zt.H%12+Zt.p*12),Zt.m===void 0&&(Zt.m="q"in Zt?Zt.q:0),"V"in Zt){if(Zt.V<1||Zt.V>53)return null;"w"in Zt||(Zt.w=1),"Z"in Zt?(dr=utcDate(newDate(Zt.y,0,1)),Ar=dr.getUTCDay(),dr=Ar>4||Ar===0?utcMonday.ceil(dr):utcMonday(dr),dr=utcDay.offset(dr,(Zt.V-1)*7),Zt.y=dr.getUTCFullYear(),Zt.m=dr.getUTCMonth(),Zt.d=dr.getUTCDate()+(Zt.w+6)%7):(dr=localDate(newDate(Zt.y,0,1)),Ar=dr.getDay(),dr=Ar>4||Ar===0?timeMonday.ceil(dr):timeMonday(dr),dr=timeDay.offset(dr,(Zt.V-1)*7),Zt.y=dr.getFullYear(),Zt.m=dr.getMonth(),Zt.d=dr.getDate()+(Zt.w+6)%7)}else("W"in Zt||"U"in Zt)&&("w"in Zt||(Zt.w="u"in Zt?Zt.u%7:"W"in Zt?1:0),Ar="Z"in Zt?utcDate(newDate(Zt.y,0,1)).getUTCDay():localDate(newDate(Zt.y,0,1)).getDay(),Zt.m=0,Zt.d="W"in Zt?(Zt.w+6)%7+Zt.W*7-(Ar+5)%7:Zt.w+Zt.U*7-(Ar+6)%7);return"Z"in Zt?(Zt.H+=Zt.Z/100|0,Zt.M+=Zt.Z%100,utcDate(Zt)):localDate(Zt)}}function Pt(rr,ur,Jt,Zt){for(var or=0,dr=ur.length,Ar=Jt.length,Nr,Mr;or<dr;){if(Zt>=Ar)return-1;if(Nr=ur.charCodeAt(or++),Nr===37){if(Nr=ur.charAt(or++),Mr=Ct[Nr in pads?ur.charAt(or++):Nr],!Mr||(Zt=Mr(rr,Jt,Zt))<0)return-1}else if(Nr!=Jt.charCodeAt(Zt++))return-1}return Zt}function Ot(rr,ur,Jt){var Zt=dt.exec(ur.slice(Jt));return Zt?(rr.p=ht.get(Zt[0].toLowerCase()),Jt+Zt[0].length):-1}function Ft(rr,ur,Jt){var Zt=mt.exec(ur.slice(Jt));return Zt?(rr.w=xt.get(Zt[0].toLowerCase()),Jt+Zt[0].length):-1}function Lt(rr,ur,Jt){var Zt=ft.exec(ur.slice(Jt));return Zt?(rr.w=pt.get(Zt[0].toLowerCase()),Jt+Zt[0].length):-1}function Bt(rr,ur,Jt){var Zt=Et.exec(ur.slice(Jt));return Zt?(rr.m=_t.get(Zt[0].toLowerCase()),Jt+Zt[0].length):-1}function Gt(rr,ur,Jt){var Zt=yt.exec(ur.slice(Jt));return Zt?(rr.m=vt.get(Zt[0].toLowerCase()),Jt+Zt[0].length):-1}function It(rr,ur,Jt){return Pt(rr,te,ur,Jt)}function qt(rr,ur,Jt){return Pt(rr,ne,ur,Jt)}function Nt(rr,ur,Jt){return Pt(rr,xe,ur,Jt)}function Dt(rr){return lt[rr.getDay()]}function Tt(rr){return it[rr.getDay()]}function Mt(rr){return ut[rr.getMonth()]}function $t(rr){return ct[rr.getMonth()]}function Ht(rr){return rt[+(rr.getHours()>=12)]}function Wt(rr){return 1+~~(rr.getMonth()/3)}function Vt(rr){return lt[rr.getUTCDay()]}function Yt(rr){return it[rr.getUTCDay()]}function Qt(rr){return ut[rr.getUTCMonth()]}function ar(rr){return ct[rr.getUTCMonth()]}function Xt(rr){return rt[+(rr.getUTCHours()>=12)]}function tr(rr){return 1+~~(rr.getUTCMonth()/3)}return{format:function(rr){var ur=jt(rr+="",wt);return ur.toString=function(){return rr},ur},parse:function(rr){var ur=Rt(rr+="",!1);return ur.toString=function(){return rr},ur},utcFormat:function(rr){var ur=jt(rr+="",St);return ur.toString=function(){return rr},ur},utcParse:function(rr){var ur=Rt(rr+="",!0);return ur.toString=function(){return rr},ur}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(ee,te,ne){var xe=ee<0?"-":"",rt=(xe?-ee:ee)+"",it=rt.length;return xe+(it<ne?new Array(ne-it+1).join(te)+rt:rt)}function requote(ee){return ee.replace(requoteRe,"\\$&")}function formatRe(ee){return new RegExp("^(?:"+ee.map(requote).join("|")+")","i")}function formatLookup(ee){return new Map(ee.map((te,ne)=>[te.toLowerCase(),ne]))}function parseWeekdayNumberSunday(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+1));return xe?(ee.w=+xe[0],ne+xe[0].length):-1}function parseWeekdayNumberMonday(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+1));return xe?(ee.u=+xe[0],ne+xe[0].length):-1}function parseWeekNumberSunday(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.U=+xe[0],ne+xe[0].length):-1}function parseWeekNumberISO(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.V=+xe[0],ne+xe[0].length):-1}function parseWeekNumberMonday(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.W=+xe[0],ne+xe[0].length):-1}function parseFullYear(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+4));return xe?(ee.y=+xe[0],ne+xe[0].length):-1}function parseYear(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.y=+xe[0]+(+xe[0]>68?1900:2e3),ne+xe[0].length):-1}function parseZone(ee,te,ne){var xe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(te.slice(ne,ne+6));return xe?(ee.Z=xe[1]?0:-(xe[2]+(xe[3]||"00")),ne+xe[0].length):-1}function parseQuarter(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+1));return xe?(ee.q=xe[0]*3-3,ne+xe[0].length):-1}function parseMonthNumber(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.m=xe[0]-1,ne+xe[0].length):-1}function parseDayOfMonth(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.d=+xe[0],ne+xe[0].length):-1}function parseDayOfYear(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+3));return xe?(ee.m=0,ee.d=+xe[0],ne+xe[0].length):-1}function parseHour24(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.H=+xe[0],ne+xe[0].length):-1}function parseMinutes(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.M=+xe[0],ne+xe[0].length):-1}function parseSeconds(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+2));return xe?(ee.S=+xe[0],ne+xe[0].length):-1}function parseMilliseconds(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+3));return xe?(ee.L=+xe[0],ne+xe[0].length):-1}function parseMicroseconds(ee,te,ne){var xe=numberRe.exec(te.slice(ne,ne+6));return xe?(ee.L=Math.floor(xe[0]/1e3),ne+xe[0].length):-1}function parseLiteralPercent(ee,te,ne){var xe=percentRe.exec(te.slice(ne,ne+1));return xe?ne+xe[0].length:-1}function parseUnixTimestamp(ee,te,ne){var xe=numberRe.exec(te.slice(ne));return xe?(ee.Q=+xe[0],ne+xe[0].length):-1}function parseUnixTimestampSeconds(ee,te,ne){var xe=numberRe.exec(te.slice(ne));return xe?(ee.s=+xe[0],ne+xe[0].length):-1}function formatDayOfMonth(ee,te){return pad$1(ee.getDate(),te,2)}function formatHour24(ee,te){return pad$1(ee.getHours(),te,2)}function formatHour12(ee,te){return pad$1(ee.getHours()%12||12,te,2)}function formatDayOfYear(ee,te){return pad$1(1+timeDay.count(timeYear(ee),ee),te,3)}function formatMilliseconds(ee,te){return pad$1(ee.getMilliseconds(),te,3)}function formatMicroseconds(ee,te){return formatMilliseconds(ee,te)+"000"}function formatMonthNumber(ee,te){return pad$1(ee.getMonth()+1,te,2)}function formatMinutes(ee,te){return pad$1(ee.getMinutes(),te,2)}function formatSeconds(ee,te){return pad$1(ee.getSeconds(),te,2)}function formatWeekdayNumberMonday(ee){var te=ee.getDay();return te===0?7:te}function formatWeekNumberSunday(ee,te){return pad$1(timeSunday.count(timeYear(ee)-1,ee),te,2)}function dISO(ee){var te=ee.getDay();return te>=4||te===0?timeThursday(ee):timeThursday.ceil(ee)}function formatWeekNumberISO(ee,te){return ee=dISO(ee),pad$1(timeThursday.count(timeYear(ee),ee)+(timeYear(ee).getDay()===4),te,2)}function formatWeekdayNumberSunday(ee){return ee.getDay()}function formatWeekNumberMonday(ee,te){return pad$1(timeMonday.count(timeYear(ee)-1,ee),te,2)}function formatYear(ee,te){return pad$1(ee.getFullYear()%100,te,2)}function formatYearISO(ee,te){return ee=dISO(ee),pad$1(ee.getFullYear()%100,te,2)}function formatFullYear(ee,te){return pad$1(ee.getFullYear()%1e4,te,4)}function formatFullYearISO(ee,te){var ne=ee.getDay();return ee=ne>=4||ne===0?timeThursday(ee):timeThursday.ceil(ee),pad$1(ee.getFullYear()%1e4,te,4)}function formatZone(ee){var te=ee.getTimezoneOffset();return(te>0?"-":(te*=-1,"+"))+pad$1(te/60|0,"0",2)+pad$1(te%60,"0",2)}function formatUTCDayOfMonth(ee,te){return pad$1(ee.getUTCDate(),te,2)}function formatUTCHour24(ee,te){return pad$1(ee.getUTCHours(),te,2)}function formatUTCHour12(ee,te){return pad$1(ee.getUTCHours()%12||12,te,2)}function formatUTCDayOfYear(ee,te){return pad$1(1+utcDay.count(utcYear(ee),ee),te,3)}function formatUTCMilliseconds(ee,te){return pad$1(ee.getUTCMilliseconds(),te,3)}function formatUTCMicroseconds(ee,te){return formatUTCMilliseconds(ee,te)+"000"}function formatUTCMonthNumber(ee,te){return pad$1(ee.getUTCMonth()+1,te,2)}function formatUTCMinutes(ee,te){return pad$1(ee.getUTCMinutes(),te,2)}function formatUTCSeconds(ee,te){return pad$1(ee.getUTCSeconds(),te,2)}function formatUTCWeekdayNumberMonday(ee){var te=ee.getUTCDay();return te===0?7:te}function formatUTCWeekNumberSunday(ee,te){return pad$1(utcSunday.count(utcYear(ee)-1,ee),te,2)}function UTCdISO(ee){var te=ee.getUTCDay();return te>=4||te===0?utcThursday(ee):utcThursday.ceil(ee)}function formatUTCWeekNumberISO(ee,te){return ee=UTCdISO(ee),pad$1(utcThursday.count(utcYear(ee),ee)+(utcYear(ee).getUTCDay()===4),te,2)}function formatUTCWeekdayNumberSunday(ee){return ee.getUTCDay()}function formatUTCWeekNumberMonday(ee,te){return pad$1(utcMonday.count(utcYear(ee)-1,ee),te,2)}function formatUTCYear(ee,te){return pad$1(ee.getUTCFullYear()%100,te,2)}function formatUTCYearISO(ee,te){return ee=UTCdISO(ee),pad$1(ee.getUTCFullYear()%100,te,2)}function formatUTCFullYear(ee,te){return pad$1(ee.getUTCFullYear()%1e4,te,4)}function formatUTCFullYearISO(ee,te){var ne=ee.getUTCDay();return ee=ne>=4||ne===0?utcThursday(ee):utcThursday.ceil(ee),pad$1(ee.getUTCFullYear()%1e4,te,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(ee){return+ee}function formatUnixTimestampSeconds(ee){return Math.floor(+ee/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(ee){return locale=formatLocale(ee),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(ee){return new Date(ee)}function number$1(ee){return ee instanceof Date?+ee:+new Date(+ee)}function calendar(ee,te,ne,xe,rt,it,lt,ct,ut,dt){var ht=continuous(),ft=ht.invert,pt=ht.domain,mt=dt(".%L"),xt=dt(":%S"),yt=dt("%I:%M"),vt=dt("%I %p"),Et=dt("%a %d"),_t=dt("%b %d"),wt=dt("%B"),St=dt("%Y");function Ct(jt){return(ut(jt)<jt?mt:ct(jt)<jt?xt:lt(jt)<jt?yt:it(jt)<jt?vt:xe(jt)<jt?rt(jt)<jt?Et:_t:ne(jt)<jt?wt:St)(jt)}return ht.invert=function(jt){return new Date(ft(jt))},ht.domain=function(jt){return arguments.length?pt(Array.from(jt,number$1)):pt().map(date)},ht.ticks=function(jt){var Rt=pt();return ee(Rt[0],Rt[Rt.length-1],jt??10)},ht.tickFormat=function(jt,Rt){return Rt==null?Ct:dt(Rt)},ht.nice=function(jt){var Rt=pt();return(!jt||typeof jt.range!="function")&&(jt=te(Rt[0],Rt[Rt.length-1],jt??10)),jt?pt(nice(Rt,jt)):ht},ht.copy=function(){return copy$1(ht,calendar(ee,te,ne,xe,rt,it,lt,ct,ut,dt))},ht}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var ee=0,te=1,ne,xe,rt,it,lt=identity$7,ct=!1,ut;function dt(ft){return ft==null||isNaN(ft=+ft)?ut:lt(rt===0?.5:(ft=(it(ft)-ne)*rt,ct?Math.max(0,Math.min(1,ft)):ft))}dt.domain=function(ft){return arguments.length?([ee,te]=ft,ne=it(ee=+ee),xe=it(te=+te),rt=ne===xe?0:1/(xe-ne),dt):[ee,te]},dt.clamp=function(ft){return arguments.length?(ct=!!ft,dt):ct},dt.interpolator=function(ft){return arguments.length?(lt=ft,dt):lt};function ht(ft){return function(pt){var mt,xt;return arguments.length?([mt,xt]=pt,lt=ft(mt,xt),dt):[lt(0),lt(1)]}}return dt.range=ht(interpolate$1),dt.rangeRound=ht(interpolateRound),dt.unknown=function(ft){return arguments.length?(ut=ft,dt):ut},function(ft){return it=ft,ne=ft(ee),xe=ft(te),rt=ne===xe?0:1/(xe-ne),dt}}function copy(ee,te){return te.domain(ee.domain()).interpolator(ee.interpolator()).clamp(ee.clamp()).unknown(ee.unknown())}function sequential(){var ee=linearish(transformer$1()(identity$7));return ee.copy=function(){return copy(ee,sequential())},initInterpolator.apply(ee,arguments)}function sequentialLog(){var ee=loggish(transformer$1()).domain([1,10]);return ee.copy=function(){return copy(ee,sequentialLog()).base(ee.base())},initInterpolator.apply(ee,arguments)}function sequentialSymlog(){var ee=symlogish(transformer$1());return ee.copy=function(){return copy(ee,sequentialSymlog()).constant(ee.constant())},initInterpolator.apply(ee,arguments)}function sequentialPow(){var ee=powish(transformer$1());return ee.copy=function(){return copy(ee,sequentialPow()).exponent(ee.exponent())},initInterpolator.apply(ee,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var ee=[],te=identity$7;function ne(xe){if(xe!=null&&!isNaN(xe=+xe))return te((bisectRight(ee,xe,1)-1)/(ee.length-1))}return ne.domain=function(xe){if(!arguments.length)return ee.slice();ee=[];for(let rt of xe)rt!=null&&!isNaN(rt=+rt)&&ee.push(rt);return ee.sort(ascending$1),ne},ne.interpolator=function(xe){return arguments.length?(te=xe,ne):te},ne.range=function(){return ee.map((xe,rt)=>te(rt/(ee.length-1)))},ne.quantiles=function(xe){return Array.from({length:xe+1},(rt,it)=>quantile$1(ee,it/xe))},ne.copy=function(){return sequentialQuantile(te).domain(ee)},initInterpolator.apply(ne,arguments)}function transformer(){var ee=0,te=.5,ne=1,xe=1,rt,it,lt,ct,ut,dt=identity$7,ht,ft=!1,pt;function mt(yt){return isNaN(yt=+yt)?pt:(yt=.5+((yt=+ht(yt))-it)*(xe*yt<xe*it?ct:ut),dt(ft?Math.max(0,Math.min(1,yt)):yt))}mt.domain=function(yt){return arguments.length?([ee,te,ne]=yt,rt=ht(ee=+ee),it=ht(te=+te),lt=ht(ne=+ne),ct=rt===it?0:.5/(it-rt),ut=it===lt?0:.5/(lt-it),xe=it<rt?-1:1,mt):[ee,te,ne]},mt.clamp=function(yt){return arguments.length?(ft=!!yt,mt):ft},mt.interpolator=function(yt){return arguments.length?(dt=yt,mt):dt};function xt(yt){return function(vt){var Et,_t,wt;return arguments.length?([Et,_t,wt]=vt,dt=piecewise(yt,[Et,_t,wt]),mt):[dt(0),dt(.5),dt(1)]}}return mt.range=xt(interpolate$1),mt.rangeRound=xt(interpolateRound),mt.unknown=function(yt){return arguments.length?(pt=yt,mt):pt},function(yt){return ht=yt,rt=yt(ee),it=yt(te),lt=yt(ne),ct=rt===it?0:.5/(it-rt),ut=it===lt?0:.5/(lt-it),xe=it<rt?-1:1,mt}}function diverging(){var ee=linearish(transformer()(identity$7));return ee.copy=function(){return copy(ee,diverging())},initInterpolator.apply(ee,arguments)}function divergingLog(){var ee=loggish(transformer()).domain([.1,1,10]);return ee.copy=function(){return copy(ee,divergingLog()).base(ee.base())},initInterpolator.apply(ee,arguments)}function divergingSymlog(){var ee=symlogish(transformer());return ee.copy=function(){return copy(ee,divergingSymlog()).constant(ee.constant())},initInterpolator.apply(ee,arguments)}function divergingPow(){var ee=powish(transformer());return ee.copy=function(){return copy(ee,divergingPow()).exponent(ee.exponent())},initInterpolator.apply(ee,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$5,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log$1,scaleOrdinal:ordinal,scalePoint:point$4,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var ee=requireIsSymbol();function te(ne,xe,rt){for(var it=-1,lt=ne.length;++it<lt;){var ct=ne[it],ut=xe(ct);if(ut!=null&&(dt===void 0?ut===ut&&!ee(ut):rt(ut,dt)))var dt=ut,ht=ct}return ht}return _baseExtremum=te,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function ee(te,ne){return te>ne}return _baseGt=ee,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var ee=require_baseExtremum(),te=require_baseGt(),ne=requireIdentity();function xe(rt){return rt&&rt.length?ee(rt,ne,te):void 0}return max_1=xe,max_1}var maxExports=requireMax();const max=getDefaultExportFromCjs(maxExports);var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function ee(te,ne){return te<ne}return _baseLt=ee,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var ee=require_baseExtremum(),te=require_baseLt(),ne=requireIdentity();function xe(rt){return rt&&rt.length?ee(rt,ne,te):void 0}return min_1=xe,min_1}var minExports=requireMin();const min=getDefaultExportFromCjs(minExports);var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var ee=require_arrayMap(),te=require_baseIteratee(),ne=require_baseMap(),xe=requireIsArray();function rt(it,lt){var ct=xe(it)?ee:ne;return ct(it,te(lt,3))}return map_1=rt,map_1}var flatMap_1,hasRequiredFlatMap;function requireFlatMap(){if(hasRequiredFlatMap)return flatMap_1;hasRequiredFlatMap=1;var ee=require_baseFlatten(),te=requireMap();function ne(xe,rt){return ee(te(xe,rt),1)}return flatMap_1=ne,flatMap_1}var flatMapExports=requireFlatMap();const flatMap=getDefaultExportFromCjs(flatMapExports);var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var ee=require_baseIsEqual();function te(ne,xe){return ee(ne,xe)}return isEqual_1=te,isEqual_1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER$2=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER$2/LOG_BASE),P$2={};P$2.absoluteValue=P$2.abs=function(){var ee=new this.constructor(this);return ee.s&&(ee.s=1),ee};P$2.comparedTo=P$2.cmp=function(ee){var te,ne,xe,rt,it=this;if(ee=new it.constructor(ee),it.s!==ee.s)return it.s||-ee.s;if(it.e!==ee.e)return it.e>ee.e^it.s<0?1:-1;for(xe=it.d.length,rt=ee.d.length,te=0,ne=xe<rt?xe:rt;te<ne;++te)if(it.d[te]!==ee.d[te])return it.d[te]>ee.d[te]^it.s<0?1:-1;return xe===rt?0:xe>rt^it.s<0?1:-1};P$2.decimalPlaces=P$2.dp=function(){var ee=this,te=ee.d.length-1,ne=(te-ee.e)*LOG_BASE;if(te=ee.d[te],te)for(;te%10==0;te/=10)ne--;return ne<0?0:ne};P$2.dividedBy=P$2.div=function(ee){return divide(this,new this.constructor(ee))};P$2.dividedToIntegerBy=P$2.idiv=function(ee){var te=this,ne=te.constructor;return round(divide(te,new ne(ee),0,1),ne.precision)};P$2.equals=P$2.eq=function(ee){return!this.cmp(ee)};P$2.exponent=function(){return getBase10Exponent(this)};P$2.greaterThan=P$2.gt=function(ee){return this.cmp(ee)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(ee){return this.cmp(ee)>=0};P$2.isInteger=P$2.isint=function(){return this.e>this.d.length-2};P$2.isNegative=P$2.isneg=function(){return this.s<0};P$2.isPositive=P$2.ispos=function(){return this.s>0};P$2.isZero=function(){return this.s===0};P$2.lessThan=P$2.lt=function(ee){return this.cmp(ee)<0};P$2.lessThanOrEqualTo=P$2.lte=function(ee){return this.cmp(ee)<1};P$2.logarithm=P$2.log=function(ee){var te,ne=this,xe=ne.constructor,rt=xe.precision,it=rt+5;if(ee===void 0)ee=new xe(10);else if(ee=new xe(ee),ee.s<1||ee.eq(ONE))throw Error(decimalError+"NaN");if(ne.s<1)throw Error(decimalError+(ne.s?"NaN":"-Infinity"));return ne.eq(ONE)?new xe(0):(external=!1,te=divide(ln(ne,it),ln(ee,it),it),external=!0,round(te,rt))};P$2.minus=P$2.sub=function(ee){var te=this;return ee=new te.constructor(ee),te.s==ee.s?subtract(te,ee):add(te,(ee.s=-ee.s,ee))};P$2.modulo=P$2.mod=function(ee){var te,ne=this,xe=ne.constructor,rt=xe.precision;if(ee=new xe(ee),!ee.s)throw Error(decimalError+"NaN");return ne.s?(external=!1,te=divide(ne,ee,0,1).times(ee),external=!0,ne.minus(te)):round(new xe(ne),rt)};P$2.naturalExponential=P$2.exp=function(){return exp(this)};P$2.naturalLogarithm=P$2.ln=function(){return ln(this)};P$2.negated=P$2.neg=function(){var ee=new this.constructor(this);return ee.s=-ee.s||0,ee};P$2.plus=P$2.add=function(ee){var te=this;return ee=new te.constructor(ee),te.s==ee.s?add(te,ee):subtract(te,(ee.s=-ee.s,ee))};P$2.precision=P$2.sd=function(ee){var te,ne,xe,rt=this;if(ee!==void 0&&ee!==!!ee&&ee!==1&&ee!==0)throw Error(invalidArgument+ee);if(te=getBase10Exponent(rt)+1,xe=rt.d.length-1,ne=xe*LOG_BASE+1,xe=rt.d[xe],xe){for(;xe%10==0;xe/=10)ne--;for(xe=rt.d[0];xe>=10;xe/=10)ne++}return ee&&te>ne?te:ne};P$2.squareRoot=P$2.sqrt=function(){var ee,te,ne,xe,rt,it,lt,ct=this,ut=ct.constructor;if(ct.s<1){if(!ct.s)return new ut(0);throw Error(decimalError+"NaN")}for(ee=getBase10Exponent(ct),external=!1,rt=Math.sqrt(+ct),rt==0||rt==1/0?(te=digitsToString(ct.d),(te.length+ee)%2==0&&(te+="0"),rt=Math.sqrt(te),ee=mathfloor((ee+1)/2)-(ee<0||ee%2),rt==1/0?te="5e"+ee:(te=rt.toExponential(),te=te.slice(0,te.indexOf("e")+1)+ee),xe=new ut(te)):xe=new ut(rt.toString()),ne=ut.precision,rt=lt=ne+3;;)if(it=xe,xe=it.plus(divide(ct,it,lt+2)).times(.5),digitsToString(it.d).slice(0,lt)===(te=digitsToString(xe.d)).slice(0,lt)){if(te=te.slice(lt-3,lt+1),rt==lt&&te=="4999"){if(round(it,ne+1,0),it.times(it).eq(ct)){xe=it;break}}else if(te!="9999")break;lt+=4}return external=!0,round(xe,ne)};P$2.times=P$2.mul=function(ee){var te,ne,xe,rt,it,lt,ct,ut,dt,ht=this,ft=ht.constructor,pt=ht.d,mt=(ee=new ft(ee)).d;if(!ht.s||!ee.s)return new ft(0);for(ee.s*=ht.s,ne=ht.e+ee.e,ut=pt.length,dt=mt.length,ut<dt&&(it=pt,pt=mt,mt=it,lt=ut,ut=dt,dt=lt),it=[],lt=ut+dt,xe=lt;xe--;)it.push(0);for(xe=dt;--xe>=0;){for(te=0,rt=ut+xe;rt>xe;)ct=it[rt]+mt[xe]*pt[rt-xe-1]+te,it[rt--]=ct%BASE|0,te=ct/BASE|0;it[rt]=(it[rt]+te)%BASE|0}for(;!it[--lt];)it.pop();return te?++ne:it.shift(),ee.d=it,ee.e=ne,external?round(ee,ft.precision):ee};P$2.toDecimalPlaces=P$2.todp=function(ee,te){var ne=this,xe=ne.constructor;return ne=new xe(ne),ee===void 0?ne:(checkInt32(ee,0,MAX_DIGITS),te===void 0?te=xe.rounding:checkInt32(te,0,8),round(ne,ee+getBase10Exponent(ne)+1,te))};P$2.toExponential=function(ee,te){var ne,xe=this,rt=xe.constructor;return ee===void 0?ne=toString$3(xe,!0):(checkInt32(ee,0,MAX_DIGITS),te===void 0?te=rt.rounding:checkInt32(te,0,8),xe=round(new rt(xe),ee+1,te),ne=toString$3(xe,!0,ee+1)),ne};P$2.toFixed=function(ee,te){var ne,xe,rt=this,it=rt.constructor;return ee===void 0?toString$3(rt):(checkInt32(ee,0,MAX_DIGITS),te===void 0?te=it.rounding:checkInt32(te,0,8),xe=round(new it(rt),ee+getBase10Exponent(rt)+1,te),ne=toString$3(xe.abs(),!1,ee+getBase10Exponent(xe)+1),rt.isneg()&&!rt.isZero()?"-"+ne:ne)};P$2.toInteger=P$2.toint=function(){var ee=this,te=ee.constructor;return round(new te(ee),getBase10Exponent(ee)+1,te.rounding)};P$2.toNumber=function(){return+this};P$2.toPower=P$2.pow=function(ee){var te,ne,xe,rt,it,lt,ct=this,ut=ct.constructor,dt=12,ht=+(ee=new ut(ee));if(!ee.s)return new ut(ONE);if(ct=new ut(ct),!ct.s){if(ee.s<1)throw Error(decimalError+"Infinity");return ct}if(ct.eq(ONE))return ct;if(xe=ut.precision,ee.eq(ONE))return round(ct,xe);if(te=ee.e,ne=ee.d.length-1,lt=te>=ne,it=ct.s,lt){if((ne=ht<0?-ht:ht)<=MAX_SAFE_INTEGER$2){for(rt=new ut(ONE),te=Math.ceil(xe/LOG_BASE+4),external=!1;ne%2&&(rt=rt.times(ct),truncate(rt.d,te)),ne=mathfloor(ne/2),ne!==0;)ct=ct.times(ct),truncate(ct.d,te);return external=!0,ee.s<0?new ut(ONE).div(rt):round(rt,xe)}}else if(it<0)throw Error(decimalError+"NaN");return it=it<0&&ee.d[Math.max(te,ne)]&1?-1:1,ct.s=1,external=!1,rt=ee.times(ln(ct,xe+dt)),external=!0,rt=exp(rt),rt.s=it,rt};P$2.toPrecision=function(ee,te){var ne,xe,rt=this,it=rt.constructor;return ee===void 0?(ne=getBase10Exponent(rt),xe=toString$3(rt,ne<=it.toExpNeg||ne>=it.toExpPos)):(checkInt32(ee,1,MAX_DIGITS),te===void 0?te=it.rounding:checkInt32(te,0,8),rt=round(new it(rt),ee,te),ne=getBase10Exponent(rt),xe=toString$3(rt,ee<=ne||ne<=it.toExpNeg,ee)),xe};P$2.toSignificantDigits=P$2.tosd=function(ee,te){var ne=this,xe=ne.constructor;return ee===void 0?(ee=xe.precision,te=xe.rounding):(checkInt32(ee,1,MAX_DIGITS),te===void 0?te=xe.rounding:checkInt32(te,0,8)),round(new xe(ne),ee,te)};P$2.toString=P$2.valueOf=P$2.val=P$2.toJSON=P$2[Symbol.for("nodejs.util.inspect.custom")]=function(){var ee=this,te=getBase10Exponent(ee),ne=ee.constructor;return toString$3(ee,te<=ne.toExpNeg||te>=ne.toExpPos)};function add(ee,te){var ne,xe,rt,it,lt,ct,ut,dt,ht=ee.constructor,ft=ht.precision;if(!ee.s||!te.s)return te.s||(te=new ht(ee)),external?round(te,ft):te;if(ut=ee.d,dt=te.d,lt=ee.e,rt=te.e,ut=ut.slice(),it=lt-rt,it){for(it<0?(xe=ut,it=-it,ct=dt.length):(xe=dt,rt=lt,ct=ut.length),lt=Math.ceil(ft/LOG_BASE),ct=lt>ct?lt+1:ct+1,it>ct&&(it=ct,xe.length=1),xe.reverse();it--;)xe.push(0);xe.reverse()}for(ct=ut.length,it=dt.length,ct-it<0&&(it=ct,xe=dt,dt=ut,ut=xe),ne=0;it;)ne=(ut[--it]=ut[it]+dt[it]+ne)/BASE|0,ut[it]%=BASE;for(ne&&(ut.unshift(ne),++rt),ct=ut.length;ut[--ct]==0;)ut.pop();return te.d=ut,te.e=rt,external?round(te,ft):te}function checkInt32(ee,te,ne){if(ee!==~~ee||ee<te||ee>ne)throw Error(invalidArgument+ee)}function digitsToString(ee){var te,ne,xe,rt=ee.length-1,it="",lt=ee[0];if(rt>0){for(it+=lt,te=1;te<rt;te++)xe=ee[te]+"",ne=LOG_BASE-xe.length,ne&&(it+=getZeroString(ne)),it+=xe;lt=ee[te],xe=lt+"",ne=LOG_BASE-xe.length,ne&&(it+=getZeroString(ne))}else if(lt===0)return"0";for(;lt%10===0;)lt/=10;return it+lt}var divide=(function(){function ee(xe,rt){var it,lt=0,ct=xe.length;for(xe=xe.slice();ct--;)it=xe[ct]*rt+lt,xe[ct]=it%BASE|0,lt=it/BASE|0;return lt&&xe.unshift(lt),xe}function te(xe,rt,it,lt){var ct,ut;if(it!=lt)ut=it>lt?1:-1;else for(ct=ut=0;ct<it;ct++)if(xe[ct]!=rt[ct]){ut=xe[ct]>rt[ct]?1:-1;break}return ut}function ne(xe,rt,it){for(var lt=0;it--;)xe[it]-=lt,lt=xe[it]<rt[it]?1:0,xe[it]=lt*BASE+xe[it]-rt[it];for(;!xe[0]&&xe.length>1;)xe.shift()}return function(xe,rt,it,lt){var ct,ut,dt,ht,ft,pt,mt,xt,yt,vt,Et,_t,wt,St,Ct,jt,Rt,Pt,Ot=xe.constructor,Ft=xe.s==rt.s?1:-1,Lt=xe.d,Bt=rt.d;if(!xe.s)return new Ot(xe);if(!rt.s)throw Error(decimalError+"Division by zero");for(ut=xe.e-rt.e,Rt=Bt.length,Ct=Lt.length,mt=new Ot(Ft),xt=mt.d=[],dt=0;Bt[dt]==(Lt[dt]||0);)++dt;if(Bt[dt]>(Lt[dt]||0)&&--ut,it==null?_t=it=Ot.precision:lt?_t=it+(getBase10Exponent(xe)-getBase10Exponent(rt))+1:_t=it,_t<0)return new Ot(0);if(_t=_t/LOG_BASE+2|0,dt=0,Rt==1)for(ht=0,Bt=Bt[0],_t++;(dt<Ct||ht)&&_t--;dt++)wt=ht*BASE+(Lt[dt]||0),xt[dt]=wt/Bt|0,ht=wt%Bt|0;else{for(ht=BASE/(Bt[0]+1)|0,ht>1&&(Bt=ee(Bt,ht),Lt=ee(Lt,ht),Rt=Bt.length,Ct=Lt.length),St=Rt,yt=Lt.slice(0,Rt),vt=yt.length;vt<Rt;)yt[vt++]=0;Pt=Bt.slice(),Pt.unshift(0),jt=Bt[0],Bt[1]>=BASE/2&&++jt;do ht=0,ct=te(Bt,yt,Rt,vt),ct<0?(Et=yt[0],Rt!=vt&&(Et=Et*BASE+(yt[1]||0)),ht=Et/jt|0,ht>1?(ht>=BASE&&(ht=BASE-1),ft=ee(Bt,ht),pt=ft.length,vt=yt.length,ct=te(ft,yt,pt,vt),ct==1&&(ht--,ne(ft,Rt<pt?Pt:Bt,pt))):(ht==0&&(ct=ht=1),ft=Bt.slice()),pt=ft.length,pt<vt&&ft.unshift(0),ne(yt,ft,vt),ct==-1&&(vt=yt.length,ct=te(Bt,yt,Rt,vt),ct<1&&(ht++,ne(yt,Rt<vt?Pt:Bt,vt))),vt=yt.length):ct===0&&(ht++,yt=[0]),xt[dt++]=ht,ct&&yt[0]?yt[vt++]=Lt[St]||0:(yt=[Lt[St]],vt=1);while((St++<Ct||yt[0]!==void 0)&&_t--)}return xt[0]||xt.shift(),mt.e=ut,round(mt,lt?it+getBase10Exponent(mt)+1:it)}})();function exp(ee,te){var ne,xe,rt,it,lt,ct,ut=0,dt=0,ht=ee.constructor,ft=ht.precision;if(getBase10Exponent(ee)>16)throw Error(exponentOutOfRange+getBase10Exponent(ee));if(!ee.s)return new ht(ONE);for(external=!1,ct=ft,lt=new ht(.03125);ee.abs().gte(.1);)ee=ee.times(lt),dt+=5;for(xe=Math.log(mathpow(2,dt))/Math.LN10*2+5|0,ct+=xe,ne=rt=it=new ht(ONE),ht.precision=ct;;){if(rt=round(rt.times(ee),ct),ne=ne.times(++ut),lt=it.plus(divide(rt,ne,ct)),digitsToString(lt.d).slice(0,ct)===digitsToString(it.d).slice(0,ct)){for(;dt--;)it=round(it.times(it),ct);return ht.precision=ft,te==null?(external=!0,round(it,ft)):it}it=lt}}function getBase10Exponent(ee){for(var te=ee.e*LOG_BASE,ne=ee.d[0];ne>=10;ne/=10)te++;return te}function getLn10(ee,te,ne){if(te>ee.LN10.sd())throw external=!0,ne&&(ee.precision=ne),Error(decimalError+"LN10 precision limit exceeded");return round(new ee(ee.LN10),te)}function getZeroString(ee){for(var te="";ee--;)te+="0";return te}function ln(ee,te){var ne,xe,rt,it,lt,ct,ut,dt,ht,ft=1,pt=10,mt=ee,xt=mt.d,yt=mt.constructor,vt=yt.precision;if(mt.s<1)throw Error(decimalError+(mt.s?"NaN":"-Infinity"));if(mt.eq(ONE))return new yt(0);if(te==null?(external=!1,dt=vt):dt=te,mt.eq(10))return te==null&&(external=!0),getLn10(yt,dt);if(dt+=pt,yt.precision=dt,ne=digitsToString(xt),xe=ne.charAt(0),it=getBase10Exponent(mt),Math.abs(it)<15e14){for(;xe<7&&xe!=1||xe==1&&ne.charAt(1)>3;)mt=mt.times(ee),ne=digitsToString(mt.d),xe=ne.charAt(0),ft++;it=getBase10Exponent(mt),xe>1?(mt=new yt("0."+ne),it++):mt=new yt(xe+"."+ne.slice(1))}else return ut=getLn10(yt,dt+2,vt).times(it+""),mt=ln(new yt(xe+"."+ne.slice(1)),dt-pt).plus(ut),yt.precision=vt,te==null?(external=!0,round(mt,vt)):mt;for(ct=lt=mt=divide(mt.minus(ONE),mt.plus(ONE),dt),ht=round(mt.times(mt),dt),rt=3;;){if(lt=round(lt.times(ht),dt),ut=ct.plus(divide(lt,new yt(rt),dt)),digitsToString(ut.d).slice(0,dt)===digitsToString(ct.d).slice(0,dt))return ct=ct.times(2),it!==0&&(ct=ct.plus(getLn10(yt,dt+2,vt).times(it+""))),ct=divide(ct,new yt(ft),dt),yt.precision=vt,te==null?(external=!0,round(ct,vt)):ct;ct=ut,rt+=2}}function parseDecimal(ee,te){var ne,xe,rt;for((ne=te.indexOf("."))>-1&&(te=te.replace(".","")),(xe=te.search(/e/i))>0?(ne<0&&(ne=xe),ne+=+te.slice(xe+1),te=te.substring(0,xe)):ne<0&&(ne=te.length),xe=0;te.charCodeAt(xe)===48;)++xe;for(rt=te.length;te.charCodeAt(rt-1)===48;)--rt;if(te=te.slice(xe,rt),te){if(rt-=xe,ne=ne-xe-1,ee.e=mathfloor(ne/LOG_BASE),ee.d=[],xe=(ne+1)%LOG_BASE,ne<0&&(xe+=LOG_BASE),xe<rt){for(xe&&ee.d.push(+te.slice(0,xe)),rt-=LOG_BASE;xe<rt;)ee.d.push(+te.slice(xe,xe+=LOG_BASE));te=te.slice(xe),xe=LOG_BASE-te.length}else xe-=rt;for(;xe--;)te+="0";if(ee.d.push(+te),external&&(ee.e>MAX_E||ee.e<-MAX_E))throw Error(exponentOutOfRange+ne)}else ee.s=0,ee.e=0,ee.d=[0];return ee}function round(ee,te,ne){var xe,rt,it,lt,ct,ut,dt,ht,ft=ee.d;for(lt=1,it=ft[0];it>=10;it/=10)lt++;if(xe=te-lt,xe<0)xe+=LOG_BASE,rt=te,dt=ft[ht=0];else{if(ht=Math.ceil((xe+1)/LOG_BASE),it=ft.length,ht>=it)return ee;for(dt=it=ft[ht],lt=1;it>=10;it/=10)lt++;xe%=LOG_BASE,rt=xe-LOG_BASE+lt}if(ne!==void 0&&(it=mathpow(10,lt-rt-1),ct=dt/it%10|0,ut=te<0||ft[ht+1]!==void 0||dt%it,ut=ne<4?(ct||ut)&&(ne==0||ne==(ee.s<0?3:2)):ct>5||ct==5&&(ne==4||ut||ne==6&&(xe>0?rt>0?dt/mathpow(10,lt-rt):0:ft[ht-1])%10&1||ne==(ee.s<0?8:7))),te<1||!ft[0])return ut?(it=getBase10Exponent(ee),ft.length=1,te=te-it-1,ft[0]=mathpow(10,(LOG_BASE-te%LOG_BASE)%LOG_BASE),ee.e=mathfloor(-te/LOG_BASE)||0):(ft.length=1,ft[0]=ee.e=ee.s=0),ee;if(xe==0?(ft.length=ht,it=1,ht--):(ft.length=ht+1,it=mathpow(10,LOG_BASE-xe),ft[ht]=rt>0?(dt/mathpow(10,lt-rt)%mathpow(10,rt)|0)*it:0),ut)for(;;)if(ht==0){(ft[0]+=it)==BASE&&(ft[0]=1,++ee.e);break}else{if(ft[ht]+=it,ft[ht]!=BASE)break;ft[ht--]=0,it=1}for(xe=ft.length;ft[--xe]===0;)ft.pop();if(external&&(ee.e>MAX_E||ee.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(ee));return ee}function subtract(ee,te){var ne,xe,rt,it,lt,ct,ut,dt,ht,ft,pt=ee.constructor,mt=pt.precision;if(!ee.s||!te.s)return te.s?te.s=-te.s:te=new pt(ee),external?round(te,mt):te;if(ut=ee.d,ft=te.d,xe=te.e,dt=ee.e,ut=ut.slice(),lt=dt-xe,lt){for(ht=lt<0,ht?(ne=ut,lt=-lt,ct=ft.length):(ne=ft,xe=dt,ct=ut.length),rt=Math.max(Math.ceil(mt/LOG_BASE),ct)+2,lt>rt&&(lt=rt,ne.length=1),ne.reverse(),rt=lt;rt--;)ne.push(0);ne.reverse()}else{for(rt=ut.length,ct=ft.length,ht=rt<ct,ht&&(ct=rt),rt=0;rt<ct;rt++)if(ut[rt]!=ft[rt]){ht=ut[rt]<ft[rt];break}lt=0}for(ht&&(ne=ut,ut=ft,ft=ne,te.s=-te.s),ct=ut.length,rt=ft.length-ct;rt>0;--rt)ut[ct++]=0;for(rt=ft.length;rt>lt;){if(ut[--rt]<ft[rt]){for(it=rt;it&&ut[--it]===0;)ut[it]=BASE-1;--ut[it],ut[rt]+=BASE}ut[rt]-=ft[rt]}for(;ut[--ct]===0;)ut.pop();for(;ut[0]===0;ut.shift())--xe;return ut[0]?(te.d=ut,te.e=xe,external?round(te,mt):te):new pt(0)}function toString$3(ee,te,ne){var xe,rt=getBase10Exponent(ee),it=digitsToString(ee.d),lt=it.length;return te?(ne&&(xe=ne-lt)>0?it=it.charAt(0)+"."+it.slice(1)+getZeroString(xe):lt>1&&(it=it.charAt(0)+"."+it.slice(1)),it=it+(rt<0?"e":"e+")+rt):rt<0?(it="0."+getZeroString(-rt-1)+it,ne&&(xe=ne-lt)>0&&(it+=getZeroString(xe))):rt>=lt?(it+=getZeroString(rt+1-lt),ne&&(xe=ne-rt-1)>0&&(it=it+"."+getZeroString(xe))):((xe=rt+1)<lt&&(it=it.slice(0,xe)+"."+it.slice(xe)),ne&&(xe=ne-lt)>0&&(rt+1===lt&&(it+="."),it+=getZeroString(xe))),ee.s<0?"-"+it:it}function truncate(ee,te){if(ee.length>te)return ee.length=te,!0}function clone$1(ee){var te,ne,xe;function rt(it){var lt=this;if(!(lt instanceof rt))return new rt(it);if(lt.constructor=rt,it instanceof rt){lt.s=it.s,lt.e=it.e,lt.d=(it=it.d)?it.slice():it;return}if(typeof it=="number"){if(it*0!==0)throw Error(invalidArgument+it);if(it>0)lt.s=1;else if(it<0)it=-it,lt.s=-1;else{lt.s=0,lt.e=0,lt.d=[0];return}if(it===~~it&&it<1e7){lt.e=0,lt.d=[it];return}return parseDecimal(lt,it.toString())}else if(typeof it!="string")throw Error(invalidArgument+it);if(it.charCodeAt(0)===45?(it=it.slice(1),lt.s=-1):lt.s=1,isDecimal.test(it))parseDecimal(lt,it);else throw Error(invalidArgument+it)}if(rt.prototype=P$2,rt.ROUND_UP=0,rt.ROUND_DOWN=1,rt.ROUND_CEIL=2,rt.ROUND_FLOOR=3,rt.ROUND_HALF_UP=4,rt.ROUND_HALF_DOWN=5,rt.ROUND_HALF_EVEN=6,rt.ROUND_HALF_CEIL=7,rt.ROUND_HALF_FLOOR=8,rt.clone=clone$1,rt.config=rt.set=config$1,ee===void 0&&(ee={}),ee)for(xe=["precision","rounding","toExpNeg","toExpPos","LN10"],te=0;te<xe.length;)ee.hasOwnProperty(ne=xe[te++])||(ee[ne]=this[ne]);return rt.config(ee),rt}function config$1(ee){if(!ee||typeof ee!="object")throw Error(decimalError+"Object expected");var te,ne,xe,rt=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(te=0;te<rt.length;te+=3)if((xe=ee[ne=rt[te]])!==void 0)if(mathfloor(xe)===xe&&xe>=rt[te+1]&&xe<=rt[te+2])this[ne]=xe;else throw Error(invalidArgument+ne+": "+xe);if((xe=ee[ne="LN10"])!==void 0)if(xe==Math.LN10)this[ne]=new this(xe);else throw Error(invalidArgument+ne+": "+xe);return this}var Decimal=clone$1(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(ee){return _arrayWithoutHoles$b(ee)||_iterableToArray$c(ee)||_unsupportedIterableToArray$i(ee)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$i(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$i(ee,te)}}function _iterableToArray$c(ee){if(typeof Symbol<"u"&&Symbol.iterator in Object(ee))return Array.from(ee)}function _arrayWithoutHoles$b(ee){if(Array.isArray(ee))return _arrayLikeToArray$i(ee)}function _arrayLikeToArray$i(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}var identity$4=function(te){return te},PLACE_HOLDER={},isPlaceHolder=function(te){return te===PLACE_HOLDER},curry0=function(te){return function ne(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?ne:te.apply(void 0,arguments)}},curryN=function ee(te,ne){return te===1?ne:curry0(function(){for(var xe=arguments.length,rt=new Array(xe),it=0;it<xe;it++)rt[it]=arguments[it];var lt=rt.filter(function(ct){return ct!==PLACE_HOLDER}).length;return lt>=te?ne.apply(void 0,rt):ee(te-lt,curry0(function(){for(var ct=arguments.length,ut=new Array(ct),dt=0;dt<ct;dt++)ut[dt]=arguments[dt];var ht=rt.map(function(ft){return isPlaceHolder(ft)?ut.shift():ft});return ne.apply(void 0,_toConsumableArray$b(ht).concat(ut))}))})},curry=function(te){return curryN(te.length,te)},range$1=function(te,ne){for(var xe=[],rt=te;rt<ne;++rt)xe[rt-te]=rt;return xe},map$3=curry(function(ee,te){return Array.isArray(te)?te.map(ee):Object.keys(te).map(function(ne){return te[ne]}).map(ee)}),compose=function(){for(var te=arguments.length,ne=new Array(te),xe=0;xe<te;xe++)ne[xe]=arguments[xe];if(!ne.length)return identity$4;var rt=ne.reverse(),it=rt[0],lt=rt.slice(1);return function(){return lt.reduce(function(ct,ut){return ut(ct)},it.apply(void 0,arguments))}},reverse=function(te){return Array.isArray(te)?te.reverse():te.split("").reverse.join("")},memoize$2=function(te){var ne=null,xe=null;return function(){for(var rt=arguments.length,it=new Array(rt),lt=0;lt<rt;lt++)it[lt]=arguments[lt];return ne&&it.every(function(ct,ut){return ct===ne[ut]})||(ne=it,xe=te.apply(void 0,it)),xe}};function getDigitCount(ee){var te;return ee===0?te=1:te=Math.floor(new Decimal$1(ee).abs().log(10).toNumber())+1,te}function rangeStep(ee,te,ne){for(var xe=new Decimal$1(ee),rt=0,it=[];xe.lt(te)&&rt<1e5;)it.push(xe.toNumber()),xe=xe.add(ne),rt++;return it}var interpolateNumber=curry(function(ee,te,ne){var xe=+ee,rt=+te;return xe+ne*(rt-xe)}),uninterpolateNumber=curry(function(ee,te,ne){var xe=te-+ee;return xe=xe||1/0,(ne-ee)/xe}),uninterpolateTruncation=curry(function(ee,te,ne){var xe=te-+ee;return xe=xe||1/0,Math.max(0,Math.min(1,(ne-ee)/xe))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(ee){return _arrayWithoutHoles$a(ee)||_iterableToArray$b(ee)||_unsupportedIterableToArray$h(ee)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(ee){if(typeof Symbol<"u"&&Symbol.iterator in Object(ee))return Array.from(ee)}function _arrayWithoutHoles$a(ee){if(Array.isArray(ee))return _arrayLikeToArray$h(ee)}function _slicedToArray$9(ee,te){return _arrayWithHoles$a(ee)||_iterableToArrayLimit$9(ee,te)||_unsupportedIterableToArray$h(ee,te)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$h(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$h(ee,te)}}function _arrayLikeToArray$h(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$9(ee,te){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ee)))){var ne=[],xe=!0,rt=!1,it=void 0;try{for(var lt=ee[Symbol.iterator](),ct;!(xe=(ct=lt.next()).done)&&(ne.push(ct.value),!(te&&ne.length===te));xe=!0);}catch(ut){rt=!0,it=ut}finally{try{!xe&&lt.return!=null&&lt.return()}finally{if(rt)throw it}}return ne}}function _arrayWithHoles$a(ee){if(Array.isArray(ee))return ee}function getValidInterval(ee){var te=_slicedToArray$9(ee,2),ne=te[0],xe=te[1],rt=ne,it=xe;return ne>xe&&(rt=xe,it=ne),[rt,it]}function getFormatStep(ee,te,ne){if(ee.lte(0))return new Decimal$1(0);var xe=Arithmetic.getDigitCount(ee.toNumber()),rt=new Decimal$1(10).pow(xe),it=ee.div(rt),lt=xe!==1?.05:.1,ct=new Decimal$1(Math.ceil(it.div(lt).toNumber())).add(ne).mul(lt),ut=ct.mul(rt);return te?ut:new Decimal$1(Math.ceil(ut))}function getTickOfSingleValue(ee,te,ne){var xe=1,rt=new Decimal$1(ee);if(!rt.isint()&&ne){var it=Math.abs(ee);it<1?(xe=new Decimal$1(10).pow(Arithmetic.getDigitCount(ee)-1),rt=new Decimal$1(Math.floor(rt.div(xe).toNumber())).mul(xe)):it>1&&(rt=new Decimal$1(Math.floor(ee)))}else ee===0?rt=new Decimal$1(Math.floor((te-1)/2)):ne||(rt=new Decimal$1(Math.floor(ee)));var lt=Math.floor((te-1)/2),ct=compose(map$3(function(ut){return rt.add(new Decimal$1(ut-lt).mul(xe)).toNumber()}),range$1);return ct(0,te)}function calculateStep(ee,te,ne,xe){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((te-ee)/(ne-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var it=getFormatStep(new Decimal$1(te).sub(ee).div(ne-1),xe,rt),lt;ee<=0&&te>=0?lt=new Decimal$1(0):(lt=new Decimal$1(ee).add(te).div(2),lt=lt.sub(new Decimal$1(lt).mod(it)));var ct=Math.ceil(lt.sub(ee).div(it).toNumber()),ut=Math.ceil(new Decimal$1(te).sub(lt).div(it).toNumber()),dt=ct+ut+1;return dt>ne?calculateStep(ee,te,ne,xe,rt+1):(dt<ne&&(ut=te>0?ut+(ne-dt):ut,ct=te>0?ct:ct+(ne-dt)),{step:it,tickMin:lt.sub(new Decimal$1(ct).mul(it)),tickMax:lt.add(new Decimal$1(ut).mul(it))})}function getNiceTickValuesFn(ee){var te=_slicedToArray$9(ee,2),ne=te[0],xe=te[1],rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,lt=Math.max(rt,2),ct=getValidInterval([ne,xe]),ut=_slicedToArray$9(ct,2),dt=ut[0],ht=ut[1];if(dt===-1/0||ht===1/0){var ft=ht===1/0?[dt].concat(_toConsumableArray$a(range$1(0,rt-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$1(0,rt-1).map(function(){return-1/0})),[ht]);return ne>xe?reverse(ft):ft}if(dt===ht)return getTickOfSingleValue(dt,rt,it);var pt=calculateStep(dt,ht,lt,it),mt=pt.step,xt=pt.tickMin,yt=pt.tickMax,vt=Arithmetic.rangeStep(xt,yt.add(new Decimal$1(.1).mul(mt)),mt);return ne>xe?reverse(vt):vt}function getTickValuesFixedDomainFn(ee,te){var ne=_slicedToArray$9(ee,2),xe=ne[0],rt=ne[1],it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,lt=getValidInterval([xe,rt]),ct=_slicedToArray$9(lt,2),ut=ct[0],dt=ct[1];if(ut===-1/0||dt===1/0)return[xe,rt];if(ut===dt)return[ut];var ht=Math.max(te,2),ft=getFormatStep(new Decimal$1(dt).sub(ut).div(ht-1),it,0),pt=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(ut),new Decimal$1(dt).sub(new Decimal$1(.99).mul(ft)),ft)),[dt]);return xe>rt?reverse(pt):pt}var getNiceTickValues=memoize$2(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$2(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(ee,te){throw new Error(prefix)}var _excluded$h=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$B(ee){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$B(ee)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$q.apply(this,arguments)}function _slicedToArray$8(ee,te){return _arrayWithHoles$9(ee)||_iterableToArrayLimit$8(ee,te)||_unsupportedIterableToArray$g(ee,te)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$g(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$g(ee,te)}}function _arrayLikeToArray$g(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$8(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$9(ee){if(Array.isArray(ee))return ee}function _objectWithoutProperties$g(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$g(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$g(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _classCallCheck$h(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$B(xe.key),xe)}}function _createClass$h(ee,te,ne){return te&&_defineProperties$h(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$e(ee,te,ne){return te=_getPrototypeOf$f(te),_possibleConstructorReturn$f(ee,_isNativeReflectConstruct$f()?Reflect.construct(te,ne||[],_getPrototypeOf$f(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$f(ee,te){if(te&&(_typeof$B(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(ee)}function _assertThisInitialized$f(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$f(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!ee})()}function _getPrototypeOf$f(ee){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$f(ee)}function _inherits$f(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$f(ee,te)}function _setPrototypeOf$f(ee,te){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$f(ee,te)}function _defineProperty$B(ee,te,ne){return te=_toPropertyKey$B(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$B(ee){var te=_toPrimitive$B(ee,"string");return _typeof$B(te)=="symbol"?te:te+""}function _toPrimitive$B(ee,te){if(_typeof$B(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$B(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var ErrorBar=(function(ee){function te(){return _classCallCheck$h(this,te),_callSuper$e(this,te,arguments)}return _inherits$f(te,ee),_createClass$h(te,[{key:"render",value:function(){var xe=this.props,rt=xe.offset,it=xe.layout,lt=xe.width,ct=xe.dataKey,ut=xe.data,dt=xe.dataPointFormatter,ht=xe.xAxis,ft=xe.yAxis,pt=_objectWithoutProperties$g(xe,_excluded$h),mt=filterProps(pt,!1);this.props.direction==="x"&&ht.type!=="number"&&invariant();var xt=ut.map(function(yt){var vt=dt(yt,ct),Et=vt.x,_t=vt.y,wt=vt.value,St=vt.errorVal;if(!St)return null;var Ct=[],jt,Rt;if(Array.isArray(St)){var Pt=_slicedToArray$8(St,2);jt=Pt[0],Rt=Pt[1]}else jt=Rt=St;if(it==="vertical"){var Ot=ht.scale,Ft=_t+rt,Lt=Ft+lt,Bt=Ft-lt,Gt=Ot(wt-jt),It=Ot(wt+Rt);Ct.push({x1:It,y1:Lt,x2:It,y2:Bt}),Ct.push({x1:Gt,y1:Ft,x2:It,y2:Ft}),Ct.push({x1:Gt,y1:Lt,x2:Gt,y2:Bt})}else if(it==="horizontal"){var qt=ft.scale,Nt=Et+rt,Dt=Nt-lt,Tt=Nt+lt,Mt=qt(wt-jt),$t=qt(wt+Rt);Ct.push({x1:Dt,y1:$t,x2:Tt,y2:$t}),Ct.push({x1:Nt,y1:Mt,x2:Nt,y2:$t}),Ct.push({x1:Dt,y1:Mt,x2:Tt,y2:Mt})}return React.createElement(Layer,_extends$q({className:"recharts-errorBar",key:"bar-".concat(Ct.map(function(Ht){return"".concat(Ht.x1,"-").concat(Ht.x2,"-").concat(Ht.y1,"-").concat(Ht.y2)}))},mt),Ct.map(function(Ht){return React.createElement("line",_extends$q({},Ht,{key:"line-".concat(Ht.x1,"-").concat(Ht.x2,"-").concat(Ht.y1,"-").concat(Ht.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},xt)}}])})(React.Component);_defineProperty$B(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$B(ErrorBar,"displayName","ErrorBar");function _typeof$A(ee){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$A(ee)}function ownKeys$x(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$w(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$x(Object(ne),!0).forEach(function(xe){_defineProperty$A(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$x(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$A(ee,te,ne){return te=_toPropertyKey$A(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$A(ee){var te=_toPrimitive$A(ee,"string");return _typeof$A(te)=="symbol"?te:te+""}function _toPrimitive$A(ee,te){if(_typeof$A(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$A(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var getLegendProps=function(te){var ne=te.children,xe=te.formattedGraphicalItems,rt=te.legendWidth,it=te.legendContent,lt=findChildByType(ne,Legend);if(!lt)return null;var ct=Legend.defaultProps,ut=ct!==void 0?_objectSpread$w(_objectSpread$w({},ct),lt.props):{},dt;return lt.props&&lt.props.payload?dt=lt.props&&lt.props.payload:it==="children"?dt=(xe||[]).reduce(function(ht,ft){var pt=ft.item,mt=ft.props,xt=mt.sectors||mt.data||[];return ht.concat(xt.map(function(yt){return{type:lt.props.iconType||pt.props.legendType,value:yt.name,color:yt.fill,payload:yt}}))},[]):dt=(xe||[]).map(function(ht){var ft=ht.item,pt=ft.type.defaultProps,mt=pt!==void 0?_objectSpread$w(_objectSpread$w({},pt),ft.props):{},xt=mt.dataKey,yt=mt.name,vt=mt.legendType,Et=mt.hide;return{inactive:Et,dataKey:xt,type:ut.iconType||vt||"square",color:getMainColorOfGraphicItem(ft),value:yt||xt,payload:mt}}),_objectSpread$w(_objectSpread$w(_objectSpread$w({},ut),Legend.getWithHeight(lt,rt)),{},{payload:dt,item:lt})};function _typeof$z(ee){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$z(ee)}function _toConsumableArray$9(ee){return _arrayWithoutHoles$9(ee)||_iterableToArray$a(ee)||_unsupportedIterableToArray$f(ee)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$f(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$f(ee,te)}}function _iterableToArray$a(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$9(ee){if(Array.isArray(ee))return _arrayLikeToArray$f(ee)}function _arrayLikeToArray$f(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function ownKeys$w(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$v(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$w(Object(ne),!0).forEach(function(xe){_defineProperty$z(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$w(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$z(ee,te,ne){return te=_toPropertyKey$z(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$z(ee){var te=_toPrimitive$z(ee,"string");return _typeof$z(te)=="symbol"?te:te+""}function _toPrimitive$z(ee,te){if(_typeof$z(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$z(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function getValueByDataKey(ee,te,ne){return isNil(ee)||isNil(te)?ne:isNumOrStr(te)?get$2(ee,te,ne):isFunction$1(te)?te(ee):ne}function getDomainOfDataByKey(ee,te,ne,xe){var rt=flatMap(ee,function(ct){return getValueByDataKey(ct,te)});if(ne==="number"){var it=rt.filter(function(ct){return isNumber(ct)||parseFloat(ct)});return it.length?[min(it),max(it)]:[1/0,-1/0]}var lt=xe?rt.filter(function(ct){return!isNil(ct)}):rt;return lt.map(function(ct){return isNumOrStr(ct)||ct instanceof Date?ct:""})}var calculateActiveTickIndex=function(te){var ne,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],rt=arguments.length>2?arguments[2]:void 0,it=arguments.length>3?arguments[3]:void 0,lt=-1,ct=(ne=xe?.length)!==null&&ne!==void 0?ne:0;if(ct<=1)return 0;if(it&&it.axisType==="angleAxis"&&Math.abs(Math.abs(it.range[1]-it.range[0])-360)<=1e-6)for(var ut=it.range,dt=0;dt<ct;dt++){var ht=dt>0?rt[dt-1].coordinate:rt[ct-1].coordinate,ft=rt[dt].coordinate,pt=dt>=ct-1?rt[0].coordinate:rt[dt+1].coordinate,mt=void 0;if(mathSign(ft-ht)!==mathSign(pt-ft)){var xt=[];if(mathSign(pt-ft)===mathSign(ut[1]-ut[0])){mt=pt;var yt=ft+ut[1]-ut[0];xt[0]=Math.min(yt,(yt+ht)/2),xt[1]=Math.max(yt,(yt+ht)/2)}else{mt=ht;var vt=pt+ut[1]-ut[0];xt[0]=Math.min(ft,(vt+ft)/2),xt[1]=Math.max(ft,(vt+ft)/2)}var Et=[Math.min(ft,(mt+ft)/2),Math.max(ft,(mt+ft)/2)];if(te>Et[0]&&te<=Et[1]||te>=xt[0]&&te<=xt[1]){lt=rt[dt].index;break}}else{var _t=Math.min(ht,pt),wt=Math.max(ht,pt);if(te>(_t+ft)/2&&te<=(wt+ft)/2){lt=rt[dt].index;break}}}else for(var St=0;St<ct;St++)if(St===0&&te<=(xe[St].coordinate+xe[St+1].coordinate)/2||St>0&&St<ct-1&&te>(xe[St].coordinate+xe[St-1].coordinate)/2&&te<=(xe[St].coordinate+xe[St+1].coordinate)/2||St===ct-1&&te>(xe[St].coordinate+xe[St-1].coordinate)/2){lt=xe[St].index;break}return lt},getMainColorOfGraphicItem=function(te){var ne,xe=te,rt=xe.type.displayName,it=(ne=te.type)!==null&&ne!==void 0&&ne.defaultProps?_objectSpread$v(_objectSpread$v({},te.type.defaultProps),te.props):te.props,lt=it.stroke,ct=it.fill,ut;switch(rt){case"Line":ut=lt;break;case"Area":case"Radar":ut=lt&&lt!=="none"?lt:ct;break;default:ut=ct;break}return ut},getBarSizeList=function(te){var ne=te.barSize,xe=te.totalSize,rt=te.stackGroups,it=rt===void 0?{}:rt;if(!it)return{};for(var lt={},ct=Object.keys(it),ut=0,dt=ct.length;ut<dt;ut++)for(var ht=it[ct[ut]].stackGroups,ft=Object.keys(ht),pt=0,mt=ft.length;pt<mt;pt++){var xt=ht[ft[pt]],yt=xt.items,vt=xt.cateAxisId,Et=yt.filter(function(Rt){return getDisplayName(Rt.type).indexOf("Bar")>=0});if(Et&&Et.length){var _t=Et[0].type.defaultProps,wt=_t!==void 0?_objectSpread$v(_objectSpread$v({},_t),Et[0].props):Et[0].props,St=wt.barSize,Ct=wt[vt];lt[Ct]||(lt[Ct]=[]);var jt=isNil(St)?ne:St;lt[Ct].push({item:Et[0],stackList:Et.slice(1),barSize:isNil(jt)?void 0:getPercentValue(jt,xe,0)})}}return lt},getBarPosition=function(te){var ne=te.barGap,xe=te.barCategoryGap,rt=te.bandSize,it=te.sizeList,lt=it===void 0?[]:it,ct=te.maxBarSize,ut=lt.length;if(ut<1)return null;var dt=getPercentValue(ne,rt,0,!0),ht,ft=[];if(lt[0].barSize===+lt[0].barSize){var pt=!1,mt=rt/ut,xt=lt.reduce(function(St,Ct){return St+Ct.barSize||0},0);xt+=(ut-1)*dt,xt>=rt&&(xt-=(ut-1)*dt,dt=0),xt>=rt&&mt>0&&(pt=!0,mt*=.9,xt=ut*mt);var yt=(rt-xt)/2>>0,vt={offset:yt-dt,size:0};ht=lt.reduce(function(St,Ct){var jt={item:Ct.item,position:{offset:vt.offset+vt.size+dt,size:pt?mt:Ct.barSize}},Rt=[].concat(_toConsumableArray$9(St),[jt]);return vt=Rt[Rt.length-1].position,Ct.stackList&&Ct.stackList.length&&Ct.stackList.forEach(function(Pt){Rt.push({item:Pt,position:vt})}),Rt},ft)}else{var Et=getPercentValue(xe,rt,0,!0);rt-2*Et-(ut-1)*dt<=0&&(dt=0);var _t=(rt-2*Et-(ut-1)*dt)/ut;_t>1&&(_t>>=0);var wt=ct===+ct?Math.min(_t,ct):_t;ht=lt.reduce(function(St,Ct,jt){var Rt=[].concat(_toConsumableArray$9(St),[{item:Ct.item,position:{offset:Et+(_t+dt)*jt+(_t-wt)/2,size:wt}}]);return Ct.stackList&&Ct.stackList.length&&Ct.stackList.forEach(function(Pt){Rt.push({item:Pt,position:Rt[Rt.length-1].position})}),Rt},ft)}return ht},appendOffsetOfLegend=function(te,ne,xe,rt){var it=xe.children,lt=xe.width,ct=xe.margin,ut=lt-(ct.left||0)-(ct.right||0),dt=getLegendProps({children:it,legendWidth:ut});if(dt){var ht=rt||{},ft=ht.width,pt=ht.height,mt=dt.align,xt=dt.verticalAlign,yt=dt.layout;if((yt==="vertical"||yt==="horizontal"&&xt==="middle")&&mt!=="center"&&isNumber(te[mt]))return _objectSpread$v(_objectSpread$v({},te),{},_defineProperty$z({},mt,te[mt]+(ft||0)));if((yt==="horizontal"||yt==="vertical"&&mt==="center")&&xt!=="middle"&&isNumber(te[xt]))return _objectSpread$v(_objectSpread$v({},te),{},_defineProperty$z({},xt,te[xt]+(pt||0)))}return te},isErrorBarRelevantForAxis=function(te,ne,xe){return isNil(ne)?!0:te==="horizontal"?ne==="yAxis":te==="vertical"||xe==="x"?ne==="xAxis":xe==="y"?ne==="yAxis":!0},getDomainOfErrorBars=function(te,ne,xe,rt,it){var lt=ne.props.children,ct=findAllByType(lt,ErrorBar).filter(function(dt){return isErrorBarRelevantForAxis(rt,it,dt.props.direction)});if(ct&&ct.length){var ut=ct.map(function(dt){return dt.props.dataKey});return te.reduce(function(dt,ht){var ft=getValueByDataKey(ht,xe);if(isNil(ft))return dt;var pt=Array.isArray(ft)?[min(ft),max(ft)]:[ft,ft],mt=ut.reduce(function(xt,yt){var vt=getValueByDataKey(ht,yt,0),Et=pt[0]-Math.abs(Array.isArray(vt)?vt[0]:vt),_t=pt[1]+Math.abs(Array.isArray(vt)?vt[1]:vt);return[Math.min(Et,xt[0]),Math.max(_t,xt[1])]},[1/0,-1/0]);return[Math.min(mt[0],dt[0]),Math.max(mt[1],dt[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function(te,ne,xe,rt,it){var lt=ne.map(function(ct){return getDomainOfErrorBars(te,ct,xe,it,rt)}).filter(function(ct){return!isNil(ct)});return lt&&lt.length?lt.reduce(function(ct,ut){return[Math.min(ct[0],ut[0]),Math.max(ct[1],ut[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function(te,ne,xe,rt,it){var lt=ne.map(function(ut){var dt=ut.props.dataKey;return xe==="number"&&dt&&getDomainOfErrorBars(te,ut,dt,rt)||getDomainOfDataByKey(te,dt,xe,it)});if(xe==="number")return lt.reduce(function(ut,dt){return[Math.min(ut[0],dt[0]),Math.max(ut[1],dt[1])]},[1/0,-1/0]);var ct={};return lt.reduce(function(ut,dt){for(var ht=0,ft=dt.length;ht<ft;ht++)ct[dt[ht]]||(ct[dt[ht]]=!0,ut.push(dt[ht]));return ut},[])},isCategoricalAxis=function(te,ne){return te==="horizontal"&&ne==="xAxis"||te==="vertical"&&ne==="yAxis"||te==="centric"&&ne==="angleAxis"||te==="radial"&&ne==="radiusAxis"},getCoordinatesOfGrid=function(te,ne,xe,rt){if(rt)return te.map(function(ut){return ut.coordinate});var it,lt,ct=te.map(function(ut){return ut.coordinate===ne&&(it=!0),ut.coordinate===xe&&(lt=!0),ut.coordinate});return it||ct.push(ne),lt||ct.push(xe),ct},getTicksOfAxis=function(te,ne,xe){if(!te)return null;var rt=te.scale,it=te.duplicateDomain,lt=te.type,ct=te.range,ut=te.realScaleType==="scaleBand"?rt.bandwidth()/2:2,dt=(ne||xe)&&lt==="category"&&rt.bandwidth?rt.bandwidth()/ut:0;if(dt=te.axisType==="angleAxis"&&ct?.length>=2?mathSign(ct[0]-ct[1])*2*dt:dt,ne&&(te.ticks||te.niceTicks)){var ht=(te.ticks||te.niceTicks).map(function(ft){var pt=it?it.indexOf(ft):ft;return{coordinate:rt(pt)+dt,value:ft,offset:dt}});return ht.filter(function(ft){return!isNan(ft.coordinate)})}return te.isCategorical&&te.categoricalDomain?te.categoricalDomain.map(function(ft,pt){return{coordinate:rt(ft)+dt,value:ft,index:pt,offset:dt}}):rt.ticks&&!xe?rt.ticks(te.tickCount).map(function(ft){return{coordinate:rt(ft)+dt,value:ft,offset:dt}}):rt.domain().map(function(ft,pt){return{coordinate:rt(ft)+dt,value:it?it[ft]:ft,index:pt,offset:dt}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(te,ne){if(typeof ne!="function")return te;handlerWeakMap.has(te)||handlerWeakMap.set(te,new WeakMap);var xe=handlerWeakMap.get(te);if(xe.has(ne))return xe.get(ne);var rt=function(){te.apply(void 0,arguments),ne.apply(void 0,arguments)};return xe.set(ne,rt),rt},parseScale=function(te,ne,xe){var rt=te.scale,it=te.type,lt=te.layout,ct=te.axisType;if(rt==="auto")return lt==="radial"&&ct==="radiusAxis"?{scale:band(),realScaleType:"band"}:lt==="radial"&&ct==="angleAxis"?{scale:linear(),realScaleType:"linear"}:it==="category"&&ne&&(ne.indexOf("LineChart")>=0||ne.indexOf("AreaChart")>=0||ne.indexOf("ComposedChart")>=0&&!xe)?{scale:point$4(),realScaleType:"point"}:it==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString(rt)){var ut="scale".concat(upperFirst(rt));return{scale:(d3Scales[ut]||point$4)(),realScaleType:d3Scales[ut]?ut:"point"}}return isFunction$1(rt)?{scale:rt}:{scale:point$4(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function(te){var ne=te.domain();if(!(!ne||ne.length<=2)){var xe=ne.length,rt=te.range(),it=Math.min(rt[0],rt[1])-EPS,lt=Math.max(rt[0],rt[1])+EPS,ct=te(ne[0]),ut=te(ne[xe-1]);(ct<it||ct>lt||ut<it||ut>lt)&&te.domain([ne[0],ne[xe-1]])}},findPositionOfBar=function(te,ne){if(!te)return null;for(var xe=0,rt=te.length;xe<rt;xe++)if(te[xe].item===ne)return te[xe].position;return null},truncateByDomain=function(te,ne){if(!ne||ne.length!==2||!isNumber(ne[0])||!isNumber(ne[1]))return te;var xe=Math.min(ne[0],ne[1]),rt=Math.max(ne[0],ne[1]),it=[te[0],te[1]];return(!isNumber(te[0])||te[0]<xe)&&(it[0]=xe),(!isNumber(te[1])||te[1]>rt)&&(it[1]=rt),it[0]>rt&&(it[0]=rt),it[1]<xe&&(it[1]=xe),it},offsetSign=function(te){var ne=te.length;if(!(ne<=0))for(var xe=0,rt=te[0].length;xe<rt;++xe)for(var it=0,lt=0,ct=0;ct<ne;++ct){var ut=isNan(te[ct][xe][1])?te[ct][xe][0]:te[ct][xe][1];ut>=0?(te[ct][xe][0]=it,te[ct][xe][1]=it+ut,it=te[ct][xe][1]):(te[ct][xe][0]=lt,te[ct][xe][1]=lt+ut,lt=te[ct][xe][1])}},offsetPositive=function(te){var ne=te.length;if(!(ne<=0))for(var xe=0,rt=te[0].length;xe<rt;++xe)for(var it=0,lt=0;lt<ne;++lt){var ct=isNan(te[lt][xe][1])?te[lt][xe][0]:te[lt][xe][1];ct>=0?(te[lt][xe][0]=it,te[lt][xe][1]=it+ct,it=te[lt][xe][1]):(te[lt][xe][0]=0,te[lt][xe][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function(te,ne,xe){var rt=ne.map(function(ct){return ct.props.dataKey}),it=STACK_OFFSET_MAP[xe],lt=shapeStack().keys(rt).value(function(ct,ut){return+getValueByDataKey(ct,ut,0)}).order(stackOrderNone).offset(it);return lt(te)},getStackGroupsByAxisId=function(te,ne,xe,rt,it,lt){if(!te)return null;var ct=lt?ne.reverse():ne,ut={},dt=ct.reduce(function(ft,pt){var mt,xt=(mt=pt.type)!==null&&mt!==void 0&&mt.defaultProps?_objectSpread$v(_objectSpread$v({},pt.type.defaultProps),pt.props):pt.props,yt=xt.stackId,vt=xt.hide;if(vt)return ft;var Et=xt[xe],_t=ft[Et]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(yt)){var wt=_t.stackGroups[yt]||{numericAxisId:xe,cateAxisId:rt,items:[]};wt.items.push(pt),_t.hasStack=!0,_t.stackGroups[yt]=wt}else _t.stackGroups[uniqueId("_stackId_")]={numericAxisId:xe,cateAxisId:rt,items:[pt]};return _objectSpread$v(_objectSpread$v({},ft),{},_defineProperty$z({},Et,_t))},ut),ht={};return Object.keys(dt).reduce(function(ft,pt){var mt=dt[pt];if(mt.hasStack){var xt={};mt.stackGroups=Object.keys(mt.stackGroups).reduce(function(yt,vt){var Et=mt.stackGroups[vt];return _objectSpread$v(_objectSpread$v({},yt),{},_defineProperty$z({},vt,{numericAxisId:xe,cateAxisId:rt,items:Et.items,stackedData:getStackedData(te,Et.items,it)}))},xt)}return _objectSpread$v(_objectSpread$v({},ft),{},_defineProperty$z({},pt,mt))},ht)},getTicksOfScale=function(te,ne){var xe=ne.realScaleType,rt=ne.type,it=ne.tickCount,lt=ne.originalDomain,ct=ne.allowDecimals,ut=xe||ne.scale;if(ut!=="auto"&&ut!=="linear")return null;if(it&&rt==="number"&&lt&&(lt[0]==="auto"||lt[1]==="auto")){var dt=te.domain();if(!dt.length)return null;var ht=getNiceTickValues(dt,it,ct);return te.domain([min(ht),max(ht)]),{niceTicks:ht}}if(it&&rt==="number"){var ft=te.domain(),pt=getTickValuesFixedDomain(ft,it,ct);return{niceTicks:pt}}return null};function getCateCoordinateOfLine(ee){var te=ee.axis,ne=ee.ticks,xe=ee.bandSize,rt=ee.entry,it=ee.index,lt=ee.dataKey;if(te.type==="category"){if(!te.allowDuplicatedCategory&&te.dataKey&&!isNil(rt[te.dataKey])){var ct=findEntryInArray(ne,"value",rt[te.dataKey]);if(ct)return ct.coordinate+xe/2}return ne[it]?ne[it].coordinate+xe/2:null}var ut=getValueByDataKey(rt,isNil(lt)?te.dataKey:lt);return isNil(ut)?null:te.scale(ut)}var getCateCoordinateOfBar=function(te){var ne=te.axis,xe=te.ticks,rt=te.offset,it=te.bandSize,lt=te.entry,ct=te.index;if(ne.type==="category")return xe[ct]?xe[ct].coordinate+rt:null;var ut=getValueByDataKey(lt,ne.dataKey,ne.domain[ct]);return isNil(ut)?null:ne.scale(ut)-it/2+rt},getBaseValueOfBar=function(te){var ne=te.numericAxis,xe=ne.scale.domain();if(ne.type==="number"){var rt=Math.min(xe[0],xe[1]),it=Math.max(xe[0],xe[1]);return rt<=0&&it>=0?0:it<0?it:rt}return xe[0]},getStackedDataOfItem=function(te,ne){var xe,rt=(xe=te.type)!==null&&xe!==void 0&&xe.defaultProps?_objectSpread$v(_objectSpread$v({},te.type.defaultProps),te.props):te.props,it=rt.stackId;if(isNumOrStr(it)){var lt=ne[it];if(lt){var ct=lt.items.indexOf(te);return ct>=0?lt.stackedData[ct]:null}}return null},getDomainOfSingle=function(te){return te.reduce(function(ne,xe){return[min(xe.concat([ne[0]]).filter(isNumber)),max(xe.concat([ne[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function(te,ne,xe){return Object.keys(te).reduce(function(rt,it){var lt=te[it],ct=lt.stackedData,ut=ct.reduce(function(dt,ht){var ft=getDomainOfSingle(ht.slice(ne,xe+1));return[Math.min(dt[0],ft[0]),Math.max(dt[1],ft[1])]},[1/0,-1/0]);return[Math.min(ut[0],rt[0]),Math.max(ut[1],rt[1])]},[1/0,-1/0]).map(function(rt){return rt===1/0||rt===-1/0?0:rt})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(te,ne,xe){if(isFunction$1(te))return te(ne,xe);if(!Array.isArray(te))return ne;var rt=[];if(isNumber(te[0]))rt[0]=xe?te[0]:Math.min(te[0],ne[0]);else if(MIN_VALUE_REG.test(te[0])){var it=+MIN_VALUE_REG.exec(te[0])[1];rt[0]=ne[0]-it}else isFunction$1(te[0])?rt[0]=te[0](ne[0]):rt[0]=ne[0];if(isNumber(te[1]))rt[1]=xe?te[1]:Math.max(te[1],ne[1]);else if(MAX_VALUE_REG.test(te[1])){var lt=+MAX_VALUE_REG.exec(te[1])[1];rt[1]=ne[1]+lt}else isFunction$1(te[1])?rt[1]=te[1](ne[1]):rt[1]=ne[1];return rt},getBandSizeOfAxis=function(te,ne,xe){if(te&&te.scale&&te.scale.bandwidth){var rt=te.scale.bandwidth();if(!xe||rt>0)return rt}if(te&&ne&&ne.length>=2){for(var it=sortBy(ne,function(ft){return ft.coordinate}),lt=1/0,ct=1,ut=it.length;ct<ut;ct++){var dt=it[ct],ht=it[ct-1];lt=Math.min((dt.coordinate||0)-(ht.coordinate||0),lt)}return lt===1/0?0:lt}return xe?void 0:0},parseDomainOfCategoryAxis=function(te,ne,xe){return!te||!te.length||isEqual(te,get$2(xe,"type.defaultProps.domain"))?ne:te},getTooltipItem=function(te,ne){var xe=te.type.defaultProps?_objectSpread$v(_objectSpread$v({},te.type.defaultProps),te.props):te.props,rt=xe.dataKey,it=xe.name,lt=xe.unit,ct=xe.formatter,ut=xe.tooltipType,dt=xe.chartType,ht=xe.hide;return _objectSpread$v(_objectSpread$v({},filterProps(te,!1)),{},{dataKey:rt,unit:lt,formatter:ct,name:it||rt,color:getMainColorOfGraphicItem(te),value:getValueByDataKey(ne,rt),type:ut,payload:ne,chartType:dt,hide:ht})};function _typeof$y(ee){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$y(ee)}function ownKeys$v(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$u(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$v(Object(ne),!0).forEach(function(xe){_defineProperty$y(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$v(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$y(ee,te,ne){return te=_toPropertyKey$y(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$y(ee){var te=_toPrimitive$y(ee,"string");return _typeof$y(te)=="symbol"?te:te+""}function _toPrimitive$y(ee,te){if(_typeof$y(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$y(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _slicedToArray$7(ee,te){return _arrayWithHoles$8(ee)||_iterableToArrayLimit$7(ee,te)||_unsupportedIterableToArray$e(ee,te)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$e(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$e(ee,te)}}function _arrayLikeToArray$e(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$7(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$8(ee){if(Array.isArray(ee))return ee}var RADIAN$1=Math.PI/180,radianToDegree=function(te){return te*180/Math.PI},polarToCartesian=function(te,ne,xe,rt){return{x:te+Math.cos(-RADIAN$1*rt)*xe,y:ne+Math.sin(-RADIAN$1*rt)*xe}},getMaxRadius=function(te,ne){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(te-(xe.left||0)-(xe.right||0)),Math.abs(ne-(xe.top||0)-(xe.bottom||0)))/2},formatAxisMap$1=function(te,ne,xe,rt,it){var lt=te.width,ct=te.height,ut=te.startAngle,dt=te.endAngle,ht=getPercentValue(te.cx,lt,lt/2),ft=getPercentValue(te.cy,ct,ct/2),pt=getMaxRadius(lt,ct,xe),mt=getPercentValue(te.innerRadius,pt,0),xt=getPercentValue(te.outerRadius,pt,pt*.8),yt=Object.keys(ne);return yt.reduce(function(vt,Et){var _t=ne[Et],wt=_t.domain,St=_t.reversed,Ct;if(isNil(_t.range))rt==="angleAxis"?Ct=[ut,dt]:rt==="radiusAxis"&&(Ct=[mt,xt]),St&&(Ct=[Ct[1],Ct[0]]);else{Ct=_t.range;var jt=Ct,Rt=_slicedToArray$7(jt,2);ut=Rt[0],dt=Rt[1]}var Pt=parseScale(_t,it),Ot=Pt.realScaleType,Ft=Pt.scale;Ft.domain(wt).range(Ct),checkDomainOfScale(Ft);var Lt=getTicksOfScale(Ft,_objectSpread$u(_objectSpread$u({},_t),{},{realScaleType:Ot})),Bt=_objectSpread$u(_objectSpread$u(_objectSpread$u({},_t),Lt),{},{range:Ct,radius:xt,realScaleType:Ot,scale:Ft,cx:ht,cy:ft,innerRadius:mt,outerRadius:xt,startAngle:ut,endAngle:dt});return _objectSpread$u(_objectSpread$u({},vt),{},_defineProperty$y({},Et,Bt))},{})},distanceBetweenPoints=function(te,ne){var xe=te.x,rt=te.y,it=ne.x,lt=ne.y;return Math.sqrt(Math.pow(xe-it,2)+Math.pow(rt-lt,2))},getAngleOfPoint=function(te,ne){var xe=te.x,rt=te.y,it=ne.cx,lt=ne.cy,ct=distanceBetweenPoints({x:xe,y:rt},{x:it,y:lt});if(ct<=0)return{radius:ct};var ut=(xe-it)/ct,dt=Math.acos(ut);return rt>lt&&(dt=2*Math.PI-dt),{radius:ct,angle:radianToDegree(dt),angleInRadian:dt}},formatAngleOfSector=function(te){var ne=te.startAngle,xe=te.endAngle,rt=Math.floor(ne/360),it=Math.floor(xe/360),lt=Math.min(rt,it);return{startAngle:ne-lt*360,endAngle:xe-lt*360}},reverseFormatAngleOfSetor=function(te,ne){var xe=ne.startAngle,rt=ne.endAngle,it=Math.floor(xe/360),lt=Math.floor(rt/360),ct=Math.min(it,lt);return te+ct*360},inRangeOfSector=function(te,ne){var xe=te.x,rt=te.y,it=getAngleOfPoint({x:xe,y:rt},ne),lt=it.radius,ct=it.angle,ut=ne.innerRadius,dt=ne.outerRadius;if(lt<ut||lt>dt)return!1;if(lt===0)return!0;var ht=formatAngleOfSector(ne),ft=ht.startAngle,pt=ht.endAngle,mt=ct,xt;if(ft<=pt){for(;mt>pt;)mt-=360;for(;mt<ft;)mt+=360;xt=mt>=ft&&mt<=pt}else{for(;mt>ft;)mt-=360;for(;mt<pt;)mt+=360;xt=mt>=pt&&mt<=ft}return xt?_objectSpread$u(_objectSpread$u({},ne),{},{radius:lt,angle:reverseFormatAngleOfSetor(mt,ne)}):null},getTickClassName=function(te){return!reactExports.isValidElement(te)&&!isFunction$1(te)&&typeof te!="boolean"?te.className:""};function _typeof$x(ee){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$x(ee)}var _excluded$g=["offset"];function _toConsumableArray$8(ee){return _arrayWithoutHoles$8(ee)||_iterableToArray$9(ee)||_unsupportedIterableToArray$d(ee)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$d(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$d(ee,te)}}function _iterableToArray$9(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$8(ee){if(Array.isArray(ee))return _arrayLikeToArray$d(ee)}function _arrayLikeToArray$d(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _objectWithoutProperties$f(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$f(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$f(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function ownKeys$u(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$t(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$u(Object(ne),!0).forEach(function(xe){_defineProperty$x(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$u(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$x(ee,te,ne){return te=_toPropertyKey$x(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$x(ee){var te=_toPrimitive$x(ee,"string");return _typeof$x(te)=="symbol"?te:te+""}function _toPrimitive$x(ee,te){if(_typeof$x(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$x(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$p.apply(this,arguments)}var getLabel=function(te){var ne=te.value,xe=te.formatter,rt=isNil(te.children)?ne:te.children;return isFunction$1(xe)?xe(rt):rt},getDeltaAngle$1=function(te,ne){var xe=mathSign(ne-te),rt=Math.min(Math.abs(ne-te),360);return xe*rt},renderRadialLabel=function(te,ne,xe){var rt=te.position,it=te.viewBox,lt=te.offset,ct=te.className,ut=it,dt=ut.cx,ht=ut.cy,ft=ut.innerRadius,pt=ut.outerRadius,mt=ut.startAngle,xt=ut.endAngle,yt=ut.clockWise,vt=(ft+pt)/2,Et=getDeltaAngle$1(mt,xt),_t=Et>=0?1:-1,wt,St;rt==="insideStart"?(wt=mt+_t*lt,St=yt):rt==="insideEnd"?(wt=xt-_t*lt,St=!yt):rt==="end"&&(wt=xt+_t*lt,St=yt),St=Et<=0?St:!St;var Ct=polarToCartesian(dt,ht,vt,wt),jt=polarToCartesian(dt,ht,vt,wt+(St?1:-1)*359),Rt="M".concat(Ct.x,",").concat(Ct.y,`
    A`).concat(vt,",").concat(vt,",0,1,").concat(St?0:1,`,
    `).concat(jt.x,",").concat(jt.y),Pt=isNil(te.id)?uniqueId("recharts-radial-line-"):te.id;return React.createElement("text",_extends$p({},xe,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",ct)}),React.createElement("defs",null,React.createElement("path",{id:Pt,d:Rt})),React.createElement("textPath",{xlinkHref:"#".concat(Pt)},ne))},getAttrsOfPolarLabel=function(te){var ne=te.viewBox,xe=te.offset,rt=te.position,it=ne,lt=it.cx,ct=it.cy,ut=it.innerRadius,dt=it.outerRadius,ht=it.startAngle,ft=it.endAngle,pt=(ht+ft)/2;if(rt==="outside"){var mt=polarToCartesian(lt,ct,dt+xe,pt),xt=mt.x,yt=mt.y;return{x:xt,y:yt,textAnchor:xt>=lt?"start":"end",verticalAnchor:"middle"}}if(rt==="center")return{x:lt,y:ct,textAnchor:"middle",verticalAnchor:"middle"};if(rt==="centerTop")return{x:lt,y:ct,textAnchor:"middle",verticalAnchor:"start"};if(rt==="centerBottom")return{x:lt,y:ct,textAnchor:"middle",verticalAnchor:"end"};var vt=(ut+dt)/2,Et=polarToCartesian(lt,ct,vt,pt),_t=Et.x,wt=Et.y;return{x:_t,y:wt,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function(te){var ne=te.viewBox,xe=te.parentViewBox,rt=te.offset,it=te.position,lt=ne,ct=lt.x,ut=lt.y,dt=lt.width,ht=lt.height,ft=ht>=0?1:-1,pt=ft*rt,mt=ft>0?"end":"start",xt=ft>0?"start":"end",yt=dt>=0?1:-1,vt=yt*rt,Et=yt>0?"end":"start",_t=yt>0?"start":"end";if(it==="top"){var wt={x:ct+dt/2,y:ut-ft*rt,textAnchor:"middle",verticalAnchor:mt};return _objectSpread$t(_objectSpread$t({},wt),xe?{height:Math.max(ut-xe.y,0),width:dt}:{})}if(it==="bottom"){var St={x:ct+dt/2,y:ut+ht+pt,textAnchor:"middle",verticalAnchor:xt};return _objectSpread$t(_objectSpread$t({},St),xe?{height:Math.max(xe.y+xe.height-(ut+ht),0),width:dt}:{})}if(it==="left"){var Ct={x:ct-vt,y:ut+ht/2,textAnchor:Et,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},Ct),xe?{width:Math.max(Ct.x-xe.x,0),height:ht}:{})}if(it==="right"){var jt={x:ct+dt+vt,y:ut+ht/2,textAnchor:_t,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},jt),xe?{width:Math.max(xe.x+xe.width-jt.x,0),height:ht}:{})}var Rt=xe?{width:dt,height:ht}:{};return it==="insideLeft"?_objectSpread$t({x:ct+vt,y:ut+ht/2,textAnchor:_t,verticalAnchor:"middle"},Rt):it==="insideRight"?_objectSpread$t({x:ct+dt-vt,y:ut+ht/2,textAnchor:Et,verticalAnchor:"middle"},Rt):it==="insideTop"?_objectSpread$t({x:ct+dt/2,y:ut+pt,textAnchor:"middle",verticalAnchor:xt},Rt):it==="insideBottom"?_objectSpread$t({x:ct+dt/2,y:ut+ht-pt,textAnchor:"middle",verticalAnchor:mt},Rt):it==="insideTopLeft"?_objectSpread$t({x:ct+vt,y:ut+pt,textAnchor:_t,verticalAnchor:xt},Rt):it==="insideTopRight"?_objectSpread$t({x:ct+dt-vt,y:ut+pt,textAnchor:Et,verticalAnchor:xt},Rt):it==="insideBottomLeft"?_objectSpread$t({x:ct+vt,y:ut+ht-pt,textAnchor:_t,verticalAnchor:mt},Rt):it==="insideBottomRight"?_objectSpread$t({x:ct+dt-vt,y:ut+ht-pt,textAnchor:Et,verticalAnchor:mt},Rt):isObject$2(it)&&(isNumber(it.x)||isPercent(it.x))&&(isNumber(it.y)||isPercent(it.y))?_objectSpread$t({x:ct+getPercentValue(it.x,dt),y:ut+getPercentValue(it.y,ht),textAnchor:"end",verticalAnchor:"end"},Rt):_objectSpread$t({x:ct+dt/2,y:ut+ht/2,textAnchor:"middle",verticalAnchor:"middle"},Rt)},isPolar=function(te){return"cx"in te&&isNumber(te.cx)};function Label(ee){var te=ee.offset,ne=te===void 0?5:te,xe=_objectWithoutProperties$f(ee,_excluded$g),rt=_objectSpread$t({offset:ne},xe),it=rt.viewBox,lt=rt.position,ct=rt.value,ut=rt.children,dt=rt.content,ht=rt.className,ft=ht===void 0?"":ht,pt=rt.textBreakAll;if(!it||isNil(ct)&&isNil(ut)&&!reactExports.isValidElement(dt)&&!isFunction$1(dt))return null;if(reactExports.isValidElement(dt))return reactExports.cloneElement(dt,rt);var mt;if(isFunction$1(dt)){if(mt=reactExports.createElement(dt,rt),reactExports.isValidElement(mt))return mt}else mt=getLabel(rt);var xt=isPolar(it),yt=filterProps(rt,!0);if(xt&&(lt==="insideStart"||lt==="insideEnd"||lt==="end"))return renderRadialLabel(rt,mt,yt);var vt=xt?getAttrsOfPolarLabel(rt):getAttrsOfCartesianLabel(rt);return React.createElement(Text,_extends$p({className:clsx("recharts-label",ft)},yt,vt,{breakAll:pt}),mt)}Label.displayName="Label";var parseViewBox=function(te){var ne=te.cx,xe=te.cy,rt=te.angle,it=te.startAngle,lt=te.endAngle,ct=te.r,ut=te.radius,dt=te.innerRadius,ht=te.outerRadius,ft=te.x,pt=te.y,mt=te.top,xt=te.left,yt=te.width,vt=te.height,Et=te.clockWise,_t=te.labelViewBox;if(_t)return _t;if(isNumber(yt)&&isNumber(vt)){if(isNumber(ft)&&isNumber(pt))return{x:ft,y:pt,width:yt,height:vt};if(isNumber(mt)&&isNumber(xt))return{x:mt,y:xt,width:yt,height:vt}}return isNumber(ft)&&isNumber(pt)?{x:ft,y:pt,width:0,height:0}:isNumber(ne)&&isNumber(xe)?{cx:ne,cy:xe,startAngle:it||rt||0,endAngle:lt||rt||0,innerRadius:dt||0,outerRadius:ht||ut||ct||0,clockWise:Et}:te.viewBox?te.viewBox:{}},parseLabel=function(te,ne){return te?te===!0?React.createElement(Label,{key:"label-implicit",viewBox:ne}):isNumOrStr(te)?React.createElement(Label,{key:"label-implicit",viewBox:ne,value:te}):reactExports.isValidElement(te)?te.type===Label?reactExports.cloneElement(te,{key:"label-implicit",viewBox:ne}):React.createElement(Label,{key:"label-implicit",content:te,viewBox:ne}):isFunction$1(te)?React.createElement(Label,{key:"label-implicit",content:te,viewBox:ne}):isObject$2(te)?React.createElement(Label,_extends$p({viewBox:ne},te,{key:"label-implicit"})):null:null},renderCallByParent$1=function(te,ne){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!te||!te.children&&xe&&!te.label)return null;var rt=te.children,it=parseViewBox(te),lt=findAllByType(rt,Label).map(function(ut,dt){return reactExports.cloneElement(ut,{viewBox:ne||it,key:"label-".concat(dt)})});if(!xe)return lt;var ct=parseLabel(te.label,ne||it);return[ct].concat(_toConsumableArray$8(lt))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function ee(te){var ne=te==null?0:te.length;return ne?te[ne-1]:void 0}return last_1=ee,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);function _typeof$w(ee){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$w(ee)}var _excluded$f=["valueAccessor"],_excluded2$5=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(ee){return _arrayWithoutHoles$7(ee)||_iterableToArray$8(ee)||_unsupportedIterableToArray$c(ee)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$c(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$c(ee,te)}}function _iterableToArray$8(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$7(ee){if(Array.isArray(ee))return _arrayLikeToArray$c(ee)}function _arrayLikeToArray$c(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$o.apply(this,arguments)}function ownKeys$t(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$s(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$t(Object(ne),!0).forEach(function(xe){_defineProperty$w(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$t(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$w(ee,te,ne){return te=_toPropertyKey$w(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$w(ee){var te=_toPrimitive$w(ee,"string");return _typeof$w(te)=="symbol"?te:te+""}function _toPrimitive$w(ee,te){if(_typeof$w(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$w(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _objectWithoutProperties$e(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$e(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$e(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}var defaultAccessor=function(te){return Array.isArray(te.value)?last(te.value):te.value};function LabelList(ee){var te=ee.valueAccessor,ne=te===void 0?defaultAccessor:te,xe=_objectWithoutProperties$e(ee,_excluded$f),rt=xe.data,it=xe.dataKey,lt=xe.clockWise,ct=xe.id,ut=xe.textBreakAll,dt=_objectWithoutProperties$e(xe,_excluded2$5);return!rt||!rt.length?null:React.createElement(Layer,{className:"recharts-label-list"},rt.map(function(ht,ft){var pt=isNil(it)?ne(ht,ft):getValueByDataKey(ht&&ht.payload,it),mt=isNil(ct)?{}:{id:"".concat(ct,"-").concat(ft)};return React.createElement(Label,_extends$o({},filterProps(ht,!0),dt,mt,{parentViewBox:ht.parentViewBox,value:pt,textBreakAll:ut,viewBox:Label.parseViewBox(isNil(lt)?ht:_objectSpread$s(_objectSpread$s({},ht),{},{clockWise:lt})),key:"label-".concat(ft),index:ft}))}))}LabelList.displayName="LabelList";function parseLabelList(ee,te){return ee?ee===!0?React.createElement(LabelList,{key:"labelList-implicit",data:te}):React.isValidElement(ee)||isFunction$1(ee)?React.createElement(LabelList,{key:"labelList-implicit",data:te,content:ee}):isObject$2(ee)?React.createElement(LabelList,_extends$o({data:te},ee,{key:"labelList-implicit"})):null:null}function renderCallByParent(ee,te){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!ee||!ee.children&&ne&&!ee.label)return null;var xe=ee.children,rt=findAllByType(xe,LabelList).map(function(lt,ct){return reactExports.cloneElement(lt,{data:te,key:"labelList-".concat(ct)})});if(!ne)return rt;var it=parseLabelList(ee.label,te);return[it].concat(_toConsumableArray$7(rt))}LabelList.renderCallByParent=renderCallByParent;function _typeof$v(ee){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$v(ee)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$n.apply(this,arguments)}function ownKeys$s(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$r(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$s(Object(ne),!0).forEach(function(xe){_defineProperty$v(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$s(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$v(ee,te,ne){return te=_toPropertyKey$v(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$v(ee){var te=_toPrimitive$v(ee,"string");return _typeof$v(te)=="symbol"?te:te+""}function _toPrimitive$v(ee,te){if(_typeof$v(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$v(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var getDeltaAngle=function(te,ne){var xe=mathSign(ne-te),rt=Math.min(Math.abs(ne-te),359.999);return xe*rt},getTangentCircle=function(te){var ne=te.cx,xe=te.cy,rt=te.radius,it=te.angle,lt=te.sign,ct=te.isExternal,ut=te.cornerRadius,dt=te.cornerIsExternal,ht=ut*(ct?1:-1)+rt,ft=Math.asin(ut/ht)/RADIAN$1,pt=dt?it:it+lt*ft,mt=polarToCartesian(ne,xe,ht,pt),xt=polarToCartesian(ne,xe,rt,pt),yt=dt?it-lt*ft:it,vt=polarToCartesian(ne,xe,ht*Math.cos(ft*RADIAN$1),yt);return{center:mt,circleTangency:xt,lineTangency:vt,theta:ft}},getSectorPath=function(te){var ne=te.cx,xe=te.cy,rt=te.innerRadius,it=te.outerRadius,lt=te.startAngle,ct=te.endAngle,ut=getDeltaAngle(lt,ct),dt=lt+ut,ht=polarToCartesian(ne,xe,it,lt),ft=polarToCartesian(ne,xe,it,dt),pt="M ".concat(ht.x,",").concat(ht.y,`
    A `).concat(it,",").concat(it,`,0,
    `).concat(+(Math.abs(ut)>180),",").concat(+(lt>dt),`,
    `).concat(ft.x,",").concat(ft.y,`
  `);if(rt>0){var mt=polarToCartesian(ne,xe,rt,lt),xt=polarToCartesian(ne,xe,rt,dt);pt+="L ".concat(xt.x,",").concat(xt.y,`
            A `).concat(rt,",").concat(rt,`,0,
            `).concat(+(Math.abs(ut)>180),",").concat(+(lt<=dt),`,
            `).concat(mt.x,",").concat(mt.y," Z")}else pt+="L ".concat(ne,",").concat(xe," Z");return pt},getSectorWithCorner=function(te){var ne=te.cx,xe=te.cy,rt=te.innerRadius,it=te.outerRadius,lt=te.cornerRadius,ct=te.forceCornerRadius,ut=te.cornerIsExternal,dt=te.startAngle,ht=te.endAngle,ft=mathSign(ht-dt),pt=getTangentCircle({cx:ne,cy:xe,radius:it,angle:dt,sign:ft,cornerRadius:lt,cornerIsExternal:ut}),mt=pt.circleTangency,xt=pt.lineTangency,yt=pt.theta,vt=getTangentCircle({cx:ne,cy:xe,radius:it,angle:ht,sign:-ft,cornerRadius:lt,cornerIsExternal:ut}),Et=vt.circleTangency,_t=vt.lineTangency,wt=vt.theta,St=ut?Math.abs(dt-ht):Math.abs(dt-ht)-yt-wt;if(St<0)return ct?"M ".concat(xt.x,",").concat(xt.y,`
        a`).concat(lt,",").concat(lt,",0,0,1,").concat(lt*2,`,0
        a`).concat(lt,",").concat(lt,",0,0,1,").concat(-lt*2,`,0
      `):getSectorPath({cx:ne,cy:xe,innerRadius:rt,outerRadius:it,startAngle:dt,endAngle:ht});var Ct="M ".concat(xt.x,",").concat(xt.y,`
    A`).concat(lt,",").concat(lt,",0,0,").concat(+(ft<0),",").concat(mt.x,",").concat(mt.y,`
    A`).concat(it,",").concat(it,",0,").concat(+(St>180),",").concat(+(ft<0),",").concat(Et.x,",").concat(Et.y,`
    A`).concat(lt,",").concat(lt,",0,0,").concat(+(ft<0),",").concat(_t.x,",").concat(_t.y,`
  `);if(rt>0){var jt=getTangentCircle({cx:ne,cy:xe,radius:rt,angle:dt,sign:ft,isExternal:!0,cornerRadius:lt,cornerIsExternal:ut}),Rt=jt.circleTangency,Pt=jt.lineTangency,Ot=jt.theta,Ft=getTangentCircle({cx:ne,cy:xe,radius:rt,angle:ht,sign:-ft,isExternal:!0,cornerRadius:lt,cornerIsExternal:ut}),Lt=Ft.circleTangency,Bt=Ft.lineTangency,Gt=Ft.theta,It=ut?Math.abs(dt-ht):Math.abs(dt-ht)-Ot-Gt;if(It<0&&lt===0)return"".concat(Ct,"L").concat(ne,",").concat(xe,"Z");Ct+="L".concat(Bt.x,",").concat(Bt.y,`
      A`).concat(lt,",").concat(lt,",0,0,").concat(+(ft<0),",").concat(Lt.x,",").concat(Lt.y,`
      A`).concat(rt,",").concat(rt,",0,").concat(+(It>180),",").concat(+(ft>0),",").concat(Rt.x,",").concat(Rt.y,`
      A`).concat(lt,",").concat(lt,",0,0,").concat(+(ft<0),",").concat(Pt.x,",").concat(Pt.y,"Z")}else Ct+="L".concat(ne,",").concat(xe,"Z");return Ct},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(te){var ne=_objectSpread$r(_objectSpread$r({},defaultProps$3),te),xe=ne.cx,rt=ne.cy,it=ne.innerRadius,lt=ne.outerRadius,ct=ne.cornerRadius,ut=ne.forceCornerRadius,dt=ne.cornerIsExternal,ht=ne.startAngle,ft=ne.endAngle,pt=ne.className;if(lt<it||ht===ft)return null;var mt=clsx("recharts-sector",pt),xt=lt-it,yt=getPercentValue(ct,xt,0,!0),vt;return yt>0&&Math.abs(ht-ft)<360?vt=getSectorWithCorner({cx:xe,cy:rt,innerRadius:it,outerRadius:lt,cornerRadius:Math.min(yt,xt/2),forceCornerRadius:ut,cornerIsExternal:dt,startAngle:ht,endAngle:ft}):vt=getSectorPath({cx:xe,cy:rt,innerRadius:it,outerRadius:lt,startAngle:ht,endAngle:ft}),React.createElement("path",_extends$n({},filterProps(ne,!0),{className:mt,d:vt,role:"img"}))};function _typeof$u(ee){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$u(ee)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$m.apply(this,arguments)}function ownKeys$r(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$q(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$r(Object(ne),!0).forEach(function(xe){_defineProperty$u(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$r(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$u(ee,te,ne){return te=_toPropertyKey$u(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$u(ee){var te=_toPrimitive$u(ee,"string");return _typeof$u(te)=="symbol"?te:te+""}function _toPrimitive$u(ee,te){if(_typeof$u(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$u(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function(te){return te.x===+te.x&&te.y===+te.y},getX=function(te){return te.x},getY=function(te){return te.y},getCurveFactory=function(te,ne){if(isFunction$1(te))return te;var xe="curve".concat(upperFirst(te));return(xe==="curveMonotone"||xe==="curveBump")&&ne?CURVE_FACTORIES["".concat(xe).concat(ne==="vertical"?"Y":"X")]:CURVE_FACTORIES[xe]||curveLinear},getPath$1=function(te){var ne=te.type,xe=ne===void 0?"linear":ne,rt=te.points,it=rt===void 0?[]:rt,lt=te.baseLine,ct=te.layout,ut=te.connectNulls,dt=ut===void 0?!1:ut,ht=getCurveFactory(xe,ct),ft=dt?it.filter(function(yt){return defined(yt)}):it,pt;if(Array.isArray(lt)){var mt=dt?lt.filter(function(yt){return defined(yt)}):lt,xt=ft.map(function(yt,vt){return _objectSpread$q(_objectSpread$q({},yt),{},{base:mt[vt]})});return ct==="vertical"?pt=shapeArea().y(getY).x1(getX).x0(function(yt){return yt.base.x}):pt=shapeArea().x(getX).y1(getY).y0(function(yt){return yt.base.y}),pt.defined(defined).curve(ht),pt(xt)}return ct==="vertical"&&isNumber(lt)?pt=shapeArea().y(getY).x1(getX).x0(lt):isNumber(lt)?pt=shapeArea().x(getX).y1(getY).y0(lt):pt=line$1().x(getX).y(getY),pt.defined(defined).curve(ht),pt(ft)},Curve=function(te){var ne=te.className,xe=te.points,rt=te.path,it=te.pathRef;if((!xe||!xe.length)&&!rt)return null;var lt=xe&&xe.length?getPath$1(te):rt;return reactExports.createElement("path",_extends$m({},filterProps(te,!1),adaptEventHandlers(te),{className:clsx("recharts-curve",ne),d:lt,ref:it}))},propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var ee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=ee,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var ee=requireReactPropTypesSecret();function te(){}function ne(){}return ne.resetWarningCache=te,factoryWithThrowingShims=function(){function xe(lt,ct,ut,dt,ht,ft){if(ft!==ee){var pt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw pt.name="Invariant Violation",pt}}xe.isRequired=xe;function rt(){return xe}var it={array:xe,bigint:xe,bool:xe,func:xe,number:xe,object:xe,string:xe,symbol:xe,any:xe,arrayOf:rt,element:xe,elementType:xe,instanceOf:rt,node:xe,objectOf:rt,oneOf:rt,oneOfType:rt,shape:rt,exact:rt,checkPropTypes:ne,resetWarningCache:te};return it.PropTypes=it,it},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty:hasOwnProperty$c}=Object.prototype;function combineComparators(ee,te){return function(xe,rt,it){return ee(xe,rt,it)&&te(xe,rt,it)}}function createIsCircular(ee){return function(ne,xe,rt){if(!ne||!xe||typeof ne!="object"||typeof xe!="object")return ee(ne,xe,rt);const{cache:it}=rt,lt=it.get(ne),ct=it.get(xe);if(lt&&ct)return lt===xe&&ct===ne;it.set(ne,xe),it.set(xe,ne);const ut=ee(ne,xe,rt);return it.delete(ne),it.delete(xe),ut}}function getShortTag(ee){return ee?.[Symbol.toStringTag]}function getStrictProperties(ee){return getOwnPropertyNames(ee).concat(getOwnPropertySymbols(ee))}const hasOwn=Object.hasOwn||((ee,te)=>hasOwnProperty$c.call(ee,te));function sameValueZeroEqual(ee,te){return ee===te||!ee&&!te&&ee!==ee&&te!==te}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor:getOwnPropertyDescriptor$1,keys:keys$1}=Object;function areArrayBuffersEqual(ee,te){return ee.byteLength===te.byteLength&&areTypedArraysEqual(new Uint8Array(ee),new Uint8Array(te))}function areArraysEqual(ee,te,ne){let xe=ee.length;if(te.length!==xe)return!1;for(;xe-- >0;)if(!ne.equals(ee[xe],te[xe],xe,xe,ee,te,ne))return!1;return!0}function areDataViewsEqual(ee,te){return ee.byteLength===te.byteLength&&areTypedArraysEqual(new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength),new Uint8Array(te.buffer,te.byteOffset,te.byteLength))}function areDatesEqual(ee,te){return sameValueZeroEqual(ee.getTime(),te.getTime())}function areErrorsEqual(ee,te){return ee.name===te.name&&ee.message===te.message&&ee.cause===te.cause&&ee.stack===te.stack}function areFunctionsEqual(ee,te){return ee===te}function areMapsEqual(ee,te,ne){const xe=ee.size;if(xe!==te.size)return!1;if(!xe)return!0;const rt=new Array(xe),it=ee.entries();let lt,ct,ut=0;for(;(lt=it.next())&&!lt.done;){const dt=te.entries();let ht=!1,ft=0;for(;(ct=dt.next())&&!ct.done;){if(rt[ft]){ft++;continue}const pt=lt.value,mt=ct.value;if(ne.equals(pt[0],mt[0],ut,ft,ee,te,ne)&&ne.equals(pt[1],mt[1],pt[0],mt[0],ee,te,ne)){ht=rt[ft]=!0;break}ft++}if(!ht)return!1;ut++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(ee,te,ne){const xe=keys$1(ee);let rt=xe.length;if(keys$1(te).length!==rt)return!1;for(;rt-- >0;)if(!isPropertyEqual(ee,te,ne,xe[rt]))return!1;return!0}function areObjectsEqualStrict(ee,te,ne){const xe=getStrictProperties(ee);let rt=xe.length;if(getStrictProperties(te).length!==rt)return!1;let it,lt,ct;for(;rt-- >0;)if(it=xe[rt],!isPropertyEqual(ee,te,ne,it)||(lt=getOwnPropertyDescriptor$1(ee,it),ct=getOwnPropertyDescriptor$1(te,it),(lt||ct)&&(!lt||!ct||lt.configurable!==ct.configurable||lt.enumerable!==ct.enumerable||lt.writable!==ct.writable)))return!1;return!0}function arePrimitiveWrappersEqual(ee,te){return sameValueZeroEqual(ee.valueOf(),te.valueOf())}function areRegExpsEqual(ee,te){return ee.source===te.source&&ee.flags===te.flags}function areSetsEqual$1(ee,te,ne){const xe=ee.size;if(xe!==te.size)return!1;if(!xe)return!0;const rt=new Array(xe),it=ee.values();let lt,ct;for(;(lt=it.next())&&!lt.done;){const ut=te.values();let dt=!1,ht=0;for(;(ct=ut.next())&&!ct.done;){if(!rt[ht]&&ne.equals(lt.value,ct.value,lt.value,ct.value,ee,te,ne)){dt=rt[ht]=!0;break}ht++}if(!dt)return!1}return!0}function areTypedArraysEqual(ee,te){let ne=ee.byteLength;if(te.byteLength!==ne||ee.byteOffset!==te.byteOffset)return!1;for(;ne-- >0;)if(ee[ne]!==te[ne])return!1;return!0}function areUrlsEqual(ee,te){return ee.hostname===te.hostname&&ee.pathname===te.pathname&&ee.protocol===te.protocol&&ee.port===te.port&&ee.hash===te.hash&&ee.username===te.username&&ee.password===te.password}function isPropertyEqual(ee,te,ne,xe){return(xe===REACT_OWNER||xe===PREACT_OWNER||xe===PREACT_VNODE)&&(ee.$$typeof||te.$$typeof)?!0:hasOwn(te,xe)&&ne.equals(ee[xe],te[xe],xe,xe,ee,te,ne)}const ARRAY_BUFFER_TAG="[object ArrayBuffer]",ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATA_VIEW_TAG="[object DataView]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",TYPED_ARRAY_TAGS={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},URL_TAG="[object URL]",toString$2=Object.prototype.toString;function createEqualityComparator({areArrayBuffersEqual:ee,areArraysEqual:te,areDataViewsEqual:ne,areDatesEqual:xe,areErrorsEqual:rt,areFunctionsEqual:it,areMapsEqual:lt,areNumbersEqual:ct,areObjectsEqual:ut,arePrimitiveWrappersEqual:dt,areRegExpsEqual:ht,areSetsEqual:ft,areTypedArraysEqual:pt,areUrlsEqual:mt,unknownTagComparators:xt}){return function(vt,Et,_t){if(vt===Et)return!0;if(vt==null||Et==null)return!1;const wt=typeof vt;if(wt!==typeof Et)return!1;if(wt!=="object")return wt==="number"?ct(vt,Et,_t):wt==="function"?it(vt,Et,_t):!1;const St=vt.constructor;if(St!==Et.constructor)return!1;if(St===Object)return ut(vt,Et,_t);if(Array.isArray(vt))return te(vt,Et,_t);if(St===Date)return xe(vt,Et,_t);if(St===RegExp)return ht(vt,Et,_t);if(St===Map)return lt(vt,Et,_t);if(St===Set)return ft(vt,Et,_t);const Ct=toString$2.call(vt);if(Ct===DATE_TAG)return xe(vt,Et,_t);if(Ct===REG_EXP_TAG)return ht(vt,Et,_t);if(Ct===MAP_TAG)return lt(vt,Et,_t);if(Ct===SET_TAG)return ft(vt,Et,_t);if(Ct===OBJECT_TAG)return typeof vt.then!="function"&&typeof Et.then!="function"&&ut(vt,Et,_t);if(Ct===URL_TAG)return mt(vt,Et,_t);if(Ct===ERROR_TAG)return rt(vt,Et,_t);if(Ct===ARGUMENTS_TAG)return ut(vt,Et,_t);if(TYPED_ARRAY_TAGS[Ct])return pt(vt,Et,_t);if(Ct===ARRAY_BUFFER_TAG)return ee(vt,Et,_t);if(Ct===DATA_VIEW_TAG)return ne(vt,Et,_t);if(Ct===BOOLEAN_TAG||Ct===NUMBER_TAG||Ct===STRING_TAG)return dt(vt,Et,_t);if(xt){let jt=xt[Ct];if(!jt){const Rt=getShortTag(vt);Rt&&(jt=xt[Rt])}if(jt)return jt(vt,Et,_t)}return!1}}function createEqualityComparatorConfig({circular:ee,createCustomConfig:te,strict:ne}){let xe={areArrayBuffersEqual,areArraysEqual:ne?areObjectsEqualStrict:areArraysEqual,areDataViewsEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:ne?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:ne?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:ne?combineComparators(areSetsEqual$1,areObjectsEqualStrict):areSetsEqual$1,areTypedArraysEqual:ne?combineComparators(areTypedArraysEqual,areObjectsEqualStrict):areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(te&&(xe=Object.assign({},xe,te(xe))),ee){const rt=createIsCircular(xe.areArraysEqual),it=createIsCircular(xe.areMapsEqual),lt=createIsCircular(xe.areObjectsEqual),ct=createIsCircular(xe.areSetsEqual);xe=Object.assign({},xe,{areArraysEqual:rt,areMapsEqual:it,areObjectsEqual:lt,areSetsEqual:ct})}return xe}function createInternalEqualityComparator(ee){return function(te,ne,xe,rt,it,lt,ct){return ee(te,ne,ct)}}function createIsEqual({circular:ee,comparator:te,createState:ne,equals:xe,strict:rt}){if(ne)return function(ct,ut){const{cache:dt=ee?new WeakMap:void 0,meta:ht}=ne();return te(ct,ut,{cache:dt,equals:xe,meta:ht,strict:rt})};if(ee)return function(ct,ut){return te(ct,ut,{cache:new WeakMap,equals:xe,meta:void 0,strict:rt})};const it={cache:void 0,equals:xe,meta:void 0,strict:rt};return function(ct,ut){return te(ct,ut,it)}}const deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual(ee={}){const{circular:te=!1,createInternalComparator:ne,createState:xe,strict:rt=!1}=ee,it=createEqualityComparatorConfig(ee),lt=createEqualityComparator(it),ct=ne?ne(lt):createInternalEqualityComparator(lt);return createIsEqual({circular:te,comparator:lt,createState:xe,equals:ct,strict:rt})}function safeRequestAnimationFrame(ee){typeof requestAnimationFrame<"u"&&requestAnimationFrame(ee)}function setRafTimeout(ee){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ne=-1,xe=function rt(it){ne<0&&(ne=it),it-ne>te?(ee(it),ne=-1):safeRequestAnimationFrame(rt)};requestAnimationFrame(xe)}function _typeof$t(ee){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$t(ee)}function _toArray(ee){return _arrayWithHoles$7(ee)||_iterableToArray$7(ee)||_unsupportedIterableToArray$b(ee)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$b(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$b(ee,te)}}function _arrayLikeToArray$b(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArray$7(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithHoles$7(ee){if(Array.isArray(ee))return ee}function createAnimateManager(){var ee={},te=function(){return null},ne=!1,xe=function rt(it){if(!ne){if(Array.isArray(it)){if(!it.length)return;var lt=it,ct=_toArray(lt),ut=ct[0],dt=ct.slice(1);if(typeof ut=="number"){setRafTimeout(rt.bind(null,dt),ut);return}rt(ut),setRafTimeout(rt.bind(null,dt));return}_typeof$t(it)==="object"&&(ee=it,te(ee)),typeof it=="function"&&it()}};return{stop:function(){ne=!0},start:function(it){ne=!1,xe(it)},subscribe:function(it){return te=it,function(){te=function(){return null}}}}}function _typeof$s(ee){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$s(ee)}function ownKeys$q(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$p(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$q(Object(ne),!0).forEach(function(xe){_defineProperty$t(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$q(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$t(ee,te,ne){return te=_toPropertyKey$t(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$t(ee){var te=_toPrimitive$t(ee,"string");return _typeof$s(te)==="symbol"?te:String(te)}function _toPrimitive$t(ee,te){if(_typeof$s(ee)!=="object"||ee===null)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$s(xe)!=="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var getIntersectionKeys=function(te,ne){return[Object.keys(te),Object.keys(ne)].reduce(function(xe,rt){return xe.filter(function(it){return rt.includes(it)})})},identity$3=function(te){return te},getDashCase=function(te){return te.replace(/([A-Z])/g,function(ne){return"-".concat(ne.toLowerCase())})},mapObject=function(te,ne){return Object.keys(ne).reduce(function(xe,rt){return _objectSpread$p(_objectSpread$p({},xe),{},_defineProperty$t({},rt,te(rt,ne[rt])))},{})},getTransitionVal=function(te,ne,xe){return te.map(function(rt){return"".concat(getDashCase(rt)," ").concat(ne,"ms ").concat(xe)}).join(",")};function _slicedToArray$6(ee,te){return _arrayWithHoles$6(ee)||_iterableToArrayLimit$6(ee,te)||_unsupportedIterableToArray$a(ee,te)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$6(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$6(ee){if(Array.isArray(ee))return ee}function _toConsumableArray$6(ee){return _arrayWithoutHoles$6(ee)||_iterableToArray$6(ee)||_unsupportedIterableToArray$a(ee)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$a(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$a(ee,te)}}function _iterableToArray$6(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$6(ee){if(Array.isArray(ee))return _arrayLikeToArray$a(ee)}function _arrayLikeToArray$a(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}var ACCURACY=1e-4,cubicBezierFactor=function(te,ne){return[0,3*te,3*ne-6*te,3*te-3*ne+1]},multyTime=function(te,ne){return te.map(function(xe,rt){return xe*Math.pow(ne,rt)}).reduce(function(xe,rt){return xe+rt})},cubicBezier=function(te,ne){return function(xe){var rt=cubicBezierFactor(te,ne);return multyTime(rt,xe)}},derivativeCubicBezier=function(te,ne){return function(xe){var rt=cubicBezierFactor(te,ne),it=[].concat(_toConsumableArray$6(rt.map(function(lt,ct){return lt*ct}).slice(1)),[0]);return multyTime(it,xe)}},configBezier=function(){for(var te=arguments.length,ne=new Array(te),xe=0;xe<te;xe++)ne[xe]=arguments[xe];var rt=ne[0],it=ne[1],lt=ne[2],ct=ne[3];if(ne.length===1)switch(ne[0]){case"linear":rt=0,it=0,lt=1,ct=1;break;case"ease":rt=.25,it=.1,lt=.25,ct=1;break;case"ease-in":rt=.42,it=0,lt=1,ct=1;break;case"ease-out":rt=.42,it=0,lt=.58,ct=1;break;case"ease-in-out":rt=0,it=0,lt=.58,ct=1;break;default:{var ut=ne[0].split("(");if(ut[0]==="cubic-bezier"&&ut[1].split(")")[0].split(",").length===4){var dt=ut[1].split(")")[0].split(",").map(function(vt){return parseFloat(vt)}),ht=_slicedToArray$6(dt,4);rt=ht[0],it=ht[1],lt=ht[2],ct=ht[3]}}}var ft=cubicBezier(rt,lt),pt=cubicBezier(it,ct),mt=derivativeCubicBezier(rt,lt),xt=function(Et){return Et>1?1:Et<0?0:Et},yt=function(Et){for(var _t=Et>1?1:Et,wt=_t,St=0;St<8;++St){var Ct=ft(wt)-_t,jt=mt(wt);if(Math.abs(Ct-_t)<ACCURACY||jt<ACCURACY)return pt(wt);wt=xt(wt-Ct/jt)}return pt(wt)};return yt.isStepper=!1,yt},configSpring=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=te.stiff,xe=ne===void 0?100:ne,rt=te.damping,it=rt===void 0?8:rt,lt=te.dt,ct=lt===void 0?17:lt,ut=function(ht,ft,pt){var mt=-(ht-ft)*xe,xt=pt*it,yt=pt+(mt-xt)*ct/1e3,vt=pt*ct/1e3+ht;return Math.abs(vt-ft)<ACCURACY&&Math.abs(yt)<ACCURACY?[ft,0]:[vt,yt]};return ut.isStepper=!0,ut.dt=ct,ut},configEasing=function(){for(var te=arguments.length,ne=new Array(te),xe=0;xe<te;xe++)ne[xe]=arguments[xe];var rt=ne[0];if(typeof rt=="string")switch(rt){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(rt);case"spring":return configSpring();default:if(rt.split("(")[0]==="cubic-bezier")return configBezier(rt)}return typeof rt=="function"?rt:null};function _typeof$r(ee){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$r(ee)}function _toConsumableArray$5(ee){return _arrayWithoutHoles$5(ee)||_iterableToArray$5(ee)||_unsupportedIterableToArray$9(ee)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$5(ee){if(Array.isArray(ee))return _arrayLikeToArray$9(ee)}function ownKeys$p(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$o(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$p(Object(ne),!0).forEach(function(xe){_defineProperty$s(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$p(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$s(ee,te,ne){return te=_toPropertyKey$s(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$s(ee){var te=_toPrimitive$s(ee,"string");return _typeof$r(te)==="symbol"?te:String(te)}function _toPrimitive$s(ee,te){if(_typeof$r(ee)!=="object"||ee===null)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$r(xe)!=="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _slicedToArray$5(ee,te){return _arrayWithHoles$5(ee)||_iterableToArrayLimit$5(ee,te)||_unsupportedIterableToArray$9(ee,te)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$9(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$9(ee,te)}}function _arrayLikeToArray$9(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$5(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$5(ee){if(Array.isArray(ee))return ee}var alpha=function(te,ne,xe){return te+(ne-te)*xe},needContinue=function(te){var ne=te.from,xe=te.to;return ne!==xe},calStepperVals=function ee(te,ne,xe){var rt=mapObject(function(it,lt){if(needContinue(lt)){var ct=te(lt.from,lt.to,lt.velocity),ut=_slicedToArray$5(ct,2),dt=ut[0],ht=ut[1];return _objectSpread$o(_objectSpread$o({},lt),{},{from:dt,velocity:ht})}return lt},ne);return xe<1?mapObject(function(it,lt){return needContinue(lt)?_objectSpread$o(_objectSpread$o({},lt),{},{velocity:alpha(lt.velocity,rt[it].velocity,xe),from:alpha(lt.from,rt[it].from,xe)}):lt},ne):ee(te,rt,xe-1)};const configUpdate=(function(ee,te,ne,xe,rt){var it=getIntersectionKeys(ee,te),lt=it.reduce(function(vt,Et){return _objectSpread$o(_objectSpread$o({},vt),{},_defineProperty$s({},Et,[ee[Et],te[Et]]))},{}),ct=it.reduce(function(vt,Et){return _objectSpread$o(_objectSpread$o({},vt),{},_defineProperty$s({},Et,{from:ee[Et],velocity:0,to:te[Et]}))},{}),ut=-1,dt,ht,ft=function(){return null},pt=function(){return mapObject(function(Et,_t){return _t.from},ct)},mt=function(){return!Object.values(ct).filter(needContinue).length},xt=function(Et){dt||(dt=Et);var _t=Et-dt,wt=_t/ne.dt;ct=calStepperVals(ne,ct,wt),rt(_objectSpread$o(_objectSpread$o(_objectSpread$o({},ee),te),pt())),dt=Et,mt()||(ut=requestAnimationFrame(ft))},yt=function(Et){ht||(ht=Et);var _t=(Et-ht)/xe,wt=mapObject(function(Ct,jt){return alpha.apply(void 0,_toConsumableArray$5(jt).concat([ne(_t)]))},lt);if(rt(_objectSpread$o(_objectSpread$o(_objectSpread$o({},ee),te),wt)),_t<1)ut=requestAnimationFrame(ft);else{var St=mapObject(function(Ct,jt){return alpha.apply(void 0,_toConsumableArray$5(jt).concat([ne(1)]))},lt);rt(_objectSpread$o(_objectSpread$o(_objectSpread$o({},ee),te),St))}};return ft=ne.isStepper?xt:yt,function(){return requestAnimationFrame(ft),function(){cancelAnimationFrame(ut)}}});function _typeof$q(ee){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$q(ee)}var _excluded$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$d(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$d(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$d(ee,te){if(ee==null)return{};var ne={},xe=Object.keys(ee),rt,it;for(it=0;it<xe.length;it++)rt=xe[it],!(te.indexOf(rt)>=0)&&(ne[rt]=ee[rt]);return ne}function _toConsumableArray$4(ee){return _arrayWithoutHoles$4(ee)||_iterableToArray$4(ee)||_unsupportedIterableToArray$8(ee)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$8(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$8(ee,te)}}function _iterableToArray$4(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$4(ee){if(Array.isArray(ee))return _arrayLikeToArray$8(ee)}function _arrayLikeToArray$8(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function ownKeys$o(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$n(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$o(Object(ne),!0).forEach(function(xe){_defineProperty$r(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$o(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$r(ee,te,ne){return te=_toPropertyKey$r(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _classCallCheck$g(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$r(xe.key),xe)}}function _createClass$g(ee,te,ne){return te&&_defineProperties$g(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _toPropertyKey$r(ee){var te=_toPrimitive$r(ee,"string");return _typeof$q(te)==="symbol"?te:String(te)}function _toPrimitive$r(ee,te){if(_typeof$q(ee)!=="object"||ee===null)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$q(xe)!=="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _inherits$e(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$e(ee,te)}function _setPrototypeOf$e(ee,te){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$e(ee,te)}function _createSuper(ee){var te=_isNativeReflectConstruct$e();return function(){var xe=_getPrototypeOf$e(ee),rt;if(te){var it=_getPrototypeOf$e(this).constructor;rt=Reflect.construct(xe,arguments,it)}else rt=xe.apply(this,arguments);return _possibleConstructorReturn$e(this,rt)}}function _possibleConstructorReturn$e(ee,te){if(te&&(_typeof$q(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(ee)}function _assertThisInitialized$e(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$e(ee){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$e(ee)}var Animate=(function(ee){_inherits$e(ne,ee);var te=_createSuper(ne);function ne(xe,rt){var it;_classCallCheck$g(this,ne),it=te.call(this,xe,rt);var lt=it.props,ct=lt.isActive,ut=lt.attributeName,dt=lt.from,ht=lt.to,ft=lt.steps,pt=lt.children,mt=lt.duration;if(it.handleStyleChange=it.handleStyleChange.bind(_assertThisInitialized$e(it)),it.changeStyle=it.changeStyle.bind(_assertThisInitialized$e(it)),!ct||mt<=0)return it.state={style:{}},typeof pt=="function"&&(it.state={style:ht}),_possibleConstructorReturn$e(it);if(ft&&ft.length)it.state={style:ft[0].style};else if(dt){if(typeof pt=="function")return it.state={style:dt},_possibleConstructorReturn$e(it);it.state={style:ut?_defineProperty$r({},ut,dt):dt}}else it.state={style:{}};return it}return _createClass$g(ne,[{key:"componentDidMount",value:function(){var rt=this.props,it=rt.isActive,lt=rt.canBegin;this.mounted=!0,!(!it||!lt)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(rt){var it=this.props,lt=it.isActive,ct=it.canBegin,ut=it.attributeName,dt=it.shouldReAnimate,ht=it.to,ft=it.from,pt=this.state.style;if(ct){if(!lt){var mt={style:ut?_defineProperty$r({},ut,ht):ht};this.state&&pt&&(ut&&pt[ut]!==ht||!ut&&pt!==ht)&&this.setState(mt);return}if(!(deepEqual(rt.to,ht)&&rt.canBegin&&rt.isActive)){var xt=!rt.canBegin||!rt.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var yt=xt||dt?ft:rt.to;if(this.state&&pt){var vt={style:ut?_defineProperty$r({},ut,yt):yt};(ut&&pt[ut]!==yt||!ut&&pt!==yt)&&this.setState(vt)}this.runAnimation(_objectSpread$n(_objectSpread$n({},this.props),{},{from:yt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var rt=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),rt&&rt()}},{key:"handleStyleChange",value:function(rt){this.changeStyle(rt)}},{key:"changeStyle",value:function(rt){this.mounted&&this.setState({style:rt})}},{key:"runJSAnimation",value:function(rt){var it=this,lt=rt.from,ct=rt.to,ut=rt.duration,dt=rt.easing,ht=rt.begin,ft=rt.onAnimationEnd,pt=rt.onAnimationStart,mt=configUpdate(lt,ct,configEasing(dt),ut,this.changeStyle),xt=function(){it.stopJSAnimation=mt()};this.manager.start([pt,ht,xt,ut,ft])}},{key:"runStepAnimation",value:function(rt){var it=this,lt=rt.steps,ct=rt.begin,ut=rt.onAnimationStart,dt=lt[0],ht=dt.style,ft=dt.duration,pt=ft===void 0?0:ft,mt=function(yt,vt,Et){if(Et===0)return yt;var _t=vt.duration,wt=vt.easing,St=wt===void 0?"ease":wt,Ct=vt.style,jt=vt.properties,Rt=vt.onAnimationEnd,Pt=Et>0?lt[Et-1]:vt,Ot=jt||Object.keys(Ct);if(typeof St=="function"||St==="spring")return[].concat(_toConsumableArray$4(yt),[it.runJSAnimation.bind(it,{from:Pt.style,to:Ct,duration:_t,easing:St}),_t]);var Ft=getTransitionVal(Ot,_t,St),Lt=_objectSpread$n(_objectSpread$n(_objectSpread$n({},Pt.style),Ct),{},{transition:Ft});return[].concat(_toConsumableArray$4(yt),[Lt,_t,Rt]).filter(identity$3)};return this.manager.start([ut].concat(_toConsumableArray$4(lt.reduce(mt,[ht,Math.max(pt,ct)])),[rt.onAnimationEnd]))}},{key:"runAnimation",value:function(rt){this.manager||(this.manager=createAnimateManager());var it=rt.begin,lt=rt.duration,ct=rt.attributeName,ut=rt.to,dt=rt.easing,ht=rt.onAnimationStart,ft=rt.onAnimationEnd,pt=rt.steps,mt=rt.children,xt=this.manager;if(this.unSubscribe=xt.subscribe(this.handleStyleChange),typeof dt=="function"||typeof mt=="function"||dt==="spring"){this.runJSAnimation(rt);return}if(pt.length>1){this.runStepAnimation(rt);return}var yt=ct?_defineProperty$r({},ct,ut):ut,vt=getTransitionVal(Object.keys(yt),lt,dt);xt.start([ht,it,_objectSpread$n(_objectSpread$n({},yt),{},{transition:vt}),lt,ft])}},{key:"render",value:function(){var rt=this.props,it=rt.children;rt.begin;var lt=rt.duration;rt.attributeName,rt.easing;var ct=rt.isActive;rt.steps,rt.from,rt.to,rt.canBegin,rt.onAnimationEnd,rt.shouldReAnimate,rt.onAnimationReStart;var ut=_objectWithoutProperties$d(rt,_excluded$e),dt=reactExports.Children.count(it),ht=this.state.style;if(typeof it=="function")return it(ht);if(!ct||dt===0||lt<=0)return it;var ft=function(mt){var xt=mt.props,yt=xt.style,vt=yt===void 0?{}:yt,Et=xt.className,_t=reactExports.cloneElement(mt,_objectSpread$n(_objectSpread$n({},ut),{},{style:_objectSpread$n(_objectSpread$n({},vt),ht),className:Et}));return _t};return dt===1?ft(reactExports.Children.only(it)):React.createElement("div",null,reactExports.Children.map(it,function(pt){return ft(pt)}))}}]),ne})(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$p(ee){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$p(ee)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$l.apply(this,arguments)}function _slicedToArray$4(ee,te){return _arrayWithHoles$4(ee)||_iterableToArrayLimit$4(ee,te)||_unsupportedIterableToArray$7(ee,te)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$7(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$7(ee,te)}}function _arrayLikeToArray$7(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$4(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$4(ee){if(Array.isArray(ee))return ee}function ownKeys$n(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$m(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$n(Object(ne),!0).forEach(function(xe){_defineProperty$q(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$n(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$q(ee,te,ne){return te=_toPropertyKey$q(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$q(ee){var te=_toPrimitive$q(ee,"string");return _typeof$p(te)=="symbol"?te:te+""}function _toPrimitive$q(ee,te){if(_typeof$p(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$p(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var getRectanglePath=function(te,ne,xe,rt,it){var lt=Math.min(Math.abs(xe)/2,Math.abs(rt)/2),ct=rt>=0?1:-1,ut=xe>=0?1:-1,dt=rt>=0&&xe>=0||rt<0&&xe<0?1:0,ht;if(lt>0&&it instanceof Array){for(var ft=[0,0,0,0],pt=0,mt=4;pt<mt;pt++)ft[pt]=it[pt]>lt?lt:it[pt];ht="M".concat(te,",").concat(ne+ct*ft[0]),ft[0]>0&&(ht+="A ".concat(ft[0],",").concat(ft[0],",0,0,").concat(dt,",").concat(te+ut*ft[0],",").concat(ne)),ht+="L ".concat(te+xe-ut*ft[1],",").concat(ne),ft[1]>0&&(ht+="A ".concat(ft[1],",").concat(ft[1],",0,0,").concat(dt,`,
        `).concat(te+xe,",").concat(ne+ct*ft[1])),ht+="L ".concat(te+xe,",").concat(ne+rt-ct*ft[2]),ft[2]>0&&(ht+="A ".concat(ft[2],",").concat(ft[2],",0,0,").concat(dt,`,
        `).concat(te+xe-ut*ft[2],",").concat(ne+rt)),ht+="L ".concat(te+ut*ft[3],",").concat(ne+rt),ft[3]>0&&(ht+="A ".concat(ft[3],",").concat(ft[3],",0,0,").concat(dt,`,
        `).concat(te,",").concat(ne+rt-ct*ft[3])),ht+="Z"}else if(lt>0&&it===+it&&it>0){var xt=Math.min(lt,it);ht="M ".concat(te,",").concat(ne+ct*xt,`
            A `).concat(xt,",").concat(xt,",0,0,").concat(dt,",").concat(te+ut*xt,",").concat(ne,`
            L `).concat(te+xe-ut*xt,",").concat(ne,`
            A `).concat(xt,",").concat(xt,",0,0,").concat(dt,",").concat(te+xe,",").concat(ne+ct*xt,`
            L `).concat(te+xe,",").concat(ne+rt-ct*xt,`
            A `).concat(xt,",").concat(xt,",0,0,").concat(dt,",").concat(te+xe-ut*xt,",").concat(ne+rt,`
            L `).concat(te+ut*xt,",").concat(ne+rt,`
            A `).concat(xt,",").concat(xt,",0,0,").concat(dt,",").concat(te,",").concat(ne+rt-ct*xt," Z")}else ht="M ".concat(te,",").concat(ne," h ").concat(xe," v ").concat(rt," h ").concat(-xe," Z");return ht},isInRectangle=function(te,ne){if(!te||!ne)return!1;var xe=te.x,rt=te.y,it=ne.x,lt=ne.y,ct=ne.width,ut=ne.height;if(Math.abs(ct)>0&&Math.abs(ut)>0){var dt=Math.min(it,it+ct),ht=Math.max(it,it+ct),ft=Math.min(lt,lt+ut),pt=Math.max(lt,lt+ut);return xe>=dt&&xe<=ht&&rt>=ft&&rt<=pt}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(te){var ne=_objectSpread$m(_objectSpread$m({},defaultProps$2),te),xe=reactExports.useRef(),rt=reactExports.useState(-1),it=_slicedToArray$4(rt,2),lt=it[0],ct=it[1];reactExports.useEffect(function(){if(xe.current&&xe.current.getTotalLength)try{var St=xe.current.getTotalLength();St&&ct(St)}catch{}},[]);var ut=ne.x,dt=ne.y,ht=ne.width,ft=ne.height,pt=ne.radius,mt=ne.className,xt=ne.animationEasing,yt=ne.animationDuration,vt=ne.animationBegin,Et=ne.isAnimationActive,_t=ne.isUpdateAnimationActive;if(ut!==+ut||dt!==+dt||ht!==+ht||ft!==+ft||ht===0||ft===0)return null;var wt=clsx("recharts-rectangle",mt);return _t?React.createElement(Animate,{canBegin:lt>0,from:{width:ht,height:ft,x:ut,y:dt},to:{width:ht,height:ft,x:ut,y:dt},duration:yt,animationEasing:xt,isActive:_t},function(St){var Ct=St.width,jt=St.height,Rt=St.x,Pt=St.y;return React.createElement(Animate,{canBegin:lt>0,from:"0px ".concat(lt===-1?1:lt,"px"),to:"".concat(lt,"px 0px"),attributeName:"strokeDasharray",begin:vt,duration:yt,isActive:Et,easing:xt},React.createElement("path",_extends$l({},filterProps(ne,!0),{className:wt,d:getRectanglePath(Rt,Pt,Ct,jt,pt),ref:xe})))}):React.createElement("path",_extends$l({},filterProps(ne,!0),{className:wt,d:getRectanglePath(ut,dt,ht,ft,pt)}))},_excluded$d=["points","className","baseLinePoints","connectNulls"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$k.apply(this,arguments)}function _objectWithoutProperties$c(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$c(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$c(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _toConsumableArray$3(ee){return _arrayWithoutHoles$3(ee)||_iterableToArray$3(ee)||_unsupportedIterableToArray$6(ee)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$6(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$6(ee,te)}}function _iterableToArray$3(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$3(ee){if(Array.isArray(ee))return _arrayLikeToArray$6(ee)}function _arrayLikeToArray$6(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}var isValidatePoint=function(te){return te&&te.x===+te.x&&te.y===+te.y},getParsedPoints=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ne=[[]];return te.forEach(function(xe){isValidatePoint(xe)?ne[ne.length-1].push(xe):ne[ne.length-1].length>0&&ne.push([])}),isValidatePoint(te[0])&&ne[ne.length-1].push(te[0]),ne[ne.length-1].length<=0&&(ne=ne.slice(0,-1)),ne},getSinglePolygonPath=function(te,ne){var xe=getParsedPoints(te);ne&&(xe=[xe.reduce(function(it,lt){return[].concat(_toConsumableArray$3(it),_toConsumableArray$3(lt))},[])]);var rt=xe.map(function(it){return it.reduce(function(lt,ct,ut){return"".concat(lt).concat(ut===0?"M":"L").concat(ct.x,",").concat(ct.y)},"")}).join("");return xe.length===1?"".concat(rt,"Z"):rt},getRanglePath=function(te,ne,xe){var rt=getSinglePolygonPath(te,xe);return"".concat(rt.slice(-1)==="Z"?rt.slice(0,-1):rt,"L").concat(getSinglePolygonPath(ne.reverse(),xe).slice(1))},Polygon=function(te){var ne=te.points,xe=te.className,rt=te.baseLinePoints,it=te.connectNulls,lt=_objectWithoutProperties$c(te,_excluded$d);if(!ne||!ne.length)return null;var ct=clsx("recharts-polygon",xe);if(rt&&rt.length){var ut=lt.stroke&&lt.stroke!=="none",dt=getRanglePath(ne,rt,it);return React.createElement("g",{className:ct},React.createElement("path",_extends$k({},filterProps(lt,!0),{fill:dt.slice(-1)==="Z"?lt.fill:"none",stroke:"none",d:dt})),ut?React.createElement("path",_extends$k({},filterProps(lt,!0),{fill:"none",d:getSinglePolygonPath(ne,it)})):null,ut?React.createElement("path",_extends$k({},filterProps(lt,!0),{fill:"none",d:getSinglePolygonPath(rt,it)})):null)}var ht=getSinglePolygonPath(ne,it);return React.createElement("path",_extends$k({},filterProps(lt,!0),{fill:ht.slice(-1)==="Z"?lt.fill:"none",className:ct,d:ht}))};function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$j.apply(this,arguments)}var Dot=function(te){var ne=te.cx,xe=te.cy,rt=te.r,it=te.className,lt=clsx("recharts-dot",it);return ne===+ne&&xe===+xe&&rt===+rt?reactExports.createElement("circle",_extends$j({},filterProps(te,!1),adaptEventHandlers(te),{className:lt,cx:ne,cy:xe,r:rt})):null};function _typeof$o(ee){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$o(ee)}var _excluded$c=["x","y","top","left","width","height","className"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$i.apply(this,arguments)}function ownKeys$m(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$l(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$m(Object(ne),!0).forEach(function(xe){_defineProperty$p(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$m(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$p(ee,te,ne){return te=_toPropertyKey$p(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$p(ee){var te=_toPrimitive$p(ee,"string");return _typeof$o(te)=="symbol"?te:te+""}function _toPrimitive$p(ee,te){if(_typeof$o(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$o(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _objectWithoutProperties$b(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$b(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$b(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}var getPath=function(te,ne,xe,rt,it,lt){return"M".concat(te,",").concat(it,"v").concat(rt,"M").concat(lt,",").concat(ne,"h").concat(xe)},Cross=function(te){var ne=te.x,xe=ne===void 0?0:ne,rt=te.y,it=rt===void 0?0:rt,lt=te.top,ct=lt===void 0?0:lt,ut=te.left,dt=ut===void 0?0:ut,ht=te.width,ft=ht===void 0?0:ht,pt=te.height,mt=pt===void 0?0:pt,xt=te.className,yt=_objectWithoutProperties$b(te,_excluded$c),vt=_objectSpread$l({x:xe,y:it,top:ct,left:dt,width:ft,height:mt},yt);return!isNumber(xe)||!isNumber(it)||!isNumber(ft)||!isNumber(mt)||!isNumber(ct)||!isNumber(dt)?null:React.createElement("path",_extends$i({},filterProps(vt,!0),{className:clsx("recharts-cross",xt),d:getPath(xe,it,ft,mt,ct,dt)}))},_excluded$b=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function _typeof$n(ee){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$n(ee)}function _objectWithoutProperties$a(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$a(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$a(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$h.apply(this,arguments)}function ownKeys$l(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$k(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$l(Object(ne),!0).forEach(function(xe){_defineProperty$o(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$l(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$o(ee,te,ne){return te=_toPropertyKey$o(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$o(ee){var te=_toPrimitive$o(ee,"string");return _typeof$n(te)=="symbol"?te:te+""}function _toPrimitive$o(ee,te){if(_typeof$n(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$n(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var getPolygonPath=function(te,ne,xe,rt){var it="";return rt.forEach(function(lt,ct){var ut=polarToCartesian(ne,xe,te,lt);ct?it+="L ".concat(ut.x,",").concat(ut.y):it+="M ".concat(ut.x,",").concat(ut.y)}),it+="Z",it},PolarAngles=function(te){var ne=te.cx,xe=te.cy,rt=te.innerRadius,it=te.outerRadius,lt=te.polarAngles,ct=te.radialLines;if(!lt||!lt.length||!ct)return null;var ut=_objectSpread$k({stroke:"#ccc"},filterProps(te,!1));return React.createElement("g",{className:"recharts-polar-grid-angle"},lt.map(function(dt){var ht=polarToCartesian(ne,xe,rt,dt),ft=polarToCartesian(ne,xe,it,dt);return React.createElement("line",_extends$h({},ut,{key:"line-".concat(dt),x1:ht.x,y1:ht.y,x2:ft.x,y2:ft.y}))}))},ConcentricCircle=function(te){var ne=te.cx,xe=te.cy,rt=te.radius,it=te.index,lt=_objectSpread$k(_objectSpread$k({stroke:"#ccc"},filterProps(te,!1)),{},{fill:"none"});return React.createElement("circle",_extends$h({},lt,{className:clsx("recharts-polar-grid-concentric-circle",te.className),key:"circle-".concat(it),cx:ne,cy:xe,r:rt}))},ConcentricPolygon=function(te){var ne=te.radius,xe=te.index,rt=_objectSpread$k(_objectSpread$k({stroke:"#ccc"},filterProps(te,!1)),{},{fill:"none"});return React.createElement("path",_extends$h({},rt,{className:clsx("recharts-polar-grid-concentric-polygon",te.className),key:"path-".concat(xe),d:getPolygonPath(ne,te.cx,te.cy,te.polarAngles)}))},ConcentricPath=function(te){var ne=te.polarRadius,xe=te.gridType;return!ne||!ne.length?null:React.createElement("g",{className:"recharts-polar-grid-concentric"},ne.map(function(rt,it){var lt=it;return xe==="circle"?React.createElement(ConcentricCircle,_extends$h({key:lt},te,{radius:rt,index:it})):React.createElement(ConcentricPolygon,_extends$h({key:lt},te,{radius:rt,index:it}))}))},PolarGrid=function(te){var ne=te.cx,xe=ne===void 0?0:ne,rt=te.cy,it=rt===void 0?0:rt,lt=te.innerRadius,ct=lt===void 0?0:lt,ut=te.outerRadius,dt=ut===void 0?0:ut,ht=te.gridType,ft=ht===void 0?"polygon":ht,pt=te.radialLines,mt=pt===void 0?!0:pt,xt=_objectWithoutProperties$a(te,_excluded$b);return dt<=0?null:React.createElement("g",{className:"recharts-polar-grid"},React.createElement(PolarAngles,_extends$h({cx:xe,cy:it,innerRadius:ct,outerRadius:dt,gridType:ft,radialLines:mt},xt)),React.createElement(ConcentricPath,_extends$h({cx:xe,cy:it,innerRadius:ct,outerRadius:dt,gridType:ft,radialLines:mt},xt)))};PolarGrid.displayName="PolarGrid";var maxBy_1,hasRequiredMaxBy;function requireMaxBy(){if(hasRequiredMaxBy)return maxBy_1;hasRequiredMaxBy=1;var ee=require_baseExtremum(),te=require_baseGt(),ne=require_baseIteratee();function xe(rt,it){return rt&&rt.length?ee(rt,ne(it,2),te):void 0}return maxBy_1=xe,maxBy_1}var maxByExports=requireMaxBy();const maxBy=getDefaultExportFromCjs(maxByExports);var minBy_1,hasRequiredMinBy;function requireMinBy(){if(hasRequiredMinBy)return minBy_1;hasRequiredMinBy=1;var ee=require_baseExtremum(),te=require_baseIteratee(),ne=require_baseLt();function xe(rt,it){return rt&&rt.length?ee(rt,te(it,2),ne):void 0}return minBy_1=xe,minBy_1}var minByExports=requireMinBy();const minBy=getDefaultExportFromCjs(minByExports);var _excluded$a=["cx","cy","angle","ticks","axisLine"],_excluded2$4=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$m(ee){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$m(ee)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$g.apply(this,arguments)}function ownKeys$k(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$j(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$k(Object(ne),!0).forEach(function(xe){_defineProperty$n(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$k(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _objectWithoutProperties$9(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$9(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$9(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _classCallCheck$f(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$n(xe.key),xe)}}function _createClass$f(ee,te,ne){return te&&_defineProperties$f(ee.prototype,te),ne&&_defineProperties$f(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$d(ee,te,ne){return te=_getPrototypeOf$d(te),_possibleConstructorReturn$d(ee,_isNativeReflectConstruct$d()?Reflect.construct(te,ne||[],_getPrototypeOf$d(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$d(ee,te){if(te&&(_typeof$m(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(ee)}function _assertThisInitialized$d(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$d(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!ee})()}function _getPrototypeOf$d(ee){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$d(ee)}function _inherits$d(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$d(ee,te)}function _setPrototypeOf$d(ee,te){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$d(ee,te)}function _defineProperty$n(ee,te,ne){return te=_toPropertyKey$n(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$n(ee){var te=_toPrimitive$n(ee,"string");return _typeof$m(te)=="symbol"?te:te+""}function _toPrimitive$n(ee,te){if(_typeof$m(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$m(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var PolarRadiusAxis=(function(ee){function te(){return _classCallCheck$f(this,te),_callSuper$d(this,te,arguments)}return _inherits$d(te,ee),_createClass$f(te,[{key:"getTickValueCoord",value:function(xe){var rt=xe.coordinate,it=this.props,lt=it.angle,ct=it.cx,ut=it.cy;return polarToCartesian(ct,ut,rt,lt)}},{key:"getTickTextAnchor",value:function(){var xe=this.props.orientation,rt;switch(xe){case"left":rt="end";break;case"right":rt="start";break;default:rt="middle";break}return rt}},{key:"getViewBox",value:function(){var xe=this.props,rt=xe.cx,it=xe.cy,lt=xe.angle,ct=xe.ticks,ut=maxBy(ct,function(ht){return ht.coordinate||0}),dt=minBy(ct,function(ht){return ht.coordinate||0});return{cx:rt,cy:it,startAngle:lt,endAngle:lt,innerRadius:dt.coordinate||0,outerRadius:ut.coordinate||0}}},{key:"renderAxisLine",value:function(){var xe=this.props,rt=xe.cx,it=xe.cy,lt=xe.angle,ct=xe.ticks,ut=xe.axisLine,dt=_objectWithoutProperties$9(xe,_excluded$a),ht=ct.reduce(function(xt,yt){return[Math.min(xt[0],yt.coordinate),Math.max(xt[1],yt.coordinate)]},[1/0,-1/0]),ft=polarToCartesian(rt,it,ht[0],lt),pt=polarToCartesian(rt,it,ht[1],lt),mt=_objectSpread$j(_objectSpread$j(_objectSpread$j({},filterProps(dt,!1)),{},{fill:"none"},filterProps(ut,!1)),{},{x1:ft.x,y1:ft.y,x2:pt.x,y2:pt.y});return React.createElement("line",_extends$g({className:"recharts-polar-radius-axis-line"},mt))}},{key:"renderTicks",value:function(){var xe=this,rt=this.props,it=rt.ticks,lt=rt.tick,ct=rt.angle,ut=rt.tickFormatter,dt=rt.stroke,ht=_objectWithoutProperties$9(rt,_excluded2$4),ft=this.getTickTextAnchor(),pt=filterProps(ht,!1),mt=filterProps(lt,!1),xt=it.map(function(yt,vt){var Et=xe.getTickValueCoord(yt),_t=_objectSpread$j(_objectSpread$j(_objectSpread$j(_objectSpread$j({textAnchor:ft,transform:"rotate(".concat(90-ct,", ").concat(Et.x,", ").concat(Et.y,")")},pt),{},{stroke:"none",fill:dt},mt),{},{index:vt},Et),{},{payload:yt});return React.createElement(Layer,_extends$g({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(lt)),key:"tick-".concat(yt.coordinate)},adaptEventsOfChild(xe.props,yt,vt)),te.renderTickItem(lt,_t,ut?ut(yt.value,vt):yt.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},xt)}},{key:"render",value:function(){var xe=this.props,rt=xe.ticks,it=xe.axisLine,lt=xe.tick;return!rt||!rt.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},it&&this.renderAxisLine(),lt&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(xe,rt,it){var lt;return React.isValidElement(xe)?lt=React.cloneElement(xe,rt):isFunction$1(xe)?lt=xe(rt):lt=React.createElement(Text,_extends$g({},rt,{className:"recharts-polar-radius-axis-tick-value"}),it),lt}}])})(reactExports.PureComponent);_defineProperty$n(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$n(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$n(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$l(ee){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$l(ee)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$f.apply(this,arguments)}function ownKeys$j(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$i(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$j(Object(ne),!0).forEach(function(xe){_defineProperty$m(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$j(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$e(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$m(xe.key),xe)}}function _createClass$e(ee,te,ne){return te&&_defineProperties$e(ee.prototype,te),ne&&_defineProperties$e(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$c(ee,te,ne){return te=_getPrototypeOf$c(te),_possibleConstructorReturn$c(ee,_isNativeReflectConstruct$c()?Reflect.construct(te,ne||[],_getPrototypeOf$c(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$c(ee,te){if(te&&(_typeof$l(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(ee)}function _assertThisInitialized$c(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$c(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!ee})()}function _getPrototypeOf$c(ee){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$c(ee)}function _inherits$c(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$c(ee,te)}function _setPrototypeOf$c(ee,te){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$c(ee,te)}function _defineProperty$m(ee,te,ne){return te=_toPropertyKey$m(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$m(ee){var te=_toPrimitive$m(ee,"string");return _typeof$l(te)=="symbol"?te:te+""}function _toPrimitive$m(ee,te){if(_typeof$l(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$l(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=(function(ee){function te(){return _classCallCheck$e(this,te),_callSuper$c(this,te,arguments)}return _inherits$c(te,ee),_createClass$e(te,[{key:"getTickLineCoord",value:function(xe){var rt=this.props,it=rt.cx,lt=rt.cy,ct=rt.radius,ut=rt.orientation,dt=rt.tickSize,ht=dt||8,ft=polarToCartesian(it,lt,ct,xe.coordinate),pt=polarToCartesian(it,lt,ct+(ut==="inner"?-1:1)*ht,xe.coordinate);return{x1:ft.x,y1:ft.y,x2:pt.x,y2:pt.y}}},{key:"getTickTextAnchor",value:function(xe){var rt=this.props.orientation,it=Math.cos(-xe.coordinate*RADIAN),lt;return it>eps?lt=rt==="outer"?"start":"end":it<-eps?lt=rt==="outer"?"end":"start":lt="middle",lt}},{key:"renderAxisLine",value:function(){var xe=this.props,rt=xe.cx,it=xe.cy,lt=xe.radius,ct=xe.axisLine,ut=xe.axisLineType,dt=_objectSpread$i(_objectSpread$i({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(ct,!1));if(ut==="circle")return React.createElement(Dot,_extends$f({className:"recharts-polar-angle-axis-line"},dt,{cx:rt,cy:it,r:lt}));var ht=this.props.ticks,ft=ht.map(function(pt){return polarToCartesian(rt,it,lt,pt.coordinate)});return React.createElement(Polygon,_extends$f({className:"recharts-polar-angle-axis-line"},dt,{points:ft}))}},{key:"renderTicks",value:function(){var xe=this,rt=this.props,it=rt.ticks,lt=rt.tick,ct=rt.tickLine,ut=rt.tickFormatter,dt=rt.stroke,ht=filterProps(this.props,!1),ft=filterProps(lt,!1),pt=_objectSpread$i(_objectSpread$i({},ht),{},{fill:"none"},filterProps(ct,!1)),mt=it.map(function(xt,yt){var vt=xe.getTickLineCoord(xt),Et=xe.getTickTextAnchor(xt),_t=_objectSpread$i(_objectSpread$i(_objectSpread$i({textAnchor:Et},ht),{},{stroke:"none",fill:dt},ft),{},{index:yt,payload:xt,x:vt.x2,y:vt.y2});return React.createElement(Layer,_extends$f({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(lt)),key:"tick-".concat(xt.coordinate)},adaptEventsOfChild(xe.props,xt,yt)),ct&&React.createElement("line",_extends$f({className:"recharts-polar-angle-axis-tick-line"},pt,vt)),lt&&te.renderTickItem(lt,_t,ut?ut(xt.value,yt):xt.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},mt)}},{key:"render",value:function(){var xe=this.props,rt=xe.ticks,it=xe.radius,lt=xe.axisLine;return it<=0||!rt||!rt.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},lt&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(xe,rt,it){var lt;return React.isValidElement(xe)?lt=React.cloneElement(xe,rt):isFunction$1(xe)?lt=xe(rt):lt=React.createElement(Text,_extends$f({},rt,{className:"recharts-polar-angle-axis-tick-value"}),it),lt}}])})(reactExports.PureComponent);_defineProperty$m(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$m(PolarAngleAxis,"axisType","angleAxis");_defineProperty$m(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var ee=require_overArg(),te=ee(Object.getPrototypeOf,Object);return _getPrototype=te,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var ee=require_baseGetTag(),te=require_getPrototype(),ne=requireIsObjectLike(),xe="[object Object]",rt=Function.prototype,it=Object.prototype,lt=rt.toString,ct=it.hasOwnProperty,ut=lt.call(Object);function dt(ht){if(!ne(ht)||ee(ht)!=xe)return!1;var ft=te(ht);if(ft===null)return!0;var pt=ct.call(ft,"constructor")&&ft.constructor;return typeof pt=="function"&&pt instanceof pt&&lt.call(pt)==ut}return isPlainObject_1=dt,isPlainObject_1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject$2=getDefaultExportFromCjs(isPlainObjectExports);var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var ee=require_baseGetTag(),te=requireIsObjectLike(),ne="[object Boolean]";function xe(rt){return rt===!0||rt===!1||te(rt)&&ee(rt)==ne}return isBoolean_1=xe,isBoolean_1}var isBooleanExports=requireIsBoolean();const isBoolean$1=getDefaultExportFromCjs(isBooleanExports);function _typeof$k(ee){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$k(ee)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$e.apply(this,arguments)}function _slicedToArray$3(ee,te){return _arrayWithHoles$3(ee)||_iterableToArrayLimit$3(ee,te)||_unsupportedIterableToArray$5(ee,te)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$5(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$5(ee,te)}}function _arrayLikeToArray$5(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$3(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$3(ee){if(Array.isArray(ee))return ee}function ownKeys$i(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$h(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$i(Object(ne),!0).forEach(function(xe){_defineProperty$l(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$i(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$l(ee,te,ne){return te=_toPropertyKey$l(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$l(ee){var te=_toPrimitive$l(ee,"string");return _typeof$k(te)=="symbol"?te:te+""}function _toPrimitive$l(ee,te){if(_typeof$k(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$k(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var getTrapezoidPath=function(te,ne,xe,rt,it){var lt=xe-rt,ct;return ct="M ".concat(te,",").concat(ne),ct+="L ".concat(te+xe,",").concat(ne),ct+="L ".concat(te+xe-lt/2,",").concat(ne+it),ct+="L ".concat(te+xe-lt/2-rt,",").concat(ne+it),ct+="L ".concat(te,",").concat(ne," Z"),ct},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(te){var ne=_objectSpread$h(_objectSpread$h({},defaultProps$1),te),xe=reactExports.useRef(),rt=reactExports.useState(-1),it=_slicedToArray$3(rt,2),lt=it[0],ct=it[1];reactExports.useEffect(function(){if(xe.current&&xe.current.getTotalLength)try{var wt=xe.current.getTotalLength();wt&&ct(wt)}catch{}},[]);var ut=ne.x,dt=ne.y,ht=ne.upperWidth,ft=ne.lowerWidth,pt=ne.height,mt=ne.className,xt=ne.animationEasing,yt=ne.animationDuration,vt=ne.animationBegin,Et=ne.isUpdateAnimationActive;if(ut!==+ut||dt!==+dt||ht!==+ht||ft!==+ft||pt!==+pt||ht===0&&ft===0||pt===0)return null;var _t=clsx("recharts-trapezoid",mt);return Et?React.createElement(Animate,{canBegin:lt>0,from:{upperWidth:0,lowerWidth:0,height:pt,x:ut,y:dt},to:{upperWidth:ht,lowerWidth:ft,height:pt,x:ut,y:dt},duration:yt,animationEasing:xt,isActive:Et},function(wt){var St=wt.upperWidth,Ct=wt.lowerWidth,jt=wt.height,Rt=wt.x,Pt=wt.y;return React.createElement(Animate,{canBegin:lt>0,from:"0px ".concat(lt===-1?1:lt,"px"),to:"".concat(lt,"px 0px"),attributeName:"strokeDasharray",begin:vt,duration:yt,easing:xt},React.createElement("path",_extends$e({},filterProps(ne,!0),{className:_t,d:getTrapezoidPath(Rt,Pt,St,Ct,jt),ref:xe})))}):React.createElement("g",null,React.createElement("path",_extends$e({},filterProps(ne,!0),{className:_t,d:getTrapezoidPath(ut,dt,ht,ft,pt)})))},_excluded$9=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$j(ee){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$j(ee)}function _objectWithoutProperties$8(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$8(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$8(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function ownKeys$h(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$g(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$h(Object(ne),!0).forEach(function(xe){_defineProperty$k(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$h(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$k(ee,te,ne){return te=_toPropertyKey$k(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$k(ee){var te=_toPrimitive$k(ee,"string");return _typeof$j(te)=="symbol"?te:te+""}function _toPrimitive$k(ee,te){if(_typeof$j(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$j(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function defaultPropTransformer(ee,te){return _objectSpread$g(_objectSpread$g({},te),ee)}function isSymbolsProps(ee,te){return ee==="symbols"}function ShapeSelector(ee){var te=ee.shapeType,ne=ee.elementProps;switch(te){case"rectangle":return React.createElement(Rectangle,ne);case"trapezoid":return React.createElement(Trapezoid,ne);case"sector":return React.createElement(Sector,ne);case"symbols":if(isSymbolsProps(te))return React.createElement(Symbols,ne);break;default:return null}}function getPropsFromShapeOption(ee){return reactExports.isValidElement(ee)?ee.props:ee}function Shape(ee){var te=ee.option,ne=ee.shapeType,xe=ee.propTransformer,rt=xe===void 0?defaultPropTransformer:xe,it=ee.activeClassName,lt=it===void 0?"recharts-active-shape":it,ct=ee.isActive,ut=_objectWithoutProperties$8(ee,_excluded$9),dt;if(reactExports.isValidElement(te))dt=reactExports.cloneElement(te,_objectSpread$g(_objectSpread$g({},ut),getPropsFromShapeOption(te)));else if(isFunction$1(te))dt=te(ut);else if(isPlainObject$2(te)&&!isBoolean$1(te)){var ht=rt(te,ut);dt=React.createElement(ShapeSelector,{shapeType:ne,elementProps:ht})}else{var ft=ut;dt=React.createElement(ShapeSelector,{shapeType:ne,elementProps:ft})}return ct?React.createElement(Layer,{className:lt},dt):dt}function isFunnel(ee,te){return te!=null&&"trapezoids"in ee.props}function isPie(ee,te){return te!=null&&"sectors"in ee.props}function isScatter(ee,te){return te!=null&&"points"in ee.props}function compareFunnel(ee,te){var ne,xe,rt=ee.x===(te==null||(ne=te.labelViewBox)===null||ne===void 0?void 0:ne.x)||ee.x===te.x,it=ee.y===(te==null||(xe=te.labelViewBox)===null||xe===void 0?void 0:xe.y)||ee.y===te.y;return rt&&it}function comparePie(ee,te){var ne=ee.endAngle===te.endAngle,xe=ee.startAngle===te.startAngle;return ne&&xe}function compareScatter(ee,te){var ne=ee.x===te.x,xe=ee.y===te.y,rt=ee.z===te.z;return ne&&xe&&rt}function getComparisonFn(ee,te){var ne;return isFunnel(ee,te)?ne=compareFunnel:isPie(ee,te)?ne=comparePie:isScatter(ee,te)&&(ne=compareScatter),ne}function getShapeDataKey(ee,te){var ne;return isFunnel(ee,te)?ne="trapezoids":isPie(ee,te)?ne="sectors":isScatter(ee,te)&&(ne="points"),ne}function getActiveShapeTooltipPayload(ee,te){if(isFunnel(ee,te)){var ne;return(ne=te.tooltipPayload)===null||ne===void 0||(ne=ne[0])===null||ne===void 0||(ne=ne.payload)===null||ne===void 0?void 0:ne.payload}if(isPie(ee,te)){var xe;return(xe=te.tooltipPayload)===null||xe===void 0||(xe=xe[0])===null||xe===void 0||(xe=xe.payload)===null||xe===void 0?void 0:xe.payload}return isScatter(ee,te)?te.payload:{}}function getActiveShapeIndexForTooltip(ee){var te=ee.activeTooltipItem,ne=ee.graphicalItem,xe=ee.itemData,rt=getShapeDataKey(ne,te),it=getActiveShapeTooltipPayload(ne,te),lt=xe.filter(function(ut,dt){var ht=isEqual(it,ut),ft=ne.props[rt].filter(function(xt){var yt=getComparisonFn(ne,te);return yt(xt,te)}),pt=ne.props[rt].indexOf(ft[ft.length-1]),mt=dt===pt;return ht&&mt}),ct=xe.indexOf(lt[lt.length-1]);return ct}var _Pie;function _typeof$i(ee){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$i(ee)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$d.apply(this,arguments)}function ownKeys$g(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$f(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$g(Object(ne),!0).forEach(function(xe){_defineProperty$j(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$g(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$d(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$j(xe.key),xe)}}function _createClass$d(ee,te,ne){return te&&_defineProperties$d(ee.prototype,te),ne&&_defineProperties$d(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$b(ee,te,ne){return te=_getPrototypeOf$b(te),_possibleConstructorReturn$b(ee,_isNativeReflectConstruct$b()?Reflect.construct(te,ne||[],_getPrototypeOf$b(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$b(ee,te){if(te&&(_typeof$i(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(ee)}function _assertThisInitialized$b(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$b(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!ee})()}function _getPrototypeOf$b(ee){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$b(ee)}function _inherits$b(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$b(ee,te)}function _setPrototypeOf$b(ee,te){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$b(ee,te)}function _defineProperty$j(ee,te,ne){return te=_toPropertyKey$j(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$j(ee){var te=_toPrimitive$j(ee,"string");return _typeof$i(te)=="symbol"?te:te+""}function _toPrimitive$j(ee,te){if(_typeof$i(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$i(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var Pie=(function(ee){function te(ne){var xe;return _classCallCheck$d(this,te),xe=_callSuper$b(this,te,[ne]),_defineProperty$j(xe,"pieRef",null),_defineProperty$j(xe,"sectorRefs",[]),_defineProperty$j(xe,"id",uniqueId("recharts-pie-")),_defineProperty$j(xe,"handleAnimationEnd",function(){var rt=xe.props.onAnimationEnd;xe.setState({isAnimationFinished:!0}),isFunction$1(rt)&&rt()}),_defineProperty$j(xe,"handleAnimationStart",function(){var rt=xe.props.onAnimationStart;xe.setState({isAnimationFinished:!1}),isFunction$1(rt)&&rt()}),xe.state={isAnimationFinished:!ne.isAnimationActive,prevIsAnimationActive:ne.isAnimationActive,prevAnimationId:ne.animationId,sectorToFocus:0},xe}return _inherits$b(te,ee),_createClass$d(te,[{key:"isActiveIndex",value:function(xe){var rt=this.props.activeIndex;return Array.isArray(rt)?rt.indexOf(xe)!==-1:xe===rt}},{key:"hasActiveIndex",value:function(){var xe=this.props.activeIndex;return Array.isArray(xe)?xe.length!==0:xe||xe===0}},{key:"renderLabels",value:function(xe){var rt=this.props.isAnimationActive;if(rt&&!this.state.isAnimationFinished)return null;var it=this.props,lt=it.label,ct=it.labelLine,ut=it.dataKey,dt=it.valueKey,ht=filterProps(this.props,!1),ft=filterProps(lt,!1),pt=filterProps(ct,!1),mt=lt&&lt.offsetRadius||20,xt=xe.map(function(yt,vt){var Et=(yt.startAngle+yt.endAngle)/2,_t=polarToCartesian(yt.cx,yt.cy,yt.outerRadius+mt,Et),wt=_objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f({},ht),yt),{},{stroke:"none"},ft),{},{index:vt,textAnchor:te.getTextAnchor(_t.x,yt.cx)},_t),St=_objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f({},ht),yt),{},{fill:"none",stroke:yt.fill},pt),{},{index:vt,points:[polarToCartesian(yt.cx,yt.cy,yt.outerRadius,Et),_t]}),Ct=ut;return isNil(ut)&&isNil(dt)?Ct="value":isNil(ut)&&(Ct=dt),React.createElement(Layer,{key:"label-".concat(yt.startAngle,"-").concat(yt.endAngle,"-").concat(yt.midAngle,"-").concat(vt)},ct&&te.renderLabelLineItem(ct,St,"line"),te.renderLabelItem(lt,wt,getValueByDataKey(yt,Ct)))});return React.createElement(Layer,{className:"recharts-pie-labels"},xt)}},{key:"renderSectorsStatically",value:function(xe){var rt=this,it=this.props,lt=it.activeShape,ct=it.blendStroke,ut=it.inactiveShape;return xe.map(function(dt,ht){if(dt?.startAngle===0&&dt?.endAngle===0&&xe.length!==1)return null;var ft=rt.isActiveIndex(ht),pt=ut&&rt.hasActiveIndex()?ut:null,mt=ft?lt:pt,xt=_objectSpread$f(_objectSpread$f({},dt),{},{stroke:ct?dt.fill:dt.stroke,tabIndex:-1});return React.createElement(Layer,_extends$d({ref:function(vt){vt&&!rt.sectorRefs.includes(vt)&&rt.sectorRefs.push(vt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(rt.props,dt,ht),{key:"sector-".concat(dt?.startAngle,"-").concat(dt?.endAngle,"-").concat(dt.midAngle,"-").concat(ht)}),React.createElement(Shape,_extends$d({option:mt,isActive:ft,shapeType:"sector"},xt)))})}},{key:"renderSectorsWithAnimation",value:function(){var xe=this,rt=this.props,it=rt.sectors,lt=rt.isAnimationActive,ct=rt.animationBegin,ut=rt.animationDuration,dt=rt.animationEasing,ht=rt.animationId,ft=this.state,pt=ft.prevSectors,mt=ft.prevIsAnimationActive;return React.createElement(Animate,{begin:ct,duration:ut,isActive:lt,easing:dt,from:{t:0},to:{t:1},key:"pie-".concat(ht,"-").concat(mt),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(xt){var yt=xt.t,vt=[],Et=it&&it[0],_t=Et.startAngle;return it.forEach(function(wt,St){var Ct=pt&&pt[St],jt=St>0?get$2(wt,"paddingAngle",0):0;if(Ct){var Rt=interpolateNumber$2(Ct.endAngle-Ct.startAngle,wt.endAngle-wt.startAngle),Pt=_objectSpread$f(_objectSpread$f({},wt),{},{startAngle:_t+jt,endAngle:_t+Rt(yt)+jt});vt.push(Pt),_t=Pt.endAngle}else{var Ot=wt.endAngle,Ft=wt.startAngle,Lt=interpolateNumber$2(0,Ot-Ft),Bt=Lt(yt),Gt=_objectSpread$f(_objectSpread$f({},wt),{},{startAngle:_t+jt,endAngle:_t+Bt+jt});vt.push(Gt),_t=Gt.endAngle}}),React.createElement(Layer,null,xe.renderSectorsStatically(vt))})}},{key:"attachKeyboardHandlers",value:function(xe){var rt=this;xe.onkeydown=function(it){if(!it.altKey)switch(it.key){case"ArrowLeft":{var lt=++rt.state.sectorToFocus%rt.sectorRefs.length;rt.sectorRefs[lt].focus(),rt.setState({sectorToFocus:lt});break}case"ArrowRight":{var ct=--rt.state.sectorToFocus<0?rt.sectorRefs.length-1:rt.state.sectorToFocus%rt.sectorRefs.length;rt.sectorRefs[ct].focus(),rt.setState({sectorToFocus:ct});break}case"Escape":{rt.sectorRefs[rt.state.sectorToFocus].blur(),rt.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var xe=this.props,rt=xe.sectors,it=xe.isAnimationActive,lt=this.state.prevSectors;return it&&rt&&rt.length&&(!lt||!isEqual(lt,rt))?this.renderSectorsWithAnimation():this.renderSectorsStatically(rt)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var xe=this,rt=this.props,it=rt.hide,lt=rt.sectors,ct=rt.className,ut=rt.label,dt=rt.cx,ht=rt.cy,ft=rt.innerRadius,pt=rt.outerRadius,mt=rt.isAnimationActive,xt=this.state.isAnimationFinished;if(it||!lt||!lt.length||!isNumber(dt)||!isNumber(ht)||!isNumber(ft)||!isNumber(pt))return null;var yt=clsx("recharts-pie",ct);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:yt,ref:function(Et){xe.pieRef=Et}},this.renderSectors(),ut&&this.renderLabels(lt),Label.renderCallByParent(this.props,null,!1),(!mt||xt)&&LabelList.renderCallByParent(this.props,lt,!1))}}],[{key:"getDerivedStateFromProps",value:function(xe,rt){return rt.prevIsAnimationActive!==xe.isAnimationActive?{prevIsAnimationActive:xe.isAnimationActive,prevAnimationId:xe.animationId,curSectors:xe.sectors,prevSectors:[],isAnimationFinished:!0}:xe.isAnimationActive&&xe.animationId!==rt.prevAnimationId?{prevAnimationId:xe.animationId,curSectors:xe.sectors,prevSectors:rt.curSectors,isAnimationFinished:!0}:xe.sectors!==rt.curSectors?{curSectors:xe.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(xe,rt){return xe>rt?"start":xe<rt?"end":"middle"}},{key:"renderLabelLineItem",value:function(xe,rt,it){if(React.isValidElement(xe))return React.cloneElement(xe,rt);if(isFunction$1(xe))return xe(rt);var lt=clsx("recharts-pie-label-line",typeof xe!="boolean"?xe.className:"");return React.createElement(Curve,_extends$d({},rt,{key:it,type:"linear",className:lt}))}},{key:"renderLabelItem",value:function(xe,rt,it){if(React.isValidElement(xe))return React.cloneElement(xe,rt);var lt=it;if(isFunction$1(xe)&&(lt=xe(rt),React.isValidElement(lt)))return lt;var ct=clsx("recharts-pie-label-text",typeof xe!="boolean"&&!isFunction$1(xe)?xe.className:"");return React.createElement(Text,_extends$d({},rt,{alignmentBaseline:"middle",className:ct}),lt)}}])})(reactExports.PureComponent);_Pie=Pie;_defineProperty$j(Pie,"displayName","Pie");_defineProperty$j(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$j(Pie,"parseDeltaAngle",function(ee,te){var ne=mathSign(te-ee),xe=Math.min(Math.abs(te-ee),360);return ne*xe});_defineProperty$j(Pie,"getRealPieData",function(ee){var te=ee.data,ne=ee.children,xe=filterProps(ee,!1),rt=findAllByType(ne,Cell);return te&&te.length?te.map(function(it,lt){return _objectSpread$f(_objectSpread$f(_objectSpread$f({payload:it},xe),it),rt&&rt[lt]&&rt[lt].props)}):rt&&rt.length?rt.map(function(it){return _objectSpread$f(_objectSpread$f({},xe),it.props)}):[]});_defineProperty$j(Pie,"parseCoordinateOfPie",function(ee,te){var ne=te.top,xe=te.left,rt=te.width,it=te.height,lt=getMaxRadius(rt,it),ct=xe+getPercentValue(ee.cx,rt,rt/2),ut=ne+getPercentValue(ee.cy,it,it/2),dt=getPercentValue(ee.innerRadius,lt,0),ht=getPercentValue(ee.outerRadius,lt,lt*.8),ft=ee.maxRadius||Math.sqrt(rt*rt+it*it)/2;return{cx:ct,cy:ut,innerRadius:dt,outerRadius:ht,maxRadius:ft}});_defineProperty$j(Pie,"getComposedData",function(ee){var te=ee.item,ne=ee.offset,xe=te.type.defaultProps!==void 0?_objectSpread$f(_objectSpread$f({},te.type.defaultProps),te.props):te.props,rt=_Pie.getRealPieData(xe);if(!rt||!rt.length)return null;var it=xe.cornerRadius,lt=xe.startAngle,ct=xe.endAngle,ut=xe.paddingAngle,dt=xe.dataKey,ht=xe.nameKey,ft=xe.valueKey,pt=xe.tooltipType,mt=Math.abs(xe.minAngle),xt=_Pie.parseCoordinateOfPie(xe,ne),yt=_Pie.parseDeltaAngle(lt,ct),vt=Math.abs(yt),Et=dt;isNil(dt)&&isNil(ft)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),Et="value"):isNil(dt)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),Et=ft);var _t=rt.filter(function(Pt){return getValueByDataKey(Pt,Et,0)!==0}).length,wt=(vt>=360?_t:_t-1)*ut,St=vt-_t*mt-wt,Ct=rt.reduce(function(Pt,Ot){var Ft=getValueByDataKey(Ot,Et,0);return Pt+(isNumber(Ft)?Ft:0)},0),jt;if(Ct>0){var Rt;jt=rt.map(function(Pt,Ot){var Ft=getValueByDataKey(Pt,Et,0),Lt=getValueByDataKey(Pt,ht,Ot),Bt=(isNumber(Ft)?Ft:0)/Ct,Gt;Ot?Gt=Rt.endAngle+mathSign(yt)*ut*(Ft!==0?1:0):Gt=lt;var It=Gt+mathSign(yt)*((Ft!==0?mt:0)+Bt*St),qt=(Gt+It)/2,Nt=(xt.innerRadius+xt.outerRadius)/2,Dt=[{name:Lt,value:Ft,payload:Pt,dataKey:Et,type:pt}],Tt=polarToCartesian(xt.cx,xt.cy,Nt,qt);return Rt=_objectSpread$f(_objectSpread$f(_objectSpread$f({percent:Bt,cornerRadius:it,name:Lt,tooltipPayload:Dt,midAngle:qt,middleRadius:Nt,tooltipPosition:Tt},Pt),xt),{},{value:getValueByDataKey(Pt,Et),startAngle:Gt,endAngle:It,payload:Pt,paddingAngle:mathSign(yt)*ut}),Rt})}return _objectSpread$f(_objectSpread$f({},xt),{},{sectors:jt,data:rt})});var head_1,hasRequiredHead;function requireHead(){if(hasRequiredHead)return head_1;hasRequiredHead=1;function ee(te){return te&&te.length?te[0]:void 0}return head_1=ee,head_1}var first$1,hasRequiredFirst;function requireFirst(){return hasRequiredFirst||(hasRequiredFirst=1,first$1=requireHead()),first$1}var firstExports=requireFirst();const first=getDefaultExportFromCjs(firstExports);var _excluded$8=["key"];function _typeof$h(ee){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$h(ee)}function _objectWithoutProperties$7(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$7(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$7(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$c.apply(this,arguments)}function ownKeys$f(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$e(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$f(Object(ne),!0).forEach(function(xe){_defineProperty$i(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$f(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$c(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$i(xe.key),xe)}}function _createClass$c(ee,te,ne){return te&&_defineProperties$c(ee.prototype,te),ne&&_defineProperties$c(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$a(ee,te,ne){return te=_getPrototypeOf$a(te),_possibleConstructorReturn$a(ee,_isNativeReflectConstruct$a()?Reflect.construct(te,ne||[],_getPrototypeOf$a(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$a(ee,te){if(te&&(_typeof$h(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(ee)}function _assertThisInitialized$a(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$a(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!ee})()}function _getPrototypeOf$a(ee){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$a(ee)}function _inherits$a(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$a(ee,te)}function _setPrototypeOf$a(ee,te){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$a(ee,te)}function _defineProperty$i(ee,te,ne){return te=_toPropertyKey$i(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$i(ee){var te=_toPrimitive$i(ee,"string");return _typeof$h(te)=="symbol"?te:te+""}function _toPrimitive$i(ee,te){if(_typeof$h(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$h(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var Radar=(function(ee){function te(){var ne;_classCallCheck$c(this,te);for(var xe=arguments.length,rt=new Array(xe),it=0;it<xe;it++)rt[it]=arguments[it];return ne=_callSuper$a(this,te,[].concat(rt)),_defineProperty$i(ne,"state",{isAnimationFinished:!1}),_defineProperty$i(ne,"handleAnimationEnd",function(){var lt=ne.props.onAnimationEnd;ne.setState({isAnimationFinished:!0}),isFunction$1(lt)&&lt()}),_defineProperty$i(ne,"handleAnimationStart",function(){var lt=ne.props.onAnimationStart;ne.setState({isAnimationFinished:!1}),isFunction$1(lt)&&lt()}),_defineProperty$i(ne,"handleMouseEnter",function(lt){var ct=ne.props.onMouseEnter;ct&&ct(ne.props,lt)}),_defineProperty$i(ne,"handleMouseLeave",function(lt){var ct=ne.props.onMouseLeave;ct&&ct(ne.props,lt)}),ne}return _inherits$a(te,ee),_createClass$c(te,[{key:"renderDots",value:function(xe){var rt=this.props,it=rt.dot,lt=rt.dataKey,ct=filterProps(this.props,!1),ut=filterProps(it,!0),dt=xe.map(function(ht,ft){var pt=_objectSpread$e(_objectSpread$e(_objectSpread$e({key:"dot-".concat(ft),r:3},ct),ut),{},{dataKey:lt,cx:ht.x,cy:ht.y,index:ft,payload:ht});return te.renderDotItem(it,pt)});return React.createElement(Layer,{className:"recharts-radar-dots"},dt)}},{key:"renderPolygonStatically",value:function(xe){var rt=this.props,it=rt.shape,lt=rt.dot,ct=rt.isRange,ut=rt.baseLinePoints,dt=rt.connectNulls,ht;return React.isValidElement(it)?ht=React.cloneElement(it,_objectSpread$e(_objectSpread$e({},this.props),{},{points:xe})):isFunction$1(it)?ht=it(_objectSpread$e(_objectSpread$e({},this.props),{},{points:xe})):ht=React.createElement(Polygon,_extends$c({},filterProps(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:xe,baseLinePoints:ct?ut:null,connectNulls:dt})),React.createElement(Layer,{className:"recharts-radar-polygon"},ht,lt?this.renderDots(xe):null)}},{key:"renderPolygonWithAnimation",value:function(){var xe=this,rt=this.props,it=rt.points,lt=rt.isAnimationActive,ct=rt.animationBegin,ut=rt.animationDuration,dt=rt.animationEasing,ht=rt.animationId,ft=this.state.prevPoints;return React.createElement(Animate,{begin:ct,duration:ut,isActive:lt,easing:dt,from:{t:0},to:{t:1},key:"radar-".concat(ht),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(pt){var mt=pt.t,xt=ft&&ft.length/it.length,yt=it.map(function(vt,Et){var _t=ft&&ft[Math.floor(Et*xt)];if(_t){var wt=interpolateNumber$2(_t.x,vt.x),St=interpolateNumber$2(_t.y,vt.y);return _objectSpread$e(_objectSpread$e({},vt),{},{x:wt(mt),y:St(mt)})}var Ct=interpolateNumber$2(vt.cx,vt.x),jt=interpolateNumber$2(vt.cy,vt.y);return _objectSpread$e(_objectSpread$e({},vt),{},{x:Ct(mt),y:jt(mt)})});return xe.renderPolygonStatically(yt)})}},{key:"renderPolygon",value:function(){var xe=this.props,rt=xe.points,it=xe.isAnimationActive,lt=xe.isRange,ct=this.state.prevPoints;return it&&rt&&rt.length&&!lt&&(!ct||!isEqual(ct,rt))?this.renderPolygonWithAnimation():this.renderPolygonStatically(rt)}},{key:"render",value:function(){var xe=this.props,rt=xe.hide,it=xe.className,lt=xe.points,ct=xe.isAnimationActive;if(rt||!lt||!lt.length)return null;var ut=this.state.isAnimationFinished,dt=clsx("recharts-radar",it);return React.createElement(Layer,{className:dt},this.renderPolygon(),(!ct||ut)&&LabelList.renderCallByParent(this.props,lt))}}],[{key:"getDerivedStateFromProps",value:function(xe,rt){return xe.animationId!==rt.prevAnimationId?{prevAnimationId:xe.animationId,curPoints:xe.points,prevPoints:rt.curPoints}:xe.points!==rt.curPoints?{curPoints:xe.points}:null}},{key:"renderDotItem",value:function(xe,rt){var it;if(React.isValidElement(xe))it=React.cloneElement(xe,rt);else if(isFunction$1(xe))it=xe(rt);else{var lt=rt.key,ct=_objectWithoutProperties$7(rt,_excluded$8);it=React.createElement(Dot,_extends$c({},ct,{key:lt,className:clsx("recharts-radar-dot",typeof xe!="boolean"?xe.className:"")}))}return it}}])})(reactExports.PureComponent);_defineProperty$i(Radar,"displayName","Radar");_defineProperty$i(Radar,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_defineProperty$i(Radar,"getComposedData",function(ee){var te=ee.radiusAxis,ne=ee.angleAxis,xe=ee.displayedData,rt=ee.dataKey,it=ee.bandSize,lt=ne.cx,ct=ne.cy,ut=!1,dt=[],ht=ne.type!=="number"?it??0:0;xe.forEach(function(pt,mt){var xt=getValueByDataKey(pt,ne.dataKey,mt),yt=getValueByDataKey(pt,rt),vt=ne.scale(xt)+ht,Et=Array.isArray(yt)?last(yt):yt,_t=isNil(Et)?void 0:te.scale(Et);Array.isArray(yt)&&yt.length>=2&&(ut=!0),dt.push(_objectSpread$e(_objectSpread$e({},polarToCartesian(lt,ct,_t,vt)),{},{name:xt,value:yt,cx:lt,cy:ct,radius:_t,angle:vt,payload:pt}))});var ft=[];return ut&&dt.forEach(function(pt){if(Array.isArray(pt.value)){var mt=first(pt.value),xt=isNil(mt)?void 0:te.scale(mt);ft.push(_objectSpread$e(_objectSpread$e({},pt),{},{radius:xt},polarToCartesian(lt,ct,xt,pt.angle)))}else ft.push(pt)}),{points:dt,isRange:ut,baseLinePoints:ft}});var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var ee=Math.ceil,te=Math.max;function ne(xe,rt,it,lt){for(var ct=-1,ut=te(ee((rt-xe)/(it||1)),0),dt=Array(ut);ut--;)dt[lt?ut:++ct]=xe,xe+=it;return dt}return _baseRange=ne,_baseRange}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var ee=requireToNumber(),te=1/0,ne=17976931348623157e292;function xe(rt){if(!rt)return rt===0?rt:0;if(rt=ee(rt),rt===te||rt===-te){var it=rt<0?-1:1;return it*ne}return rt===rt?rt:0}return toFinite_1=xe,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var ee=require_baseRange(),te=require_isIterateeCall(),ne=requireToFinite();function xe(rt){return function(it,lt,ct){return ct&&typeof ct!="number"&&te(it,lt,ct)&&(lt=ct=void 0),it=ne(it),lt===void 0?(lt=it,it=0):lt=ne(lt),ct=ct===void 0?it<lt?1:-1:ne(ct),ee(it,lt,ct,rt)}}return _createRange=xe,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var ee=require_createRange(),te=ee();return range_1=te,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports);function _typeof$g(ee){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$g(ee)}function ownKeys$e(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$d(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$e(Object(ne),!0).forEach(function(xe){_defineProperty$h(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$e(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$h(ee,te,ne){return te=_toPropertyKey$h(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$h(ee){var te=_toPrimitive$h(ee,"string");return _typeof$g(te)=="symbol"?te:te+""}function _toPrimitive$h(ee,te){if(_typeof$g(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$g(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function(te,ne){var xe=te.replace(/(\w)/,function(it){return it.toUpperCase()}),rt=PREFIX_LIST.reduce(function(it,lt){return _objectSpread$d(_objectSpread$d({},it),{},_defineProperty$h({},lt+xe,ne))},{});return rt[te]=ne,rt};function _typeof$f(ee){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$f(ee)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$b.apply(this,arguments)}function ownKeys$d(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$c(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$d(Object(ne),!0).forEach(function(xe){_defineProperty$g(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$d(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$b(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$g(xe.key),xe)}}function _createClass$b(ee,te,ne){return te&&_defineProperties$b(ee.prototype,te),ne&&_defineProperties$b(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$9(ee,te,ne){return te=_getPrototypeOf$9(te),_possibleConstructorReturn$9(ee,_isNativeReflectConstruct$9()?Reflect.construct(te,ne||[],_getPrototypeOf$9(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$9(ee,te){if(te&&(_typeof$f(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(ee)}function _assertThisInitialized$9(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$9(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!ee})()}function _getPrototypeOf$9(ee){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$9(ee)}function _inherits$9(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$9(ee,te)}function _setPrototypeOf$9(ee,te){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$9(ee,te)}function _defineProperty$g(ee,te,ne){return te=_toPropertyKey$g(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$g(ee){var te=_toPrimitive$g(ee,"string");return _typeof$f(te)=="symbol"?te:te+""}function _toPrimitive$g(ee,te){if(_typeof$f(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$f(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var createScale=function(te){var ne=te.data,xe=te.startIndex,rt=te.endIndex,it=te.x,lt=te.width,ct=te.travellerWidth;if(!ne||!ne.length)return{};var ut=ne.length,dt=point$4().domain(range(0,ut)).range([it,it+lt-ct]),ht=dt.domain().map(function(ft){return dt(ft)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:dt(xe),endX:dt(rt),scale:dt,scaleValues:ht}},isTouch=function(te){return te.changedTouches&&!!te.changedTouches.length},Brush=(function(ee){function te(ne){var xe;return _classCallCheck$b(this,te),xe=_callSuper$9(this,te,[ne]),_defineProperty$g(xe,"handleDrag",function(rt){xe.leaveTimer&&(clearTimeout(xe.leaveTimer),xe.leaveTimer=null),xe.state.isTravellerMoving?xe.handleTravellerMove(rt):xe.state.isSlideMoving&&xe.handleSlideDrag(rt)}),_defineProperty$g(xe,"handleTouchMove",function(rt){rt.changedTouches!=null&&rt.changedTouches.length>0&&xe.handleDrag(rt.changedTouches[0])}),_defineProperty$g(xe,"handleDragEnd",function(){xe.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var rt=xe.props,it=rt.endIndex,lt=rt.onDragEnd,ct=rt.startIndex;lt?.({endIndex:it,startIndex:ct})}),xe.detachDragEndListener()}),_defineProperty$g(xe,"handleLeaveWrapper",function(){(xe.state.isTravellerMoving||xe.state.isSlideMoving)&&(xe.leaveTimer=window.setTimeout(xe.handleDragEnd,xe.props.leaveTimeOut))}),_defineProperty$g(xe,"handleEnterSlideOrTraveller",function(){xe.setState({isTextActive:!0})}),_defineProperty$g(xe,"handleLeaveSlideOrTraveller",function(){xe.setState({isTextActive:!1})}),_defineProperty$g(xe,"handleSlideDragStart",function(rt){var it=isTouch(rt)?rt.changedTouches[0]:rt;xe.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:it.pageX}),xe.attachDragEndListener()}),xe.travellerDragStartHandlers={startX:xe.handleTravellerDragStart.bind(xe,"startX"),endX:xe.handleTravellerDragStart.bind(xe,"endX")},xe.state={},xe}return _inherits$9(te,ee),_createClass$b(te,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(xe){var rt=xe.startX,it=xe.endX,lt=this.state.scaleValues,ct=this.props,ut=ct.gap,dt=ct.data,ht=dt.length-1,ft=Math.min(rt,it),pt=Math.max(rt,it),mt=te.getIndexInRange(lt,ft),xt=te.getIndexInRange(lt,pt);return{startIndex:mt-mt%ut,endIndex:xt===ht?ht:xt-xt%ut}}},{key:"getTextOfTick",value:function(xe){var rt=this.props,it=rt.data,lt=rt.tickFormatter,ct=rt.dataKey,ut=getValueByDataKey(it[xe],ct,xe);return isFunction$1(lt)?lt(ut,xe):ut}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(xe){var rt=this.state,it=rt.slideMoveStartX,lt=rt.startX,ct=rt.endX,ut=this.props,dt=ut.x,ht=ut.width,ft=ut.travellerWidth,pt=ut.startIndex,mt=ut.endIndex,xt=ut.onChange,yt=xe.pageX-it;yt>0?yt=Math.min(yt,dt+ht-ft-ct,dt+ht-ft-lt):yt<0&&(yt=Math.max(yt,dt-lt,dt-ct));var vt=this.getIndex({startX:lt+yt,endX:ct+yt});(vt.startIndex!==pt||vt.endIndex!==mt)&&xt&&xt(vt),this.setState({startX:lt+yt,endX:ct+yt,slideMoveStartX:xe.pageX})}},{key:"handleTravellerDragStart",value:function(xe,rt){var it=isTouch(rt)?rt.changedTouches[0]:rt;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:xe,brushMoveStartX:it.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(xe){var rt=this.state,it=rt.brushMoveStartX,lt=rt.movingTravellerId,ct=rt.endX,ut=rt.startX,dt=this.state[lt],ht=this.props,ft=ht.x,pt=ht.width,mt=ht.travellerWidth,xt=ht.onChange,yt=ht.gap,vt=ht.data,Et={startX:this.state.startX,endX:this.state.endX},_t=xe.pageX-it;_t>0?_t=Math.min(_t,ft+pt-mt-dt):_t<0&&(_t=Math.max(_t,ft-dt)),Et[lt]=dt+_t;var wt=this.getIndex(Et),St=wt.startIndex,Ct=wt.endIndex,jt=function(){var Pt=vt.length-1;return lt==="startX"&&(ct>ut?St%yt===0:Ct%yt===0)||ct<ut&&Ct===Pt||lt==="endX"&&(ct>ut?Ct%yt===0:St%yt===0)||ct>ut&&Ct===Pt};this.setState(_defineProperty$g(_defineProperty$g({},lt,dt+_t),"brushMoveStartX",xe.pageX),function(){xt&&jt()&&xt(wt)})}},{key:"handleTravellerMoveKeyboard",value:function(xe,rt){var it=this,lt=this.state,ct=lt.scaleValues,ut=lt.startX,dt=lt.endX,ht=this.state[rt],ft=ct.indexOf(ht);if(ft!==-1){var pt=ft+xe;if(!(pt===-1||pt>=ct.length)){var mt=ct[pt];rt==="startX"&&mt>=dt||rt==="endX"&&mt<=ut||this.setState(_defineProperty$g({},rt,mt),function(){it.props.onChange(it.getIndex({startX:it.state.startX,endX:it.state.endX}))})}}}},{key:"renderBackground",value:function(){var xe=this.props,rt=xe.x,it=xe.y,lt=xe.width,ct=xe.height,ut=xe.fill,dt=xe.stroke;return React.createElement("rect",{stroke:dt,fill:ut,x:rt,y:it,width:lt,height:ct})}},{key:"renderPanorama",value:function(){var xe=this.props,rt=xe.x,it=xe.y,lt=xe.width,ct=xe.height,ut=xe.data,dt=xe.children,ht=xe.padding,ft=reactExports.Children.only(dt);return ft?React.cloneElement(ft,{x:rt,y:it,width:lt,height:ct,margin:ht,compact:!0,data:ut}):null}},{key:"renderTravellerLayer",value:function(xe,rt){var it,lt,ct=this,ut=this.props,dt=ut.y,ht=ut.travellerWidth,ft=ut.height,pt=ut.traveller,mt=ut.ariaLabel,xt=ut.data,yt=ut.startIndex,vt=ut.endIndex,Et=Math.max(xe,this.props.x),_t=_objectSpread$c(_objectSpread$c({},filterProps(this.props,!1)),{},{x:Et,y:dt,width:ht,height:ft}),wt=mt||"Min value: ".concat((it=xt[yt])===null||it===void 0?void 0:it.name,", Max value: ").concat((lt=xt[vt])===null||lt===void 0?void 0:lt.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":wt,"aria-valuenow":xe,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[rt],onTouchStart:this.travellerDragStartHandlers[rt],onKeyDown:function(Ct){["ArrowLeft","ArrowRight"].includes(Ct.key)&&(Ct.preventDefault(),Ct.stopPropagation(),ct.handleTravellerMoveKeyboard(Ct.key==="ArrowRight"?1:-1,rt))},onFocus:function(){ct.setState({isTravellerFocused:!0})},onBlur:function(){ct.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},te.renderTraveller(pt,_t))}},{key:"renderSlide",value:function(xe,rt){var it=this.props,lt=it.y,ct=it.height,ut=it.stroke,dt=it.travellerWidth,ht=Math.min(xe,rt)+dt,ft=Math.max(Math.abs(rt-xe)-dt,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:ut,fillOpacity:.2,x:ht,y:lt,width:ft,height:ct})}},{key:"renderText",value:function(){var xe=this.props,rt=xe.startIndex,it=xe.endIndex,lt=xe.y,ct=xe.height,ut=xe.travellerWidth,dt=xe.stroke,ht=this.state,ft=ht.startX,pt=ht.endX,mt=5,xt={pointerEvents:"none",fill:dt};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(ft,pt)-mt,y:lt+ct/2},xt),this.getTextOfTick(rt)),React.createElement(Text,_extends$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(ft,pt)+ut+mt,y:lt+ct/2},xt),this.getTextOfTick(it)))}},{key:"render",value:function(){var xe=this.props,rt=xe.data,it=xe.className,lt=xe.children,ct=xe.x,ut=xe.y,dt=xe.width,ht=xe.height,ft=xe.alwaysShowText,pt=this.state,mt=pt.startX,xt=pt.endX,yt=pt.isTextActive,vt=pt.isSlideMoving,Et=pt.isTravellerMoving,_t=pt.isTravellerFocused;if(!rt||!rt.length||!isNumber(ct)||!isNumber(ut)||!isNumber(dt)||!isNumber(ht)||dt<=0||ht<=0)return null;var wt=clsx("recharts-brush",it),St=React.Children.count(lt)===1,Ct=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:wt,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:Ct},this.renderBackground(),St&&this.renderPanorama(),this.renderSlide(mt,xt),this.renderTravellerLayer(mt,"startX"),this.renderTravellerLayer(xt,"endX"),(yt||vt||Et||_t||ft)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(xe){var rt=xe.x,it=xe.y,lt=xe.width,ct=xe.height,ut=xe.stroke,dt=Math.floor(it+ct/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:rt,y:it,width:lt,height:ct,fill:ut,stroke:"none"}),React.createElement("line",{x1:rt+1,y1:dt,x2:rt+lt-1,y2:dt,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:rt+1,y1:dt+2,x2:rt+lt-1,y2:dt+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(xe,rt){var it;return React.isValidElement(xe)?it=React.cloneElement(xe,rt):isFunction$1(xe)?it=xe(rt):it=te.renderDefaultTraveller(rt),it}},{key:"getDerivedStateFromProps",value:function(xe,rt){var it=xe.data,lt=xe.width,ct=xe.x,ut=xe.travellerWidth,dt=xe.updateId,ht=xe.startIndex,ft=xe.endIndex;if(it!==rt.prevData||dt!==rt.prevUpdateId)return _objectSpread$c({prevData:it,prevTravellerWidth:ut,prevUpdateId:dt,prevX:ct,prevWidth:lt},it&&it.length?createScale({data:it,width:lt,x:ct,travellerWidth:ut,startIndex:ht,endIndex:ft}):{scale:null,scaleValues:null});if(rt.scale&&(lt!==rt.prevWidth||ct!==rt.prevX||ut!==rt.prevTravellerWidth)){rt.scale.range([ct,ct+lt-ut]);var pt=rt.scale.domain().map(function(mt){return rt.scale(mt)});return{prevData:it,prevTravellerWidth:ut,prevUpdateId:dt,prevX:ct,prevWidth:lt,startX:rt.scale(xe.startIndex),endX:rt.scale(xe.endIndex),scaleValues:pt}}return null}},{key:"getIndexInRange",value:function(xe,rt){for(var it=xe.length,lt=0,ct=it-1;ct-lt>1;){var ut=Math.floor((lt+ct)/2);xe[ut]>rt?ct=ut:lt=ut}return rt>=xe[ct]?ct:lt}}])})(reactExports.PureComponent);_defineProperty$g(Brush,"displayName","Brush");_defineProperty$g(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _baseSome,hasRequired_baseSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var ee=require_baseEach();function te(ne,xe){var rt;return ee(ne,function(it,lt,ct){return rt=xe(it,lt,ct),!rt}),!!rt}return _baseSome=te,_baseSome}var some_1,hasRequiredSome;function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var ee=require_arraySome(),te=require_baseIteratee(),ne=require_baseSome(),xe=requireIsArray(),rt=require_isIterateeCall();function it(lt,ct,ut){var dt=xe(lt)?ee:ne;return ut&&rt(lt,ct,ut)&&(ct=void 0),dt(lt,te(ct,3))}return some_1=it,some_1}var someExports=requireSome();const some=getDefaultExportFromCjs(someExports);var ifOverflowMatches=function(te,ne){var xe=te.alwaysShow,rt=te.ifOverflow;return xe&&(rt="extendDomain"),rt===ne},_baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var ee=require_defineProperty();function te(ne,xe,rt){xe=="__proto__"&&ee?ee(ne,xe,{configurable:!0,enumerable:!0,value:rt,writable:!0}):ne[xe]=rt}return _baseAssignValue=te,_baseAssignValue}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var ee=require_baseAssignValue(),te=require_baseForOwn(),ne=require_baseIteratee();function xe(rt,it){var lt={};return it=ne(it,3),te(rt,function(ct,ut,dt){ee(lt,ut,it(ct,ut,dt))}),lt}return mapValues_1=xe,mapValues_1}var mapValuesExports=requireMapValues();const mapValues=getDefaultExportFromCjs(mapValuesExports);var _arrayEvery,hasRequired_arrayEvery;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;hasRequired_arrayEvery=1;function ee(te,ne){for(var xe=-1,rt=te==null?0:te.length;++xe<rt;)if(!ne(te[xe],xe,te))return!1;return!0}return _arrayEvery=ee,_arrayEvery}var _baseEvery,hasRequired_baseEvery;function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var ee=require_baseEach();function te(ne,xe){var rt=!0;return ee(ne,function(it,lt,ct){return rt=!!xe(it,lt,ct),rt}),rt}return _baseEvery=te,_baseEvery}var every_1,hasRequiredEvery;function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var ee=require_arrayEvery(),te=require_baseEvery(),ne=require_baseIteratee(),xe=requireIsArray(),rt=require_isIterateeCall();function it(lt,ct,ut){var dt=xe(lt)?ee:te;return ut&&rt(lt,ct,ut)&&(ct=void 0),dt(lt,ne(ct,3))}return every_1=it,every_1}var everyExports=requireEvery();const every=getDefaultExportFromCjs(everyExports);var _excluded$7=["x","y"];function _typeof$e(ee){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$e(ee)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$a.apply(this,arguments)}function ownKeys$c(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$b(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$c(Object(ne),!0).forEach(function(xe){_defineProperty$f(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$c(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$f(ee,te,ne){return te=_toPropertyKey$f(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$f(ee){var te=_toPrimitive$f(ee,"string");return _typeof$e(te)=="symbol"?te:te+""}function _toPrimitive$f(ee,te){if(_typeof$e(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$e(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _objectWithoutProperties$6(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$6(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$6(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function typeguardBarRectangleProps(ee,te){var ne=ee.x,xe=ee.y,rt=_objectWithoutProperties$6(ee,_excluded$7),it="".concat(ne),lt=parseInt(it,10),ct="".concat(xe),ut=parseInt(ct,10),dt="".concat(te.height||rt.height),ht=parseInt(dt,10),ft="".concat(te.width||rt.width),pt=parseInt(ft,10);return _objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},te),rt),lt?{x:lt}:{}),ut?{y:ut}:{}),{},{height:ht,width:pt,name:te.name,radius:te.radius})}function BarRectangle(ee){return React.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},ee))}var minPointSizeCallback=function(te){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(xe,rt){if(typeof te=="number")return te;var it=isNumber(xe)||isNullish(xe);return it?te(xe,rt):(it||invariant(),ne)}},_excluded$6=["value","background"],_Bar;function _typeof$d(ee){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$d(ee)}function _objectWithoutProperties$5(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$5(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$5(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$9.apply(this,arguments)}function ownKeys$b(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$a(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$b(Object(ne),!0).forEach(function(xe){_defineProperty$e(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$b(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$a(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$e(xe.key),xe)}}function _createClass$a(ee,te,ne){return te&&_defineProperties$a(ee.prototype,te),ne&&_defineProperties$a(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$8(ee,te,ne){return te=_getPrototypeOf$8(te),_possibleConstructorReturn$8(ee,_isNativeReflectConstruct$8()?Reflect.construct(te,ne||[],_getPrototypeOf$8(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$8(ee,te){if(te&&(_typeof$d(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(ee)}function _assertThisInitialized$8(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$8(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!ee})()}function _getPrototypeOf$8(ee){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$8(ee)}function _inherits$8(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$8(ee,te)}function _setPrototypeOf$8(ee,te){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$8(ee,te)}function _defineProperty$e(ee,te,ne){return te=_toPropertyKey$e(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$e(ee){var te=_toPrimitive$e(ee,"string");return _typeof$d(te)=="symbol"?te:te+""}function _toPrimitive$e(ee,te){if(_typeof$d(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$d(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var Bar=(function(ee){function te(){var ne;_classCallCheck$a(this,te);for(var xe=arguments.length,rt=new Array(xe),it=0;it<xe;it++)rt[it]=arguments[it];return ne=_callSuper$8(this,te,[].concat(rt)),_defineProperty$e(ne,"state",{isAnimationFinished:!1}),_defineProperty$e(ne,"id",uniqueId("recharts-bar-")),_defineProperty$e(ne,"handleAnimationEnd",function(){var lt=ne.props.onAnimationEnd;ne.setState({isAnimationFinished:!0}),lt&&lt()}),_defineProperty$e(ne,"handleAnimationStart",function(){var lt=ne.props.onAnimationStart;ne.setState({isAnimationFinished:!1}),lt&&lt()}),ne}return _inherits$8(te,ee),_createClass$a(te,[{key:"renderRectanglesStatically",value:function(xe){var rt=this,it=this.props,lt=it.shape,ct=it.dataKey,ut=it.activeIndex,dt=it.activeBar,ht=filterProps(this.props,!1);return xe&&xe.map(function(ft,pt){var mt=pt===ut,xt=mt?dt:lt,yt=_objectSpread$a(_objectSpread$a(_objectSpread$a({},ht),ft),{},{isActive:mt,option:xt,index:pt,dataKey:ct,onAnimationStart:rt.handleAnimationStart,onAnimationEnd:rt.handleAnimationEnd});return React.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(rt.props,ft,pt),{key:"rectangle-".concat(ft?.x,"-").concat(ft?.y,"-").concat(ft?.value,"-").concat(pt)}),React.createElement(BarRectangle,yt))})}},{key:"renderRectanglesWithAnimation",value:function(){var xe=this,rt=this.props,it=rt.data,lt=rt.layout,ct=rt.isAnimationActive,ut=rt.animationBegin,dt=rt.animationDuration,ht=rt.animationEasing,ft=rt.animationId,pt=this.state.prevData;return React.createElement(Animate,{begin:ut,duration:dt,isActive:ct,easing:ht,from:{t:0},to:{t:1},key:"bar-".concat(ft),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(mt){var xt=mt.t,yt=it.map(function(vt,Et){var _t=pt&&pt[Et];if(_t){var wt=interpolateNumber$2(_t.x,vt.x),St=interpolateNumber$2(_t.y,vt.y),Ct=interpolateNumber$2(_t.width,vt.width),jt=interpolateNumber$2(_t.height,vt.height);return _objectSpread$a(_objectSpread$a({},vt),{},{x:wt(xt),y:St(xt),width:Ct(xt),height:jt(xt)})}if(lt==="horizontal"){var Rt=interpolateNumber$2(0,vt.height),Pt=Rt(xt);return _objectSpread$a(_objectSpread$a({},vt),{},{y:vt.y+vt.height-Pt,height:Pt})}var Ot=interpolateNumber$2(0,vt.width),Ft=Ot(xt);return _objectSpread$a(_objectSpread$a({},vt),{},{width:Ft})});return React.createElement(Layer,null,xe.renderRectanglesStatically(yt))})}},{key:"renderRectangles",value:function(){var xe=this.props,rt=xe.data,it=xe.isAnimationActive,lt=this.state.prevData;return it&&rt&&rt.length&&(!lt||!isEqual(lt,rt))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(rt)}},{key:"renderBackground",value:function(){var xe=this,rt=this.props,it=rt.data,lt=rt.dataKey,ct=rt.activeIndex,ut=filterProps(this.props.background,!1);return it.map(function(dt,ht){dt.value;var ft=dt.background,pt=_objectWithoutProperties$5(dt,_excluded$6);if(!ft)return null;var mt=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},pt),{},{fill:"#eee"},ft),ut),adaptEventsOfChild(xe.props,dt,ht)),{},{onAnimationStart:xe.handleAnimationStart,onAnimationEnd:xe.handleAnimationEnd,dataKey:lt,index:ht,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(ht),option:xe.props.background,isActive:ht===ct},mt))})}},{key:"renderErrorBar",value:function(xe,rt){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var it=this.props,lt=it.data,ct=it.xAxis,ut=it.yAxis,dt=it.layout,ht=it.children,ft=findAllByType(ht,ErrorBar);if(!ft)return null;var pt=dt==="vertical"?lt[0].height/2:lt[0].width/2,mt=function(vt,Et){var _t=Array.isArray(vt.value)?vt.value[1]:vt.value;return{x:vt.x,y:vt.y,value:_t,errorVal:getValueByDataKey(vt,Et)}},xt={clipPath:xe?"url(#clipPath-".concat(rt,")"):null};return React.createElement(Layer,xt,ft.map(function(yt){return React.cloneElement(yt,{key:"error-bar-".concat(rt,"-").concat(yt.props.dataKey),data:lt,xAxis:ct,yAxis:ut,layout:dt,offset:pt,dataPointFormatter:mt})}))}},{key:"render",value:function(){var xe=this.props,rt=xe.hide,it=xe.data,lt=xe.className,ct=xe.xAxis,ut=xe.yAxis,dt=xe.left,ht=xe.top,ft=xe.width,pt=xe.height,mt=xe.isAnimationActive,xt=xe.background,yt=xe.id;if(rt||!it||!it.length)return null;var vt=this.state.isAnimationFinished,Et=clsx("recharts-bar",lt),_t=ct&&ct.allowDataOverflow,wt=ut&&ut.allowDataOverflow,St=_t||wt,Ct=isNil(yt)?this.id:yt;return React.createElement(Layer,{className:Et},_t||wt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Ct)},React.createElement("rect",{x:_t?dt:dt-ft/2,y:wt?ht:ht-pt/2,width:_t?ft:ft*2,height:wt?pt:pt*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:St?"url(#clipPath-".concat(Ct,")"):null},xt?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(St,Ct),(!mt||vt)&&LabelList.renderCallByParent(this.props,it))}}],[{key:"getDerivedStateFromProps",value:function(xe,rt){return xe.animationId!==rt.prevAnimationId?{prevAnimationId:xe.animationId,curData:xe.data,prevData:rt.curData}:xe.data!==rt.curData?{curData:xe.data}:null}}])})(reactExports.PureComponent);_Bar=Bar;_defineProperty$e(Bar,"displayName","Bar");_defineProperty$e(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$e(Bar,"getComposedData",function(ee){var te=ee.props,ne=ee.item,xe=ee.barPosition,rt=ee.bandSize,it=ee.xAxis,lt=ee.yAxis,ct=ee.xAxisTicks,ut=ee.yAxisTicks,dt=ee.stackedData,ht=ee.dataStartIndex,ft=ee.displayedData,pt=ee.offset,mt=findPositionOfBar(xe,ne);if(!mt)return null;var xt=te.layout,yt=ne.type.defaultProps,vt=yt!==void 0?_objectSpread$a(_objectSpread$a({},yt),ne.props):ne.props,Et=vt.dataKey,_t=vt.children,wt=vt.minPointSize,St=xt==="horizontal"?lt:it,Ct=dt?St.scale.domain():null,jt=getBaseValueOfBar({numericAxis:St}),Rt=findAllByType(_t,Cell),Pt=ft.map(function(Ot,Ft){var Lt,Bt,Gt,It,qt,Nt;dt?Lt=truncateByDomain(dt[ht+Ft],Ct):(Lt=getValueByDataKey(Ot,Et),Array.isArray(Lt)||(Lt=[jt,Lt]));var Dt=minPointSizeCallback(wt,_Bar.defaultProps.minPointSize)(Lt[1],Ft);if(xt==="horizontal"){var Tt,Mt=[lt.scale(Lt[0]),lt.scale(Lt[1])],$t=Mt[0],Ht=Mt[1];Bt=getCateCoordinateOfBar({axis:it,ticks:ct,bandSize:rt,offset:mt.offset,entry:Ot,index:Ft}),Gt=(Tt=Ht??$t)!==null&&Tt!==void 0?Tt:void 0,It=mt.size;var Wt=$t-Ht;if(qt=Number.isNaN(Wt)?0:Wt,Nt={x:Bt,y:lt.y,width:It,height:lt.height},Math.abs(Dt)>0&&Math.abs(qt)<Math.abs(Dt)){var Vt=mathSign(qt||Dt)*(Math.abs(Dt)-Math.abs(qt));Gt-=Vt,qt+=Vt}}else{var Yt=[it.scale(Lt[0]),it.scale(Lt[1])],Qt=Yt[0],ar=Yt[1];if(Bt=Qt,Gt=getCateCoordinateOfBar({axis:lt,ticks:ut,bandSize:rt,offset:mt.offset,entry:Ot,index:Ft}),It=ar-Qt,qt=mt.size,Nt={x:it.x,y:Gt,width:it.width,height:qt},Math.abs(Dt)>0&&Math.abs(It)<Math.abs(Dt)){var Xt=mathSign(It||Dt)*(Math.abs(Dt)-Math.abs(It));It+=Xt}}return _objectSpread$a(_objectSpread$a(_objectSpread$a({},Ot),{},{x:Bt,y:Gt,width:It,height:qt,value:dt?Lt:Lt[1],payload:Ot,background:Nt},Rt&&Rt[Ft]&&Rt[Ft].props),{},{tooltipPayload:[getTooltipItem(ne,Ot)],tooltipPosition:{x:Bt+It/2,y:Gt+qt/2}})});return _objectSpread$a({data:Pt,layout:xt},pt)});function _typeof$c(ee){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$c(ee)}function _classCallCheck$9(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$d(xe.key),xe)}}function _createClass$9(ee,te,ne){return te&&_defineProperties$9(ee.prototype,te),ne&&_defineProperties$9(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function ownKeys$a(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$9(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$a(Object(ne),!0).forEach(function(xe){_defineProperty$d(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$a(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$d(ee,te,ne){return te=_toPropertyKey$d(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$d(ee){var te=_toPrimitive$d(ee,"string");return _typeof$c(te)=="symbol"?te:te+""}function _toPrimitive$d(ee,te){if(_typeof$c(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$c(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var formatAxisMap=function(te,ne,xe,rt,it){var lt=te.width,ct=te.height,ut=te.layout,dt=te.children,ht=Object.keys(ne),ft={left:xe.left,leftMirror:xe.left,right:lt-xe.right,rightMirror:lt-xe.right,top:xe.top,topMirror:xe.top,bottom:ct-xe.bottom,bottomMirror:ct-xe.bottom},pt=!!findChildByType(dt,Bar);return ht.reduce(function(mt,xt){var yt=ne[xt],vt=yt.orientation,Et=yt.domain,_t=yt.padding,wt=_t===void 0?{}:_t,St=yt.mirror,Ct=yt.reversed,jt="".concat(vt).concat(St?"Mirror":""),Rt,Pt,Ot,Ft,Lt;if(yt.type==="number"&&(yt.padding==="gap"||yt.padding==="no-gap")){var Bt=Et[1]-Et[0],Gt=1/0,It=yt.categoricalDomain.sort(compareValues);if(It.forEach(function(Yt,Qt){Qt>0&&(Gt=Math.min((Yt||0)-(It[Qt-1]||0),Gt))}),Number.isFinite(Gt)){var qt=Gt/Bt,Nt=yt.layout==="vertical"?xe.height:xe.width;if(yt.padding==="gap"&&(Rt=qt*Nt/2),yt.padding==="no-gap"){var Dt=getPercentValue(te.barCategoryGap,qt*Nt),Tt=qt*Nt/2;Rt=Tt-Dt-(Tt-Dt)/Nt*Dt}}}rt==="xAxis"?Pt=[xe.left+(wt.left||0)+(Rt||0),xe.left+xe.width-(wt.right||0)-(Rt||0)]:rt==="yAxis"?Pt=ut==="horizontal"?[xe.top+xe.height-(wt.bottom||0),xe.top+(wt.top||0)]:[xe.top+(wt.top||0)+(Rt||0),xe.top+xe.height-(wt.bottom||0)-(Rt||0)]:Pt=yt.range,Ct&&(Pt=[Pt[1],Pt[0]]);var Mt=parseScale(yt,it,pt),$t=Mt.scale,Ht=Mt.realScaleType;$t.domain(Et).range(Pt),checkDomainOfScale($t);var Wt=getTicksOfScale($t,_objectSpread$9(_objectSpread$9({},yt),{},{realScaleType:Ht}));rt==="xAxis"?(Lt=vt==="top"&&!St||vt==="bottom"&&St,Ot=xe.left,Ft=ft[jt]-Lt*yt.height):rt==="yAxis"&&(Lt=vt==="left"&&!St||vt==="right"&&St,Ot=ft[jt]-Lt*yt.width,Ft=xe.top);var Vt=_objectSpread$9(_objectSpread$9(_objectSpread$9({},yt),Wt),{},{realScaleType:Ht,x:Ot,y:Ft,scale:$t,width:rt==="xAxis"?xe.width:yt.width,height:rt==="yAxis"?xe.height:yt.height});return Vt.bandSize=getBandSizeOfAxis(Vt,Wt),!yt.hide&&rt==="xAxis"?ft[jt]+=(Lt?-1:1)*Vt.height:yt.hide||(ft[jt]+=(Lt?-1:1)*Vt.width),_objectSpread$9(_objectSpread$9({},mt),{},_defineProperty$d({},xt,Vt))},{})},rectWithPoints=function(te,ne){var xe=te.x,rt=te.y,it=ne.x,lt=ne.y;return{x:Math.min(xe,it),y:Math.min(rt,lt),width:Math.abs(it-xe),height:Math.abs(lt-rt)}},rectWithCoords=function(te){var ne=te.x1,xe=te.y1,rt=te.x2,it=te.y2;return rectWithPoints({x:ne,y:xe},{x:rt,y:it})},ScaleHelper=(function(){function ee(te){_classCallCheck$9(this,ee),this.scale=te}return _createClass$9(ee,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(ne){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=xe.bandAware,it=xe.position;if(ne!==void 0){if(it)switch(it){case"start":return this.scale(ne);case"middle":{var lt=this.bandwidth?this.bandwidth()/2:0;return this.scale(ne)+lt}case"end":{var ct=this.bandwidth?this.bandwidth():0;return this.scale(ne)+ct}default:return this.scale(ne)}if(rt){var ut=this.bandwidth?this.bandwidth()/2:0;return this.scale(ne)+ut}return this.scale(ne)}}},{key:"isInRange",value:function(ne){var xe=this.range(),rt=xe[0],it=xe[xe.length-1];return rt<=it?ne>=rt&&ne<=it:ne>=it&&ne<=rt}}],[{key:"create",value:function(ne){return new ee(ne)}}])})();_defineProperty$d(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(te){var ne=Object.keys(te).reduce(function(xe,rt){return _objectSpread$9(_objectSpread$9({},xe),{},_defineProperty$d({},rt,ScaleHelper.create(te[rt])))},{});return _objectSpread$9(_objectSpread$9({},ne),{},{apply:function(rt){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lt=it.bandAware,ct=it.position;return mapValues(rt,function(ut,dt){return ne[dt].apply(ut,{bandAware:lt,position:ct})})},isInRange:function(rt){return every(rt,function(it,lt){return ne[lt].isInRange(it)})}})};function normalizeAngle(ee){return(ee%180+180)%180}var getAngledRectangleWidth=function(te){var ne=te.width,xe=te.height,rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,it=normalizeAngle(rt),lt=it*Math.PI/180,ct=Math.atan(xe/ne),ut=lt>ct&&lt<Math.PI-ct?xe/Math.sin(lt):ne/Math.cos(lt);return Math.abs(ut)},_createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var ee=require_baseIteratee(),te=requireIsArrayLike(),ne=requireKeys();function xe(rt){return function(it,lt,ct){var ut=Object(it);if(!te(it)){var dt=ee(lt,3);it=ne(it),lt=function(ft){return dt(ut[ft],ft,ut)}}var ht=rt(it,lt,ct);return ht>-1?ut[dt?it[ht]:ht]:void 0}}return _createFind=xe,_createFind}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var ee=requireToFinite();function te(ne){var xe=ee(ne),rt=xe%1;return xe===xe?rt?xe-rt:xe:0}return toInteger_1=te,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var ee=require_baseFindIndex(),te=require_baseIteratee(),ne=requireToInteger(),xe=Math.max;function rt(it,lt,ct){var ut=it==null?0:it.length;if(!ut)return-1;var dt=ct==null?0:ne(ct);return dt<0&&(dt=xe(ut+dt,0)),ee(it,te(lt,3),dt)}return findIndex_1=rt,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var ee=require_createFind(),te=requireFindIndex(),ne=ee(te);return find_1=ne,find_1}var findExports=requireFind();const find$2=getDefaultExportFromCjs(findExports);var memoizeExports=requireMemoize();const memoize$1=getDefaultExportFromCjs(memoizeExports);var calculateViewBox=memoize$1(function(ee){return{x:ee.left,y:ee.top,width:ee.width,height:ee.height}},function(ee){return["l",ee.left,"t",ee.top,"w",ee.width,"h",ee.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(te){var ne=te.state,xe=ne.xAxisMap,rt=ne.yAxisMap,it=ne.offset,lt=te.clipPathId,ct=te.children,ut=te.width,dt=te.height,ht=calculateViewBox(it);return React.createElement(XAxisContext.Provider,{value:xe},React.createElement(YAxisContext.Provider,{value:rt},React.createElement(OffsetContext.Provider,{value:it},React.createElement(ViewBoxContext.Provider,{value:ht},React.createElement(ClipPathIdContext.Provider,{value:lt},React.createElement(ChartHeightContext.Provider,{value:dt},React.createElement(ChartWidthContext.Provider,{value:ut},ct)))))))},useClipPathId=function(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function(te){var ne=reactExports.useContext(XAxisContext);ne==null&&invariant();var xe=ne[te];return xe==null&&invariant(),xe},useArbitraryXAxis=function(){var te=reactExports.useContext(XAxisContext);return getAnyElementOfObject(te)},useYAxisWithFiniteDomainOrRandom=function(){var te=reactExports.useContext(YAxisContext),ne=find$2(te,function(xe){return every(xe.domain,Number.isFinite)});return ne||getAnyElementOfObject(te)},useYAxisOrThrow=function(te){var ne=reactExports.useContext(YAxisContext);ne==null&&invariant();var xe=ne[te];return xe==null&&invariant(),xe},useViewBox=function(){var te=reactExports.useContext(ViewBoxContext);return te},useOffset=function(){return reactExports.useContext(OffsetContext)},useChartWidth=function(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function(){return reactExports.useContext(ChartHeightContext)};function _typeof$b(ee){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$b(ee)}function _classCallCheck$8(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$c(xe.key),xe)}}function _createClass$8(ee,te,ne){return te&&_defineProperties$8(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$7(ee,te,ne){return te=_getPrototypeOf$7(te),_possibleConstructorReturn$7(ee,_isNativeReflectConstruct$7()?Reflect.construct(te,ne||[],_getPrototypeOf$7(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$7(ee,te){if(te&&(_typeof$b(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(ee)}function _assertThisInitialized$7(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$7(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!ee})()}function _getPrototypeOf$7(ee){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$7(ee)}function _inherits$7(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$7(ee,te)}function _setPrototypeOf$7(ee,te){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$7(ee,te)}function ownKeys$9(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$8(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$9(Object(ne),!0).forEach(function(xe){_defineProperty$c(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$9(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$c(ee,te,ne){return te=_toPropertyKey$c(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$c(ee){var te=_toPrimitive$c(ee,"string");return _typeof$b(te)=="symbol"?te:te+""}function _toPrimitive$c(ee,te){if(_typeof$b(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$b(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}function _slicedToArray$2(ee,te){return _arrayWithHoles$2(ee)||_iterableToArrayLimit$2(ee,te)||_unsupportedIterableToArray$4(ee,te)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$4(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$4(ee,te)}}function _arrayLikeToArray$4(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _iterableToArrayLimit$2(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$2(ee){if(Array.isArray(ee))return ee}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$8.apply(this,arguments)}var renderLine=function(te,ne){var xe;return React.isValidElement(te)?xe=React.cloneElement(te,ne):isFunction$1(te)?xe=te(ne):xe=React.createElement("line",_extends$8({},ne,{className:"recharts-reference-line-line"})),xe},getEndPoints=function(te,ne,xe,rt,it,lt,ct,ut,dt){var ht=it.x,ft=it.y,pt=it.width,mt=it.height;if(xe){var xt=dt.y,yt=te.y.apply(xt,{position:lt});if(ifOverflowMatches(dt,"discard")&&!te.y.isInRange(yt))return null;var vt=[{x:ht+pt,y:yt},{x:ht,y:yt}];return ut==="left"?vt.reverse():vt}if(ne){var Et=dt.x,_t=te.x.apply(Et,{position:lt});if(ifOverflowMatches(dt,"discard")&&!te.x.isInRange(_t))return null;var wt=[{x:_t,y:ft+mt},{x:_t,y:ft}];return ct==="top"?wt.reverse():wt}if(rt){var St=dt.segment,Ct=St.map(function(jt){return te.apply(jt,{position:lt})});return ifOverflowMatches(dt,"discard")&&some(Ct,function(jt){return!te.isInRange(jt)})?null:Ct}return null};function ReferenceLineImpl(ee){var te=ee.x,ne=ee.y,xe=ee.segment,rt=ee.xAxisId,it=ee.yAxisId,lt=ee.shape,ct=ee.className,ut=ee.alwaysShow,dt=useClipPathId(),ht=useXAxisOrThrow(rt),ft=useYAxisOrThrow(it),pt=useViewBox();if(!dt||!pt)return null;warn(ut===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var mt=createLabeledScales({x:ht.scale,y:ft.scale}),xt=isNumOrStr(te),yt=isNumOrStr(ne),vt=xe&&xe.length===2,Et=getEndPoints(mt,xt,yt,vt,pt,ee.position,ht.orientation,ft.orientation,ee);if(!Et)return null;var _t=_slicedToArray$2(Et,2),wt=_t[0],St=wt.x,Ct=wt.y,jt=_t[1],Rt=jt.x,Pt=jt.y,Ot=ifOverflowMatches(ee,"hidden")?"url(#".concat(dt,")"):void 0,Ft=_objectSpread$8(_objectSpread$8({clipPath:Ot},filterProps(ee,!0)),{},{x1:St,y1:Ct,x2:Rt,y2:Pt});return React.createElement(Layer,{className:clsx("recharts-reference-line",ct)},renderLine(lt,Ft),Label.renderCallByParent(ee,rectWithCoords({x1:St,y1:Ct,x2:Rt,y2:Pt})))}var ReferenceLine=(function(ee){function te(){return _classCallCheck$8(this,te),_callSuper$7(this,te,arguments)}return _inherits$7(te,ee),_createClass$8(te,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])})(React.Component);_defineProperty$c(ReferenceLine,"displayName","ReferenceLine");_defineProperty$c(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$7.apply(this,arguments)}function _typeof$a(ee){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$a(ee)}function ownKeys$8(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$7(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$8(Object(ne),!0).forEach(function(xe){_defineProperty$b(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$8(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$7(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$b(xe.key),xe)}}function _createClass$7(ee,te,ne){return te&&_defineProperties$7(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$6(ee,te,ne){return te=_getPrototypeOf$6(te),_possibleConstructorReturn$6(ee,_isNativeReflectConstruct$6()?Reflect.construct(te,ne||[],_getPrototypeOf$6(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$6(ee,te){if(te&&(_typeof$a(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(ee)}function _assertThisInitialized$6(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$6(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!ee})()}function _getPrototypeOf$6(ee){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$6(ee)}function _inherits$6(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$6(ee,te)}function _setPrototypeOf$6(ee,te){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$6(ee,te)}function _defineProperty$b(ee,te,ne){return te=_toPropertyKey$b(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$b(ee){var te=_toPrimitive$b(ee,"string");return _typeof$a(te)=="symbol"?te:te+""}function _toPrimitive$b(ee,te){if(_typeof$a(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$a(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var getCoordinate=function(te){var ne=te.x,xe=te.y,rt=te.xAxis,it=te.yAxis,lt=createLabeledScales({x:rt.scale,y:it.scale}),ct=lt.apply({x:ne,y:xe},{bandAware:!0});return ifOverflowMatches(te,"discard")&&!lt.isInRange(ct)?null:ct},ReferenceDot=(function(ee){function te(){return _classCallCheck$7(this,te),_callSuper$6(this,te,arguments)}return _inherits$6(te,ee),_createClass$7(te,[{key:"render",value:function(){var xe=this.props,rt=xe.x,it=xe.y,lt=xe.r,ct=xe.alwaysShow,ut=xe.clipPathId,dt=isNumOrStr(rt),ht=isNumOrStr(it);if(warn(ct===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!dt||!ht)return null;var ft=getCoordinate(this.props);if(!ft)return null;var pt=ft.x,mt=ft.y,xt=this.props,yt=xt.shape,vt=xt.className,Et=ifOverflowMatches(this.props,"hidden")?"url(#".concat(ut,")"):void 0,_t=_objectSpread$7(_objectSpread$7({clipPath:Et},filterProps(this.props,!0)),{},{cx:pt,cy:mt});return React.createElement(Layer,{className:clsx("recharts-reference-dot",vt)},te.renderDot(yt,_t),Label.renderCallByParent(this.props,{x:pt-lt,y:mt-lt,width:2*lt,height:2*lt}))}}])})(React.Component);_defineProperty$b(ReferenceDot,"displayName","ReferenceDot");_defineProperty$b(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$b(ReferenceDot,"renderDot",function(ee,te){var ne;return React.isValidElement(ee)?ne=React.cloneElement(ee,te):isFunction$1(ee)?ne=ee(te):ne=React.createElement(Dot,_extends$7({},te,{cx:te.cx,cy:te.cy,className:"recharts-reference-dot-dot"})),ne});function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$6.apply(this,arguments)}function _typeof$9(ee){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$9(ee)}function ownKeys$7(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$6(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$7(Object(ne),!0).forEach(function(xe){_defineProperty$a(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$7(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _classCallCheck$6(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$a(xe.key),xe)}}function _createClass$6(ee,te,ne){return te&&_defineProperties$6(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$5(ee,te,ne){return te=_getPrototypeOf$5(te),_possibleConstructorReturn$5(ee,_isNativeReflectConstruct$5()?Reflect.construct(te,ne||[],_getPrototypeOf$5(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$5(ee,te){if(te&&(_typeof$9(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(ee)}function _assertThisInitialized$5(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$5(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!ee})()}function _getPrototypeOf$5(ee){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$5(ee)}function _inherits$5(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$5(ee,te)}function _setPrototypeOf$5(ee,te){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$5(ee,te)}function _defineProperty$a(ee,te,ne){return te=_toPropertyKey$a(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$a(ee){var te=_toPrimitive$a(ee,"string");return _typeof$9(te)=="symbol"?te:te+""}function _toPrimitive$a(ee,te){if(_typeof$9(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$9(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var getRect=function(te,ne,xe,rt,it){var lt=it.x1,ct=it.x2,ut=it.y1,dt=it.y2,ht=it.xAxis,ft=it.yAxis;if(!ht||!ft)return null;var pt=createLabeledScales({x:ht.scale,y:ft.scale}),mt={x:te?pt.x.apply(lt,{position:"start"}):pt.x.rangeMin,y:xe?pt.y.apply(ut,{position:"start"}):pt.y.rangeMin},xt={x:ne?pt.x.apply(ct,{position:"end"}):pt.x.rangeMax,y:rt?pt.y.apply(dt,{position:"end"}):pt.y.rangeMax};return ifOverflowMatches(it,"discard")&&(!pt.isInRange(mt)||!pt.isInRange(xt))?null:rectWithPoints(mt,xt)},ReferenceArea=(function(ee){function te(){return _classCallCheck$6(this,te),_callSuper$5(this,te,arguments)}return _inherits$5(te,ee),_createClass$6(te,[{key:"render",value:function(){var xe=this.props,rt=xe.x1,it=xe.x2,lt=xe.y1,ct=xe.y2,ut=xe.className,dt=xe.alwaysShow,ht=xe.clipPathId;warn(dt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var ft=isNumOrStr(rt),pt=isNumOrStr(it),mt=isNumOrStr(lt),xt=isNumOrStr(ct),yt=this.props.shape;if(!ft&&!pt&&!mt&&!xt&&!yt)return null;var vt=getRect(ft,pt,mt,xt,this.props);if(!vt&&!yt)return null;var Et=ifOverflowMatches(this.props,"hidden")?"url(#".concat(ht,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",ut)},te.renderRect(yt,_objectSpread$6(_objectSpread$6({clipPath:Et},filterProps(this.props,!0)),vt)),Label.renderCallByParent(this.props,vt))}}])})(React.Component);_defineProperty$a(ReferenceArea,"displayName","ReferenceArea");_defineProperty$a(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$a(ReferenceArea,"renderRect",function(ee,te){var ne;return React.isValidElement(ee)?ne=React.cloneElement(ee,te):isFunction$1(ee)?ne=ee(te):ne=React.createElement(Rectangle,_extends$6({},te,{className:"recharts-reference-area-rect"})),ne});function getEveryNthWithCondition(ee,te,ne){if(te<1)return[];if(te===1&&ne===void 0)return ee;for(var xe=[],rt=0;rt<ee.length;rt+=te)xe.push(ee[rt]);return xe}function getAngledTickWidth(ee,te,ne){var xe={width:ee.width+te.width,height:ee.height+te.height};return getAngledRectangleWidth(xe,ne)}function getTickBoundaries(ee,te,ne){var xe=ne==="width",rt=ee.x,it=ee.y,lt=ee.width,ct=ee.height;return te===1?{start:xe?rt:it,end:xe?rt+lt:it+ct}:{start:xe?rt+lt:it+ct,end:xe?rt:it}}function isVisible(ee,te,ne,xe,rt){if(ee*te<ee*xe||ee*te>ee*rt)return!1;var it=ne();return ee*(te-ee*it/2-xe)>=0&&ee*(te+ee*it/2-rt)<=0}function getNumberIntervalTicks(ee,te){return getEveryNthWithCondition(ee,te+1)}function getEquidistantTicks(ee,te,ne,xe,rt){for(var it=(xe||[]).slice(),lt=te.start,ct=te.end,ut=0,dt=1,ht=lt,ft=function(){var xt=xe?.[ut];if(xt===void 0)return{v:getEveryNthWithCondition(xe,dt)};var yt=ut,vt,Et=function(){return vt===void 0&&(vt=ne(xt,yt)),vt},_t=xt.coordinate,wt=ut===0||isVisible(ee,_t,Et,ht,ct);wt||(ut=0,ht=lt,dt+=1),wt&&(ht=_t+ee*(Et()/2+rt),ut+=dt)},pt;dt<=it.length;)if(pt=ft(),pt)return pt.v;return[]}function _typeof$8(ee){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$8(ee)}function ownKeys$6(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$5(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$6(Object(ne),!0).forEach(function(xe){_defineProperty$9(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$6(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$9(ee,te,ne){return te=_toPropertyKey$9(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$9(ee){var te=_toPrimitive$9(ee,"string");return _typeof$8(te)=="symbol"?te:te+""}function _toPrimitive$9(ee,te){if(_typeof$8(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$8(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function getTicksEnd(ee,te,ne,xe,rt){for(var it=(xe||[]).slice(),lt=it.length,ct=te.start,ut=te.end,dt=function(pt){var mt=it[pt],xt,yt=function(){return xt===void 0&&(xt=ne(mt,pt)),xt};if(pt===lt-1){var vt=ee*(mt.coordinate+ee*yt()/2-ut);it[pt]=mt=_objectSpread$5(_objectSpread$5({},mt),{},{tickCoord:vt>0?mt.coordinate-vt*ee:mt.coordinate})}else it[pt]=mt=_objectSpread$5(_objectSpread$5({},mt),{},{tickCoord:mt.coordinate});var Et=isVisible(ee,mt.tickCoord,yt,ct,ut);Et&&(ut=mt.tickCoord-ee*(yt()/2+rt),it[pt]=_objectSpread$5(_objectSpread$5({},mt),{},{isShow:!0}))},ht=lt-1;ht>=0;ht--)dt(ht);return it}function getTicksStart(ee,te,ne,xe,rt,it){var lt=(xe||[]).slice(),ct=lt.length,ut=te.start,dt=te.end;if(it){var ht=xe[ct-1],ft=ne(ht,ct-1),pt=ee*(ht.coordinate+ee*ft/2-dt);lt[ct-1]=ht=_objectSpread$5(_objectSpread$5({},ht),{},{tickCoord:pt>0?ht.coordinate-pt*ee:ht.coordinate});var mt=isVisible(ee,ht.tickCoord,function(){return ft},ut,dt);mt&&(dt=ht.tickCoord-ee*(ft/2+rt),lt[ct-1]=_objectSpread$5(_objectSpread$5({},ht),{},{isShow:!0}))}for(var xt=it?ct-1:ct,yt=function(_t){var wt=lt[_t],St,Ct=function(){return St===void 0&&(St=ne(wt,_t)),St};if(_t===0){var jt=ee*(wt.coordinate-ee*Ct()/2-ut);lt[_t]=wt=_objectSpread$5(_objectSpread$5({},wt),{},{tickCoord:jt<0?wt.coordinate-jt*ee:wt.coordinate})}else lt[_t]=wt=_objectSpread$5(_objectSpread$5({},wt),{},{tickCoord:wt.coordinate});var Rt=isVisible(ee,wt.tickCoord,Ct,ut,dt);Rt&&(ut=wt.tickCoord+ee*(Ct()/2+rt),lt[_t]=_objectSpread$5(_objectSpread$5({},wt),{},{isShow:!0}))},vt=0;vt<xt;vt++)yt(vt);return lt}function getTicks(ee,te,ne){var xe=ee.tick,rt=ee.ticks,it=ee.viewBox,lt=ee.minTickGap,ct=ee.orientation,ut=ee.interval,dt=ee.tickFormatter,ht=ee.unit,ft=ee.angle;if(!rt||!rt.length||!xe)return[];if(isNumber(ut)||Global.isSsr)return getNumberIntervalTicks(rt,typeof ut=="number"&&isNumber(ut)?ut:0);var pt=[],mt=ct==="top"||ct==="bottom"?"width":"height",xt=ht&&mt==="width"?getStringSize(ht,{fontSize:te,letterSpacing:ne}):{width:0,height:0},yt=function(wt,St){var Ct=isFunction$1(dt)?dt(wt.value,St):wt.value;return mt==="width"?getAngledTickWidth(getStringSize(Ct,{fontSize:te,letterSpacing:ne}),xt,ft):getStringSize(Ct,{fontSize:te,letterSpacing:ne})[mt]},vt=rt.length>=2?mathSign(rt[1].coordinate-rt[0].coordinate):1,Et=getTickBoundaries(it,vt,mt);return ut==="equidistantPreserveStart"?getEquidistantTicks(vt,Et,yt,rt,lt):(ut==="preserveStart"||ut==="preserveStartEnd"?pt=getTicksStart(vt,Et,yt,rt,lt,ut==="preserveStartEnd"):pt=getTicksEnd(vt,Et,yt,rt,lt),pt.filter(function(_t){return _t.isShow}))}var _excluded$5=["viewBox"],_excluded2$3=["viewBox"],_excluded3=["ticks"];function _typeof$7(ee){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$7(ee)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$5.apply(this,arguments)}function ownKeys$5(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$4(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$5(Object(ne),!0).forEach(function(xe){_defineProperty$8(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$5(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _objectWithoutProperties$4(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$4(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$4(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _classCallCheck$5(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$8(xe.key),xe)}}function _createClass$5(ee,te,ne){return te&&_defineProperties$5(ee.prototype,te),ne&&_defineProperties$5(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$4(ee,te,ne){return te=_getPrototypeOf$4(te),_possibleConstructorReturn$4(ee,_isNativeReflectConstruct$4()?Reflect.construct(te,ne||[],_getPrototypeOf$4(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$4(ee,te){if(te&&(_typeof$7(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(ee)}function _assertThisInitialized$4(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$4(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!ee})()}function _getPrototypeOf$4(ee){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$4(ee)}function _inherits$4(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$4(ee,te)}function _setPrototypeOf$4(ee,te){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$4(ee,te)}function _defineProperty$8(ee,te,ne){return te=_toPropertyKey$8(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$8(ee){var te=_toPrimitive$8(ee,"string");return _typeof$7(te)=="symbol"?te:te+""}function _toPrimitive$8(ee,te){if(_typeof$7(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$7(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var CartesianAxis=(function(ee){function te(ne){var xe;return _classCallCheck$5(this,te),xe=_callSuper$4(this,te,[ne]),xe.state={fontSize:"",letterSpacing:""},xe}return _inherits$4(te,ee),_createClass$5(te,[{key:"shouldComponentUpdate",value:function(xe,rt){var it=xe.viewBox,lt=_objectWithoutProperties$4(xe,_excluded$5),ct=this.props,ut=ct.viewBox,dt=_objectWithoutProperties$4(ct,_excluded2$3);return!shallowEqual(it,ut)||!shallowEqual(lt,dt)||!shallowEqual(rt,this.state)}},{key:"componentDidMount",value:function(){var xe=this.layerReference;if(xe){var rt=xe.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];rt&&this.setState({fontSize:window.getComputedStyle(rt).fontSize,letterSpacing:window.getComputedStyle(rt).letterSpacing})}}},{key:"getTickLineCoord",value:function(xe){var rt=this.props,it=rt.x,lt=rt.y,ct=rt.width,ut=rt.height,dt=rt.orientation,ht=rt.tickSize,ft=rt.mirror,pt=rt.tickMargin,mt,xt,yt,vt,Et,_t,wt=ft?-1:1,St=xe.tickSize||ht,Ct=isNumber(xe.tickCoord)?xe.tickCoord:xe.coordinate;switch(dt){case"top":mt=xt=xe.coordinate,vt=lt+ +!ft*ut,yt=vt-wt*St,_t=yt-wt*pt,Et=Ct;break;case"left":yt=vt=xe.coordinate,xt=it+ +!ft*ct,mt=xt-wt*St,Et=mt-wt*pt,_t=Ct;break;case"right":yt=vt=xe.coordinate,xt=it+ +ft*ct,mt=xt+wt*St,Et=mt+wt*pt,_t=Ct;break;default:mt=xt=xe.coordinate,vt=lt+ +ft*ut,yt=vt+wt*St,_t=yt+wt*pt,Et=Ct;break}return{line:{x1:mt,y1:yt,x2:xt,y2:vt},tick:{x:Et,y:_t}}}},{key:"getTickTextAnchor",value:function(){var xe=this.props,rt=xe.orientation,it=xe.mirror,lt;switch(rt){case"left":lt=it?"start":"end";break;case"right":lt=it?"end":"start";break;default:lt="middle";break}return lt}},{key:"getTickVerticalAnchor",value:function(){var xe=this.props,rt=xe.orientation,it=xe.mirror,lt="end";switch(rt){case"left":case"right":lt="middle";break;case"top":lt=it?"start":"end";break;default:lt=it?"end":"start";break}return lt}},{key:"renderAxisLine",value:function(){var xe=this.props,rt=xe.x,it=xe.y,lt=xe.width,ct=xe.height,ut=xe.orientation,dt=xe.mirror,ht=xe.axisLine,ft=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(this.props,!1)),filterProps(ht,!1)),{},{fill:"none"});if(ut==="top"||ut==="bottom"){var pt=+(ut==="top"&&!dt||ut==="bottom"&&dt);ft=_objectSpread$4(_objectSpread$4({},ft),{},{x1:rt,y1:it+pt*ct,x2:rt+lt,y2:it+pt*ct})}else{var mt=+(ut==="left"&&!dt||ut==="right"&&dt);ft=_objectSpread$4(_objectSpread$4({},ft),{},{x1:rt+mt*lt,y1:it,x2:rt+mt*lt,y2:it+ct})}return React.createElement("line",_extends$5({},ft,{className:clsx("recharts-cartesian-axis-line",get$2(ht,"className"))}))}},{key:"renderTicks",value:function(xe,rt,it){var lt=this,ct=this.props,ut=ct.tickLine,dt=ct.stroke,ht=ct.tick,ft=ct.tickFormatter,pt=ct.unit,mt=getTicks(_objectSpread$4(_objectSpread$4({},this.props),{},{ticks:xe}),rt,it),xt=this.getTickTextAnchor(),yt=this.getTickVerticalAnchor(),vt=filterProps(this.props,!1),Et=filterProps(ht,!1),_t=_objectSpread$4(_objectSpread$4({},vt),{},{fill:"none"},filterProps(ut,!1)),wt=mt.map(function(St,Ct){var jt=lt.getTickLineCoord(St),Rt=jt.line,Pt=jt.tick,Ot=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:xt,verticalAnchor:yt},vt),{},{stroke:"none",fill:dt},Et),Pt),{},{index:Ct,payload:St,visibleTicksCount:mt.length,tickFormatter:ft});return React.createElement(Layer,_extends$5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(St.value,"-").concat(St.coordinate,"-").concat(St.tickCoord)},adaptEventsOfChild(lt.props,St,Ct)),ut&&React.createElement("line",_extends$5({},_t,Rt,{className:clsx("recharts-cartesian-axis-tick-line",get$2(ut,"className"))})),ht&&te.renderTickItem(ht,Ot,"".concat(isFunction$1(ft)?ft(St.value,Ct):St.value).concat(pt||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},wt)}},{key:"render",value:function(){var xe=this,rt=this.props,it=rt.axisLine,lt=rt.width,ct=rt.height,ut=rt.ticksGenerator,dt=rt.className,ht=rt.hide;if(ht)return null;var ft=this.props,pt=ft.ticks,mt=_objectWithoutProperties$4(ft,_excluded3),xt=pt;return isFunction$1(ut)&&(xt=pt&&pt.length>0?ut(this.props):ut(mt)),lt<=0||ct<=0||!xt||!xt.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",dt),ref:function(vt){xe.layerReference=vt}},it&&this.renderAxisLine(),this.renderTicks(xt,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(xe,rt,it){var lt,ct=clsx(rt.className,"recharts-cartesian-axis-tick-value");return React.isValidElement(xe)?lt=React.cloneElement(xe,_objectSpread$4(_objectSpread$4({},rt),{},{className:ct})):isFunction$1(xe)?lt=xe(_objectSpread$4(_objectSpread$4({},rt),{},{className:ct})):lt=React.createElement(Text,_extends$5({},rt,{className:"recharts-cartesian-axis-tick-value"}),it),lt}}])})(reactExports.Component);_defineProperty$8(CartesianAxis,"displayName","CartesianAxis");_defineProperty$8(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$4=["x1","y1","x2","y2","key"],_excluded2$2=["offset"];function _typeof$6(ee){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$6(ee)}function ownKeys$4(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$3(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$4(Object(ne),!0).forEach(function(xe){_defineProperty$7(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$4(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$7(ee,te,ne){return te=_toPropertyKey$7(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$7(ee){var te=_toPrimitive$7(ee,"string");return _typeof$6(te)=="symbol"?te:te+""}function _toPrimitive$7(ee,te){if(_typeof$6(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$6(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$4.apply(this,arguments)}function _objectWithoutProperties$3(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$3(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$3(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}var Background$1=function(te){var ne=te.fill;if(!ne||ne==="none")return null;var xe=te.fillOpacity,rt=te.x,it=te.y,lt=te.width,ct=te.height,ut=te.ry;return React.createElement("rect",{x:rt,y:it,ry:ut,width:lt,height:ct,stroke:"none",fill:ne,fillOpacity:xe,className:"recharts-cartesian-grid-bg"})};function renderLineItem(ee,te){var ne;if(React.isValidElement(ee))ne=React.cloneElement(ee,te);else if(isFunction$1(ee))ne=ee(te);else{var xe=te.x1,rt=te.y1,it=te.x2,lt=te.y2,ct=te.key,ut=_objectWithoutProperties$3(te,_excluded$4),dt=filterProps(ut,!1);dt.offset;var ht=_objectWithoutProperties$3(dt,_excluded2$2);ne=React.createElement("line",_extends$4({},ht,{x1:xe,y1:rt,x2:it,y2:lt,fill:"none",key:ct}))}return ne}function HorizontalGridLines(ee){var te=ee.x,ne=ee.width,xe=ee.horizontal,rt=xe===void 0?!0:xe,it=ee.horizontalPoints;if(!rt||!it||!it.length)return null;var lt=it.map(function(ct,ut){var dt=_objectSpread$3(_objectSpread$3({},ee),{},{x1:te,y1:ct,x2:te+ne,y2:ct,key:"line-".concat(ut),index:ut});return renderLineItem(rt,dt)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},lt)}function VerticalGridLines(ee){var te=ee.y,ne=ee.height,xe=ee.vertical,rt=xe===void 0?!0:xe,it=ee.verticalPoints;if(!rt||!it||!it.length)return null;var lt=it.map(function(ct,ut){var dt=_objectSpread$3(_objectSpread$3({},ee),{},{x1:ct,y1:te,x2:ct,y2:te+ne,key:"line-".concat(ut),index:ut});return renderLineItem(rt,dt)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},lt)}function HorizontalStripes(ee){var te=ee.horizontalFill,ne=ee.fillOpacity,xe=ee.x,rt=ee.y,it=ee.width,lt=ee.height,ct=ee.horizontalPoints,ut=ee.horizontal,dt=ut===void 0?!0:ut;if(!dt||!te||!te.length)return null;var ht=ct.map(function(pt){return Math.round(pt+rt-rt)}).sort(function(pt,mt){return pt-mt});rt!==ht[0]&&ht.unshift(0);var ft=ht.map(function(pt,mt){var xt=!ht[mt+1],yt=xt?rt+lt-pt:ht[mt+1]-pt;if(yt<=0)return null;var vt=mt%te.length;return React.createElement("rect",{key:"react-".concat(mt),y:pt,x:xe,height:yt,width:it,stroke:"none",fill:te[vt],fillOpacity:ne,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},ft)}function VerticalStripes(ee){var te=ee.vertical,ne=te===void 0?!0:te,xe=ee.verticalFill,rt=ee.fillOpacity,it=ee.x,lt=ee.y,ct=ee.width,ut=ee.height,dt=ee.verticalPoints;if(!ne||!xe||!xe.length)return null;var ht=dt.map(function(pt){return Math.round(pt+it-it)}).sort(function(pt,mt){return pt-mt});it!==ht[0]&&ht.unshift(0);var ft=ht.map(function(pt,mt){var xt=!ht[mt+1],yt=xt?it+ct-pt:ht[mt+1]-pt;if(yt<=0)return null;var vt=mt%xe.length;return React.createElement("rect",{key:"react-".concat(mt),x:pt,y:lt,width:yt,height:ut,stroke:"none",fill:xe[vt],fillOpacity:rt,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},ft)}var defaultVerticalCoordinatesGenerator=function(te,ne){var xe=te.xAxis,rt=te.width,it=te.height,lt=te.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),xe),{},{ticks:getTicksOfAxis(xe,!0),viewBox:{x:0,y:0,width:rt,height:it}})),lt.left,lt.left+lt.width,ne)},defaultHorizontalCoordinatesGenerator=function(te,ne){var xe=te.yAxis,rt=te.width,it=te.height,lt=te.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),xe),{},{ticks:getTicksOfAxis(xe,!0),viewBox:{x:0,y:0,width:rt,height:it}})),lt.top,lt.top+lt.height,ne)},defaultProps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(ee){var te,ne,xe,rt,it,lt,ct=useChartWidth(),ut=useChartHeight(),dt=useOffset(),ht=_objectSpread$3(_objectSpread$3({},ee),{},{stroke:(te=ee.stroke)!==null&&te!==void 0?te:defaultProps.stroke,fill:(ne=ee.fill)!==null&&ne!==void 0?ne:defaultProps.fill,horizontal:(xe=ee.horizontal)!==null&&xe!==void 0?xe:defaultProps.horizontal,horizontalFill:(rt=ee.horizontalFill)!==null&&rt!==void 0?rt:defaultProps.horizontalFill,vertical:(it=ee.vertical)!==null&&it!==void 0?it:defaultProps.vertical,verticalFill:(lt=ee.verticalFill)!==null&&lt!==void 0?lt:defaultProps.verticalFill,x:isNumber(ee.x)?ee.x:dt.left,y:isNumber(ee.y)?ee.y:dt.top,width:isNumber(ee.width)?ee.width:dt.width,height:isNumber(ee.height)?ee.height:dt.height}),ft=ht.x,pt=ht.y,mt=ht.width,xt=ht.height,yt=ht.syncWithTicks,vt=ht.horizontalValues,Et=ht.verticalValues,_t=useArbitraryXAxis(),wt=useYAxisWithFiniteDomainOrRandom();if(!isNumber(mt)||mt<=0||!isNumber(xt)||xt<=0||!isNumber(ft)||ft!==+ft||!isNumber(pt)||pt!==+pt)return null;var St=ht.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Ct=ht.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,jt=ht.horizontalPoints,Rt=ht.verticalPoints;if((!jt||!jt.length)&&isFunction$1(Ct)){var Pt=vt&&vt.length,Ot=Ct({yAxis:wt?_objectSpread$3(_objectSpread$3({},wt),{},{ticks:Pt?vt:wt.ticks}):void 0,width:ct,height:ut,offset:dt},Pt?!0:yt);warn(Array.isArray(Ot),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(Ot),"]")),Array.isArray(Ot)&&(jt=Ot)}if((!Rt||!Rt.length)&&isFunction$1(St)){var Ft=Et&&Et.length,Lt=St({xAxis:_t?_objectSpread$3(_objectSpread$3({},_t),{},{ticks:Ft?Et:_t.ticks}):void 0,width:ct,height:ut,offset:dt},Ft?!0:yt);warn(Array.isArray(Lt),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(Lt),"]")),Array.isArray(Lt)&&(Rt=Lt)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background$1,{fill:ht.fill,fillOpacity:ht.fillOpacity,x:ht.x,y:ht.y,width:ht.width,height:ht.height,ry:ht.ry}),React.createElement(HorizontalGridLines,_extends$4({},ht,{offset:dt,horizontalPoints:jt,xAxis:_t,yAxis:wt})),React.createElement(VerticalGridLines,_extends$4({},ht,{offset:dt,verticalPoints:Rt,xAxis:_t,yAxis:wt})),React.createElement(HorizontalStripes,_extends$4({},ht,{horizontalPoints:jt})),React.createElement(VerticalStripes,_extends$4({},ht,{verticalPoints:Rt})))}CartesianGrid.displayName="CartesianGrid";var _excluded$3=["type","layout","connectNulls","ref"],_excluded2$1=["key"];function _typeof$5(ee){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$5(ee)}function _objectWithoutProperties$2(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$2(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$2(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$3.apply(this,arguments)}function ownKeys$3(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$2(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$3(Object(ne),!0).forEach(function(xe){_defineProperty$6(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$3(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _toConsumableArray$2(ee){return _arrayWithoutHoles$2(ee)||_iterableToArray$2(ee)||_unsupportedIterableToArray$3(ee)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$3(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$3(ee,te)}}function _iterableToArray$2(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$2(ee){if(Array.isArray(ee))return _arrayLikeToArray$3(ee)}function _arrayLikeToArray$3(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _classCallCheck$4(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$6(xe.key),xe)}}function _createClass$4(ee,te,ne){return te&&_defineProperties$4(ee.prototype,te),ne&&_defineProperties$4(ee,ne),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$3(ee,te,ne){return te=_getPrototypeOf$3(te),_possibleConstructorReturn$3(ee,_isNativeReflectConstruct$3()?Reflect.construct(te,ne||[],_getPrototypeOf$3(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$3(ee,te){if(te&&(_typeof$5(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(ee)}function _assertThisInitialized$3(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$3(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!ee})()}function _getPrototypeOf$3(ee){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$3(ee)}function _inherits$3(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$3(ee,te)}function _setPrototypeOf$3(ee,te){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$3(ee,te)}function _defineProperty$6(ee,te,ne){return te=_toPropertyKey$6(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$6(ee){var te=_toPrimitive$6(ee,"string");return _typeof$5(te)=="symbol"?te:te+""}function _toPrimitive$6(ee,te){if(_typeof$5(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$5(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var Line=(function(ee){function te(){var ne;_classCallCheck$4(this,te);for(var xe=arguments.length,rt=new Array(xe),it=0;it<xe;it++)rt[it]=arguments[it];return ne=_callSuper$3(this,te,[].concat(rt)),_defineProperty$6(ne,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$6(ne,"generateSimpleStrokeDasharray",function(lt,ct){return"".concat(ct,"px ").concat(lt-ct,"px")}),_defineProperty$6(ne,"getStrokeDasharray",function(lt,ct,ut){var dt=ut.reduce(function(Et,_t){return Et+_t});if(!dt)return ne.generateSimpleStrokeDasharray(ct,lt);for(var ht=Math.floor(lt/dt),ft=lt%dt,pt=ct-lt,mt=[],xt=0,yt=0;xt<ut.length;yt+=ut[xt],++xt)if(yt+ut[xt]>ft){mt=[].concat(_toConsumableArray$2(ut.slice(0,xt)),[ft-yt]);break}var vt=mt.length%2===0?[0,pt]:[pt];return[].concat(_toConsumableArray$2(te.repeat(ut,ht)),_toConsumableArray$2(mt),vt).map(function(Et){return"".concat(Et,"px")}).join(", ")}),_defineProperty$6(ne,"id",uniqueId("recharts-line-")),_defineProperty$6(ne,"pathRef",function(lt){ne.mainCurve=lt}),_defineProperty$6(ne,"handleAnimationEnd",function(){ne.setState({isAnimationFinished:!0}),ne.props.onAnimationEnd&&ne.props.onAnimationEnd()}),_defineProperty$6(ne,"handleAnimationStart",function(){ne.setState({isAnimationFinished:!1}),ne.props.onAnimationStart&&ne.props.onAnimationStart()}),ne}return _inherits$3(te,ee),_createClass$4(te,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var xe=this.getTotalLength();this.setState({totalLength:xe})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var xe=this.getTotalLength();xe!==this.state.totalLength&&this.setState({totalLength:xe})}}},{key:"getTotalLength",value:function(){var xe=this.mainCurve;try{return xe&&xe.getTotalLength&&xe.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(xe,rt){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var it=this.props,lt=it.points,ct=it.xAxis,ut=it.yAxis,dt=it.layout,ht=it.children,ft=findAllByType(ht,ErrorBar);if(!ft)return null;var pt=function(yt,vt){return{x:yt.x,y:yt.y,value:yt.value,errorVal:getValueByDataKey(yt.payload,vt)}},mt={clipPath:xe?"url(#clipPath-".concat(rt,")"):null};return React.createElement(Layer,mt,ft.map(function(xt){return React.cloneElement(xt,{key:"bar-".concat(xt.props.dataKey),data:lt,xAxis:ct,yAxis:ut,layout:dt,dataPointFormatter:pt})}))}},{key:"renderDots",value:function(xe,rt,it){var lt=this.props.isAnimationActive;if(lt&&!this.state.isAnimationFinished)return null;var ct=this.props,ut=ct.dot,dt=ct.points,ht=ct.dataKey,ft=filterProps(this.props,!1),pt=filterProps(ut,!0),mt=dt.map(function(yt,vt){var Et=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(vt),r:3},ft),pt),{},{index:vt,cx:yt.x,cy:yt.y,value:yt.value,dataKey:ht,payload:yt.payload,points:dt});return te.renderDotItem(ut,Et)}),xt={clipPath:xe?"url(#clipPath-".concat(rt?"":"dots-").concat(it,")"):null};return React.createElement(Layer,_extends$3({className:"recharts-line-dots",key:"dots"},xt),mt)}},{key:"renderCurveStatically",value:function(xe,rt,it,lt){var ct=this.props,ut=ct.type,dt=ct.layout,ht=ct.connectNulls;ct.ref;var ft=_objectWithoutProperties$2(ct,_excluded$3),pt=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(ft,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:rt?"url(#clipPath-".concat(it,")"):null,points:xe},lt),{},{type:ut,layout:dt,connectNulls:ht});return React.createElement(Curve,_extends$3({},pt,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(xe,rt){var it=this,lt=this.props,ct=lt.points,ut=lt.strokeDasharray,dt=lt.isAnimationActive,ht=lt.animationBegin,ft=lt.animationDuration,pt=lt.animationEasing,mt=lt.animationId,xt=lt.animateNewValues,yt=lt.width,vt=lt.height,Et=this.state,_t=Et.prevPoints,wt=Et.totalLength;return React.createElement(Animate,{begin:ht,duration:ft,isActive:dt,easing:pt,from:{t:0},to:{t:1},key:"line-".concat(mt),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(St){var Ct=St.t;if(_t){var jt=_t.length/ct.length,Rt=ct.map(function(Bt,Gt){var It=Math.floor(Gt*jt);if(_t[It]){var qt=_t[It],Nt=interpolateNumber$2(qt.x,Bt.x),Dt=interpolateNumber$2(qt.y,Bt.y);return _objectSpread$2(_objectSpread$2({},Bt),{},{x:Nt(Ct),y:Dt(Ct)})}if(xt){var Tt=interpolateNumber$2(yt*2,Bt.x),Mt=interpolateNumber$2(vt/2,Bt.y);return _objectSpread$2(_objectSpread$2({},Bt),{},{x:Tt(Ct),y:Mt(Ct)})}return _objectSpread$2(_objectSpread$2({},Bt),{},{x:Bt.x,y:Bt.y})});return it.renderCurveStatically(Rt,xe,rt)}var Pt=interpolateNumber$2(0,wt),Ot=Pt(Ct),Ft;if(ut){var Lt="".concat(ut).split(/[,\s]+/gim).map(function(Bt){return parseFloat(Bt)});Ft=it.getStrokeDasharray(Ot,wt,Lt)}else Ft=it.generateSimpleStrokeDasharray(wt,Ot);return it.renderCurveStatically(ct,xe,rt,{strokeDasharray:Ft})})}},{key:"renderCurve",value:function(xe,rt){var it=this.props,lt=it.points,ct=it.isAnimationActive,ut=this.state,dt=ut.prevPoints,ht=ut.totalLength;return ct&&lt&&lt.length&&(!dt&&ht>0||!isEqual(dt,lt))?this.renderCurveWithAnimation(xe,rt):this.renderCurveStatically(lt,xe,rt)}},{key:"render",value:function(){var xe,rt=this.props,it=rt.hide,lt=rt.dot,ct=rt.points,ut=rt.className,dt=rt.xAxis,ht=rt.yAxis,ft=rt.top,pt=rt.left,mt=rt.width,xt=rt.height,yt=rt.isAnimationActive,vt=rt.id;if(it||!ct||!ct.length)return null;var Et=this.state.isAnimationFinished,_t=ct.length===1,wt=clsx("recharts-line",ut),St=dt&&dt.allowDataOverflow,Ct=ht&&ht.allowDataOverflow,jt=St||Ct,Rt=isNil(vt)?this.id:vt,Pt=(xe=filterProps(lt,!1))!==null&&xe!==void 0?xe:{r:3,strokeWidth:2},Ot=Pt.r,Ft=Ot===void 0?3:Ot,Lt=Pt.strokeWidth,Bt=Lt===void 0?2:Lt,Gt=hasClipDot(lt)?lt:{},It=Gt.clipDot,qt=It===void 0?!0:It,Nt=Ft*2+Bt;return React.createElement(Layer,{className:wt},St||Ct?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Rt)},React.createElement("rect",{x:St?pt:pt-mt/2,y:Ct?ft:ft-xt/2,width:St?mt:mt*2,height:Ct?xt:xt*2})),!qt&&React.createElement("clipPath",{id:"clipPath-dots-".concat(Rt)},React.createElement("rect",{x:pt-Nt/2,y:ft-Nt/2,width:mt+Nt,height:xt+Nt}))):null,!_t&&this.renderCurve(jt,Rt),this.renderErrorBar(jt,Rt),(_t||lt)&&this.renderDots(jt,qt,Rt),(!yt||Et)&&LabelList.renderCallByParent(this.props,ct))}}],[{key:"getDerivedStateFromProps",value:function(xe,rt){return xe.animationId!==rt.prevAnimationId?{prevAnimationId:xe.animationId,curPoints:xe.points,prevPoints:rt.curPoints}:xe.points!==rt.curPoints?{curPoints:xe.points}:null}},{key:"repeat",value:function(xe,rt){for(var it=xe.length%2!==0?[].concat(_toConsumableArray$2(xe),[0]):xe,lt=[],ct=0;ct<rt;++ct)lt=[].concat(_toConsumableArray$2(lt),_toConsumableArray$2(it));return lt}},{key:"renderDotItem",value:function(xe,rt){var it;if(React.isValidElement(xe))it=React.cloneElement(xe,rt);else if(isFunction$1(xe))it=xe(rt);else{var lt=rt.key,ct=_objectWithoutProperties$2(rt,_excluded2$1),ut=clsx("recharts-line-dot",typeof xe!="boolean"?xe.className:"");it=React.createElement(Dot,_extends$3({key:lt},ct,{className:ut}))}return it}}])})(reactExports.PureComponent);_defineProperty$6(Line,"displayName","Line");_defineProperty$6(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$6(Line,"getComposedData",function(ee){var te=ee.props,ne=ee.xAxis,xe=ee.yAxis,rt=ee.xAxisTicks,it=ee.yAxisTicks,lt=ee.dataKey,ct=ee.bandSize,ut=ee.displayedData,dt=ee.offset,ht=te.layout,ft=ut.map(function(pt,mt){var xt=getValueByDataKey(pt,lt);return ht==="horizontal"?{x:getCateCoordinateOfLine({axis:ne,ticks:rt,bandSize:ct,entry:pt,index:mt}),y:isNil(xt)?null:xe.scale(xt),value:xt,payload:pt}:{x:isNil(xt)?null:ne.scale(xt),y:getCateCoordinateOfLine({axis:xe,ticks:it,bandSize:ct,entry:pt,index:mt}),value:xt,payload:pt}});return _objectSpread$2({points:ft,layout:ht},dt)});function _typeof$4(ee){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$4(ee)}function _classCallCheck$3(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$5(xe.key),xe)}}function _createClass$3(ee,te,ne){return te&&_defineProperties$3(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$2(ee,te,ne){return te=_getPrototypeOf$2(te),_possibleConstructorReturn$2(ee,_isNativeReflectConstruct$2()?Reflect.construct(te,ne||[],_getPrototypeOf$2(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$2(ee,te){if(te&&(_typeof$4(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(ee)}function _assertThisInitialized$2(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$2(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!ee})()}function _getPrototypeOf$2(ee){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$2(ee)}function _inherits$2(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$2(ee,te)}function _setPrototypeOf$2(ee,te){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$2(ee,te)}function _defineProperty$5(ee,te,ne){return te=_toPropertyKey$5(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$5(ee){var te=_toPrimitive$5(ee,"string");return _typeof$4(te)=="symbol"?te:te+""}function _toPrimitive$5(ee,te){if(_typeof$4(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$4(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$2.apply(this,arguments)}function XAxisImpl(ee){var te=ee.xAxisId,ne=useChartWidth(),xe=useChartHeight(),rt=useXAxisOrThrow(te);return rt==null?null:reactExports.createElement(CartesianAxis,_extends$2({},rt,{className:clsx("recharts-".concat(rt.axisType," ").concat(rt.axisType),rt.className),viewBox:{x:0,y:0,width:ne,height:xe},ticksGenerator:function(lt){return getTicksOfAxis(lt,!0)}}))}var XAxis=(function(ee){function te(){return _classCallCheck$3(this,te),_callSuper$2(this,te,arguments)}return _inherits$2(te,ee),_createClass$3(te,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])})(reactExports.Component);_defineProperty$5(XAxis,"displayName","XAxis");_defineProperty$5(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(ee){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$3(ee)}function _classCallCheck$2(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$4(xe.key),xe)}}function _createClass$2(ee,te,ne){return te&&_defineProperties$2(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper$1(ee,te,ne){return te=_getPrototypeOf$1(te),_possibleConstructorReturn$1(ee,_isNativeReflectConstruct$1()?Reflect.construct(te,ne||[],_getPrototypeOf$1(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn$1(ee,te){if(te&&(_typeof$3(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(ee)}function _assertThisInitialized$1(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct$1(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!ee})()}function _getPrototypeOf$1(ee){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf$1(ee)}function _inherits$1(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf$1(ee,te)}function _setPrototypeOf$1(ee,te){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf$1(ee,te)}function _defineProperty$4(ee,te,ne){return te=_toPropertyKey$4(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$4(ee){var te=_toPrimitive$4(ee,"string");return _typeof$3(te)=="symbol"?te:te+""}function _toPrimitive$4(ee,te){if(_typeof$3(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$3(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends$1.apply(this,arguments)}var YAxisImpl=function(te){var ne=te.yAxisId,xe=useChartWidth(),rt=useChartHeight(),it=useYAxisOrThrow(ne);return it==null?null:reactExports.createElement(CartesianAxis,_extends$1({},it,{className:clsx("recharts-".concat(it.axisType," ").concat(it.axisType),it.className),viewBox:{x:0,y:0,width:xe,height:rt},ticksGenerator:function(ct){return getTicksOfAxis(ct,!0)}}))},YAxis=(function(ee){function te(){return _classCallCheck$2(this,te),_callSuper$1(this,te,arguments)}return _inherits$1(te,ee),_createClass$2(te,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])})(reactExports.Component);_defineProperty$4(YAxis,"displayName","YAxis");_defineProperty$4(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(ee){return _arrayWithoutHoles$1(ee)||_iterableToArray$1(ee)||_unsupportedIterableToArray$2(ee)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$2(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$2(ee,te)}}function _iterableToArray$1(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles$1(ee){if(Array.isArray(ee))return _arrayLikeToArray$2(ee)}function _arrayLikeToArray$2(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}var detectReferenceElementsDomain=function(te,ne,xe,rt,it){var lt=findAllByType(te,ReferenceLine),ct=findAllByType(te,ReferenceDot),ut=[].concat(_toConsumableArray$1(lt),_toConsumableArray$1(ct)),dt=findAllByType(te,ReferenceArea),ht="".concat(rt,"Id"),ft=rt[0],pt=ne;if(ut.length&&(pt=ut.reduce(function(yt,vt){if(vt.props[ht]===xe&&ifOverflowMatches(vt.props,"extendDomain")&&isNumber(vt.props[ft])){var Et=vt.props[ft];return[Math.min(yt[0],Et),Math.max(yt[1],Et)]}return yt},pt)),dt.length){var mt="".concat(ft,"1"),xt="".concat(ft,"2");pt=dt.reduce(function(yt,vt){if(vt.props[ht]===xe&&ifOverflowMatches(vt.props,"extendDomain")&&isNumber(vt.props[mt])&&isNumber(vt.props[xt])){var Et=vt.props[mt],_t=vt.props[xt];return[Math.min(yt[0],Et,_t),Math.max(yt[1],Et,_t)]}return yt},pt)}return it&&it.length&&(pt=it.reduce(function(yt,vt){return isNumber(vt)?[Math.min(yt[0],vt),Math.max(yt[1],vt)]:yt},pt)),pt},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(ee){var te=Object.prototype.hasOwnProperty,ne="~";function xe(){}Object.create&&(xe.prototype=Object.create(null),new xe().__proto__||(ne=!1));function rt(ut,dt,ht){this.fn=ut,this.context=dt,this.once=ht||!1}function it(ut,dt,ht,ft,pt){if(typeof ht!="function")throw new TypeError("The listener must be a function");var mt=new rt(ht,ft||ut,pt),xt=ne?ne+dt:dt;return ut._events[xt]?ut._events[xt].fn?ut._events[xt]=[ut._events[xt],mt]:ut._events[xt].push(mt):(ut._events[xt]=mt,ut._eventsCount++),ut}function lt(ut,dt){--ut._eventsCount===0?ut._events=new xe:delete ut._events[dt]}function ct(){this._events=new xe,this._eventsCount=0}ct.prototype.eventNames=function(){var dt=[],ht,ft;if(this._eventsCount===0)return dt;for(ft in ht=this._events)te.call(ht,ft)&&dt.push(ne?ft.slice(1):ft);return Object.getOwnPropertySymbols?dt.concat(Object.getOwnPropertySymbols(ht)):dt},ct.prototype.listeners=function(dt){var ht=ne?ne+dt:dt,ft=this._events[ht];if(!ft)return[];if(ft.fn)return[ft.fn];for(var pt=0,mt=ft.length,xt=new Array(mt);pt<mt;pt++)xt[pt]=ft[pt].fn;return xt},ct.prototype.listenerCount=function(dt){var ht=ne?ne+dt:dt,ft=this._events[ht];return ft?ft.fn?1:ft.length:0},ct.prototype.emit=function(dt,ht,ft,pt,mt,xt){var yt=ne?ne+dt:dt;if(!this._events[yt])return!1;var vt=this._events[yt],Et=arguments.length,_t,wt;if(vt.fn){switch(vt.once&&this.removeListener(dt,vt.fn,void 0,!0),Et){case 1:return vt.fn.call(vt.context),!0;case 2:return vt.fn.call(vt.context,ht),!0;case 3:return vt.fn.call(vt.context,ht,ft),!0;case 4:return vt.fn.call(vt.context,ht,ft,pt),!0;case 5:return vt.fn.call(vt.context,ht,ft,pt,mt),!0;case 6:return vt.fn.call(vt.context,ht,ft,pt,mt,xt),!0}for(wt=1,_t=new Array(Et-1);wt<Et;wt++)_t[wt-1]=arguments[wt];vt.fn.apply(vt.context,_t)}else{var St=vt.length,Ct;for(wt=0;wt<St;wt++)switch(vt[wt].once&&this.removeListener(dt,vt[wt].fn,void 0,!0),Et){case 1:vt[wt].fn.call(vt[wt].context);break;case 2:vt[wt].fn.call(vt[wt].context,ht);break;case 3:vt[wt].fn.call(vt[wt].context,ht,ft);break;case 4:vt[wt].fn.call(vt[wt].context,ht,ft,pt);break;default:if(!_t)for(Ct=1,_t=new Array(Et-1);Ct<Et;Ct++)_t[Ct-1]=arguments[Ct];vt[wt].fn.apply(vt[wt].context,_t)}}return!0},ct.prototype.on=function(dt,ht,ft){return it(this,dt,ht,ft,!1)},ct.prototype.once=function(dt,ht,ft){return it(this,dt,ht,ft,!0)},ct.prototype.removeListener=function(dt,ht,ft,pt){var mt=ne?ne+dt:dt;if(!this._events[mt])return this;if(!ht)return lt(this,mt),this;var xt=this._events[mt];if(xt.fn)xt.fn===ht&&(!pt||xt.once)&&(!ft||xt.context===ft)&&lt(this,mt);else{for(var yt=0,vt=[],Et=xt.length;yt<Et;yt++)(xt[yt].fn!==ht||pt&&!xt[yt].once||ft&&xt[yt].context!==ft)&&vt.push(xt[yt]);vt.length?this._events[mt]=vt.length===1?vt[0]:vt:lt(this,mt)}return this},ct.prototype.removeAllListeners=function(dt){var ht;return dt?(ht=ne?ne+dt:dt,this._events[ht]&&lt(this,ht)):(this._events=new xe,this._eventsCount=0),this},ct.prototype.off=ct.prototype.removeListener,ct.prototype.addListener=ct.prototype.on,ct.prefixed=ne,ct.EventEmitter=ct,ee.exports=ct})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(ee){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$2(ee)}function _classCallCheck$1(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$3(xe.key),xe)}}function _createClass$1(ee,te,ne){return te&&_defineProperties$1(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _defineProperty$3(ee,te,ne){return te=_toPropertyKey$3(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$3(ee){var te=_toPrimitive$3(ee,"string");return _typeof$2(te)=="symbol"?te:te+""}function _toPrimitive$3(ee,te){if(_typeof$2(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$2(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}var AccessibilityManager=(function(){function ee(){_classCallCheck$1(this,ee),_defineProperty$3(this,"activeIndex",0),_defineProperty$3(this,"coordinateList",[]),_defineProperty$3(this,"layout","horizontal")}return _createClass$1(ee,[{key:"setDetails",value:function(ne){var xe,rt=ne.coordinateList,it=rt===void 0?null:rt,lt=ne.container,ct=lt===void 0?null:lt,ut=ne.layout,dt=ut===void 0?null:ut,ht=ne.offset,ft=ht===void 0?null:ht,pt=ne.mouseHandlerCallback,mt=pt===void 0?null:pt;this.coordinateList=(xe=it??this.coordinateList)!==null&&xe!==void 0?xe:[],this.container=ct??this.container,this.layout=dt??this.layout,this.offset=ft??this.offset,this.mouseHandlerCallback=mt??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(ne){if(this.coordinateList.length!==0)switch(ne.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(ne){this.activeIndex=ne}},{key:"spoofMouse",value:function(){var ne,xe;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var rt=this.container.getBoundingClientRect(),it=rt.x,lt=rt.y,ct=rt.height,ut=this.coordinateList[this.activeIndex].coordinate,dt=((ne=window)===null||ne===void 0?void 0:ne.scrollX)||0,ht=((xe=window)===null||xe===void 0?void 0:xe.scrollY)||0,ft=it+ut+dt,pt=lt+this.offset.top+ct/2+ht;this.mouseHandlerCallback({pageX:ft,pageY:pt})}}}])})();function isDomainSpecifiedByUser(ee,te,ne){if(ne==="number"&&te===!0&&Array.isArray(ee)){var xe=ee?.[0],rt=ee?.[1];if(xe&&rt&&isNumber(xe)&&isNumber(rt))return!0}return!1}function getCursorRectangle(ee,te,ne,xe){var rt=xe/2;return{stroke:"none",fill:"#ccc",x:ee==="horizontal"?te.x-rt:ne.left+.5,y:ee==="horizontal"?ne.top+.5:te.y-rt,width:ee==="horizontal"?xe:ne.width-1,height:ee==="horizontal"?ne.height-1:xe}}function getRadialCursorPoints(ee){var te=ee.cx,ne=ee.cy,xe=ee.radius,rt=ee.startAngle,it=ee.endAngle,lt=polarToCartesian(te,ne,xe,rt),ct=polarToCartesian(te,ne,xe,it);return{points:[lt,ct],cx:te,cy:ne,radius:xe,startAngle:rt,endAngle:it}}function getCursorPoints(ee,te,ne){var xe,rt,it,lt;if(ee==="horizontal")xe=te.x,it=xe,rt=ne.top,lt=ne.top+ne.height;else if(ee==="vertical")rt=te.y,lt=rt,xe=ne.left,it=ne.left+ne.width;else if(te.cx!=null&&te.cy!=null)if(ee==="centric"){var ct=te.cx,ut=te.cy,dt=te.innerRadius,ht=te.outerRadius,ft=te.angle,pt=polarToCartesian(ct,ut,dt,ft),mt=polarToCartesian(ct,ut,ht,ft);xe=pt.x,rt=pt.y,it=mt.x,lt=mt.y}else return getRadialCursorPoints(te);return[{x:xe,y:rt},{x:it,y:lt}]}function _typeof$1(ee){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$1(ee)}function ownKeys$2(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread$1(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$2(Object(ne),!0).forEach(function(xe){_defineProperty$2(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$2(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$2(ee,te,ne){return te=_toPropertyKey$2(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$2(ee){var te=_toPrimitive$2(ee,"string");return _typeof$1(te)=="symbol"?te:te+""}function _toPrimitive$2(ee,te){if(_typeof$1(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof$1(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function Cursor(ee){var te,ne,xe=ee.element,rt=ee.tooltipEventType,it=ee.isActive,lt=ee.activeCoordinate,ct=ee.activePayload,ut=ee.offset,dt=ee.activeTooltipIndex,ht=ee.tooltipAxisBandSize,ft=ee.layout,pt=ee.chartName,mt=(te=xe.props.cursor)!==null&&te!==void 0?te:(ne=xe.type.defaultProps)===null||ne===void 0?void 0:ne.cursor;if(!xe||!mt||!it||!lt||pt!=="ScatterChart"&&rt!=="axis")return null;var xt,yt=Curve;if(pt==="ScatterChart")xt=lt,yt=Cross;else if(pt==="BarChart")xt=getCursorRectangle(ft,lt,ut,ht),yt=Rectangle;else if(ft==="radial"){var vt=getRadialCursorPoints(lt),Et=vt.cx,_t=vt.cy,wt=vt.radius,St=vt.startAngle,Ct=vt.endAngle;xt={cx:Et,cy:_t,startAngle:St,endAngle:Ct,innerRadius:wt,outerRadius:wt},yt=Sector}else xt={points:getCursorPoints(ft,lt,ut)},yt=Curve;var jt=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},ut),xt),filterProps(mt,!1)),{},{payload:ct,payloadIndex:dt,className:clsx("recharts-tooltip-cursor",mt.className)});return reactExports.isValidElement(mt)?reactExports.cloneElement(mt,jt):reactExports.createElement(yt,jt)}var _excluded$2=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(ee){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof(ee)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te];for(var xe in ne)Object.prototype.hasOwnProperty.call(ne,xe)&&(ee[xe]=ne[xe])}return ee},_extends.apply(this,arguments)}function _slicedToArray$1(ee,te){return _arrayWithHoles$1(ee)||_iterableToArrayLimit$1(ee,te)||_unsupportedIterableToArray$1(ee,te)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$1(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _arrayWithHoles$1(ee){if(Array.isArray(ee))return ee}function _objectWithoutProperties$1(ee,te){if(ee==null)return{};var ne=_objectWithoutPropertiesLoose$1(ee,te),xe,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(rt=0;rt<it.length;rt++)xe=it[rt],!(te.indexOf(xe)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,xe)&&(ne[xe]=ee[xe])}return ne}function _objectWithoutPropertiesLoose$1(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if(Object.prototype.hasOwnProperty.call(ee,xe)){if(te.indexOf(xe)>=0)continue;ne[xe]=ee[xe]}return ne}function _classCallCheck(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function _defineProperties(ee,te){for(var ne=0;ne<te.length;ne++){var xe=te[ne];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,_toPropertyKey$1(xe.key),xe)}}function _createClass(ee,te,ne){return te&&_defineProperties(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function _callSuper(ee,te,ne){return te=_getPrototypeOf(te),_possibleConstructorReturn(ee,_isNativeReflectConstruct()?Reflect.construct(te,ne||[],_getPrototypeOf(ee).constructor):te.apply(ee,ne))}function _possibleConstructorReturn(ee,te){if(te&&(_typeof(te)==="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(ee)}function _assertThisInitialized(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function _isNativeReflectConstruct(){try{var ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!ee})()}function _getPrototypeOf(ee){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},_getPrototypeOf(ee)}function _inherits(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_setPrototypeOf(ee,te)}function _setPrototypeOf(ee,te){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(xe,rt){return xe.__proto__=rt,xe},_setPrototypeOf(ee,te)}function _toConsumableArray(ee){return _arrayWithoutHoles(ee)||_iterableToArray(ee)||_unsupportedIterableToArray$1(ee)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray$1(ee,te);var ne=Object.prototype.toString.call(ee).slice(8,-1);if(ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set")return Array.from(ee);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return _arrayLikeToArray$1(ee,te)}}function _iterableToArray(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function _arrayWithoutHoles(ee){if(Array.isArray(ee))return _arrayLikeToArray$1(ee)}function _arrayLikeToArray$1(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=new Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function ownKeys$1(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$1(Object(ne),!0).forEach(function(xe){_defineProperty$1(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys$1(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _defineProperty$1(ee,te,ne){return te=_toPropertyKey$1(te),te in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _toPropertyKey$1(ee){var te=_toPrimitive$1(ee,"string");return _typeof(te)=="symbol"?te:te+""}function _toPrimitive$1(ee,te){if(_typeof(ee)!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(_typeof(xe)!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(ee){return ee}var calculateTooltipPos=function(te,ne){return ne==="horizontal"?te.x:ne==="vertical"?te.y:ne==="centric"?te.angle:te.radius},getActiveCoordinate=function(te,ne,xe,rt){var it=ne.find(function(ht){return ht&&ht.index===xe});if(it){if(te==="horizontal")return{x:it.coordinate,y:rt.y};if(te==="vertical")return{x:rt.x,y:it.coordinate};if(te==="centric"){var lt=it.coordinate,ct=rt.radius;return _objectSpread(_objectSpread(_objectSpread({},rt),polarToCartesian(rt.cx,rt.cy,ct,lt)),{},{angle:lt,radius:ct})}var ut=it.coordinate,dt=rt.angle;return _objectSpread(_objectSpread(_objectSpread({},rt),polarToCartesian(rt.cx,rt.cy,ut,dt)),{},{angle:dt,radius:ut})}return originCoordinate},getDisplayedData=function(te,ne){var xe=ne.graphicalItems,rt=ne.dataStartIndex,it=ne.dataEndIndex,lt=(xe??[]).reduce(function(ct,ut){var dt=ut.props.data;return dt&&dt.length?[].concat(_toConsumableArray(ct),_toConsumableArray(dt)):ct},[]);return lt.length>0?lt:te&&te.length&&isNumber(rt)&&isNumber(it)?te.slice(rt,it+1):[]};function getDefaultDomainByAxisType(ee){return ee==="number"?[0,"auto"]:void 0}var getTooltipContent=function(te,ne,xe,rt){var it=te.graphicalItems,lt=te.tooltipAxis,ct=getDisplayedData(ne,te);return xe<0||!it||!it.length||xe>=ct.length?null:it.reduce(function(ut,dt){var ht,ft=(ht=dt.props.data)!==null&&ht!==void 0?ht:ne;ft&&te.dataStartIndex+te.dataEndIndex!==0&&te.dataEndIndex-te.dataStartIndex>=xe&&(ft=ft.slice(te.dataStartIndex,te.dataEndIndex+1));var pt;if(lt.dataKey&&!lt.allowDuplicatedCategory){var mt=ft===void 0?ct:ft;pt=findEntryInArray(mt,lt.dataKey,rt)}else pt=ft&&ft[xe]||ct[xe];return pt?[].concat(_toConsumableArray(ut),[getTooltipItem(dt,pt)]):ut},[])},getTooltipData=function(te,ne,xe,rt){var it=rt||{x:te.chartX,y:te.chartY},lt=calculateTooltipPos(it,xe),ct=te.orderedTooltipTicks,ut=te.tooltipAxis,dt=te.tooltipTicks,ht=calculateActiveTickIndex(lt,ct,dt,ut);if(ht>=0&&dt){var ft=dt[ht]&&dt[ht].value,pt=getTooltipContent(te,ne,ht,ft),mt=getActiveCoordinate(xe,ct,ht,it);return{activeTooltipIndex:ht,activeLabel:ft,activePayload:pt,activeCoordinate:mt}}return null},getAxisMapByAxes=function(te,ne){var xe=ne.axes,rt=ne.graphicalItems,it=ne.axisType,lt=ne.axisIdKey,ct=ne.stackGroups,ut=ne.dataStartIndex,dt=ne.dataEndIndex,ht=te.layout,ft=te.children,pt=te.stackOffset,mt=isCategoricalAxis(ht,it);return xe.reduce(function(xt,yt){var vt,Et=yt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},yt.type.defaultProps),yt.props):yt.props,_t=Et.type,wt=Et.dataKey,St=Et.allowDataOverflow,Ct=Et.allowDuplicatedCategory,jt=Et.scale,Rt=Et.ticks,Pt=Et.includeHidden,Ot=Et[lt];if(xt[Ot])return xt;var Ft=getDisplayedData(te.data,{graphicalItems:rt.filter(function(Wt){var Vt,Yt=lt in Wt.props?Wt.props[lt]:(Vt=Wt.type.defaultProps)===null||Vt===void 0?void 0:Vt[lt];return Yt===Ot}),dataStartIndex:ut,dataEndIndex:dt}),Lt=Ft.length,Bt,Gt,It;isDomainSpecifiedByUser(Et.domain,St,_t)&&(Bt=parseSpecifiedDomain(Et.domain,null,St),mt&&(_t==="number"||jt!=="auto")&&(It=getDomainOfDataByKey(Ft,wt,"category")));var qt=getDefaultDomainByAxisType(_t);if(!Bt||Bt.length===0){var Nt,Dt=(Nt=Et.domain)!==null&&Nt!==void 0?Nt:qt;if(wt){if(Bt=getDomainOfDataByKey(Ft,wt,_t),_t==="category"&&mt){var Tt=hasDuplicate(Bt);Ct&&Tt?(Gt=Bt,Bt=range(0,Lt)):Ct||(Bt=parseDomainOfCategoryAxis(Dt,Bt,yt).reduce(function(Wt,Vt){return Wt.indexOf(Vt)>=0?Wt:[].concat(_toConsumableArray(Wt),[Vt])},[]))}else if(_t==="category")Ct?Bt=Bt.filter(function(Wt){return Wt!==""&&!isNil(Wt)}):Bt=parseDomainOfCategoryAxis(Dt,Bt,yt).reduce(function(Wt,Vt){return Wt.indexOf(Vt)>=0||Vt===""||isNil(Vt)?Wt:[].concat(_toConsumableArray(Wt),[Vt])},[]);else if(_t==="number"){var Mt=parseErrorBarsOfAxis(Ft,rt.filter(function(Wt){var Vt,Yt,Qt=lt in Wt.props?Wt.props[lt]:(Vt=Wt.type.defaultProps)===null||Vt===void 0?void 0:Vt[lt],ar="hide"in Wt.props?Wt.props.hide:(Yt=Wt.type.defaultProps)===null||Yt===void 0?void 0:Yt.hide;return Qt===Ot&&(Pt||!ar)}),wt,it,ht);Mt&&(Bt=Mt)}mt&&(_t==="number"||jt!=="auto")&&(It=getDomainOfDataByKey(Ft,wt,"category"))}else mt?Bt=range(0,Lt):ct&&ct[Ot]&&ct[Ot].hasStack&&_t==="number"?Bt=pt==="expand"?[0,1]:getDomainOfStackGroups(ct[Ot].stackGroups,ut,dt):Bt=getDomainOfItemsWithSameAxis(Ft,rt.filter(function(Wt){var Vt=lt in Wt.props?Wt.props[lt]:Wt.type.defaultProps[lt],Yt="hide"in Wt.props?Wt.props.hide:Wt.type.defaultProps.hide;return Vt===Ot&&(Pt||!Yt)}),_t,ht,!0);if(_t==="number")Bt=detectReferenceElementsDomain(ft,Bt,Ot,it,Rt),Dt&&(Bt=parseSpecifiedDomain(Dt,Bt,St));else if(_t==="category"&&Dt){var $t=Dt,Ht=Bt.every(function(Wt){return $t.indexOf(Wt)>=0});Ht&&(Bt=$t)}}return _objectSpread(_objectSpread({},xt),{},_defineProperty$1({},Ot,_objectSpread(_objectSpread({},Et),{},{axisType:it,domain:Bt,categoricalDomain:It,duplicateDomain:Gt,originalDomain:(vt=Et.domain)!==null&&vt!==void 0?vt:qt,isCategorical:mt,layout:ht})))},{})},getAxisMapByItems=function(te,ne){var xe=ne.graphicalItems,rt=ne.Axis,it=ne.axisType,lt=ne.axisIdKey,ct=ne.stackGroups,ut=ne.dataStartIndex,dt=ne.dataEndIndex,ht=te.layout,ft=te.children,pt=getDisplayedData(te.data,{graphicalItems:xe,dataStartIndex:ut,dataEndIndex:dt}),mt=pt.length,xt=isCategoricalAxis(ht,it),yt=-1;return xe.reduce(function(vt,Et){var _t=Et.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Et.type.defaultProps),Et.props):Et.props,wt=_t[lt],St=getDefaultDomainByAxisType("number");if(!vt[wt]){yt++;var Ct;return xt?Ct=range(0,mt):ct&&ct[wt]&&ct[wt].hasStack?(Ct=getDomainOfStackGroups(ct[wt].stackGroups,ut,dt),Ct=detectReferenceElementsDomain(ft,Ct,wt,it)):(Ct=parseSpecifiedDomain(St,getDomainOfItemsWithSameAxis(pt,xe.filter(function(jt){var Rt,Pt,Ot=lt in jt.props?jt.props[lt]:(Rt=jt.type.defaultProps)===null||Rt===void 0?void 0:Rt[lt],Ft="hide"in jt.props?jt.props.hide:(Pt=jt.type.defaultProps)===null||Pt===void 0?void 0:Pt.hide;return Ot===wt&&!Ft}),"number",ht),rt.defaultProps.allowDataOverflow),Ct=detectReferenceElementsDomain(ft,Ct,wt,it)),_objectSpread(_objectSpread({},vt),{},_defineProperty$1({},wt,_objectSpread(_objectSpread({axisType:it},rt.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(it,".").concat(yt%2),null),domain:Ct,originalDomain:St,isCategorical:xt,layout:ht})))}return vt},{})},getAxisMap=function(te,ne){var xe=ne.axisType,rt=xe===void 0?"xAxis":xe,it=ne.AxisComp,lt=ne.graphicalItems,ct=ne.stackGroups,ut=ne.dataStartIndex,dt=ne.dataEndIndex,ht=te.children,ft="".concat(rt,"Id"),pt=findAllByType(ht,it),mt={};return pt&&pt.length?mt=getAxisMapByAxes(te,{axes:pt,graphicalItems:lt,axisType:rt,axisIdKey:ft,stackGroups:ct,dataStartIndex:ut,dataEndIndex:dt}):lt&&lt.length&&(mt=getAxisMapByItems(te,{Axis:it,graphicalItems:lt,axisType:rt,axisIdKey:ft,stackGroups:ct,dataStartIndex:ut,dataEndIndex:dt})),mt},tooltipTicksGenerator=function(te){var ne=getAnyElementOfObject(te),xe=getTicksOfAxis(ne,!1,!0);return{tooltipTicks:xe,orderedTooltipTicks:sortBy(xe,function(rt){return rt.coordinate}),tooltipAxis:ne,tooltipAxisBandSize:getBandSizeOfAxis(ne,xe)}},createDefaultState=function(te){var ne=te.children,xe=te.defaultShowTooltip,rt=findChildByType(ne,Brush),it=0,lt=0;return te.data&&te.data.length!==0&&(lt=te.data.length-1),rt&&rt.props&&(rt.props.startIndex>=0&&(it=rt.props.startIndex),rt.props.endIndex>=0&&(lt=rt.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:it,dataEndIndex:lt,activeTooltipIndex:-1,isTooltipActive:!!xe}},hasGraphicalBarItem=function(te){return!te||!te.length?!1:te.some(function(ne){var xe=getDisplayName(ne&&ne.type);return xe&&xe.indexOf("Bar")>=0})},getAxisNameByLayout=function(te){return te==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:te==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:te==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(te,ne){var xe=te.props,rt=te.graphicalItems,it=te.xAxisMap,lt=it===void 0?{}:it,ct=te.yAxisMap,ut=ct===void 0?{}:ct,dt=xe.width,ht=xe.height,ft=xe.children,pt=xe.margin||{},mt=findChildByType(ft,Brush),xt=findChildByType(ft,Legend),yt=Object.keys(ut).reduce(function(Ct,jt){var Rt=ut[jt],Pt=Rt.orientation;return!Rt.mirror&&!Rt.hide?_objectSpread(_objectSpread({},Ct),{},_defineProperty$1({},Pt,Ct[Pt]+Rt.width)):Ct},{left:pt.left||0,right:pt.right||0}),vt=Object.keys(lt).reduce(function(Ct,jt){var Rt=lt[jt],Pt=Rt.orientation;return!Rt.mirror&&!Rt.hide?_objectSpread(_objectSpread({},Ct),{},_defineProperty$1({},Pt,get$2(Ct,"".concat(Pt))+Rt.height)):Ct},{top:pt.top||0,bottom:pt.bottom||0}),Et=_objectSpread(_objectSpread({},vt),yt),_t=Et.bottom;mt&&(Et.bottom+=mt.props.height||Brush.defaultProps.height),xt&&ne&&(Et=appendOffsetOfLegend(Et,rt,xe,ne));var wt=dt-Et.left-Et.right,St=ht-Et.top-Et.bottom;return _objectSpread(_objectSpread({brushBottom:_t},Et),{},{width:Math.max(wt,0),height:Math.max(St,0)})},getCartesianAxisSize=function(te,ne){if(ne==="xAxis")return te[ne].width;if(ne==="yAxis")return te[ne].height},generateCategoricalChart=function(te){var ne=te.chartName,xe=te.GraphicalChild,rt=te.defaultTooltipEventType,it=rt===void 0?"axis":rt,lt=te.validateTooltipEventTypes,ct=lt===void 0?["axis"]:lt,ut=te.axisComponents,dt=te.legendContent,ht=te.formatAxisMap,ft=te.defaultProps,pt=function(Et,_t){var wt=_t.graphicalItems,St=_t.stackGroups,Ct=_t.offset,jt=_t.updateId,Rt=_t.dataStartIndex,Pt=_t.dataEndIndex,Ot=Et.barSize,Ft=Et.layout,Lt=Et.barGap,Bt=Et.barCategoryGap,Gt=Et.maxBarSize,It=getAxisNameByLayout(Ft),qt=It.numericAxisName,Nt=It.cateAxisName,Dt=hasGraphicalBarItem(wt),Tt=[];return wt.forEach(function(Mt,$t){var Ht=getDisplayedData(Et.data,{graphicalItems:[Mt],dataStartIndex:Rt,dataEndIndex:Pt}),Wt=Mt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Mt.type.defaultProps),Mt.props):Mt.props,Vt=Wt.dataKey,Yt=Wt.maxBarSize,Qt=Wt["".concat(qt,"Id")],ar=Wt["".concat(Nt,"Id")],Xt={},tr=ut.reduce(function(Jr,on){var sn=_t["".concat(on.axisType,"Map")],an=Wt["".concat(on.axisType,"Id")];sn&&sn[an]||on.axisType==="zAxis"||invariant();var dn=sn[an];return _objectSpread(_objectSpread({},Jr),{},_defineProperty$1(_defineProperty$1({},on.axisType,dn),"".concat(on.axisType,"Ticks"),getTicksOfAxis(dn)))},Xt),rr=tr[Nt],ur=tr["".concat(Nt,"Ticks")],Jt=St&&St[Qt]&&St[Qt].hasStack&&getStackedDataOfItem(Mt,St[Qt].stackGroups),Zt=getDisplayName(Mt.type).indexOf("Bar")>=0,or=getBandSizeOfAxis(rr,ur),dr=[],Ar=Dt&&getBarSizeList({barSize:Ot,stackGroups:St,totalSize:getCartesianAxisSize(tr,Nt)});if(Zt){var Nr,Mr,Gr=isNil(Yt)?Gt:Yt,Yr=(Nr=(Mr=getBandSizeOfAxis(rr,ur,!0))!==null&&Mr!==void 0?Mr:Gr)!==null&&Nr!==void 0?Nr:0;dr=getBarPosition({barGap:Lt,barCategoryGap:Bt,bandSize:Yr!==or?Yr:or,sizeList:Ar[ar],maxBarSize:Gr}),Yr!==or&&(dr=dr.map(function(Jr){return _objectSpread(_objectSpread({},Jr),{},{position:_objectSpread(_objectSpread({},Jr.position),{},{offset:Jr.position.offset-Yr/2})})}))}var en=Mt&&Mt.type&&Mt.type.getComposedData;en&&Tt.push({props:_objectSpread(_objectSpread({},en(_objectSpread(_objectSpread({},tr),{},{displayedData:Ht,props:Et,dataKey:Vt,item:Mt,bandSize:or,barPosition:dr,offset:Ct,stackedData:Jt,layout:Ft,dataStartIndex:Rt,dataEndIndex:Pt}))),{},_defineProperty$1(_defineProperty$1(_defineProperty$1({key:Mt.key||"item-".concat($t)},qt,tr[qt]),Nt,tr[Nt]),"animationId",jt)),childIndex:parseChildIndex(Mt,Et.children),item:Mt})}),Tt},mt=function(Et,_t){var wt=Et.props,St=Et.dataStartIndex,Ct=Et.dataEndIndex,jt=Et.updateId;if(!validateWidthHeight({props:wt}))return null;var Rt=wt.children,Pt=wt.layout,Ot=wt.stackOffset,Ft=wt.data,Lt=wt.reverseStackOrder,Bt=getAxisNameByLayout(Pt),Gt=Bt.numericAxisName,It=Bt.cateAxisName,qt=findAllByType(Rt,xe),Nt=getStackGroupsByAxisId(Ft,qt,"".concat(Gt,"Id"),"".concat(It,"Id"),Ot,Lt),Dt=ut.reduce(function(Wt,Vt){var Yt="".concat(Vt.axisType,"Map");return _objectSpread(_objectSpread({},Wt),{},_defineProperty$1({},Yt,getAxisMap(wt,_objectSpread(_objectSpread({},Vt),{},{graphicalItems:qt,stackGroups:Vt.axisType===Gt&&Nt,dataStartIndex:St,dataEndIndex:Ct}))))},{}),Tt=calculateOffset(_objectSpread(_objectSpread({},Dt),{},{props:wt,graphicalItems:qt}),_t?.legendBBox);Object.keys(Dt).forEach(function(Wt){Dt[Wt]=ht(wt,Dt[Wt],Tt,Wt.replace("Map",""),ne)});var Mt=Dt["".concat(It,"Map")],$t=tooltipTicksGenerator(Mt),Ht=pt(wt,_objectSpread(_objectSpread({},Dt),{},{dataStartIndex:St,dataEndIndex:Ct,updateId:jt,graphicalItems:qt,stackGroups:Nt,offset:Tt}));return _objectSpread(_objectSpread({formattedGraphicalItems:Ht,graphicalItems:qt,offset:Tt,stackGroups:Nt},$t),Dt)},xt=(function(vt){function Et(_t){var wt,St,Ct;return _classCallCheck(this,Et),Ct=_callSuper(this,Et,[_t]),_defineProperty$1(Ct,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty$1(Ct,"accessibilityManager",new AccessibilityManager),_defineProperty$1(Ct,"handleLegendBBoxUpdate",function(jt){if(jt){var Rt=Ct.state,Pt=Rt.dataStartIndex,Ot=Rt.dataEndIndex,Ft=Rt.updateId;Ct.setState(_objectSpread({legendBBox:jt},mt({props:Ct.props,dataStartIndex:Pt,dataEndIndex:Ot,updateId:Ft},_objectSpread(_objectSpread({},Ct.state),{},{legendBBox:jt}))))}}),_defineProperty$1(Ct,"handleReceiveSyncEvent",function(jt,Rt,Pt){if(Ct.props.syncId===jt){if(Pt===Ct.eventEmitterSymbol&&typeof Ct.props.syncMethod!="function")return;Ct.applySyncEvent(Rt)}}),_defineProperty$1(Ct,"handleBrushChange",function(jt){var Rt=jt.startIndex,Pt=jt.endIndex;if(Rt!==Ct.state.dataStartIndex||Pt!==Ct.state.dataEndIndex){var Ot=Ct.state.updateId;Ct.setState(function(){return _objectSpread({dataStartIndex:Rt,dataEndIndex:Pt},mt({props:Ct.props,dataStartIndex:Rt,dataEndIndex:Pt,updateId:Ot},Ct.state))}),Ct.triggerSyncEvent({dataStartIndex:Rt,dataEndIndex:Pt})}}),_defineProperty$1(Ct,"handleMouseEnter",function(jt){var Rt=Ct.getMouseInfo(jt);if(Rt){var Pt=_objectSpread(_objectSpread({},Rt),{},{isTooltipActive:!0});Ct.setState(Pt),Ct.triggerSyncEvent(Pt);var Ot=Ct.props.onMouseEnter;isFunction$1(Ot)&&Ot(Pt,jt)}}),_defineProperty$1(Ct,"triggeredAfterMouseMove",function(jt){var Rt=Ct.getMouseInfo(jt),Pt=Rt?_objectSpread(_objectSpread({},Rt),{},{isTooltipActive:!0}):{isTooltipActive:!1};Ct.setState(Pt),Ct.triggerSyncEvent(Pt);var Ot=Ct.props.onMouseMove;isFunction$1(Ot)&&Ot(Pt,jt)}),_defineProperty$1(Ct,"handleItemMouseEnter",function(jt){Ct.setState(function(){return{isTooltipActive:!0,activeItem:jt,activePayload:jt.tooltipPayload,activeCoordinate:jt.tooltipPosition||{x:jt.cx,y:jt.cy}}})}),_defineProperty$1(Ct,"handleItemMouseLeave",function(){Ct.setState(function(){return{isTooltipActive:!1}})}),_defineProperty$1(Ct,"handleMouseMove",function(jt){jt.persist(),Ct.throttleTriggeredAfterMouseMove(jt)}),_defineProperty$1(Ct,"handleMouseLeave",function(jt){Ct.throttleTriggeredAfterMouseMove.cancel();var Rt={isTooltipActive:!1};Ct.setState(Rt),Ct.triggerSyncEvent(Rt);var Pt=Ct.props.onMouseLeave;isFunction$1(Pt)&&Pt(Rt,jt)}),_defineProperty$1(Ct,"handleOuterEvent",function(jt){var Rt=getReactEventByType(jt),Pt=get$2(Ct.props,"".concat(Rt));if(Rt&&isFunction$1(Pt)){var Ot,Ft;/.*touch.*/i.test(Rt)?Ft=Ct.getMouseInfo(jt.changedTouches[0]):Ft=Ct.getMouseInfo(jt),Pt((Ot=Ft)!==null&&Ot!==void 0?Ot:{},jt)}}),_defineProperty$1(Ct,"handleClick",function(jt){var Rt=Ct.getMouseInfo(jt);if(Rt){var Pt=_objectSpread(_objectSpread({},Rt),{},{isTooltipActive:!0});Ct.setState(Pt),Ct.triggerSyncEvent(Pt);var Ot=Ct.props.onClick;isFunction$1(Ot)&&Ot(Pt,jt)}}),_defineProperty$1(Ct,"handleMouseDown",function(jt){var Rt=Ct.props.onMouseDown;if(isFunction$1(Rt)){var Pt=Ct.getMouseInfo(jt);Rt(Pt,jt)}}),_defineProperty$1(Ct,"handleMouseUp",function(jt){var Rt=Ct.props.onMouseUp;if(isFunction$1(Rt)){var Pt=Ct.getMouseInfo(jt);Rt(Pt,jt)}}),_defineProperty$1(Ct,"handleTouchMove",function(jt){jt.changedTouches!=null&&jt.changedTouches.length>0&&Ct.throttleTriggeredAfterMouseMove(jt.changedTouches[0])}),_defineProperty$1(Ct,"handleTouchStart",function(jt){jt.changedTouches!=null&&jt.changedTouches.length>0&&Ct.handleMouseDown(jt.changedTouches[0])}),_defineProperty$1(Ct,"handleTouchEnd",function(jt){jt.changedTouches!=null&&jt.changedTouches.length>0&&Ct.handleMouseUp(jt.changedTouches[0])}),_defineProperty$1(Ct,"handleDoubleClick",function(jt){var Rt=Ct.props.onDoubleClick;if(isFunction$1(Rt)){var Pt=Ct.getMouseInfo(jt);Rt(Pt,jt)}}),_defineProperty$1(Ct,"handleContextMenu",function(jt){var Rt=Ct.props.onContextMenu;if(isFunction$1(Rt)){var Pt=Ct.getMouseInfo(jt);Rt(Pt,jt)}}),_defineProperty$1(Ct,"triggerSyncEvent",function(jt){Ct.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,Ct.props.syncId,jt,Ct.eventEmitterSymbol)}),_defineProperty$1(Ct,"applySyncEvent",function(jt){var Rt=Ct.props,Pt=Rt.layout,Ot=Rt.syncMethod,Ft=Ct.state.updateId,Lt=jt.dataStartIndex,Bt=jt.dataEndIndex;if(jt.dataStartIndex!==void 0||jt.dataEndIndex!==void 0)Ct.setState(_objectSpread({dataStartIndex:Lt,dataEndIndex:Bt},mt({props:Ct.props,dataStartIndex:Lt,dataEndIndex:Bt,updateId:Ft},Ct.state)));else if(jt.activeTooltipIndex!==void 0){var Gt=jt.chartX,It=jt.chartY,qt=jt.activeTooltipIndex,Nt=Ct.state,Dt=Nt.offset,Tt=Nt.tooltipTicks;if(!Dt)return;if(typeof Ot=="function")qt=Ot(Tt,jt);else if(Ot==="value"){qt=-1;for(var Mt=0;Mt<Tt.length;Mt++)if(Tt[Mt].value===jt.activeLabel){qt=Mt;break}}var $t=_objectSpread(_objectSpread({},Dt),{},{x:Dt.left,y:Dt.top}),Ht=Math.min(Gt,$t.x+$t.width),Wt=Math.min(It,$t.y+$t.height),Vt=Tt[qt]&&Tt[qt].value,Yt=getTooltipContent(Ct.state,Ct.props.data,qt),Qt=Tt[qt]?{x:Pt==="horizontal"?Tt[qt].coordinate:Ht,y:Pt==="horizontal"?Wt:Tt[qt].coordinate}:originCoordinate;Ct.setState(_objectSpread(_objectSpread({},jt),{},{activeLabel:Vt,activeCoordinate:Qt,activePayload:Yt,activeTooltipIndex:qt}))}else Ct.setState(jt)}),_defineProperty$1(Ct,"renderCursor",function(jt){var Rt,Pt=Ct.state,Ot=Pt.isTooltipActive,Ft=Pt.activeCoordinate,Lt=Pt.activePayload,Bt=Pt.offset,Gt=Pt.activeTooltipIndex,It=Pt.tooltipAxisBandSize,qt=Ct.getTooltipEventType(),Nt=(Rt=jt.props.active)!==null&&Rt!==void 0?Rt:Ot,Dt=Ct.props.layout,Tt=jt.key||"_recharts-cursor";return React.createElement(Cursor,{key:Tt,activeCoordinate:Ft,activePayload:Lt,activeTooltipIndex:Gt,chartName:ne,element:jt,isActive:Nt,layout:Dt,offset:Bt,tooltipAxisBandSize:It,tooltipEventType:qt})}),_defineProperty$1(Ct,"renderPolarAxis",function(jt,Rt,Pt){var Ot=get$2(jt,"type.axisType"),Ft=get$2(Ct.state,"".concat(Ot,"Map")),Lt=jt.type.defaultProps,Bt=Lt!==void 0?_objectSpread(_objectSpread({},Lt),jt.props):jt.props,Gt=Ft&&Ft[Bt["".concat(Ot,"Id")]];return reactExports.cloneElement(jt,_objectSpread(_objectSpread({},Gt),{},{className:clsx(Ot,Gt.className),key:jt.key||"".concat(Rt,"-").concat(Pt),ticks:getTicksOfAxis(Gt,!0)}))}),_defineProperty$1(Ct,"renderPolarGrid",function(jt){var Rt=jt.props,Pt=Rt.radialLines,Ot=Rt.polarAngles,Ft=Rt.polarRadius,Lt=Ct.state,Bt=Lt.radiusAxisMap,Gt=Lt.angleAxisMap,It=getAnyElementOfObject(Bt),qt=getAnyElementOfObject(Gt),Nt=qt.cx,Dt=qt.cy,Tt=qt.innerRadius,Mt=qt.outerRadius;return reactExports.cloneElement(jt,{polarAngles:Array.isArray(Ot)?Ot:getTicksOfAxis(qt,!0).map(function($t){return $t.coordinate}),polarRadius:Array.isArray(Ft)?Ft:getTicksOfAxis(It,!0).map(function($t){return $t.coordinate}),cx:Nt,cy:Dt,innerRadius:Tt,outerRadius:Mt,key:jt.key||"polar-grid",radialLines:Pt})}),_defineProperty$1(Ct,"renderLegend",function(){var jt=Ct.state.formattedGraphicalItems,Rt=Ct.props,Pt=Rt.children,Ot=Rt.width,Ft=Rt.height,Lt=Ct.props.margin||{},Bt=Ot-(Lt.left||0)-(Lt.right||0),Gt=getLegendProps({children:Pt,formattedGraphicalItems:jt,legendWidth:Bt,legendContent:dt});if(!Gt)return null;var It=Gt.item,qt=_objectWithoutProperties$1(Gt,_excluded$2);return reactExports.cloneElement(It,_objectSpread(_objectSpread({},qt),{},{chartWidth:Ot,chartHeight:Ft,margin:Lt,onBBoxUpdate:Ct.handleLegendBBoxUpdate}))}),_defineProperty$1(Ct,"renderTooltip",function(){var jt,Rt=Ct.props,Pt=Rt.children,Ot=Rt.accessibilityLayer,Ft=findChildByType(Pt,Tooltip);if(!Ft)return null;var Lt=Ct.state,Bt=Lt.isTooltipActive,Gt=Lt.activeCoordinate,It=Lt.activePayload,qt=Lt.activeLabel,Nt=Lt.offset,Dt=(jt=Ft.props.active)!==null&&jt!==void 0?jt:Bt;return reactExports.cloneElement(Ft,{viewBox:_objectSpread(_objectSpread({},Nt),{},{x:Nt.left,y:Nt.top}),active:Dt,label:qt,payload:Dt?It:[],coordinate:Gt,accessibilityLayer:Ot})}),_defineProperty$1(Ct,"renderBrush",function(jt){var Rt=Ct.props,Pt=Rt.margin,Ot=Rt.data,Ft=Ct.state,Lt=Ft.offset,Bt=Ft.dataStartIndex,Gt=Ft.dataEndIndex,It=Ft.updateId;return reactExports.cloneElement(jt,{key:jt.key||"_recharts-brush",onChange:combineEventHandlers(Ct.handleBrushChange,jt.props.onChange),data:Ot,x:isNumber(jt.props.x)?jt.props.x:Lt.left,y:isNumber(jt.props.y)?jt.props.y:Lt.top+Lt.height+Lt.brushBottom-(Pt.bottom||0),width:isNumber(jt.props.width)?jt.props.width:Lt.width,startIndex:Bt,endIndex:Gt,updateId:"brush-".concat(It)})}),_defineProperty$1(Ct,"renderReferenceElement",function(jt,Rt,Pt){if(!jt)return null;var Ot=Ct,Ft=Ot.clipPathId,Lt=Ct.state,Bt=Lt.xAxisMap,Gt=Lt.yAxisMap,It=Lt.offset,qt=jt.type.defaultProps||{},Nt=jt.props,Dt=Nt.xAxisId,Tt=Dt===void 0?qt.xAxisId:Dt,Mt=Nt.yAxisId,$t=Mt===void 0?qt.yAxisId:Mt;return reactExports.cloneElement(jt,{key:jt.key||"".concat(Rt,"-").concat(Pt),xAxis:Bt[Tt],yAxis:Gt[$t],viewBox:{x:It.left,y:It.top,width:It.width,height:It.height},clipPathId:Ft})}),_defineProperty$1(Ct,"renderActivePoints",function(jt){var Rt=jt.item,Pt=jt.activePoint,Ot=jt.basePoint,Ft=jt.childIndex,Lt=jt.isRange,Bt=[],Gt=Rt.props.key,It=Rt.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Rt.item.type.defaultProps),Rt.item.props):Rt.item.props,qt=It.activeDot,Nt=It.dataKey,Dt=_objectSpread(_objectSpread({index:Ft,dataKey:Nt,cx:Pt.x,cy:Pt.y,r:4,fill:getMainColorOfGraphicItem(Rt.item),strokeWidth:2,stroke:"#fff",payload:Pt.payload,value:Pt.value},filterProps(qt,!1)),adaptEventHandlers(qt));return Bt.push(Et.renderActiveDot(qt,Dt,"".concat(Gt,"-activePoint-").concat(Ft))),Ot?Bt.push(Et.renderActiveDot(qt,_objectSpread(_objectSpread({},Dt),{},{cx:Ot.x,cy:Ot.y}),"".concat(Gt,"-basePoint-").concat(Ft))):Lt&&Bt.push(null),Bt}),_defineProperty$1(Ct,"renderGraphicChild",function(jt,Rt,Pt){var Ot=Ct.filterFormatItem(jt,Rt,Pt);if(!Ot)return null;var Ft=Ct.getTooltipEventType(),Lt=Ct.state,Bt=Lt.isTooltipActive,Gt=Lt.tooltipAxis,It=Lt.activeTooltipIndex,qt=Lt.activeLabel,Nt=Ct.props.children,Dt=findChildByType(Nt,Tooltip),Tt=Ot.props,Mt=Tt.points,$t=Tt.isRange,Ht=Tt.baseLine,Wt=Ot.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ot.item.type.defaultProps),Ot.item.props):Ot.item.props,Vt=Wt.activeDot,Yt=Wt.hide,Qt=Wt.activeBar,ar=Wt.activeShape,Xt=!!(!Yt&&Bt&&Dt&&(Vt||Qt||ar)),tr={};Ft!=="axis"&&Dt&&Dt.props.trigger==="click"?tr={onClick:combineEventHandlers(Ct.handleItemMouseEnter,jt.props.onClick)}:Ft!=="axis"&&(tr={onMouseLeave:combineEventHandlers(Ct.handleItemMouseLeave,jt.props.onMouseLeave),onMouseEnter:combineEventHandlers(Ct.handleItemMouseEnter,jt.props.onMouseEnter)});var rr=reactExports.cloneElement(jt,_objectSpread(_objectSpread({},Ot.props),tr));function ur(on){return typeof Gt.dataKey=="function"?Gt.dataKey(on.payload):null}if(Xt)if(It>=0){var Jt,Zt;if(Gt.dataKey&&!Gt.allowDuplicatedCategory){var or=typeof Gt.dataKey=="function"?ur:"payload.".concat(Gt.dataKey.toString());Jt=findEntryInArray(Mt,or,qt),Zt=$t&&Ht&&findEntryInArray(Ht,or,qt)}else Jt=Mt?.[It],Zt=$t&&Ht&&Ht[It];if(ar||Qt){var dr=jt.props.activeIndex!==void 0?jt.props.activeIndex:It;return[reactExports.cloneElement(jt,_objectSpread(_objectSpread(_objectSpread({},Ot.props),tr),{},{activeIndex:dr})),null,null]}if(!isNil(Jt))return[rr].concat(_toConsumableArray(Ct.renderActivePoints({item:Ot,activePoint:Jt,basePoint:Zt,childIndex:It,isRange:$t})))}else{var Ar,Nr=(Ar=Ct.getItemByXY(Ct.state.activeCoordinate))!==null&&Ar!==void 0?Ar:{graphicalItem:rr},Mr=Nr.graphicalItem,Gr=Mr.item,Yr=Gr===void 0?jt:Gr,en=Mr.childIndex,Jr=_objectSpread(_objectSpread(_objectSpread({},Ot.props),tr),{},{activeIndex:en});return[reactExports.cloneElement(Yr,Jr),null,null]}return $t?[rr,null,null]:[rr,null]}),_defineProperty$1(Ct,"renderCustomized",function(jt,Rt,Pt){return reactExports.cloneElement(jt,_objectSpread(_objectSpread({key:"recharts-customized-".concat(Pt)},Ct.props),Ct.state))}),_defineProperty$1(Ct,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:Ct.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:Ct.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:Ct.renderBrush,once:!0},Bar:{handler:Ct.renderGraphicChild},Line:{handler:Ct.renderGraphicChild},Area:{handler:Ct.renderGraphicChild},Radar:{handler:Ct.renderGraphicChild},RadialBar:{handler:Ct.renderGraphicChild},Scatter:{handler:Ct.renderGraphicChild},Pie:{handler:Ct.renderGraphicChild},Funnel:{handler:Ct.renderGraphicChild},Tooltip:{handler:Ct.renderCursor,once:!0},PolarGrid:{handler:Ct.renderPolarGrid,once:!0},PolarAngleAxis:{handler:Ct.renderPolarAxis},PolarRadiusAxis:{handler:Ct.renderPolarAxis},Customized:{handler:Ct.renderCustomized}}),Ct.clipPathId="".concat((wt=_t.id)!==null&&wt!==void 0?wt:uniqueId("recharts"),"-clip"),Ct.throttleTriggeredAfterMouseMove=throttle(Ct.triggeredAfterMouseMove,(St=_t.throttleDelay)!==null&&St!==void 0?St:1e3/60),Ct.state={},Ct}return _inherits(Et,vt),_createClass(Et,[{key:"componentDidMount",value:function(){var wt,St;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(wt=this.props.margin.left)!==null&&wt!==void 0?wt:0,top:(St=this.props.margin.top)!==null&&St!==void 0?St:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var wt=this.props,St=wt.children,Ct=wt.data,jt=wt.height,Rt=wt.layout,Pt=findChildByType(St,Tooltip);if(Pt){var Ot=Pt.props.defaultIndex;if(!(typeof Ot!="number"||Ot<0||Ot>this.state.tooltipTicks.length-1)){var Ft=this.state.tooltipTicks[Ot]&&this.state.tooltipTicks[Ot].value,Lt=getTooltipContent(this.state,Ct,Ot,Ft),Bt=this.state.tooltipTicks[Ot].coordinate,Gt=(this.state.offset.top+jt)/2,It=Rt==="horizontal",qt=It?{x:Bt,y:Gt}:{y:Bt,x:Gt},Nt=this.state.formattedGraphicalItems.find(function(Tt){var Mt=Tt.item;return Mt.type.name==="Scatter"});Nt&&(qt=_objectSpread(_objectSpread({},qt),Nt.props.points[Ot].tooltipPosition),Lt=Nt.props.points[Ot].tooltipPayload);var Dt={activeTooltipIndex:Ot,isTooltipActive:!0,activeLabel:Ft,activePayload:Lt,activeCoordinate:qt};this.setState(Dt),this.renderCursor(Pt),this.accessibilityManager.setIndex(Ot)}}}},{key:"getSnapshotBeforeUpdate",value:function(wt,St){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==St.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==wt.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==wt.margin){var Ct,jt;this.accessibilityManager.setDetails({offset:{left:(Ct=this.props.margin.left)!==null&&Ct!==void 0?Ct:0,top:(jt=this.props.margin.top)!==null&&jt!==void 0?jt:0}})}return null}},{key:"componentDidUpdate",value:function(wt){isChildrenEqual([findChildByType(wt.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var wt=findChildByType(this.props.children,Tooltip);if(wt&&typeof wt.props.shared=="boolean"){var St=wt.props.shared?"axis":"item";return ct.indexOf(St)>=0?St:it}return it}},{key:"getMouseInfo",value:function(wt){if(!this.container)return null;var St=this.container,Ct=St.getBoundingClientRect(),jt=getOffset(Ct),Rt={chartX:Math.round(wt.pageX-jt.left),chartY:Math.round(wt.pageY-jt.top)},Pt=Ct.width/St.offsetWidth||1,Ot=this.inRange(Rt.chartX,Rt.chartY,Pt);if(!Ot)return null;var Ft=this.state,Lt=Ft.xAxisMap,Bt=Ft.yAxisMap,Gt=this.getTooltipEventType(),It=getTooltipData(this.state,this.props.data,this.props.layout,Ot);if(Gt!=="axis"&&Lt&&Bt){var qt=getAnyElementOfObject(Lt).scale,Nt=getAnyElementOfObject(Bt).scale,Dt=qt&&qt.invert?qt.invert(Rt.chartX):null,Tt=Nt&&Nt.invert?Nt.invert(Rt.chartY):null;return _objectSpread(_objectSpread({},Rt),{},{xValue:Dt,yValue:Tt},It)}return It?_objectSpread(_objectSpread({},Rt),It):null}},{key:"inRange",value:function(wt,St){var Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,jt=this.props.layout,Rt=wt/Ct,Pt=St/Ct;if(jt==="horizontal"||jt==="vertical"){var Ot=this.state.offset,Ft=Rt>=Ot.left&&Rt<=Ot.left+Ot.width&&Pt>=Ot.top&&Pt<=Ot.top+Ot.height;return Ft?{x:Rt,y:Pt}:null}var Lt=this.state,Bt=Lt.angleAxisMap,Gt=Lt.radiusAxisMap;if(Bt&&Gt){var It=getAnyElementOfObject(Bt);return inRangeOfSector({x:Rt,y:Pt},It)}return null}},{key:"parseEventsOfWrapper",value:function(){var wt=this.props.children,St=this.getTooltipEventType(),Ct=findChildByType(wt,Tooltip),jt={};Ct&&St==="axis"&&(Ct.props.trigger==="click"?jt={onClick:this.handleClick}:jt={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Rt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Rt),jt)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(wt,St,Ct){for(var jt=this.state.formattedGraphicalItems,Rt=0,Pt=jt.length;Rt<Pt;Rt++){var Ot=jt[Rt];if(Ot.item===wt||Ot.props.key===wt.key||St===getDisplayName(Ot.item.type)&&Ct===Ot.childIndex)return Ot}return null}},{key:"renderClipPath",value:function(){var wt=this.clipPathId,St=this.state.offset,Ct=St.left,jt=St.top,Rt=St.height,Pt=St.width;return React.createElement("defs",null,React.createElement("clipPath",{id:wt},React.createElement("rect",{x:Ct,y:jt,height:Rt,width:Pt})))}},{key:"getXScales",value:function(){var wt=this.state.xAxisMap;return wt?Object.entries(wt).reduce(function(St,Ct){var jt=_slicedToArray$1(Ct,2),Rt=jt[0],Pt=jt[1];return _objectSpread(_objectSpread({},St),{},_defineProperty$1({},Rt,Pt.scale))},{}):null}},{key:"getYScales",value:function(){var wt=this.state.yAxisMap;return wt?Object.entries(wt).reduce(function(St,Ct){var jt=_slicedToArray$1(Ct,2),Rt=jt[0],Pt=jt[1];return _objectSpread(_objectSpread({},St),{},_defineProperty$1({},Rt,Pt.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(wt){var St;return(St=this.state.xAxisMap)===null||St===void 0||(St=St[wt])===null||St===void 0?void 0:St.scale}},{key:"getYScaleByAxisId",value:function(wt){var St;return(St=this.state.yAxisMap)===null||St===void 0||(St=St[wt])===null||St===void 0?void 0:St.scale}},{key:"getItemByXY",value:function(wt){var St=this.state,Ct=St.formattedGraphicalItems,jt=St.activeItem;if(Ct&&Ct.length)for(var Rt=0,Pt=Ct.length;Rt<Pt;Rt++){var Ot=Ct[Rt],Ft=Ot.props,Lt=Ot.item,Bt=Lt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Lt.type.defaultProps),Lt.props):Lt.props,Gt=getDisplayName(Lt.type);if(Gt==="Bar"){var It=(Ft.data||[]).find(function(Tt){return isInRectangle(wt,Tt)});if(It)return{graphicalItem:Ot,payload:It}}else if(Gt==="RadialBar"){var qt=(Ft.data||[]).find(function(Tt){return inRangeOfSector(wt,Tt)});if(qt)return{graphicalItem:Ot,payload:qt}}else if(isFunnel(Ot,jt)||isPie(Ot,jt)||isScatter(Ot,jt)){var Nt=getActiveShapeIndexForTooltip({graphicalItem:Ot,activeTooltipItem:jt,itemData:Bt.data}),Dt=Bt.activeIndex===void 0?Nt:Bt.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Ot),{},{childIndex:Dt}),payload:isScatter(Ot,jt)?Bt.data[Nt]:Ot.props.data[Nt]}}}return null}},{key:"render",value:function(){var wt=this;if(!validateWidthHeight(this))return null;var St=this.props,Ct=St.children,jt=St.className,Rt=St.width,Pt=St.height,Ot=St.style,Ft=St.compact,Lt=St.title,Bt=St.desc,Gt=_objectWithoutProperties$1(St,_excluded2),It=filterProps(Gt,!1);if(Ft)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},It,{width:Rt,height:Pt,title:Lt,desc:Bt}),this.renderClipPath(),renderByOrder(Ct,this.renderMap)));if(this.props.accessibilityLayer){var qt,Nt;It.tabIndex=(qt=this.props.tabIndex)!==null&&qt!==void 0?qt:0,It.role=(Nt=this.props.role)!==null&&Nt!==void 0?Nt:"application",It.onKeyDown=function(Tt){wt.accessibilityManager.keyboardEvent(Tt)},It.onFocus=function(){wt.accessibilityManager.focus()}}var Dt=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",jt),style:_objectSpread({position:"relative",cursor:"default",width:Rt,height:Pt},Ot)},Dt,{ref:function(Mt){wt.container=Mt}}),React.createElement(Surface,_extends({},It,{width:Rt,height:Pt,title:Lt,desc:Bt,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(Ct,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(reactExports.Component);_defineProperty$1(xt,"displayName",ne),_defineProperty$1(xt,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},ft)),_defineProperty$1(xt,"getDerivedStateFromProps",function(vt,Et){var _t=vt.dataKey,wt=vt.data,St=vt.children,Ct=vt.width,jt=vt.height,Rt=vt.layout,Pt=vt.stackOffset,Ot=vt.margin,Ft=Et.dataStartIndex,Lt=Et.dataEndIndex;if(Et.updateId===void 0){var Bt=createDefaultState(vt);return _objectSpread(_objectSpread(_objectSpread({},Bt),{},{updateId:0},mt(_objectSpread(_objectSpread({props:vt},Bt),{},{updateId:0}),Et)),{},{prevDataKey:_t,prevData:wt,prevWidth:Ct,prevHeight:jt,prevLayout:Rt,prevStackOffset:Pt,prevMargin:Ot,prevChildren:St})}if(_t!==Et.prevDataKey||wt!==Et.prevData||Ct!==Et.prevWidth||jt!==Et.prevHeight||Rt!==Et.prevLayout||Pt!==Et.prevStackOffset||!shallowEqual(Ot,Et.prevMargin)){var Gt=createDefaultState(vt),It={chartX:Et.chartX,chartY:Et.chartY,isTooltipActive:Et.isTooltipActive},qt=_objectSpread(_objectSpread({},getTooltipData(Et,wt,Rt)),{},{updateId:Et.updateId+1}),Nt=_objectSpread(_objectSpread(_objectSpread({},Gt),It),qt);return _objectSpread(_objectSpread(_objectSpread({},Nt),mt(_objectSpread({props:vt},Nt),Et)),{},{prevDataKey:_t,prevData:wt,prevWidth:Ct,prevHeight:jt,prevLayout:Rt,prevStackOffset:Pt,prevMargin:Ot,prevChildren:St})}if(!isChildrenEqual(St,Et.prevChildren)){var Dt,Tt,Mt,$t,Ht=findChildByType(St,Brush),Wt=Ht&&(Dt=(Tt=Ht.props)===null||Tt===void 0?void 0:Tt.startIndex)!==null&&Dt!==void 0?Dt:Ft,Vt=Ht&&(Mt=($t=Ht.props)===null||$t===void 0?void 0:$t.endIndex)!==null&&Mt!==void 0?Mt:Lt,Yt=Wt!==Ft||Vt!==Lt,Qt=!isNil(wt),ar=Qt&&!Yt?Et.updateId:Et.updateId+1;return _objectSpread(_objectSpread({updateId:ar},mt(_objectSpread(_objectSpread({props:vt},Et),{},{updateId:ar,dataStartIndex:Wt,dataEndIndex:Vt}),Et)),{},{prevChildren:St,dataStartIndex:Wt,dataEndIndex:Vt})}return null}),_defineProperty$1(xt,"renderActiveDot",function(vt,Et,_t){var wt;return reactExports.isValidElement(vt)?wt=reactExports.cloneElement(vt,Et):isFunction$1(vt)?wt=vt(Et):wt=React.createElement(Dot,Et),React.createElement(Layer,{className:"recharts-active-dot",key:_t},wt)});var yt=reactExports.forwardRef(function(Et,_t){return React.createElement(xt,_extends({},Et,{ref:_t}))});return yt.displayName=xt.displayName,yt},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),RadarChart=generateCategoricalChart({chartName:"RadarChart",GraphicalChild:Radar,axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const weeklyProgressData=[{day:"",hours:2.5,completed:3},{day:"",hours:1.8,completed:2},{day:"",hours:3.2,completed:4},{day:"",hours:2.1,completed:2},{day:"",hours:2.8,completed:3},{day:"",hours:4.1,completed:5},{day:"",hours:3.5,completed:4}],subjectPerformanceData=[{subject:"",accuracy:85,completed:12,total:15},{subject:"",accuracy:92,completed:8,total:10},{subject:"",accuracy:78,completed:10,total:12},{subject:"",accuracy:88,completed:6,total:8}],mistakeAnalysisData=[{category:"",mistakes:8,color:"#EF4444"},{category:"",mistakes:5,color:"#F59E0B"},{category:"",mistakes:3,color:"#10B981"},{category:"",mistakes:12,color:"#3B82F6"}],monthlyTrendData=[{month:"9",score:75,time:45},{month:"10",score:82,time:52},{month:"11",score:78,time:48},{month:"12",score:88,time:58},{month:"1",score:85,time:55}],achievements=[{name:"7",description:"",earned:!0,date:"2024-01-15"},{name:"",description:"3",earned:!0,date:"2024-01-20"},{name:"",description:"20",earned:!1,progress:75},{name:"",description:"85",earned:!1,progress:60}],xuebaTraitsData=[{trait:"",score:85,fullMark:100,icon:Zap,color:"#4285F4",description:"",metrics:[{name:"",value:24,total:30,unit:""},{name:"",value:88,total:100,unit:"%"},{name:"",value:15,total:20,unit:""}],strengths:["",""],improvements:["",""]},{trait:"",score:78,fullMark:100,icon:Eye,color:"#34A853",description:"",metrics:[{name:"",value:35,total:50,unit:""},{name:"",value:12,total:20,unit:""},{name:"",value:72,total:100,unit:"%"}],strengths:["",""],improvements:["",""]},{trait:"",score:92,fullMark:100,icon:Brain,color:"#FBBC05",description:"",metrics:[{name:"",value:28,total:30,unit:""},{name:"",value:18,total:20,unit:""},{name:"",value:85,total:100,unit:"%"}],strengths:["","",""],improvements:[""]},{trait:"",score:88,fullMark:100,icon:Repeat,color:"#EA4335",description:"",metrics:[{name:"",value:92,total:100,unit:"%"},{name:"",value:16,total:20,unit:""},{name:"",value:14,total:15,unit:""}],strengths:["","",""],improvements:["",""]}],radarData=xuebaTraitsData.map(ee=>({subject:ee.trait,score:ee.score,fullMark:ee.fullMark})),traitTrendData=[{month:"9",:75,:68,:85,:78},{month:"10",:78,:72,:88,:82},{month:"11",:80,:75,:90,:85},{month:"12",:82,:76,:91,:86},{month:"1",:85,:78,:92,:88}];function ReportsPage(){const[ee,te]=reactExports.useState("week"),[ne,xe]=reactExports.useState("all"),{analytics:rt,loading:it,refresh:lt}=useAnalytics();return it?jsxRuntimeExports.jsx("div",{className:"p-4 md:p-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-[#4F46E5] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"..."})]})})}):jsxRuntimeExports.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-medium",children:""}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:lt,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs(Select,{value:ee,onValueChange:te,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-28 md:w-32",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"week",children:""}),jsxRuntimeExports.jsx(SelectItem,{value:"month",children:""}),jsxRuntimeExports.jsx(SelectItem,{value:"quarter",children:""})]})]}),jsxRuntimeExports.jsxs(Select,{value:ne,onValueChange:xe,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-28 md:w-32",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:""}),jsxRuntimeExports.jsx(SelectItem,{value:"math",children:""}),jsxRuntimeExports.jsx(SelectItem,{value:"chinese",children:""}),jsxRuntimeExports.jsx(SelectItem,{value:"english",children:""}),jsxRuntimeExports.jsx(SelectItem,{value:"science",children:""})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:rt?`${Math.round(rt.totalTimeSpent/3600*10)/10}`:"0"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:""})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#4F46E5]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6 text-[#4F46E5]"})})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:rt?`${rt.completedChapters}/${rt.totalChapters}`:"0/5"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:""})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#22C55E]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-[#22C55E]"})})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:rt?`${Math.round(rt.averageScore)}%`:"0%"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:""})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#FACC15]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-6 h-6 text-[#FACC15]"})})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:"12"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:"+2 vs "})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#EF4444]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Trophy,{className:"w-6 h-6 text-[#EF4444]"})})]})})})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"overview",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:""}),jsxRuntimeExports.jsx(TabsTrigger,{value:"xueba-traits",children:""}),jsxRuntimeExports.jsx(TabsTrigger,{value:"performance",children:""}),jsxRuntimeExports.jsx(TabsTrigger,{value:"mistakes",children:""}),jsxRuntimeExports.jsx(TabsTrigger,{value:"achievements",children:""})]}),jsxRuntimeExports.jsx(TabsContent,{value:"overview",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(BarChart,{data:weeklyProgressData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#E0E0E0"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"day",tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(YAxis,{tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"hours",fill:"#4285F4",name:"()"}),jsxRuntimeExports.jsx(Bar,{dataKey:"completed",fill:"#34A853",name:""})]})})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:monthlyTrendData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"score",stroke:"#4F46E5",name:""}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"time",stroke:"#22C55E",name:""})]})})})]})]})}),jsxRuntimeExports.jsxs(TabsContent,{value:"xueba-traits",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-6 h-6 text-primary"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:xuebaTraitsData.map(ct=>{const ut=ct.icon,dt=ct.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":ct.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":ct.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",ht=ct.color==="#4285F4"?"text-[#4285F4]":ct.color==="#34A853"?"text-[#34A853]":ct.color==="#FBBC05"?"text-[#FBBC05]":"text-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"text-center p-3 md:p-4 bg-background rounded-lg border",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 mx-auto mb-2 md:mb-3 rounded-full flex items-center justify-center ${dt}`,children:jsxRuntimeExports.jsx(ut,{className:"w-5 h-5 md:w-6 md:h-6"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium mb-1 text-sm md:text-base",children:ct.trait}),jsxRuntimeExports.jsx("div",{className:`text-xl md:text-2xl font-medium mb-1 ${ht}`,children:ct.score}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",ct.fullMark]})]},ct.trait)})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(RadarChart,{data:radarData,children:[jsxRuntimeExports.jsx(PolarGrid,{stroke:"#E0E0E0"}),jsxRuntimeExports.jsx(PolarAngleAxis,{dataKey:"subject",tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(PolarRadiusAxis,{angle:90,domain:[0,100],tick:{fill:"#5F6368",fontSize:10}}),jsxRuntimeExports.jsx(Radar,{name:"",dataKey:"score",stroke:"#1A73E8",fill:"#1A73E8",fillOpacity:.6,strokeWidth:2}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}})]})})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:"5"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(LineChart,{data:traitTrendData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#E0E0E0"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month",tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(YAxis,{domain:[60,100],tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{fontSize:"12px"}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"",stroke:"#4285F4",strokeWidth:2,dot:{fill:"#4285F4",r:4}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"",stroke:"#34A853",strokeWidth:2,dot:{fill:"#34A853",r:4}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"",stroke:"#FBBC05",strokeWidth:2,dot:{fill:"#FBBC05",r:4}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"",stroke:"#EA4335",strokeWidth:2,dot:{fill:"#EA4335",r:4}})]})})})})]})]}),jsxRuntimeExports.jsx("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:xuebaTraitsData.map(ct=>{const ut=ct.icon,dt=ct.color==="#4285F4"?"border-l-[#4285F4]":ct.color==="#34A853"?"border-l-[#34A853]":ct.color==="#FBBC05"?"border-l-[#FBBC05]":"border-l-[#EA4335]",ht=ct.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":ct.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":ct.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",ft=ct.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":ct.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":ct.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]";return jsxRuntimeExports.jsxs(Card,{className:`border-l-4 ${dt}`,children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center ${ht}`,children:jsxRuntimeExports.jsx(ut,{className:"w-4 h-4 md:w-5 md:h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base md:text-lg",children:ct.trait}),jsxRuntimeExports.jsx(CardDescription,{className:"text-xs md:text-sm",children:ct.description})]})]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:`text-base md:text-lg ${ft}`,children:[ct.score,""]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3 md:space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 md:space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium flex items-center space-x-2 text-sm md:text-base",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),ct.metrics.map((pt,mt)=>{const xt=ct.color==="#4285F4"?"[&>div]:bg-[#4285F4]":ct.color==="#34A853"?"[&>div]:bg-[#34A853]":ct.color==="#FBBC05"?"[&>div]:bg-[#FBBC05]":"[&>div]:bg-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:pt.name}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[pt.value,pt.unit," / ",pt.total,pt.unit]})]}),jsxRuntimeExports.jsx(Progress,{value:pt.value/pt.total*100,className:`h-1.5 md:h-2 ${xt}`})]},mt)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium flex items-center space-x-2 text-[#34A853] text-sm md:text-base",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:ct.strengths.map((pt,mt)=>jsxRuntimeExports.jsxs("li",{className:"text-xs md:text-sm text-muted-foreground flex items-start space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[#34A853] mt-0.5 flex-shrink-0",children:""}),jsxRuntimeExports.jsx("span",{children:pt})]},mt))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium flex items-center space-x-2 text-[#FBBC05] text-sm md:text-base",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:ct.improvements.map((pt,mt)=>jsxRuntimeExports.jsxs("li",{className:"text-xs md:text-sm text-muted-foreground flex items-start space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[#FBBC05] mt-0.5 flex-shrink-0",children:""}),jsxRuntimeExports.jsx("span",{children:pt})]},mt))})]})]})]},ct.trait)})}),jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2 text-base md:text-lg",children:[jsxRuntimeExports.jsx(Award,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),jsxRuntimeExports.jsx("span",{children:""})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3 md:space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium mb-2 md:mb-3 flex items-center space-x-2 text-sm md:text-base",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 md:w-4 md:h-4 text-[#34A853]"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:xuebaTraitsData.sort((ct,ut)=>ut.score-ct.score).slice(0,2).map(ct=>{const ut=ct.icon,dt=ct.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":ct.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":ct.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",ht=ct.color==="#4285F4"?"text-[#4285F4]":ct.color==="#34A853"?"text-[#34A853]":ct.color==="#FBBC05"?"text-[#FBBC05]":"text-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"p-2.5 md:p-3 rounded-lg border bg-background flex items-center space-x-2 md:space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center flex-shrink-0 ${dt}`,children:jsxRuntimeExports.jsx(ut,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:ct.trait}),jsxRuntimeExports.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:ct.description})]}),jsxRuntimeExports.jsx("div",{className:`text-base md:text-lg font-medium flex-shrink-0 ${ht}`,children:ct.score})]},ct.trait)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium mb-2 md:mb-3 flex items-center space-x-2 text-sm md:text-base",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"w-3 h-3 md:w-4 md:h-4 text-[#FBBC05]"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:xuebaTraitsData.sort((ct,ut)=>ct.score-ut.score).slice(0,2).map(ct=>{const ut=ct.icon,dt=ct.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":ct.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":ct.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",ht=ct.color==="#4285F4"?"text-[#4285F4]":ct.color==="#34A853"?"text-[#34A853]":ct.color==="#FBBC05"?"text-[#FBBC05]":"text-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"p-2.5 md:p-3 rounded-lg border bg-background flex items-center space-x-2 md:space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center flex-shrink-0 ${dt}`,children:jsxRuntimeExports.jsx(ut,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:ct.trait}),jsxRuntimeExports.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:""})]}),jsxRuntimeExports.jsx("div",{className:`text-base md:text-lg font-medium flex-shrink-0 ${ht}`,children:ct.score})]},ct.trait)})})]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 md:p-4 bg-background rounded-lg border",children:jsxRuntimeExports.jsxs("p",{className:"text-xs md:text-sm leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-primary",children:""}),'"""" """"  ']})})]})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"performance",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4 md:space-y-6",children:subjectPerformanceData.map(ct=>jsxRuntimeExports.jsxs("div",{className:"space-y-2 md:space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm md:text-base",children:ct.subject}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs md:text-sm",children:[" ",ct.accuracy,"%"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs md:text-sm text-gray-600",children:[ct.completed,"/",ct.total," "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:[Math.round(ct.completed/ct.total*100),"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:ct.completed/ct.total*100,className:"h-1.5 md:h-2 [&>div]:bg-[#4285F4]"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:[ct.accuracy,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:ct.accuracy,className:`h-1.5 md:h-2 ${ct.accuracy>=85?"[&>div]:bg-[#34A853]":ct.accuracy>=70?"[&>div]:bg-[#FBBC05]":"[&>div]:bg-[#EA4335]"}`})]})]},ct.subject))})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"mistakes",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:mistakeAnalysisData,cx:"50%",cy:"50%",labelLine:!1,label:({name:ct,value:ut})=>`${ct}: ${ut}`,outerRadius:80,fill:"#8884d8",dataKey:"mistakes",children:mistakeAnalysisData.map((ct,ut)=>jsxRuntimeExports.jsx(Cell,{fill:ct.color},`cell-${ut}`))}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}})]})})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-3 md:space-y-4",children:mistakeAnalysisData.sort((ct,ut)=>ut.mistakes-ct.mistakes).map(ct=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2.5 md:p-3 border rounded-lg gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 min-w-0 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4 rounded-full flex-shrink-0",style:{backgroundColor:ct.color}}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:ct.category}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] md:text-sm text-gray-600",children:[ct.mistakes," "]})]})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"flex-shrink-0 text-xs md:text-sm",children:""})]},ct.category))})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"achievements",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:achievements.map((ct,ut)=>jsxRuntimeExports.jsx(Card,{className:`${ct.earned?"border-[#34A853]":"border-gray-200"}`,children:jsxRuntimeExports.jsx(CardContent,{className:"p-4 md:p-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 mb-2",children:[jsxRuntimeExports.jsx("div",{className:`text-xl md:text-2xl ${!ct.earned&&"grayscale"}`,children:ct.earned?"":""}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm md:text-base",children:ct.name}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:ct.description})]})]}),ct.earned?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-xs md:text-sm text-[#34A853]",children:[jsxRuntimeExports.jsx(Award,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsxs("span",{children:[" - ",ct.date]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:[ct.progress,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:ct.progress,className:"h-1.5 md:h-2 [&>div]:bg-[#4285F4]"})]})]})})})},ut))})})]})]})}const mockPaths=[{id:"math-foundation",title:"",description:"",difficulty:"intermediate",duration:"4-6",subjects:["",""],chapters:15,enrollments:2341,rating:4.8,completion:35,personalizedMatch:98,prerequisites:[""],outcomes:["","",""],badges:["",""],type:"recommended"},{id:"science-explorer",title:"",description:"",difficulty:"beginner",duration:"6-8",subjects:["","",""],chapters:20,enrollments:1876,rating:4.7,completion:0,personalizedMatch:92,prerequisites:[""],outcomes:["","",""],badges:["",""],type:"recommended"},{id:"language-skills",title:"",description:"",difficulty:"intermediate",duration:"8-10",subjects:["",""],chapters:25,enrollments:3210,rating:4.6,completion:12,personalizedMatch:85,prerequisites:[""],outcomes:["","",""],badges:["",""],type:"trending"},{id:"creative-thinking",title:"",description:"",difficulty:"beginner",duration:"5-7",subjects:["","",""],chapters:18,enrollments:1543,rating:4.9,completion:0,personalizedMatch:78,prerequisites:[""],outcomes:["","",""],badges:["",""],type:"custom"},{id:"math-remedial",title:"",description:"",difficulty:"intermediate",duration:"3-4",subjects:["","",""],chapters:12,enrollments:892,rating:4.5,completion:0,personalizedMatch:88,prerequisites:[""],outcomes:["","",""],badges:["",""],type:"remedial"}];function LearningPathsPage({onStartPath:ee}){const{user:te}=useAuth(),[ne,xe]=reactExports.useState("all"),[rt,it]=reactExports.useState("all"),lt=()=>mockPaths.filter(ht=>{const ft=ne==="all"||ht.type===ne,pt=rt==="all"||ht.difficulty===rt;return ft&&pt}).sort((ht,ft)=>ft.personalizedMatch-ht.personalizedMatch),ct=ht=>{switch(ht){case"beginner":return"bg-[#34A853] text-white";case"intermediate":return"bg-[#FBBC05] text-[#202124]";case"advanced":return"bg-[#EA4335] text-white";default:return"bg-[#5F6368] text-white"}},ut=ht=>{switch(ht){case"recommended":return"bg-[#1A73E8] text-white";case"trending":return"bg-[#4285F4] text-white";case"custom":return"bg-[#34A853] text-white";case"remedial":return"bg-[#EA4335] text-white";default:return"bg-[#5F6368] text-white"}},dt=ht=>{switch(ht){case"recommended":return"AI";case"trending":return"";case"custom":return"";case"remedial":return"";default:return ht}};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl text-[#202124] mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-[#5F6368]",children:"AI"})]}),te&&jsxRuntimeExports.jsx(Card,{className:"mb-8 border-[#1A73E8]/20 bg-gradient-to-r from-[#1A73E8]/5 to-[#4285F4]/5",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-medium text-[#202124] mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-[#1A73E8]"}),""]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:""}),te.grade?.replace("grade",""),""]}),jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:""}),te.interests?.join("")||""]}),jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:""}),""]}),jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:""}),""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#1A73E8] rounded-full flex items-center justify-center text-white font-medium text-lg mb-2",children:"85"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368]",children:""})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"mb-8 flex flex-wrap gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Funnel,{className:"w-4 h-4 text-[#5F6368]"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-[#5F6368]",children:""})]}),jsxRuntimeExports.jsxs("select",{value:ne,onChange:ht=>xe(ht.target.value),className:"px-3 py-2 border border-[#E0E0E0] rounded-lg text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"all",children:""}),jsxRuntimeExports.jsx("option",{value:"recommended",children:"AI"}),jsxRuntimeExports.jsx("option",{value:"trending",children:""}),jsxRuntimeExports.jsx("option",{value:"custom",children:""}),jsxRuntimeExports.jsx("option",{value:"remedial",children:""})]}),jsxRuntimeExports.jsxs("select",{value:rt,onChange:ht=>it(ht.target.value),className:"px-3 py-2 border border-[#E0E0E0] rounded-lg text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"all",children:""}),jsxRuntimeExports.jsx("option",{value:"beginner",children:""}),jsxRuntimeExports.jsx("option",{value:"intermediate",children:""}),jsxRuntimeExports.jsx("option",{value:"advanced",children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:lt().map(ht=>jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow group",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{className:ut(ht.type),children:dt(ht.type)}),jsxRuntimeExports.jsx(Badge,{className:ct(ht.difficulty),children:ht.difficulty==="beginner"?"":ht.difficulty==="intermediate"?"":""}),ht.personalizedMatch>=90&&jsxRuntimeExports.jsxs(Badge,{className:"bg-[#FBBC05] text-[#202124]",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 mr-1"}),""]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-medium text-[#1A73E8]",children:[ht.personalizedMatch,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-[#5F6368]",children:""})]})]}),jsxRuntimeExports.jsx(CardTitle,{className:"group-hover:text-[#1A73E8] transition-colors",children:ht.title}),jsxRuntimeExports.jsx(CardDescription,{className:"text-[#5F6368] leading-relaxed",children:ht.description})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:ht.duration})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[ht.chapters," "]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-[#FBBC05] text-[#FBBC05]"}),jsxRuntimeExports.jsx("span",{children:ht.rating})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:ht.enrollments.toLocaleString()})]})]}),ht.completion>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-[#5F6368]",children:""}),jsxRuntimeExports.jsxs("span",{className:"text-[#1A73E8] font-medium",children:[ht.completion,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:ht.completion,className:"h-2"})]}),ht.prerequisites.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-[#202124] mb-2",children:""}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:ht.prerequisites.map((ft,pt)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:ft},pt))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-[#202124] mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}),""]}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:ht.outcomes.slice(0,3).map((ft,pt)=>jsxRuntimeExports.jsxs("li",{className:"text-sm text-[#5F6368] flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 text-[#34A853]"}),ft]},pt))})]}),ht.badges.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-[#202124] mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Award,{className:"w-4 h-4"}),""]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:ht.badges.map((ft,pt)=>jsxRuntimeExports.jsx(Badge,{className:"bg-[#FBBC05] text-[#202124] text-xs",children:ft},pt))})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>ee(ht.id),className:"w-full bg-[#1A73E8] hover:bg-[#1557B0] text-white",children:[ht.completion>0?"":"",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 ml-2"})]})]})]},ht.id))}),jsxRuntimeExports.jsxs(Card,{className:"mt-12 border-[#4285F4]/20",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-[#4285F4]"}),"AI "]}),jsxRuntimeExports.jsx(CardDescription,{children:"AI"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[#E3F2FD] rounded-lg border border-[#1A73E8]/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#1A73E8] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-[#202124] mb-1",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368] mb-2",children:""}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[#FFF3E0] rounded-lg border border-[#FBBC05]/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#FBBC05] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6 text-[#202124]"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-[#202124] mb-1",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368] mb-2",children:""}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:""})]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-[#34A853]"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#5F6368] mb-2",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:""}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:""}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:""})]})]}),jsxRuntimeExports.jsx(Button,{className:"bg-[#34A853] hover:bg-[#2E7D32] text-white",children:""})]})})]})]})}function PDFUploadFlow({onComplete:ee,onPersonalize:te,onBack:ne}){const[xe,rt]=reactExports.useState("upload"),[it,lt]=reactExports.useState(null),{user:ct}=useAuth(),ut=mt=>{const xt=mt.target.files?.[0];console.log("File selected:",xt),xt&&xt.type==="application/pdf"?(console.log("Valid PDF file, proceeding to uploaded state"),lt(xt),rt("uploaded")):xt&&(console.log("Invalid file type:",xt.type),alert("PDF"))},dt=()=>{rt("summary")},ht=()=>{ct&&te({fileName:it?.name||"Unknown file",grade:ct.grade,interests:ct.interests})},ft=mt=>({grade1:"",grade2:"",grade3:"",grade4:"",grade5:"",grade6:"",grade7:"",grade8:"",grade9:"",grade10:"",grade11:"",grade12:""})[mt]||mt,pt=mt=>{const xt={basketball:"",music:"",art:"",reading:"",games:"",photography:"",science:"",geography:"",math:""};return mt.map(yt=>xt[yt]||yt)};return xe==="summary"?ct?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F5F3F0] flex items-center justify-center p-6 relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>rt("uploaded"),className:"absolute top-6 left-6 text-gray-600 hover:text-gray-800",children:" "}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#81C784] rounded-full flex items-center justify-center text-white font-medium text-lg",children:ft(ct.grade).replace("","")}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 bg-white px-6 py-3 rounded-full",children:ft(ct.grade)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#E1BEE7] rounded-full flex items-center justify-center text-2xl",children:""}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 bg-white px-6 py-3 rounded-full",children:[" (",ct.interests.length,")"]})]})]}),ct.interests.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-md mx-auto",children:pt(ct.interests).map((mt,xt)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:mt},xt))}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:["",jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:""}),""]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-4 bg-white rounded-2xl px-8 py-4 mx-auto w-fit",children:[jsxRuntimeExports.jsx("div",{className:"bg-[#EA4335] text-white px-3 py-1 rounded text-sm font-medium",children:"PDF"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 text-lg",children:it?.name||"Newton's Third Law of Motion.pdf"})]}),jsxRuntimeExports.jsxs(Button,{onClick:ht,className:"bg-[#FF8A65] hover:bg-[#FF7043] text-black px-12 py-4 rounded-full text-lg font-medium flex items-center space-x-3 mx-auto",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("path",{d:"M12 3l-1.912 5.813a2 2 0 01-1.275 1.275L3 12l5.813 1.912a2 2 0 011.275 1.275L12 21l1.912-5.813a2 2 0 011.275-1.275L21 12l-5.813-1.912a2 2 0 01-1.275-1.275L12 3z"})}),jsxRuntimeExports.jsx("span",{children:""})]})]})]}):null:xe==="uploaded"?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F5F3F0] flex items-center justify-center p-6 relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>rt("upload"),className:"absolute top-6 left-6 text-gray-600 hover:text-gray-800",children:" "}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-2xl",children:jsxRuntimeExports.jsx(Card,{className:"bg-white border-2 border-[#FF6B6B] rounded-3xl overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-12",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-[#EA4335] text-white px-3 py-1 rounded text-sm font-medium",children:"PDF"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 text-lg",children:it?.name||"Newton's Third Law of Motion.pdf"})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[ct&&jsxRuntimeExports.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["",ft(ct.grade),""]}),jsxRuntimeExports.jsx(Button,{onClick:dt,className:"bg-[#FF8A65] hover:bg-[#FF7043] text-gray-800 px-8 py-3 rounded-full text-lg font-medium transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),jsxRuntimeExports.jsx("span",{children:""})]})})]})]})})})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#E8E4DC] flex items-center justify-center p-8 relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:ne,className:"absolute top-6 left-6 text-gray-600 hover:text-gray-800",children:"  AI"}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-4xl",children:jsxRuntimeExports.jsxs("div",{className:"bg-white border-2 border-[#FF6B6B] rounded-[2rem] p-16",children:[jsxRuntimeExports.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-[2rem] p-20 relative",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-[#E1BEE7] rounded-xl mb-6 relative",children:[jsxRuntimeExports.jsx(FileText,{className:"w-10 h-10 text-white"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-3 -right-3 w-10 h-10 bg-[#FF6B35] rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 text-white"})})]}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:ut,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-8",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",disabled:!0,className:"bg-[#D1D5DB] text-[#9CA3AF] px-12 py-4 rounded-full text-lg font-medium cursor-not-allowed flex items-center space-x-3",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),jsxRuntimeExports.jsx("span",{children:"Start learning"})]})})]})})]})}const subjects$1=[{id:"all",name:"",icon:Globe},{id:"astronomy",name:"",icon:Globe},{id:"biology",name:"",icon:Microscope},{id:"chemistry",name:"",icon:FlaskConical},{id:"physics",name:"",icon:FlaskConical},{id:"computer-science",name:"",icon:Computer},{id:"language",name:"",icon:PenTool},{id:"economics",name:"",icon:TrendingUp},{id:"health",name:"",icon:Heart},{id:"history",name:"",icon:Clock},{id:"philosophy",name:"",icon:Lightbulb},{id:"psychology",name:"",icon:Brain},{id:"sociology",name:"",icon:Users}],learningModes=[{id:"audio-lesson",name:"",icon:Volume2,color:"bg-green-100 text-green-700"},{id:"visual",name:"",icon:ChartColumn,color:"bg-blue-100 text-blue-700"},{id:"immersive-text",name:"",icon:FileText,color:"bg-purple-100 text-purple-700"},{id:"slides-narration",name:"",icon:Play,color:"bg-purple-100 text-purple-700"},{id:"mindmap",name:"",icon:Map$2,color:"bg-orange-100 text-orange-700"},{id:"game",name:"",icon:Gamepad2,color:"bg-pink-100 text-pink-700"},{id:"video",name:"",icon:Video,color:"bg-indigo-100 text-indigo-700"}],sampleCourses=[{id:1,subject:"physics",title:"",description:"",color:"bg-gradient-to-br from-blue-500 to-purple-600",icon:FlaskConical,modes:["immersive-text","slides-narration","audio-lesson","video","mindmap","game"],isDemo:!0},{id:2,subject:"history",title:"",description:"",color:"bg-gradient-to-br from-orange-400 to-red-500",icon:Clock,modes:["audio-lesson","visual","video","mindmap"]},{id:3,subject:"sociology",title:"",description:"",color:"bg-gradient-to-br from-blue-400 to-cyan-500",icon:Users,modes:["immersive-text","audio-lesson","game","visual"]},{id:4,subject:"biology",title:"",description:"",color:"bg-gradient-to-br from-purple-400 to-indigo-500",icon:Microscope,modes:["visual","immersive-text","video","game"]},{id:5,subject:"language",title:"",description:"",color:"bg-gradient-to-br from-green-400 to-teal-500",icon:PenTool,modes:["immersive-text","audio-lesson","game"]},{id:6,subject:"chemistry",title:"",description:"",color:"bg-gradient-to-br from-yellow-400 to-orange-500",icon:FlaskConical,modes:["visual","video","game","immersive-text"]},{id:7,subject:"chemistry",title:"",description:"",color:"bg-gradient-to-br from-gray-400 to-slate-500",icon:FlaskConical,modes:["visual","immersive-text","audio-lesson"]},{id:8,subject:"astronomy",title:"",description:"",color:"bg-gradient-to-br from-indigo-400 to-purple-500",icon:Globe,modes:["visual","audio-lesson","mindmap"]}];function LearnYourWayPage({onStartPDFLearning:ee,onPersonalizePDF:te}){const{user:ne}=useAuth();useNavigate();const[xe,rt]=reactExports.useState("all"),[it,lt]=reactExports.useState(!1);reactExports.useEffect(()=>{const yt=()=>{lt(!0)};return window.addEventListener("triggerPDFUpload",yt),()=>{window.removeEventListener("triggerPDFUpload",yt)}},[]);const ct=xe==="all"?sampleCourses:sampleCourses.filter(yt=>yt.subject===xe),ut=yt=>{const vt=learningModes.find(Et=>Et.id===yt);return vt?vt.icon:FileText},dt=yt=>{const vt=learningModes.find(Et=>Et.id===yt);return vt?vt.color:"bg-gray-100 text-gray-700"},ht=yt=>{const vt=learningModes.find(Et=>Et.id===yt);return vt?vt.name:""},ft=yt=>{lt(!1),ee&&ee(yt)},pt=yt=>{lt(!1),te&&te(yt)},mt=()=>{lt(!1)},xt=yt=>{yt.isDemo&&yt.id===1&&te&&te({fileName:".pdf",grade:"grade9",interests:["science","physics"]})};return it?jsxRuntimeExports.jsx(PDFUploadFlow,{onComplete:ft,onPersonalize:pt,onBack:mt}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-200 via-orange-300 to-orange-400 opacity-80"}),jsxRuntimeExports.jsxs("div",{className:"absolute top-0 right-0 w-1/2 h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-8 right-8 w-80 h-80 bg-white/30 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-16 right-16 w-60 h-60 bg-white/40 rounded-full blur-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-primary",children:""}),jsxRuntimeExports.jsx("br",{}),""]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-700 max-w-lg leading-relaxed",children:"AI"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white shadow-lg",onClick:()=>lt(!0),children:[jsxRuntimeExports.jsx(Upload,{className:"w-5 h-5 mr-2"}),"AIPDF"]})})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/50",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:""})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-orange-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-purple-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Play,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-green-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Volume2,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-blue-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Map$2,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-pink-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-pink-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Gamepad2,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-indigo-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Video,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:""})]})]})]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:subjects$1.map(yt=>{const vt=yt.icon,Et=xe===yt.id;return jsxRuntimeExports.jsxs(Button,{variant:Et?"default":"outline",className:`h-12 px-4 ${Et?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,onClick:()=>rt(yt.id),children:[jsxRuntimeExports.jsx(vt,{className:"w-4 h-4 mr-2"}),yt.name]},yt.id)})})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ct.map(yt=>{const vt=yt.icon;return jsxRuntimeExports.jsxs(Card,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer border-0 overflow-hidden",onClick:()=>xt(yt),children:[jsxRuntimeExports.jsxs("div",{className:`${yt.color} p-6 text-white relative`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsx(Badge,{className:"bg-white/20 text-white border-white/30",children:subjects$1.find(Et=>Et.id===yt.subject)?.name}),yt.isDemo&&jsxRuntimeExports.jsx(Badge,{className:"bg-green-500 text-white border-0 text-xs",children:""})]}),jsxRuntimeExports.jsx(vt,{className:"w-6 h-6"})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 bg-white/10 rounded-tl-full"})]}),jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 group-hover:text-primary transition-colors",children:yt.title}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:yt.description})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:yt.modes.map(Et=>{const _t=ut(Et);return jsxRuntimeExports.jsxs(Badge,{className:`${dt(Et)} border-0`,children:[jsxRuntimeExports.jsx(_t,{className:"w-3 h-3 mr-1"}),ht(Et)]},Et)})})]})})]},yt.id)})})})]})]})}const modes=[{id:"immersive-text",name:"",icon:FileText,color:"#FF8A65"},{id:"slides-narration",name:"",icon:Play,color:"#9C27B0"},{id:"audio-lesson",name:"",icon:Volume2,color:"#4CAF50"},{id:"mindmap",name:"",icon:Map$2,color:"#2196F3"},{id:"game",name:"",icon:Gamepad2,color:"#E91E63"},{id:"video",name:"",icon:Video,color:"#3F51B5"}];function LearningHeader({pdfData:ee,currentMode:te,onModeSelect:ne,onOpenPDF:xe,onBack:rt}){const{user:it}=useAuth(),lt=ut=>({grade1:"",grade2:"",grade3:"",grade4:"",grade5:"",grade6:"",grade7:"",grade8:"",grade9:"",grade10:"",grade11:"",grade12:""})[ut]||ut,ct=ut=>{const dt={basketball:"",music:"",art:"",reading:"",games:"",photography:"",science:"",physics:"",geography:"",math:""};return ut.map(ht=>dt[ht]||ht)};return jsxRuntimeExports.jsxs("div",{className:"bg-[#F5F3F0] px-6 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[rt&&jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:rt,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-medium text-gray-800",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-600",children:""}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["",it?ct(it.interests).join(""):""]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["",it?lt(it.grade):""]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx("span",{className:"text-lg",children:"?"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:xe,className:"flex flex-col items-center p-3 min-w-[80px] h-auto bg-white hover:bg-gray-50 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 mb-1 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-amber-600 rounded text-white text-xs font-bold flex items-center justify-center",children:"PDF"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:""})]}),modes.map(ut=>{const dt=ut.icon,ht=te===ut.id;return jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>ne?.(ut.id),className:`flex flex-col items-center p-3 min-w-[80px] h-auto rounded-lg border transition-all ${ht?"bg-white border-2 shadow-sm":"bg-transparent border border-transparent hover:bg-white/50"}`,style:{borderColor:ht?ut.color:"transparent"},children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 mb-1 rounded-lg flex items-center justify-center",style:{backgroundColor:ut.color},children:jsxRuntimeExports.jsx(dt,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight",children:ut.name})]},ut.id)})]})]})}function LearningModeSelection({pdfData:ee,onSelectMode:te,onBack:ne}){const xe=[{id:"immersive-text",name:"",icon:jsxRuntimeExports.jsxs("div",{className:"w-16 h-16 flex items-center justify-center relative",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#FF8A65] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"w-7 h-5 bg-white rounded-sm flex flex-col justify-center space-y-0.5 px-1",children:[jsxRuntimeExports.jsx("div",{className:"h-0.5 bg-gray-400 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-0.5 bg-gray-400 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-0.5 bg-gray-400 rounded"})]})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-[#FF8A65] rounded-full flex items-center justify-center text-white text-xs font-bold",children:"?"})]}),borderColor:"border-[#FF8A65]",bgColor:"bg-orange-50"},{id:"slides-narration",name:"",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#9C27B0] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-white border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent ml-1"})})}),borderColor:"border-[#9C27B0]",bgColor:"bg-purple-50"},{id:"audio-lesson",name:"",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#4CAF50] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-end space-x-0.5",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-2 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-4 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-3 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-2 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-4 bg-white rounded-full"})]})})}),borderColor:"border-[#4CAF50]",bgColor:"bg-green-50"},{id:"mindmap",name:"",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#2196F3] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-3 w-2 h-2 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2.5 left-5 w-2 h-0.5 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2.5 left-1 w-2 h-0.5 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-3.5 w-0.5 h-2 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0.5 left-3.5 w-0.5 h-1.5 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-3 w-1.5 h-1.5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-0 w-1.5 h-1.5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-6 w-1.5 h-1.5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4.5 left-3 w-1.5 h-1.5 bg-white rounded-full"})]})})}),borderColor:"border-[#2196F3]",bgColor:"bg-blue-50"},{id:"game",name:"",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#E91E63] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1 left-1 w-6 h-3 bg-white rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1.5 left-1.5 w-1 h-1 bg-[#E91E63] rounded-sm"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1.5 right-1.5 w-1 h-1 bg-[#E91E63] rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2.5 right-1.5 w-1 h-1 bg-[#E91E63] rounded-full"})]})})}),borderColor:"border-[#E91E63]",bgColor:"bg-pink-50"},{id:"video",name:"",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#3F51B5] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0.5 left-1 w-5 h-4 bg-white rounded-sm"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-3 w-0 h-0 border-l-[6px] border-l-[#3F51B5] border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent"})]})})}),borderColor:"border-[#3F51B5]",bgColor:"bg-indigo-50"}],rt=()=>{console.log("Opening PDF:",ee.fileName),alert(`PDF: ${ee.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:ee,onModeSelect:te,onOpenPDF:rt,onBack:ne}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center p-12",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl text-gray-800 mb-12",children:""}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-8",children:xe.map(it=>jsxRuntimeExports.jsx(Card,{className:`w-48 h-48 ${it.bgColor} ${it.borderColor} border-4 rounded-3xl cursor-pointer hover:scale-105 transition-transform`,onClick:()=>te(it.id),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8 flex flex-col items-center justify-center h-full space-y-4",children:[it.icon,jsxRuntimeExports.jsx("h3",{className:"text-lg text-gray-700 text-center leading-tight",children:it.name})]})},it.id))})]})})]})}function TextSelectionHelper({onAskTutor:ee,containerRef:te}){const[ne,xe]=reactExports.useState(""),[rt,it]=reactExports.useState(!1),[lt,ct]=reactExports.useState({x:0,y:0}),[ut,dt]=reactExports.useState(""),ht=xt=>{if(!xt.rangeCount)return"";const vt=xt.getRangeAt(0).commonAncestorContainer;let Et=null;for(vt.nodeType===Node.TEXT_NODE?Et=vt.parentElement:Et=vt;Et&&!["P","DIV","SECTION","ARTICLE"].includes(Et.tagName);)Et=Et.parentElement;return Et&&Et.textContent||""},ft=()=>{const xt=window.getSelection();if(!xt||xt.isCollapsed){it(!1);return}const yt=xt.toString().trim();if(yt.length>0){xe(yt),dt(ht(xt));const Et=xt.getRangeAt(0).getBoundingClientRect(),_t=Et.left+Et.width/2,wt=Et.top-60;ct({x:_t,y:wt}),it(!0)}else it(!1)},pt=()=>{ne&&(ee(ne,ut),it(!1),window.getSelection()?.removeAllRanges())},mt=xt=>{xt.target.closest(".selection-helper-button")||it(!1)};return reactExports.useEffect(()=>{const xt=te?.current||document,yt=()=>{setTimeout(ft,10)},vt=Et=>{(Et.key==="ArrowLeft"||Et.key==="ArrowRight"||Et.key==="ArrowUp"||Et.key==="ArrowDown"||Et.shiftKey)&&setTimeout(ft,10)};return xt.addEventListener("mouseup",yt),xt.addEventListener("keyup",vt),document.addEventListener("mousedown",mt),()=>{xt.removeEventListener("mouseup",yt),xt.removeEventListener("keyup",vt),document.removeEventListener("mousedown",mt)}},[te]),reactExports.useEffect(()=>{if(rt){const xt=()=>{it(!1)};return window.addEventListener("scroll",xt,!0),()=>{window.removeEventListener("scroll",xt,!0)}}},[rt]),rt?jsxRuntimeExports.jsx("div",{className:"fixed z-50 selection-helper-button",style:{left:`${lt.x}px`,top:`${lt.y}px`,transform:"translateX(-50%)"},children:jsxRuntimeExports.jsxs(Button,{onClick:pt,size:"sm",className:"bg-[#1A73E8] hover:bg-[#1557B0] text-white shadow-lg animate-in fade-in-0 zoom-in-95 duration-200",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4 mr-1"}),""]})}):null}function ImmersiveTextPage({pdfData:ee,onBack:te,onSwitchMode:ne,onAskTutor:xe}){const[rt,it]=reactExports.useState(0),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(null),[ht,ft]=reactExports.useState(""),[pt,mt]=reactExports.useState(""),[xt,yt]=reactExports.useState(!0),[vt,Et]=reactExports.useState(!1),[_t,wt]=reactExports.useState(!1),[St,Ct]=reactExports.useState(0),[jt,Rt]=reactExports.useState(""),[Pt,Ot]=reactExports.useState(!1),[Ft,Lt]=reactExports.useState(!1),[Bt,Gt]=reactExports.useState(new Set),[It,qt]=reactExports.useState({}),Nt=reactExports.useRef(null),Dt=[{id:"q1",question:"",options:[{label:"A",text:""},{label:"B",text:""},{label:"C",text:""},{label:"D",text:""}],correctAnswer:"A"},{id:"q2",question:"3.5",options:[{label:"A",text:""},{label:"B",text:""},{label:"C",text:""},{label:"D",text:""}],correctAnswer:"B"}],Tt=[{id:"quiz1",question:"",options:[{label:"A",text:""},{label:"B",text:""},{label:"C",text:""},{label:"D",text:""}],correctAnswer:"B",explanation:""},{id:"quiz2",question:"",options:[{label:"A",text:""},{label:"B",text:""},{label:"C",text:""},{label:"D",text:""}],correctAnswer:"B",explanation:""},{id:"quiz3",question:"",options:[{label:"A",text:""},{label:"B",text:""},{label:"C",text:""},{label:"D",text:""}],correctAnswer:"C",explanation:""},{id:"quiz4",question:"",options:[{label:"A",text:""},{label:"B",text:""},{label:"C",text:""},{label:"D",text:""}],correctAnswer:"C",explanation:""}],Mt=or=>{const dr=Dt.find(Ar=>Ar.id===or);dr&&(dt(dr),ct(!0),ft(""),mt(""))},$t=()=>{ct(!1),dt(null),ft(""),mt("")},Ht=or=>{mt(or),ft(or)},Wt=()=>{console.log("User answer:",ht),$t()},Vt=()=>{console.log("Opening PDF:",ee.fileName),alert(`PDF: ${ee.fileName}`)},Yt=()=>{wt(!0),Ct(0),Rt(""),Ot(!1),Lt(!1),Gt(new Set),qt({})},Qt=or=>{Rt(or),qt(dr=>({...dr,[St]:or}))},ar=()=>{jt&&(Gt(or=>new Set([...or,St])),Ot(!0))},Xt=()=>{St<Tt.length-1&&(Ct(St+1),Rt(It[St+1]||""),Ot(!1),Lt(!1))},tr=()=>{St>0&&(Ct(St-1),Rt(It[St-1]||""),Ot(Bt.has(St-1)),Lt(!1))},rr=()=>{Xt()},ur=()=>{Ct(0),Rt(""),Ot(!1),Lt(!1),Gt(new Set),qt({})},Jt=()=>{wt(!1)},Zt=or=>["","","",""][or]||"";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:ee,currentMode:"immersive-text",onModeSelect:ne,onOpenPDF:Vt,onBack:te}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",ref:Nt,children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:""}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:xt,onChange:or=>yt(or.target.checked),className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:""})]}),jsxRuntimeExports.jsx("div",{className:"ml-6 space-y-2",children:jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs",children:""})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:vt,onChange:or=>Et(or.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:""})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:_t?jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-3 py-2 rounded-lg text-xs",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:[St+1,"/",Tt.length]})]})}):jsxRuntimeExports.jsxs(Button,{onClick:Yt,className:"w-full bg-orange-100 hover:bg-orange-200 text-orange-700 text-sm py-2 px-3 rounded-lg border-0",variant:"outline",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),""]})})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"prose max-w-none relative",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-700 leading-relaxed pr-12",children:[jsxRuntimeExports.jsx("strong",{children:""}),"3.5"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Mt("q1"),className:"absolute top-0 right-0 w-8 h-8 bg-[#FF8A65] hover:bg-[#FF7043] rounded-full flex items-center justify-center transition-colors shadow-sm",title:"",children:jsxRuntimeExports.jsx("span",{className:"text-black text-sm font-bold",children:"?"})})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6 my-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(ImageWithFallback,{src:"https://images.unsplash.com/photo-1728520509654-d37de68da7a9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxza2F0ZWJvYXJkJTIwcGh5c2ljcyUyMGFjdGlvbiUyMHJlYWN0aW9ufGVufDF8fHx8MTc1ODcyNDQyM3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"",className:"w-full h-48 object-cover rounded-lg"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 text-center",children:"(a)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(ImageWithFallback,{src:"https://cdn.pixabay.com/photo/2012/11/28/10/37/rocket-launch-67649_1280.jpg",alt:"",className:"w-full h-48 object-cover rounded-lg"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 text-center",children:"(b)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg relative",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 pr-12",children:"3.5 (a) (b) "}),jsxRuntimeExports.jsx("button",{onClick:()=>Mt("q2"),className:"absolute top-4 right-4 w-8 h-8 bg-[#FF8A65] hover:bg-[#FF7043] rounded-full flex items-center justify-center transition-colors shadow-sm",title:"",children:jsxRuntimeExports.jsx("span",{className:"text-black text-sm font-bold",children:"?"})})]}),_t&&jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx(Card,{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-orange-600 text-lg",children:""})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Take a quiz to check your understanding"})})]}),jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx(Progress,{value:(St+1)/Tt.length*100,className:"flex-1 mr-4"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:[St+1," / ",Tt.length]})]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-900 mb-6",children:[jsxRuntimeExports.jsxs("strong",{children:["Question ",St+1,":"]})," ",Tt[St].question]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 mb-6",children:Tt[St].options.map(or=>{const dr=jt===Tt[St].correctAnswer;return jsxRuntimeExports.jsxs("button",{onClick:()=>Qt(or.label),disabled:Pt,className:`w-full p-4 rounded-lg text-left transition-colors border ${jt===or.label?Pt?dr?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800":"bg-orange-50 border-orange-200 text-orange-800":Pt&&or.label===Tt[St].correctAnswer?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[or.label,")"]})," ",or.text,Pt&&or.label===Tt[St].correctAnswer&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-600 float-right mt-0.5"})]},or.label)})}),Pt&&jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg mb-6 ${jt===Tt[St].correctAnswer?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[jsxRuntimeExports.jsx("p",{className:`font-medium mb-2 ${jt===Tt[St].correctAnswer?"text-green-800":"text-red-800"}`,children:jt===Tt[St].correctAnswer?"":" "+Tt[St].correctAnswer+""}),Tt[St].explanation&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:Tt[St].explanation})]}),Ft&&!Pt&&jsxRuntimeExports.jsx("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-orange-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-orange-800 text-sm mb-2",children:jsxRuntimeExports.jsx("strong",{children:"I need a hint"})}),jsxRuntimeExports.jsx("p",{className:"text-orange-700 text-sm",children:Zt(St)})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Lt(!Ft),className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 mr-2"}),"Hint"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Ot(!0),disabled:Pt,className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-2"}),"Show the answer"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:rr,className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(SkipForward,{className:"w-4 h-4 mr-2"}),"Skip"]})]}),!Pt&&jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx(Button,{onClick:ar,disabled:!jt,className:"bg-orange-500 hover:bg-orange-600 text-white px-8",children:""})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:tr,disabled:St===0,className:"text-gray-600",children:""}),St<Tt.length-1?jsxRuntimeExports.jsx(Button,{onClick:Xt,className:"bg-blue-600 hover:bg-blue-700 text-white",children:""}):jsxRuntimeExports.jsx(Button,{onClick:Jt,className:"bg-green-600 hover:bg-green-700 text-white",children:""})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:ur,className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 mr-2"}),"Restart quiz"]})})]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{window.dispatchEvent(new CustomEvent("askTutor",{detail:{question:"",context:""}}))},children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:Yt,className:"bg-orange-100 hover:bg-orange-200 text-orange-700 border border-orange-200",variant:"outline",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),""]})]})]})]})]})})}),lt&&ut&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/10 flex items-center justify-end pr-6 z-50",children:jsxRuntimeExports.jsx(Card,{className:"bg-white rounded-2xl w-full max-w-md relative shadow-2xl",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:$t,className:"absolute top-3 right-3 w-6 h-6 p-0 hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 mb-6 pr-6",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-[#FF8A65] rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-black text-sm font-bold",children:"?"})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:ut.question})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 mb-6",children:ut.options.map(or=>jsxRuntimeExports.jsxs("button",{onClick:()=>Ht(or.label),className:`w-full p-3 rounded-lg text-left text-sm transition-colors ${pt===or.label?"bg-[#FF8A65] text-black":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,children:[jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[or.label,"."]})," ",or.text]},or.label))}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsx(Button,{onClick:Wt,disabled:!pt,className:"w-full bg-[#FF8A65] hover:bg-[#FF7043] text-black disabled:opacity-50 h-10 text-sm font-medium",children:""})})]})})}),xe&&jsxRuntimeExports.jsx(TextSelectionHelper,{onAskTutor:xe,containerRef:Nt})]})}function SlidesNarrationPage({pdfData:ee,onBack:te,onSwitchMode:ne,onAskTutor:xe}){const[rt,it]=reactExports.useState(0),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(0),[ht,ft]=reactExports.useState(75),pt=reactExports.useRef(null),[mt,xt]=reactExports.useState(!0),[yt,vt]=reactExports.useState(!1),Et=[{id:1,title:"",content:["","",""],image:"https://images.unsplash.com/photo-1728520509654-d37de68da7a9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxza2F0ZWJvYXJkJTIwYWN0aW9uJTIwcmVhY3Rpb24lMjBwaHlzaWNzfGVufDF8fHx8MTc1ODcwMjE0OHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",duration:180},{id:2,title:"",content:["","",""],duration:200},{id:3,title:"",content:["","","",""],duration:190},{id:4,title:"",content:["","-",""],duration:170}],_t=Et.length,wt=Et[rt],St=wt?.duration||180;reactExports.useEffect(()=>{lt&&ut>=St&&(rt<_t-1?(it(Bt=>Bt+1),dt(0)):(ct(!1),dt(0)))},[ut,St,rt,_t,lt]),reactExports.useEffect(()=>(lt?pt.current=setInterval(()=>{dt(Bt=>Bt+1)},1e3):pt.current&&clearInterval(pt.current),()=>{pt.current&&clearInterval(pt.current)}),[lt]);const Ct=()=>{ct(!lt)},jt=Bt=>{dt(Bt[0])},Rt=Bt=>{ft(Bt[0])},Pt=()=>{rt>0&&(it(Bt=>Bt-1),dt(0),ct(!1))},Ot=()=>{rt<_t-1&&(it(Bt=>Bt+1),dt(0),ct(!1))},Ft=Bt=>{const Gt=Math.floor(Bt/60),It=Bt%60;return`${Gt}:${It.toString().padStart(2,"0")}`},Lt=()=>{console.log("Opening PDF:",ee.fileName),alert(`PDF: ${ee.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:ee,currentMode:"slides-narration",onModeSelect:ne,onOpenPDF:Lt,onBack:te}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:""}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:mt,onChange:Bt=>xt(Bt.target.checked),className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"ml-6 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs",children:""}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[" ",rt+1," / ",_t]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:yt,onChange:Bt=>vt(Bt.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:""})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-5 gap-10 min-h-[450px]",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 flex items-center justify-center",children:wt?.image&&jsxRuntimeExports.jsx("div",{className:"relative bg-gray-100 rounded-2xl overflow-hidden shadow-lg",children:jsxRuntimeExports.jsx(ImageWithFallback,{src:wt.image,alt:"",className:"w-full h-72 object-cover"})})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 flex flex-col justify-center space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-6",children:wt?.title}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:wt?.content.map((Bt,Gt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-3 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:Bt})]},Gt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsx(Button,{onClick:Ct,className:"w-10 h-10 rounded-full bg-[#9C27B0] hover:bg-[#7B1FA2] text-white p-0 flex items-center justify-center",children:lt?jsxRuntimeExports.jsx(Pause,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 ml-0.5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-10 text-right",children:Ft(ut)}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Slider,{value:[ut],max:St,step:1,onValueChange:jt,className:"w-full"})}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-10",children:Ft(St)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("div",{className:"w-16",children:jsxRuntimeExports.jsx(Slider,{value:[ht],max:100,step:1,onValueChange:Rt,className:"w-full"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:Pt,disabled:rt===0,className:"p-2",children:jsxRuntimeExports.jsx(SkipBack,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:Ot,disabled:rt===_t-1,className:"p-2",children:jsxRuntimeExports.jsx(SkipForward,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center pt-2",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 text-center",children:[" ",rt+1," / ",_t]})})]}),xe&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>xe("",""),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),""]})})]})]})]})})})]})}function AudioLessonPage({pdfData:ee,onBack:te,onSwitchMode:ne,onAskTutor:xe}){const[rt,it]=reactExports.useState(!1),[lt,ct]=reactExports.useState(0),[ut,dt]=reactExports.useState(75),ht=reactExports.useRef(null),[ft,pt]=reactExports.useState(!0),[mt,xt]=reactExports.useState(!1),yt=324,vt=32,[Et]=reactExports.useState(()=>Array.from({length:vt},()=>Math.random()*80+20));reactExports.useEffect(()=>(rt?ht.current=setInterval(()=>{ct(Ot=>Ot>=yt?(it(!1),0):Ot+1)},1e3):ht.current&&clearInterval(ht.current),()=>{ht.current&&clearInterval(ht.current)}),[rt,yt]);const _t=()=>{it(!rt)},wt=Ot=>{ct(Ot[0])},St=Ot=>{dt(Ot[0])},Ct=Ot=>{const Ft=Math.floor(Ot/60),Lt=Ot%60;return`${Ft}:${Lt.toString().padStart(2,"0")}`},jt=Ot=>{const Ft=lt/yt,Lt=Math.floor(Ft*vt);return rt&&Ot<=Lt?Et[Ot]+Math.sin(Date.now()/100+Ot)*10:Et[Ot]},Rt=Ot=>{const Ft=lt/yt,Lt=Math.floor(Ft*vt);return Ot<=Lt?1:.3},Pt=()=>{console.log("Opening PDF:",ee.fileName),alert(`PDF: ${ee.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:ee,currentMode:"audio-lesson",onModeSelect:ne,onOpenPDF:Pt,onBack:te}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:""}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ft,onChange:Ot=>pt(Ot.target.checked),className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"ml-6 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs",children:""}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[Ct(lt)," / ",Ct(yt)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:mt,onChange:Ot=>xt(Ot.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:""})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"min-h-[400px] flex flex-col justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-4xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"flex items-end justify-center space-x-2 h-64 mb-12",children:Array.from({length:vt},(Ot,Ft)=>jsxRuntimeExports.jsx("div",{className:"bg-[#4CAF50] rounded-full transition-all duration-100 ease-out",style:{width:"12px",height:`${jt(Ft)}px`,opacity:Rt(Ft),transform:rt&&Ft<=Math.floor(lt/yt*vt)?"scaleY(1.1)":"scaleY(1)"}},Ft))})})}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsx(Button,{onClick:_t,className:"w-12 h-12 rounded-full bg-[#4CAF50] hover:bg-[#45a049] text-white p-0 flex items-center justify-center",children:rt?jsxRuntimeExports.jsx(Pause,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Play,{className:"w-5 h-5 ml-0.5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-12 text-right",children:Ct(lt)}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Slider,{value:[lt],max:yt,step:1,onValueChange:wt,className:"w-full"})}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-12",children:Ct(yt)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("div",{className:"w-20",children:jsxRuntimeExports.jsx(Slider,{value:[ut],max:100,step:1,onValueChange:St,className:"w-full"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center pt-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-800 mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:""})]})]}),xe&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>xe("",""),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),""]})})]})]})]})})})]})}function MindmapPage({pdfData:ee,onBack:te,onSwitchMode:ne,onAskTutor:xe}){const[rt,it]=reactExports.useState(""),[lt,ct]=reactExports.useState(0),[ut,dt]=reactExports.useState([{id:"step1",question:'""',hint:"",expectedKeywords:["","","",""],nodeToReveal:"action-force",followUpQuestion:"",completed:!1},{id:"step2",question:'""',hint:"",expectedKeywords:["","","",""],nodeToReveal:"reaction-force",followUpQuestion:"",completed:!1},{id:"step3",question:"",hint:"",expectedKeywords:["","","",""],nodeToReveal:"equal-opposite",followUpQuestion:"",completed:!1},{id:"step4",question:"",hint:"...",expectedKeywords:["","","",""],nodeToReveal:"skateboarding",followUpQuestion:"",completed:!1},{id:"step5",question:"...",hint:"",expectedKeywords:["","","","",""],nodeToReveal:"other-examples",followUpQuestion:"",completed:!1}]),[ht,ft]=reactExports.useState([{id:"center",text:"",x:400,y:250,color:"bg-blue-500 text-white border-blue-600",width:180,height:70,fontSize:"text-base",isVisible:!0,isUserCreated:!1},{id:"action-force",text:"",x:250,y:150,color:"bg-green-100 border-green-400 text-green-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"reaction-force",text:"",x:550,y:150,color:"bg-purple-100 border-purple-400 text-purple-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"equal-opposite",text:`
`,x:400,y:80,color:"bg-orange-100 border-orange-400 text-orange-800",width:140,height:60,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"skateboarding",text:"",x:200,y:350,color:"bg-yellow-100 border-yellow-400 text-yellow-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"other-examples",text:"",x:600,y:350,color:"bg-pink-100 border-pink-400 text-pink-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1}]),[pt,mt]=reactExports.useState([{from:"center",to:"action-force",color:"stroke-green-400",isVisible:!1},{from:"center",to:"reaction-force",color:"stroke-purple-400",isVisible:!1},{from:"center",to:"equal-opposite",color:"stroke-orange-400",isVisible:!1},{from:"center",to:"skateboarding",color:"stroke-yellow-400",isVisible:!1},{from:"center",to:"other-examples",color:"stroke-pink-400",isVisible:!1}]),[xt,yt]=reactExports.useState([]),[vt,Et]=reactExports.useState(!1),[_t,wt]=reactExports.useState(""),[St,Ct]=reactExports.useState(null),[jt,Rt]=reactExports.useState(!1),Pt=ut[lt],Ot=Dt=>{if(!Pt)return!1;const Tt=Dt.toLowerCase();return Pt.expectedKeywords?.some($t=>Tt.includes($t))||Dt.length>10},Ft=()=>{if(!rt.trim())return;const Dt=Ot(rt);if(Ct(Dt),yt([...xt,rt]),Dt){const Tt=["","","",""];wt(Tt[Math.floor(Math.random()*Tt.length)]),Pt.nodeToReveal&&setTimeout(()=>{Bt(Pt.nodeToReveal)},500),setTimeout(()=>{const Mt=[...ut];Mt[lt].completed=!0,dt(Mt),lt<ut.length-1?(Rt(!0),wt(Pt.followUpQuestion||"")):setTimeout(()=>{ct(lt+1)},2e3)},1500)}else wt('" "');it(""),Et(!1)},Lt=()=>{Rt(!1),Ct(null),wt(""),ct(lt+1)},Bt=Dt=>{ft(Tt=>Tt.map(Mt=>Mt.id===Dt?{...Mt,isVisible:!0}:Mt)),mt(Tt=>Tt.map(Mt=>Mt.to===Dt||Mt.from===Dt?{...Mt,isVisible:!0}:Mt))},Gt=(Dt,Tt)=>{const Mt=Dt.x+(Dt.width||80)/2,$t=Dt.y+(Dt.height||40)/2,Ht=Tt.x+(Tt.width||80)/2,Wt=Tt.y+(Tt.height||40)/2,Vt=(Mt+Ht)/2,Yt=($t+Wt)/2,Qt=Vt+($t-Wt)*.2,ar=Yt+(Ht-Mt)*.2;return`M ${Mt} ${$t} Q ${Qt} ${ar} ${Ht} ${Wt}`},It=()=>{console.log("Opening PDF:",ee.fileName),alert(`PDF: ${ee.fileName}`)},qt=ut.filter(Dt=>Dt.completed).length/ut.length*100,Nt=lt>=ut.length;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:ee,currentMode:"mindmap",onModeSelect:ne,onOpenPDF:It,onBack:te}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:""}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-blue-600",children:[Math.round(qt),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:`${qt}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"border-2 border-blue-200 bg-white/80 backdrop-blur",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"AI"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:""})]})]}),Nt?jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border-2 border-green-400 p-6 rounded-lg text-center space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto",children:jsxRuntimeExports.jsx(Check,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-green-800",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700",children:""})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:Pt?.question})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Input,{value:rt,onChange:Dt=>it(Dt.target.value),onKeyPress:Dt=>Dt.key==="Enter"&&Ft(),placeholder:"...",className:"w-full border-2 border-gray-300 focus:border-blue-500"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:Ft,disabled:!rt.trim(),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-2"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>Et(!vt),className:"border-orange-300 text-orange-600 hover:bg-orange-50",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4"})})]})]}),vt&&Pt?.hint&&jsxRuntimeExports.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-3 rounded animate-in slide-in-from-top",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-800",children:Pt.hint})}),_t&&jsxRuntimeExports.jsx("div",{className:`border-l-4 p-3 rounded animate-in slide-in-from-bottom ${St?"bg-green-50 border-green-400":"bg-yellow-50 border-yellow-400"}`,children:jsxRuntimeExports.jsx("p",{className:`text-sm ${St?"text-green-800":"text-yellow-800"}`,children:_t})}),jt&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs(Button,{onClick:Lt,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-2"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs text-gray-500 mb-3",children:""}),ut.map((Dt,Tt)=>jsxRuntimeExports.jsxs("div",{className:`flex items-center space-x-2 text-xs ${Tt===lt?"text-blue-600 font-medium":Dt.completed?"text-green-600":"text-gray-400"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${Dt.completed?"bg-green-500":Tt===lt?"bg-blue-500 animate-pulse":"bg-gray-300"}`,children:Dt.completed?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"}):jsxRuntimeExports.jsx("span",{className:"text-white text-xs",children:Tt+1})}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:Dt.completed?"":Tt===lt?"":""})]},Dt.id))]})]})}),xt.length>0&&jsxRuntimeExports.jsx(Card,{className:"border border-gray-200 bg-white/60",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:""}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:xt.map((Dt,Tt)=>jsxRuntimeExports.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-200",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:["#",Tt+1,":"]})," ",Dt]},Tt))})]})})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(Card,{className:"border-2 border-purple-200 bg-white/80 backdrop-blur",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium text-gray-900",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 border-2 border-dashed border-gray-300 rounded-xl p-8 min-h-[600px] relative overflow-hidden",children:[jsxRuntimeExports.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:1},children:pt.filter(Dt=>Dt.isVisible).map((Dt,Tt)=>{const Mt=ht.find(Ht=>Ht.id===Dt.from),$t=ht.find(Ht=>Ht.id===Dt.to);return!Mt||!$t?null:jsxRuntimeExports.jsx("g",{children:jsxRuntimeExports.jsx("path",{d:Gt(Mt,$t),className:`${Dt.color} fill-none animate-in fade-in`,strokeWidth:"3",strokeDasharray:"5,5",children:jsxRuntimeExports.jsx("animate",{attributeName:"stroke-dashoffset",from:"10",to:"0",dur:"1s",repeatCount:"indefinite"})})},Tt)})}),jsxRuntimeExports.jsx("div",{className:"relative",style:{zIndex:2},children:ht.filter(Dt=>Dt.isVisible).map(Dt=>jsxRuntimeExports.jsxs("div",{className:`absolute border-3 rounded-xl p-3 shadow-lg transition-all duration-500 hover:scale-105 cursor-pointer ${Dt.color} ${Dt.fontSize||"text-sm"} animate-in zoom-in`,style:{left:`${Dt.x}px`,top:`${Dt.y}px`,width:`${Dt.width||120}px`,height:`${Dt.height||50}px`,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",lineHeight:"1.3",whiteSpace:"pre-line"},children:[Dt.text,Dt.id==="center"&&jsxRuntimeExports.jsx(Badge,{className:"absolute -top-2 -right-2 bg-blue-500",children:""})]},Dt.id))}),ht.filter(Dt=>Dt.isVisible).length<=1&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-400 space-y-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-12 h-12 mx-auto opacity-30"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:""})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 justify-center text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-green-100 border-2 border-green-400 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-purple-100 border-2 border-purple-400 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-yellow-100 border-2 border-yellow-400 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:""})]})]})]})})})]})]})]})}function GamePage({pdfData:ee,onBack:te,onSwitchMode:ne,onAskTutor:xe}){const rt=()=>{console.log("Opening PDF:",ee.fileName),alert(`PDF: ${ee.fileName}`)},it=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-medium text-gray-900 mb-3",children:"PhET"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:""})]}),jsxRuntimeExports.jsxs(Card,{className:"shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{className:"text-center",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-center space-x-3 text-xl",children:[jsxRuntimeExports.jsx(Microscope,{className:"w-6 h-6 text-blue-600"}),jsxRuntimeExports.jsx("span",{children:""})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:""}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" "}),jsxRuntimeExports.jsx("li",{children:" "}),jsxRuntimeExports.jsx("li",{children:" "}),jsxRuntimeExports.jsx("li",{children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:""}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[jsxRuntimeExports.jsx("p",{children:"1. "}),jsxRuntimeExports.jsx("p",{children:"2. "}),jsxRuntimeExports.jsx("p",{children:"3. "})]})]})]}),jsxRuntimeExports.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden shadow-md",children:jsxRuntimeExports.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/gravity-force-lab-basics/latest/gravity-force-lab-basics_all.html?locale=zh_CN",width:"100%",height:"700",className:"w-full",title:"PhET",allowFullScreen:!0})})]})]})]});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:ee,currentMode:"game",onModeSelect:ne,onOpenPDF:rt,onBack:te}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:""}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:""})]}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto",children:jsxRuntimeExports.jsx(it,{})}),xe&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>xe("",""),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),""]})})]})})})]})}function VideoPage({pdfData:ee,onBack:te,onSwitchMode:ne,onAskTutor:xe}){const[rt,it]=reactExports.useState(!1),[lt,ct]=reactExports.useState(0),[ut,dt]=reactExports.useState(300),[ht,ft]=reactExports.useState(1),[pt,mt]=reactExports.useState(!1),[xt,yt]=reactExports.useState(1),[vt,Et]=reactExports.useState(0),_t=reactExports.useRef(null),[wt,St]=reactExports.useState(!0),[Ct,jt]=reactExports.useState(!1),Rt="By-ggTfeuJU",Pt=`https://www.youtube.com/embed/${Rt}?enablejsapi=1&origin=${window.location.origin}`,Ot=[{id:0,title:"",startTime:0,duration:180,description:"",completed:!0},{id:1,title:"",startTime:180,duration:240,description:"",completed:!1},{id:2,title:"",startTime:420,duration:200,description:"",completed:!1},{id:3,title:"",startTime:620,duration:120,description:"",completed:!1}],Ft=Gt=>{const It=Math.floor(Gt/60),qt=Math.floor(Gt%60);return`${It}:${qt.toString().padStart(2,"0")}`},Lt=Gt=>{Et(Gt),ct(Ot[Gt].startTime)},Bt=()=>{console.log("Opening PDF:",ee.fileName),alert(`PDF: ${ee.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:ee,currentMode:"video",onModeSelect:ne,onOpenPDF:Bt,onBack:te}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-background rounded-lg shadow-sm border border-border",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-foreground",children:""}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:wt,onChange:Gt=>St(Gt.target.checked),className:"w-4 h-4 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"ml-6 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-accent/10 text-accent-foreground px-2 py-1 rounded text-xs",children:"YouTube"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ct,onChange:Gt=>jt(Gt.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm mb-3 text-foreground",children:""}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Ot.map((Gt,It)=>jsxRuntimeExports.jsx("button",{onClick:()=>Lt(It),className:`w-full text-left p-2 rounded-lg border transition-all text-xs ${vt===It?"bg-primary/10 border-primary text-foreground":"hover:bg-muted border-border"}`,children:jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Gt.title}),Gt.completed&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 text-primary"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-muted-foreground",children:[jsxRuntimeExports.jsx(Clock,{className:"w-2 h-2"}),jsxRuntimeExports.jsx("span",{children:Ft(Gt.duration)})]})]})})},Gt.id))})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-foreground rounded-lg aspect-video overflow-hidden",children:jsxRuntimeExports.jsx("iframe",{ref:_t,src:Pt,title:" - ",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),jsxRuntimeExports.jsx("div",{className:"bg-muted rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Video,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:""})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-primary/10 text-primary",children:""})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>window.open(`https://youtu.be/${Rt}`,"_blank"),children:[jsxRuntimeExports.jsx(Maximize,{className:"w-4 h-4 mr-2"}),"YouTube"]})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-foreground mb-2",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground mb-4",children:["PDF",ee.fileName,""]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-primary/10 text-primary",children:""}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-primary/10 text-primary",children:""}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-secondary/10 text-secondary-foreground",children:""}),ee.interests.map((Gt,It)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:Gt},It))]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[jsxRuntimeExports.jsx("p",{children:" YouTube"}),jsxRuntimeExports.jsxs("p",{children:[" ",ee.grade]}),jsxRuntimeExports.jsx("p",{children:" 15-20"})]})]}),xe&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-primary text-primary hover:bg-primary/10",onClick:()=>xe("",""),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),""]})})]})]})]})})})]})}var SWITCH_NAME="Switch",[createSwitchContext]=createContextScope$2(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((ee,te)=>{const{__scopeSwitch:ne,name:xe,checked:rt,defaultChecked:it,required:lt,disabled:ct,value:ut="on",onCheckedChange:dt,form:ht,...ft}=ee,[pt,mt]=reactExports.useState(null),xt=useComposedRefs(te,wt=>mt(wt)),yt=reactExports.useRef(!1),vt=pt?ht||!!pt.closest("form"):!0,[Et,_t]=useControllableState({prop:rt,defaultProp:it??!1,onChange:dt,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:ne,checked:Et,disabled:ct,children:[jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"switch","aria-checked":Et,"aria-required":lt,"data-state":getState$3(Et),"data-disabled":ct?"":void 0,disabled:ct,value:ut,...ft,ref:xt,onClick:composeEventHandlers(ee.onClick,wt=>{_t(St=>!St),vt&&(yt.current=wt.isPropagationStopped(),yt.current||wt.stopPropagation())})}),vt&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:pt,bubbles:!yt.current,name:xe,value:ut,checked:Et,required:lt,disabled:ct,form:ht,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((ee,te)=>{const{__scopeSwitch:ne,...xe}=ee,rt=useSwitchContext(THUMB_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-state":getState$3(rt.checked),"data-disabled":rt.disabled?"":void 0,...xe,ref:te})});SwitchThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:ee,control:te,checked:ne,bubbles:xe=!0,...rt},it)=>{const lt=reactExports.useRef(null),ct=useComposedRefs(lt,it),ut=usePrevious(ne),dt=useSize(te);return reactExports.useEffect(()=>{const ht=lt.current;if(!ht)return;const ft=window.HTMLInputElement.prototype,mt=Object.getOwnPropertyDescriptor(ft,"checked").set;if(ut!==ne&&mt){const xt=new Event("click",{bubbles:xe});mt.call(ht,ne),ht.dispatchEvent(xt)}},[ut,ne,xe]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:ne,...rt,tabIndex:-1,ref:ct,style:{...rt.style,...dt,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME;function getState$3(ee){return ee?"checked":"unchecked"}var Root$2=Switch$1,Thumb=SwitchThumb;function Switch({className:ee,...te}){return jsxRuntimeExports.jsx(Root$2,{"data-slot":"switch",className:cn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",ee),...te,children:jsxRuntimeExports.jsx(Thumb,{"data-slot":"switch-thumb",className:cn("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function AccountInfoCard({userId:ee,roleLabel:te}){const[ne,xe]=reactExports.useState(!1),rt=()=>{navigator.clipboard.writeText(ee),xe(!0),setTimeout(()=>xe(!1),2e3)};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(IdCard,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsxs(CardDescription,{children:[te," ID "]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{value:ee,readOnly:!0,className:"font-mono text-sm"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:rt,title:"",children:ne?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-600"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})})]})}function ChangePasswordCard({onChangePassword:ee}){const[te,ne]=reactExports.useState(""),[xe,rt]=reactExports.useState(""),[it,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(""),[dt,ht]=reactExports.useState(!1),ft=async()=>{if(ut(""),ht(!1),te.length<6){ut(" 6 ");return}if(te!==xe){ut("");return}lt(!0);try{await ee(te),ht(!0),ne(""),rt(""),setTimeout(()=>ht(!1),3e3)}catch(pt){ut(pt.message||"")}finally{lt(!1)}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:""}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:" 6 ",value:te,onChange:pt=>ne(pt.target.value),autoComplete:"new-password"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:""}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"",value:xe,onChange:pt=>rt(pt.target.value),autoComplete:"new-password"})]}),ct&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:ct}),dt&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600",children:""}),jsxRuntimeExports.jsx(Button,{onClick:ft,disabled:it||!te||!xe,children:it?"":""})]})]})}const defaultNotifications={newCourseAssigned:!0,deadlineReminder:!1},interests=[{id:"basketball",name:"",icon:""},{id:"music",name:"",icon:""},{id:"art",name:"",icon:""},{id:"reading",name:"",icon:""},{id:"games",name:"",icon:""},{id:"photography",name:"",icon:""},{id:"science",name:"",icon:""},{id:"geography",name:"",icon:""},{id:"math",name:"",icon:""}],grades=[{id:"grade1",name:""},{id:"grade2",name:""},{id:"grade3",name:""},{id:"grade4",name:""},{id:"grade5",name:""},{id:"grade6",name:""},{id:"grade7",name:""},{id:"grade8",name:""},{id:"grade9",name:""},{id:"grade10",name:""},{id:"grade11",name:""},{id:"grade12",name:""}];function SettingsPage(){const{user:ee,preferences:te,updateProfilePreferences:ne,changePassword:xe}=useAuth(),[rt,it]=reactExports.useState(ee?.grade||""),[lt,ct]=reactExports.useState(ee?.interests||[]),[ut,dt]=reactExports.useState({newCourseAssigned:defaultNotifications.newCourseAssigned,deadlineReminder:defaultNotifications.deadlineReminder});reactExports.useEffect(()=>{dt({newCourseAssigned:te.notifications?.newCourseAssigned??defaultNotifications.newCourseAssigned,deadlineReminder:te.notifications?.deadlineReminder??defaultNotifications.deadlineReminder})},[te.notifications?.newCourseAssigned,te.notifications?.deadlineReminder]);const[ht,ft]=reactExports.useState(!1),[pt,mt]=reactExports.useState(!1),[xt,yt]=reactExports.useState(""),vt=Ct=>{ct(jt=>jt.includes(Ct)?jt.filter(Rt=>Rt!==Ct):[...jt,Ct])},Et=Ct=>{it(Ct)},_t=async()=>{if(ee){ft(!0),yt("");try{await ne({grade:rt,interests:lt,notifications:{...te.notifications,newCourseAssigned:ut.newCourseAssigned,deadlineReminder:ut.deadlineReminder}}),mt(!0),setTimeout(()=>mt(!1),3e3)}catch(Ct){yt(Ct.message||"")}finally{ft(!1)}}},wt=rt!==ee?.grade||JSON.stringify([...lt].sort())!==JSON.stringify([...ee?.interests||[]].sort())||ut.newCourseAssigned!==(te.notifications?.newCourseAssigned??defaultNotifications.newCourseAssigned)||ut.deadlineReminder!==(te.notifications?.deadlineReminder??defaultNotifications.deadlineReminder);if(!ee)return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-muted-foreground",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{children:""})]})});const St=ee.role==="student"?"":ee.role==="teacher"?"":"";return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted/30 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-8 h-8 text-primary"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),""]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:ee.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:ee.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:St})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Select,{value:rt,onValueChange:Et,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:""})}),jsxRuntimeExports.jsx(SelectContent,{children:grades.map(Ct=>jsxRuntimeExports.jsx(SelectItem,{value:Ct.id,children:Ct.name},Ct.id))})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:interests.map(Ct=>jsxRuntimeExports.jsx(Card,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${lt.includes(Ct.id)?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>vt(Ct.id),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-2",children:Ct.icon}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:Ct.name})]})},Ct.id))}),lt.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground mb-2 block",children:""}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:lt.map(Ct=>{const jt=interests.find(Rt=>Rt.id===Ct);return jt?jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[jt.icon," ",jt.name]},Ct):null})})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"/"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),jsxRuntimeExports.jsx(Switch,{checked:ut.newCourseAssigned,onCheckedChange:Ct=>dt(jt=>({...jt,newCourseAssigned:Ct}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),jsxRuntimeExports.jsx(Switch,{checked:ut.deadlineReminder,onCheckedChange:Ct=>dt(jt=>({...jt,deadlineReminder:Ct}))})]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[xt&&jsxRuntimeExports.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:xt})}),pt&&jsxRuntimeExports.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4 mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:""})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:wt?"":""}),jsxRuntimeExports.jsx(Button,{onClick:_t,disabled:!wt||ht||lt.length===0||!rt,children:ht?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4 mr-2"}),""]})})]})]})}),jsxRuntimeExports.jsx(AccountInfoCard,{userId:ee.id,roleLabel:St}),jsxRuntimeExports.jsx(ChangePasswordCard,{onChangePassword:xe})]})]})})}const GRADE_OPTIONS=["","","","","","","","","","","",""],defaultTeacherPreferences={defaultGrade:"",defaultSubject:"",notifications:{studentJoinedClass:!0,taskSubmission:!1}},OLD_GRADE_ID_TO_DISPLAY={grade1:"",grade2:"",grade3:"",grade4:"",grade5:"",grade6:"",grade7:"",grade8:"",grade9:"",grade10:"",grade11:"",grade12:""},PREF_SUBJECT_ID_TO_DISPLAY={math:"",chinese:"",english:"",physics:"",chemistry:"",biology:"",history:"",geography:"",other:""};function prefSubjectIdToDisplay(ee){return ee?PREF_SUBJECT_ID_TO_DISPLAY[ee]??"":""}function getTeacherPreferencesFromProfile(ee){if(!ee)return defaultTeacherPreferences;const te=ee.defaultGrade??defaultTeacherPreferences.defaultGrade;return{defaultGrade:te?OLD_GRADE_ID_TO_DISPLAY[te]??te:"",defaultSubject:ee.defaultSubject??defaultTeacherPreferences.defaultSubject,notifications:{studentJoinedClass:ee.notifications?.studentJoinedClass??defaultTeacherPreferences.notifications.studentJoinedClass,taskSubmission:ee.notifications?.taskSubmission??defaultTeacherPreferences.notifications.taskSubmission}}}const subjects=[{id:"math",name:""},{id:"chinese",name:""},{id:"english",name:""},{id:"physics",name:""},{id:"chemistry",name:""},{id:"biology",name:""},{id:"history",name:""},{id:"geography",name:""},{id:"other",name:""}];function TeacherSettingsPage(){const{user:ee,preferences:te,updateProfilePreferences:ne,changePassword:xe}=useAuth(),[rt,it]=reactExports.useState(defaultTeacherPreferences),[lt,ct]=reactExports.useState(defaultTeacherPreferences),[ut,dt]=reactExports.useState(!1),[ht,ft]=reactExports.useState(""),[pt,mt]=reactExports.useState(!1);reactExports.useEffect(()=>{const vt=getTeacherPreferencesFromProfile(te);it(vt),ct(vt)},[te.defaultGrade,te.defaultSubject,te.notifications?.studentJoinedClass,te.notifications?.taskSubmission]);const xt=async()=>{if(ee?.id){mt(!0),ft("");try{await ne({defaultGrade:rt.defaultGrade,defaultSubject:rt.defaultSubject,notifications:{...te.notifications,studentJoinedClass:rt.notifications.studentJoinedClass,taskSubmission:rt.notifications.taskSubmission}}),ct(rt),dt(!0),setTimeout(()=>dt(!1),3e3)}catch(vt){ft(vt.message||"")}finally{mt(!1)}}},yt=rt.defaultGrade!==lt.defaultGrade||rt.defaultSubject!==lt.defaultSubject||rt.notifications.studentJoinedClass!==lt.notifications.studentJoinedClass||rt.notifications.taskSubmission!==lt.notifications.taskSubmission;return ee?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted/30 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-8 h-8 text-primary"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:ee.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:ee.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:""})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:""}),jsxRuntimeExports.jsxs(Select,{value:rt.defaultGrade,onValueChange:vt=>it(Et=>({...Et,defaultGrade:vt})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:""})}),jsxRuntimeExports.jsx(SelectContent,{children:GRADE_OPTIONS.map(vt=>jsxRuntimeExports.jsx(SelectItem,{value:vt,children:vt},vt))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:""}),jsxRuntimeExports.jsxs(Select,{value:rt.defaultSubject,onValueChange:vt=>it(Et=>({...Et,defaultSubject:vt})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:""})}),jsxRuntimeExports.jsx(SelectContent,{children:subjects.map(vt=>jsxRuntimeExports.jsx(SelectItem,{value:vt.id,children:vt.name},vt.id))})]})]}),ht&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:ht}),ut&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600",children:""}),jsxRuntimeExports.jsx(Button,{onClick:xt,disabled:!yt||pt,children:pt?"":jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4 mr-2"}),""]})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),jsxRuntimeExports.jsx(Switch,{checked:rt.notifications.studentJoinedClass,onCheckedChange:vt=>it(Et=>({...Et,notifications:{...Et.notifications,studentJoinedClass:vt}}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),jsxRuntimeExports.jsx(Switch,{checked:rt.notifications.taskSubmission,onCheckedChange:vt=>it(Et=>({...Et,notifications:{...Et.notifications,taskSubmission:vt}}))})]}),jsxRuntimeExports.jsx(Button,{onClick:xt,disabled:!yt||pt,children:""})]})]}),jsxRuntimeExports.jsx(AccountInfoCard,{userId:ee.id,roleLabel:""}),jsxRuntimeExports.jsx(ChangePasswordCard,{onChangePassword:xe})]})]})}):jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-muted-foreground",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{children:""})]})})}const capybaraAvatar="/assets/94018c5955f97df26a866764d147f41da1b25ec2-CNF9J5hc.png";function AITutor({subject:ee="",context:te,onActionClick:ne,className:xe="",isFixedSidebar:rt=!1,onAskQuestion:it,tutorQuestionTrigger:lt}){const[ct,ut]=reactExports.useState(!1),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState([{id:"1",type:"tutor",content:"Capybara",timestamp:new Date}]),[mt,xt]=reactExports.useState(""),[yt,vt]=reactExports.useState(!1),Et=reactExports.useRef(null),_t=reactExports.useRef(null),wt=()=>{Et.current?.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{wt()},[ft]);const St=(Ft,Lt)=>{ct||ut(!0);const Bt={id:Date.now().toString(),type:"student",content:`"${Ft}"`,timestamp:new Date};pt(Gt=>[...Gt,Bt]),setTimeout(()=>{const Gt=jt(Ft);pt(It=>[...It,Gt])},1e3)};reactExports.useEffect(()=>{lt&&St(lt.selectedText,lt.context)},[lt]),reactExports.useEffect(()=>{const Ft=Bt=>{const{question:Gt,context:It}=Bt.detail,qt={id:Date.now().toString(),type:"student",content:Gt,timestamp:new Date};pt(Nt=>[...Nt,qt]),setTimeout(()=>{const Nt=Ct();pt(Dt=>[...Dt,Nt])},1e3)},Lt=Bt=>{const Gt={id:Date.now().toString(),type:"tutor",content:"",timestamp:new Date,buttons:[{label:"",action:"explain-again",variant:"default"},{label:"",action:"show-example",variant:"outline"}]};pt(It=>[...It,Gt]),ht(!0)};return window.addEventListener("askTutor",Ft),window.addEventListener("wrongAnswer",Lt),()=>{window.removeEventListener("askTutor",Ft),window.removeEventListener("wrongAnswer",Lt)}},[]),reactExports.useEffect(()=>{!ct&&ft.length>1&&ft[ft.length-1].type==="tutor"&&ht(!0)},[ft,ct]),reactExports.useEffect(()=>{ct&&ht(!1)},[ct]);const Ct=Ft=>{const Lt=[{content:"",buttons:[{label:"",action:"show-example",variant:"default"},{label:"",action:"retry",variant:"outline"}]},{content:"",buttons:[{label:"",action:"change-method",variant:"default"},{label:"",action:"show-hint",variant:"outline"}]},{content:"",buttons:[{label:"",action:"next-step",variant:"default"}]}],Bt=Lt[Math.floor(Math.random()*Lt.length)];return{id:Date.now().toString(),type:"tutor",content:Bt.content,timestamp:new Date,buttons:Bt.buttons}},jt=(Ft,Lt)=>{const Bt={:{content:"",buttons:[{label:"",action:"show-example",variant:"default"},{label:"",action:"think-more",variant:"outline"}]},:{content:"",buttons:[{label:"",action:"explain-reaction",variant:"default"},{label:"",action:"show-animation",variant:"outline"}]},:{content:"",buttons:[{label:"",action:"why-not-feel",variant:"default"},{label:"",action:"do-experiment",variant:"outline"}]},:{content:"",buttons:[{label:"",action:"why-move",variant:"default"},{label:"",action:"more-examples",variant:"outline"}]}};let Gt=null;for(const It in Bt)if(Ft.includes(It)){Gt=Bt[It];break}return Gt||(Gt={content:`"${Ft}"`,buttons:[{label:"",action:"explain-detail",variant:"default"},{label:"",action:"show-example",variant:"outline"}]}),{id:Date.now().toString(),type:"tutor",content:Gt.content,timestamp:new Date,buttons:Gt.buttons}},Rt=()=>{if(!mt.trim())return;const Ft={id:Date.now().toString(),type:"student",content:mt,timestamp:new Date};pt(Lt=>[...Lt,Ft]),xt(""),setTimeout(()=>{const Lt=Ct();pt(Bt=>[...Bt,Lt])},1e3)},Pt=Ft=>{Ft.key==="Enter"&&!Ft.shiftKey&&(Ft.preventDefault(),Rt())},Ot=Ft=>{ne&&ne(Ft);const Lt={id:Date.now().toString(),type:"tutor",content:`${Ft==="show-example"?"":Ft==="retry"?"":Ft==="change-method"?"":Ft==="show-hint"?"":""}`,timestamp:new Date};pt(Bt=>[...Bt,Lt])};return rt&&(ct||ut(!0)),!ct&&!rt?jsxRuntimeExports.jsx("div",{className:`fixed top-4 right-4 z-50 ${xe}`,children:jsxRuntimeExports.jsxs(Button,{onClick:()=>ut(!0),className:"relative w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg border-0 p-0 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:capybaraAvatar,alt:"Capybara",className:"w-12 h-12 object-contain"}),dt&&jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse",children:jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1 left-1"})})]})}):jsxRuntimeExports.jsxs("div",{className:`${rt?"h-full w-full":"fixed inset-y-0 right-0 w-[30%] min-w-[400px] z-40"} ${xe}`,children:[!rt&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20 -left-[70%]",onClick:()=>ut(!1)}),jsxRuntimeExports.jsxs(Card,{className:`h-full ${rt?"rounded-none":"rounded-none rounded-l-2xl"} shadow-2xl bg-gradient-to-br from-blue-50 via-orange-50 to-blue-50 border-0 flex flex-col`,children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-blue-200/50 bg-white/60 backdrop-blur-sm ${rt?"rounded-none":"rounded-tl-2xl"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center p-1",children:jsxRuntimeExports.jsx("img",{src:capybaraAvatar,alt:"Capybara",className:"w-8 h-8 object-contain"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"Capybara"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[ee,""]})]})]}),!rt&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>ut(!1),className:"hover:bg-white/60",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[ft.map(Ft=>jsxRuntimeExports.jsx("div",{className:`flex ${Ft.type==="student"?"justify-start":"justify-end"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] ${Ft.type==="student"?"order-2":"order-1"}`,children:[jsxRuntimeExports.jsx("div",{className:`px-4 py-3 rounded-2xl ${Ft.type==="student"?"bg-blue-500 text-white rounded-bl-sm":"bg-white/80 text-gray-900 rounded-br-sm shadow-sm"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed",children:Ft.content})}),Ft.type==="tutor"&&Ft.buttons&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Ft.buttons.map((Lt,Bt)=>jsxRuntimeExports.jsxs(Button,{size:"sm",variant:Lt.variant||"default",onClick:()=>Ot(Lt.action),className:`text-xs ${Lt.variant==="outline"?"border-blue-300 text-blue-700 hover:bg-blue-50":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[Lt.label,jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3 ml-1"})]},Bt))}),Ft.type==="tutor"&&jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center mt-2 order-1 mr-3 p-1",children:jsxRuntimeExports.jsx("img",{src:capybaraAvatar,alt:"Capybara",className:"w-6 h-6 object-contain"})})]})},Ft.id)),jsxRuntimeExports.jsx("div",{ref:Et})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-blue-200/50 bg-white/60 backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 relative",children:jsxRuntimeExports.jsx("input",{ref:_t,type:"text",value:mt,onChange:Ft=>xt(Ft.target.value),onKeyPress:Pt,placeholder:"...",className:"w-full px-4 py-3 bg-white/80 rounded-2xl border border-blue-200/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent text-sm"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>vt(!yt),className:`w-10 h-10 rounded-full ${yt?"bg-red-500 text-white hover:bg-red-600":"hover:bg-white/60"}`,children:jsxRuntimeExports.jsx(Mic,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{onClick:Rt,disabled:!mt.trim(),className:"w-10 h-10 rounded-full bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"  Enter"})]})]})]})}function TeacherOverview(){const{user:ee}=useAuth(),[te,ne]=reactExports.useState(null),[xe,rt]=reactExports.useState([]),[it,lt]=reactExports.useState(!0);reactExports.useEffect(()=>{if(!ee?.id||ee.role!=="teacher"){lt(!1);return}Promise.all([getTeacherStats(ee.id),listTeacherCoursesWithStats(ee.id)]).then(([dt,ht])=>{ne(dt);const ft=ht.courses.filter(pt=>pt.assignmentStatus==="assigned"||pt.status==="published").sort((pt,mt)=>mt.students-pt.students).slice(0,4).map(pt=>({name:pt.title,students:pt.students,completion:pt.completion}));rt(ft)}).catch(dt=>console.error("[TeacherOverview] Failed to load:",dt)).finally(()=>lt(!1))},[ee?.id,ee?.role]);const ct=te?[{title:"",value:String(te.assignedCount??te.publishedCount),icon:BookOpen,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"",value:String(te.totalStudents),icon:Users,color:"text-green-600",bgColor:"bg-green-50"},{title:"",value:String(te.totalCourses),icon:FileText,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"",value:`${te.avgCompletion}%`,icon:TrendingUp,color:"text-orange-600",bgColor:"bg-orange-50"}]:[{title:"",value:"",icon:BookOpen,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"",value:"",icon:Users,color:"text-green-600",bgColor:"bg-green-50"},{title:"",value:"",icon:FileText,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"",value:"",icon:TrendingUp,color:"text-orange-600",bgColor:"bg-orange-50"}],ut=[{action:"",course:" - ",time:"2"},{action:"",course:" - ",time:"4"},{action:"",course:"PDF: ",time:""},{action:"",course:"3",time:"2"}];return jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:""})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ct.map(dt=>{const ht=dt.icon;return jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:dt.title}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold mt-2",children:it?"":dt.value})]}),jsxRuntimeExports.jsx("div",{className:`w-12 h-12 ${dt.bgColor} rounded-lg flex items-center justify-center`,children:jsxRuntimeExports.jsx(ht,{className:`w-6 h-6 ${dt.color}`})})]})})},dt.title)})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 mr-2"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:ut.map((dt,ht)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 pb-4 border-b last:border-0",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:dt.action}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:dt.course}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:dt.time})]})]},ht))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Award,{className:"w-5 h-5 mr-2"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:(xe.length>0?xe:[{name:"",students:0,completion:0}]).map((dt,ht)=>jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:dt.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[dt.students,""]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${dt.completion}%`}})}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium",children:[dt.completion,"%"]})]})]},ht))})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs(Button,{className:"h-auto py-4 flex-col space-y-2",variant:"outline",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs(Button,{className:"h-auto py-4 flex-col space-y-2",variant:"outline",children:[jsxRuntimeExports.jsx(Users,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs(Button,{className:"h-auto py-4 flex-col space-y-2",variant:"outline",children:[jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{children:""})]})]})})]})]})}function Textarea({className:ee,...te}){return jsxRuntimeExports.jsx("textarea",{"data-slot":"textarea",className:cn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",ee),...te})}const alertVariants=cva("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Alert({className:ee,variant:te,...ne}){return jsxRuntimeExports.jsx("div",{"data-slot":"alert",role:"alert",className:cn(alertVariants({variant:te}),ee),...ne})}function AlertTitle({className:ee,...te}){return jsxRuntimeExports.jsx("div",{"data-slot":"alert-title",className:cn("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",ee),...te})}function AlertDescription({className:ee,...te}){return jsxRuntimeExports.jsx("div",{"data-slot":"alert-description",className:cn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",ee),...te})}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope$2(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((ee,te)=>{const{__scopeCollapsible:ne,open:xe,defaultOpen:rt,disabled:it,onOpenChange:lt,...ct}=ee,[ut,dt]=useControllableState({prop:xe,defaultProp:rt??!1,onChange:lt,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:ne,disabled:it,contentId:useId(),open:ut,onOpenToggle:reactExports.useCallback(()=>dt(ht=>!ht),[dt]),children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$2(ut),"data-disabled":it?"":void 0,...ct,ref:te})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$2="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((ee,te)=>{const{__scopeCollapsible:ne,...xe}=ee,rt=useCollapsibleContext(TRIGGER_NAME$2,ne);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-controls":rt.contentId,"aria-expanded":rt.open||!1,"data-state":getState$2(rt.open),"data-disabled":rt.disabled?"":void 0,disabled:rt.disabled,...xe,ref:te,onClick:composeEventHandlers(ee.onClick,rt.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$2;var CONTENT_NAME$2="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((ee,te)=>{const{forceMount:ne,...xe}=ee,rt=useCollapsibleContext(CONTENT_NAME$2,ee.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:ne||rt.open,children:({present:it})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...xe,ref:te,present:it})})});CollapsibleContent.displayName=CONTENT_NAME$2;var CollapsibleContentImpl=reactExports.forwardRef((ee,te)=>{const{__scopeCollapsible:ne,present:xe,children:rt,...it}=ee,lt=useCollapsibleContext(CONTENT_NAME$2,ne),[ct,ut]=reactExports.useState(xe),dt=reactExports.useRef(null),ht=useComposedRefs(te,dt),ft=reactExports.useRef(0),pt=ft.current,mt=reactExports.useRef(0),xt=mt.current,yt=lt.open||ct,vt=reactExports.useRef(yt),Et=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const _t=requestAnimationFrame(()=>vt.current=!1);return()=>cancelAnimationFrame(_t)},[]),useLayoutEffect2(()=>{const _t=dt.current;if(_t){Et.current=Et.current||{transitionDuration:_t.style.transitionDuration,animationName:_t.style.animationName},_t.style.transitionDuration="0s",_t.style.animationName="none";const wt=_t.getBoundingClientRect();ft.current=wt.height,mt.current=wt.width,vt.current||(_t.style.transitionDuration=Et.current.transitionDuration,_t.style.animationName=Et.current.animationName),ut(xe)}},[lt.open,xe]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$2(lt.open),"data-disabled":lt.disabled?"":void 0,id:lt.contentId,hidden:!yt,...it,ref:ht,style:{"--radix-collapsible-content-height":pt?`${pt}px`:void 0,"--radix-collapsible-content-width":xt?`${xt}px`:void 0,...ee.style},children:yt&&rt})});function getState$2(ee){return ee?"open":"closed"}var Root$1=Collapsible,Trigger=CollapsibleTrigger,Content$1=CollapsibleContent,ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection,useCollection,createCollectionScope]=createCollection(ACCORDION_NAME),[createAccordionContext]=createContextScope$2(ACCORDION_NAME,[createCollectionScope,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion$1=React.forwardRef((ee,te)=>{const{type:ne,...xe}=ee,rt=xe,it=xe;return jsxRuntimeExports.jsx(Collection.Provider,{scope:ee.__scopeAccordion,children:ne==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{...it,ref:te}):jsxRuntimeExports.jsx(AccordionImplSingle,{...rt,ref:te})})});Accordion$1.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React.forwardRef((ee,te)=>{const{value:ne,defaultValue:xe,onValueChange:rt=()=>{},collapsible:it=!1,...lt}=ee,[ct,ut]=useControllableState({prop:ne,defaultProp:xe??"",onChange:rt,caller:ACCORDION_NAME});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:ee.__scopeAccordion,value:React.useMemo(()=>ct?[ct]:[],[ct]),onItemOpen:ut,onItemClose:React.useCallback(()=>it&&ut(""),[it,ut]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:ee.__scopeAccordion,collapsible:it,children:jsxRuntimeExports.jsx(AccordionImpl,{...lt,ref:te})})})}),AccordionImplMultiple=React.forwardRef((ee,te)=>{const{value:ne,defaultValue:xe,onValueChange:rt=()=>{},...it}=ee,[lt,ct]=useControllableState({prop:ne,defaultProp:xe??[],onChange:rt,caller:ACCORDION_NAME}),ut=React.useCallback(ht=>ct((ft=[])=>[...ft,ht]),[ct]),dt=React.useCallback(ht=>ct((ft=[])=>ft.filter(pt=>pt!==ht)),[ct]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:ee.__scopeAccordion,value:lt,onItemOpen:ut,onItemClose:dt,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:ee.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{...it,ref:te})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React.forwardRef((ee,te)=>{const{__scopeAccordion:ne,disabled:xe,dir:rt,orientation:it="vertical",...lt}=ee,ct=React.useRef(null),ut=useComposedRefs(ct,te),dt=useCollection(ne),ft=useDirection(rt)==="ltr",pt=composeEventHandlers(ee.onKeyDown,mt=>{if(!ACCORDION_KEYS.includes(mt.key))return;const xt=mt.target,yt=dt().filter(Pt=>!Pt.ref.current?.disabled),vt=yt.findIndex(Pt=>Pt.ref.current===xt),Et=yt.length;if(vt===-1)return;mt.preventDefault();let _t=vt;const wt=0,St=Et-1,Ct=()=>{_t=vt+1,_t>St&&(_t=wt)},jt=()=>{_t=vt-1,_t<wt&&(_t=St)};switch(mt.key){case"Home":_t=wt;break;case"End":_t=St;break;case"ArrowRight":it==="horizontal"&&(ft?Ct():jt());break;case"ArrowDown":it==="vertical"&&Ct();break;case"ArrowLeft":it==="horizontal"&&(ft?jt():Ct());break;case"ArrowUp":it==="vertical"&&jt();break}const Rt=_t%Et;yt[Rt].ref.current?.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:ne,disabled:xe,direction:rt,orientation:it,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:ne,children:jsxRuntimeExports.jsx(Primitive$2.div,{...lt,"data-orientation":it,ref:ut,onKeyDown:xe?void 0:pt})})})}),ITEM_NAME="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME),AccordionItem$1=React.forwardRef((ee,te)=>{const{__scopeAccordion:ne,value:xe,...rt}=ee,it=useAccordionContext(ITEM_NAME,ne),lt=useAccordionValueContext(ITEM_NAME,ne),ct=useCollapsibleScope(ne),ut=useId(),dt=xe&&lt.value.includes(xe)||!1,ht=it.disabled||ee.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:ne,open:dt,disabled:ht,triggerId:ut,children:jsxRuntimeExports.jsx(Root$1,{"data-orientation":it.orientation,"data-state":getState$1(dt),...ct,...rt,ref:te,disabled:ht,open:dt,onOpenChange:ft=>{ft?lt.onItemOpen(xe):lt.onItemClose(xe)}})})});AccordionItem$1.displayName=ITEM_NAME;var HEADER_NAME="AccordionHeader",AccordionHeader=React.forwardRef((ee,te)=>{const{__scopeAccordion:ne,...xe}=ee,rt=useAccordionContext(ACCORDION_NAME,ne),it=useAccordionItemContext(HEADER_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.h3,{"data-orientation":rt.orientation,"data-state":getState$1(it.open),"data-disabled":it.disabled?"":void 0,...xe,ref:te})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME$1="AccordionTrigger",AccordionTrigger$1=React.forwardRef((ee,te)=>{const{__scopeAccordion:ne,...xe}=ee,rt=useAccordionContext(ACCORDION_NAME,ne),it=useAccordionItemContext(TRIGGER_NAME$1,ne),lt=useAccordionCollapsibleContext(TRIGGER_NAME$1,ne),ct=useCollapsibleScope(ne);return jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:ne,children:jsxRuntimeExports.jsx(Trigger,{"aria-disabled":it.open&&!lt.collapsible||void 0,"data-orientation":rt.orientation,id:it.triggerId,...ct,...xe,ref:te})})});AccordionTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="AccordionContent",AccordionContent$1=React.forwardRef((ee,te)=>{const{__scopeAccordion:ne,...xe}=ee,rt=useAccordionContext(ACCORDION_NAME,ne),it=useAccordionItemContext(CONTENT_NAME$1,ne),lt=useCollapsibleScope(ne);return jsxRuntimeExports.jsx(Content$1,{role:"region","aria-labelledby":it.triggerId,"data-orientation":rt.orientation,...lt,...xe,ref:te,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...ee.style}})});AccordionContent$1.displayName=CONTENT_NAME$1;function getState$1(ee){return ee?"open":"closed"}var Root2=Accordion$1,Item=AccordionItem$1,Header=AccordionHeader,Trigger2=AccordionTrigger$1,Content2=AccordionContent$1;function Accordion({...ee}){return jsxRuntimeExports.jsx(Root2,{"data-slot":"accordion",...ee})}function AccordionItem({className:ee,...te}){return jsxRuntimeExports.jsx(Item,{"data-slot":"accordion-item",className:cn("border-b last:border-b-0",ee),...te})}function AccordionTrigger({className:ee,children:te,...ne}){return jsxRuntimeExports.jsx(Header,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{"data-slot":"accordion-trigger",className:cn("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",ee),...ne,children:[te,jsxRuntimeExports.jsx(ChevronDown,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function AccordionContent({className:ee,children:te,...ne}){return jsxRuntimeExports.jsx(Content2,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...ne,children:jsxRuntimeExports.jsx("div",{className:cn("pt-0 pb-4",ee),children:te})})}async function saveCourseMetaToSupabase({publicId:ee,teacherId:te,subject:ne,grade:xe,topic:rt,textbook:it}){const lt=ne.trim(),ct=xe.trim(),ut=rt.trim(),dt=it?.trim()||null;if(!ee||!te){console.warn("[coursesRepository] Missing publicId or teacherId, skip saving meta.");return}const{error:ht}=await supabase.from("course_plans").update({teacher_id:te,subject:lt||null,grade:ct||null,topic:ut||null,textbook:dt,updated_at:new Date().toISOString()}).eq("public_id",ee);if(ht)throw console.error("[coursesRepository] Failed to save course meta to Supabase:",ht),new Error(ht.message||" Supabase ")}const AI_COURSE_SUBJECTS=["","","","","","","",""];function AICourseDesignPage({onNextStep:ee}){const{user:te,preferences:ne}=useAuth(),{addPublishedCourse:xe}=usePublishedCourses(),[rt,it]=reactExports.useState("form"),[lt,ct]=reactExports.useState(""),[ut,dt]=reactExports.useState(""),[ht,ft]=reactExports.useState(""),[pt,mt]=reactExports.useState(""),[xt,yt]=reactExports.useState(""),[vt,Et]=reactExports.useState(null),[_t,wt]=reactExports.useState(null),[St,Ct]=reactExports.useState(null),[jt,Rt]=reactExports.useState(null),[Pt,Ot]=reactExports.useState(null),[Ft,Lt]=reactExports.useState(null),[Bt,Gt]=reactExports.useState(!1),[It,qt]=reactExports.useState(null),Nt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(Nt.current)return;Nt.current=!0;const $t=getTeacherPreferencesFromProfile(ne);if($t.defaultGrade&&GRADE_OPTIONS.some(Ht=>Ht===$t.defaultGrade)&&dt($t.defaultGrade),$t.defaultSubject){const Ht=prefSubjectIdToDisplay($t.defaultSubject);Ht&&AI_COURSE_SUBJECTS.includes(Ht)&&ct(Ht)}},[ne?.defaultGrade,ne?.defaultSubject]);const Dt=async()=>{if(!lt.trim()||!ut.trim()||!ht.trim()){Ot("");return}it("generating"),Ot(null),Et(null),wt(null),Ct(null);const $t="zh",Ht=pt.trim()||"",Wt=xt.trim();try{Rt("curriculum");const Vt=await generateCurriculumDesign(lt.trim(),ut.trim(),ht.trim(),Ht,Wt,$t);Et(Vt),Rt("documents");const Yt=await generateTaskDocuments(lt.trim(),ht.trim(),Vt,Wt);wt(Yt),Rt("tasks");const Qt=await generateSystemTaskPlan(Yt.studentTaskSheet,lt.trim(),ut.trim(),Wt);Ct(Qt),Rt(null),it("preview")}catch(Vt){const Yt=Vt instanceof Error?Vt.message:String(Vt);Ot(Yt),Rt(null)}},Tt=async()=>{Ot(null),Rt("curriculum");const $t="zh",Ht=pt.trim()||"",Wt=xt.trim();try{const Vt=await generateCurriculumDesign(lt.trim(),ut.trim(),ht.trim(),Ht,Wt,$t);Et(Vt),Rt("documents");const Yt=await generateTaskDocuments(lt.trim(),ht.trim(),Vt,Wt);wt(Yt),Rt("tasks");const Qt=await generateSystemTaskPlan(Yt.studentTaskSheet,lt.trim(),ut.trim(),Wt);Ct(Qt),Rt(null),it("preview")}catch(Vt){Ot(Vt instanceof Error?Vt.message:String(Vt)),Rt(null)}},Mt=async()=>{if(St){Gt(!0),qt(null);try{const $t=await createCourse(St,te?.id);if(te&&te.role==="teacher"){try{await saveCourseMetaToSupabase({publicId:$t.courseId,teacherId:te.id,subject:lt,grade:ut,topic:ht,textbook:pt})}catch(Ht){console.error("Failed to save course meta to Supabase:",Ht)}xe({subject:lt,grade:ut,topic:ht,textbook:pt,hours:"1",status:"published",assignmentStatus:"unassigned",visibilityStatus:"private",shareStatus:"none",students:0,completion:0,lastUpdated:""})}Lt($t),it("created"),ee?.({plan:St,courseId:$t.courseId,courseUrl:$t.url})}catch($t){qt($t instanceof Error?$t.message:String($t))}finally{Gt(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-6xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI "}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:" AI "})]}),rt==="form"&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Layers,{className:"w-5 h-5 text-cyan-600"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"1. "})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"subject",children:""}),jsxRuntimeExports.jsx(Input,{id:"subject",placeholder:"",value:lt,onChange:$t=>ct($t.target.value),className:"h-12"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"grade",children:""}),jsxRuntimeExports.jsxs("select",{id:"grade",value:ut,onChange:$t=>dt($t.target.value),className:"w-full h-12 px-3 py-2 border border-input rounded-md bg-input-background",children:[jsxRuntimeExports.jsx("option",{value:"",children:""}),GRADE_OPTIONS.map($t=>jsxRuntimeExports.jsx("option",{value:$t,children:$t},$t))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"topic",children:""}),jsxRuntimeExports.jsx(Input,{id:"topic",placeholder:"",value:ht,onChange:$t=>ft($t.target.value),className:"h-12"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"textbook",children:""}),jsxRuntimeExports.jsx(Input,{id:"textbook",placeholder:"",value:pt,onChange:$t=>mt($t.target.value),className:"h-12"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"context",children:""}),jsxRuntimeExports.jsx(Textarea,{id:"context",placeholder:"",value:xt,onChange:$t=>yt($t.target.value),rows:3})]}),jsxRuntimeExports.jsxs(Button,{onClick:Dt,className:"w-full h-12 bg-cyan-600 hover:bg-cyan-700 text-white",children:[jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 mr-2"}),""]})]})]}),rt==="generating"&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"2. "})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Progress,{value:jt==="curriculum"?33:jt==="documents"?66:jt==="tasks"?90:100,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[jt==="curriculum"&&"",jt==="documents"&&"",jt==="tasks"&&"",!jt&&""]})]}),Pt&&jsxRuntimeExports.jsxs(Alert,{variant:"destructive",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertTitle,{children:""}),jsxRuntimeExports.jsx(AlertDescription,{children:Pt}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>it("form"),children:""}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:Tt,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-1"}),""]})]})]}),vt&&jsxRuntimeExports.jsx(Accordion,{type:"single",collapsible:!0,defaultValue:"curriculum",children:jsxRuntimeExports.jsxs(AccordionItem,{value:"curriculum",children:[jsxRuntimeExports.jsx(AccordionTrigger,{children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 text-green-600"}),""]})}),jsxRuntimeExports.jsxs(AccordionContent,{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["",vt.bigConcept]}),jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:vt.logicChain})]})]})}),_t&&jsxRuntimeExports.jsx(Accordion,{type:"single",collapsible:!0,defaultValue:"documents",children:jsxRuntimeExports.jsxs(AccordionItem,{value:"documents",children:[jsxRuntimeExports.jsx(AccordionTrigger,{children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 text-green-600"}),""]})}),jsxRuntimeExports.jsxs(AccordionContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" 500 "}),jsxRuntimeExports.jsxs("p",{className:"text-sm whitespace-pre-wrap max-h-48 overflow-y-auto",children:[_t.studentTaskSheet.slice(0,500),_t.studentTaskSheet.length>500&&""]})]})]})}),jt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:""})]})]})]}),rt==="preview"&&St&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"3. "}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",St.tasks.length," "]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:St.tasks.map(($t,Ht)=>jsxRuntimeExports.jsxs("li",{children:[Ht+1,". ",$t.title]},$t.id))}),It&&jsxRuntimeExports.jsx(Alert,{variant:"destructive",children:jsxRuntimeExports.jsx(AlertDescription,{children:It})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{onClick:Mt,disabled:Bt,className:"bg-cyan-600 hover:bg-cyan-700",children:Bt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),""]}):""}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{it("form"),Et(null),wt(null),Ct(null)},children:""})]})]})]}),rt==="created"&&Ft&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5 text-green-600"}),""]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("a",{href:Ft.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 hover:underline break-all",children:Ft.url}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:Ft.url,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-1"}),""]})})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{it("form"),Et(null),wt(null),Ct(null),Lt(null)},children:""})]})]})]})}function CoreDesignPage({courseData:ee,onBack:te,onComplete:ne}){const[xe,rt]=reactExports.useState('()3 ->  ->  ->  -> "" -> '),[it,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(["","?","?"]),[dt,ht]=reactExports.useState([{level:"RETRIEVAL",description:""},{level:"COMPREHENSION",description:""},{level:"ANALYSIS",description:'""""'},{level:"UTILIZATION",description:""}]),[ft,pt]=reactExports.useState(""),[mt,xt]=reactExports.useState("Module C"),yt=()=>{ft.trim()&&(ut([...ct,ft]),pt(""))},vt=()=>{ht([...dt,{level:"RETRIEVAL",description:""}])},Et=(wt,St,Ct)=>{const jt=[...dt];jt[wt][St]=Ct,ht(jt)},_t=()=>{ne?ne({logicChain:xe,bigConcept:it,essentialQuestions:ct,learningGoals:dt}):alert("")};return jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-6xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-primary rounded-full -ml-1.5"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-primary rounded-full -ml-1.5"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-muted rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-muted rounded-full -ml-1.5"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-muted rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-muted rounded-full -ml-1.5"})]})]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg",children:["2.  ",jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"()"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:""}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-accent/10 text-accent-foreground border-accent/30",children:mt})]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-primary",children:" (Logic Chain)"}),jsxRuntimeExports.jsx(Textarea,{value:xe,onChange:wt=>rt(wt.target.value),className:"min-h-[80px] bg-accent/5 border-accent/20",placeholder:"..."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-primary",children:" (BIG CONCEPT)"}),jsxRuntimeExports.jsx(Textarea,{value:it,onChange:wt=>lt(wt.target.value),className:"min-h-[80px] bg-primary/5 border-primary/20",placeholder:"..."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-foreground",children:" (ESSENTIAL QUESTIONS)"}),ct.map((wt,St)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground mt-2",children:[St+1,"."]}),jsxRuntimeExports.jsx(Input,{value:wt,onChange:Ct=>{const jt=[...ct];jt[St]=Ct.target.value,ut(jt)},className:"flex-1"})]},St)),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:ft,onChange:wt=>pt(wt.target.value),placeholder:"...",className:"flex-1",onKeyPress:wt=>{wt.key==="Enter"&&yt()}}),jsxRuntimeExports.jsxs(Button,{onClick:yt,variant:"ghost",size:"sm",className:"text-primary",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-1"}),""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-foreground",children:" (MARZANO)"}),dt.map((wt,St)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 border border-border rounded-lg",children:[jsxRuntimeExports.jsxs("select",{value:wt.level,onChange:Ct=>Et(St,"level",Ct.target.value),className:"px-3 py-2 border border-input rounded-md text-sm focus:outline-none focus:ring-ring focus:border-ring bg-input-background",children:[jsxRuntimeExports.jsx("option",{value:"RETRIEVAL",children:"RETRIEVAL"}),jsxRuntimeExports.jsx("option",{value:"COMPREHENSION",children:"COMPREHENSION"}),jsxRuntimeExports.jsx("option",{value:"ANALYSIS",children:"ANALYSIS"}),jsxRuntimeExports.jsx("option",{value:"UTILIZATION",children:"UTILIZATION"})]}),jsxRuntimeExports.jsx(Textarea,{value:wt.description,onChange:Ct=>Et(St,"description",Ct.target.value),className:"flex-1 min-h-[60px]",placeholder:"..."})]},St)),jsxRuntimeExports.jsxs(Button,{onClick:vt,variant:"ghost",size:"sm",className:"text-primary",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-1"}),""]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Button,{onClick:te,variant:"outline",size:"lg",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:_t,size:"lg",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 mr-2"})," & "]})]})]})}function TeachingDocumentPage({courseData:ee,designData:te,onBack:ne,onNext:xe}){const[rt,it]=reactExports.useState("student");return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-muted",children:[jsxRuntimeExports.jsx("div",{className:"bg-background border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-8 py-6",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-center text-foreground",children:" (v0.5)"})})}),jsxRuntimeExports.jsx("div",{className:"bg-background border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-8 py-4",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-muted rounded-full"})]})})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[jsxRuntimeExports.jsxs(Card,{className:"shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg",children:["3.  ",jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"()"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(PenLine,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"})," PDF"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"})," PDF"]})]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 border-b mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>it("student"),className:`pb-3 px-4 font-medium transition-colors ${rt==="student"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:""}),jsxRuntimeExports.jsx("button",{onClick:()=>it("teacher"),className:`pb-3 px-4 font-medium transition-colors ${rt==="teacher"?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-muted rounded-lg p-6 max-h-[600px] overflow-y-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-center mb-6 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:" "}),""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:" "}),"        "]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:" "}),"/ () "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:""}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-4 rounded border border-border space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 font-medium border-b pb-2",children:[jsxRuntimeExports.jsx("div",{children:""}),jsxRuntimeExports.jsx("div",{className:"text-center",children:" (1~5)"}),jsxRuntimeExports.jsx("div",{children:"/"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 py-2 border-b",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"LG1:"})," "]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:""}),jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 py-2 border-b",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-primary",children:"LG2:"})," "]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:""}),jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 py-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-primary",children:"LG3:"}),' """"""']}),jsxRuntimeExports.jsx("div",{className:"text-center",children:""}),jsxRuntimeExports.jsx("div",{})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-background p-4 rounded border border-border",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-primary mb-2",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:'""""'})]}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-4 rounded border border-border",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-primary mb-2",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"..."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted rounded-lg p-6 max-h-[600px] overflow-y-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-center mb-6 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:" "}),"1  (45~50)"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:" "}),""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:" "}),"      "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:" "}),"/"]}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("span",{className:"font-medium",children:" "})}),jsxRuntimeExports.jsxs("p",{className:"pl-4",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:" "}),'""']}),jsxRuntimeExports.jsxs("p",{className:"pl-4",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:" "}),'+"""']}),jsxRuntimeExports.jsxs("p",{className:"pl-4",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:" "}),""]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:""}),jsxRuntimeExports.jsx("div",{className:"bg-background p-4 rounded border border-border text-sm text-muted-foreground",children:jsxRuntimeExports.jsxs("p",{className:"mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:""}),"  ( vs )        "]})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"bg-accent/10 border-l-4 border-accent p-3 rounded",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:"   "}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:'""""'})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary/10 border-l-4 border-primary p-3 rounded",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:'""...'})]})]})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-6",children:[jsxRuntimeExports.jsxs(Button,{onClick:ne,variant:"outline",size:"lg",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:xe,size:"lg",className:"px-8",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 mr-2"})," & "]})]})]})]})}function getLearnYourWayOrigin(){return typeof window<"u"?window.location.origin:""}function TaskConfigurationPage({courseData:ee,designData:te,documentData:ne,courseId:xe,onBack:rt,onPublish:it}){const{addPublishedCourse:lt}=usePublishedCourses(),ct=xe?`${getLearnYourWayOrigin()}/course/${xe}`:"",[ut,dt]=reactExports.useState([{id:1,title:"",description:"",status:"PENDING",materialType:"AI  (GALLERY)",materialColor:"purple"},{id:2,title:"",description:"",status:"PENDING",materialType:" (TABLE)",materialColor:"orange"},{id:3,title:"",description:"+",status:"PENDING",materialType:" (EXPERIMENT)",materialColor:"blue"},{id:4,title:"",description:"100",status:"COMPLETED",materialType:" (TEXT EDITOR)",materialColor:"green"},{id:5,title:"",description:"",status:"PENDING",materialType:" (MINDMAP)",materialColor:"pink"}]),[ht,ft]=reactExports.useState(!1),pt=vt=>{dt(ut.map(Et=>Et.id===vt?{...Et,expanded:!Et.expanded}:Et))},mt=()=>{ee&&lt({subject:ee.subject||"",grade:ee.grade||"",topic:ee.topic||"",textbook:ee.textbook||"",hours:ee.hours||"1",status:"published",assignmentStatus:"unassigned",visibilityStatus:"private",shareStatus:"none",students:0,completion:0,lastUpdated:""}),ft(!0),setTimeout(()=>{it&&it()},2e3)},xt=()=>{if(!ct){alert("");return}navigator.clipboard.writeText(ct),alert("")},yt=vt=>({purple:"bg-primary/10 text-primary border-primary/30",orange:"bg-accent/10 text-accent-foreground border-accent/30",blue:"bg-secondary/10 text-secondary-foreground border-secondary/30",green:"bg-primary/10 text-primary border-primary/30",pink:"bg-accent/10 text-accent-foreground border-accent/30"})[vt]||"bg-muted text-muted-foreground border-border";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-muted",children:[jsxRuntimeExports.jsx("div",{className:"bg-background border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-8 py-6",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-center text-foreground",children:" (v0.5)"})})}),jsxRuntimeExports.jsx("div",{className:"bg-background border-b border-border",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-8 py-4",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-40 h-1 bg-primary rounded-full"})]})})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[jsxRuntimeExports.jsx(Card,{className:"shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-primary text-xl",children:"<>"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"4.  &  (v0.5)"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"text-primary border-primary",children:""}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:"+ "})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ut.map(vt=>jsxRuntimeExports.jsxs("div",{className:"border border-border rounded-lg bg-background hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-start justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground font-medium",children:vt.id}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-foreground mb-2",children:vt.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:vt.description})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:`${vt.status==="PENDING"?"bg-muted text-muted-foreground":"bg-primary/10 text-primary"} border border-border`,children:vt.status}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:`${yt(vt.materialColor)} border font-normal`,children:vt.materialType}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>pt(vt.id),className:"text-muted-foreground hover:text-foreground",children:jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})})]})]})]}),vt.expanded&&jsxRuntimeExports.jsx("div",{className:"px-4 pb-4 border-t border-border bg-muted",children:jsxRuntimeExports.jsx("div",{className:"pt-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"..."})})})]},vt.id))})]})}),ht&&jsxRuntimeExports.jsx(Card,{className:"mt-6 bg-primary/10 border-primary/30 shadow-lg",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6 text-primary mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground mb-2",children:""}),jsxRuntimeExports.jsx("div",{className:"bg-background p-3 rounded border border-border mb-3",children:jsxRuntimeExports.jsx("code",{className:"text-sm text-foreground",children:ct||""})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:xt,size:"sm",children:[jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"border-primary text-primary hover:bg-primary/10",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-6",children:[jsxRuntimeExports.jsxs(Button,{onClick:rt,variant:"outline",size:"lg",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]}),!ht&&jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"lg",children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-2"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:mt,size:"lg",className:"px-8",children:[jsxRuntimeExports.jsx(Rocket,{className:"w-4 h-4 mr-2"}),""]})]})]})]})]})}function CourseManagementPage(){const{user:ee}=useAuth(),{publishedCourses:te,refreshCourses:ne}=usePublishedCourses(),[xe,rt]=reactExports.useState(""),[it,lt]=reactExports.useState("active"),[ct,ut]=reactExports.useState("all"),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState(null),[mt,xt]=reactExports.useState([]),[yt,vt]=reactExports.useState([]),[Et,_t]=reactExports.useState(!1),[wt,St]=reactExports.useState(null),[Ct,jt]=reactExports.useState(null),[Rt,Pt]=reactExports.useState([]),[Ot,Ft]=reactExports.useState(!1),[Lt,Bt]=reactExports.useState(null),[Gt,It]=reactExports.useState(!0),[qt,Nt]=reactExports.useState([]),[Dt,Tt]=reactExports.useState(!1),[Mt,$t]=reactExports.useState(null),[Ht,Wt]=reactExports.useState(!1),[Vt,Yt]=reactExports.useState(null),[Qt,ar]=reactExports.useState(!1),[Xt,tr]=reactExports.useState(""),[rr,ur]=reactExports.useState("view"),[Jt,Zt]=reactExports.useState([]);reactExports.useEffect(()=>{if(!ee?.id){It(!1);return}It(!0),getTeacherStats(ee.id).then(Bt).catch(sr=>console.error("Failed to load teacher stats:",sr)).finally(()=>It(!1))},[ee?.id]),reactExports.useEffect(()=>{!ee?.id||!dt||(Ft(!0),listTeacherClasses(ee.id).then(sr=>Pt((sr.classes??[]).map(vr=>({...vr,studentCount:vr.studentCount??0})))).catch(sr=>console.error("Failed to load classes:",sr)).finally(()=>Ft(!1)))},[ee?.id,dt]),reactExports.useEffect(()=>{!ee?.id||it!=="recycle"||(Tt(!0),listTeacherCoursesWithStats(ee.id,{deletedOnly:!0}).then(sr=>{const vr=(sr.courses??[]).map(Pr=>({id:Pr.id,title:Pr.title,subject:Pr.subject,grade:Pr.grade,students:Pr.students,completion:Pr.completion,assignmentStatus:Pr.assignmentStatus??"unassigned",visibilityStatus:Pr.visibilityStatus??"private",shareStatus:Pr.shareStatus??"none",deletedAt:Pr.deletedAt,canRestore:Pr.canRestore,lastUpdated:Pr.lastUpdated}));Nt(vr)}).catch(sr=>console.error("Failed to load deleted courses:",sr)).finally(()=>Tt(!1)))},[it,ee?.id]);const or=te.map(sr=>({id:sr.id,title:sr.title,subject:sr.subject,grade:sr.grade,students:sr.students,completion:sr.completion,assignmentStatus:sr.assignmentStatus,visibilityStatus:sr.visibilityStatus,shareStatus:sr.shareStatus,deletedAt:null,canRestore:!1,lastUpdated:sr.lastUpdated})),Ar=(it==="active"?or:qt).filter(sr=>{const vr=sr.title.toLowerCase().includes(xe.toLowerCase())||sr.subject.toLowerCase().includes(xe.toLowerCase()),Pr=it==="recycle"||ct==="all"||ct==="assigned"&&sr.assignmentStatus==="assigned"||ct==="unassigned"&&sr.assignmentStatus==="unassigned";return vr&&Pr}),Nr=async sr=>{if(ee?.id){pt(sr),xt([]),ht(!0);try{const{classes:vr}=await getCourseAssignments(sr.id,ee.id);vt(vr.map(Pr=>({id:Pr.id,name:Pr.name,grade:Pr.grade,studentCount:Pr.studentCount})))}catch(vr){console.error("Failed to load assigned classes:",vr),vt([])}}},Mr=sr=>{xt(vr=>vr.includes(sr)?vr.filter(Pr=>Pr!==sr):[...vr,sr])},Gr=async sr=>{if(!(!ee?.id||!ft))try{await removeCourseAssignment(ft.id,sr,ee.id),vt(vr=>vr.filter(Pr=>Pr.id!==sr)),await ne(),getTeacherStats(ee.id).then(Bt).catch(()=>{})}catch(vr){console.error("Remove assignment failed:",vr),alert(vr instanceof Error?vr.message:"")}},Yr=async()=>{if(!(!ee?.id||!ft||mt.length===0)){_t(!0);try{const sr=await assignCourseToClasses(ft.id,mt,ee.id),vr=Rt.filter(Kr=>mt.includes(Kr.id)).map(Kr=>Kr.name).join(""),Pr=sr.skippedCount&&sr.skippedCount>0?`"${ft.title}" ${sr.assignedCount} ${sr.skippedCount} `:`"${ft.title}"${vr}`;alert(Pr),ht(!1),xt([]),pt(null),vt([]),await ne(),getTeacherStats(ee.id).then(Bt).catch(()=>{})}catch(sr){console.error("Assign failed:",sr),alert(sr instanceof Error?sr.message:"")}finally{_t(!1)}}},en=async sr=>{if(ee?.id&&window.confirm(`"${sr.title}"90`)){St(sr.id);try{await deleteCourse(sr.id,ee.id),await ne(),getTeacherStats(ee.id).then(Bt).catch(()=>{})}catch(vr){console.error("Delete course failed:",vr),alert(vr instanceof Error?vr.message:"")}finally{St(null)}}},Jr=async sr=>{if(ee?.id){jt(sr.id);try{const vr=sr.visibilityStatus==="public"?"unpublish":"publish";await updateCourseVisibility(sr.id,ee.id,vr),await ne()}catch(vr){console.error("Toggle course visibility failed:",vr),alert(vr instanceof Error?vr.message:"")}finally{jt(null)}}},on=sr=>{window.open(`${getLearnYourWayOrigin()}/course/${sr}`,"_blank")},sn=async sr=>{if(ee?.id){$t(sr.id);try{await restoreCourse(sr.id,ee.id),Nt(vr=>vr.filter(Pr=>Pr.id!==sr.id)),await ne(),getTeacherStats(ee.id).then(Bt).catch(()=>{}),alert("")}catch(vr){console.error("Restore course failed:",vr),alert(vr instanceof Error?vr.message:"")}finally{$t(null)}}},an=async sr=>{if(ee?.id){Yt(sr),Wt(!0),ar(!0);try{const{shares:vr}=await listCourseShares(sr.id,ee.id);Zt(vr)}catch(vr){console.error("Load shares failed:",vr),Zt([])}finally{ar(!1)}}},dn=async()=>{if(!(!ee?.id||!Vt||!Xt.trim()))try{await createCourseShare({courseId:Vt.id,ownerTeacherId:ee.id,targetTeacherId:Xt.trim(),permission:rr});const{shares:sr}=await listCourseShares(Vt.id,ee.id);Zt(sr),tr("")}catch(sr){console.error("Create share failed:",sr),alert(sr instanceof Error?sr.message:"")}},pr=async()=>{if(!(!ee?.id||!Vt))try{const sr=await createCourseShare({courseId:Vt.id,ownerTeacherId:ee.id,permission:rr,createLinkShare:!0}),vr=`${window.location.origin}/shared-course/${sr.shareToken}`;await navigator.clipboard.writeText(vr),alert(`${vr}`);const{shares:Pr}=await listCourseShares(Vt.id,ee.id);Zt(Pr)}catch(sr){console.error("Create link share failed:",sr),alert(sr instanceof Error?sr.message:"")}},Er=async sr=>{if(!(!ee?.id||!Vt))try{await deleteCourseShare(sr,ee.id);const{shares:vr}=await listCourseShares(Vt.id,ee.id);Zt(vr)}catch(vr){console.error("Revoke share failed:",vr),alert(vr instanceof Error?vr.message:"")}};return jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Gt?"":Lt?.totalCourses??or.length})]}),jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-blue-600"})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Gt?"":Lt?.assignedCount??Lt?.publishedCount??or.filter(sr=>sr.assignmentStatus==="assigned").length})]}),jsxRuntimeExports.jsx(TrendingUp,{className:"w-8 h-8 text-green-600"})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Gt?"":Lt?.totalStudents??or.reduce((sr,vr)=>sr+vr.students,0)})]}),jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-purple-600"})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Gt?"":`${Lt?.avgCompletion??0}%`})]}),jsxRuntimeExports.jsx(TrendingUp,{className:"w-8 h-8 text-orange-600"})]})})})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:it==="active"?"default":"outline",size:"sm",onClick:()=>lt("active"),children:""}),jsxRuntimeExports.jsx(Button,{variant:it==="recycle"?"default":"outline",size:"sm",onClick:()=>lt("recycle"),children:""}),it==="active"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:ct==="all"?"default":"outline",size:"sm",onClick:()=>ut("all"),children:""}),jsxRuntimeExports.jsx(Button,{variant:ct==="assigned"?"default":"outline",size:"sm",onClick:()=>ut("assigned"),children:""}),jsxRuntimeExports.jsx(Button,{variant:ct==="unassigned"?"default":"outline",size:"sm",onClick:()=>ut("unassigned"),children:""})]}):null]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"...",value:xe,onChange:sr=>rt(sr.target.value),className:"pl-10 w-full md:w-64"})]})]})})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:it==="active"?"":"90"})]}),jsxRuntimeExports.jsx(CardContent,{children:it==="recycle"&&Dt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Ar.map(sr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:sr.title}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:[sr.subject,"  ",sr.grade]}),jsxRuntimeExports.jsx(Badge,{variant:sr.assignmentStatus==="assigned"?"default":"secondary",children:sr.assignmentStatus==="assigned"?"":""}),jsxRuntimeExports.jsx(Badge,{variant:sr.visibilityStatus==="public"?"default":"secondary",children:sr.visibilityStatus==="public"?"":""}),jsxRuntimeExports.jsx(Badge,{variant:sr.shareStatus==="shared"?"default":"secondary",children:sr.shareStatus==="shared"?"":""}),jsxRuntimeExports.jsxs("span",{children:[sr.students," "]}),jsxRuntimeExports.jsxs("span",{children:[" ",sr.completion,"%"]}),it==="recycle"&&sr.deletedAt?jsxRuntimeExports.jsxs("span",{children:[" ",new Date(sr.deletedAt).toLocaleDateString()]}):null,jsxRuntimeExports.jsxs("span",{children:[" ",sr.lastUpdated]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:it==="active"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>on(sr.id),children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>alert(""),children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Nr(sr),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Jr(sr),disabled:Ct===sr.id,children:[jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4 mr-1"}),sr.visibilityStatus==="public"?"":""]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>an(sr),children:[jsxRuntimeExports.jsx(Share2,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>en(sr),disabled:wt===sr.id,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[wt===sr.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-1"}),""]})]}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>sn(sr),disabled:!sr.canRestore||Mt===sr.id,children:[Mt===sr.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-1 animate-spin"}):null,""]})})]},sr.id))})})]}),dt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs(Card,{className:"w-[640px] max-h-[85vh] flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsxs(CardDescription,{className:"mt-1",children:["",ft?.title]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>ht(!1),className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:""}),yt.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:yt.map(sr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border rounded-md p-2",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:sr.name}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground ml-2",children:[sr.grade||"","  ",sr.studentCount," "]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Gr(sr.id),className:"text-red-600 hover:text-red-700",children:""})]},sr.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:""}),Ot?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):Rt.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-4 text-center",children:""}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Rt.map(sr=>{const vr=yt.some(Pr=>Pr.id===sr.id);return jsxRuntimeExports.jsxs("div",{className:`flex items-center p-3 border rounded-lg transition-colors ${vr?"bg-gray-50 opacity-70":"cursor-pointer hover:bg-gray-50"} ${mt.includes(sr.id)?"bg-blue-50 border-blue-300":""}`,onClick:()=>!vr&&Mr(sr.id),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:mt.includes(sr.id),disabled:vr,onChange:()=>!vr&&Mr(sr.id),className:"mr-3 w-4 h-4"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:sr.name}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:sr.grade||""}),vr&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:""})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[sr.studentCount," "]})]})]},sr.id)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t p-4 flex justify-end gap-3 bg-gray-50",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ht(!1),children:""}),jsxRuntimeExports.jsxs(Button,{onClick:Yr,disabled:mt.length===0||Et,children:[Et?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),""]})]})]})}),Ht&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs(Card,{className:"w-[720px] max-h-[85vh] flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsxs(CardDescription,{className:"mt-1",children:["",Vt?.title]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Wt(!1),className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"ID",value:Xt,onChange:sr=>tr(sr.target.value)}),jsxRuntimeExports.jsxs("select",{className:"border rounded-md px-3 py-2 text-sm",value:rr,onChange:sr=>ur(sr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"view",children:"view/"}),jsxRuntimeExports.jsx("option",{value:"edit",children:"edit"})]}),jsxRuntimeExports.jsx(Button,{onClick:dn,children:""})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:pr,children:[jsxRuntimeExports.jsx(Link2,{className:"w-4 h-4 mr-1"}),""]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:""}),Qt?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):Jt.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Jt.map(sr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border rounded-md p-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("div",{children:sr.target_teacher_id?`${sr.target_teacher_id}`:`${sr.share_token}`}),jsxRuntimeExports.jsxs("div",{className:"text-muted-foreground",children:["",sr.permission,sr.expires_at?`  ${sr.expires_at}`:""]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Er(sr.id),className:"text-red-600 hover:text-red-700",children:""})]},sr.id))})]})]})]})})]})}const TASK_TYPE_LABELS={mastery:"",guided:"",autonomous:""};function TaskManagementPage(){const{user:ee}=useAuth(),[te,ne]=reactExports.useState("my"),[xe,rt]=reactExports.useState("active"),[it,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState([]),[dt,ht]=reactExports.useState([]),[ft,pt]=reactExports.useState(!1),[mt,xt]=reactExports.useState(!1),[yt,vt]=reactExports.useState([]),[Et,_t]=reactExports.useState(null),[wt,St]=reactExports.useState(null),[Ct,jt]=reactExports.useState(null),[Rt,Pt]=reactExports.useState(!1),[Ot,Ft]=reactExports.useState([]),[Lt,Bt]=reactExports.useState([]),[Gt,It]=reactExports.useState(!1),[qt,Nt]=reactExports.useState([]),[Dt,Tt]=reactExports.useState(!1);reactExports.useEffect(()=>{ee?.id&&(pt(!0),listTeacherTasks(ee.id,{deletedOnly:xe==="recycle"}).then(Jt=>ut(Jt.tasks??[])).catch(Jt=>console.error("Failed to load my tasks:",Jt)).finally(()=>pt(!1)))},[ee?.id,xe]),reactExports.useEffect(()=>{xe==="recycle"&&vt([])},[xe]),reactExports.useEffect(()=>{!ee?.id||te!=="public"||(xt(!0),listPublicTasks().then(Jt=>{const Zt=(Jt.tasks??[]).filter(or=>or.teacherId!==ee.id);ht(Zt)}).catch(Jt=>console.error("Failed to load public tasks:",Jt)).finally(()=>xt(!1)))},[te,ee?.id]),reactExports.useEffect(()=>{!ee?.id||!Rt||(Tt(!0),listTeacherClasses(ee.id).then(Jt=>Nt((Jt.classes??[]).map(Zt=>({...Zt,studentCount:Zt.studentCount??0})))).catch(Jt=>console.error("Failed to load classes:",Jt)).finally(()=>Tt(!1)))},[Rt,ee?.id]);const Mt=reactExports.useMemo(()=>ct.filter(Jt=>`${Jt.topic||""} ${Jt.subject||""}`.toLowerCase().includes(it.toLowerCase())),[ct,it]),$t=reactExports.useMemo(()=>dt.filter(Jt=>`${Jt.topic||""} ${Jt.subject||""}`.toLowerCase().includes(it.toLowerCase())),[dt,it]),Ht=Jt=>{vt(Zt=>Zt.includes(Jt)?Zt.filter(or=>or!==Jt):[...Zt,Jt])},Wt=Jt=>[Jt.topic||Jt.subject||"",Jt.taskType?TASK_TYPE_LABELS[Jt.taskType]??Jt.taskType:null,Jt.durationMin?`${Jt.durationMin}`:null].filter(Boolean).join(" - "),Vt=Jt=>{Jt.length&&(Ft(Jt),Bt([]),Pt(!0))},Yt=async Jt=>{if(ee?.id)try{const Zt=await createCourse({taskIds:[Jt]},ee.id);window.open(`${getLearnYourWayOrigin()}/course/${Zt.courseId}`,"_blank")}catch(Zt){console.error("Failed to preview task:",Zt),alert(Zt instanceof Error?Zt.message:"")}},Qt=async Jt=>{if(ee?.id&&window.confirm(`"${Jt.topic||Jt.subject||""}"`)){_t(Jt.taskId);try{await deleteTask(Jt.taskId,ee.id),ut(Zt=>Zt.filter(or=>or.taskId!==Jt.taskId)),vt(Zt=>Zt.filter(or=>or!==Jt.taskId))}catch(Zt){console.error("Delete task failed:",Zt),alert(Zt instanceof Error?Zt.message:"")}finally{_t(null)}}},ar=async Jt=>{if(ee?.id){St(Jt.taskId);try{const Zt=Jt.isPublic?"unpublish":"publish";await updateTaskVisibility(Jt.taskId,ee.id,Zt),ut(or=>or.map(dr=>dr.taskId===Jt.taskId?{...dr,isPublic:!Jt.isPublic}:dr))}catch(Zt){console.error("Toggle task visibility failed:",Zt),alert(Zt instanceof Error?Zt.message:"")}finally{St(null)}}},Xt=async Jt=>{if(ee?.id){jt(Jt.taskId);try{await restoreTask(Jt.taskId,ee.id),ut(Zt=>Zt.filter(or=>or.taskId!==Jt.taskId)),alert("")}catch(Zt){console.error("Restore task failed:",Zt),alert(Zt instanceof Error?Zt.message:"")}finally{jt(null)}}},tr=async()=>{if(!(!ee?.id||Ot.length===0||Lt.length===0)){It(!0);try{const Jt=await createCourse({taskIds:Ot},ee.id),Zt=await assignCourseToClasses(Jt.courseId,Lt,ee.id),or=Zt.skippedCount&&Zt.skippedCount>0?` ${Zt.assignedCount} ${Zt.skippedCount} `:` ${Zt.assignedCount} `;alert(or),Pt(!1),Bt([]),Ft([]),vt([])}catch(Jt){console.error("Assign task failed:",Jt),alert(Jt instanceof Error?Jt.message:"")}finally{It(!1)}}},rr=Jt=>{Bt(Zt=>Zt.includes(Jt)?Zt.filter(or=>or!==Jt):[...Zt,Jt])},ur=(Jt,Zt)=>{const or=yt.includes(Jt.taskId);return jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${or?"border-blue-300 bg-blue-50/40":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[Zt.selectable?jsxRuntimeExports.jsx("input",{type:"checkbox",checked:or,onChange:()=>Ht(Jt.taskId),className:"w-4 h-4"}):null,jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:Wt(Jt)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:[Jt.subject,Jt.grade].filter(Boolean).join("  ")||Jt.taskId.slice(0,8)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:Jt.isPublic?"default":"secondary",children:Jt.isPublic?"":""}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Yt(Jt.taskId),children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-1"}),""]}),Zt.assignable?jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Vt([Jt.taskId]),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),""]}):null,Zt.canManage?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:xe==="active"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>ar(Jt),disabled:wt===Jt.taskId,children:[jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4 mr-1"}),Jt.isPublic?"":""]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Qt(Jt),disabled:Et===Jt.taskId,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[Et===Jt.taskId?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-1"}),""]})]}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Xt(Jt),disabled:Ct===Jt.taskId,children:[Ct===Jt.taskId?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-1 animate-spin"}):null,""]})}):null]})]},Jt.taskId)};return jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:""})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"...",value:it,onChange:Jt=>lt(Jt.target.value),className:"pl-10"})]})})}),jsxRuntimeExports.jsxs(Tabs,{value:te,onValueChange:Jt=>ne(Jt),children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"my",children:""}),jsxRuntimeExports.jsx(TabsTrigger,{value:"public",children:""})]}),jsxRuntimeExports.jsx(TabsContent,{value:"my",className:"mt-4",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"/"}),jsxRuntimeExports.jsx(CardDescription,{children:xe==="active"?"":"90"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:xe==="active"?"default":"outline",size:"sm",onClick:()=>rt("active"),children:""}),jsxRuntimeExports.jsx(Button,{variant:xe==="recycle"?"default":"outline",size:"sm",onClick:()=>rt("recycle"),children:""})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Vt(yt),disabled:xe!=="active"||yt.length===0,children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),"",yt.length,""]})]}),ft?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):Mt.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-8 text-center",children:""}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Mt.map(Jt=>ur(Jt,{canManage:!0,selectable:xe==="active",assignable:xe==="active"}))})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"public",className:"mt-4",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:"/"})]}),jsxRuntimeExports.jsx(CardContent,{children:mt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):$t.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-8 text-center",children:""}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:$t.map(Jt=>ur({...Jt,isPublic:!0},{canManage:!1,selectable:!1,assignable:!0}))})})]})})]}),Rt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs(Card,{className:"w-[640px] max-h-[85vh] flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsxs(CardDescription,{className:"mt-1",children:["",Ot.length," "]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Pt(!1),className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:""}),Dt?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):qt.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-4 text-center",children:""}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:qt.map(Jt=>jsxRuntimeExports.jsxs("div",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 ${Lt.includes(Jt.id)?"bg-blue-50 border-blue-300":""}`,onClick:()=>rr(Jt.id),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Lt.includes(Jt.id),onChange:()=>rr(Jt.id),className:"mr-3 w-4 h-4"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Jt.name}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:Jt.grade||""})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[Jt.studentCount," "]})]})]},Jt.id))})]}),jsxRuntimeExports.jsxs("div",{className:"border-t p-4 flex justify-end gap-3 bg-gray-50",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>Pt(!1),children:""}),jsxRuntimeExports.jsxs(Button,{onClick:tr,disabled:Lt.length===0||Gt,children:[Gt?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),""]})]})]})})]})}function createSlot(ee){const te=createSlotClone(ee),ne=reactExports.forwardRef((xe,rt)=>{const{children:it,...lt}=xe,ct=reactExports.Children.toArray(it),ut=ct.find(isSlottable);if(ut){const dt=ut.props.children,ht=ct.map(ft=>ft===ut?reactExports.Children.count(dt)>1?reactExports.Children.only(null):reactExports.isValidElement(dt)?dt.props.children:null:ft);return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:reactExports.isValidElement(dt)?reactExports.cloneElement(dt,void 0,ht):null})}return jsxRuntimeExports.jsx(te,{...lt,ref:rt,children:it})});return ne.displayName=`${ee}.Slot`,ne}function createSlotClone(ee){const te=reactExports.forwardRef((ne,xe)=>{const{children:rt,...it}=ne;if(reactExports.isValidElement(rt)){const lt=getElementRef(rt),ct=mergeProps(it,rt.props);return rt.type!==reactExports.Fragment&&(ct.ref=xe?composeRefs(xe,lt):lt),reactExports.cloneElement(rt,ct)}return reactExports.Children.count(rt)>1?reactExports.Children.only(null):null});return te.displayName=`${ee}.SlotClone`,te}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(ee){return reactExports.isValidElement(ee)&&typeof ee.type=="function"&&"__radixId"in ee.type&&ee.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(ee,te){const ne={...te};for(const xe in te){const rt=ee[xe],it=te[xe];/^on[A-Z]/.test(xe)?rt&&it?ne[xe]=(...ct)=>{const ut=it(...ct);return rt(...ct),ut}:rt&&(ne[xe]=rt):xe==="style"?ne[xe]={...rt,...it}:xe==="className"&&(ne[xe]=[rt,it].filter(Boolean).join(" "))}return{...ee,...ne}}function getElementRef(ee){let te=Object.getOwnPropertyDescriptor(ee.props,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning;return ne?ee.ref:(te=Object.getOwnPropertyDescriptor(ee,"ref")?.get,ne=te&&"isReactWarning"in te&&te.isReactWarning,ne?ee.props.ref:ee.props.ref||ee.ref)}var DIALOG_NAME="Dialog",[createDialogContext]=createContextScope$2(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=ee=>{const{__scopeDialog:te,children:ne,open:xe,defaultOpen:rt,onOpenChange:it,modal:lt=!0}=ee,ct=reactExports.useRef(null),ut=reactExports.useRef(null),[dt,ht]=useControllableState({prop:xe,defaultProp:rt??!1,onChange:it,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:te,triggerRef:ct,contentRef:ut,contentId:useId(),titleId:useId(),descriptionId:useId(),open:dt,onOpenChange:ht,onOpenToggle:reactExports.useCallback(()=>ht(ft=>!ft),[ht]),modal:lt,children:ne})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME="DialogTrigger",DialogTrigger=reactExports.forwardRef((ee,te)=>{const{__scopeDialog:ne,...xe}=ee,rt=useDialogContext(TRIGGER_NAME,ne),it=useComposedRefs(te,rt.triggerRef);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":rt.open,"aria-controls":rt.contentId,"data-state":getState(rt.open),...xe,ref:it,onClick:composeEventHandlers(ee.onClick,rt.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME,{forceMount:void 0}),DialogPortal$1=ee=>{const{__scopeDialog:te,forceMount:ne,children:xe,container:rt}=ee,it=useDialogContext(PORTAL_NAME,te);return jsxRuntimeExports.jsx(PortalProvider,{scope:te,forceMount:ne,children:reactExports.Children.map(xe,lt=>jsxRuntimeExports.jsx(Presence,{present:ne||it.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:rt,children:lt})}))})};DialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((ee,te)=>{const ne=usePortalContext(OVERLAY_NAME,ee.__scopeDialog),{forceMount:xe=ne.forceMount,...rt}=ee,it=useDialogContext(OVERLAY_NAME,ee.__scopeDialog);return it.modal?jsxRuntimeExports.jsx(Presence,{present:xe||it.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...rt,ref:te})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((ee,te)=>{const{__scopeDialog:ne,...xe}=ee,rt=useDialogContext(OVERLAY_NAME,ne);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[rt.contentRef],children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState(rt.open),...xe,ref:te,style:{pointerEvents:"auto",...xe.style}})})}),CONTENT_NAME="DialogContent",DialogContent$1=reactExports.forwardRef((ee,te)=>{const ne=usePortalContext(CONTENT_NAME,ee.__scopeDialog),{forceMount:xe=ne.forceMount,...rt}=ee,it=useDialogContext(CONTENT_NAME,ee.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:xe||it.open,children:it.modal?jsxRuntimeExports.jsx(DialogContentModal,{...rt,ref:te}):jsxRuntimeExports.jsx(DialogContentNonModal,{...rt,ref:te})})});DialogContent$1.displayName=CONTENT_NAME;var DialogContentModal=reactExports.forwardRef((ee,te)=>{const ne=useDialogContext(CONTENT_NAME,ee.__scopeDialog),xe=reactExports.useRef(null),rt=useComposedRefs(te,ne.contentRef,xe);return reactExports.useEffect(()=>{const it=xe.current;if(it)return hideOthers(it)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...ee,ref:rt,trapFocus:ne.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(ee.onCloseAutoFocus,it=>{it.preventDefault(),ne.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(ee.onPointerDownOutside,it=>{const lt=it.detail.originalEvent,ct=lt.button===0&&lt.ctrlKey===!0;(lt.button===2||ct)&&it.preventDefault()}),onFocusOutside:composeEventHandlers(ee.onFocusOutside,it=>it.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((ee,te)=>{const ne=useDialogContext(CONTENT_NAME,ee.__scopeDialog),xe=reactExports.useRef(!1),rt=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...ee,ref:te,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:it=>{ee.onCloseAutoFocus?.(it),it.defaultPrevented||(xe.current||ne.triggerRef.current?.focus(),it.preventDefault()),xe.current=!1,rt.current=!1},onInteractOutside:it=>{ee.onInteractOutside?.(it),it.defaultPrevented||(xe.current=!0,it.detail.originalEvent.type==="pointerdown"&&(rt.current=!0));const lt=it.target;ne.triggerRef.current?.contains(lt)&&it.preventDefault(),it.detail.originalEvent.type==="focusin"&&rt.current&&it.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((ee,te)=>{const{__scopeDialog:ne,trapFocus:xe,onOpenAutoFocus:rt,onCloseAutoFocus:it,...lt}=ee,ct=useDialogContext(CONTENT_NAME,ne),ut=reactExports.useRef(null),dt=useComposedRefs(te,ut);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:xe,onMountAutoFocus:rt,onUnmountAutoFocus:it,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:ct.contentId,"aria-describedby":ct.descriptionId,"aria-labelledby":ct.titleId,"data-state":getState(ct.open),...lt,ref:dt,onDismiss:()=>ct.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:ct.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:ut,descriptionId:ct.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((ee,te)=>{const{__scopeDialog:ne,...xe}=ee,rt=useDialogContext(TITLE_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.h2,{id:rt.titleId,...xe,ref:te})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((ee,te)=>{const{__scopeDialog:ne,...xe}=ee,rt=useDialogContext(DESCRIPTION_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.p,{id:rt.descriptionId,...xe,ref:te})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((ee,te)=>{const{__scopeDialog:ne,...xe}=ee,rt=useDialogContext(CLOSE_NAME,ne);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...xe,ref:te,onClick:composeEventHandlers(ee.onClick,()=>rt.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(ee){return ee?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:ee})=>{const te=useWarningContext(TITLE_WARNING_NAME),ne=`\`${te.contentName}\` requires a \`${te.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${te.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${te.docsSlug}`;return reactExports.useEffect(()=>{ee&&(document.getElementById(ee)||console.error(ne))},[ne,ee]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:ee,descriptionId:te})=>{const xe=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{const rt=ee.current?.getAttribute("aria-describedby");te&&rt&&(document.getElementById(te)||console.warn(xe))},[xe,ee,te]),null},Root=Dialog$1,Portal=DialogPortal$1,Overlay=DialogOverlay$1,Content=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;function Dialog({...ee}){return jsxRuntimeExports.jsx(Root,{"data-slot":"dialog",...ee})}function DialogPortal({...ee}){return jsxRuntimeExports.jsx(Portal,{"data-slot":"dialog-portal",...ee})}function DialogOverlay({className:ee,...te}){return jsxRuntimeExports.jsx(Overlay,{"data-slot":"dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",ee),...te})}function DialogContent({className:ee,children:te,...ne}){return jsxRuntimeExports.jsxs(DialogPortal,{"data-slot":"dialog-portal",children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content,{"data-slot":"dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",ee),...ne,children:[te,jsxRuntimeExports.jsxs(Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[jsxRuntimeExports.jsx(X$2,{}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function DialogHeader({className:ee,...te}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",ee),...te})}function DialogFooter({className:ee,...te}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-footer",className:cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",ee),...te})}function DialogTitle({className:ee,...te}){return jsxRuntimeExports.jsx(Title,{"data-slot":"dialog-title",className:cn("text-lg leading-none font-semibold",ee),...te})}function DialogDescription({className:ee,...te}){return jsxRuntimeExports.jsx(Description,{"data-slot":"dialog-description",className:cn("text-muted-foreground text-sm",ee),...te})}function ClassManagementPage(){const{user:ee}=useAuth(),[te,ne]=reactExports.useState([]),[xe,rt]=reactExports.useState(!0),[it,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(null),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState(""),[mt,xt]=reactExports.useState(!1),[yt,vt]=reactExports.useState(""),[Et,_t]=reactExports.useState(""),[wt,St]=reactExports.useState(!1),[Ct,jt]=reactExports.useState(""),[Rt,Pt]=reactExports.useState(!1),[Ot,Ft]=reactExports.useState(""),[Lt,Bt]=reactExports.useState(!1),[Gt,It]=reactExports.useState(""),qt=async()=>{if(ee?.id){rt(!0);try{const Wt=await listTeacherClasses(ee.id);ne((Wt.classes??[]).map(Vt=>({...Vt,studentCount:Vt.studentCount??0})))}catch(Wt){console.error("Failed to load classes:",Wt)}finally{rt(!1)}}};reactExports.useEffect(()=>{qt()},[ee?.id]),reactExports.useEffect(()=>{it&&ee?.id?(ht(!0),getClass(it).then(Wt=>ut({id:Wt.id,name:Wt.name,grade:Wt.grade,students:Wt.students??[]})).catch(Wt=>{console.error("Failed to load class:",Wt),ut(null)}).finally(()=>ht(!1))):ut(null)},[it]);const Nt=async()=>{if(!(!ee?.id||!yt.trim())){St(!0),jt("");try{await createClass$1(ee.id,yt.trim(),Et.trim()||void 0),xt(!1),vt(""),_t(""),qt()}catch(Wt){jt(Wt instanceof Error?Wt.message:"")}finally{St(!1)}}},Dt=async()=>{if(!(!it||!Ot.trim())){Bt(!0),It("");try{if(await addStudentToClassByEmail(it,Ot.trim()),Pt(!1),Ft(""),it){const Wt=await getClass(it);ut({id:Wt.id,name:Wt.name,grade:Wt.grade,students:Wt.students??[]})}qt()}catch(Wt){It(Wt instanceof Error?Wt.message:"")}finally{Bt(!1)}}},Tt=async Wt=>{if(it&&window.confirm(""))try{await removeStudentFromClass(it,Wt),ct&&ut({...ct,students:ct.students.filter(Vt=>Vt.id!==Wt)}),qt()}catch(Vt){console.error("Failed to remove student:",Vt),alert(Vt instanceof Error?Vt.message:"")}},Mt=async Wt=>{if(window.confirm(""))try{await deleteClass(Wt),it===Wt&&(lt(null),ut(null)),qt()}catch(Vt){console.error("Failed to delete class:",Vt),alert(Vt instanceof Error?Vt.message:"")}},$t=(ct?.students??[]).filter(Wt=>(Wt.name??"").toLowerCase().includes(ft.toLowerCase())||(Wt.email??"").toLowerCase().includes(ft.toLowerCase())),Ht=te.find(Wt=>Wt.id===it);return jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:te.length})]}),jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-blue-600"})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:te.reduce((Wt,Vt)=>Wt+(Vt.studentCount??0),0)})]}),jsxRuntimeExports.jsx(UserPlus,{className:"w-8 h-8 text-green-600"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"lg:col-span-1",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>xt(!0),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),""]})]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:xe?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):te.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-4 text-center",children:""}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:te.map(Wt=>jsxRuntimeExports.jsxs("div",{onClick:()=>lt(Wt.id),className:`p-4 border rounded-lg cursor-pointer transition-colors flex justify-between items-center ${it===Wt.id?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:Wt.name}),Wt.grade&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:Wt.grade})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[Wt.studentCount??0," "]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:Vt=>{Vt.stopPropagation(),Mt(Wt.id)},children:jsxRuntimeExports.jsx(X$2,{className:"w-4 h-4"})})]},Wt.id))})})]}),jsxRuntimeExports.jsxs(Card,{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:Ht?`${Ht.name} `:""})]}),it&&jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>Pt(!0),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),""]})]})}),jsxRuntimeExports.jsx(CardContent,{children:it?dt?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"...",value:ft,onChange:Wt=>pt(Wt.target.value),className:"pl-10"})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:$t.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-6 text-center",children:""}):$t.map(Wt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Avatar,{children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-blue-600 text-white",children:(Wt.name??Wt.email??"?").charAt(0)})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:Wt.name||""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:Wt.email||Wt.id})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>Tt(Wt.id),children:""})]},Wt.id))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:""})]})})]})]}),jsxRuntimeExports.jsx(Dialog,{open:mt,onOpenChange:xt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:""}),jsxRuntimeExports.jsx(DialogDescription,{children:""})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"class-name",children:""}),jsxRuntimeExports.jsx(Input,{id:"class-name",placeholder:"3",value:yt,onChange:Wt=>vt(Wt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"class-grade",children:""}),jsxRuntimeExports.jsx(Input,{id:"class-grade",placeholder:"",value:Et,onChange:Wt=>_t(Wt.target.value)})]}),Ct&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:Ct})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>xt(!1),children:""}),jsxRuntimeExports.jsxs(Button,{onClick:Nt,disabled:!yt.trim()||wt,children:[wt&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:Rt,onOpenChange:Pt,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:""}),jsxRuntimeExports.jsx(DialogDescription,{children:""})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"student-email",children:""}),jsxRuntimeExports.jsx(Input,{id:"student-email",type:"email",placeholder:"student@example.com",value:Ot,onChange:Wt=>Ft(Wt.target.value)})]}),Gt&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:Gt})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>Pt(!1),children:""}),jsxRuntimeExports.jsxs(Button,{onClick:Dt,disabled:!Ot.trim()||Lt,children:[Lt&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}function TypingText({text:ee,speed:te=40,onComplete:ne,className:xe,paragraphClassName:rt="text-gray-700 leading-relaxed"}){const[it,lt]=reactExports.useState(0),ct=ee.length;reactExports.useEffect(()=>{if(it>=ct){ne?.();return}const ht=setTimeout(()=>lt(ft=>Math.min(ft+1,ct)),te);return()=>clearTimeout(ht)},[it,ct,te,ne]);const dt=ee.slice(0,it).split(`
`).filter(ht=>ht.length>0);return jsxRuntimeExports.jsx("div",{className:cn("space-y-4",xe),children:dt.map((ht,ft)=>jsxRuntimeExports.jsx("p",{className:rt,children:ht},ft))})}const STEPS=[{id:1,key:"objective",label:"",icon:Target},{id:2,key:"video",label:"",icon:Video},{id:3,key:"keyIdeas",label:"",icon:ListOrdered},{id:4,key:"practice",label:"",icon:FileQuestion},{id:5,key:"exitTicket",label:"",icon:Ticket}];function extractYouTubeVideoId$1(ee){try{const te=new URL(ee);return te.hostname==="www.youtube.com"||te.hostname==="youtube.com"?te.searchParams.get("v"):te.hostname==="youtu.be"&&te.pathname.replace(/^\//,"").split("/")[0]||null}catch{return null}}function Stepper({currentStep:ee,maxStepReached:te,completedSteps:ne,onStepClick:xe}){return jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-1 mb-8 flex-wrap",children:STEPS.map(({id:rt,label:it})=>{const lt=rt<=te,ct=ee===rt,ut=lt;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>ut&&xe(rt),disabled:!ut&&!ct,className:`
              flex items-center gap-2 px-4 py-3 rounded-lg border-2 text-sm font-medium transition-all flex-1 min-w-[100px] max-w-[180px] justify-center
              ${ct?"border-amber-400 bg-amber-50 text-amber-900 shadow-sm":""}
              ${lt&&!ct?"border-green-300 bg-green-50 text-green-800 cursor-pointer hover:bg-green-100":""}
              ${!lt&&!ct?"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed opacity-70":""}
            `,children:[jsxRuntimeExports.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold ${ct?"border-2 border-amber-400 bg-amber-100 text-amber-800":lt?"bg-green-200 text-green-800":"border border-gray-300 bg-gray-100 text-gray-500"}`,children:lt&&!ct?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3"}):rt}),it]},rt)})})}function KeyIdeaBlock({idea:ee}){const te=ee.text.split("__KEY__"),ne=ee.blanks||[];return jsxRuntimeExports.jsx("p",{className:"text-sm",children:te.map((xe,rt)=>jsxRuntimeExports.jsxs("span",{children:[xe,rt<te.length-1&&jsxRuntimeExports.jsx("span",{className:"inline-block bg-green-100 border-2 border-green-600 px-2 py-0.5 rounded-md font-medium text-foreground mx-0.5",children:ne[rt]??"______"})]},rt))})}function parseKeyPointToKeyIdea(ee){const te=[];return{text:ee.replace(/\*\*(.+?)\*\*/g,(xe,rt)=>{const it=rt.trim();return it&&te.push(it),"__KEY__"}),blanks:te}}function buildSystemTask(ee){const te=ee.selectedVideoItem?.url??(ee.selectedVideoItem?.id?`https://www.youtube.com/watch?v=${ee.selectedVideoItem.id}`:"");return{id:`task-${Date.now()}`,title:ee.topic,viewType:"video_player",assetType:"video_gen",externalResourceUrl:te,contentPayload:JSON.stringify({learningObjective:ee.learningObjective,keyIdeas:ee.keyIdeas,practiceQuestions:ee.practiceQuestions,exitTicket:ee.exitTicketQuestion,taskDesignJson:ee.taskDesignJson}),generatedAssetContent:"",description:[`${ee.learningObjective}`,ee.selectedVideoItem?`${ee.selectedVideoItem.title}`:"",`${ee.keyIdeas.length} `,`${ee.practiceQuestions.length} `,ee.exitTicketQuestion?"1 ":""].filter(Boolean).join(`
`),assetPrompt:"",outputGoal:ee.learningObjective,learningGoalId:void 0,tutorConfig:{systemInstruction:[`${ee.topic}${ee.subject}${ee.grade}`,`${ee.learningObjective}`,"",`1. ${ee.keyIdeas.length} `,`2. ${ee.practiceQuestions.length} `,"3. ",""].join(`
`),tone:""},evaluationCriteria:[` ${ee.keyIdeas.length} `," 80% ",ee.exitTicketQuestion?"":""].filter(Boolean).join(`
`)}}const SUBJECT_OPTIONS=["","","","","","","","","",""],DIFFICULTY_OPTIONS=["","",""],TASK_TYPES=[{id:"mastery",label:"",available:!0},{id:"guided",label:"",available:!1},{id:"autonomous",label:"",available:!1}];function TeachingResourcesPage(){const{user:ee,preferences:te}=useAuth(),[ne,xe]=reactExports.useState(0),[rt,it]=reactExports.useState(0),[lt,ct]=reactExports.useState("mastery"),[ut,dt]=reactExports.useState(""),[ht,ft]=reactExports.useState(""),[pt,mt]=reactExports.useState(""),[xt,yt]=reactExports.useState("15"),[vt,Et]=reactExports.useState(""),[_t,wt]=reactExports.useState(""),[St,Ct]=reactExports.useState(""),[jt,Rt]=reactExports.useState(null),[Pt,Ot]=reactExports.useState(null),[Ft,Lt]=reactExports.useState([]),[Bt,Gt]=reactExports.useState([]),[It,qt]=reactExports.useState(null),[Nt,Dt]=reactExports.useState(!1),[Tt,Mt]=reactExports.useState({}),[$t,Ht]=reactExports.useState({}),[Wt,Vt]=reactExports.useState(""),[Yt,Qt]=reactExports.useState([]),[ar,Xt]=reactExports.useState([]),[tr,rr]=reactExports.useState(""),[ur,Jt]=reactExports.useState(!1),[Zt,or]=reactExports.useState(null),[dr,Ar]=reactExports.useState(!1),Nr=reactExports.useRef(null),Mr=reactExports.useRef(null),Gr=reactExports.useRef(null),[Yr,en]=reactExports.useState(!1),[Jr,on]=reactExports.useState(!1),[sn,an]=reactExports.useState(!1),[dn,pr]=reactExports.useState(!1),[Er,sr]=reactExports.useState(!1),[vr,Pr]=reactExports.useState(null),[Kr,Ln]=reactExports.useState(!1),[kn,qn]=reactExports.useState(null),[vn,fn]=reactExports.useState(null),$n=reactExports.useRef(!1);reactExports.useEffect(()=>{if($n.current)return;$n.current=!0;const yr=getTeacherPreferencesFromProfile(te);yr.defaultGrade&&GRADE_OPTIONS.some(tn=>tn===yr.defaultGrade)&&mt(yr.defaultGrade);const $r=prefSubjectIdToDisplay(yr.defaultSubject);$r&&SUBJECT_OPTIONS.includes($r)&&dt($r)},[te?.defaultGrade,te?.defaultSubject]);const bn=new Set;St.trim()&&bn.add(1),jt&&bn.add(2),Ft.length>0&&bn.add(3),Bt.length>0&&bn.add(4),It&&bn.add(5);const ni=()=>{const yr=ht.trim();if(!yr)return;en(!1);const $r=generateTaskDesign({subject:ut,topic:yr,grade:pt,duration:xt.trim()||"15",difficulty:vt||void 0,prerequisites:_t||void 0});Nr.current=$r,$r.then(()=>en(!0)).catch(()=>en(!1)),xe(1),it(1),an(!1),pr(!1),sr(!1)},mi=async()=>{const yr=Nr.current;if(!yr){or("");return}Ar(!0),or(null);try{const $r=await yr;Ct($r.objective||""),Mr.current=$r.json??null,Gr.current=$r.markdown??null,Nr.current=null}catch($r){or($r instanceof Error?$r.message:"")}finally{Ar(!1)}},Wn=async()=>{const yr=Wt.trim();if(yr){Jt(!0),or(null);try{const{items:$r}=await searchVideos(yr,6);Qt($r)}catch($r){or($r instanceof Error?$r.message:"")}finally{Jt(!1)}}},ii=async()=>{const yr=tr.trim();if(!yr)return;const $r=extractYouTubeVideoId$1(yr);if(!$r){or(" YouTube ");return}if(Yt.some(tn=>tn.id===$r)||ar.some(tn=>tn.id===$r)){or("");return}Jt(!0),or(null);try{const tn=await fetch(`https://www.youtube.com/oembed?url=${encodeURIComponent(yr)}&format=json`);let yn="";if(tn.ok){const mn=await tn.json();mn?.title&&(yn=mn.title)}const Sn={id:$r,title:yn,thumbnailUrl:`https://img.youtube.com/vi/${$r}/mqdefault.jpg`,url:yr};Xt(mn=>[...mn,Sn]),rr("")}catch(tn){or(tn instanceof Error?tn.message:"")}finally{Jt(!1)}},gi=yr=>{Ot(yr),Rt({title:yr.title}),or(null)},Ki=()=>{const $r=Mr.current?.key_points||[];Lt($r.map(tn=>parseKeyPointToKeyIdea(tn))),xe(3),it(tn=>Math.max(tn,3))};reactExports.useEffect(()=>{if(ne!==4||Bt.length>0)return;const $r=Mr.current?.practice;if(!$r)return;const tn=[],yn=$r.guided_practice||$r.we_do||[],Sn=$r.independent_practice||$r.you_do||[];yn.forEach(mn=>{mn?.q&&tn.push({question:mn.q,correctAnswer:mn.a})}),Sn.forEach(mn=>{mn?.q&&tn.push({question:mn.q,correctAnswer:mn.a})}),tn.length>0&&Gt(tn)},[ne,Bt.length]),reactExports.useEffect(()=>{if(ne!==5||It)return;const yn=(Mr.current?.exit_ticket?.items||[])[0];yn?.q&&qt({question:yn.q,correctAnswer:yn.a})},[ne,It]);const Li=async()=>{Ln(!0),fn(null),qn(null),xe(6),it(yr=>Math.max(yr,6));try{const yr=buildSystemTask({topic:ht,subject:ut,grade:pt,difficulty:vt,learningObjective:St,selectedVideoItem:Pt,keyIdeas:Ft,practiceQuestions:Bt,exitTicketQuestion:It,taskDesignJson:Mr.current,taskDesignMarkdown:Gr.current});Pr(yr);const{taskId:$r}=await saveTask(yr,ee?.id,{subject:ut,grade:pt,topic:ht,taskType:lt,durationMin:parseInt(xt,10)||15,difficulty:vt,prerequisites:_t}),tn=await createCourse({taskIds:[$r]},ee?.id);qn(tn.url),Ln(!1)}catch(yr){console.error("Failed to generate task:",yr),fn(yr instanceof Error?yr.message:""),Ln(!1)}},En=()=>{const yr=Gr.current;if(!yr?.trim()){window.alert("");return}const $r=new Blob([yr],{type:"text/markdown;charset=utf-8"}),tn=document.createElement("a");tn.href=URL.createObjectURL($r),tn.download=`-${ht}-${Date.now()}.md`,tn.click(),URL.revokeObjectURL(tn.href)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-2rem)] w-full px-6 py-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:""})}),ne>=1&&jsxRuntimeExports.jsx(Stepper,{currentStep:ne,maxStepReached:rt,completedSteps:bn,onStepClick:yr=>xe(yr)}),Zt&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive mb-2",children:Zt}),ne===0&&jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto w-full",children:jsxRuntimeExports.jsx(Card,{className:"border-2",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-foreground",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 max-w-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:""}),jsxRuntimeExports.jsx(Tabs,{value:lt,onValueChange:yr=>yr&&ct(yr),children:jsxRuntimeExports.jsx(TabsList,{className:"grid w-full grid-cols-3",children:TASK_TYPES.map(yr=>jsxRuntimeExports.jsxs(TabsTrigger,{value:yr.id,disabled:!yr.available,children:[yr.label,!yr.available&&jsxRuntimeExports.jsx("span",{className:"ml-1 text-[10px] text-muted-foreground",children:"()"})]},yr.id))})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:""}),jsxRuntimeExports.jsx(Input,{placeholder:"",value:ht,onChange:yr=>ft(yr.target.value),onKeyDown:yr=>yr.key==="Enter"&&ht.trim()&&ni(),className:"h-11 text-base"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:""}),jsxRuntimeExports.jsxs("select",{value:ut,onChange:yr=>dt(yr.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:""}),SUBJECT_OPTIONS.map(yr=>jsxRuntimeExports.jsx("option",{value:yr,children:yr},yr))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:""}),jsxRuntimeExports.jsxs("select",{value:pt,onChange:yr=>mt(yr.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:""}),GRADE_OPTIONS.map(yr=>jsxRuntimeExports.jsx("option",{value:yr,children:yr},yr))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:""}),jsxRuntimeExports.jsx(Input,{type:"number",min:5,max:120,placeholder:"15",value:xt,onChange:yr=>yt(yr.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:[" ",jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),jsxRuntimeExports.jsxs("select",{value:vt,onChange:yr=>Et(yr.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:""}),DIFFICULTY_OPTIONS.map(yr=>jsxRuntimeExports.jsx("option",{value:yr,children:yr},yr))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:[" ",jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),jsxRuntimeExports.jsx(Input,{placeholder:"",value:_t,onChange:yr=>wt(yr.target.value),className:"h-11 text-base"})]}),jsxRuntimeExports.jsxs(Button,{size:"lg",className:"w-full h-12 mt-2",onClick:ni,disabled:!ht.trim(),children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 mr-2"}),""]})]})]})})}),ne===1&&jsxRuntimeExports.jsx("div",{className:"w-full",children:St.trim()?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:""}),jsxRuntimeExports.jsx("textarea",{className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"",value:St,onChange:yr=>Ct(yr.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>{xe(0),it(0)},children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{xe(2),it(2)},disabled:!St.trim(),children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-amber-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-7 h-7 text-amber-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`



`,speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:Yr?jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:mi,disabled:!ht.trim()||dr,children:[dr?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin mr-2"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"}),""]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}),""]})})]})})]})})}),ne===2&&jsxRuntimeExports.jsx("div",{className:"w-full",children:Jr?jsxRuntimeExports.jsxs("div",{className:"space-y-6 w-full",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-1",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" URL "}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(Input,{placeholder:" Enter ",value:Wt,onChange:yr=>Vt(yr.target.value),onKeyDown:yr=>yr.key==="Enter"&&Wn(),className:"max-w-sm"})})]}),ur&&Yt.length===0&&ar.length===0?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-12",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}),""]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 items-stretch",children:[[...Yt,...ar.filter(yr=>!Yt.some($r=>$r.id===yr.id))].map(yr=>jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden hover:ring-2 hover:ring-primary transition-all group h-full grid grid-rows-[auto_1fr_auto] gap-0 min-h-0",children:[jsxRuntimeExports.jsx("div",{className:"relative aspect-video w-full bg-muted overflow-hidden",children:jsxRuntimeExports.jsx("iframe",{src:`https://www.youtube.com/embed/${yr.id}`,title:yr.title,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),jsxRuntimeExports.jsx("div",{className:"p-3 min-h-0 flex items-start",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium line-clamp-2",children:yr.title})}),jsxRuntimeExports.jsx("div",{className:"p-3 pt-0",children:Pt?.id===yr.id?jsxRuntimeExports.jsxs("div",{className:"flex h-8 w-full items-center justify-center gap-1.5 rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground","aria-label":"",children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"}),""]}):jsxRuntimeExports.jsxs(Button,{size:"sm",className:"w-full",onClick:()=>gi(yr),disabled:ur,children:[jsxRuntimeExports.jsx(Video,{className:"w-3 h-3 mr-1"}),""]})})]},yr.id)),jsxRuntimeExports.jsx(Card,{className:"overflow-hidden border-2 border-dashed hover:border-primary/50 transition-colors cursor-pointer flex flex-col items-center justify-center min-h-[200px]",onClick:()=>document.getElementById("paste-url-input")?.focus(),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6 flex flex-col items-center justify-center flex-1 w-full",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-light text-muted-foreground",children:"+"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsx(Input,{id:"paste-url-input",placeholder:" YouTube ",value:tr,onChange:yr=>rr(yr.target.value),onKeyDown:yr=>yr.key==="Enter"&&ii(),className:"max-w-md"}),jsxRuntimeExports.jsxs(Button,{onClick:ii,disabled:!tr.trim()||ur,children:[jsxRuntimeExports.jsx(Link,{className:"w-4 h-4 mr-1"}),""]})]}),jt&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-700",children:["",jt.title," "]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>xe(1),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Wn,disabled:!Wt.trim()||ur,children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:Ki,disabled:!jt,children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Video,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`



 YouTube `,speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:async()=>{on(!0);const yr=ht.trim()||" ";Vt(yr),Jt(!0),or(null);try{const{items:$r}=await searchVideos(yr,6);Qt($r)}catch($r){or($r instanceof Error?$r.message:"")}finally{Jt(!1)}},children:[jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"}),""]})})]})})]})})}),ne===3&&jsxRuntimeExports.jsx("div",{className:"w-full",children:sn?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:""}),Ft.length>0&&jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside space-y-3 text-sm mb-4",children:Ft.map((yr,$r)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(KeyIdeaBlock,{idea:yr})},$r))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>xe(2),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{xe(4),it(yr=>Math.max(yr,4))},children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(ListOrdered,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`

`,speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:()=>an(!0),children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"})]})})]})})]})})}),ne===4&&jsxRuntimeExports.jsx("div",{className:"w-full",children:dn?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-1",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:""}),Bt.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-5 mb-6",children:Bt.map((yr,$r)=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[$r+1,"."]}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:yr.options?.length?"":""}),yr.options?.length?jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 shrink-0 text-gray-400"}):null]}),jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 mb-4",children:yr.question}),yr.options?.length?jsxRuntimeExports.jsx("div",{className:"space-y-2 mb-4",role:"radiogroup","aria-label":` ${$r+1} `,children:yr.options.map((tn,yn)=>{const Sn=$t[$r]===yn,mn=!!Tt[$r],as=yr.correctIndex===yn,_n=mn&&Sn&&!as,Dn=mn&&as,si=mn&&Sn&&_n;return jsxRuntimeExports.jsxs("button",{type:"button",role:"radio","aria-checked":Sn,"aria-label":` ${String.fromCharCode(65+yn)}: ${tn}`,onClick:()=>Ht(bi=>{const Ei={...bi};return bi[$r]===yn?delete Ei[$r]:Ei[$r]=yn,Ei}),className:`
                                w-full flex items-center gap-3 rounded-lg px-3 py-2.5 text-left
                                transition-colors cursor-pointer border-2
                                hover:border-gray-400 hover:bg-gray-50
                                focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-amber-400
                                ${Sn&&!mn?"border-amber-500 bg-amber-50/80":"border-transparent bg-gray-100"}
                                ${Dn?"border-green-500 bg-green-50":""}
                                ${si?"border-red-400 bg-red-50":""}
                              `,children:[jsxRuntimeExports.jsx("span",{className:`
                                  flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-xs font-medium
                                  ${Dn?"bg-green-500 text-white":""}
                                  ${si?"bg-red-400 text-white":""}
                                  ${!mn||!Dn&&!si?"bg-gray-500 text-white":""}
                                `,children:String.fromCharCode(65+yn)}),jsxRuntimeExports.jsxs("span",{className:Dn?"font-medium text-green-800":si?"text-red-800":"text-gray-800",children:[tn,Dn&&" "]})]},yn)})}):null,jsxRuntimeExports.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-sm text-gray-900 hover:text-gray-700",onClick:()=>Mt(tn=>({...tn,[$r]:!tn[$r]})),children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),Tt[$r]?"":""]}),Tt[$r]&&(yr.correctAnswer||yr.explanation)&&jsxRuntimeExports.jsxs("div",{className:"mt-3 rounded-lg bg-green-50 p-3 text-sm",children:[yr.correctAnswer&&jsxRuntimeExports.jsxs("p",{className:"font-medium text-green-800",children:["",yr.correctAnswer]}),yr.explanation&&jsxRuntimeExports.jsxs("p",{className:"mt-1 text-green-700/90",children:["",yr.explanation]})]})]},$r))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>xe(3),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{xe(5),it(yr=>Math.max(yr,5))},children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileQuestion,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:"",speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:()=>pr(!0),children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"})]})})]})})]})})}),ne===5&&jsxRuntimeExports.jsx("div",{className:"w-full",children:Er?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:""}),It&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 mb-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:It.question}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-auto py-0 text-xs",onClick:()=>Dt(yr=>!yr),children:Nt?"":""}),Nt&&It.correctAnswer&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["",It.correctAnswer]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>xe(4),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:Li,children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Ticket,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:"",speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:()=>sr(!0),children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"})]})})]})})]})})}),ne===6&&jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-indigo-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-7 h-7 text-indigo-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`

 
  AI 
 


 
 
 

`,speed:30,className:"mb-6"}),vn?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:vn}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>xe(5),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsx(Button,{onClick:Li,children:""})]})]}):Kr?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:""}),jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin text-muted-foreground"})]}):jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>{xe(7),it(yr=>Math.max(yr,7))},children:[" ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})})]})})]})}),ne===7&&vr&&jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-indigo-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-7 h-7 text-indigo-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("p",{className:"text-base mb-2",children:""}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 mb-6",children:[jsxRuntimeExports.jsxs("li",{children:[" ",vr.title]}),jsxRuntimeExports.jsxs("li",{children:[" ",Pt?.title??""]}),jsxRuntimeExports.jsxs("li",{children:[" ",Ft.length," "]}),jsxRuntimeExports.jsxs("li",{children:[" ",Bt.length," "]}),It&&jsxRuntimeExports.jsx("li",{children:" 1 "})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>xe(5),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:En,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-1"}),""]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{kn&&window.open(kn,"_blank")},disabled:!kn,children:[" ",jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 ml-1"})]})]})]})})]})})]})}function AppContent(){const{user:ee,loading:te,login:ne}=useAuth(),[xe,rt]=reactExports.useState("login"),[it,lt]=reactExports.useState("learn-your-way"),[ct,ut]=reactExports.useState(null),[dt,ht]=reactExports.useState(null),[ft,pt]=reactExports.useState(null),[mt,xt]=reactExports.useState(null),yt=async()=>{try{await ne("student@demo.com","demo123"),lt("learn-your-way"),setTimeout(()=>{const Wt=new CustomEvent("triggerPDFUpload");window.dispatchEvent(Wt)},100)}catch($t){console.error("Quick experience failed:",$t)}};if(reactExports.useEffect(()=>{if(ee)if(ee.role==="teacher")lt("overview"),rt("dashboard");else{const $t=!ee.grade&&(!ee.interests||ee.interests.length===0);rt($t?"onboarding":"dashboard"),$t||lt("learn-your-way")}else rt("login")},[ee]),te)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"..."})]})});if(!ee&&xe==="login")return jsxRuntimeExports.jsx(LoginPage,{onSuccess:()=>{},onQuickExperience:yt});if(xe==="onboarding")return jsxRuntimeExports.jsx(OnboardingPage,{onComplete:()=>rt("dashboard")});const vt=$t=>{ut($t),rt("chapter")},Et=()=>{rt("quiz")},_t=()=>{rt("dashboard"),ut(null)},wt=$t=>{lt($t),rt("dashboard")},St=$t=>{console.log("Starting PDF learning with:",$t),console.log("Selected interests:",$t.interests),rt("dashboard")},Ct=$t=>{ht($t),rt("learning-mode-selection")},jt=$t=>{switch(console.log("Selected learning mode:",$t,"for PDF:",dt),$t){case"immersive-text":rt("immersive-text");break;case"slides-narration":rt("slides-narration");break;case"audio-lesson":rt("audio-lesson");break;case"mindmap":rt("mindmap");break;case"game":rt("game");break;case"video":rt("video");break;default:rt("dashboard")}},Rt=()=>{rt("dashboard"),lt("learn-your-way")},Pt=()=>{rt("learning-mode-selection")},Ot=()=>{rt("learning-mode-selection")},Ft=()=>{rt("learning-mode-selection")},Lt=()=>{rt("learning-mode-selection")},Bt=()=>{rt("learning-mode-selection")},Gt=()=>{rt("learning-mode-selection")},It=$t=>{jt($t)},qt=($t,Ht)=>{pt({selectedText:$t,context:Ht,timestamp:Date.now()})},Nt=()=>{if(xe==="teaching-document")return jsxRuntimeExports.jsx(TeachingDocumentPage,{courseData:mt,designData:mt,onBack:()=>{rt("core-design")},onNext:()=>{rt("task-configuration")}});if(xe==="task-configuration")return jsxRuntimeExports.jsx(TaskConfigurationPage,{courseData:mt,designData:mt,courseId:mt?.courseId,onBack:()=>{rt("teaching-document")},onPublish:()=>{alert(""),rt("dashboard"),lt("courses")}});if(xe==="core-design")return jsxRuntimeExports.jsx(CoreDesignPage,{courseData:mt,onBack:()=>{rt("dashboard"),lt("course-design")},onComplete:$t=>{console.log("Design completed:",$t),xt({...mt,...$t}),rt("teaching-document")}});switch(it){case"overview":return jsxRuntimeExports.jsx(TeacherOverview,{});case"course-design":return jsxRuntimeExports.jsx(AICourseDesignPage,{onNextStep:$t=>{$t?.plan&&xt({...mt,plan:$t.plan,courseId:$t.courseId,courseUrl:$t.courseUrl}),$t?.courseId&&rt("dashboard")}});case"courses":return jsxRuntimeExports.jsx(CourseManagementPage,{});case"tasks":return jsxRuntimeExports.jsx(TaskManagementPage,{});case"classes":return jsxRuntimeExports.jsx(ClassManagementPage,{});case"materials":return jsxRuntimeExports.jsx(TeachingResourcesPage,{});case"settings":return jsxRuntimeExports.jsx(TeacherSettingsPage,{});default:return jsxRuntimeExports.jsx(TeacherOverview,{})}},Dt=()=>{if(xe==="mindmap"&&dt)return jsxRuntimeExports.jsx(MindmapPage,{pdfData:dt,onBack:Lt,onSwitchMode:It,onAskTutor:qt});if(xe==="audio-lesson"&&dt)return jsxRuntimeExports.jsx(AudioLessonPage,{pdfData:dt,onBack:Ft,onSwitchMode:It,onAskTutor:qt});if(xe==="game"&&dt)return jsxRuntimeExports.jsx(GamePage,{pdfData:dt,onBack:Bt,onSwitchMode:It,onAskTutor:qt});if(xe==="video"&&dt)return jsxRuntimeExports.jsx(VideoPage,{pdfData:dt,onBack:Gt,onSwitchMode:It,onAskTutor:qt});if(xe==="slides-narration"&&dt)return jsxRuntimeExports.jsx(SlidesNarrationPage,{pdfData:dt,onBack:Ot,onSwitchMode:It,onAskTutor:qt});if(xe==="immersive-text"&&dt)return jsxRuntimeExports.jsx(ImmersiveTextPage,{pdfData:dt,onBack:Pt,onSwitchMode:It,onAskTutor:qt});if(xe==="learning-mode-selection"&&dt)return jsxRuntimeExports.jsx(LearningModeSelection,{pdfData:dt,onSelectMode:jt,onBack:Rt});if(xe==="chapter"&&ct)return jsxRuntimeExports.jsx(EnhancedChapterPage,{chapterId:ct,onBack:_t,onStartQuiz:Et});if(xe==="quiz")return jsxRuntimeExports.jsx(QuizPage,{chapterId:ct||"1",onBack:()=>rt("chapter"),onComplete:_t});switch(it){case"home":return jsxRuntimeExports.jsx(HomePage,{onStartChapter:vt});case"paths":return jsxRuntimeExports.jsx(LearningPathsPage,{onStartPath:vt});case"reports":return jsxRuntimeExports.jsx(ReportsPage,{});case"learn-your-way":return jsxRuntimeExports.jsx(LearnYourWayPage,{onStartPDFLearning:St,onPersonalizePDF:Ct});case"settings":return jsxRuntimeExports.jsx(SettingsPage,{});default:return jsxRuntimeExports.jsx(HomePage,{onStartChapter:vt})}},Tt=["learning-mode-selection","immersive-text","slides-narration","audio-lesson","mindmap","game","video"].includes(xe),Mt=["learning-mode-selection","immersive-text","slides-narration","audio-lesson","mindmap","game","video"].includes(xe);return ee?.role==="teacher"?jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-muted",children:[jsxRuntimeExports.jsx(TeacherSidebar,{activeSection:it,onSectionChange:wt}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:Nt()})]}):jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-muted",children:[!Mt&&jsxRuntimeExports.jsx(Sidebar,{activeSection:it,onSectionChange:wt}),jsxRuntimeExports.jsx("main",{className:`flex-1 overflow-auto ${Tt?"mr-[400px]":""}`,children:Dt()}),Tt&&jsxRuntimeExports.jsx("div",{className:"fixed right-0 top-0 bottom-0 w-[400px] z-30",children:jsxRuntimeExports.jsx(AITutor,{subject:"",context:"",isFixedSidebar:!0,tutorQuestionTrigger:ft,onActionClick:$t=>{console.log("AI Tutor action:",$t)}})})]})}function App(){return jsxRuntimeExports.jsx(PublishedCoursesProvider,{children:jsxRuntimeExports.jsx("div",{className:"size-full",children:jsxRuntimeExports.jsx(AppContent,{})})})}const scriptRel="modulepreload",assetsURL=function(ee){return"/"+ee},seen={},__vitePreload=function(te,ne,xe){let rt=Promise.resolve();if(ne&&ne.length>0){let lt=function(dt){return Promise.all(dt.map(ht=>Promise.resolve(ht).then(ft=>({status:"fulfilled",value:ft}),ft=>({status:"rejected",reason:ft}))))};document.getElementsByTagName("link");const ct=document.querySelector("meta[property=csp-nonce]"),ut=ct?.nonce||ct?.getAttribute("nonce");rt=lt(ne.map(dt=>{if(dt=assetsURL(dt),dt in seen)return;seen[dt]=!0;const ht=dt.endsWith(".css"),ft=ht?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${dt}"]${ft}`))return;const pt=document.createElement("link");if(pt.rel=ht?"stylesheet":scriptRel,ht||(pt.as="script"),pt.crossOrigin="",pt.href=dt,ut&&pt.setAttribute("nonce",ut),document.head.appendChild(pt),ht)return new Promise((mt,xt)=>{pt.addEventListener("load",mt),pt.addEventListener("error",()=>xt(new Error(`Unable to preload CSS for ${dt}`)))})}))}function it(lt){const ct=new Event("vite:preloadError",{cancelable:!0});if(ct.payload=lt,window.dispatchEvent(ct),!ct.defaultPrevented)throw lt}return rt.then(lt=>{for(const ct of lt||[])ct.status==="rejected"&&it(ct.reason);return te().catch(it)})},VIEW_TYPE_LABELS={image_gallery:"AI ",video_player:"AI ",mindmap_editor:"",table_editor:"",text_editor:"",math_editor:"",interactive_experiment:""},getBaseUrl=()=>"http://localhost:3002".replace(/\/$/,"");async function upsertStudentCourseProgress(ee){const{data:{session:te}}=await supabase.auth.getSession();if(!te?.access_token)return;const ne=getBaseUrl(),xe=await fetch(`${ne}/api/student-course-progress`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te.access_token}`},body:JSON.stringify({courseId:ee.courseId,progress:Math.min(100,Math.max(0,ee.progress)),completed:ee.completed??!1,timeSpentSeconds:ee.timeSpentSeconds??0,lastTaskIndex:ee.lastTaskIndex??0})});if(!xe.ok){const rt=await xe.json().catch(()=>({}));console.warn("[studentProgressApi] Upsert failed:",rt.error||xe.statusText)}}function ok$1(){}function unreachable(){}function parse$4(ee){const te=[],ne=String(ee||"");let xe=ne.indexOf(","),rt=0,it=!1;for(;!it;){xe===-1&&(xe=ne.length,it=!0);const lt=ne.slice(rt,xe).trim();(lt||!it)&&te.push(lt),rt=xe+1,xe=ne.indexOf(",",rt)}return te}function stringify$2(ee,te){const ne={};return(ee[ee.length-1]===""?[...ee,""]:ee).join((ne.padRight?" ":"")+","+(ne.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name(ee,te){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(ee)}const re$1=/[ \t\n\f\r]/g;function whitespace$1(ee){return typeof ee=="object"?ee.type==="text"?empty$2(ee.value):!1:empty$2(ee)}function empty$2(ee){return ee.replace(re$1,"")===""}class Schema{constructor(te,ne,xe){this.normal=ne,this.property=te,xe&&(this.space=xe)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge$2(ee,te){const ne={},xe={};for(const rt of ee)Object.assign(ne,rt.property),Object.assign(xe,rt.normal);return new Schema(ne,xe,te)}function normalize$1(ee){return ee.toLowerCase()}class Info{constructor(te,ne){this.attribute=ne,this.property=te}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(te,ne,xe,rt){let it=-1;if(super(te,ne),mark(this,"space",rt),typeof xe=="number")for(;++it<checks.length;){const lt=checks[it];mark(this,checks[it],(xe&types[lt])===types[lt])}}}DefinedInfo.prototype.defined=!0;function mark(ee,te,ne){ne&&(ee[te]=ne)}function create$2(ee){const te={},ne={};for(const[xe,rt]of Object.entries(ee.properties)){const it=new DefinedInfo(xe,ee.transform(ee.attributes||{},xe),rt,ee.space);ee.mustUseProperty&&ee.mustUseProperty.includes(xe)&&(it.mustUseProperty=!0),te[xe]=it,ne[normalize$1(xe)]=xe,ne[normalize$1(it.attribute)]=xe}return new Schema(te,ne,ee.space)}const aria=create$2({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(ee,te){return te==="role"?te:"aria-"+te.slice(4).toLowerCase()}});function caseSensitiveTransform(ee,te){return te in ee?ee[te]:te}function caseInsensitiveTransform(ee,te){return caseSensitiveTransform(ee,te.toLowerCase())}const html$5=create$2({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$3=create$2({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create$2({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(ee,te){return"xlink:"+te.slice(5).toLowerCase()}}),xmlns=create$2({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml$1=create$2({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(ee,te){return"xml:"+te.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find$1(ee,te){const ne=normalize$1(te);let xe=te,rt=Info;if(ne in ee.normal)return ee.property[ee.normal[ne]];if(ne.length>4&&ne.slice(0,4)==="data"&&valid.test(te)){if(te.charAt(4)==="-"){const it=te.slice(5).replace(dash,camelcase);xe="data"+it.charAt(0).toUpperCase()+it.slice(1)}else{const it=te.slice(4);if(!dash.test(it)){let lt=it.replace(cap$1,kebab);lt.charAt(0)!=="-"&&(lt="-"+lt),te="data"+lt}}rt=DefinedInfo}return new rt(xe,te)}function kebab(ee){return"-"+ee.toLowerCase()}function camelcase(ee){return ee.charAt(1).toUpperCase()}const html$4=merge$2([aria,html$5,xlink,xmlns,xml$1],"html"),svg$2=merge$2([aria,svg$3,xlink,xmlns,xml$1],"svg");function parse$3(ee){const te=String(ee||"").trim();return te?te.split(/[ \t\n\r\f]+/g):[]}function stringify$1(ee){return ee.join(" ").trim()}var cjs$2={},cjs$1,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$1;hasRequiredCjs$2=1;var ee=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,te=/\n/g,ne=/^\s*/,xe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rt=/^:\s*/,it=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,lt=/^[;\s]*/,ct=/^\s+|\s+$/g,ut=`
`,dt="/",ht="*",ft="",pt="comment",mt="declaration";function xt(vt,Et){if(typeof vt!="string")throw new TypeError("First argument must be a string");if(!vt)return[];Et=Et||{};var _t=1,wt=1;function St(It){var qt=It.match(te);qt&&(_t+=qt.length);var Nt=It.lastIndexOf(ut);wt=~Nt?It.length-Nt:wt+It.length}function Ct(){var It={line:_t,column:wt};return function(qt){return qt.position=new jt(It),Ot(),qt}}function jt(It){this.start=It,this.end={line:_t,column:wt},this.source=Et.source}jt.prototype.content=vt;function Rt(It){var qt=new Error(Et.source+":"+_t+":"+wt+": "+It);if(qt.reason=It,qt.filename=Et.source,qt.line=_t,qt.column=wt,qt.source=vt,!Et.silent)throw qt}function Pt(It){var qt=It.exec(vt);if(qt){var Nt=qt[0];return St(Nt),vt=vt.slice(Nt.length),qt}}function Ot(){Pt(ne)}function Ft(It){var qt;for(It=It||[];qt=Lt();)qt!==!1&&It.push(qt);return It}function Lt(){var It=Ct();if(!(dt!=vt.charAt(0)||ht!=vt.charAt(1))){for(var qt=2;ft!=vt.charAt(qt)&&(ht!=vt.charAt(qt)||dt!=vt.charAt(qt+1));)++qt;if(qt+=2,ft===vt.charAt(qt-1))return Rt("End of comment missing");var Nt=vt.slice(2,qt-2);return wt+=2,St(Nt),vt=vt.slice(qt),wt+=2,It({type:pt,comment:Nt})}}function Bt(){var It=Ct(),qt=Pt(xe);if(qt){if(Lt(),!Pt(rt))return Rt("property missing ':'");var Nt=Pt(it),Dt=It({type:mt,property:yt(qt[0].replace(ee,ft)),value:Nt?yt(Nt[0].replace(ee,ft)):ft});return Pt(lt),Dt}}function Gt(){var It=[];Ft(It);for(var qt;qt=Bt();)qt!==!1&&(It.push(qt),Ft(It));return It}return Ot(),Gt()}function yt(vt){return vt?vt.replace(ct,ft):ft}return cjs$1=xt,cjs$1}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$2;hasRequiredCjs$1=1;var ee=cjs$2&&cjs$2.__importDefault||function(xe){return xe&&xe.__esModule?xe:{default:xe}};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.default=ne;const te=ee(requireCjs$2());function ne(xe,rt){let it=null;if(!xe||typeof xe!="string")return it;const lt=(0,te.default)(xe),ct=typeof rt=="function";return lt.forEach(ut=>{if(ut.type!=="declaration")return;const{property:dt,value:ht}=ut;ct?rt(dt,ht,ut):ht&&(it=it||{},it[dt]=ht)}),it}return cjs$2}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var ee=/^--[a-zA-Z0-9_-]+$/,te=/-([a-z])/g,ne=/^[^-]+$/,xe=/^-(webkit|moz|ms|o|khtml)-/,rt=/^-(ms)-/,it=function(dt){return!dt||ne.test(dt)||ee.test(dt)},lt=function(dt,ht){return ht.toUpperCase()},ct=function(dt,ht){return"".concat(ht,"-")},ut=function(dt,ht){return ht===void 0&&(ht={}),it(dt)?dt:(dt=dt.toLowerCase(),ht.reactCompat?dt=dt.replace(rt,ct):dt=dt.replace(xe,ct),dt.replace(te,lt))};return utilities.camelCase=ut,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var ee=cjs&&cjs.__importDefault||function(rt){return rt&&rt.__esModule?rt:{default:rt}},te=ee(requireCjs$1()),ne=requireUtilities();function xe(rt,it){var lt={};return!rt||typeof rt!="string"||(0,te.default)(rt,function(ct,ut){ct&&ut&&(lt[(0,ne.camelCase)(ct,it)]=ut)}),lt}return xe.default=xe,cjs=xe,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$3("end"),pointStart=point$3("start");function point$3(ee){return te;function te(ne){const xe=ne&&ne.position&&ne.position[ee]||{};if(typeof xe.line=="number"&&xe.line>0&&typeof xe.column=="number"&&xe.column>0)return{line:xe.line,column:xe.column,offset:typeof xe.offset=="number"&&xe.offset>-1?xe.offset:void 0}}}function position$2(ee){const te=pointStart(ee),ne=pointEnd(ee);if(te&&ne)return{start:te,end:ne}}function stringifyPosition(ee){return!ee||typeof ee!="object"?"":"position"in ee||"type"in ee?position$1(ee.position):"start"in ee||"end"in ee?position$1(ee):"line"in ee||"column"in ee?point$2(ee):""}function point$2(ee){return index$1(ee&&ee.line)+":"+index$1(ee&&ee.column)}function position$1(ee){return point$2(ee&&ee.start)+"-"+point$2(ee&&ee.end)}function index$1(ee){return ee&&typeof ee=="number"?ee:1}class VFileMessage extends Error{constructor(te,ne,xe){super(),typeof ne=="string"&&(xe=ne,ne=void 0);let rt="",it={},lt=!1;if(ne&&("line"in ne&&"column"in ne?it={place:ne}:"start"in ne&&"end"in ne?it={place:ne}:"type"in ne?it={ancestors:[ne],place:ne.position}:it={...ne}),typeof te=="string"?rt=te:!it.cause&&te&&(lt=!0,rt=te.message,it.cause=te),!it.ruleId&&!it.source&&typeof xe=="string"){const ut=xe.indexOf(":");ut===-1?it.ruleId=xe:(it.source=xe.slice(0,ut),it.ruleId=xe.slice(ut+1))}if(!it.place&&it.ancestors&&it.ancestors){const ut=it.ancestors[it.ancestors.length-1];ut&&(it.place=ut.position)}const ct=it.place&&"start"in it.place?it.place.start:it.place;this.ancestors=it.ancestors||void 0,this.cause=it.cause||void 0,this.column=ct?ct.column:void 0,this.fatal=void 0,this.file="",this.message=rt,this.line=ct?ct.line:void 0,this.name=stringifyPosition(it.place)||"1:1",this.place=it.place||void 0,this.reason=this.message,this.ruleId=it.ruleId||void 0,this.source=it.source||void 0,this.stack=lt&&it.cause&&typeof it.cause.stack=="string"?it.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(ee,te){if(!te||te.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const ne=te.filePath||void 0;let xe;if(te.development){if(typeof te.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");xe=developmentCreate(ne,te.jsxDEV)}else{if(typeof te.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof te.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");xe=productionCreate(ne,te.jsx,te.jsxs)}const rt={Fragment:te.Fragment,ancestors:[],components:te.components||{},create:xe,elementAttributeNameCase:te.elementAttributeNameCase||"react",evaluater:te.createEvaluater?te.createEvaluater():void 0,filePath:ne,ignoreInvalidStyle:te.ignoreInvalidStyle||!1,passKeys:te.passKeys!==!1,passNode:te.passNode||!1,schema:te.space==="svg"?svg$2:html$4,stylePropertyNameCase:te.stylePropertyNameCase||"dom",tableCellAlignToStyle:te.tableCellAlignToStyle!==!1},it=one$2(rt,ee,void 0);return it&&typeof it!="string"?it:rt.create(ee,rt.Fragment,{children:it||void 0},void 0)}function one$2(ee,te,ne){if(te.type==="element")return element$3(ee,te,ne);if(te.type==="mdxFlowExpression"||te.type==="mdxTextExpression")return mdxExpression(ee,te);if(te.type==="mdxJsxFlowElement"||te.type==="mdxJsxTextElement")return mdxJsxElement(ee,te,ne);if(te.type==="mdxjsEsm")return mdxEsm(ee,te);if(te.type==="root")return root$5(ee,te,ne);if(te.type==="text")return text$9(ee,te)}function element$3(ee,te,ne){const xe=ee.schema;let rt=xe;te.tagName.toLowerCase()==="svg"&&xe.space==="html"&&(rt=svg$2,ee.schema=rt),ee.ancestors.push(te);const it=findComponentFromName(ee,te.tagName,!1),lt=createElementProps(ee,te);let ct=createChildren(ee,te);return tableElements.has(te.tagName)&&(ct=ct.filter(function(ut){return typeof ut=="string"?!whitespace$1(ut):!0})),addNode(ee,lt,it,te),addChildren(lt,ct),ee.ancestors.pop(),ee.schema=xe,ee.create(te,it,lt,ne)}function mdxExpression(ee,te){if(te.data&&te.data.estree&&ee.evaluater){const xe=te.data.estree.body[0];return xe.type,ee.evaluater.evaluateExpression(xe.expression)}crashEstree(ee,te.position)}function mdxEsm(ee,te){if(te.data&&te.data.estree&&ee.evaluater)return ee.evaluater.evaluateProgram(te.data.estree);crashEstree(ee,te.position)}function mdxJsxElement(ee,te,ne){const xe=ee.schema;let rt=xe;te.name==="svg"&&xe.space==="html"&&(rt=svg$2,ee.schema=rt),ee.ancestors.push(te);const it=te.name===null?ee.Fragment:findComponentFromName(ee,te.name,!0),lt=createJsxElementProps(ee,te),ct=createChildren(ee,te);return addNode(ee,lt,it,te),addChildren(lt,ct),ee.ancestors.pop(),ee.schema=xe,ee.create(te,it,lt,ne)}function root$5(ee,te,ne){const xe={};return addChildren(xe,createChildren(ee,te)),ee.create(te,ee.Fragment,xe,ne)}function text$9(ee,te){return te.value}function addNode(ee,te,ne,xe){typeof ne!="string"&&ne!==ee.Fragment&&ee.passNode&&(te.node=xe)}function addChildren(ee,te){if(te.length>0){const ne=te.length>1?te:te[0];ne&&(ee.children=ne)}}function productionCreate(ee,te,ne){return xe;function xe(rt,it,lt,ct){const dt=Array.isArray(lt.children)?ne:te;return ct?dt(it,lt,ct):dt(it,lt)}}function developmentCreate(ee,te){return ne;function ne(xe,rt,it,lt){const ct=Array.isArray(it.children),ut=pointStart(xe);return te(rt,it,lt,ct,{columnNumber:ut?ut.column-1:void 0,fileName:ee,lineNumber:ut?ut.line:void 0},void 0)}}function createElementProps(ee,te){const ne={};let xe,rt;for(rt in te.properties)if(rt!=="children"&&own$3.call(te.properties,rt)){const it=createProperty(ee,rt,te.properties[rt]);if(it){const[lt,ct]=it;ee.tableCellAlignToStyle&&lt==="align"&&typeof ct=="string"&&tableCellElement.has(te.tagName)?xe=ct:ne[lt]=ct}}if(xe){const it=ne.style||(ne.style={});it[ee.stylePropertyNameCase==="css"?"text-align":"textAlign"]=xe}return ne}function createJsxElementProps(ee,te){const ne={};for(const xe of te.attributes)if(xe.type==="mdxJsxExpressionAttribute")if(xe.data&&xe.data.estree&&ee.evaluater){const it=xe.data.estree.body[0];it.type;const lt=it.expression;lt.type;const ct=lt.properties[0];ct.type,Object.assign(ne,ee.evaluater.evaluateExpression(ct.argument))}else crashEstree(ee,te.position);else{const rt=xe.name;let it;if(xe.value&&typeof xe.value=="object")if(xe.value.data&&xe.value.data.estree&&ee.evaluater){const ct=xe.value.data.estree.body[0];ct.type,it=ee.evaluater.evaluateExpression(ct.expression)}else crashEstree(ee,te.position);else it=xe.value===null?!0:xe.value;ne[rt]=it}return ne}function createChildren(ee,te){const ne=[];let xe=-1;const rt=ee.passKeys?new Map:emptyMap;for(;++xe<te.children.length;){const it=te.children[xe];let lt;if(ee.passKeys){const ut=it.type==="element"?it.tagName:it.type==="mdxJsxFlowElement"||it.type==="mdxJsxTextElement"?it.name:void 0;if(ut){const dt=rt.get(ut)||0;lt=ut+"-"+dt,rt.set(ut,dt+1)}}const ct=one$2(ee,it,lt);ct!==void 0&&ne.push(ct)}return ne}function createProperty(ee,te,ne){const xe=find$1(ee.schema,te);if(!(ne==null||typeof ne=="number"&&Number.isNaN(ne))){if(Array.isArray(ne)&&(ne=xe.commaSeparated?stringify$2(ne):stringify$1(ne)),xe.property==="style"){let rt=typeof ne=="object"?ne:parseStyle(ee,String(ne));return ee.stylePropertyNameCase==="css"&&(rt=transformStylesToCssCasing(rt)),["style",rt]}return[ee.elementAttributeNameCase==="react"&&xe.space?hastToReact[xe.property]||xe.property:xe.attribute,ne]}}function parseStyle(ee,te){try{return styleToJs(te,{reactCompat:!0})}catch(ne){if(ee.ignoreInvalidStyle)return{};const xe=ne,rt=new VFileMessage("Cannot parse `style` attribute",{ancestors:ee.ancestors,cause:xe,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw rt.file=ee.filePath||void 0,rt.url=docs+"#cannot-parse-style-attribute",rt}}function findComponentFromName(ee,te,ne){let xe;if(!ne)xe={type:"Literal",value:te};else if(te.includes(".")){const rt=te.split(".");let it=-1,lt;for(;++it<rt.length;){const ct=name(rt[it])?{type:"Identifier",name:rt[it]}:{type:"Literal",value:rt[it]};lt=lt?{type:"MemberExpression",object:lt,property:ct,computed:!!(it&&ct.type==="Literal"),optional:!1}:ct}xe=lt}else xe=name(te)&&!/^[a-z]/.test(te)?{type:"Identifier",name:te}:{type:"Literal",value:te};if(xe.type==="Literal"){const rt=xe.value;return own$3.call(ee.components,rt)?ee.components[rt]:rt}if(ee.evaluater)return ee.evaluater.evaluateExpression(xe);crashEstree(ee)}function crashEstree(ee,te){const ne=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:ee.ancestors,place:te,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw ne.file=ee.filePath||void 0,ne.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",ne}function transformStylesToCssCasing(ee){const te={};let ne;for(ne in ee)own$3.call(ee,ne)&&(te[transformStyleToCssCasing(ne)]=ee[ne]);return te}function transformStyleToCssCasing(ee){let te=ee.replace(cap,toDash);return te.slice(0,3)==="ms-"&&(te="-"+te),te}function toDash(ee){return"-"+ee.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$1(ee,te){const ne=emptyOptions$4,xe=typeof ne.includeImageAlt=="boolean"?ne.includeImageAlt:!0,rt=typeof ne.includeHtml=="boolean"?ne.includeHtml:!0;return one$1(ee,xe,rt)}function one$1(ee,te,ne){if(node$1(ee)){if("value"in ee)return ee.type==="html"&&!ne?"":ee.value;if(te&&"alt"in ee&&ee.alt)return ee.alt;if("children"in ee)return all$1(ee.children,te,ne)}return Array.isArray(ee)?all$1(ee,te,ne):""}function all$1(ee,te,ne){const xe=[];let rt=-1;for(;++rt<ee.length;)xe[rt]=one$1(ee[rt],te,ne);return xe.join("")}function node$1(ee){return!!(ee&&typeof ee=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(ee){const te="&"+ee+";";element$2.innerHTML=te;const ne=element$2.textContent;return ne.charCodeAt(ne.length-1)===59&&ee!=="semi"||ne===te?!1:ne}function splice$1(ee,te,ne,xe){const rt=ee.length;let it=0,lt;if(te<0?te=-te>rt?0:rt+te:te=te>rt?rt:te,ne=ne>0?ne:0,xe.length<1e4)lt=Array.from(xe),lt.unshift(te,ne),ee.splice(...lt);else for(ne&&ee.splice(te,ne);it<xe.length;)lt=xe.slice(it,it+1e4),lt.unshift(te,0),ee.splice(...lt),it+=1e4,te+=1e4}function push(ee,te){return ee.length>0?(splice$1(ee,ee.length,0,te),ee):te}const hasOwnProperty$b={}.hasOwnProperty;function combineExtensions(ee){const te={};let ne=-1;for(;++ne<ee.length;)syntaxExtension(te,ee[ne]);return te}function syntaxExtension(ee,te){let ne;for(ne in te){const rt=(hasOwnProperty$b.call(ee,ne)?ee[ne]:void 0)||(ee[ne]={}),it=te[ne];let lt;if(it)for(lt in it){hasOwnProperty$b.call(rt,lt)||(rt[lt]=[]);const ct=it[lt];constructs(rt[lt],Array.isArray(ct)?ct:ct?[ct]:[])}}}function constructs(ee,te){let ne=-1;const xe=[];for(;++ne<te.length;)(te[ne].add==="after"?ee:xe).push(te[ne]);splice$1(ee,0,0,xe)}function decodeNumericCharacterReference(ee,te){const ne=Number.parseInt(ee,te);return ne<9||ne===11||ne>13&&ne<32||ne>126&&ne<160||ne>55295&&ne<57344||ne>64975&&ne<65008||(ne&65535)===65535||(ne&65535)===65534||ne>1114111?"":String.fromCodePoint(ne)}function normalizeIdentifier(ee){return ee.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(ee){return ee!==null&&(ee<32||ee===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(ee){return ee!==null&&ee<-2}function markdownLineEndingOrSpace(ee){return ee!==null&&(ee<0||ee===32)}function markdownSpace(ee){return ee===-2||ee===-1||ee===32}const unicodePunctuation=regexCheck(/\p{P}|\p{S}/u),unicodeWhitespace=regexCheck(/\s/);function regexCheck(ee){return te;function te(ne){return ne!==null&&ne>-1&&ee.test(String.fromCharCode(ne))}}function normalizeUri(ee){const te=[];let ne=-1,xe=0,rt=0;for(;++ne<ee.length;){const it=ee.charCodeAt(ne);let lt="";if(it===37&&asciiAlphanumeric(ee.charCodeAt(ne+1))&&asciiAlphanumeric(ee.charCodeAt(ne+2)))rt=2;else if(it<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(it))||(lt=String.fromCharCode(it));else if(it>55295&&it<57344){const ct=ee.charCodeAt(ne+1);it<56320&&ct>56319&&ct<57344?(lt=String.fromCharCode(it,ct),rt=1):lt=""}else lt=String.fromCharCode(it);lt&&(te.push(ee.slice(xe,ne),encodeURIComponent(lt)),xe=ne+rt+1,lt=""),rt&&(ne+=rt,rt=0)}return te.join("")+ee.slice(xe)}function factorySpace(ee,te,ne,xe){const rt=xe?xe-1:Number.POSITIVE_INFINITY;let it=0;return lt;function lt(ut){return markdownSpace(ut)?(ee.enter(ne),ct(ut)):te(ut)}function ct(ut){return markdownSpace(ut)&&it++<rt?(ee.consume(ut),ct):(ee.exit(ne),te(ut))}}const content$1={tokenize:initializeContent};function initializeContent(ee){const te=ee.attempt(this.parser.constructs.contentInitial,xe,rt);let ne;return te;function xe(ct){if(ct===null){ee.consume(ct);return}return ee.enter("lineEnding"),ee.consume(ct),ee.exit("lineEnding"),factorySpace(ee,te,"linePrefix")}function rt(ct){return ee.enter("paragraph"),it(ct)}function it(ct){const ut=ee.enter("chunkText",{contentType:"text",previous:ne});return ne&&(ne.next=ut),ne=ut,lt(ct)}function lt(ct){if(ct===null){ee.exit("chunkText"),ee.exit("paragraph"),ee.consume(ct);return}return markdownLineEnding(ct)?(ee.consume(ct),ee.exit("chunkText"),it):(ee.consume(ct),lt)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(ee){const te=this,ne=[];let xe=0,rt,it,lt;return ct;function ct(wt){if(xe<ne.length){const St=ne[xe];return te.containerState=St[1],ee.attempt(St[0].continuation,ut,dt)(wt)}return dt(wt)}function ut(wt){if(xe++,te.containerState._closeFlow){te.containerState._closeFlow=void 0,rt&&_t();const St=te.events.length;let Ct=St,jt;for(;Ct--;)if(te.events[Ct][0]==="exit"&&te.events[Ct][1].type==="chunkFlow"){jt=te.events[Ct][1].end;break}Et(xe);let Rt=St;for(;Rt<te.events.length;)te.events[Rt][1].end={...jt},Rt++;return splice$1(te.events,Ct+1,0,te.events.slice(St)),te.events.length=Rt,dt(wt)}return ct(wt)}function dt(wt){if(xe===ne.length){if(!rt)return pt(wt);if(rt.currentConstruct&&rt.currentConstruct.concrete)return xt(wt);te.interrupt=!!(rt.currentConstruct&&!rt._gfmTableDynamicInterruptHack)}return te.containerState={},ee.check(containerConstruct,ht,ft)(wt)}function ht(wt){return rt&&_t(),Et(xe),pt(wt)}function ft(wt){return te.parser.lazy[te.now().line]=xe!==ne.length,lt=te.now().offset,xt(wt)}function pt(wt){return te.containerState={},ee.attempt(containerConstruct,mt,xt)(wt)}function mt(wt){return xe++,ne.push([te.currentConstruct,te.containerState]),pt(wt)}function xt(wt){if(wt===null){rt&&_t(),Et(0),ee.consume(wt);return}return rt=rt||te.parser.flow(te.now()),ee.enter("chunkFlow",{_tokenizer:rt,contentType:"flow",previous:it}),yt(wt)}function yt(wt){if(wt===null){vt(ee.exit("chunkFlow"),!0),Et(0),ee.consume(wt);return}return markdownLineEnding(wt)?(ee.consume(wt),vt(ee.exit("chunkFlow")),xe=0,te.interrupt=void 0,ct):(ee.consume(wt),yt)}function vt(wt,St){const Ct=te.sliceStream(wt);if(St&&Ct.push(null),wt.previous=it,it&&(it.next=wt),it=wt,rt.defineSkip(wt.start),rt.write(Ct),te.parser.lazy[wt.start.line]){let jt=rt.events.length;for(;jt--;)if(rt.events[jt][1].start.offset<lt&&(!rt.events[jt][1].end||rt.events[jt][1].end.offset>lt))return;const Rt=te.events.length;let Pt=Rt,Ot,Ft;for(;Pt--;)if(te.events[Pt][0]==="exit"&&te.events[Pt][1].type==="chunkFlow"){if(Ot){Ft=te.events[Pt][1].end;break}Ot=!0}for(Et(xe),jt=Rt;jt<te.events.length;)te.events[jt][1].end={...Ft},jt++;splice$1(te.events,Pt+1,0,te.events.slice(Rt)),te.events.length=jt}}function Et(wt){let St=ne.length;for(;St-- >wt;){const Ct=ne[St];te.containerState=Ct[1],Ct[0].exit.call(te,ee)}ne.length=wt}function _t(){rt.write([null]),it=void 0,rt=void 0,te.containerState._closeFlow=void 0}}function tokenizeContainer(ee,te,ne){return factorySpace(ee,ee.attempt(this.parser.constructs.document,te,ne),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(ee){if(ee===null||markdownLineEndingOrSpace(ee)||unicodeWhitespace(ee))return 1;if(unicodePunctuation(ee))return 2}function resolveAll(ee,te,ne){const xe=[];let rt=-1;for(;++rt<ee.length;){const it=ee[rt].resolveAll;it&&!xe.includes(it)&&(te=it(te,ne),xe.push(it))}return te}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(ee,te){let ne=-1,xe,rt,it,lt,ct,ut,dt,ht;for(;++ne<ee.length;)if(ee[ne][0]==="enter"&&ee[ne][1].type==="attentionSequence"&&ee[ne][1]._close){for(xe=ne;xe--;)if(ee[xe][0]==="exit"&&ee[xe][1].type==="attentionSequence"&&ee[xe][1]._open&&te.sliceSerialize(ee[xe][1]).charCodeAt(0)===te.sliceSerialize(ee[ne][1]).charCodeAt(0)){if((ee[xe][1]._close||ee[ne][1]._open)&&(ee[ne][1].end.offset-ee[ne][1].start.offset)%3&&!((ee[xe][1].end.offset-ee[xe][1].start.offset+ee[ne][1].end.offset-ee[ne][1].start.offset)%3))continue;ut=ee[xe][1].end.offset-ee[xe][1].start.offset>1&&ee[ne][1].end.offset-ee[ne][1].start.offset>1?2:1;const ft={...ee[xe][1].end},pt={...ee[ne][1].start};movePoint(ft,-ut),movePoint(pt,ut),lt={type:ut>1?"strongSequence":"emphasisSequence",start:ft,end:{...ee[xe][1].end}},ct={type:ut>1?"strongSequence":"emphasisSequence",start:{...ee[ne][1].start},end:pt},it={type:ut>1?"strongText":"emphasisText",start:{...ee[xe][1].end},end:{...ee[ne][1].start}},rt={type:ut>1?"strong":"emphasis",start:{...lt.start},end:{...ct.end}},ee[xe][1].end={...lt.start},ee[ne][1].start={...ct.end},dt=[],ee[xe][1].end.offset-ee[xe][1].start.offset&&(dt=push(dt,[["enter",ee[xe][1],te],["exit",ee[xe][1],te]])),dt=push(dt,[["enter",rt,te],["enter",lt,te],["exit",lt,te],["enter",it,te]]),dt=push(dt,resolveAll(te.parser.constructs.insideSpan.null,ee.slice(xe+1,ne),te)),dt=push(dt,[["exit",it,te],["enter",ct,te],["exit",ct,te],["exit",rt,te]]),ee[ne][1].end.offset-ee[ne][1].start.offset?(ht=2,dt=push(dt,[["enter",ee[ne][1],te],["exit",ee[ne][1],te]])):ht=0,splice$1(ee,xe-1,ne-xe+3,dt),ne=xe+dt.length-ht-2;break}}for(ne=-1;++ne<ee.length;)ee[ne][1].type==="attentionSequence"&&(ee[ne][1].type="data");return ee}function tokenizeAttention(ee,te){const ne=this.parser.constructs.attentionMarkers.null,xe=this.previous,rt=classifyCharacter(xe);let it;return lt;function lt(ut){return it=ut,ee.enter("attentionSequence"),ct(ut)}function ct(ut){if(ut===it)return ee.consume(ut),ct;const dt=ee.exit("attentionSequence"),ht=classifyCharacter(ut),ft=!ht||ht===2&&rt||ne.includes(ut),pt=!rt||rt===2&&ht||ne.includes(xe);return dt._open=!!(it===42?ft:ft&&(rt||!pt)),dt._close=!!(it===42?pt:pt&&(ht||!ft)),te(ut)}}function movePoint(ee,te){ee.column+=te,ee.offset+=te,ee._bufferIndex+=te}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(ee,te,ne){let xe=0;return rt;function rt(mt){return ee.enter("autolink"),ee.enter("autolinkMarker"),ee.consume(mt),ee.exit("autolinkMarker"),ee.enter("autolinkProtocol"),it}function it(mt){return asciiAlpha(mt)?(ee.consume(mt),lt):mt===64?ne(mt):dt(mt)}function lt(mt){return mt===43||mt===45||mt===46||asciiAlphanumeric(mt)?(xe=1,ct(mt)):dt(mt)}function ct(mt){return mt===58?(ee.consume(mt),xe=0,ut):(mt===43||mt===45||mt===46||asciiAlphanumeric(mt))&&xe++<32?(ee.consume(mt),ct):(xe=0,dt(mt))}function ut(mt){return mt===62?(ee.exit("autolinkProtocol"),ee.enter("autolinkMarker"),ee.consume(mt),ee.exit("autolinkMarker"),ee.exit("autolink"),te):mt===null||mt===32||mt===60||asciiControl(mt)?ne(mt):(ee.consume(mt),ut)}function dt(mt){return mt===64?(ee.consume(mt),ht):asciiAtext(mt)?(ee.consume(mt),dt):ne(mt)}function ht(mt){return asciiAlphanumeric(mt)?ft(mt):ne(mt)}function ft(mt){return mt===46?(ee.consume(mt),xe=0,ht):mt===62?(ee.exit("autolinkProtocol").type="autolinkEmail",ee.enter("autolinkMarker"),ee.consume(mt),ee.exit("autolinkMarker"),ee.exit("autolink"),te):pt(mt)}function pt(mt){if((mt===45||asciiAlphanumeric(mt))&&xe++<63){const xt=mt===45?pt:ft;return ee.consume(mt),xt}return ne(mt)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(ee,te,ne){return xe;function xe(it){return markdownSpace(it)?factorySpace(ee,rt,"linePrefix")(it):rt(it)}function rt(it){return it===null||markdownLineEnding(it)?te(it):ne(it)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(ee,te,ne){const xe=this;return rt;function rt(lt){if(lt===62){const ct=xe.containerState;return ct.open||(ee.enter("blockQuote",{_container:!0}),ct.open=!0),ee.enter("blockQuotePrefix"),ee.enter("blockQuoteMarker"),ee.consume(lt),ee.exit("blockQuoteMarker"),it}return ne(lt)}function it(lt){return markdownSpace(lt)?(ee.enter("blockQuotePrefixWhitespace"),ee.consume(lt),ee.exit("blockQuotePrefixWhitespace"),ee.exit("blockQuotePrefix"),te):(ee.exit("blockQuotePrefix"),te(lt))}}function tokenizeBlockQuoteContinuation(ee,te,ne){const xe=this;return rt;function rt(lt){return markdownSpace(lt)?factorySpace(ee,it,"linePrefix",xe.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(lt):it(lt)}function it(lt){return ee.attempt(blockQuote,te,ne)(lt)}}function exit$1(ee){ee.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(ee,te,ne){return xe;function xe(it){return ee.enter("characterEscape"),ee.enter("escapeMarker"),ee.consume(it),ee.exit("escapeMarker"),rt}function rt(it){return asciiPunctuation(it)?(ee.enter("characterEscapeValue"),ee.consume(it),ee.exit("characterEscapeValue"),ee.exit("characterEscape"),te):ne(it)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(ee,te,ne){const xe=this;let rt=0,it,lt;return ct;function ct(ft){return ee.enter("characterReference"),ee.enter("characterReferenceMarker"),ee.consume(ft),ee.exit("characterReferenceMarker"),ut}function ut(ft){return ft===35?(ee.enter("characterReferenceMarkerNumeric"),ee.consume(ft),ee.exit("characterReferenceMarkerNumeric"),dt):(ee.enter("characterReferenceValue"),it=31,lt=asciiAlphanumeric,ht(ft))}function dt(ft){return ft===88||ft===120?(ee.enter("characterReferenceMarkerHexadecimal"),ee.consume(ft),ee.exit("characterReferenceMarkerHexadecimal"),ee.enter("characterReferenceValue"),it=6,lt=asciiHexDigit,ht):(ee.enter("characterReferenceValue"),it=7,lt=asciiDigit,ht(ft))}function ht(ft){if(ft===59&&rt){const pt=ee.exit("characterReferenceValue");return lt===asciiAlphanumeric&&!decodeNamedCharacterReference(xe.sliceSerialize(pt))?ne(ft):(ee.enter("characterReferenceMarker"),ee.consume(ft),ee.exit("characterReferenceMarker"),ee.exit("characterReference"),te)}return lt(ft)&&rt++<it?(ee.consume(ft),ht):ne(ft)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(ee,te,ne){const xe=this,rt={partial:!0,tokenize:Ct};let it=0,lt=0,ct;return ut;function ut(jt){return dt(jt)}function dt(jt){const Rt=xe.events[xe.events.length-1];return it=Rt&&Rt[1].type==="linePrefix"?Rt[2].sliceSerialize(Rt[1],!0).length:0,ct=jt,ee.enter("codeFenced"),ee.enter("codeFencedFence"),ee.enter("codeFencedFenceSequence"),ht(jt)}function ht(jt){return jt===ct?(lt++,ee.consume(jt),ht):lt<3?ne(jt):(ee.exit("codeFencedFenceSequence"),markdownSpace(jt)?factorySpace(ee,ft,"whitespace")(jt):ft(jt))}function ft(jt){return jt===null||markdownLineEnding(jt)?(ee.exit("codeFencedFence"),xe.interrupt?te(jt):ee.check(nonLazyContinuation$1,yt,St)(jt)):(ee.enter("codeFencedFenceInfo"),ee.enter("chunkString",{contentType:"string"}),pt(jt))}function pt(jt){return jt===null||markdownLineEnding(jt)?(ee.exit("chunkString"),ee.exit("codeFencedFenceInfo"),ft(jt)):markdownSpace(jt)?(ee.exit("chunkString"),ee.exit("codeFencedFenceInfo"),factorySpace(ee,mt,"whitespace")(jt)):jt===96&&jt===ct?ne(jt):(ee.consume(jt),pt)}function mt(jt){return jt===null||markdownLineEnding(jt)?ft(jt):(ee.enter("codeFencedFenceMeta"),ee.enter("chunkString",{contentType:"string"}),xt(jt))}function xt(jt){return jt===null||markdownLineEnding(jt)?(ee.exit("chunkString"),ee.exit("codeFencedFenceMeta"),ft(jt)):jt===96&&jt===ct?ne(jt):(ee.consume(jt),xt)}function yt(jt){return ee.attempt(rt,St,vt)(jt)}function vt(jt){return ee.enter("lineEnding"),ee.consume(jt),ee.exit("lineEnding"),Et}function Et(jt){return it>0&&markdownSpace(jt)?factorySpace(ee,_t,"linePrefix",it+1)(jt):_t(jt)}function _t(jt){return jt===null||markdownLineEnding(jt)?ee.check(nonLazyContinuation$1,yt,St)(jt):(ee.enter("codeFlowValue"),wt(jt))}function wt(jt){return jt===null||markdownLineEnding(jt)?(ee.exit("codeFlowValue"),_t(jt)):(ee.consume(jt),wt)}function St(jt){return ee.exit("codeFenced"),te(jt)}function Ct(jt,Rt,Pt){let Ot=0;return Ft;function Ft(qt){return jt.enter("lineEnding"),jt.consume(qt),jt.exit("lineEnding"),Lt}function Lt(qt){return jt.enter("codeFencedFence"),markdownSpace(qt)?factorySpace(jt,Bt,"linePrefix",xe.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(qt):Bt(qt)}function Bt(qt){return qt===ct?(jt.enter("codeFencedFenceSequence"),Gt(qt)):Pt(qt)}function Gt(qt){return qt===ct?(Ot++,jt.consume(qt),Gt):Ot>=lt?(jt.exit("codeFencedFenceSequence"),markdownSpace(qt)?factorySpace(jt,It,"whitespace")(qt):It(qt)):Pt(qt)}function It(qt){return qt===null||markdownLineEnding(qt)?(jt.exit("codeFencedFence"),Rt(qt)):Pt(qt)}}}function tokenizeNonLazyContinuation$1(ee,te,ne){const xe=this;return rt;function rt(lt){return lt===null?ne(lt):(ee.enter("lineEnding"),ee.consume(lt),ee.exit("lineEnding"),it)}function it(lt){return xe.parser.lazy[xe.now().line]?ne(lt):te(lt)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(ee,te,ne){const xe=this;return rt;function rt(dt){return ee.enter("codeIndented"),factorySpace(ee,it,"linePrefix",5)(dt)}function it(dt){const ht=xe.events[xe.events.length-1];return ht&&ht[1].type==="linePrefix"&&ht[2].sliceSerialize(ht[1],!0).length>=4?lt(dt):ne(dt)}function lt(dt){return dt===null?ut(dt):markdownLineEnding(dt)?ee.attempt(furtherStart,lt,ut)(dt):(ee.enter("codeFlowValue"),ct(dt))}function ct(dt){return dt===null||markdownLineEnding(dt)?(ee.exit("codeFlowValue"),lt(dt)):(ee.consume(dt),ct)}function ut(dt){return ee.exit("codeIndented"),te(dt)}}function tokenizeFurtherStart(ee,te,ne){const xe=this;return rt;function rt(lt){return xe.parser.lazy[xe.now().line]?ne(lt):markdownLineEnding(lt)?(ee.enter("lineEnding"),ee.consume(lt),ee.exit("lineEnding"),rt):factorySpace(ee,it,"linePrefix",5)(lt)}function it(lt){const ct=xe.events[xe.events.length-1];return ct&&ct[1].type==="linePrefix"&&ct[2].sliceSerialize(ct[1],!0).length>=4?te(lt):markdownLineEnding(lt)?rt(lt):ne(lt)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(ee){let te=ee.length-4,ne=3,xe,rt;if((ee[ne][1].type==="lineEnding"||ee[ne][1].type==="space")&&(ee[te][1].type==="lineEnding"||ee[te][1].type==="space")){for(xe=ne;++xe<te;)if(ee[xe][1].type==="codeTextData"){ee[ne][1].type="codeTextPadding",ee[te][1].type="codeTextPadding",ne+=2,te-=2;break}}for(xe=ne-1,te++;++xe<=te;)rt===void 0?xe!==te&&ee[xe][1].type!=="lineEnding"&&(rt=xe):(xe===te||ee[xe][1].type==="lineEnding")&&(ee[rt][1].type="codeTextData",xe!==rt+2&&(ee[rt][1].end=ee[xe-1][1].end,ee.splice(rt+2,xe-rt-2),te-=xe-rt-2,xe=rt+2),rt=void 0);return ee}function previous$2(ee){return ee!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(ee,te,ne){let xe=0,rt,it;return lt;function lt(ft){return ee.enter("codeText"),ee.enter("codeTextSequence"),ct(ft)}function ct(ft){return ft===96?(ee.consume(ft),xe++,ct):(ee.exit("codeTextSequence"),ut(ft))}function ut(ft){return ft===null?ne(ft):ft===32?(ee.enter("space"),ee.consume(ft),ee.exit("space"),ut):ft===96?(it=ee.enter("codeTextSequence"),rt=0,ht(ft)):markdownLineEnding(ft)?(ee.enter("lineEnding"),ee.consume(ft),ee.exit("lineEnding"),ut):(ee.enter("codeTextData"),dt(ft))}function dt(ft){return ft===null||ft===32||ft===96||markdownLineEnding(ft)?(ee.exit("codeTextData"),ut(ft)):(ee.consume(ft),dt)}function ht(ft){return ft===96?(ee.consume(ft),rt++,ht):rt===xe?(ee.exit("codeTextSequence"),ee.exit("codeText"),te(ft)):(it.type="codeTextData",dt(ft))}}class SpliceBuffer{constructor(te){this.left=te?[...te]:[],this.right=[]}get(te){if(te<0||te>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+te+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return te<this.left.length?this.left[te]:this.right[this.right.length-te+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(te,ne){const xe=ne??Number.POSITIVE_INFINITY;return xe<this.left.length?this.left.slice(te,xe):te>this.left.length?this.right.slice(this.right.length-xe+this.left.length,this.right.length-te+this.left.length).reverse():this.left.slice(te).concat(this.right.slice(this.right.length-xe+this.left.length).reverse())}splice(te,ne,xe){const rt=ne||0;this.setCursor(Math.trunc(te));const it=this.right.splice(this.right.length-rt,Number.POSITIVE_INFINITY);return xe&&chunkedPush(this.left,xe),it.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(te){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(te)}pushMany(te){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,te)}unshift(te){this.setCursor(0),this.right.push(te)}unshiftMany(te){this.setCursor(0),chunkedPush(this.right,te.reverse())}setCursor(te){if(!(te===this.left.length||te>this.left.length&&this.right.length===0||te<0&&this.left.length===0))if(te<this.left.length){const ne=this.left.splice(te,Number.POSITIVE_INFINITY);chunkedPush(this.right,ne.reverse())}else{const ne=this.right.splice(this.left.length+this.right.length-te,Number.POSITIVE_INFINITY);chunkedPush(this.left,ne.reverse())}}}function chunkedPush(ee,te){let ne=0;if(te.length<1e4)ee.push(...te);else for(;ne<te.length;)ee.push(...te.slice(ne,ne+1e4)),ne+=1e4}function subtokenize(ee){const te={};let ne=-1,xe,rt,it,lt,ct,ut,dt;const ht=new SpliceBuffer(ee);for(;++ne<ht.length;){for(;ne in te;)ne=te[ne];if(xe=ht.get(ne),ne&&xe[1].type==="chunkFlow"&&ht.get(ne-1)[1].type==="listItemPrefix"&&(ut=xe[1]._tokenizer.events,it=0,it<ut.length&&ut[it][1].type==="lineEndingBlank"&&(it+=2),it<ut.length&&ut[it][1].type==="content"))for(;++it<ut.length&&ut[it][1].type!=="content";)ut[it][1].type==="chunkText"&&(ut[it][1]._isInFirstContentOfListItem=!0,it++);if(xe[0]==="enter")xe[1].contentType&&(Object.assign(te,subcontent(ht,ne)),ne=te[ne],dt=!0);else if(xe[1]._container){for(it=ne,rt=void 0;it--;)if(lt=ht.get(it),lt[1].type==="lineEnding"||lt[1].type==="lineEndingBlank")lt[0]==="enter"&&(rt&&(ht.get(rt)[1].type="lineEndingBlank"),lt[1].type="lineEnding",rt=it);else if(!(lt[1].type==="linePrefix"||lt[1].type==="listItemIndent"))break;rt&&(xe[1].end={...ht.get(rt)[1].start},ct=ht.slice(rt,ne),ct.unshift(xe),ht.splice(rt,ne-rt+1,ct))}}return splice$1(ee,0,Number.POSITIVE_INFINITY,ht.slice(0)),!dt}function subcontent(ee,te){const ne=ee.get(te)[1],xe=ee.get(te)[2];let rt=te-1;const it=[];let lt=ne._tokenizer;lt||(lt=xe.parser[ne.contentType](ne.start),ne._contentTypeTextTrailing&&(lt._contentTypeTextTrailing=!0));const ct=lt.events,ut=[],dt={};let ht,ft,pt=-1,mt=ne,xt=0,yt=0;const vt=[yt];for(;mt;){for(;ee.get(++rt)[1]!==mt;);it.push(rt),mt._tokenizer||(ht=xe.sliceStream(mt),mt.next||ht.push(null),ft&&lt.defineSkip(mt.start),mt._isInFirstContentOfListItem&&(lt._gfmTasklistFirstContentOfListItem=!0),lt.write(ht),mt._isInFirstContentOfListItem&&(lt._gfmTasklistFirstContentOfListItem=void 0)),ft=mt,mt=mt.next}for(mt=ne;++pt<ct.length;)ct[pt][0]==="exit"&&ct[pt-1][0]==="enter"&&ct[pt][1].type===ct[pt-1][1].type&&ct[pt][1].start.line!==ct[pt][1].end.line&&(yt=pt+1,vt.push(yt),mt._tokenizer=void 0,mt.previous=void 0,mt=mt.next);for(lt.events=[],mt?(mt._tokenizer=void 0,mt.previous=void 0):vt.pop(),pt=vt.length;pt--;){const Et=ct.slice(vt[pt],vt[pt+1]),_t=it.pop();ut.push([_t,_t+Et.length-1]),ee.splice(_t,2,Et)}for(ut.reverse(),pt=-1;++pt<ut.length;)dt[xt+ut[pt][0]]=xt+ut[pt][1],xt+=ut[pt][1]-ut[pt][0]-1;return dt}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(ee){return subtokenize(ee),ee}function tokenizeContent(ee,te){let ne;return xe;function xe(ct){return ee.enter("content"),ne=ee.enter("chunkContent",{contentType:"content"}),rt(ct)}function rt(ct){return ct===null?it(ct):markdownLineEnding(ct)?ee.check(continuationConstruct,lt,it)(ct):(ee.consume(ct),rt)}function it(ct){return ee.exit("chunkContent"),ee.exit("content"),te(ct)}function lt(ct){return ee.consume(ct),ee.exit("chunkContent"),ne.next=ee.enter("chunkContent",{contentType:"content",previous:ne}),ne=ne.next,rt}}function tokenizeContinuation(ee,te,ne){const xe=this;return rt;function rt(lt){return ee.exit("chunkContent"),ee.enter("lineEnding"),ee.consume(lt),ee.exit("lineEnding"),factorySpace(ee,it,"linePrefix")}function it(lt){if(lt===null||markdownLineEnding(lt))return ne(lt);const ct=xe.events[xe.events.length-1];return!xe.parser.constructs.disable.null.includes("codeIndented")&&ct&&ct[1].type==="linePrefix"&&ct[2].sliceSerialize(ct[1],!0).length>=4?te(lt):ee.interrupt(xe.parser.constructs.flow,ne,te)(lt)}}function factoryDestination(ee,te,ne,xe,rt,it,lt,ct,ut){const dt=ut||Number.POSITIVE_INFINITY;let ht=0;return ft;function ft(Et){return Et===60?(ee.enter(xe),ee.enter(rt),ee.enter(it),ee.consume(Et),ee.exit(it),pt):Et===null||Et===32||Et===41||asciiControl(Et)?ne(Et):(ee.enter(xe),ee.enter(lt),ee.enter(ct),ee.enter("chunkString",{contentType:"string"}),yt(Et))}function pt(Et){return Et===62?(ee.enter(it),ee.consume(Et),ee.exit(it),ee.exit(rt),ee.exit(xe),te):(ee.enter(ct),ee.enter("chunkString",{contentType:"string"}),mt(Et))}function mt(Et){return Et===62?(ee.exit("chunkString"),ee.exit(ct),pt(Et)):Et===null||Et===60||markdownLineEnding(Et)?ne(Et):(ee.consume(Et),Et===92?xt:mt)}function xt(Et){return Et===60||Et===62||Et===92?(ee.consume(Et),mt):mt(Et)}function yt(Et){return!ht&&(Et===null||Et===41||markdownLineEndingOrSpace(Et))?(ee.exit("chunkString"),ee.exit(ct),ee.exit(lt),ee.exit(xe),te(Et)):ht<dt&&Et===40?(ee.consume(Et),ht++,yt):Et===41?(ee.consume(Et),ht--,yt):Et===null||Et===32||Et===40||asciiControl(Et)?ne(Et):(ee.consume(Et),Et===92?vt:yt)}function vt(Et){return Et===40||Et===41||Et===92?(ee.consume(Et),yt):yt(Et)}}function factoryLabel(ee,te,ne,xe,rt,it){const lt=this;let ct=0,ut;return dt;function dt(mt){return ee.enter(xe),ee.enter(rt),ee.consume(mt),ee.exit(rt),ee.enter(it),ht}function ht(mt){return ct>999||mt===null||mt===91||mt===93&&!ut||mt===94&&!ct&&"_hiddenFootnoteSupport"in lt.parser.constructs?ne(mt):mt===93?(ee.exit(it),ee.enter(rt),ee.consume(mt),ee.exit(rt),ee.exit(xe),te):markdownLineEnding(mt)?(ee.enter("lineEnding"),ee.consume(mt),ee.exit("lineEnding"),ht):(ee.enter("chunkString",{contentType:"string"}),ft(mt))}function ft(mt){return mt===null||mt===91||mt===93||markdownLineEnding(mt)||ct++>999?(ee.exit("chunkString"),ht(mt)):(ee.consume(mt),ut||(ut=!markdownSpace(mt)),mt===92?pt:ft)}function pt(mt){return mt===91||mt===92||mt===93?(ee.consume(mt),ct++,ft):ft(mt)}}function factoryTitle(ee,te,ne,xe,rt,it){let lt;return ct;function ct(pt){return pt===34||pt===39||pt===40?(ee.enter(xe),ee.enter(rt),ee.consume(pt),ee.exit(rt),lt=pt===40?41:pt,ut):ne(pt)}function ut(pt){return pt===lt?(ee.enter(rt),ee.consume(pt),ee.exit(rt),ee.exit(xe),te):(ee.enter(it),dt(pt))}function dt(pt){return pt===lt?(ee.exit(it),ut(lt)):pt===null?ne(pt):markdownLineEnding(pt)?(ee.enter("lineEnding"),ee.consume(pt),ee.exit("lineEnding"),factorySpace(ee,dt,"linePrefix")):(ee.enter("chunkString",{contentType:"string"}),ht(pt))}function ht(pt){return pt===lt||pt===null||markdownLineEnding(pt)?(ee.exit("chunkString"),dt(pt)):(ee.consume(pt),pt===92?ft:ht)}function ft(pt){return pt===lt||pt===92?(ee.consume(pt),ht):ht(pt)}}function factoryWhitespace(ee,te){let ne;return xe;function xe(rt){return markdownLineEnding(rt)?(ee.enter("lineEnding"),ee.consume(rt),ee.exit("lineEnding"),ne=!0,xe):markdownSpace(rt)?factorySpace(ee,xe,ne?"linePrefix":"lineSuffix")(rt):te(rt)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(ee,te,ne){const xe=this;let rt;return it;function it(mt){return ee.enter("definition"),lt(mt)}function lt(mt){return factoryLabel.call(xe,ee,ct,ne,"definitionLabel","definitionLabelMarker","definitionLabelString")(mt)}function ct(mt){return rt=normalizeIdentifier(xe.sliceSerialize(xe.events[xe.events.length-1][1]).slice(1,-1)),mt===58?(ee.enter("definitionMarker"),ee.consume(mt),ee.exit("definitionMarker"),ut):ne(mt)}function ut(mt){return markdownLineEndingOrSpace(mt)?factoryWhitespace(ee,dt)(mt):dt(mt)}function dt(mt){return factoryDestination(ee,ht,ne,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(mt)}function ht(mt){return ee.attempt(titleBefore,ft,ft)(mt)}function ft(mt){return markdownSpace(mt)?factorySpace(ee,pt,"whitespace")(mt):pt(mt)}function pt(mt){return mt===null||markdownLineEnding(mt)?(ee.exit("definition"),xe.parser.defined.push(rt),te(mt)):ne(mt)}}function tokenizeTitleBefore(ee,te,ne){return xe;function xe(ct){return markdownLineEndingOrSpace(ct)?factoryWhitespace(ee,rt)(ct):ne(ct)}function rt(ct){return factoryTitle(ee,it,ne,"definitionTitle","definitionTitleMarker","definitionTitleString")(ct)}function it(ct){return markdownSpace(ct)?factorySpace(ee,lt,"whitespace")(ct):lt(ct)}function lt(ct){return ct===null||markdownLineEnding(ct)?te(ct):ne(ct)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(ee,te,ne){return xe;function xe(it){return ee.enter("hardBreakEscape"),ee.consume(it),rt}function rt(it){return markdownLineEnding(it)?(ee.exit("hardBreakEscape"),te(it)):ne(it)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(ee,te){let ne=ee.length-2,xe=3,rt,it;return ee[xe][1].type==="whitespace"&&(xe+=2),ne-2>xe&&ee[ne][1].type==="whitespace"&&(ne-=2),ee[ne][1].type==="atxHeadingSequence"&&(xe===ne-1||ne-4>xe&&ee[ne-2][1].type==="whitespace")&&(ne-=xe+1===ne?2:4),ne>xe&&(rt={type:"atxHeadingText",start:ee[xe][1].start,end:ee[ne][1].end},it={type:"chunkText",start:ee[xe][1].start,end:ee[ne][1].end,contentType:"text"},splice$1(ee,xe,ne-xe+1,[["enter",rt,te],["enter",it,te],["exit",it,te],["exit",rt,te]])),ee}function tokenizeHeadingAtx(ee,te,ne){let xe=0;return rt;function rt(ht){return ee.enter("atxHeading"),it(ht)}function it(ht){return ee.enter("atxHeadingSequence"),lt(ht)}function lt(ht){return ht===35&&xe++<6?(ee.consume(ht),lt):ht===null||markdownLineEndingOrSpace(ht)?(ee.exit("atxHeadingSequence"),ct(ht)):ne(ht)}function ct(ht){return ht===35?(ee.enter("atxHeadingSequence"),ut(ht)):ht===null||markdownLineEnding(ht)?(ee.exit("atxHeading"),te(ht)):markdownSpace(ht)?factorySpace(ee,ct,"whitespace")(ht):(ee.enter("atxHeadingText"),dt(ht))}function ut(ht){return ht===35?(ee.consume(ht),ut):(ee.exit("atxHeadingSequence"),ct(ht))}function dt(ht){return ht===null||ht===35||markdownLineEndingOrSpace(ht)?(ee.exit("atxHeadingText"),ct(ht)):(ee.consume(ht),dt)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(ee){let te=ee.length;for(;te--&&!(ee[te][0]==="enter"&&ee[te][1].type==="htmlFlow"););return te>1&&ee[te-2][1].type==="linePrefix"&&(ee[te][1].start=ee[te-2][1].start,ee[te+1][1].start=ee[te-2][1].start,ee.splice(te-2,2)),ee}function tokenizeHtmlFlow(ee,te,ne){const xe=this;let rt,it,lt,ct,ut;return dt;function dt(Vt){return ht(Vt)}function ht(Vt){return ee.enter("htmlFlow"),ee.enter("htmlFlowData"),ee.consume(Vt),ft}function ft(Vt){return Vt===33?(ee.consume(Vt),pt):Vt===47?(ee.consume(Vt),it=!0,yt):Vt===63?(ee.consume(Vt),rt=3,xe.interrupt?te:$t):asciiAlpha(Vt)?(ee.consume(Vt),lt=String.fromCharCode(Vt),vt):ne(Vt)}function pt(Vt){return Vt===45?(ee.consume(Vt),rt=2,mt):Vt===91?(ee.consume(Vt),rt=5,ct=0,xt):asciiAlpha(Vt)?(ee.consume(Vt),rt=4,xe.interrupt?te:$t):ne(Vt)}function mt(Vt){return Vt===45?(ee.consume(Vt),xe.interrupt?te:$t):ne(Vt)}function xt(Vt){const Yt="CDATA[";return Vt===Yt.charCodeAt(ct++)?(ee.consume(Vt),ct===Yt.length?xe.interrupt?te:Bt:xt):ne(Vt)}function yt(Vt){return asciiAlpha(Vt)?(ee.consume(Vt),lt=String.fromCharCode(Vt),vt):ne(Vt)}function vt(Vt){if(Vt===null||Vt===47||Vt===62||markdownLineEndingOrSpace(Vt)){const Yt=Vt===47,Qt=lt.toLowerCase();return!Yt&&!it&&htmlRawNames.includes(Qt)?(rt=1,xe.interrupt?te(Vt):Bt(Vt)):htmlBlockNames.includes(lt.toLowerCase())?(rt=6,Yt?(ee.consume(Vt),Et):xe.interrupt?te(Vt):Bt(Vt)):(rt=7,xe.interrupt&&!xe.parser.lazy[xe.now().line]?ne(Vt):it?_t(Vt):wt(Vt))}return Vt===45||asciiAlphanumeric(Vt)?(ee.consume(Vt),lt+=String.fromCharCode(Vt),vt):ne(Vt)}function Et(Vt){return Vt===62?(ee.consume(Vt),xe.interrupt?te:Bt):ne(Vt)}function _t(Vt){return markdownSpace(Vt)?(ee.consume(Vt),_t):Ft(Vt)}function wt(Vt){return Vt===47?(ee.consume(Vt),Ft):Vt===58||Vt===95||asciiAlpha(Vt)?(ee.consume(Vt),St):markdownSpace(Vt)?(ee.consume(Vt),wt):Ft(Vt)}function St(Vt){return Vt===45||Vt===46||Vt===58||Vt===95||asciiAlphanumeric(Vt)?(ee.consume(Vt),St):Ct(Vt)}function Ct(Vt){return Vt===61?(ee.consume(Vt),jt):markdownSpace(Vt)?(ee.consume(Vt),Ct):wt(Vt)}function jt(Vt){return Vt===null||Vt===60||Vt===61||Vt===62||Vt===96?ne(Vt):Vt===34||Vt===39?(ee.consume(Vt),ut=Vt,Rt):markdownSpace(Vt)?(ee.consume(Vt),jt):Pt(Vt)}function Rt(Vt){return Vt===ut?(ee.consume(Vt),ut=null,Ot):Vt===null||markdownLineEnding(Vt)?ne(Vt):(ee.consume(Vt),Rt)}function Pt(Vt){return Vt===null||Vt===34||Vt===39||Vt===47||Vt===60||Vt===61||Vt===62||Vt===96||markdownLineEndingOrSpace(Vt)?Ct(Vt):(ee.consume(Vt),Pt)}function Ot(Vt){return Vt===47||Vt===62||markdownSpace(Vt)?wt(Vt):ne(Vt)}function Ft(Vt){return Vt===62?(ee.consume(Vt),Lt):ne(Vt)}function Lt(Vt){return Vt===null||markdownLineEnding(Vt)?Bt(Vt):markdownSpace(Vt)?(ee.consume(Vt),Lt):ne(Vt)}function Bt(Vt){return Vt===45&&rt===2?(ee.consume(Vt),Nt):Vt===60&&rt===1?(ee.consume(Vt),Dt):Vt===62&&rt===4?(ee.consume(Vt),Ht):Vt===63&&rt===3?(ee.consume(Vt),$t):Vt===93&&rt===5?(ee.consume(Vt),Mt):markdownLineEnding(Vt)&&(rt===6||rt===7)?(ee.exit("htmlFlowData"),ee.check(blankLineBefore,Wt,Gt)(Vt)):Vt===null||markdownLineEnding(Vt)?(ee.exit("htmlFlowData"),Gt(Vt)):(ee.consume(Vt),Bt)}function Gt(Vt){return ee.check(nonLazyContinuationStart,It,Wt)(Vt)}function It(Vt){return ee.enter("lineEnding"),ee.consume(Vt),ee.exit("lineEnding"),qt}function qt(Vt){return Vt===null||markdownLineEnding(Vt)?Gt(Vt):(ee.enter("htmlFlowData"),Bt(Vt))}function Nt(Vt){return Vt===45?(ee.consume(Vt),$t):Bt(Vt)}function Dt(Vt){return Vt===47?(ee.consume(Vt),lt="",Tt):Bt(Vt)}function Tt(Vt){if(Vt===62){const Yt=lt.toLowerCase();return htmlRawNames.includes(Yt)?(ee.consume(Vt),Ht):Bt(Vt)}return asciiAlpha(Vt)&&lt.length<8?(ee.consume(Vt),lt+=String.fromCharCode(Vt),Tt):Bt(Vt)}function Mt(Vt){return Vt===93?(ee.consume(Vt),$t):Bt(Vt)}function $t(Vt){return Vt===62?(ee.consume(Vt),Ht):Vt===45&&rt===2?(ee.consume(Vt),$t):Bt(Vt)}function Ht(Vt){return Vt===null||markdownLineEnding(Vt)?(ee.exit("htmlFlowData"),Wt(Vt)):(ee.consume(Vt),Ht)}function Wt(Vt){return ee.exit("htmlFlow"),te(Vt)}}function tokenizeNonLazyContinuationStart(ee,te,ne){const xe=this;return rt;function rt(lt){return markdownLineEnding(lt)?(ee.enter("lineEnding"),ee.consume(lt),ee.exit("lineEnding"),it):ne(lt)}function it(lt){return xe.parser.lazy[xe.now().line]?ne(lt):te(lt)}}function tokenizeBlankLineBefore(ee,te,ne){return xe;function xe(rt){return ee.enter("lineEnding"),ee.consume(rt),ee.exit("lineEnding"),ee.attempt(blankLine,te,ne)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(ee,te,ne){const xe=this;let rt,it,lt;return ct;function ct($t){return ee.enter("htmlText"),ee.enter("htmlTextData"),ee.consume($t),ut}function ut($t){return $t===33?(ee.consume($t),dt):$t===47?(ee.consume($t),Ct):$t===63?(ee.consume($t),wt):asciiAlpha($t)?(ee.consume($t),Pt):ne($t)}function dt($t){return $t===45?(ee.consume($t),ht):$t===91?(ee.consume($t),it=0,xt):asciiAlpha($t)?(ee.consume($t),_t):ne($t)}function ht($t){return $t===45?(ee.consume($t),mt):ne($t)}function ft($t){return $t===null?ne($t):$t===45?(ee.consume($t),pt):markdownLineEnding($t)?(lt=ft,Dt($t)):(ee.consume($t),ft)}function pt($t){return $t===45?(ee.consume($t),mt):ft($t)}function mt($t){return $t===62?Nt($t):$t===45?pt($t):ft($t)}function xt($t){const Ht="CDATA[";return $t===Ht.charCodeAt(it++)?(ee.consume($t),it===Ht.length?yt:xt):ne($t)}function yt($t){return $t===null?ne($t):$t===93?(ee.consume($t),vt):markdownLineEnding($t)?(lt=yt,Dt($t)):(ee.consume($t),yt)}function vt($t){return $t===93?(ee.consume($t),Et):yt($t)}function Et($t){return $t===62?Nt($t):$t===93?(ee.consume($t),Et):yt($t)}function _t($t){return $t===null||$t===62?Nt($t):markdownLineEnding($t)?(lt=_t,Dt($t)):(ee.consume($t),_t)}function wt($t){return $t===null?ne($t):$t===63?(ee.consume($t),St):markdownLineEnding($t)?(lt=wt,Dt($t)):(ee.consume($t),wt)}function St($t){return $t===62?Nt($t):wt($t)}function Ct($t){return asciiAlpha($t)?(ee.consume($t),jt):ne($t)}function jt($t){return $t===45||asciiAlphanumeric($t)?(ee.consume($t),jt):Rt($t)}function Rt($t){return markdownLineEnding($t)?(lt=Rt,Dt($t)):markdownSpace($t)?(ee.consume($t),Rt):Nt($t)}function Pt($t){return $t===45||asciiAlphanumeric($t)?(ee.consume($t),Pt):$t===47||$t===62||markdownLineEndingOrSpace($t)?Ot($t):ne($t)}function Ot($t){return $t===47?(ee.consume($t),Nt):$t===58||$t===95||asciiAlpha($t)?(ee.consume($t),Ft):markdownLineEnding($t)?(lt=Ot,Dt($t)):markdownSpace($t)?(ee.consume($t),Ot):Nt($t)}function Ft($t){return $t===45||$t===46||$t===58||$t===95||asciiAlphanumeric($t)?(ee.consume($t),Ft):Lt($t)}function Lt($t){return $t===61?(ee.consume($t),Bt):markdownLineEnding($t)?(lt=Lt,Dt($t)):markdownSpace($t)?(ee.consume($t),Lt):Ot($t)}function Bt($t){return $t===null||$t===60||$t===61||$t===62||$t===96?ne($t):$t===34||$t===39?(ee.consume($t),rt=$t,Gt):markdownLineEnding($t)?(lt=Bt,Dt($t)):markdownSpace($t)?(ee.consume($t),Bt):(ee.consume($t),It)}function Gt($t){return $t===rt?(ee.consume($t),rt=void 0,qt):$t===null?ne($t):markdownLineEnding($t)?(lt=Gt,Dt($t)):(ee.consume($t),Gt)}function It($t){return $t===null||$t===34||$t===39||$t===60||$t===61||$t===96?ne($t):$t===47||$t===62||markdownLineEndingOrSpace($t)?Ot($t):(ee.consume($t),It)}function qt($t){return $t===47||$t===62||markdownLineEndingOrSpace($t)?Ot($t):ne($t)}function Nt($t){return $t===62?(ee.consume($t),ee.exit("htmlTextData"),ee.exit("htmlText"),te):ne($t)}function Dt($t){return ee.exit("htmlTextData"),ee.enter("lineEnding"),ee.consume($t),ee.exit("lineEnding"),Tt}function Tt($t){return markdownSpace($t)?factorySpace(ee,Mt,"linePrefix",xe.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($t):Mt($t)}function Mt($t){return ee.enter("htmlTextData"),lt($t)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(ee){let te=-1;const ne=[];for(;++te<ee.length;){const xe=ee[te][1];if(ne.push(ee[te]),xe.type==="labelImage"||xe.type==="labelLink"||xe.type==="labelEnd"){const rt=xe.type==="labelImage"?4:2;xe.type="data",te+=rt}}return ee.length!==ne.length&&splice$1(ee,0,ee.length,ne),ee}function resolveToLabelEnd(ee,te){let ne=ee.length,xe=0,rt,it,lt,ct;for(;ne--;)if(rt=ee[ne][1],it){if(rt.type==="link"||rt.type==="labelLink"&&rt._inactive)break;ee[ne][0]==="enter"&&rt.type==="labelLink"&&(rt._inactive=!0)}else if(lt){if(ee[ne][0]==="enter"&&(rt.type==="labelImage"||rt.type==="labelLink")&&!rt._balanced&&(it=ne,rt.type!=="labelLink")){xe=2;break}}else rt.type==="labelEnd"&&(lt=ne);const ut={type:ee[it][1].type==="labelLink"?"link":"image",start:{...ee[it][1].start},end:{...ee[ee.length-1][1].end}},dt={type:"label",start:{...ee[it][1].start},end:{...ee[lt][1].end}},ht={type:"labelText",start:{...ee[it+xe+2][1].end},end:{...ee[lt-2][1].start}};return ct=[["enter",ut,te],["enter",dt,te]],ct=push(ct,ee.slice(it+1,it+xe+3)),ct=push(ct,[["enter",ht,te]]),ct=push(ct,resolveAll(te.parser.constructs.insideSpan.null,ee.slice(it+xe+4,lt-3),te)),ct=push(ct,[["exit",ht,te],ee[lt-2],ee[lt-1],["exit",dt,te]]),ct=push(ct,ee.slice(lt+1)),ct=push(ct,[["exit",ut,te]]),splice$1(ee,it,ee.length,ct),ee}function tokenizeLabelEnd(ee,te,ne){const xe=this;let rt=xe.events.length,it,lt;for(;rt--;)if((xe.events[rt][1].type==="labelImage"||xe.events[rt][1].type==="labelLink")&&!xe.events[rt][1]._balanced){it=xe.events[rt][1];break}return ct;function ct(pt){return it?it._inactive?ft(pt):(lt=xe.parser.defined.includes(normalizeIdentifier(xe.sliceSerialize({start:it.end,end:xe.now()}))),ee.enter("labelEnd"),ee.enter("labelMarker"),ee.consume(pt),ee.exit("labelMarker"),ee.exit("labelEnd"),ut):ne(pt)}function ut(pt){return pt===40?ee.attempt(resourceConstruct,ht,lt?ht:ft)(pt):pt===91?ee.attempt(referenceFullConstruct,ht,lt?dt:ft)(pt):lt?ht(pt):ft(pt)}function dt(pt){return ee.attempt(referenceCollapsedConstruct,ht,ft)(pt)}function ht(pt){return te(pt)}function ft(pt){return it._balanced=!0,ne(pt)}}function tokenizeResource(ee,te,ne){return xe;function xe(ft){return ee.enter("resource"),ee.enter("resourceMarker"),ee.consume(ft),ee.exit("resourceMarker"),rt}function rt(ft){return markdownLineEndingOrSpace(ft)?factoryWhitespace(ee,it)(ft):it(ft)}function it(ft){return ft===41?ht(ft):factoryDestination(ee,lt,ct,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(ft)}function lt(ft){return markdownLineEndingOrSpace(ft)?factoryWhitespace(ee,ut)(ft):ht(ft)}function ct(ft){return ne(ft)}function ut(ft){return ft===34||ft===39||ft===40?factoryTitle(ee,dt,ne,"resourceTitle","resourceTitleMarker","resourceTitleString")(ft):ht(ft)}function dt(ft){return markdownLineEndingOrSpace(ft)?factoryWhitespace(ee,ht)(ft):ht(ft)}function ht(ft){return ft===41?(ee.enter("resourceMarker"),ee.consume(ft),ee.exit("resourceMarker"),ee.exit("resource"),te):ne(ft)}}function tokenizeReferenceFull(ee,te,ne){const xe=this;return rt;function rt(ct){return factoryLabel.call(xe,ee,it,lt,"reference","referenceMarker","referenceString")(ct)}function it(ct){return xe.parser.defined.includes(normalizeIdentifier(xe.sliceSerialize(xe.events[xe.events.length-1][1]).slice(1,-1)))?te(ct):ne(ct)}function lt(ct){return ne(ct)}}function tokenizeReferenceCollapsed(ee,te,ne){return xe;function xe(it){return ee.enter("reference"),ee.enter("referenceMarker"),ee.consume(it),ee.exit("referenceMarker"),rt}function rt(it){return it===93?(ee.enter("referenceMarker"),ee.consume(it),ee.exit("referenceMarker"),ee.exit("reference"),te):ne(it)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(ee,te,ne){const xe=this;return rt;function rt(ct){return ee.enter("labelImage"),ee.enter("labelImageMarker"),ee.consume(ct),ee.exit("labelImageMarker"),it}function it(ct){return ct===91?(ee.enter("labelMarker"),ee.consume(ct),ee.exit("labelMarker"),ee.exit("labelImage"),lt):ne(ct)}function lt(ct){return ct===94&&"_hiddenFootnoteSupport"in xe.parser.constructs?ne(ct):te(ct)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(ee,te,ne){const xe=this;return rt;function rt(lt){return ee.enter("labelLink"),ee.enter("labelMarker"),ee.consume(lt),ee.exit("labelMarker"),ee.exit("labelLink"),it}function it(lt){return lt===94&&"_hiddenFootnoteSupport"in xe.parser.constructs?ne(lt):te(lt)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(ee,te){return ne;function ne(xe){return ee.enter("lineEnding"),ee.consume(xe),ee.exit("lineEnding"),factorySpace(ee,te,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(ee,te,ne){let xe=0,rt;return it;function it(dt){return ee.enter("thematicBreak"),lt(dt)}function lt(dt){return rt=dt,ct(dt)}function ct(dt){return dt===rt?(ee.enter("thematicBreakSequence"),ut(dt)):xe>=3&&(dt===null||markdownLineEnding(dt))?(ee.exit("thematicBreak"),te(dt)):ne(dt)}function ut(dt){return dt===rt?(ee.consume(dt),xe++,ut):(ee.exit("thematicBreakSequence"),markdownSpace(dt)?factorySpace(ee,ct,"whitespace")(dt):ct(dt))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(ee,te,ne){const xe=this,rt=xe.events[xe.events.length-1];let it=rt&&rt[1].type==="linePrefix"?rt[2].sliceSerialize(rt[1],!0).length:0,lt=0;return ct;function ct(mt){const xt=xe.containerState.type||(mt===42||mt===43||mt===45?"listUnordered":"listOrdered");if(xt==="listUnordered"?!xe.containerState.marker||mt===xe.containerState.marker:asciiDigit(mt)){if(xe.containerState.type||(xe.containerState.type=xt,ee.enter(xt,{_container:!0})),xt==="listUnordered")return ee.enter("listItemPrefix"),mt===42||mt===45?ee.check(thematicBreak$2,ne,dt)(mt):dt(mt);if(!xe.interrupt||mt===49)return ee.enter("listItemPrefix"),ee.enter("listItemValue"),ut(mt)}return ne(mt)}function ut(mt){return asciiDigit(mt)&&++lt<10?(ee.consume(mt),ut):(!xe.interrupt||lt<2)&&(xe.containerState.marker?mt===xe.containerState.marker:mt===41||mt===46)?(ee.exit("listItemValue"),dt(mt)):ne(mt)}function dt(mt){return ee.enter("listItemMarker"),ee.consume(mt),ee.exit("listItemMarker"),xe.containerState.marker=xe.containerState.marker||mt,ee.check(blankLine,xe.interrupt?ne:ht,ee.attempt(listItemPrefixWhitespaceConstruct,pt,ft))}function ht(mt){return xe.containerState.initialBlankLine=!0,it++,pt(mt)}function ft(mt){return markdownSpace(mt)?(ee.enter("listItemPrefixWhitespace"),ee.consume(mt),ee.exit("listItemPrefixWhitespace"),pt):ne(mt)}function pt(mt){return xe.containerState.size=it+xe.sliceSerialize(ee.exit("listItemPrefix"),!0).length,te(mt)}}function tokenizeListContinuation(ee,te,ne){const xe=this;return xe.containerState._closeFlow=void 0,ee.check(blankLine,rt,it);function rt(ct){return xe.containerState.furtherBlankLines=xe.containerState.furtherBlankLines||xe.containerState.initialBlankLine,factorySpace(ee,te,"listItemIndent",xe.containerState.size+1)(ct)}function it(ct){return xe.containerState.furtherBlankLines||!markdownSpace(ct)?(xe.containerState.furtherBlankLines=void 0,xe.containerState.initialBlankLine=void 0,lt(ct)):(xe.containerState.furtherBlankLines=void 0,xe.containerState.initialBlankLine=void 0,ee.attempt(indentConstruct,te,lt)(ct))}function lt(ct){return xe.containerState._closeFlow=!0,xe.interrupt=void 0,factorySpace(ee,ee.attempt(list$2,te,ne),"linePrefix",xe.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ct)}}function tokenizeIndent$1(ee,te,ne){const xe=this;return factorySpace(ee,rt,"listItemIndent",xe.containerState.size+1);function rt(it){const lt=xe.events[xe.events.length-1];return lt&&lt[1].type==="listItemIndent"&&lt[2].sliceSerialize(lt[1],!0).length===xe.containerState.size?te(it):ne(it)}}function tokenizeListEnd(ee){ee.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(ee,te,ne){const xe=this;return factorySpace(ee,rt,"listItemPrefixWhitespace",xe.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function rt(it){const lt=xe.events[xe.events.length-1];return!markdownSpace(it)&&lt&&lt[1].type==="listItemPrefixWhitespace"?te(it):ne(it)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(ee,te){let ne=ee.length,xe,rt,it;for(;ne--;)if(ee[ne][0]==="enter"){if(ee[ne][1].type==="content"){xe=ne;break}ee[ne][1].type==="paragraph"&&(rt=ne)}else ee[ne][1].type==="content"&&ee.splice(ne,1),!it&&ee[ne][1].type==="definition"&&(it=ne);const lt={type:"setextHeading",start:{...ee[xe][1].start},end:{...ee[ee.length-1][1].end}};return ee[rt][1].type="setextHeadingText",it?(ee.splice(rt,0,["enter",lt,te]),ee.splice(it+1,0,["exit",ee[xe][1],te]),ee[xe][1].end={...ee[it][1].end}):ee[xe][1]=lt,ee.push(["exit",lt,te]),ee}function tokenizeSetextUnderline(ee,te,ne){const xe=this;let rt;return it;function it(dt){let ht=xe.events.length,ft;for(;ht--;)if(xe.events[ht][1].type!=="lineEnding"&&xe.events[ht][1].type!=="linePrefix"&&xe.events[ht][1].type!=="content"){ft=xe.events[ht][1].type==="paragraph";break}return!xe.parser.lazy[xe.now().line]&&(xe.interrupt||ft)?(ee.enter("setextHeadingLine"),rt=dt,lt(dt)):ne(dt)}function lt(dt){return ee.enter("setextHeadingLineSequence"),ct(dt)}function ct(dt){return dt===rt?(ee.consume(dt),ct):(ee.exit("setextHeadingLineSequence"),markdownSpace(dt)?factorySpace(ee,ut,"lineSuffix")(dt):ut(dt))}function ut(dt){return dt===null||markdownLineEnding(dt)?(ee.exit("setextHeadingLine"),te(dt)):ne(dt)}}const flow$1={tokenize:initializeFlow};function initializeFlow(ee){const te=this,ne=ee.attempt(blankLine,xe,ee.attempt(this.parser.constructs.flowInitial,rt,factorySpace(ee,ee.attempt(this.parser.constructs.flow,rt,ee.attempt(content,rt)),"linePrefix")));return ne;function xe(it){if(it===null){ee.consume(it);return}return ee.enter("lineEndingBlank"),ee.consume(it),ee.exit("lineEndingBlank"),te.currentConstruct=void 0,ne}function rt(it){if(it===null){ee.consume(it);return}return ee.enter("lineEnding"),ee.consume(it),ee.exit("lineEnding"),te.currentConstruct=void 0,ne}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$8=initializeFactory("text");function initializeFactory(ee){return{resolveAll:createResolver(ee==="text"?resolveAllLineSuffixes:void 0),tokenize:te};function te(ne){const xe=this,rt=this.parser.constructs[ee],it=ne.attempt(rt,lt,ct);return lt;function lt(ht){return dt(ht)?it(ht):ct(ht)}function ct(ht){if(ht===null){ne.consume(ht);return}return ne.enter("data"),ne.consume(ht),ut}function ut(ht){return dt(ht)?(ne.exit("data"),it(ht)):(ne.consume(ht),ut)}function dt(ht){if(ht===null)return!0;const ft=rt[ht];let pt=-1;if(ft)for(;++pt<ft.length;){const mt=ft[pt];if(!mt.previous||mt.previous.call(xe,xe.previous))return!0}return!1}}}function createResolver(ee){return te;function te(ne,xe){let rt=-1,it;for(;++rt<=ne.length;)it===void 0?ne[rt]&&ne[rt][1].type==="data"&&(it=rt,rt++):(!ne[rt]||ne[rt][1].type!=="data")&&(rt!==it+2&&(ne[it][1].end=ne[rt-1][1].end,ne.splice(it+2,rt-it-2),rt=it+2),it=void 0);return ee?ee(ne,xe):ne}}function resolveAllLineSuffixes(ee,te){let ne=0;for(;++ne<=ee.length;)if((ne===ee.length||ee[ne][1].type==="lineEnding")&&ee[ne-1][1].type==="data"){const xe=ee[ne-1][1],rt=te.sliceStream(xe);let it=rt.length,lt=-1,ct=0,ut;for(;it--;){const dt=rt[it];if(typeof dt=="string"){for(lt=dt.length;dt.charCodeAt(lt-1)===32;)ct++,lt--;if(lt)break;lt=-1}else if(dt===-2)ut=!0,ct++;else if(dt!==-1){it++;break}}if(te._contentTypeTextTrailing&&ne===ee.length&&(ct=0),ct){const dt={type:ne===ee.length||ut||ct<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:it?lt:xe.start._bufferIndex+lt,_index:xe.start._index+it,line:xe.end.line,column:xe.end.column-ct,offset:xe.end.offset-ct},end:{...xe.end}};xe.end={...dt.start},xe.start.offset===xe.end.offset?Object.assign(xe,dt):(ee.splice(ne,0,["enter",dt,te],["exit",dt,te]),ne+=2)}ne++}return ee}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$7={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$7},Symbol.toStringTag,{value:"Module"}));function createTokenizer(ee,te,ne){let xe={_bufferIndex:-1,_index:0,line:ne&&ne.line||1,column:ne&&ne.column||1,offset:ne&&ne.offset||0};const rt={},it=[];let lt=[],ct=[];const ut={attempt:Rt(Ct),check:Rt(jt),consume:_t,enter:wt,exit:St,interrupt:Rt(jt,{interrupt:!0})},dt={code:null,containerState:{},defineSkip:yt,events:[],now:xt,parser:ee,previous:null,sliceSerialize:pt,sliceStream:mt,write:ft};let ht=te.tokenize.call(dt,ut);return te.resolveAll&&it.push(te),dt;function ft(Lt){return lt=push(lt,Lt),vt(),lt[lt.length-1]!==null?[]:(Pt(te,0),dt.events=resolveAll(it,dt.events,dt),dt.events)}function pt(Lt,Bt){return serializeChunks(mt(Lt),Bt)}function mt(Lt){return sliceChunks(lt,Lt)}function xt(){const{_bufferIndex:Lt,_index:Bt,line:Gt,column:It,offset:qt}=xe;return{_bufferIndex:Lt,_index:Bt,line:Gt,column:It,offset:qt}}function yt(Lt){rt[Lt.line]=Lt.column,Ft()}function vt(){let Lt;for(;xe._index<lt.length;){const Bt=lt[xe._index];if(typeof Bt=="string")for(Lt=xe._index,xe._bufferIndex<0&&(xe._bufferIndex=0);xe._index===Lt&&xe._bufferIndex<Bt.length;)Et(Bt.charCodeAt(xe._bufferIndex));else Et(Bt)}}function Et(Lt){ht=ht(Lt)}function _t(Lt){markdownLineEnding(Lt)?(xe.line++,xe.column=1,xe.offset+=Lt===-3?2:1,Ft()):Lt!==-1&&(xe.column++,xe.offset++),xe._bufferIndex<0?xe._index++:(xe._bufferIndex++,xe._bufferIndex===lt[xe._index].length&&(xe._bufferIndex=-1,xe._index++)),dt.previous=Lt}function wt(Lt,Bt){const Gt=Bt||{};return Gt.type=Lt,Gt.start=xt(),dt.events.push(["enter",Gt,dt]),ct.push(Gt),Gt}function St(Lt){const Bt=ct.pop();return Bt.end=xt(),dt.events.push(["exit",Bt,dt]),Bt}function Ct(Lt,Bt){Pt(Lt,Bt.from)}function jt(Lt,Bt){Bt.restore()}function Rt(Lt,Bt){return Gt;function Gt(It,qt,Nt){let Dt,Tt,Mt,$t;return Array.isArray(It)?Wt(It):"tokenize"in It?Wt([It]):Ht(It);function Ht(ar){return Xt;function Xt(tr){const rr=tr!==null&&ar[tr],ur=tr!==null&&ar.null,Jt=[...Array.isArray(rr)?rr:rr?[rr]:[],...Array.isArray(ur)?ur:ur?[ur]:[]];return Wt(Jt)(tr)}}function Wt(ar){return Dt=ar,Tt=0,ar.length===0?Nt:Vt(ar[Tt])}function Vt(ar){return Xt;function Xt(tr){return $t=Ot(),Mt=ar,ar.partial||(dt.currentConstruct=ar),ar.name&&dt.parser.constructs.disable.null.includes(ar.name)?Qt():ar.tokenize.call(Bt?Object.assign(Object.create(dt),Bt):dt,ut,Yt,Qt)(tr)}}function Yt(ar){return Lt(Mt,$t),qt}function Qt(ar){return $t.restore(),++Tt<Dt.length?Vt(Dt[Tt]):Nt}}}function Pt(Lt,Bt){Lt.resolveAll&&!it.includes(Lt)&&it.push(Lt),Lt.resolve&&splice$1(dt.events,Bt,dt.events.length-Bt,Lt.resolve(dt.events.slice(Bt),dt)),Lt.resolveTo&&(dt.events=Lt.resolveTo(dt.events,dt))}function Ot(){const Lt=xt(),Bt=dt.previous,Gt=dt.currentConstruct,It=dt.events.length,qt=Array.from(ct);return{from:It,restore:Nt};function Nt(){xe=Lt,dt.previous=Bt,dt.currentConstruct=Gt,dt.events.length=It,ct=qt,Ft()}}function Ft(){xe.line in rt&&xe.column<2&&(xe.column=rt[xe.line],xe.offset+=rt[xe.line]-1)}}function sliceChunks(ee,te){const ne=te.start._index,xe=te.start._bufferIndex,rt=te.end._index,it=te.end._bufferIndex;let lt;if(ne===rt)lt=[ee[ne].slice(xe,it)];else{if(lt=ee.slice(ne,rt),xe>-1){const ct=lt[0];typeof ct=="string"?lt[0]=ct.slice(xe):lt.shift()}it>0&&lt.push(ee[rt].slice(0,it))}return lt}function serializeChunks(ee,te){let ne=-1;const xe=[];let rt;for(;++ne<ee.length;){const it=ee[ne];let lt;if(typeof it=="string")lt=it;else switch(it){case-5:{lt="\r";break}case-4:{lt=`
`;break}case-3:{lt=`\r
`;break}case-2:{lt=te?" ":"	";break}case-1:{if(!te&&rt)continue;lt=" ";break}default:lt=String.fromCharCode(it)}rt=it===-2,xe.push(lt)}return xe.join("")}function parse$2(ee){const xe={constructs:combineExtensions([defaultConstructs,...(ee||{}).extensions||[]]),content:rt(content$1),defined:[],document:rt(document$2),flow:rt(flow$1),lazy:{},string:rt(string$1),text:rt(text$8)};return xe;function rt(it){return lt;function lt(ct){return createTokenizer(xe,it,ct)}}}function postprocess(ee){for(;!subtokenize(ee););return ee}const search$1=/[\0\t\n\r]/g;function preprocess(){let ee=1,te="",ne=!0,xe;return rt;function rt(it,lt,ct){const ut=[];let dt,ht,ft,pt,mt;for(it=te+(typeof it=="string"?it.toString():new TextDecoder(lt||void 0).decode(it)),ft=0,te="",ne&&(it.charCodeAt(0)===65279&&ft++,ne=void 0);ft<it.length;){if(search$1.lastIndex=ft,dt=search$1.exec(it),pt=dt&&dt.index!==void 0?dt.index:it.length,mt=it.charCodeAt(pt),!dt){te=it.slice(ft);break}if(mt===10&&ft===pt&&xe)ut.push(-3),xe=void 0;else switch(xe&&(ut.push(-5),xe=void 0),ft<pt&&(ut.push(it.slice(ft,pt)),ee+=pt-ft),mt){case 0:{ut.push(65533),ee++;break}case 9:{for(ht=Math.ceil(ee/4)*4,ut.push(-2);ee++<ht;)ut.push(-1);break}case 10:{ut.push(-4),ee=1;break}default:xe=!0,ee=1}ft=pt+1}return ct&&(xe&&ut.push(-5),te&&ut.push(te),ut.push(null)),ut}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(ee){return ee.replace(characterEscapeOrReference,decode)}function decode(ee,te,ne){if(te)return te;if(ne.charCodeAt(0)===35){const rt=ne.charCodeAt(1),it=rt===120||rt===88;return decodeNumericCharacterReference(ne.slice(it?2:1),it?16:10)}return decodeNamedCharacterReference(ne)||ee}const own$2={}.hasOwnProperty;function fromMarkdown(ee,te,ne){return typeof te!="string"&&(ne=te,te=void 0),compiler(ne)(postprocess(parse$2(ne).document().write(preprocess()(ee,te,!0))))}function compiler(ee){const te={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:it(Yr),autolinkProtocol:Ot,autolinkEmail:Ot,atxHeading:it(Ar),blockQuote:it(ur),characterEscape:Ot,characterReference:Ot,codeFenced:it(Jt),codeFencedFenceInfo:lt,codeFencedFenceMeta:lt,codeIndented:it(Jt,lt),codeText:it(Zt,lt),codeTextData:Ot,data:Ot,codeFlowValue:Ot,definition:it(or),definitionDestinationString:lt,definitionLabelString:lt,definitionTitleString:lt,emphasis:it(dr),hardBreakEscape:it(Nr),hardBreakTrailing:it(Nr),htmlFlow:it(Mr,lt),htmlFlowData:Ot,htmlText:it(Mr,lt),htmlTextData:Ot,image:it(Gr),label:lt,link:it(Yr),listItem:it(Jr),listItemValue:pt,listOrdered:it(en,ft),listUnordered:it(en),paragraph:it(on),reference:Vt,referenceString:lt,resourceDestinationString:lt,resourceTitleString:lt,setextHeading:it(Ar),strong:it(sn),thematicBreak:it(dn)},exit:{atxHeading:ut(),atxHeadingSequence:Ct,autolink:ut(),autolinkEmail:rr,autolinkProtocol:tr,blockQuote:ut(),characterEscapeValue:Ft,characterReferenceMarkerHexadecimal:Qt,characterReferenceMarkerNumeric:Qt,characterReferenceValue:ar,characterReference:Xt,codeFenced:ut(vt),codeFencedFence:yt,codeFencedFenceInfo:mt,codeFencedFenceMeta:xt,codeFlowValue:Ft,codeIndented:ut(Et),codeText:ut(qt),codeTextData:Ft,data:Ft,definition:ut(),definitionDestinationString:St,definitionLabelString:_t,definitionTitleString:wt,emphasis:ut(),hardBreakEscape:ut(Bt),hardBreakTrailing:ut(Bt),htmlFlow:ut(Gt),htmlFlowData:Ft,htmlText:ut(It),htmlTextData:Ft,image:ut(Dt),label:Mt,labelText:Tt,lineEnding:Lt,link:ut(Nt),listItem:ut(),listOrdered:ut(),listUnordered:ut(),paragraph:ut(),referenceString:Yt,resourceDestinationString:$t,resourceTitleString:Ht,resource:Wt,setextHeading:ut(Pt),setextHeadingLineSequence:Rt,setextHeadingText:jt,strong:ut(),thematicBreak:ut()}};configure(te,(ee||{}).mdastExtensions||[]);const ne={};return xe;function xe(pr){let Er={type:"root",children:[]};const sr={stack:[Er],tokenStack:[],config:te,enter:ct,exit:dt,buffer:lt,resume:ht,data:ne},vr=[];let Pr=-1;for(;++Pr<pr.length;)if(pr[Pr][1].type==="listOrdered"||pr[Pr][1].type==="listUnordered")if(pr[Pr][0]==="enter")vr.push(Pr);else{const Kr=vr.pop();Pr=rt(pr,Kr,Pr)}for(Pr=-1;++Pr<pr.length;){const Kr=te[pr[Pr][0]];own$2.call(Kr,pr[Pr][1].type)&&Kr[pr[Pr][1].type].call(Object.assign({sliceSerialize:pr[Pr][2].sliceSerialize},sr),pr[Pr][1])}if(sr.tokenStack.length>0){const Kr=sr.tokenStack[sr.tokenStack.length-1];(Kr[1]||defaultOnError).call(sr,void 0,Kr[0])}for(Er.position={start:point$1(pr.length>0?pr[0][1].start:{line:1,column:1,offset:0}),end:point$1(pr.length>0?pr[pr.length-2][1].end:{line:1,column:1,offset:0})},Pr=-1;++Pr<te.transforms.length;)Er=te.transforms[Pr](Er)||Er;return Er}function rt(pr,Er,sr){let vr=Er-1,Pr=-1,Kr=!1,Ln,kn,qn,vn;for(;++vr<=sr;){const fn=pr[vr];switch(fn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{fn[0]==="enter"?Pr++:Pr--,vn=void 0;break}case"lineEndingBlank":{fn[0]==="enter"&&(Ln&&!vn&&!Pr&&!qn&&(qn=vr),vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vn=void 0}if(!Pr&&fn[0]==="enter"&&fn[1].type==="listItemPrefix"||Pr===-1&&fn[0]==="exit"&&(fn[1].type==="listUnordered"||fn[1].type==="listOrdered")){if(Ln){let $n=vr;for(kn=void 0;$n--;){const bn=pr[$n];if(bn[1].type==="lineEnding"||bn[1].type==="lineEndingBlank"){if(bn[0]==="exit")continue;kn&&(pr[kn][1].type="lineEndingBlank",Kr=!0),bn[1].type="lineEnding",kn=$n}else if(!(bn[1].type==="linePrefix"||bn[1].type==="blockQuotePrefix"||bn[1].type==="blockQuotePrefixWhitespace"||bn[1].type==="blockQuoteMarker"||bn[1].type==="listItemIndent"))break}qn&&(!kn||qn<kn)&&(Ln._spread=!0),Ln.end=Object.assign({},kn?pr[kn][1].start:fn[1].end),pr.splice(kn||vr,0,["exit",Ln,fn[2]]),vr++,sr++}if(fn[1].type==="listItemPrefix"){const $n={type:"listItem",_spread:!1,start:Object.assign({},fn[1].start),end:void 0};Ln=$n,pr.splice(vr,0,["enter",$n,fn[2]]),vr++,sr++,qn=void 0,vn=!0}}}return pr[Er][1]._spread=Kr,sr}function it(pr,Er){return sr;function sr(vr){ct.call(this,pr(vr),vr),Er&&Er.call(this,vr)}}function lt(){this.stack.push({type:"fragment",children:[]})}function ct(pr,Er,sr){this.stack[this.stack.length-1].children.push(pr),this.stack.push(pr),this.tokenStack.push([Er,sr||void 0]),pr.position={start:point$1(Er.start),end:void 0}}function ut(pr){return Er;function Er(sr){pr&&pr.call(this,sr),dt.call(this,sr)}}function dt(pr,Er){const sr=this.stack.pop(),vr=this.tokenStack.pop();if(vr)vr[0].type!==pr.type&&(Er?Er.call(this,pr,vr[0]):(vr[1]||defaultOnError).call(this,pr,vr[0]));else throw new Error("Cannot close `"+pr.type+"` ("+stringifyPosition({start:pr.start,end:pr.end})+"): its not open");sr.position.end=point$1(pr.end)}function ht(){return toString$1(this.stack.pop())}function ft(){this.data.expectingFirstListItemValue=!0}function pt(pr){if(this.data.expectingFirstListItemValue){const Er=this.stack[this.stack.length-2];Er.start=Number.parseInt(this.sliceSerialize(pr),10),this.data.expectingFirstListItemValue=void 0}}function mt(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.lang=pr}function xt(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.meta=pr}function yt(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function vt(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.value=pr.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function Et(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.value=pr.replace(/(\r?\n|\r)$/g,"")}function _t(pr){const Er=this.resume(),sr=this.stack[this.stack.length-1];sr.label=Er,sr.identifier=normalizeIdentifier(this.sliceSerialize(pr)).toLowerCase()}function wt(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.title=pr}function St(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.url=pr}function Ct(pr){const Er=this.stack[this.stack.length-1];if(!Er.depth){const sr=this.sliceSerialize(pr).length;Er.depth=sr}}function jt(){this.data.setextHeadingSlurpLineEnding=!0}function Rt(pr){const Er=this.stack[this.stack.length-1];Er.depth=this.sliceSerialize(pr).codePointAt(0)===61?1:2}function Pt(){this.data.setextHeadingSlurpLineEnding=void 0}function Ot(pr){const sr=this.stack[this.stack.length-1].children;let vr=sr[sr.length-1];(!vr||vr.type!=="text")&&(vr=an(),vr.position={start:point$1(pr.start),end:void 0},sr.push(vr)),this.stack.push(vr)}function Ft(pr){const Er=this.stack.pop();Er.value+=this.sliceSerialize(pr),Er.position.end=point$1(pr.end)}function Lt(pr){const Er=this.stack[this.stack.length-1];if(this.data.atHardBreak){const sr=Er.children[Er.children.length-1];sr.position.end=point$1(pr.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&te.canContainEols.includes(Er.type)&&(Ot.call(this,pr),Ft.call(this,pr))}function Bt(){this.data.atHardBreak=!0}function Gt(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.value=pr}function It(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.value=pr}function qt(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.value=pr}function Nt(){const pr=this.stack[this.stack.length-1];if(this.data.inReference){const Er=this.data.referenceType||"shortcut";pr.type+="Reference",pr.referenceType=Er,delete pr.url,delete pr.title}else delete pr.identifier,delete pr.label;this.data.referenceType=void 0}function Dt(){const pr=this.stack[this.stack.length-1];if(this.data.inReference){const Er=this.data.referenceType||"shortcut";pr.type+="Reference",pr.referenceType=Er,delete pr.url,delete pr.title}else delete pr.identifier,delete pr.label;this.data.referenceType=void 0}function Tt(pr){const Er=this.sliceSerialize(pr),sr=this.stack[this.stack.length-2];sr.label=decodeString(Er),sr.identifier=normalizeIdentifier(Er).toLowerCase()}function Mt(){const pr=this.stack[this.stack.length-1],Er=this.resume(),sr=this.stack[this.stack.length-1];if(this.data.inReference=!0,sr.type==="link"){const vr=pr.children;sr.children=vr}else sr.alt=Er}function $t(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.url=pr}function Ht(){const pr=this.resume(),Er=this.stack[this.stack.length-1];Er.title=pr}function Wt(){this.data.inReference=void 0}function Vt(){this.data.referenceType="collapsed"}function Yt(pr){const Er=this.resume(),sr=this.stack[this.stack.length-1];sr.label=Er,sr.identifier=normalizeIdentifier(this.sliceSerialize(pr)).toLowerCase(),this.data.referenceType="full"}function Qt(pr){this.data.characterReferenceType=pr.type}function ar(pr){const Er=this.sliceSerialize(pr),sr=this.data.characterReferenceType;let vr;sr?(vr=decodeNumericCharacterReference(Er,sr==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):vr=decodeNamedCharacterReference(Er);const Pr=this.stack[this.stack.length-1];Pr.value+=vr}function Xt(pr){const Er=this.stack.pop();Er.position.end=point$1(pr.end)}function tr(pr){Ft.call(this,pr);const Er=this.stack[this.stack.length-1];Er.url=this.sliceSerialize(pr)}function rr(pr){Ft.call(this,pr);const Er=this.stack[this.stack.length-1];Er.url="mailto:"+this.sliceSerialize(pr)}function ur(){return{type:"blockquote",children:[]}}function Jt(){return{type:"code",lang:null,meta:null,value:""}}function Zt(){return{type:"inlineCode",value:""}}function or(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function dr(){return{type:"emphasis",children:[]}}function Ar(){return{type:"heading",depth:0,children:[]}}function Nr(){return{type:"break"}}function Mr(){return{type:"html",value:""}}function Gr(){return{type:"image",title:null,url:"",alt:null}}function Yr(){return{type:"link",title:null,url:"",children:[]}}function en(pr){return{type:"list",ordered:pr.type==="listOrdered",start:null,spread:pr._spread,children:[]}}function Jr(pr){return{type:"listItem",spread:pr._spread,checked:null,children:[]}}function on(){return{type:"paragraph",children:[]}}function sn(){return{type:"strong",children:[]}}function an(){return{type:"text",value:""}}function dn(){return{type:"thematicBreak"}}}function point$1(ee){return{line:ee.line,column:ee.column,offset:ee.offset}}function configure(ee,te){let ne=-1;for(;++ne<te.length;){const xe=te[ne];Array.isArray(xe)?configure(ee,xe):extension$1(ee,xe)}}function extension$1(ee,te){let ne;for(ne in te)if(own$2.call(te,ne))switch(ne){case"canContainEols":{const xe=te[ne];xe&&ee[ne].push(...xe);break}case"transforms":{const xe=te[ne];xe&&ee[ne].push(...xe);break}case"enter":case"exit":{const xe=te[ne];xe&&Object.assign(ee[ne],xe);break}}}function defaultOnError(ee,te){throw ee?new Error("Cannot close `"+ee.type+"` ("+stringifyPosition({start:ee.start,end:ee.end})+"): a different token (`"+te.type+"`, "+stringifyPosition({start:te.start,end:te.end})+") is open"):new Error("Cannot close document, a token (`"+te.type+"`, "+stringifyPosition({start:te.start,end:te.end})+") is still open")}function remarkParse(ee){const te=this;te.parser=ne;function ne(xe){return fromMarkdown(xe,{...te.data("settings"),...ee,extensions:te.data("micromarkExtensions")||[],mdastExtensions:te.data("fromMarkdownExtensions")||[]})}}function blockquote$1(ee,te){const ne={type:"element",tagName:"blockquote",properties:{},children:ee.wrap(ee.all(te),!0)};return ee.patch(te,ne),ee.applyData(te,ne)}function hardBreak$1(ee,te){const ne={type:"element",tagName:"br",properties:{},children:[]};return ee.patch(te,ne),[ee.applyData(te,ne),{type:"text",value:`
`}]}function code$2(ee,te){const ne=te.value?te.value+`
`:"",xe={},rt=te.lang?te.lang.split(/\s+/):[];rt.length>0&&(xe.className=["language-"+rt[0]]);let it={type:"element",tagName:"code",properties:xe,children:[{type:"text",value:ne}]};return te.meta&&(it.data={meta:te.meta}),ee.patch(te,it),it=ee.applyData(te,it),it={type:"element",tagName:"pre",properties:{},children:[it]},ee.patch(te,it),it}function strikethrough(ee,te){const ne={type:"element",tagName:"del",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function emphasis$1(ee,te){const ne={type:"element",tagName:"em",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function footnoteReference$1(ee,te){const ne=typeof ee.options.clobberPrefix=="string"?ee.options.clobberPrefix:"user-content-",xe=String(te.identifier).toUpperCase(),rt=normalizeUri(xe.toLowerCase()),it=ee.footnoteOrder.indexOf(xe);let lt,ct=ee.footnoteCounts.get(xe);ct===void 0?(ct=0,ee.footnoteOrder.push(xe),lt=ee.footnoteOrder.length):lt=it+1,ct+=1,ee.footnoteCounts.set(xe,ct);const ut={type:"element",tagName:"a",properties:{href:"#"+ne+"fn-"+rt,id:ne+"fnref-"+rt+(ct>1?"-"+ct:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(lt)}]};ee.patch(te,ut);const dt={type:"element",tagName:"sup",properties:{},children:[ut]};return ee.patch(te,dt),ee.applyData(te,dt)}function heading$1(ee,te){const ne={type:"element",tagName:"h"+te.depth,properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function html$3(ee,te){if(ee.options.allowDangerousHtml){const ne={type:"raw",value:te.value};return ee.patch(te,ne),ee.applyData(te,ne)}}function revert(ee,te){const ne=te.referenceType;let xe="]";if(ne==="collapsed"?xe+="[]":ne==="full"&&(xe+="["+(te.label||te.identifier)+"]"),te.type==="imageReference")return[{type:"text",value:"!["+te.alt+xe}];const rt=ee.all(te),it=rt[0];it&&it.type==="text"?it.value="["+it.value:rt.unshift({type:"text",value:"["});const lt=rt[rt.length-1];return lt&&lt.type==="text"?lt.value+=xe:rt.push({type:"text",value:xe}),rt}function imageReference$1(ee,te){const ne=String(te.identifier).toUpperCase(),xe=ee.definitionById.get(ne);if(!xe)return revert(ee,te);const rt={src:normalizeUri(xe.url||""),alt:te.alt};xe.title!==null&&xe.title!==void 0&&(rt.title=xe.title);const it={type:"element",tagName:"img",properties:rt,children:[]};return ee.patch(te,it),ee.applyData(te,it)}function image$1(ee,te){const ne={src:normalizeUri(te.url)};te.alt!==null&&te.alt!==void 0&&(ne.alt=te.alt),te.title!==null&&te.title!==void 0&&(ne.title=te.title);const xe={type:"element",tagName:"img",properties:ne,children:[]};return ee.patch(te,xe),ee.applyData(te,xe)}function inlineCode$1(ee,te){const ne={type:"text",value:te.value.replace(/\r?\n|\r/g," ")};ee.patch(te,ne);const xe={type:"element",tagName:"code",properties:{},children:[ne]};return ee.patch(te,xe),ee.applyData(te,xe)}function linkReference$1(ee,te){const ne=String(te.identifier).toUpperCase(),xe=ee.definitionById.get(ne);if(!xe)return revert(ee,te);const rt={href:normalizeUri(xe.url||"")};xe.title!==null&&xe.title!==void 0&&(rt.title=xe.title);const it={type:"element",tagName:"a",properties:rt,children:ee.all(te)};return ee.patch(te,it),ee.applyData(te,it)}function link$1(ee,te){const ne={href:normalizeUri(te.url)};te.title!==null&&te.title!==void 0&&(ne.title=te.title);const xe={type:"element",tagName:"a",properties:ne,children:ee.all(te)};return ee.patch(te,xe),ee.applyData(te,xe)}function listItem$1(ee,te,ne){const xe=ee.all(te),rt=ne?listLoose(ne):listItemLoose(te),it={},lt=[];if(typeof te.checked=="boolean"){const ht=xe[0];let ft;ht&&ht.type==="element"&&ht.tagName==="p"?ft=ht:(ft={type:"element",tagName:"p",properties:{},children:[]},xe.unshift(ft)),ft.children.length>0&&ft.children.unshift({type:"text",value:" "}),ft.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:te.checked,disabled:!0},children:[]}),it.className=["task-list-item"]}let ct=-1;for(;++ct<xe.length;){const ht=xe[ct];(rt||ct!==0||ht.type!=="element"||ht.tagName!=="p")&&lt.push({type:"text",value:`
`}),ht.type==="element"&&ht.tagName==="p"&&!rt?lt.push(...ht.children):lt.push(ht)}const ut=xe[xe.length-1];ut&&(rt||ut.type!=="element"||ut.tagName!=="p")&&lt.push({type:"text",value:`
`});const dt={type:"element",tagName:"li",properties:it,children:lt};return ee.patch(te,dt),ee.applyData(te,dt)}function listLoose(ee){let te=!1;if(ee.type==="list"){te=ee.spread||!1;const ne=ee.children;let xe=-1;for(;!te&&++xe<ne.length;)te=listItemLoose(ne[xe])}return te}function listItemLoose(ee){const te=ee.spread;return te??ee.children.length>1}function list$1(ee,te){const ne={},xe=ee.all(te);let rt=-1;for(typeof te.start=="number"&&te.start!==1&&(ne.start=te.start);++rt<xe.length;){const lt=xe[rt];if(lt.type==="element"&&lt.tagName==="li"&&lt.properties&&Array.isArray(lt.properties.className)&&lt.properties.className.includes("task-list-item")){ne.className=["contains-task-list"];break}}const it={type:"element",tagName:te.ordered?"ol":"ul",properties:ne,children:ee.wrap(xe,!0)};return ee.patch(te,it),ee.applyData(te,it)}function paragraph$1(ee,te){const ne={type:"element",tagName:"p",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function root$4(ee,te){const ne={type:"root",children:ee.wrap(ee.all(te))};return ee.patch(te,ne),ee.applyData(te,ne)}function strong$1(ee,te){const ne={type:"element",tagName:"strong",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}function table(ee,te){const ne=ee.all(te),xe=ne.shift(),rt=[];if(xe){const lt={type:"element",tagName:"thead",properties:{},children:ee.wrap([xe],!0)};ee.patch(te.children[0],lt),rt.push(lt)}if(ne.length>0){const lt={type:"element",tagName:"tbody",properties:{},children:ee.wrap(ne,!0)},ct=pointStart(te.children[1]),ut=pointEnd(te.children[te.children.length-1]);ct&&ut&&(lt.position={start:ct,end:ut}),rt.push(lt)}const it={type:"element",tagName:"table",properties:{},children:ee.wrap(rt,!0)};return ee.patch(te,it),ee.applyData(te,it)}function tableRow(ee,te,ne){const xe=ne?ne.children:void 0,it=(xe?xe.indexOf(te):1)===0?"th":"td",lt=ne&&ne.type==="table"?ne.align:void 0,ct=lt?lt.length:te.children.length;let ut=-1;const dt=[];for(;++ut<ct;){const ft=te.children[ut],pt={},mt=lt?lt[ut]:void 0;mt&&(pt.align=mt);let xt={type:"element",tagName:it,properties:pt,children:[]};ft&&(xt.children=ee.all(ft),ee.patch(ft,xt),xt=ee.applyData(ft,xt)),dt.push(xt)}const ht={type:"element",tagName:"tr",properties:{},children:ee.wrap(dt,!0)};return ee.patch(te,ht),ee.applyData(te,ht)}function tableCell(ee,te){const ne={type:"element",tagName:"td",properties:{},children:ee.all(te)};return ee.patch(te,ne),ee.applyData(te,ne)}const tab=9,space=32;function trimLines(ee){const te=String(ee),ne=/\r?\n|\r/g;let xe=ne.exec(te),rt=0;const it=[];for(;xe;)it.push(trimLine(te.slice(rt,xe.index),rt>0,!0),xe[0]),rt=xe.index+xe[0].length,xe=ne.exec(te);return it.push(trimLine(te.slice(rt),rt>0,!1)),it.join("")}function trimLine(ee,te,ne){let xe=0,rt=ee.length;if(te){let it=ee.codePointAt(xe);for(;it===tab||it===space;)xe++,it=ee.codePointAt(xe)}if(ne){let it=ee.codePointAt(rt-1);for(;it===tab||it===space;)rt--,it=ee.codePointAt(rt-1)}return rt>xe?ee.slice(xe,rt):""}function text$6(ee,te){const ne={type:"text",value:trimLines(String(te.value))};return ee.patch(te,ne),ee.applyData(te,ne)}function thematicBreak$1(ee,te){const ne={type:"element",tagName:"hr",properties:{},children:[]};return ee.patch(te,ne),ee.applyData(te,ne)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$3,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$4,strong:strong$1,table,tableCell,tableRow,text:text$6,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(ee,te)=>{const ne=(rt,it)=>(ee.set(it,rt),rt),xe=rt=>{if(ee.has(rt))return ee.get(rt);const[it,lt]=te[rt];switch(it){case PRIMITIVE:case VOID:return ne(lt,rt);case ARRAY:{const ct=ne([],rt);for(const ut of lt)ct.push(xe(ut));return ct}case OBJECT:{const ct=ne({},rt);for(const[ut,dt]of lt)ct[xe(ut)]=xe(dt);return ct}case DATE:return ne(new Date(lt),rt);case REGEXP:{const{source:ct,flags:ut}=lt;return ne(new RegExp(ct,ut),rt)}case MAP:{const ct=ne(new Map,rt);for(const[ut,dt]of lt)ct.set(xe(ut),xe(dt));return ct}case SET:{const ct=ne(new Set,rt);for(const ut of lt)ct.add(xe(ut));return ct}case ERROR:{const{name:ct,message:ut}=lt;return ne(new env[ct](ut),rt)}case BIGINT:return ne(BigInt(lt),rt);case"BigInt":return ne(Object(BigInt(lt)),rt);case"ArrayBuffer":return ne(new Uint8Array(lt).buffer,lt);case"DataView":{const{buffer:ct}=new Uint8Array(lt);return ne(new DataView(ct),lt)}}return ne(new env[it](lt),rt)};return xe},deserialize=ee=>deserializer(new Map,ee)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=ee=>{const te=typeof ee;if(te!=="object"||!ee)return[PRIMITIVE,te];const ne=toString.call(ee).slice(8,-1);switch(ne){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,ne]}return ne.includes("Array")?[ARRAY,ne]:ne.includes("Error")?[ERROR,ne]:[OBJECT,ne]},shouldSkip=([ee,te])=>ee===PRIMITIVE&&(te==="function"||te==="symbol"),serializer=(ee,te,ne,xe)=>{const rt=(lt,ct)=>{const ut=xe.push(lt)-1;return ne.set(ct,ut),ut},it=lt=>{if(ne.has(lt))return ne.get(lt);let[ct,ut]=typeOf(lt);switch(ct){case PRIMITIVE:{let ht=lt;switch(ut){case"bigint":ct=BIGINT,ht=lt.toString();break;case"function":case"symbol":if(ee)throw new TypeError("unable to serialize "+ut);ht=null;break;case"undefined":return rt([VOID],lt)}return rt([ct,ht],lt)}case ARRAY:{if(ut){let pt=lt;return ut==="DataView"?pt=new Uint8Array(lt.buffer):ut==="ArrayBuffer"&&(pt=new Uint8Array(lt)),rt([ut,[...pt]],lt)}const ht=[],ft=rt([ct,ht],lt);for(const pt of lt)ht.push(it(pt));return ft}case OBJECT:{if(ut)switch(ut){case"BigInt":return rt([ut,lt.toString()],lt);case"Boolean":case"Number":case"String":return rt([ut,lt.valueOf()],lt)}if(te&&"toJSON"in lt)return it(lt.toJSON());const ht=[],ft=rt([ct,ht],lt);for(const pt of keys(lt))(ee||!shouldSkip(typeOf(lt[pt])))&&ht.push([it(pt),it(lt[pt])]);return ft}case DATE:return rt([ct,lt.toISOString()],lt);case REGEXP:{const{source:ht,flags:ft}=lt;return rt([ct,{source:ht,flags:ft}],lt)}case MAP:{const ht=[],ft=rt([ct,ht],lt);for(const[pt,mt]of lt)(ee||!(shouldSkip(typeOf(pt))||shouldSkip(typeOf(mt))))&&ht.push([it(pt),it(mt)]);return ft}case SET:{const ht=[],ft=rt([ct,ht],lt);for(const pt of lt)(ee||!shouldSkip(typeOf(pt)))&&ht.push(it(pt));return ft}}const{message:dt}=lt;return rt([ct,{name:ut,message:dt}],lt)};return it},serialize$2=(ee,{json:te,lossy:ne}={})=>{const xe=[];return serializer(!(te||ne),!!te,new Map,xe)(ee),xe},structuredClone$1=typeof structuredClone=="function"?(ee,te)=>te&&("json"in te||"lossy"in te)?deserialize(serialize$2(ee,te)):structuredClone(ee):(ee,te)=>deserialize(serialize$2(ee,te));function defaultFootnoteBackContent(ee,te){const ne=[{type:"text",value:""}];return te>1&&ne.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(te)}]}),ne}function defaultFootnoteBackLabel(ee,te){return"Back to reference "+(ee+1)+(te>1?"-"+te:"")}function footer(ee){const te=typeof ee.options.clobberPrefix=="string"?ee.options.clobberPrefix:"user-content-",ne=ee.options.footnoteBackContent||defaultFootnoteBackContent,xe=ee.options.footnoteBackLabel||defaultFootnoteBackLabel,rt=ee.options.footnoteLabel||"Footnotes",it=ee.options.footnoteLabelTagName||"h2",lt=ee.options.footnoteLabelProperties||{className:["sr-only"]},ct=[];let ut=-1;for(;++ut<ee.footnoteOrder.length;){const dt=ee.footnoteById.get(ee.footnoteOrder[ut]);if(!dt)continue;const ht=ee.all(dt),ft=String(dt.identifier).toUpperCase(),pt=normalizeUri(ft.toLowerCase());let mt=0;const xt=[],yt=ee.footnoteCounts.get(ft);for(;yt!==void 0&&++mt<=yt;){xt.length>0&&xt.push({type:"text",value:" "});let _t=typeof ne=="string"?ne:ne(ut,mt);typeof _t=="string"&&(_t={type:"text",value:_t}),xt.push({type:"element",tagName:"a",properties:{href:"#"+te+"fnref-"+pt+(mt>1?"-"+mt:""),dataFootnoteBackref:"",ariaLabel:typeof xe=="string"?xe:xe(ut,mt),className:["data-footnote-backref"]},children:Array.isArray(_t)?_t:[_t]})}const vt=ht[ht.length-1];if(vt&&vt.type==="element"&&vt.tagName==="p"){const _t=vt.children[vt.children.length-1];_t&&_t.type==="text"?_t.value+=" ":vt.children.push({type:"text",value:" "}),vt.children.push(...xt)}else ht.push(...xt);const Et={type:"element",tagName:"li",properties:{id:te+"fn-"+pt},children:ee.wrap(ht,!0)};ee.patch(dt,Et),ct.push(Et)}if(ct.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:it,properties:{...structuredClone$1(lt),id:"footnote-label"},children:[{type:"text",value:rt}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:ee.wrap(ct,!0)},{type:"text",value:`
`}]}}const convert=(function(ee){if(ee==null)return ok;if(typeof ee=="function")return castFactory$1(ee);if(typeof ee=="object")return Array.isArray(ee)?anyFactory$1(ee):propertiesFactory(ee);if(typeof ee=="string")return typeFactory(ee);throw new Error("Expected function, string, or object as test")});function anyFactory$1(ee){const te=[];let ne=-1;for(;++ne<ee.length;)te[ne]=convert(ee[ne]);return castFactory$1(xe);function xe(...rt){let it=-1;for(;++it<te.length;)if(te[it].apply(this,rt))return!0;return!1}}function propertiesFactory(ee){const te=ee;return castFactory$1(ne);function ne(xe){const rt=xe;let it;for(it in ee)if(rt[it]!==te[it])return!1;return!0}}function typeFactory(ee){return castFactory$1(te);function te(ne){return ne&&ne.type===ee}}function castFactory$1(ee){return te;function te(ne,xe,rt){return!!(looksLikeANode(ne)&&ee.call(this,ne,typeof xe=="number"?xe:void 0,rt||void 0))}}function ok(){return!0}function looksLikeANode(ee){return ee!==null&&typeof ee=="object"&&"type"in ee}function color(ee){return ee}const empty$1=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(ee,te,ne,xe){let rt;typeof te=="function"&&typeof ne!="function"?(xe=ne,ne=te):rt=te;const it=convert(rt),lt=xe?-1:1;ct(ee,void 0,[])();function ct(ut,dt,ht){const ft=ut&&typeof ut=="object"?ut:{};if(typeof ft.type=="string"){const mt=typeof ft.tagName=="string"?ft.tagName:typeof ft.name=="string"?ft.name:void 0;Object.defineProperty(pt,"name",{value:"node ("+(ut.type+(mt?"<"+mt+">":""))+")"})}return pt;function pt(){let mt=empty$1,xt,yt,vt;if((!te||it(ut,dt,ht[ht.length-1]||void 0))&&(mt=toResult(ne(ut,ht)),mt[0]===EXIT))return mt;if("children"in ut&&ut.children){const Et=ut;if(Et.children&&mt[0]!==SKIP)for(yt=(xe?Et.children.length:-1)+lt,vt=ht.concat(Et);yt>-1&&yt<Et.children.length;){const _t=Et.children[yt];if(xt=ct(_t,yt,vt)(),xt[0]===EXIT)return xt;yt=typeof xt[1]=="number"?xt[1]:yt+lt}}return mt}}}function toResult(ee){return Array.isArray(ee)?ee:typeof ee=="number"?[CONTINUE,ee]:ee==null?empty$1:[ee]}function visit(ee,te,ne,xe){let rt,it,lt;typeof te=="function"&&typeof ne!="function"?(it=void 0,lt=te,rt=ne):(it=te,lt=ne,rt=xe),visitParents(ee,it,ct,rt);function ct(ut,dt){const ht=dt[dt.length-1],ft=ht?ht.children.indexOf(ut):void 0;return lt(ut,ft,ht)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(ee,te){const ne=te||emptyOptions$3,xe=new Map,rt=new Map,it=new Map,lt={...handlers,...ne.handlers},ct={all:dt,applyData,definitionById:xe,footnoteById:rt,footnoteCounts:it,footnoteOrder:[],handlers:lt,one:ut,options:ne,patch,wrap:wrap$1};return visit(ee,function(ht){if(ht.type==="definition"||ht.type==="footnoteDefinition"){const ft=ht.type==="definition"?xe:rt,pt=String(ht.identifier).toUpperCase();ft.has(pt)||ft.set(pt,ht)}}),ct;function ut(ht,ft){const pt=ht.type,mt=ct.handlers[pt];if(own$1.call(ct.handlers,pt)&&mt)return mt(ct,ht,ft);if(ct.options.passThrough&&ct.options.passThrough.includes(pt)){if("children"in ht){const{children:yt,...vt}=ht,Et=structuredClone$1(vt);return Et.children=ct.all(ht),Et}return structuredClone$1(ht)}return(ct.options.unknownHandler||defaultUnknownHandler)(ct,ht,ft)}function dt(ht){const ft=[];if("children"in ht){const pt=ht.children;let mt=-1;for(;++mt<pt.length;){const xt=ct.one(pt[mt],ht);if(xt){if(mt&&pt[mt-1].type==="break"&&(!Array.isArray(xt)&&xt.type==="text"&&(xt.value=trimMarkdownSpaceStart(xt.value)),!Array.isArray(xt)&&xt.type==="element")){const yt=xt.children[0];yt&&yt.type==="text"&&(yt.value=trimMarkdownSpaceStart(yt.value))}Array.isArray(xt)?ft.push(...xt):ft.push(xt)}}}return ft}}function patch(ee,te){ee.position&&(te.position=position$2(ee))}function applyData(ee,te){let ne=te;if(ee&&ee.data){const xe=ee.data.hName,rt=ee.data.hChildren,it=ee.data.hProperties;if(typeof xe=="string")if(ne.type==="element")ne.tagName=xe;else{const lt="children"in ne?ne.children:[ne];ne={type:"element",tagName:xe,properties:{},children:lt}}ne.type==="element"&&it&&Object.assign(ne.properties,structuredClone$1(it)),"children"in ne&&ne.children&&rt!==null&&rt!==void 0&&(ne.children=rt)}return ne}function defaultUnknownHandler(ee,te){const ne=te.data||{},xe="value"in te&&!(own$1.call(ne,"hProperties")||own$1.call(ne,"hChildren"))?{type:"text",value:te.value}:{type:"element",tagName:"div",properties:{},children:ee.all(te)};return ee.patch(te,xe),ee.applyData(te,xe)}function wrap$1(ee,te){const ne=[];let xe=-1;for(te&&ne.push({type:"text",value:`
`});++xe<ee.length;)xe&&ne.push({type:"text",value:`
`}),ne.push(ee[xe]);return te&&ee.length>0&&ne.push({type:"text",value:`
`}),ne}function trimMarkdownSpaceStart(ee){let te=0,ne=ee.charCodeAt(te);for(;ne===9||ne===32;)te++,ne=ee.charCodeAt(te);return ee.slice(te)}function toHast(ee,te){const ne=createState(ee,te),xe=ne.one(ee,void 0),rt=footer(ne),it=Array.isArray(xe)?{type:"root",children:xe}:xe||{type:"root",children:[]};return rt&&it.children.push({type:"text",value:`
`},rt),it}function remarkRehype(ee,te){return ee&&"run"in ee?async function(ne,xe){const rt=toHast(ne,{file:xe,...te});await ee.run(rt,xe)}:function(ne,xe){return toHast(ne,{file:xe,...ee||te})}}function bail(ee){if(ee)throw ee}var extend$2,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$2;hasRequiredExtend=1;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.toString,ne=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,rt=function(dt){return typeof Array.isArray=="function"?Array.isArray(dt):te.call(dt)==="[object Array]"},it=function(dt){if(!dt||te.call(dt)!=="[object Object]")return!1;var ht=ee.call(dt,"constructor"),ft=dt.constructor&&dt.constructor.prototype&&ee.call(dt.constructor.prototype,"isPrototypeOf");if(dt.constructor&&!ht&&!ft)return!1;var pt;for(pt in dt);return typeof pt>"u"||ee.call(dt,pt)},lt=function(dt,ht){ne&&ht.name==="__proto__"?ne(dt,ht.name,{enumerable:!0,configurable:!0,value:ht.newValue,writable:!0}):dt[ht.name]=ht.newValue},ct=function(dt,ht){if(ht==="__proto__")if(ee.call(dt,ht)){if(xe)return xe(dt,ht).value}else return;return dt[ht]};return extend$2=function ut(){var dt,ht,ft,pt,mt,xt,yt=arguments[0],vt=1,Et=arguments.length,_t=!1;for(typeof yt=="boolean"&&(_t=yt,yt=arguments[1]||{},vt=2),(yt==null||typeof yt!="object"&&typeof yt!="function")&&(yt={});vt<Et;++vt)if(dt=arguments[vt],dt!=null)for(ht in dt)ft=ct(yt,ht),pt=ct(dt,ht),yt!==pt&&(_t&&pt&&(it(pt)||(mt=rt(pt)))?(mt?(mt=!1,xt=ft&&rt(ft)?ft:[]):xt=ft&&it(ft)?ft:{},lt(yt,{name:ht,newValue:ut(_t,xt,pt)})):typeof pt<"u"&&lt(yt,{name:ht,newValue:pt}));return yt},extend$2}var extendExports=requireExtend();const extend$1=getDefaultExportFromCjs(extendExports);function isPlainObject$1(ee){if(typeof ee!="object"||ee===null)return!1;const te=Object.getPrototypeOf(ee);return(te===null||te===Object.prototype||Object.getPrototypeOf(te)===null)&&!(Symbol.toStringTag in ee)&&!(Symbol.iterator in ee)}function trough(){const ee=[],te={run:ne,use:xe};return te;function ne(...rt){let it=-1;const lt=rt.pop();if(typeof lt!="function")throw new TypeError("Expected function as last argument, not "+lt);ct(null,...rt);function ct(ut,...dt){const ht=ee[++it];let ft=-1;if(ut){lt(ut);return}for(;++ft<rt.length;)(dt[ft]===null||dt[ft]===void 0)&&(dt[ft]=rt[ft]);rt=dt,ht?wrap(ht,ct)(...dt):lt(null,...dt)}}function xe(rt){if(typeof rt!="function")throw new TypeError("Expected `middelware` to be a function, not "+rt);return ee.push(rt),te}}function wrap(ee,te){let ne;return xe;function xe(...lt){const ct=ee.length>lt.length;let ut;ct&&lt.push(rt);try{ut=ee.apply(this,lt)}catch(dt){const ht=dt;if(ct&&ne)throw ht;return rt(ht)}ct||(ut&&ut.then&&typeof ut.then=="function"?ut.then(it,rt):ut instanceof Error?rt(ut):it(ut))}function rt(lt,...ct){ne||(ne=!0,te(lt,...ct))}function it(lt){rt(null,lt)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(ee,te){if(te!==void 0&&typeof te!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(ee);let ne=0,xe=-1,rt=ee.length,it;if(te===void 0||te.length===0||te.length>ee.length){for(;rt--;)if(ee.codePointAt(rt)===47){if(it){ne=rt+1;break}}else xe<0&&(it=!0,xe=rt+1);return xe<0?"":ee.slice(ne,xe)}if(te===ee)return"";let lt=-1,ct=te.length-1;for(;rt--;)if(ee.codePointAt(rt)===47){if(it){ne=rt+1;break}}else lt<0&&(it=!0,lt=rt+1),ct>-1&&(ee.codePointAt(rt)===te.codePointAt(ct--)?ct<0&&(xe=rt):(ct=-1,xe=lt));return ne===xe?xe=lt:xe<0&&(xe=ee.length),ee.slice(ne,xe)}function dirname(ee){if(assertPath$1(ee),ee.length===0)return".";let te=-1,ne=ee.length,xe;for(;--ne;)if(ee.codePointAt(ne)===47){if(xe){te=ne;break}}else xe||(xe=!0);return te<0?ee.codePointAt(0)===47?"/":".":te===1&&ee.codePointAt(0)===47?"//":ee.slice(0,te)}function extname(ee){assertPath$1(ee);let te=ee.length,ne=-1,xe=0,rt=-1,it=0,lt;for(;te--;){const ct=ee.codePointAt(te);if(ct===47){if(lt){xe=te+1;break}continue}ne<0&&(lt=!0,ne=te+1),ct===46?rt<0?rt=te:it!==1&&(it=1):rt>-1&&(it=-1)}return rt<0||ne<0||it===0||it===1&&rt===ne-1&&rt===xe+1?"":ee.slice(rt,ne)}function join(...ee){let te=-1,ne;for(;++te<ee.length;)assertPath$1(ee[te]),ee[te]&&(ne=ne===void 0?ee[te]:ne+"/"+ee[te]);return ne===void 0?".":normalize(ne)}function normalize(ee){assertPath$1(ee);const te=ee.codePointAt(0)===47;let ne=normalizeString(ee,!te);return ne.length===0&&!te&&(ne="."),ne.length>0&&ee.codePointAt(ee.length-1)===47&&(ne+="/"),te?"/"+ne:ne}function normalizeString(ee,te){let ne="",xe=0,rt=-1,it=0,lt=-1,ct,ut;for(;++lt<=ee.length;){if(lt<ee.length)ct=ee.codePointAt(lt);else{if(ct===47)break;ct=47}if(ct===47){if(!(rt===lt-1||it===1))if(rt!==lt-1&&it===2){if(ne.length<2||xe!==2||ne.codePointAt(ne.length-1)!==46||ne.codePointAt(ne.length-2)!==46){if(ne.length>2){if(ut=ne.lastIndexOf("/"),ut!==ne.length-1){ut<0?(ne="",xe=0):(ne=ne.slice(0,ut),xe=ne.length-1-ne.lastIndexOf("/")),rt=lt,it=0;continue}}else if(ne.length>0){ne="",xe=0,rt=lt,it=0;continue}}te&&(ne=ne.length>0?ne+"/..":"..",xe=2)}else ne.length>0?ne+="/"+ee.slice(rt+1,lt):ne=ee.slice(rt+1,lt),xe=lt-rt-1;rt=lt,it=0}else ct===46&&it>-1?it++:it=-1}return ne}function assertPath$1(ee){if(typeof ee!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ee))}const minproc={cwd};function cwd(){return"/"}function isUrl(ee){return!!(ee!==null&&typeof ee=="object"&&"href"in ee&&ee.href&&"protocol"in ee&&ee.protocol&&ee.auth===void 0)}function urlToPath(ee){if(typeof ee=="string")ee=new URL(ee);else if(!isUrl(ee)){const te=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+ee+"`");throw te.code="ERR_INVALID_ARG_TYPE",te}if(ee.protocol!=="file:"){const te=new TypeError("The URL must be of scheme file");throw te.code="ERR_INVALID_URL_SCHEME",te}return getPathFromURLPosix(ee)}function getPathFromURLPosix(ee){if(ee.hostname!==""){const xe=new TypeError('File URL host must be "localhost" or empty on darwin');throw xe.code="ERR_INVALID_FILE_URL_HOST",xe}const te=ee.pathname;let ne=-1;for(;++ne<te.length;)if(te.codePointAt(ne)===37&&te.codePointAt(ne+1)===50){const xe=te.codePointAt(ne+2);if(xe===70||xe===102){const rt=new TypeError("File URL path must not include encoded / characters");throw rt.code="ERR_INVALID_FILE_URL_PATH",rt}}return decodeURIComponent(te)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(te){let ne;te?isUrl(te)?ne={path:te}:typeof te=="string"||isUint8Array$1(te)?ne={value:te}:ne=te:ne={},this.cwd="cwd"in ne?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let xe=-1;for(;++xe<order.length;){const it=order[xe];it in ne&&ne[it]!==void 0&&ne[it]!==null&&(this[it]=it==="history"?[...ne[it]]:ne[it])}let rt;for(rt in ne)order.includes(rt)||(this[rt]=ne[rt])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(te){assertNonEmpty(te,"basename"),assertPart(te,"basename"),this.path=minpath.join(this.dirname||"",te)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(te){assertPath(this.basename,"dirname"),this.path=minpath.join(te||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(te){if(assertPart(te,"extname"),assertPath(this.dirname,"extname"),te){if(te.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(te.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(te||""))}get path(){return this.history[this.history.length-1]}set path(te){isUrl(te)&&(te=urlToPath(te)),assertNonEmpty(te,"path"),this.path!==te&&this.history.push(te)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(te){assertNonEmpty(te,"stem"),assertPart(te,"stem"),this.path=minpath.join(this.dirname||"",te+(this.extname||""))}fail(te,ne,xe){const rt=this.message(te,ne,xe);throw rt.fatal=!0,rt}info(te,ne,xe){const rt=this.message(te,ne,xe);return rt.fatal=void 0,rt}message(te,ne,xe){const rt=new VFileMessage(te,ne,xe);return this.path&&(rt.name=this.path+":"+rt.name,rt.file=this.path),rt.fatal=!1,this.messages.push(rt),rt}toString(te){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(te||void 0).decode(this.value)}}function assertPart(ee,te){if(ee&&ee.includes(minpath.sep))throw new Error("`"+te+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(ee,te){if(!ee)throw new Error("`"+te+"` cannot be empty")}function assertPath(ee,te){if(!ee)throw new Error("Setting `"+te+"` requires `path` to be set too")}function isUint8Array$1(ee){return!!(ee&&typeof ee=="object"&&"byteLength"in ee&&"byteOffset"in ee)}const CallableInstance=(function(ee){const xe=this.constructor.prototype,rt=xe[ee],it=function(){return rt.apply(it,arguments)};return Object.setPrototypeOf(it,xe),it}),own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const te=new Processor;let ne=-1;for(;++ne<this.attachers.length;){const xe=this.attachers[ne];te.use(...xe)}return te.data(extend$1(!0,{},this.namespace)),te}data(te,ne){return typeof te=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[te]=ne,this):own.call(this.namespace,te)&&this.namespace[te]||void 0:te?(assertUnfrozen("data",this.frozen),this.namespace=te,this):this.namespace}freeze(){if(this.frozen)return this;const te=this;for(;++this.freezeIndex<this.attachers.length;){const[ne,...xe]=this.attachers[this.freezeIndex];if(xe[0]===!1)continue;xe[0]===!0&&(xe[0]=void 0);const rt=ne.call(te,...xe);typeof rt=="function"&&this.transformers.use(rt)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(te){this.freeze();const ne=vfile(te),xe=this.parser||this.Parser;return assertParser("parse",xe),xe(String(ne),ne)}process(te,ne){const xe=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),ne?rt(void 0,ne):new Promise(rt);function rt(it,lt){const ct=vfile(te),ut=xe.parse(ct);xe.run(ut,ct,function(ht,ft,pt){if(ht||!ft||!pt)return dt(ht);const mt=ft,xt=xe.stringify(mt,pt);looksLikeAValue(xt)?pt.value=xt:pt.result=xt,dt(ht,pt)});function dt(ht,ft){ht||!ft?lt(ht):it?it(ft):ne(void 0,ft)}}}processSync(te){let ne=!1,xe;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(te,rt),assertDone("processSync","process",ne),xe;function rt(it,lt){ne=!0,bail(it),xe=lt}}run(te,ne,xe){assertNode(te),this.freeze();const rt=this.transformers;return!xe&&typeof ne=="function"&&(xe=ne,ne=void 0),xe?it(void 0,xe):new Promise(it);function it(lt,ct){const ut=vfile(ne);rt.run(te,ut,dt);function dt(ht,ft,pt){const mt=ft||te;ht?ct(ht):lt?lt(mt):xe(void 0,mt,pt)}}}runSync(te,ne){let xe=!1,rt;return this.run(te,ne,it),assertDone("runSync","run",xe),rt;function it(lt,ct){bail(lt),rt=ct,xe=!0}}stringify(te,ne){this.freeze();const xe=vfile(ne),rt=this.compiler||this.Compiler;return assertCompiler("stringify",rt),assertNode(te),rt(te,xe)}use(te,...ne){const xe=this.attachers,rt=this.namespace;if(assertUnfrozen("use",this.frozen),te!=null)if(typeof te=="function")ut(te,ne);else if(typeof te=="object")Array.isArray(te)?ct(te):lt(te);else throw new TypeError("Expected usable value, not `"+te+"`");return this;function it(dt){if(typeof dt=="function")ut(dt,[]);else if(typeof dt=="object")if(Array.isArray(dt)){const[ht,...ft]=dt;ut(ht,ft)}else lt(dt);else throw new TypeError("Expected usable value, not `"+dt+"`")}function lt(dt){if(!("plugins"in dt)&&!("settings"in dt))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");ct(dt.plugins),dt.settings&&(rt.settings=extend$1(!0,rt.settings,dt.settings))}function ct(dt){let ht=-1;if(dt!=null)if(Array.isArray(dt))for(;++ht<dt.length;){const ft=dt[ht];it(ft)}else throw new TypeError("Expected a list of plugins, not `"+dt+"`")}function ut(dt,ht){let ft=-1,pt=-1;for(;++ft<xe.length;)if(xe[ft][0]===dt){pt=ft;break}if(pt===-1)xe.push([dt,...ht]);else if(ht.length>0){let[mt,...xt]=ht;const yt=xe[pt][1];isPlainObject$1(yt)&&isPlainObject$1(mt)&&(mt=extend$1(!0,yt,mt)),xe[pt]=[dt,mt,...xt]}}}}const unified=new Processor().freeze();function assertParser(ee,te){if(typeof te!="function")throw new TypeError("Cannot `"+ee+"` without `parser`")}function assertCompiler(ee,te){if(typeof te!="function")throw new TypeError("Cannot `"+ee+"` without `compiler`")}function assertUnfrozen(ee,te){if(te)throw new Error("Cannot call `"+ee+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(ee){if(!isPlainObject$1(ee)||typeof ee.type!="string")throw new TypeError("Expected node, got `"+ee+"`")}function assertDone(ee,te,ne){if(!ne)throw new Error("`"+ee+"` finished async. Use `"+te+"` instead")}function vfile(ee){return looksLikeAVFile(ee)?ee:new VFile(ee)}function looksLikeAVFile(ee){return!!(ee&&typeof ee=="object"&&"message"in ee&&"messages"in ee)}function looksLikeAValue(ee){return typeof ee=="string"||isUint8Array(ee)}function isUint8Array(ee){return!!(ee&&typeof ee=="object"&&"byteLength"in ee&&"byteOffset"in ee)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(ee){const te=createProcessor(ee),ne=createFile(ee);return post(te.runSync(te.parse(ne),ne),ee)}function createProcessor(ee){const te=ee.rehypePlugins||emptyPlugins,ne=ee.remarkPlugins||emptyPlugins,xe=ee.remarkRehypeOptions?{...ee.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(ne).use(remarkRehype,xe).use(te)}function createFile(ee){const te=ee.children||"",ne=new VFile;return typeof te=="string"&&(ne.value=te),ne}function post(ee,te){const ne=te.allowedElements,xe=te.allowElement,rt=te.components,it=te.disallowedElements,lt=te.skipHtml,ct=te.unwrapDisallowed,ut=te.urlTransform||defaultUrlTransform;for(const ht of deprecations)Object.hasOwn(te,ht.from)&&(""+ht.from+(ht.to?"use `"+ht.to+"` instead":"remove it")+changelog+ht.id,void 0);return visit(ee,dt),toJsxRuntime(ee,{Fragment:jsxRuntimeExports.Fragment,components:rt,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function dt(ht,ft,pt){if(ht.type==="raw"&&pt&&typeof ft=="number")return lt?pt.children.splice(ft,1):pt.children[ft]={type:"text",value:ht.value},ft;if(ht.type==="element"){let mt;for(mt in urlAttributes)if(Object.hasOwn(urlAttributes,mt)&&Object.hasOwn(ht.properties,mt)){const xt=ht.properties[mt],yt=urlAttributes[mt];(yt===null||yt.includes(ht.tagName))&&(ht.properties[mt]=ut(String(xt||""),mt,ht))}}if(ht.type==="element"){let mt=ne?!ne.includes(ht.tagName):it?it.includes(ht.tagName):!1;if(!mt&&xe&&typeof ft=="number"&&(mt=!xe(ht,ft,pt)),mt&&pt&&typeof ft=="number")return ct&&ht.children?pt.children.splice(ft,1,...ht.children):pt.children.splice(ft,1),ft}}}function defaultUrlTransform(ee){const te=ee.indexOf(":"),ne=ee.indexOf("?"),xe=ee.indexOf("#"),rt=ee.indexOf("/");return te===-1||rt!==-1&&te>rt||ne!==-1&&te>ne||xe!==-1&&te>xe||safeProtocol.test(ee.slice(0,te))?ee:""}function longestStreak(ee,te){const ne=String(ee);let xe=ne.indexOf(te),rt=xe,it=0,lt=0;if(typeof te!="string")throw new TypeError("Expected substring");for(;xe!==-1;)xe===rt?++it>lt&&(lt=it):it=1,rt=xe+te.length,xe=ne.indexOf(te,rt);return lt}function mathFromMarkdown(){return{enter:{mathFlow:ee,mathFlowFenceMeta:te,mathText:it},exit:{mathFlow:rt,mathFlowFence:xe,mathFlowFenceMeta:ne,mathFlowValue:ct,mathText:lt,mathTextData:ct}};function ee(ut){const dt={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[dt]}},ut)}function te(){this.buffer()}function ne(){const ut=this.resume(),dt=this.stack[this.stack.length-1];dt.type,dt.meta=ut}function xe(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function rt(ut){const dt=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),ht=this.stack[this.stack.length-1];ht.type,this.exit(ut),ht.value=dt;const ft=ht.data.hChildren[0];ft.type,ft.tagName,ft.children.push({type:"text",value:dt}),this.data.mathFlowInside=void 0}function it(ut){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},ut),this.buffer()}function lt(ut){const dt=this.resume(),ht=this.stack[this.stack.length-1];ht.type,this.exit(ut),ht.value=dt,ht.data.hChildren.push({type:"text",value:dt})}function ct(ut){this.config.enter.data.call(this,ut),this.config.exit.data.call(this,ut)}}function mathToMarkdown(ee){let te=(ee||{}).singleDollarTextMath;return te==null&&(te=!0),xe.peek=rt,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:te?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:ne,inlineMath:xe}};function ne(it,lt,ct,ut){const dt=it.value||"",ht=ct.createTracker(ut),ft="$".repeat(Math.max(longestStreak(dt,"$")+1,2)),pt=ct.enter("mathFlow");let mt=ht.move(ft);if(it.meta){const xt=ct.enter("mathFlowMeta");mt+=ht.move(ct.safe(it.meta,{after:`
`,before:mt,encode:["$"],...ht.current()})),xt()}return mt+=ht.move(`
`),dt&&(mt+=ht.move(dt+`
`)),mt+=ht.move(ft),pt(),mt}function xe(it,lt,ct){let ut=it.value||"",dt=1;for(te||dt++;new RegExp("(^|[^$])"+"\\$".repeat(dt)+"([^$]|$)").test(ut);)dt++;const ht="$".repeat(dt);/[^ \r\n]/.test(ut)&&(/^[ \r\n]/.test(ut)&&/[ \r\n]$/.test(ut)||/^\$|\$$/.test(ut))&&(ut=" "+ut+" ");let ft=-1;for(;++ft<ct.unsafe.length;){const pt=ct.unsafe[ft];if(!pt.atBreak)continue;const mt=ct.compilePattern(pt);let xt;for(;xt=mt.exec(ut);){let yt=xt.index;ut.codePointAt(yt)===10&&ut.codePointAt(yt-1)===13&&yt--,ut=ut.slice(0,yt)+" "+ut.slice(xt.index+1)}}return ht+ut+ht}function rt(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(ee,te,ne){const xe=this,rt=xe.events[xe.events.length-1],it=rt&&rt[1].type==="linePrefix"?rt[2].sliceSerialize(rt[1],!0).length:0;let lt=0;return ct;function ct(_t){return ee.enter("mathFlow"),ee.enter("mathFlowFence"),ee.enter("mathFlowFenceSequence"),ut(_t)}function ut(_t){return _t===36?(ee.consume(_t),lt++,ut):lt<2?ne(_t):(ee.exit("mathFlowFenceSequence"),factorySpace(ee,dt,"whitespace")(_t))}function dt(_t){return _t===null||markdownLineEnding(_t)?ft(_t):(ee.enter("mathFlowFenceMeta"),ee.enter("chunkString",{contentType:"string"}),ht(_t))}function ht(_t){return _t===null||markdownLineEnding(_t)?(ee.exit("chunkString"),ee.exit("mathFlowFenceMeta"),ft(_t)):_t===36?ne(_t):(ee.consume(_t),ht)}function ft(_t){return ee.exit("mathFlowFence"),xe.interrupt?te(_t):ee.attempt(nonLazyContinuation,pt,vt)(_t)}function pt(_t){return ee.attempt({tokenize:Et,partial:!0},vt,mt)(_t)}function mt(_t){return(it?factorySpace(ee,xt,"linePrefix",it+1):xt)(_t)}function xt(_t){return _t===null?vt(_t):markdownLineEnding(_t)?ee.attempt(nonLazyContinuation,pt,vt)(_t):(ee.enter("mathFlowValue"),yt(_t))}function yt(_t){return _t===null||markdownLineEnding(_t)?(ee.exit("mathFlowValue"),xt(_t)):(ee.consume(_t),yt)}function vt(_t){return ee.exit("mathFlow"),te(_t)}function Et(_t,wt,St){let Ct=0;return factorySpace(_t,jt,"linePrefix",xe.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function jt(Ot){return _t.enter("mathFlowFence"),_t.enter("mathFlowFenceSequence"),Rt(Ot)}function Rt(Ot){return Ot===36?(Ct++,_t.consume(Ot),Rt):Ct<lt?St(Ot):(_t.exit("mathFlowFenceSequence"),factorySpace(_t,Pt,"whitespace")(Ot))}function Pt(Ot){return Ot===null||markdownLineEnding(Ot)?(_t.exit("mathFlowFence"),wt(Ot)):St(Ot)}}}function tokenizeNonLazyContinuation(ee,te,ne){const xe=this;return rt;function rt(lt){return lt===null?te(lt):(ee.enter("lineEnding"),ee.consume(lt),ee.exit("lineEnding"),it)}function it(lt){return xe.parser.lazy[xe.now().line]?ne(lt):te(lt)}}function mathText(ee){let ne=(ee||{}).singleDollarTextMath;return ne==null&&(ne=!0),{tokenize:xe,resolve:resolveMathText,previous:previous$1,name:"mathText"};function xe(rt,it,lt){let ct=0,ut,dt;return ht;function ht(yt){return rt.enter("mathText"),rt.enter("mathTextSequence"),ft(yt)}function ft(yt){return yt===36?(rt.consume(yt),ct++,ft):ct<2&&!ne?lt(yt):(rt.exit("mathTextSequence"),pt(yt))}function pt(yt){return yt===null?lt(yt):yt===36?(dt=rt.enter("mathTextSequence"),ut=0,xt(yt)):yt===32?(rt.enter("space"),rt.consume(yt),rt.exit("space"),pt):markdownLineEnding(yt)?(rt.enter("lineEnding"),rt.consume(yt),rt.exit("lineEnding"),pt):(rt.enter("mathTextData"),mt(yt))}function mt(yt){return yt===null||yt===32||yt===36||markdownLineEnding(yt)?(rt.exit("mathTextData"),pt(yt)):(rt.consume(yt),mt)}function xt(yt){return yt===36?(rt.consume(yt),ut++,xt):ut===ct?(rt.exit("mathTextSequence"),rt.exit("mathText"),it(yt)):(dt.type="mathTextData",mt(yt))}}}function resolveMathText(ee){let te=ee.length-4,ne=3,xe,rt;if((ee[ne][1].type==="lineEnding"||ee[ne][1].type==="space")&&(ee[te][1].type==="lineEnding"||ee[te][1].type==="space")){for(xe=ne;++xe<te;)if(ee[xe][1].type==="mathTextData"){ee[te][1].type="mathTextPadding",ee[ne][1].type="mathTextPadding",ne+=2,te-=2;break}}for(xe=ne-1,te++;++xe<=te;)rt===void 0?xe!==te&&ee[xe][1].type!=="lineEnding"&&(rt=xe):(xe===te||ee[xe][1].type==="lineEnding")&&(ee[rt][1].type="mathTextData",xe!==rt+2&&(ee[rt][1].end=ee[xe-1][1].end,ee.splice(rt+2,xe-rt-2),te-=xe-rt-2,xe=rt+2),rt=void 0);return ee}function previous$1(ee){return ee!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(ee){return{flow:{36:mathFlow},text:{36:mathText(ee)}}}class SourceLocation{constructor(te,ne,xe){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=te,this.start=ne,this.end=xe}static range(te,ne){return ne?!te||!te.loc||!ne.loc||te.loc.lexer!==ne.loc.lexer?null:new SourceLocation(te.loc.lexer,te.loc.start,ne.loc.end):te&&te.loc}}class Token{constructor(te,ne){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=te,this.loc=ne}range(te,ne){return new Token(ne,SourceLocation.range(this,te))}}class ParseError{constructor(te,ne){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var xe="KaTeX parse error: "+te,rt,it,lt=ne&&ne.loc;if(lt&&lt.start<=lt.end){var ct=lt.lexer.input;rt=lt.start,it=lt.end,rt===ct.length?xe+=" at end of input: ":xe+=" at position "+(rt+1)+": ";var ut=ct.slice(rt,it).replace(/[^]/g,"$&"),dt;rt>15?dt=""+ct.slice(rt-15,rt):dt=ct.slice(0,rt);var ht;it+15<ct.length?ht=ct.slice(it,it+15)+"":ht=ct.slice(it),xe+=dt+ut+ht}var ft=new Error(xe);return ft.name="ParseError",ft.__proto__=ParseError.prototype,ft.position=rt,rt!=null&&it!=null&&(ft.length=it-rt),ft.rawMessage=te,ft}}ParseError.prototype.__proto__=Error.prototype;var deflt=function(te,ne){return te===void 0?ne:te},uppercase=/([A-Z])/g,hyphenate=function(te){return te.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape$1(ee){return String(ee).replace(ESCAPE_REGEX,te=>ESCAPE_LOOKUP[te])}var getBaseElem=function ee(te){return te.type==="ordgroup"||te.type==="color"?te.body.length===1?ee(te.body[0]):te:te.type==="font"?ee(te.body):te},isCharacterBox=function(te){var ne=getBaseElem(te);return ne.type==="mathord"||ne.type==="textord"||ne.type==="atom"},assert=function(te){if(!te)throw new Error("Expected non-null, but got "+String(te));return te},protocolFromUrl=function(te){var ne=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(te);return ne?ne[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(ne[1])?null:ne[1].toLowerCase():"_relative"},utils={deflt,escape:escape$1,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:ee=>"#"+ee},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(ee,te)=>(te.push(ee),te)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:ee=>Math.max(0,ee),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:ee=>Math.max(0,ee),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:ee=>Math.max(0,ee),cli:"-e, --max-expand <n>",cliProcessor:ee=>ee==="Infinity"?1/0:parseInt(ee)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(ee){if(ee.default)return ee.default;var te=ee.type,ne=Array.isArray(te)?te[0]:te;if(typeof ne!="string")return ne.enum[0];switch(ne){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(te){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,te=te||{};for(var ne in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(ne)){var xe=SETTINGS_SCHEMA[ne];this[ne]=te[ne]!==void 0?xe.processor?xe.processor(te[ne]):te[ne]:getDefaultValue(xe)}}reportNonstrict(te,ne,xe){var rt=this.strict;if(typeof rt=="function"&&(rt=rt(te,ne,xe)),!(!rt||rt==="ignore")){if(rt===!0||rt==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(ne+" ["+te+"]"),xe);rt==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(ne+" ["+te+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+rt+"': "+ne+" ["+te+"]"))}}useStrictBehavior(te,ne,xe){var rt=this.strict;if(typeof rt=="function")try{rt=rt(te,ne,xe)}catch{rt="error"}return!rt||rt==="ignore"?!1:rt===!0||rt==="error"?!0:rt==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(ne+" ["+te+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+rt+"': "+ne+" ["+te+"]")),!1)}isTrusted(te){if(te.url&&!te.protocol){var ne=utils.protocolFromUrl(te.url);if(ne==null)return!1;te.protocol=ne}var xe=typeof this.trust=="function"?this.trust(te):this.trust;return!!xe}}class Style{constructor(te,ne,xe){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=te,this.size=ne,this.cramped=xe}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1$1[this.id]]}isTight(){return this.size>=2}}var D$2=0,Dc=1,T$2=2,Tc=3,S$2=4,Sc=5,SS=6,SSc=7,styles=[new Style(D$2,0,!1),new Style(Dc,0,!0),new Style(T$2,1,!1),new Style(Tc,1,!0),new Style(S$2,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S$2,Sc,S$2,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T$2,Tc,S$2,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1$1=[D$2,Dc,T$2,Tc,T$2,Tc,T$2,Tc],Style$1={DISPLAY:styles[D$2],TEXT:styles[T$2],SCRIPT:styles[S$2],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(ee){for(var te=0;te<scriptData.length;te++)for(var ne=scriptData[te],xe=0;xe<ne.blocks.length;xe++){var rt=ne.blocks[xe];if(ee>=rt[0]&&ee<=rt[1])return ne.name}return null}var allBlocks=[];scriptData.forEach(ee=>ee.blocks.forEach(te=>allBlocks.push(...te)));function supportedCodepoint(ee){for(var te=0;te<allBlocks.length;te+=2)if(ee>=allBlocks[te]&&ee<=allBlocks[te+1])return!0;return!1}var hLinePad=80,sqrtMain=function(te,ne){return"M95,"+(622+te+ne)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+te/2.075+" -"+te+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+te)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+te)+" "+ne+"h400000v"+(40+te)+"h-400000z"},sqrtSize1=function(te,ne){return"M263,"+(601+te+ne)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+te/2.084+" -"+te+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+te)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+te)+" "+ne+"h400000v"+(40+te)+"h-400000z"},sqrtSize2=function(te,ne){return"M983 "+(10+te+ne)+`
l`+te/3.13+" -"+te+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+te)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+te)+" "+ne+"h400000v"+(40+te)+"h-400000z"},sqrtSize3=function(te,ne){return"M424,"+(2398+te+ne)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+te/4.223+" -"+te+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+te)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+te)+" "+ne+`
h400000v`+(40+te)+"h-400000z"},sqrtSize4=function(te,ne){return"M473,"+(2713+te+ne)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+te/5.298+" -"+te+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+te)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+te)+" "+ne+"h400000v"+(40+te)+"H1017.7z"},phasePath=function(te){var ne=te/2;return"M400000 "+te+" H0 L"+ne+" 0 l65 45 L145 "+(te-80)+" H400000z"},sqrtTall=function(te,ne,xe){var rt=xe-54-ne-te;return"M702 "+(te+ne)+"H400000"+(40+te)+`
H742v`+rt+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+ne+"H400000v"+(40+te)+"H742z"},sqrtPath=function(te,ne,xe){ne=1e3*ne;var rt="";switch(te){case"sqrtMain":rt=sqrtMain(ne,hLinePad);break;case"sqrtSize1":rt=sqrtSize1(ne,hLinePad);break;case"sqrtSize2":rt=sqrtSize2(ne,hLinePad);break;case"sqrtSize3":rt=sqrtSize3(ne,hLinePad);break;case"sqrtSize4":rt=sqrtSize4(ne,hLinePad);break;case"sqrtTall":rt=sqrtTall(ne,hLinePad,xe)}return rt},innerPath=function(te,ne){switch(te){case"":return"M291 0 H417 V"+ne+" H291z M291 0 H417 V"+ne+" H291z";case"":return"M145 0 H188 V"+ne+" H145z M145 0 H188 V"+ne+" H145z";case"":return"M145 0 H188 V"+ne+" H145z M145 0 H188 V"+ne+" H145z"+("M367 0 H410 V"+ne+" H367z M367 0 H410 V"+ne+" H367z");case"":return"M457 0 H583 V"+ne+" H457z M457 0 H583 V"+ne+" H457z";case"":return"M319 0 H403 V"+ne+" H319z M319 0 H403 V"+ne+" H319z";case"":return"M263 0 H347 V"+ne+" H263z M263 0 H347 V"+ne+" H263z";case"":return"M384 0 H504 V"+ne+" H384z M384 0 H504 V"+ne+" H384z";case"":return"M312 0 H355 V"+ne+" H312z M312 0 H355 V"+ne+" H312z";case"":return"M257 0 H300 V"+ne+" H257z M257 0 H300 V"+ne+" H257z"+("M478 0 H521 V"+ne+" H478z M478 0 H521 V"+ne+" H478z");default:return""}},path$1={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function(te,ne){switch(te){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+ne+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+ne+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+ne+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+ne+" v1759 h84z";case"vert":return"M145 15 v585 v"+ne+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-ne+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+ne+" v585 h43z";case"doublevert":return"M145 15 v585 v"+ne+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-ne+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+ne+` v585 h43z
M367 15 v585 v`+ne+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-ne+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+ne+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+ne+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+ne+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+ne+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+ne+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+ne+` v602 h84z
M403 1759 V0 H319 V1759 v`+ne+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+ne+` v602 h84z
M347 1759 V0 h-84 V1759 v`+ne+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(ne+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(ne+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(ne+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(ne+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let DocumentFragment$1=class{constructor(te){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=te,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(te){return this.classes.includes(te)}toNode(){for(var te=document.createDocumentFragment(),ne=0;ne<this.children.length;ne++)te.appendChild(this.children[ne].toNode());return te}toMarkup(){for(var te="",ne=0;ne<this.children.length;ne++)te+=this.children[ne].toMarkup();return te}toText(){var te=ne=>ne.toText();return this.children.map(te).join("")}};var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(ee,te){fontMetricsData[ee]=te}function getCharacterMetrics(ee,te,ne){if(!fontMetricsData[te])throw new Error("Font metrics not found for font: "+te+".");var xe=ee.charCodeAt(0),rt=fontMetricsData[te][xe];if(!rt&&ee[0]in extraCharacterMap&&(xe=extraCharacterMap[ee[0]].charCodeAt(0),rt=fontMetricsData[te][xe]),!rt&&ne==="text"&&supportedCodepoint(xe)&&(rt=fontMetricsData[te][77]),rt)return{depth:rt[0],height:rt[1],italic:rt[2],skew:rt[3],width:rt[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(ee){var te;if(ee>=5?te=0:ee>=3?te=1:te=2,!fontMetricsBySizeIndex[te]){var ne=fontMetricsBySizeIndex[te]={cssEmPerMu:sigmasAndXis.quad[te]/18};for(var xe in sigmasAndXis)sigmasAndXis.hasOwnProperty(xe)&&(ne[xe]=sigmasAndXis[xe][te])}return fontMetricsBySizeIndex[te]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(te,ne){return ne.size<2?te:sizeStyleMap[te-1][ne.size-1]};class Options{constructor(te){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=te.style,this.color=te.color,this.size=te.size||Options.BASESIZE,this.textSize=te.textSize||this.size,this.phantom=!!te.phantom,this.font=te.font||"",this.fontFamily=te.fontFamily||"",this.fontWeight=te.fontWeight||"",this.fontShape=te.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=te.maxSize,this.minRuleThickness=te.minRuleThickness,this._fontMetrics=void 0}extend(te){var ne={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var xe in te)te.hasOwnProperty(xe)&&(ne[xe]=te[xe]);return new Options(ne)}havingStyle(te){return this.style===te?this:this.extend({style:te,size:sizeAtStyle(this.textSize,te)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(te){return this.size===te&&this.textSize===te?this:this.extend({style:this.style.text(),size:te,textSize:te,sizeMultiplier:sizeMultipliers[te-1]})}havingBaseStyle(te){te=te||this.style.text();var ne=sizeAtStyle(Options.BASESIZE,te);return this.size===ne&&this.textSize===Options.BASESIZE&&this.style===te?this:this.extend({style:te,size:ne})}havingBaseSizing(){var te;switch(this.style.id){case 4:case 5:te=3;break;case 6:case 7:te=1;break;default:te=6}return this.extend({style:this.style.text(),size:te})}withColor(te){return this.extend({color:te})}withPhantom(){return this.extend({phantom:!0})}withFont(te){return this.extend({font:te})}withTextFontFamily(te){return this.extend({fontFamily:te,font:""})}withTextFontWeight(te){return this.extend({fontWeight:te,font:""})}withTextFontShape(te){return this.extend({fontShape:te,font:""})}sizingClasses(te){return te.size!==this.size?["sizing","reset-size"+te.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function(te){return typeof te!="string"&&(te=te.unit),te in ptPerUnit||te in relativeUnit||te==="ex"},calculateSize$1=function(te,ne){var xe;if(te.unit in ptPerUnit)xe=ptPerUnit[te.unit]/ne.fontMetrics().ptPerEm/ne.sizeMultiplier;else if(te.unit==="mu")xe=ne.fontMetrics().cssEmPerMu;else{var rt;if(ne.style.isTight()?rt=ne.havingStyle(ne.style.text()):rt=ne,te.unit==="ex")xe=rt.fontMetrics().xHeight;else if(te.unit==="em")xe=rt.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+te.unit+"'");rt!==ne&&(xe*=rt.sizeMultiplier/ne.sizeMultiplier)}return Math.min(te.number*xe,ne.maxSize)},makeEm=function(te){return+te.toFixed(4)+"em"},createClass=function(te){return te.filter(ne=>ne).join(" ")},initNode=function(te,ne,xe){if(this.classes=te||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=xe||{},ne){ne.style.isTight()&&this.classes.push("mtight");var rt=ne.getColor();rt&&(this.style.color=rt)}},toNode=function(te){var ne=document.createElement(te);ne.className=createClass(this.classes);for(var xe in this.style)this.style.hasOwnProperty(xe)&&(ne.style[xe]=this.style[xe]);for(var rt in this.attributes)this.attributes.hasOwnProperty(rt)&&ne.setAttribute(rt,this.attributes[rt]);for(var it=0;it<this.children.length;it++)ne.appendChild(this.children[it].toNode());return ne},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function(te){var ne="<"+te;this.classes.length&&(ne+=' class="'+utils.escape(createClass(this.classes))+'"');var xe="";for(var rt in this.style)this.style.hasOwnProperty(rt)&&(xe+=utils.hyphenate(rt)+":"+this.style[rt]+";");xe&&(ne+=' style="'+utils.escape(xe)+'"');for(var it in this.attributes)if(this.attributes.hasOwnProperty(it)){if(invalidAttributeNameRegex.test(it))throw new ParseError("Invalid attribute name '"+it+"'");ne+=" "+it+'="'+utils.escape(this.attributes[it])+'"'}ne+=">";for(var lt=0;lt<this.children.length;lt++)ne+=this.children[lt].toMarkup();return ne+="</"+te+">",ne};class Span{constructor(te,ne,xe,rt){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,te,xe,rt),this.children=ne||[]}setAttribute(te,ne){this.attributes[te]=ne}hasClass(te){return this.classes.includes(te)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(te,ne,xe,rt){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,ne,rt),this.children=xe||[],this.setAttribute("href",te)}setAttribute(te,ne){this.attributes[te]=ne}hasClass(te){return this.classes.includes(te)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(te,ne,xe){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=ne,this.src=te,this.classes=["mord"],this.style=xe}hasClass(te){return this.classes.includes(te)}toNode(){var te=document.createElement("img");te.src=this.src,te.alt=this.alt,te.className="mord";for(var ne in this.style)this.style.hasOwnProperty(ne)&&(te.style[ne]=this.style[ne]);return te}toMarkup(){var te='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),ne="";for(var xe in this.style)this.style.hasOwnProperty(xe)&&(ne+=utils.hyphenate(xe)+":"+this.style[xe]+";");return ne&&(te+=' style="'+utils.escape(ne)+'"'),te+="'/>",te}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(te,ne,xe,rt,it,lt,ct,ut){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=te,this.height=ne||0,this.depth=xe||0,this.italic=rt||0,this.skew=it||0,this.width=lt||0,this.classes=ct||[],this.style=ut||{},this.maxFontSize=0;var dt=scriptFromCodepoint(this.text.charCodeAt(0));dt&&this.classes.push(dt+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(te){return this.classes.includes(te)}toNode(){var te=document.createTextNode(this.text),ne=null;this.italic>0&&(ne=document.createElement("span"),ne.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(ne=ne||document.createElement("span"),ne.className=createClass(this.classes));for(var xe in this.style)this.style.hasOwnProperty(xe)&&(ne=ne||document.createElement("span"),ne.style[xe]=this.style[xe]);return ne?(ne.appendChild(te),ne):te}toMarkup(){var te=!1,ne="<span";this.classes.length&&(te=!0,ne+=' class="',ne+=utils.escape(createClass(this.classes)),ne+='"');var xe="";this.italic>0&&(xe+="margin-right:"+this.italic+"em;");for(var rt in this.style)this.style.hasOwnProperty(rt)&&(xe+=utils.hyphenate(rt)+":"+this.style[rt]+";");xe&&(te=!0,ne+=' style="'+utils.escape(xe)+'"');var it=utils.escape(this.text);return te?(ne+=">",ne+=it,ne+="</span>",ne):it}}class SvgNode{constructor(te,ne){this.children=void 0,this.attributes=void 0,this.children=te||[],this.attributes=ne||{}}toNode(){var te="http://www.w3.org/2000/svg",ne=document.createElementNS(te,"svg");for(var xe in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,xe)&&ne.setAttribute(xe,this.attributes[xe]);for(var rt=0;rt<this.children.length;rt++)ne.appendChild(this.children[rt].toNode());return ne}toMarkup(){var te='<svg xmlns="http://www.w3.org/2000/svg"';for(var ne in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ne)&&(te+=" "+ne+'="'+utils.escape(this.attributes[ne])+'"');te+=">";for(var xe=0;xe<this.children.length;xe++)te+=this.children[xe].toMarkup();return te+="</svg>",te}}class PathNode{constructor(te,ne){this.pathName=void 0,this.alternate=void 0,this.pathName=te,this.alternate=ne}toNode(){var te="http://www.w3.org/2000/svg",ne=document.createElementNS(te,"path");return this.alternate?ne.setAttribute("d",this.alternate):ne.setAttribute("d",path$1[this.pathName]),ne}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path$1[this.pathName])+'"/>'}}class LineNode{constructor(te){this.attributes=void 0,this.attributes=te||{}}toNode(){var te="http://www.w3.org/2000/svg",ne=document.createElementNS(te,"line");for(var xe in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,xe)&&ne.setAttribute(xe,this.attributes[xe]);return ne}toMarkup(){var te="<line";for(var ne in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ne)&&(te+=" "+ne+'="'+utils.escape(this.attributes[ne])+'"');return te+="/>",te}}function assertSymbolDomNode(ee){if(ee instanceof SymbolNode)return ee;throw new Error("Expected symbolNode but got "+String(ee)+".")}function assertSpan(ee){if(ee instanceof Span)return ee;throw new Error("Expected span<HtmlDomNode> but got "+String(ee)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(ee,te,ne,xe,rt,it){symbols[ee][rt]={font:te,group:ne,replace:xe},it&&xe&&(symbols[ee][xe]=symbols[ee][rt])}var math="math",text$5="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$5,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$5,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$5,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$5,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$5,main,textord,"","\\dag");defineSymbol(text$5,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$5,main,textord,"","\\ddag");defineSymbol(text$5,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$5,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$5,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$5,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$5,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$5,main,textord,"$","\\$");defineSymbol(text$5,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$5,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$5,main,textord,"_","\\_");defineSymbol(text$5,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open,"","\\langle",!0);defineSymbol(math,main,open,"","\\lvert");defineSymbol(math,main,open,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$5,main,spacing,"","\\ ");defineSymbol(text$5,main,spacing,""," ");defineSymbol(text$5,main,spacing,"","\\space");defineSymbol(text$5,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open,"{","\\{");defineSymbol(text$5,main,textord,"{","\\{");defineSymbol(text$5,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$5,main,textord,"}","\\}");defineSymbol(text$5,main,textord,"}","\\textbraceright");defineSymbol(math,main,open,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open,"[","\\lbrack",!0);defineSymbol(text$5,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$5,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$5,main,textord,"<","\\textless",!0);defineSymbol(text$5,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$5,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$5,main,textord,"","\\textbardbl");defineSymbol(text$5,main,textord,"~","\\textasciitilde");defineSymbol(text$5,main,textord,"\\","\\textbackslash");defineSymbol(text$5,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$5,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$5,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$5,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$5,main,textord,"","\\i",!0);defineSymbol(text$5,main,textord,"","\\j",!0);defineSymbol(text$5,main,textord,"","\\ss",!0);defineSymbol(text$5,main,textord,"","\\ae",!0);defineSymbol(text$5,main,textord,"","\\oe",!0);defineSymbol(text$5,main,textord,"","\\o",!0);defineSymbol(text$5,main,textord,"","\\AE",!0);defineSymbol(text$5,main,textord,"","\\OE",!0);defineSymbol(text$5,main,textord,"","\\O",!0);defineSymbol(text$5,main,accent,"","\\'");defineSymbol(text$5,main,accent,"","\\`");defineSymbol(text$5,main,accent,"","\\^");defineSymbol(text$5,main,accent,"","\\~");defineSymbol(text$5,main,accent,"","\\=");defineSymbol(text$5,main,accent,"","\\u");defineSymbol(text$5,main,accent,"","\\.");defineSymbol(text$5,main,accent,"","\\c");defineSymbol(text$5,main,accent,"","\\r");defineSymbol(text$5,main,accent,"","\\v");defineSymbol(text$5,main,accent,"",'\\"');defineSymbol(text$5,main,accent,"","\\H");defineSymbol(text$5,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$5,main,textord,"","--",!0);defineSymbol(text$5,main,textord,"","\\textendash");defineSymbol(text$5,main,textord,"","---",!0);defineSymbol(text$5,main,textord,"","\\textemdash");defineSymbol(text$5,main,textord,"","`",!0);defineSymbol(text$5,main,textord,"","\\textquoteleft");defineSymbol(text$5,main,textord,"","'",!0);defineSymbol(text$5,main,textord,"","\\textquoteright");defineSymbol(text$5,main,textord,"","``",!0);defineSymbol(text$5,main,textord,"","\\textquotedblleft");defineSymbol(text$5,main,textord,"","''",!0);defineSymbol(text$5,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$5,main,textord,"","\\degree");defineSymbol(text$5,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$5,main,textord,"","\\pounds");defineSymbol(text$5,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$5,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i$2=0;i$2<mathTextSymbols.length;i$2++){var ch=mathTextSymbols.charAt(i$2);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$5,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$5,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$5,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$5,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$5,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$5,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$5,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$5,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$5,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$5,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$5,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$5,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$5,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$5,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$5,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$5,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$5,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function(te,ne){var xe=te.charCodeAt(0),rt=te.charCodeAt(1),it=(xe-55296)*1024+(rt-56320)+65536,lt=ne==="math"?0:1;if(119808<=it&&it<120484){var ct=Math.floor((it-119808)/26);return[wideLatinLetterData[ct][2],wideLatinLetterData[ct][lt]]}else if(120782<=it&&it<=120831){var ut=Math.floor((it-120782)/10);return[wideNumeralData[ut][2],wideNumeralData[ut][lt]]}else{if(it===120485||it===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][lt]];if(120486<it&&it<120782)return["",""];throw new ParseError("Unsupported character: "+te)}},lookupSymbol=function(te,ne,xe){return symbols[xe][te]&&symbols[xe][te].replace&&(te=symbols[xe][te].replace),{value:te,metrics:getCharacterMetrics(te,ne,xe)}},makeSymbol=function(te,ne,xe,rt,it){var lt=lookupSymbol(te,ne,xe),ct=lt.metrics;te=lt.value;var ut;if(ct){var dt=ct.italic;(xe==="text"||rt&&rt.font==="mathit")&&(dt=0),ut=new SymbolNode(te,ct.height,ct.depth,dt,ct.skew,ct.width,it)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+te+"' in style '"+ne+"' and mode '"+xe+"'")),ut=new SymbolNode(te,0,0,0,0,0,it);if(rt){ut.maxFontSize=rt.sizeMultiplier,rt.style.isTight()&&ut.classes.push("mtight");var ht=rt.getColor();ht&&(ut.style.color=ht)}return ut},mathsym=function(te,ne,xe,rt){return rt===void 0&&(rt=[]),xe.font==="boldsymbol"&&lookupSymbol(te,"Main-Bold",ne).metrics?makeSymbol(te,"Main-Bold",ne,xe,rt.concat(["mathbf"])):te==="\\"||symbols[ne][te].font==="main"?makeSymbol(te,"Main-Regular",ne,xe,rt):makeSymbol(te,"AMS-Regular",ne,xe,rt.concat(["amsrm"]))},boldsymbol=function(te,ne,xe,rt,it){return it!=="textord"&&lookupSymbol(te,"Math-BoldItalic",ne).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function(te,ne,xe){var rt=te.mode,it=te.text,lt=["mord"],ct=rt==="math"||rt==="text"&&ne.font,ut=ct?ne.font:ne.fontFamily,dt="",ht="";if(it.charCodeAt(0)===55349&&([dt,ht]=wideCharacterFont(it,rt)),dt.length>0)return makeSymbol(it,dt,rt,ne,lt.concat(ht));if(ut){var ft,pt;if(ut==="boldsymbol"){var mt=boldsymbol(it,rt,ne,lt,xe);ft=mt.fontName,pt=[mt.fontClass]}else ct?(ft=fontMap[ut].fontName,pt=[ut]):(ft=retrieveTextFontName(ut,ne.fontWeight,ne.fontShape),pt=[ut,ne.fontWeight,ne.fontShape]);if(lookupSymbol(it,ft,rt).metrics)return makeSymbol(it,ft,rt,ne,lt.concat(pt));if(ligatures.hasOwnProperty(it)&&ft.slice(0,10)==="Typewriter"){for(var xt=[],yt=0;yt<it.length;yt++)xt.push(makeSymbol(it[yt],ft,rt,ne,lt.concat(pt)));return makeFragment(xt)}}if(xe==="mathord")return makeSymbol(it,"Math-Italic",rt,ne,lt.concat(["mathnormal"]));if(xe==="textord"){var vt=symbols[rt][it]&&symbols[rt][it].font;if(vt==="ams"){var Et=retrieveTextFontName("amsrm",ne.fontWeight,ne.fontShape);return makeSymbol(it,Et,rt,ne,lt.concat("amsrm",ne.fontWeight,ne.fontShape))}else if(vt==="main"||!vt){var _t=retrieveTextFontName("textrm",ne.fontWeight,ne.fontShape);return makeSymbol(it,_t,rt,ne,lt.concat(ne.fontWeight,ne.fontShape))}else{var wt=retrieveTextFontName(vt,ne.fontWeight,ne.fontShape);return makeSymbol(it,wt,rt,ne,lt.concat(wt,ne.fontWeight,ne.fontShape))}}else throw new Error("unexpected type: "+xe+" in makeOrd")},canCombine=(ee,te)=>{if(createClass(ee.classes)!==createClass(te.classes)||ee.skew!==te.skew||ee.maxFontSize!==te.maxFontSize)return!1;if(ee.classes.length===1){var ne=ee.classes[0];if(ne==="mbin"||ne==="mord")return!1}for(var xe in ee.style)if(ee.style.hasOwnProperty(xe)&&ee.style[xe]!==te.style[xe])return!1;for(var rt in te.style)if(te.style.hasOwnProperty(rt)&&ee.style[rt]!==te.style[rt])return!1;return!0},tryCombineChars=ee=>{for(var te=0;te<ee.length-1;te++){var ne=ee[te],xe=ee[te+1];ne instanceof SymbolNode&&xe instanceof SymbolNode&&canCombine(ne,xe)&&(ne.text+=xe.text,ne.height=Math.max(ne.height,xe.height),ne.depth=Math.max(ne.depth,xe.depth),ne.italic=xe.italic,ee.splice(te+1,1),te--)}return ee},sizeElementFromChildren=function(te){for(var ne=0,xe=0,rt=0,it=0;it<te.children.length;it++){var lt=te.children[it];lt.height>ne&&(ne=lt.height),lt.depth>xe&&(xe=lt.depth),lt.maxFontSize>rt&&(rt=lt.maxFontSize)}te.height=ne,te.depth=xe,te.maxFontSize=rt},makeSpan$2=function(te,ne,xe,rt){var it=new Span(te,ne,xe,rt);return sizeElementFromChildren(it),it},makeSvgSpan=(ee,te,ne,xe)=>new Span(ee,te,ne,xe),makeLineSpan=function(te,ne,xe){var rt=makeSpan$2([te],[],ne);return rt.height=Math.max(xe||ne.fontMetrics().defaultRuleThickness,ne.minRuleThickness),rt.style.borderBottomWidth=makeEm(rt.height),rt.maxFontSize=1,rt},makeAnchor=function(te,ne,xe,rt){var it=new Anchor(te,ne,xe,rt);return sizeElementFromChildren(it),it},makeFragment=function(te){var ne=new DocumentFragment$1(te);return sizeElementFromChildren(ne),ne},wrapFragment=function(te,ne){return te instanceof DocumentFragment$1?makeSpan$2([],[te],ne):te},getVListChildrenAndDepth=function(te){if(te.positionType==="individualShift"){for(var ne=te.children,xe=[ne[0]],rt=-ne[0].shift-ne[0].elem.depth,it=rt,lt=1;lt<ne.length;lt++){var ct=-ne[lt].shift-it-ne[lt].elem.depth,ut=ct-(ne[lt-1].elem.height+ne[lt-1].elem.depth);it=it+ct,xe.push({type:"kern",size:ut}),xe.push(ne[lt])}return{children:xe,depth:rt}}var dt;if(te.positionType==="top"){for(var ht=te.positionData,ft=0;ft<te.children.length;ft++){var pt=te.children[ft];ht-=pt.type==="kern"?pt.size:pt.elem.height+pt.elem.depth}dt=ht}else if(te.positionType==="bottom")dt=-te.positionData;else{var mt=te.children[0];if(mt.type!=="elem")throw new Error('First child must have type "elem".');if(te.positionType==="shift")dt=-mt.elem.depth-te.positionData;else if(te.positionType==="firstBaseline")dt=-mt.elem.depth;else throw new Error("Invalid positionType "+te.positionType+".")}return{children:te.children,depth:dt}},makeVList=function(te,ne){for(var{children:xe,depth:rt}=getVListChildrenAndDepth(te),it=0,lt=0;lt<xe.length;lt++){var ct=xe[lt];if(ct.type==="elem"){var ut=ct.elem;it=Math.max(it,ut.maxFontSize,ut.height)}}it+=2;var dt=makeSpan$2(["pstrut"],[]);dt.style.height=makeEm(it);for(var ht=[],ft=rt,pt=rt,mt=rt,xt=0;xt<xe.length;xt++){var yt=xe[xt];if(yt.type==="kern")mt+=yt.size;else{var vt=yt.elem,Et=yt.wrapperClasses||[],_t=yt.wrapperStyle||{},wt=makeSpan$2(Et,[dt,vt],void 0,_t);wt.style.top=makeEm(-it-mt-vt.depth),yt.marginLeft&&(wt.style.marginLeft=yt.marginLeft),yt.marginRight&&(wt.style.marginRight=yt.marginRight),ht.push(wt),mt+=vt.height+vt.depth}ft=Math.min(ft,mt),pt=Math.max(pt,mt)}var St=makeSpan$2(["vlist"],ht);St.style.height=makeEm(pt);var Ct;if(ft<0){var jt=makeSpan$2([],[]),Rt=makeSpan$2(["vlist"],[jt]);Rt.style.height=makeEm(-ft);var Pt=makeSpan$2(["vlist-s"],[new SymbolNode("")]);Ct=[makeSpan$2(["vlist-r"],[St,Pt]),makeSpan$2(["vlist-r"],[Rt])]}else Ct=[makeSpan$2(["vlist-r"],[St])];var Ot=makeSpan$2(["vlist-t"],Ct);return Ct.length===2&&Ot.classes.push("vlist-t2"),Ot.height=pt,Ot.depth=-ft,Ot},makeGlue=(ee,te)=>{var ne=makeSpan$2(["mspace"],[],te),xe=calculateSize$1(ee,te);return ne.style.marginRight=makeEm(xe),ne},retrieveTextFontName=function(te,ne,xe){var rt="";switch(te){case"amsrm":rt="AMS";break;case"textrm":rt="Main";break;case"textsf":rt="SansSerif";break;case"texttt":rt="Typewriter";break;default:rt=te}var it;return ne==="textbf"&&xe==="textit"?it="BoldItalic":ne==="textbf"?it="Bold":ne==="textit"?it="Italic":it="Regular",rt+"-"+it},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function(te,ne){var[xe,rt,it]=svgData[te],lt=new PathNode(xe),ct=new SvgNode([lt],{width:makeEm(rt),height:makeEm(it),style:"width:"+makeEm(rt),viewBox:"0 0 "+1e3*rt+" "+1e3*it,preserveAspectRatio:"xMinYMin"}),ut=makeSvgSpan(["overlay"],[ct],ne);return ut.height=it,ut.style.height=makeEm(it),ut.style.width=makeEm(rt),ut},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(ee){for(var{type:te,names:ne,props:xe,handler:rt,htmlBuilder:it,mathmlBuilder:lt}=ee,ct={type:te,numArgs:xe.numArgs,argTypes:xe.argTypes,allowedInArgument:!!xe.allowedInArgument,allowedInText:!!xe.allowedInText,allowedInMath:xe.allowedInMath===void 0?!0:xe.allowedInMath,numOptionalArgs:xe.numOptionalArgs||0,infix:!!xe.infix,primitive:!!xe.primitive,handler:rt},ut=0;ut<ne.length;++ut)_functions[ne[ut]]=ct;te&&(it&&(_htmlGroupBuilders[te]=it),lt&&(_mathmlGroupBuilders[te]=lt))}function defineFunctionBuilders(ee){var{type:te,htmlBuilder:ne,mathmlBuilder:xe}=ee;defineFunction({type:te,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:ne,mathmlBuilder:xe})}var normalizeArgument=function(te){return te.type==="ordgroup"&&te.body.length===1?te.body[0]:te},ordargument=function(te){return te.type==="ordgroup"?te.body:[te]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function(te,ne,xe,rt){rt===void 0&&(rt=[null,null]);for(var it=[],lt=0;lt<te.length;lt++){var ct=buildGroup$1(te[lt],ne);if(ct instanceof DocumentFragment$1){var ut=ct.children;it.push(...ut)}else it.push(ct)}if(buildCommon.tryCombineChars(it),!xe)return it;var dt=ne;if(te.length===1){var ht=te[0];ht.type==="sizing"?dt=ne.havingSize(ht.size):ht.type==="styling"&&(dt=ne.havingStyle(styleMap$1[ht.style]))}var ft=makeSpan$1([rt[0]||"leftmost"],[],ne),pt=makeSpan$1([rt[1]||"rightmost"],[],ne),mt=xe==="root";return traverseNonSpaceNodes(it,(xt,yt)=>{var vt=yt.classes[0],Et=xt.classes[0];vt==="mbin"&&binRightCanceller.includes(Et)?yt.classes[0]="mord":Et==="mbin"&&binLeftCanceller.includes(vt)&&(xt.classes[0]="mord")},{node:ft},pt,mt),traverseNonSpaceNodes(it,(xt,yt)=>{var vt=getTypeOfDomTree(yt),Et=getTypeOfDomTree(xt),_t=vt&&Et?xt.hasClass("mtight")?tightSpacings[vt][Et]:spacings[vt][Et]:null;if(_t)return buildCommon.makeGlue(_t,dt)},{node:ft},pt,mt),it},traverseNonSpaceNodes=function ee(te,ne,xe,rt,it){rt&&te.push(rt);for(var lt=0;lt<te.length;lt++){var ct=te[lt],ut=checkPartialGroup(ct);if(ut){ee(ut.children,ne,xe,null,it);continue}var dt=!ct.hasClass("mspace");if(dt){var ht=ne(ct,xe.node);ht&&(xe.insertAfter?xe.insertAfter(ht):(te.unshift(ht),lt++))}dt?xe.node=ct:it&&ct.hasClass("newline")&&(xe.node=makeSpan$1(["leftmost"])),xe.insertAfter=(ft=>pt=>{te.splice(ft+1,0,pt),lt++})(lt)}rt&&te.pop()},checkPartialGroup=function(te){return te instanceof DocumentFragment$1||te instanceof Anchor||te instanceof Span&&te.hasClass("enclosing")?te:null},getOutermostNode=function ee(te,ne){var xe=checkPartialGroup(te);if(xe){var rt=xe.children;if(rt.length){if(ne==="right")return ee(rt[rt.length-1],"right");if(ne==="left")return ee(rt[0],"left")}}return te},getTypeOfDomTree=function(te,ne){return te?(ne&&(te=getOutermostNode(te,ne)),DomEnum[te.classes[0]]||null):null},makeNullDelimiter=function(te,ne){var xe=["nulldelimiter"].concat(te.baseSizingClasses());return makeSpan$1(ne.concat(xe))},buildGroup$1=function(te,ne,xe){if(!te)return makeSpan$1();if(_htmlGroupBuilders[te.type]){var rt=_htmlGroupBuilders[te.type](te,ne);if(xe&&ne.size!==xe.size){rt=makeSpan$1(ne.sizingClasses(xe),[rt],ne);var it=ne.sizeMultiplier/xe.sizeMultiplier;rt.height*=it,rt.depth*=it}return rt}else throw new ParseError("Got group of unknown type: '"+te.type+"'")};function buildHTMLUnbreakable(ee,te){var ne=makeSpan$1(["base"],ee,te),xe=makeSpan$1(["strut"]);return xe.style.height=makeEm(ne.height+ne.depth),ne.depth&&(xe.style.verticalAlign=makeEm(-ne.depth)),ne.children.unshift(xe),ne}function buildHTML(ee,te){var ne=null;ee.length===1&&ee[0].type==="tag"&&(ne=ee[0].tag,ee=ee[0].body);var xe=buildExpression$1(ee,te,"root"),rt;xe.length===2&&xe[1].hasClass("tag")&&(rt=xe.pop());for(var it=[],lt=[],ct=0;ct<xe.length;ct++)if(lt.push(xe[ct]),xe[ct].hasClass("mbin")||xe[ct].hasClass("mrel")||xe[ct].hasClass("allowbreak")){for(var ut=!1;ct<xe.length-1&&xe[ct+1].hasClass("mspace")&&!xe[ct+1].hasClass("newline");)ct++,lt.push(xe[ct]),xe[ct].hasClass("nobreak")&&(ut=!0);ut||(it.push(buildHTMLUnbreakable(lt,te)),lt=[])}else xe[ct].hasClass("newline")&&(lt.pop(),lt.length>0&&(it.push(buildHTMLUnbreakable(lt,te)),lt=[]),it.push(xe[ct]));lt.length>0&&it.push(buildHTMLUnbreakable(lt,te));var dt;ne?(dt=buildHTMLUnbreakable(buildExpression$1(ne,te,!0)),dt.classes=["tag"],it.push(dt)):rt&&it.push(rt);var ht=makeSpan$1(["katex-html"],it);if(ht.setAttribute("aria-hidden","true"),dt){var ft=dt.children[0];ft.style.height=makeEm(ht.height+ht.depth),ht.depth&&(ft.style.verticalAlign=makeEm(-ht.depth))}return ht}function newDocumentFragment(ee){return new DocumentFragment$1(ee)}class MathNode{constructor(te,ne,xe){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=te,this.attributes={},this.children=ne||[],this.classes=xe||[]}setAttribute(te,ne){this.attributes[te]=ne}getAttribute(te){return this.attributes[te]}toNode(){var te=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var ne in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ne)&&te.setAttribute(ne,this.attributes[ne]);this.classes.length>0&&(te.className=createClass(this.classes));for(var xe=0;xe<this.children.length;xe++)if(this.children[xe]instanceof TextNode&&this.children[xe+1]instanceof TextNode){for(var rt=this.children[xe].toText()+this.children[++xe].toText();this.children[xe+1]instanceof TextNode;)rt+=this.children[++xe].toText();te.appendChild(new TextNode(rt).toNode())}else te.appendChild(this.children[xe].toNode());return te}toMarkup(){var te="<"+this.type;for(var ne in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,ne)&&(te+=" "+ne+'="',te+=utils.escape(this.attributes[ne]),te+='"');this.classes.length>0&&(te+=' class ="'+utils.escape(createClass(this.classes))+'"'),te+=">";for(var xe=0;xe<this.children.length;xe++)te+=this.children[xe].toMarkup();return te+="</"+this.type+">",te}toText(){return this.children.map(te=>te.toText()).join("")}}class TextNode{constructor(te){this.text=void 0,this.text=te}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(te){this.width=void 0,this.character=void 0,this.width=te,te>=.05555&&te<=.05556?this.character="":te>=.1666&&te<=.1667?this.character="":te>=.2222&&te<=.2223?this.character="":te>=.2777&&te<=.2778?this.character="":te>=-.05556&&te<=-.05555?this.character="":te>=-.1667&&te<=-.1666?this.character="":te>=-.2223&&te<=-.2222?this.character="":te>=-.2778&&te<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var te=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return te.setAttribute("width",makeEm(this.width)),te}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function(te,ne,xe){return symbols[ne][te]&&symbols[ne][te].replace&&te.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(te)&&xe&&(xe.fontFamily&&xe.fontFamily.slice(4,6)==="tt"||xe.font&&xe.font.slice(4,6)==="tt"))&&(te=symbols[ne][te].replace),new mathMLTree.TextNode(te)},makeRow=function(te){return te.length===1?te[0]:new mathMLTree.MathNode("mrow",te)},getVariant=function(te,ne){if(ne.fontFamily==="texttt")return"monospace";if(ne.fontFamily==="textsf")return ne.fontShape==="textit"&&ne.fontWeight==="textbf"?"sans-serif-bold-italic":ne.fontShape==="textit"?"sans-serif-italic":ne.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(ne.fontShape==="textit"&&ne.fontWeight==="textbf")return"bold-italic";if(ne.fontShape==="textit")return"italic";if(ne.fontWeight==="textbf")return"bold";var xe=ne.font;if(!xe||xe==="mathnormal")return null;var rt=te.mode;if(xe==="mathit")return"italic";if(xe==="boldsymbol")return te.type==="textord"?"bold":"bold-italic";if(xe==="mathbf")return"bold";if(xe==="mathbb")return"double-struck";if(xe==="mathsfit")return"sans-serif-italic";if(xe==="mathfrak")return"fraktur";if(xe==="mathscr"||xe==="mathcal")return"script";if(xe==="mathsf")return"sans-serif";if(xe==="mathtt")return"monospace";var it=te.text;if(["\\imath","\\jmath"].includes(it))return null;symbols[rt][it]&&symbols[rt][it].replace&&(it=symbols[rt][it].replace);var lt=buildCommon.fontMap[xe].fontName;return getCharacterMetrics(it,lt,rt)?buildCommon.fontMap[xe].variant:null};function isNumberPunctuation(ee){if(!ee)return!1;if(ee.type==="mi"&&ee.children.length===1){var te=ee.children[0];return te instanceof TextNode&&te.text==="."}else if(ee.type==="mo"&&ee.children.length===1&&ee.getAttribute("separator")==="true"&&ee.getAttribute("lspace")==="0em"&&ee.getAttribute("rspace")==="0em"){var ne=ee.children[0];return ne instanceof TextNode&&ne.text===","}else return!1}var buildExpression=function(te,ne,xe){if(te.length===1){var rt=buildGroup(te[0],ne);return xe&&rt instanceof MathNode&&rt.type==="mo"&&(rt.setAttribute("lspace","0em"),rt.setAttribute("rspace","0em")),[rt]}for(var it=[],lt,ct=0;ct<te.length;ct++){var ut=buildGroup(te[ct],ne);if(ut instanceof MathNode&&lt instanceof MathNode){if(ut.type==="mtext"&&lt.type==="mtext"&&ut.getAttribute("mathvariant")===lt.getAttribute("mathvariant")){lt.children.push(...ut.children);continue}else if(ut.type==="mn"&&lt.type==="mn"){lt.children.push(...ut.children);continue}else if(isNumberPunctuation(ut)&&lt.type==="mn"){lt.children.push(...ut.children);continue}else if(ut.type==="mn"&&isNumberPunctuation(lt))ut.children=[...lt.children,...ut.children],it.pop();else if((ut.type==="msup"||ut.type==="msub")&&ut.children.length>=1&&(lt.type==="mn"||isNumberPunctuation(lt))){var dt=ut.children[0];dt instanceof MathNode&&dt.type==="mn"&&(dt.children=[...lt.children,...dt.children],it.pop())}else if(lt.type==="mi"&&lt.children.length===1){var ht=lt.children[0];if(ht instanceof TextNode&&ht.text===""&&(ut.type==="mo"||ut.type==="mi"||ut.type==="mn")){var ft=ut.children[0];ft instanceof TextNode&&ft.text.length>0&&(ft.text=ft.text.slice(0,1)+""+ft.text.slice(1),it.pop())}}}it.push(ut),lt=ut}return it},buildExpressionRow=function(te,ne,xe){return makeRow(buildExpression(te,ne,xe))},buildGroup=function(te,ne){if(!te)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[te.type]){var xe=_mathmlGroupBuilders[te.type](te,ne);return xe}else throw new ParseError("Got group of unknown type: '"+te.type+"'")};function buildMathML(ee,te,ne,xe,rt){var it=buildExpression(ee,ne),lt;it.length===1&&it[0]instanceof MathNode&&["mrow","mtable"].includes(it[0].type)?lt=it[0]:lt=new mathMLTree.MathNode("mrow",it);var ct=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(te)]);ct.setAttribute("encoding","application/x-tex");var ut=new mathMLTree.MathNode("semantics",[lt,ct]),dt=new mathMLTree.MathNode("math",[ut]);dt.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),xe&&dt.setAttribute("display","block");var ht=rt?"katex":"katex-mathml";return buildCommon.makeSpan([ht],[dt])}var optionsFromSettings=function(te){return new Options({style:te.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:te.maxSize,minRuleThickness:te.minRuleThickness})},displayWrap=function(te,ne){if(ne.displayMode){var xe=["katex-display"];ne.leqno&&xe.push("leqno"),ne.fleqn&&xe.push("fleqn"),te=buildCommon.makeSpan(xe,[te])}return te},buildTree=function(te,ne,xe){var rt=optionsFromSettings(xe),it;if(xe.output==="mathml")return buildMathML(te,ne,rt,xe.displayMode,!0);if(xe.output==="html"){var lt=buildHTML(te,rt);it=buildCommon.makeSpan(["katex"],[lt])}else{var ct=buildMathML(te,ne,rt,xe.displayMode,!1),ut=buildHTML(te,rt);it=buildCommon.makeSpan(["katex"],[ct,ut])}return displayWrap(it,xe)},buildHTMLTree=function(te,ne,xe){var rt=optionsFromSettings(xe),it=buildHTML(te,rt),lt=buildCommon.makeSpan(["katex"],[it]);return displayWrap(lt,xe)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function(te){var ne=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[te.replace(/^\\/,"")])]);return ne.setAttribute("stretchy","true"),ne},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function(te){return te.type==="ordgroup"?te.body.length:1},svgSpan=function(te,ne){function xe(){var ct=4e5,ut=te.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(ut)){var dt=te,ht=groupLength(dt.base),ft,pt,mt;if(ht>5)ut==="widehat"||ut==="widecheck"?(ft=420,ct=2364,mt=.42,pt=ut+"4"):(ft=312,ct=2340,mt=.34,pt="tilde4");else{var xt=[1,1,2,2,3,3][ht];ut==="widehat"||ut==="widecheck"?(ct=[0,1062,2364,2364,2364][xt],ft=[0,239,300,360,420][xt],mt=[0,.24,.3,.3,.36,.42][xt],pt=ut+xt):(ct=[0,600,1033,2339,2340][xt],ft=[0,260,286,306,312][xt],mt=[0,.26,.286,.3,.306,.34][xt],pt="tilde"+xt)}var yt=new PathNode(pt),vt=new SvgNode([yt],{width:"100%",height:makeEm(mt),viewBox:"0 0 "+ct+" "+ft,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[vt],ne),minWidth:0,height:mt}}else{var Et=[],_t=katexImagesData[ut],[wt,St,Ct]=_t,jt=Ct/1e3,Rt=wt.length,Pt,Ot;if(Rt===1){var Ft=_t[3];Pt=["hide-tail"],Ot=[Ft]}else if(Rt===2)Pt=["halfarrow-left","halfarrow-right"],Ot=["xMinYMin","xMaxYMin"];else if(Rt===3)Pt=["brace-left","brace-center","brace-right"],Ot=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Rt+" children.");for(var Lt=0;Lt<Rt;Lt++){var Bt=new PathNode(wt[Lt]),Gt=new SvgNode([Bt],{width:"400em",height:makeEm(jt),viewBox:"0 0 "+ct+" "+Ct,preserveAspectRatio:Ot[Lt]+" slice"}),It=buildCommon.makeSvgSpan([Pt[Lt]],[Gt],ne);if(Rt===1)return{span:It,minWidth:St,height:jt};It.style.height=makeEm(jt),Et.push(It)}return{span:buildCommon.makeSpan(["stretchy"],Et,ne),minWidth:St,height:jt}}}var{span:rt,minWidth:it,height:lt}=xe();return rt.height=lt,rt.style.height=makeEm(lt),it>0&&(rt.style.minWidth=makeEm(it)),rt},encloseSpan=function(te,ne,xe,rt,it){var lt,ct=te.height+te.depth+xe+rt;if(/fbox|color|angl/.test(ne)){if(lt=buildCommon.makeSpan(["stretchy",ne],[],it),ne==="fbox"){var ut=it.color&&it.getColor();ut&&(lt.style.borderColor=ut)}}else{var dt=[];/^[bx]cancel$/.test(ne)&&dt.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(ne)&&dt.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var ht=new SvgNode(dt,{width:"100%",height:makeEm(ct)});lt=buildCommon.makeSvgSpan([],[ht],it)}return lt.height=ct,lt.style.height=makeEm(ct),lt},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(ee,te){if(!ee||ee.type!==te)throw new Error("Expected node of type "+te+", but got "+(ee?"node of type "+ee.type:String(ee)));return ee}function assertSymbolNodeType(ee){var te=checkSymbolNodeType(ee);if(!te)throw new Error("Expected node of symbol group type, but got "+(ee?"node of type "+ee.type:String(ee)));return te}function checkSymbolNodeType(ee){return ee&&(ee.type==="atom"||NON_ATOMS.hasOwnProperty(ee.type))?ee:null}var htmlBuilder$a=(ee,te)=>{var ne,xe,rt;ee&&ee.type==="supsub"?(xe=assertNodeType(ee.base,"accent"),ne=xe.base,ee.base=ne,rt=assertSpan(buildGroup$1(ee,te)),ee.base=xe):(xe=assertNodeType(ee,"accent"),ne=xe.base);var it=buildGroup$1(ne,te.havingCrampedStyle()),lt=xe.isShifty&&utils.isCharacterBox(ne),ct=0;if(lt){var ut=utils.getBaseElem(ne),dt=buildGroup$1(ut,te.havingCrampedStyle());ct=assertSymbolDomNode(dt).skew}var ht=xe.label==="\\c",ft=ht?it.height+it.depth:Math.min(it.height,te.fontMetrics().xHeight),pt;if(xe.isStretchy)pt=stretchy.svgSpan(xe,te),pt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:it},{type:"elem",elem:pt,wrapperClasses:["svg-align"],wrapperStyle:ct>0?{width:"calc(100% - "+makeEm(2*ct)+")",marginLeft:makeEm(2*ct)}:void 0}]},te);else{var mt,xt;xe.label==="\\vec"?(mt=buildCommon.staticSvg("vec",te),xt=buildCommon.svgData.vec[1]):(mt=buildCommon.makeOrd({mode:xe.mode,text:xe.label},te,"textord"),mt=assertSymbolDomNode(mt),mt.italic=0,xt=mt.width,ht&&(ft+=mt.depth)),pt=buildCommon.makeSpan(["accent-body"],[mt]);var yt=xe.label==="\\textcircled";yt&&(pt.classes.push("accent-full"),ft=it.height);var vt=ct;yt||(vt-=xt/2),pt.style.left=makeEm(vt),xe.label==="\\textcircled"&&(pt.style.top=".2em"),pt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:it},{type:"kern",size:-ft},{type:"elem",elem:pt}]},te)}var Et=buildCommon.makeSpan(["mord","accent"],[pt],te);return rt?(rt.children[0]=Et,rt.height=Math.max(Et.height,rt.height),rt.classes[0]="mord",rt):Et},mathmlBuilder$9=(ee,te)=>{var ne=ee.isStretchy?stretchy.mathMLnode(ee.label):new mathMLTree.MathNode("mo",[makeText(ee.label,ee.mode)]),xe=new mathMLTree.MathNode("mover",[buildGroup(ee.base,te),ne]);return xe.setAttribute("accent","true"),xe},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(ee=>"\\"+ee).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(ee,te)=>{var ne=normalizeArgument(te[0]),xe=!NON_STRETCHY_ACCENT_REGEX.test(ee.funcName),rt=!xe||ee.funcName==="\\widehat"||ee.funcName==="\\widetilde"||ee.funcName==="\\widecheck";return{type:"accent",mode:ee.parser.mode,label:ee.funcName,isStretchy:xe,isShifty:rt,base:ne}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(ee,te)=>{var ne=te[0],xe=ee.parser.mode;return xe==="math"&&(ee.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+ee.funcName+" works only in text mode"),xe="text"),{type:"accent",mode:xe,label:ee.funcName,isStretchy:!1,isShifty:!0,base:ne}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=te[0];return{type:"accentUnder",mode:ne.mode,label:xe,base:rt}},htmlBuilder:(ee,te)=>{var ne=buildGroup$1(ee.base,te),xe=stretchy.svgSpan(ee,te),rt=ee.label==="\\utilde"?.12:0,it=buildCommon.makeVList({positionType:"top",positionData:ne.height,children:[{type:"elem",elem:xe,wrapperClasses:["svg-align"]},{type:"kern",size:rt},{type:"elem",elem:ne}]},te);return buildCommon.makeSpan(["mord","accentunder"],[it],te)},mathmlBuilder:(ee,te)=>{var ne=stretchy.mathMLnode(ee.label),xe=new mathMLTree.MathNode("munder",[buildGroup(ee.base,te),ne]);return xe.setAttribute("accentunder","true"),xe}});var paddedNode=ee=>{var te=new mathMLTree.MathNode("mpadded",ee?[ee]:[]);return te.setAttribute("width","+0.6em"),te.setAttribute("lspace","0.3em"),te};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(ee,te,ne){var{parser:xe,funcName:rt}=ee;return{type:"xArrow",mode:xe.mode,label:rt,body:te[0],below:ne[0]}},htmlBuilder(ee,te){var ne=te.style,xe=te.havingStyle(ne.sup()),rt=buildCommon.wrapFragment(buildGroup$1(ee.body,xe,te),te),it=ee.label.slice(0,2)==="\\x"?"x":"cd";rt.classes.push(it+"-arrow-pad");var lt;ee.below&&(xe=te.havingStyle(ne.sub()),lt=buildCommon.wrapFragment(buildGroup$1(ee.below,xe,te),te),lt.classes.push(it+"-arrow-pad"));var ct=stretchy.svgSpan(ee,te),ut=-te.fontMetrics().axisHeight+.5*ct.height,dt=-te.fontMetrics().axisHeight-.5*ct.height-.111;(rt.depth>.25||ee.label==="\\xleftequilibrium")&&(dt-=rt.depth);var ht;if(lt){var ft=-te.fontMetrics().axisHeight+lt.height+.5*ct.height+.111;ht=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:rt,shift:dt},{type:"elem",elem:ct,shift:ut},{type:"elem",elem:lt,shift:ft}]},te)}else ht=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:rt,shift:dt},{type:"elem",elem:ct,shift:ut}]},te);return ht.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[ht],te)},mathmlBuilder(ee,te){var ne=stretchy.mathMLnode(ee.label);ne.setAttribute("minsize",ee.label.charAt(0)==="x"?"1.75em":"3.0em");var xe;if(ee.body){var rt=paddedNode(buildGroup(ee.body,te));if(ee.below){var it=paddedNode(buildGroup(ee.below,te));xe=new mathMLTree.MathNode("munderover",[ne,it,rt])}else xe=new mathMLTree.MathNode("mover",[ne,rt])}else if(ee.below){var lt=paddedNode(buildGroup(ee.below,te));xe=new mathMLTree.MathNode("munder",[ne,lt])}else xe=paddedNode(),xe=new mathMLTree.MathNode("mover",[ne,xe]);return xe}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(ee,te){var ne=buildExpression$1(ee.body,te,!0);return makeSpan([ee.mclass],ne,te)}function mathmlBuilder$8(ee,te){var ne,xe=buildExpression(ee.body,te);return ee.mclass==="minner"?ne=new mathMLTree.MathNode("mpadded",xe):ee.mclass==="mord"?ee.isCharacterBox?(ne=xe[0],ne.type="mi"):ne=new mathMLTree.MathNode("mi",xe):(ee.isCharacterBox?(ne=xe[0],ne.type="mo"):ne=new mathMLTree.MathNode("mo",xe),ee.mclass==="mbin"?(ne.attributes.lspace="0.22em",ne.attributes.rspace="0.22em"):ee.mclass==="mpunct"?(ne.attributes.lspace="0em",ne.attributes.rspace="0.17em"):ee.mclass==="mopen"||ee.mclass==="mclose"?(ne.attributes.lspace="0em",ne.attributes.rspace="0em"):ee.mclass==="minner"&&(ne.attributes.lspace="0.0556em",ne.attributes.width="+0.1111em")),ne}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(ee,te){var{parser:ne,funcName:xe}=ee,rt=te[0];return{type:"mclass",mode:ne.mode,mclass:"m"+xe.slice(5),body:ordargument(rt),isCharacterBox:utils.isCharacterBox(rt)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=ee=>{var te=ee.type==="ordgroup"&&ee.body.length?ee.body[0]:ee;return te.type==="atom"&&(te.family==="bin"||te.family==="rel")?"m"+te.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(ee,te){var{parser:ne}=ee;return{type:"mclass",mode:ne.mode,mclass:binrelClass(te[0]),body:ordargument(te[1]),isCharacterBox:utils.isCharacterBox(te[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(ee,te){var{parser:ne,funcName:xe}=ee,rt=te[1],it=te[0],lt;xe!=="\\stackrel"?lt=binrelClass(rt):lt="mrel";var ct={type:"op",mode:rt.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:xe!=="\\stackrel",body:ordargument(rt)},ut={type:"supsub",mode:it.mode,base:ct,sup:xe==="\\underset"?null:it,sub:xe==="\\underset"?it:null};return{type:"mclass",mode:ne.mode,mclass:lt,body:[ut],isCharacterBox:utils.isCharacterBox(ut)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(ee,te){var{parser:ne}=ee;return{type:"pmb",mode:ne.mode,mclass:binrelClass(te[0]),body:ordargument(te[0])}},htmlBuilder(ee,te){var ne=buildExpression$1(ee.body,te,!0),xe=buildCommon.makeSpan([ee.mclass],ne,te);return xe.style.textShadow="0.02em 0.01em 0.04px",xe},mathmlBuilder(ee,te){var ne=buildExpression(ee.body,te),xe=new mathMLTree.MathNode("mstyle",ne);return xe.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),xe}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=ee=>ee.type==="textord"&&ee.text==="@",isLabelEnd=(ee,te)=>(ee.type==="mathord"||ee.type==="atom")&&ee.text===te;function cdArrow(ee,te,ne){var xe=cdArrowFunctionName[ee];switch(xe){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return ne.callFunction(xe,[te[0]],[te[1]]);case"\\uparrow":case"\\downarrow":{var rt=ne.callFunction("\\\\cdleft",[te[0]],[]),it={type:"atom",text:xe,mode:"math",family:"rel"},lt=ne.callFunction("\\Big",[it],[]),ct=ne.callFunction("\\\\cdright",[te[1]],[]),ut={type:"ordgroup",mode:"math",body:[rt,lt,ct]};return ne.callFunction("\\\\cdparent",[ut],[])}case"\\\\cdlongequal":return ne.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var dt={type:"textord",text:"\\Vert",mode:"math"};return ne.callFunction("\\Big",[dt],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(ee){var te=[];for(ee.gullet.beginGroup(),ee.gullet.macros.set("\\cr","\\\\\\relax"),ee.gullet.beginGroup();;){te.push(ee.parseExpression(!1,"\\\\")),ee.gullet.endGroup(),ee.gullet.beginGroup();var ne=ee.fetch().text;if(ne==="&"||ne==="\\\\")ee.consume();else if(ne==="\\end"){te[te.length-1].length===0&&te.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",ee.nextToken)}for(var xe=[],rt=[xe],it=0;it<te.length;it++){for(var lt=te[it],ct=newCell(),ut=0;ut<lt.length;ut++)if(!isStartOfArrow(lt[ut]))ct.body.push(lt[ut]);else{xe.push(ct),ut+=1;var dt=assertSymbolNodeType(lt[ut]).text,ht=new Array(2);if(ht[0]={type:"ordgroup",mode:"math",body:[]},ht[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(dt)>-1))if("<>AV".indexOf(dt)>-1)for(var ft=0;ft<2;ft++){for(var pt=!0,mt=ut+1;mt<lt.length;mt++){if(isLabelEnd(lt[mt],dt)){pt=!1,ut=mt;break}if(isStartOfArrow(lt[mt]))throw new ParseError("Missing a "+dt+" character to complete a CD arrow.",lt[mt]);ht[ft].body.push(lt[mt])}if(pt)throw new ParseError("Missing a "+dt+" character to complete a CD arrow.",lt[ut])}else throw new ParseError('Expected one of "<>AV=|." after @',lt[ut]);var xt=cdArrow(dt,ht,ee),yt={type:"styling",body:[xt],mode:"math",style:"display"};xe.push(yt),ct=newCell()}it%2===0?xe.push(ct):xe.shift(),xe=[],rt.push(xe)}ee.gullet.endGroup(),ee.gullet.endGroup();var vt=new Array(rt[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:rt,arraystretch:1,addJot:!0,rowGaps:[null],cols:vt,colSeparationType:"CD",hLinesBeforeRow:new Array(rt.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(ee,te){var{parser:ne,funcName:xe}=ee;return{type:"cdlabel",mode:ne.mode,side:xe.slice(4),label:te[0]}},htmlBuilder(ee,te){var ne=te.havingStyle(te.style.sup()),xe=buildCommon.wrapFragment(buildGroup$1(ee.label,ne,te),te);return xe.classes.push("cd-label-"+ee.side),xe.style.bottom=makeEm(.8-xe.depth),xe.height=0,xe.depth=0,xe},mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mrow",[buildGroup(ee.label,te)]);return ne=new mathMLTree.MathNode("mpadded",[ne]),ne.setAttribute("width","0"),ee.side==="left"&&ne.setAttribute("lspace","-1width"),ne.setAttribute("voffset","0.7em"),ne=new mathMLTree.MathNode("mstyle",[ne]),ne.setAttribute("displaystyle","false"),ne.setAttribute("scriptlevel","1"),ne}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(ee,te){var{parser:ne}=ee;return{type:"cdlabelparent",mode:ne.mode,fragment:te[0]}},htmlBuilder(ee,te){var ne=buildCommon.wrapFragment(buildGroup$1(ee.fragment,te),te);return ne.classes.push("cd-vert-arrow"),ne},mathmlBuilder(ee,te){return new mathMLTree.MathNode("mrow",[buildGroup(ee.fragment,te)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(ee,te){for(var{parser:ne}=ee,xe=assertNodeType(te[0],"ordgroup"),rt=xe.body,it="",lt=0;lt<rt.length;lt++){var ct=assertNodeType(rt[lt],"textord");it+=ct.text}var ut=parseInt(it),dt;if(isNaN(ut))throw new ParseError("\\@char has non-numeric argument "+it);if(ut<0||ut>=1114111)throw new ParseError("\\@char with invalid code point "+it);return ut<=65535?dt=String.fromCharCode(ut):(ut-=65536,dt=String.fromCharCode((ut>>10)+55296,(ut&1023)+56320)),{type:"textord",mode:ne.mode,text:dt}}});var htmlBuilder$8=(ee,te)=>{var ne=buildExpression$1(ee.body,te.withColor(ee.color),!1);return buildCommon.makeFragment(ne)},mathmlBuilder$7=(ee,te)=>{var ne=buildExpression(ee.body,te.withColor(ee.color)),xe=new mathMLTree.MathNode("mstyle",ne);return xe.setAttribute("mathcolor",ee.color),xe};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(ee,te){var{parser:ne}=ee,xe=assertNodeType(te[0],"color-token").color,rt=te[1];return{type:"color",mode:ne.mode,color:xe,body:ordargument(rt)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(ee,te){var{parser:ne,breakOnTokenText:xe}=ee,rt=assertNodeType(te[0],"color-token").color;ne.gullet.macros.set("\\current@color",rt);var it=ne.parseExpression(!0,xe);return{type:"color",mode:ne.mode,color:rt,body:it}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(ee,te,ne){var{parser:xe}=ee,rt=xe.gullet.future().text==="["?xe.parseSizeGroup(!0):null,it=!xe.settings.displayMode||!xe.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:xe.mode,newLine:it,size:rt&&assertNodeType(rt,"size").value}},htmlBuilder(ee,te){var ne=buildCommon.makeSpan(["mspace"],[],te);return ee.newLine&&(ne.classes.push("newline"),ee.size&&(ne.style.marginTop=makeEm(calculateSize$1(ee.size,te)))),ne},mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mspace");return ee.newLine&&(ne.setAttribute("linebreak","newline"),ee.size&&ne.setAttribute("height",makeEm(calculateSize$1(ee.size,te)))),ne}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=ee=>{var te=ee.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(te))throw new ParseError("Expected a control sequence",ee);return te},getRHS=ee=>{var te=ee.gullet.popToken();return te.text==="="&&(te=ee.gullet.popToken(),te.text===" "&&(te=ee.gullet.popToken())),te},letCommand=(ee,te,ne,xe)=>{var rt=ee.gullet.macros.get(ne.text);rt==null&&(ne.noexpand=!0,rt={tokens:[ne],numArgs:0,unexpandable:!ee.gullet.isExpandable(ne.text)}),ee.gullet.macros.set(te,rt,xe)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(ee){var{parser:te,funcName:ne}=ee;te.consumeSpaces();var xe=te.fetch();if(globalMap[xe.text])return(ne==="\\global"||ne==="\\\\globallong")&&(xe.text=globalMap[xe.text]),assertNodeType(te.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",xe)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee){var{parser:te,funcName:ne}=ee,xe=te.gullet.popToken(),rt=xe.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(rt))throw new ParseError("Expected a control sequence",xe);for(var it=0,lt,ct=[[]];te.gullet.future().text!=="{";)if(xe=te.gullet.popToken(),xe.text==="#"){if(te.gullet.future().text==="{"){lt=te.gullet.future(),ct[it].push("{");break}if(xe=te.gullet.popToken(),!/^[1-9]$/.test(xe.text))throw new ParseError('Invalid argument number "'+xe.text+'"');if(parseInt(xe.text)!==it+1)throw new ParseError('Argument number "'+xe.text+'" out of order');it++,ct.push([])}else{if(xe.text==="EOF")throw new ParseError("Expected a macro definition");ct[it].push(xe.text)}var{tokens:ut}=te.gullet.consumeArg();return lt&&ut.unshift(lt),(ne==="\\edef"||ne==="\\xdef")&&(ut=te.gullet.expandTokens(ut),ut.reverse()),te.gullet.macros.set(rt,{tokens:ut,numArgs:it,delimiters:ct},ne===globalMap[ne]),{type:"internal",mode:te.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee){var{parser:te,funcName:ne}=ee,xe=checkControlSequence(te.gullet.popToken());te.gullet.consumeSpaces();var rt=getRHS(te);return letCommand(te,xe,rt,ne==="\\\\globallet"),{type:"internal",mode:te.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee){var{parser:te,funcName:ne}=ee,xe=checkControlSequence(te.gullet.popToken()),rt=te.gullet.popToken(),it=te.gullet.popToken();return letCommand(te,xe,it,ne==="\\\\globalfuture"),te.gullet.pushToken(it),te.gullet.pushToken(rt),{type:"internal",mode:te.mode}}});var getMetrics=function(te,ne,xe){var rt=symbols.math[te]&&symbols.math[te].replace,it=getCharacterMetrics(rt||te,ne,xe);if(!it)throw new Error("Unsupported symbol "+te+" and font size "+ne+".");return it},styleWrap=function(te,ne,xe,rt){var it=xe.havingBaseStyle(ne),lt=buildCommon.makeSpan(rt.concat(it.sizingClasses(xe)),[te],xe),ct=it.sizeMultiplier/xe.sizeMultiplier;return lt.height*=ct,lt.depth*=ct,lt.maxFontSize=it.sizeMultiplier,lt},centerSpan=function(te,ne,xe){var rt=ne.havingBaseStyle(xe),it=(1-ne.sizeMultiplier/rt.sizeMultiplier)*ne.fontMetrics().axisHeight;te.classes.push("delimcenter"),te.style.top=makeEm(it),te.height-=it,te.depth+=it},makeSmallDelim=function(te,ne,xe,rt,it,lt){var ct=buildCommon.makeSymbol(te,"Main-Regular",it,rt),ut=styleWrap(ct,ne,rt,lt);return xe&&centerSpan(ut,rt,ne),ut},mathrmSize=function(te,ne,xe,rt){return buildCommon.makeSymbol(te,"Size"+ne+"-Regular",xe,rt)},makeLargeDelim=function(te,ne,xe,rt,it,lt){var ct=mathrmSize(te,ne,it,rt),ut=styleWrap(buildCommon.makeSpan(["delimsizing","size"+ne],[ct],rt),Style$1.TEXT,rt,lt);return xe&&centerSpan(ut,rt,Style$1.TEXT),ut},makeGlyphSpan=function(te,ne,xe){var rt;ne==="Size1-Regular"?rt="delim-size1":rt="delim-size4";var it=buildCommon.makeSpan(["delimsizinginner",rt],[buildCommon.makeSpan([],[buildCommon.makeSymbol(te,ne,xe)])]);return{type:"elem",elem:it}},makeInner=function(te,ne,xe){var rt=fontMetricsData["Size4-Regular"][te.charCodeAt(0)]?fontMetricsData["Size4-Regular"][te.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][te.charCodeAt(0)][4],it=new PathNode("inner",innerPath(te,Math.round(1e3*ne))),lt=new SvgNode([it],{width:makeEm(rt),height:makeEm(ne),style:"width:"+makeEm(rt),viewBox:"0 0 "+1e3*rt+" "+Math.round(1e3*ne),preserveAspectRatio:"xMinYMin"}),ct=buildCommon.makeSvgSpan([],[lt],xe);return ct.height=ne,ct.style.height=makeEm(ne),ct.style.width=makeEm(rt),{type:"elem",elem:ct}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function(te,ne,xe,rt,it,lt){var ct,ut,dt,ht,ft="",pt=0;ct=dt=ht=te,ut=null;var mt="Size1-Regular";te==="\\uparrow"?dt=ht="":te==="\\Uparrow"?dt=ht="":te==="\\downarrow"?ct=dt="":te==="\\Downarrow"?ct=dt="":te==="\\updownarrow"?(ct="\\uparrow",dt="",ht="\\downarrow"):te==="\\Updownarrow"?(ct="\\Uparrow",dt="",ht="\\Downarrow"):verts.includes(te)?(dt="",ft="vert",pt=333):doubleVerts.includes(te)?(dt="",ft="doublevert",pt=556):te==="["||te==="\\lbrack"?(ct="",dt="",ht="",mt="Size4-Regular",ft="lbrack",pt=667):te==="]"||te==="\\rbrack"?(ct="",dt="",ht="",mt="Size4-Regular",ft="rbrack",pt=667):te==="\\lfloor"||te===""?(dt=ct="",ht="",mt="Size4-Regular",ft="lfloor",pt=667):te==="\\lceil"||te===""?(ct="",dt=ht="",mt="Size4-Regular",ft="lceil",pt=667):te==="\\rfloor"||te===""?(dt=ct="",ht="",mt="Size4-Regular",ft="rfloor",pt=667):te==="\\rceil"||te===""?(ct="",dt=ht="",mt="Size4-Regular",ft="rceil",pt=667):te==="("||te==="\\lparen"?(ct="",dt="",ht="",mt="Size4-Regular",ft="lparen",pt=875):te===")"||te==="\\rparen"?(ct="",dt="",ht="",mt="Size4-Regular",ft="rparen",pt=875):te==="\\{"||te==="\\lbrace"?(ct="",ut="",ht="",dt="",mt="Size4-Regular"):te==="\\}"||te==="\\rbrace"?(ct="",ut="",ht="",dt="",mt="Size4-Regular"):te==="\\lgroup"||te===""?(ct="",ht="",dt="",mt="Size4-Regular"):te==="\\rgroup"||te===""?(ct="",ht="",dt="",mt="Size4-Regular"):te==="\\lmoustache"||te===""?(ct="",ht="",dt="",mt="Size4-Regular"):(te==="\\rmoustache"||te==="")&&(ct="",ht="",dt="",mt="Size4-Regular");var xt=getMetrics(ct,mt,it),yt=xt.height+xt.depth,vt=getMetrics(dt,mt,it),Et=vt.height+vt.depth,_t=getMetrics(ht,mt,it),wt=_t.height+_t.depth,St=0,Ct=1;if(ut!==null){var jt=getMetrics(ut,mt,it);St=jt.height+jt.depth,Ct=2}var Rt=yt+wt+St,Pt=Math.max(0,Math.ceil((ne-Rt)/(Ct*Et))),Ot=Rt+Pt*Ct*Et,Ft=rt.fontMetrics().axisHeight;xe&&(Ft*=rt.sizeMultiplier);var Lt=Ot/2-Ft,Bt=[];if(ft.length>0){var Gt=Ot-yt-wt,It=Math.round(Ot*1e3),qt=tallDelim(ft,Math.round(Gt*1e3)),Nt=new PathNode(ft,qt),Dt=(pt/1e3).toFixed(3)+"em",Tt=(It/1e3).toFixed(3)+"em",Mt=new SvgNode([Nt],{width:Dt,height:Tt,viewBox:"0 0 "+pt+" "+It}),$t=buildCommon.makeSvgSpan([],[Mt],rt);$t.height=It/1e3,$t.style.width=Dt,$t.style.height=Tt,Bt.push({type:"elem",elem:$t})}else{if(Bt.push(makeGlyphSpan(ht,mt,it)),Bt.push(lap),ut===null){var Ht=Ot-yt-wt+2*lapInEms;Bt.push(makeInner(dt,Ht,rt))}else{var Wt=(Ot-yt-wt-St)/2+2*lapInEms;Bt.push(makeInner(dt,Wt,rt)),Bt.push(lap),Bt.push(makeGlyphSpan(ut,mt,it)),Bt.push(lap),Bt.push(makeInner(dt,Wt,rt))}Bt.push(lap),Bt.push(makeGlyphSpan(ct,mt,it))}var Vt=rt.havingBaseStyle(Style$1.TEXT),Yt=buildCommon.makeVList({positionType:"bottom",positionData:Lt,children:Bt},Vt);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[Yt],Vt),Style$1.TEXT,rt,lt)},vbPad=80,emPad=.08,sqrtSvg=function(te,ne,xe,rt,it){var lt=sqrtPath(te,rt,xe),ct=new PathNode(te,lt),ut=new SvgNode([ct],{width:"400em",height:makeEm(ne),viewBox:"0 0 400000 "+xe,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[ut],it)},makeSqrtImage=function(te,ne){var xe=ne.havingBaseSizing(),rt=traverseSequence("\\surd",te*xe.sizeMultiplier,stackLargeDelimiterSequence,xe),it=xe.sizeMultiplier,lt=Math.max(0,ne.minRuleThickness-ne.fontMetrics().sqrtRuleThickness),ct,ut=0,dt=0,ht=0,ft;return rt.type==="small"?(ht=1e3+1e3*lt+vbPad,te<1?it=1:te<1.4&&(it=.7),ut=(1+lt+emPad)/it,dt=(1+lt)/it,ct=sqrtSvg("sqrtMain",ut,ht,lt,ne),ct.style.minWidth="0.853em",ft=.833/it):rt.type==="large"?(ht=(1e3+vbPad)*sizeToMaxHeight[rt.size],dt=(sizeToMaxHeight[rt.size]+lt)/it,ut=(sizeToMaxHeight[rt.size]+lt+emPad)/it,ct=sqrtSvg("sqrtSize"+rt.size,ut,ht,lt,ne),ct.style.minWidth="1.02em",ft=1/it):(ut=te+lt+emPad,dt=te+lt,ht=Math.floor(1e3*te+lt)+vbPad,ct=sqrtSvg("sqrtTall",ut,ht,lt,ne),ct.style.minWidth="0.742em",ft=1.056),ct.height=dt,ct.style.height=makeEm(ut),{span:ct,advanceWidth:ft,ruleWidth:(ne.fontMetrics().sqrtRuleThickness+lt)*it}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function(te,ne,xe,rt,it){if(te==="<"||te==="\\lt"||te===""?te="\\langle":(te===">"||te==="\\gt"||te==="")&&(te="\\rangle"),stackLargeDelimiters.includes(te)||stackNeverDelimiters.includes(te))return makeLargeDelim(te,ne,!1,xe,rt,it);if(stackAlwaysDelimiters.includes(te))return makeStackedDelim(te,sizeToMaxHeight[ne],!1,xe,rt,it);throw new ParseError("Illegal delimiter: '"+te+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(te){if(te.type==="small")return"Main-Regular";if(te.type==="large")return"Size"+te.size+"-Regular";if(te.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+te.type+"' here.")},traverseSequence=function(te,ne,xe,rt){for(var it=Math.min(2,3-rt.style.size),lt=it;lt<xe.length&&xe[lt].type!=="stack";lt++){var ct=getMetrics(te,delimTypeToFont(xe[lt]),"math"),ut=ct.height+ct.depth;if(xe[lt].type==="small"){var dt=rt.havingBaseStyle(xe[lt].style);ut*=dt.sizeMultiplier}if(ut>ne)return xe[lt]}return xe[xe.length-1]},makeCustomSizedDelim=function(te,ne,xe,rt,it,lt){te==="<"||te==="\\lt"||te===""?te="\\langle":(te===">"||te==="\\gt"||te==="")&&(te="\\rangle");var ct;stackNeverDelimiters.includes(te)?ct=stackNeverDelimiterSequence:stackLargeDelimiters.includes(te)?ct=stackLargeDelimiterSequence:ct=stackAlwaysDelimiterSequence;var ut=traverseSequence(te,ne,ct,rt);return ut.type==="small"?makeSmallDelim(te,ut.style,xe,rt,it,lt):ut.type==="large"?makeLargeDelim(te,ut.size,xe,rt,it,lt):makeStackedDelim(te,ne,xe,rt,it,lt)},makeLeftRightDelim=function(te,ne,xe,rt,it,lt){var ct=rt.fontMetrics().axisHeight*rt.sizeMultiplier,ut=901,dt=5/rt.fontMetrics().ptPerEm,ht=Math.max(ne-ct,xe+ct),ft=Math.max(ht/500*ut,2*ht-dt);return makeCustomSizedDelim(te,ft,!0,rt,it,lt)},delimiter$1={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(ee,te){var ne=checkSymbolNodeType(ee);if(ne&&delimiters.includes(ne.text))return ne;throw ne?new ParseError("Invalid delimiter '"+ne.text+"' after '"+te.funcName+"'",ee):new ParseError("Invalid delimiter type '"+ee.type+"'",ee)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(ee,te)=>{var ne=checkDelimiter(te[0],ee);return{type:"delimsizing",mode:ee.parser.mode,size:delimiterSizes[ee.funcName].size,mclass:delimiterSizes[ee.funcName].mclass,delim:ne.text}},htmlBuilder:(ee,te)=>ee.delim==="."?buildCommon.makeSpan([ee.mclass]):delimiter$1.sizedDelim(ee.delim,ee.size,te,ee.mode,[ee.mclass]),mathmlBuilder:ee=>{var te=[];ee.delim!=="."&&te.push(makeText(ee.delim,ee.mode));var ne=new mathMLTree.MathNode("mo",te);ee.mclass==="mopen"||ee.mclass==="mclose"?ne.setAttribute("fence","true"):ne.setAttribute("fence","false"),ne.setAttribute("stretchy","true");var xe=makeEm(delimiter$1.sizeToMaxHeight[ee.size]);return ne.setAttribute("minsize",xe),ne.setAttribute("maxsize",xe),ne}});function assertParsed(ee){if(!ee.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(ee,te)=>{var ne=ee.parser.gullet.macros.get("\\current@color");if(ne&&typeof ne!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:ee.parser.mode,delim:checkDelimiter(te[0],ee).text,color:ne}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(ee,te)=>{var ne=checkDelimiter(te[0],ee),xe=ee.parser;++xe.leftrightDepth;var rt=xe.parseExpression(!1);--xe.leftrightDepth,xe.expect("\\right",!1);var it=assertNodeType(xe.parseFunction(),"leftright-right");return{type:"leftright",mode:xe.mode,body:rt,left:ne.text,right:it.delim,rightColor:it.color}},htmlBuilder:(ee,te)=>{assertParsed(ee);for(var ne=buildExpression$1(ee.body,te,!0,["mopen","mclose"]),xe=0,rt=0,it=!1,lt=0;lt<ne.length;lt++)ne[lt].isMiddle?it=!0:(xe=Math.max(ne[lt].height,xe),rt=Math.max(ne[lt].depth,rt));xe*=te.sizeMultiplier,rt*=te.sizeMultiplier;var ct;if(ee.left==="."?ct=makeNullDelimiter(te,["mopen"]):ct=delimiter$1.leftRightDelim(ee.left,xe,rt,te,ee.mode,["mopen"]),ne.unshift(ct),it)for(var ut=1;ut<ne.length;ut++){var dt=ne[ut],ht=dt.isMiddle;ht&&(ne[ut]=delimiter$1.leftRightDelim(ht.delim,xe,rt,ht.options,ee.mode,[]))}var ft;if(ee.right===".")ft=makeNullDelimiter(te,["mclose"]);else{var pt=ee.rightColor?te.withColor(ee.rightColor):te;ft=delimiter$1.leftRightDelim(ee.right,xe,rt,pt,ee.mode,["mclose"])}return ne.push(ft),buildCommon.makeSpan(["minner"],ne,te)},mathmlBuilder:(ee,te)=>{assertParsed(ee);var ne=buildExpression(ee.body,te);if(ee.left!=="."){var xe=new mathMLTree.MathNode("mo",[makeText(ee.left,ee.mode)]);xe.setAttribute("fence","true"),ne.unshift(xe)}if(ee.right!=="."){var rt=new mathMLTree.MathNode("mo",[makeText(ee.right,ee.mode)]);rt.setAttribute("fence","true"),ee.rightColor&&rt.setAttribute("mathcolor",ee.rightColor),ne.push(rt)}return makeRow(ne)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(ee,te)=>{var ne=checkDelimiter(te[0],ee);if(!ee.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",ne);return{type:"middle",mode:ee.parser.mode,delim:ne.text}},htmlBuilder:(ee,te)=>{var ne;if(ee.delim===".")ne=makeNullDelimiter(te,[]);else{ne=delimiter$1.sizedDelim(ee.delim,1,te,ee.mode,[]);var xe={delim:ee.delim,options:te};ne.isMiddle=xe}return ne},mathmlBuilder:(ee,te)=>{var ne=ee.delim==="\\vert"||ee.delim==="|"?makeText("|","text"):makeText(ee.delim,ee.mode),xe=new mathMLTree.MathNode("mo",[ne]);return xe.setAttribute("fence","true"),xe.setAttribute("lspace","0.05em"),xe.setAttribute("rspace","0.05em"),xe}});var htmlBuilder$7=(ee,te)=>{var ne=buildCommon.wrapFragment(buildGroup$1(ee.body,te),te),xe=ee.label.slice(1),rt=te.sizeMultiplier,it,lt=0,ct=utils.isCharacterBox(ee.body);if(xe==="sout")it=buildCommon.makeSpan(["stretchy","sout"]),it.height=te.fontMetrics().defaultRuleThickness/rt,lt=-.5*te.fontMetrics().xHeight;else if(xe==="phase"){var ut=calculateSize$1({number:.6,unit:"pt"},te),dt=calculateSize$1({number:.35,unit:"ex"},te),ht=te.havingBaseSizing();rt=rt/ht.sizeMultiplier;var ft=ne.height+ne.depth+ut+dt;ne.style.paddingLeft=makeEm(ft/2+ut);var pt=Math.floor(1e3*ft*rt),mt=phasePath(pt),xt=new SvgNode([new PathNode("phase",mt)],{width:"400em",height:makeEm(pt/1e3),viewBox:"0 0 400000 "+pt,preserveAspectRatio:"xMinYMin slice"});it=buildCommon.makeSvgSpan(["hide-tail"],[xt],te),it.style.height=makeEm(ft),lt=ne.depth+ut+dt}else{/cancel/.test(xe)?ct||ne.classes.push("cancel-pad"):xe==="angl"?ne.classes.push("anglpad"):ne.classes.push("boxpad");var yt=0,vt=0,Et=0;/box/.test(xe)?(Et=Math.max(te.fontMetrics().fboxrule,te.minRuleThickness),yt=te.fontMetrics().fboxsep+(xe==="colorbox"?0:Et),vt=yt):xe==="angl"?(Et=Math.max(te.fontMetrics().defaultRuleThickness,te.minRuleThickness),yt=4*Et,vt=Math.max(0,.25-ne.depth)):(yt=ct?.2:0,vt=yt),it=stretchy.encloseSpan(ne,xe,yt,vt,te),/fbox|boxed|fcolorbox/.test(xe)?(it.style.borderStyle="solid",it.style.borderWidth=makeEm(Et)):xe==="angl"&&Et!==.049&&(it.style.borderTopWidth=makeEm(Et),it.style.borderRightWidth=makeEm(Et)),lt=ne.depth+vt,ee.backgroundColor&&(it.style.backgroundColor=ee.backgroundColor,ee.borderColor&&(it.style.borderColor=ee.borderColor))}var _t;if(ee.backgroundColor)_t=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:it,shift:lt},{type:"elem",elem:ne,shift:0}]},te);else{var wt=/cancel|phase/.test(xe)?["svg-align"]:[];_t=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ne,shift:0},{type:"elem",elem:it,shift:lt,wrapperClasses:wt}]},te)}return/cancel/.test(xe)&&(_t.height=ne.height,_t.depth=ne.depth),/cancel/.test(xe)&&!ct?buildCommon.makeSpan(["mord","cancel-lap"],[_t],te):buildCommon.makeSpan(["mord"],[_t],te)},mathmlBuilder$6=(ee,te)=>{var ne=0,xe=new mathMLTree.MathNode(ee.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(ee.body,te)]);switch(ee.label){case"\\cancel":xe.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":xe.setAttribute("notation","downdiagonalstrike");break;case"\\phase":xe.setAttribute("notation","phasorangle");break;case"\\sout":xe.setAttribute("notation","horizontalstrike");break;case"\\fbox":xe.setAttribute("notation","box");break;case"\\angl":xe.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(ne=te.fontMetrics().fboxsep*te.fontMetrics().ptPerEm,xe.setAttribute("width","+"+2*ne+"pt"),xe.setAttribute("height","+"+2*ne+"pt"),xe.setAttribute("lspace",ne+"pt"),xe.setAttribute("voffset",ne+"pt"),ee.label==="\\fcolorbox"){var rt=Math.max(te.fontMetrics().fboxrule,te.minRuleThickness);xe.setAttribute("style","border: "+rt+"em solid "+String(ee.borderColor))}break;case"\\xcancel":xe.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return ee.backgroundColor&&xe.setAttribute("mathbackground",ee.backgroundColor),xe};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(ee,te,ne){var{parser:xe,funcName:rt}=ee,it=assertNodeType(te[0],"color-token").color,lt=te[1];return{type:"enclose",mode:xe.mode,label:rt,backgroundColor:it,body:lt}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(ee,te,ne){var{parser:xe,funcName:rt}=ee,it=assertNodeType(te[0],"color-token").color,lt=assertNodeType(te[1],"color-token").color,ct=te[2];return{type:"enclose",mode:xe.mode,label:rt,backgroundColor:lt,borderColor:it,body:ct}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(ee,te){var{parser:ne}=ee;return{type:"enclose",mode:ne.mode,label:"\\fbox",body:te[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(ee,te){var{parser:ne,funcName:xe}=ee,rt=te[0];return{type:"enclose",mode:ne.mode,label:xe,body:rt}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(ee,te){var{parser:ne}=ee;return{type:"enclose",mode:ne.mode,label:"\\angl",body:te[0]}}});var _environments={};function defineEnvironment(ee){for(var{type:te,names:ne,props:xe,handler:rt,htmlBuilder:it,mathmlBuilder:lt}=ee,ct={type:te,numArgs:xe.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:rt},ut=0;ut<ne.length;++ut)_environments[ne[ut]]=ct;it&&(_htmlGroupBuilders[te]=it),lt&&(_mathmlGroupBuilders[te]=lt)}var _macros={};function defineMacro(ee,te){_macros[ee]=te}function getHLines(ee){var te=[];ee.consumeSpaces();var ne=ee.fetch().text;for(ne==="\\relax"&&(ee.consume(),ee.consumeSpaces(),ne=ee.fetch().text);ne==="\\hline"||ne==="\\hdashline";)ee.consume(),te.push(ne==="\\hdashline"),ee.consumeSpaces(),ne=ee.fetch().text;return te}var validateAmsEnvironmentContext=ee=>{var te=ee.parser.settings;if(!te.displayMode)throw new ParseError("{"+ee.envName+"} can be used only in display mode.")};function getAutoTag(ee){if(ee.indexOf("ed")===-1)return ee.indexOf("*")===-1}function parseArray(ee,te,ne){var{hskipBeforeAndAfter:xe,addJot:rt,cols:it,arraystretch:lt,colSeparationType:ct,autoTag:ut,singleRow:dt,emptySingleRow:ht,maxNumCols:ft,leqno:pt}=te;if(ee.gullet.beginGroup(),dt||ee.gullet.macros.set("\\cr","\\\\\\relax"),!lt){var mt=ee.gullet.expandMacroAsText("\\arraystretch");if(mt==null)lt=1;else if(lt=parseFloat(mt),!lt||lt<0)throw new ParseError("Invalid \\arraystretch: "+mt)}ee.gullet.beginGroup();var xt=[],yt=[xt],vt=[],Et=[],_t=ut!=null?[]:void 0;function wt(){ut&&ee.gullet.macros.set("\\@eqnsw","1",!0)}function St(){_t&&(ee.gullet.macros.get("\\df@tag")?(_t.push(ee.subparse([new Token("\\df@tag")])),ee.gullet.macros.set("\\df@tag",void 0,!0)):_t.push(!!ut&&ee.gullet.macros.get("\\@eqnsw")==="1"))}for(wt(),Et.push(getHLines(ee));;){var Ct=ee.parseExpression(!1,dt?"\\end":"\\\\");ee.gullet.endGroup(),ee.gullet.beginGroup(),Ct={type:"ordgroup",mode:ee.mode,body:Ct},ne&&(Ct={type:"styling",mode:ee.mode,style:ne,body:[Ct]}),xt.push(Ct);var jt=ee.fetch().text;if(jt==="&"){if(ft&&xt.length===ft){if(dt||ct)throw new ParseError("Too many tab characters: &",ee.nextToken);ee.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}ee.consume()}else if(jt==="\\end"){St(),xt.length===1&&Ct.type==="styling"&&Ct.body[0].body.length===0&&(yt.length>1||!ht)&&yt.pop(),Et.length<yt.length+1&&Et.push([]);break}else if(jt==="\\\\"){ee.consume();var Rt=void 0;ee.gullet.future().text!==" "&&(Rt=ee.parseSizeGroup(!0)),vt.push(Rt?Rt.value:null),St(),Et.push(getHLines(ee)),xt=[],yt.push(xt),wt()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",ee.nextToken)}return ee.gullet.endGroup(),ee.gullet.endGroup(),{type:"array",mode:ee.mode,addJot:rt,arraystretch:lt,body:yt,cols:it,rowGaps:vt,hskipBeforeAndAfter:xe,hLinesBeforeRow:Et,colSeparationType:ct,tags:_t,leqno:pt}}function dCellStyle(ee){return ee.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function(te,ne){var xe,rt,it=te.body.length,lt=te.hLinesBeforeRow,ct=0,ut=new Array(it),dt=[],ht=Math.max(ne.fontMetrics().arrayRuleWidth,ne.minRuleThickness),ft=1/ne.fontMetrics().ptPerEm,pt=5*ft;if(te.colSeparationType&&te.colSeparationType==="small"){var mt=ne.havingStyle(Style$1.SCRIPT).sizeMultiplier;pt=.2778*(mt/ne.sizeMultiplier)}var xt=te.colSeparationType==="CD"?calculateSize$1({number:3,unit:"ex"},ne):12*ft,yt=3*ft,vt=te.arraystretch*xt,Et=.7*vt,_t=.3*vt,wt=0;function St(Gr){for(var Yr=0;Yr<Gr.length;++Yr)Yr>0&&(wt+=.25),dt.push({pos:wt,isDashed:Gr[Yr]})}for(St(lt[0]),xe=0;xe<te.body.length;++xe){var Ct=te.body[xe],jt=Et,Rt=_t;ct<Ct.length&&(ct=Ct.length);var Pt=new Array(Ct.length);for(rt=0;rt<Ct.length;++rt){var Ot=buildGroup$1(Ct[rt],ne);Rt<Ot.depth&&(Rt=Ot.depth),jt<Ot.height&&(jt=Ot.height),Pt[rt]=Ot}var Ft=te.rowGaps[xe],Lt=0;Ft&&(Lt=calculateSize$1(Ft,ne),Lt>0&&(Lt+=_t,Rt<Lt&&(Rt=Lt),Lt=0)),te.addJot&&(Rt+=yt),Pt.height=jt,Pt.depth=Rt,wt+=jt,Pt.pos=wt,wt+=Rt+Lt,ut[xe]=Pt,St(lt[xe+1])}var Bt=wt/2+ne.fontMetrics().axisHeight,Gt=te.cols||[],It=[],qt,Nt,Dt=[];if(te.tags&&te.tags.some(Gr=>Gr))for(xe=0;xe<it;++xe){var Tt=ut[xe],Mt=Tt.pos-Bt,$t=te.tags[xe],Ht=void 0;$t===!0?Ht=buildCommon.makeSpan(["eqn-num"],[],ne):$t===!1?Ht=buildCommon.makeSpan([],[],ne):Ht=buildCommon.makeSpan([],buildExpression$1($t,ne,!0),ne),Ht.depth=Tt.depth,Ht.height=Tt.height,Dt.push({type:"elem",elem:Ht,shift:Mt})}for(rt=0,Nt=0;rt<ct||Nt<Gt.length;++rt,++Nt){for(var Wt=Gt[Nt]||{},Vt=!0;Wt.type==="separator";){if(Vt||(qt=buildCommon.makeSpan(["arraycolsep"],[]),qt.style.width=makeEm(ne.fontMetrics().doubleRuleSep),It.push(qt)),Wt.separator==="|"||Wt.separator===":"){var Yt=Wt.separator==="|"?"solid":"dashed",Qt=buildCommon.makeSpan(["vertical-separator"],[],ne);Qt.style.height=makeEm(wt),Qt.style.borderRightWidth=makeEm(ht),Qt.style.borderRightStyle=Yt,Qt.style.margin="0 "+makeEm(-ht/2);var ar=wt-Bt;ar&&(Qt.style.verticalAlign=makeEm(-ar)),It.push(Qt)}else throw new ParseError("Invalid separator type: "+Wt.separator);Nt++,Wt=Gt[Nt]||{},Vt=!1}if(!(rt>=ct)){var Xt=void 0;(rt>0||te.hskipBeforeAndAfter)&&(Xt=utils.deflt(Wt.pregap,pt),Xt!==0&&(qt=buildCommon.makeSpan(["arraycolsep"],[]),qt.style.width=makeEm(Xt),It.push(qt)));var tr=[];for(xe=0;xe<it;++xe){var rr=ut[xe],ur=rr[rt];if(ur){var Jt=rr.pos-Bt;ur.depth=rr.depth,ur.height=rr.height,tr.push({type:"elem",elem:ur,shift:Jt})}}tr=buildCommon.makeVList({positionType:"individualShift",children:tr},ne),tr=buildCommon.makeSpan(["col-align-"+(Wt.align||"c")],[tr]),It.push(tr),(rt<ct-1||te.hskipBeforeAndAfter)&&(Xt=utils.deflt(Wt.postgap,pt),Xt!==0&&(qt=buildCommon.makeSpan(["arraycolsep"],[]),qt.style.width=makeEm(Xt),It.push(qt)))}}if(ut=buildCommon.makeSpan(["mtable"],It),dt.length>0){for(var Zt=buildCommon.makeLineSpan("hline",ne,ht),or=buildCommon.makeLineSpan("hdashline",ne,ht),dr=[{type:"elem",elem:ut,shift:0}];dt.length>0;){var Ar=dt.pop(),Nr=Ar.pos-Bt;Ar.isDashed?dr.push({type:"elem",elem:or,shift:Nr}):dr.push({type:"elem",elem:Zt,shift:Nr})}ut=buildCommon.makeVList({positionType:"individualShift",children:dr},ne)}if(Dt.length===0)return buildCommon.makeSpan(["mord"],[ut],ne);var Mr=buildCommon.makeVList({positionType:"individualShift",children:Dt},ne);return Mr=buildCommon.makeSpan(["tag"],[Mr],ne),buildCommon.makeFragment([ut,Mr])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function(te,ne){for(var xe=[],rt=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),it=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),lt=0;lt<te.body.length;lt++){for(var ct=te.body[lt],ut=[],dt=0;dt<ct.length;dt++)ut.push(new mathMLTree.MathNode("mtd",[buildGroup(ct[dt],ne)]));te.tags&&te.tags[lt]&&(ut.unshift(rt),ut.push(rt),te.leqno?ut.unshift(it):ut.push(it)),xe.push(new mathMLTree.MathNode("mtr",ut))}var ht=new mathMLTree.MathNode("mtable",xe),ft=te.arraystretch===.5?.1:.16+te.arraystretch-1+(te.addJot?.09:0);ht.setAttribute("rowspacing",makeEm(ft));var pt="",mt="";if(te.cols&&te.cols.length>0){var xt=te.cols,yt="",vt=!1,Et=0,_t=xt.length;xt[0].type==="separator"&&(pt+="top ",Et=1),xt[xt.length-1].type==="separator"&&(pt+="bottom ",_t-=1);for(var wt=Et;wt<_t;wt++)xt[wt].type==="align"?(mt+=alignMap[xt[wt].align],vt&&(yt+="none "),vt=!0):xt[wt].type==="separator"&&vt&&(yt+=xt[wt].separator==="|"?"solid ":"dashed ",vt=!1);ht.setAttribute("columnalign",mt.trim()),/[sd]/.test(yt)&&ht.setAttribute("columnlines",yt.trim())}if(te.colSeparationType==="align"){for(var St=te.cols||[],Ct="",jt=1;jt<St.length;jt++)Ct+=jt%2?"0em ":"1em ";ht.setAttribute("columnspacing",Ct.trim())}else te.colSeparationType==="alignat"||te.colSeparationType==="gather"?ht.setAttribute("columnspacing","0em"):te.colSeparationType==="small"?ht.setAttribute("columnspacing","0.2778em"):te.colSeparationType==="CD"?ht.setAttribute("columnspacing","0.5em"):ht.setAttribute("columnspacing","1em");var Rt="",Pt=te.hLinesBeforeRow;pt+=Pt[0].length>0?"left ":"",pt+=Pt[Pt.length-1].length>0?"right ":"";for(var Ot=1;Ot<Pt.length-1;Ot++)Rt+=Pt[Ot].length===0?"none ":Pt[Ot][0]?"dashed ":"solid ";return/[sd]/.test(Rt)&&ht.setAttribute("rowlines",Rt.trim()),pt!==""&&(ht=new mathMLTree.MathNode("menclose",[ht]),ht.setAttribute("notation",pt.trim())),te.arraystretch&&te.arraystretch<1&&(ht=new mathMLTree.MathNode("mstyle",[ht]),ht.setAttribute("scriptlevel","1")),ht},alignedHandler=function(te,ne){te.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(te);var xe=[],rt=te.envName.indexOf("at")>-1?"alignat":"align",it=te.envName==="split",lt=parseArray(te.parser,{cols:xe,addJot:!0,autoTag:it?void 0:getAutoTag(te.envName),emptySingleRow:!0,colSeparationType:rt,maxNumCols:it?2:void 0,leqno:te.parser.settings.leqno},"display"),ct,ut=0,dt={type:"ordgroup",mode:te.mode,body:[]};if(ne[0]&&ne[0].type==="ordgroup"){for(var ht="",ft=0;ft<ne[0].body.length;ft++){var pt=assertNodeType(ne[0].body[ft],"textord");ht+=pt.text}ct=Number(ht),ut=ct*2}var mt=!ut;lt.body.forEach(function(Et){for(var _t=1;_t<Et.length;_t+=2){var wt=assertNodeType(Et[_t],"styling"),St=assertNodeType(wt.body[0],"ordgroup");St.body.unshift(dt)}if(mt)ut<Et.length&&(ut=Et.length);else{var Ct=Et.length/2;if(ct<Ct)throw new ParseError("Too many math in a row: "+("expected "+ct+", but got "+Ct),Et[0])}});for(var xt=0;xt<ut;++xt){var yt="r",vt=0;xt%2===1?yt="l":xt>0&&mt&&(vt=1),xe[xt]={type:"align",align:yt,pregap:vt,postgap:0}}return lt.colSeparationType=mt?"align":"alignat",lt};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(ee,te){var ne=checkSymbolNodeType(te[0]),xe=ne?[te[0]]:assertNodeType(te[0],"ordgroup").body,rt=xe.map(function(lt){var ct=assertSymbolNodeType(lt),ut=ct.text;if("lcr".indexOf(ut)!==-1)return{type:"align",align:ut};if(ut==="|")return{type:"separator",separator:"|"};if(ut===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+ut,lt)}),it={cols:rt,hskipBeforeAndAfter:!0,maxNumCols:rt.length};return parseArray(ee.parser,it,dCellStyle(ee.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(ee){var te={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[ee.envName.replace("*","")],ne="c",xe={hskipBeforeAndAfter:!1,cols:[{type:"align",align:ne}]};if(ee.envName.charAt(ee.envName.length-1)==="*"){var rt=ee.parser;if(rt.consumeSpaces(),rt.fetch().text==="["){if(rt.consume(),rt.consumeSpaces(),ne=rt.fetch().text,"lcr".indexOf(ne)===-1)throw new ParseError("Expected l or c or r",rt.nextToken);rt.consume(),rt.consumeSpaces(),rt.expect("]"),rt.consume(),xe.cols=[{type:"align",align:ne}]}}var it=parseArray(ee.parser,xe,dCellStyle(ee.envName)),lt=Math.max(0,...it.body.map(ct=>ct.length));return it.cols=new Array(lt).fill({type:"align",align:ne}),te?{type:"leftright",mode:ee.mode,body:[it],left:te[0],right:te[1],rightColor:void 0}:it},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(ee){var te={arraystretch:.5},ne=parseArray(ee.parser,te,"script");return ne.colSeparationType="small",ne},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(ee,te){var ne=checkSymbolNodeType(te[0]),xe=ne?[te[0]]:assertNodeType(te[0],"ordgroup").body,rt=xe.map(function(lt){var ct=assertSymbolNodeType(lt),ut=ct.text;if("lc".indexOf(ut)!==-1)return{type:"align",align:ut};throw new ParseError("Unknown column alignment: "+ut,lt)});if(rt.length>1)throw new ParseError("{subarray} can contain only one column");var it={cols:rt,hskipBeforeAndAfter:!1,arraystretch:.5};if(it=parseArray(ee.parser,it,"script"),it.body.length>0&&it.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return it},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(ee){var te={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},ne=parseArray(ee.parser,te,dCellStyle(ee.envName));return{type:"leftright",mode:ee.mode,body:[ne],left:ee.envName.indexOf("r")>-1?".":"\\{",right:ee.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(ee){["gather","gather*"].includes(ee.envName)&&validateAmsEnvironmentContext(ee);var te={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(ee.envName),emptySingleRow:!0,leqno:ee.parser.settings.leqno};return parseArray(ee.parser,te,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(ee){validateAmsEnvironmentContext(ee);var te={autoTag:getAutoTag(ee.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:ee.parser.settings.leqno};return parseArray(ee.parser,te,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(ee){return validateAmsEnvironmentContext(ee),parseCD(ee.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(ee,te){throw new ParseError(ee.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(ee,te){var{parser:ne,funcName:xe}=ee,rt=te[0];if(rt.type!=="ordgroup")throw new ParseError("Invalid environment name",rt);for(var it="",lt=0;lt<rt.body.length;++lt)it+=assertNodeType(rt.body[lt],"textord").text;if(xe==="\\begin"){if(!environments.hasOwnProperty(it))throw new ParseError("No such environment: "+it,rt);var ct=environments[it],{args:ut,optArgs:dt}=ne.parseArguments("\\begin{"+it+"}",ct),ht={mode:ne.mode,envName:it,parser:ne},ft=ct.handler(ht,ut,dt);ne.expect("\\end",!1);var pt=ne.nextToken,mt=assertNodeType(ne.parseFunction(),"environment");if(mt.name!==it)throw new ParseError("Mismatch: \\begin{"+it+"} matched by \\end{"+mt.name+"}",pt);return ft}return{type:"environment",mode:ne.mode,name:it,nameGroup:rt}}});var htmlBuilder$5=(ee,te)=>{var ne=ee.font,xe=te.withFont(ne);return buildGroup$1(ee.body,xe)},mathmlBuilder$4=(ee,te)=>{var ne=ee.font,xe=te.withFont(ne);return buildGroup(ee.body,xe)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=normalizeArgument(te[0]),it=xe;return it in fontAliases&&(it=fontAliases[it]),{type:"font",mode:ne.mode,font:it.slice(1),body:rt}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(ee,te)=>{var{parser:ne}=ee,xe=te[0],rt=utils.isCharacterBox(xe);return{type:"mclass",mode:ne.mode,mclass:binrelClass(xe),body:[{type:"font",mode:ne.mode,font:"boldsymbol",body:xe}],isCharacterBox:rt}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(ee,te)=>{var{parser:ne,funcName:xe,breakOnTokenText:rt}=ee,{mode:it}=ne,lt=ne.parseExpression(!0,rt),ct="math"+xe.slice(1);return{type:"font",mode:it,font:ct,body:{type:"ordgroup",mode:ne.mode,body:lt}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(ee,te)=>{var ne=te;return ee==="display"?ne=ne.id>=Style$1.SCRIPT.id?ne.text():Style$1.DISPLAY:ee==="text"&&ne.size===Style$1.DISPLAY.size?ne=Style$1.TEXT:ee==="script"?ne=Style$1.SCRIPT:ee==="scriptscript"&&(ne=Style$1.SCRIPTSCRIPT),ne},htmlBuilder$4=(ee,te)=>{var ne=adjustStyle(ee.size,te.style),xe=ne.fracNum(),rt=ne.fracDen(),it;it=te.havingStyle(xe);var lt=buildGroup$1(ee.numer,it,te);if(ee.continued){var ct=8.5/te.fontMetrics().ptPerEm,ut=3.5/te.fontMetrics().ptPerEm;lt.height=lt.height<ct?ct:lt.height,lt.depth=lt.depth<ut?ut:lt.depth}it=te.havingStyle(rt);var dt=buildGroup$1(ee.denom,it,te),ht,ft,pt;ee.hasBarLine?(ee.barSize?(ft=calculateSize$1(ee.barSize,te),ht=buildCommon.makeLineSpan("frac-line",te,ft)):ht=buildCommon.makeLineSpan("frac-line",te),ft=ht.height,pt=ht.height):(ht=null,ft=0,pt=te.fontMetrics().defaultRuleThickness);var mt,xt,yt;ne.size===Style$1.DISPLAY.size||ee.size==="display"?(mt=te.fontMetrics().num1,ft>0?xt=3*pt:xt=7*pt,yt=te.fontMetrics().denom1):(ft>0?(mt=te.fontMetrics().num2,xt=pt):(mt=te.fontMetrics().num3,xt=3*pt),yt=te.fontMetrics().denom2);var vt;if(ht){var _t=te.fontMetrics().axisHeight;mt-lt.depth-(_t+.5*ft)<xt&&(mt+=xt-(mt-lt.depth-(_t+.5*ft))),_t-.5*ft-(dt.height-yt)<xt&&(yt+=xt-(_t-.5*ft-(dt.height-yt)));var wt=-(_t-.5*ft);vt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:dt,shift:yt},{type:"elem",elem:ht,shift:wt},{type:"elem",elem:lt,shift:-mt}]},te)}else{var Et=mt-lt.depth-(dt.height-yt);Et<xt&&(mt+=.5*(xt-Et),yt+=.5*(xt-Et)),vt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:dt,shift:yt},{type:"elem",elem:lt,shift:-mt}]},te)}it=te.havingStyle(ne),vt.height*=it.sizeMultiplier/te.sizeMultiplier,vt.depth*=it.sizeMultiplier/te.sizeMultiplier;var St;ne.size===Style$1.DISPLAY.size?St=te.fontMetrics().delim1:ne.size===Style$1.SCRIPTSCRIPT.size?St=te.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:St=te.fontMetrics().delim2;var Ct,jt;return ee.leftDelim==null?Ct=makeNullDelimiter(te,["mopen"]):Ct=delimiter$1.customSizedDelim(ee.leftDelim,St,!0,te.havingStyle(ne),ee.mode,["mopen"]),ee.continued?jt=buildCommon.makeSpan([]):ee.rightDelim==null?jt=makeNullDelimiter(te,["mclose"]):jt=delimiter$1.customSizedDelim(ee.rightDelim,St,!0,te.havingStyle(ne),ee.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(it.sizingClasses(te)),[Ct,buildCommon.makeSpan(["mfrac"],[vt]),jt],te)},mathmlBuilder$3=(ee,te)=>{var ne=new mathMLTree.MathNode("mfrac",[buildGroup(ee.numer,te),buildGroup(ee.denom,te)]);if(!ee.hasBarLine)ne.setAttribute("linethickness","0px");else if(ee.barSize){var xe=calculateSize$1(ee.barSize,te);ne.setAttribute("linethickness",makeEm(xe))}var rt=adjustStyle(ee.size,te.style);if(rt.size!==te.style.size){ne=new mathMLTree.MathNode("mstyle",[ne]);var it=rt.size===Style$1.DISPLAY.size?"true":"false";ne.setAttribute("displaystyle",it),ne.setAttribute("scriptlevel","0")}if(ee.leftDelim!=null||ee.rightDelim!=null){var lt=[];if(ee.leftDelim!=null){var ct=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(ee.leftDelim.replace("\\",""))]);ct.setAttribute("fence","true"),lt.push(ct)}if(lt.push(ne),ee.rightDelim!=null){var ut=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(ee.rightDelim.replace("\\",""))]);ut.setAttribute("fence","true"),lt.push(ut)}return makeRow(lt)}return ne};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=te[0],it=te[1],lt,ct=null,ut=null,dt="auto";switch(xe){case"\\dfrac":case"\\frac":case"\\tfrac":lt=!0;break;case"\\\\atopfrac":lt=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":lt=!1,ct="(",ut=")";break;case"\\\\bracefrac":lt=!1,ct="\\{",ut="\\}";break;case"\\\\brackfrac":lt=!1,ct="[",ut="]";break;default:throw new Error("Unrecognized genfrac command")}switch(xe){case"\\dfrac":case"\\dbinom":dt="display";break;case"\\tfrac":case"\\tbinom":dt="text";break}return{type:"genfrac",mode:ne.mode,continued:!1,numer:rt,denom:it,hasBarLine:lt,leftDelim:ct,rightDelim:ut,size:dt,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=te[0],it=te[1];return{type:"genfrac",mode:ne.mode,continued:!0,numer:rt,denom:it,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(ee){var{parser:te,funcName:ne,token:xe}=ee,rt;switch(ne){case"\\over":rt="\\frac";break;case"\\choose":rt="\\binom";break;case"\\atop":rt="\\\\atopfrac";break;case"\\brace":rt="\\\\bracefrac";break;case"\\brack":rt="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:te.mode,replaceWith:rt,token:xe}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function(te){var ne=null;return te.length>0&&(ne=te,ne=ne==="."?null:ne),ne};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(ee,te){var{parser:ne}=ee,xe=te[4],rt=te[5],it=normalizeArgument(te[0]),lt=it.type==="atom"&&it.family==="open"?delimFromValue(it.text):null,ct=normalizeArgument(te[1]),ut=ct.type==="atom"&&ct.family==="close"?delimFromValue(ct.text):null,dt=assertNodeType(te[2],"size"),ht,ft=null;dt.isBlank?ht=!0:(ft=dt.value,ht=ft.number>0);var pt="auto",mt=te[3];if(mt.type==="ordgroup"){if(mt.body.length>0){var xt=assertNodeType(mt.body[0],"textord");pt=stylArray[Number(xt.text)]}}else mt=assertNodeType(mt,"textord"),pt=stylArray[Number(mt.text)];return{type:"genfrac",mode:ne.mode,numer:xe,denom:rt,continued:!1,hasBarLine:ht,barSize:ft,leftDelim:lt,rightDelim:ut,size:pt}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(ee,te){var{parser:ne,funcName:xe,token:rt}=ee;return{type:"infix",mode:ne.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(te[0],"size").value,token:rt}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=te[0],it=assert(assertNodeType(te[1],"infix").size),lt=te[2],ct=it.number>0;return{type:"genfrac",mode:ne.mode,numer:rt,denom:lt,continued:!1,hasBarLine:ct,barSize:it,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(ee,te)=>{var ne=te.style,xe,rt;ee.type==="supsub"?(xe=ee.sup?buildGroup$1(ee.sup,te.havingStyle(ne.sup()),te):buildGroup$1(ee.sub,te.havingStyle(ne.sub()),te),rt=assertNodeType(ee.base,"horizBrace")):rt=assertNodeType(ee,"horizBrace");var it=buildGroup$1(rt.base,te.havingBaseStyle(Style$1.DISPLAY)),lt=stretchy.svgSpan(rt,te),ct;if(rt.isOver?(ct=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:it},{type:"kern",size:.1},{type:"elem",elem:lt}]},te),ct.children[0].children[0].children[1].classes.push("svg-align")):(ct=buildCommon.makeVList({positionType:"bottom",positionData:it.depth+.1+lt.height,children:[{type:"elem",elem:lt},{type:"kern",size:.1},{type:"elem",elem:it}]},te),ct.children[0].children[0].children[0].classes.push("svg-align")),xe){var ut=buildCommon.makeSpan(["mord",rt.isOver?"mover":"munder"],[ct],te);rt.isOver?ct=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ut},{type:"kern",size:.2},{type:"elem",elem:xe}]},te):ct=buildCommon.makeVList({positionType:"bottom",positionData:ut.depth+.2+xe.height+xe.depth,children:[{type:"elem",elem:xe},{type:"kern",size:.2},{type:"elem",elem:ut}]},te)}return buildCommon.makeSpan(["mord",rt.isOver?"mover":"munder"],[ct],te)},mathmlBuilder$2=(ee,te)=>{var ne=stretchy.mathMLnode(ee.label);return new mathMLTree.MathNode(ee.isOver?"mover":"munder",[buildGroup(ee.base,te),ne])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(ee,te){var{parser:ne,funcName:xe}=ee;return{type:"horizBrace",mode:ne.mode,label:xe,isOver:/^\\over/.test(xe),base:te[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(ee,te)=>{var{parser:ne}=ee,xe=te[1],rt=assertNodeType(te[0],"url").url;return ne.settings.isTrusted({command:"\\href",url:rt})?{type:"href",mode:ne.mode,href:rt,body:ordargument(xe)}:ne.formatUnsupportedCmd("\\href")},htmlBuilder:(ee,te)=>{var ne=buildExpression$1(ee.body,te,!1);return buildCommon.makeAnchor(ee.href,[],ne,te)},mathmlBuilder:(ee,te)=>{var ne=buildExpressionRow(ee.body,te);return ne instanceof MathNode||(ne=new MathNode("mrow",[ne])),ne.setAttribute("href",ee.href),ne}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(ee,te)=>{var{parser:ne}=ee,xe=assertNodeType(te[0],"url").url;if(!ne.settings.isTrusted({command:"\\url",url:xe}))return ne.formatUnsupportedCmd("\\url");for(var rt=[],it=0;it<xe.length;it++){var lt=xe[it];lt==="~"&&(lt="\\textasciitilde"),rt.push({type:"textord",mode:"text",text:lt})}var ct={type:"text",mode:ne.mode,font:"\\texttt",body:rt};return{type:"href",mode:ne.mode,href:xe,body:ordargument(ct)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(ee,te){var{parser:ne}=ee;return{type:"hbox",mode:ne.mode,body:ordargument(te[0])}},htmlBuilder(ee,te){var ne=buildExpression$1(ee.body,te,!1);return buildCommon.makeFragment(ne)},mathmlBuilder(ee,te){return new mathMLTree.MathNode("mrow",buildExpression(ee.body,te))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(ee,te)=>{var{parser:ne,funcName:xe,token:rt}=ee,it=assertNodeType(te[0],"raw").string,lt=te[1];ne.settings.strict&&ne.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var ct,ut={};switch(xe){case"\\htmlClass":ut.class=it,ct={command:"\\htmlClass",class:it};break;case"\\htmlId":ut.id=it,ct={command:"\\htmlId",id:it};break;case"\\htmlStyle":ut.style=it,ct={command:"\\htmlStyle",style:it};break;case"\\htmlData":{for(var dt=it.split(","),ht=0;ht<dt.length;ht++){var ft=dt[ht],pt=ft.indexOf("=");if(pt<0)throw new ParseError("\\htmlData key/value '"+ft+"' missing equals sign");var mt=ft.slice(0,pt),xt=ft.slice(pt+1);ut["data-"+mt.trim()]=xt}ct={command:"\\htmlData",attributes:ut};break}default:throw new Error("Unrecognized html command")}return ne.settings.isTrusted(ct)?{type:"html",mode:ne.mode,attributes:ut,body:ordargument(lt)}:ne.formatUnsupportedCmd(xe)},htmlBuilder:(ee,te)=>{var ne=buildExpression$1(ee.body,te,!1),xe=["enclosing"];ee.attributes.class&&xe.push(...ee.attributes.class.trim().split(/\s+/));var rt=buildCommon.makeSpan(xe,ne,te);for(var it in ee.attributes)it!=="class"&&ee.attributes.hasOwnProperty(it)&&rt.setAttribute(it,ee.attributes[it]);return rt},mathmlBuilder:(ee,te)=>buildExpressionRow(ee.body,te)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(ee,te)=>{var{parser:ne}=ee;return{type:"htmlmathml",mode:ne.mode,html:ordargument(te[0]),mathml:ordargument(te[1])}},htmlBuilder:(ee,te)=>{var ne=buildExpression$1(ee.html,te,!1);return buildCommon.makeFragment(ne)},mathmlBuilder:(ee,te)=>buildExpressionRow(ee.mathml,te)});var sizeData=function(te){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(te))return{number:+te,unit:"bp"};var ne=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(te);if(!ne)throw new ParseError("Invalid size: '"+te+"' in \\includegraphics");var xe={number:+(ne[1]+ne[2]),unit:ne[3]};if(!validUnit(xe))throw new ParseError("Invalid unit: '"+xe.unit+"' in \\includegraphics.");return xe};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(ee,te,ne)=>{var{parser:xe}=ee,rt={number:0,unit:"em"},it={number:.9,unit:"em"},lt={number:0,unit:"em"},ct="";if(ne[0])for(var ut=assertNodeType(ne[0],"raw").string,dt=ut.split(","),ht=0;ht<dt.length;ht++){var ft=dt[ht].split("=");if(ft.length===2){var pt=ft[1].trim();switch(ft[0].trim()){case"alt":ct=pt;break;case"width":rt=sizeData(pt);break;case"height":it=sizeData(pt);break;case"totalheight":lt=sizeData(pt);break;default:throw new ParseError("Invalid key: '"+ft[0]+"' in \\includegraphics.")}}}var mt=assertNodeType(te[0],"url").url;return ct===""&&(ct=mt,ct=ct.replace(/^.*[\\/]/,""),ct=ct.substring(0,ct.lastIndexOf("."))),xe.settings.isTrusted({command:"\\includegraphics",url:mt})?{type:"includegraphics",mode:xe.mode,alt:ct,width:rt,height:it,totalheight:lt,src:mt}:xe.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(ee,te)=>{var ne=calculateSize$1(ee.height,te),xe=0;ee.totalheight.number>0&&(xe=calculateSize$1(ee.totalheight,te)-ne);var rt=0;ee.width.number>0&&(rt=calculateSize$1(ee.width,te));var it={height:makeEm(ne+xe)};rt>0&&(it.width=makeEm(rt)),xe>0&&(it.verticalAlign=makeEm(-xe));var lt=new Img(ee.src,ee.alt,it);return lt.height=ne,lt.depth=xe,lt},mathmlBuilder:(ee,te)=>{var ne=new mathMLTree.MathNode("mglyph",[]);ne.setAttribute("alt",ee.alt);var xe=calculateSize$1(ee.height,te),rt=0;if(ee.totalheight.number>0&&(rt=calculateSize$1(ee.totalheight,te)-xe,ne.setAttribute("valign",makeEm(-rt))),ne.setAttribute("height",makeEm(xe+rt)),ee.width.number>0){var it=calculateSize$1(ee.width,te);ne.setAttribute("width",makeEm(it))}return ne.setAttribute("src",ee.src),ne}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(ee,te){var{parser:ne,funcName:xe}=ee,rt=assertNodeType(te[0],"size");if(ne.settings.strict){var it=xe[1]==="m",lt=rt.value.unit==="mu";it?(lt||ne.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+xe+" supports only mu units, "+("not "+rt.value.unit+" units")),ne.mode!=="math"&&ne.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+xe+" works only in math mode")):lt&&ne.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+xe+" doesn't support mu units")}return{type:"kern",mode:ne.mode,dimension:rt.value}},htmlBuilder(ee,te){return buildCommon.makeGlue(ee.dimension,te)},mathmlBuilder(ee,te){var ne=calculateSize$1(ee.dimension,te);return new mathMLTree.SpaceNode(ne)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=te[0];return{type:"lap",mode:ne.mode,alignment:xe.slice(5),body:rt}},htmlBuilder:(ee,te)=>{var ne;ee.alignment==="clap"?(ne=buildCommon.makeSpan([],[buildGroup$1(ee.body,te)]),ne=buildCommon.makeSpan(["inner"],[ne],te)):ne=buildCommon.makeSpan(["inner"],[buildGroup$1(ee.body,te)]);var xe=buildCommon.makeSpan(["fix"],[]),rt=buildCommon.makeSpan([ee.alignment],[ne,xe],te),it=buildCommon.makeSpan(["strut"]);return it.style.height=makeEm(rt.height+rt.depth),rt.depth&&(it.style.verticalAlign=makeEm(-rt.depth)),rt.children.unshift(it),rt=buildCommon.makeSpan(["thinbox"],[rt],te),buildCommon.makeSpan(["mord","vbox"],[rt],te)},mathmlBuilder:(ee,te)=>{var ne=new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,te)]);if(ee.alignment!=="rlap"){var xe=ee.alignment==="llap"?"-1":"-0.5";ne.setAttribute("lspace",xe+"width")}return ne.setAttribute("width","0px"),ne}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(ee,te){var{funcName:ne,parser:xe}=ee,rt=xe.mode;xe.switchMode("math");var it=ne==="\\("?"\\)":"$",lt=xe.parseExpression(!1,it);return xe.expect(it),xe.switchMode(rt),{type:"styling",mode:xe.mode,style:"text",body:lt}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(ee,te){throw new ParseError("Mismatched "+ee.funcName)}});var chooseMathStyle=(ee,te)=>{switch(te.style.size){case Style$1.DISPLAY.size:return ee.display;case Style$1.TEXT.size:return ee.text;case Style$1.SCRIPT.size:return ee.script;case Style$1.SCRIPTSCRIPT.size:return ee.scriptscript;default:return ee.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(ee,te)=>{var{parser:ne}=ee;return{type:"mathchoice",mode:ne.mode,display:ordargument(te[0]),text:ordargument(te[1]),script:ordargument(te[2]),scriptscript:ordargument(te[3])}},htmlBuilder:(ee,te)=>{var ne=chooseMathStyle(ee,te),xe=buildExpression$1(ne,te,!1);return buildCommon.makeFragment(xe)},mathmlBuilder:(ee,te)=>{var ne=chooseMathStyle(ee,te);return buildExpressionRow(ne,te)}});var assembleSupSub=(ee,te,ne,xe,rt,it,lt)=>{ee=buildCommon.makeSpan([],[ee]);var ct=ne&&utils.isCharacterBox(ne),ut,dt;if(te){var ht=buildGroup$1(te,xe.havingStyle(rt.sup()),xe);dt={elem:ht,kern:Math.max(xe.fontMetrics().bigOpSpacing1,xe.fontMetrics().bigOpSpacing3-ht.depth)}}if(ne){var ft=buildGroup$1(ne,xe.havingStyle(rt.sub()),xe);ut={elem:ft,kern:Math.max(xe.fontMetrics().bigOpSpacing2,xe.fontMetrics().bigOpSpacing4-ft.height)}}var pt;if(dt&&ut){var mt=xe.fontMetrics().bigOpSpacing5+ut.elem.height+ut.elem.depth+ut.kern+ee.depth+lt;pt=buildCommon.makeVList({positionType:"bottom",positionData:mt,children:[{type:"kern",size:xe.fontMetrics().bigOpSpacing5},{type:"elem",elem:ut.elem,marginLeft:makeEm(-it)},{type:"kern",size:ut.kern},{type:"elem",elem:ee},{type:"kern",size:dt.kern},{type:"elem",elem:dt.elem,marginLeft:makeEm(it)},{type:"kern",size:xe.fontMetrics().bigOpSpacing5}]},xe)}else if(ut){var xt=ee.height-lt;pt=buildCommon.makeVList({positionType:"top",positionData:xt,children:[{type:"kern",size:xe.fontMetrics().bigOpSpacing5},{type:"elem",elem:ut.elem,marginLeft:makeEm(-it)},{type:"kern",size:ut.kern},{type:"elem",elem:ee}]},xe)}else if(dt){var yt=ee.depth+lt;pt=buildCommon.makeVList({positionType:"bottom",positionData:yt,children:[{type:"elem",elem:ee},{type:"kern",size:dt.kern},{type:"elem",elem:dt.elem,marginLeft:makeEm(it)},{type:"kern",size:xe.fontMetrics().bigOpSpacing5}]},xe)}else return ee;var vt=[pt];if(ut&&it!==0&&!ct){var Et=buildCommon.makeSpan(["mspace"],[],xe);Et.style.marginRight=makeEm(it),vt.unshift(Et)}return buildCommon.makeSpan(["mop","op-limits"],vt,xe)},noSuccessor=["\\smallint"],htmlBuilder$2=(ee,te)=>{var ne,xe,rt=!1,it;ee.type==="supsub"?(ne=ee.sup,xe=ee.sub,it=assertNodeType(ee.base,"op"),rt=!0):it=assertNodeType(ee,"op");var lt=te.style,ct=!1;lt.size===Style$1.DISPLAY.size&&it.symbol&&!noSuccessor.includes(it.name)&&(ct=!0);var ut;if(it.symbol){var dt=ct?"Size2-Regular":"Size1-Regular",ht="";if((it.name==="\\oiint"||it.name==="\\oiiint")&&(ht=it.name.slice(1),it.name=ht==="oiint"?"\\iint":"\\iiint"),ut=buildCommon.makeSymbol(it.name,dt,"math",te,["mop","op-symbol",ct?"large-op":"small-op"]),ht.length>0){var ft=ut.italic,pt=buildCommon.staticSvg(ht+"Size"+(ct?"2":"1"),te);ut=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ut,shift:0},{type:"elem",elem:pt,shift:ct?.08:0}]},te),it.name="\\"+ht,ut.classes.unshift("mop"),ut.italic=ft}}else if(it.body){var mt=buildExpression$1(it.body,te,!0);mt.length===1&&mt[0]instanceof SymbolNode?(ut=mt[0],ut.classes[0]="mop"):ut=buildCommon.makeSpan(["mop"],mt,te)}else{for(var xt=[],yt=1;yt<it.name.length;yt++)xt.push(buildCommon.mathsym(it.name[yt],it.mode,te));ut=buildCommon.makeSpan(["mop"],xt,te)}var vt=0,Et=0;return(ut instanceof SymbolNode||it.name==="\\oiint"||it.name==="\\oiiint")&&!it.suppressBaseShift&&(vt=(ut.height-ut.depth)/2-te.fontMetrics().axisHeight,Et=ut.italic),rt?assembleSupSub(ut,ne,xe,te,lt,Et,vt):(vt&&(ut.style.position="relative",ut.style.top=makeEm(vt)),ut)},mathmlBuilder$1=(ee,te)=>{var ne;if(ee.symbol)ne=new MathNode("mo",[makeText(ee.name,ee.mode)]),noSuccessor.includes(ee.name)&&ne.setAttribute("largeop","false");else if(ee.body)ne=new MathNode("mo",buildExpression(ee.body,te));else{ne=new MathNode("mi",[new TextNode(ee.name.slice(1))]);var xe=new MathNode("mo",[makeText("","text")]);ee.parentIsSupSub?ne=new MathNode("mrow",[ne,xe]):ne=newDocumentFragment([ne,xe])}return ne},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=xe;return rt.length===1&&(rt=singleCharBigOps[rt]),{type:"op",mode:ne.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:rt}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(ee,te)=>{var{parser:ne}=ee,xe=te[0];return{type:"op",mode:ne.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(xe)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(ee){var{parser:te,funcName:ne}=ee;return{type:"op",mode:te.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:ne}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(ee){var{parser:te,funcName:ne}=ee;return{type:"op",mode:te.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:ne}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(ee){var{parser:te,funcName:ne}=ee,xe=ne;return xe.length===1&&(xe=singleCharIntegrals[xe]),{type:"op",mode:te.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:xe}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(ee,te)=>{var ne,xe,rt=!1,it;ee.type==="supsub"?(ne=ee.sup,xe=ee.sub,it=assertNodeType(ee.base,"operatorname"),rt=!0):it=assertNodeType(ee,"operatorname");var lt;if(it.body.length>0){for(var ct=it.body.map(ft=>{var pt=ft.text;return typeof pt=="string"?{type:"textord",mode:ft.mode,text:pt}:ft}),ut=buildExpression$1(ct,te.withFont("mathrm"),!0),dt=0;dt<ut.length;dt++){var ht=ut[dt];ht instanceof SymbolNode&&(ht.text=ht.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}lt=buildCommon.makeSpan(["mop"],ut,te)}else lt=buildCommon.makeSpan(["mop"],[],te);return rt?assembleSupSub(lt,ne,xe,te,te.style,0,0):lt},mathmlBuilder=(ee,te)=>{for(var ne=buildExpression(ee.body,te.withFont("mathrm")),xe=!0,rt=0;rt<ne.length;rt++){var it=ne[rt];if(!(it instanceof mathMLTree.SpaceNode))if(it instanceof mathMLTree.MathNode)switch(it.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var lt=it.children[0];it.children.length===1&&lt instanceof mathMLTree.TextNode?lt.text=lt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):xe=!1;break}default:xe=!1}else xe=!1}if(xe){var ct=ne.map(ht=>ht.toText()).join("");ne=[new mathMLTree.TextNode(ct)]}var ut=new mathMLTree.MathNode("mi",ne);ut.setAttribute("mathvariant","normal");var dt=new mathMLTree.MathNode("mo",[makeText("","text")]);return ee.parentIsSupSub?new mathMLTree.MathNode("mrow",[ut,dt]):mathMLTree.newDocumentFragment([ut,dt])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(ee,te)=>{var{parser:ne,funcName:xe}=ee,rt=te[0];return{type:"operatorname",mode:ne.mode,body:ordargument(rt),alwaysHandleSupSub:xe==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(ee,te){return ee.semisimple?buildCommon.makeFragment(buildExpression$1(ee.body,te,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(ee.body,te,!0),te)},mathmlBuilder(ee,te){return buildExpressionRow(ee.body,te,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(ee,te){var{parser:ne}=ee,xe=te[0];return{type:"overline",mode:ne.mode,body:xe}},htmlBuilder(ee,te){var ne=buildGroup$1(ee.body,te.havingCrampedStyle()),xe=buildCommon.makeLineSpan("overline-line",te),rt=te.fontMetrics().defaultRuleThickness,it=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ne},{type:"kern",size:3*rt},{type:"elem",elem:xe},{type:"kern",size:rt}]},te);return buildCommon.makeSpan(["mord","overline"],[it],te)},mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);ne.setAttribute("stretchy","true");var xe=new mathMLTree.MathNode("mover",[buildGroup(ee.body,te),ne]);return xe.setAttribute("accent","true"),xe}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(ee,te)=>{var{parser:ne}=ee,xe=te[0];return{type:"phantom",mode:ne.mode,body:ordargument(xe)}},htmlBuilder:(ee,te)=>{var ne=buildExpression$1(ee.body,te.withPhantom(),!1);return buildCommon.makeFragment(ne)},mathmlBuilder:(ee,te)=>{var ne=buildExpression(ee.body,te);return new mathMLTree.MathNode("mphantom",ne)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(ee,te)=>{var{parser:ne}=ee,xe=te[0];return{type:"hphantom",mode:ne.mode,body:xe}},htmlBuilder:(ee,te)=>{var ne=buildCommon.makeSpan([],[buildGroup$1(ee.body,te.withPhantom())]);if(ne.height=0,ne.depth=0,ne.children)for(var xe=0;xe<ne.children.length;xe++)ne.children[xe].height=0,ne.children[xe].depth=0;return ne=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ne}]},te),buildCommon.makeSpan(["mord"],[ne],te)},mathmlBuilder:(ee,te)=>{var ne=buildExpression(ordargument(ee.body),te),xe=new mathMLTree.MathNode("mphantom",ne),rt=new mathMLTree.MathNode("mpadded",[xe]);return rt.setAttribute("height","0px"),rt.setAttribute("depth","0px"),rt}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(ee,te)=>{var{parser:ne}=ee,xe=te[0];return{type:"vphantom",mode:ne.mode,body:xe}},htmlBuilder:(ee,te)=>{var ne=buildCommon.makeSpan(["inner"],[buildGroup$1(ee.body,te.withPhantom())]),xe=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[ne,xe],te)},mathmlBuilder:(ee,te)=>{var ne=buildExpression(ordargument(ee.body),te),xe=new mathMLTree.MathNode("mphantom",ne),rt=new mathMLTree.MathNode("mpadded",[xe]);return rt.setAttribute("width","0px"),rt}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(ee,te){var{parser:ne}=ee,xe=assertNodeType(te[0],"size").value,rt=te[1];return{type:"raisebox",mode:ne.mode,dy:xe,body:rt}},htmlBuilder(ee,te){var ne=buildGroup$1(ee.body,te),xe=calculateSize$1(ee.dy,te);return buildCommon.makeVList({positionType:"shift",positionData:-xe,children:[{type:"elem",elem:ne}]},te)},mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,te)]),xe=ee.dy.number+ee.dy.unit;return ne.setAttribute("voffset",xe),ne}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(ee){var{parser:te}=ee;return{type:"internal",mode:te.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(ee,te,ne){var{parser:xe}=ee,rt=ne[0],it=assertNodeType(te[0],"size"),lt=assertNodeType(te[1],"size");return{type:"rule",mode:xe.mode,shift:rt&&assertNodeType(rt,"size").value,width:it.value,height:lt.value}},htmlBuilder(ee,te){var ne=buildCommon.makeSpan(["mord","rule"],[],te),xe=calculateSize$1(ee.width,te),rt=calculateSize$1(ee.height,te),it=ee.shift?calculateSize$1(ee.shift,te):0;return ne.style.borderRightWidth=makeEm(xe),ne.style.borderTopWidth=makeEm(rt),ne.style.bottom=makeEm(it),ne.width=xe,ne.height=rt+it,ne.depth=-it,ne.maxFontSize=rt*1.125*te.sizeMultiplier,ne},mathmlBuilder(ee,te){var ne=calculateSize$1(ee.width,te),xe=calculateSize$1(ee.height,te),rt=ee.shift?calculateSize$1(ee.shift,te):0,it=te.color&&te.getColor()||"black",lt=new mathMLTree.MathNode("mspace");lt.setAttribute("mathbackground",it),lt.setAttribute("width",makeEm(ne)),lt.setAttribute("height",makeEm(xe));var ct=new mathMLTree.MathNode("mpadded",[lt]);return rt>=0?ct.setAttribute("height",makeEm(rt)):(ct.setAttribute("height",makeEm(rt)),ct.setAttribute("depth",makeEm(-rt))),ct.setAttribute("voffset",makeEm(rt)),ct}});function sizingGroup(ee,te,ne){for(var xe=buildExpression$1(ee,te,!1),rt=te.sizeMultiplier/ne.sizeMultiplier,it=0;it<xe.length;it++){var lt=xe[it].classes.indexOf("sizing");lt<0?Array.prototype.push.apply(xe[it].classes,te.sizingClasses(ne)):xe[it].classes[lt+1]==="reset-size"+te.size&&(xe[it].classes[lt+1]="reset-size"+ne.size),xe[it].height*=rt,xe[it].depth*=rt}return buildCommon.makeFragment(xe)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(ee,te)=>{var ne=te.havingSize(ee.size);return sizingGroup(ee.body,ne,te)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(ee,te)=>{var{breakOnTokenText:ne,funcName:xe,parser:rt}=ee,it=rt.parseExpression(!1,ne);return{type:"sizing",mode:rt.mode,size:sizeFuncs.indexOf(xe)+1,body:it}},htmlBuilder,mathmlBuilder:(ee,te)=>{var ne=te.havingSize(ee.size),xe=buildExpression(ee.body,ne),rt=new mathMLTree.MathNode("mstyle",xe);return rt.setAttribute("mathsize",makeEm(ne.sizeMultiplier)),rt}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(ee,te,ne)=>{var{parser:xe}=ee,rt=!1,it=!1,lt=ne[0]&&assertNodeType(ne[0],"ordgroup");if(lt)for(var ct="",ut=0;ut<lt.body.length;++ut){var dt=lt.body[ut];if(ct=dt.text,ct==="t")rt=!0;else if(ct==="b")it=!0;else{rt=!1,it=!1;break}}else rt=!0,it=!0;var ht=te[0];return{type:"smash",mode:xe.mode,body:ht,smashHeight:rt,smashDepth:it}},htmlBuilder:(ee,te)=>{var ne=buildCommon.makeSpan([],[buildGroup$1(ee.body,te)]);if(!ee.smashHeight&&!ee.smashDepth)return ne;if(ee.smashHeight&&(ne.height=0,ne.children))for(var xe=0;xe<ne.children.length;xe++)ne.children[xe].height=0;if(ee.smashDepth&&(ne.depth=0,ne.children))for(var rt=0;rt<ne.children.length;rt++)ne.children[rt].depth=0;var it=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ne}]},te);return buildCommon.makeSpan(["mord"],[it],te)},mathmlBuilder:(ee,te)=>{var ne=new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,te)]);return ee.smashHeight&&ne.setAttribute("height","0px"),ee.smashDepth&&ne.setAttribute("depth","0px"),ne}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(ee,te,ne){var{parser:xe}=ee,rt=ne[0],it=te[0];return{type:"sqrt",mode:xe.mode,body:it,index:rt}},htmlBuilder(ee,te){var ne=buildGroup$1(ee.body,te.havingCrampedStyle());ne.height===0&&(ne.height=te.fontMetrics().xHeight),ne=buildCommon.wrapFragment(ne,te);var xe=te.fontMetrics(),rt=xe.defaultRuleThickness,it=rt;te.style.id<Style$1.TEXT.id&&(it=te.fontMetrics().xHeight);var lt=rt+it/4,ct=ne.height+ne.depth+lt+rt,{span:ut,ruleWidth:dt,advanceWidth:ht}=delimiter$1.sqrtImage(ct,te),ft=ut.height-dt;ft>ne.height+ne.depth+lt&&(lt=(lt+ft-ne.height-ne.depth)/2);var pt=ut.height-ne.height-lt-dt;ne.style.paddingLeft=makeEm(ht);var mt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ne,wrapperClasses:["svg-align"]},{type:"kern",size:-(ne.height+pt)},{type:"elem",elem:ut},{type:"kern",size:dt}]},te);if(ee.index){var xt=te.havingStyle(Style$1.SCRIPTSCRIPT),yt=buildGroup$1(ee.index,xt,te),vt=.6*(mt.height-mt.depth),Et=buildCommon.makeVList({positionType:"shift",positionData:-vt,children:[{type:"elem",elem:yt}]},te),_t=buildCommon.makeSpan(["root"],[Et]);return buildCommon.makeSpan(["mord","sqrt"],[_t,mt],te)}else return buildCommon.makeSpan(["mord","sqrt"],[mt],te)},mathmlBuilder(ee,te){var{body:ne,index:xe}=ee;return xe?new mathMLTree.MathNode("mroot",[buildGroup(ne,te),buildGroup(xe,te)]):new mathMLTree.MathNode("msqrt",[buildGroup(ne,te)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee,te){var{breakOnTokenText:ne,funcName:xe,parser:rt}=ee,it=rt.parseExpression(!0,ne),lt=xe.slice(1,xe.length-5);return{type:"styling",mode:rt.mode,style:lt,body:it}},htmlBuilder(ee,te){var ne=styleMap[ee.style],xe=te.havingStyle(ne).withFont("");return sizingGroup(ee.body,xe,te)},mathmlBuilder(ee,te){var ne=styleMap[ee.style],xe=te.havingStyle(ne),rt=buildExpression(ee.body,xe),it=new mathMLTree.MathNode("mstyle",rt),lt={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},ct=lt[ee.style];return it.setAttribute("scriptlevel",ct[0]),it.setAttribute("displaystyle",ct[1]),it}});var htmlBuilderDelegate=function(te,ne){var xe=te.base;if(xe)if(xe.type==="op"){var rt=xe.limits&&(ne.style.size===Style$1.DISPLAY.size||xe.alwaysHandleSupSub);return rt?htmlBuilder$2:null}else if(xe.type==="operatorname"){var it=xe.alwaysHandleSupSub&&(ne.style.size===Style$1.DISPLAY.size||xe.limits);return it?htmlBuilder$1:null}else{if(xe.type==="accent")return utils.isCharacterBox(xe.base)?htmlBuilder$a:null;if(xe.type==="horizBrace"){var lt=!te.sub;return lt===xe.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(ee,te){var ne=htmlBuilderDelegate(ee,te);if(ne)return ne(ee,te);var{base:xe,sup:rt,sub:it}=ee,lt=buildGroup$1(xe,te),ct,ut,dt=te.fontMetrics(),ht=0,ft=0,pt=xe&&utils.isCharacterBox(xe);if(rt){var mt=te.havingStyle(te.style.sup());ct=buildGroup$1(rt,mt,te),pt||(ht=lt.height-mt.fontMetrics().supDrop*mt.sizeMultiplier/te.sizeMultiplier)}if(it){var xt=te.havingStyle(te.style.sub());ut=buildGroup$1(it,xt,te),pt||(ft=lt.depth+xt.fontMetrics().subDrop*xt.sizeMultiplier/te.sizeMultiplier)}var yt;te.style===Style$1.DISPLAY?yt=dt.sup1:te.style.cramped?yt=dt.sup3:yt=dt.sup2;var vt=te.sizeMultiplier,Et=makeEm(.5/dt.ptPerEm/vt),_t=null;if(ut){var wt=ee.base&&ee.base.type==="op"&&ee.base.name&&(ee.base.name==="\\oiint"||ee.base.name==="\\oiiint");(lt instanceof SymbolNode||wt)&&(_t=makeEm(-lt.italic))}var St;if(ct&&ut){ht=Math.max(ht,yt,ct.depth+.25*dt.xHeight),ft=Math.max(ft,dt.sub2);var Ct=dt.defaultRuleThickness,jt=4*Ct;if(ht-ct.depth-(ut.height-ft)<jt){ft=jt-(ht-ct.depth)+ut.height;var Rt=.8*dt.xHeight-(ht-ct.depth);Rt>0&&(ht+=Rt,ft-=Rt)}var Pt=[{type:"elem",elem:ut,shift:ft,marginRight:Et,marginLeft:_t},{type:"elem",elem:ct,shift:-ht,marginRight:Et}];St=buildCommon.makeVList({positionType:"individualShift",children:Pt},te)}else if(ut){ft=Math.max(ft,dt.sub1,ut.height-.8*dt.xHeight);var Ot=[{type:"elem",elem:ut,marginLeft:_t,marginRight:Et}];St=buildCommon.makeVList({positionType:"shift",positionData:ft,children:Ot},te)}else if(ct)ht=Math.max(ht,yt,ct.depth+.25*dt.xHeight),St=buildCommon.makeVList({positionType:"shift",positionData:-ht,children:[{type:"elem",elem:ct,marginRight:Et}]},te);else throw new Error("supsub must have either sup or sub.");var Ft=getTypeOfDomTree(lt,"right")||"mord";return buildCommon.makeSpan([Ft],[lt,buildCommon.makeSpan(["msupsub"],[St])],te)},mathmlBuilder(ee,te){var ne=!1,xe,rt;ee.base&&ee.base.type==="horizBrace"&&(rt=!!ee.sup,rt===ee.base.isOver&&(ne=!0,xe=ee.base.isOver)),ee.base&&(ee.base.type==="op"||ee.base.type==="operatorname")&&(ee.base.parentIsSupSub=!0);var it=[buildGroup(ee.base,te)];ee.sub&&it.push(buildGroup(ee.sub,te)),ee.sup&&it.push(buildGroup(ee.sup,te));var lt;if(ne)lt=xe?"mover":"munder";else if(ee.sub)if(ee.sup){var dt=ee.base;dt&&dt.type==="op"&&dt.limits&&te.style===Style$1.DISPLAY||dt&&dt.type==="operatorname"&&dt.alwaysHandleSupSub&&(te.style===Style$1.DISPLAY||dt.limits)?lt="munderover":lt="msubsup"}else{var ut=ee.base;ut&&ut.type==="op"&&ut.limits&&(te.style===Style$1.DISPLAY||ut.alwaysHandleSupSub)||ut&&ut.type==="operatorname"&&ut.alwaysHandleSupSub&&(ut.limits||te.style===Style$1.DISPLAY)?lt="munder":lt="msub"}else{var ct=ee.base;ct&&ct.type==="op"&&ct.limits&&(te.style===Style$1.DISPLAY||ct.alwaysHandleSupSub)||ct&&ct.type==="operatorname"&&ct.alwaysHandleSupSub&&(ct.limits||te.style===Style$1.DISPLAY)?lt="mover":lt="msup"}return new mathMLTree.MathNode(lt,it)}});defineFunctionBuilders({type:"atom",htmlBuilder(ee,te){return buildCommon.mathsym(ee.text,ee.mode,te,["m"+ee.family])},mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mo",[makeText(ee.text,ee.mode)]);if(ee.family==="bin"){var xe=getVariant(ee,te);xe==="bold-italic"&&ne.setAttribute("mathvariant",xe)}else ee.family==="punct"?ne.setAttribute("separator","true"):(ee.family==="open"||ee.family==="close")&&ne.setAttribute("stretchy","false");return ne}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(ee,te){return buildCommon.makeOrd(ee,te,"mathord")},mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mi",[makeText(ee.text,ee.mode,te)]),xe=getVariant(ee,te)||"italic";return xe!==defaultVariant[ne.type]&&ne.setAttribute("mathvariant",xe),ne}});defineFunctionBuilders({type:"textord",htmlBuilder(ee,te){return buildCommon.makeOrd(ee,te,"textord")},mathmlBuilder(ee,te){var ne=makeText(ee.text,ee.mode,te),xe=getVariant(ee,te)||"normal",rt;return ee.mode==="text"?rt=new mathMLTree.MathNode("mtext",[ne]):/[0-9]/.test(ee.text)?rt=new mathMLTree.MathNode("mn",[ne]):ee.text==="\\prime"?rt=new mathMLTree.MathNode("mo",[ne]):rt=new mathMLTree.MathNode("mi",[ne]),xe!==defaultVariant[rt.type]&&rt.setAttribute("mathvariant",xe),rt}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(ee,te){if(regularSpace.hasOwnProperty(ee.text)){var ne=regularSpace[ee.text].className||"";if(ee.mode==="text"){var xe=buildCommon.makeOrd(ee,te,"textord");return xe.classes.push(ne),xe}else return buildCommon.makeSpan(["mspace",ne],[buildCommon.mathsym(ee.text,ee.mode,te)],te)}else{if(cssSpace.hasOwnProperty(ee.text))return buildCommon.makeSpan(["mspace",cssSpace[ee.text]],[],te);throw new ParseError('Unknown type of space "'+ee.text+'"')}},mathmlBuilder(ee,te){var ne;if(regularSpace.hasOwnProperty(ee.text))ne=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(ee.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+ee.text+'"')}return ne}});var pad=()=>{var ee=new mathMLTree.MathNode("mtd",[]);return ee.setAttribute("width","50%"),ee};defineFunctionBuilders({type:"tag",mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(ee.body,te)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(ee.tag,te)])])]);return ne.setAttribute("width","100%"),ne}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(ee,te)=>{var ne=ee.font;if(ne){if(textFontFamilies[ne])return te.withTextFontFamily(textFontFamilies[ne]);if(textFontWeights[ne])return te.withTextFontWeight(textFontWeights[ne]);if(ne==="\\emph")return te.fontShape==="textit"?te.withTextFontShape("textup"):te.withTextFontShape("textit")}else return te;return te.withTextFontShape(textFontShapes[ne])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(ee,te){var{parser:ne,funcName:xe}=ee,rt=te[0];return{type:"text",mode:ne.mode,body:ordargument(rt),font:xe}},htmlBuilder(ee,te){var ne=optionsWithFont(ee,te),xe=buildExpression$1(ee.body,ne,!0);return buildCommon.makeSpan(["mord","text"],xe,ne)},mathmlBuilder(ee,te){var ne=optionsWithFont(ee,te);return buildExpressionRow(ee.body,ne)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(ee,te){var{parser:ne}=ee;return{type:"underline",mode:ne.mode,body:te[0]}},htmlBuilder(ee,te){var ne=buildGroup$1(ee.body,te),xe=buildCommon.makeLineSpan("underline-line",te),rt=te.fontMetrics().defaultRuleThickness,it=buildCommon.makeVList({positionType:"top",positionData:ne.height,children:[{type:"kern",size:rt},{type:"elem",elem:xe},{type:"kern",size:3*rt},{type:"elem",elem:ne}]},te);return buildCommon.makeSpan(["mord","underline"],[it],te)},mathmlBuilder(ee,te){var ne=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);ne.setAttribute("stretchy","true");var xe=new mathMLTree.MathNode("munder",[buildGroup(ee.body,te),ne]);return xe.setAttribute("accentunder","true"),xe}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(ee,te){var{parser:ne}=ee;return{type:"vcenter",mode:ne.mode,body:te[0]}},htmlBuilder(ee,te){var ne=buildGroup$1(ee.body,te),xe=te.fontMetrics().axisHeight,rt=.5*(ne.height-xe-(ne.depth+xe));return buildCommon.makeVList({positionType:"shift",positionData:rt,children:[{type:"elem",elem:ne}]},te)},mathmlBuilder(ee,te){return new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,te)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(ee,te,ne){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(ee,te){for(var ne=makeVerb(ee),xe=[],rt=te.havingStyle(te.style.text()),it=0;it<ne.length;it++){var lt=ne[it];lt==="~"&&(lt="\\textasciitilde"),xe.push(buildCommon.makeSymbol(lt,"Typewriter-Regular",ee.mode,rt,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(rt.sizingClasses(te)),buildCommon.tryCombineChars(xe),rt)},mathmlBuilder(ee,te){var ne=new mathMLTree.TextNode(makeVerb(ee)),xe=new mathMLTree.MathNode("mtext",[ne]);return xe.setAttribute("mathvariant","monospace"),xe}});var makeVerb=ee=>ee.body.replace(/ /g,ee.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(te,ne){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=te,this.settings=ne,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(te,ne){this.catcodes[te]=ne}lex(){var te=this.input,ne=this.tokenRegex.lastIndex;if(ne===te.length)return new Token("EOF",new SourceLocation(this,ne,ne));var xe=this.tokenRegex.exec(te);if(xe===null||xe.index!==ne)throw new ParseError("Unexpected character: '"+te[ne]+"'",new Token(te[ne],new SourceLocation(this,ne,ne+1)));var rt=xe[6]||xe[3]||(xe[2]?"\\ ":" ");if(this.catcodes[rt]===14){var it=te.indexOf(`
`,this.tokenRegex.lastIndex);return it===-1?(this.tokenRegex.lastIndex=te.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=it+1,this.lex()}return new Token(rt,new SourceLocation(this,ne,this.tokenRegex.lastIndex))}}class Namespace{constructor(te,ne){te===void 0&&(te={}),ne===void 0&&(ne={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=ne,this.builtins=te,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var te=this.undefStack.pop();for(var ne in te)te.hasOwnProperty(ne)&&(te[ne]==null?delete this.current[ne]:this.current[ne]=te[ne])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(te){return this.current.hasOwnProperty(te)||this.builtins.hasOwnProperty(te)}get(te){return this.current.hasOwnProperty(te)?this.current[te]:this.builtins[te]}set(te,ne,xe){if(xe===void 0&&(xe=!1),xe){for(var rt=0;rt<this.undefStack.length;rt++)delete this.undefStack[rt][te];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][te]=ne)}else{var it=this.undefStack[this.undefStack.length-1];it&&!it.hasOwnProperty(te)&&(it[te]=this.current[te])}ne==null?delete this.current[te]:this.current[te]=ne}}var macros=_macros;defineMacro("\\noexpand",function(ee){var te=ee.popToken();return ee.isExpandable(te.text)&&(te.noexpand=!0,te.treatAsRelax=!0),{tokens:[te],numArgs:0}});defineMacro("\\expandafter",function(ee){var te=ee.popToken();return ee.expandOnce(!0),{tokens:[te],numArgs:0}});defineMacro("\\@firstoftwo",function(ee){var te=ee.consumeArgs(2);return{tokens:te[0],numArgs:0}});defineMacro("\\@secondoftwo",function(ee){var te=ee.consumeArgs(2);return{tokens:te[1],numArgs:0}});defineMacro("\\@ifnextchar",function(ee){var te=ee.consumeArgs(3);ee.consumeSpaces();var ne=ee.future();return te[0].length===1&&te[0][0].text===ne.text?{tokens:te[1],numArgs:0}:{tokens:te[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(ee){var te=ee.consumeArgs(2);return ee.mode==="text"?{tokens:te[0],numArgs:0}:{tokens:te[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(ee){var te=ee.popToken(),ne,xe="";if(te.text==="'")ne=8,te=ee.popToken();else if(te.text==='"')ne=16,te=ee.popToken();else if(te.text==="`")if(te=ee.popToken(),te.text[0]==="\\")xe=te.text.charCodeAt(1);else{if(te.text==="EOF")throw new ParseError("\\char` missing argument");xe=te.text.charCodeAt(0)}else ne=10;if(ne){if(xe=digitToNumber[te.text],xe==null||xe>=ne)throw new ParseError("Invalid base-"+ne+" digit "+te.text);for(var rt;(rt=digitToNumber[ee.future().text])!=null&&rt<ne;)xe*=ne,xe+=rt,ee.popToken()}return"\\@char{"+xe+"}"});var newcommand=(ee,te,ne,xe)=>{var rt=ee.consumeArg().tokens;if(rt.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var it=rt[0].text,lt=ee.isDefined(it);if(lt&&!te)throw new ParseError("\\newcommand{"+it+"} attempting to redefine "+(it+"; use \\renewcommand"));if(!lt&&!ne)throw new ParseError("\\renewcommand{"+it+"} when command "+it+" does not yet exist; use \\newcommand");var ct=0;if(rt=ee.consumeArg().tokens,rt.length===1&&rt[0].text==="["){for(var ut="",dt=ee.expandNextToken();dt.text!=="]"&&dt.text!=="EOF";)ut+=dt.text,dt=ee.expandNextToken();if(!ut.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+ut);ct=parseInt(ut),rt=ee.consumeArg().tokens}return lt&&xe||ee.macros.set(it,{tokens:rt,numArgs:ct}),""};defineMacro("\\newcommand",ee=>newcommand(ee,!1,!0,!1));defineMacro("\\renewcommand",ee=>newcommand(ee,!0,!1,!1));defineMacro("\\providecommand",ee=>newcommand(ee,!0,!0,!0));defineMacro("\\message",ee=>{var te=ee.consumeArgs(1)[0];return console.log(te.reverse().map(ne=>ne.text).join("")),""});defineMacro("\\errmessage",ee=>{var te=ee.consumeArgs(1)[0];return console.error(te.reverse().map(ne=>ne.text).join("")),""});defineMacro("\\show",ee=>{var te=ee.popToken(),ne=te.text;return console.log(te,ee.macros.get(ne),functions[ne],symbols.math[ne],symbols.text[ne]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(ee){var te="\\dotso",ne=ee.expandAfterFuture().text;return ne in dotsByToken?te=dotsByToken[ne]:(ne.slice(0,4)==="\\not"||ne in symbols.math&&["bin","rel"].includes(symbols.math[ne].group))&&(te="\\dotsb"),te});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(ee){var te=ee.future().text;return te in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(ee){var te=ee.future().text;return te in spaceAfterDots&&te!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(ee){var te=ee.future().text;return te in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",ee=>{if(ee.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=ee=>te=>{var ne=te.consumeArg().tokens,xe=te.consumeArg().tokens,rt=te.consumeArg().tokens,it=te.consumeArg().tokens,lt=te.macros.get("|"),ct=te.macros.get("\\|");te.macros.beginGroup();var ut=ft=>pt=>{ee&&(pt.macros.set("|",lt),rt.length&&pt.macros.set("\\|",ct));var mt=ft;if(!ft&&rt.length){var xt=pt.future();xt.text==="|"&&(pt.popToken(),mt=!0)}return{tokens:mt?rt:xe,numArgs:0}};te.macros.set("|",ut(!1)),rt.length&&te.macros.set("\\|",ut(!0));var dt=te.consumeArg().tokens,ht=te.expandTokens([...it,...dt,...ne]);return te.macros.endGroup(),{tokens:ht.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(te,ne,xe){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=ne,this.expansionCount=0,this.feed(te),this.macros=new Namespace(macros,ne.macros),this.mode=xe,this.stack=[]}feed(te){this.lexer=new Lexer(te,this.settings)}switchMode(te){this.mode=te}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(te){this.stack.push(te)}pushTokens(te){this.stack.push(...te)}scanArgument(te){var ne,xe,rt;if(te){if(this.consumeSpaces(),this.future().text!=="[")return null;ne=this.popToken(),{tokens:rt,end:xe}=this.consumeArg(["]"])}else({tokens:rt,start:ne,end:xe}=this.consumeArg());return this.pushToken(new Token("EOF",xe.loc)),this.pushTokens(rt),new Token("",SourceLocation.range(ne,xe))}consumeSpaces(){for(;;){var te=this.future();if(te.text===" ")this.stack.pop();else break}}consumeArg(te){var ne=[],xe=te&&te.length>0;xe||this.consumeSpaces();var rt=this.future(),it,lt=0,ct=0;do{if(it=this.popToken(),ne.push(it),it.text==="{")++lt;else if(it.text==="}"){if(--lt,lt===-1)throw new ParseError("Extra }",it)}else if(it.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(te&&xe?te[ct]:"}")+"'",it);if(te&&xe)if((lt===0||lt===1&&te[ct]==="{")&&it.text===te[ct]){if(++ct,ct===te.length){ne.splice(-ct,ct);break}}else ct=0}while(lt!==0||xe);return rt.text==="{"&&ne[ne.length-1].text==="}"&&(ne.pop(),ne.shift()),ne.reverse(),{tokens:ne,start:rt,end:it}}consumeArgs(te,ne){if(ne){if(ne.length!==te+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var xe=ne[0],rt=0;rt<xe.length;rt++){var it=this.popToken();if(xe[rt]!==it.text)throw new ParseError("Use of the macro doesn't match its definition",it)}}for(var lt=[],ct=0;ct<te;ct++)lt.push(this.consumeArg(ne&&ne[ct+1]).tokens);return lt}countExpansion(te){if(this.expansionCount+=te,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(te){var ne=this.popToken(),xe=ne.text,rt=ne.noexpand?null:this._getExpansion(xe);if(rt==null||te&&rt.unexpandable){if(te&&rt==null&&xe[0]==="\\"&&!this.isDefined(xe))throw new ParseError("Undefined control sequence: "+xe);return this.pushToken(ne),!1}this.countExpansion(1);var it=rt.tokens,lt=this.consumeArgs(rt.numArgs,rt.delimiters);if(rt.numArgs){it=it.slice();for(var ct=it.length-1;ct>=0;--ct){var ut=it[ct];if(ut.text==="#"){if(ct===0)throw new ParseError("Incomplete placeholder at end of macro body",ut);if(ut=it[--ct],ut.text==="#")it.splice(ct+1,1);else if(/^[1-9]$/.test(ut.text))it.splice(ct,2,...lt[+ut.text-1]);else throw new ParseError("Not a valid argument number",ut)}}}return this.pushTokens(it),it.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var te=this.stack.pop();return te.treatAsRelax&&(te.text="\\relax"),te}throw new Error}expandMacro(te){return this.macros.has(te)?this.expandTokens([new Token(te)]):void 0}expandTokens(te){var ne=[],xe=this.stack.length;for(this.pushTokens(te);this.stack.length>xe;)if(this.expandOnce(!0)===!1){var rt=this.stack.pop();rt.treatAsRelax&&(rt.noexpand=!1,rt.treatAsRelax=!1),ne.push(rt)}return this.countExpansion(ne.length),ne}expandMacroAsText(te){var ne=this.expandMacro(te);return ne&&ne.map(xe=>xe.text).join("")}_getExpansion(te){var ne=this.macros.get(te);if(ne==null)return ne;if(te.length===1){var xe=this.lexer.catcodes[te];if(xe!=null&&xe!==13)return}var rt=typeof ne=="function"?ne(this):ne;if(typeof rt=="string"){var it=0;if(rt.indexOf("#")!==-1)for(var lt=rt.replace(/##/g,"");lt.indexOf("#"+(it+1))!==-1;)++it;for(var ct=new Lexer(rt,this.settings),ut=[],dt=ct.lex();dt.text!=="EOF";)ut.push(dt),dt=ct.lex();ut.reverse();var ht={tokens:ut,numArgs:it};return ht}return rt}isDefined(te){return this.macros.has(te)||functions.hasOwnProperty(te)||symbols.math.hasOwnProperty(te)||symbols.text.hasOwnProperty(te)||implicitCommands.hasOwnProperty(te)}isExpandable(te){var ne=this.macros.get(te);return ne!=null?typeof ne=="string"||typeof ne=="function"||!ne.unexpandable:functions.hasOwnProperty(te)&&!functions[te].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(te,ne){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(te,ne,this.mode),this.settings=ne,this.leftrightDepth=0}expect(te,ne){if(ne===void 0&&(ne=!0),this.fetch().text!==te)throw new ParseError("Expected '"+te+"', got '"+this.fetch().text+"'",this.fetch());ne&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(te){this.mode=te,this.gullet.switchMode(te)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var te=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),te}finally{this.gullet.endGroups()}}subparse(te){var ne=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(te);var xe=this.parseExpression(!1);return this.expect("}"),this.nextToken=ne,xe}parseExpression(te,ne){for(var xe=[];;){this.mode==="math"&&this.consumeSpaces();var rt=this.fetch();if(Parser.endOfExpression.indexOf(rt.text)!==-1||ne&&rt.text===ne||te&&functions[rt.text]&&functions[rt.text].infix)break;var it=this.parseAtom(ne);if(it){if(it.type==="internal")continue}else break;xe.push(it)}return this.mode==="text"&&this.formLigatures(xe),this.handleInfixNodes(xe)}handleInfixNodes(te){for(var ne=-1,xe,rt=0;rt<te.length;rt++)if(te[rt].type==="infix"){if(ne!==-1)throw new ParseError("only one infix operator per group",te[rt].token);ne=rt,xe=te[rt].replaceWith}if(ne!==-1&&xe){var it,lt,ct=te.slice(0,ne),ut=te.slice(ne+1);ct.length===1&&ct[0].type==="ordgroup"?it=ct[0]:it={type:"ordgroup",mode:this.mode,body:ct},ut.length===1&&ut[0].type==="ordgroup"?lt=ut[0]:lt={type:"ordgroup",mode:this.mode,body:ut};var dt;return xe==="\\\\abovefrac"?dt=this.callFunction(xe,[it,te[ne],lt],[]):dt=this.callFunction(xe,[it,lt],[]),[dt]}else return te}handleSupSubscript(te){var ne=this.fetch(),xe=ne.text;this.consume(),this.consumeSpaces();var rt;do{var it;rt=this.parseGroup(te)}while(((it=rt)==null?void 0:it.type)==="internal");if(!rt)throw new ParseError("Expected group after '"+xe+"'",ne);return rt}formatUnsupportedCmd(te){for(var ne=[],xe=0;xe<te.length;xe++)ne.push({type:"textord",mode:"text",text:te[xe]});var rt={type:"text",mode:this.mode,body:ne},it={type:"color",mode:this.mode,color:this.settings.errorColor,body:[rt]};return it}parseAtom(te){var ne=this.parseGroup("atom",te);if(ne?.type==="internal"||this.mode==="text")return ne;for(var xe,rt;;){this.consumeSpaces();var it=this.fetch();if(it.text==="\\limits"||it.text==="\\nolimits"){if(ne&&ne.type==="op"){var lt=it.text==="\\limits";ne.limits=lt,ne.alwaysHandleSupSub=!0}else if(ne&&ne.type==="operatorname")ne.alwaysHandleSupSub&&(ne.limits=it.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",it);this.consume()}else if(it.text==="^"){if(xe)throw new ParseError("Double superscript",it);xe=this.handleSupSubscript("superscript")}else if(it.text==="_"){if(rt)throw new ParseError("Double subscript",it);rt=this.handleSupSubscript("subscript")}else if(it.text==="'"){if(xe)throw new ParseError("Double superscript",it);var ct={type:"textord",mode:this.mode,text:"\\prime"},ut=[ct];for(this.consume();this.fetch().text==="'";)ut.push(ct),this.consume();this.fetch().text==="^"&&ut.push(this.handleSupSubscript("superscript")),xe={type:"ordgroup",mode:this.mode,body:ut}}else if(uSubsAndSups[it.text]){var dt=unicodeSubRegEx.test(it.text),ht=[];for(ht.push(new Token(uSubsAndSups[it.text])),this.consume();;){var ft=this.fetch().text;if(!uSubsAndSups[ft]||unicodeSubRegEx.test(ft)!==dt)break;ht.unshift(new Token(uSubsAndSups[ft])),this.consume()}var pt=this.subparse(ht);dt?rt={type:"ordgroup",mode:"math",body:pt}:xe={type:"ordgroup",mode:"math",body:pt}}else break}return xe||rt?{type:"supsub",mode:this.mode,base:ne,sup:xe,sub:rt}:ne}parseFunction(te,ne){var xe=this.fetch(),rt=xe.text,it=functions[rt];if(!it)return null;if(this.consume(),ne&&ne!=="atom"&&!it.allowedInArgument)throw new ParseError("Got function '"+rt+"' with no arguments"+(ne?" as "+ne:""),xe);if(this.mode==="text"&&!it.allowedInText)throw new ParseError("Can't use function '"+rt+"' in text mode",xe);if(this.mode==="math"&&it.allowedInMath===!1)throw new ParseError("Can't use function '"+rt+"' in math mode",xe);var{args:lt,optArgs:ct}=this.parseArguments(rt,it);return this.callFunction(rt,lt,ct,xe,te)}callFunction(te,ne,xe,rt,it){var lt={funcName:te,parser:this,token:rt,breakOnTokenText:it},ct=functions[te];if(ct&&ct.handler)return ct.handler(lt,ne,xe);throw new ParseError("No function handler for "+te)}parseArguments(te,ne){var xe=ne.numArgs+ne.numOptionalArgs;if(xe===0)return{args:[],optArgs:[]};for(var rt=[],it=[],lt=0;lt<xe;lt++){var ct=ne.argTypes&&ne.argTypes[lt],ut=lt<ne.numOptionalArgs;(ne.primitive&&ct==null||ne.type==="sqrt"&&lt===1&&it[0]==null)&&(ct="primitive");var dt=this.parseGroupOfType("argument to '"+te+"'",ct,ut);if(ut)it.push(dt);else if(dt!=null)rt.push(dt);else throw new ParseError("Null argument, please report this as a bug")}return{args:rt,optArgs:it}}parseGroupOfType(te,ne,xe){switch(ne){case"color":return this.parseColorGroup(xe);case"size":return this.parseSizeGroup(xe);case"url":return this.parseUrlGroup(xe);case"math":case"text":return this.parseArgumentGroup(xe,ne);case"hbox":{var rt=this.parseArgumentGroup(xe,"text");return rt!=null?{type:"styling",mode:rt.mode,body:[rt],style:"text"}:null}case"raw":{var it=this.parseStringGroup("raw",xe);return it!=null?{type:"raw",mode:"text",string:it.text}:null}case"primitive":{if(xe)throw new ParseError("A primitive argument cannot be optional");var lt=this.parseGroup(te);if(lt==null)throw new ParseError("Expected group as "+te,this.fetch());return lt}case"original":case null:case void 0:return this.parseArgumentGroup(xe);default:throw new ParseError("Unknown group type as "+te,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(te,ne){var xe=this.gullet.scanArgument(ne);if(xe==null)return null;for(var rt="",it;(it=this.fetch()).text!=="EOF";)rt+=it.text,this.consume();return this.consume(),xe.text=rt,xe}parseRegexGroup(te,ne){for(var xe=this.fetch(),rt=xe,it="",lt;(lt=this.fetch()).text!=="EOF"&&te.test(it+lt.text);)rt=lt,it+=rt.text,this.consume();if(it==="")throw new ParseError("Invalid "+ne+": '"+xe.text+"'",xe);return xe.range(rt,it)}parseColorGroup(te){var ne=this.parseStringGroup("color",te);if(ne==null)return null;var xe=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(ne.text);if(!xe)throw new ParseError("Invalid color: '"+ne.text+"'",ne);var rt=xe[0];return/^[0-9a-f]{6}$/i.test(rt)&&(rt="#"+rt),{type:"color-token",mode:this.mode,color:rt}}parseSizeGroup(te){var ne,xe=!1;if(this.gullet.consumeSpaces(),!te&&this.gullet.future().text!=="{"?ne=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):ne=this.parseStringGroup("size",te),!ne)return null;!te&&ne.text.length===0&&(ne.text="0pt",xe=!0);var rt=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(ne.text);if(!rt)throw new ParseError("Invalid size: '"+ne.text+"'",ne);var it={number:+(rt[1]+rt[2]),unit:rt[3]};if(!validUnit(it))throw new ParseError("Invalid unit: '"+it.unit+"'",ne);return{type:"size",mode:this.mode,value:it,isBlank:xe}}parseUrlGroup(te){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var ne=this.parseStringGroup("url",te);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),ne==null)return null;var xe=ne.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:xe}}parseArgumentGroup(te,ne){var xe=this.gullet.scanArgument(te);if(xe==null)return null;var rt=this.mode;ne&&this.switchMode(ne),this.gullet.beginGroup();var it=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var lt={type:"ordgroup",mode:this.mode,loc:xe.loc,body:it};return ne&&this.switchMode(rt),lt}parseGroup(te,ne){var xe=this.fetch(),rt=xe.text,it;if(rt==="{"||rt==="\\begingroup"){this.consume();var lt=rt==="{"?"}":"\\endgroup";this.gullet.beginGroup();var ct=this.parseExpression(!1,lt),ut=this.fetch();this.expect(lt),this.gullet.endGroup(),it={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(xe,ut),body:ct,semisimple:rt==="\\begingroup"||void 0}}else if(it=this.parseFunction(ne,te)||this.parseSymbol(),it==null&&rt[0]==="\\"&&!implicitCommands.hasOwnProperty(rt)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+rt,xe);it=this.formatUnsupportedCmd(rt),this.consume()}return it}formLigatures(te){for(var ne=te.length-1,xe=0;xe<ne;++xe){var rt=te[xe],it=rt.text;it==="-"&&te[xe+1].text==="-"&&(xe+1<ne&&te[xe+2].text==="-"?(te.splice(xe,3,{type:"textord",mode:"text",loc:SourceLocation.range(rt,te[xe+2]),text:"---"}),ne-=2):(te.splice(xe,2,{type:"textord",mode:"text",loc:SourceLocation.range(rt,te[xe+1]),text:"--"}),ne-=1)),(it==="'"||it==="`")&&te[xe+1].text===it&&(te.splice(xe,2,{type:"textord",mode:"text",loc:SourceLocation.range(rt,te[xe+1]),text:it+it}),ne-=1)}}parseSymbol(){var te=this.fetch(),ne=te.text;if(/^\\verb[^a-zA-Z]/.test(ne)){this.consume();var xe=ne.slice(5),rt=xe.charAt(0)==="*";if(rt&&(xe=xe.slice(1)),xe.length<2||xe.charAt(0)!==xe.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return xe=xe.slice(1,-1),{type:"verb",mode:"text",body:xe,star:rt}}unicodeSymbols.hasOwnProperty(ne[0])&&!symbols[this.mode][ne[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+ne[0]+'" used in math mode',te),ne=unicodeSymbols[ne[0]]+ne.slice(1));var it=combiningDiacriticalMarksEndRegex.exec(ne);it&&(ne=ne.substring(0,it.index),ne==="i"?ne="":ne==="j"&&(ne=""));var lt;if(symbols[this.mode][ne]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(ne)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+ne[0]+'" used in math mode',te);var ct=symbols[this.mode][ne].group,ut=SourceLocation.range(te),dt;if(ATOMS.hasOwnProperty(ct)){var ht=ct;dt={type:"atom",mode:this.mode,family:ht,loc:ut,text:ne}}else dt={type:ct,mode:this.mode,loc:ut,text:ne};lt=dt}else if(ne.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(ne.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+ne[0]+'" used in math mode',te):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+ne[0]+'"'+(" ("+ne.charCodeAt(0)+")"),te)),lt={type:"textord",mode:"text",loc:SourceLocation.range(te),text:ne};else return null;if(this.consume(),it)for(var ft=0;ft<it[0].length;ft++){var pt=it[0][ft];if(!unicodeAccents[pt])throw new ParseError("Unknown accent ' "+pt+"'",te);var mt=unicodeAccents[pt][this.mode]||unicodeAccents[pt].text;if(!mt)throw new ParseError("Accent "+pt+" unsupported in "+this.mode+" mode",te);lt={type:"accent",mode:this.mode,loc:SourceLocation.range(te),label:mt,isStretchy:!1,isShifty:!0,base:lt}}return lt}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function(te,ne){if(!(typeof te=="string"||te instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var xe=new Parser(te,ne);delete xe.gullet.macros.current["\\df@tag"];var rt=xe.parse();if(delete xe.gullet.macros.current["\\current@color"],delete xe.gullet.macros.current["\\color"],xe.gullet.macros.get("\\df@tag")){if(!ne.displayMode)throw new ParseError("\\tag works only in display equations");rt=[{type:"tag",mode:"text",body:rt,tag:xe.subparse([new Token("\\df@tag")])}]}return rt},render$2=function(te,ne,xe){ne.textContent="";var rt=renderToDomTree(te,xe).toNode();ne.appendChild(rt)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render$2=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function(te,ne){var xe=renderToDomTree(te,ne).toMarkup();return xe},generateParseTree=function(te,ne){var xe=new Settings(ne);return parseTree(te,xe)},renderError=function(te,ne,xe){if(xe.throwOnError||!(te instanceof ParseError))throw te;var rt=buildCommon.makeSpan(["katex-error"],[new SymbolNode(ne)]);return rt.setAttribute("title",te.toString()),rt.setAttribute("style","color:"+xe.errorColor),rt},renderToDomTree=function(te,ne){var xe=new Settings(ne);try{var rt=parseTree(te,xe);return buildTree(rt,te,xe)}catch(it){return renderError(it,te,xe)}},renderToHTMLTree=function(te,ne){var xe=new Settings(ne);try{var rt=parseTree(te,xe);return buildHTMLTree(rt,te,xe)}catch(it){return renderError(it,te,xe)}},version="0.16.28",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render:render$2,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const katex$1=Object.freeze(Object.defineProperty({__proto__:null,ParseError,SETTINGS_SCHEMA,__defineFunction:defineFunction,__defineMacro:defineMacro,__defineSymbol:defineSymbol,__domTree,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,default:katex,get render(){return render$2},renderToString,version},Symbol.toStringTag,{value:"Module"})),emptyOptions$2={};function remarkMath(ee){const te=this,ne=ee||emptyOptions$2,xe=te.data(),rt=xe.micromarkExtensions||(xe.micromarkExtensions=[]),it=xe.fromMarkdownExtensions||(xe.fromMarkdownExtensions=[]),lt=xe.toMarkdownExtensions||(xe.toMarkdownExtensions=[]);rt.push(math$1(ne)),it.push(mathFromMarkdown()),lt.push(mathToMarkdown(ne))}function ccount(ee,te){const ne=String(ee);if(typeof te!="string")throw new TypeError("Expected character");let xe=0,rt=ne.indexOf(te);for(;rt!==-1;)xe++,rt=ne.indexOf(te,rt+te.length);return xe}function escapeStringRegexp(ee){if(typeof ee!="string")throw new TypeError("Expected a string");return ee.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(ee,te,ne){const rt=convert((ne||{}).ignore||[]),it=toPairs(te);let lt=-1;for(;++lt<it.length;)visitParents(ee,"text",ct);function ct(dt,ht){let ft=-1,pt;for(;++ft<ht.length;){const mt=ht[ft],xt=pt?pt.children:void 0;if(rt(mt,xt?xt.indexOf(mt):void 0,pt))return;pt=mt}if(pt)return ut(dt,ht)}function ut(dt,ht){const ft=ht[ht.length-1],pt=it[lt][0],mt=it[lt][1];let xt=0;const vt=ft.children.indexOf(dt);let Et=!1,_t=[];pt.lastIndex=0;let wt=pt.exec(dt.value);for(;wt;){const St=wt.index,Ct={index:wt.index,input:wt.input,stack:[...ht,dt]};let jt=mt(...wt,Ct);if(typeof jt=="string"&&(jt=jt.length>0?{type:"text",value:jt}:void 0),jt===!1?pt.lastIndex=St+1:(xt!==St&&_t.push({type:"text",value:dt.value.slice(xt,St)}),Array.isArray(jt)?_t.push(...jt):jt&&_t.push(jt),xt=St+wt[0].length,Et=!0),!pt.global)break;wt=pt.exec(dt.value)}return Et?(xt<dt.value.length&&_t.push({type:"text",value:dt.value.slice(xt)}),ft.children.splice(vt,1,..._t)):_t=[dt],vt+_t.length}}function toPairs(ee){const te=[];if(!Array.isArray(ee))throw new TypeError("Expected find and replace tuple or list of tuples");const ne=!ee[0]||Array.isArray(ee[0])?ee:[ee];let xe=-1;for(;++xe<ne.length;){const rt=ne[xe];te.push([toExpression(rt[0]),toFunction(rt[1])])}return te}function toExpression(ee){return typeof ee=="string"?new RegExp(escapeStringRegexp(ee),"g"):ee}function toFunction(ee){return typeof ee=="function"?ee:function(){return ee}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(ee){this.enter({type:"link",title:null,url:"",children:[]},ee)}function enterLiteralAutolinkValue(ee){this.config.enter.autolinkProtocol.call(this,ee)}function exitLiteralAutolinkHttp(ee){this.config.exit.autolinkProtocol.call(this,ee)}function exitLiteralAutolinkWww(ee){this.config.exit.data.call(this,ee);const te=this.stack[this.stack.length-1];te.type,te.url="http://"+this.sliceSerialize(ee)}function exitLiteralAutolinkEmail(ee){this.config.exit.autolinkEmail.call(this,ee)}function exitLiteralAutolink(ee){this.exit(ee)}function transformGfmAutolinkLiterals(ee){findAndReplace(ee,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,findEmail]],{ignore:["link","linkReference"]})}function findUrl(ee,te,ne,xe,rt){let it="";if(!previous(rt)||(/^w/i.test(te)&&(ne=te+ne,te="",it="http://"),!isCorrectDomain(ne)))return!1;const lt=splitUrl(ne+xe);if(!lt[0])return!1;const ct={type:"link",title:null,url:it+te+lt[0],children:[{type:"text",value:te+lt[0]}]};return lt[1]?[ct,{type:"text",value:lt[1]}]:ct}function findEmail(ee,te,ne,xe){return!previous(xe,!0)||/[-\d_]$/.test(ne)?!1:{type:"link",title:null,url:"mailto:"+te+"@"+ne,children:[{type:"text",value:te+"@"+ne}]}}function isCorrectDomain(ee){const te=ee.split(".");return!(te.length<2||te[te.length-1]&&(/_/.test(te[te.length-1])||!/[a-zA-Z\d]/.test(te[te.length-1]))||te[te.length-2]&&(/_/.test(te[te.length-2])||!/[a-zA-Z\d]/.test(te[te.length-2])))}function splitUrl(ee){const te=/[!"&'),.:;<>?\]}]+$/.exec(ee);if(!te)return[ee,void 0];ee=ee.slice(0,te.index);let ne=te[0],xe=ne.indexOf(")");const rt=ccount(ee,"(");let it=ccount(ee,")");for(;xe!==-1&&rt>it;)ee+=ne.slice(0,xe+1),ne=ne.slice(xe+1),xe=ne.indexOf(")"),it++;return[ee,ne]}function previous(ee,te){const ne=ee.input.charCodeAt(ee.index-1);return(ee.index===0||unicodeWhitespace(ne)||unicodePunctuation(ne))&&(!te||ne!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(ee){this.enter({type:"footnoteReference",identifier:"",label:""},ee)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(ee){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},ee)}function exitFootnoteCallString(ee){const te=this.resume(),ne=this.stack[this.stack.length-1];ne.type,ne.identifier=normalizeIdentifier(this.sliceSerialize(ee)).toLowerCase(),ne.label=te}function exitFootnoteCall(ee){this.exit(ee)}function exitFootnoteDefinitionLabelString(ee){const te=this.resume(),ne=this.stack[this.stack.length-1];ne.type,ne.identifier=normalizeIdentifier(this.sliceSerialize(ee)).toLowerCase(),ne.label=te}function exitFootnoteDefinition(ee){this.exit(ee)}function footnoteReferencePeek(){return"["}function footnoteReference(ee,te,ne,xe){const rt=ne.createTracker(xe);let it=rt.move("[^");const lt=ne.enter("footnoteReference"),ct=ne.enter("reference");return it+=rt.move(ne.safe(ne.associationId(ee),{after:"]",before:it})),ct(),lt(),it+=rt.move("]"),it}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(ee){let te=!1;return ee&&ee.firstLineBlank&&(te=!0),{handlers:{footnoteDefinition:ne,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function ne(xe,rt,it,lt){const ct=it.createTracker(lt);let ut=ct.move("[^");const dt=it.enter("footnoteDefinition"),ht=it.enter("label");return ut+=ct.move(it.safe(it.associationId(xe),{before:ut,after:"]"})),ht(),ut+=ct.move("]:"),xe.children&&xe.children.length>0&&(ct.shift(4),ut+=ct.move((te?`
`:" ")+it.indentLines(it.containerFlow(xe,ct.current()),te?mapAll:mapExceptFirst))),dt(),ut}}function mapExceptFirst(ee,te,ne){return te===0?ee:mapAll(ee,te,ne)}function mapAll(ee,te,ne){return(ne?"":"    ")+ee}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(ee){this.enter({type:"delete",children:[]},ee)}function exitStrikethrough(ee){this.exit(ee)}function handleDelete(ee,te,ne,xe){const rt=ne.createTracker(xe),it=ne.enter("strikethrough");let lt=rt.move("~~");return lt+=ne.containerPhrasing(ee,{...rt.current(),before:lt,after:"~"}),lt+=rt.move("~~"),it(),lt}function peekDelete(){return"~"}function defaultStringLength(ee){return ee.length}function markdownTable(ee,te){const ne=te||{},xe=(ne.align||[]).concat(),rt=ne.stringLength||defaultStringLength,it=[],lt=[],ct=[],ut=[];let dt=0,ht=-1;for(;++ht<ee.length;){const yt=[],vt=[];let Et=-1;for(ee[ht].length>dt&&(dt=ee[ht].length);++Et<ee[ht].length;){const _t=serialize$1(ee[ht][Et]);if(ne.alignDelimiters!==!1){const wt=rt(_t);vt[Et]=wt,(ut[Et]===void 0||wt>ut[Et])&&(ut[Et]=wt)}yt.push(_t)}lt[ht]=yt,ct[ht]=vt}let ft=-1;if(typeof xe=="object"&&"length"in xe)for(;++ft<dt;)it[ft]=toAlignment(xe[ft]);else{const yt=toAlignment(xe);for(;++ft<dt;)it[ft]=yt}ft=-1;const pt=[],mt=[];for(;++ft<dt;){const yt=it[ft];let vt="",Et="";yt===99?(vt=":",Et=":"):yt===108?vt=":":yt===114&&(Et=":");let _t=ne.alignDelimiters===!1?1:Math.max(1,ut[ft]-vt.length-Et.length);const wt=vt+"-".repeat(_t)+Et;ne.alignDelimiters!==!1&&(_t=vt.length+_t+Et.length,_t>ut[ft]&&(ut[ft]=_t),mt[ft]=_t),pt[ft]=wt}lt.splice(1,0,pt),ct.splice(1,0,mt),ht=-1;const xt=[];for(;++ht<lt.length;){const yt=lt[ht],vt=ct[ht];ft=-1;const Et=[];for(;++ft<dt;){const _t=yt[ft]||"";let wt="",St="";if(ne.alignDelimiters!==!1){const Ct=ut[ft]-(vt[ft]||0),jt=it[ft];jt===114?wt=" ".repeat(Ct):jt===99?Ct%2?(wt=" ".repeat(Ct/2+.5),St=" ".repeat(Ct/2-.5)):(wt=" ".repeat(Ct/2),St=wt):St=" ".repeat(Ct)}ne.delimiterStart!==!1&&!ft&&Et.push("|"),ne.padding!==!1&&!(ne.alignDelimiters===!1&&_t==="")&&(ne.delimiterStart!==!1||ft)&&Et.push(" "),ne.alignDelimiters!==!1&&Et.push(wt),Et.push(_t),ne.alignDelimiters!==!1&&Et.push(St),ne.padding!==!1&&Et.push(" "),(ne.delimiterEnd!==!1||ft!==dt-1)&&Et.push("|")}xt.push(ne.delimiterEnd===!1?Et.join("").replace(/ +$/,""):Et.join(""))}return xt.join(`
`)}function serialize$1(ee){return ee==null?"":String(ee)}function toAlignment(ee){const te=typeof ee=="string"?ee.codePointAt(0):0;return te===67||te===99?99:te===76||te===108?108:te===82||te===114?114:0}function blockquote(ee,te,ne,xe){const rt=ne.enter("blockquote"),it=ne.createTracker(xe);it.move("> "),it.shift(2);const lt=ne.indentLines(ne.containerFlow(ee,it.current()),map$2);return rt(),lt}function map$2(ee,te,ne){return">"+(ne?"":" ")+ee}function patternInScope(ee,te){return listInScope(ee,te.inConstruct,!0)&&!listInScope(ee,te.notInConstruct,!1)}function listInScope(ee,te,ne){if(typeof te=="string"&&(te=[te]),!te||te.length===0)return ne;let xe=-1;for(;++xe<te.length;)if(ee.includes(te[xe]))return!0;return!1}function hardBreak(ee,te,ne,xe){let rt=-1;for(;++rt<ne.unsafe.length;)if(ne.unsafe[rt].character===`
`&&patternInScope(ne.stack,ne.unsafe[rt]))return/[ \t]/.test(xe.before)?"":" ";return`\\
`}function formatCodeAsIndented(ee,te){return!!(te.options.fences===!1&&ee.value&&!ee.lang&&/[^ \r\n]/.test(ee.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(ee.value))}function checkFence(ee){const te=ee.options.fence||"`";if(te!=="`"&&te!=="~")throw new Error("Cannot serialize code with `"+te+"` for `options.fence`, expected `` ` `` or `~`");return te}function code$1(ee,te,ne,xe){const rt=checkFence(ne),it=ee.value||"",lt=rt==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(ee,ne)){const ft=ne.enter("codeIndented"),pt=ne.indentLines(it,map$1);return ft(),pt}const ct=ne.createTracker(xe),ut=rt.repeat(Math.max(longestStreak(it,rt)+1,3)),dt=ne.enter("codeFenced");let ht=ct.move(ut);if(ee.lang){const ft=ne.enter(`codeFencedLang${lt}`);ht+=ct.move(ne.safe(ee.lang,{before:ht,after:" ",encode:["`"],...ct.current()})),ft()}if(ee.lang&&ee.meta){const ft=ne.enter(`codeFencedMeta${lt}`);ht+=ct.move(" "),ht+=ct.move(ne.safe(ee.meta,{before:ht,after:`
`,encode:["`"],...ct.current()})),ft()}return ht+=ct.move(`
`),it&&(ht+=ct.move(it+`
`)),ht+=ct.move(ut),dt(),ht}function map$1(ee,te,ne){return(ne?"":"    ")+ee}function checkQuote(ee){const te=ee.options.quote||'"';if(te!=='"'&&te!=="'")throw new Error("Cannot serialize title with `"+te+"` for `options.quote`, expected `\"`, or `'`");return te}function definition(ee,te,ne,xe){const rt=checkQuote(ne),it=rt==='"'?"Quote":"Apostrophe",lt=ne.enter("definition");let ct=ne.enter("label");const ut=ne.createTracker(xe);let dt=ut.move("[");return dt+=ut.move(ne.safe(ne.associationId(ee),{before:dt,after:"]",...ut.current()})),dt+=ut.move("]: "),ct(),!ee.url||/[\0- \u007F]/.test(ee.url)?(ct=ne.enter("destinationLiteral"),dt+=ut.move("<"),dt+=ut.move(ne.safe(ee.url,{before:dt,after:">",...ut.current()})),dt+=ut.move(">")):(ct=ne.enter("destinationRaw"),dt+=ut.move(ne.safe(ee.url,{before:dt,after:ee.title?" ":`
`,...ut.current()}))),ct(),ee.title&&(ct=ne.enter(`title${it}`),dt+=ut.move(" "+rt),dt+=ut.move(ne.safe(ee.title,{before:dt,after:rt,...ut.current()})),dt+=ut.move(rt),ct()),lt(),dt}function checkEmphasis(ee){const te=ee.options.emphasis||"*";if(te!=="*"&&te!=="_")throw new Error("Cannot serialize emphasis with `"+te+"` for `options.emphasis`, expected `*`, or `_`");return te}function encodeCharacterReference(ee){return"&#x"+ee.toString(16).toUpperCase()+";"}function encodeInfo(ee,te,ne){const xe=classifyCharacter(ee),rt=classifyCharacter(te);return xe===void 0?rt===void 0?ne==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:rt===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:xe===1?rt===void 0?{inside:!1,outside:!1}:rt===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:rt===void 0?{inside:!1,outside:!1}:rt===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(ee,te,ne,xe){const rt=checkEmphasis(ne),it=ne.enter("emphasis"),lt=ne.createTracker(xe),ct=lt.move(rt);let ut=lt.move(ne.containerPhrasing(ee,{after:rt,before:ct,...lt.current()}));const dt=ut.charCodeAt(0),ht=encodeInfo(xe.before.charCodeAt(xe.before.length-1),dt,rt);ht.inside&&(ut=encodeCharacterReference(dt)+ut.slice(1));const ft=ut.charCodeAt(ut.length-1),pt=encodeInfo(xe.after.charCodeAt(0),ft,rt);pt.inside&&(ut=ut.slice(0,-1)+encodeCharacterReference(ft));const mt=lt.move(rt);return it(),ne.attentionEncodeSurroundingInfo={after:pt.outside,before:ht.outside},ct+ut+mt}function emphasisPeek(ee,te,ne){return ne.options.emphasis||"*"}function formatHeadingAsSetext(ee,te){let ne=!1;return visit(ee,function(xe){if("value"in xe&&/\r?\n|\r/.test(xe.value)||xe.type==="break")return ne=!0,EXIT}),!!((!ee.depth||ee.depth<3)&&toString$1(ee)&&(te.options.setext||ne))}function heading(ee,te,ne,xe){const rt=Math.max(Math.min(6,ee.depth||1),1),it=ne.createTracker(xe);if(formatHeadingAsSetext(ee,ne)){const ht=ne.enter("headingSetext"),ft=ne.enter("phrasing"),pt=ne.containerPhrasing(ee,{...it.current(),before:`
`,after:`
`});return ft(),ht(),pt+`
`+(rt===1?"=":"-").repeat(pt.length-(Math.max(pt.lastIndexOf("\r"),pt.lastIndexOf(`
`))+1))}const lt="#".repeat(rt),ct=ne.enter("headingAtx"),ut=ne.enter("phrasing");it.move(lt+" ");let dt=ne.containerPhrasing(ee,{before:"# ",after:`
`,...it.current()});return/^[\t ]/.test(dt)&&(dt=encodeCharacterReference(dt.charCodeAt(0))+dt.slice(1)),dt=dt?lt+" "+dt:lt,ne.options.closeAtx&&(dt+=" "+lt),ut(),ct(),dt}html$2.peek=htmlPeek;function html$2(ee){return ee.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(ee,te,ne,xe){const rt=checkQuote(ne),it=rt==='"'?"Quote":"Apostrophe",lt=ne.enter("image");let ct=ne.enter("label");const ut=ne.createTracker(xe);let dt=ut.move("![");return dt+=ut.move(ne.safe(ee.alt,{before:dt,after:"]",...ut.current()})),dt+=ut.move("]("),ct(),!ee.url&&ee.title||/[\0- \u007F]/.test(ee.url)?(ct=ne.enter("destinationLiteral"),dt+=ut.move("<"),dt+=ut.move(ne.safe(ee.url,{before:dt,after:">",...ut.current()})),dt+=ut.move(">")):(ct=ne.enter("destinationRaw"),dt+=ut.move(ne.safe(ee.url,{before:dt,after:ee.title?" ":")",...ut.current()}))),ct(),ee.title&&(ct=ne.enter(`title${it}`),dt+=ut.move(" "+rt),dt+=ut.move(ne.safe(ee.title,{before:dt,after:rt,...ut.current()})),dt+=ut.move(rt),ct()),dt+=ut.move(")"),lt(),dt}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(ee,te,ne,xe){const rt=ee.referenceType,it=ne.enter("imageReference");let lt=ne.enter("label");const ct=ne.createTracker(xe);let ut=ct.move("![");const dt=ne.safe(ee.alt,{before:ut,after:"]",...ct.current()});ut+=ct.move(dt+"]["),lt();const ht=ne.stack;ne.stack=[],lt=ne.enter("reference");const ft=ne.safe(ne.associationId(ee),{before:ut,after:"]",...ct.current()});return lt(),ne.stack=ht,it(),rt==="full"||!dt||dt!==ft?ut+=ct.move(ft+"]"):rt==="shortcut"?ut=ut.slice(0,-1):ut+=ct.move("]"),ut}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(ee,te,ne){let xe=ee.value||"",rt="`",it=-1;for(;new RegExp("(^|[^`])"+rt+"([^`]|$)").test(xe);)rt+="`";for(/[^ \r\n]/.test(xe)&&(/^[ \r\n]/.test(xe)&&/[ \r\n]$/.test(xe)||/^`|`$/.test(xe))&&(xe=" "+xe+" ");++it<ne.unsafe.length;){const lt=ne.unsafe[it],ct=ne.compilePattern(lt);let ut;if(lt.atBreak)for(;ut=ct.exec(xe);){let dt=ut.index;xe.charCodeAt(dt)===10&&xe.charCodeAt(dt-1)===13&&dt--,xe=xe.slice(0,dt)+" "+xe.slice(ut.index+1)}}return rt+xe+rt}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(ee,te){const ne=toString$1(ee);return!!(!te.options.resourceLink&&ee.url&&!ee.title&&ee.children&&ee.children.length===1&&ee.children[0].type==="text"&&(ne===ee.url||"mailto:"+ne===ee.url)&&/^[a-z][a-z+.-]+:/i.test(ee.url)&&!/[\0- <>\u007F]/.test(ee.url))}link.peek=linkPeek;function link(ee,te,ne,xe){const rt=checkQuote(ne),it=rt==='"'?"Quote":"Apostrophe",lt=ne.createTracker(xe);let ct,ut;if(formatLinkAsAutolink(ee,ne)){const ht=ne.stack;ne.stack=[],ct=ne.enter("autolink");let ft=lt.move("<");return ft+=lt.move(ne.containerPhrasing(ee,{before:ft,after:">",...lt.current()})),ft+=lt.move(">"),ct(),ne.stack=ht,ft}ct=ne.enter("link"),ut=ne.enter("label");let dt=lt.move("[");return dt+=lt.move(ne.containerPhrasing(ee,{before:dt,after:"](",...lt.current()})),dt+=lt.move("]("),ut(),!ee.url&&ee.title||/[\0- \u007F]/.test(ee.url)?(ut=ne.enter("destinationLiteral"),dt+=lt.move("<"),dt+=lt.move(ne.safe(ee.url,{before:dt,after:">",...lt.current()})),dt+=lt.move(">")):(ut=ne.enter("destinationRaw"),dt+=lt.move(ne.safe(ee.url,{before:dt,after:ee.title?" ":")",...lt.current()}))),ut(),ee.title&&(ut=ne.enter(`title${it}`),dt+=lt.move(" "+rt),dt+=lt.move(ne.safe(ee.title,{before:dt,after:rt,...lt.current()})),dt+=lt.move(rt),ut()),dt+=lt.move(")"),ct(),dt}function linkPeek(ee,te,ne){return formatLinkAsAutolink(ee,ne)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(ee,te,ne,xe){const rt=ee.referenceType,it=ne.enter("linkReference");let lt=ne.enter("label");const ct=ne.createTracker(xe);let ut=ct.move("[");const dt=ne.containerPhrasing(ee,{before:ut,after:"]",...ct.current()});ut+=ct.move(dt+"]["),lt();const ht=ne.stack;ne.stack=[],lt=ne.enter("reference");const ft=ne.safe(ne.associationId(ee),{before:ut,after:"]",...ct.current()});return lt(),ne.stack=ht,it(),rt==="full"||!dt||dt!==ft?ut+=ct.move(ft+"]"):rt==="shortcut"?ut=ut.slice(0,-1):ut+=ct.move("]"),ut}function linkReferencePeek(){return"["}function checkBullet(ee){const te=ee.options.bullet||"*";if(te!=="*"&&te!=="+"&&te!=="-")throw new Error("Cannot serialize items with `"+te+"` for `options.bullet`, expected `*`, `+`, or `-`");return te}function checkBulletOther(ee){const te=checkBullet(ee),ne=ee.options.bulletOther;if(!ne)return te==="*"?"-":"*";if(ne!=="*"&&ne!=="+"&&ne!=="-")throw new Error("Cannot serialize items with `"+ne+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(ne===te)throw new Error("Expected `bullet` (`"+te+"`) and `bulletOther` (`"+ne+"`) to be different");return ne}function checkBulletOrdered(ee){const te=ee.options.bulletOrdered||".";if(te!=="."&&te!==")")throw new Error("Cannot serialize items with `"+te+"` for `options.bulletOrdered`, expected `.` or `)`");return te}function checkRule(ee){const te=ee.options.rule||"*";if(te!=="*"&&te!=="-"&&te!=="_")throw new Error("Cannot serialize rules with `"+te+"` for `options.rule`, expected `*`, `-`, or `_`");return te}function list(ee,te,ne,xe){const rt=ne.enter("list"),it=ne.bulletCurrent;let lt=ee.ordered?checkBulletOrdered(ne):checkBullet(ne);const ct=ee.ordered?lt==="."?")":".":checkBulletOther(ne);let ut=te&&ne.bulletLastUsed?lt===ne.bulletLastUsed:!1;if(!ee.ordered){const ht=ee.children?ee.children[0]:void 0;if((lt==="*"||lt==="-")&&ht&&(!ht.children||!ht.children[0])&&ne.stack[ne.stack.length-1]==="list"&&ne.stack[ne.stack.length-2]==="listItem"&&ne.stack[ne.stack.length-3]==="list"&&ne.stack[ne.stack.length-4]==="listItem"&&ne.indexStack[ne.indexStack.length-1]===0&&ne.indexStack[ne.indexStack.length-2]===0&&ne.indexStack[ne.indexStack.length-3]===0&&(ut=!0),checkRule(ne)===lt&&ht){let ft=-1;for(;++ft<ee.children.length;){const pt=ee.children[ft];if(pt&&pt.type==="listItem"&&pt.children&&pt.children[0]&&pt.children[0].type==="thematicBreak"){ut=!0;break}}}}ut&&(lt=ct),ne.bulletCurrent=lt;const dt=ne.containerFlow(ee,xe);return ne.bulletLastUsed=lt,ne.bulletCurrent=it,rt(),dt}function checkListItemIndent(ee){const te=ee.options.listItemIndent||"one";if(te!=="tab"&&te!=="one"&&te!=="mixed")throw new Error("Cannot serialize items with `"+te+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return te}function listItem(ee,te,ne,xe){const rt=checkListItemIndent(ne);let it=ne.bulletCurrent||checkBullet(ne);te&&te.type==="list"&&te.ordered&&(it=(typeof te.start=="number"&&te.start>-1?te.start:1)+(ne.options.incrementListMarker===!1?0:te.children.indexOf(ee))+it);let lt=it.length+1;(rt==="tab"||rt==="mixed"&&(te&&te.type==="list"&&te.spread||ee.spread))&&(lt=Math.ceil(lt/4)*4);const ct=ne.createTracker(xe);ct.move(it+" ".repeat(lt-it.length)),ct.shift(lt);const ut=ne.enter("listItem"),dt=ne.indentLines(ne.containerFlow(ee,ct.current()),ht);return ut(),dt;function ht(ft,pt,mt){return pt?(mt?"":" ".repeat(lt))+ft:(mt?it:it+" ".repeat(lt-it.length))+ft}}function paragraph(ee,te,ne,xe){const rt=ne.enter("paragraph"),it=ne.enter("phrasing"),lt=ne.containerPhrasing(ee,xe);return it(),rt(),lt}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root$3(ee,te,ne,xe){return(ee.children.some(function(lt){return phrasing(lt)})?ne.containerPhrasing:ne.containerFlow).call(ne,ee,xe)}function checkStrong(ee){const te=ee.options.strong||"*";if(te!=="*"&&te!=="_")throw new Error("Cannot serialize strong with `"+te+"` for `options.strong`, expected `*`, or `_`");return te}strong.peek=strongPeek;function strong(ee,te,ne,xe){const rt=checkStrong(ne),it=ne.enter("strong"),lt=ne.createTracker(xe),ct=lt.move(rt+rt);let ut=lt.move(ne.containerPhrasing(ee,{after:rt,before:ct,...lt.current()}));const dt=ut.charCodeAt(0),ht=encodeInfo(xe.before.charCodeAt(xe.before.length-1),dt,rt);ht.inside&&(ut=encodeCharacterReference(dt)+ut.slice(1));const ft=ut.charCodeAt(ut.length-1),pt=encodeInfo(xe.after.charCodeAt(0),ft,rt);pt.inside&&(ut=ut.slice(0,-1)+encodeCharacterReference(ft));const mt=lt.move(rt+rt);return it(),ne.attentionEncodeSurroundingInfo={after:pt.outside,before:ht.outside},ct+ut+mt}function strongPeek(ee,te,ne){return ne.options.strong||"*"}function text$4(ee,te,ne,xe){return ne.safe(ee.value,xe)}function checkRuleRepetition(ee){const te=ee.options.ruleRepetition||3;if(te<3)throw new Error("Cannot serialize rules with repetition `"+te+"` for `options.ruleRepetition`, expected `3` or more");return te}function thematicBreak(ee,te,ne){const xe=(checkRule(ne)+(ne.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(ne));return ne.options.ruleSpaces?xe.slice(0,-1):xe}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html:html$2,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root:root$3,strong,text:text$4,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(ee){const te=ee._align;this.enter({type:"table",align:te.map(function(ne){return ne==="none"?null:ne}),children:[]},ee),this.data.inTable=!0}function exitTable(ee){this.exit(ee),this.data.inTable=void 0}function enterRow(ee){this.enter({type:"tableRow",children:[]},ee)}function exit(ee){this.exit(ee)}function enterCell(ee){this.enter({type:"tableCell",children:[]},ee)}function exitCodeText(ee){let te=this.resume();this.data.inTable&&(te=te.replace(/\\([\\|])/g,replace$1));const ne=this.stack[this.stack.length-1];ne.type,ne.value=te,this.exit(ee)}function replace$1(ee,te){return te==="|"?te:ee}function gfmTableToMarkdown(ee){const te=ee||{},ne=te.tableCellPadding,xe=te.tablePipeAlign,rt=te.stringLength,it=ne?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:pt,table:lt,tableCell:ut,tableRow:ct}};function lt(mt,xt,yt,vt){return dt(ht(mt,yt,vt),mt.align)}function ct(mt,xt,yt,vt){const Et=ft(mt,yt,vt),_t=dt([Et]);return _t.slice(0,_t.indexOf(`
`))}function ut(mt,xt,yt,vt){const Et=yt.enter("tableCell"),_t=yt.enter("phrasing"),wt=yt.containerPhrasing(mt,{...vt,before:it,after:it});return _t(),Et(),wt}function dt(mt,xt){return markdownTable(mt,{align:xt,alignDelimiters:xe,padding:ne,stringLength:rt})}function ht(mt,xt,yt){const vt=mt.children;let Et=-1;const _t=[],wt=xt.enter("table");for(;++Et<vt.length;)_t[Et]=ft(vt[Et],xt,yt);return wt(),_t}function ft(mt,xt,yt){const vt=mt.children;let Et=-1;const _t=[],wt=xt.enter("tableRow");for(;++Et<vt.length;)_t[Et]=ut(vt[Et],mt,xt,yt);return wt(),_t}function pt(mt,xt,yt){let vt=handle.inlineCode(mt,xt,yt);return yt.stack.includes("tableCell")&&(vt=vt.replace(/\|/g,"\\$&")),vt}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(ee){const te=this.stack[this.stack.length-2];te.type,te.checked=ee.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(ee){const te=this.stack[this.stack.length-2];if(te&&te.type==="listItem"&&typeof te.checked=="boolean"){const ne=this.stack[this.stack.length-1];ne.type;const xe=ne.children[0];if(xe&&xe.type==="text"){const rt=te.children;let it=-1,lt;for(;++it<rt.length;){const ct=rt[it];if(ct.type==="paragraph"){lt=ct;break}}lt===ne&&(xe.value=xe.value.slice(1),xe.value.length===0?ne.children.shift():ne.position&&xe.position&&typeof xe.position.start.offset=="number"&&(xe.position.start.column++,xe.position.start.offset++,ne.position.start=Object.assign({},xe.position.start)))}}this.exit(ee)}function listItemWithTaskListItem(ee,te,ne,xe){const rt=ee.children[0],it=typeof ee.checked=="boolean"&&rt&&rt.type==="paragraph",lt="["+(ee.checked?"x":" ")+"] ",ct=ne.createTracker(xe);it&&ct.move(lt);let ut=handle.listItem(ee,te,ne,{...xe,...ct.current()});return it&&(ut=ut.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,dt)),ut;function dt(ht){return ht+lt}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(ee){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(ee),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(ee),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text$3={};function gfmAutolinkLiteral(){return{text:text$3}}let code=48;for(;code<123;)text$3[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text$3[43]=emailAutolink;text$3[45]=emailAutolink;text$3[46]=emailAutolink;text$3[95]=emailAutolink;text$3[72]=[emailAutolink,protocolAutolink];text$3[104]=[emailAutolink,protocolAutolink];text$3[87]=[emailAutolink,wwwAutolink];text$3[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(ee,te,ne){const xe=this;let rt,it;return lt;function lt(ft){return!gfmAtext(ft)||!previousEmail.call(xe,xe.previous)||previousUnbalanced(xe.events)?ne(ft):(ee.enter("literalAutolink"),ee.enter("literalAutolinkEmail"),ct(ft))}function ct(ft){return gfmAtext(ft)?(ee.consume(ft),ct):ft===64?(ee.consume(ft),ut):ne(ft)}function ut(ft){return ft===46?ee.check(emailDomainDotTrail,ht,dt)(ft):ft===45||ft===95||asciiAlphanumeric(ft)?(it=!0,ee.consume(ft),ut):ht(ft)}function dt(ft){return ee.consume(ft),rt=!0,ut}function ht(ft){return it&&rt&&asciiAlpha(xe.previous)?(ee.exit("literalAutolinkEmail"),ee.exit("literalAutolink"),te(ft)):ne(ft)}}function tokenizeWwwAutolink(ee,te,ne){const xe=this;return rt;function rt(lt){return lt!==87&&lt!==119||!previousWww.call(xe,xe.previous)||previousUnbalanced(xe.events)?ne(lt):(ee.enter("literalAutolink"),ee.enter("literalAutolinkWww"),ee.check(wwwPrefix,ee.attempt(domain,ee.attempt(path,it),ne),ne)(lt))}function it(lt){return ee.exit("literalAutolinkWww"),ee.exit("literalAutolink"),te(lt)}}function tokenizeProtocolAutolink(ee,te,ne){const xe=this;let rt="",it=!1;return lt;function lt(ft){return(ft===72||ft===104)&&previousProtocol.call(xe,xe.previous)&&!previousUnbalanced(xe.events)?(ee.enter("literalAutolink"),ee.enter("literalAutolinkHttp"),rt+=String.fromCodePoint(ft),ee.consume(ft),ct):ne(ft)}function ct(ft){if(asciiAlpha(ft)&&rt.length<5)return rt+=String.fromCodePoint(ft),ee.consume(ft),ct;if(ft===58){const pt=rt.toLowerCase();if(pt==="http"||pt==="https")return ee.consume(ft),ut}return ne(ft)}function ut(ft){return ft===47?(ee.consume(ft),it?dt:(it=!0,ut)):ne(ft)}function dt(ft){return ft===null||asciiControl(ft)||markdownLineEndingOrSpace(ft)||unicodeWhitespace(ft)||unicodePunctuation(ft)?ne(ft):ee.attempt(domain,ee.attempt(path,ht),ne)(ft)}function ht(ft){return ee.exit("literalAutolinkHttp"),ee.exit("literalAutolink"),te(ft)}}function tokenizeWwwPrefix(ee,te,ne){let xe=0;return rt;function rt(lt){return(lt===87||lt===119)&&xe<3?(xe++,ee.consume(lt),rt):lt===46&&xe===3?(ee.consume(lt),it):ne(lt)}function it(lt){return lt===null?ne(lt):te(lt)}}function tokenizeDomain(ee,te,ne){let xe,rt,it;return lt;function lt(dt){return dt===46||dt===95?ee.check(trail,ut,ct)(dt):dt===null||markdownLineEndingOrSpace(dt)||unicodeWhitespace(dt)||dt!==45&&unicodePunctuation(dt)?ut(dt):(it=!0,ee.consume(dt),lt)}function ct(dt){return dt===95?xe=!0:(rt=xe,xe=void 0),ee.consume(dt),lt}function ut(dt){return rt||xe||!it?ne(dt):te(dt)}}function tokenizePath(ee,te){let ne=0,xe=0;return rt;function rt(lt){return lt===40?(ne++,ee.consume(lt),rt):lt===41&&xe<ne?it(lt):lt===33||lt===34||lt===38||lt===39||lt===41||lt===42||lt===44||lt===46||lt===58||lt===59||lt===60||lt===63||lt===93||lt===95||lt===126?ee.check(trail,te,it)(lt):lt===null||markdownLineEndingOrSpace(lt)||unicodeWhitespace(lt)?te(lt):(ee.consume(lt),rt)}function it(lt){return lt===41&&xe++,ee.consume(lt),rt}}function tokenizeTrail(ee,te,ne){return xe;function xe(ct){return ct===33||ct===34||ct===39||ct===41||ct===42||ct===44||ct===46||ct===58||ct===59||ct===63||ct===95||ct===126?(ee.consume(ct),xe):ct===38?(ee.consume(ct),it):ct===93?(ee.consume(ct),rt):ct===60||ct===null||markdownLineEndingOrSpace(ct)||unicodeWhitespace(ct)?te(ct):ne(ct)}function rt(ct){return ct===null||ct===40||ct===91||markdownLineEndingOrSpace(ct)||unicodeWhitespace(ct)?te(ct):xe(ct)}function it(ct){return asciiAlpha(ct)?lt(ct):ne(ct)}function lt(ct){return ct===59?(ee.consume(ct),xe):asciiAlpha(ct)?(ee.consume(ct),lt):ne(ct)}}function tokenizeEmailDomainDotTrail(ee,te,ne){return xe;function xe(it){return ee.consume(it),rt}function rt(it){return asciiAlphanumeric(it)?ne(it):te(it)}}function previousWww(ee){return ee===null||ee===40||ee===42||ee===95||ee===91||ee===93||ee===126||markdownLineEndingOrSpace(ee)}function previousProtocol(ee){return!asciiAlpha(ee)}function previousEmail(ee){return!(ee===47||gfmAtext(ee))}function gfmAtext(ee){return ee===43||ee===45||ee===46||ee===95||asciiAlphanumeric(ee)}function previousUnbalanced(ee){let te=ee.length,ne=!1;for(;te--;){const xe=ee[te][1];if((xe.type==="labelLink"||xe.type==="labelImage")&&!xe._balanced){ne=!0;break}if(xe._gfmAutolinkLiteralWalkedInto){ne=!1;break}}return ee.length>0&&!ne&&(ee[ee.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),ne}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(ee,te,ne){const xe=this;let rt=xe.events.length;const it=xe.parser.gfmFootnotes||(xe.parser.gfmFootnotes=[]);let lt;for(;rt--;){const ut=xe.events[rt][1];if(ut.type==="labelImage"){lt=ut;break}if(ut.type==="gfmFootnoteCall"||ut.type==="labelLink"||ut.type==="label"||ut.type==="image"||ut.type==="link")break}return ct;function ct(ut){if(!lt||!lt._balanced)return ne(ut);const dt=normalizeIdentifier(xe.sliceSerialize({start:lt.end,end:xe.now()}));return dt.codePointAt(0)!==94||!it.includes(dt.slice(1))?ne(ut):(ee.enter("gfmFootnoteCallLabelMarker"),ee.consume(ut),ee.exit("gfmFootnoteCallLabelMarker"),te(ut))}}function resolveToPotentialGfmFootnoteCall(ee,te){let ne=ee.length;for(;ne--;)if(ee[ne][1].type==="labelImage"&&ee[ne][0]==="enter"){ee[ne][1];break}ee[ne+1][1].type="data",ee[ne+3][1].type="gfmFootnoteCallLabelMarker";const xe={type:"gfmFootnoteCall",start:Object.assign({},ee[ne+3][1].start),end:Object.assign({},ee[ee.length-1][1].end)},rt={type:"gfmFootnoteCallMarker",start:Object.assign({},ee[ne+3][1].end),end:Object.assign({},ee[ne+3][1].end)};rt.end.column++,rt.end.offset++,rt.end._bufferIndex++;const it={type:"gfmFootnoteCallString",start:Object.assign({},rt.end),end:Object.assign({},ee[ee.length-1][1].start)},lt={type:"chunkString",contentType:"string",start:Object.assign({},it.start),end:Object.assign({},it.end)},ct=[ee[ne+1],ee[ne+2],["enter",xe,te],ee[ne+3],ee[ne+4],["enter",rt,te],["exit",rt,te],["enter",it,te],["enter",lt,te],["exit",lt,te],["exit",it,te],ee[ee.length-2],ee[ee.length-1],["exit",xe,te]];return ee.splice(ne,ee.length-ne+1,...ct),ee}function tokenizeGfmFootnoteCall(ee,te,ne){const xe=this,rt=xe.parser.gfmFootnotes||(xe.parser.gfmFootnotes=[]);let it=0,lt;return ct;function ct(ft){return ee.enter("gfmFootnoteCall"),ee.enter("gfmFootnoteCallLabelMarker"),ee.consume(ft),ee.exit("gfmFootnoteCallLabelMarker"),ut}function ut(ft){return ft!==94?ne(ft):(ee.enter("gfmFootnoteCallMarker"),ee.consume(ft),ee.exit("gfmFootnoteCallMarker"),ee.enter("gfmFootnoteCallString"),ee.enter("chunkString").contentType="string",dt)}function dt(ft){if(it>999||ft===93&&!lt||ft===null||ft===91||markdownLineEndingOrSpace(ft))return ne(ft);if(ft===93){ee.exit("chunkString");const pt=ee.exit("gfmFootnoteCallString");return rt.includes(normalizeIdentifier(xe.sliceSerialize(pt)))?(ee.enter("gfmFootnoteCallLabelMarker"),ee.consume(ft),ee.exit("gfmFootnoteCallLabelMarker"),ee.exit("gfmFootnoteCall"),te):ne(ft)}return markdownLineEndingOrSpace(ft)||(lt=!0),it++,ee.consume(ft),ft===92?ht:dt}function ht(ft){return ft===91||ft===92||ft===93?(ee.consume(ft),it++,dt):dt(ft)}}function tokenizeDefinitionStart(ee,te,ne){const xe=this,rt=xe.parser.gfmFootnotes||(xe.parser.gfmFootnotes=[]);let it,lt=0,ct;return ut;function ut(xt){return ee.enter("gfmFootnoteDefinition")._container=!0,ee.enter("gfmFootnoteDefinitionLabel"),ee.enter("gfmFootnoteDefinitionLabelMarker"),ee.consume(xt),ee.exit("gfmFootnoteDefinitionLabelMarker"),dt}function dt(xt){return xt===94?(ee.enter("gfmFootnoteDefinitionMarker"),ee.consume(xt),ee.exit("gfmFootnoteDefinitionMarker"),ee.enter("gfmFootnoteDefinitionLabelString"),ee.enter("chunkString").contentType="string",ht):ne(xt)}function ht(xt){if(lt>999||xt===93&&!ct||xt===null||xt===91||markdownLineEndingOrSpace(xt))return ne(xt);if(xt===93){ee.exit("chunkString");const yt=ee.exit("gfmFootnoteDefinitionLabelString");return it=normalizeIdentifier(xe.sliceSerialize(yt)),ee.enter("gfmFootnoteDefinitionLabelMarker"),ee.consume(xt),ee.exit("gfmFootnoteDefinitionLabelMarker"),ee.exit("gfmFootnoteDefinitionLabel"),pt}return markdownLineEndingOrSpace(xt)||(ct=!0),lt++,ee.consume(xt),xt===92?ft:ht}function ft(xt){return xt===91||xt===92||xt===93?(ee.consume(xt),lt++,ht):ht(xt)}function pt(xt){return xt===58?(ee.enter("definitionMarker"),ee.consume(xt),ee.exit("definitionMarker"),rt.includes(it)||rt.push(it),factorySpace(ee,mt,"gfmFootnoteDefinitionWhitespace")):ne(xt)}function mt(xt){return te(xt)}}function tokenizeDefinitionContinuation(ee,te,ne){return ee.check(blankLine,te,ee.attempt(indent,te,ne))}function gfmFootnoteDefinitionEnd(ee){ee.exit("gfmFootnoteDefinition")}function tokenizeIndent(ee,te,ne){const xe=this;return factorySpace(ee,rt,"gfmFootnoteDefinitionIndent",5);function rt(it){const lt=xe.events[xe.events.length-1];return lt&&lt[1].type==="gfmFootnoteDefinitionIndent"&&lt[2].sliceSerialize(lt[1],!0).length===4?te(it):ne(it)}}function gfmStrikethrough(ee){let ne=(ee||{}).singleTilde;const xe={name:"strikethrough",tokenize:it,resolveAll:rt};return ne==null&&(ne=!0),{text:{126:xe},insideSpan:{null:[xe]},attentionMarkers:{null:[126]}};function rt(lt,ct){let ut=-1;for(;++ut<lt.length;)if(lt[ut][0]==="enter"&&lt[ut][1].type==="strikethroughSequenceTemporary"&&lt[ut][1]._close){let dt=ut;for(;dt--;)if(lt[dt][0]==="exit"&&lt[dt][1].type==="strikethroughSequenceTemporary"&&lt[dt][1]._open&&lt[ut][1].end.offset-lt[ut][1].start.offset===lt[dt][1].end.offset-lt[dt][1].start.offset){lt[ut][1].type="strikethroughSequence",lt[dt][1].type="strikethroughSequence";const ht={type:"strikethrough",start:Object.assign({},lt[dt][1].start),end:Object.assign({},lt[ut][1].end)},ft={type:"strikethroughText",start:Object.assign({},lt[dt][1].end),end:Object.assign({},lt[ut][1].start)},pt=[["enter",ht,ct],["enter",lt[dt][1],ct],["exit",lt[dt][1],ct],["enter",ft,ct]],mt=ct.parser.constructs.insideSpan.null;mt&&splice$1(pt,pt.length,0,resolveAll(mt,lt.slice(dt+1,ut),ct)),splice$1(pt,pt.length,0,[["exit",ft,ct],["enter",lt[ut][1],ct],["exit",lt[ut][1],ct],["exit",ht,ct]]),splice$1(lt,dt-1,ut-dt+3,pt),ut=dt+pt.length-2;break}}for(ut=-1;++ut<lt.length;)lt[ut][1].type==="strikethroughSequenceTemporary"&&(lt[ut][1].type="data");return lt}function it(lt,ct,ut){const dt=this.previous,ht=this.events;let ft=0;return pt;function pt(xt){return dt===126&&ht[ht.length-1][1].type!=="characterEscape"?ut(xt):(lt.enter("strikethroughSequenceTemporary"),mt(xt))}function mt(xt){const yt=classifyCharacter(dt);if(xt===126)return ft>1?ut(xt):(lt.consume(xt),ft++,mt);if(ft<2&&!ne)return ut(xt);const vt=lt.exit("strikethroughSequenceTemporary"),Et=classifyCharacter(xt);return vt._open=!Et||Et===2&&!!yt,vt._close=!yt||yt===2&&!!Et,ct(xt)}}}class EditMap{constructor(){this.map=[]}add(te,ne,xe){addImplementation(this,te,ne,xe)}consume(te){if(this.map.sort(function(it,lt){return it[0]-lt[0]}),this.map.length===0)return;let ne=this.map.length;const xe=[];for(;ne>0;)ne-=1,xe.push(te.slice(this.map[ne][0]+this.map[ne][1]),this.map[ne][2]),te.length=this.map[ne][0];xe.push(te.slice()),te.length=0;let rt=xe.pop();for(;rt;){for(const it of rt)te.push(it);rt=xe.pop()}this.map.length=0}}function addImplementation(ee,te,ne,xe){let rt=0;if(!(ne===0&&xe.length===0)){for(;rt<ee.map.length;){if(ee.map[rt][0]===te){ee.map[rt][1]+=ne,ee.map[rt][2].push(...xe);return}rt+=1}ee.map.push([te,ne,xe])}}function gfmTableAlign(ee,te){let ne=!1;const xe=[];for(;te<ee.length;){const rt=ee[te];if(ne){if(rt[0]==="enter")rt[1].type==="tableContent"&&xe.push(ee[te+1][1].type==="tableDelimiterMarker"?"left":"none");else if(rt[1].type==="tableContent"){if(ee[te-1][1].type==="tableDelimiterMarker"){const it=xe.length-1;xe[it]=xe[it]==="left"?"center":"right"}}else if(rt[1].type==="tableDelimiterRow")break}else rt[0]==="enter"&&rt[1].type==="tableDelimiterRow"&&(ne=!0);te+=1}return xe}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(ee,te,ne){const xe=this;let rt=0,it=0,lt;return ct;function ct(Ft){let Lt=xe.events.length-1;for(;Lt>-1;){const It=xe.events[Lt][1].type;if(It==="lineEnding"||It==="linePrefix")Lt--;else break}const Bt=Lt>-1?xe.events[Lt][1].type:null,Gt=Bt==="tableHead"||Bt==="tableRow"?jt:ut;return Gt===jt&&xe.parser.lazy[xe.now().line]?ne(Ft):Gt(Ft)}function ut(Ft){return ee.enter("tableHead"),ee.enter("tableRow"),dt(Ft)}function dt(Ft){return Ft===124||(lt=!0,it+=1),ht(Ft)}function ht(Ft){return Ft===null?ne(Ft):markdownLineEnding(Ft)?it>1?(it=0,xe.interrupt=!0,ee.exit("tableRow"),ee.enter("lineEnding"),ee.consume(Ft),ee.exit("lineEnding"),mt):ne(Ft):markdownSpace(Ft)?factorySpace(ee,ht,"whitespace")(Ft):(it+=1,lt&&(lt=!1,rt+=1),Ft===124?(ee.enter("tableCellDivider"),ee.consume(Ft),ee.exit("tableCellDivider"),lt=!0,ht):(ee.enter("data"),ft(Ft)))}function ft(Ft){return Ft===null||Ft===124||markdownLineEndingOrSpace(Ft)?(ee.exit("data"),ht(Ft)):(ee.consume(Ft),Ft===92?pt:ft)}function pt(Ft){return Ft===92||Ft===124?(ee.consume(Ft),ft):ft(Ft)}function mt(Ft){return xe.interrupt=!1,xe.parser.lazy[xe.now().line]?ne(Ft):(ee.enter("tableDelimiterRow"),lt=!1,markdownSpace(Ft)?factorySpace(ee,xt,"linePrefix",xe.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ft):xt(Ft))}function xt(Ft){return Ft===45||Ft===58?vt(Ft):Ft===124?(lt=!0,ee.enter("tableCellDivider"),ee.consume(Ft),ee.exit("tableCellDivider"),yt):Ct(Ft)}function yt(Ft){return markdownSpace(Ft)?factorySpace(ee,vt,"whitespace")(Ft):vt(Ft)}function vt(Ft){return Ft===58?(it+=1,lt=!0,ee.enter("tableDelimiterMarker"),ee.consume(Ft),ee.exit("tableDelimiterMarker"),Et):Ft===45?(it+=1,Et(Ft)):Ft===null||markdownLineEnding(Ft)?St(Ft):Ct(Ft)}function Et(Ft){return Ft===45?(ee.enter("tableDelimiterFiller"),_t(Ft)):Ct(Ft)}function _t(Ft){return Ft===45?(ee.consume(Ft),_t):Ft===58?(lt=!0,ee.exit("tableDelimiterFiller"),ee.enter("tableDelimiterMarker"),ee.consume(Ft),ee.exit("tableDelimiterMarker"),wt):(ee.exit("tableDelimiterFiller"),wt(Ft))}function wt(Ft){return markdownSpace(Ft)?factorySpace(ee,St,"whitespace")(Ft):St(Ft)}function St(Ft){return Ft===124?xt(Ft):Ft===null||markdownLineEnding(Ft)?!lt||rt!==it?Ct(Ft):(ee.exit("tableDelimiterRow"),ee.exit("tableHead"),te(Ft)):Ct(Ft)}function Ct(Ft){return ne(Ft)}function jt(Ft){return ee.enter("tableRow"),Rt(Ft)}function Rt(Ft){return Ft===124?(ee.enter("tableCellDivider"),ee.consume(Ft),ee.exit("tableCellDivider"),Rt):Ft===null||markdownLineEnding(Ft)?(ee.exit("tableRow"),te(Ft)):markdownSpace(Ft)?factorySpace(ee,Rt,"whitespace")(Ft):(ee.enter("data"),Pt(Ft))}function Pt(Ft){return Ft===null||Ft===124||markdownLineEndingOrSpace(Ft)?(ee.exit("data"),Rt(Ft)):(ee.consume(Ft),Ft===92?Ot:Pt)}function Ot(Ft){return Ft===92||Ft===124?(ee.consume(Ft),Pt):Pt(Ft)}}function resolveTable(ee,te){let ne=-1,xe=!0,rt=0,it=[0,0,0,0],lt=[0,0,0,0],ct=!1,ut=0,dt,ht,ft;const pt=new EditMap;for(;++ne<ee.length;){const mt=ee[ne],xt=mt[1];mt[0]==="enter"?xt.type==="tableHead"?(ct=!1,ut!==0&&(flushTableEnd(pt,te,ut,dt,ht),ht=void 0,ut=0),dt={type:"table",start:Object.assign({},xt.start),end:Object.assign({},xt.end)},pt.add(ne,0,[["enter",dt,te]])):xt.type==="tableRow"||xt.type==="tableDelimiterRow"?(xe=!0,ft=void 0,it=[0,0,0,0],lt=[0,ne+1,0,0],ct&&(ct=!1,ht={type:"tableBody",start:Object.assign({},xt.start),end:Object.assign({},xt.end)},pt.add(ne,0,[["enter",ht,te]])),rt=xt.type==="tableDelimiterRow"?2:ht?3:1):rt&&(xt.type==="data"||xt.type==="tableDelimiterMarker"||xt.type==="tableDelimiterFiller")?(xe=!1,lt[2]===0&&(it[1]!==0&&(lt[0]=lt[1],ft=flushCell(pt,te,it,rt,void 0,ft),it=[0,0,0,0]),lt[2]=ne)):xt.type==="tableCellDivider"&&(xe?xe=!1:(it[1]!==0&&(lt[0]=lt[1],ft=flushCell(pt,te,it,rt,void 0,ft)),it=lt,lt=[it[1],ne,0,0])):xt.type==="tableHead"?(ct=!0,ut=ne):xt.type==="tableRow"||xt.type==="tableDelimiterRow"?(ut=ne,it[1]!==0?(lt[0]=lt[1],ft=flushCell(pt,te,it,rt,ne,ft)):lt[1]!==0&&(ft=flushCell(pt,te,lt,rt,ne,ft)),rt=0):rt&&(xt.type==="data"||xt.type==="tableDelimiterMarker"||xt.type==="tableDelimiterFiller")&&(lt[3]=ne)}for(ut!==0&&flushTableEnd(pt,te,ut,dt,ht),pt.consume(te.events),ne=-1;++ne<te.events.length;){const mt=te.events[ne];mt[0]==="enter"&&mt[1].type==="table"&&(mt[1]._align=gfmTableAlign(te.events,ne))}return ee}function flushCell(ee,te,ne,xe,rt,it){const lt=xe===1?"tableHeader":xe===2?"tableDelimiter":"tableData",ct="tableContent";ne[0]!==0&&(it.end=Object.assign({},getPoint(te.events,ne[0])),ee.add(ne[0],0,[["exit",it,te]]));const ut=getPoint(te.events,ne[1]);if(it={type:lt,start:Object.assign({},ut),end:Object.assign({},ut)},ee.add(ne[1],0,[["enter",it,te]]),ne[2]!==0){const dt=getPoint(te.events,ne[2]),ht=getPoint(te.events,ne[3]),ft={type:ct,start:Object.assign({},dt),end:Object.assign({},ht)};if(ee.add(ne[2],0,[["enter",ft,te]]),xe!==2){const pt=te.events[ne[2]],mt=te.events[ne[3]];if(pt[1].end=Object.assign({},mt[1].end),pt[1].type="chunkText",pt[1].contentType="text",ne[3]>ne[2]+1){const xt=ne[2]+1,yt=ne[3]-ne[2]-1;ee.add(xt,yt,[])}}ee.add(ne[3]+1,0,[["exit",ft,te]])}return rt!==void 0&&(it.end=Object.assign({},getPoint(te.events,rt)),ee.add(rt,0,[["exit",it,te]]),it=void 0),it}function flushTableEnd(ee,te,ne,xe,rt){const it=[],lt=getPoint(te.events,ne);rt&&(rt.end=Object.assign({},lt),it.push(["exit",rt,te])),xe.end=Object.assign({},lt),it.push(["exit",xe,te]),ee.add(ne+1,0,it)}function getPoint(ee,te){const ne=ee[te],xe=ne[0]==="enter"?"start":"end";return ne[1][xe]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(ee,te,ne){const xe=this;return rt;function rt(ut){return xe.previous!==null||!xe._gfmTasklistFirstContentOfListItem?ne(ut):(ee.enter("taskListCheck"),ee.enter("taskListCheckMarker"),ee.consume(ut),ee.exit("taskListCheckMarker"),it)}function it(ut){return markdownLineEndingOrSpace(ut)?(ee.enter("taskListCheckValueUnchecked"),ee.consume(ut),ee.exit("taskListCheckValueUnchecked"),lt):ut===88||ut===120?(ee.enter("taskListCheckValueChecked"),ee.consume(ut),ee.exit("taskListCheckValueChecked"),lt):ne(ut)}function lt(ut){return ut===93?(ee.enter("taskListCheckMarker"),ee.consume(ut),ee.exit("taskListCheckMarker"),ee.exit("taskListCheck"),ct):ne(ut)}function ct(ut){return markdownLineEnding(ut)?te(ut):markdownSpace(ut)?ee.check({tokenize:spaceThenNonSpace},te,ne)(ut):ne(ut)}}function spaceThenNonSpace(ee,te,ne){return factorySpace(ee,xe,"whitespace");function xe(rt){return rt===null?ne(rt):te(rt)}}function gfm(ee){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(ee),gfmTable(),gfmTaskListItem()])}const emptyOptions$1={};function remarkGfm(ee){const te=this,ne=ee||emptyOptions$1,xe=te.data(),rt=xe.micromarkExtensions||(xe.micromarkExtensions=[]),it=xe.fromMarkdownExtensions||(xe.fromMarkdownExtensions=[]),lt=xe.toMarkdownExtensions||(xe.toMarkdownExtensions=[]);rt.push(gfm(ne)),it.push(gfmFromMarkdown()),lt.push(gfmToMarkdown(ne))}const search=/[#.]/g;function parseSelector(ee,te){const ne=ee||"",xe={};let rt=0,it,lt;for(;rt<ne.length;){search.lastIndex=rt;const ct=search.exec(ne),ut=ne.slice(rt,ct?ct.index:ne.length);ut&&(it?it==="#"?xe.id=ut:Array.isArray(xe.className)?xe.className.push(ut):xe.className=[ut]:lt=ut,rt+=ut.length),ct&&(it=ct[0],rt++)}return{type:"element",tagName:lt||te||"div",properties:xe,children:[]}}function createH(ee,te,ne){const xe=ne?createAdjustMap(ne):void 0;function rt(it,lt,...ct){let ut;if(it==null){ut={type:"root",children:[]};const dt=lt;ct.unshift(dt)}else{ut=parseSelector(it,te);const dt=ut.tagName.toLowerCase(),ht=xe?xe.get(dt):void 0;if(ut.tagName=ht||dt,isChild(lt))ct.unshift(lt);else for(const[ft,pt]of Object.entries(lt))addProperty(ee,ut.properties,ft,pt)}for(const dt of ct)addChild(ut.children,dt);return ut.type==="element"&&ut.tagName==="template"&&(ut.content={type:"root",children:ut.children},ut.children=[]),ut}return rt}function isChild(ee){if(ee===null||typeof ee!="object"||Array.isArray(ee))return!0;if(typeof ee.type!="string")return!1;const te=ee,ne=Object.keys(ee);for(const xe of ne){const rt=te[xe];if(rt&&typeof rt=="object"){if(!Array.isArray(rt))return!0;const it=rt;for(const lt of it)if(typeof lt!="number"&&typeof lt!="string")return!0}}return!!("children"in ee&&Array.isArray(ee.children))}function addProperty(ee,te,ne,xe){const rt=find$1(ee,ne);let it;if(xe!=null){if(typeof xe=="number"){if(Number.isNaN(xe))return;it=xe}else typeof xe=="boolean"?it=xe:typeof xe=="string"?rt.spaceSeparated?it=parse$3(xe):rt.commaSeparated?it=parse$4(xe):rt.commaOrSpaceSeparated?it=parse$3(parse$4(xe).join(" ")):it=parsePrimitive(rt,rt.property,xe):Array.isArray(xe)?it=[...xe]:it=rt.property==="style"?style$1(xe):String(xe);if(Array.isArray(it)){const lt=[];for(const ct of it)lt.push(parsePrimitive(rt,rt.property,ct));it=lt}rt.property==="className"&&Array.isArray(te.className)&&(it=te.className.concat(it)),te[rt.property]=it}}function addChild(ee,te){if(te!=null)if(typeof te=="number"||typeof te=="string")ee.push({type:"text",value:String(te)});else if(Array.isArray(te))for(const ne of te)addChild(ee,ne);else if(typeof te=="object"&&"type"in te)te.type==="root"?addChild(ee,te.children):ee.push(te);else throw new Error("Expected node, nodes, or string, got `"+te+"`")}function parsePrimitive(ee,te,ne){if(typeof ne=="string"){if(ee.number&&ne&&!Number.isNaN(Number(ne)))return Number(ne);if((ee.boolean||ee.overloadedBoolean)&&(ne===""||normalize$1(ne)===normalize$1(te)))return!0}return ne}function style$1(ee){const te=[];for(const[ne,xe]of Object.entries(ee))te.push([ne,xe].join(": "));return te.join("; ")}function createAdjustMap(ee){const te=new Map;for(const ne of ee)te.set(ne.toLowerCase(),ne);return te}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h$1=createH(html$4,"div"),s$1=createH(svg$2,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(ee,te){return transform$1(ee,{})||{type:"root",children:[]}}function transform$1(ee,te){const ne=one(ee,te);return ne&&te.afterTransform&&te.afterTransform(ee,ne),ne}function one(ee,te){switch(ee.nodeType){case 1:return element$1(ee,te);case 3:return text$2(ee);case 8:return comment$1(ee);case 9:return root$2(ee,te);case 10:return doctype();case 11:return root$2(ee,te);default:return}}function root$2(ee,te){return{type:"root",children:all(ee,te)}}function doctype(){return{type:"doctype"}}function text$2(ee){return{type:"text",value:ee.nodeValue||""}}function comment$1(ee){return{type:"comment",value:ee.nodeValue||""}}function element$1(ee,te){const ne=ee.namespaceURI,xe=ne===webNamespaces.svg?s$1:h$1,rt=ne===webNamespaces.html?ee.tagName.toLowerCase():ee.tagName,it=ne===webNamespaces.html&&rt==="template"?ee.content:ee,lt=ee.getAttributeNames(),ct={};let ut=-1;for(;++ut<lt.length;)ct[lt[ut]]=ee.getAttribute(lt[ut])||"";return xe(rt,ct,all(it,te))}function all(ee,te){const ne=ee.childNodes,xe=[];let rt=-1;for(;++rt<ne.length;){const it=transform$1(ne[rt],te);it!==void 0&&xe.push(it)}return xe}new DOMParser;function fromHtmlIsomorphic(ee,te){const ne=parseFragment(ee);return fromDom(ne)}function parseFragment(ee){const te=document.createElement("template");return te.innerHTML=ee,te.content}const findAfter=(function(ee,te,ne){const xe=convert(ne);if(!ee||!ee.type||!ee.children)throw new Error("Expected parent node");if(typeof te=="number"){if(te<0||te===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(te=ee.children.indexOf(te),te<0)throw new Error("Expected child node or index");for(;++te<ee.children.length;)if(xe(ee.children[te],te,ee))return ee.children[te]}),convertElement=(function(ee){if(ee==null)return element;if(typeof ee=="string")return tagNameFactory(ee);if(typeof ee=="object")return anyFactory(ee);if(typeof ee=="function")return castFactory(ee);throw new Error("Expected function, string, or array as `test`")});function anyFactory(ee){const te=[];let ne=-1;for(;++ne<ee.length;)te[ne]=convertElement(ee[ne]);return castFactory(xe);function xe(...rt){let it=-1;for(;++it<te.length;)if(te[it].apply(this,rt))return!0;return!1}}function tagNameFactory(ee){return castFactory(te);function te(ne){return ne.tagName===ee}}function castFactory(ee){return te;function te(ne,xe,rt){return!!(looksLikeAnElement(ne)&&ee.call(this,ne,typeof xe=="number"?xe:void 0,rt||void 0))}}function element(ee){return!!(ee&&typeof ee=="object"&&"type"in ee&&ee.type==="element"&&"tagName"in ee&&typeof ee.tagName=="string")}function looksLikeAnElement(ee){return ee!==null&&typeof ee=="object"&&"type"in ee&&"tagName"in ee}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p$1=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(ee,te){const ne=te||{},xe="children"in ee?ee.children:[],rt=blockOrCaption(ee),it=inferWhitespace(ee,{whitespace:ne.whitespace||"normal"}),lt=[];(ee.type==="text"||ee.type==="comment")&&lt.push(...collectText(ee,{breakBefore:!0,breakAfter:!0}));let ct=-1;for(;++ct<xe.length;)lt.push(...renderedTextCollection(xe[ct],ee,{whitespace:it,breakBefore:ct?void 0:rt,breakAfter:ct<xe.length-1?br(xe[ct+1]):rt}));const ut=[];let dt;for(ct=-1;++ct<lt.length;){const ht=lt[ct];typeof ht=="number"?dt!==void 0&&ht>dt&&(dt=ht):ht&&(dt!==void 0&&dt>-1&&ut.push(`
`.repeat(dt)||" "),dt=-1,ut.push(ht))}return ut.join("")}function renderedTextCollection(ee,te,ne){return ee.type==="element"?collectElement(ee,te,ne):ee.type==="text"?ne.whitespace==="normal"?collectText(ee,ne):collectPreText(ee):[]}function collectElement(ee,te,ne){const xe=inferWhitespace(ee,ne),rt=ee.children||[];let it=-1,lt=[];if(notRendered(ee))return lt;let ct,ut;for(br(ee)||row(ee)&&findAfter(te,ee,row)?ut=`
`:p$1(ee)?(ct=2,ut=2):blockOrCaption(ee)&&(ct=1,ut=1);++it<rt.length;)lt=lt.concat(renderedTextCollection(rt[it],ee,{whitespace:xe,breakBefore:it?void 0:ct,breakAfter:it<rt.length-1?br(rt[it+1]):ut}));return cell(ee)&&findAfter(te,ee,cell)&&lt.push("	"),ct&&lt.unshift(ct),ut&&lt.push(ut),lt}function collectText(ee,te){const ne=String(ee.value),xe=[],rt=[];let it=0;for(;it<=ne.length;){searchLineFeeds.lastIndex=it;const ut=searchLineFeeds.exec(ne),dt=ut&&"index"in ut?ut.index:ne.length;xe.push(trimAndCollapseSpacesAndTabs(ne.slice(it,dt).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),it===0?te.breakBefore:!0,dt===ne.length?te.breakAfter:!0)),it=dt+1}let lt=-1,ct;for(;++lt<xe.length;)xe[lt].charCodeAt(xe[lt].length-1)===8203||lt<xe.length-1&&xe[lt+1].charCodeAt(0)===8203?(rt.push(xe[lt]),ct=void 0):xe[lt]?(typeof ct=="number"&&rt.push(ct),rt.push(xe[lt]),ct=0):(lt===0||lt===xe.length-1)&&rt.push(0);return rt}function collectPreText(ee){return[String(ee.value)]}function trimAndCollapseSpacesAndTabs(ee,te,ne){const xe=[];let rt=0,it;for(;rt<ee.length;){searchTabOrSpaces.lastIndex=rt;const lt=searchTabOrSpaces.exec(ee);it=lt?lt.index:ee.length,!rt&&!it&&lt&&!te&&xe.push(""),rt!==it&&xe.push(ee.slice(rt,it)),rt=lt?it+lt[0].length:it}return rt!==it&&!ne&&xe.push(""),xe.join(" ")}function inferWhitespace(ee,te){if(ee.type==="element"){const ne=ee.properties||{};switch(ee.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return ne.wrap?"pre-wrap":"pre";case"td":case"th":return ne.noWrap?"nowrap":te.whitespace;case"textarea":return"pre-wrap"}}return te.whitespace}function hidden(ee){return!!(ee.properties||{}).hidden}function isCell(ee){return ee.tagName==="td"||ee.tagName==="th"}function closedDialog(ee){return ee.tagName==="dialog"&&!(ee.properties||{}).open}const emptyOptions={},emptyClasses=[];function rehypeKatex(ee){const te=ee||emptyOptions;return function(ne,xe){visitParents(ne,"element",function(rt,it){const lt=Array.isArray(rt.properties.className)?rt.properties.className:emptyClasses,ct=lt.includes("language-math"),ut=lt.includes("math-display"),dt=lt.includes("math-inline");let ht=ut;if(!ct&&!ut&&!dt)return;let ft=it[it.length-1],pt=rt;if(rt.tagName==="code"&&ct&&ft&&ft.type==="element"&&ft.tagName==="pre"&&(pt=ft,ft=it[it.length-2],ht=!0),!ft)return;const mt=toText(pt,{whitespace:"pre"});let xt;try{xt=katex.renderToString(mt,{...te,displayMode:ht,throwOnError:!0})}catch(vt){const Et=vt,_t=Et.name.toLowerCase();xe.message("Could not render math with KaTeX",{ancestors:[...it,rt],cause:Et,place:rt.position,ruleId:_t,source:"rehype-katex"});try{xt=katex.renderToString(mt,{...te,displayMode:ht,strict:"ignore",throwOnError:!1})}catch{xt=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(te.errorColor||"#cc0000"),title:String(vt)},children:[{type:"text",value:mt}]}]}}typeof xt=="string"&&(xt=fromHtmlIsomorphic(xt).children);const yt=ft.children.indexOf(pt);return ft.children.splice(yt,1,...xt),SKIP})}}var package_default={name:"mermaid",version:"11.12.3",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.23",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,(function(ee,te){(function(ne,xe){ee.exports=xe()})(dayjs_min,(function(){var ne=1e3,xe=6e4,rt=36e5,it="millisecond",lt="second",ct="minute",ut="hour",dt="day",ht="week",ft="month",pt="quarter",mt="year",xt="date",yt="Invalid Date",vt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Et=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_t={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(It){var qt=["th","st","nd","rd"],Nt=It%100;return"["+It+(qt[(Nt-20)%10]||qt[Nt]||qt[0])+"]"}},wt=function(It,qt,Nt){var Dt=String(It);return!Dt||Dt.length>=qt?It:""+Array(qt+1-Dt.length).join(Nt)+It},St={s:wt,z:function(It){var qt=-It.utcOffset(),Nt=Math.abs(qt),Dt=Math.floor(Nt/60),Tt=Nt%60;return(qt<=0?"+":"-")+wt(Dt,2,"0")+":"+wt(Tt,2,"0")},m:function It(qt,Nt){if(qt.date()<Nt.date())return-It(Nt,qt);var Dt=12*(Nt.year()-qt.year())+(Nt.month()-qt.month()),Tt=qt.clone().add(Dt,ft),Mt=Nt-Tt<0,$t=qt.clone().add(Dt+(Mt?-1:1),ft);return+(-(Dt+(Nt-Tt)/(Mt?Tt-$t:$t-Tt))||0)},a:function(It){return It<0?Math.ceil(It)||0:Math.floor(It)},p:function(It){return{M:ft,y:mt,w:ht,d:dt,D:xt,h:ut,m:ct,s:lt,ms:it,Q:pt}[It]||String(It||"").toLowerCase().replace(/s$/,"")},u:function(It){return It===void 0}},Ct="en",jt={};jt[Ct]=_t;var Rt="$isDayjsObject",Pt=function(It){return It instanceof Bt||!(!It||!It[Rt])},Ot=function It(qt,Nt,Dt){var Tt;if(!qt)return Ct;if(typeof qt=="string"){var Mt=qt.toLowerCase();jt[Mt]&&(Tt=Mt),Nt&&(jt[Mt]=Nt,Tt=Mt);var $t=qt.split("-");if(!Tt&&$t.length>1)return It($t[0])}else{var Ht=qt.name;jt[Ht]=qt,Tt=Ht}return!Dt&&Tt&&(Ct=Tt),Tt||!Dt&&Ct},Ft=function(It,qt){if(Pt(It))return It.clone();var Nt=typeof qt=="object"?qt:{};return Nt.date=It,Nt.args=arguments,new Bt(Nt)},Lt=St;Lt.l=Ot,Lt.i=Pt,Lt.w=function(It,qt){return Ft(It,{locale:qt.$L,utc:qt.$u,x:qt.$x,$offset:qt.$offset})};var Bt=(function(){function It(Nt){this.$L=Ot(Nt.locale,null,!0),this.parse(Nt),this.$x=this.$x||Nt.x||{},this[Rt]=!0}var qt=It.prototype;return qt.parse=function(Nt){this.$d=(function(Dt){var Tt=Dt.date,Mt=Dt.utc;if(Tt===null)return new Date(NaN);if(Lt.u(Tt))return new Date;if(Tt instanceof Date)return new Date(Tt);if(typeof Tt=="string"&&!/Z$/i.test(Tt)){var $t=Tt.match(vt);if($t){var Ht=$t[2]-1||0,Wt=($t[7]||"0").substring(0,3);return Mt?new Date(Date.UTC($t[1],Ht,$t[3]||1,$t[4]||0,$t[5]||0,$t[6]||0,Wt)):new Date($t[1],Ht,$t[3]||1,$t[4]||0,$t[5]||0,$t[6]||0,Wt)}}return new Date(Tt)})(Nt),this.init()},qt.init=function(){var Nt=this.$d;this.$y=Nt.getFullYear(),this.$M=Nt.getMonth(),this.$D=Nt.getDate(),this.$W=Nt.getDay(),this.$H=Nt.getHours(),this.$m=Nt.getMinutes(),this.$s=Nt.getSeconds(),this.$ms=Nt.getMilliseconds()},qt.$utils=function(){return Lt},qt.isValid=function(){return this.$d.toString()!==yt},qt.isSame=function(Nt,Dt){var Tt=Ft(Nt);return this.startOf(Dt)<=Tt&&Tt<=this.endOf(Dt)},qt.isAfter=function(Nt,Dt){return Ft(Nt)<this.startOf(Dt)},qt.isBefore=function(Nt,Dt){return this.endOf(Dt)<Ft(Nt)},qt.$g=function(Nt,Dt,Tt){return Lt.u(Nt)?this[Dt]:this.set(Tt,Nt)},qt.unix=function(){return Math.floor(this.valueOf()/1e3)},qt.valueOf=function(){return this.$d.getTime()},qt.startOf=function(Nt,Dt){var Tt=this,Mt=!!Lt.u(Dt)||Dt,$t=Lt.p(Nt),Ht=function(rr,ur){var Jt=Lt.w(Tt.$u?Date.UTC(Tt.$y,ur,rr):new Date(Tt.$y,ur,rr),Tt);return Mt?Jt:Jt.endOf(dt)},Wt=function(rr,ur){return Lt.w(Tt.toDate()[rr].apply(Tt.toDate("s"),(Mt?[0,0,0,0]:[23,59,59,999]).slice(ur)),Tt)},Vt=this.$W,Yt=this.$M,Qt=this.$D,ar="set"+(this.$u?"UTC":"");switch($t){case mt:return Mt?Ht(1,0):Ht(31,11);case ft:return Mt?Ht(1,Yt):Ht(0,Yt+1);case ht:var Xt=this.$locale().weekStart||0,tr=(Vt<Xt?Vt+7:Vt)-Xt;return Ht(Mt?Qt-tr:Qt+(6-tr),Yt);case dt:case xt:return Wt(ar+"Hours",0);case ut:return Wt(ar+"Minutes",1);case ct:return Wt(ar+"Seconds",2);case lt:return Wt(ar+"Milliseconds",3);default:return this.clone()}},qt.endOf=function(Nt){return this.startOf(Nt,!1)},qt.$set=function(Nt,Dt){var Tt,Mt=Lt.p(Nt),$t="set"+(this.$u?"UTC":""),Ht=(Tt={},Tt[dt]=$t+"Date",Tt[xt]=$t+"Date",Tt[ft]=$t+"Month",Tt[mt]=$t+"FullYear",Tt[ut]=$t+"Hours",Tt[ct]=$t+"Minutes",Tt[lt]=$t+"Seconds",Tt[it]=$t+"Milliseconds",Tt)[Mt],Wt=Mt===dt?this.$D+(Dt-this.$W):Dt;if(Mt===ft||Mt===mt){var Vt=this.clone().set(xt,1);Vt.$d[Ht](Wt),Vt.init(),this.$d=Vt.set(xt,Math.min(this.$D,Vt.daysInMonth())).$d}else Ht&&this.$d[Ht](Wt);return this.init(),this},qt.set=function(Nt,Dt){return this.clone().$set(Nt,Dt)},qt.get=function(Nt){return this[Lt.p(Nt)]()},qt.add=function(Nt,Dt){var Tt,Mt=this;Nt=Number(Nt);var $t=Lt.p(Dt),Ht=function(Yt){var Qt=Ft(Mt);return Lt.w(Qt.date(Qt.date()+Math.round(Yt*Nt)),Mt)};if($t===ft)return this.set(ft,this.$M+Nt);if($t===mt)return this.set(mt,this.$y+Nt);if($t===dt)return Ht(1);if($t===ht)return Ht(7);var Wt=(Tt={},Tt[ct]=xe,Tt[ut]=rt,Tt[lt]=ne,Tt)[$t]||1,Vt=this.$d.getTime()+Nt*Wt;return Lt.w(Vt,this)},qt.subtract=function(Nt,Dt){return this.add(-1*Nt,Dt)},qt.format=function(Nt){var Dt=this,Tt=this.$locale();if(!this.isValid())return Tt.invalidDate||yt;var Mt=Nt||"YYYY-MM-DDTHH:mm:ssZ",$t=Lt.z(this),Ht=this.$H,Wt=this.$m,Vt=this.$M,Yt=Tt.weekdays,Qt=Tt.months,ar=Tt.meridiem,Xt=function(ur,Jt,Zt,or){return ur&&(ur[Jt]||ur(Dt,Mt))||Zt[Jt].slice(0,or)},tr=function(ur){return Lt.s(Ht%12||12,ur,"0")},rr=ar||function(ur,Jt,Zt){var or=ur<12?"AM":"PM";return Zt?or.toLowerCase():or};return Mt.replace(Et,(function(ur,Jt){return Jt||(function(Zt){switch(Zt){case"YY":return String(Dt.$y).slice(-2);case"YYYY":return Lt.s(Dt.$y,4,"0");case"M":return Vt+1;case"MM":return Lt.s(Vt+1,2,"0");case"MMM":return Xt(Tt.monthsShort,Vt,Qt,3);case"MMMM":return Xt(Qt,Vt);case"D":return Dt.$D;case"DD":return Lt.s(Dt.$D,2,"0");case"d":return String(Dt.$W);case"dd":return Xt(Tt.weekdaysMin,Dt.$W,Yt,2);case"ddd":return Xt(Tt.weekdaysShort,Dt.$W,Yt,3);case"dddd":return Yt[Dt.$W];case"H":return String(Ht);case"HH":return Lt.s(Ht,2,"0");case"h":return tr(1);case"hh":return tr(2);case"a":return rr(Ht,Wt,!0);case"A":return rr(Ht,Wt,!1);case"m":return String(Wt);case"mm":return Lt.s(Wt,2,"0");case"s":return String(Dt.$s);case"ss":return Lt.s(Dt.$s,2,"0");case"SSS":return Lt.s(Dt.$ms,3,"0");case"Z":return $t}return null})(ur)||$t.replace(":","")}))},qt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},qt.diff=function(Nt,Dt,Tt){var Mt,$t=this,Ht=Lt.p(Dt),Wt=Ft(Nt),Vt=(Wt.utcOffset()-this.utcOffset())*xe,Yt=this-Wt,Qt=function(){return Lt.m($t,Wt)};switch(Ht){case mt:Mt=Qt()/12;break;case ft:Mt=Qt();break;case pt:Mt=Qt()/3;break;case ht:Mt=(Yt-Vt)/6048e5;break;case dt:Mt=(Yt-Vt)/864e5;break;case ut:Mt=Yt/rt;break;case ct:Mt=Yt/xe;break;case lt:Mt=Yt/ne;break;default:Mt=Yt}return Tt?Mt:Lt.a(Mt)},qt.daysInMonth=function(){return this.endOf(ft).$D},qt.$locale=function(){return jt[this.$L]},qt.locale=function(Nt,Dt){if(!Nt)return this.$L;var Tt=this.clone(),Mt=Ot(Nt,Dt,!0);return Mt&&(Tt.$L=Mt),Tt},qt.clone=function(){return Lt.w(this.$d,this)},qt.toDate=function(){return new Date(this.valueOf())},qt.toJSON=function(){return this.isValid()?this.toISOString():null},qt.toISOString=function(){return this.$d.toISOString()},qt.toString=function(){return this.$d.toUTCString()},It})(),Gt=Bt.prototype;return Ft.prototype=Gt,[["$ms",it],["$s",lt],["$m",ct],["$H",ut],["$W",dt],["$M",ft],["$y",mt],["$D",xt]].forEach((function(It){Gt[It[1]]=function(qt){return this.$g(qt,It[0],It[1])}})),Ft.extend=function(It,qt){return It.$i||(It(qt,Bt,Ft),It.$i=!0),Ft},Ft.locale=Ot,Ft.isDayjs=Pt,Ft.unix=function(It){return Ft(1e3*It)},Ft.en=jt[Ct],Ft.Ls=jt,Ft.p={},Ft}))})(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs2=getDefaultExportFromCjs(dayjs_minExports);var __defProp=Object.defineProperty,__name=(ee,te)=>__defProp(ee,"name",{value:te,configurable:!0}),__export=(ee,te)=>{for(var ne in te)__defProp(ee,ne,{get:te[ne],enumerable:!0})},LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log={trace:__name((...ee)=>{},"trace"),debug:__name((...ee)=>{},"debug"),info:__name((...ee)=>{},"info"),warn:__name((...ee)=>{},"warn"),error:__name((...ee)=>{},"error"),fatal:__name((...ee)=>{},"fatal")},setLogLevel=__name(function(ee="fatal"){let te=LEVELS.fatal;typeof ee=="string"?ee.toLowerCase()in LEVELS&&(te=LEVELS[ee]):typeof ee=="number"&&(te=ee),log.trace=()=>{},log.debug=()=>{},log.info=()=>{},log.warn=()=>{},log.error=()=>{},log.fatal=()=>{},te<=LEVELS.fatal&&(log.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),te<=LEVELS.error&&(log.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),te<=LEVELS.warn&&(log.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),te<=LEVELS.info&&(log.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),te<=LEVELS.debug&&(log.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),te<=LEVELS.trace&&(log.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},"setLogLevel"),format=__name(ee=>`%c${dayjs2().format("ss.SSS")} : ${ee} : `,"format");const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:ee=>ee>=255?255:ee<0?0:ee,g:ee=>ee>=255?255:ee<0?0:ee,b:ee=>ee>=255?255:ee<0?0:ee,h:ee=>ee%360,s:ee=>ee>=100?100:ee<0?0:ee,l:ee=>ee>=100?100:ee<0?0:ee,a:ee=>ee>=1?1:ee<0?0:ee},toLinear:ee=>{const te=ee/255;return ee>.03928?Math.pow((te+.055)/1.055,2.4):te/12.92},hue2rgb:(ee,te,ne)=>(ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?ee+(te-ee)*6*ne:ne<1/2?te:ne<2/3?ee+(te-ee)*(2/3-ne)*6:ee),hsl2rgb:({h:ee,s:te,l:ne},xe)=>{if(!te)return ne*2.55;ee/=360,te/=100,ne/=100;const rt=ne<.5?ne*(1+te):ne+te-ne*te,it=2*ne-rt;switch(xe){case"r":return Channel.hue2rgb(it,rt,ee+1/3)*255;case"g":return Channel.hue2rgb(it,rt,ee)*255;case"b":return Channel.hue2rgb(it,rt,ee-1/3)*255}},rgb2hsl:({r:ee,g:te,b:ne},xe)=>{ee/=255,te/=255,ne/=255;const rt=Math.max(ee,te,ne),it=Math.min(ee,te,ne),lt=(rt+it)/2;if(xe==="l")return lt*100;if(rt===it)return 0;const ct=rt-it,ut=lt>.5?ct/(2-rt-it):ct/(rt+it);if(xe==="s")return ut*100;switch(rt){case ee:return((te-ne)/ct+(te<ne?6:0))*60;case te:return((ne-ee)/ct+2)*60;case ne:return((ee-te)/ct+4)*60;default:return-1}}},Lang={clamp:(ee,te,ne)=>te>ne?Math.min(te,Math.max(ne,ee)):Math.min(ne,Math.max(te,ee)),round:ee=>Math.round(ee*1e10)/1e10},Unit={dec2hex:ee=>{const te=Math.round(ee).toString(16);return te.length>1?te:`0${te}`}},Utils={channel:Channel,lang:Lang,unit:Unit},DEC2HEX={};for(let ee=0;ee<=255;ee++)DEC2HEX[ee]=Utils.unit.dec2hex(ee);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(te){if(this.type&&this.type!==te)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=te}reset(){this.type=TYPE.ALL}is(te){return this.type===te}}class Channels{constructor(te,ne){this.color=ne,this.changed=!1,this.data=te,this.type=new Type}set(te,ne){return this.color=ne,this.changed=!1,this.data=te,this.type.type=TYPE.ALL,this}_ensureHSL(){const te=this.data,{h:ne,s:xe,l:rt}=te;ne===void 0&&(te.h=Utils.channel.rgb2hsl(te,"h")),xe===void 0&&(te.s=Utils.channel.rgb2hsl(te,"s")),rt===void 0&&(te.l=Utils.channel.rgb2hsl(te,"l"))}_ensureRGB(){const te=this.data,{r:ne,g:xe,b:rt}=te;ne===void 0&&(te.r=Utils.channel.hsl2rgb(te,"r")),xe===void 0&&(te.g=Utils.channel.hsl2rgb(te,"g")),rt===void 0&&(te.b=Utils.channel.hsl2rgb(te,"b"))}get r(){const te=this.data,ne=te.r;return!this.type.is(TYPE.HSL)&&ne!==void 0?ne:(this._ensureHSL(),Utils.channel.hsl2rgb(te,"r"))}get g(){const te=this.data,ne=te.g;return!this.type.is(TYPE.HSL)&&ne!==void 0?ne:(this._ensureHSL(),Utils.channel.hsl2rgb(te,"g"))}get b(){const te=this.data,ne=te.b;return!this.type.is(TYPE.HSL)&&ne!==void 0?ne:(this._ensureHSL(),Utils.channel.hsl2rgb(te,"b"))}get h(){const te=this.data,ne=te.h;return!this.type.is(TYPE.RGB)&&ne!==void 0?ne:(this._ensureRGB(),Utils.channel.rgb2hsl(te,"h"))}get s(){const te=this.data,ne=te.s;return!this.type.is(TYPE.RGB)&&ne!==void 0?ne:(this._ensureRGB(),Utils.channel.rgb2hsl(te,"s"))}get l(){const te=this.data,ne=te.l;return!this.type.is(TYPE.RGB)&&ne!==void 0?ne:(this._ensureRGB(),Utils.channel.rgb2hsl(te,"l"))}get a(){return this.data.a}set r(te){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=te}set g(te){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=te}set b(te){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=te}set h(te){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=te}set s(te){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=te}set l(te){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=te}set a(te){this.changed=!0,this.data.a=te}}const channels=new Channels({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:ee=>{if(ee.charCodeAt(0)!==35)return;const te=ee.match(Hex.re);if(!te)return;const ne=te[1],xe=parseInt(ne,16),rt=ne.length,it=rt%4===0,lt=rt>4,ct=lt?1:17,ut=lt?8:4,dt=it?0:-1,ht=lt?255:15;return channels.set({r:(xe>>ut*(dt+3)&ht)*ct,g:(xe>>ut*(dt+2)&ht)*ct,b:(xe>>ut*(dt+1)&ht)*ct,a:it?(xe&ht)*ct/255:1},ee)},stringify:ee=>{const{r:te,g:ne,b:xe,a:rt}=ee;return rt<1?`#${DEC2HEX[Math.round(te)]}${DEC2HEX[Math.round(ne)]}${DEC2HEX[Math.round(xe)]}${DEC2HEX[Math.round(rt*255)]}`:`#${DEC2HEX[Math.round(te)]}${DEC2HEX[Math.round(ne)]}${DEC2HEX[Math.round(xe)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:ee=>{const te=ee.match(HSL.hueRe);if(te){const[,ne,xe]=te;switch(xe){case"grad":return Utils.channel.clamp.h(parseFloat(ne)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(ne)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(ne)*360)}}return Utils.channel.clamp.h(parseFloat(ee))},parse:ee=>{const te=ee.charCodeAt(0);if(te!==104&&te!==72)return;const ne=ee.match(HSL.re);if(!ne)return;const[,xe,rt,it,lt,ct]=ne;return channels.set({h:HSL._hue2deg(xe),s:Utils.channel.clamp.s(parseFloat(rt)),l:Utils.channel.clamp.l(parseFloat(it)),a:lt?Utils.channel.clamp.a(ct?parseFloat(lt)/100:parseFloat(lt)):1},ee)},stringify:ee=>{const{h:te,s:ne,l:xe,a:rt}=ee;return rt<1?`hsla(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}%, ${Utils.lang.round(xe)}%, ${rt})`:`hsl(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}%, ${Utils.lang.round(xe)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:ee=>{ee=ee.toLowerCase();const te=Keyword.colors[ee];if(te)return Hex.parse(te)},stringify:ee=>{const te=Hex.stringify(ee);for(const ne in Keyword.colors)if(Keyword.colors[ne]===te)return ne}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:ee=>{const te=ee.charCodeAt(0);if(te!==114&&te!==82)return;const ne=ee.match(RGB.re);if(!ne)return;const[,xe,rt,it,lt,ct,ut,dt,ht]=ne;return channels.set({r:Utils.channel.clamp.r(rt?parseFloat(xe)*2.55:parseFloat(xe)),g:Utils.channel.clamp.g(lt?parseFloat(it)*2.55:parseFloat(it)),b:Utils.channel.clamp.b(ut?parseFloat(ct)*2.55:parseFloat(ct)),a:dt?Utils.channel.clamp.a(ht?parseFloat(dt)/100:parseFloat(dt)):1},ee)},stringify:ee=>{const{r:te,g:ne,b:xe,a:rt}=ee;return rt<1?`rgba(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}, ${Utils.lang.round(xe)}, ${Utils.lang.round(rt)})`:`rgb(${Utils.lang.round(te)}, ${Utils.lang.round(ne)}, ${Utils.lang.round(xe)})`}},Color={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:ee=>{if(typeof ee!="string")return ee;const te=Hex.parse(ee)||RGB.parse(ee)||HSL.parse(ee)||Keyword.parse(ee);if(te)return te;throw new Error(`Unsupported color format: "${ee}"`)},stringify:ee=>!ee.changed&&ee.color?ee.color:ee.type.is(TYPE.HSL)||ee.data.r===void 0?HSL.stringify(ee):ee.a<1||!Number.isInteger(ee.r)||!Number.isInteger(ee.g)||!Number.isInteger(ee.b)?RGB.stringify(ee):Hex.stringify(ee)},change=(ee,te)=>{const ne=Color.parse(ee);for(const xe in te)ne[xe]=Utils.channel.clamp[xe](te[xe]);return Color.stringify(ne)},rgba=(ee,te,ne=0,xe=1)=>{if(typeof ee!="number")return change(ee,{a:te});const rt=channels.set({r:Utils.channel.clamp.r(ee),g:Utils.channel.clamp.g(te),b:Utils.channel.clamp.b(ne),a:Utils.channel.clamp.a(xe)});return Color.stringify(rt)},luminance=ee=>{const{r:te,g:ne,b:xe}=Color.parse(ee),rt=.2126*Utils.channel.toLinear(te)+.7152*Utils.channel.toLinear(ne)+.0722*Utils.channel.toLinear(xe);return Utils.lang.round(rt)},isLight=ee=>luminance(ee)>=.5,isDark=ee=>!isLight(ee),adjustChannel=(ee,te,ne)=>{const xe=Color.parse(ee),rt=xe[te],it=Utils.channel.clamp[te](rt+ne);return rt!==it&&(xe[te]=it),Color.stringify(xe)},lighten=(ee,te)=>adjustChannel(ee,"l",te),darken=(ee,te)=>adjustChannel(ee,"l",-te),adjust=(ee,te)=>{const ne=Color.parse(ee),xe={};for(const rt in te)te[rt]&&(xe[rt]=ne[rt]+te[rt]);return change(ee,xe)},mix=(ee,te,ne=50)=>{const{r:xe,g:rt,b:it,a:lt}=Color.parse(ee),{r:ct,g:ut,b:dt,a:ht}=Color.parse(te),ft=ne/100,pt=ft*2-1,mt=lt-ht,yt=((pt*mt===-1?pt:(pt+mt)/(1+pt*mt))+1)/2,vt=1-yt,Et=xe*yt+ct*vt,_t=rt*yt+ut*vt,wt=it*yt+dt*vt,St=lt*ft+ht*(1-ft);return rgba(Et,_t,wt,St)},invert=(ee,te=100)=>{const ne=Color.parse(ee);return ne.r=255-ne.r,ne.g=255-ne.g,ne.b=255-ne.b,mix(ne,ee,te)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$1}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(te){return te});seal||(seal=function(te){return te});apply$1||(apply$1=function(te,ne){for(var xe=arguments.length,rt=new Array(xe>2?xe-2:0),it=2;it<xe;it++)rt[it-2]=arguments[it];return te.apply(ne,rt)});construct||(construct=function(te){for(var ne=arguments.length,xe=new Array(ne>1?ne-1:0),rt=1;rt<ne;rt++)xe[rt-1]=arguments[rt];return new te(...xe)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(ee){return function(te){te instanceof RegExp&&(te.lastIndex=0);for(var ne=arguments.length,xe=new Array(ne>1?ne-1:0),rt=1;rt<ne;rt++)xe[rt-1]=arguments[rt];return apply$1(ee,te,xe)}}function unconstruct(ee){return function(){for(var te=arguments.length,ne=new Array(te),xe=0;xe<te;xe++)ne[xe]=arguments[xe];return construct(ee,ne)}}function addToSet(ee,te){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(ee,null);let xe=te.length;for(;xe--;){let rt=te[xe];if(typeof rt=="string"){const it=ne(rt);it!==rt&&(isFrozen(te)||(te[xe]=it),rt=it)}ee[rt]=!0}return ee}function cleanArray(ee){for(let te=0;te<ee.length;te++)objectHasOwnProperty(ee,te)||(ee[te]=null);return ee}function clone(ee){const te=create$1(null);for(const[ne,xe]of entries(ee))objectHasOwnProperty(ee,ne)&&(Array.isArray(xe)?te[ne]=cleanArray(xe):xe&&typeof xe=="object"&&xe.constructor===Object?te[ne]=clone(xe):te[ne]=xe);return te}function lookupGetter(ee,te){for(;ee!==null;){const xe=getOwnPropertyDescriptor(ee,te);if(xe){if(xe.get)return unapply(xe.get);if(typeof xe.value=="function")return unapply(xe.value)}ee=getPrototypeOf(ee)}function ne(){return null}return ne}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$1=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function(te,ne){if(typeof te!="object"||typeof te.createPolicy!="function")return null;let xe=null;const rt="data-tt-policy-suffix";ne&&ne.hasAttribute(rt)&&(xe=ne.getAttribute(rt));const it="dompurify"+(xe?"#"+xe:"");try{return te.createPolicy(it,{createHTML(lt){return lt},createScriptURL(lt){return lt}})}catch{return console.warn("TrustedTypes policy "+it+" could not be created."),null}},_createHooksMap=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const te=qr=>createDOMPurify(qr);if(te.version="3.3.1",te.removed=[],!ee||!ee.document||ee.document.nodeType!==NODE_TYPE.document||!ee.Element)return te.isSupported=!1,te;let{document:ne}=ee;const xe=ne,rt=xe.currentScript,{DocumentFragment:it,HTMLTemplateElement:lt,Node:ct,Element:ut,NodeFilter:dt,NamedNodeMap:ht=ee.NamedNodeMap||ee.MozNamedAttrMap,HTMLFormElement:ft,DOMParser:pt,trustedTypes:mt}=ee,xt=ut.prototype,yt=lookupGetter(xt,"cloneNode"),vt=lookupGetter(xt,"remove"),Et=lookupGetter(xt,"nextSibling"),_t=lookupGetter(xt,"childNodes"),wt=lookupGetter(xt,"parentNode");if(typeof lt=="function"){const qr=ne.createElement("template");qr.content&&qr.content.ownerDocument&&(ne=qr.content.ownerDocument)}let St,Ct="";const{implementation:jt,createNodeIterator:Rt,createDocumentFragment:Pt,getElementsByTagName:Ot}=ne,{importNode:Ft}=xe;let Lt=_createHooksMap();te.isSupported=typeof entries=="function"&&typeof wt=="function"&&jt&&jt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Bt,ERB_EXPR:Gt,TMPLIT_EXPR:It,DATA_ATTR:qt,ARIA_ATTR:Nt,IS_SCRIPT_OR_DATA:Dt,ATTR_WHITESPACE:Tt,CUSTOM_ELEMENT:Mt}=EXPRESSIONS;let{IS_ALLOWED_URI:$t}=EXPRESSIONS,Ht=null;const Wt=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text$1]);let Vt=null;const Yt=addToSet({},[...html,...svg,...mathMl,...xml]);let Qt=Object.seal(create$1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ar=null,Xt=null;const tr=Object.seal(create$1(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let rr=!0,ur=!0,Jt=!1,Zt=!0,or=!1,dr=!0,Ar=!1,Nr=!1,Mr=!1,Gr=!1,Yr=!1,en=!1,Jr=!0,on=!1;const sn="user-content-";let an=!0,dn=!1,pr={},Er=null;const sr=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let vr=null;const Pr=addToSet({},["audio","video","img","source","image","track"]);let Kr=null;const Ln=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kn="http://www.w3.org/1998/Math/MathML",qn="http://www.w3.org/2000/svg",vn="http://www.w3.org/1999/xhtml";let fn=vn,$n=!1,bn=null;const ni=addToSet({},[kn,qn,vn],stringToString);let mi=addToSet({},["mi","mo","mn","ms","mtext"]),Wn=addToSet({},["annotation-xml"]);const ii=addToSet({},["title","style","font","a","script"]);let gi=null;const Ki=["application/xhtml+xml","text/html"],Li="text/html";let En=null,yr=null;const $r=ne.createElement("form"),tn=function(nr){return nr instanceof RegExp||nr instanceof Function},yn=function(){let nr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(yr&&yr===nr)){if((!nr||typeof nr!="object")&&(nr={}),nr=clone(nr),gi=Ki.indexOf(nr.PARSER_MEDIA_TYPE)===-1?Li:nr.PARSER_MEDIA_TYPE,En=gi==="application/xhtml+xml"?stringToString:stringToLowerCase,Ht=objectHasOwnProperty(nr,"ALLOWED_TAGS")?addToSet({},nr.ALLOWED_TAGS,En):Wt,Vt=objectHasOwnProperty(nr,"ALLOWED_ATTR")?addToSet({},nr.ALLOWED_ATTR,En):Yt,bn=objectHasOwnProperty(nr,"ALLOWED_NAMESPACES")?addToSet({},nr.ALLOWED_NAMESPACES,stringToString):ni,Kr=objectHasOwnProperty(nr,"ADD_URI_SAFE_ATTR")?addToSet(clone(Ln),nr.ADD_URI_SAFE_ATTR,En):Ln,vr=objectHasOwnProperty(nr,"ADD_DATA_URI_TAGS")?addToSet(clone(Pr),nr.ADD_DATA_URI_TAGS,En):Pr,Er=objectHasOwnProperty(nr,"FORBID_CONTENTS")?addToSet({},nr.FORBID_CONTENTS,En):sr,ar=objectHasOwnProperty(nr,"FORBID_TAGS")?addToSet({},nr.FORBID_TAGS,En):clone({}),Xt=objectHasOwnProperty(nr,"FORBID_ATTR")?addToSet({},nr.FORBID_ATTR,En):clone({}),pr=objectHasOwnProperty(nr,"USE_PROFILES")?nr.USE_PROFILES:!1,rr=nr.ALLOW_ARIA_ATTR!==!1,ur=nr.ALLOW_DATA_ATTR!==!1,Jt=nr.ALLOW_UNKNOWN_PROTOCOLS||!1,Zt=nr.ALLOW_SELF_CLOSE_IN_ATTR!==!1,or=nr.SAFE_FOR_TEMPLATES||!1,dr=nr.SAFE_FOR_XML!==!1,Ar=nr.WHOLE_DOCUMENT||!1,Gr=nr.RETURN_DOM||!1,Yr=nr.RETURN_DOM_FRAGMENT||!1,en=nr.RETURN_TRUSTED_TYPE||!1,Mr=nr.FORCE_BODY||!1,Jr=nr.SANITIZE_DOM!==!1,on=nr.SANITIZE_NAMED_PROPS||!1,an=nr.KEEP_CONTENT!==!1,dn=nr.IN_PLACE||!1,$t=nr.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,fn=nr.NAMESPACE||vn,mi=nr.MATHML_TEXT_INTEGRATION_POINTS||mi,Wn=nr.HTML_INTEGRATION_POINTS||Wn,Qt=nr.CUSTOM_ELEMENT_HANDLING||{},nr.CUSTOM_ELEMENT_HANDLING&&tn(nr.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Qt.tagNameCheck=nr.CUSTOM_ELEMENT_HANDLING.tagNameCheck),nr.CUSTOM_ELEMENT_HANDLING&&tn(nr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Qt.attributeNameCheck=nr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),nr.CUSTOM_ELEMENT_HANDLING&&typeof nr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Qt.allowCustomizedBuiltInElements=nr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),or&&(ur=!1),Yr&&(Gr=!0),pr&&(Ht=addToSet({},text$1),Vt=[],pr.html===!0&&(addToSet(Ht,html$1),addToSet(Vt,html)),pr.svg===!0&&(addToSet(Ht,svg$1),addToSet(Vt,svg),addToSet(Vt,xml)),pr.svgFilters===!0&&(addToSet(Ht,svgFilters),addToSet(Vt,svg),addToSet(Vt,xml)),pr.mathMl===!0&&(addToSet(Ht,mathMl$1),addToSet(Vt,mathMl),addToSet(Vt,xml))),nr.ADD_TAGS&&(typeof nr.ADD_TAGS=="function"?tr.tagCheck=nr.ADD_TAGS:(Ht===Wt&&(Ht=clone(Ht)),addToSet(Ht,nr.ADD_TAGS,En))),nr.ADD_ATTR&&(typeof nr.ADD_ATTR=="function"?tr.attributeCheck=nr.ADD_ATTR:(Vt===Yt&&(Vt=clone(Vt)),addToSet(Vt,nr.ADD_ATTR,En))),nr.ADD_URI_SAFE_ATTR&&addToSet(Kr,nr.ADD_URI_SAFE_ATTR,En),nr.FORBID_CONTENTS&&(Er===sr&&(Er=clone(Er)),addToSet(Er,nr.FORBID_CONTENTS,En)),nr.ADD_FORBID_CONTENTS&&(Er===sr&&(Er=clone(Er)),addToSet(Er,nr.ADD_FORBID_CONTENTS,En)),an&&(Ht["#text"]=!0),Ar&&addToSet(Ht,["html","head","body"]),Ht.table&&(addToSet(Ht,["tbody"]),delete ar.tbody),nr.TRUSTED_TYPES_POLICY){if(typeof nr.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof nr.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');St=nr.TRUSTED_TYPES_POLICY,Ct=St.createHTML("")}else St===void 0&&(St=_createTrustedTypesPolicy(mt,rt)),St!==null&&typeof Ct=="string"&&(Ct=St.createHTML(""));freeze&&freeze(nr),yr=nr}},Sn=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),mn=addToSet({},[...mathMl$1,...mathMlDisallowed]),as=function(nr){let Cr=wt(nr);(!Cr||!Cr.tagName)&&(Cr={namespaceURI:fn,tagName:"template"});const Or=stringToLowerCase(nr.tagName),xn=stringToLowerCase(Cr.tagName);return bn[nr.namespaceURI]?nr.namespaceURI===qn?Cr.namespaceURI===vn?Or==="svg":Cr.namespaceURI===kn?Or==="svg"&&(xn==="annotation-xml"||mi[xn]):!!Sn[Or]:nr.namespaceURI===kn?Cr.namespaceURI===vn?Or==="math":Cr.namespaceURI===qn?Or==="math"&&Wn[xn]:!!mn[Or]:nr.namespaceURI===vn?Cr.namespaceURI===qn&&!Wn[xn]||Cr.namespaceURI===kn&&!mi[xn]?!1:!mn[Or]&&(ii[Or]||!Sn[Or]):!!(gi==="application/xhtml+xml"&&bn[nr.namespaceURI]):!1},_n=function(nr){arrayPush(te.removed,{element:nr});try{wt(nr).removeChild(nr)}catch{vt(nr)}},Dn=function(nr,Cr){try{arrayPush(te.removed,{attribute:Cr.getAttributeNode(nr),from:Cr})}catch{arrayPush(te.removed,{attribute:null,from:Cr})}if(Cr.removeAttribute(nr),nr==="is")if(Gr||Yr)try{_n(Cr)}catch{}else try{Cr.setAttribute(nr,"")}catch{}},si=function(nr){let Cr=null,Or=null;if(Mr)nr="<remove></remove>"+nr;else{const Cn=stringMatch(nr,/^[\r\n\t ]+/);Or=Cn&&Cn[0]}gi==="application/xhtml+xml"&&fn===vn&&(nr='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+nr+"</body></html>");const xn=St?St.createHTML(nr):nr;if(fn===vn)try{Cr=new pt().parseFromString(xn,gi)}catch{}if(!Cr||!Cr.documentElement){Cr=jt.createDocument(fn,"template",null);try{Cr.documentElement.innerHTML=$n?Ct:xn}catch{}}const rn=Cr.body||Cr.documentElement;return nr&&Or&&rn.insertBefore(ne.createTextNode(Or),rn.childNodes[0]||null),fn===vn?Ot.call(Cr,Ar?"html":"body")[0]:Ar?Cr.documentElement:rn},bi=function(nr){return Rt.call(nr.ownerDocument||nr,nr,dt.SHOW_ELEMENT|dt.SHOW_COMMENT|dt.SHOW_TEXT|dt.SHOW_PROCESSING_INSTRUCTION|dt.SHOW_CDATA_SECTION,null)},Ei=function(nr){return nr instanceof ft&&(typeof nr.nodeName!="string"||typeof nr.textContent!="string"||typeof nr.removeChild!="function"||!(nr.attributes instanceof ht)||typeof nr.removeAttribute!="function"||typeof nr.setAttribute!="function"||typeof nr.namespaceURI!="string"||typeof nr.insertBefore!="function"||typeof nr.hasChildNodes!="function")},xi=function(nr){return typeof ct=="function"&&nr instanceof ct};function Yn(qr,nr,Cr){arrayForEach(qr,Or=>{Or.call(te,nr,Cr,yr)})}const ai=function(nr){let Cr=null;if(Yn(Lt.beforeSanitizeElements,nr,null),Ei(nr))return _n(nr),!0;const Or=En(nr.nodeName);if(Yn(Lt.uponSanitizeElement,nr,{tagName:Or,allowedTags:Ht}),dr&&nr.hasChildNodes()&&!xi(nr.firstElementChild)&&regExpTest(/<[/\w!]/g,nr.innerHTML)&&regExpTest(/<[/\w!]/g,nr.textContent)||nr.nodeType===NODE_TYPE.progressingInstruction||dr&&nr.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,nr.data))return _n(nr),!0;if(!(tr.tagCheck instanceof Function&&tr.tagCheck(Or))&&(!Ht[Or]||ar[Or])){if(!ar[Or]&&Xi(Or)&&(Qt.tagNameCheck instanceof RegExp&&regExpTest(Qt.tagNameCheck,Or)||Qt.tagNameCheck instanceof Function&&Qt.tagNameCheck(Or)))return!1;if(an&&!Er[Or]){const xn=wt(nr)||nr.parentNode,rn=_t(nr)||nr.childNodes;if(rn&&xn){const Cn=rn.length;for(let Mn=Cn-1;Mn>=0;--Mn){const wn=yt(rn[Mn],!0);wn.__removalCount=(nr.__removalCount||0)+1,xn.insertBefore(wn,Et(nr))}}}return _n(nr),!0}return nr instanceof ut&&!as(nr)||(Or==="noscript"||Or==="noembed"||Or==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,nr.innerHTML)?(_n(nr),!0):(or&&nr.nodeType===NODE_TYPE.text&&(Cr=nr.textContent,arrayForEach([Bt,Gt,It],xn=>{Cr=stringReplace(Cr,xn," ")}),nr.textContent!==Cr&&(arrayPush(te.removed,{element:nr.cloneNode()}),nr.textContent=Cr)),Yn(Lt.afterSanitizeElements,nr,null),!1)},Yi=function(nr,Cr,Or){if(Jr&&(Cr==="id"||Cr==="name")&&(Or in ne||Or in $r))return!1;if(!(ur&&!Xt[Cr]&&regExpTest(qt,Cr))){if(!(rr&&regExpTest(Nt,Cr))){if(!(tr.attributeCheck instanceof Function&&tr.attributeCheck(Cr,nr))){if(!Vt[Cr]||Xt[Cr]){if(!(Xi(nr)&&(Qt.tagNameCheck instanceof RegExp&&regExpTest(Qt.tagNameCheck,nr)||Qt.tagNameCheck instanceof Function&&Qt.tagNameCheck(nr))&&(Qt.attributeNameCheck instanceof RegExp&&regExpTest(Qt.attributeNameCheck,Cr)||Qt.attributeNameCheck instanceof Function&&Qt.attributeNameCheck(Cr,nr))||Cr==="is"&&Qt.allowCustomizedBuiltInElements&&(Qt.tagNameCheck instanceof RegExp&&regExpTest(Qt.tagNameCheck,Or)||Qt.tagNameCheck instanceof Function&&Qt.tagNameCheck(Or))))return!1}else if(!Kr[Cr]){if(!regExpTest($t,stringReplace(Or,Tt,""))){if(!((Cr==="src"||Cr==="xlink:href"||Cr==="href")&&nr!=="script"&&stringIndexOf(Or,"data:")===0&&vr[nr])){if(!(Jt&&!regExpTest(Dt,stringReplace(Or,Tt,"")))){if(Or)return!1}}}}}}}return!0},Xi=function(nr){return nr!=="annotation-xml"&&stringMatch(nr,Mt)},gs=function(nr){Yn(Lt.beforeSanitizeAttributes,nr,null);const{attributes:Cr}=nr;if(!Cr||Ei(nr))return;const Or={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Vt,forceKeepAttr:void 0};let xn=Cr.length;for(;xn--;){const rn=Cr[xn],{name:Cn,namespaceURI:Mn,value:wn}=rn,Fn=En(Cn),ei=wn;let Rn=Cn==="value"?ei:stringTrim(ei);if(Or.attrName=Fn,Or.attrValue=Rn,Or.keepAttr=!0,Or.forceKeepAttr=void 0,Yn(Lt.uponSanitizeAttribute,nr,Or),Rn=Or.attrValue,on&&(Fn==="id"||Fn==="name")&&(Dn(Cn,nr),Rn=sn+Rn),dr&&regExpTest(/((--!?|])>)|<\/(style|title|textarea)/i,Rn)){Dn(Cn,nr);continue}if(Fn==="attributename"&&stringMatch(Rn,"href")){Dn(Cn,nr);continue}if(Or.forceKeepAttr)continue;if(!Or.keepAttr){Dn(Cn,nr);continue}if(!Zt&&regExpTest(/\/>/i,Rn)){Dn(Cn,nr);continue}or&&arrayForEach([Bt,Gt,It],Xn=>{Rn=stringReplace(Rn,Xn," ")});const oi=En(nr.nodeName);if(!Yi(oi,Fn,Rn)){Dn(Cn,nr);continue}if(St&&typeof mt=="object"&&typeof mt.getAttributeType=="function"&&!Mn)switch(mt.getAttributeType(oi,Fn)){case"TrustedHTML":{Rn=St.createHTML(Rn);break}case"TrustedScriptURL":{Rn=St.createScriptURL(Rn);break}}if(Rn!==ei)try{Mn?nr.setAttributeNS(Mn,Cn,Rn):nr.setAttribute(Cn,Rn),Ei(nr)?_n(nr):arrayPop(te.removed)}catch{Dn(Cn,nr)}}Yn(Lt.afterSanitizeAttributes,nr,null)},Ms=function qr(nr){let Cr=null;const Or=bi(nr);for(Yn(Lt.beforeSanitizeShadowDOM,nr,null);Cr=Or.nextNode();)Yn(Lt.uponSanitizeShadowNode,Cr,null),ai(Cr),gs(Cr),Cr.content instanceof it&&qr(Cr.content);Yn(Lt.afterSanitizeShadowDOM,nr,null)};return te.sanitize=function(qr){let nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Cr=null,Or=null,xn=null,rn=null;if($n=!qr,$n&&(qr="<!-->"),typeof qr!="string"&&!xi(qr))if(typeof qr.toString=="function"){if(qr=qr.toString(),typeof qr!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!te.isSupported)return qr;if(Nr||yn(nr),te.removed=[],typeof qr=="string"&&(dn=!1),dn){if(qr.nodeName){const wn=En(qr.nodeName);if(!Ht[wn]||ar[wn])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(qr instanceof ct)Cr=si("<!---->"),Or=Cr.ownerDocument.importNode(qr,!0),Or.nodeType===NODE_TYPE.element&&Or.nodeName==="BODY"||Or.nodeName==="HTML"?Cr=Or:Cr.appendChild(Or);else{if(!Gr&&!or&&!Ar&&qr.indexOf("<")===-1)return St&&en?St.createHTML(qr):qr;if(Cr=si(qr),!Cr)return Gr?null:en?Ct:""}Cr&&Mr&&_n(Cr.firstChild);const Cn=bi(dn?qr:Cr);for(;xn=Cn.nextNode();)ai(xn),gs(xn),xn.content instanceof it&&Ms(xn.content);if(dn)return qr;if(Gr){if(Yr)for(rn=Pt.call(Cr.ownerDocument);Cr.firstChild;)rn.appendChild(Cr.firstChild);else rn=Cr;return(Vt.shadowroot||Vt.shadowrootmode)&&(rn=Ft.call(xe,rn,!0)),rn}let Mn=Ar?Cr.outerHTML:Cr.innerHTML;return Ar&&Ht["!doctype"]&&Cr.ownerDocument&&Cr.ownerDocument.doctype&&Cr.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Cr.ownerDocument.doctype.name)&&(Mn="<!DOCTYPE "+Cr.ownerDocument.doctype.name+`>
`+Mn),or&&arrayForEach([Bt,Gt,It],wn=>{Mn=stringReplace(Mn,wn," ")}),St&&en?St.createHTML(Mn):Mn},te.setConfig=function(){let qr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yn(qr),Nr=!0},te.clearConfig=function(){yr=null,Nr=!1},te.isValidAttribute=function(qr,nr,Cr){yr||yn({});const Or=En(qr),xn=En(nr);return Yi(Or,xn,Cr)},te.addHook=function(qr,nr){typeof nr=="function"&&arrayPush(Lt[qr],nr)},te.removeHook=function(qr,nr){if(nr!==void 0){const Cr=arrayLastIndexOf(Lt[qr],nr);return Cr===-1?void 0:arraySplice(Lt[qr],Cr,1)[0]}return arrayPop(Lt[qr])},te.removeHooks=function(qr){Lt[qr]=[]},te.removeAllHooks=function(){Lt=_createHooksMap()},te}var purify=createDOMPurify(),frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm,UnknownDiagramError=class extends Error{static{__name(this,"UnknownDiagramError")}constructor(ee){super(ee),this.name="UnknownDiagramError"}},detectors={},detectType$1=__name(function(ee,te){ee=ee.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[ne,{detector:xe}]of Object.entries(detectors))if(xe(ee,te))return ne;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${ee}`)},"detectType"),registerLazyLoadedDiagrams=__name((...ee)=>{for(const{id:te,detector:ne,loader:xe}of ee)addDetector(te,ne,xe)},"registerLazyLoadedDiagrams"),addDetector=__name((ee,te,ne)=>{detectors[ee]&&log.warn(`Detector with key ${ee} already exists. Overwriting.`),detectors[ee]={detector:te,loader:ne},log.debug(`Detector with key ${ee} added${ne?" with loader":""}`)},"addDetector"),getDiagramLoader=__name(ee=>detectors[ee].loader,"getDiagramLoader"),assignWithDepth=__name((ee,te,{depth:ne=2,clobber:xe=!1}={})=>{const rt={depth:ne,clobber:xe};return Array.isArray(te)&&!Array.isArray(ee)?(te.forEach(it=>assignWithDepth(ee,it,rt)),ee):Array.isArray(te)&&Array.isArray(ee)?(te.forEach(it=>{ee.includes(it)||ee.push(it)}),ee):ee===void 0||ne<=0?ee!=null&&typeof ee=="object"&&typeof te=="object"?Object.assign(ee,te):te:(te!==void 0&&typeof ee=="object"&&typeof te=="object"&&Object.keys(te).forEach(it=>{typeof te[it]=="object"&&(ee[it]===void 0||typeof ee[it]=="object")?(ee[it]===void 0&&(ee[it]=Array.isArray(te[it])?[]:{}),ee[it]=assignWithDepth(ee[it],te[it],{depth:ne-1,clobber:xe})):(xe||typeof ee[it]!="object"&&typeof te[it]!="object")&&(ee[it]=te[it])}),ee)},"assignWithDepth"),assignWithDepth_default=assignWithDepth,oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2",mkBorder=__name((ee,te)=>te?adjust(ee,{s:-40,l:10}):adjust(ee,{s:-40,l:-10}),"mkBorder"),Theme=class{static{__name(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||darken(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||darken(this.mainBkg,10)):(this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let te=0;te<this.THEME_COLOR_LIMIT;te++)this["cScale"+te]=darken(this["cScale"+te],75);else for(let te=0;te<this.THEME_COLOR_LIMIT;te++)this["cScale"+te]=darken(this["cScale"+te],25);for(let te=0;te<this.THEME_COLOR_LIMIT;te++)this["cScaleInv"+te]=this["cScaleInv"+te]||invert(this["cScale"+te]);for(let te=0;te<this.THEME_COLOR_LIMIT;te++)this.darkMode?this["cScalePeer"+te]=this["cScalePeer"+te]||lighten(this["cScale"+te],10):this["cScalePeer"+te]=this["cScalePeer"+te]||darken(this["cScale"+te],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let te=0;te<this.THEME_COLOR_LIMIT;te++)this["cScaleLabel"+te]=this["cScaleLabel"+te]||this.scaleLabelColor;const ee=this.darkMode?-4:-1;for(let te=0;te<5;te++)this["surface"+te]=this["surface"+te]||adjust(this.mainBkg,{h:180,s:-15,l:ee*(5+te*3)}),this["surfacePeer"+te]=this["surfacePeer"+te]||adjust(this.mainBkg,{h:180,s:-15,l:ee*(8+te*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const te=Object.keys(ee);te.forEach(ne=>{this[ne]=ee[ne]}),this.updateColors(),te.forEach(ne=>{this[ne]=ee[ne]})}},getThemeVariables=__name(ee=>{const te=new Theme;return te.calculate(ee),te},"getThemeVariables"),Theme2=class{static{__name(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=rgba(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||lighten(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||darken(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleInv"+ee]=this["cScaleInv"+ee]||invert(this["cScale"+ee]);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScalePeer"+ee]=this["cScalePeer"+ee]||lighten(this["cScale"+ee],10);for(let ee=0;ee<5;ee++)this["surface"+ee]=this["surface"+ee]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+ee*4)}),this["surfacePeer"+ee]=this["surfacePeer"+ee]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+ee*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleLabel"+ee]=this["cScaleLabel"+ee]||this.scaleLabelColor;for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["pie"+ee]=this["cScale"+ee];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const te=Object.keys(ee);te.forEach(ne=>{this[ne]=ee[ne]}),this.updateColors(),te.forEach(ne=>{this[ne]=ee[ne]})}},getThemeVariables2=__name(ee=>{const te=new Theme2;return te.calculate(ee),te},"getThemeVariables"),Theme3=class{static{__name(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=rgba(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScale"+ee]=darken(this["cScale"+ee],10),this["cScalePeer"+ee]=this["cScalePeer"+ee]||darken(this["cScale"+ee],25);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleInv"+ee]=this["cScaleInv"+ee]||adjust(this["cScale"+ee],{h:180});for(let ee=0;ee<5;ee++)this["surface"+ee]=this["surface"+ee]||adjust(this.mainBkg,{h:30,l:-(5+ee*5)}),this["surfacePeer"+ee]=this["surfacePeer"+ee]||adjust(this.mainBkg,{h:30,l:-(7+ee*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleLabel"+ee]=this["cScaleLabel"+ee]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||lighten(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(Object.keys(this).forEach(ne=>{this[ne]==="calculated"&&(this[ne]=void 0)}),typeof ee!="object"){this.updateColors();return}const te=Object.keys(ee);te.forEach(ne=>{this[ne]=ee[ne]}),this.updateColors(),te.forEach(ne=>{this[ne]=ee[ne]})}},getThemeVariables3=__name(ee=>{const te=new Theme3;return te.calculate(ee),te},"getThemeVariables"),Theme4=class{static{__name(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScale"+ee]=darken(this["cScale"+ee],10),this["cScalePeer"+ee]=this["cScalePeer"+ee]||darken(this["cScale"+ee],25);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleInv"+ee]=this["cScaleInv"+ee]||adjust(this["cScale"+ee],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleLabel"+ee]=this["cScaleLabel"+ee]||this.scaleLabelColor;for(let ee=0;ee<5;ee++)this["surface"+ee]=this["surface"+ee]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+ee*5)}),this["surfacePeer"+ee]=this["surfacePeer"+ee]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+ee*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||lighten(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const te=Object.keys(ee);te.forEach(ne=>{this[ne]=ee[ne]}),this.updateColors(),te.forEach(ne=>{this[ne]=ee[ne]})}},getThemeVariables4=__name(ee=>{const te=new Theme4;return te.calculate(ee),te},"getThemeVariables"),Theme5=class{static{__name(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||lighten(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleInv"+ee]=this["cScaleInv"+ee]||invert(this["cScale"+ee]);for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this.darkMode?this["cScalePeer"+ee]=this["cScalePeer"+ee]||lighten(this["cScale"+ee],10):this["cScalePeer"+ee]=this["cScalePeer"+ee]||darken(this["cScale"+ee],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["cScaleLabel"+ee]=this["cScaleLabel"+ee]||this.scaleLabelColor;for(let ee=0;ee<5;ee++)this["surface"+ee]=this["surface"+ee]||adjust(this.mainBkg,{l:-(5+ee*5)}),this["surfacePeer"+ee]=this["surfacePeer"+ee]||adjust(this.mainBkg,{l:-(8+ee*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let ee=0;ee<this.THEME_COLOR_LIMIT;ee++)this["pie"+ee]=this["cScale"+ee];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(ee){if(typeof ee!="object"){this.updateColors();return}const te=Object.keys(ee);te.forEach(ne=>{this[ne]=ee[ne]}),this.updateColors(),te.forEach(ne=>{this[ne]=ee[ne]})}},getThemeVariables5=__name(ee=>{const te=new Theme5;return te.calculate(ee),te},"getThemeVariables"),themes_default={base:{getThemeVariables},dark:{getThemeVariables:getThemeVariables2},default:{getThemeVariables:getThemeVariables3},forest:{getThemeVariables:getThemeVariables4},neutral:{getThemeVariables:getThemeVariables5}},config_schema_default={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},config={...config_schema_default,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:themes_default.default.getThemeVariables(),sequence:{...config_schema_default.sequence,messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:__name(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:__name(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...config_schema_default.gantt,tickInterval:void 0,useWidth:void 0},c4:{...config_schema_default.c4,useWidth:void 0,personFont:__name(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...config_schema_default.flowchart,inheritDir:!1},external_personFont:__name(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:__name(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:__name(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:__name(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:__name(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:__name(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:__name(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:__name(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:__name(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:__name(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:__name(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:__name(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:__name(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:__name(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:__name(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:__name(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:__name(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:__name(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:__name(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:__name(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:__name(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...config_schema_default.pie,useWidth:984},xyChart:{...config_schema_default.xyChart,useWidth:void 0},requirement:{...config_schema_default.requirement,useWidth:void 0},packet:{...config_schema_default.packet},radar:{...config_schema_default.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},keyify=__name((ee,te="")=>Object.keys(ee).reduce((ne,xe)=>Array.isArray(ee[xe])?ne:typeof ee[xe]=="object"&&ee[xe]!==null?[...ne,te+xe,...keyify(ee[xe],"")]:[...ne,te+xe],[]),"keyify"),configKeys=new Set(keyify(config,"")),defaultConfig_default=config,sanitizeDirective=__name(ee=>{if(log.debug("sanitizeDirective called with",ee),!(typeof ee!="object"||ee==null)){if(Array.isArray(ee)){ee.forEach(te=>sanitizeDirective(te));return}for(const te of Object.keys(ee)){if(log.debug("Checking key",te),te.startsWith("__")||te.includes("proto")||te.includes("constr")||!configKeys.has(te)||ee[te]==null){log.debug("sanitize deleting key: ",te),delete ee[te];continue}if(typeof ee[te]=="object"){log.debug("sanitizing object",te),sanitizeDirective(ee[te]);continue}const ne=["themeCSS","fontFamily","altFontFamily"];for(const xe of ne)te.includes(xe)&&(log.debug("sanitizing css option",te),ee[te]=sanitizeCss(ee[te]))}if(ee.themeVariables)for(const te of Object.keys(ee.themeVariables)){const ne=ee.themeVariables[te];ne?.match&&!ne.match(/^[\d "#%(),.;A-Za-z]+$/)&&(ee.themeVariables[te]="")}log.debug("After sanitization",ee)}},"sanitizeDirective"),sanitizeCss=__name(ee=>{let te=0,ne=0;for(const xe of ee){if(te<ne)return"{ /* ERROR: Unbalanced CSS */ }";xe==="{"?te++:xe==="}"&&ne++}return te!==ne?"{ /* ERROR: Unbalanced CSS */ }":ee},"sanitizeCss"),defaultConfig=Object.freeze(defaultConfig_default),siteConfig=assignWithDepth_default({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth_default({},defaultConfig),updateCurrentConfig=__name((ee,te)=>{let ne=assignWithDepth_default({},ee),xe={};for(const rt of te)sanitize(rt),xe=assignWithDepth_default(xe,rt);if(ne=assignWithDepth_default(ne,xe),xe.theme&&xe.theme in themes_default){const rt=assignWithDepth_default({},configFromInitialize),it=assignWithDepth_default(rt.themeVariables||{},xe.themeVariables);ne.theme&&ne.theme in themes_default&&(ne.themeVariables=themes_default[ne.theme].getThemeVariables(it))}return currentConfig=ne,checkConfig(currentConfig),currentConfig},"updateCurrentConfig"),setSiteConfig=__name(ee=>(siteConfig=assignWithDepth_default({},defaultConfig),siteConfig=assignWithDepth_default(siteConfig,ee),ee.theme&&themes_default[ee.theme]&&(siteConfig.themeVariables=themes_default[ee.theme].getThemeVariables(ee.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),"setSiteConfig"),saveConfigFromInitialize=__name(ee=>{configFromInitialize=assignWithDepth_default({},ee)},"saveConfigFromInitialize"),updateSiteConfig=__name(ee=>(siteConfig=assignWithDepth_default(siteConfig,ee),updateCurrentConfig(siteConfig,directives),siteConfig),"updateSiteConfig"),getSiteConfig=__name(()=>assignWithDepth_default({},siteConfig),"getSiteConfig"),setConfig=__name(ee=>(checkConfig(ee),assignWithDepth_default(currentConfig,ee),getConfig()),"setConfig"),getConfig=__name(()=>assignWithDepth_default({},currentConfig),"getConfig"),sanitize=__name(ee=>{ee&&(["secure",...siteConfig.secure??[]].forEach(te=>{Object.hasOwn(ee,te)&&(log.debug(`Denied attempt to modify a secure key ${te}`,ee[te]),delete ee[te])}),Object.keys(ee).forEach(te=>{te.startsWith("__")&&delete ee[te]}),Object.keys(ee).forEach(te=>{typeof ee[te]=="string"&&(ee[te].includes("<")||ee[te].includes(">")||ee[te].includes("url(data:"))&&delete ee[te],typeof ee[te]=="object"&&sanitize(ee[te])}))},"sanitize"),addDirective=__name(ee=>{sanitizeDirective(ee),ee.fontFamily&&!ee.themeVariables?.fontFamily&&(ee.themeVariables={...ee.themeVariables,fontFamily:ee.fontFamily}),directives.push(ee),updateCurrentConfig(siteConfig,directives)},"addDirective"),reset=__name((ee=siteConfig)=>{directives=[],updateCurrentConfig(ee,directives)},"reset"),ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=__name(ee=>{issuedWarnings[ee]||(log.warn(ConfigWarning[ee]),issuedWarnings[ee]=!0)},"issueWarning"),checkConfig=__name(ee=>{ee&&(ee.lazyLoadedDiagrams||ee.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},"checkConfig"),getUserDefinedConfig=__name(()=>{let ee={};configFromInitialize&&(ee=assignWithDepth_default(ee,configFromInitialize));for(const te of directives)ee=assignWithDepth_default(ee,te);return ee},"getUserDefinedConfig"),lineBreakRegex=/<br\s*\/?>/gi,getRows=__name(ee=>ee?breakToPlaceholder(ee).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),setupDompurifyHooksIfNotSetup=(()=>{let ee=!1;return()=>{ee||(setupDompurifyHooks(),ee=!0)}})();function setupDompurifyHooks(){const ee="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",te=>{te.tagName==="A"&&te.hasAttribute("target")&&te.setAttribute(ee,te.getAttribute("target")??"")}),purify.addHook("afterSanitizeAttributes",te=>{te.tagName==="A"&&te.hasAttribute(ee)&&(te.setAttribute("target",te.getAttribute(ee)??""),te.removeAttribute(ee),te.getAttribute("target")==="_blank"&&te.setAttribute("rel","noopener"))})}__name(setupDompurifyHooks,"setupDompurifyHooks");var removeScript=__name(ee=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(ee)),"removeScript"),sanitizeMore=__name((ee,te)=>{if(te.flowchart?.htmlLabels!==!1){const ne=te.securityLevel;ne==="antiscript"||ne==="strict"?ee=removeScript(ee):ne!=="loose"&&(ee=breakToPlaceholder(ee),ee=ee.replace(/</g,"&lt;").replace(/>/g,"&gt;"),ee=ee.replace(/=/g,"&equals;"),ee=placeholderToBreak(ee))}return ee},"sanitizeMore"),sanitizeText=__name((ee,te)=>ee&&(te.dompurifyConfig?ee=purify.sanitize(sanitizeMore(ee,te),te.dompurifyConfig).toString():ee=purify.sanitize(sanitizeMore(ee,te),{FORBID_TAGS:["style"]}).toString(),ee),"sanitizeText"),sanitizeTextOrArray=__name((ee,te)=>typeof ee=="string"?sanitizeText(ee,te):ee.flat().map(ne=>sanitizeText(ne,te)),"sanitizeTextOrArray"),hasBreaks=__name(ee=>lineBreakRegex.test(ee),"hasBreaks"),splitBreaks=__name(ee=>ee.split(lineBreakRegex),"splitBreaks"),placeholderToBreak=__name(ee=>ee.replace(/#br#/g,"<br/>"),"placeholderToBreak"),breakToPlaceholder=__name(ee=>ee.replace(lineBreakRegex,"#br#"),"breakToPlaceholder"),getUrl=__name(ee=>{let te="";return ee&&(te=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,te=CSS.escape(te)),te},"getUrl"),evaluate=__name(ee=>!(ee===!1||["false","null","0"].includes(String(ee).trim().toLowerCase())),"evaluate"),getMax=__name(function(...ee){const te=ee.filter(ne=>!isNaN(ne));return Math.max(...te)},"getMax"),getMin=__name(function(...ee){const te=ee.filter(ne=>!isNaN(ne));return Math.min(...te)},"getMin"),parseGenericTypes=__name(function(ee){const te=ee.split(/(,)/),ne=[];for(let xe=0;xe<te.length;xe++){let rt=te[xe];if(rt===","&&xe>0&&xe+1<te.length){const it=te[xe-1],lt=te[xe+1];shouldCombineSets(it,lt)&&(rt=it+","+lt,xe++,ne.pop())}ne.push(processSet(rt))}return ne.join("")},"parseGenericTypes"),countOccurrence=__name((ee,te)=>Math.max(0,ee.split(te).length-1),"countOccurrence"),shouldCombineSets=__name((ee,te)=>{const ne=countOccurrence(ee,"~"),xe=countOccurrence(te,"~");return ne===1&&xe===1},"shouldCombineSets"),processSet=__name(ee=>{const te=countOccurrence(ee,"~");let ne=!1;if(te<=1)return ee;te%2!==0&&ee.startsWith("~")&&(ee=ee.substring(1),ne=!0);const xe=[...ee];let rt=xe.indexOf("~"),it=xe.lastIndexOf("~");for(;rt!==-1&&it!==-1&&rt!==it;)xe[rt]="<",xe[it]=">",rt=xe.indexOf("~"),it=xe.lastIndexOf("~");return ne&&xe.unshift("~"),xe.join("")},"processSet"),isMathMLSupported=__name(()=>window.MathMLElement!==void 0,"isMathMLSupported"),katexRegex=/\$\$(.*)\$\$/g,hasKatex=__name(ee=>(ee.match(katexRegex)?.length??0)>0,"hasKatex"),calculateMathMLDimensions=__name(async(ee,te)=>{const ne=document.createElement("div");ne.innerHTML=await renderKatexSanitized(ee,te),ne.id="katex-temp",ne.style.visibility="hidden",ne.style.position="absolute",ne.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",ne);const rt={width:ne.clientWidth,height:ne.clientHeight};return ne.remove(),rt},"calculateMathMLDimensions"),renderKatexUnsanitized=__name(async(ee,te)=>{if(!hasKatex(ee))return ee;if(!(isMathMLSupported()||te.legacyMathML||te.forceLegacyMathML))return ee.replace(katexRegex,"MathML is unsupported in this environment.");{const{default:ne}=await __vitePreload(async()=>{const{default:rt}=await Promise.resolve().then(()=>katex$1);return{default:rt}},[]),xe=te.forceLegacyMathML||!isMathMLSupported()&&te.legacyMathML?"htmlAndMathml":"mathml";return ee.split(lineBreakRegex).map(rt=>hasKatex(rt)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${rt}</div>`:`<div>${rt}</div>`).join("").replace(katexRegex,(rt,it)=>ne.renderToString(it,{throwOnError:!0,displayMode:!0,output:xe}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),renderKatexSanitized=__name(async(ee,te)=>sanitizeText(await renderKatexUnsanitized(ee,te),te),"renderKatexSanitized"),common_default={getRows,sanitizeText,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},d3Attrs=__name(function(ee,te){for(let ne of te)ee.attr(ne[0],ne[1])},"d3Attrs"),calculateSvgSizeAttrs=__name(function(ee,te,ne){let xe=new Map;return ne?(xe.set("width","100%"),xe.set("style",`max-width: ${te}px;`)):(xe.set("height",ee),xe.set("width",te)),xe},"calculateSvgSizeAttrs"),configureSvgSize=__name(function(ee,te,ne,xe){const rt=calculateSvgSizeAttrs(te,ne,xe);d3Attrs(ee,rt)},"configureSvgSize"),setupGraphViewbox=__name(function(ee,te,ne,xe){const rt=te.node().getBBox(),it=rt.width,lt=rt.height;log.info(`SVG bounds: ${it}x${lt}`,rt);let ct=0,ut=0;log.info(`Graph bounds: ${ct}x${ut}`,ee),ct=it+ne*2,ut=lt+ne*2,log.info(`Calculated bounds: ${ct}x${ut}`),configureSvgSize(te,ut,ct,xe);const dt=`${rt.x-ne} ${rt.y-ne} ${rt.width+2*ne} ${rt.height+2*ne}`;te.attr("viewBox",dt)},"setupGraphViewbox"),themes={},getStyles=__name((ee,te,ne)=>{let xe="";return ee in themes&&themes[ee]?xe=themes[ee](ne):log.warn(`No theme found for ${ee}`),` & {
    font-family: ${ne.fontFamily};
    font-size: ${ne.fontSize};
    fill: ${ne.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${ne.errorBkgColor};
  }
  & .error-text {
    fill: ${ne.errorTextColor};
    stroke: ${ne.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${ne.lineColor};
    stroke: ${ne.lineColor};
  }
  & .marker.cross {
    stroke: ${ne.lineColor};
  }

  & svg {
    font-family: ${ne.fontFamily};
    font-size: ${ne.fontSize};
  }
   & p {
    margin: 0
   }

  ${xe}

  ${te}
`},"getStyles"),addStylesForDiagram=__name((ee,te)=>{te!==void 0&&(themes[ee]=te)},"addStylesForDiagram"),styles_default=getStyles,commonDb_exports={};__export(commonDb_exports,{clear:()=>clear$2,getAccDescription:()=>getAccDescription,getAccTitle:()=>getAccTitle,getDiagramTitle:()=>getDiagramTitle,setAccDescription:()=>setAccDescription,setAccTitle:()=>setAccTitle,setDiagramTitle:()=>setDiagramTitle});var accTitle="",diagramTitle="",accDescription="",sanitizeText2=__name(ee=>sanitizeText(ee,getConfig()),"sanitizeText"),clear$2=__name(()=>{accTitle="",accDescription="",diagramTitle=""},"clear"),setAccTitle=__name(ee=>{accTitle=sanitizeText2(ee).replace(/^\s+/g,"")},"setAccTitle"),getAccTitle=__name(()=>accTitle,"getAccTitle"),setAccDescription=__name(ee=>{accDescription=sanitizeText2(ee).replace(/\n\s+/g,`
`)},"setAccDescription"),getAccDescription=__name(()=>accDescription,"getAccDescription"),setDiagramTitle=__name(ee=>{diagramTitle=sanitizeText2(ee)},"setDiagramTitle"),getDiagramTitle=__name(()=>diagramTitle,"getDiagramTitle"),log2=log,setLogLevel2=setLogLevel,getConfig2=getConfig,setConfig2=setConfig,defaultConfig2=defaultConfig,sanitizeText3=__name(ee=>sanitizeText(ee,getConfig2()),"sanitizeText"),setupGraphViewbox2=setupGraphViewbox,getCommonDb=__name(()=>commonDb_exports,"getCommonDb"),diagrams={},registerDiagram=__name((ee,te,ne)=>{diagrams[ee]&&log2.warn(`Diagram with id ${ee} already registered. Overwriting.`),diagrams[ee]=te,ne&&addDetector(ee,ne),addStylesForDiagram(ee,te.styles),te.injectUtils?.(log2,setLogLevel2,getConfig2,sanitizeText3,setupGraphViewbox2,getCommonDb(),()=>{})},"registerDiagram"),getDiagram=__name(ee=>{if(ee in diagrams)return diagrams[ee];throw new DiagramNotFoundError(ee)},"getDiagram"),DiagramNotFoundError=class extends Error{static{__name(this,"DiagramNotFoundError")}constructor(ee){super(`Diagram ${ee} not found.`)}},noop={value:()=>{}};function dispatch(){for(var ee=0,te=arguments.length,ne={},xe;ee<te;++ee){if(!(xe=arguments[ee]+"")||xe in ne||/[\s.]/.test(xe))throw new Error("illegal type: "+xe);ne[xe]=[]}return new Dispatch(ne)}function Dispatch(ee){this._=ee}function parseTypenames$1(ee,te){return ee.trim().split(/^|\s+/).map(function(ne){var xe="",rt=ne.indexOf(".");if(rt>=0&&(xe=ne.slice(rt+1),ne=ne.slice(0,rt)),ne&&!te.hasOwnProperty(ne))throw new Error("unknown type: "+ne);return{type:ne,name:xe}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(ee,te){var ne=this._,xe=parseTypenames$1(ee+"",ne),rt,it=-1,lt=xe.length;if(arguments.length<2){for(;++it<lt;)if((rt=(ee=xe[it]).type)&&(rt=get$1(ne[rt],ee.name)))return rt;return}if(te!=null&&typeof te!="function")throw new Error("invalid callback: "+te);for(;++it<lt;)if(rt=(ee=xe[it]).type)ne[rt]=set$2(ne[rt],ee.name,te);else if(te==null)for(rt in ne)ne[rt]=set$2(ne[rt],ee.name,null);return this},copy:function(){var ee={},te=this._;for(var ne in te)ee[ne]=te[ne].slice();return new Dispatch(ee)},call:function(ee,te){if((rt=arguments.length-2)>0)for(var ne=new Array(rt),xe=0,rt,it;xe<rt;++xe)ne[xe]=arguments[xe+2];if(!this._.hasOwnProperty(ee))throw new Error("unknown type: "+ee);for(it=this._[ee],xe=0,rt=it.length;xe<rt;++xe)it[xe].value.apply(te,ne)},apply:function(ee,te,ne){if(!this._.hasOwnProperty(ee))throw new Error("unknown type: "+ee);for(var xe=this._[ee],rt=0,it=xe.length;rt<it;++rt)xe[rt].value.apply(te,ne)}};function get$1(ee,te){for(var ne=0,xe=ee.length,rt;ne<xe;++ne)if((rt=ee[ne]).name===te)return rt.value}function set$2(ee,te,ne){for(var xe=0,rt=ee.length;xe<rt;++xe)if(ee[xe].name===te){ee[xe]=noop,ee=ee.slice(0,xe).concat(ee.slice(xe+1));break}return ne!=null&&ee.push({name:te,value:ne}),ee}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(ee){var te=ee+="",ne=te.indexOf(":");return ne>=0&&(te=ee.slice(0,ne))!=="xmlns"&&(ee=ee.slice(ne+1)),namespaces.hasOwnProperty(te)?{space:namespaces[te],local:ee}:ee}function creatorInherit(ee){return function(){var te=this.ownerDocument,ne=this.namespaceURI;return ne===xhtml&&te.documentElement.namespaceURI===xhtml?te.createElement(ee):te.createElementNS(ne,ee)}}function creatorFixed(ee){return function(){return this.ownerDocument.createElementNS(ee.space,ee.local)}}function creator(ee){var te=namespace(ee);return(te.local?creatorFixed:creatorInherit)(te)}function none(){}function selector(ee){return ee==null?none:function(){return this.querySelector(ee)}}function selection_select(ee){typeof ee!="function"&&(ee=selector(ee));for(var te=this._groups,ne=te.length,xe=new Array(ne),rt=0;rt<ne;++rt)for(var it=te[rt],lt=it.length,ct=xe[rt]=new Array(lt),ut,dt,ht=0;ht<lt;++ht)(ut=it[ht])&&(dt=ee.call(ut,ut.__data__,ht,it))&&("__data__"in ut&&(dt.__data__=ut.__data__),ct[ht]=dt);return new Selection$1(xe,this._parents)}function array(ee){return ee==null?[]:Array.isArray(ee)?ee:Array.from(ee)}function empty(){return[]}function selectorAll(ee){return ee==null?empty:function(){return this.querySelectorAll(ee)}}function arrayAll(ee){return function(){return array(ee.apply(this,arguments))}}function selection_selectAll(ee){typeof ee=="function"?ee=arrayAll(ee):ee=selectorAll(ee);for(var te=this._groups,ne=te.length,xe=[],rt=[],it=0;it<ne;++it)for(var lt=te[it],ct=lt.length,ut,dt=0;dt<ct;++dt)(ut=lt[dt])&&(xe.push(ee.call(ut,ut.__data__,dt,lt)),rt.push(ut));return new Selection$1(xe,rt)}function matcher(ee){return function(){return this.matches(ee)}}function childMatcher(ee){return function(te){return te.matches(ee)}}var find=Array.prototype.find;function childFind(ee){return function(){return find.call(this.children,ee)}}function childFirst(){return this.firstElementChild}function selection_selectChild(ee){return this.select(ee==null?childFirst:childFind(typeof ee=="function"?ee:childMatcher(ee)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(ee){return function(){return filter.call(this.children,ee)}}function selection_selectChildren(ee){return this.selectAll(ee==null?children:childrenFilter(typeof ee=="function"?ee:childMatcher(ee)))}function selection_filter(ee){typeof ee!="function"&&(ee=matcher(ee));for(var te=this._groups,ne=te.length,xe=new Array(ne),rt=0;rt<ne;++rt)for(var it=te[rt],lt=it.length,ct=xe[rt]=[],ut,dt=0;dt<lt;++dt)(ut=it[dt])&&ee.call(ut,ut.__data__,dt,it)&&ct.push(ut);return new Selection$1(xe,this._parents)}function sparse(ee){return new Array(ee.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(ee,te){this.ownerDocument=ee.ownerDocument,this.namespaceURI=ee.namespaceURI,this._next=null,this._parent=ee,this.__data__=te}EnterNode.prototype={constructor:EnterNode,appendChild:function(ee){return this._parent.insertBefore(ee,this._next)},insertBefore:function(ee,te){return this._parent.insertBefore(ee,te)},querySelector:function(ee){return this._parent.querySelector(ee)},querySelectorAll:function(ee){return this._parent.querySelectorAll(ee)}};function constant$3(ee){return function(){return ee}}function bindIndex(ee,te,ne,xe,rt,it){for(var lt=0,ct,ut=te.length,dt=it.length;lt<dt;++lt)(ct=te[lt])?(ct.__data__=it[lt],xe[lt]=ct):ne[lt]=new EnterNode(ee,it[lt]);for(;lt<ut;++lt)(ct=te[lt])&&(rt[lt]=ct)}function bindKey(ee,te,ne,xe,rt,it,lt){var ct,ut,dt=new Map,ht=te.length,ft=it.length,pt=new Array(ht),mt;for(ct=0;ct<ht;++ct)(ut=te[ct])&&(pt[ct]=mt=lt.call(ut,ut.__data__,ct,te)+"",dt.has(mt)?rt[ct]=ut:dt.set(mt,ut));for(ct=0;ct<ft;++ct)mt=lt.call(ee,it[ct],ct,it)+"",(ut=dt.get(mt))?(xe[ct]=ut,ut.__data__=it[ct],dt.delete(mt)):ne[ct]=new EnterNode(ee,it[ct]);for(ct=0;ct<ht;++ct)(ut=te[ct])&&dt.get(pt[ct])===ut&&(rt[ct]=ut)}function datum(ee){return ee.__data__}function selection_data(ee,te){if(!arguments.length)return Array.from(this,datum);var ne=te?bindKey:bindIndex,xe=this._parents,rt=this._groups;typeof ee!="function"&&(ee=constant$3(ee));for(var it=rt.length,lt=new Array(it),ct=new Array(it),ut=new Array(it),dt=0;dt<it;++dt){var ht=xe[dt],ft=rt[dt],pt=ft.length,mt=arraylike(ee.call(ht,ht&&ht.__data__,dt,xe)),xt=mt.length,yt=ct[dt]=new Array(xt),vt=lt[dt]=new Array(xt),Et=ut[dt]=new Array(pt);ne(ht,ft,yt,vt,Et,mt,te);for(var _t=0,wt=0,St,Ct;_t<xt;++_t)if(St=yt[_t]){for(_t>=wt&&(wt=_t+1);!(Ct=vt[wt])&&++wt<xt;);St._next=Ct||null}}return lt=new Selection$1(lt,xe),lt._enter=ct,lt._exit=ut,lt}function arraylike(ee){return typeof ee=="object"&&"length"in ee?ee:Array.from(ee)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(ee,te,ne){var xe=this.enter(),rt=this,it=this.exit();return typeof ee=="function"?(xe=ee(xe),xe&&(xe=xe.selection())):xe=xe.append(ee+""),te!=null&&(rt=te(rt),rt&&(rt=rt.selection())),ne==null?it.remove():ne(it),xe&&rt?xe.merge(rt).order():rt}function selection_merge(ee){for(var te=ee.selection?ee.selection():ee,ne=this._groups,xe=te._groups,rt=ne.length,it=xe.length,lt=Math.min(rt,it),ct=new Array(rt),ut=0;ut<lt;++ut)for(var dt=ne[ut],ht=xe[ut],ft=dt.length,pt=ct[ut]=new Array(ft),mt,xt=0;xt<ft;++xt)(mt=dt[xt]||ht[xt])&&(pt[xt]=mt);for(;ut<rt;++ut)ct[ut]=ne[ut];return new Selection$1(ct,this._parents)}function selection_order(){for(var ee=this._groups,te=-1,ne=ee.length;++te<ne;)for(var xe=ee[te],rt=xe.length-1,it=xe[rt],lt;--rt>=0;)(lt=xe[rt])&&(it&&lt.compareDocumentPosition(it)^4&&it.parentNode.insertBefore(lt,it),it=lt);return this}function selection_sort(ee){ee||(ee=ascending);function te(ft,pt){return ft&&pt?ee(ft.__data__,pt.__data__):!ft-!pt}for(var ne=this._groups,xe=ne.length,rt=new Array(xe),it=0;it<xe;++it){for(var lt=ne[it],ct=lt.length,ut=rt[it]=new Array(ct),dt,ht=0;ht<ct;++ht)(dt=lt[ht])&&(ut[ht]=dt);ut.sort(te)}return new Selection$1(rt,this._parents).order()}function ascending(ee,te){return ee<te?-1:ee>te?1:ee>=te?0:NaN}function selection_call(){var ee=arguments[0];return arguments[0]=this,ee.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var ee=this._groups,te=0,ne=ee.length;te<ne;++te)for(var xe=ee[te],rt=0,it=xe.length;rt<it;++rt){var lt=xe[rt];if(lt)return lt}return null}function selection_size(){let ee=0;for(const te of this)++ee;return ee}function selection_empty(){return!this.node()}function selection_each(ee){for(var te=this._groups,ne=0,xe=te.length;ne<xe;++ne)for(var rt=te[ne],it=0,lt=rt.length,ct;it<lt;++it)(ct=rt[it])&&ee.call(ct,ct.__data__,it,rt);return this}function attrRemove$1(ee){return function(){this.removeAttribute(ee)}}function attrRemoveNS$1(ee){return function(){this.removeAttributeNS(ee.space,ee.local)}}function attrConstant$1(ee,te){return function(){this.setAttribute(ee,te)}}function attrConstantNS$1(ee,te){return function(){this.setAttributeNS(ee.space,ee.local,te)}}function attrFunction$1(ee,te){return function(){var ne=te.apply(this,arguments);ne==null?this.removeAttribute(ee):this.setAttribute(ee,ne)}}function attrFunctionNS$1(ee,te){return function(){var ne=te.apply(this,arguments);ne==null?this.removeAttributeNS(ee.space,ee.local):this.setAttributeNS(ee.space,ee.local,ne)}}function selection_attr(ee,te){var ne=namespace(ee);if(arguments.length<2){var xe=this.node();return ne.local?xe.getAttributeNS(ne.space,ne.local):xe.getAttribute(ne)}return this.each((te==null?ne.local?attrRemoveNS$1:attrRemove$1:typeof te=="function"?ne.local?attrFunctionNS$1:attrFunction$1:ne.local?attrConstantNS$1:attrConstant$1)(ne,te))}function defaultView(ee){return ee.ownerDocument&&ee.ownerDocument.defaultView||ee.document&&ee||ee.defaultView}function styleRemove$1(ee){return function(){this.style.removeProperty(ee)}}function styleConstant$1(ee,te,ne){return function(){this.style.setProperty(ee,te,ne)}}function styleFunction$1(ee,te,ne){return function(){var xe=te.apply(this,arguments);xe==null?this.style.removeProperty(ee):this.style.setProperty(ee,xe,ne)}}function selection_style(ee,te,ne){return arguments.length>1?this.each((te==null?styleRemove$1:typeof te=="function"?styleFunction$1:styleConstant$1)(ee,te,ne??"")):styleValue(this.node(),ee)}function styleValue(ee,te){return ee.style.getPropertyValue(te)||defaultView(ee).getComputedStyle(ee,null).getPropertyValue(te)}function propertyRemove(ee){return function(){delete this[ee]}}function propertyConstant(ee,te){return function(){this[ee]=te}}function propertyFunction(ee,te){return function(){var ne=te.apply(this,arguments);ne==null?delete this[ee]:this[ee]=ne}}function selection_property(ee,te){return arguments.length>1?this.each((te==null?propertyRemove:typeof te=="function"?propertyFunction:propertyConstant)(ee,te)):this.node()[ee]}function classArray(ee){return ee.trim().split(/^|\s+/)}function classList(ee){return ee.classList||new ClassList(ee)}function ClassList(ee){this._node=ee,this._names=classArray(ee.getAttribute("class")||"")}ClassList.prototype={add:function(ee){var te=this._names.indexOf(ee);te<0&&(this._names.push(ee),this._node.setAttribute("class",this._names.join(" ")))},remove:function(ee){var te=this._names.indexOf(ee);te>=0&&(this._names.splice(te,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(ee){return this._names.indexOf(ee)>=0}};function classedAdd(ee,te){for(var ne=classList(ee),xe=-1,rt=te.length;++xe<rt;)ne.add(te[xe])}function classedRemove(ee,te){for(var ne=classList(ee),xe=-1,rt=te.length;++xe<rt;)ne.remove(te[xe])}function classedTrue(ee){return function(){classedAdd(this,ee)}}function classedFalse(ee){return function(){classedRemove(this,ee)}}function classedFunction(ee,te){return function(){(te.apply(this,arguments)?classedAdd:classedRemove)(this,ee)}}function selection_classed(ee,te){var ne=classArray(ee+"");if(arguments.length<2){for(var xe=classList(this.node()),rt=-1,it=ne.length;++rt<it;)if(!xe.contains(ne[rt]))return!1;return!0}return this.each((typeof te=="function"?classedFunction:te?classedTrue:classedFalse)(ne,te))}function textRemove(){this.textContent=""}function textConstant$1(ee){return function(){this.textContent=ee}}function textFunction$1(ee){return function(){var te=ee.apply(this,arguments);this.textContent=te??""}}function selection_text(ee){return arguments.length?this.each(ee==null?textRemove:(typeof ee=="function"?textFunction$1:textConstant$1)(ee)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(ee){return function(){this.innerHTML=ee}}function htmlFunction(ee){return function(){var te=ee.apply(this,arguments);this.innerHTML=te??""}}function selection_html(ee){return arguments.length?this.each(ee==null?htmlRemove:(typeof ee=="function"?htmlFunction:htmlConstant)(ee)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(ee){var te=typeof ee=="function"?ee:creator(ee);return this.select(function(){return this.appendChild(te.apply(this,arguments))})}function constantNull(){return null}function selection_insert(ee,te){var ne=typeof ee=="function"?ee:creator(ee),xe=te==null?constantNull:typeof te=="function"?te:selector(te);return this.select(function(){return this.insertBefore(ne.apply(this,arguments),xe.apply(this,arguments)||null)})}function remove(){var ee=this.parentNode;ee&&ee.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var ee=this.cloneNode(!1),te=this.parentNode;return te?te.insertBefore(ee,this.nextSibling):ee}function selection_cloneDeep(){var ee=this.cloneNode(!0),te=this.parentNode;return te?te.insertBefore(ee,this.nextSibling):ee}function selection_clone(ee){return this.select(ee?selection_cloneDeep:selection_cloneShallow)}function selection_datum(ee){return arguments.length?this.property("__data__",ee):this.node().__data__}function contextListener(ee){return function(te){ee.call(this,te,this.__data__)}}function parseTypenames(ee){return ee.trim().split(/^|\s+/).map(function(te){var ne="",xe=te.indexOf(".");return xe>=0&&(ne=te.slice(xe+1),te=te.slice(0,xe)),{type:te,name:ne}})}function onRemove(ee){return function(){var te=this.__on;if(te){for(var ne=0,xe=-1,rt=te.length,it;ne<rt;++ne)it=te[ne],(!ee.type||it.type===ee.type)&&it.name===ee.name?this.removeEventListener(it.type,it.listener,it.options):te[++xe]=it;++xe?te.length=xe:delete this.__on}}}function onAdd(ee,te,ne){return function(){var xe=this.__on,rt,it=contextListener(te);if(xe){for(var lt=0,ct=xe.length;lt<ct;++lt)if((rt=xe[lt]).type===ee.type&&rt.name===ee.name){this.removeEventListener(rt.type,rt.listener,rt.options),this.addEventListener(rt.type,rt.listener=it,rt.options=ne),rt.value=te;return}}this.addEventListener(ee.type,it,ne),rt={type:ee.type,name:ee.name,value:te,listener:it,options:ne},xe?xe.push(rt):this.__on=[rt]}}function selection_on(ee,te,ne){var xe=parseTypenames(ee+""),rt,it=xe.length,lt;if(arguments.length<2){var ct=this.node().__on;if(ct){for(var ut=0,dt=ct.length,ht;ut<dt;++ut)for(rt=0,ht=ct[ut];rt<it;++rt)if((lt=xe[rt]).type===ht.type&&lt.name===ht.name)return ht.value}return}for(ct=te?onAdd:onRemove,rt=0;rt<it;++rt)this.each(ct(xe[rt],te,ne));return this}function dispatchEvent(ee,te,ne){var xe=defaultView(ee),rt=xe.CustomEvent;typeof rt=="function"?rt=new rt(te,ne):(rt=xe.document.createEvent("Event"),ne?(rt.initEvent(te,ne.bubbles,ne.cancelable),rt.detail=ne.detail):rt.initEvent(te,!1,!1)),ee.dispatchEvent(rt)}function dispatchConstant(ee,te){return function(){return dispatchEvent(this,ee,te)}}function dispatchFunction(ee,te){return function(){return dispatchEvent(this,ee,te.apply(this,arguments))}}function selection_dispatch(ee,te){return this.each((typeof te=="function"?dispatchFunction:dispatchConstant)(ee,te))}function*selection_iterator(){for(var ee=this._groups,te=0,ne=ee.length;te<ne;++te)for(var xe=ee[te],rt=0,it=xe.length,lt;rt<it;++rt)(lt=xe[rt])&&(yield lt)}var root$1=[null];function Selection$1(ee,te){this._groups=ee,this._parents=te}function selection(){return new Selection$1([[document.documentElement]],root$1)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(ee){return typeof ee=="string"?new Selection$1([[document.querySelector(ee)]],[document.documentElement]):new Selection$1([[ee]],root$1)}function sourceEvent(ee){let te;for(;te=ee.sourceEvent;)ee=te;return ee}function pointer(ee,te){if(ee=sourceEvent(ee),te===void 0&&(te=ee.currentTarget),te){var ne=te.ownerSVGElement||te;if(ne.createSVGPoint){var xe=ne.createSVGPoint();return xe.x=ee.clientX,xe.y=ee.clientY,xe=xe.matrixTransform(te.getScreenCTM().inverse()),[xe.x,xe.y]}if(te.getBoundingClientRect){var rt=te.getBoundingClientRect();return[ee.clientX-rt.left-te.clientLeft,ee.clientY-rt.top-te.clientTop]}}return[ee.pageX,ee.pageY]}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$1(ee){ee.stopImmediatePropagation()}function noevent$1(ee){ee.preventDefault(),ee.stopImmediatePropagation()}function dragDisable(ee){var te=ee.document.documentElement,ne=select(ee).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in te?ne.on("selectstart.drag",noevent$1,nonpassivecapture):(te.__noselect=te.style.MozUserSelect,te.style.MozUserSelect="none")}function yesdrag(ee,te){var ne=ee.document.documentElement,xe=select(ee).on("dragstart.drag",null);te&&(xe.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){xe.on("click.drag",null)},0)),"onselectstart"in ne?xe.on("selectstart.drag",null):(ne.style.MozUserSelect=ne.__noselect,delete ne.__noselect)}const constant$2=ee=>()=>ee;function DragEvent(ee,{sourceEvent:te,subject:ne,target:xe,identifier:rt,active:it,x:lt,y:ct,dx:ut,dy:dt,dispatch:ht}){Object.defineProperties(this,{type:{value:ee,enumerable:!0,configurable:!0},sourceEvent:{value:te,enumerable:!0,configurable:!0},subject:{value:ne,enumerable:!0,configurable:!0},target:{value:xe,enumerable:!0,configurable:!0},identifier:{value:rt,enumerable:!0,configurable:!0},active:{value:it,enumerable:!0,configurable:!0},x:{value:lt,enumerable:!0,configurable:!0},y:{value:ct,enumerable:!0,configurable:!0},dx:{value:ut,enumerable:!0,configurable:!0},dy:{value:dt,enumerable:!0,configurable:!0},_:{value:ht}})}DragEvent.prototype.on=function(){var ee=this._.on.apply(this._,arguments);return ee===this._?this:ee};function defaultFilter$1(ee){return!ee.ctrlKey&&!ee.button}function defaultContainer(){return this.parentNode}function defaultSubject(ee,te){return te??{x:ee.x,y:ee.y}}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var ee=defaultFilter$1,te=defaultContainer,ne=defaultSubject,xe=defaultTouchable$1,rt={},it=dispatch("start","drag","end"),lt=0,ct,ut,dt,ht,ft=0;function pt(St){St.on("mousedown.drag",mt).filter(xe).on("touchstart.drag",vt).on("touchmove.drag",Et,nonpassive).on("touchend.drag touchcancel.drag",_t).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mt(St,Ct){if(!(ht||!ee.call(this,St,Ct))){var jt=wt(this,te.call(this,St,Ct),St,Ct,"mouse");jt&&(select(St.view).on("mousemove.drag",xt,nonpassivecapture).on("mouseup.drag",yt,nonpassivecapture),dragDisable(St.view),nopropagation$1(St),dt=!1,ct=St.clientX,ut=St.clientY,jt("start",St))}}function xt(St){if(noevent$1(St),!dt){var Ct=St.clientX-ct,jt=St.clientY-ut;dt=Ct*Ct+jt*jt>ft}rt.mouse("drag",St)}function yt(St){select(St.view).on("mousemove.drag mouseup.drag",null),yesdrag(St.view,dt),noevent$1(St),rt.mouse("end",St)}function vt(St,Ct){if(ee.call(this,St,Ct)){var jt=St.changedTouches,Rt=te.call(this,St,Ct),Pt=jt.length,Ot,Ft;for(Ot=0;Ot<Pt;++Ot)(Ft=wt(this,Rt,St,Ct,jt[Ot].identifier,jt[Ot]))&&(nopropagation$1(St),Ft("start",St,jt[Ot]))}}function Et(St){var Ct=St.changedTouches,jt=Ct.length,Rt,Pt;for(Rt=0;Rt<jt;++Rt)(Pt=rt[Ct[Rt].identifier])&&(noevent$1(St),Pt("drag",St,Ct[Rt]))}function _t(St){var Ct=St.changedTouches,jt=Ct.length,Rt,Pt;for(ht&&clearTimeout(ht),ht=setTimeout(function(){ht=null},500),Rt=0;Rt<jt;++Rt)(Pt=rt[Ct[Rt].identifier])&&(nopropagation$1(St),Pt("end",St,Ct[Rt]))}function wt(St,Ct,jt,Rt,Pt,Ot){var Ft=it.copy(),Lt=pointer(Ot||jt,Ct),Bt,Gt,It;if((It=ne.call(St,new DragEvent("beforestart",{sourceEvent:jt,target:pt,identifier:Pt,active:lt,x:Lt[0],y:Lt[1],dx:0,dy:0,dispatch:Ft}),Rt))!=null)return Bt=It.x-Lt[0]||0,Gt=It.y-Lt[1]||0,function qt(Nt,Dt,Tt){var Mt=Lt,$t;switch(Nt){case"start":rt[Pt]=qt,$t=lt++;break;case"end":delete rt[Pt],--lt;case"drag":Lt=pointer(Tt||Dt,Ct),$t=lt;break}Ft.call(Nt,St,new DragEvent(Nt,{sourceEvent:Dt,subject:It,target:pt,identifier:Pt,active:$t,x:Lt[0]+Bt,y:Lt[1]+Gt,dx:Lt[0]-Mt[0],dy:Lt[1]-Mt[1],dispatch:Ft}),Rt)}}return pt.filter=function(St){return arguments.length?(ee=typeof St=="function"?St:constant$2(!!St),pt):ee},pt.container=function(St){return arguments.length?(te=typeof St=="function"?St:constant$2(St),pt):te},pt.subject=function(St){return arguments.length?(ne=typeof St=="function"?St:constant$2(St),pt):ne},pt.touchable=function(St){return arguments.length?(xe=typeof St=="function"?St:constant$2(!!St),pt):xe},pt.on=function(){var St=it.on.apply(it,arguments);return St===it?pt:St},pt.clickDistance=function(St){return arguments.length?(ft=(St=+St)*St,pt):Math.sqrt(ft)},pt}var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ee){setTimeout(ee,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(ee,te,ne){if(typeof ee!="function")throw new TypeError("callback is not a function");ne=(ne==null?now():+ne)+(te==null?0:+te),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=ee,this._time=ne,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(ee,te,ne){var xe=new Timer;return xe.restart(ee,te,ne),xe}function timerFlush(){now(),++frame;for(var ee=taskHead,te;ee;)(te=clockNow-ee._time)>=0&&ee._call.call(void 0,te),ee=ee._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var ee=clock.now(),te=ee-clockLast;te>pokeDelay&&(clockSkew-=te,clockLast=ee)}function nap(){for(var ee,te=taskHead,ne,xe=1/0;te;)te._call?(xe>te._time&&(xe=te._time),ee=te,te=te._next):(ne=te._next,te._next=null,te=ee?ee._next=ne:taskHead=ne);taskTail=ee,sleep(xe)}function sleep(ee){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var te=ee-clockNow;te>24?(ee<1/0&&(timeout$1=setTimeout(wake,ee-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(ee,te,ne){var xe=new Timer;return te=te==null?0:+te,xe.restart(rt=>{xe.stop(),ee(rt+te)},te,ne),xe}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(ee,te,ne,xe,rt,it){var lt=ee.__transition;if(!lt)ee.__transition={};else if(ne in lt)return;create(ee,ne,{name:te,index:xe,group:rt,on:emptyOn,tween:emptyTween,time:it.time,delay:it.delay,duration:it.duration,ease:it.ease,timer:null,state:CREATED})}function init$1(ee,te){var ne=get(ee,te);if(ne.state>CREATED)throw new Error("too late; already scheduled");return ne}function set$1(ee,te){var ne=get(ee,te);if(ne.state>STARTED)throw new Error("too late; already running");return ne}function get(ee,te){var ne=ee.__transition;if(!ne||!(ne=ne[te]))throw new Error("transition not found");return ne}function create(ee,te,ne){var xe=ee.__transition,rt;xe[te]=ne,ne.timer=timer(it,0,ne.time);function it(dt){ne.state=SCHEDULED,ne.timer.restart(lt,ne.delay,ne.time),ne.delay<=dt&&lt(dt-ne.delay)}function lt(dt){var ht,ft,pt,mt;if(ne.state!==SCHEDULED)return ut();for(ht in xe)if(mt=xe[ht],mt.name===ne.name){if(mt.state===STARTED)return timeout(lt);mt.state===RUNNING?(mt.state=ENDED,mt.timer.stop(),mt.on.call("interrupt",ee,ee.__data__,mt.index,mt.group),delete xe[ht]):+ht<te&&(mt.state=ENDED,mt.timer.stop(),mt.on.call("cancel",ee,ee.__data__,mt.index,mt.group),delete xe[ht])}if(timeout(function(){ne.state===STARTED&&(ne.state=RUNNING,ne.timer.restart(ct,ne.delay,ne.time),ct(dt))}),ne.state=STARTING,ne.on.call("start",ee,ee.__data__,ne.index,ne.group),ne.state===STARTING){for(ne.state=STARTED,rt=new Array(pt=ne.tween.length),ht=0,ft=-1;ht<pt;++ht)(mt=ne.tween[ht].value.call(ee,ee.__data__,ne.index,ne.group))&&(rt[++ft]=mt);rt.length=ft+1}}function ct(dt){for(var ht=dt<ne.duration?ne.ease.call(null,dt/ne.duration):(ne.timer.restart(ut),ne.state=ENDING,1),ft=-1,pt=rt.length;++ft<pt;)rt[ft].call(ee,ht);ne.state===ENDING&&(ne.on.call("end",ee,ee.__data__,ne.index,ne.group),ut())}function ut(){ne.state=ENDED,ne.timer.stop(),delete xe[te];for(var dt in xe)return;delete ee.__transition}}function interrupt(ee,te){var ne=ee.__transition,xe,rt,it=!0,lt;if(ne){te=te==null?null:te+"";for(lt in ne){if((xe=ne[lt]).name!==te){it=!1;continue}rt=xe.state>STARTING&&xe.state<ENDING,xe.state=ENDED,xe.timer.stop(),xe.on.call(rt?"interrupt":"cancel",ee,ee.__data__,xe.index,xe.group),delete ne[lt]}it&&delete ee.__transition}}function selection_interrupt(ee){return this.each(function(){interrupt(this,ee)})}function tweenRemove(ee,te){var ne,xe;return function(){var rt=set$1(this,ee),it=rt.tween;if(it!==ne){xe=ne=it;for(var lt=0,ct=xe.length;lt<ct;++lt)if(xe[lt].name===te){xe=xe.slice(),xe.splice(lt,1);break}}rt.tween=xe}}function tweenFunction(ee,te,ne){var xe,rt;if(typeof ne!="function")throw new Error;return function(){var it=set$1(this,ee),lt=it.tween;if(lt!==xe){rt=(xe=lt).slice();for(var ct={name:te,value:ne},ut=0,dt=rt.length;ut<dt;++ut)if(rt[ut].name===te){rt[ut]=ct;break}ut===dt&&rt.push(ct)}it.tween=rt}}function transition_tween(ee,te){var ne=this._id;if(ee+="",arguments.length<2){for(var xe=get(this.node(),ne).tween,rt=0,it=xe.length,lt;rt<it;++rt)if((lt=xe[rt]).name===ee)return lt.value;return null}return this.each((te==null?tweenRemove:tweenFunction)(ne,ee,te))}function tweenValue(ee,te,ne){var xe=ee._id;return ee.each(function(){var rt=set$1(this,xe);(rt.value||(rt.value={}))[te]=ne.apply(this,arguments)}),function(rt){return get(rt,xe).value[te]}}function interpolate(ee,te){var ne;return(typeof te=="number"?interpolateNumber$1:te instanceof color$1?interpolateRgb:(ne=color$1(te))?(te=ne,interpolateRgb):interpolateString)(ee,te)}function attrRemove(ee){return function(){this.removeAttribute(ee)}}function attrRemoveNS(ee){return function(){this.removeAttributeNS(ee.space,ee.local)}}function attrConstant(ee,te,ne){var xe,rt=ne+"",it;return function(){var lt=this.getAttribute(ee);return lt===rt?null:lt===xe?it:it=te(xe=lt,ne)}}function attrConstantNS(ee,te,ne){var xe,rt=ne+"",it;return function(){var lt=this.getAttributeNS(ee.space,ee.local);return lt===rt?null:lt===xe?it:it=te(xe=lt,ne)}}function attrFunction(ee,te,ne){var xe,rt,it;return function(){var lt,ct=ne(this),ut;return ct==null?void this.removeAttribute(ee):(lt=this.getAttribute(ee),ut=ct+"",lt===ut?null:lt===xe&&ut===rt?it:(rt=ut,it=te(xe=lt,ct)))}}function attrFunctionNS(ee,te,ne){var xe,rt,it;return function(){var lt,ct=ne(this),ut;return ct==null?void this.removeAttributeNS(ee.space,ee.local):(lt=this.getAttributeNS(ee.space,ee.local),ut=ct+"",lt===ut?null:lt===xe&&ut===rt?it:(rt=ut,it=te(xe=lt,ct)))}}function transition_attr(ee,te){var ne=namespace(ee),xe=ne==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(ee,typeof te=="function"?(ne.local?attrFunctionNS:attrFunction)(ne,xe,tweenValue(this,"attr."+ee,te)):te==null?(ne.local?attrRemoveNS:attrRemove)(ne):(ne.local?attrConstantNS:attrConstant)(ne,xe,te))}function attrInterpolate(ee,te){return function(ne){this.setAttribute(ee,te.call(this,ne))}}function attrInterpolateNS(ee,te){return function(ne){this.setAttributeNS(ee.space,ee.local,te.call(this,ne))}}function attrTweenNS(ee,te){var ne,xe;function rt(){var it=te.apply(this,arguments);return it!==xe&&(ne=(xe=it)&&attrInterpolateNS(ee,it)),ne}return rt._value=te,rt}function attrTween(ee,te){var ne,xe;function rt(){var it=te.apply(this,arguments);return it!==xe&&(ne=(xe=it)&&attrInterpolate(ee,it)),ne}return rt._value=te,rt}function transition_attrTween(ee,te){var ne="attr."+ee;if(arguments.length<2)return(ne=this.tween(ne))&&ne._value;if(te==null)return this.tween(ne,null);if(typeof te!="function")throw new Error;var xe=namespace(ee);return this.tween(ne,(xe.local?attrTweenNS:attrTween)(xe,te))}function delayFunction(ee,te){return function(){init$1(this,ee).delay=+te.apply(this,arguments)}}function delayConstant(ee,te){return te=+te,function(){init$1(this,ee).delay=te}}function transition_delay(ee){var te=this._id;return arguments.length?this.each((typeof ee=="function"?delayFunction:delayConstant)(te,ee)):get(this.node(),te).delay}function durationFunction(ee,te){return function(){set$1(this,ee).duration=+te.apply(this,arguments)}}function durationConstant(ee,te){return te=+te,function(){set$1(this,ee).duration=te}}function transition_duration(ee){var te=this._id;return arguments.length?this.each((typeof ee=="function"?durationFunction:durationConstant)(te,ee)):get(this.node(),te).duration}function easeConstant(ee,te){if(typeof te!="function")throw new Error;return function(){set$1(this,ee).ease=te}}function transition_ease(ee){var te=this._id;return arguments.length?this.each(easeConstant(te,ee)):get(this.node(),te).ease}function easeVarying(ee,te){return function(){var ne=te.apply(this,arguments);if(typeof ne!="function")throw new Error;set$1(this,ee).ease=ne}}function transition_easeVarying(ee){if(typeof ee!="function")throw new Error;return this.each(easeVarying(this._id,ee))}function transition_filter(ee){typeof ee!="function"&&(ee=matcher(ee));for(var te=this._groups,ne=te.length,xe=new Array(ne),rt=0;rt<ne;++rt)for(var it=te[rt],lt=it.length,ct=xe[rt]=[],ut,dt=0;dt<lt;++dt)(ut=it[dt])&&ee.call(ut,ut.__data__,dt,it)&&ct.push(ut);return new Transition(xe,this._parents,this._name,this._id)}function transition_merge(ee){if(ee._id!==this._id)throw new Error;for(var te=this._groups,ne=ee._groups,xe=te.length,rt=ne.length,it=Math.min(xe,rt),lt=new Array(xe),ct=0;ct<it;++ct)for(var ut=te[ct],dt=ne[ct],ht=ut.length,ft=lt[ct]=new Array(ht),pt,mt=0;mt<ht;++mt)(pt=ut[mt]||dt[mt])&&(ft[mt]=pt);for(;ct<xe;++ct)lt[ct]=te[ct];return new Transition(lt,this._parents,this._name,this._id)}function start(ee){return(ee+"").trim().split(/^|\s+/).every(function(te){var ne=te.indexOf(".");return ne>=0&&(te=te.slice(0,ne)),!te||te==="start"})}function onFunction(ee,te,ne){var xe,rt,it=start(te)?init$1:set$1;return function(){var lt=it(this,ee),ct=lt.on;ct!==xe&&(rt=(xe=ct).copy()).on(te,ne),lt.on=rt}}function transition_on(ee,te){var ne=this._id;return arguments.length<2?get(this.node(),ne).on.on(ee):this.each(onFunction(ne,ee,te))}function removeFunction(ee){return function(){var te=this.parentNode;for(var ne in this.__transition)if(+ne!==ee)return;te&&te.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(ee){var te=this._name,ne=this._id;typeof ee!="function"&&(ee=selector(ee));for(var xe=this._groups,rt=xe.length,it=new Array(rt),lt=0;lt<rt;++lt)for(var ct=xe[lt],ut=ct.length,dt=it[lt]=new Array(ut),ht,ft,pt=0;pt<ut;++pt)(ht=ct[pt])&&(ft=ee.call(ht,ht.__data__,pt,ct))&&("__data__"in ht&&(ft.__data__=ht.__data__),dt[pt]=ft,schedule(dt[pt],te,ne,pt,dt,get(ht,ne)));return new Transition(it,this._parents,te,ne)}function transition_selectAll(ee){var te=this._name,ne=this._id;typeof ee!="function"&&(ee=selectorAll(ee));for(var xe=this._groups,rt=xe.length,it=[],lt=[],ct=0;ct<rt;++ct)for(var ut=xe[ct],dt=ut.length,ht,ft=0;ft<dt;++ft)if(ht=ut[ft]){for(var pt=ee.call(ht,ht.__data__,ft,ut),mt,xt=get(ht,ne),yt=0,vt=pt.length;yt<vt;++yt)(mt=pt[yt])&&schedule(mt,te,ne,yt,pt,xt);it.push(pt),lt.push(ht)}return new Transition(it,lt,te,ne)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(ee,te){var ne,xe,rt;return function(){var it=styleValue(this,ee),lt=(this.style.removeProperty(ee),styleValue(this,ee));return it===lt?null:it===ne&&lt===xe?rt:rt=te(ne=it,xe=lt)}}function styleRemove(ee){return function(){this.style.removeProperty(ee)}}function styleConstant(ee,te,ne){var xe,rt=ne+"",it;return function(){var lt=styleValue(this,ee);return lt===rt?null:lt===xe?it:it=te(xe=lt,ne)}}function styleFunction(ee,te,ne){var xe,rt,it;return function(){var lt=styleValue(this,ee),ct=ne(this),ut=ct+"";return ct==null&&(ut=ct=(this.style.removeProperty(ee),styleValue(this,ee))),lt===ut?null:lt===xe&&ut===rt?it:(rt=ut,it=te(xe=lt,ct))}}function styleMaybeRemove(ee,te){var ne,xe,rt,it="style."+te,lt="end."+it,ct;return function(){var ut=set$1(this,ee),dt=ut.on,ht=ut.value[it]==null?ct||(ct=styleRemove(te)):void 0;(dt!==ne||rt!==ht)&&(xe=(ne=dt).copy()).on(lt,rt=ht),ut.on=xe}}function transition_style(ee,te,ne){var xe=(ee+="")=="transform"?interpolateTransformCss:interpolate;return te==null?this.styleTween(ee,styleNull(ee,xe)).on("end.style."+ee,styleRemove(ee)):typeof te=="function"?this.styleTween(ee,styleFunction(ee,xe,tweenValue(this,"style."+ee,te))).each(styleMaybeRemove(this._id,ee)):this.styleTween(ee,styleConstant(ee,xe,te),ne).on("end.style."+ee,null)}function styleInterpolate(ee,te,ne){return function(xe){this.style.setProperty(ee,te.call(this,xe),ne)}}function styleTween(ee,te,ne){var xe,rt;function it(){var lt=te.apply(this,arguments);return lt!==rt&&(xe=(rt=lt)&&styleInterpolate(ee,lt,ne)),xe}return it._value=te,it}function transition_styleTween(ee,te,ne){var xe="style."+(ee+="");if(arguments.length<2)return(xe=this.tween(xe))&&xe._value;if(te==null)return this.tween(xe,null);if(typeof te!="function")throw new Error;return this.tween(xe,styleTween(ee,te,ne??""))}function textConstant(ee){return function(){this.textContent=ee}}function textFunction(ee){return function(){var te=ee(this);this.textContent=te??""}}function transition_text(ee){return this.tween("text",typeof ee=="function"?textFunction(tweenValue(this,"text",ee)):textConstant(ee==null?"":ee+""))}function textInterpolate(ee){return function(te){this.textContent=ee.call(this,te)}}function textTween(ee){var te,ne;function xe(){var rt=ee.apply(this,arguments);return rt!==ne&&(te=(ne=rt)&&textInterpolate(rt)),te}return xe._value=ee,xe}function transition_textTween(ee){var te="text";if(arguments.length<1)return(te=this.tween(te))&&te._value;if(ee==null)return this.tween(te,null);if(typeof ee!="function")throw new Error;return this.tween(te,textTween(ee))}function transition_transition(){for(var ee=this._name,te=this._id,ne=newId(),xe=this._groups,rt=xe.length,it=0;it<rt;++it)for(var lt=xe[it],ct=lt.length,ut,dt=0;dt<ct;++dt)if(ut=lt[dt]){var ht=get(ut,te);schedule(ut,ee,ne,dt,lt,{time:ht.time+ht.delay+ht.duration,delay:0,duration:ht.duration,ease:ht.ease})}return new Transition(xe,this._parents,ee,ne)}function transition_end(){var ee,te,ne=this,xe=ne._id,rt=ne.size();return new Promise(function(it,lt){var ct={value:lt},ut={value:function(){--rt===0&&it()}};ne.each(function(){var dt=set$1(this,xe),ht=dt.on;ht!==ee&&(te=(ee=ht).copy(),te._.cancel.push(ct),te._.interrupt.push(ct),te._.end.push(ut)),dt.on=te}),rt===0&&it()})}var id$1=0;function Transition(ee,te,ne,xe){this._groups=ee,this._parents=te,this._name=ne,this._id=xe}function newId(){return++id$1}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(ee){return((ee*=2)<=1?ee*ee*ee:(ee-=2)*ee*ee+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(ee,te){for(var ne;!(ne=ee.__transition)||!(ne=ne[te]);)if(!(ee=ee.parentNode))throw new Error(`transition ${te} not found`);return ne}function selection_transition(ee){var te,ne;ee instanceof Transition?(te=ee._id,ee=ee._name):(te=newId(),(ne=defaultTiming).time=now(),ee=ee==null?null:ee+"");for(var xe=this._groups,rt=xe.length,it=0;it<rt;++it)for(var lt=xe[it],ct=lt.length,ut,dt=0;dt<ct;++dt)(ut=lt[dt])&&schedule(ut,ee,te,dt,lt,ne||inherit(ut,te));return new Transition(xe,this._parents,ee,te)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const constant$1=ee=>()=>ee;function ZoomEvent(ee,{sourceEvent:te,target:ne,transform:xe,dispatch:rt}){Object.defineProperties(this,{type:{value:ee,enumerable:!0,configurable:!0},sourceEvent:{value:te,enumerable:!0,configurable:!0},target:{value:ne,enumerable:!0,configurable:!0},transform:{value:xe,enumerable:!0,configurable:!0},_:{value:rt}})}function Transform(ee,te,ne){this.k=ee,this.x=te,this.y=ne}Transform.prototype={constructor:Transform,scale:function(ee){return ee===1?this:new Transform(this.k*ee,this.x,this.y)},translate:function(ee,te){return ee===0&te===0?this:new Transform(this.k,this.x+this.k*ee,this.y+this.k*te)},apply:function(ee){return[ee[0]*this.k+this.x,ee[1]*this.k+this.y]},applyX:function(ee){return ee*this.k+this.x},applyY:function(ee){return ee*this.k+this.y},invert:function(ee){return[(ee[0]-this.x)/this.k,(ee[1]-this.y)/this.k]},invertX:function(ee){return(ee-this.x)/this.k},invertY:function(ee){return(ee-this.y)/this.k},rescaleX:function(ee){return ee.copy().domain(ee.range().map(this.invertX,this).map(ee.invert,ee))},rescaleY:function(ee){return ee.copy().domain(ee.range().map(this.invertY,this).map(ee.invert,ee))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$2=new Transform(1,0,0);transform.prototype=Transform.prototype;function transform(ee){for(;!ee.__zoom;)if(!(ee=ee.parentNode))return identity$2;return ee.__zoom}function nopropagation(ee){ee.stopImmediatePropagation()}function noevent(ee){ee.preventDefault(),ee.stopImmediatePropagation()}function defaultFilter(ee){return(!ee.ctrlKey||ee.type==="wheel")&&!ee.button}function defaultExtent(){var ee=this;return ee instanceof SVGElement?(ee=ee.ownerSVGElement||ee,ee.hasAttribute("viewBox")?(ee=ee.viewBox.baseVal,[[ee.x,ee.y],[ee.x+ee.width,ee.y+ee.height]]):[[0,0],[ee.width.baseVal.value,ee.height.baseVal.value]]):[[0,0],[ee.clientWidth,ee.clientHeight]]}function defaultTransform(){return this.__zoom||identity$2}function defaultWheelDelta(ee){return-ee.deltaY*(ee.deltaMode===1?.05:ee.deltaMode?1:.002)*(ee.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(ee,te,ne){var xe=ee.invertX(te[0][0])-ne[0][0],rt=ee.invertX(te[1][0])-ne[1][0],it=ee.invertY(te[0][1])-ne[0][1],lt=ee.invertY(te[1][1])-ne[1][1];return ee.translate(rt>xe?(xe+rt)/2:Math.min(0,xe)||Math.max(0,rt),lt>it?(it+lt)/2:Math.min(0,it)||Math.max(0,lt))}function zoom(){var ee=defaultFilter,te=defaultExtent,ne=defaultConstrain,xe=defaultWheelDelta,rt=defaultTouchable,it=[0,1/0],lt=[[-1/0,-1/0],[1/0,1/0]],ct=250,ut=interpolateZoom,dt=dispatch("start","zoom","end"),ht,ft,pt,mt=500,xt=150,yt=0,vt=10;function Et(It){It.property("__zoom",defaultTransform).on("wheel.zoom",Pt,{passive:!1}).on("mousedown.zoom",Ot).on("dblclick.zoom",Ft).filter(rt).on("touchstart.zoom",Lt).on("touchmove.zoom",Bt).on("touchend.zoom touchcancel.zoom",Gt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Et.transform=function(It,qt,Nt,Dt){var Tt=It.selection?It.selection():It;Tt.property("__zoom",defaultTransform),It!==Tt?Ct(It,qt,Nt,Dt):Tt.interrupt().each(function(){jt(this,arguments).event(Dt).start().zoom(null,typeof qt=="function"?qt.apply(this,arguments):qt).end()})},Et.scaleBy=function(It,qt,Nt,Dt){Et.scaleTo(It,function(){var Tt=this.__zoom.k,Mt=typeof qt=="function"?qt.apply(this,arguments):qt;return Tt*Mt},Nt,Dt)},Et.scaleTo=function(It,qt,Nt,Dt){Et.transform(It,function(){var Tt=te.apply(this,arguments),Mt=this.__zoom,$t=Nt==null?St(Tt):typeof Nt=="function"?Nt.apply(this,arguments):Nt,Ht=Mt.invert($t),Wt=typeof qt=="function"?qt.apply(this,arguments):qt;return ne(wt(_t(Mt,Wt),$t,Ht),Tt,lt)},Nt,Dt)},Et.translateBy=function(It,qt,Nt,Dt){Et.transform(It,function(){return ne(this.__zoom.translate(typeof qt=="function"?qt.apply(this,arguments):qt,typeof Nt=="function"?Nt.apply(this,arguments):Nt),te.apply(this,arguments),lt)},null,Dt)},Et.translateTo=function(It,qt,Nt,Dt,Tt){Et.transform(It,function(){var Mt=te.apply(this,arguments),$t=this.__zoom,Ht=Dt==null?St(Mt):typeof Dt=="function"?Dt.apply(this,arguments):Dt;return ne(identity$2.translate(Ht[0],Ht[1]).scale($t.k).translate(typeof qt=="function"?-qt.apply(this,arguments):-qt,typeof Nt=="function"?-Nt.apply(this,arguments):-Nt),Mt,lt)},Dt,Tt)};function _t(It,qt){return qt=Math.max(it[0],Math.min(it[1],qt)),qt===It.k?It:new Transform(qt,It.x,It.y)}function wt(It,qt,Nt){var Dt=qt[0]-Nt[0]*It.k,Tt=qt[1]-Nt[1]*It.k;return Dt===It.x&&Tt===It.y?It:new Transform(It.k,Dt,Tt)}function St(It){return[(+It[0][0]+ +It[1][0])/2,(+It[0][1]+ +It[1][1])/2]}function Ct(It,qt,Nt,Dt){It.on("start.zoom",function(){jt(this,arguments).event(Dt).start()}).on("interrupt.zoom end.zoom",function(){jt(this,arguments).event(Dt).end()}).tween("zoom",function(){var Tt=this,Mt=arguments,$t=jt(Tt,Mt).event(Dt),Ht=te.apply(Tt,Mt),Wt=Nt==null?St(Ht):typeof Nt=="function"?Nt.apply(Tt,Mt):Nt,Vt=Math.max(Ht[1][0]-Ht[0][0],Ht[1][1]-Ht[0][1]),Yt=Tt.__zoom,Qt=typeof qt=="function"?qt.apply(Tt,Mt):qt,ar=ut(Yt.invert(Wt).concat(Vt/Yt.k),Qt.invert(Wt).concat(Vt/Qt.k));return function(Xt){if(Xt===1)Xt=Qt;else{var tr=ar(Xt),rr=Vt/tr[2];Xt=new Transform(rr,Wt[0]-tr[0]*rr,Wt[1]-tr[1]*rr)}$t.zoom(null,Xt)}})}function jt(It,qt,Nt){return!Nt&&It.__zooming||new Rt(It,qt)}function Rt(It,qt){this.that=It,this.args=qt,this.active=0,this.sourceEvent=null,this.extent=te.apply(It,qt),this.taps=0}Rt.prototype={event:function(It){return It&&(this.sourceEvent=It),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(It,qt){return this.mouse&&It!=="mouse"&&(this.mouse[1]=qt.invert(this.mouse[0])),this.touch0&&It!=="touch"&&(this.touch0[1]=qt.invert(this.touch0[0])),this.touch1&&It!=="touch"&&(this.touch1[1]=qt.invert(this.touch1[0])),this.that.__zoom=qt,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(It){var qt=select(this.that).datum();dt.call(It,this.that,new ZoomEvent(It,{sourceEvent:this.sourceEvent,target:Et,transform:this.that.__zoom,dispatch:dt}),qt)}};function Pt(It,...qt){if(!ee.apply(this,arguments))return;var Nt=jt(this,qt).event(It),Dt=this.__zoom,Tt=Math.max(it[0],Math.min(it[1],Dt.k*Math.pow(2,xe.apply(this,arguments)))),Mt=pointer(It);if(Nt.wheel)(Nt.mouse[0][0]!==Mt[0]||Nt.mouse[0][1]!==Mt[1])&&(Nt.mouse[1]=Dt.invert(Nt.mouse[0]=Mt)),clearTimeout(Nt.wheel);else{if(Dt.k===Tt)return;Nt.mouse=[Mt,Dt.invert(Mt)],interrupt(this),Nt.start()}noevent(It),Nt.wheel=setTimeout($t,xt),Nt.zoom("mouse",ne(wt(_t(Dt,Tt),Nt.mouse[0],Nt.mouse[1]),Nt.extent,lt));function $t(){Nt.wheel=null,Nt.end()}}function Ot(It,...qt){if(pt||!ee.apply(this,arguments))return;var Nt=It.currentTarget,Dt=jt(this,qt,!0).event(It),Tt=select(It.view).on("mousemove.zoom",Wt,!0).on("mouseup.zoom",Vt,!0),Mt=pointer(It,Nt),$t=It.clientX,Ht=It.clientY;dragDisable(It.view),nopropagation(It),Dt.mouse=[Mt,this.__zoom.invert(Mt)],interrupt(this),Dt.start();function Wt(Yt){if(noevent(Yt),!Dt.moved){var Qt=Yt.clientX-$t,ar=Yt.clientY-Ht;Dt.moved=Qt*Qt+ar*ar>yt}Dt.event(Yt).zoom("mouse",ne(wt(Dt.that.__zoom,Dt.mouse[0]=pointer(Yt,Nt),Dt.mouse[1]),Dt.extent,lt))}function Vt(Yt){Tt.on("mousemove.zoom mouseup.zoom",null),yesdrag(Yt.view,Dt.moved),noevent(Yt),Dt.event(Yt).end()}}function Ft(It,...qt){if(ee.apply(this,arguments)){var Nt=this.__zoom,Dt=pointer(It.changedTouches?It.changedTouches[0]:It,this),Tt=Nt.invert(Dt),Mt=Nt.k*(It.shiftKey?.5:2),$t=ne(wt(_t(Nt,Mt),Dt,Tt),te.apply(this,qt),lt);noevent(It),ct>0?select(this).transition().duration(ct).call(Ct,$t,Dt,It):select(this).call(Et.transform,$t,Dt,It)}}function Lt(It,...qt){if(ee.apply(this,arguments)){var Nt=It.touches,Dt=Nt.length,Tt=jt(this,qt,It.changedTouches.length===Dt).event(It),Mt,$t,Ht,Wt;for(nopropagation(It),$t=0;$t<Dt;++$t)Ht=Nt[$t],Wt=pointer(Ht,this),Wt=[Wt,this.__zoom.invert(Wt),Ht.identifier],Tt.touch0?!Tt.touch1&&Tt.touch0[2]!==Wt[2]&&(Tt.touch1=Wt,Tt.taps=0):(Tt.touch0=Wt,Mt=!0,Tt.taps=1+!!ht);ht&&(ht=clearTimeout(ht)),Mt&&(Tt.taps<2&&(ft=Wt[0],ht=setTimeout(function(){ht=null},mt)),interrupt(this),Tt.start())}}function Bt(It,...qt){if(this.__zooming){var Nt=jt(this,qt).event(It),Dt=It.changedTouches,Tt=Dt.length,Mt,$t,Ht,Wt;for(noevent(It),Mt=0;Mt<Tt;++Mt)$t=Dt[Mt],Ht=pointer($t,this),Nt.touch0&&Nt.touch0[2]===$t.identifier?Nt.touch0[0]=Ht:Nt.touch1&&Nt.touch1[2]===$t.identifier&&(Nt.touch1[0]=Ht);if($t=Nt.that.__zoom,Nt.touch1){var Vt=Nt.touch0[0],Yt=Nt.touch0[1],Qt=Nt.touch1[0],ar=Nt.touch1[1],Xt=(Xt=Qt[0]-Vt[0])*Xt+(Xt=Qt[1]-Vt[1])*Xt,tr=(tr=ar[0]-Yt[0])*tr+(tr=ar[1]-Yt[1])*tr;$t=_t($t,Math.sqrt(Xt/tr)),Ht=[(Vt[0]+Qt[0])/2,(Vt[1]+Qt[1])/2],Wt=[(Yt[0]+ar[0])/2,(Yt[1]+ar[1])/2]}else if(Nt.touch0)Ht=Nt.touch0[0],Wt=Nt.touch0[1];else return;Nt.zoom("touch",ne(wt($t,Ht,Wt),Nt.extent,lt))}}function Gt(It,...qt){if(this.__zooming){var Nt=jt(this,qt).event(It),Dt=It.changedTouches,Tt=Dt.length,Mt,$t;for(nopropagation(It),pt&&clearTimeout(pt),pt=setTimeout(function(){pt=null},mt),Mt=0;Mt<Tt;++Mt)$t=Dt[Mt],Nt.touch0&&Nt.touch0[2]===$t.identifier?delete Nt.touch0:Nt.touch1&&Nt.touch1[2]===$t.identifier&&delete Nt.touch1;if(Nt.touch1&&!Nt.touch0&&(Nt.touch0=Nt.touch1,delete Nt.touch1),Nt.touch0)Nt.touch0[1]=this.__zoom.invert(Nt.touch0[0]);else if(Nt.end(),Nt.taps===2&&($t=pointer($t,this),Math.hypot(ft[0]-$t[0],ft[1]-$t[1])<vt)){var Ht=select(this).on("dblclick.zoom");Ht&&Ht.apply(this,arguments)}}}return Et.wheelDelta=function(It){return arguments.length?(xe=typeof It=="function"?It:constant$1(+It),Et):xe},Et.filter=function(It){return arguments.length?(ee=typeof It=="function"?It:constant$1(!!It),Et):ee},Et.touchable=function(It){return arguments.length?(rt=typeof It=="function"?It:constant$1(!!It),Et):rt},Et.extent=function(It){return arguments.length?(te=typeof It=="function"?It:constant$1([[+It[0][0],+It[0][1]],[+It[1][0],+It[1][1]]]),Et):te},Et.scaleExtent=function(It){return arguments.length?(it[0]=+It[0],it[1]=+It[1],Et):[it[0],it[1]]},Et.translateExtent=function(It){return arguments.length?(lt[0][0]=+It[0][0],lt[1][0]=+It[1][0],lt[0][1]=+It[0][1],lt[1][1]=+It[1][1],Et):[[lt[0][0],lt[0][1]],[lt[1][0],lt[1][1]]]},Et.constrain=function(It){return arguments.length?(ne=It,Et):ne},Et.duration=function(It){return arguments.length?(ct=+It,Et):ct},Et.interpolate=function(It){return arguments.length?(ut=It,Et):ut},Et.on=function(){var It=dt.on.apply(dt,arguments);return It===dt?Et:It},Et.clickDistance=function(It){return arguments.length?(yt=(It=+It)*It,Et):Math.sqrt(yt)},Et.tapDistance=function(It){return arguments.length?(vt=+It,Et):vt},Et}var selectSvgElement=__name(ee=>{const{securityLevel:te}=getConfig2();let ne=select("body");if(te==="sandbox"){const it=select(`#i${ee}`).node()?.contentDocument??document;ne=select(it.body)}return ne.select(`#${ee}`)},"selectSvgElement");function isNothing(ee){return typeof ee>"u"||ee===null}__name(isNothing,"isNothing");function isObject$1(ee){return typeof ee=="object"&&ee!==null}__name(isObject$1,"isObject");function toArray(ee){return Array.isArray(ee)?ee:isNothing(ee)?[]:[ee]}__name(toArray,"toArray");function extend(ee,te){var ne,xe,rt,it;if(te)for(it=Object.keys(te),ne=0,xe=it.length;ne<xe;ne+=1)rt=it[ne],ee[rt]=te[rt];return ee}__name(extend,"extend");function repeat(ee,te){var ne="",xe;for(xe=0;xe<te;xe+=1)ne+=ee;return ne}__name(repeat,"repeat");function isNegativeZero(ee){return ee===0&&Number.NEGATIVE_INFINITY===1/ee}__name(isNegativeZero,"isNegativeZero");var isNothing_1=isNothing,isObject_1=isObject$1,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(ee,te){var ne="",xe=ee.reason||"(unknown reason)";return ee.mark?(ee.mark.name&&(ne+='in "'+ee.mark.name+'" '),ne+="("+(ee.mark.line+1)+":"+(ee.mark.column+1)+")",!te&&ee.mark.snippet&&(ne+=`

`+ee.mark.snippet),xe+" "+ne):xe}__name(formatError,"formatError");function YAMLException$1(ee,te){Error.call(this),this.name="YAMLException",this.reason=ee,this.mark=te,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}__name(YAMLException$1,"YAMLException$1");YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=__name(function(te){return this.name+": "+formatError(this,te)},"toString");var exception=YAMLException$1;function getLine(ee,te,ne,xe,rt){var it="",lt="",ct=Math.floor(rt/2)-1;return xe-te>ct&&(it=" ... ",te=xe-ct+it.length),ne-xe>ct&&(lt=" ...",ne=xe+ct-lt.length),{str:it+ee.slice(te,ne).replace(/\t/g,"")+lt,pos:xe-te+it.length}}__name(getLine,"getLine");function padStart(ee,te){return common.repeat(" ",te-ee.length)+ee}__name(padStart,"padStart");function makeSnippet(ee,te){if(te=Object.create(te||null),!ee.buffer)return null;te.maxLength||(te.maxLength=79),typeof te.indent!="number"&&(te.indent=1),typeof te.linesBefore!="number"&&(te.linesBefore=3),typeof te.linesAfter!="number"&&(te.linesAfter=2);for(var ne=/\r?\n|\r|\0/g,xe=[0],rt=[],it,lt=-1;it=ne.exec(ee.buffer);)rt.push(it.index),xe.push(it.index+it[0].length),ee.position<=it.index&&lt<0&&(lt=xe.length-2);lt<0&&(lt=xe.length-1);var ct="",ut,dt,ht=Math.min(ee.line+te.linesAfter,rt.length).toString().length,ft=te.maxLength-(te.indent+ht+3);for(ut=1;ut<=te.linesBefore&&!(lt-ut<0);ut++)dt=getLine(ee.buffer,xe[lt-ut],rt[lt-ut],ee.position-(xe[lt]-xe[lt-ut]),ft),ct=common.repeat(" ",te.indent)+padStart((ee.line-ut+1).toString(),ht)+" | "+dt.str+`
`+ct;for(dt=getLine(ee.buffer,xe[lt],rt[lt],ee.position,ft),ct+=common.repeat(" ",te.indent)+padStart((ee.line+1).toString(),ht)+" | "+dt.str+`
`,ct+=common.repeat("-",te.indent+ht+3+dt.pos)+`^
`,ut=1;ut<=te.linesAfter&&!(lt+ut>=rt.length);ut++)dt=getLine(ee.buffer,xe[lt+ut],rt[lt+ut],ee.position-(xe[lt]-xe[lt+ut]),ft),ct+=common.repeat(" ",te.indent)+padStart((ee.line+ut+1).toString(),ht)+" | "+dt.str+`
`;return ct.replace(/\n$/,"")}__name(makeSnippet,"makeSnippet");var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(ee){var te={};return ee!==null&&Object.keys(ee).forEach(function(ne){ee[ne].forEach(function(xe){te[String(xe)]=ne})}),te}__name(compileStyleAliases,"compileStyleAliases");function Type$1(ee,te){if(te=te||{},Object.keys(te).forEach(function(ne){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(ne)===-1)throw new exception('Unknown option "'+ne+'" is met in definition of "'+ee+'" YAML type.')}),this.options=te,this.tag=ee,this.kind=te.kind||null,this.resolve=te.resolve||function(){return!0},this.construct=te.construct||function(ne){return ne},this.instanceOf=te.instanceOf||null,this.predicate=te.predicate||null,this.represent=te.represent||null,this.representName=te.representName||null,this.defaultStyle=te.defaultStyle||null,this.multi=te.multi||!1,this.styleAliases=compileStyleAliases(te.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+ee+'" YAML type.')}__name(Type$1,"Type$1");var type=Type$1;function compileList(ee,te){var ne=[];return ee[te].forEach(function(xe){var rt=ne.length;ne.forEach(function(it,lt){it.tag===xe.tag&&it.kind===xe.kind&&it.multi===xe.multi&&(rt=lt)}),ne[rt]=xe}),ne}__name(compileList,"compileList");function compileMap(){var ee={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},te,ne;function xe(rt){rt.multi?(ee.multi[rt.kind].push(rt),ee.multi.fallback.push(rt)):ee[rt.kind][rt.tag]=ee.fallback[rt.tag]=rt}for(__name(xe,"collectType"),te=0,ne=arguments.length;te<ne;te+=1)arguments[te].forEach(xe);return ee}__name(compileMap,"compileMap");function Schema$1(ee){return this.extend(ee)}__name(Schema$1,"Schema$1");Schema$1.prototype.extend=__name(function(te){var ne=[],xe=[];if(te instanceof type)xe.push(te);else if(Array.isArray(te))xe=xe.concat(te);else if(te&&(Array.isArray(te.implicit)||Array.isArray(te.explicit)))te.implicit&&(ne=ne.concat(te.implicit)),te.explicit&&(xe=xe.concat(te.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");ne.forEach(function(it){if(!(it instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(it.loadKind&&it.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(it.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),xe.forEach(function(it){if(!(it instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var rt=Object.create(Schema$1.prototype);return rt.implicit=(this.implicit||[]).concat(ne),rt.explicit=(this.explicit||[]).concat(xe),rt.compiledImplicit=compileList(rt,"implicit"),rt.compiledExplicit=compileList(rt,"explicit"),rt.compiledTypeMap=compileMap(rt.compiledImplicit,rt.compiledExplicit),rt},"extend");var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:__name(function(ee){return ee!==null?ee:""},"construct")}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:__name(function(ee){return ee!==null?ee:[]},"construct")}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:__name(function(ee){return ee!==null?ee:{}},"construct")}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(ee){if(ee===null)return!0;var te=ee.length;return te===1&&ee==="~"||te===4&&(ee==="null"||ee==="Null"||ee==="NULL")}__name(resolveYamlNull,"resolveYamlNull");function constructYamlNull(){return null}__name(constructYamlNull,"constructYamlNull");function isNull(ee){return ee===null}__name(isNull,"isNull");var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:__name(function(){return"~"},"canonical"),lowercase:__name(function(){return"null"},"lowercase"),uppercase:__name(function(){return"NULL"},"uppercase"),camelcase:__name(function(){return"Null"},"camelcase"),empty:__name(function(){return""},"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(ee){if(ee===null)return!1;var te=ee.length;return te===4&&(ee==="true"||ee==="True"||ee==="TRUE")||te===5&&(ee==="false"||ee==="False"||ee==="FALSE")}__name(resolveYamlBoolean,"resolveYamlBoolean");function constructYamlBoolean(ee){return ee==="true"||ee==="True"||ee==="TRUE"}__name(constructYamlBoolean,"constructYamlBoolean");function isBoolean(ee){return Object.prototype.toString.call(ee)==="[object Boolean]"}__name(isBoolean,"isBoolean");var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:__name(function(ee){return ee?"true":"false"},"lowercase"),uppercase:__name(function(ee){return ee?"TRUE":"FALSE"},"uppercase"),camelcase:__name(function(ee){return ee?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function isHexCode(ee){return 48<=ee&&ee<=57||65<=ee&&ee<=70||97<=ee&&ee<=102}__name(isHexCode,"isHexCode");function isOctCode(ee){return 48<=ee&&ee<=55}__name(isOctCode,"isOctCode");function isDecCode(ee){return 48<=ee&&ee<=57}__name(isDecCode,"isDecCode");function resolveYamlInteger(ee){if(ee===null)return!1;var te=ee.length,ne=0,xe=!1,rt;if(!te)return!1;if(rt=ee[ne],(rt==="-"||rt==="+")&&(rt=ee[++ne]),rt==="0"){if(ne+1===te)return!0;if(rt=ee[++ne],rt==="b"){for(ne++;ne<te;ne++)if(rt=ee[ne],rt!=="_"){if(rt!=="0"&&rt!=="1")return!1;xe=!0}return xe&&rt!=="_"}if(rt==="x"){for(ne++;ne<te;ne++)if(rt=ee[ne],rt!=="_"){if(!isHexCode(ee.charCodeAt(ne)))return!1;xe=!0}return xe&&rt!=="_"}if(rt==="o"){for(ne++;ne<te;ne++)if(rt=ee[ne],rt!=="_"){if(!isOctCode(ee.charCodeAt(ne)))return!1;xe=!0}return xe&&rt!=="_"}}if(rt==="_")return!1;for(;ne<te;ne++)if(rt=ee[ne],rt!=="_"){if(!isDecCode(ee.charCodeAt(ne)))return!1;xe=!0}return!(!xe||rt==="_")}__name(resolveYamlInteger,"resolveYamlInteger");function constructYamlInteger(ee){var te=ee,ne=1,xe;if(te.indexOf("_")!==-1&&(te=te.replace(/_/g,"")),xe=te[0],(xe==="-"||xe==="+")&&(xe==="-"&&(ne=-1),te=te.slice(1),xe=te[0]),te==="0")return 0;if(xe==="0"){if(te[1]==="b")return ne*parseInt(te.slice(2),2);if(te[1]==="x")return ne*parseInt(te.slice(2),16);if(te[1]==="o")return ne*parseInt(te.slice(2),8)}return ne*parseInt(te,10)}__name(constructYamlInteger,"constructYamlInteger");function isInteger(ee){return Object.prototype.toString.call(ee)==="[object Number]"&&ee%1===0&&!common.isNegativeZero(ee)}__name(isInteger,"isInteger");var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:__name(function(ee){return ee>=0?"0b"+ee.toString(2):"-0b"+ee.toString(2).slice(1)},"binary"),octal:__name(function(ee){return ee>=0?"0o"+ee.toString(8):"-0o"+ee.toString(8).slice(1)},"octal"),decimal:__name(function(ee){return ee.toString(10)},"decimal"),hexadecimal:__name(function(ee){return ee>=0?"0x"+ee.toString(16).toUpperCase():"-0x"+ee.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(ee){return!(ee===null||!YAML_FLOAT_PATTERN.test(ee)||ee[ee.length-1]==="_")}__name(resolveYamlFloat,"resolveYamlFloat");function constructYamlFloat(ee){var te,ne;return te=ee.replace(/_/g,"").toLowerCase(),ne=te[0]==="-"?-1:1,"+-".indexOf(te[0])>=0&&(te=te.slice(1)),te===".inf"?ne===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:te===".nan"?NaN:ne*parseFloat(te,10)}__name(constructYamlFloat,"constructYamlFloat");var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(ee,te){var ne;if(isNaN(ee))switch(te){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===ee)switch(te){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===ee)switch(te){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(ee))return"-0.0";return ne=ee.toString(10),SCIENTIFIC_WITHOUT_DOT.test(ne)?ne.replace("e",".e"):ne}__name(representYamlFloat,"representYamlFloat");function isFloat(ee){return Object.prototype.toString.call(ee)==="[object Number]"&&(ee%1!==0||common.isNegativeZero(ee))}__name(isFloat,"isFloat");var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(ee){return ee===null?!1:YAML_DATE_REGEXP.exec(ee)!==null||YAML_TIMESTAMP_REGEXP.exec(ee)!==null}__name(resolveYamlTimestamp,"resolveYamlTimestamp");function constructYamlTimestamp(ee){var te,ne,xe,rt,it,lt,ct,ut=0,dt=null,ht,ft,pt;if(te=YAML_DATE_REGEXP.exec(ee),te===null&&(te=YAML_TIMESTAMP_REGEXP.exec(ee)),te===null)throw new Error("Date resolve error");if(ne=+te[1],xe=+te[2]-1,rt=+te[3],!te[4])return new Date(Date.UTC(ne,xe,rt));if(it=+te[4],lt=+te[5],ct=+te[6],te[7]){for(ut=te[7].slice(0,3);ut.length<3;)ut+="0";ut=+ut}return te[9]&&(ht=+te[10],ft=+(te[11]||0),dt=(ht*60+ft)*6e4,te[9]==="-"&&(dt=-dt)),pt=new Date(Date.UTC(ne,xe,rt,it,lt,ct,ut)),dt&&pt.setTime(pt.getTime()-dt),pt}__name(constructYamlTimestamp,"constructYamlTimestamp");function representYamlTimestamp(ee){return ee.toISOString()}__name(representYamlTimestamp,"representYamlTimestamp");var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(ee){return ee==="<<"||ee===null}__name(resolveYamlMerge,"resolveYamlMerge");var merge$1=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(ee){if(ee===null)return!1;var te,ne,xe=0,rt=ee.length,it=BASE64_MAP;for(ne=0;ne<rt;ne++)if(te=it.indexOf(ee.charAt(ne)),!(te>64)){if(te<0)return!1;xe+=6}return xe%8===0}__name(resolveYamlBinary,"resolveYamlBinary");function constructYamlBinary(ee){var te,ne,xe=ee.replace(/[\r\n=]/g,""),rt=xe.length,it=BASE64_MAP,lt=0,ct=[];for(te=0;te<rt;te++)te%4===0&&te&&(ct.push(lt>>16&255),ct.push(lt>>8&255),ct.push(lt&255)),lt=lt<<6|it.indexOf(xe.charAt(te));return ne=rt%4*6,ne===0?(ct.push(lt>>16&255),ct.push(lt>>8&255),ct.push(lt&255)):ne===18?(ct.push(lt>>10&255),ct.push(lt>>2&255)):ne===12&&ct.push(lt>>4&255),new Uint8Array(ct)}__name(constructYamlBinary,"constructYamlBinary");function representYamlBinary(ee){var te="",ne=0,xe,rt,it=ee.length,lt=BASE64_MAP;for(xe=0;xe<it;xe++)xe%3===0&&xe&&(te+=lt[ne>>18&63],te+=lt[ne>>12&63],te+=lt[ne>>6&63],te+=lt[ne&63]),ne=(ne<<8)+ee[xe];return rt=it%3,rt===0?(te+=lt[ne>>18&63],te+=lt[ne>>12&63],te+=lt[ne>>6&63],te+=lt[ne&63]):rt===2?(te+=lt[ne>>10&63],te+=lt[ne>>4&63],te+=lt[ne<<2&63],te+=lt[64]):rt===1&&(te+=lt[ne>>2&63],te+=lt[ne<<4&63],te+=lt[64],te+=lt[64]),te}__name(representYamlBinary,"representYamlBinary");function isBinary(ee){return Object.prototype.toString.call(ee)==="[object Uint8Array]"}__name(isBinary,"isBinary");var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(ee){if(ee===null)return!0;var te=[],ne,xe,rt,it,lt,ct=ee;for(ne=0,xe=ct.length;ne<xe;ne+=1){if(rt=ct[ne],lt=!1,_toString$2.call(rt)!=="[object Object]")return!1;for(it in rt)if(_hasOwnProperty$3.call(rt,it))if(!lt)lt=!0;else return!1;if(!lt)return!1;if(te.indexOf(it)===-1)te.push(it);else return!1}return!0}__name(resolveYamlOmap,"resolveYamlOmap");function constructYamlOmap(ee){return ee!==null?ee:[]}__name(constructYamlOmap,"constructYamlOmap");var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(ee){if(ee===null)return!0;var te,ne,xe,rt,it,lt=ee;for(it=new Array(lt.length),te=0,ne=lt.length;te<ne;te+=1){if(xe=lt[te],_toString$1.call(xe)!=="[object Object]"||(rt=Object.keys(xe),rt.length!==1))return!1;it[te]=[rt[0],xe[rt[0]]]}return!0}__name(resolveYamlPairs,"resolveYamlPairs");function constructYamlPairs(ee){if(ee===null)return[];var te,ne,xe,rt,it,lt=ee;for(it=new Array(lt.length),te=0,ne=lt.length;te<ne;te+=1)xe=lt[te],rt=Object.keys(xe),it[te]=[rt[0],xe[rt[0]]];return it}__name(constructYamlPairs,"constructYamlPairs");var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(ee){if(ee===null)return!0;var te,ne=ee;for(te in ne)if(_hasOwnProperty$2.call(ne,te)&&ne[te]!==null)return!1;return!0}__name(resolveYamlSet,"resolveYamlSet");function constructYamlSet(ee){return ee!==null?ee:{}}__name(constructYamlSet,"constructYamlSet");var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge$1],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(ee){return Object.prototype.toString.call(ee)}__name(_class,"_class");function is_EOL(ee){return ee===10||ee===13}__name(is_EOL,"is_EOL");function is_WHITE_SPACE(ee){return ee===9||ee===32}__name(is_WHITE_SPACE,"is_WHITE_SPACE");function is_WS_OR_EOL(ee){return ee===9||ee===32||ee===10||ee===13}__name(is_WS_OR_EOL,"is_WS_OR_EOL");function is_FLOW_INDICATOR(ee){return ee===44||ee===91||ee===93||ee===123||ee===125}__name(is_FLOW_INDICATOR,"is_FLOW_INDICATOR");function fromHexCode(ee){var te;return 48<=ee&&ee<=57?ee-48:(te=ee|32,97<=te&&te<=102?te-97+10:-1)}__name(fromHexCode,"fromHexCode");function escapedHexLen(ee){return ee===120?2:ee===117?4:ee===85?8:0}__name(escapedHexLen,"escapedHexLen");function fromDecimalCode(ee){return 48<=ee&&ee<=57?ee-48:-1}__name(fromDecimalCode,"fromDecimalCode");function simpleEscapeSequence(ee){return ee===48?"\0":ee===97?"\x07":ee===98?"\b":ee===116||ee===9?"	":ee===110?`
`:ee===118?"\v":ee===102?"\f":ee===114?"\r":ee===101?"\x1B":ee===32?" ":ee===34?'"':ee===47?"/":ee===92?"\\":ee===78?"":ee===95?"":ee===76?"\u2028":ee===80?"\u2029":""}__name(simpleEscapeSequence,"simpleEscapeSequence");function charFromCodepoint(ee){return ee<=65535?String.fromCharCode(ee):String.fromCharCode((ee-65536>>10)+55296,(ee-65536&1023)+56320)}__name(charFromCodepoint,"charFromCodepoint");var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(i$1=0;i$1<256;i$1++)simpleEscapeCheck[i$1]=simpleEscapeSequence(i$1)?1:0,simpleEscapeMap[i$1]=simpleEscapeSequence(i$1);var i$1;function State$1(ee,te){this.input=ee,this.filename=te.filename||null,this.schema=te.schema||_default,this.onWarning=te.onWarning||null,this.legacy=te.legacy||!1,this.json=te.json||!1,this.listener=te.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=ee.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}__name(State$1,"State$1");function generateError(ee,te){var ne={name:ee.filename,buffer:ee.input.slice(0,-1),position:ee.position,line:ee.line,column:ee.position-ee.lineStart};return ne.snippet=snippet(ne),new exception(te,ne)}__name(generateError,"generateError");function throwError(ee,te){throw generateError(ee,te)}__name(throwError,"throwError");function throwWarning(ee,te){ee.onWarning&&ee.onWarning.call(null,generateError(ee,te))}__name(throwWarning,"throwWarning");var directiveHandlers={YAML:__name(function(te,ne,xe){var rt,it,lt;te.version!==null&&throwError(te,"duplication of %YAML directive"),xe.length!==1&&throwError(te,"YAML directive accepts exactly one argument"),rt=/^([0-9]+)\.([0-9]+)$/.exec(xe[0]),rt===null&&throwError(te,"ill-formed argument of the YAML directive"),it=parseInt(rt[1],10),lt=parseInt(rt[2],10),it!==1&&throwError(te,"unacceptable YAML version of the document"),te.version=xe[0],te.checkLineBreaks=lt<2,lt!==1&&lt!==2&&throwWarning(te,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:__name(function(te,ne,xe){var rt,it;xe.length!==2&&throwError(te,"TAG directive accepts exactly two arguments"),rt=xe[0],it=xe[1],PATTERN_TAG_HANDLE.test(rt)||throwError(te,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(te.tagMap,rt)&&throwError(te,'there is a previously declared suffix for "'+rt+'" tag handle'),PATTERN_TAG_URI.test(it)||throwError(te,"ill-formed tag prefix (second argument) of the TAG directive");try{it=decodeURIComponent(it)}catch{throwError(te,"tag prefix is malformed: "+it)}te.tagMap[rt]=it},"handleTagDirective")};function captureSegment(ee,te,ne,xe){var rt,it,lt,ct;if(te<ne){if(ct=ee.input.slice(te,ne),xe)for(rt=0,it=ct.length;rt<it;rt+=1)lt=ct.charCodeAt(rt),lt===9||32<=lt&&lt<=1114111||throwError(ee,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(ct)&&throwError(ee,"the stream contains non-printable characters");ee.result+=ct}}__name(captureSegment,"captureSegment");function mergeMappings(ee,te,ne,xe){var rt,it,lt,ct;for(common.isObject(ne)||throwError(ee,"cannot merge mappings; the provided source object is unacceptable"),rt=Object.keys(ne),lt=0,ct=rt.length;lt<ct;lt+=1)it=rt[lt],_hasOwnProperty$1.call(te,it)||(te[it]=ne[it],xe[it]=!0)}__name(mergeMappings,"mergeMappings");function storeMappingPair(ee,te,ne,xe,rt,it,lt,ct,ut){var dt,ht;if(Array.isArray(rt))for(rt=Array.prototype.slice.call(rt),dt=0,ht=rt.length;dt<ht;dt+=1)Array.isArray(rt[dt])&&throwError(ee,"nested arrays are not supported inside keys"),typeof rt=="object"&&_class(rt[dt])==="[object Object]"&&(rt[dt]="[object Object]");if(typeof rt=="object"&&_class(rt)==="[object Object]"&&(rt="[object Object]"),rt=String(rt),te===null&&(te={}),xe==="tag:yaml.org,2002:merge")if(Array.isArray(it))for(dt=0,ht=it.length;dt<ht;dt+=1)mergeMappings(ee,te,it[dt],ne);else mergeMappings(ee,te,it,ne);else!ee.json&&!_hasOwnProperty$1.call(ne,rt)&&_hasOwnProperty$1.call(te,rt)&&(ee.line=lt||ee.line,ee.lineStart=ct||ee.lineStart,ee.position=ut||ee.position,throwError(ee,"duplicated mapping key")),rt==="__proto__"?Object.defineProperty(te,rt,{configurable:!0,enumerable:!0,writable:!0,value:it}):te[rt]=it,delete ne[rt];return te}__name(storeMappingPair,"storeMappingPair");function readLineBreak(ee){var te;te=ee.input.charCodeAt(ee.position),te===10?ee.position++:te===13?(ee.position++,ee.input.charCodeAt(ee.position)===10&&ee.position++):throwError(ee,"a line break is expected"),ee.line+=1,ee.lineStart=ee.position,ee.firstTabInLine=-1}__name(readLineBreak,"readLineBreak");function skipSeparationSpace(ee,te,ne){for(var xe=0,rt=ee.input.charCodeAt(ee.position);rt!==0;){for(;is_WHITE_SPACE(rt);)rt===9&&ee.firstTabInLine===-1&&(ee.firstTabInLine=ee.position),rt=ee.input.charCodeAt(++ee.position);if(te&&rt===35)do rt=ee.input.charCodeAt(++ee.position);while(rt!==10&&rt!==13&&rt!==0);if(is_EOL(rt))for(readLineBreak(ee),rt=ee.input.charCodeAt(ee.position),xe++,ee.lineIndent=0;rt===32;)ee.lineIndent++,rt=ee.input.charCodeAt(++ee.position);else break}return ne!==-1&&xe!==0&&ee.lineIndent<ne&&throwWarning(ee,"deficient indentation"),xe}__name(skipSeparationSpace,"skipSeparationSpace");function testDocumentSeparator(ee){var te=ee.position,ne;return ne=ee.input.charCodeAt(te),!!((ne===45||ne===46)&&ne===ee.input.charCodeAt(te+1)&&ne===ee.input.charCodeAt(te+2)&&(te+=3,ne=ee.input.charCodeAt(te),ne===0||is_WS_OR_EOL(ne)))}__name(testDocumentSeparator,"testDocumentSeparator");function writeFoldedLines(ee,te){te===1?ee.result+=" ":te>1&&(ee.result+=common.repeat(`
`,te-1))}__name(writeFoldedLines,"writeFoldedLines");function readPlainScalar(ee,te,ne){var xe,rt,it,lt,ct,ut,dt,ht,ft=ee.kind,pt=ee.result,mt;if(mt=ee.input.charCodeAt(ee.position),is_WS_OR_EOL(mt)||is_FLOW_INDICATOR(mt)||mt===35||mt===38||mt===42||mt===33||mt===124||mt===62||mt===39||mt===34||mt===37||mt===64||mt===96||(mt===63||mt===45)&&(rt=ee.input.charCodeAt(ee.position+1),is_WS_OR_EOL(rt)||ne&&is_FLOW_INDICATOR(rt)))return!1;for(ee.kind="scalar",ee.result="",it=lt=ee.position,ct=!1;mt!==0;){if(mt===58){if(rt=ee.input.charCodeAt(ee.position+1),is_WS_OR_EOL(rt)||ne&&is_FLOW_INDICATOR(rt))break}else if(mt===35){if(xe=ee.input.charCodeAt(ee.position-1),is_WS_OR_EOL(xe))break}else{if(ee.position===ee.lineStart&&testDocumentSeparator(ee)||ne&&is_FLOW_INDICATOR(mt))break;if(is_EOL(mt))if(ut=ee.line,dt=ee.lineStart,ht=ee.lineIndent,skipSeparationSpace(ee,!1,-1),ee.lineIndent>=te){ct=!0,mt=ee.input.charCodeAt(ee.position);continue}else{ee.position=lt,ee.line=ut,ee.lineStart=dt,ee.lineIndent=ht;break}}ct&&(captureSegment(ee,it,lt,!1),writeFoldedLines(ee,ee.line-ut),it=lt=ee.position,ct=!1),is_WHITE_SPACE(mt)||(lt=ee.position+1),mt=ee.input.charCodeAt(++ee.position)}return captureSegment(ee,it,lt,!1),ee.result?!0:(ee.kind=ft,ee.result=pt,!1)}__name(readPlainScalar,"readPlainScalar");function readSingleQuotedScalar(ee,te){var ne,xe,rt;if(ne=ee.input.charCodeAt(ee.position),ne!==39)return!1;for(ee.kind="scalar",ee.result="",ee.position++,xe=rt=ee.position;(ne=ee.input.charCodeAt(ee.position))!==0;)if(ne===39)if(captureSegment(ee,xe,ee.position,!0),ne=ee.input.charCodeAt(++ee.position),ne===39)xe=ee.position,ee.position++,rt=ee.position;else return!0;else is_EOL(ne)?(captureSegment(ee,xe,rt,!0),writeFoldedLines(ee,skipSeparationSpace(ee,!1,te)),xe=rt=ee.position):ee.position===ee.lineStart&&testDocumentSeparator(ee)?throwError(ee,"unexpected end of the document within a single quoted scalar"):(ee.position++,rt=ee.position);throwError(ee,"unexpected end of the stream within a single quoted scalar")}__name(readSingleQuotedScalar,"readSingleQuotedScalar");function readDoubleQuotedScalar(ee,te){var ne,xe,rt,it,lt,ct;if(ct=ee.input.charCodeAt(ee.position),ct!==34)return!1;for(ee.kind="scalar",ee.result="",ee.position++,ne=xe=ee.position;(ct=ee.input.charCodeAt(ee.position))!==0;){if(ct===34)return captureSegment(ee,ne,ee.position,!0),ee.position++,!0;if(ct===92){if(captureSegment(ee,ne,ee.position,!0),ct=ee.input.charCodeAt(++ee.position),is_EOL(ct))skipSeparationSpace(ee,!1,te);else if(ct<256&&simpleEscapeCheck[ct])ee.result+=simpleEscapeMap[ct],ee.position++;else if((lt=escapedHexLen(ct))>0){for(rt=lt,it=0;rt>0;rt--)ct=ee.input.charCodeAt(++ee.position),(lt=fromHexCode(ct))>=0?it=(it<<4)+lt:throwError(ee,"expected hexadecimal character");ee.result+=charFromCodepoint(it),ee.position++}else throwError(ee,"unknown escape sequence");ne=xe=ee.position}else is_EOL(ct)?(captureSegment(ee,ne,xe,!0),writeFoldedLines(ee,skipSeparationSpace(ee,!1,te)),ne=xe=ee.position):ee.position===ee.lineStart&&testDocumentSeparator(ee)?throwError(ee,"unexpected end of the document within a double quoted scalar"):(ee.position++,xe=ee.position)}throwError(ee,"unexpected end of the stream within a double quoted scalar")}__name(readDoubleQuotedScalar,"readDoubleQuotedScalar");function readFlowCollection(ee,te){var ne=!0,xe,rt,it,lt=ee.tag,ct,ut=ee.anchor,dt,ht,ft,pt,mt,xt=Object.create(null),yt,vt,Et,_t;if(_t=ee.input.charCodeAt(ee.position),_t===91)ht=93,mt=!1,ct=[];else if(_t===123)ht=125,mt=!0,ct={};else return!1;for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ct),_t=ee.input.charCodeAt(++ee.position);_t!==0;){if(skipSeparationSpace(ee,!0,te),_t=ee.input.charCodeAt(ee.position),_t===ht)return ee.position++,ee.tag=lt,ee.anchor=ut,ee.kind=mt?"mapping":"sequence",ee.result=ct,!0;ne?_t===44&&throwError(ee,"expected the node content, but found ','"):throwError(ee,"missed comma between flow collection entries"),vt=yt=Et=null,ft=pt=!1,_t===63&&(dt=ee.input.charCodeAt(ee.position+1),is_WS_OR_EOL(dt)&&(ft=pt=!0,ee.position++,skipSeparationSpace(ee,!0,te))),xe=ee.line,rt=ee.lineStart,it=ee.position,composeNode(ee,te,CONTEXT_FLOW_IN,!1,!0),vt=ee.tag,yt=ee.result,skipSeparationSpace(ee,!0,te),_t=ee.input.charCodeAt(ee.position),(pt||ee.line===xe)&&_t===58&&(ft=!0,_t=ee.input.charCodeAt(++ee.position),skipSeparationSpace(ee,!0,te),composeNode(ee,te,CONTEXT_FLOW_IN,!1,!0),Et=ee.result),mt?storeMappingPair(ee,ct,xt,vt,yt,Et,xe,rt,it):ft?ct.push(storeMappingPair(ee,null,xt,vt,yt,Et,xe,rt,it)):ct.push(yt),skipSeparationSpace(ee,!0,te),_t=ee.input.charCodeAt(ee.position),_t===44?(ne=!0,_t=ee.input.charCodeAt(++ee.position)):ne=!1}throwError(ee,"unexpected end of the stream within a flow collection")}__name(readFlowCollection,"readFlowCollection");function readBlockScalar(ee,te){var ne,xe,rt=CHOMPING_CLIP,it=!1,lt=!1,ct=te,ut=0,dt=!1,ht,ft;if(ft=ee.input.charCodeAt(ee.position),ft===124)xe=!1;else if(ft===62)xe=!0;else return!1;for(ee.kind="scalar",ee.result="";ft!==0;)if(ft=ee.input.charCodeAt(++ee.position),ft===43||ft===45)CHOMPING_CLIP===rt?rt=ft===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(ee,"repeat of a chomping mode identifier");else if((ht=fromDecimalCode(ft))>=0)ht===0?throwError(ee,"bad explicit indentation width of a block scalar; it cannot be less than one"):lt?throwError(ee,"repeat of an indentation width identifier"):(ct=te+ht-1,lt=!0);else break;if(is_WHITE_SPACE(ft)){do ft=ee.input.charCodeAt(++ee.position);while(is_WHITE_SPACE(ft));if(ft===35)do ft=ee.input.charCodeAt(++ee.position);while(!is_EOL(ft)&&ft!==0)}for(;ft!==0;){for(readLineBreak(ee),ee.lineIndent=0,ft=ee.input.charCodeAt(ee.position);(!lt||ee.lineIndent<ct)&&ft===32;)ee.lineIndent++,ft=ee.input.charCodeAt(++ee.position);if(!lt&&ee.lineIndent>ct&&(ct=ee.lineIndent),is_EOL(ft)){ut++;continue}if(ee.lineIndent<ct){rt===CHOMPING_KEEP?ee.result+=common.repeat(`
`,it?1+ut:ut):rt===CHOMPING_CLIP&&it&&(ee.result+=`
`);break}for(xe?is_WHITE_SPACE(ft)?(dt=!0,ee.result+=common.repeat(`
`,it?1+ut:ut)):dt?(dt=!1,ee.result+=common.repeat(`
`,ut+1)):ut===0?it&&(ee.result+=" "):ee.result+=common.repeat(`
`,ut):ee.result+=common.repeat(`
`,it?1+ut:ut),it=!0,lt=!0,ut=0,ne=ee.position;!is_EOL(ft)&&ft!==0;)ft=ee.input.charCodeAt(++ee.position);captureSegment(ee,ne,ee.position,!1)}return!0}__name(readBlockScalar,"readBlockScalar");function readBlockSequence(ee,te){var ne,xe=ee.tag,rt=ee.anchor,it=[],lt,ct=!1,ut;if(ee.firstTabInLine!==-1)return!1;for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=it),ut=ee.input.charCodeAt(ee.position);ut!==0&&(ee.firstTabInLine!==-1&&(ee.position=ee.firstTabInLine,throwError(ee,"tab characters must not be used in indentation")),!(ut!==45||(lt=ee.input.charCodeAt(ee.position+1),!is_WS_OR_EOL(lt))));){if(ct=!0,ee.position++,skipSeparationSpace(ee,!0,-1)&&ee.lineIndent<=te){it.push(null),ut=ee.input.charCodeAt(ee.position);continue}if(ne=ee.line,composeNode(ee,te,CONTEXT_BLOCK_IN,!1,!0),it.push(ee.result),skipSeparationSpace(ee,!0,-1),ut=ee.input.charCodeAt(ee.position),(ee.line===ne||ee.lineIndent>te)&&ut!==0)throwError(ee,"bad indentation of a sequence entry");else if(ee.lineIndent<te)break}return ct?(ee.tag=xe,ee.anchor=rt,ee.kind="sequence",ee.result=it,!0):!1}__name(readBlockSequence,"readBlockSequence");function readBlockMapping(ee,te,ne){var xe,rt,it,lt,ct,ut,dt=ee.tag,ht=ee.anchor,ft={},pt=Object.create(null),mt=null,xt=null,yt=null,vt=!1,Et=!1,_t;if(ee.firstTabInLine!==-1)return!1;for(ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ft),_t=ee.input.charCodeAt(ee.position);_t!==0;){if(!vt&&ee.firstTabInLine!==-1&&(ee.position=ee.firstTabInLine,throwError(ee,"tab characters must not be used in indentation")),xe=ee.input.charCodeAt(ee.position+1),it=ee.line,(_t===63||_t===58)&&is_WS_OR_EOL(xe))_t===63?(vt&&(storeMappingPair(ee,ft,pt,mt,xt,null,lt,ct,ut),mt=xt=yt=null),Et=!0,vt=!0,rt=!0):vt?(vt=!1,rt=!0):throwError(ee,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),ee.position+=1,_t=xe;else{if(lt=ee.line,ct=ee.lineStart,ut=ee.position,!composeNode(ee,ne,CONTEXT_FLOW_OUT,!1,!0))break;if(ee.line===it){for(_t=ee.input.charCodeAt(ee.position);is_WHITE_SPACE(_t);)_t=ee.input.charCodeAt(++ee.position);if(_t===58)_t=ee.input.charCodeAt(++ee.position),is_WS_OR_EOL(_t)||throwError(ee,"a whitespace character is expected after the key-value separator within a block mapping"),vt&&(storeMappingPair(ee,ft,pt,mt,xt,null,lt,ct,ut),mt=xt=yt=null),Et=!0,vt=!1,rt=!1,mt=ee.tag,xt=ee.result;else if(Et)throwError(ee,"can not read an implicit mapping pair; a colon is missed");else return ee.tag=dt,ee.anchor=ht,!0}else if(Et)throwError(ee,"can not read a block mapping entry; a multiline key may not be an implicit key");else return ee.tag=dt,ee.anchor=ht,!0}if((ee.line===it||ee.lineIndent>te)&&(vt&&(lt=ee.line,ct=ee.lineStart,ut=ee.position),composeNode(ee,te,CONTEXT_BLOCK_OUT,!0,rt)&&(vt?xt=ee.result:yt=ee.result),vt||(storeMappingPair(ee,ft,pt,mt,xt,yt,lt,ct,ut),mt=xt=yt=null),skipSeparationSpace(ee,!0,-1),_t=ee.input.charCodeAt(ee.position)),(ee.line===it||ee.lineIndent>te)&&_t!==0)throwError(ee,"bad indentation of a mapping entry");else if(ee.lineIndent<te)break}return vt&&storeMappingPair(ee,ft,pt,mt,xt,null,lt,ct,ut),Et&&(ee.tag=dt,ee.anchor=ht,ee.kind="mapping",ee.result=ft),Et}__name(readBlockMapping,"readBlockMapping");function readTagProperty(ee){var te,ne=!1,xe=!1,rt,it,lt;if(lt=ee.input.charCodeAt(ee.position),lt!==33)return!1;if(ee.tag!==null&&throwError(ee,"duplication of a tag property"),lt=ee.input.charCodeAt(++ee.position),lt===60?(ne=!0,lt=ee.input.charCodeAt(++ee.position)):lt===33?(xe=!0,rt="!!",lt=ee.input.charCodeAt(++ee.position)):rt="!",te=ee.position,ne){do lt=ee.input.charCodeAt(++ee.position);while(lt!==0&&lt!==62);ee.position<ee.length?(it=ee.input.slice(te,ee.position),lt=ee.input.charCodeAt(++ee.position)):throwError(ee,"unexpected end of the stream within a verbatim tag")}else{for(;lt!==0&&!is_WS_OR_EOL(lt);)lt===33&&(xe?throwError(ee,"tag suffix cannot contain exclamation marks"):(rt=ee.input.slice(te-1,ee.position+1),PATTERN_TAG_HANDLE.test(rt)||throwError(ee,"named tag handle cannot contain such characters"),xe=!0,te=ee.position+1)),lt=ee.input.charCodeAt(++ee.position);it=ee.input.slice(te,ee.position),PATTERN_FLOW_INDICATORS.test(it)&&throwError(ee,"tag suffix cannot contain flow indicator characters")}it&&!PATTERN_TAG_URI.test(it)&&throwError(ee,"tag name cannot contain such characters: "+it);try{it=decodeURIComponent(it)}catch{throwError(ee,"tag name is malformed: "+it)}return ne?ee.tag=it:_hasOwnProperty$1.call(ee.tagMap,rt)?ee.tag=ee.tagMap[rt]+it:rt==="!"?ee.tag="!"+it:rt==="!!"?ee.tag="tag:yaml.org,2002:"+it:throwError(ee,'undeclared tag handle "'+rt+'"'),!0}__name(readTagProperty,"readTagProperty");function readAnchorProperty(ee){var te,ne;if(ne=ee.input.charCodeAt(ee.position),ne!==38)return!1;for(ee.anchor!==null&&throwError(ee,"duplication of an anchor property"),ne=ee.input.charCodeAt(++ee.position),te=ee.position;ne!==0&&!is_WS_OR_EOL(ne)&&!is_FLOW_INDICATOR(ne);)ne=ee.input.charCodeAt(++ee.position);return ee.position===te&&throwError(ee,"name of an anchor node must contain at least one character"),ee.anchor=ee.input.slice(te,ee.position),!0}__name(readAnchorProperty,"readAnchorProperty");function readAlias(ee){var te,ne,xe;if(xe=ee.input.charCodeAt(ee.position),xe!==42)return!1;for(xe=ee.input.charCodeAt(++ee.position),te=ee.position;xe!==0&&!is_WS_OR_EOL(xe)&&!is_FLOW_INDICATOR(xe);)xe=ee.input.charCodeAt(++ee.position);return ee.position===te&&throwError(ee,"name of an alias node must contain at least one character"),ne=ee.input.slice(te,ee.position),_hasOwnProperty$1.call(ee.anchorMap,ne)||throwError(ee,'unidentified alias "'+ne+'"'),ee.result=ee.anchorMap[ne],skipSeparationSpace(ee,!0,-1),!0}__name(readAlias,"readAlias");function composeNode(ee,te,ne,xe,rt){var it,lt,ct,ut=1,dt=!1,ht=!1,ft,pt,mt,xt,yt,vt;if(ee.listener!==null&&ee.listener("open",ee),ee.tag=null,ee.anchor=null,ee.kind=null,ee.result=null,it=lt=ct=CONTEXT_BLOCK_OUT===ne||CONTEXT_BLOCK_IN===ne,xe&&skipSeparationSpace(ee,!0,-1)&&(dt=!0,ee.lineIndent>te?ut=1:ee.lineIndent===te?ut=0:ee.lineIndent<te&&(ut=-1)),ut===1)for(;readTagProperty(ee)||readAnchorProperty(ee);)skipSeparationSpace(ee,!0,-1)?(dt=!0,ct=it,ee.lineIndent>te?ut=1:ee.lineIndent===te?ut=0:ee.lineIndent<te&&(ut=-1)):ct=!1;if(ct&&(ct=dt||rt),(ut===1||CONTEXT_BLOCK_OUT===ne)&&(CONTEXT_FLOW_IN===ne||CONTEXT_FLOW_OUT===ne?yt=te:yt=te+1,vt=ee.position-ee.lineStart,ut===1?ct&&(readBlockSequence(ee,vt)||readBlockMapping(ee,vt,yt))||readFlowCollection(ee,yt)?ht=!0:(lt&&readBlockScalar(ee,yt)||readSingleQuotedScalar(ee,yt)||readDoubleQuotedScalar(ee,yt)?ht=!0:readAlias(ee)?(ht=!0,(ee.tag!==null||ee.anchor!==null)&&throwError(ee,"alias node should not have any properties")):readPlainScalar(ee,yt,CONTEXT_FLOW_IN===ne)&&(ht=!0,ee.tag===null&&(ee.tag="?")),ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result)):ut===0&&(ht=ct&&readBlockSequence(ee,vt))),ee.tag===null)ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result);else if(ee.tag==="?"){for(ee.result!==null&&ee.kind!=="scalar"&&throwError(ee,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+ee.kind+'"'),ft=0,pt=ee.implicitTypes.length;ft<pt;ft+=1)if(xt=ee.implicitTypes[ft],xt.resolve(ee.result)){ee.result=xt.construct(ee.result),ee.tag=xt.tag,ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result);break}}else if(ee.tag!=="!"){if(_hasOwnProperty$1.call(ee.typeMap[ee.kind||"fallback"],ee.tag))xt=ee.typeMap[ee.kind||"fallback"][ee.tag];else for(xt=null,mt=ee.typeMap.multi[ee.kind||"fallback"],ft=0,pt=mt.length;ft<pt;ft+=1)if(ee.tag.slice(0,mt[ft].tag.length)===mt[ft].tag){xt=mt[ft];break}xt||throwError(ee,"unknown tag !<"+ee.tag+">"),ee.result!==null&&xt.kind!==ee.kind&&throwError(ee,"unacceptable node kind for !<"+ee.tag+'> tag; it should be "'+xt.kind+'", not "'+ee.kind+'"'),xt.resolve(ee.result,ee.tag)?(ee.result=xt.construct(ee.result,ee.tag),ee.anchor!==null&&(ee.anchorMap[ee.anchor]=ee.result)):throwError(ee,"cannot resolve a node with !<"+ee.tag+"> explicit tag")}return ee.listener!==null&&ee.listener("close",ee),ee.tag!==null||ee.anchor!==null||ht}__name(composeNode,"composeNode");function readDocument(ee){var te=ee.position,ne,xe,rt,it=!1,lt;for(ee.version=null,ee.checkLineBreaks=ee.legacy,ee.tagMap=Object.create(null),ee.anchorMap=Object.create(null);(lt=ee.input.charCodeAt(ee.position))!==0&&(skipSeparationSpace(ee,!0,-1),lt=ee.input.charCodeAt(ee.position),!(ee.lineIndent>0||lt!==37));){for(it=!0,lt=ee.input.charCodeAt(++ee.position),ne=ee.position;lt!==0&&!is_WS_OR_EOL(lt);)lt=ee.input.charCodeAt(++ee.position);for(xe=ee.input.slice(ne,ee.position),rt=[],xe.length<1&&throwError(ee,"directive name must not be less than one character in length");lt!==0;){for(;is_WHITE_SPACE(lt);)lt=ee.input.charCodeAt(++ee.position);if(lt===35){do lt=ee.input.charCodeAt(++ee.position);while(lt!==0&&!is_EOL(lt));break}if(is_EOL(lt))break;for(ne=ee.position;lt!==0&&!is_WS_OR_EOL(lt);)lt=ee.input.charCodeAt(++ee.position);rt.push(ee.input.slice(ne,ee.position))}lt!==0&&readLineBreak(ee),_hasOwnProperty$1.call(directiveHandlers,xe)?directiveHandlers[xe](ee,xe,rt):throwWarning(ee,'unknown document directive "'+xe+'"')}if(skipSeparationSpace(ee,!0,-1),ee.lineIndent===0&&ee.input.charCodeAt(ee.position)===45&&ee.input.charCodeAt(ee.position+1)===45&&ee.input.charCodeAt(ee.position+2)===45?(ee.position+=3,skipSeparationSpace(ee,!0,-1)):it&&throwError(ee,"directives end mark is expected"),composeNode(ee,ee.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(ee,!0,-1),ee.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(ee.input.slice(te,ee.position))&&throwWarning(ee,"non-ASCII line breaks are interpreted as content"),ee.documents.push(ee.result),ee.position===ee.lineStart&&testDocumentSeparator(ee)){ee.input.charCodeAt(ee.position)===46&&(ee.position+=3,skipSeparationSpace(ee,!0,-1));return}if(ee.position<ee.length-1)throwError(ee,"end of the stream or a document separator is expected");else return}__name(readDocument,"readDocument");function loadDocuments(ee,te){ee=String(ee),te=te||{},ee.length!==0&&(ee.charCodeAt(ee.length-1)!==10&&ee.charCodeAt(ee.length-1)!==13&&(ee+=`
`),ee.charCodeAt(0)===65279&&(ee=ee.slice(1)));var ne=new State$1(ee,te),xe=ee.indexOf("\0");for(xe!==-1&&(ne.position=xe,throwError(ne,"null byte is not allowed in input")),ne.input+="\0";ne.input.charCodeAt(ne.position)===32;)ne.lineIndent+=1,ne.position+=1;for(;ne.position<ne.length-1;)readDocument(ne);return ne.documents}__name(loadDocuments,"loadDocuments");function loadAll$1(ee,te,ne){te!==null&&typeof te=="object"&&typeof ne>"u"&&(ne=te,te=null);var xe=loadDocuments(ee,ne);if(typeof te!="function")return xe;for(var rt=0,it=xe.length;rt<it;rt+=1)te(xe[rt])}__name(loadAll$1,"loadAll$1");function load$1(ee,te){var ne=loadDocuments(ee,te);if(ne.length!==0){if(ne.length===1)return ne[0];throw new exception("expected a single document in the stream, but found more")}}__name(load$1,"load$1");var load_1=load$1,loader$1={load:load_1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(ee,te){var ne,xe,rt,it,lt,ct,ut;if(te===null)return{};for(ne={},xe=Object.keys(te),rt=0,it=xe.length;rt<it;rt+=1)lt=xe[rt],ct=String(te[lt]),lt.slice(0,2)==="!!"&&(lt="tag:yaml.org,2002:"+lt.slice(2)),ut=ee.compiledTypeMap.fallback[lt],ut&&_hasOwnProperty.call(ut.styleAliases,ct)&&(ct=ut.styleAliases[ct]),ne[lt]=ct;return ne}__name(compileStyleMap,"compileStyleMap");function encodeHex(ee){var te,ne,xe;if(te=ee.toString(16).toUpperCase(),ee<=255)ne="x",xe=2;else if(ee<=65535)ne="u",xe=4;else if(ee<=4294967295)ne="U",xe=8;else throw new exception("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+ne+common.repeat("0",xe-te.length)+te}__name(encodeHex,"encodeHex");var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(ee){this.schema=ee.schema||_default,this.indent=Math.max(1,ee.indent||2),this.noArrayIndent=ee.noArrayIndent||!1,this.skipInvalid=ee.skipInvalid||!1,this.flowLevel=common.isNothing(ee.flowLevel)?-1:ee.flowLevel,this.styleMap=compileStyleMap(this.schema,ee.styles||null),this.sortKeys=ee.sortKeys||!1,this.lineWidth=ee.lineWidth||80,this.noRefs=ee.noRefs||!1,this.noCompatMode=ee.noCompatMode||!1,this.condenseFlow=ee.condenseFlow||!1,this.quotingType=ee.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=ee.forceQuotes||!1,this.replacer=typeof ee.replacer=="function"?ee.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}__name(State,"State");function indentString(ee,te){for(var ne=common.repeat(" ",te),xe=0,rt=-1,it="",lt,ct=ee.length;xe<ct;)rt=ee.indexOf(`
`,xe),rt===-1?(lt=ee.slice(xe),xe=ct):(lt=ee.slice(xe,rt+1),xe=rt+1),lt.length&&lt!==`
`&&(it+=ne),it+=lt;return it}__name(indentString,"indentString");function generateNextLine(ee,te){return`
`+common.repeat(" ",ee.indent*te)}__name(generateNextLine,"generateNextLine");function testImplicitResolving(ee,te){var ne,xe,rt;for(ne=0,xe=ee.implicitTypes.length;ne<xe;ne+=1)if(rt=ee.implicitTypes[ne],rt.resolve(te))return!0;return!1}__name(testImplicitResolving,"testImplicitResolving");function isWhitespace(ee){return ee===CHAR_SPACE||ee===CHAR_TAB}__name(isWhitespace,"isWhitespace");function isPrintable(ee){return 32<=ee&&ee<=126||161<=ee&&ee<=55295&&ee!==8232&&ee!==8233||57344<=ee&&ee<=65533&&ee!==CHAR_BOM||65536<=ee&&ee<=1114111}__name(isPrintable,"isPrintable");function isNsCharOrWhitespace(ee){return isPrintable(ee)&&ee!==CHAR_BOM&&ee!==CHAR_CARRIAGE_RETURN&&ee!==CHAR_LINE_FEED}__name(isNsCharOrWhitespace,"isNsCharOrWhitespace");function isPlainSafe(ee,te,ne){var xe=isNsCharOrWhitespace(ee),rt=xe&&!isWhitespace(ee);return(ne?xe:xe&&ee!==CHAR_COMMA&&ee!==CHAR_LEFT_SQUARE_BRACKET&&ee!==CHAR_RIGHT_SQUARE_BRACKET&&ee!==CHAR_LEFT_CURLY_BRACKET&&ee!==CHAR_RIGHT_CURLY_BRACKET)&&ee!==CHAR_SHARP&&!(te===CHAR_COLON&&!rt)||isNsCharOrWhitespace(te)&&!isWhitespace(te)&&ee===CHAR_SHARP||te===CHAR_COLON&&rt}__name(isPlainSafe,"isPlainSafe");function isPlainSafeFirst(ee){return isPrintable(ee)&&ee!==CHAR_BOM&&!isWhitespace(ee)&&ee!==CHAR_MINUS&&ee!==CHAR_QUESTION&&ee!==CHAR_COLON&&ee!==CHAR_COMMA&&ee!==CHAR_LEFT_SQUARE_BRACKET&&ee!==CHAR_RIGHT_SQUARE_BRACKET&&ee!==CHAR_LEFT_CURLY_BRACKET&&ee!==CHAR_RIGHT_CURLY_BRACKET&&ee!==CHAR_SHARP&&ee!==CHAR_AMPERSAND&&ee!==CHAR_ASTERISK&&ee!==CHAR_EXCLAMATION&&ee!==CHAR_VERTICAL_LINE&&ee!==CHAR_EQUALS&&ee!==CHAR_GREATER_THAN&&ee!==CHAR_SINGLE_QUOTE&&ee!==CHAR_DOUBLE_QUOTE&&ee!==CHAR_PERCENT&&ee!==CHAR_COMMERCIAL_AT&&ee!==CHAR_GRAVE_ACCENT}__name(isPlainSafeFirst,"isPlainSafeFirst");function isPlainSafeLast(ee){return!isWhitespace(ee)&&ee!==CHAR_COLON}__name(isPlainSafeLast,"isPlainSafeLast");function codePointAt(ee,te){var ne=ee.charCodeAt(te),xe;return ne>=55296&&ne<=56319&&te+1<ee.length&&(xe=ee.charCodeAt(te+1),xe>=56320&&xe<=57343)?(ne-55296)*1024+xe-56320+65536:ne}__name(codePointAt,"codePointAt");function needIndentIndicator(ee){var te=/^\n* /;return te.test(ee)}__name(needIndentIndicator,"needIndentIndicator");var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(ee,te,ne,xe,rt,it,lt,ct){var ut,dt=0,ht=null,ft=!1,pt=!1,mt=xe!==-1,xt=-1,yt=isPlainSafeFirst(codePointAt(ee,0))&&isPlainSafeLast(codePointAt(ee,ee.length-1));if(te||lt)for(ut=0;ut<ee.length;dt>=65536?ut+=2:ut++){if(dt=codePointAt(ee,ut),!isPrintable(dt))return STYLE_DOUBLE;yt=yt&&isPlainSafe(dt,ht,ct),ht=dt}else{for(ut=0;ut<ee.length;dt>=65536?ut+=2:ut++){if(dt=codePointAt(ee,ut),dt===CHAR_LINE_FEED)ft=!0,mt&&(pt=pt||ut-xt-1>xe&&ee[xt+1]!==" ",xt=ut);else if(!isPrintable(dt))return STYLE_DOUBLE;yt=yt&&isPlainSafe(dt,ht,ct),ht=dt}pt=pt||mt&&ut-xt-1>xe&&ee[xt+1]!==" "}return!ft&&!pt?yt&&!lt&&!rt(ee)?STYLE_PLAIN:it===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:ne>9&&needIndentIndicator(ee)?STYLE_DOUBLE:lt?it===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:pt?STYLE_FOLDED:STYLE_LITERAL}__name(chooseScalarStyle,"chooseScalarStyle");function writeScalar(ee,te,ne,xe,rt){ee.dump=(function(){if(te.length===0)return ee.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!ee.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(te)!==-1||DEPRECATED_BASE60_SYNTAX.test(te)))return ee.quotingType===QUOTING_TYPE_DOUBLE?'"'+te+'"':"'"+te+"'";var it=ee.indent*Math.max(1,ne),lt=ee.lineWidth===-1?-1:Math.max(Math.min(ee.lineWidth,40),ee.lineWidth-it),ct=xe||ee.flowLevel>-1&&ne>=ee.flowLevel;function ut(dt){return testImplicitResolving(ee,dt)}switch(__name(ut,"testAmbiguity"),chooseScalarStyle(te,ct,ee.indent,lt,ut,ee.quotingType,ee.forceQuotes&&!xe,rt)){case STYLE_PLAIN:return te;case STYLE_SINGLE:return"'"+te.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(te,ee.indent)+dropEndingNewline(indentString(te,it));case STYLE_FOLDED:return">"+blockHeader(te,ee.indent)+dropEndingNewline(indentString(foldString(te,lt),it));case STYLE_DOUBLE:return'"'+escapeString(te)+'"';default:throw new exception("impossible error: invalid scalar style")}})()}__name(writeScalar,"writeScalar");function blockHeader(ee,te){var ne=needIndentIndicator(ee)?String(te):"",xe=ee[ee.length-1]===`
`,rt=xe&&(ee[ee.length-2]===`
`||ee===`
`),it=rt?"+":xe?"":"-";return ne+it+`
`}__name(blockHeader,"blockHeader");function dropEndingNewline(ee){return ee[ee.length-1]===`
`?ee.slice(0,-1):ee}__name(dropEndingNewline,"dropEndingNewline");function foldString(ee,te){for(var ne=/(\n+)([^\n]*)/g,xe=(function(){var dt=ee.indexOf(`
`);return dt=dt!==-1?dt:ee.length,ne.lastIndex=dt,foldLine(ee.slice(0,dt),te)})(),rt=ee[0]===`
`||ee[0]===" ",it,lt;lt=ne.exec(ee);){var ct=lt[1],ut=lt[2];it=ut[0]===" ",xe+=ct+(!rt&&!it&&ut!==""?`
`:"")+foldLine(ut,te),rt=it}return xe}__name(foldString,"foldString");function foldLine(ee,te){if(ee===""||ee[0]===" ")return ee;for(var ne=/ [^ ]/g,xe,rt=0,it,lt=0,ct=0,ut="";xe=ne.exec(ee);)ct=xe.index,ct-rt>te&&(it=lt>rt?lt:ct,ut+=`
`+ee.slice(rt,it),rt=it+1),lt=ct;return ut+=`
`,ee.length-rt>te&&lt>rt?ut+=ee.slice(rt,lt)+`
`+ee.slice(lt+1):ut+=ee.slice(rt),ut.slice(1)}__name(foldLine,"foldLine");function escapeString(ee){for(var te="",ne=0,xe,rt=0;rt<ee.length;ne>=65536?rt+=2:rt++)ne=codePointAt(ee,rt),xe=ESCAPE_SEQUENCES[ne],!xe&&isPrintable(ne)?(te+=ee[rt],ne>=65536&&(te+=ee[rt+1])):te+=xe||encodeHex(ne);return te}__name(escapeString,"escapeString");function writeFlowSequence(ee,te,ne){var xe="",rt=ee.tag,it,lt,ct;for(it=0,lt=ne.length;it<lt;it+=1)ct=ne[it],ee.replacer&&(ct=ee.replacer.call(ne,String(it),ct)),(writeNode(ee,te,ct,!1,!1)||typeof ct>"u"&&writeNode(ee,te,null,!1,!1))&&(xe!==""&&(xe+=","+(ee.condenseFlow?"":" ")),xe+=ee.dump);ee.tag=rt,ee.dump="["+xe+"]"}__name(writeFlowSequence,"writeFlowSequence");function writeBlockSequence(ee,te,ne,xe){var rt="",it=ee.tag,lt,ct,ut;for(lt=0,ct=ne.length;lt<ct;lt+=1)ut=ne[lt],ee.replacer&&(ut=ee.replacer.call(ne,String(lt),ut)),(writeNode(ee,te+1,ut,!0,!0,!1,!0)||typeof ut>"u"&&writeNode(ee,te+1,null,!0,!0,!1,!0))&&((!xe||rt!=="")&&(rt+=generateNextLine(ee,te)),ee.dump&&CHAR_LINE_FEED===ee.dump.charCodeAt(0)?rt+="-":rt+="- ",rt+=ee.dump);ee.tag=it,ee.dump=rt||"[]"}__name(writeBlockSequence,"writeBlockSequence");function writeFlowMapping(ee,te,ne){var xe="",rt=ee.tag,it=Object.keys(ne),lt,ct,ut,dt,ht;for(lt=0,ct=it.length;lt<ct;lt+=1)ht="",xe!==""&&(ht+=", "),ee.condenseFlow&&(ht+='"'),ut=it[lt],dt=ne[ut],ee.replacer&&(dt=ee.replacer.call(ne,ut,dt)),writeNode(ee,te,ut,!1,!1)&&(ee.dump.length>1024&&(ht+="? "),ht+=ee.dump+(ee.condenseFlow?'"':"")+":"+(ee.condenseFlow?"":" "),writeNode(ee,te,dt,!1,!1)&&(ht+=ee.dump,xe+=ht));ee.tag=rt,ee.dump="{"+xe+"}"}__name(writeFlowMapping,"writeFlowMapping");function writeBlockMapping(ee,te,ne,xe){var rt="",it=ee.tag,lt=Object.keys(ne),ct,ut,dt,ht,ft,pt;if(ee.sortKeys===!0)lt.sort();else if(typeof ee.sortKeys=="function")lt.sort(ee.sortKeys);else if(ee.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(ct=0,ut=lt.length;ct<ut;ct+=1)pt="",(!xe||rt!=="")&&(pt+=generateNextLine(ee,te)),dt=lt[ct],ht=ne[dt],ee.replacer&&(ht=ee.replacer.call(ne,dt,ht)),writeNode(ee,te+1,dt,!0,!0,!0)&&(ft=ee.tag!==null&&ee.tag!=="?"||ee.dump&&ee.dump.length>1024,ft&&(ee.dump&&CHAR_LINE_FEED===ee.dump.charCodeAt(0)?pt+="?":pt+="? "),pt+=ee.dump,ft&&(pt+=generateNextLine(ee,te)),writeNode(ee,te+1,ht,!0,ft)&&(ee.dump&&CHAR_LINE_FEED===ee.dump.charCodeAt(0)?pt+=":":pt+=": ",pt+=ee.dump,rt+=pt));ee.tag=it,ee.dump=rt||"{}"}__name(writeBlockMapping,"writeBlockMapping");function detectType(ee,te,ne){var xe,rt,it,lt,ct,ut;for(rt=ne?ee.explicitTypes:ee.implicitTypes,it=0,lt=rt.length;it<lt;it+=1)if(ct=rt[it],(ct.instanceOf||ct.predicate)&&(!ct.instanceOf||typeof te=="object"&&te instanceof ct.instanceOf)&&(!ct.predicate||ct.predicate(te))){if(ne?ct.multi&&ct.representName?ee.tag=ct.representName(te):ee.tag=ct.tag:ee.tag="?",ct.represent){if(ut=ee.styleMap[ct.tag]||ct.defaultStyle,_toString.call(ct.represent)==="[object Function]")xe=ct.represent(te,ut);else if(_hasOwnProperty.call(ct.represent,ut))xe=ct.represent[ut](te,ut);else throw new exception("!<"+ct.tag+'> tag resolver accepts not "'+ut+'" style');ee.dump=xe}return!0}return!1}__name(detectType,"detectType");function writeNode(ee,te,ne,xe,rt,it,lt){ee.tag=null,ee.dump=ne,detectType(ee,ne,!1)||detectType(ee,ne,!0);var ct=_toString.call(ee.dump),ut=xe,dt;xe&&(xe=ee.flowLevel<0||ee.flowLevel>te);var ht=ct==="[object Object]"||ct==="[object Array]",ft,pt;if(ht&&(ft=ee.duplicates.indexOf(ne),pt=ft!==-1),(ee.tag!==null&&ee.tag!=="?"||pt||ee.indent!==2&&te>0)&&(rt=!1),pt&&ee.usedDuplicates[ft])ee.dump="*ref_"+ft;else{if(ht&&pt&&!ee.usedDuplicates[ft]&&(ee.usedDuplicates[ft]=!0),ct==="[object Object]")xe&&Object.keys(ee.dump).length!==0?(writeBlockMapping(ee,te,ee.dump,rt),pt&&(ee.dump="&ref_"+ft+ee.dump)):(writeFlowMapping(ee,te,ee.dump),pt&&(ee.dump="&ref_"+ft+" "+ee.dump));else if(ct==="[object Array]")xe&&ee.dump.length!==0?(ee.noArrayIndent&&!lt&&te>0?writeBlockSequence(ee,te-1,ee.dump,rt):writeBlockSequence(ee,te,ee.dump,rt),pt&&(ee.dump="&ref_"+ft+ee.dump)):(writeFlowSequence(ee,te,ee.dump),pt&&(ee.dump="&ref_"+ft+" "+ee.dump));else if(ct==="[object String]")ee.tag!=="?"&&writeScalar(ee,ee.dump,te,it,ut);else{if(ct==="[object Undefined]")return!1;if(ee.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+ct)}ee.tag!==null&&ee.tag!=="?"&&(dt=encodeURI(ee.tag[0]==="!"?ee.tag.slice(1):ee.tag).replace(/!/g,"%21"),ee.tag[0]==="!"?dt="!"+dt:dt.slice(0,18)==="tag:yaml.org,2002:"?dt="!!"+dt.slice(18):dt="!<"+dt+">",ee.dump=dt+" "+ee.dump)}return!0}__name(writeNode,"writeNode");function getDuplicateReferences(ee,te){var ne=[],xe=[],rt,it;for(inspectNode(ee,ne,xe),rt=0,it=xe.length;rt<it;rt+=1)te.duplicates.push(ne[xe[rt]]);te.usedDuplicates=new Array(it)}__name(getDuplicateReferences,"getDuplicateReferences");function inspectNode(ee,te,ne){var xe,rt,it;if(ee!==null&&typeof ee=="object")if(rt=te.indexOf(ee),rt!==-1)ne.indexOf(rt)===-1&&ne.push(rt);else if(te.push(ee),Array.isArray(ee))for(rt=0,it=ee.length;rt<it;rt+=1)inspectNode(ee[rt],te,ne);else for(xe=Object.keys(ee),rt=0,it=xe.length;rt<it;rt+=1)inspectNode(ee[xe[rt]],te,ne)}__name(inspectNode,"inspectNode");function dump$1(ee,te){te=te||{};var ne=new State(te);ne.noRefs||getDuplicateReferences(ee,ne);var xe=ee;return ne.replacer&&(xe=ne.replacer.call({"":xe},"",xe)),writeNode(ne,0,xe,!0,!0)?ne.dump+`
`:""}__name(dump$1,"dump$1");function renamed(ee,te){return function(){throw new Error("Function yaml."+ee+" is removed in js-yaml 4. Use yaml."+te+" instead, which is now safe by default.")}}__name(renamed,"renamed");var JSON_SCHEMA=json,load=loader$1.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var markerOffsets={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},markerOffsets2={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function calculateDeltaAndAngle$1(ee,te){if(ee===void 0||te===void 0)return{angle:0,deltaX:0,deltaY:0};ee=pointTransformer(ee),te=pointTransformer(te);const[ne,xe]=[ee.x,ee.y],[rt,it]=[te.x,te.y],lt=rt-ne,ct=it-xe;return{angle:Math.atan(ct/lt),deltaX:lt,deltaY:ct}}__name(calculateDeltaAndAngle$1,"calculateDeltaAndAngle");var pointTransformer=__name(ee=>Array.isArray(ee)?{x:ee[0],y:ee[1]}:ee,"pointTransformer"),getLineFunctionsWithOffset=__name(ee=>({x:__name(function(te,ne,xe){let rt=0;const it=pointTransformer(xe[0]).x<pointTransformer(xe[xe.length-1]).x?"left":"right";if(ne===0&&Object.hasOwn(markerOffsets,ee.arrowTypeStart)){const{angle:mt,deltaX:xt}=calculateDeltaAndAngle$1(xe[0],xe[1]);rt=markerOffsets[ee.arrowTypeStart]*Math.cos(mt)*(xt>=0?1:-1)}else if(ne===xe.length-1&&Object.hasOwn(markerOffsets,ee.arrowTypeEnd)){const{angle:mt,deltaX:xt}=calculateDeltaAndAngle$1(xe[xe.length-1],xe[xe.length-2]);rt=markerOffsets[ee.arrowTypeEnd]*Math.cos(mt)*(xt>=0?1:-1)}const lt=Math.abs(pointTransformer(te).x-pointTransformer(xe[xe.length-1]).x),ct=Math.abs(pointTransformer(te).y-pointTransformer(xe[xe.length-1]).y),ut=Math.abs(pointTransformer(te).x-pointTransformer(xe[0]).x),dt=Math.abs(pointTransformer(te).y-pointTransformer(xe[0]).y),ht=markerOffsets[ee.arrowTypeStart],ft=markerOffsets[ee.arrowTypeEnd],pt=1;if(lt<ft&&lt>0&&ct<ft){let mt=ft+pt-lt;mt*=it==="right"?-1:1,rt-=mt}if(ut<ht&&ut>0&&dt<ht){let mt=ht+pt-ut;mt*=it==="right"?-1:1,rt+=mt}return pointTransformer(te).x+rt},"x"),y:__name(function(te,ne,xe){let rt=0;const it=pointTransformer(xe[0]).y<pointTransformer(xe[xe.length-1]).y?"down":"up";if(ne===0&&Object.hasOwn(markerOffsets,ee.arrowTypeStart)){const{angle:mt,deltaY:xt}=calculateDeltaAndAngle$1(xe[0],xe[1]);rt=markerOffsets[ee.arrowTypeStart]*Math.abs(Math.sin(mt))*(xt>=0?1:-1)}else if(ne===xe.length-1&&Object.hasOwn(markerOffsets,ee.arrowTypeEnd)){const{angle:mt,deltaY:xt}=calculateDeltaAndAngle$1(xe[xe.length-1],xe[xe.length-2]);rt=markerOffsets[ee.arrowTypeEnd]*Math.abs(Math.sin(mt))*(xt>=0?1:-1)}const lt=Math.abs(pointTransformer(te).y-pointTransformer(xe[xe.length-1]).y),ct=Math.abs(pointTransformer(te).x-pointTransformer(xe[xe.length-1]).x),ut=Math.abs(pointTransformer(te).y-pointTransformer(xe[0]).y),dt=Math.abs(pointTransformer(te).x-pointTransformer(xe[0]).x),ht=markerOffsets[ee.arrowTypeStart],ft=markerOffsets[ee.arrowTypeEnd],pt=1;if(lt<ft&&lt>0&&ct<ft){let mt=ft+pt-lt;mt*=it==="up"?-1:1,rt-=mt}if(ut<ht&&ut>0&&dt<ht){let mt=ht+pt-ut;mt*=it==="up"?-1:1,rt+=mt}return pointTransformer(te).y+rt},"y")}),"getLineFunctionsWithOffset"),getSubGraphTitleMargins=__name(({flowchart:ee})=>{const te=ee?.subGraphTitleMargin?.top??0,ne=ee?.subGraphTitleMargin?.bottom??0,xe=te+ne;return{subGraphTitleTopMargin:te,subGraphTitleBottomMargin:ne,subGraphTitleTotalMargin:xe}},"getSubGraphTitleMargins"),solidStateFill=__name(ee=>{const{handDrawnSeed:te}=getConfig2();return{fill:ee,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:ee,seed:te}},"solidStateFill"),compileStyles=__name(ee=>{const te=styles2Map([...ee.cssCompiledStyles||[],...ee.cssStyles||[],...ee.labelStyle||[]]);return{stylesMap:te,stylesArray:[...te]}},"compileStyles"),styles2Map=__name(ee=>{const te=new Map;return ee.forEach(ne=>{const[xe,rt]=ne.split(":");te.set(xe.trim(),rt?.trim())}),te},"styles2Map"),isLabelStyle=__name(ee=>ee==="color"||ee==="font-size"||ee==="font-family"||ee==="font-weight"||ee==="font-style"||ee==="text-decoration"||ee==="text-align"||ee==="text-transform"||ee==="line-height"||ee==="letter-spacing"||ee==="word-spacing"||ee==="text-shadow"||ee==="text-overflow"||ee==="white-space"||ee==="word-wrap"||ee==="word-break"||ee==="overflow-wrap"||ee==="hyphens","isLabelStyle"),styles2String=__name(ee=>{const{stylesArray:te}=compileStyles(ee),ne=[],xe=[],rt=[],it=[];return te.forEach(lt=>{const ct=lt[0];isLabelStyle(ct)?ne.push(lt.join(":")+" !important"):(xe.push(lt.join(":")+" !important"),ct.includes("stroke")&&rt.push(lt.join(":")+" !important"),ct==="fill"&&it.push(lt.join(":")+" !important"))}),{labelStyles:ne.join(";"),nodeStyles:xe.join(";"),stylesArray:te,borderStyles:rt,backgroundStyles:it}},"styles2String"),userNodeOverrides=__name((ee,te)=>{const{themeVariables:ne,handDrawnSeed:xe}=getConfig2(),{nodeBorder:rt,mainBkg:it}=ne,{stylesMap:lt}=compileStyles(ee);return Object.assign({roughness:.7,fill:lt.get("fill")||it,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:lt.get("stroke")||rt,seed:xe,strokeWidth:lt.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:getStrokeDashArray(lt.get("stroke-dasharray"))},te)},"userNodeOverrides"),getStrokeDashArray=__name(ee=>{if(!ee)return[0,0];const te=ee.trim().split(/\s+/).map(Number);if(te.length===1){const rt=isNaN(te[0])?0:te[0];return[rt,rt]}const ne=isNaN(te[0])?0:te[0],xe=isNaN(te[1])?0:te[1];return[ne,xe]},"getStrokeDashArray"),dist={},constants={},hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.BLANK_URL=constants.relativeFirstCharacters=constants.whitespaceEscapeCharsRegex=constants.urlSchemeRegex=constants.ctrlCharactersRegex=constants.htmlCtrlEntityRegex=constants.htmlEntitiesRegex=constants.invalidProtocolRegex=void 0,constants.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,constants.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,constants.htmlCtrlEntityRegex=/&(newline|tab);/gi,constants.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,constants.urlSchemeRegex=/^.+(:|&colon;)/gim,constants.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,constants.relativeFirstCharacters=[".","/"],constants.BLANK_URL="about:blank"),constants}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.sanitizeUrl=it;var ee=requireConstants();function te(lt){return ee.relativeFirstCharacters.indexOf(lt[0])>-1}function ne(lt){var ct=lt.replace(ee.ctrlCharactersRegex,"");return ct.replace(ee.htmlEntitiesRegex,function(ut,dt){return String.fromCharCode(dt)})}function xe(lt){return URL.canParse(lt)}function rt(lt){try{return decodeURIComponent(lt)}catch{return lt}}function it(lt){if(!lt)return ee.BLANK_URL;var ct,ut=rt(lt.trim());do ut=ne(ut).replace(ee.htmlCtrlEntityRegex,"").replace(ee.ctrlCharactersRegex,"").replace(ee.whitespaceEscapeCharsRegex,"").trim(),ut=rt(ut),ct=ut.match(ee.ctrlCharactersRegex)||ut.match(ee.htmlEntitiesRegex)||ut.match(ee.htmlCtrlEntityRegex)||ut.match(ee.whitespaceEscapeCharsRegex);while(ct&&ct.length>0);var dt=ut;if(!dt)return ee.BLANK_URL;if(te(dt))return dt;var ht=dt.trimStart(),ft=ht.match(ee.urlSchemeRegex);if(!ft)return dt;var pt=ft[0].toLowerCase().trim();if(ee.invalidProtocolRegex.test(pt))return ee.BLANK_URL;var mt=ht.replace(/\\/g,"/");if(pt==="mailto:"||pt.includes("://"))return mt;if(pt==="http:"||pt==="https:"){if(!xe(mt))return ee.BLANK_URL;var xt=new URL(mt);return xt.protocol=xt.protocol.toLowerCase(),xt.hostname=xt.hostname.toLowerCase(),xt.toString()}return mt}return dist}var distExports=requireDist(),freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(ee){var te=hasOwnProperty$a.call(ee,symToStringTag$1),ne=ee[symToStringTag$1];try{ee[symToStringTag$1]=void 0;var xe=!0}catch{}var rt=nativeObjectToString$1.call(ee);return xe&&(te?ee[symToStringTag$1]=ne:delete ee[symToStringTag$1]),rt}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(ee){return nativeObjectToString.call(ee)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(ee){return ee==null?ee===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(ee)?getRawTag(ee):objectToString(ee)}function isObject(ee){var te=typeof ee;return ee!=null&&(te=="object"||te=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(ee){if(!isObject(ee))return!1;var te=baseGetTag(ee);return te==funcTag$1||te==genTag||te==asyncTag||te==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=(function(){var ee=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return ee?"Symbol(src)_1."+ee:""})();function isMasked(ee){return!!maskSrcKey&&maskSrcKey in ee}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(ee){if(ee!=null){try{return funcToString$2.call(ee)}catch{}try{return ee+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(ee){if(!isObject(ee)||isMasked(ee))return!1;var te=isFunction(ee)?reIsNative:reIsHostCtor;return te.test(toSource(ee))}function getValue(ee,te){return ee?.[te]}function getNative(ee,te){var ne=getValue(ee,te);return baseIsNative(ne)?ne:void 0}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(ee){var te=this.has(ee)&&delete this.__data__[ee];return this.size-=te?1:0,te}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(ee){var te=this.__data__;if(nativeCreate){var ne=te[ee];return ne===HASH_UNDEFINED$1?void 0:ne}return hasOwnProperty$8.call(te,ee)?te[ee]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(ee){var te=this.__data__;return nativeCreate?te[ee]!==void 0:hasOwnProperty$7.call(te,ee)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(ee,te){var ne=this.__data__;return this.size+=this.has(ee)?0:1,ne[ee]=nativeCreate&&te===void 0?HASH_UNDEFINED:te,this}function Hash(ee){var te=-1,ne=ee==null?0:ee.length;for(this.clear();++te<ne;){var xe=ee[te];this.set(xe[0],xe[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(ee,te){return ee===te||ee!==ee&&te!==te}function assocIndexOf(ee,te){for(var ne=ee.length;ne--;)if(eq(ee[ne][0],te))return ne;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(ee){var te=this.__data__,ne=assocIndexOf(te,ee);if(ne<0)return!1;var xe=te.length-1;return ne==xe?te.pop():splice.call(te,ne,1),--this.size,!0}function listCacheGet(ee){var te=this.__data__,ne=assocIndexOf(te,ee);return ne<0?void 0:te[ne][1]}function listCacheHas(ee){return assocIndexOf(this.__data__,ee)>-1}function listCacheSet(ee,te){var ne=this.__data__,xe=assocIndexOf(ne,ee);return xe<0?(++this.size,ne.push([ee,te])):ne[xe][1]=te,this}function ListCache(ee){var te=-1,ne=ee==null?0:ee.length;for(this.clear();++te<ne;){var xe=ee[te];this.set(xe[0],xe[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(ee){var te=typeof ee;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?ee!=="__proto__":ee===null}function getMapData(ee,te){var ne=ee.__data__;return isKeyable(te)?ne[typeof te=="string"?"string":"hash"]:ne.map}function mapCacheDelete(ee){var te=getMapData(this,ee).delete(ee);return this.size-=te?1:0,te}function mapCacheGet(ee){return getMapData(this,ee).get(ee)}function mapCacheHas(ee){return getMapData(this,ee).has(ee)}function mapCacheSet(ee,te){var ne=getMapData(this,ee),xe=ne.size;return ne.set(ee,te),this.size+=ne.size==xe?0:1,this}function MapCache(ee){var te=-1,ne=ee==null?0:ee.length;for(this.clear();++te<ne;){var xe=ee[te];this.set(xe[0],xe[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(ee,te){if(typeof ee!="function"||te!=null&&typeof te!="function")throw new TypeError(FUNC_ERROR_TEXT);var ne=function(){var xe=arguments,rt=te?te.apply(this,xe):xe[0],it=ne.cache;if(it.has(rt))return it.get(rt);var lt=ee.apply(this,xe);return ne.cache=it.set(rt,lt)||it,lt};return ne.cache=new(memoize.Cache||MapCache),ne}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(ee){var te=this.__data__,ne=te.delete(ee);return this.size=te.size,ne}function stackGet(ee){return this.__data__.get(ee)}function stackHas(ee){return this.__data__.has(ee)}var LARGE_ARRAY_SIZE=200;function stackSet(ee,te){var ne=this.__data__;if(ne instanceof ListCache){var xe=ne.__data__;if(!Map$1||xe.length<LARGE_ARRAY_SIZE-1)return xe.push([ee,te]),this.size=++ne.size,this;ne=this.__data__=new MapCache(xe)}return ne.set(ee,te),this.size=ne.size,this}function Stack(ee){var te=this.__data__=new ListCache(ee);this.size=te.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=(function(){try{var ee=getNative(Object,"defineProperty");return ee({},"",{}),ee}catch{}})();function baseAssignValue(ee,te,ne){te=="__proto__"&&defineProperty?defineProperty(ee,te,{configurable:!0,enumerable:!0,value:ne,writable:!0}):ee[te]=ne}function assignMergeValue(ee,te,ne){(ne!==void 0&&!eq(ee[te],ne)||ne===void 0&&!(te in ee))&&baseAssignValue(ee,te,ne)}function createBaseFor(ee){return function(te,ne,xe){for(var rt=-1,it=Object(te),lt=xe(te),ct=lt.length;ct--;){var ut=lt[++rt];if(ne(it[ut],ut,it)===!1)break}return te}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(ee,te){if(te)return ee.slice();var ne=ee.length,xe=allocUnsafe?allocUnsafe(ne):new ee.constructor(ne);return ee.copy(xe),xe}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(ee){var te=new ee.constructor(ee.byteLength);return new Uint8Array$1(te).set(new Uint8Array$1(ee)),te}function cloneTypedArray(ee,te){var ne=te?cloneArrayBuffer(ee.buffer):ee.buffer;return new ee.constructor(ne,ee.byteOffset,ee.length)}function copyArray(ee,te){var ne=-1,xe=ee.length;for(te||(te=Array(xe));++ne<xe;)te[ne]=ee[ne];return te}var objectCreate=Object.create,baseCreate=(function(){function ee(){}return function(te){if(!isObject(te))return{};if(objectCreate)return objectCreate(te);ee.prototype=te;var ne=new ee;return ee.prototype=void 0,ne}})();function overArg(ee,te){return function(ne){return ee(te(ne))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$7=Object.prototype;function isPrototype(ee){var te=ee&&ee.constructor,ne=typeof te=="function"&&te.prototype||objectProto$7;return ee===ne}function initCloneObject(ee){return typeof ee.constructor=="function"&&!isPrototype(ee)?baseCreate(getPrototype(ee)):{}}function isObjectLike(ee){return ee!=null&&typeof ee=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(ee){return isObjectLike(ee)&&baseGetTag(ee)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(ee){return isObjectLike(ee)&&hasOwnProperty$6.call(ee,"callee")&&!propertyIsEnumerable.call(ee,"callee")},isArray=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(ee){return typeof ee=="number"&&ee>-1&&ee%1==0&&ee<=MAX_SAFE_INTEGER$1}function isArrayLike(ee){return ee!=null&&isLength(ee.length)&&!isFunction(ee)}function isArrayLikeObject(ee){return isObjectLike(ee)&&isArrayLike(ee)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(ee){if(!isObjectLike(ee)||baseGetTag(ee)!=objectTag$2)return!1;var te=getPrototype(ee);if(te===null)return!0;var ne=hasOwnProperty$5.call(te,"constructor")&&te.constructor;return typeof ne=="function"&&ne instanceof ne&&funcToString.call(ne)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(ee){return isObjectLike(ee)&&isLength(ee.length)&&!!typedArrayTags[baseGetTag(ee)]}function baseUnary(ee){return function(te){return ee(te)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=(function(){try{var ee=freeModule&&freeModule.require&&freeModule.require("util").types;return ee||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(ee,te){if(!(te==="constructor"&&typeof ee[te]=="function")&&te!="__proto__")return ee[te]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(ee,te,ne){var xe=ee[te];(!(hasOwnProperty$4.call(ee,te)&&eq(xe,ne))||ne===void 0&&!(te in ee))&&baseAssignValue(ee,te,ne)}function copyObject(ee,te,ne,xe){var rt=!ne;ne||(ne={});for(var it=-1,lt=te.length;++it<lt;){var ct=te[it],ut=void 0;ut===void 0&&(ut=ee[ct]),rt?baseAssignValue(ne,ct,ut):assignValue(ne,ct,ut)}return ne}function baseTimes(ee,te){for(var ne=-1,xe=Array(ee);++ne<ee;)xe[ne]=te(ne);return xe}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(ee,te){var ne=typeof ee;return te=te??MAX_SAFE_INTEGER,!!te&&(ne=="number"||ne!="symbol"&&reIsUint.test(ee))&&ee>-1&&ee%1==0&&ee<te}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(ee,te){var ne=isArray(ee),xe=!ne&&isArguments(ee),rt=!ne&&!xe&&isBuffer(ee),it=!ne&&!xe&&!rt&&isTypedArray(ee),lt=ne||xe||rt||it,ct=lt?baseTimes(ee.length,String):[],ut=ct.length;for(var dt in ee)(te||hasOwnProperty$3.call(ee,dt))&&!(lt&&(dt=="length"||rt&&(dt=="offset"||dt=="parent")||it&&(dt=="buffer"||dt=="byteLength"||dt=="byteOffset")||isIndex(dt,ut)))&&ct.push(dt);return ct}function nativeKeysIn(ee){var te=[];if(ee!=null)for(var ne in Object(ee))te.push(ne);return te}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(ee){if(!isObject(ee))return nativeKeysIn(ee);var te=isPrototype(ee),ne=[];for(var xe in ee)xe=="constructor"&&(te||!hasOwnProperty$2.call(ee,xe))||ne.push(xe);return ne}function keysIn(ee){return isArrayLike(ee)?arrayLikeKeys(ee,!0):baseKeysIn(ee)}function toPlainObject(ee){return copyObject(ee,keysIn(ee))}function baseMergeDeep(ee,te,ne,xe,rt,it,lt){var ct=safeGet(ee,ne),ut=safeGet(te,ne),dt=lt.get(ut);if(dt){assignMergeValue(ee,ne,dt);return}var ht=it?it(ct,ut,ne+"",ee,te,lt):void 0,ft=ht===void 0;if(ft){var pt=isArray(ut),mt=!pt&&isBuffer(ut),xt=!pt&&!mt&&isTypedArray(ut);ht=ut,pt||mt||xt?isArray(ct)?ht=ct:isArrayLikeObject(ct)?ht=copyArray(ct):mt?(ft=!1,ht=cloneBuffer(ut,!0)):xt?(ft=!1,ht=cloneTypedArray(ut,!0)):ht=[]:isPlainObject(ut)||isArguments(ut)?(ht=ct,isArguments(ct)?ht=toPlainObject(ct):(!isObject(ct)||isFunction(ct))&&(ht=initCloneObject(ut))):ft=!1}ft&&(lt.set(ut,ht),rt(ht,ut,xe,it,lt),lt.delete(ut)),assignMergeValue(ee,ne,ht)}function baseMerge(ee,te,ne,xe,rt){ee!==te&&baseFor(te,function(it,lt){if(rt||(rt=new Stack),isObject(it))baseMergeDeep(ee,te,lt,ne,baseMerge,xe,rt);else{var ct=xe?xe(safeGet(ee,lt),it,lt+"",ee,te,rt):void 0;ct===void 0&&(ct=it),assignMergeValue(ee,lt,ct)}},keysIn)}function identity$1(ee){return ee}function apply(ee,te,ne){switch(ne.length){case 0:return ee.call(te);case 1:return ee.call(te,ne[0]);case 2:return ee.call(te,ne[0],ne[1]);case 3:return ee.call(te,ne[0],ne[1],ne[2])}return ee.apply(te,ne)}var nativeMax=Math.max;function overRest(ee,te,ne){return te=nativeMax(te===void 0?ee.length-1:te,0),function(){for(var xe=arguments,rt=-1,it=nativeMax(xe.length-te,0),lt=Array(it);++rt<it;)lt[rt]=xe[te+rt];rt=-1;for(var ct=Array(te+1);++rt<te;)ct[rt]=xe[rt];return ct[te]=ne(lt),apply(ee,this,ct)}}function constant(ee){return function(){return ee}}var baseSetToString=defineProperty?function(ee,te){return defineProperty(ee,"toString",{configurable:!0,enumerable:!1,value:constant(te),writable:!0})}:identity$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(ee){var te=0,ne=0;return function(){var xe=nativeNow(),rt=HOT_SPAN-(xe-ne);if(ne=xe,rt>0){if(++te>=HOT_COUNT)return arguments[0]}else te=0;return ee.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(ee,te){return setToString(overRest(ee,te,identity$1),ee+"")}function isIterateeCall(ee,te,ne){if(!isObject(ne))return!1;var xe=typeof te;return(xe=="number"?isArrayLike(ne)&&isIndex(te,ne.length):xe=="string"&&te in ne)?eq(ne[te],ee):!1}function createAssigner(ee){return baseRest(function(te,ne){var xe=-1,rt=ne.length,it=rt>1?ne[rt-1]:void 0,lt=rt>2?ne[2]:void 0;for(it=ee.length>3&&typeof it=="function"?(rt--,it):void 0,lt&&isIterateeCall(ne[0],ne[1],lt)&&(it=rt<3?void 0:it,rt=1),te=Object(te);++xe<rt;){var ct=ne[xe];ct&&ee(te,ct,xe,it)}return te})}var merge=createAssigner(function(ee,te,ne){baseMerge(ee,te,ne)}),ZERO_WIDTH_SPACE="",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=__name(function(ee,te){const ne=detectDirective(ee,/(?:init\b)|(?:initialize\b)/);let xe={};if(Array.isArray(ne)){const lt=ne.map(ct=>ct.args);sanitizeDirective(lt),xe=assignWithDepth_default(xe,[...lt])}else xe=ne.args;if(!xe)return;let rt=detectType$1(ee,te);const it="config";return xe[it]!==void 0&&(rt==="flowchart-v2"&&(rt="flowchart"),xe[rt]=xe[it],delete xe[it]),xe},"detectInit"),detectDirective=__name(function(ee,te=null){try{const ne=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");ee=ee.trim().replace(ne,"").replace(/'/gm,'"'),log.debug(`Detecting diagram directive${te!==null?" type:"+te:""} based on the text:${ee}`);let xe;const rt=[];for(;(xe=directiveRegex.exec(ee))!==null;)if(xe.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,xe&&!te||te&&xe[1]?.match(te)||te&&xe[2]?.match(te)){const it=xe[1]?xe[1]:xe[2],lt=xe[3]?xe[3].trim():xe[4]?JSON.parse(xe[4].trim()):null;rt.push({type:it,args:lt})}return rt.length===0?{type:ee,args:null}:rt.length===1?rt[0]:rt}catch(ne){return log.error(`ERROR: ${ne.message} - Unable to parse directive type: '${te}' based on the text: '${ee}'`),{type:void 0,args:null}}},"detectDirective"),removeDirectives=__name(function(ee){return ee.replace(directiveRegex,"")},"removeDirectives"),isSubstringInArray=__name(function(ee,te){for(const[ne,xe]of te.entries())if(xe.match(ee))return ne;return-1},"isSubstringInArray");function interpolateToCurve(ee,te){if(!ee)return te;const ne=`curve${ee.charAt(0).toUpperCase()+ee.slice(1)}`;return d3CurveTypes[ne]??te}__name(interpolateToCurve,"interpolateToCurve");function formatUrl(ee,te){const ne=ee.trim();if(ne)return te.securityLevel!=="loose"?distExports.sanitizeUrl(ne):ne}__name(formatUrl,"formatUrl");var runFunc=__name((ee,...te)=>{const ne=ee.split("."),xe=ne.length-1,rt=ne[xe];let it=window;for(let lt=0;lt<xe;lt++)if(it=it[ne[lt]],!it){log.error(`Function name: ${ee} not found in window`);return}it[rt](...te)},"runFunc");function distance$1(ee,te){return!ee||!te?0:Math.sqrt(Math.pow(te.x-ee.x,2)+Math.pow(te.y-ee.y,2))}__name(distance$1,"distance");function traverseEdge(ee){let te,ne=0;ee.forEach(rt=>{ne+=distance$1(rt,te),te=rt});const xe=ne/2;return calculatePoint(ee,xe)}__name(traverseEdge,"traverseEdge");function calcLabelPosition(ee){return ee.length===1?ee[0]:traverseEdge(ee)}__name(calcLabelPosition,"calcLabelPosition");var roundNumber=__name((ee,te=2)=>{const ne=Math.pow(10,te);return Math.round(ee*ne)/ne},"roundNumber"),calculatePoint=__name((ee,te)=>{let ne,xe=te;for(const rt of ee){if(ne){const it=distance$1(rt,ne);if(it===0)return ne;if(it<xe)xe-=it;else{const lt=xe/it;if(lt<=0)return ne;if(lt>=1)return{x:rt.x,y:rt.y};if(lt>0&&lt<1)return{x:roundNumber((1-lt)*ne.x+lt*rt.x,5),y:roundNumber((1-lt)*ne.y+lt*rt.y,5)}}}ne=rt}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),calcCardinalityPosition=__name((ee,te,ne)=>{log.info(`our points ${JSON.stringify(te)}`),te[0]!==ne&&(te=te.reverse());const rt=calculatePoint(te,25),it=ee?10:5,lt=Math.atan2(te[0].y-rt.y,te[0].x-rt.x),ct={x:0,y:0};return ct.x=Math.sin(lt)*it+(te[0].x+rt.x)/2,ct.y=-Math.cos(lt)*it+(te[0].y+rt.y)/2,ct},"calcCardinalityPosition");function calcTerminalLabelPosition(ee,te,ne){const xe=structuredClone(ne);log.info("our points",xe),te!=="start_left"&&te!=="start_right"&&xe.reverse();const rt=25+ee,it=calculatePoint(xe,rt),lt=10+ee*.5,ct=Math.atan2(xe[0].y-it.y,xe[0].x-it.x),ut={x:0,y:0};return te==="start_left"?(ut.x=Math.sin(ct+Math.PI)*lt+(xe[0].x+it.x)/2,ut.y=-Math.cos(ct+Math.PI)*lt+(xe[0].y+it.y)/2):te==="end_right"?(ut.x=Math.sin(ct-Math.PI)*lt+(xe[0].x+it.x)/2-5,ut.y=-Math.cos(ct-Math.PI)*lt+(xe[0].y+it.y)/2-5):te==="end_left"?(ut.x=Math.sin(ct)*lt+(xe[0].x+it.x)/2-5,ut.y=-Math.cos(ct)*lt+(xe[0].y+it.y)/2-5):(ut.x=Math.sin(ct)*lt+(xe[0].x+it.x)/2,ut.y=-Math.cos(ct)*lt+(xe[0].y+it.y)/2),ut}__name(calcTerminalLabelPosition,"calcTerminalLabelPosition");function getStylesFromArray(ee){let te="",ne="";for(const xe of ee)xe!==void 0&&(xe.startsWith("color:")||xe.startsWith("text-align:")?ne=ne+xe+";":te=te+xe+";");return{style:te,labelStyle:ne}}__name(getStylesFromArray,"getStylesFromArray");var cnt=0,generateId=__name(()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt),"generateId");function makeRandomHex(ee){let te="";const ne="0123456789abcdef",xe=ne.length;for(let rt=0;rt<ee;rt++)te+=ne.charAt(Math.floor(Math.random()*xe));return te}__name(makeRandomHex,"makeRandomHex");var random=__name(ee=>makeRandomHex(ee.length),"random"),getTextObj=__name(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),drawSimpleText=__name(function(ee,te){const ne=te.text.replace(common_default.lineBreakRegex," "),[,xe]=parseFontSize(te.fontSize),rt=ee.append("text");rt.attr("x",te.x),rt.attr("y",te.y),rt.style("text-anchor",te.anchor),rt.style("font-family",te.fontFamily),rt.style("font-size",xe),rt.style("font-weight",te.fontWeight),rt.attr("fill",te.fill),te.class!==void 0&&rt.attr("class",te.class);const it=rt.append("tspan");return it.attr("x",te.x+te.textMargin*2),it.attr("fill",te.fill),it.text(ne),rt},"drawSimpleText"),wrapLabel=memoize((ee,te,ne)=>{if(!ee||(ne=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},ne),common_default.lineBreakRegex.test(ee)))return ee;const xe=ee.split(" ").filter(Boolean),rt=[];let it="";return xe.forEach((lt,ct)=>{const ut=calculateTextWidth(`${lt} `,ne),dt=calculateTextWidth(it,ne);if(ut>te){const{hyphenatedStrings:pt,remainingWord:mt}=breakString(lt,te,"-",ne);rt.push(it,...pt),it=mt}else dt+ut>=te?(rt.push(it),it=lt):it=[it,lt].filter(Boolean).join(" ");ct+1===xe.length&&rt.push(it)}),rt.filter(lt=>lt!=="").join(ne.joinWith)},(ee,te,ne)=>`${ee}${te}${ne.fontSize}${ne.fontWeight}${ne.fontFamily}${ne.joinWith}`),breakString=memoize((ee,te,ne="-",xe)=>{xe=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},xe);const rt=[...ee],it=[];let lt="";return rt.forEach((ct,ut)=>{const dt=`${lt}${ct}`;if(calculateTextWidth(dt,xe)>=te){const ft=ut+1,pt=rt.length===ft,mt=`${dt}${ne}`;it.push(pt?dt:mt),lt=""}else lt=dt}),{hyphenatedStrings:it,remainingWord:lt}},(ee,te,ne="-",xe)=>`${ee}${te}${ne}${xe.fontSize}${xe.fontWeight}${xe.fontFamily}`);function calculateTextHeight(ee,te){return calculateTextDimensions(ee,te).height}__name(calculateTextHeight,"calculateTextHeight");function calculateTextWidth(ee,te){return calculateTextDimensions(ee,te).width}__name(calculateTextWidth,"calculateTextWidth");var calculateTextDimensions=memoize((ee,te)=>{const{fontSize:ne=12,fontFamily:xe="Arial",fontWeight:rt=400}=te;if(!ee)return{width:0,height:0};const[,it]=parseFontSize(ne),lt=["sans-serif",xe],ct=ee.split(common_default.lineBreakRegex),ut=[],dt=select("body");if(!dt.remove)return{width:0,height:0,lineHeight:0};const ht=dt.append("svg");for(const pt of lt){let mt=0;const xt={width:0,height:0,lineHeight:0};for(const yt of ct){const vt=getTextObj();vt.text=yt||ZERO_WIDTH_SPACE;const Et=drawSimpleText(ht,vt).style("font-size",it).style("font-weight",rt).style("font-family",pt),_t=(Et._groups||Et)[0][0].getBBox();if(_t.width===0&&_t.height===0)throw new Error("svg element not in render tree");xt.width=Math.round(Math.max(xt.width,_t.width)),mt=Math.round(_t.height),xt.height+=mt,xt.lineHeight=Math.round(Math.max(xt.lineHeight,mt))}ut.push(xt)}ht.remove();const ft=isNaN(ut[1].height)||isNaN(ut[1].width)||isNaN(ut[1].lineHeight)||ut[0].height>ut[1].height&&ut[0].width>ut[1].width&&ut[0].lineHeight>ut[1].lineHeight?0:1;return ut[ft]},(ee,te)=>`${ee}${te.fontSize}${te.fontWeight}${te.fontFamily}`),InitIDGenerator=class{constructor(ee=!1,te){this.count=0,this.count=te?te.length:0,this.next=ee?()=>this.count++:()=>Date.now()}static{__name(this,"InitIDGenerator")}},decoder,entityDecode=__name(function(ee){return decoder=decoder||document.createElement("div"),ee=escape(ee).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=ee,unescape(decoder.textContent)},"entityDecode");function isDetailedError(ee){return"str"in ee}__name(isDetailedError,"isDetailedError");var insertTitle=__name((ee,te,ne,xe)=>{if(!xe)return;const rt=ee.node()?.getBBox();rt&&ee.append("text").text(xe).attr("text-anchor","middle").attr("x",rt.x+rt.width/2).attr("y",-ne).attr("class",te)},"insertTitle"),parseFontSize=__name(ee=>{if(typeof ee=="number")return[ee,ee+"px"];const te=parseInt(ee??"",10);return Number.isNaN(te)?[void 0,void 0]:ee===String(te)?[te,ee+"px"]:[te,ee]},"parseFontSize");function cleanAndMerge(ee,te){return merge({},ee,te)}__name(cleanAndMerge,"cleanAndMerge");var utils_default={assignWithDepth:assignWithDepth_default,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,isLabelCoordinateInPath,parseFontSize,InitIDGenerator},encodeEntities=__name(function(ee){let te=ee;return te=te.replace(/style.*:\S*#.*;/g,function(ne){return ne.substring(0,ne.length-1)}),te=te.replace(/classDef.*:\S*#.*;/g,function(ne){return ne.substring(0,ne.length-1)}),te=te.replace(/#\w+;/g,function(ne){const xe=ne.substring(1,ne.length-1);return/^\+?\d+$/.test(xe)?""+xe+"":""+xe+""}),te},"encodeEntities"),decodeEntities=__name(function(ee){return ee.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),getEdgeId$1=__name((ee,te,{counter:ne=0,prefix:xe,suffix:rt},it)=>it||`${xe?`${xe}_`:""}${ee}_${te}_${ne}${rt?`_${rt}`:""}`,"getEdgeId");function handleUndefinedAttr(ee){return ee??null}__name(handleUndefinedAttr,"handleUndefinedAttr");function isLabelCoordinateInPath(ee,te){const ne=Math.round(ee.x),xe=Math.round(ee.y),rt=te.replace(/(\d+\.\d+)/g,it=>Math.round(parseFloat(it)).toString());return rt.includes(ne.toString())||rt.includes(xe.toString())}__name(isLabelCoordinateInPath,"isLabelCoordinateInPath");const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1}),defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),stringToIcon=(ee,te,ne,xe="")=>{const rt=ee.split(":");if(ee.slice(0,1)==="@"){if(rt.length<2||rt.length>3)return null;xe=rt.shift().slice(1)}if(rt.length>3||!rt.length)return null;if(rt.length>1){const ct=rt.pop(),ut=rt.pop(),dt={provider:rt.length>0?rt[0]:xe,prefix:ut,name:ct};return validateIconName(dt)?dt:null}const it=rt[0],lt=it.split("-");if(lt.length>1){const ct={provider:xe,prefix:lt.shift(),name:lt.join("-")};return validateIconName(ct)?ct:null}if(ne&&xe===""){const ct={provider:xe,prefix:"",name:it};return validateIconName(ct,ne)?ct:null}return null},validateIconName=(ee,te)=>ee?!!((te&&ee.prefix===""||ee.prefix)&&ee.name):!1;function mergeIconTransformations(ee,te){const ne={};!ee.hFlip!=!te.hFlip&&(ne.hFlip=!0),!ee.vFlip!=!te.vFlip&&(ne.vFlip=!0);const xe=((ee.rotate||0)+(te.rotate||0))%4;return xe&&(ne.rotate=xe),ne}function mergeIconData(ee,te){const ne=mergeIconTransformations(ee,te);for(const xe in defaultExtendedIconProps)xe in defaultIconTransformations?xe in ee&&!(xe in ne)&&(ne[xe]=defaultIconTransformations[xe]):xe in te?ne[xe]=te[xe]:xe in ee&&(ne[xe]=ee[xe]);return ne}function getIconsTree(ee,te){const ne=ee.icons,xe=ee.aliases||Object.create(null),rt=Object.create(null);function it(lt){if(ne[lt])return rt[lt]=[];if(!(lt in rt)){rt[lt]=null;const ct=xe[lt]&&xe[lt].parent,ut=ct&&it(ct);ut&&(rt[lt]=[ct].concat(ut))}return rt[lt]}return(te||Object.keys(ne).concat(Object.keys(xe))).forEach(it),rt}function internalGetIconData(ee,te,ne){const xe=ee.icons,rt=ee.aliases||Object.create(null);let it={};function lt(ct){it=mergeIconData(xe[ct]||rt[ct],it)}return lt(te),ne.forEach(lt),mergeIconData(ee,it)}function getIconData(ee,te){if(ee.icons[te])return internalGetIconData(ee,te,[]);const ne=getIconsTree(ee,[te])[te];return ne?internalGetIconData(ee,te,ne):null}const unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(ee,te,ne){if(te===1)return ee;if(ne=ne||100,typeof ee=="number")return Math.ceil(ee*te*ne)/ne;if(typeof ee!="string")return ee;const xe=ee.split(unitsSplit);if(xe===null||!xe.length)return ee;const rt=[];let it=xe.shift(),lt=unitsTest.test(it);for(;;){if(lt){const ct=parseFloat(it);isNaN(ct)?rt.push(it):rt.push(Math.ceil(ct*te*ne)/ne)}else rt.push(it);if(it=xe.shift(),it===void 0)return rt.join("");lt=!lt}}function splitSVGDefs(ee,te="defs"){let ne="";const xe=ee.indexOf("<"+te);for(;xe>=0;){const rt=ee.indexOf(">",xe),it=ee.indexOf("</"+te);if(rt===-1||it===-1)break;const lt=ee.indexOf(">",it);if(lt===-1)break;ne+=ee.slice(rt+1,it).trim(),ee=ee.slice(0,xe).trim()+ee.slice(lt+1)}return{defs:ne,content:ee}}function mergeDefsAndContent(ee,te){return ee?"<defs>"+ee+"</defs>"+te:te}function wrapSVGContent(ee,te,ne){const xe=splitSVGDefs(ee);return mergeDefsAndContent(xe.defs,te+xe.content+ne)}const isUnsetKeyword=ee=>ee==="unset"||ee==="undefined"||ee==="none";function iconToSVG(ee,te){const ne={...defaultIconProps,...ee},xe={...defaultIconCustomisations,...te},rt={left:ne.left,top:ne.top,width:ne.width,height:ne.height};let it=ne.body;[ne,xe].forEach(yt=>{const vt=[],Et=yt.hFlip,_t=yt.vFlip;let wt=yt.rotate;Et?_t?wt+=2:(vt.push("translate("+(rt.width+rt.left).toString()+" "+(0-rt.top).toString()+")"),vt.push("scale(-1 1)"),rt.top=rt.left=0):_t&&(vt.push("translate("+(0-rt.left).toString()+" "+(rt.height+rt.top).toString()+")"),vt.push("scale(1 -1)"),rt.top=rt.left=0);let St;switch(wt<0&&(wt-=Math.floor(wt/4)*4),wt=wt%4,wt){case 1:St=rt.height/2+rt.top,vt.unshift("rotate(90 "+St.toString()+" "+St.toString()+")");break;case 2:vt.unshift("rotate(180 "+(rt.width/2+rt.left).toString()+" "+(rt.height/2+rt.top).toString()+")");break;case 3:St=rt.width/2+rt.left,vt.unshift("rotate(-90 "+St.toString()+" "+St.toString()+")");break}wt%2===1&&(rt.left!==rt.top&&(St=rt.left,rt.left=rt.top,rt.top=St),rt.width!==rt.height&&(St=rt.width,rt.width=rt.height,rt.height=St)),vt.length&&(it=wrapSVGContent(it,'<g transform="'+vt.join(" ")+'">',"</g>"))});const lt=xe.width,ct=xe.height,ut=rt.width,dt=rt.height;let ht,ft;lt===null?(ft=ct===null?"1em":ct==="auto"?dt:ct,ht=calculateSize(ft,ut/dt)):(ht=lt==="auto"?ut:lt,ft=ct===null?calculateSize(ht,dt/ut):ct==="auto"?dt:ct);const pt={},mt=(yt,vt)=>{isUnsetKeyword(vt)||(pt[yt]=vt.toString())};mt("width",ht),mt("height",ft);const xt=[rt.left,rt.top,ut,dt];return pt.viewBox=xt.join(" "),{attributes:pt,viewBox:xt,body:it}}const regex=/\sid="(\S+)"/g,counters=new Map;function nextID(ee){ee=ee.replace(/[0-9]+$/,"")||"a";const te=counters.get(ee)||0;return counters.set(ee,te+1),te?`${ee}${te}`:ee}function replaceIDs(ee){const te=[];let ne;for(;ne=regex.exec(ee);)te.push(ne[1]);if(!te.length)return ee;const xe="suffix"+(Math.random()*16777216|Date.now()).toString(16);return te.forEach(rt=>{const it=nextID(rt),lt=rt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");ee=ee.replace(new RegExp('([#;"])('+lt+')([")]|\\.[a-z])',"g"),"$1"+it+xe+"$3")}),ee=ee.replace(new RegExp(xe,"g"),""),ee}function iconToHTML(ee,te){let ne=ee.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const xe in te)ne+=" "+xe+'="'+te[xe]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+ne+">"+ee+"</svg>"}function L$1(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T$1=L$1();function G$1(ee){T$1=ee}var E$1={exec:()=>null};function d$1(ee,te=""){let ne=typeof ee=="string"?ee:ee.source,xe={replace:(rt,it)=>{let lt=typeof it=="string"?it:it.source;return lt=lt.replace(m$1.caret,"$1"),ne=ne.replace(rt,lt),xe},getRegex:()=>new RegExp(ne,te)};return xe}var be=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),m$1={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:ee=>new RegExp(`^( {0,3}${ee})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:ee=>new RegExp(`^ {0,${Math.min(3,ee-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:ee=>new RegExp(`^ {0,${Math.min(3,ee-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:ee=>new RegExp(`^ {0,${Math.min(3,ee-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:ee=>new RegExp(`^ {0,${Math.min(3,ee-1)}}#`),htmlBeginRegex:ee=>new RegExp(`^ {0,${Math.min(3,ee-1)}}<(?:[a-z].*>|!--)`,"i")},Re=/^(?:[ \t]*(?:\n|$))+/,Te=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Oe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I$1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,we=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,F$1=/(?:[*+-]|\d{1,9}[.)])/,ie=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,oe=d$1(ie).replace(/bull/g,F$1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ye=d$1(ie).replace(/bull/g,F$1).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),j$1=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Pe=/^[^\n]+/,Q$1=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Se=d$1(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Q$1).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$e=d$1(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,F$1).getRegex(),v$1="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U$1=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_e=d$1("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",U$1).replace("tag",v$1).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ae=d$1(j$1).replace("hr",I$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),Le=d$1(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ae).getRegex(),K$1={blockquote:Le,code:Te,def:Se,fences:Oe,heading:we,hr:I$1,html:_e,lheading:oe,list:$e,newline:Re,paragraph:ae,table:E$1,text:Pe},re=d$1("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex(),Me={...K$1,lheading:ye,table:re,paragraph:d$1(j$1).replace("hr",I$1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",re).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v$1).getRegex()},ze={...K$1,html:d$1(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U$1).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:E$1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:d$1(j$1).replace("hr",I$1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",oe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ae=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ee=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,le=/^( {2,}|\\)\n(?!\s*$)/,Ie=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D$1=/[\p{P}\p{S}]/u,W$1=/[\s\p{P}\p{S}]/u,ue=/[^\s\p{P}\p{S}]/u,Ce=d$1(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,W$1).getRegex(),pe=/(?!~)[\p{P}\p{S}]/u,Be=/(?!~)[\s\p{P}\p{S}]/u,qe=/(?:[^\s\p{P}\p{S}]|~)/u,ve=d$1(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",be?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ce=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,De=d$1(ce,"u").replace(/punct/g,D$1).getRegex(),He=d$1(ce,"u").replace(/punct/g,pe).getRegex(),he="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ze=d$1(he,"gu").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W$1).replace(/punct/g,D$1).getRegex(),Ge=d$1(he,"gu").replace(/notPunctSpace/g,qe).replace(/punctSpace/g,Be).replace(/punct/g,pe).getRegex(),Ne=d$1("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ue).replace(/punctSpace/g,W$1).replace(/punct/g,D$1).getRegex(),Fe=d$1(/\\(punct)/,"gu").replace(/punct/g,D$1).getRegex(),je=d$1(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=d$1(U$1).replace("(?:-->|$)","-->").getRegex(),Ue=d$1("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q$1=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Ke=d$1(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q$1).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),de=d$1(/^!?\[(label)\]\[(ref)\]/).replace("label",q$1).replace("ref",Q$1).getRegex(),ke=d$1(/^!?\[(ref)\](?:\[\])?/).replace("ref",Q$1).getRegex(),We=d$1("reflink|nolink(?!\\()","g").replace("reflink",de).replace("nolink",ke).getRegex(),se=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,X$1={_backpedal:E$1,anyPunctuation:Fe,autolink:je,blockSkip:ve,br:le,code:Ee,del:E$1,emStrongLDelim:De,emStrongRDelimAst:Ze,emStrongRDelimUnd:Ne,escape:Ae,link:Ke,nolink:ke,punctuation:Ce,reflink:de,reflinkSearch:We,tag:Ue,text:Ie,url:E$1},Xe={...X$1,link:d$1(/^!?\[(label)\]\((.*?)\)/).replace("label",q$1).getRegex(),reflink:d$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q$1).getRegex()},N$1={...X$1,emStrongRDelimAst:Ge,emStrongLDelim:He,url:d$1(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",se).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:d$1(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",se).getRegex()},Je={...N$1,br:d$1(le).replace("{2,}","*").getRegex(),text:d$1(N$1.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},C$1={normal:K$1,gfm:Me,pedantic:ze},M$1={normal:X$1,gfm:N$1,breaks:Je,pedantic:Xe},Ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ge=ee=>Ve[ee];function w$1(ee,te){if(te){if(m$1.escapeTest.test(ee))return ee.replace(m$1.escapeReplace,ge)}else if(m$1.escapeTestNoEncode.test(ee))return ee.replace(m$1.escapeReplaceNoEncode,ge);return ee}function J$1(ee){try{ee=encodeURI(ee).replace(m$1.percentDecode,"%")}catch{return null}return ee}function V$1(ee,te){let ne=ee.replace(m$1.findPipe,(it,lt,ct)=>{let ut=!1,dt=lt;for(;--dt>=0&&ct[dt]==="\\";)ut=!ut;return ut?"|":" |"}),xe=ne.split(m$1.splitPipe),rt=0;if(xe[0].trim()||xe.shift(),xe.length>0&&!xe.at(-1)?.trim()&&xe.pop(),te)if(xe.length>te)xe.splice(te);else for(;xe.length<te;)xe.push("");for(;rt<xe.length;rt++)xe[rt]=xe[rt].trim().replace(m$1.slashPipe,"|");return xe}function z$1(ee,te,ne){let xe=ee.length;if(xe===0)return"";let rt=0;for(;rt<xe&&ee.charAt(xe-rt-1)===te;)rt++;return ee.slice(0,xe-rt)}function fe(ee,te){if(ee.indexOf(te[1])===-1)return-1;let ne=0;for(let xe=0;xe<ee.length;xe++)if(ee[xe]==="\\")xe++;else if(ee[xe]===te[0])ne++;else if(ee[xe]===te[1]&&(ne--,ne<0))return xe;return ne>0?-2:-1}function me(ee,te,ne,xe,rt){let it=te.href,lt=te.title||null,ct=ee[1].replace(rt.other.outputLinkReplace,"$1");xe.state.inLink=!0;let ut={type:ee[0].charAt(0)==="!"?"image":"link",raw:ne,href:it,title:lt,text:ct,tokens:xe.inlineTokens(ct)};return xe.state.inLink=!1,ut}function Ye(ee,te,ne){let xe=ee.match(ne.other.indentCodeCompensation);if(xe===null)return te;let rt=xe[1];return te.split(`
`).map(it=>{let lt=it.match(ne.other.beginningSpace);if(lt===null)return it;let[ct]=lt;return ct.length>=rt.length?it.slice(rt.length):it}).join(`
`)}var y$1=class{options;rules;lexer;constructor(te){this.options=te||T$1}space(te){let ne=this.rules.block.newline.exec(te);if(ne&&ne[0].length>0)return{type:"space",raw:ne[0]}}code(te){let ne=this.rules.block.code.exec(te);if(ne){let xe=ne[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:ne[0],codeBlockStyle:"indented",text:this.options.pedantic?xe:z$1(xe,`
`)}}}fences(te){let ne=this.rules.block.fences.exec(te);if(ne){let xe=ne[0],rt=Ye(xe,ne[3]||"",this.rules);return{type:"code",raw:xe,lang:ne[2]?ne[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):ne[2],text:rt}}}heading(te){let ne=this.rules.block.heading.exec(te);if(ne){let xe=ne[2].trim();if(this.rules.other.endingHash.test(xe)){let rt=z$1(xe,"#");(this.options.pedantic||!rt||this.rules.other.endingSpaceChar.test(rt))&&(xe=rt.trim())}return{type:"heading",raw:ne[0],depth:ne[1].length,text:xe,tokens:this.lexer.inline(xe)}}}hr(te){let ne=this.rules.block.hr.exec(te);if(ne)return{type:"hr",raw:z$1(ne[0],`
`)}}blockquote(te){let ne=this.rules.block.blockquote.exec(te);if(ne){let xe=z$1(ne[0],`
`).split(`
`),rt="",it="",lt=[];for(;xe.length>0;){let ct=!1,ut=[],dt;for(dt=0;dt<xe.length;dt++)if(this.rules.other.blockquoteStart.test(xe[dt]))ut.push(xe[dt]),ct=!0;else if(!ct)ut.push(xe[dt]);else break;xe=xe.slice(dt);let ht=ut.join(`
`),ft=ht.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");rt=rt?`${rt}
${ht}`:ht,it=it?`${it}
${ft}`:ft;let pt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(ft,lt,!0),this.lexer.state.top=pt,xe.length===0)break;let mt=lt.at(-1);if(mt?.type==="code")break;if(mt?.type==="blockquote"){let xt=mt,yt=xt.raw+`
`+xe.join(`
`),vt=this.blockquote(yt);lt[lt.length-1]=vt,rt=rt.substring(0,rt.length-xt.raw.length)+vt.raw,it=it.substring(0,it.length-xt.text.length)+vt.text;break}else if(mt?.type==="list"){let xt=mt,yt=xt.raw+`
`+xe.join(`
`),vt=this.list(yt);lt[lt.length-1]=vt,rt=rt.substring(0,rt.length-mt.raw.length)+vt.raw,it=it.substring(0,it.length-xt.raw.length)+vt.raw,xe=yt.substring(lt.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:rt,tokens:lt,text:it}}}list(te){let ne=this.rules.block.list.exec(te);if(ne){let xe=ne[1].trim(),rt=xe.length>1,it={type:"list",raw:"",ordered:rt,start:rt?+xe.slice(0,-1):"",loose:!1,items:[]};xe=rt?`\\d{1,9}\\${xe.slice(-1)}`:`\\${xe}`,this.options.pedantic&&(xe=rt?xe:"[*+-]");let lt=this.rules.other.listItemRegex(xe),ct=!1;for(;te;){let dt=!1,ht="",ft="";if(!(ne=lt.exec(te))||this.rules.block.hr.test(te))break;ht=ne[0],te=te.substring(ht.length);let pt=ne[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,_t=>" ".repeat(3*_t.length)),mt=te.split(`
`,1)[0],xt=!pt.trim(),yt=0;if(this.options.pedantic?(yt=2,ft=pt.trimStart()):xt?yt=ne[1].length+1:(yt=ne[2].search(this.rules.other.nonSpaceChar),yt=yt>4?1:yt,ft=pt.slice(yt),yt+=ne[1].length),xt&&this.rules.other.blankLine.test(mt)&&(ht+=mt+`
`,te=te.substring(mt.length+1),dt=!0),!dt){let _t=this.rules.other.nextBulletRegex(yt),wt=this.rules.other.hrRegex(yt),St=this.rules.other.fencesBeginRegex(yt),Ct=this.rules.other.headingBeginRegex(yt),jt=this.rules.other.htmlBeginRegex(yt);for(;te;){let Rt=te.split(`
`,1)[0],Pt;if(mt=Rt,this.options.pedantic?(mt=mt.replace(this.rules.other.listReplaceNesting,"  "),Pt=mt):Pt=mt.replace(this.rules.other.tabCharGlobal,"    "),St.test(mt)||Ct.test(mt)||jt.test(mt)||_t.test(mt)||wt.test(mt))break;if(Pt.search(this.rules.other.nonSpaceChar)>=yt||!mt.trim())ft+=`
`+Pt.slice(yt);else{if(xt||pt.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||St.test(pt)||Ct.test(pt)||wt.test(pt))break;ft+=`
`+mt}!xt&&!mt.trim()&&(xt=!0),ht+=Rt+`
`,te=te.substring(Rt.length+1),pt=Pt.slice(yt)}}it.loose||(ct?it.loose=!0:this.rules.other.doubleBlankLine.test(ht)&&(ct=!0));let vt=null,Et;this.options.gfm&&(vt=this.rules.other.listIsTask.exec(ft),vt&&(Et=vt[0]!=="[ ] ",ft=ft.replace(this.rules.other.listReplaceTask,""))),it.items.push({type:"list_item",raw:ht,task:!!vt,checked:Et,loose:!1,text:ft,tokens:[]}),it.raw+=ht}let ut=it.items.at(-1);if(ut)ut.raw=ut.raw.trimEnd(),ut.text=ut.text.trimEnd();else return;it.raw=it.raw.trimEnd();for(let dt=0;dt<it.items.length;dt++)if(this.lexer.state.top=!1,it.items[dt].tokens=this.lexer.blockTokens(it.items[dt].text,[]),!it.loose){let ht=it.items[dt].tokens.filter(pt=>pt.type==="space"),ft=ht.length>0&&ht.some(pt=>this.rules.other.anyLine.test(pt.raw));it.loose=ft}if(it.loose)for(let dt=0;dt<it.items.length;dt++)it.items[dt].loose=!0;return it}}html(te){let ne=this.rules.block.html.exec(te);if(ne)return{type:"html",block:!0,raw:ne[0],pre:ne[1]==="pre"||ne[1]==="script"||ne[1]==="style",text:ne[0]}}def(te){let ne=this.rules.block.def.exec(te);if(ne){let xe=ne[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),rt=ne[2]?ne[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",it=ne[3]?ne[3].substring(1,ne[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):ne[3];return{type:"def",tag:xe,raw:ne[0],href:rt,title:it}}}table(te){let ne=this.rules.block.table.exec(te);if(!ne||!this.rules.other.tableDelimiter.test(ne[2]))return;let xe=V$1(ne[1]),rt=ne[2].replace(this.rules.other.tableAlignChars,"").split("|"),it=ne[3]?.trim()?ne[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],lt={type:"table",raw:ne[0],header:[],align:[],rows:[]};if(xe.length===rt.length){for(let ct of rt)this.rules.other.tableAlignRight.test(ct)?lt.align.push("right"):this.rules.other.tableAlignCenter.test(ct)?lt.align.push("center"):this.rules.other.tableAlignLeft.test(ct)?lt.align.push("left"):lt.align.push(null);for(let ct=0;ct<xe.length;ct++)lt.header.push({text:xe[ct],tokens:this.lexer.inline(xe[ct]),header:!0,align:lt.align[ct]});for(let ct of it)lt.rows.push(V$1(ct,lt.header.length).map((ut,dt)=>({text:ut,tokens:this.lexer.inline(ut),header:!1,align:lt.align[dt]})));return lt}}lheading(te){let ne=this.rules.block.lheading.exec(te);if(ne)return{type:"heading",raw:ne[0],depth:ne[2].charAt(0)==="="?1:2,text:ne[1],tokens:this.lexer.inline(ne[1])}}paragraph(te){let ne=this.rules.block.paragraph.exec(te);if(ne){let xe=ne[1].charAt(ne[1].length-1)===`
`?ne[1].slice(0,-1):ne[1];return{type:"paragraph",raw:ne[0],text:xe,tokens:this.lexer.inline(xe)}}}text(te){let ne=this.rules.block.text.exec(te);if(ne)return{type:"text",raw:ne[0],text:ne[0],tokens:this.lexer.inline(ne[0])}}escape(te){let ne=this.rules.inline.escape.exec(te);if(ne)return{type:"escape",raw:ne[0],text:ne[1]}}tag(te){let ne=this.rules.inline.tag.exec(te);if(ne)return!this.lexer.state.inLink&&this.rules.other.startATag.test(ne[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(ne[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(ne[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(ne[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:ne[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:ne[0]}}link(te){let ne=this.rules.inline.link.exec(te);if(ne){let xe=ne[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(xe)){if(!this.rules.other.endAngleBracket.test(xe))return;let lt=z$1(xe.slice(0,-1),"\\");if((xe.length-lt.length)%2===0)return}else{let lt=fe(ne[2],"()");if(lt===-2)return;if(lt>-1){let ct=(ne[0].indexOf("!")===0?5:4)+ne[1].length+lt;ne[2]=ne[2].substring(0,lt),ne[0]=ne[0].substring(0,ct).trim(),ne[3]=""}}let rt=ne[2],it="";if(this.options.pedantic){let lt=this.rules.other.pedanticHrefTitle.exec(rt);lt&&(rt=lt[1],it=lt[3])}else it=ne[3]?ne[3].slice(1,-1):"";return rt=rt.trim(),this.rules.other.startAngleBracket.test(rt)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(xe)?rt=rt.slice(1):rt=rt.slice(1,-1)),me(ne,{href:rt&&rt.replace(this.rules.inline.anyPunctuation,"$1"),title:it&&it.replace(this.rules.inline.anyPunctuation,"$1")},ne[0],this.lexer,this.rules)}}reflink(te,ne){let xe;if((xe=this.rules.inline.reflink.exec(te))||(xe=this.rules.inline.nolink.exec(te))){let rt=(xe[2]||xe[1]).replace(this.rules.other.multipleSpaceGlobal," "),it=ne[rt.toLowerCase()];if(!it){let lt=xe[0].charAt(0);return{type:"text",raw:lt,text:lt}}return me(xe,it,xe[0],this.lexer,this.rules)}}emStrong(te,ne,xe=""){let rt=this.rules.inline.emStrongLDelim.exec(te);if(!(!rt||rt[3]&&xe.match(this.rules.other.unicodeAlphaNumeric))&&(!(rt[1]||rt[2])||!xe||this.rules.inline.punctuation.exec(xe))){let it=[...rt[0]].length-1,lt,ct,ut=it,dt=0,ht=rt[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(ht.lastIndex=0,ne=ne.slice(-1*te.length+it);(rt=ht.exec(ne))!=null;){if(lt=rt[1]||rt[2]||rt[3]||rt[4]||rt[5]||rt[6],!lt)continue;if(ct=[...lt].length,rt[3]||rt[4]){ut+=ct;continue}else if((rt[5]||rt[6])&&it%3&&!((it+ct)%3)){dt+=ct;continue}if(ut-=ct,ut>0)continue;ct=Math.min(ct,ct+ut+dt);let ft=[...rt[0]][0].length,pt=te.slice(0,it+rt.index+ft+ct);if(Math.min(it,ct)%2){let xt=pt.slice(1,-1);return{type:"em",raw:pt,text:xt,tokens:this.lexer.inlineTokens(xt)}}let mt=pt.slice(2,-2);return{type:"strong",raw:pt,text:mt,tokens:this.lexer.inlineTokens(mt)}}}}codespan(te){let ne=this.rules.inline.code.exec(te);if(ne){let xe=ne[2].replace(this.rules.other.newLineCharGlobal," "),rt=this.rules.other.nonSpaceChar.test(xe),it=this.rules.other.startingSpaceChar.test(xe)&&this.rules.other.endingSpaceChar.test(xe);return rt&&it&&(xe=xe.substring(1,xe.length-1)),{type:"codespan",raw:ne[0],text:xe}}}br(te){let ne=this.rules.inline.br.exec(te);if(ne)return{type:"br",raw:ne[0]}}del(te){let ne=this.rules.inline.del.exec(te);if(ne)return{type:"del",raw:ne[0],text:ne[2],tokens:this.lexer.inlineTokens(ne[2])}}autolink(te){let ne=this.rules.inline.autolink.exec(te);if(ne){let xe,rt;return ne[2]==="@"?(xe=ne[1],rt="mailto:"+xe):(xe=ne[1],rt=xe),{type:"link",raw:ne[0],text:xe,href:rt,tokens:[{type:"text",raw:xe,text:xe}]}}}url(te){let ne;if(ne=this.rules.inline.url.exec(te)){let xe,rt;if(ne[2]==="@")xe=ne[0],rt="mailto:"+xe;else{let it;do it=ne[0],ne[0]=this.rules.inline._backpedal.exec(ne[0])?.[0]??"";while(it!==ne[0]);xe=ne[0],ne[1]==="www."?rt="http://"+ne[0]:rt=ne[0]}return{type:"link",raw:ne[0],text:xe,href:rt,tokens:[{type:"text",raw:xe,text:xe}]}}}inlineText(te){let ne=this.rules.inline.text.exec(te);if(ne){let xe=this.lexer.state.inRawBlock;return{type:"text",raw:ne[0],text:ne[0],escaped:xe}}}},x$1=class gu{tokens;options;state;tokenizer;inlineQueue;constructor(te){this.tokens=[],this.tokens.links=Object.create(null),this.options=te||T$1,this.options.tokenizer=this.options.tokenizer||new y$1,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let ne={other:m$1,block:C$1.normal,inline:M$1.normal};this.options.pedantic?(ne.block=C$1.pedantic,ne.inline=M$1.pedantic):this.options.gfm&&(ne.block=C$1.gfm,this.options.breaks?ne.inline=M$1.breaks:ne.inline=M$1.gfm),this.tokenizer.rules=ne}static get rules(){return{block:C$1,inline:M$1}}static lex(te,ne){return new gu(ne).lex(te)}static lexInline(te,ne){return new gu(ne).inlineTokens(te)}lex(te){te=te.replace(m$1.carriageReturn,`
`),this.blockTokens(te,this.tokens);for(let ne=0;ne<this.inlineQueue.length;ne++){let xe=this.inlineQueue[ne];this.inlineTokens(xe.src,xe.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(te,ne=[],xe=!1){for(this.options.pedantic&&(te=te.replace(m$1.tabCharGlobal,"    ").replace(m$1.spaceLine,""));te;){let rt;if(this.options.extensions?.block?.some(lt=>(rt=lt.call({lexer:this},te,ne))?(te=te.substring(rt.raw.length),ne.push(rt),!0):!1))continue;if(rt=this.tokenizer.space(te)){te=te.substring(rt.raw.length);let lt=ne.at(-1);rt.raw.length===1&&lt!==void 0?lt.raw+=`
`:ne.push(rt);continue}if(rt=this.tokenizer.code(te)){te=te.substring(rt.raw.length);let lt=ne.at(-1);lt?.type==="paragraph"||lt?.type==="text"?(lt.raw+=(lt.raw.endsWith(`
`)?"":`
`)+rt.raw,lt.text+=`
`+rt.text,this.inlineQueue.at(-1).src=lt.text):ne.push(rt);continue}if(rt=this.tokenizer.fences(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}if(rt=this.tokenizer.heading(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}if(rt=this.tokenizer.hr(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}if(rt=this.tokenizer.blockquote(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}if(rt=this.tokenizer.list(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}if(rt=this.tokenizer.html(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}if(rt=this.tokenizer.def(te)){te=te.substring(rt.raw.length);let lt=ne.at(-1);lt?.type==="paragraph"||lt?.type==="text"?(lt.raw+=(lt.raw.endsWith(`
`)?"":`
`)+rt.raw,lt.text+=`
`+rt.raw,this.inlineQueue.at(-1).src=lt.text):this.tokens.links[rt.tag]||(this.tokens.links[rt.tag]={href:rt.href,title:rt.title},ne.push(rt));continue}if(rt=this.tokenizer.table(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}if(rt=this.tokenizer.lheading(te)){te=te.substring(rt.raw.length),ne.push(rt);continue}let it=te;if(this.options.extensions?.startBlock){let lt=1/0,ct=te.slice(1),ut;this.options.extensions.startBlock.forEach(dt=>{ut=dt.call({lexer:this},ct),typeof ut=="number"&&ut>=0&&(lt=Math.min(lt,ut))}),lt<1/0&&lt>=0&&(it=te.substring(0,lt+1))}if(this.state.top&&(rt=this.tokenizer.paragraph(it))){let lt=ne.at(-1);xe&&lt?.type==="paragraph"?(lt.raw+=(lt.raw.endsWith(`
`)?"":`
`)+rt.raw,lt.text+=`
`+rt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=lt.text):ne.push(rt),xe=it.length!==te.length,te=te.substring(rt.raw.length);continue}if(rt=this.tokenizer.text(te)){te=te.substring(rt.raw.length);let lt=ne.at(-1);lt?.type==="text"?(lt.raw+=(lt.raw.endsWith(`
`)?"":`
`)+rt.raw,lt.text+=`
`+rt.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=lt.text):ne.push(rt);continue}if(te){let lt="Infinite loop on byte: "+te.charCodeAt(0);if(this.options.silent){console.error(lt);break}else throw new Error(lt)}}return this.state.top=!0,ne}inline(te,ne=[]){return this.inlineQueue.push({src:te,tokens:ne}),ne}inlineTokens(te,ne=[]){let xe=te,rt=null;if(this.tokens.links){let ut=Object.keys(this.tokens.links);if(ut.length>0)for(;(rt=this.tokenizer.rules.inline.reflinkSearch.exec(xe))!=null;)ut.includes(rt[0].slice(rt[0].lastIndexOf("[")+1,-1))&&(xe=xe.slice(0,rt.index)+"["+"a".repeat(rt[0].length-2)+"]"+xe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(rt=this.tokenizer.rules.inline.anyPunctuation.exec(xe))!=null;)xe=xe.slice(0,rt.index)+"++"+xe.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let it;for(;(rt=this.tokenizer.rules.inline.blockSkip.exec(xe))!=null;)it=rt[2]?rt[2].length:0,xe=xe.slice(0,rt.index+it)+"["+"a".repeat(rt[0].length-it-2)+"]"+xe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);xe=this.options.hooks?.emStrongMask?.call({lexer:this},xe)??xe;let lt=!1,ct="";for(;te;){lt||(ct=""),lt=!1;let ut;if(this.options.extensions?.inline?.some(ht=>(ut=ht.call({lexer:this},te,ne))?(te=te.substring(ut.raw.length),ne.push(ut),!0):!1))continue;if(ut=this.tokenizer.escape(te)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(ut=this.tokenizer.tag(te)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(ut=this.tokenizer.link(te)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(ut=this.tokenizer.reflink(te,this.tokens.links)){te=te.substring(ut.raw.length);let ht=ne.at(-1);ut.type==="text"&&ht?.type==="text"?(ht.raw+=ut.raw,ht.text+=ut.text):ne.push(ut);continue}if(ut=this.tokenizer.emStrong(te,xe,ct)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(ut=this.tokenizer.codespan(te)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(ut=this.tokenizer.br(te)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(ut=this.tokenizer.del(te)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(ut=this.tokenizer.autolink(te)){te=te.substring(ut.raw.length),ne.push(ut);continue}if(!this.state.inLink&&(ut=this.tokenizer.url(te))){te=te.substring(ut.raw.length),ne.push(ut);continue}let dt=te;if(this.options.extensions?.startInline){let ht=1/0,ft=te.slice(1),pt;this.options.extensions.startInline.forEach(mt=>{pt=mt.call({lexer:this},ft),typeof pt=="number"&&pt>=0&&(ht=Math.min(ht,pt))}),ht<1/0&&ht>=0&&(dt=te.substring(0,ht+1))}if(ut=this.tokenizer.inlineText(dt)){te=te.substring(ut.raw.length),ut.raw.slice(-1)!=="_"&&(ct=ut.raw.slice(-1)),lt=!0;let ht=ne.at(-1);ht?.type==="text"?(ht.raw+=ut.raw,ht.text+=ut.text):ne.push(ut);continue}if(te){let ht="Infinite loop on byte: "+te.charCodeAt(0);if(this.options.silent){console.error(ht);break}else throw new Error(ht)}}return ne}},P$1=class{options;parser;constructor(te){this.options=te||T$1}space(te){return""}code({text:te,lang:ne,escaped:xe}){let rt=(ne||"").match(m$1.notSpaceStart)?.[0],it=te.replace(m$1.endingNewline,"")+`
`;return rt?'<pre><code class="language-'+w$1(rt)+'">'+(xe?it:w$1(it,!0))+`</code></pre>
`:"<pre><code>"+(xe?it:w$1(it,!0))+`</code></pre>
`}blockquote({tokens:te}){return`<blockquote>
${this.parser.parse(te)}</blockquote>
`}html({text:te}){return te}def(te){return""}heading({tokens:te,depth:ne}){return`<h${ne}>${this.parser.parseInline(te)}</h${ne}>
`}hr(te){return`<hr>
`}list(te){let ne=te.ordered,xe=te.start,rt="";for(let ct=0;ct<te.items.length;ct++){let ut=te.items[ct];rt+=this.listitem(ut)}let it=ne?"ol":"ul",lt=ne&&xe!==1?' start="'+xe+'"':"";return"<"+it+lt+`>
`+rt+"</"+it+`>
`}listitem(te){let ne="";if(te.task){let xe=this.checkbox({checked:!!te.checked});te.loose?te.tokens[0]?.type==="paragraph"?(te.tokens[0].text=xe+" "+te.tokens[0].text,te.tokens[0].tokens&&te.tokens[0].tokens.length>0&&te.tokens[0].tokens[0].type==="text"&&(te.tokens[0].tokens[0].text=xe+" "+w$1(te.tokens[0].tokens[0].text),te.tokens[0].tokens[0].escaped=!0)):te.tokens.unshift({type:"text",raw:xe+" ",text:xe+" ",escaped:!0}):ne+=xe+" "}return ne+=this.parser.parse(te.tokens,!!te.loose),`<li>${ne}</li>
`}checkbox({checked:te}){return"<input "+(te?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:te}){return`<p>${this.parser.parseInline(te)}</p>
`}table(te){let ne="",xe="";for(let it=0;it<te.header.length;it++)xe+=this.tablecell(te.header[it]);ne+=this.tablerow({text:xe});let rt="";for(let it=0;it<te.rows.length;it++){let lt=te.rows[it];xe="";for(let ct=0;ct<lt.length;ct++)xe+=this.tablecell(lt[ct]);rt+=this.tablerow({text:xe})}return rt&&(rt=`<tbody>${rt}</tbody>`),`<table>
<thead>
`+ne+`</thead>
`+rt+`</table>
`}tablerow({text:te}){return`<tr>
${te}</tr>
`}tablecell(te){let ne=this.parser.parseInline(te.tokens),xe=te.header?"th":"td";return(te.align?`<${xe} align="${te.align}">`:`<${xe}>`)+ne+`</${xe}>
`}strong({tokens:te}){return`<strong>${this.parser.parseInline(te)}</strong>`}em({tokens:te}){return`<em>${this.parser.parseInline(te)}</em>`}codespan({text:te}){return`<code>${w$1(te,!0)}</code>`}br(te){return"<br>"}del({tokens:te}){return`<del>${this.parser.parseInline(te)}</del>`}link({href:te,title:ne,tokens:xe}){let rt=this.parser.parseInline(xe),it=J$1(te);if(it===null)return rt;te=it;let lt='<a href="'+te+'"';return ne&&(lt+=' title="'+w$1(ne)+'"'),lt+=">"+rt+"</a>",lt}image({href:te,title:ne,text:xe,tokens:rt}){rt&&(xe=this.parser.parseInline(rt,this.parser.textRenderer));let it=J$1(te);if(it===null)return w$1(xe);te=it;let lt=`<img src="${te}" alt="${xe}"`;return ne&&(lt+=` title="${w$1(ne)}"`),lt+=">",lt}text(te){return"tokens"in te&&te.tokens?this.parser.parseInline(te.tokens):"escaped"in te&&te.escaped?te.text:w$1(te.text)}},$$1=class{strong({text:te}){return te}em({text:te}){return te}codespan({text:te}){return te}del({text:te}){return te}html({text:te}){return te}text({text:te}){return te}link({text:te}){return""+te}image({text:te}){return""+te}br(){return""}},b$1=class xu{options;renderer;textRenderer;constructor(te){this.options=te||T$1,this.options.renderer=this.options.renderer||new P$1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $$1}static parse(te,ne){return new xu(ne).parse(te)}static parseInline(te,ne){return new xu(ne).parseInline(te)}parse(te,ne=!0){let xe="";for(let rt=0;rt<te.length;rt++){let it=te[rt];if(this.options.extensions?.renderers?.[it.type]){let ct=it,ut=this.options.extensions.renderers[ct.type].call({parser:this},ct);if(ut!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(ct.type)){xe+=ut||"";continue}}let lt=it;switch(lt.type){case"space":{xe+=this.renderer.space(lt);continue}case"hr":{xe+=this.renderer.hr(lt);continue}case"heading":{xe+=this.renderer.heading(lt);continue}case"code":{xe+=this.renderer.code(lt);continue}case"table":{xe+=this.renderer.table(lt);continue}case"blockquote":{xe+=this.renderer.blockquote(lt);continue}case"list":{xe+=this.renderer.list(lt);continue}case"html":{xe+=this.renderer.html(lt);continue}case"def":{xe+=this.renderer.def(lt);continue}case"paragraph":{xe+=this.renderer.paragraph(lt);continue}case"text":{let ct=lt,ut=this.renderer.text(ct);for(;rt+1<te.length&&te[rt+1].type==="text";)ct=te[++rt],ut+=`
`+this.renderer.text(ct);ne?xe+=this.renderer.paragraph({type:"paragraph",raw:ut,text:ut,tokens:[{type:"text",raw:ut,text:ut,escaped:!0}]}):xe+=ut;continue}default:{let ct='Token with "'+lt.type+'" type was not found.';if(this.options.silent)return console.error(ct),"";throw new Error(ct)}}}return xe}parseInline(te,ne=this.renderer){let xe="";for(let rt=0;rt<te.length;rt++){let it=te[rt];if(this.options.extensions?.renderers?.[it.type]){let ct=this.options.extensions.renderers[it.type].call({parser:this},it);if(ct!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(it.type)){xe+=ct||"";continue}}let lt=it;switch(lt.type){case"escape":{xe+=ne.text(lt);break}case"html":{xe+=ne.html(lt);break}case"link":{xe+=ne.link(lt);break}case"image":{xe+=ne.image(lt);break}case"strong":{xe+=ne.strong(lt);break}case"em":{xe+=ne.em(lt);break}case"codespan":{xe+=ne.codespan(lt);break}case"br":{xe+=ne.br(lt);break}case"del":{xe+=ne.del(lt);break}case"text":{xe+=ne.text(lt);break}default:{let ct='Token with "'+lt.type+'" type was not found.';if(this.options.silent)return console.error(ct),"";throw new Error(ct)}}}return xe}},S$1=class{options;block;constructor(te){this.options=te||T$1}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(te){return te}postprocess(te){return te}processAllTokens(te){return te}emStrongMask(te){return te}provideLexer(){return this.block?x$1.lex:x$1.lexInline}provideParser(){return this.block?b$1.parse:b$1.parseInline}},B$1=class{defaults=L$1();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b$1;Renderer=P$1;TextRenderer=$$1;Lexer=x$1;Tokenizer=y$1;Hooks=S$1;constructor(...te){this.use(...te)}walkTokens(te,ne){let xe=[];for(let rt of te)switch(xe=xe.concat(ne.call(this,rt)),rt.type){case"table":{let it=rt;for(let lt of it.header)xe=xe.concat(this.walkTokens(lt.tokens,ne));for(let lt of it.rows)for(let ct of lt)xe=xe.concat(this.walkTokens(ct.tokens,ne));break}case"list":{let it=rt;xe=xe.concat(this.walkTokens(it.items,ne));break}default:{let it=rt;this.defaults.extensions?.childTokens?.[it.type]?this.defaults.extensions.childTokens[it.type].forEach(lt=>{let ct=it[lt].flat(1/0);xe=xe.concat(this.walkTokens(ct,ne))}):it.tokens&&(xe=xe.concat(this.walkTokens(it.tokens,ne)))}}return xe}use(...te){let ne=this.defaults.extensions||{renderers:{},childTokens:{}};return te.forEach(xe=>{let rt={...xe};if(rt.async=this.defaults.async||rt.async||!1,xe.extensions&&(xe.extensions.forEach(it=>{if(!it.name)throw new Error("extension name required");if("renderer"in it){let lt=ne.renderers[it.name];lt?ne.renderers[it.name]=function(...ct){let ut=it.renderer.apply(this,ct);return ut===!1&&(ut=lt.apply(this,ct)),ut}:ne.renderers[it.name]=it.renderer}if("tokenizer"in it){if(!it.level||it.level!=="block"&&it.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let lt=ne[it.level];lt?lt.unshift(it.tokenizer):ne[it.level]=[it.tokenizer],it.start&&(it.level==="block"?ne.startBlock?ne.startBlock.push(it.start):ne.startBlock=[it.start]:it.level==="inline"&&(ne.startInline?ne.startInline.push(it.start):ne.startInline=[it.start]))}"childTokens"in it&&it.childTokens&&(ne.childTokens[it.name]=it.childTokens)}),rt.extensions=ne),xe.renderer){let it=this.defaults.renderer||new P$1(this.defaults);for(let lt in xe.renderer){if(!(lt in it))throw new Error(`renderer '${lt}' does not exist`);if(["options","parser"].includes(lt))continue;let ct=lt,ut=xe.renderer[ct],dt=it[ct];it[ct]=(...ht)=>{let ft=ut.apply(it,ht);return ft===!1&&(ft=dt.apply(it,ht)),ft||""}}rt.renderer=it}if(xe.tokenizer){let it=this.defaults.tokenizer||new y$1(this.defaults);for(let lt in xe.tokenizer){if(!(lt in it))throw new Error(`tokenizer '${lt}' does not exist`);if(["options","rules","lexer"].includes(lt))continue;let ct=lt,ut=xe.tokenizer[ct],dt=it[ct];it[ct]=(...ht)=>{let ft=ut.apply(it,ht);return ft===!1&&(ft=dt.apply(it,ht)),ft}}rt.tokenizer=it}if(xe.hooks){let it=this.defaults.hooks||new S$1;for(let lt in xe.hooks){if(!(lt in it))throw new Error(`hook '${lt}' does not exist`);if(["options","block"].includes(lt))continue;let ct=lt,ut=xe.hooks[ct],dt=it[ct];S$1.passThroughHooks.has(lt)?it[ct]=ht=>{if(this.defaults.async&&S$1.passThroughHooksRespectAsync.has(lt))return(async()=>{let pt=await ut.call(it,ht);return dt.call(it,pt)})();let ft=ut.call(it,ht);return dt.call(it,ft)}:it[ct]=(...ht)=>{if(this.defaults.async)return(async()=>{let pt=await ut.apply(it,ht);return pt===!1&&(pt=await dt.apply(it,ht)),pt})();let ft=ut.apply(it,ht);return ft===!1&&(ft=dt.apply(it,ht)),ft}}rt.hooks=it}if(xe.walkTokens){let it=this.defaults.walkTokens,lt=xe.walkTokens;rt.walkTokens=function(ct){let ut=[];return ut.push(lt.call(this,ct)),it&&(ut=ut.concat(it.call(this,ct))),ut}}this.defaults={...this.defaults,...rt}}),this}setOptions(te){return this.defaults={...this.defaults,...te},this}lexer(te,ne){return x$1.lex(te,ne??this.defaults)}parser(te,ne){return b$1.parse(te,ne??this.defaults)}parseMarkdown(te){return(ne,xe)=>{let rt={...xe},it={...this.defaults,...rt},lt=this.onError(!!it.silent,!!it.async);if(this.defaults.async===!0&&rt.async===!1)return lt(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof ne>"u"||ne===null)return lt(new Error("marked(): input parameter is undefined or null"));if(typeof ne!="string")return lt(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ne)+", string expected"));if(it.hooks&&(it.hooks.options=it,it.hooks.block=te),it.async)return(async()=>{let ct=it.hooks?await it.hooks.preprocess(ne):ne,ut=await(it.hooks?await it.hooks.provideLexer():te?x$1.lex:x$1.lexInline)(ct,it),dt=it.hooks?await it.hooks.processAllTokens(ut):ut;it.walkTokens&&await Promise.all(this.walkTokens(dt,it.walkTokens));let ht=await(it.hooks?await it.hooks.provideParser():te?b$1.parse:b$1.parseInline)(dt,it);return it.hooks?await it.hooks.postprocess(ht):ht})().catch(lt);try{it.hooks&&(ne=it.hooks.preprocess(ne));let ct=(it.hooks?it.hooks.provideLexer():te?x$1.lex:x$1.lexInline)(ne,it);it.hooks&&(ct=it.hooks.processAllTokens(ct)),it.walkTokens&&this.walkTokens(ct,it.walkTokens);let ut=(it.hooks?it.hooks.provideParser():te?b$1.parse:b$1.parseInline)(ct,it);return it.hooks&&(ut=it.hooks.postprocess(ut)),ut}catch(ct){return lt(ct)}}}onError(te,ne){return xe=>{if(xe.message+=`
Please report this to https://github.com/markedjs/marked.`,te){let rt="<p>An error occurred:</p><pre>"+w$1(xe.message+"",!0)+"</pre>";return ne?Promise.resolve(rt):rt}if(ne)return Promise.reject(xe);throw xe}}},_$1=new B$1;function k$1(ee,te){return _$1.parse(ee,te)}k$1.options=k$1.setOptions=function(ee){return _$1.setOptions(ee),k$1.defaults=_$1.defaults,G$1(k$1.defaults),k$1};k$1.getDefaults=L$1;k$1.defaults=T$1;k$1.use=function(...ee){return _$1.use(...ee),k$1.defaults=_$1.defaults,G$1(k$1.defaults),k$1};k$1.walkTokens=function(ee,te){return _$1.walkTokens(ee,te)};k$1.parseInline=_$1.parseInline;k$1.Parser=b$1;k$1.parser=b$1.parse;k$1.Renderer=P$1;k$1.TextRenderer=$$1;k$1.Lexer=x$1;k$1.lexer=x$1.lex;k$1.Tokenizer=y$1;k$1.Hooks=S$1;k$1.parse=k$1;k$1.options;k$1.setOptions;k$1.use;k$1.walkTokens;k$1.parseInline;b$1.parse;x$1.lex;function dedent(ee){for(var te=[],ne=1;ne<arguments.length;ne++)te[ne-1]=arguments[ne];var xe=Array.from(typeof ee=="string"?[ee]:ee);xe[xe.length-1]=xe[xe.length-1].replace(/\r?\n([\t ]*)$/,"");var rt=xe.reduce(function(ct,ut){var dt=ut.match(/\n([\t ]+|(?!\s).)/g);return dt?ct.concat(dt.map(function(ht){var ft,pt;return(pt=(ft=ht.match(/[\t ]/g))===null||ft===void 0?void 0:ft.length)!==null&&pt!==void 0?pt:0})):ct},[]);if(rt.length){var it=new RegExp(`
[	 ]{`+Math.min.apply(Math,rt)+"}","g");xe=xe.map(function(ct){return ct.replace(it,`
`)})}xe[0]=xe[0].replace(/^\r?\n/,"");var lt=xe[0];return te.forEach(function(ct,ut){var dt=lt.match(/(?:^|\n)( *)$/),ht=dt?dt[1]:"",ft=ct;typeof ct=="string"&&ct.includes(`
`)&&(ft=String(ct).split(`
`).map(function(pt,mt){return mt===0?pt:""+ht+pt}).join(`
`)),lt+=ft+xe[ut+1]}),lt}var unknownIcon={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},iconsStore=new Map,loaderStore=new Map,registerIconPacks=__name(ee=>{for(const te of ee){if(!te.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(log.debug("Registering icon pack:",te.name),"loader"in te)loaderStore.set(te.name,te.loader);else if("icons"in te)iconsStore.set(te.name,te.icons);else throw log.error("Invalid icon loader:",te),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),getRegisteredIconData=__name(async(ee,te)=>{const ne=stringToIcon(ee,!0,te!==void 0);if(!ne)throw new Error(`Invalid icon name: ${ee}`);const xe=ne.prefix||te;if(!xe)throw new Error(`Icon name must contain a prefix: ${ee}`);let rt=iconsStore.get(xe);if(!rt){const lt=loaderStore.get(xe);if(!lt)throw new Error(`Icon set not found: ${ne.prefix}`);try{rt={...await lt(),prefix:xe},iconsStore.set(xe,rt)}catch(ct){throw log.error(ct),new Error(`Failed to load icon set: ${ne.prefix}`)}}const it=getIconData(rt,ne.name);if(!it)throw new Error(`Icon not found: ${ee}`);return it},"getRegisteredIconData"),isIconAvailable=__name(async ee=>{try{return await getRegisteredIconData(ee),!0}catch{return!1}},"isIconAvailable"),getIconSVG=__name(async(ee,te,ne)=>{let xe;try{xe=await getRegisteredIconData(ee,te?.fallbackPrefix)}catch(lt){log.error(lt),xe=unknownIcon}const rt=iconToSVG(xe,te),it=iconToHTML(replaceIDs(rt.body),{...rt.attributes,...ne});return sanitizeText(it,getConfig())},"getIconSVG");function preprocessMarkdown(ee,{markdownAutoWrap:te}){const xe=ee.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),rt=dedent(xe);return te===!1?rt.replace(/ /g,"&nbsp;"):rt}__name(preprocessMarkdown,"preprocessMarkdown");function markdownToLines(ee,te={}){const ne=preprocessMarkdown(ee,te),xe=k$1.lexer(ne),rt=[[]];let it=0;function lt(ct,ut="normal"){ct.type==="text"?ct.text.split(`
`).forEach((ht,ft)=>{ft!==0&&(it++,rt.push([])),ht.split(" ").forEach(pt=>{pt=pt.replace(/&#39;/g,"'"),pt&&rt[it].push({content:pt,type:ut})})}):ct.type==="strong"||ct.type==="em"?ct.tokens.forEach(dt=>{lt(dt,ct.type)}):ct.type==="html"&&rt[it].push({content:ct.text,type:"normal"})}return __name(lt,"processNode"),xe.forEach(ct=>{ct.type==="paragraph"?ct.tokens?.forEach(ut=>{lt(ut)}):ct.type==="html"?rt[it].push({content:ct.text,type:"normal"}):rt[it].push({content:ct.raw,type:"normal"})}),rt}__name(markdownToLines,"markdownToLines");function markdownToHTML(ee,{markdownAutoWrap:te}={}){const ne=k$1.lexer(ee);function xe(rt){return rt.type==="text"?te===!1?rt.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):rt.text.replace(/\n */g,"<br/>"):rt.type==="strong"?`<strong>${rt.tokens?.map(xe).join("")}</strong>`:rt.type==="em"?`<em>${rt.tokens?.map(xe).join("")}</em>`:rt.type==="paragraph"?`<p>${rt.tokens?.map(xe).join("")}</p>`:rt.type==="space"?"":rt.type==="html"?`${rt.text}`:rt.type==="escape"?rt.text:(log.warn(`Unsupported markdown: ${rt.type}`),rt.raw)}return __name(xe,"output"),ne.map(xe).join("")}__name(markdownToHTML,"markdownToHTML");function splitTextToChars(ee){return Intl.Segmenter?[...new Intl.Segmenter().segment(ee)].map(te=>te.segment):[...ee]}__name(splitTextToChars,"splitTextToChars");function splitWordToFitWidth(ee,te){const ne=splitTextToChars(te.content);return splitWordToFitWidthRecursion(ee,[],ne,te.type)}__name(splitWordToFitWidth,"splitWordToFitWidth");function splitWordToFitWidthRecursion(ee,te,ne,xe){if(ne.length===0)return[{content:te.join(""),type:xe},{content:"",type:xe}];const[rt,...it]=ne,lt=[...te,rt];return ee([{content:lt.join(""),type:xe}])?splitWordToFitWidthRecursion(ee,lt,it,xe):(te.length===0&&rt&&(te.push(rt),ne.shift()),[{content:te.join(""),type:xe},{content:ne.join(""),type:xe}])}__name(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion");function splitLineToFitWidth(ee,te){if(ee.some(({content:ne})=>ne.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(ee,te)}__name(splitLineToFitWidth,"splitLineToFitWidth");function splitLineToFitWidthRecursion(ee,te,ne=[],xe=[]){if(ee.length===0)return xe.length>0&&ne.push(xe),ne.length>0?ne:[];let rt="";ee[0].content===" "&&(rt=" ",ee.shift());const it=ee.shift()??{content:" ",type:"normal"},lt=[...xe];if(rt!==""&&lt.push({content:rt,type:"normal"}),lt.push(it),te(lt))return splitLineToFitWidthRecursion(ee,te,ne,lt);if(xe.length>0)ne.push(xe),ee.unshift(it);else if(it.content){const[ct,ut]=splitWordToFitWidth(te,it);ne.push([ct]),ut.content&&ee.unshift(ut)}return splitLineToFitWidthRecursion(ee,te,ne)}__name(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion");function applyStyle$1(ee,te){te&&ee.attr("style",te)}__name(applyStyle$1,"applyStyle");async function addHtmlSpan(ee,te,ne,xe,rt=!1,it=getConfig()){const lt=ee.append("foreignObject");lt.attr("width",`${10*ne}px`),lt.attr("height",`${10*ne}px`);const ct=lt.append("xhtml:div"),ut=hasKatex(te.label)?await renderKatexSanitized(te.label.replace(common_default.lineBreakRegex,`
`),it):sanitizeText(te.label,it),dt=te.isNode?"nodeLabel":"edgeLabel",ht=ct.append("span");ht.html(ut),applyStyle$1(ht,te.labelStyle),ht.attr("class",`${dt} ${xe}`),applyStyle$1(ct,te.labelStyle),ct.style("display","table-cell"),ct.style("white-space","nowrap"),ct.style("line-height","1.5"),ct.style("max-width",ne+"px"),ct.style("text-align","center"),ct.attr("xmlns","http://www.w3.org/1999/xhtml"),rt&&ct.attr("class","labelBkg");let ft=ct.node().getBoundingClientRect();return ft.width===ne&&(ct.style("display","table"),ct.style("white-space","break-spaces"),ct.style("width",ne+"px"),ft=ct.node().getBoundingClientRect()),lt.node()}__name(addHtmlSpan,"addHtmlSpan");function createTspan(ee,te,ne){return ee.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",te*ne-.1+"em").attr("dy",ne+"em")}__name(createTspan,"createTspan");function computeWidthOfText(ee,te,ne){const xe=ee.append("text"),rt=createTspan(xe,1,te);updateTextContentAndStyles(rt,ne);const it=rt.node().getComputedTextLength();return xe.remove(),it}__name(computeWidthOfText,"computeWidthOfText");function computeDimensionOfText(ee,te,ne){const xe=ee.append("text"),rt=createTspan(xe,1,te);updateTextContentAndStyles(rt,[{content:ne,type:"normal"}]);const it=rt.node()?.getBoundingClientRect();return it&&xe.remove(),it}__name(computeDimensionOfText,"computeDimensionOfText");function createFormattedText(ee,te,ne,xe=!1){const it=te.append("g"),lt=it.insert("rect").attr("class","background").attr("style","stroke: none"),ct=it.append("text").attr("y","-10.1");let ut=0;for(const dt of ne){const ht=__name(pt=>computeWidthOfText(it,1.1,pt)<=ee,"checkWidth"),ft=ht(dt)?[dt]:splitLineToFitWidth(dt,ht);for(const pt of ft){const mt=createTspan(ct,ut,1.1);updateTextContentAndStyles(mt,pt),ut++}}if(xe){const dt=ct.node().getBBox(),ht=2;return lt.attr("x",dt.x-ht).attr("y",dt.y-ht).attr("width",dt.width+2*ht).attr("height",dt.height+2*ht),it.node()}else return ct.node()}__name(createFormattedText,"createFormattedText");function updateTextContentAndStyles(ee,te){ee.text(""),te.forEach((ne,xe)=>{const rt=ee.append("tspan").attr("font-style",ne.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",ne.type==="strong"?"bold":"normal");xe===0?rt.text(ne.content):rt.text(" "+ne.content)})}__name(updateTextContentAndStyles,"updateTextContentAndStyles");async function replaceIconSubstring(ee,te={}){const ne=[];ee.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(rt,it,lt)=>(ne.push((async()=>{const ct=`${it}:${lt}`;return await isIconAvailable(ct)?await getIconSVG(ct,void 0,{class:"label-icon"}):`<i class='${sanitizeText(rt,te).replace(":"," ")}'></i>`})()),rt));const xe=await Promise.all(ne);return ee.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>xe.shift()??"")}__name(replaceIconSubstring,"replaceIconSubstring");var createText=__name(async(ee,te="",{style:ne="",isTitle:xe=!1,classes:rt="",useHtmlLabels:it=!0,isNode:lt=!0,width:ct=200,addSvgBackground:ut=!1}={},dt)=>{if(log.debug("XYZ createText",te,ne,xe,rt,it,lt,"addSvgBackground: ",ut),it){const ht=markdownToHTML(te,dt),ft=await replaceIconSubstring(decodeEntities(ht),dt),pt=te.replace(/\\\\/g,"\\"),mt={isNode:lt,label:hasKatex(te)?pt:ft,labelStyle:ne.replace("fill:","color:")};return await addHtmlSpan(ee,mt,ct,rt,ut,dt)}else{const ht=te.replace(/<br\s*\/?>/g,"<br/>"),ft=markdownToLines(ht.replace("<br>","<br/>"),dt),pt=createFormattedText(ct,ee,ft,te?ut:!1);if(lt){/stroke:/.exec(ne)&&(ne=ne.replace("stroke:","lineColor:"));const mt=ne.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(pt).attr("style",mt)}else{const mt=ne.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");select(pt).select("rect").attr("style",mt.replace(/background:/g,"fill:"));const xt=ne.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(pt).select("text").attr("style",xt)}return pt}},"createText");function t(ee,te,ne){if(ee&&ee.length){const[xe,rt]=te,it=Math.PI/180*ne,lt=Math.cos(it),ct=Math.sin(it);for(const ut of ee){const[dt,ht]=ut;ut[0]=(dt-xe)*lt-(ht-rt)*ct+xe,ut[1]=(dt-xe)*ct+(ht-rt)*lt+rt}}}function e(ee,te){return ee[0]===te[0]&&ee[1]===te[1]}function s(ee,te,ne,xe=1){const rt=ne,it=Math.max(te,.1),lt=ee[0]&&ee[0][0]&&typeof ee[0][0]=="number"?[ee]:ee,ct=[0,0];if(rt)for(const dt of lt)t(dt,ct,rt);const ut=(function(dt,ht,ft){const pt=[];for(const _t of dt){const wt=[..._t];e(wt[0],wt[wt.length-1])||wt.push([wt[0][0],wt[0][1]]),wt.length>2&&pt.push(wt)}const mt=[];ht=Math.max(ht,.1);const xt=[];for(const _t of pt)for(let wt=0;wt<_t.length-1;wt++){const St=_t[wt],Ct=_t[wt+1];if(St[1]!==Ct[1]){const jt=Math.min(St[1],Ct[1]);xt.push({ymin:jt,ymax:Math.max(St[1],Ct[1]),x:jt===St[1]?St[0]:Ct[0],islope:(Ct[0]-St[0])/(Ct[1]-St[1])})}}if(xt.sort(((_t,wt)=>_t.ymin<wt.ymin?-1:_t.ymin>wt.ymin?1:_t.x<wt.x?-1:_t.x>wt.x?1:_t.ymax===wt.ymax?0:(_t.ymax-wt.ymax)/Math.abs(_t.ymax-wt.ymax))),!xt.length)return mt;let yt=[],vt=xt[0].ymin,Et=0;for(;yt.length||xt.length;){if(xt.length){let _t=-1;for(let wt=0;wt<xt.length&&!(xt[wt].ymin>vt);wt++)_t=wt;xt.splice(0,_t+1).forEach((wt=>{yt.push({s:vt,edge:wt})}))}if(yt=yt.filter((_t=>!(_t.edge.ymax<=vt))),yt.sort(((_t,wt)=>_t.edge.x===wt.edge.x?0:(_t.edge.x-wt.edge.x)/Math.abs(_t.edge.x-wt.edge.x))),(ft!==1||Et%ht==0)&&yt.length>1)for(let _t=0;_t<yt.length;_t+=2){const wt=_t+1;if(wt>=yt.length)break;const St=yt[_t].edge,Ct=yt[wt].edge;mt.push([[Math.round(St.x),vt],[Math.round(Ct.x),vt]])}vt+=ft,yt.forEach((_t=>{_t.edge.x=_t.edge.x+ft*_t.edge.islope})),Et++}return mt})(lt,it,xe);if(rt){for(const dt of lt)t(dt,ct,-rt);(function(dt,ht,ft){const pt=[];dt.forEach((mt=>pt.push(...mt))),t(pt,ht,ft)})(ut,ct,-rt)}return ut}function n(ee,te){var ne;const xe=te.hachureAngle+90;let rt=te.hachureGap;rt<0&&(rt=4*te.strokeWidth),rt=Math.round(Math.max(rt,.1));let it=1;return te.roughness>=1&&(((ne=te.randomizer)===null||ne===void 0?void 0:ne.next())||Math.random())>.7&&(it=rt),s(ee,rt,xe,it||1)}class o{constructor(te){this.helper=te}fillPolygons(te,ne){return this._fillPolygons(te,ne)}_fillPolygons(te,ne){const xe=n(te,ne);return{type:"fillSketch",ops:this.renderLines(xe,ne)}}renderLines(te,ne){const xe=[];for(const rt of te)xe.push(...this.helper.doubleLineOps(rt[0][0],rt[0][1],rt[1][0],rt[1][1],ne));return xe}}function a(ee){const te=ee[0],ne=ee[1];return Math.sqrt(Math.pow(te[0]-ne[0],2)+Math.pow(te[1]-ne[1],2))}class h extends o{fillPolygons(te,ne){let xe=ne.hachureGap;xe<0&&(xe=4*ne.strokeWidth),xe=Math.max(xe,.1);const rt=n(te,Object.assign({},ne,{hachureGap:xe})),it=Math.PI/180*ne.hachureAngle,lt=[],ct=.5*xe*Math.cos(it),ut=.5*xe*Math.sin(it);for(const[dt,ht]of rt)a([dt,ht])&&lt.push([[dt[0]-ct,dt[1]+ut],[...ht]],[[dt[0]+ct,dt[1]-ut],[...ht]]);return{type:"fillSketch",ops:this.renderLines(lt,ne)}}}class r extends o{fillPolygons(te,ne){const xe=this._fillPolygons(te,ne),rt=Object.assign({},ne,{hachureAngle:ne.hachureAngle+90}),it=this._fillPolygons(te,rt);return xe.ops=xe.ops.concat(it.ops),xe}}class i{constructor(te){this.helper=te}fillPolygons(te,ne){const xe=n(te,ne=Object.assign({},ne,{hachureAngle:0}));return this.dotsOnLines(xe,ne)}dotsOnLines(te,ne){const xe=[];let rt=ne.hachureGap;rt<0&&(rt=4*ne.strokeWidth),rt=Math.max(rt,.1);let it=ne.fillWeight;it<0&&(it=ne.strokeWidth/2);const lt=rt/4;for(const ct of te){const ut=a(ct),dt=ut/rt,ht=Math.ceil(dt)-1,ft=ut-ht*rt,pt=(ct[0][0]+ct[1][0])/2-rt/4,mt=Math.min(ct[0][1],ct[1][1]);for(let xt=0;xt<ht;xt++){const yt=mt+ft+xt*rt,vt=pt-lt+2*Math.random()*lt,Et=yt-lt+2*Math.random()*lt,_t=this.helper.ellipse(vt,Et,it,it,ne);xe.push(..._t.ops)}}return{type:"fillSketch",ops:xe}}}class c{constructor(te){this.helper=te}fillPolygons(te,ne){const xe=n(te,ne);return{type:"fillSketch",ops:this.dashedLine(xe,ne)}}dashedLine(te,ne){const xe=ne.dashOffset<0?ne.hachureGap<0?4*ne.strokeWidth:ne.hachureGap:ne.dashOffset,rt=ne.dashGap<0?ne.hachureGap<0?4*ne.strokeWidth:ne.hachureGap:ne.dashGap,it=[];return te.forEach((lt=>{const ct=a(lt),ut=Math.floor(ct/(xe+rt)),dt=(ct+rt-ut*(xe+rt))/2;let ht=lt[0],ft=lt[1];ht[0]>ft[0]&&(ht=lt[1],ft=lt[0]);const pt=Math.atan((ft[1]-ht[1])/(ft[0]-ht[0]));for(let mt=0;mt<ut;mt++){const xt=mt*(xe+rt),yt=xt+xe,vt=[ht[0]+xt*Math.cos(pt)+dt*Math.cos(pt),ht[1]+xt*Math.sin(pt)+dt*Math.sin(pt)],Et=[ht[0]+yt*Math.cos(pt)+dt*Math.cos(pt),ht[1]+yt*Math.sin(pt)+dt*Math.sin(pt)];it.push(...this.helper.doubleLineOps(vt[0],vt[1],Et[0],Et[1],ne))}})),it}}class l{constructor(te){this.helper=te}fillPolygons(te,ne){const xe=ne.hachureGap<0?4*ne.strokeWidth:ne.hachureGap,rt=ne.zigzagOffset<0?xe:ne.zigzagOffset,it=n(te,ne=Object.assign({},ne,{hachureGap:xe+rt}));return{type:"fillSketch",ops:this.zigzagLines(it,rt,ne)}}zigzagLines(te,ne,xe){const rt=[];return te.forEach((it=>{const lt=a(it),ct=Math.round(lt/(2*ne));let ut=it[0],dt=it[1];ut[0]>dt[0]&&(ut=it[1],dt=it[0]);const ht=Math.atan((dt[1]-ut[1])/(dt[0]-ut[0]));for(let ft=0;ft<ct;ft++){const pt=2*ft*ne,mt=2*(ft+1)*ne,xt=Math.sqrt(2*Math.pow(ne,2)),yt=[ut[0]+pt*Math.cos(ht),ut[1]+pt*Math.sin(ht)],vt=[ut[0]+mt*Math.cos(ht),ut[1]+mt*Math.sin(ht)],Et=[yt[0]+xt*Math.cos(ht+Math.PI/4),yt[1]+xt*Math.sin(ht+Math.PI/4)];rt.push(...this.helper.doubleLineOps(yt[0],yt[1],Et[0],Et[1],xe),...this.helper.doubleLineOps(Et[0],Et[1],vt[0],vt[1],xe))}})),rt}}const u={};class p{constructor(te){this.seed=te}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const f=0,d=1,g=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(ee,te){return ee.type===te}function b(ee){const te=[],ne=(function(lt){const ct=new Array;for(;lt!=="";)if(lt.match(/^([ \t\r\n,]+)/))lt=lt.substr(RegExp.$1.length);else if(lt.match(/^([aAcChHlLmMqQsStTvVzZ])/))ct[ct.length]={type:f,text:RegExp.$1},lt=lt.substr(RegExp.$1.length);else{if(!lt.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];ct[ct.length]={type:d,text:`${parseFloat(RegExp.$1)}`},lt=lt.substr(RegExp.$1.length)}return ct[ct.length]={type:g,text:""},ct})(ee);let xe="BOD",rt=0,it=ne[rt];for(;!k(it,g);){let lt=0;const ct=[];if(xe==="BOD"){if(it.text!=="M"&&it.text!=="m")return b("M0,0"+ee);rt++,lt=M[it.text],xe=it.text}else k(it,d)?lt=M[xe]:(rt++,lt=M[it.text],xe=it.text);if(!(rt+lt<ne.length))throw new Error("Path data ended short");for(let ut=rt;ut<rt+lt;ut++){const dt=ne[ut];if(!k(dt,d))throw new Error("Param not a number: "+xe+","+dt.text);ct[ct.length]=+dt.text}if(typeof M[xe]!="number")throw new Error("Bad segment: "+xe);{const ut={key:xe,data:ct};te.push(ut),rt+=lt,it=ne[rt],xe==="M"&&(xe="L"),xe==="m"&&(xe="l")}}return te}function y(ee){let te=0,ne=0,xe=0,rt=0;const it=[];for(const{key:lt,data:ct}of ee)switch(lt){case"M":it.push({key:"M",data:[...ct]}),[te,ne]=ct,[xe,rt]=ct;break;case"m":te+=ct[0],ne+=ct[1],it.push({key:"M",data:[te,ne]}),xe=te,rt=ne;break;case"L":it.push({key:"L",data:[...ct]}),[te,ne]=ct;break;case"l":te+=ct[0],ne+=ct[1],it.push({key:"L",data:[te,ne]});break;case"C":it.push({key:"C",data:[...ct]}),te=ct[4],ne=ct[5];break;case"c":{const ut=ct.map(((dt,ht)=>ht%2?dt+ne:dt+te));it.push({key:"C",data:ut}),te=ut[4],ne=ut[5];break}case"Q":it.push({key:"Q",data:[...ct]}),te=ct[2],ne=ct[3];break;case"q":{const ut=ct.map(((dt,ht)=>ht%2?dt+ne:dt+te));it.push({key:"Q",data:ut}),te=ut[2],ne=ut[3];break}case"A":it.push({key:"A",data:[...ct]}),te=ct[5],ne=ct[6];break;case"a":te+=ct[5],ne+=ct[6],it.push({key:"A",data:[ct[0],ct[1],ct[2],ct[3],ct[4],te,ne]});break;case"H":it.push({key:"H",data:[...ct]}),te=ct[0];break;case"h":te+=ct[0],it.push({key:"H",data:[te]});break;case"V":it.push({key:"V",data:[...ct]}),ne=ct[0];break;case"v":ne+=ct[0],it.push({key:"V",data:[ne]});break;case"S":it.push({key:"S",data:[...ct]}),te=ct[2],ne=ct[3];break;case"s":{const ut=ct.map(((dt,ht)=>ht%2?dt+ne:dt+te));it.push({key:"S",data:ut}),te=ut[2],ne=ut[3];break}case"T":it.push({key:"T",data:[...ct]}),te=ct[0],ne=ct[1];break;case"t":te+=ct[0],ne+=ct[1],it.push({key:"T",data:[te,ne]});break;case"Z":case"z":it.push({key:"Z",data:[]}),te=xe,ne=rt}return it}function m(ee){const te=[];let ne="",xe=0,rt=0,it=0,lt=0,ct=0,ut=0;for(const{key:dt,data:ht}of ee){switch(dt){case"M":te.push({key:"M",data:[...ht]}),[xe,rt]=ht,[it,lt]=ht;break;case"C":te.push({key:"C",data:[...ht]}),xe=ht[4],rt=ht[5],ct=ht[2],ut=ht[3];break;case"L":te.push({key:"L",data:[...ht]}),[xe,rt]=ht;break;case"H":xe=ht[0],te.push({key:"L",data:[xe,rt]});break;case"V":rt=ht[0],te.push({key:"L",data:[xe,rt]});break;case"S":{let ft=0,pt=0;ne==="C"||ne==="S"?(ft=xe+(xe-ct),pt=rt+(rt-ut)):(ft=xe,pt=rt),te.push({key:"C",data:[ft,pt,...ht]}),ct=ht[0],ut=ht[1],xe=ht[2],rt=ht[3];break}case"T":{const[ft,pt]=ht;let mt=0,xt=0;ne==="Q"||ne==="T"?(mt=xe+(xe-ct),xt=rt+(rt-ut)):(mt=xe,xt=rt);const yt=xe+2*(mt-xe)/3,vt=rt+2*(xt-rt)/3,Et=ft+2*(mt-ft)/3,_t=pt+2*(xt-pt)/3;te.push({key:"C",data:[yt,vt,Et,_t,ft,pt]}),ct=mt,ut=xt,xe=ft,rt=pt;break}case"Q":{const[ft,pt,mt,xt]=ht,yt=xe+2*(ft-xe)/3,vt=rt+2*(pt-rt)/3,Et=mt+2*(ft-mt)/3,_t=xt+2*(pt-xt)/3;te.push({key:"C",data:[yt,vt,Et,_t,mt,xt]}),ct=ft,ut=pt,xe=mt,rt=xt;break}case"A":{const ft=Math.abs(ht[0]),pt=Math.abs(ht[1]),mt=ht[2],xt=ht[3],yt=ht[4],vt=ht[5],Et=ht[6];ft===0||pt===0?(te.push({key:"C",data:[xe,rt,vt,Et,vt,Et]}),xe=vt,rt=Et):(xe!==vt||rt!==Et)&&(x(xe,rt,vt,Et,ft,pt,mt,xt,yt).forEach((function(_t){te.push({key:"C",data:_t})})),xe=vt,rt=Et);break}case"Z":te.push({key:"Z",data:[]}),xe=it,rt=lt}ne=dt}return te}function w(ee,te,ne){return[ee*Math.cos(ne)-te*Math.sin(ne),ee*Math.sin(ne)+te*Math.cos(ne)]}function x(ee,te,ne,xe,rt,it,lt,ct,ut,dt){const ht=(ft=lt,Math.PI*ft/180);var ft;let pt=[],mt=0,xt=0,yt=0,vt=0;if(dt)[mt,xt,yt,vt]=dt;else{[ee,te]=w(ee,te,-ht),[ne,xe]=w(ne,xe,-ht);const Gt=(ee-ne)/2,It=(te-xe)/2;let qt=Gt*Gt/(rt*rt)+It*It/(it*it);qt>1&&(qt=Math.sqrt(qt),rt*=qt,it*=qt);const Nt=rt*rt,Dt=it*it,Tt=Nt*Dt-Nt*It*It-Dt*Gt*Gt,Mt=Nt*It*It+Dt*Gt*Gt,$t=(ct===ut?-1:1)*Math.sqrt(Math.abs(Tt/Mt));yt=$t*rt*It/it+(ee+ne)/2,vt=$t*-it*Gt/rt+(te+xe)/2,mt=Math.asin(parseFloat(((te-vt)/it).toFixed(9))),xt=Math.asin(parseFloat(((xe-vt)/it).toFixed(9))),ee<yt&&(mt=Math.PI-mt),ne<yt&&(xt=Math.PI-xt),mt<0&&(mt=2*Math.PI+mt),xt<0&&(xt=2*Math.PI+xt),ut&&mt>xt&&(mt-=2*Math.PI),!ut&&xt>mt&&(xt-=2*Math.PI)}let Et=xt-mt;if(Math.abs(Et)>120*Math.PI/180){const Gt=xt,It=ne,qt=xe;xt=ut&&xt>mt?mt+120*Math.PI/180*1:mt+120*Math.PI/180*-1,pt=x(ne=yt+rt*Math.cos(xt),xe=vt+it*Math.sin(xt),It,qt,rt,it,lt,0,ut,[xt,Gt,yt,vt])}Et=xt-mt;const _t=Math.cos(mt),wt=Math.sin(mt),St=Math.cos(xt),Ct=Math.sin(xt),jt=Math.tan(Et/4),Rt=4/3*rt*jt,Pt=4/3*it*jt,Ot=[ee,te],Ft=[ee+Rt*wt,te-Pt*_t],Lt=[ne+Rt*Ct,xe-Pt*St],Bt=[ne,xe];if(Ft[0]=2*Ot[0]-Ft[0],Ft[1]=2*Ot[1]-Ft[1],dt)return[Ft,Lt,Bt].concat(pt);{pt=[Ft,Lt,Bt].concat(pt);const Gt=[];for(let It=0;It<pt.length;It+=3){const qt=w(pt[It][0],pt[It][1],ht),Nt=w(pt[It+1][0],pt[It+1][1],ht),Dt=w(pt[It+2][0],pt[It+2][1],ht);Gt.push([qt[0],qt[1],Nt[0],Nt[1],Dt[0],Dt[1]])}return Gt}}const P={randOffset:function(ee,te){return G(ee,te)},randOffsetWithRange:function(ee,te,ne){return E(ee,te,ne)},ellipse:function(ee,te,ne,xe,rt){const it=T(ne,xe,rt);return D(ee,te,rt,it).opset},doubleLineOps:function(ee,te,ne,xe,rt){return $(ee,te,ne,xe,rt,!0)}};function v(ee,te,ne,xe,rt){return{type:"path",ops:$(ee,te,ne,xe,rt)}}function S(ee,te,ne){const xe=(ee||[]).length;if(xe>2){const rt=[];for(let it=0;it<xe-1;it++)rt.push(...$(ee[it][0],ee[it][1],ee[it+1][0],ee[it+1][1],ne));return te&&rt.push(...$(ee[xe-1][0],ee[xe-1][1],ee[0][0],ee[0][1],ne)),{type:"path",ops:rt}}return xe===2?v(ee[0][0],ee[0][1],ee[1][0],ee[1][1],ne):{type:"path",ops:[]}}function O(ee,te,ne,xe,rt){return(function(it,lt){return S(it,!0,lt)})([[ee,te],[ee+ne,te],[ee+ne,te+xe],[ee,te+xe]],rt)}function L(ee,te){if(ee.length){const ne=typeof ee[0][0]=="number"?[ee]:ee,xe=j(ne[0],1*(1+.2*te.roughness),te),rt=te.disableMultiStroke?[]:j(ne[0],1.5*(1+.22*te.roughness),z(te));for(let it=1;it<ne.length;it++){const lt=ne[it];if(lt.length){const ct=j(lt,1*(1+.2*te.roughness),te),ut=te.disableMultiStroke?[]:j(lt,1.5*(1+.22*te.roughness),z(te));for(const dt of ct)dt.op!=="move"&&xe.push(dt);for(const dt of ut)dt.op!=="move"&&rt.push(dt)}}return{type:"path",ops:xe.concat(rt)}}return{type:"path",ops:[]}}function T(ee,te,ne){const xe=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(ee/2,2)+Math.pow(te/2,2))/2)),rt=Math.ceil(Math.max(ne.curveStepCount,ne.curveStepCount/Math.sqrt(200)*xe)),it=2*Math.PI/rt;let lt=Math.abs(ee/2),ct=Math.abs(te/2);const ut=1-ne.curveFitting;return lt+=G(lt*ut,ne),ct+=G(ct*ut,ne),{increment:it,rx:lt,ry:ct}}function D(ee,te,ne,xe){const[rt,it]=F(xe.increment,ee,te,xe.rx,xe.ry,1,xe.increment*E(.1,E(.4,1,ne),ne),ne);let lt=q(rt,null,ne);if(!ne.disableMultiStroke&&ne.roughness!==0){const[ct]=F(xe.increment,ee,te,xe.rx,xe.ry,1.5,0,ne),ut=q(ct,null,ne);lt=lt.concat(ut)}return{estimatedPoints:it,opset:{type:"path",ops:lt}}}function A(ee,te,ne,xe,rt,it,lt,ct,ut){const dt=ee,ht=te;let ft=Math.abs(ne/2),pt=Math.abs(xe/2);ft+=G(.01*ft,ut),pt+=G(.01*pt,ut);let mt=rt,xt=it;for(;mt<0;)mt+=2*Math.PI,xt+=2*Math.PI;xt-mt>2*Math.PI&&(mt=0,xt=2*Math.PI);const yt=2*Math.PI/ut.curveStepCount,vt=Math.min(yt/2,(xt-mt)/2),Et=V(vt,dt,ht,ft,pt,mt,xt,1,ut);if(!ut.disableMultiStroke){const _t=V(vt,dt,ht,ft,pt,mt,xt,1.5,ut);Et.push(..._t)}return lt&&(ct?Et.push(...$(dt,ht,dt+ft*Math.cos(mt),ht+pt*Math.sin(mt),ut),...$(dt,ht,dt+ft*Math.cos(xt),ht+pt*Math.sin(xt),ut)):Et.push({op:"lineTo",data:[dt,ht]},{op:"lineTo",data:[dt+ft*Math.cos(mt),ht+pt*Math.sin(mt)]})),{type:"path",ops:Et}}function _(ee,te){const ne=m(y(b(ee))),xe=[];let rt=[0,0],it=[0,0];for(const{key:lt,data:ct}of ne)switch(lt){case"M":it=[ct[0],ct[1]],rt=[ct[0],ct[1]];break;case"L":xe.push(...$(it[0],it[1],ct[0],ct[1],te)),it=[ct[0],ct[1]];break;case"C":{const[ut,dt,ht,ft,pt,mt]=ct;xe.push(...Z(ut,dt,ht,ft,pt,mt,it,te)),it=[pt,mt];break}case"Z":xe.push(...$(it[0],it[1],rt[0],rt[1],te)),it=[rt[0],rt[1]]}return{type:"path",ops:xe}}function I(ee,te){const ne=[];for(const xe of ee)if(xe.length){const rt=te.maxRandomnessOffset||0,it=xe.length;if(it>2){ne.push({op:"move",data:[xe[0][0]+G(rt,te),xe[0][1]+G(rt,te)]});for(let lt=1;lt<it;lt++)ne.push({op:"lineTo",data:[xe[lt][0]+G(rt,te),xe[lt][1]+G(rt,te)]})}}return{type:"fillPath",ops:ne}}function C(ee,te){return(function(ne,xe){let rt=ne.fillStyle||"hachure";if(!u[rt])switch(rt){case"zigzag":u[rt]||(u[rt]=new h(xe));break;case"cross-hatch":u[rt]||(u[rt]=new r(xe));break;case"dots":u[rt]||(u[rt]=new i(xe));break;case"dashed":u[rt]||(u[rt]=new c(xe));break;case"zigzag-line":u[rt]||(u[rt]=new l(xe));break;default:rt="hachure",u[rt]||(u[rt]=new o(xe))}return u[rt]})(te,P).fillPolygons(ee,te)}function z(ee){const te=Object.assign({},ee);return te.randomizer=void 0,ee.seed&&(te.seed=ee.seed+1),te}function W(ee){return ee.randomizer||(ee.randomizer=new p(ee.seed||0)),ee.randomizer.next()}function E(ee,te,ne,xe=1){return ne.roughness*xe*(W(ne)*(te-ee)+ee)}function G(ee,te,ne=1){return E(-ee,ee,te,ne)}function $(ee,te,ne,xe,rt,it=!1){const lt=it?rt.disableMultiStrokeFill:rt.disableMultiStroke,ct=R(ee,te,ne,xe,rt,!0,!1);if(lt)return ct;const ut=R(ee,te,ne,xe,rt,!0,!0);return ct.concat(ut)}function R(ee,te,ne,xe,rt,it,lt){const ct=Math.pow(ee-ne,2)+Math.pow(te-xe,2),ut=Math.sqrt(ct);let dt=1;dt=ut<200?1:ut>500?.4:-.0016668*ut+1.233334;let ht=rt.maxRandomnessOffset||0;ht*ht*100>ct&&(ht=ut/10);const ft=ht/2,pt=.2+.2*W(rt);let mt=rt.bowing*rt.maxRandomnessOffset*(xe-te)/200,xt=rt.bowing*rt.maxRandomnessOffset*(ee-ne)/200;mt=G(mt,rt,dt),xt=G(xt,rt,dt);const yt=[],vt=()=>G(ft,rt,dt),Et=()=>G(ht,rt,dt),_t=rt.preserveVertices;return lt?yt.push({op:"move",data:[ee+(_t?0:vt()),te+(_t?0:vt())]}):yt.push({op:"move",data:[ee+(_t?0:G(ht,rt,dt)),te+(_t?0:G(ht,rt,dt))]}),lt?yt.push({op:"bcurveTo",data:[mt+ee+(ne-ee)*pt+vt(),xt+te+(xe-te)*pt+vt(),mt+ee+2*(ne-ee)*pt+vt(),xt+te+2*(xe-te)*pt+vt(),ne+(_t?0:vt()),xe+(_t?0:vt())]}):yt.push({op:"bcurveTo",data:[mt+ee+(ne-ee)*pt+Et(),xt+te+(xe-te)*pt+Et(),mt+ee+2*(ne-ee)*pt+Et(),xt+te+2*(xe-te)*pt+Et(),ne+(_t?0:Et()),xe+(_t?0:Et())]}),yt}function j(ee,te,ne){if(!ee.length)return[];const xe=[];xe.push([ee[0][0]+G(te,ne),ee[0][1]+G(te,ne)]),xe.push([ee[0][0]+G(te,ne),ee[0][1]+G(te,ne)]);for(let rt=1;rt<ee.length;rt++)xe.push([ee[rt][0]+G(te,ne),ee[rt][1]+G(te,ne)]),rt===ee.length-1&&xe.push([ee[rt][0]+G(te,ne),ee[rt][1]+G(te,ne)]);return q(xe,null,ne)}function q(ee,te,ne){const xe=ee.length,rt=[];if(xe>3){const it=[],lt=1-ne.curveTightness;rt.push({op:"move",data:[ee[1][0],ee[1][1]]});for(let ct=1;ct+2<xe;ct++){const ut=ee[ct];it[0]=[ut[0],ut[1]],it[1]=[ut[0]+(lt*ee[ct+1][0]-lt*ee[ct-1][0])/6,ut[1]+(lt*ee[ct+1][1]-lt*ee[ct-1][1])/6],it[2]=[ee[ct+1][0]+(lt*ee[ct][0]-lt*ee[ct+2][0])/6,ee[ct+1][1]+(lt*ee[ct][1]-lt*ee[ct+2][1])/6],it[3]=[ee[ct+1][0],ee[ct+1][1]],rt.push({op:"bcurveTo",data:[it[1][0],it[1][1],it[2][0],it[2][1],it[3][0],it[3][1]]})}}else xe===3?(rt.push({op:"move",data:[ee[1][0],ee[1][1]]}),rt.push({op:"bcurveTo",data:[ee[1][0],ee[1][1],ee[2][0],ee[2][1],ee[2][0],ee[2][1]]})):xe===2&&rt.push(...R(ee[0][0],ee[0][1],ee[1][0],ee[1][1],ne,!0,!0));return rt}function F(ee,te,ne,xe,rt,it,lt,ct){const ut=[],dt=[];if(ct.roughness===0){ee/=4,dt.push([te+xe*Math.cos(-ee),ne+rt*Math.sin(-ee)]);for(let ht=0;ht<=2*Math.PI;ht+=ee){const ft=[te+xe*Math.cos(ht),ne+rt*Math.sin(ht)];ut.push(ft),dt.push(ft)}dt.push([te+xe*Math.cos(0),ne+rt*Math.sin(0)]),dt.push([te+xe*Math.cos(ee),ne+rt*Math.sin(ee)])}else{const ht=G(.5,ct)-Math.PI/2;dt.push([G(it,ct)+te+.9*xe*Math.cos(ht-ee),G(it,ct)+ne+.9*rt*Math.sin(ht-ee)]);const ft=2*Math.PI+ht-.01;for(let pt=ht;pt<ft;pt+=ee){const mt=[G(it,ct)+te+xe*Math.cos(pt),G(it,ct)+ne+rt*Math.sin(pt)];ut.push(mt),dt.push(mt)}dt.push([G(it,ct)+te+xe*Math.cos(ht+2*Math.PI+.5*lt),G(it,ct)+ne+rt*Math.sin(ht+2*Math.PI+.5*lt)]),dt.push([G(it,ct)+te+.98*xe*Math.cos(ht+lt),G(it,ct)+ne+.98*rt*Math.sin(ht+lt)]),dt.push([G(it,ct)+te+.9*xe*Math.cos(ht+.5*lt),G(it,ct)+ne+.9*rt*Math.sin(ht+.5*lt)])}return[dt,ut]}function V(ee,te,ne,xe,rt,it,lt,ct,ut){const dt=it+G(.1,ut),ht=[];ht.push([G(ct,ut)+te+.9*xe*Math.cos(dt-ee),G(ct,ut)+ne+.9*rt*Math.sin(dt-ee)]);for(let ft=dt;ft<=lt;ft+=ee)ht.push([G(ct,ut)+te+xe*Math.cos(ft),G(ct,ut)+ne+rt*Math.sin(ft)]);return ht.push([te+xe*Math.cos(lt),ne+rt*Math.sin(lt)]),ht.push([te+xe*Math.cos(lt),ne+rt*Math.sin(lt)]),q(ht,null,ut)}function Z(ee,te,ne,xe,rt,it,lt,ct){const ut=[],dt=[ct.maxRandomnessOffset||1,(ct.maxRandomnessOffset||1)+.3];let ht=[0,0];const ft=ct.disableMultiStroke?1:2,pt=ct.preserveVertices;for(let mt=0;mt<ft;mt++)mt===0?ut.push({op:"move",data:[lt[0],lt[1]]}):ut.push({op:"move",data:[lt[0]+(pt?0:G(dt[0],ct)),lt[1]+(pt?0:G(dt[0],ct))]}),ht=pt?[rt,it]:[rt+G(dt[mt],ct),it+G(dt[mt],ct)],ut.push({op:"bcurveTo",data:[ee+G(dt[mt],ct),te+G(dt[mt],ct),ne+G(dt[mt],ct),xe+G(dt[mt],ct),ht[0],ht[1]]});return ut}function Q(ee){return[...ee]}function H(ee,te=0){const ne=ee.length;if(ne<3)throw new Error("A curve must have at least three points.");const xe=[];if(ne===3)xe.push(Q(ee[0]),Q(ee[1]),Q(ee[2]),Q(ee[2]));else{const rt=[];rt.push(ee[0],ee[0]);for(let ct=1;ct<ee.length;ct++)rt.push(ee[ct]),ct===ee.length-1&&rt.push(ee[ct]);const it=[],lt=1-te;xe.push(Q(rt[0]));for(let ct=1;ct+2<rt.length;ct++){const ut=rt[ct];it[0]=[ut[0],ut[1]],it[1]=[ut[0]+(lt*rt[ct+1][0]-lt*rt[ct-1][0])/6,ut[1]+(lt*rt[ct+1][1]-lt*rt[ct-1][1])/6],it[2]=[rt[ct+1][0]+(lt*rt[ct][0]-lt*rt[ct+2][0])/6,rt[ct+1][1]+(lt*rt[ct][1]-lt*rt[ct+2][1])/6],it[3]=[rt[ct+1][0],rt[ct+1][1]],xe.push(it[1],it[2],it[3])}}return xe}function N(ee,te){return Math.pow(ee[0]-te[0],2)+Math.pow(ee[1]-te[1],2)}function B(ee,te,ne){const xe=N(te,ne);if(xe===0)return N(ee,te);let rt=((ee[0]-te[0])*(ne[0]-te[0])+(ee[1]-te[1])*(ne[1]-te[1]))/xe;return rt=Math.max(0,Math.min(1,rt)),N(ee,J(te,ne,rt))}function J(ee,te,ne){return[ee[0]+(te[0]-ee[0])*ne,ee[1]+(te[1]-ee[1])*ne]}function K(ee,te,ne,xe){const rt=xe||[];if((function(ct,ut){const dt=ct[ut+0],ht=ct[ut+1],ft=ct[ut+2],pt=ct[ut+3];let mt=3*ht[0]-2*dt[0]-pt[0];mt*=mt;let xt=3*ht[1]-2*dt[1]-pt[1];xt*=xt;let yt=3*ft[0]-2*pt[0]-dt[0];yt*=yt;let vt=3*ft[1]-2*pt[1]-dt[1];return vt*=vt,mt<yt&&(mt=yt),xt<vt&&(xt=vt),mt+xt})(ee,te)<ne){const ct=ee[te+0];rt.length?(it=rt[rt.length-1],lt=ct,Math.sqrt(N(it,lt))>1&&rt.push(ct)):rt.push(ct),rt.push(ee[te+3])}else{const ut=ee[te+0],dt=ee[te+1],ht=ee[te+2],ft=ee[te+3],pt=J(ut,dt,.5),mt=J(dt,ht,.5),xt=J(ht,ft,.5),yt=J(pt,mt,.5),vt=J(mt,xt,.5),Et=J(yt,vt,.5);K([ut,pt,yt,Et],0,ne,rt),K([Et,vt,xt,ft],0,ne,rt)}var it,lt;return rt}function U(ee,te){return X(ee,0,ee.length,te)}function X(ee,te,ne,xe,rt){const it=rt||[],lt=ee[te],ct=ee[ne-1];let ut=0,dt=1;for(let ht=te+1;ht<ne-1;++ht){const ft=B(ee[ht],lt,ct);ft>ut&&(ut=ft,dt=ht)}return Math.sqrt(ut)>xe?(X(ee,te,dt+1,xe,it),X(ee,dt,ne,xe,it)):(it.length||it.push(lt),it.push(ct)),it}function Y(ee,te=.15,ne){const xe=[],rt=(ee.length-1)/3;for(let it=0;it<rt;it++)K(ee,3*it,te,xe);return ne&&ne>0?X(xe,0,xe.length,ne):xe}const tt="none";class et{constructor(te){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=te||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(te){return te?Object.assign({},this.defaultOptions,te):this.defaultOptions}_d(te,ne,xe){return{shape:te,sets:ne||[],options:xe||this.defaultOptions}}line(te,ne,xe,rt,it){const lt=this._o(it);return this._d("line",[v(te,ne,xe,rt,lt)],lt)}rectangle(te,ne,xe,rt,it){const lt=this._o(it),ct=[],ut=O(te,ne,xe,rt,lt);if(lt.fill){const dt=[[te,ne],[te+xe,ne],[te+xe,ne+rt],[te,ne+rt]];lt.fillStyle==="solid"?ct.push(I([dt],lt)):ct.push(C([dt],lt))}return lt.stroke!==tt&&ct.push(ut),this._d("rectangle",ct,lt)}ellipse(te,ne,xe,rt,it){const lt=this._o(it),ct=[],ut=T(xe,rt,lt),dt=D(te,ne,lt,ut);if(lt.fill)if(lt.fillStyle==="solid"){const ht=D(te,ne,lt,ut).opset;ht.type="fillPath",ct.push(ht)}else ct.push(C([dt.estimatedPoints],lt));return lt.stroke!==tt&&ct.push(dt.opset),this._d("ellipse",ct,lt)}circle(te,ne,xe,rt){const it=this.ellipse(te,ne,xe,xe,rt);return it.shape="circle",it}linearPath(te,ne){const xe=this._o(ne);return this._d("linearPath",[S(te,!1,xe)],xe)}arc(te,ne,xe,rt,it,lt,ct=!1,ut){const dt=this._o(ut),ht=[],ft=A(te,ne,xe,rt,it,lt,ct,!0,dt);if(ct&&dt.fill)if(dt.fillStyle==="solid"){const pt=Object.assign({},dt);pt.disableMultiStroke=!0;const mt=A(te,ne,xe,rt,it,lt,!0,!1,pt);mt.type="fillPath",ht.push(mt)}else ht.push((function(pt,mt,xt,yt,vt,Et,_t){const wt=pt,St=mt;let Ct=Math.abs(xt/2),jt=Math.abs(yt/2);Ct+=G(.01*Ct,_t),jt+=G(.01*jt,_t);let Rt=vt,Pt=Et;for(;Rt<0;)Rt+=2*Math.PI,Pt+=2*Math.PI;Pt-Rt>2*Math.PI&&(Rt=0,Pt=2*Math.PI);const Ot=(Pt-Rt)/_t.curveStepCount,Ft=[];for(let Lt=Rt;Lt<=Pt;Lt+=Ot)Ft.push([wt+Ct*Math.cos(Lt),St+jt*Math.sin(Lt)]);return Ft.push([wt+Ct*Math.cos(Pt),St+jt*Math.sin(Pt)]),Ft.push([wt,St]),C([Ft],_t)})(te,ne,xe,rt,it,lt,dt));return dt.stroke!==tt&&ht.push(ft),this._d("arc",ht,dt)}curve(te,ne){const xe=this._o(ne),rt=[],it=L(te,xe);if(xe.fill&&xe.fill!==tt)if(xe.fillStyle==="solid"){const lt=L(te,Object.assign(Object.assign({},xe),{disableMultiStroke:!0,roughness:xe.roughness?xe.roughness+xe.fillShapeRoughnessGain:0}));rt.push({type:"fillPath",ops:this._mergedShape(lt.ops)})}else{const lt=[],ct=te;if(ct.length){const ut=typeof ct[0][0]=="number"?[ct]:ct;for(const dt of ut)dt.length<3?lt.push(...dt):dt.length===3?lt.push(...Y(H([dt[0],dt[0],dt[1],dt[2]]),10,(1+xe.roughness)/2)):lt.push(...Y(H(dt),10,(1+xe.roughness)/2))}lt.length&&rt.push(C([lt],xe))}return xe.stroke!==tt&&rt.push(it),this._d("curve",rt,xe)}polygon(te,ne){const xe=this._o(ne),rt=[],it=S(te,!0,xe);return xe.fill&&(xe.fillStyle==="solid"?rt.push(I([te],xe)):rt.push(C([te],xe))),xe.stroke!==tt&&rt.push(it),this._d("polygon",rt,xe)}path(te,ne){const xe=this._o(ne),rt=[];if(!te)return this._d("path",rt,xe);te=(te||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const it=xe.fill&&xe.fill!=="transparent"&&xe.fill!==tt,lt=xe.stroke!==tt,ct=!!(xe.simplification&&xe.simplification<1),ut=(function(ht,ft,pt){const mt=m(y(b(ht))),xt=[];let yt=[],vt=[0,0],Et=[];const _t=()=>{Et.length>=4&&yt.push(...Y(Et,ft)),Et=[]},wt=()=>{_t(),yt.length&&(xt.push(yt),yt=[])};for(const{key:Ct,data:jt}of mt)switch(Ct){case"M":wt(),vt=[jt[0],jt[1]],yt.push(vt);break;case"L":_t(),yt.push([jt[0],jt[1]]);break;case"C":if(!Et.length){const Rt=yt.length?yt[yt.length-1]:vt;Et.push([Rt[0],Rt[1]])}Et.push([jt[0],jt[1]]),Et.push([jt[2],jt[3]]),Et.push([jt[4],jt[5]]);break;case"Z":_t(),yt.push([vt[0],vt[1]])}if(wt(),!pt)return xt;const St=[];for(const Ct of xt){const jt=U(Ct,pt);jt.length&&St.push(jt)}return St})(te,1,ct?4-4*(xe.simplification||1):(1+xe.roughness)/2),dt=_(te,xe);if(it)if(xe.fillStyle==="solid")if(ut.length===1){const ht=_(te,Object.assign(Object.assign({},xe),{disableMultiStroke:!0,roughness:xe.roughness?xe.roughness+xe.fillShapeRoughnessGain:0}));rt.push({type:"fillPath",ops:this._mergedShape(ht.ops)})}else rt.push(I(ut,xe));else rt.push(C(ut,xe));return lt&&(ct?ut.forEach((ht=>{rt.push(S(ht,!1,xe))})):rt.push(dt)),this._d("path",rt,xe)}opsToPath(te,ne){let xe="";for(const rt of te.ops){const it=typeof ne=="number"&&ne>=0?rt.data.map((lt=>+lt.toFixed(ne))):rt.data;switch(rt.op){case"move":xe+=`M${it[0]} ${it[1]} `;break;case"bcurveTo":xe+=`C${it[0]} ${it[1]}, ${it[2]} ${it[3]}, ${it[4]} ${it[5]} `;break;case"lineTo":xe+=`L${it[0]} ${it[1]} `}}return xe.trim()}toPaths(te){const ne=te.sets||[],xe=te.options||this.defaultOptions,rt=[];for(const it of ne){let lt=null;switch(it.type){case"path":lt={d:this.opsToPath(it),stroke:xe.stroke,strokeWidth:xe.strokeWidth,fill:tt};break;case"fillPath":lt={d:this.opsToPath(it),stroke:tt,strokeWidth:0,fill:xe.fill||tt};break;case"fillSketch":lt=this.fillSketch(it,xe)}lt&&rt.push(lt)}return rt}fillSketch(te,ne){let xe=ne.fillWeight;return xe<0&&(xe=ne.strokeWidth/2),{d:this.opsToPath(te),stroke:ne.fill||tt,strokeWidth:xe,fill:tt}}_mergedShape(te){return te.filter(((ne,xe)=>xe===0||ne.op!=="move"))}}class st{constructor(te,ne){this.canvas=te,this.ctx=this.canvas.getContext("2d"),this.gen=new et(ne)}draw(te){const ne=te.sets||[],xe=te.options||this.getDefaultOptions(),rt=this.ctx,it=te.options.fixedDecimalPlaceDigits;for(const lt of ne)switch(lt.type){case"path":rt.save(),rt.strokeStyle=xe.stroke==="none"?"transparent":xe.stroke,rt.lineWidth=xe.strokeWidth,xe.strokeLineDash&&rt.setLineDash(xe.strokeLineDash),xe.strokeLineDashOffset&&(rt.lineDashOffset=xe.strokeLineDashOffset),this._drawToContext(rt,lt,it),rt.restore();break;case"fillPath":{rt.save(),rt.fillStyle=xe.fill||"";const ct=te.shape==="curve"||te.shape==="polygon"||te.shape==="path"?"evenodd":"nonzero";this._drawToContext(rt,lt,it,ct),rt.restore();break}case"fillSketch":this.fillSketch(rt,lt,xe)}}fillSketch(te,ne,xe){let rt=xe.fillWeight;rt<0&&(rt=xe.strokeWidth/2),te.save(),xe.fillLineDash&&te.setLineDash(xe.fillLineDash),xe.fillLineDashOffset&&(te.lineDashOffset=xe.fillLineDashOffset),te.strokeStyle=xe.fill||"",te.lineWidth=rt,this._drawToContext(te,ne,xe.fixedDecimalPlaceDigits),te.restore()}_drawToContext(te,ne,xe,rt="nonzero"){te.beginPath();for(const it of ne.ops){const lt=typeof xe=="number"&&xe>=0?it.data.map((ct=>+ct.toFixed(xe))):it.data;switch(it.op){case"move":te.moveTo(lt[0],lt[1]);break;case"bcurveTo":te.bezierCurveTo(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]);break;case"lineTo":te.lineTo(lt[0],lt[1])}}ne.type==="fillPath"?te.fill(rt):te.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(te,ne,xe,rt,it){const lt=this.gen.line(te,ne,xe,rt,it);return this.draw(lt),lt}rectangle(te,ne,xe,rt,it){const lt=this.gen.rectangle(te,ne,xe,rt,it);return this.draw(lt),lt}ellipse(te,ne,xe,rt,it){const lt=this.gen.ellipse(te,ne,xe,rt,it);return this.draw(lt),lt}circle(te,ne,xe,rt){const it=this.gen.circle(te,ne,xe,rt);return this.draw(it),it}linearPath(te,ne){const xe=this.gen.linearPath(te,ne);return this.draw(xe),xe}polygon(te,ne){const xe=this.gen.polygon(te,ne);return this.draw(xe),xe}arc(te,ne,xe,rt,it,lt,ct=!1,ut){const dt=this.gen.arc(te,ne,xe,rt,it,lt,ct,ut);return this.draw(dt),dt}curve(te,ne){const xe=this.gen.curve(te,ne);return this.draw(xe),xe}path(te,ne){const xe=this.gen.path(te,ne);return this.draw(xe),xe}}const nt="http://www.w3.org/2000/svg";class ot{constructor(te,ne){this.svg=te,this.gen=new et(ne)}draw(te){const ne=te.sets||[],xe=te.options||this.getDefaultOptions(),rt=this.svg.ownerDocument||window.document,it=rt.createElementNS(nt,"g"),lt=te.options.fixedDecimalPlaceDigits;for(const ct of ne){let ut=null;switch(ct.type){case"path":ut=rt.createElementNS(nt,"path"),ut.setAttribute("d",this.opsToPath(ct,lt)),ut.setAttribute("stroke",xe.stroke),ut.setAttribute("stroke-width",xe.strokeWidth+""),ut.setAttribute("fill","none"),xe.strokeLineDash&&ut.setAttribute("stroke-dasharray",xe.strokeLineDash.join(" ").trim()),xe.strokeLineDashOffset&&ut.setAttribute("stroke-dashoffset",`${xe.strokeLineDashOffset}`);break;case"fillPath":ut=rt.createElementNS(nt,"path"),ut.setAttribute("d",this.opsToPath(ct,lt)),ut.setAttribute("stroke","none"),ut.setAttribute("stroke-width","0"),ut.setAttribute("fill",xe.fill||""),te.shape!=="curve"&&te.shape!=="polygon"||ut.setAttribute("fill-rule","evenodd");break;case"fillSketch":ut=this.fillSketch(rt,ct,xe)}ut&&it.appendChild(ut)}return it}fillSketch(te,ne,xe){let rt=xe.fillWeight;rt<0&&(rt=xe.strokeWidth/2);const it=te.createElementNS(nt,"path");return it.setAttribute("d",this.opsToPath(ne,xe.fixedDecimalPlaceDigits)),it.setAttribute("stroke",xe.fill||""),it.setAttribute("stroke-width",rt+""),it.setAttribute("fill","none"),xe.fillLineDash&&it.setAttribute("stroke-dasharray",xe.fillLineDash.join(" ").trim()),xe.fillLineDashOffset&&it.setAttribute("stroke-dashoffset",`${xe.fillLineDashOffset}`),it}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(te,ne){return this.gen.opsToPath(te,ne)}line(te,ne,xe,rt,it){const lt=this.gen.line(te,ne,xe,rt,it);return this.draw(lt)}rectangle(te,ne,xe,rt,it){const lt=this.gen.rectangle(te,ne,xe,rt,it);return this.draw(lt)}ellipse(te,ne,xe,rt,it){const lt=this.gen.ellipse(te,ne,xe,rt,it);return this.draw(lt)}circle(te,ne,xe,rt){const it=this.gen.circle(te,ne,xe,rt);return this.draw(it)}linearPath(te,ne){const xe=this.gen.linearPath(te,ne);return this.draw(xe)}polygon(te,ne){const xe=this.gen.polygon(te,ne);return this.draw(xe)}arc(te,ne,xe,rt,it,lt,ct=!1,ut){const dt=this.gen.arc(te,ne,xe,rt,it,lt,ct,ut);return this.draw(dt)}curve(te,ne){const xe=this.gen.curve(te,ne);return this.draw(xe)}path(te,ne){const xe=this.gen.path(te,ne);return this.draw(xe)}}var at={canvas:(ee,te)=>new st(ee,te),svg:(ee,te)=>new ot(ee,te),generator:ee=>new et(ee),newSeed:()=>et.newSeed()},labelHelper=__name(async(ee,te,ne)=>{let xe;const rt=te.useHtmlLabels||evaluate(getConfig2()?.htmlLabels);ne?xe=ne:xe="node default";const it=ee.insert("g").attr("class",xe).attr("id",te.domId||te.id),lt=it.insert("g").attr("class","label").attr("style",handleUndefinedAttr(te.labelStyle));let ct;te.label===void 0?ct="":ct=typeof te.label=="string"?te.label:te.label[0];const ut=await createText(lt,sanitizeText(decodeEntities(ct),getConfig2()),{useHtmlLabels:rt,width:te.width||getConfig2().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:te.labelStyle,addSvgBackground:!!te.icon||!!te.img});let dt=ut.getBBox();const ht=(te?.padding??0)/2;if(rt){const ft=ut.children[0],pt=select(ut),mt=ft.getElementsByTagName("img");if(mt){const xt=ct.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...mt].map(yt=>new Promise(vt=>{function Et(){if(yt.style.display="flex",yt.style.flexDirection="column",xt){const _t=getConfig2().fontSize?getConfig2().fontSize:window.getComputedStyle(document.body).fontSize,wt=5,[St=defaultConfig_default.fontSize]=parseFontSize(_t),Ct=St*wt+"px";yt.style.minWidth=Ct,yt.style.maxWidth=Ct}else yt.style.width="100%";vt(yt)}__name(Et,"setupImage"),setTimeout(()=>{yt.complete&&Et()}),yt.addEventListener("error",Et),yt.addEventListener("load",Et)})))}dt=ft.getBoundingClientRect(),pt.attr("width",dt.width),pt.attr("height",dt.height)}return rt?lt.attr("transform","translate("+-dt.width/2+", "+-dt.height/2+")"):lt.attr("transform","translate(0, "+-dt.height/2+")"),te.centerLabel&&lt.attr("transform","translate("+-dt.width/2+", "+-dt.height/2+")"),lt.insert("rect",":first-child"),{shapeSvg:it,bbox:dt,halfPadding:ht,label:lt}},"labelHelper"),insertLabel=__name(async(ee,te,ne)=>{const xe=ne.useHtmlLabels||evaluate(getConfig2()?.flowchart?.htmlLabels),rt=ee.insert("g").attr("class","label").attr("style",ne.labelStyle||""),it=await createText(rt,sanitizeText(decodeEntities(te),getConfig2()),{useHtmlLabels:xe,width:ne.width||getConfig2()?.flowchart?.wrappingWidth,style:ne.labelStyle,addSvgBackground:!!ne.icon||!!ne.img});let lt=it.getBBox();const ct=ne.padding/2;if(evaluate(getConfig2()?.flowchart?.htmlLabels)){const ut=it.children[0],dt=select(it);lt=ut.getBoundingClientRect(),dt.attr("width",lt.width),dt.attr("height",lt.height)}return xe?rt.attr("transform","translate("+-lt.width/2+", "+-lt.height/2+")"):rt.attr("transform","translate(0, "+-lt.height/2+")"),ne.centerLabel&&rt.attr("transform","translate("+-lt.width/2+", "+-lt.height/2+")"),rt.insert("rect",":first-child"),{shapeSvg:ee,bbox:lt,halfPadding:ct,label:rt}},"insertLabel"),updateNodeBounds=__name((ee,te)=>{const ne=te.node().getBBox();ee.width=ne.width,ee.height=ne.height},"updateNodeBounds"),getNodeClasses=__name((ee,te)=>(ee.look==="handDrawn"?"rough-node":"node")+" "+ee.cssClasses+" "+(te||""),"getNodeClasses");function createPathFromPoints(ee){const te=ee.map((ne,xe)=>`${xe===0?"M":"L"}${ne.x},${ne.y}`);return te.push("Z"),te.join(" ")}__name(createPathFromPoints,"createPathFromPoints");function generateFullSineWavePoints(ee,te,ne,xe,rt,it){const lt=[],ut=ne-ee,dt=xe-te,ht=ut/it,ft=2*Math.PI/ht,pt=te+dt/2;for(let mt=0;mt<=50;mt++){const xt=mt/50,yt=ee+xt*ut,vt=pt+rt*Math.sin(ft*(yt-ee));lt.push({x:yt,y:vt})}return lt}__name(generateFullSineWavePoints,"generateFullSineWavePoints");function generateCirclePoints(ee,te,ne,xe,rt,it){const lt=[],ct=rt*Math.PI/180,ht=(it*Math.PI/180-ct)/(xe-1);for(let ft=0;ft<xe;ft++){const pt=ct+ft*ht,mt=ee+ne*Math.cos(pt),xt=te+ne*Math.sin(pt);lt.push({x:-mt,y:-xt})}return lt}__name(generateCirclePoints,"generateCirclePoints");var intersectRect=__name((ee,te)=>{var ne=ee.x,xe=ee.y,rt=te.x-ne,it=te.y-xe,lt=ee.width/2,ct=ee.height/2,ut,dt;return Math.abs(it)*lt>Math.abs(rt)*ct?(it<0&&(ct=-ct),ut=it===0?0:ct*rt/it,dt=ct):(rt<0&&(lt=-lt),ut=lt,dt=rt===0?0:lt*it/rt),{x:ne+ut,y:xe+dt}},"intersectRect"),intersect_rect_default=intersectRect;function applyStyle(ee,te){te&&ee.attr("style",te)}__name(applyStyle,"applyStyle");async function addHtmlLabel(ee){const te=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),ne=te.append("xhtml:div"),xe=getConfig2();let rt=ee.label;ee.label&&hasKatex(ee.label)&&(rt=await renderKatexSanitized(ee.label.replace(common_default.lineBreakRegex,`
`),xe));const lt='<span class="'+(ee.isNode?"nodeLabel":"edgeLabel")+'" '+(ee.labelStyle?'style="'+ee.labelStyle+'"':"")+">"+rt+"</span>";return ne.html(sanitizeText(lt,xe)),applyStyle(ne,ee.labelStyle),ne.style("display","inline-block"),ne.style("padding-right","1px"),ne.style("white-space","nowrap"),ne.attr("xmlns","http://www.w3.org/1999/xhtml"),te.node()}__name(addHtmlLabel,"addHtmlLabel");var createLabel=__name(async(ee,te,ne,xe)=>{let rt=ee||"";if(typeof rt=="object"&&(rt=rt[0]),evaluate(getConfig2().flowchart.htmlLabels)){rt=rt.replace(/\\n|\n/g,"<br />"),log.info("vertexText"+rt);const it={isNode:xe,label:decodeEntities(rt).replace(/fa[blrs]?:fa-[\w-]+/g,ct=>`<i class='${ct.replace(":"," ")}'></i>`),labelStyle:te&&te.replace("fill:","color:")};return await addHtmlLabel(it)}else{const it=document.createElementNS("http://www.w3.org/2000/svg","text");it.setAttribute("style",te.replace("color:","fill:"));let lt=[];typeof rt=="string"?lt=rt.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(rt)?lt=rt:lt=[];for(const ct of lt){const ut=document.createElementNS("http://www.w3.org/2000/svg","tspan");ut.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),ut.setAttribute("dy","1em"),ut.setAttribute("x","0"),ne?ut.setAttribute("class","title-row"):ut.setAttribute("class","row"),ut.textContent=ct.trim(),it.appendChild(ut)}return it}},"createLabel"),createLabel_default=createLabel,createRoundedRectPathD=__name((ee,te,ne,xe,rt)=>["M",ee+rt,te,"H",ee+ne-rt,"A",rt,rt,0,0,1,ee+ne,te+rt,"V",te+xe-rt,"A",rt,rt,0,0,1,ee+ne-rt,te+xe,"H",ee+rt,"A",rt,rt,0,0,1,ee,te+xe-rt,"V",te+rt,"A",rt,rt,0,0,1,ee+rt,te,"Z"].join(" "),"createRoundedRectPathD"),rect=__name(async(ee,te)=>{log.info("Creating subgraph rect for ",te.id,te);const ne=getConfig2(),{themeVariables:xe,handDrawnSeed:rt}=ne,{clusterBkg:it,clusterBorder:lt}=xe,{labelStyles:ct,nodeStyles:ut,borderStyles:dt,backgroundStyles:ht}=styles2String(te),ft=ee.insert("g").attr("class","cluster "+te.cssClasses).attr("id",te.id).attr("data-look",te.look),pt=evaluate(ne.flowchart.htmlLabels),mt=ft.insert("g").attr("class","cluster-label "),xt=await createText(mt,te.label,{style:te.labelStyle,useHtmlLabels:pt,isNode:!0});let yt=xt.getBBox();if(evaluate(ne.flowchart.htmlLabels)){const Rt=xt.children[0],Pt=select(xt);yt=Rt.getBoundingClientRect(),Pt.attr("width",yt.width),Pt.attr("height",yt.height)}const vt=te.width<=yt.width+te.padding?yt.width+te.padding:te.width;te.width<=yt.width+te.padding?te.diff=(vt-te.width)/2-te.padding:te.diff=-te.padding;const Et=te.height,_t=te.x-vt/2,wt=te.y-Et/2;log.trace("Data ",te,JSON.stringify(te));let St;if(te.look==="handDrawn"){const Rt=at.svg(ft),Pt=userNodeOverrides(te,{roughness:.7,fill:it,stroke:lt,fillWeight:3,seed:rt}),Ot=Rt.path(createRoundedRectPathD(_t,wt,vt,Et,0),Pt);St=ft.insert(()=>(log.debug("Rough node insert CXC",Ot),Ot),":first-child"),St.select("path:nth-child(2)").attr("style",dt.join(";")),St.select("path").attr("style",ht.join(";").replace("fill","stroke"))}else St=ft.insert("rect",":first-child"),St.attr("style",ut).attr("rx",te.rx).attr("ry",te.ry).attr("x",_t).attr("y",wt).attr("width",vt).attr("height",Et);const{subGraphTitleTopMargin:Ct}=getSubGraphTitleMargins(ne);if(mt.attr("transform",`translate(${te.x-yt.width/2}, ${te.y-te.height/2+Ct})`),ct){const Rt=mt.select("span");Rt&&Rt.attr("style",ct)}const jt=St.node().getBBox();return te.offsetX=0,te.width=jt.width,te.height=jt.height,te.offsetY=yt.height-te.padding/2,te.intersect=function(Rt){return intersect_rect_default(te,Rt)},{cluster:ft,labelBBox:yt}},"rect"),noteGroup=__name((ee,te)=>{const ne=ee.insert("g").attr("class","note-cluster").attr("id",te.id),xe=ne.insert("rect",":first-child"),rt=0*te.padding,it=rt/2;xe.attr("rx",te.rx).attr("ry",te.ry).attr("x",te.x-te.width/2-it).attr("y",te.y-te.height/2-it).attr("width",te.width+rt).attr("height",te.height+rt).attr("fill","none");const lt=xe.node().getBBox();return te.width=lt.width,te.height=lt.height,te.intersect=function(ct){return intersect_rect_default(te,ct)},{cluster:ne,labelBBox:{width:0,height:0}}},"noteGroup"),roundedWithTitle=__name(async(ee,te)=>{const ne=getConfig2(),{themeVariables:xe,handDrawnSeed:rt}=ne,{altBackground:it,compositeBackground:lt,compositeTitleBackground:ct,nodeBorder:ut}=xe,dt=ee.insert("g").attr("class",te.cssClasses).attr("id",te.id).attr("data-id",te.id).attr("data-look",te.look),ht=dt.insert("g",":first-child"),ft=dt.insert("g").attr("class","cluster-label");let pt=dt.append("rect");const mt=ft.node().appendChild(await createLabel_default(te.label,te.labelStyle,void 0,!0));let xt=mt.getBBox();if(evaluate(ne.flowchart.htmlLabels)){const Ot=mt.children[0],Ft=select(mt);xt=Ot.getBoundingClientRect(),Ft.attr("width",xt.width),Ft.attr("height",xt.height)}const yt=0*te.padding,vt=yt/2,Et=(te.width<=xt.width+te.padding?xt.width+te.padding:te.width)+yt;te.width<=xt.width+te.padding?te.diff=(Et-te.width)/2-te.padding:te.diff=-te.padding;const _t=te.height+yt,wt=te.height+yt-xt.height-6,St=te.x-Et/2,Ct=te.y-_t/2;te.width=Et;const jt=te.y-te.height/2-vt+xt.height+2;let Rt;if(te.look==="handDrawn"){const Ot=te.cssClasses.includes("statediagram-cluster-alt"),Ft=at.svg(dt),Lt=te.rx||te.ry?Ft.path(createRoundedRectPathD(St,Ct,Et,_t,10),{roughness:.7,fill:ct,fillStyle:"solid",stroke:ut,seed:rt}):Ft.rectangle(St,Ct,Et,_t,{seed:rt});Rt=dt.insert(()=>Lt,":first-child");const Bt=Ft.rectangle(St,jt,Et,wt,{fill:Ot?it:lt,fillStyle:Ot?"hachure":"solid",stroke:ut,seed:rt});Rt=dt.insert(()=>Lt,":first-child"),pt=dt.insert(()=>Bt)}else Rt=ht.insert("rect",":first-child"),Rt.attr("class","outer").attr("x",St).attr("y",Ct).attr("width",Et).attr("height",_t).attr("data-look",te.look),pt.attr("class","inner").attr("x",St).attr("y",jt).attr("width",Et).attr("height",wt);ft.attr("transform",`translate(${te.x-xt.width/2}, ${Ct+1-(evaluate(ne.flowchart.htmlLabels)?0:3)})`);const Pt=Rt.node().getBBox();return te.height=Pt.height,te.offsetX=0,te.offsetY=xt.height-te.padding/2,te.labelBBox=xt,te.intersect=function(Ot){return intersect_rect_default(te,Ot)},{cluster:dt,labelBBox:xt}},"roundedWithTitle"),kanbanSection=__name(async(ee,te)=>{log.info("Creating subgraph rect for ",te.id,te);const ne=getConfig2(),{themeVariables:xe,handDrawnSeed:rt}=ne,{clusterBkg:it,clusterBorder:lt}=xe,{labelStyles:ct,nodeStyles:ut,borderStyles:dt,backgroundStyles:ht}=styles2String(te),ft=ee.insert("g").attr("class","cluster "+te.cssClasses).attr("id",te.id).attr("data-look",te.look),pt=evaluate(ne.flowchart.htmlLabels),mt=ft.insert("g").attr("class","cluster-label "),xt=await createText(mt,te.label,{style:te.labelStyle,useHtmlLabels:pt,isNode:!0,width:te.width});let yt=xt.getBBox();if(evaluate(ne.flowchart.htmlLabels)){const Rt=xt.children[0],Pt=select(xt);yt=Rt.getBoundingClientRect(),Pt.attr("width",yt.width),Pt.attr("height",yt.height)}const vt=te.width<=yt.width+te.padding?yt.width+te.padding:te.width;te.width<=yt.width+te.padding?te.diff=(vt-te.width)/2-te.padding:te.diff=-te.padding;const Et=te.height,_t=te.x-vt/2,wt=te.y-Et/2;log.trace("Data ",te,JSON.stringify(te));let St;if(te.look==="handDrawn"){const Rt=at.svg(ft),Pt=userNodeOverrides(te,{roughness:.7,fill:it,stroke:lt,fillWeight:4,seed:rt}),Ot=Rt.path(createRoundedRectPathD(_t,wt,vt,Et,te.rx),Pt);St=ft.insert(()=>(log.debug("Rough node insert CXC",Ot),Ot),":first-child"),St.select("path:nth-child(2)").attr("style",dt.join(";")),St.select("path").attr("style",ht.join(";").replace("fill","stroke"))}else St=ft.insert("rect",":first-child"),St.attr("style",ut).attr("rx",te.rx).attr("ry",te.ry).attr("x",_t).attr("y",wt).attr("width",vt).attr("height",Et);const{subGraphTitleTopMargin:Ct}=getSubGraphTitleMargins(ne);if(mt.attr("transform",`translate(${te.x-yt.width/2}, ${te.y-te.height/2+Ct})`),ct){const Rt=mt.select("span");Rt&&Rt.attr("style",ct)}const jt=St.node().getBBox();return te.offsetX=0,te.width=jt.width,te.height=jt.height,te.offsetY=yt.height-te.padding/2,te.intersect=function(Rt){return intersect_rect_default(te,Rt)},{cluster:ft,labelBBox:yt}},"kanbanSection"),divider=__name((ee,te)=>{const ne=getConfig2(),{themeVariables:xe,handDrawnSeed:rt}=ne,{nodeBorder:it}=xe,lt=ee.insert("g").attr("class",te.cssClasses).attr("id",te.id).attr("data-look",te.look),ct=lt.insert("g",":first-child"),ut=0*te.padding,dt=te.width+ut;te.diff=-te.padding;const ht=te.height+ut,ft=te.x-dt/2,pt=te.y-ht/2;te.width=dt;let mt;if(te.look==="handDrawn"){const vt=at.svg(lt).rectangle(ft,pt,dt,ht,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:it,seed:rt});mt=lt.insert(()=>vt,":first-child")}else mt=ct.insert("rect",":first-child"),mt.attr("class","divider").attr("x",ft).attr("y",pt).attr("width",dt).attr("height",ht).attr("data-look",te.look);const xt=mt.node().getBBox();return te.height=xt.height,te.offsetX=0,te.offsetY=0,te.intersect=function(yt){return intersect_rect_default(te,yt)},{cluster:lt,labelBBox:{}}},"divider"),squareRect=rect,shapes={rect,squareRect,roundedWithTitle,noteGroup,divider,kanbanSection},clusterElems=new Map,insertCluster=__name(async(ee,te)=>{const ne=te.shape||"rect",xe=await shapes[ne](ee,te);return clusterElems.set(te.id,xe),xe},"insertCluster"),clear$1=__name(()=>{clusterElems=new Map},"clear");function intersectNode(ee,te){return ee.intersect(te)}__name(intersectNode,"intersectNode");var intersect_node_default=intersectNode;function intersectEllipse(ee,te,ne,xe){var rt=ee.x,it=ee.y,lt=rt-xe.x,ct=it-xe.y,ut=Math.sqrt(te*te*ct*ct+ne*ne*lt*lt),dt=Math.abs(te*ne*lt/ut);xe.x<rt&&(dt=-dt);var ht=Math.abs(te*ne*ct/ut);return xe.y<it&&(ht=-ht),{x:rt+dt,y:it+ht}}__name(intersectEllipse,"intersectEllipse");var intersect_ellipse_default=intersectEllipse;function intersectCircle(ee,te,ne){return intersect_ellipse_default(ee,te,te,ne)}__name(intersectCircle,"intersectCircle");var intersect_circle_default=intersectCircle;function intersectLine(ee,te,ne,xe){{const rt=te.y-ee.y,it=ee.x-te.x,lt=te.x*ee.y-ee.x*te.y,ct=rt*ne.x+it*ne.y+lt,ut=rt*xe.x+it*xe.y+lt,dt=1e-6;if(ct!==0&&ut!==0&&sameSign(ct,ut))return;const ht=xe.y-ne.y,ft=ne.x-xe.x,pt=xe.x*ne.y-ne.x*xe.y,mt=ht*ee.x+ft*ee.y+pt,xt=ht*te.x+ft*te.y+pt;if(Math.abs(mt)<dt&&Math.abs(xt)<dt&&sameSign(mt,xt))return;const yt=rt*ft-ht*it;if(yt===0)return;const vt=Math.abs(yt/2);let Et=it*pt-ft*lt;const _t=Et<0?(Et-vt)/yt:(Et+vt)/yt;Et=ht*lt-rt*pt;const wt=Et<0?(Et-vt)/yt:(Et+vt)/yt;return{x:_t,y:wt}}}__name(intersectLine,"intersectLine");function sameSign(ee,te){return ee*te>0}__name(sameSign,"sameSign");var intersect_line_default=intersectLine;function intersectPolygon(ee,te,ne){let xe=ee.x,rt=ee.y,it=[],lt=Number.POSITIVE_INFINITY,ct=Number.POSITIVE_INFINITY;typeof te.forEach=="function"?te.forEach(function(ht){lt=Math.min(lt,ht.x),ct=Math.min(ct,ht.y)}):(lt=Math.min(lt,te.x),ct=Math.min(ct,te.y));let ut=xe-ee.width/2-lt,dt=rt-ee.height/2-ct;for(let ht=0;ht<te.length;ht++){let ft=te[ht],pt=te[ht<te.length-1?ht+1:0],mt=intersect_line_default(ee,ne,{x:ut+ft.x,y:dt+ft.y},{x:ut+pt.x,y:dt+pt.y});mt&&it.push(mt)}return it.length?(it.length>1&&it.sort(function(ht,ft){let pt=ht.x-ne.x,mt=ht.y-ne.y,xt=Math.sqrt(pt*pt+mt*mt),yt=ft.x-ne.x,vt=ft.y-ne.y,Et=Math.sqrt(yt*yt+vt*vt);return xt<Et?-1:xt===Et?0:1}),it[0]):ee}__name(intersectPolygon,"intersectPolygon");var intersect_polygon_default=intersectPolygon,intersect_default={node:intersect_node_default,circle:intersect_circle_default,ellipse:intersect_ellipse_default,polygon:intersect_polygon_default,rect:intersect_rect_default};function anchor(ee,te){const{labelStyles:ne}=styles2String(te);te.labelStyle=ne;const xe=getNodeClasses(te);let rt=xe;xe||(rt="anchor");const it=ee.insert("g").attr("class",rt).attr("id",te.domId||te.id),lt=1,{cssStyles:ct}=te,ut=at.svg(it),dt=userNodeOverrides(te,{fill:"black",stroke:"none",fillStyle:"solid"});te.look!=="handDrawn"&&(dt.roughness=0);const ht=ut.circle(0,0,lt*2,dt),ft=it.insert(()=>ht,":first-child");return ft.attr("class","anchor").attr("style",handleUndefinedAttr(ct)),updateNodeBounds(te,ft),te.intersect=function(pt){return log.info("Circle intersect",te,lt,pt),intersect_default.circle(te,lt,pt)},it}__name(anchor,"anchor");function generateArcPoints(ee,te,ne,xe,rt,it,lt){const ut=(ee+ne)/2,dt=(te+xe)/2,ht=Math.atan2(xe-te,ne-ee),ft=(ne-ee)/2,pt=(xe-te)/2,mt=ft/rt,xt=pt/it,yt=Math.sqrt(mt**2+xt**2);if(yt>1)throw new Error("The given radii are too small to create an arc between the points.");const vt=Math.sqrt(1-yt**2),Et=ut+vt*it*Math.sin(ht)*(lt?-1:1),_t=dt-vt*rt*Math.cos(ht)*(lt?-1:1),wt=Math.atan2((te-_t)/it,(ee-Et)/rt);let Ct=Math.atan2((xe-_t)/it,(ne-Et)/rt)-wt;lt&&Ct<0&&(Ct+=2*Math.PI),!lt&&Ct>0&&(Ct-=2*Math.PI);const jt=[];for(let Rt=0;Rt<20;Rt++){const Pt=Rt/19,Ot=wt+Pt*Ct,Ft=Et+rt*Math.cos(Ot),Lt=_t+it*Math.sin(Ot);jt.push({x:Ft,y:Lt})}return jt}__name(generateArcPoints,"generateArcPoints");async function bowTieRect(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=it.width+te.padding+20,ct=it.height+te.padding,ut=ct/2,dt=ut/(2.5+ct/50),{cssStyles:ht}=te,ft=[{x:lt/2,y:-ct/2},{x:-lt/2,y:-ct/2},...generateArcPoints(-lt/2,-ct/2,-lt/2,ct/2,dt,ut,!1),{x:lt/2,y:ct/2},...generateArcPoints(lt/2,ct/2,lt/2,-ct/2,dt,ut,!0)],pt=at.svg(rt),mt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const xt=createPathFromPoints(ft),yt=pt.path(xt,mt),vt=rt.insert(()=>yt,":first-child");return vt.attr("class","basic label-container"),ht&&te.look!=="handDrawn"&&vt.selectAll("path").attr("style",ht),xe&&te.look!=="handDrawn"&&vt.selectAll("path").attr("style",xe),vt.attr("transform",`translate(${dt/2}, 0)`),updateNodeBounds(te,vt),te.intersect=function(Et){return intersect_default.polygon(te,ft,Et)},rt}__name(bowTieRect,"bowTieRect");function insertPolygonShape(ee,te,ne,xe){return ee.insert("polygon",":first-child").attr("points",xe.map(function(rt){return rt.x+","+rt.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-te/2+","+ne/2+")")}__name(insertPolygonShape,"insertPolygonShape");async function card(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=it.height+te.padding,ct=12,ut=it.width+te.padding+ct,dt=0,ht=ut,ft=-lt,pt=0,mt=[{x:dt+ct,y:ft},{x:ht,y:ft},{x:ht,y:pt},{x:dt,y:pt},{x:dt,y:ft+ct},{x:dt+ct,y:ft}];let xt;const{cssStyles:yt}=te;if(te.look==="handDrawn"){const vt=at.svg(rt),Et=userNodeOverrides(te,{}),_t=createPathFromPoints(mt),wt=vt.path(_t,Et);xt=rt.insert(()=>wt,":first-child").attr("transform",`translate(${-ut/2}, ${lt/2})`),yt&&xt.attr("style",yt)}else xt=insertPolygonShape(rt,ut,lt,mt);return xe&&xt.attr("style",xe),updateNodeBounds(te,xt),te.intersect=function(vt){return intersect_default.polygon(te,mt,vt)},rt}__name(card,"card");function choice(ee,te){const{nodeStyles:ne}=styles2String(te);te.label="";const xe=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),{cssStyles:rt}=te,it=Math.max(28,te.width??0),lt=[{x:0,y:it/2},{x:it/2,y:0},{x:0,y:-it/2},{x:-it/2,y:0}],ct=at.svg(xe),ut=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ut.roughness=0,ut.fillStyle="solid");const dt=createPathFromPoints(lt),ht=ct.path(dt,ut),ft=xe.insert(()=>ht,":first-child");return rt&&te.look!=="handDrawn"&&ft.selectAll("path").attr("style",rt),ne&&te.look!=="handDrawn"&&ft.selectAll("path").attr("style",ne),te.width=28,te.height=28,te.intersect=function(pt){return intersect_default.polygon(te,lt,pt)},xe}__name(choice,"choice");async function circle$1(ee,te,ne){const{labelStyles:xe,nodeStyles:rt}=styles2String(te);te.labelStyle=xe;const{shapeSvg:it,bbox:lt,halfPadding:ct}=await labelHelper(ee,te,getNodeClasses(te)),ut=ne?.padding??ct,dt=lt.width/2+ut;let ht;const{cssStyles:ft}=te;if(te.look==="handDrawn"){const pt=at.svg(it),mt=userNodeOverrides(te,{}),xt=pt.circle(0,0,dt*2,mt);ht=it.insert(()=>xt,":first-child"),ht.attr("class","basic label-container").attr("style",handleUndefinedAttr(ft))}else ht=it.insert("circle",":first-child").attr("class","basic label-container").attr("style",rt).attr("r",dt).attr("cx",0).attr("cy",0);return updateNodeBounds(te,ht),te.calcIntersect=function(pt,mt){const xt=pt.width/2;return intersect_default.circle(pt,xt,mt)},te.intersect=function(pt){return log.info("Circle intersect",te,dt,pt),intersect_default.circle(te,dt,pt)},it}__name(circle$1,"circle");function createLine(ee){const te=Math.cos(Math.PI/4),ne=Math.sin(Math.PI/4),xe=ee*2,rt={x:xe/2*te,y:xe/2*ne},it={x:-(xe/2)*te,y:xe/2*ne},lt={x:-(xe/2)*te,y:-(xe/2)*ne},ct={x:xe/2*te,y:-(xe/2)*ne};return`M ${it.x},${it.y} L ${ct.x},${ct.y}
                   M ${rt.x},${rt.y} L ${lt.x},${lt.y}`}__name(createLine,"createLine");function crossedCircle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne,te.label="";const rt=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),it=Math.max(30,te?.width??0),{cssStyles:lt}=te,ct=at.svg(rt),ut=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ut.roughness=0,ut.fillStyle="solid");const dt=ct.circle(0,0,it*2,ut),ht=createLine(it),ft=ct.path(ht,ut),pt=rt.insert(()=>dt,":first-child");return pt.insert(()=>ft),lt&&te.look!=="handDrawn"&&pt.selectAll("path").attr("style",lt),xe&&te.look!=="handDrawn"&&pt.selectAll("path").attr("style",xe),updateNodeBounds(te,pt),te.intersect=function(mt){return log.info("crossedCircle intersect",te,{radius:it,point:mt}),intersect_default.circle(te,it,mt)},rt}__name(crossedCircle,"crossedCircle");function generateCirclePoints2(ee,te,ne,xe=100,rt=0,it=180){const lt=[],ct=rt*Math.PI/180,ht=(it*Math.PI/180-ct)/(xe-1);for(let ft=0;ft<xe;ft++){const pt=ct+ft*ht,mt=ee+ne*Math.cos(pt),xt=te+ne*Math.sin(pt);lt.push({x:-mt,y:-xt})}return lt}__name(generateCirclePoints2,"generateCirclePoints");async function curlyBraceLeft(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=it.width+(te.padding??0),ut=it.height+(te.padding??0),dt=Math.max(5,ut*.1),{cssStyles:ht}=te,ft=[...generateCirclePoints2(ct/2,-ut/2,dt,30,-90,0),{x:-ct/2-dt,y:dt},...generateCirclePoints2(ct/2+dt*2,-dt,dt,20,-180,-270),...generateCirclePoints2(ct/2+dt*2,dt,dt,20,-90,-180),{x:-ct/2-dt,y:-ut/2},...generateCirclePoints2(ct/2,ut/2,dt,20,0,90)],pt=[{x:ct/2,y:-ut/2-dt},{x:-ct/2,y:-ut/2-dt},...generateCirclePoints2(ct/2,-ut/2,dt,20,-90,0),{x:-ct/2-dt,y:-dt},...generateCirclePoints2(ct/2+ct*.1,-dt,dt,20,-180,-270),...generateCirclePoints2(ct/2+ct*.1,dt,dt,20,-90,-180),{x:-ct/2-dt,y:ut/2},...generateCirclePoints2(ct/2,ut/2,dt,20,0,90),{x:-ct/2,y:ut/2+dt},{x:ct/2,y:ut/2+dt}],mt=at.svg(rt),xt=userNodeOverrides(te,{fill:"none"});te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const vt=createPathFromPoints(ft).replace("Z",""),Et=mt.path(vt,xt),_t=createPathFromPoints(pt),wt=mt.path(_t,{...xt}),St=rt.insert("g",":first-child");return St.insert(()=>wt,":first-child").attr("stroke-opacity",0),St.insert(()=>Et,":first-child"),St.attr("class","text"),ht&&te.look!=="handDrawn"&&St.selectAll("path").attr("style",ht),xe&&te.look!=="handDrawn"&&St.selectAll("path").attr("style",xe),St.attr("transform",`translate(${dt}, 0)`),lt.attr("transform",`translate(${-ct/2+dt-(it.x-(it.left??0))},${-ut/2+(te.padding??0)/2-(it.y-(it.top??0))})`),updateNodeBounds(te,St),te.intersect=function(Ct){return intersect_default.polygon(te,pt,Ct)},rt}__name(curlyBraceLeft,"curlyBraceLeft");function generateCirclePoints3(ee,te,ne,xe=100,rt=0,it=180){const lt=[],ct=rt*Math.PI/180,ht=(it*Math.PI/180-ct)/(xe-1);for(let ft=0;ft<xe;ft++){const pt=ct+ft*ht,mt=ee+ne*Math.cos(pt),xt=te+ne*Math.sin(pt);lt.push({x:mt,y:xt})}return lt}__name(generateCirclePoints3,"generateCirclePoints");async function curlyBraceRight(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=it.width+(te.padding??0),ut=it.height+(te.padding??0),dt=Math.max(5,ut*.1),{cssStyles:ht}=te,ft=[...generateCirclePoints3(ct/2,-ut/2,dt,20,-90,0),{x:ct/2+dt,y:-dt},...generateCirclePoints3(ct/2+dt*2,-dt,dt,20,-180,-270),...generateCirclePoints3(ct/2+dt*2,dt,dt,20,-90,-180),{x:ct/2+dt,y:ut/2},...generateCirclePoints3(ct/2,ut/2,dt,20,0,90)],pt=[{x:-ct/2,y:-ut/2-dt},{x:ct/2,y:-ut/2-dt},...generateCirclePoints3(ct/2,-ut/2,dt,20,-90,0),{x:ct/2+dt,y:-dt},...generateCirclePoints3(ct/2+dt*2,-dt,dt,20,-180,-270),...generateCirclePoints3(ct/2+dt*2,dt,dt,20,-90,-180),{x:ct/2+dt,y:ut/2},...generateCirclePoints3(ct/2,ut/2,dt,20,0,90),{x:ct/2,y:ut/2+dt},{x:-ct/2,y:ut/2+dt}],mt=at.svg(rt),xt=userNodeOverrides(te,{fill:"none"});te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const vt=createPathFromPoints(ft).replace("Z",""),Et=mt.path(vt,xt),_t=createPathFromPoints(pt),wt=mt.path(_t,{...xt}),St=rt.insert("g",":first-child");return St.insert(()=>wt,":first-child").attr("stroke-opacity",0),St.insert(()=>Et,":first-child"),St.attr("class","text"),ht&&te.look!=="handDrawn"&&St.selectAll("path").attr("style",ht),xe&&te.look!=="handDrawn"&&St.selectAll("path").attr("style",xe),St.attr("transform",`translate(${-dt}, 0)`),lt.attr("transform",`translate(${-ct/2+(te.padding??0)/2-(it.x-(it.left??0))},${-ut/2+(te.padding??0)/2-(it.y-(it.top??0))})`),updateNodeBounds(te,St),te.intersect=function(Ct){return intersect_default.polygon(te,pt,Ct)},rt}__name(curlyBraceRight,"curlyBraceRight");function generateCirclePoints4(ee,te,ne,xe=100,rt=0,it=180){const lt=[],ct=rt*Math.PI/180,ht=(it*Math.PI/180-ct)/(xe-1);for(let ft=0;ft<xe;ft++){const pt=ct+ft*ht,mt=ee+ne*Math.cos(pt),xt=te+ne*Math.sin(pt);lt.push({x:-mt,y:-xt})}return lt}__name(generateCirclePoints4,"generateCirclePoints");async function curlyBraces(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=it.width+(te.padding??0),ut=it.height+(te.padding??0),dt=Math.max(5,ut*.1),{cssStyles:ht}=te,ft=[...generateCirclePoints4(ct/2,-ut/2,dt,30,-90,0),{x:-ct/2-dt,y:dt},...generateCirclePoints4(ct/2+dt*2,-dt,dt,20,-180,-270),...generateCirclePoints4(ct/2+dt*2,dt,dt,20,-90,-180),{x:-ct/2-dt,y:-ut/2},...generateCirclePoints4(ct/2,ut/2,dt,20,0,90)],pt=[...generateCirclePoints4(-ct/2+dt+dt/2,-ut/2,dt,20,-90,-180),{x:ct/2-dt/2,y:dt},...generateCirclePoints4(-ct/2-dt/2,-dt,dt,20,0,90),...generateCirclePoints4(-ct/2-dt/2,dt,dt,20,-90,0),{x:ct/2-dt/2,y:-dt},...generateCirclePoints4(-ct/2+dt+dt/2,ut/2,dt,30,-180,-270)],mt=[{x:ct/2,y:-ut/2-dt},{x:-ct/2,y:-ut/2-dt},...generateCirclePoints4(ct/2,-ut/2,dt,20,-90,0),{x:-ct/2-dt,y:-dt},...generateCirclePoints4(ct/2+dt*2,-dt,dt,20,-180,-270),...generateCirclePoints4(ct/2+dt*2,dt,dt,20,-90,-180),{x:-ct/2-dt,y:ut/2},...generateCirclePoints4(ct/2,ut/2,dt,20,0,90),{x:-ct/2,y:ut/2+dt},{x:ct/2-dt-dt/2,y:ut/2+dt},...generateCirclePoints4(-ct/2+dt+dt/2,-ut/2,dt,20,-90,-180),{x:ct/2-dt/2,y:dt},...generateCirclePoints4(-ct/2-dt/2,-dt,dt,20,0,90),...generateCirclePoints4(-ct/2-dt/2,dt,dt,20,-90,0),{x:ct/2-dt/2,y:-dt},...generateCirclePoints4(-ct/2+dt+dt/2,ut/2,dt,30,-180,-270)],xt=at.svg(rt),yt=userNodeOverrides(te,{fill:"none"});te.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const Et=createPathFromPoints(ft).replace("Z",""),_t=xt.path(Et,yt),St=createPathFromPoints(pt).replace("Z",""),Ct=xt.path(St,yt),jt=createPathFromPoints(mt),Rt=xt.path(jt,{...yt}),Pt=rt.insert("g",":first-child");return Pt.insert(()=>Rt,":first-child").attr("stroke-opacity",0),Pt.insert(()=>_t,":first-child"),Pt.insert(()=>Ct,":first-child"),Pt.attr("class","text"),ht&&te.look!=="handDrawn"&&Pt.selectAll("path").attr("style",ht),xe&&te.look!=="handDrawn"&&Pt.selectAll("path").attr("style",xe),Pt.attr("transform",`translate(${dt-dt/4}, 0)`),lt.attr("transform",`translate(${-ct/2+(te.padding??0)/2-(it.x-(it.left??0))},${-ut/2+(te.padding??0)/2-(it.y-(it.top??0))})`),updateNodeBounds(te,Pt),te.intersect=function(Ot){return intersect_default.polygon(te,mt,Ot)},rt}__name(curlyBraces,"curlyBraces");async function curvedTrapezoid(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=80,ct=20,ut=Math.max(lt,(it.width+(te.padding??0)*2)*1.25,te?.width??0),dt=Math.max(ct,it.height+(te.padding??0)*2,te?.height??0),ht=dt/2,{cssStyles:ft}=te,pt=at.svg(rt),mt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const xt=ut,yt=dt,vt=xt-ht,Et=yt/4,_t=[{x:vt,y:0},{x:Et,y:0},{x:0,y:yt/2},{x:Et,y:yt},{x:vt,y:yt},...generateCirclePoints(-vt,-yt/2,ht,50,270,90)],wt=createPathFromPoints(_t),St=pt.path(wt,mt),Ct=rt.insert(()=>St,":first-child");return Ct.attr("class","basic label-container"),ft&&te.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",ft),xe&&te.look!=="handDrawn"&&Ct.selectChildren("path").attr("style",xe),Ct.attr("transform",`translate(${-ut/2}, ${-dt/2})`),updateNodeBounds(te,Ct),te.intersect=function(jt){return intersect_default.polygon(te,_t,jt)},rt}__name(curvedTrapezoid,"curvedTrapezoid");var createCylinderPathD=__name((ee,te,ne,xe,rt,it)=>[`M${ee},${te+it}`,`a${rt},${it} 0,0,0 ${ne},0`,`a${rt},${it} 0,0,0 ${-ne},0`,`l0,${xe}`,`a${rt},${it} 0,0,0 ${ne},0`,`l0,${-xe}`].join(" "),"createCylinderPathD"),createOuterCylinderPathD=__name((ee,te,ne,xe,rt,it)=>[`M${ee},${te+it}`,`M${ee+ne},${te+it}`,`a${rt},${it} 0,0,0 ${-ne},0`,`l0,${xe}`,`a${rt},${it} 0,0,0 ${ne},0`,`l0,${-xe}`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD=__name((ee,te,ne,xe,rt,it)=>[`M${ee-ne/2},${-xe/2}`,`a${rt},${it} 0,0,0 ${ne},0`].join(" "),"createInnerCylinderPathD");async function cylinder(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+te.padding,te.width??0),ut=ct/2,dt=ut/(2.5+ct/50),ht=Math.max(it.height+dt+te.padding,te.height??0);let ft;const{cssStyles:pt}=te;if(te.look==="handDrawn"){const mt=at.svg(rt),xt=createOuterCylinderPathD(0,0,ct,ht,ut,dt),yt=createInnerCylinderPathD(0,dt,ct,ht,ut,dt),vt=mt.path(xt,userNodeOverrides(te,{})),Et=mt.path(yt,userNodeOverrides(te,{fill:"none"}));ft=rt.insert(()=>Et,":first-child"),ft=rt.insert(()=>vt,":first-child"),ft.attr("class","basic label-container"),pt&&ft.attr("style",pt)}else{const mt=createCylinderPathD(0,0,ct,ht,ut,dt);ft=rt.insert("path",":first-child").attr("d",mt).attr("class","basic label-container").attr("style",handleUndefinedAttr(pt)).attr("style",xe)}return ft.attr("label-offset-y",dt),ft.attr("transform",`translate(${-ct/2}, ${-(ht/2+dt)})`),updateNodeBounds(te,ft),lt.attr("transform",`translate(${-(it.width/2)-(it.x-(it.left??0))}, ${-(it.height/2)+(te.padding??0)/1.5-(it.y-(it.top??0))})`),te.intersect=function(mt){const xt=intersect_default.rect(te,mt),yt=xt.x-(te.x??0);if(ut!=0&&(Math.abs(yt)<(te.width??0)/2||Math.abs(yt)==(te.width??0)/2&&Math.abs(xt.y-(te.y??0))>(te.height??0)/2-dt)){let vt=dt*dt*(1-yt*yt/(ut*ut));vt>0&&(vt=Math.sqrt(vt)),vt=dt-vt,mt.y-(te.y??0)>0&&(vt=-vt),xt.y+=vt}return xt},rt}__name(cylinder,"cylinder");async function dividedRectangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=it.width+te.padding,ut=it.height+te.padding,dt=ut*.2,ht=-ct/2,ft=-ut/2-dt/2,{cssStyles:pt}=te,mt=at.svg(rt),xt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const yt=[{x:ht,y:ft+dt},{x:-ht,y:ft+dt},{x:-ht,y:-ft},{x:ht,y:-ft},{x:ht,y:ft},{x:-ht,y:ft},{x:-ht,y:ft+dt}],vt=mt.polygon(yt.map(_t=>[_t.x,_t.y]),xt),Et=rt.insert(()=>vt,":first-child");return Et.attr("class","basic label-container"),pt&&te.look!=="handDrawn"&&Et.selectAll("path").attr("style",pt),xe&&te.look!=="handDrawn"&&Et.selectAll("path").attr("style",xe),lt.attr("transform",`translate(${ht+(te.padding??0)/2-(it.x-(it.left??0))}, ${ft+dt+(te.padding??0)/2-(it.y-(it.top??0))})`),updateNodeBounds(te,Et),te.intersect=function(_t){return intersect_default.rect(te,_t)},rt}__name(dividedRectangle,"dividedRectangle");async function doublecircle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,halfPadding:lt}=await labelHelper(ee,te,getNodeClasses(te)),ut=it.width/2+lt+5,dt=it.width/2+lt;let ht;const{cssStyles:ft}=te;if(te.look==="handDrawn"){const pt=at.svg(rt),mt=userNodeOverrides(te,{roughness:.2,strokeWidth:2.5}),xt=userNodeOverrides(te,{roughness:.2,strokeWidth:1.5}),yt=pt.circle(0,0,ut*2,mt),vt=pt.circle(0,0,dt*2,xt);ht=rt.insert("g",":first-child"),ht.attr("class",handleUndefinedAttr(te.cssClasses)).attr("style",handleUndefinedAttr(ft)),ht.node()?.appendChild(yt),ht.node()?.appendChild(vt)}else{ht=rt.insert("g",":first-child");const pt=ht.insert("circle",":first-child"),mt=ht.insert("circle");ht.attr("class","basic label-container").attr("style",xe),pt.attr("class","outer-circle").attr("style",xe).attr("r",ut).attr("cx",0).attr("cy",0),mt.attr("class","inner-circle").attr("style",xe).attr("r",dt).attr("cx",0).attr("cy",0)}return updateNodeBounds(te,ht),te.intersect=function(pt){return log.info("DoubleCircle intersect",te,ut,pt),intersect_default.circle(te,ut,pt)},rt}__name(doublecircle,"doublecircle");function filledCircle(ee,te,{config:{themeVariables:ne}}){const{labelStyles:xe,nodeStyles:rt}=styles2String(te);te.label="",te.labelStyle=xe;const it=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),lt=7,{cssStyles:ct}=te,ut=at.svg(it),{nodeBorder:dt}=ne,ht=userNodeOverrides(te,{fillStyle:"solid"});te.look!=="handDrawn"&&(ht.roughness=0);const ft=ut.circle(0,0,lt*2,ht),pt=it.insert(()=>ft,":first-child");return pt.selectAll("path").attr("style",`fill: ${dt} !important;`),ct&&ct.length>0&&te.look!=="handDrawn"&&pt.selectAll("path").attr("style",ct),rt&&te.look!=="handDrawn"&&pt.selectAll("path").attr("style",rt),updateNodeBounds(te,pt),te.intersect=function(mt){return log.info("filledCircle intersect",te,{radius:lt,point:mt}),intersect_default.circle(te,lt,mt)},it}__name(filledCircle,"filledCircle");async function flippedTriangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=it.width+(te.padding??0),ut=ct+it.height,dt=ct+it.height,ht=[{x:0,y:-ut},{x:dt,y:-ut},{x:dt/2,y:0}],{cssStyles:ft}=te,pt=at.svg(rt),mt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const xt=createPathFromPoints(ht),yt=pt.path(xt,mt),vt=rt.insert(()=>yt,":first-child").attr("transform",`translate(${-ut/2}, ${ut/2})`);return ft&&te.look!=="handDrawn"&&vt.selectChildren("path").attr("style",ft),xe&&te.look!=="handDrawn"&&vt.selectChildren("path").attr("style",xe),te.width=ct,te.height=ut,updateNodeBounds(te,vt),lt.attr("transform",`translate(${-it.width/2-(it.x-(it.left??0))}, ${-ut/2+(te.padding??0)/2+(it.y-(it.top??0))})`),te.intersect=function(Et){return log.info("Triangle intersect",te,ht,Et),intersect_default.polygon(te,ht,Et)},rt}__name(flippedTriangle,"flippedTriangle");function forkJoin(ee,te,{dir:ne,config:{state:xe,themeVariables:rt}}){const{nodeStyles:it}=styles2String(te);te.label="";const lt=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),{cssStyles:ct}=te;let ut=Math.max(70,te?.width??0),dt=Math.max(10,te?.height??0);ne==="LR"&&(ut=Math.max(10,te?.width??0),dt=Math.max(70,te?.height??0));const ht=-1*ut/2,ft=-1*dt/2,pt=at.svg(lt),mt=userNodeOverrides(te,{stroke:rt.lineColor,fill:rt.lineColor});te.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const xt=pt.rectangle(ht,ft,ut,dt,mt),yt=lt.insert(()=>xt,":first-child");ct&&te.look!=="handDrawn"&&yt.selectAll("path").attr("style",ct),it&&te.look!=="handDrawn"&&yt.selectAll("path").attr("style",it),updateNodeBounds(te,yt);const vt=xe?.padding??0;return te.width&&te.height&&(te.width+=vt/2||0,te.height+=vt/2||0),te.intersect=function(Et){return intersect_default.rect(te,Et)},lt}__name(forkJoin,"forkJoin");async function halfRoundedRectangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const rt=80,it=50,{shapeSvg:lt,bbox:ct}=await labelHelper(ee,te,getNodeClasses(te)),ut=Math.max(rt,ct.width+(te.padding??0)*2,te?.width??0),dt=Math.max(it,ct.height+(te.padding??0)*2,te?.height??0),ht=dt/2,{cssStyles:ft}=te,pt=at.svg(lt),mt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const xt=[{x:-ut/2,y:-dt/2},{x:ut/2-ht,y:-dt/2},...generateCirclePoints(-ut/2+ht,0,ht,50,90,270),{x:ut/2-ht,y:dt/2},{x:-ut/2,y:dt/2}],yt=createPathFromPoints(xt),vt=pt.path(yt,mt),Et=lt.insert(()=>vt,":first-child");return Et.attr("class","basic label-container"),ft&&te.look!=="handDrawn"&&Et.selectChildren("path").attr("style",ft),xe&&te.look!=="handDrawn"&&Et.selectChildren("path").attr("style",xe),updateNodeBounds(te,Et),te.intersect=function(_t){return log.info("Pill intersect",te,{radius:ht,point:_t}),intersect_default.polygon(te,xt,_t)},lt}__name(halfRoundedRectangle,"halfRoundedRectangle");async function hexagon(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=it.height+(te.padding??0),ct=it.width+(te.padding??0)*2.5,{cssStyles:ut}=te,dt=at.svg(rt),ht=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ht.roughness=0,ht.fillStyle="solid");let ft=ct/2;const pt=ft/6;ft=ft+pt;const mt=lt/2,xt=mt/2,yt=ft-xt,vt=[{x:-yt,y:-mt},{x:0,y:-mt},{x:yt,y:-mt},{x:ft,y:0},{x:yt,y:mt},{x:0,y:mt},{x:-yt,y:mt},{x:-ft,y:0}],Et=createPathFromPoints(vt),_t=dt.path(Et,ht),wt=rt.insert(()=>_t,":first-child");return wt.attr("class","basic label-container"),ut&&te.look!=="handDrawn"&&wt.selectChildren("path").attr("style",ut),xe&&te.look!=="handDrawn"&&wt.selectChildren("path").attr("style",xe),te.width=ct,te.height=lt,updateNodeBounds(te,wt),te.intersect=function(St){return intersect_default.polygon(te,vt,St)},rt}__name(hexagon,"hexagon");async function hourglass(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.label="",te.labelStyle=ne;const{shapeSvg:rt}=await labelHelper(ee,te,getNodeClasses(te)),it=Math.max(30,te?.width??0),lt=Math.max(30,te?.height??0),{cssStyles:ct}=te,ut=at.svg(rt),dt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(dt.roughness=0,dt.fillStyle="solid");const ht=[{x:0,y:0},{x:it,y:0},{x:0,y:lt},{x:it,y:lt}],ft=createPathFromPoints(ht),pt=ut.path(ft,dt),mt=rt.insert(()=>pt,":first-child");return mt.attr("class","basic label-container"),ct&&te.look!=="handDrawn"&&mt.selectChildren("path").attr("style",ct),xe&&te.look!=="handDrawn"&&mt.selectChildren("path").attr("style",xe),mt.attr("transform",`translate(${-it/2}, ${-lt/2})`),updateNodeBounds(te,mt),te.intersect=function(xt){return log.info("Pill intersect",te,{points:ht}),intersect_default.polygon(te,ht,xt)},rt}__name(hourglass,"hourglass");async function icon(ee,te,{config:{themeVariables:ne,flowchart:xe}}){const{labelStyles:rt}=styles2String(te);te.labelStyle=rt;const it=te.assetHeight??48,lt=te.assetWidth??48,ct=Math.max(it,lt),ut=xe?.wrappingWidth;te.width=Math.max(ct,ut??0);const{shapeSvg:dt,bbox:ht,label:ft}=await labelHelper(ee,te,"icon-shape default"),pt=te.pos==="t",mt=ct,xt=ct,{nodeBorder:yt}=ne,{stylesMap:vt}=compileStyles(te),Et=-xt/2,_t=-mt/2,wt=te.label?8:0,St=at.svg(dt),Ct=userNodeOverrides(te,{stroke:"none",fill:"none"});te.look!=="handDrawn"&&(Ct.roughness=0,Ct.fillStyle="solid");const jt=St.rectangle(Et,_t,xt,mt,Ct),Rt=Math.max(xt,ht.width),Pt=mt+ht.height+wt,Ot=St.rectangle(-Rt/2,-Pt/2,Rt,Pt,{...Ct,fill:"transparent",stroke:"none"}),Ft=dt.insert(()=>jt,":first-child"),Lt=dt.insert(()=>Ot);if(te.icon){const Bt=dt.append("g");Bt.html(`<g>${await getIconSVG(te.icon,{height:ct,width:ct,fallbackPrefix:""})}</g>`);const Gt=Bt.node().getBBox(),It=Gt.width,qt=Gt.height,Nt=Gt.x,Dt=Gt.y;Bt.attr("transform",`translate(${-It/2-Nt},${pt?ht.height/2+wt/2-qt/2-Dt:-ht.height/2-wt/2-qt/2-Dt})`),Bt.attr("style",`color: ${vt.get("stroke")??yt};`)}return ft.attr("transform",`translate(${-ht.width/2-(ht.x-(ht.left??0))},${pt?-Pt/2:Pt/2-ht.height})`),Ft.attr("transform",`translate(0,${pt?ht.height/2+wt/2:-ht.height/2-wt/2})`),updateNodeBounds(te,Lt),te.intersect=function(Bt){if(log.info("iconSquare intersect",te,Bt),!te.label)return intersect_default.rect(te,Bt);const Gt=te.x??0,It=te.y??0,qt=te.height??0;let Nt=[];return pt?Nt=[{x:Gt-ht.width/2,y:It-qt/2},{x:Gt+ht.width/2,y:It-qt/2},{x:Gt+ht.width/2,y:It-qt/2+ht.height+wt},{x:Gt+xt/2,y:It-qt/2+ht.height+wt},{x:Gt+xt/2,y:It+qt/2},{x:Gt-xt/2,y:It+qt/2},{x:Gt-xt/2,y:It-qt/2+ht.height+wt},{x:Gt-ht.width/2,y:It-qt/2+ht.height+wt}]:Nt=[{x:Gt-xt/2,y:It-qt/2},{x:Gt+xt/2,y:It-qt/2},{x:Gt+xt/2,y:It-qt/2+mt},{x:Gt+ht.width/2,y:It-qt/2+mt},{x:Gt+ht.width/2/2,y:It+qt/2},{x:Gt-ht.width/2,y:It+qt/2},{x:Gt-ht.width/2,y:It-qt/2+mt},{x:Gt-xt/2,y:It-qt/2+mt}],intersect_default.polygon(te,Nt,Bt)},dt}__name(icon,"icon");async function iconCircle(ee,te,{config:{themeVariables:ne,flowchart:xe}}){const{labelStyles:rt}=styles2String(te);te.labelStyle=rt;const it=te.assetHeight??48,lt=te.assetWidth??48,ct=Math.max(it,lt),ut=xe?.wrappingWidth;te.width=Math.max(ct,ut??0);const{shapeSvg:dt,bbox:ht,label:ft}=await labelHelper(ee,te,"icon-shape default"),pt=20,mt=te.label?8:0,xt=te.pos==="t",{nodeBorder:yt,mainBkg:vt}=ne,{stylesMap:Et}=compileStyles(te),_t=at.svg(dt),wt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(wt.roughness=0,wt.fillStyle="solid");const St=Et.get("fill");wt.stroke=St??vt;const Ct=dt.append("g");te.icon&&Ct.html(`<g>${await getIconSVG(te.icon,{height:ct,width:ct,fallbackPrefix:""})}</g>`);const jt=Ct.node().getBBox(),Rt=jt.width,Pt=jt.height,Ot=jt.x,Ft=jt.y,Lt=Math.max(Rt,Pt)*Math.SQRT2+pt*2,Bt=_t.circle(0,0,Lt,wt),Gt=Math.max(Lt,ht.width),It=Lt+ht.height+mt,qt=_t.rectangle(-Gt/2,-It/2,Gt,It,{...wt,fill:"transparent",stroke:"none"}),Nt=dt.insert(()=>Bt,":first-child"),Dt=dt.insert(()=>qt);return Ct.attr("transform",`translate(${-Rt/2-Ot},${xt?ht.height/2+mt/2-Pt/2-Ft:-ht.height/2-mt/2-Pt/2-Ft})`),Ct.attr("style",`color: ${Et.get("stroke")??yt};`),ft.attr("transform",`translate(${-ht.width/2-(ht.x-(ht.left??0))},${xt?-It/2:It/2-ht.height})`),Nt.attr("transform",`translate(0,${xt?ht.height/2+mt/2:-ht.height/2-mt/2})`),updateNodeBounds(te,Dt),te.intersect=function(Tt){return log.info("iconSquare intersect",te,Tt),intersect_default.rect(te,Tt)},dt}__name(iconCircle,"iconCircle");async function iconRounded(ee,te,{config:{themeVariables:ne,flowchart:xe}}){const{labelStyles:rt}=styles2String(te);te.labelStyle=rt;const it=te.assetHeight??48,lt=te.assetWidth??48,ct=Math.max(it,lt),ut=xe?.wrappingWidth;te.width=Math.max(ct,ut??0);const{shapeSvg:dt,bbox:ht,halfPadding:ft,label:pt}=await labelHelper(ee,te,"icon-shape default"),mt=te.pos==="t",xt=ct+ft*2,yt=ct+ft*2,{nodeBorder:vt,mainBkg:Et}=ne,{stylesMap:_t}=compileStyles(te),wt=-yt/2,St=-xt/2,Ct=te.label?8:0,jt=at.svg(dt),Rt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Rt.roughness=0,Rt.fillStyle="solid");const Pt=_t.get("fill");Rt.stroke=Pt??Et;const Ot=jt.path(createRoundedRectPathD(wt,St,yt,xt,5),Rt),Ft=Math.max(yt,ht.width),Lt=xt+ht.height+Ct,Bt=jt.rectangle(-Ft/2,-Lt/2,Ft,Lt,{...Rt,fill:"transparent",stroke:"none"}),Gt=dt.insert(()=>Ot,":first-child").attr("class","icon-shape2"),It=dt.insert(()=>Bt);if(te.icon){const qt=dt.append("g");qt.html(`<g>${await getIconSVG(te.icon,{height:ct,width:ct,fallbackPrefix:""})}</g>`);const Nt=qt.node().getBBox(),Dt=Nt.width,Tt=Nt.height,Mt=Nt.x,$t=Nt.y;qt.attr("transform",`translate(${-Dt/2-Mt},${mt?ht.height/2+Ct/2-Tt/2-$t:-ht.height/2-Ct/2-Tt/2-$t})`),qt.attr("style",`color: ${_t.get("stroke")??vt};`)}return pt.attr("transform",`translate(${-ht.width/2-(ht.x-(ht.left??0))},${mt?-Lt/2:Lt/2-ht.height})`),Gt.attr("transform",`translate(0,${mt?ht.height/2+Ct/2:-ht.height/2-Ct/2})`),updateNodeBounds(te,It),te.intersect=function(qt){if(log.info("iconSquare intersect",te,qt),!te.label)return intersect_default.rect(te,qt);const Nt=te.x??0,Dt=te.y??0,Tt=te.height??0;let Mt=[];return mt?Mt=[{x:Nt-ht.width/2,y:Dt-Tt/2},{x:Nt+ht.width/2,y:Dt-Tt/2},{x:Nt+ht.width/2,y:Dt-Tt/2+ht.height+Ct},{x:Nt+yt/2,y:Dt-Tt/2+ht.height+Ct},{x:Nt+yt/2,y:Dt+Tt/2},{x:Nt-yt/2,y:Dt+Tt/2},{x:Nt-yt/2,y:Dt-Tt/2+ht.height+Ct},{x:Nt-ht.width/2,y:Dt-Tt/2+ht.height+Ct}]:Mt=[{x:Nt-yt/2,y:Dt-Tt/2},{x:Nt+yt/2,y:Dt-Tt/2},{x:Nt+yt/2,y:Dt-Tt/2+xt},{x:Nt+ht.width/2,y:Dt-Tt/2+xt},{x:Nt+ht.width/2/2,y:Dt+Tt/2},{x:Nt-ht.width/2,y:Dt+Tt/2},{x:Nt-ht.width/2,y:Dt-Tt/2+xt},{x:Nt-yt/2,y:Dt-Tt/2+xt}],intersect_default.polygon(te,Mt,qt)},dt}__name(iconRounded,"iconRounded");async function iconSquare(ee,te,{config:{themeVariables:ne,flowchart:xe}}){const{labelStyles:rt}=styles2String(te);te.labelStyle=rt;const it=te.assetHeight??48,lt=te.assetWidth??48,ct=Math.max(it,lt),ut=xe?.wrappingWidth;te.width=Math.max(ct,ut??0);const{shapeSvg:dt,bbox:ht,halfPadding:ft,label:pt}=await labelHelper(ee,te,"icon-shape default"),mt=te.pos==="t",xt=ct+ft*2,yt=ct+ft*2,{nodeBorder:vt,mainBkg:Et}=ne,{stylesMap:_t}=compileStyles(te),wt=-yt/2,St=-xt/2,Ct=te.label?8:0,jt=at.svg(dt),Rt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Rt.roughness=0,Rt.fillStyle="solid");const Pt=_t.get("fill");Rt.stroke=Pt??Et;const Ot=jt.path(createRoundedRectPathD(wt,St,yt,xt,.1),Rt),Ft=Math.max(yt,ht.width),Lt=xt+ht.height+Ct,Bt=jt.rectangle(-Ft/2,-Lt/2,Ft,Lt,{...Rt,fill:"transparent",stroke:"none"}),Gt=dt.insert(()=>Ot,":first-child"),It=dt.insert(()=>Bt);if(te.icon){const qt=dt.append("g");qt.html(`<g>${await getIconSVG(te.icon,{height:ct,width:ct,fallbackPrefix:""})}</g>`);const Nt=qt.node().getBBox(),Dt=Nt.width,Tt=Nt.height,Mt=Nt.x,$t=Nt.y;qt.attr("transform",`translate(${-Dt/2-Mt},${mt?ht.height/2+Ct/2-Tt/2-$t:-ht.height/2-Ct/2-Tt/2-$t})`),qt.attr("style",`color: ${_t.get("stroke")??vt};`)}return pt.attr("transform",`translate(${-ht.width/2-(ht.x-(ht.left??0))},${mt?-Lt/2:Lt/2-ht.height})`),Gt.attr("transform",`translate(0,${mt?ht.height/2+Ct/2:-ht.height/2-Ct/2})`),updateNodeBounds(te,It),te.intersect=function(qt){if(log.info("iconSquare intersect",te,qt),!te.label)return intersect_default.rect(te,qt);const Nt=te.x??0,Dt=te.y??0,Tt=te.height??0;let Mt=[];return mt?Mt=[{x:Nt-ht.width/2,y:Dt-Tt/2},{x:Nt+ht.width/2,y:Dt-Tt/2},{x:Nt+ht.width/2,y:Dt-Tt/2+ht.height+Ct},{x:Nt+yt/2,y:Dt-Tt/2+ht.height+Ct},{x:Nt+yt/2,y:Dt+Tt/2},{x:Nt-yt/2,y:Dt+Tt/2},{x:Nt-yt/2,y:Dt-Tt/2+ht.height+Ct},{x:Nt-ht.width/2,y:Dt-Tt/2+ht.height+Ct}]:Mt=[{x:Nt-yt/2,y:Dt-Tt/2},{x:Nt+yt/2,y:Dt-Tt/2},{x:Nt+yt/2,y:Dt-Tt/2+xt},{x:Nt+ht.width/2,y:Dt-Tt/2+xt},{x:Nt+ht.width/2/2,y:Dt+Tt/2},{x:Nt-ht.width/2,y:Dt+Tt/2},{x:Nt-ht.width/2,y:Dt-Tt/2+xt},{x:Nt-yt/2,y:Dt-Tt/2+xt}],intersect_default.polygon(te,Mt,qt)},dt}__name(iconSquare,"iconSquare");async function imageSquare(ee,te,{config:{flowchart:ne}}){const xe=new Image;xe.src=te?.img??"",await xe.decode();const rt=Number(xe.naturalWidth.toString().replace("px","")),it=Number(xe.naturalHeight.toString().replace("px",""));te.imageAspectRatio=rt/it;const{labelStyles:lt}=styles2String(te);te.labelStyle=lt;const ct=ne?.wrappingWidth;te.defaultWidth=ne?.wrappingWidth;const ut=Math.max(te.label?ct??0:0,te?.assetWidth??rt),dt=te.constraint==="on"&&te?.assetHeight?te.assetHeight*te.imageAspectRatio:ut,ht=te.constraint==="on"?dt/te.imageAspectRatio:te?.assetHeight??it;te.width=Math.max(dt,ct??0);const{shapeSvg:ft,bbox:pt,label:mt}=await labelHelper(ee,te,"image-shape default"),xt=te.pos==="t",yt=-dt/2,vt=-ht/2,Et=te.label?8:0,_t=at.svg(ft),wt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(wt.roughness=0,wt.fillStyle="solid");const St=_t.rectangle(yt,vt,dt,ht,wt),Ct=Math.max(dt,pt.width),jt=ht+pt.height+Et,Rt=_t.rectangle(-Ct/2,-jt/2,Ct,jt,{...wt,fill:"none",stroke:"none"}),Pt=ft.insert(()=>St,":first-child"),Ot=ft.insert(()=>Rt);if(te.img){const Ft=ft.append("image");Ft.attr("href",te.img),Ft.attr("width",dt),Ft.attr("height",ht),Ft.attr("preserveAspectRatio","none"),Ft.attr("transform",`translate(${-dt/2},${xt?jt/2-ht:-jt/2})`)}return mt.attr("transform",`translate(${-pt.width/2-(pt.x-(pt.left??0))},${xt?-ht/2-pt.height/2-Et/2:ht/2-pt.height/2+Et/2})`),Pt.attr("transform",`translate(0,${xt?pt.height/2+Et/2:-pt.height/2-Et/2})`),updateNodeBounds(te,Ot),te.intersect=function(Ft){if(log.info("iconSquare intersect",te,Ft),!te.label)return intersect_default.rect(te,Ft);const Lt=te.x??0,Bt=te.y??0,Gt=te.height??0;let It=[];return xt?It=[{x:Lt-pt.width/2,y:Bt-Gt/2},{x:Lt+pt.width/2,y:Bt-Gt/2},{x:Lt+pt.width/2,y:Bt-Gt/2+pt.height+Et},{x:Lt+dt/2,y:Bt-Gt/2+pt.height+Et},{x:Lt+dt/2,y:Bt+Gt/2},{x:Lt-dt/2,y:Bt+Gt/2},{x:Lt-dt/2,y:Bt-Gt/2+pt.height+Et},{x:Lt-pt.width/2,y:Bt-Gt/2+pt.height+Et}]:It=[{x:Lt-dt/2,y:Bt-Gt/2},{x:Lt+dt/2,y:Bt-Gt/2},{x:Lt+dt/2,y:Bt-Gt/2+ht},{x:Lt+pt.width/2,y:Bt-Gt/2+ht},{x:Lt+pt.width/2/2,y:Bt+Gt/2},{x:Lt-pt.width/2,y:Bt+Gt/2},{x:Lt-pt.width/2,y:Bt-Gt/2+ht},{x:Lt-dt/2,y:Bt-Gt/2+ht}],intersect_default.polygon(te,It,Ft)},ft}__name(imageSquare,"imageSquare");async function inv_trapezoid(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=Math.max(it.width+(te.padding??0)*2,te?.width??0),ct=Math.max(it.height+(te.padding??0)*2,te?.height??0),ut=[{x:0,y:0},{x:lt,y:0},{x:lt+3*ct/6,y:-ct},{x:-3*ct/6,y:-ct}];let dt;const{cssStyles:ht}=te;if(te.look==="handDrawn"){const ft=at.svg(rt),pt=userNodeOverrides(te,{}),mt=createPathFromPoints(ut),xt=ft.path(mt,pt);dt=rt.insert(()=>xt,":first-child").attr("transform",`translate(${-lt/2}, ${ct/2})`),ht&&dt.attr("style",ht)}else dt=insertPolygonShape(rt,lt,ct,ut);return xe&&dt.attr("style",xe),te.width=lt,te.height=ct,updateNodeBounds(te,dt),te.intersect=function(ft){return intersect_default.polygon(te,ut,ft)},rt}__name(inv_trapezoid,"inv_trapezoid");async function drawRect(ee,te,ne){const{labelStyles:xe,nodeStyles:rt}=styles2String(te);te.labelStyle=xe;const{shapeSvg:it,bbox:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(lt.width+ne.labelPaddingX*2,te?.width||0),ut=Math.max(lt.height+ne.labelPaddingY*2,te?.height||0),dt=-ct/2,ht=-ut/2;let ft,{rx:pt,ry:mt}=te;const{cssStyles:xt}=te;if(ne?.rx&&ne.ry&&(pt=ne.rx,mt=ne.ry),te.look==="handDrawn"){const yt=at.svg(it),vt=userNodeOverrides(te,{}),Et=pt||mt?yt.path(createRoundedRectPathD(dt,ht,ct,ut,pt||0),vt):yt.rectangle(dt,ht,ct,ut,vt);ft=it.insert(()=>Et,":first-child"),ft.attr("class","basic label-container").attr("style",handleUndefinedAttr(xt))}else ft=it.insert("rect",":first-child"),ft.attr("class","basic label-container").attr("style",rt).attr("rx",handleUndefinedAttr(pt)).attr("ry",handleUndefinedAttr(mt)).attr("x",dt).attr("y",ht).attr("width",ct).attr("height",ut);return updateNodeBounds(te,ft),te.calcIntersect=function(yt,vt){return intersect_default.rect(yt,vt)},te.intersect=function(yt){return intersect_default.rect(te,yt)},it}__name(drawRect,"drawRect");async function labelRect(ee,te){const{shapeSvg:ne,bbox:xe,label:rt}=await labelHelper(ee,te,"label"),it=ne.insert("rect",":first-child");return it.attr("width",.1).attr("height",.1),ne.attr("class","label edgeLabel"),rt.attr("transform",`translate(${-(xe.width/2)-(xe.x-(xe.left??0))}, ${-(xe.height/2)-(xe.y-(xe.top??0))})`),updateNodeBounds(te,it),te.intersect=function(ut){return intersect_default.rect(te,ut)},ne}__name(labelRect,"labelRect");async function lean_left(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=Math.max(it.width+(te.padding??0),te?.width??0),ct=Math.max(it.height+(te.padding??0),te?.height??0),ut=[{x:0,y:0},{x:lt+3*ct/6,y:0},{x:lt,y:-ct},{x:-(3*ct)/6,y:-ct}];let dt;const{cssStyles:ht}=te;if(te.look==="handDrawn"){const ft=at.svg(rt),pt=userNodeOverrides(te,{}),mt=createPathFromPoints(ut),xt=ft.path(mt,pt);dt=rt.insert(()=>xt,":first-child").attr("transform",`translate(${-lt/2}, ${ct/2})`),ht&&dt.attr("style",ht)}else dt=insertPolygonShape(rt,lt,ct,ut);return xe&&dt.attr("style",xe),te.width=lt,te.height=ct,updateNodeBounds(te,dt),te.intersect=function(ft){return intersect_default.polygon(te,ut,ft)},rt}__name(lean_left,"lean_left");async function lean_right(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=Math.max(it.width+(te.padding??0),te?.width??0),ct=Math.max(it.height+(te.padding??0),te?.height??0),ut=[{x:-3*ct/6,y:0},{x:lt,y:0},{x:lt+3*ct/6,y:-ct},{x:0,y:-ct}];let dt;const{cssStyles:ht}=te;if(te.look==="handDrawn"){const ft=at.svg(rt),pt=userNodeOverrides(te,{}),mt=createPathFromPoints(ut),xt=ft.path(mt,pt);dt=rt.insert(()=>xt,":first-child").attr("transform",`translate(${-lt/2}, ${ct/2})`),ht&&dt.attr("style",ht)}else dt=insertPolygonShape(rt,lt,ct,ut);return xe&&dt.attr("style",xe),te.width=lt,te.height=ct,updateNodeBounds(te,dt),te.intersect=function(ft){return intersect_default.polygon(te,ut,ft)},rt}__name(lean_right,"lean_right");function lightningBolt(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.label="",te.labelStyle=ne;const rt=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId??te.id),{cssStyles:it}=te,lt=Math.max(35,te?.width??0),ct=Math.max(35,te?.height??0),ut=7,dt=[{x:lt,y:0},{x:0,y:ct+ut/2},{x:lt-2*ut,y:ct+ut/2},{x:0,y:2*ct},{x:lt,y:ct-ut/2},{x:2*ut,y:ct-ut/2}],ht=at.svg(rt),ft=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ft.roughness=0,ft.fillStyle="solid");const pt=createPathFromPoints(dt),mt=ht.path(pt,ft),xt=rt.insert(()=>mt,":first-child");return it&&te.look!=="handDrawn"&&xt.selectAll("path").attr("style",it),xe&&te.look!=="handDrawn"&&xt.selectAll("path").attr("style",xe),xt.attr("transform",`translate(-${lt/2},${-ct})`),updateNodeBounds(te,xt),te.intersect=function(yt){return log.info("lightningBolt intersect",te,yt),intersect_default.polygon(te,dt,yt)},rt}__name(lightningBolt,"lightningBolt");var createCylinderPathD2=__name((ee,te,ne,xe,rt,it,lt)=>[`M${ee},${te+it}`,`a${rt},${it} 0,0,0 ${ne},0`,`a${rt},${it} 0,0,0 ${-ne},0`,`l0,${xe}`,`a${rt},${it} 0,0,0 ${ne},0`,`l0,${-xe}`,`M${ee},${te+it+lt}`,`a${rt},${it} 0,0,0 ${ne},0`].join(" "),"createCylinderPathD"),createOuterCylinderPathD2=__name((ee,te,ne,xe,rt,it,lt)=>[`M${ee},${te+it}`,`M${ee+ne},${te+it}`,`a${rt},${it} 0,0,0 ${-ne},0`,`l0,${xe}`,`a${rt},${it} 0,0,0 ${ne},0`,`l0,${-xe}`,`M${ee},${te+it+lt}`,`a${rt},${it} 0,0,0 ${ne},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD2=__name((ee,te,ne,xe,rt,it)=>[`M${ee-ne/2},${-xe/2}`,`a${rt},${it} 0,0,0 ${ne},0`].join(" "),"createInnerCylinderPathD");async function linedCylinder(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0),te.width??0),ut=ct/2,dt=ut/(2.5+ct/50),ht=Math.max(it.height+dt+(te.padding??0),te.height??0),ft=ht*.1;let pt;const{cssStyles:mt}=te;if(te.look==="handDrawn"){const xt=at.svg(rt),yt=createOuterCylinderPathD2(0,0,ct,ht,ut,dt,ft),vt=createInnerCylinderPathD2(0,dt,ct,ht,ut,dt),Et=userNodeOverrides(te,{}),_t=xt.path(yt,Et),wt=xt.path(vt,Et);rt.insert(()=>wt,":first-child").attr("class","line"),pt=rt.insert(()=>_t,":first-child"),pt.attr("class","basic label-container"),mt&&pt.attr("style",mt)}else{const xt=createCylinderPathD2(0,0,ct,ht,ut,dt,ft);pt=rt.insert("path",":first-child").attr("d",xt).attr("class","basic label-container").attr("style",handleUndefinedAttr(mt)).attr("style",xe)}return pt.attr("label-offset-y",dt),pt.attr("transform",`translate(${-ct/2}, ${-(ht/2+dt)})`),updateNodeBounds(te,pt),lt.attr("transform",`translate(${-(it.width/2)-(it.x-(it.left??0))}, ${-(it.height/2)+dt-(it.y-(it.top??0))})`),te.intersect=function(xt){const yt=intersect_default.rect(te,xt),vt=yt.x-(te.x??0);if(ut!=0&&(Math.abs(vt)<(te.width??0)/2||Math.abs(vt)==(te.width??0)/2&&Math.abs(yt.y-(te.y??0))>(te.height??0)/2-dt)){let Et=dt*dt*(1-vt*vt/(ut*ut));Et>0&&(Et=Math.sqrt(Et)),Et=dt-Et,xt.y-(te.y??0)>0&&(Et=-Et),yt.y+=Et}return yt},rt}__name(linedCylinder,"linedCylinder");async function linedWaveEdgedRect(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0)*2,te?.width??0),ut=Math.max(it.height+(te.padding??0)*2,te?.height??0),dt=ut/4,ht=ut+dt,{cssStyles:ft}=te,pt=at.svg(rt),mt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const xt=[{x:-ct/2-ct/2*.1,y:-ht/2},{x:-ct/2-ct/2*.1,y:ht/2},...generateFullSineWavePoints(-ct/2-ct/2*.1,ht/2,ct/2+ct/2*.1,ht/2,dt,.8),{x:ct/2+ct/2*.1,y:-ht/2},{x:-ct/2-ct/2*.1,y:-ht/2},{x:-ct/2,y:-ht/2},{x:-ct/2,y:ht/2*1.1},{x:-ct/2,y:-ht/2}],yt=pt.polygon(xt.map(Et=>[Et.x,Et.y]),mt),vt=rt.insert(()=>yt,":first-child");return vt.attr("class","basic label-container"),ft&&te.look!=="handDrawn"&&vt.selectAll("path").attr("style",ft),xe&&te.look!=="handDrawn"&&vt.selectAll("path").attr("style",xe),vt.attr("transform",`translate(0,${-dt/2})`),lt.attr("transform",`translate(${-ct/2+(te.padding??0)+ct/2*.1/2-(it.x-(it.left??0))},${-ut/2+(te.padding??0)-dt/2-(it.y-(it.top??0))})`),updateNodeBounds(te,vt),te.intersect=function(Et){return intersect_default.polygon(te,xt,Et)},rt}__name(linedWaveEdgedRect,"linedWaveEdgedRect");async function multiRect(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0)*2,te?.width??0),ut=Math.max(it.height+(te.padding??0)*2,te?.height??0),dt=5,ht=-ct/2,ft=-ut/2,{cssStyles:pt}=te,mt=at.svg(rt),xt=userNodeOverrides(te,{}),yt=[{x:ht-dt,y:ft+dt},{x:ht-dt,y:ft+ut+dt},{x:ht+ct-dt,y:ft+ut+dt},{x:ht+ct-dt,y:ft+ut},{x:ht+ct,y:ft+ut},{x:ht+ct,y:ft+ut-dt},{x:ht+ct+dt,y:ft+ut-dt},{x:ht+ct+dt,y:ft-dt},{x:ht+dt,y:ft-dt},{x:ht+dt,y:ft},{x:ht,y:ft},{x:ht,y:ft+dt}],vt=[{x:ht,y:ft+dt},{x:ht+ct-dt,y:ft+dt},{x:ht+ct-dt,y:ft+ut},{x:ht+ct,y:ft+ut},{x:ht+ct,y:ft},{x:ht,y:ft}];te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const Et=createPathFromPoints(yt),_t=mt.path(Et,xt),wt=createPathFromPoints(vt),St=mt.path(wt,{...xt,fill:"none"}),Ct=rt.insert(()=>St,":first-child");return Ct.insert(()=>_t,":first-child"),Ct.attr("class","basic label-container"),pt&&te.look!=="handDrawn"&&Ct.selectAll("path").attr("style",pt),xe&&te.look!=="handDrawn"&&Ct.selectAll("path").attr("style",xe),lt.attr("transform",`translate(${-(it.width/2)-dt-(it.x-(it.left??0))}, ${-(it.height/2)+dt-(it.y-(it.top??0))})`),updateNodeBounds(te,Ct),te.intersect=function(jt){return intersect_default.polygon(te,yt,jt)},rt}__name(multiRect,"multiRect");async function multiWaveEdgedRectangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0)*2,te?.width??0),ut=Math.max(it.height+(te.padding??0)*2,te?.height??0),dt=ut/4,ht=ut+dt,ft=-ct/2,pt=-ht/2,mt=5,{cssStyles:xt}=te,yt=generateFullSineWavePoints(ft-mt,pt+ht+mt,ft+ct-mt,pt+ht+mt,dt,.8),vt=yt?.[yt.length-1],Et=[{x:ft-mt,y:pt+mt},{x:ft-mt,y:pt+ht+mt},...yt,{x:ft+ct-mt,y:vt.y-mt},{x:ft+ct,y:vt.y-mt},{x:ft+ct,y:vt.y-2*mt},{x:ft+ct+mt,y:vt.y-2*mt},{x:ft+ct+mt,y:pt-mt},{x:ft+mt,y:pt-mt},{x:ft+mt,y:pt},{x:ft,y:pt},{x:ft,y:pt+mt}],_t=[{x:ft,y:pt+mt},{x:ft+ct-mt,y:pt+mt},{x:ft+ct-mt,y:vt.y-mt},{x:ft+ct,y:vt.y-mt},{x:ft+ct,y:pt},{x:ft,y:pt}],wt=at.svg(rt),St=userNodeOverrides(te,{});te.look!=="handDrawn"&&(St.roughness=0,St.fillStyle="solid");const Ct=createPathFromPoints(Et),jt=wt.path(Ct,St),Rt=createPathFromPoints(_t),Pt=wt.path(Rt,St),Ot=rt.insert(()=>jt,":first-child");return Ot.insert(()=>Pt),Ot.attr("class","basic label-container"),xt&&te.look!=="handDrawn"&&Ot.selectAll("path").attr("style",xt),xe&&te.look!=="handDrawn"&&Ot.selectAll("path").attr("style",xe),Ot.attr("transform",`translate(0,${-dt/2})`),lt.attr("transform",`translate(${-(it.width/2)-mt-(it.x-(it.left??0))}, ${-(it.height/2)+mt-dt/2-(it.y-(it.top??0))})`),updateNodeBounds(te,Ot),te.intersect=function(Ft){return intersect_default.polygon(te,Et,Ft)},rt}__name(multiWaveEdgedRectangle,"multiWaveEdgedRectangle");async function note(ee,te,{config:{themeVariables:ne}}){const{labelStyles:xe,nodeStyles:rt}=styles2String(te);te.labelStyle=xe,te.useHtmlLabels||getConfig().flowchart?.htmlLabels!==!1||(te.centerLabel=!0);const{shapeSvg:lt,bbox:ct,label:ut}=await labelHelper(ee,te,getNodeClasses(te)),dt=Math.max(ct.width+(te.padding??0)*2,te?.width??0),ht=Math.max(ct.height+(te.padding??0)*2,te?.height??0),ft=-dt/2,pt=-ht/2,{cssStyles:mt}=te,xt=at.svg(lt),yt=userNodeOverrides(te,{fill:ne.noteBkgColor,stroke:ne.noteBorderColor});te.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const vt=xt.rectangle(ft,pt,dt,ht,yt),Et=lt.insert(()=>vt,":first-child");return Et.attr("class","basic label-container"),mt&&te.look!=="handDrawn"&&Et.selectAll("path").attr("style",mt),rt&&te.look!=="handDrawn"&&Et.selectAll("path").attr("style",rt),ut.attr("transform",`translate(${-ct.width/2-(ct.x-(ct.left??0))}, ${-(ct.height/2)-(ct.y-(ct.top??0))})`),updateNodeBounds(te,Et),te.intersect=function(_t){return intersect_default.rect(te,_t)},lt}__name(note,"note");var createDecisionBoxPathD=__name((ee,te,ne)=>[`M${ee+ne/2},${te}`,`L${ee+ne},${te-ne/2}`,`L${ee+ne/2},${te-ne}`,`L${ee},${te-ne/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function question(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=it.width+te.padding,ct=it.height+te.padding,ut=lt+ct,dt=.5,ht=[{x:ut/2,y:0},{x:ut,y:-ut/2},{x:ut/2,y:-ut},{x:0,y:-ut/2}];let ft;const{cssStyles:pt}=te;if(te.look==="handDrawn"){const mt=at.svg(rt),xt=userNodeOverrides(te,{}),yt=createDecisionBoxPathD(0,0,ut),vt=mt.path(yt,xt);ft=rt.insert(()=>vt,":first-child").attr("transform",`translate(${-ut/2+dt}, ${ut/2})`),pt&&ft.attr("style",pt)}else ft=insertPolygonShape(rt,ut,ut,ht),ft.attr("transform",`translate(${-ut/2+dt}, ${ut/2})`);return xe&&ft.attr("style",xe),updateNodeBounds(te,ft),te.calcIntersect=function(mt,xt){const yt=mt.width,vt=[{x:yt/2,y:0},{x:yt,y:-yt/2},{x:yt/2,y:-yt},{x:0,y:-yt/2}],Et=intersect_default.polygon(mt,vt,xt);return{x:Et.x-.5,y:Et.y-.5}},te.intersect=function(mt){return this.calcIntersect(te,mt)},rt}__name(question,"question");async function rect_left_inv_arrow(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0),te?.width??0),ut=Math.max(it.height+(te.padding??0),te?.height??0),dt=-ct/2,ht=-ut/2,ft=ht/2,pt=[{x:dt+ft,y:ht},{x:dt,y:0},{x:dt+ft,y:-ht},{x:-dt,y:-ht},{x:-dt,y:ht}],{cssStyles:mt}=te,xt=at.svg(rt),yt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const vt=createPathFromPoints(pt),Et=xt.path(vt,yt),_t=rt.insert(()=>Et,":first-child");return _t.attr("class","basic label-container"),mt&&te.look!=="handDrawn"&&_t.selectAll("path").attr("style",mt),xe&&te.look!=="handDrawn"&&_t.selectAll("path").attr("style",xe),_t.attr("transform",`translate(${-ft/2},0)`),lt.attr("transform",`translate(${-ft/2-it.width/2-(it.x-(it.left??0))}, ${-(it.height/2)-(it.y-(it.top??0))})`),updateNodeBounds(te,_t),te.intersect=function(wt){return intersect_default.polygon(te,pt,wt)},rt}__name(rect_left_inv_arrow,"rect_left_inv_arrow");async function rectWithTitle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;let rt;te.cssClasses?rt="node "+te.cssClasses:rt="node default";const it=ee.insert("g").attr("class",rt).attr("id",te.domId||te.id),lt=it.insert("g"),ct=it.insert("g").attr("class","label").attr("style",xe),ut=te.description,dt=te.label,ht=ct.node().appendChild(await createLabel_default(dt,te.labelStyle,!0,!0));let ft={width:0,height:0};if(evaluate(getConfig2()?.flowchart?.htmlLabels)){const Pt=ht.children[0],Ot=select(ht);ft=Pt.getBoundingClientRect(),Ot.attr("width",ft.width),Ot.attr("height",ft.height)}log.info("Text 2",ut);const pt=ut||[],mt=ht.getBBox(),xt=ct.node().appendChild(await createLabel_default(pt.join?pt.join("<br/>"):pt,te.labelStyle,!0,!0)),yt=xt.children[0],vt=select(xt);ft=yt.getBoundingClientRect(),vt.attr("width",ft.width),vt.attr("height",ft.height);const Et=(te.padding||0)/2;select(xt).attr("transform","translate( "+(ft.width>mt.width?0:(mt.width-ft.width)/2)+", "+(mt.height+Et+5)+")"),select(ht).attr("transform","translate( "+(ft.width<mt.width?0:-(mt.width-ft.width)/2)+", 0)"),ft=ct.node().getBBox(),ct.attr("transform","translate("+-ft.width/2+", "+(-ft.height/2-Et+3)+")");const _t=ft.width+(te.padding||0),wt=ft.height+(te.padding||0),St=-ft.width/2-Et,Ct=-ft.height/2-Et;let jt,Rt;if(te.look==="handDrawn"){const Pt=at.svg(it),Ot=userNodeOverrides(te,{}),Ft=Pt.path(createRoundedRectPathD(St,Ct,_t,wt,te.rx||0),Ot),Lt=Pt.line(-ft.width/2-Et,-ft.height/2-Et+mt.height+Et,ft.width/2+Et,-ft.height/2-Et+mt.height+Et,Ot);Rt=it.insert(()=>(log.debug("Rough node insert CXC",Ft),Lt),":first-child"),jt=it.insert(()=>(log.debug("Rough node insert CXC",Ft),Ft),":first-child")}else jt=lt.insert("rect",":first-child"),Rt=lt.insert("line"),jt.attr("class","outer title-state").attr("style",xe).attr("x",-ft.width/2-Et).attr("y",-ft.height/2-Et).attr("width",ft.width+(te.padding||0)).attr("height",ft.height+(te.padding||0)),Rt.attr("class","divider").attr("x1",-ft.width/2-Et).attr("x2",ft.width/2+Et).attr("y1",-ft.height/2-Et+mt.height+Et).attr("y2",-ft.height/2-Et+mt.height+Et);return updateNodeBounds(te,jt),te.intersect=function(Pt){return intersect_default.rect(te,Pt)},it}__name(rectWithTitle,"rectWithTitle");function generateArcPoints2(ee,te,ne,xe,rt,it,lt){const ut=(ee+ne)/2,dt=(te+xe)/2,ht=Math.atan2(xe-te,ne-ee),ft=(ne-ee)/2,pt=(xe-te)/2,mt=ft/rt,xt=pt/it,yt=Math.sqrt(mt**2+xt**2);if(yt>1)throw new Error("The given radii are too small to create an arc between the points.");const vt=Math.sqrt(1-yt**2),Et=ut+vt*it*Math.sin(ht)*(lt?-1:1),_t=dt-vt*rt*Math.cos(ht)*(lt?-1:1),wt=Math.atan2((te-_t)/it,(ee-Et)/rt);let Ct=Math.atan2((xe-_t)/it,(ne-Et)/rt)-wt;lt&&Ct<0&&(Ct+=2*Math.PI),!lt&&Ct>0&&(Ct-=2*Math.PI);const jt=[];for(let Rt=0;Rt<20;Rt++){const Pt=Rt/19,Ot=wt+Pt*Ct,Ft=Et+rt*Math.cos(Ot),Lt=_t+it*Math.sin(Ot);jt.push({x:Ft,y:Lt})}return jt}__name(generateArcPoints2,"generateArcPoints");async function roundedRect(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=te?.padding??0,ct=te?.padding??0,ut=(te?.width?te?.width:it.width)+lt*2,dt=(te?.height?te?.height:it.height)+ct*2,ht=te.radius||5,ft=te.taper||5,{cssStyles:pt}=te,mt=at.svg(rt),xt=userNodeOverrides(te,{});te.stroke&&(xt.stroke=te.stroke),te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const yt=[{x:-ut/2+ft,y:-dt/2},{x:ut/2-ft,y:-dt/2},...generateArcPoints2(ut/2-ft,-dt/2,ut/2,-dt/2+ft,ht,ht,!0),{x:ut/2,y:-dt/2+ft},{x:ut/2,y:dt/2-ft},...generateArcPoints2(ut/2,dt/2-ft,ut/2-ft,dt/2,ht,ht,!0),{x:ut/2-ft,y:dt/2},{x:-ut/2+ft,y:dt/2},...generateArcPoints2(-ut/2+ft,dt/2,-ut/2,dt/2-ft,ht,ht,!0),{x:-ut/2,y:dt/2-ft},{x:-ut/2,y:-dt/2+ft},...generateArcPoints2(-ut/2,-dt/2+ft,-ut/2+ft,-dt/2,ht,ht,!0)],vt=createPathFromPoints(yt),Et=mt.path(vt,xt),_t=rt.insert(()=>Et,":first-child");return _t.attr("class","basic label-container outer-path"),pt&&te.look!=="handDrawn"&&_t.selectChildren("path").attr("style",pt),xe&&te.look!=="handDrawn"&&_t.selectChildren("path").attr("style",xe),updateNodeBounds(te,_t),te.intersect=function(wt){return intersect_default.polygon(te,yt,wt)},rt}__name(roundedRect,"roundedRect");async function shadedProcess(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=te?.padding??0,ut=Math.max(it.width+(te.padding??0)*2,te?.width??0),dt=Math.max(it.height+(te.padding??0)*2,te?.height??0),ht=-it.width/2-ct,ft=-it.height/2-ct,{cssStyles:pt}=te,mt=at.svg(rt),xt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const yt=[{x:ht,y:ft},{x:ht+ut+8,y:ft},{x:ht+ut+8,y:ft+dt},{x:ht-8,y:ft+dt},{x:ht-8,y:ft},{x:ht,y:ft},{x:ht,y:ft+dt}],vt=mt.polygon(yt.map(_t=>[_t.x,_t.y]),xt),Et=rt.insert(()=>vt,":first-child");return Et.attr("class","basic label-container").attr("style",handleUndefinedAttr(pt)),xe&&te.look!=="handDrawn"&&Et.selectAll("path").attr("style",xe),pt&&te.look!=="handDrawn"&&Et.selectAll("path").attr("style",xe),lt.attr("transform",`translate(${-ut/2+4+(te.padding??0)-(it.x-(it.left??0))},${-dt/2+(te.padding??0)-(it.y-(it.top??0))})`),updateNodeBounds(te,Et),te.intersect=function(_t){return intersect_default.rect(te,_t)},rt}__name(shadedProcess,"shadedProcess");async function slopedRect(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0)*2,te?.width??0),ut=Math.max(it.height+(te.padding??0)*2,te?.height??0),dt=-ct/2,ht=-ut/2,{cssStyles:ft}=te,pt=at.svg(rt),mt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(mt.roughness=0,mt.fillStyle="solid");const xt=[{x:dt,y:ht},{x:dt,y:ht+ut},{x:dt+ct,y:ht+ut},{x:dt+ct,y:ht-ut/2}],yt=createPathFromPoints(xt),vt=pt.path(yt,mt),Et=rt.insert(()=>vt,":first-child");return Et.attr("class","basic label-container"),ft&&te.look!=="handDrawn"&&Et.selectChildren("path").attr("style",ft),xe&&te.look!=="handDrawn"&&Et.selectChildren("path").attr("style",xe),Et.attr("transform",`translate(0, ${ut/4})`),lt.attr("transform",`translate(${-ct/2+(te.padding??0)-(it.x-(it.left??0))}, ${-ut/4+(te.padding??0)-(it.y-(it.top??0))})`),updateNodeBounds(te,Et),te.intersect=function(_t){return intersect_default.polygon(te,xt,_t)},rt}__name(slopedRect,"slopedRect");async function squareRect2(ee,te){const ne={rx:0,ry:0,labelPaddingX:te.labelPaddingX??(te?.padding||0)*2,labelPaddingY:(te?.padding||0)*1};return drawRect(ee,te,ne)}__name(squareRect2,"squareRect");async function stadium(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=it.height+te.padding,ct=it.width+lt/4+te.padding,ut=lt/2,{cssStyles:dt}=te,ht=at.svg(rt),ft=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ft.roughness=0,ft.fillStyle="solid");const pt=[{x:-ct/2+ut,y:-lt/2},{x:ct/2-ut,y:-lt/2},...generateCirclePoints(-ct/2+ut,0,ut,50,90,270),{x:ct/2-ut,y:lt/2},...generateCirclePoints(ct/2-ut,0,ut,50,270,450)],mt=createPathFromPoints(pt),xt=ht.path(mt,ft),yt=rt.insert(()=>xt,":first-child");return yt.attr("class","basic label-container outer-path"),dt&&te.look!=="handDrawn"&&yt.selectChildren("path").attr("style",dt),xe&&te.look!=="handDrawn"&&yt.selectChildren("path").attr("style",xe),updateNodeBounds(te,yt),te.intersect=function(vt){return intersect_default.polygon(te,pt,vt)},rt}__name(stadium,"stadium");async function state(ee,te){return drawRect(ee,te,{rx:5,ry:5})}__name(state,"state");function stateEnd(ee,te,{config:{themeVariables:ne}}){const{labelStyles:xe,nodeStyles:rt}=styles2String(te);te.labelStyle=xe;const{cssStyles:it}=te,{lineColor:lt,stateBorder:ct,nodeBorder:ut}=ne,dt=ee.insert("g").attr("class","node default").attr("id",te.domId||te.id),ht=at.svg(dt),ft=userNodeOverrides(te,{});te.look!=="handDrawn"&&(ft.roughness=0,ft.fillStyle="solid");const pt=ht.circle(0,0,14,{...ft,stroke:lt,strokeWidth:2}),mt=ct??ut,xt=ht.circle(0,0,5,{...ft,fill:mt,stroke:mt,strokeWidth:2,fillStyle:"solid"}),yt=dt.insert(()=>pt,":first-child");return yt.insert(()=>xt),it&&yt.selectAll("path").attr("style",it),rt&&yt.selectAll("path").attr("style",rt),updateNodeBounds(te,yt),te.intersect=function(vt){return intersect_default.circle(te,7,vt)},dt}__name(stateEnd,"stateEnd");function stateStart(ee,te,{config:{themeVariables:ne}}){const{lineColor:xe}=ne,rt=ee.insert("g").attr("class","node default").attr("id",te.domId||te.id);let it;if(te.look==="handDrawn"){const ct=at.svg(rt).circle(0,0,14,solidStateFill(xe));it=rt.insert(()=>ct),it.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else it=rt.insert("circle",":first-child"),it.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return updateNodeBounds(te,it),te.intersect=function(lt){return intersect_default.circle(te,7,lt)},rt}__name(stateStart,"stateStart");async function subroutine(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=(te?.padding||0)/2,ct=it.width+te.padding,ut=it.height+te.padding,dt=-it.width/2-lt,ht=-it.height/2-lt,ft=[{x:0,y:0},{x:ct,y:0},{x:ct,y:-ut},{x:0,y:-ut},{x:0,y:0},{x:-8,y:0},{x:ct+8,y:0},{x:ct+8,y:-ut},{x:-8,y:-ut},{x:-8,y:0}];if(te.look==="handDrawn"){const pt=at.svg(rt),mt=userNodeOverrides(te,{}),xt=pt.rectangle(dt-8,ht,ct+16,ut,mt),yt=pt.line(dt,ht,dt,ht+ut,mt),vt=pt.line(dt+ct,ht,dt+ct,ht+ut,mt);rt.insert(()=>yt,":first-child"),rt.insert(()=>vt,":first-child");const Et=rt.insert(()=>xt,":first-child"),{cssStyles:_t}=te;Et.attr("class","basic label-container").attr("style",handleUndefinedAttr(_t)),updateNodeBounds(te,Et)}else{const pt=insertPolygonShape(rt,ct,ut,ft);xe&&pt.attr("style",xe),updateNodeBounds(te,pt)}return te.intersect=function(pt){return intersect_default.polygon(te,ft,pt)},rt}__name(subroutine,"subroutine");async function taggedRect(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=Math.max(it.width+(te.padding??0)*2,te?.width??0),ct=Math.max(it.height+(te.padding??0)*2,te?.height??0),ut=-lt/2,dt=-ct/2,ht=.2*ct,ft=.2*ct,{cssStyles:pt}=te,mt=at.svg(rt),xt=userNodeOverrides(te,{}),yt=[{x:ut-ht/2,y:dt},{x:ut+lt+ht/2,y:dt},{x:ut+lt+ht/2,y:dt+ct},{x:ut-ht/2,y:dt+ct}],vt=[{x:ut+lt-ht/2,y:dt+ct},{x:ut+lt+ht/2,y:dt+ct},{x:ut+lt+ht/2,y:dt+ct-ft}];te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const Et=createPathFromPoints(yt),_t=mt.path(Et,xt),wt=createPathFromPoints(vt),St=mt.path(wt,{...xt,fillStyle:"solid"}),Ct=rt.insert(()=>St,":first-child");return Ct.insert(()=>_t,":first-child"),Ct.attr("class","basic label-container"),pt&&te.look!=="handDrawn"&&Ct.selectAll("path").attr("style",pt),xe&&te.look!=="handDrawn"&&Ct.selectAll("path").attr("style",xe),updateNodeBounds(te,Ct),te.intersect=function(jt){return intersect_default.polygon(te,yt,jt)},rt}__name(taggedRect,"taggedRect");async function taggedWaveEdgedRectangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0)*2,te?.width??0),ut=Math.max(it.height+(te.padding??0)*2,te?.height??0),dt=ut/4,ht=.2*ct,ft=.2*ut,pt=ut+dt,{cssStyles:mt}=te,xt=at.svg(rt),yt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(yt.roughness=0,yt.fillStyle="solid");const vt=[{x:-ct/2-ct/2*.1,y:pt/2},...generateFullSineWavePoints(-ct/2-ct/2*.1,pt/2,ct/2+ct/2*.1,pt/2,dt,.8),{x:ct/2+ct/2*.1,y:-pt/2},{x:-ct/2-ct/2*.1,y:-pt/2}],Et=-ct/2+ct/2*.1,_t=-pt/2-ft*.4,wt=[{x:Et+ct-ht,y:(_t+ut)*1.4},{x:Et+ct,y:_t+ut-ft},{x:Et+ct,y:(_t+ut)*.9},...generateFullSineWavePoints(Et+ct,(_t+ut)*1.3,Et+ct-ht,(_t+ut)*1.5,-ut*.03,.5)],St=createPathFromPoints(vt),Ct=xt.path(St,yt),jt=createPathFromPoints(wt),Rt=xt.path(jt,{...yt,fillStyle:"solid"}),Pt=rt.insert(()=>Rt,":first-child");return Pt.insert(()=>Ct,":first-child"),Pt.attr("class","basic label-container"),mt&&te.look!=="handDrawn"&&Pt.selectAll("path").attr("style",mt),xe&&te.look!=="handDrawn"&&Pt.selectAll("path").attr("style",xe),Pt.attr("transform",`translate(0,${-dt/2})`),lt.attr("transform",`translate(${-ct/2+(te.padding??0)-(it.x-(it.left??0))},${-ut/2+(te.padding??0)-dt/2-(it.y-(it.top??0))})`),updateNodeBounds(te,Pt),te.intersect=function(Ot){return intersect_default.polygon(te,vt,Ot)},rt}__name(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle");async function text(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=Math.max(it.width+te.padding,te?.width||0),ct=Math.max(it.height+te.padding,te?.height||0),ut=-lt/2,dt=-ct/2,ht=rt.insert("rect",":first-child");return ht.attr("class","text").attr("style",xe).attr("rx",0).attr("ry",0).attr("x",ut).attr("y",dt).attr("width",lt).attr("height",ct),updateNodeBounds(te,ht),te.intersect=function(ft){return intersect_default.rect(te,ft)},rt}__name(text,"text");var createCylinderPathD3=__name((ee,te,ne,xe,rt,it)=>`M${ee},${te}
    a${rt},${it} 0,0,1 0,${-xe}
    l${ne},0
    a${rt},${it} 0,0,1 0,${xe}
    M${ne},${-xe}
    a${rt},${it} 0,0,0 0,${xe}
    l${-ne},0`,"createCylinderPathD"),createOuterCylinderPathD3=__name((ee,te,ne,xe,rt,it)=>[`M${ee},${te}`,`M${ee+ne},${te}`,`a${rt},${it} 0,0,0 0,${-xe}`,`l${-ne},0`,`a${rt},${it} 0,0,0 0,${xe}`,`l${ne},0`].join(" "),"createOuterCylinderPathD"),createInnerCylinderPathD3=__name((ee,te,ne,xe,rt,it)=>[`M${ee+ne/2},${-xe/2}`,`a${rt},${it} 0,0,0 0,${xe}`].join(" "),"createInnerCylinderPathD");async function tiltedCylinder(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt,halfPadding:ct}=await labelHelper(ee,te,getNodeClasses(te)),ut=te.look==="neo"?ct*2:ct,dt=it.height+ut,ht=dt/2,ft=ht/(2.5+dt/50),pt=it.width+ft+ut,{cssStyles:mt}=te;let xt;if(te.look==="handDrawn"){const yt=at.svg(rt),vt=createOuterCylinderPathD3(0,0,pt,dt,ft,ht),Et=createInnerCylinderPathD3(0,0,pt,dt,ft,ht),_t=yt.path(vt,userNodeOverrides(te,{})),wt=yt.path(Et,userNodeOverrides(te,{fill:"none"}));xt=rt.insert(()=>wt,":first-child"),xt=rt.insert(()=>_t,":first-child"),xt.attr("class","basic label-container"),mt&&xt.attr("style",mt)}else{const yt=createCylinderPathD3(0,0,pt,dt,ft,ht);xt=rt.insert("path",":first-child").attr("d",yt).attr("class","basic label-container").attr("style",handleUndefinedAttr(mt)).attr("style",xe),xt.attr("class","basic label-container"),mt&&xt.selectAll("path").attr("style",mt),xe&&xt.selectAll("path").attr("style",xe)}return xt.attr("label-offset-x",ft),xt.attr("transform",`translate(${-pt/2}, ${dt/2} )`),lt.attr("transform",`translate(${-(it.width/2)-ft-(it.x-(it.left??0))}, ${-(it.height/2)-(it.y-(it.top??0))})`),updateNodeBounds(te,xt),te.intersect=function(yt){const vt=intersect_default.rect(te,yt),Et=vt.y-(te.y??0);if(ht!=0&&(Math.abs(Et)<(te.height??0)/2||Math.abs(Et)==(te.height??0)/2&&Math.abs(vt.x-(te.x??0))>(te.width??0)/2-ft)){let _t=ft*ft*(1-Et*Et/(ht*ht));_t!=0&&(_t=Math.sqrt(Math.abs(_t))),_t=ft-_t,yt.x-(te.x??0)>0&&(_t=-_t),vt.x+=_t}return vt},rt}__name(tiltedCylinder,"tiltedCylinder");async function trapezoid(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=it.width+te.padding,ct=it.height+te.padding,ut=[{x:-3*ct/6,y:0},{x:lt+3*ct/6,y:0},{x:lt,y:-ct},{x:0,y:-ct}];let dt;const{cssStyles:ht}=te;if(te.look==="handDrawn"){const ft=at.svg(rt),pt=userNodeOverrides(te,{}),mt=createPathFromPoints(ut),xt=ft.path(mt,pt);dt=rt.insert(()=>xt,":first-child").attr("transform",`translate(${-lt/2}, ${ct/2})`),ht&&dt.attr("style",ht)}else dt=insertPolygonShape(rt,lt,ct,ut);return xe&&dt.attr("style",xe),te.width=lt,te.height=ct,updateNodeBounds(te,dt),te.intersect=function(ft){return intersect_default.polygon(te,ut,ft)},rt}__name(trapezoid,"trapezoid");async function trapezoidalPentagon(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=60,ct=20,ut=Math.max(lt,it.width+(te.padding??0)*2,te?.width??0),dt=Math.max(ct,it.height+(te.padding??0)*2,te?.height??0),{cssStyles:ht}=te,ft=at.svg(rt),pt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(pt.roughness=0,pt.fillStyle="solid");const mt=[{x:-ut/2*.8,y:-dt/2},{x:ut/2*.8,y:-dt/2},{x:ut/2,y:-dt/2*.6},{x:ut/2,y:dt/2},{x:-ut/2,y:dt/2},{x:-ut/2,y:-dt/2*.6}],xt=createPathFromPoints(mt),yt=ft.path(xt,pt),vt=rt.insert(()=>yt,":first-child");return vt.attr("class","basic label-container"),ht&&te.look!=="handDrawn"&&vt.selectChildren("path").attr("style",ht),xe&&te.look!=="handDrawn"&&vt.selectChildren("path").attr("style",xe),updateNodeBounds(te,vt),te.intersect=function(Et){return intersect_default.polygon(te,mt,Et)},rt}__name(trapezoidalPentagon,"trapezoidalPentagon");async function triangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=evaluate(getConfig2().flowchart?.htmlLabels),ut=it.width+(te.padding??0),dt=ut+it.height,ht=ut+it.height,ft=[{x:0,y:0},{x:ht,y:0},{x:ht/2,y:-dt}],{cssStyles:pt}=te,mt=at.svg(rt),xt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const yt=createPathFromPoints(ft),vt=mt.path(yt,xt),Et=rt.insert(()=>vt,":first-child").attr("transform",`translate(${-dt/2}, ${dt/2})`);return pt&&te.look!=="handDrawn"&&Et.selectChildren("path").attr("style",pt),xe&&te.look!=="handDrawn"&&Et.selectChildren("path").attr("style",xe),te.width=ut,te.height=dt,updateNodeBounds(te,Et),lt.attr("transform",`translate(${-it.width/2-(it.x-(it.left??0))}, ${dt/2-(it.height+(te.padding??0)/(ct?2:1)-(it.y-(it.top??0)))})`),te.intersect=function(_t){return log.info("Triangle intersect",te,ft,_t),intersect_default.polygon(te,ft,_t)},rt}__name(triangle,"triangle");async function waveEdgedRectangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0)*2,te?.width??0),ut=Math.max(it.height+(te.padding??0)*2,te?.height??0),dt=ut/8,ht=ut+dt,{cssStyles:ft}=te,mt=70-ct,xt=mt>0?mt/2:0,yt=at.svg(rt),vt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(vt.roughness=0,vt.fillStyle="solid");const Et=[{x:-ct/2-xt,y:ht/2},...generateFullSineWavePoints(-ct/2-xt,ht/2,ct/2+xt,ht/2,dt,.8),{x:ct/2+xt,y:-ht/2},{x:-ct/2-xt,y:-ht/2}],_t=createPathFromPoints(Et),wt=yt.path(_t,vt),St=rt.insert(()=>wt,":first-child");return St.attr("class","basic label-container"),ft&&te.look!=="handDrawn"&&St.selectAll("path").attr("style",ft),xe&&te.look!=="handDrawn"&&St.selectAll("path").attr("style",xe),St.attr("transform",`translate(0,${-dt/2})`),lt.attr("transform",`translate(${-ct/2+(te.padding??0)-(it.x-(it.left??0))},${-ut/2+(te.padding??0)-dt-(it.y-(it.top??0))})`),updateNodeBounds(te,St),te.intersect=function(Ct){return intersect_default.polygon(te,Et,Ct)},rt}__name(waveEdgedRectangle,"waveEdgedRectangle");async function waveRectangle(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it}=await labelHelper(ee,te,getNodeClasses(te)),lt=100,ct=50,ut=Math.max(it.width+(te.padding??0)*2,te?.width??0),dt=Math.max(it.height+(te.padding??0)*2,te?.height??0),ht=ut/dt;let ft=ut,pt=dt;ft>pt*ht?pt=ft/ht:ft=pt*ht,ft=Math.max(ft,lt),pt=Math.max(pt,ct);const mt=Math.min(pt*.2,pt/4),xt=pt+mt*2,{cssStyles:yt}=te,vt=at.svg(rt),Et=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Et.roughness=0,Et.fillStyle="solid");const _t=[{x:-ft/2,y:xt/2},...generateFullSineWavePoints(-ft/2,xt/2,ft/2,xt/2,mt,1),{x:ft/2,y:-xt/2},...generateFullSineWavePoints(ft/2,-xt/2,-ft/2,-xt/2,mt,-1)],wt=createPathFromPoints(_t),St=vt.path(wt,Et),Ct=rt.insert(()=>St,":first-child");return Ct.attr("class","basic label-container"),yt&&te.look!=="handDrawn"&&Ct.selectAll("path").attr("style",yt),xe&&te.look!=="handDrawn"&&Ct.selectAll("path").attr("style",xe),updateNodeBounds(te,Ct),te.intersect=function(jt){return intersect_default.polygon(te,_t,jt)},rt}__name(waveRectangle,"waveRectangle");async function windowPane(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,label:lt}=await labelHelper(ee,te,getNodeClasses(te)),ct=Math.max(it.width+(te.padding??0)*2,te?.width??0),ut=Math.max(it.height+(te.padding??0)*2,te?.height??0),dt=5,ht=-ct/2,ft=-ut/2,{cssStyles:pt}=te,mt=at.svg(rt),xt=userNodeOverrides(te,{}),yt=[{x:ht-dt,y:ft-dt},{x:ht-dt,y:ft+ut},{x:ht+ct,y:ft+ut},{x:ht+ct,y:ft-dt}],vt=`M${ht-dt},${ft-dt} L${ht+ct},${ft-dt} L${ht+ct},${ft+ut} L${ht-dt},${ft+ut} L${ht-dt},${ft-dt}
                M${ht-dt},${ft} L${ht+ct},${ft}
                M${ht},${ft-dt} L${ht},${ft+ut}`;te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const Et=mt.path(vt,xt),_t=rt.insert(()=>Et,":first-child");return _t.attr("transform",`translate(${dt/2}, ${dt/2})`),_t.attr("class","basic label-container"),pt&&te.look!=="handDrawn"&&_t.selectAll("path").attr("style",pt),xe&&te.look!=="handDrawn"&&_t.selectAll("path").attr("style",xe),lt.attr("transform",`translate(${-(it.width/2)+dt/2-(it.x-(it.left??0))}, ${-(it.height/2)+dt/2-(it.y-(it.top??0))})`),updateNodeBounds(te,_t),te.intersect=function(wt){return intersect_default.polygon(te,yt,wt)},rt}__name(windowPane,"windowPane");async function erBox(ee,te){const ne=te;if(ne.alias&&(te.label=ne.alias),te.look==="handDrawn"){const{themeVariables:Wt}=getConfig(),{background:Vt}=Wt,Yt={...te,id:te.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Vt}`]};await erBox(ee,Yt)}const xe=getConfig();te.useHtmlLabels=xe.htmlLabels;let rt=xe.er?.diagramPadding??10,it=xe.er?.entityPadding??6;const{cssStyles:lt}=te,{labelStyles:ct,nodeStyles:ut}=styles2String(te);if(ne.attributes.length===0&&te.label){const Wt={rx:0,ry:0,labelPaddingX:rt,labelPaddingY:rt*1.5};calculateTextWidth(te.label,xe)+Wt.labelPaddingX*2<xe.er.minEntityWidth&&(te.width=xe.er.minEntityWidth);const Vt=await drawRect(ee,te,Wt);if(!evaluate(xe.htmlLabels)){const Yt=Vt.select("text"),Qt=Yt.node()?.getBBox();Yt.attr("transform",`translate(${-Qt.width/2}, 0)`)}return Vt}xe.htmlLabels||(rt*=1.25,it*=1.25);let dt=getNodeClasses(te);dt||(dt="node default");const ht=ee.insert("g").attr("class",dt).attr("id",te.domId||te.id),ft=await addText(ht,te.label??"",xe,0,0,["name"],ct);ft.height+=it;let pt=0;const mt=[],xt=[];let yt=0,vt=0,Et=0,_t=0,wt=!0,St=!0;for(const Wt of ne.attributes){const Vt=await addText(ht,Wt.type,xe,0,pt,["attribute-type"],ct);yt=Math.max(yt,Vt.width+rt);const Yt=await addText(ht,Wt.name,xe,0,pt,["attribute-name"],ct);vt=Math.max(vt,Yt.width+rt);const Qt=await addText(ht,Wt.keys.join(),xe,0,pt,["attribute-keys"],ct);Et=Math.max(Et,Qt.width+rt);const ar=await addText(ht,Wt.comment,xe,0,pt,["attribute-comment"],ct);_t=Math.max(_t,ar.width+rt);const Xt=Math.max(Vt.height,Yt.height,Qt.height,ar.height)+it;xt.push({yOffset:pt,rowHeight:Xt}),pt+=Xt}let Ct=4;Et<=rt&&(wt=!1,Et=0,Ct--),_t<=rt&&(St=!1,_t=0,Ct--);const jt=ht.node().getBBox();if(ft.width+rt*2-(yt+vt+Et+_t)>0){const Wt=ft.width+rt*2-(yt+vt+Et+_t);yt+=Wt/Ct,vt+=Wt/Ct,Et>0&&(Et+=Wt/Ct),_t>0&&(_t+=Wt/Ct)}const Rt=yt+vt+Et+_t,Pt=at.svg(ht),Ot=userNodeOverrides(te,{});te.look!=="handDrawn"&&(Ot.roughness=0,Ot.fillStyle="solid");let Ft=0;xt.length>0&&(Ft=xt.reduce((Wt,Vt)=>Wt+(Vt?.rowHeight??0),0));const Lt=Math.max(jt.width+rt*2,te?.width||0,Rt),Bt=Math.max((Ft??0)+ft.height,te?.height||0),Gt=-Lt/2,It=-Bt/2;ht.selectAll("g:not(:first-child)").each((Wt,Vt,Yt)=>{const Qt=select(Yt[Vt]),ar=Qt.attr("transform");let Xt=0,tr=0;if(ar){const ur=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ar);ur&&(Xt=parseFloat(ur[1]),tr=parseFloat(ur[2]),Qt.attr("class").includes("attribute-name")?Xt+=yt:Qt.attr("class").includes("attribute-keys")?Xt+=yt+vt:Qt.attr("class").includes("attribute-comment")&&(Xt+=yt+vt+Et))}Qt.attr("transform",`translate(${Gt+rt/2+Xt}, ${tr+It+ft.height+it/2})`)}),ht.select(".name").attr("transform","translate("+-ft.width/2+", "+(It+it/2)+")");const qt=Pt.rectangle(Gt,It,Lt,Bt,Ot),Nt=ht.insert(()=>qt,":first-child").attr("style",lt.join("")),{themeVariables:Dt}=getConfig(),{rowEven:Tt,rowOdd:Mt,nodeBorder:$t}=Dt;mt.push(0);for(const[Wt,Vt]of xt.entries()){const Qt=(Wt+1)%2===0&&Vt.yOffset!==0,ar=Pt.rectangle(Gt,ft.height+It+Vt?.yOffset,Lt,Vt?.rowHeight,{...Ot,fill:Qt?Tt:Mt,stroke:$t});ht.insert(()=>ar,"g.label").attr("style",lt.join("")).attr("class",`row-rect-${Qt?"even":"odd"}`)}let Ht=Pt.line(Gt,ft.height+It,Lt+Gt,ft.height+It,Ot);ht.insert(()=>Ht).attr("class","divider"),Ht=Pt.line(yt+Gt,ft.height+It,yt+Gt,Bt+It,Ot),ht.insert(()=>Ht).attr("class","divider"),wt&&(Ht=Pt.line(yt+vt+Gt,ft.height+It,yt+vt+Gt,Bt+It,Ot),ht.insert(()=>Ht).attr("class","divider")),St&&(Ht=Pt.line(yt+vt+Et+Gt,ft.height+It,yt+vt+Et+Gt,Bt+It,Ot),ht.insert(()=>Ht).attr("class","divider"));for(const Wt of mt)Ht=Pt.line(Gt,ft.height+It+Wt,Lt+Gt,ft.height+It+Wt,Ot),ht.insert(()=>Ht).attr("class","divider");if(updateNodeBounds(te,Nt),ut&&te.look!=="handDrawn"){const Vt=ut.split(";")?.filter(Yt=>Yt.includes("stroke"))?.map(Yt=>`${Yt}`).join("; ");ht.selectAll("path").attr("style",Vt??""),ht.selectAll(".row-rect-even path").attr("style",ut)}return te.intersect=function(Wt){return intersect_default.rect(te,Wt)},ht}__name(erBox,"erBox");async function addText(ee,te,ne,xe=0,rt=0,it=[],lt=""){const ct=ee.insert("g").attr("class",`label ${it.join(" ")}`).attr("transform",`translate(${xe}, ${rt})`).attr("style",lt);te!==parseGenericTypes(te)&&(te=parseGenericTypes(te),te=te.replaceAll("<","&lt;").replaceAll(">","&gt;"));const ut=ct.node().appendChild(await createText(ct,te,{width:calculateTextWidth(te,ne)+100,style:lt,useHtmlLabels:ne.htmlLabels},ne));if(te.includes("&lt;")||te.includes("&gt;")){let ht=ut.children[0];for(ht.textContent=ht.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");ht.childNodes[0];)ht=ht.childNodes[0],ht.textContent=ht.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let dt=ut.getBBox();if(evaluate(ne.htmlLabels)){const ht=ut.children[0];ht.style.textAlign="start";const ft=select(ut);dt=ht.getBoundingClientRect(),ft.attr("width",dt.width),ft.attr("height",dt.height)}return dt}__name(addText,"addText");async function textHelper(ee,te,ne,xe,rt=ne.class.padding??12){const it=xe?0:3,lt=ee.insert("g").attr("class",getNodeClasses(te)).attr("id",te.domId||te.id);let ct=null,ut=null,dt=null,ht=null,ft=0,pt=0,mt=0;if(ct=lt.insert("g").attr("class","annotation-group text"),te.annotations.length>0){const _t=te.annotations[0];await addText2(ct,{text:`${_t}`},0),ft=ct.node().getBBox().height}ut=lt.insert("g").attr("class","label-group text"),await addText2(ut,te,0,["font-weight: bolder"]);const xt=ut.node().getBBox();pt=xt.height,dt=lt.insert("g").attr("class","members-group text");let yt=0;for(const _t of te.members){const wt=await addText2(dt,_t,yt,[_t.parseClassifier()]);yt+=wt+it}mt=dt.node().getBBox().height,mt<=0&&(mt=rt/2),ht=lt.insert("g").attr("class","methods-group text");let vt=0;for(const _t of te.methods){const wt=await addText2(ht,_t,vt,[_t.parseClassifier()]);vt+=wt+it}let Et=lt.node().getBBox();if(ct!==null){const _t=ct.node().getBBox();ct.attr("transform",`translate(${-_t.width/2})`)}return ut.attr("transform",`translate(${-xt.width/2}, ${ft})`),Et=lt.node().getBBox(),dt.attr("transform",`translate(0, ${ft+pt+rt*2})`),Et=lt.node().getBBox(),ht.attr("transform",`translate(0, ${ft+pt+(mt?mt+rt*4:rt*2)})`),Et=lt.node().getBBox(),{shapeSvg:lt,bbox:Et}}__name(textHelper,"textHelper");async function addText2(ee,te,ne,xe=[]){const rt=ee.insert("g").attr("class","label").attr("style",xe.join("; ")),it=getConfig();let lt="useHtmlLabels"in te?te.useHtmlLabels:evaluate(it.htmlLabels)??!0,ct="";"text"in te?ct=te.text:ct=te.label,!lt&&ct.startsWith("\\")&&(ct=ct.substring(1)),hasKatex(ct)&&(lt=!0);const ut=await createText(rt,sanitizeText3(decodeEntities(ct)),{width:calculateTextWidth(ct,it)+50,classes:"markdown-node-label",useHtmlLabels:lt},it);let dt,ht=1;if(lt){const ft=ut.children[0],pt=select(ut);ht=ft.innerHTML.split("<br>").length,ft.innerHTML.includes("</math>")&&(ht+=ft.innerHTML.split("<mrow>").length-1);const mt=ft.getElementsByTagName("img");if(mt){const xt=ct.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...mt].map(yt=>new Promise(vt=>{function Et(){if(yt.style.display="flex",yt.style.flexDirection="column",xt){const _t=it.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,St=parseInt(_t,10)*5+"px";yt.style.minWidth=St,yt.style.maxWidth=St}else yt.style.width="100%";vt(yt)}__name(Et,"setupImage"),setTimeout(()=>{yt.complete&&Et()}),yt.addEventListener("error",Et),yt.addEventListener("load",Et)})))}dt=ft.getBoundingClientRect(),pt.attr("width",dt.width),pt.attr("height",dt.height)}else{xe.includes("font-weight: bolder")&&select(ut).selectAll("tspan").attr("font-weight",""),ht=ut.children.length;const ft=ut.children[0];(ut.textContent===""||ut.textContent.includes("&gt"))&&(ft.textContent=ct[0]+ct.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),ct[1]===" "&&(ft.textContent=ft.textContent[0]+" "+ft.textContent.substring(1))),ft.textContent==="undefined"&&(ft.textContent=""),dt=ut.getBBox()}return rt.attr("transform","translate(0,"+(-dt.height/(2*ht)+ne)+")"),dt.height}__name(addText2,"addText");async function classBox(ee,te){const ne=getConfig2(),xe=ne.class.padding??12,rt=xe,it=te.useHtmlLabels??evaluate(ne.htmlLabels)??!0,lt=te;lt.annotations=lt.annotations??[],lt.members=lt.members??[],lt.methods=lt.methods??[];const{shapeSvg:ct,bbox:ut}=await textHelper(ee,te,ne,it,rt),{labelStyles:dt,nodeStyles:ht}=styles2String(te);te.labelStyle=dt,te.cssStyles=lt.styles||"";const ft=lt.styles?.join(";")||ht||"";te.cssStyles||(te.cssStyles=ft.replaceAll("!important","").split(";"));const pt=lt.members.length===0&&lt.methods.length===0&&!ne.class?.hideEmptyMembersBox,mt=at.svg(ct),xt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(xt.roughness=0,xt.fillStyle="solid");const yt=ut.width;let vt=ut.height;lt.members.length===0&&lt.methods.length===0?vt+=rt:lt.members.length>0&&lt.methods.length===0&&(vt+=rt*2);const Et=-yt/2,_t=-vt/2,wt=mt.rectangle(Et-xe,_t-xe-(pt?xe:lt.members.length===0&&lt.methods.length===0?-xe/2:0),yt+2*xe,vt+2*xe+(pt?xe*2:lt.members.length===0&&lt.methods.length===0?-xe:0),xt),St=ct.insert(()=>wt,":first-child");St.attr("class","basic label-container");const Ct=St.node().getBBox();ct.selectAll(".text").each((Ot,Ft,Lt)=>{const Bt=select(Lt[Ft]),Gt=Bt.attr("transform");let It=0;if(Gt){const Tt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Gt);Tt&&(It=parseFloat(Tt[2]))}let qt=It+_t+xe-(pt?xe:lt.members.length===0&&lt.methods.length===0?-xe/2:0);it||(qt-=4);let Nt=Et;(Bt.attr("class").includes("label-group")||Bt.attr("class").includes("annotation-group"))&&(Nt=-Bt.node()?.getBBox().width/2||0,ct.selectAll("text").each(function(Dt,Tt,Mt){window.getComputedStyle(Mt[Tt]).textAnchor==="middle"&&(Nt=0)})),Bt.attr("transform",`translate(${Nt}, ${qt})`)});const jt=ct.select(".annotation-group").node().getBBox().height-(pt?xe/2:0)||0,Rt=ct.select(".label-group").node().getBBox().height-(pt?xe/2:0)||0,Pt=ct.select(".members-group").node().getBBox().height-(pt?xe/2:0)||0;if(lt.members.length>0||lt.methods.length>0||pt){const Ot=mt.line(Ct.x,jt+Rt+_t+xe,Ct.x+Ct.width,jt+Rt+_t+xe,xt);ct.insert(()=>Ot).attr("class","divider").attr("style",ft)}if(pt||lt.members.length>0||lt.methods.length>0){const Ot=mt.line(Ct.x,jt+Rt+Pt+_t+rt*2+xe,Ct.x+Ct.width,jt+Rt+Pt+_t+xe+rt*2,xt);ct.insert(()=>Ot).attr("class","divider").attr("style",ft)}if(lt.look!=="handDrawn"&&ct.selectAll("path").attr("style",ft),St.select(":nth-child(2)").attr("style",ft),ct.selectAll(".divider").select("path").attr("style",ft),te.labelStyle?ct.selectAll("span").attr("style",te.labelStyle):ct.selectAll("span").attr("style",ft),!it){const Ot=RegExp(/color\s*:\s*([^;]*)/),Ft=Ot.exec(ft);if(Ft){const Lt=Ft[0].replace("color","fill");ct.selectAll("tspan").attr("style",Lt)}else if(dt){const Lt=Ot.exec(dt);if(Lt){const Bt=Lt[0].replace("color","fill");ct.selectAll("tspan").attr("style",Bt)}}}return updateNodeBounds(te,St),te.intersect=function(Ot){return intersect_default.rect(te,Ot)},ct}__name(classBox,"classBox");async function requirementBox(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const rt=te,it=te,lt=20,ct=20,ut="verifyMethod"in te,dt=getNodeClasses(te),ht=ee.insert("g").attr("class",dt).attr("id",te.domId??te.id);let ft;ut?ft=await addText3(ht,`&lt;&lt;${rt.type}&gt;&gt;`,0,te.labelStyle):ft=await addText3(ht,"&lt;&lt;Element&gt;&gt;",0,te.labelStyle);let pt=ft;const mt=await addText3(ht,rt.name,pt,te.labelStyle+"; font-weight: bold;");if(pt+=mt+ct,ut){const jt=await addText3(ht,`${rt.requirementId?`ID: ${rt.requirementId}`:""}`,pt,te.labelStyle);pt+=jt;const Rt=await addText3(ht,`${rt.text?`Text: ${rt.text}`:""}`,pt,te.labelStyle);pt+=Rt;const Pt=await addText3(ht,`${rt.risk?`Risk: ${rt.risk}`:""}`,pt,te.labelStyle);pt+=Pt,await addText3(ht,`${rt.verifyMethod?`Verification: ${rt.verifyMethod}`:""}`,pt,te.labelStyle)}else{const jt=await addText3(ht,`${it.type?`Type: ${it.type}`:""}`,pt,te.labelStyle);pt+=jt,await addText3(ht,`${it.docRef?`Doc Ref: ${it.docRef}`:""}`,pt,te.labelStyle)}const xt=(ht.node()?.getBBox().width??200)+lt,yt=(ht.node()?.getBBox().height??200)+lt,vt=-xt/2,Et=-yt/2,_t=at.svg(ht),wt=userNodeOverrides(te,{});te.look!=="handDrawn"&&(wt.roughness=0,wt.fillStyle="solid");const St=_t.rectangle(vt,Et,xt,yt,wt),Ct=ht.insert(()=>St,":first-child");if(Ct.attr("class","basic label-container").attr("style",xe),ht.selectAll(".label").each((jt,Rt,Pt)=>{const Ot=select(Pt[Rt]),Ft=Ot.attr("transform");let Lt=0,Bt=0;if(Ft){const Nt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Ft);Nt&&(Lt=parseFloat(Nt[1]),Bt=parseFloat(Nt[2]))}const Gt=Bt-yt/2;let It=vt+lt/2;(Rt===0||Rt===1)&&(It=Lt),Ot.attr("transform",`translate(${It}, ${Gt+lt})`)}),pt>ft+mt+ct){const jt=_t.line(vt,Et+ft+mt+ct,vt+xt,Et+ft+mt+ct,wt);ht.insert(()=>jt).attr("style",xe)}return updateNodeBounds(te,Ct),te.intersect=function(jt){return intersect_default.rect(te,jt)},ht}__name(requirementBox,"requirementBox");async function addText3(ee,te,ne,xe=""){if(te==="")return 0;const rt=ee.insert("g").attr("class","label").attr("style",xe),it=getConfig2(),lt=it.htmlLabels??!0,ct=await createText(rt,sanitizeText3(decodeEntities(te)),{width:calculateTextWidth(te,it)+50,classes:"markdown-node-label",useHtmlLabels:lt,style:xe},it);let ut;if(lt){const dt=ct.children[0],ht=select(ct);ut=dt.getBoundingClientRect(),ht.attr("width",ut.width),ht.attr("height",ut.height)}else{const dt=ct.children[0];for(const ht of dt.children)ht.textContent=ht.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),xe&&ht.setAttribute("style",xe);ut=ct.getBBox(),ut.height+=6}return rt.attr("transform",`translate(${-ut.width/2},${-ut.height/2+ne})`),ut.height}__name(addText3,"addText");var colorFromPriority=__name(ee=>{switch(ee){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function kanbanItem(ee,te,{config:ne}){const{labelStyles:xe,nodeStyles:rt}=styles2String(te);te.labelStyle=xe||"";const it=10,lt=te.width;te.width=(te.width??200)-10;const{shapeSvg:ct,bbox:ut,label:dt}=await labelHelper(ee,te,getNodeClasses(te)),ht=te.padding||10;let ft="",pt;"ticket"in te&&te.ticket&&ne?.kanban?.ticketBaseUrl&&(ft=ne?.kanban?.ticketBaseUrl.replace("#TICKET#",te.ticket),pt=ct.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",ft).attr("target","_blank"));const mt={useHtmlLabels:te.useHtmlLabels,labelStyle:te.labelStyle||"",width:te.width,img:te.img,padding:te.padding||8,centerLabel:!1};let xt,yt;pt?{label:xt,bbox:yt}=await insertLabel(pt,"ticket"in te&&te.ticket||"",mt):{label:xt,bbox:yt}=await insertLabel(ct,"ticket"in te&&te.ticket||"",mt);const{label:vt,bbox:Et}=await insertLabel(ct,"assigned"in te&&te.assigned||"",mt);te.width=lt;const _t=10,wt=te?.width||0,St=Math.max(yt.height,Et.height)/2,Ct=Math.max(ut.height+_t*2,te?.height||0)+St,jt=-wt/2,Rt=-Ct/2;dt.attr("transform","translate("+(ht-wt/2)+", "+(-St-ut.height/2)+")"),xt.attr("transform","translate("+(ht-wt/2)+", "+(-St+ut.height/2)+")"),vt.attr("transform","translate("+(ht+wt/2-Et.width-2*it)+", "+(-St+ut.height/2)+")");let Pt;const{rx:Ot,ry:Ft}=te,{cssStyles:Lt}=te;if(te.look==="handDrawn"){const Bt=at.svg(ct),Gt=userNodeOverrides(te,{}),It=Ot||Ft?Bt.path(createRoundedRectPathD(jt,Rt,wt,Ct,Ot||0),Gt):Bt.rectangle(jt,Rt,wt,Ct,Gt);Pt=ct.insert(()=>It,":first-child"),Pt.attr("class","basic label-container").attr("style",Lt||null)}else{Pt=ct.insert("rect",":first-child"),Pt.attr("class","basic label-container __APA__").attr("style",rt).attr("rx",Ot??5).attr("ry",Ft??5).attr("x",jt).attr("y",Rt).attr("width",wt).attr("height",Ct);const Bt="priority"in te&&te.priority;if(Bt){const Gt=ct.append("line"),It=jt+2,qt=Rt+Math.floor((Ot??0)/2),Nt=Rt+Ct-Math.floor((Ot??0)/2);Gt.attr("x1",It).attr("y1",qt).attr("x2",It).attr("y2",Nt).attr("stroke-width","4").attr("stroke",colorFromPriority(Bt))}}return updateNodeBounds(te,Pt),te.height=Ct,te.intersect=function(Bt){return intersect_default.rect(te,Bt)},ct}__name(kanbanItem,"kanbanItem");async function bang(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,halfPadding:lt,label:ct}=await labelHelper(ee,te,getNodeClasses(te)),ut=it.width+10*lt,dt=it.height+8*lt,ht=.15*ut,{cssStyles:ft}=te,pt=it.width+20,mt=it.height+20,xt=Math.max(ut,pt),yt=Math.max(dt,mt);ct.attr("transform",`translate(${-it.width/2}, ${-it.height/2})`);let vt;const Et=`M0 0 
    a${ht},${ht} 1 0,0 ${xt*.25},${-1*yt*.1}
    a${ht},${ht} 1 0,0 ${xt*.25},0
    a${ht},${ht} 1 0,0 ${xt*.25},0
    a${ht},${ht} 1 0,0 ${xt*.25},${yt*.1}

    a${ht},${ht} 1 0,0 ${xt*.15},${yt*.33}
    a${ht*.8},${ht*.8} 1 0,0 0,${yt*.34}
    a${ht},${ht} 1 0,0 ${-1*xt*.15},${yt*.33}

    a${ht},${ht} 1 0,0 ${-1*xt*.25},${yt*.15}
    a${ht},${ht} 1 0,0 ${-1*xt*.25},0
    a${ht},${ht} 1 0,0 ${-1*xt*.25},0
    a${ht},${ht} 1 0,0 ${-1*xt*.25},${-1*yt*.15}

    a${ht},${ht} 1 0,0 ${-1*xt*.1},${-1*yt*.33}
    a${ht*.8},${ht*.8} 1 0,0 0,${-1*yt*.34}
    a${ht},${ht} 1 0,0 ${xt*.1},${-1*yt*.33}
  H0 V0 Z`;if(te.look==="handDrawn"){const _t=at.svg(rt),wt=userNodeOverrides(te,{}),St=_t.path(Et,wt);vt=rt.insert(()=>St,":first-child"),vt.attr("class","basic label-container").attr("style",handleUndefinedAttr(ft))}else vt=rt.insert("path",":first-child").attr("class","basic label-container").attr("style",xe).attr("d",Et);return vt.attr("transform",`translate(${-xt/2}, ${-yt/2})`),updateNodeBounds(te,vt),te.calcIntersect=function(_t,wt){return intersect_default.rect(_t,wt)},te.intersect=function(_t){return log.info("Bang intersect",te,_t),intersect_default.rect(te,_t)},rt}__name(bang,"bang");async function cloud(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,halfPadding:lt,label:ct}=await labelHelper(ee,te,getNodeClasses(te)),ut=it.width+2*lt,dt=it.height+2*lt,ht=.15*ut,ft=.25*ut,pt=.35*ut,mt=.2*ut,{cssStyles:xt}=te;let yt;const vt=`M0 0 
    a${ht},${ht} 0 0,1 ${ut*.25},${-1*ut*.1}
    a${pt},${pt} 1 0,1 ${ut*.4},${-1*ut*.1}
    a${ft},${ft} 1 0,1 ${ut*.35},${ut*.2}

    a${ht},${ht} 1 0,1 ${ut*.15},${dt*.35}
    a${mt},${mt} 1 0,1 ${-1*ut*.15},${dt*.65}

    a${ft},${ht} 1 0,1 ${-1*ut*.25},${ut*.15}
    a${pt},${pt} 1 0,1 ${-1*ut*.5},0
    a${ht},${ht} 1 0,1 ${-1*ut*.25},${-1*ut*.15}

    a${ht},${ht} 1 0,1 ${-1*ut*.1},${-1*dt*.35}
    a${mt},${mt} 1 0,1 ${ut*.1},${-1*dt*.65}
  H0 V0 Z`;if(te.look==="handDrawn"){const Et=at.svg(rt),_t=userNodeOverrides(te,{}),wt=Et.path(vt,_t);yt=rt.insert(()=>wt,":first-child"),yt.attr("class","basic label-container").attr("style",handleUndefinedAttr(xt))}else yt=rt.insert("path",":first-child").attr("class","basic label-container").attr("style",xe).attr("d",vt);return ct.attr("transform",`translate(${-it.width/2}, ${-it.height/2})`),yt.attr("transform",`translate(${-ut/2}, ${-dt/2})`),updateNodeBounds(te,yt),te.calcIntersect=function(Et,_t){return intersect_default.rect(Et,_t)},te.intersect=function(Et){return log.info("Cloud intersect",te,Et),intersect_default.rect(te,Et)},rt}__name(cloud,"cloud");async function defaultMindmapNode(ee,te){const{labelStyles:ne,nodeStyles:xe}=styles2String(te);te.labelStyle=ne;const{shapeSvg:rt,bbox:it,halfPadding:lt,label:ct}=await labelHelper(ee,te,getNodeClasses(te)),ut=it.width+8*lt,dt=it.height+2*lt,ht=5,ft=`
    M${-ut/2} ${dt/2-ht}
    v${-dt+2*ht}
    q0,-${ht} ${ht},-${ht}
    h${ut-2*ht}
    q${ht},0 ${ht},${ht}
    v${dt-2*ht}
    q0,${ht} -${ht},${ht}
    h${-ut+2*ht}
    q-${ht},0 -${ht},-${ht}
    Z
  `,pt=rt.append("path").attr("id","node-"+te.id).attr("class","node-bkg node-"+te.type).attr("style",xe).attr("d",ft);return rt.append("line").attr("class","node-line-").attr("x1",-ut/2).attr("y1",dt/2).attr("x2",ut/2).attr("y2",dt/2),ct.attr("transform",`translate(${-it.width/2}, ${-it.height/2})`),rt.append(()=>ct.node()),updateNodeBounds(te,pt),te.calcIntersect=function(mt,xt){return intersect_default.rect(mt,xt)},te.intersect=function(mt){return intersect_default.rect(te,mt)},rt}__name(defaultMindmapNode,"defaultMindmapNode");async function mindmapCircle(ee,te){const ne={padding:te.padding??0};return circle$1(ee,te,ne)}__name(mindmapCircle,"mindmapCircle");var shapesDefs=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle$1},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:bang},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:cloud},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],generateShapeMap=__name(()=>{const te=[...Object.entries({state,choice,note,rectWithTitle,labelRect,iconSquare,iconCircle,icon,iconRounded,imageSquare,anchor,kanbanItem,mindmapCircle,defaultMindmapNode,classBox,erBox,requirementBox}),...shapesDefs.flatMap(ne=>[ne.shortName,..."aliases"in ne?ne.aliases:[],..."internalAliases"in ne?ne.internalAliases:[]].map(rt=>[rt,ne.handler]))];return Object.fromEntries(te)},"generateShapeMap"),shapes2=generateShapeMap();function isValidShape(ee){return ee in shapes2}__name(isValidShape,"isValidShape");var nodeElems=new Map;async function insertNode(ee,te,ne){let xe,rt;te.shape==="rect"&&(te.rx&&te.ry?te.shape="roundedRect":te.shape="squareRect");const it=te.shape?shapes2[te.shape]:void 0;if(!it)throw new Error(`No such shape: ${te.shape}. Please check your syntax.`);if(te.link){let lt;ne.config.securityLevel==="sandbox"?lt="_top":te.linkTarget&&(lt=te.linkTarget||"_blank"),xe=ee.insert("svg:a").attr("xlink:href",te.link).attr("target",lt??null),rt=await it(xe,te,ne)}else rt=await it(ee,te,ne),xe=rt;return te.tooltip&&rt.attr("title",te.tooltip),nodeElems.set(te.id,xe),te.haveCallback&&xe.attr("class",xe.attr("class")+" clickable"),xe}__name(insertNode,"insertNode");var setNodeElem=__name((ee,te)=>{nodeElems.set(te.id,ee)},"setNodeElem"),clear2=__name(()=>{nodeElems.clear()},"clear"),positionNode=__name(ee=>{const te=nodeElems.get(ee.id);log.trace("Transforming node",ee.diff,ee,"translate("+(ee.x-ee.width/2-5)+", "+ee.width/2+")");const ne=8,xe=ee.diff||0;return ee.clusterNode?te.attr("transform","translate("+(ee.x+xe-ee.width/2)+", "+(ee.y-ee.height/2-ne)+")"):te.attr("transform","translate("+ee.x+", "+ee.y+")"),xe},"positionNode"),addEdgeMarkers=__name((ee,te,ne,xe,rt,it)=>{te.arrowTypeStart&&addEdgeMarker(ee,"start",te.arrowTypeStart,ne,xe,rt,it),te.arrowTypeEnd&&addEdgeMarker(ee,"end",te.arrowTypeEnd,ne,xe,rt,it)},"addEdgeMarkers"),arrowTypesMap={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},addEdgeMarker=__name((ee,te,ne,xe,rt,it,lt)=>{const ct=arrowTypesMap[ne];if(!ct){log.warn(`Unknown arrow type: ${ne}`);return}const ut=ct.type,ht=`${rt}_${it}-${ut}${te==="start"?"Start":"End"}`;if(lt&&lt.trim()!==""){const ft=lt.replace(/[^\dA-Za-z]/g,"_"),pt=`${ht}_${ft}`;if(!document.getElementById(pt)){const mt=document.getElementById(ht);if(mt){const xt=mt.cloneNode(!0);xt.id=pt,xt.querySelectorAll("path, circle, line").forEach(vt=>{vt.setAttribute("stroke",lt),ct.fill&&vt.setAttribute("fill",lt)}),mt.parentNode?.appendChild(xt)}}ee.attr(`marker-${te}`,`url(${xe}#${pt})`)}else ee.attr(`marker-${te}`,`url(${xe}#${ht})`)},"addEdgeMarker"),edgeLabels=new Map,terminalLabels=new Map,clear=__name(()=>{edgeLabels.clear(),terminalLabels.clear()},"clear"),getLabelStyles=__name(ee=>ee?ee.reduce((ne,xe)=>ne+";"+xe,""):"","getLabelStyles"),insertEdgeLabel=__name(async(ee,te)=>{let ne=evaluate(getConfig2().flowchart.htmlLabels);const{labelStyles:xe}=styles2String(te);te.labelStyle=xe;const rt=await createText(ee,te.label,{style:te.labelStyle,useHtmlLabels:ne,addSvgBackground:!0,isNode:!1});log.info("abc82",te,te.labelType);const it=ee.insert("g").attr("class","edgeLabel"),lt=it.insert("g").attr("class","label").attr("data-id",te.id);lt.node().appendChild(rt);let ct=rt.getBBox();if(ne){const dt=rt.children[0],ht=select(rt);ct=dt.getBoundingClientRect(),ht.attr("width",ct.width),ht.attr("height",ct.height)}lt.attr("transform","translate("+-ct.width/2+", "+-ct.height/2+")"),edgeLabels.set(te.id,it),te.width=ct.width,te.height=ct.height;let ut;if(te.startLabelLeft){const dt=await createLabel_default(te.startLabelLeft,getLabelStyles(te.labelStyle)),ht=ee.insert("g").attr("class","edgeTerminals"),ft=ht.insert("g").attr("class","inner");ut=ft.node().appendChild(dt);const pt=dt.getBBox();ft.attr("transform","translate("+-pt.width/2+", "+-pt.height/2+")"),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).startLeft=ht,setTerminalWidth(ut,te.startLabelLeft)}if(te.startLabelRight){const dt=await createLabel_default(te.startLabelRight,getLabelStyles(te.labelStyle)),ht=ee.insert("g").attr("class","edgeTerminals"),ft=ht.insert("g").attr("class","inner");ut=ht.node().appendChild(dt),ft.node().appendChild(dt);const pt=dt.getBBox();ft.attr("transform","translate("+-pt.width/2+", "+-pt.height/2+")"),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).startRight=ht,setTerminalWidth(ut,te.startLabelRight)}if(te.endLabelLeft){const dt=await createLabel_default(te.endLabelLeft,getLabelStyles(te.labelStyle)),ht=ee.insert("g").attr("class","edgeTerminals"),ft=ht.insert("g").attr("class","inner");ut=ft.node().appendChild(dt);const pt=dt.getBBox();ft.attr("transform","translate("+-pt.width/2+", "+-pt.height/2+")"),ht.node().appendChild(dt),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).endLeft=ht,setTerminalWidth(ut,te.endLabelLeft)}if(te.endLabelRight){const dt=await createLabel_default(te.endLabelRight,getLabelStyles(te.labelStyle)),ht=ee.insert("g").attr("class","edgeTerminals"),ft=ht.insert("g").attr("class","inner");ut=ft.node().appendChild(dt);const pt=dt.getBBox();ft.attr("transform","translate("+-pt.width/2+", "+-pt.height/2+")"),ht.node().appendChild(dt),terminalLabels.get(te.id)||terminalLabels.set(te.id,{}),terminalLabels.get(te.id).endRight=ht,setTerminalWidth(ut,te.endLabelRight)}return rt},"insertEdgeLabel");function setTerminalWidth(ee,te){getConfig2().flowchart.htmlLabels&&ee&&(ee.style.width=te.length*9+"px",ee.style.height="12px")}__name(setTerminalWidth,"setTerminalWidth");var positionEdgeLabel=__name((ee,te)=>{log.debug("Moving label abc88 ",ee.id,ee.label,edgeLabels.get(ee.id),te);let ne=te.updatedPath?te.updatedPath:te.originalPath;const xe=getConfig2(),{subGraphTitleTotalMargin:rt}=getSubGraphTitleMargins(xe);if(ee.label){const it=edgeLabels.get(ee.id);let lt=ee.x,ct=ee.y;if(ne){const ut=utils_default.calcLabelPosition(ne);log.debug("Moving label "+ee.label+" from (",lt,",",ct,") to (",ut.x,",",ut.y,") abc88"),te.updatedPath&&(lt=ut.x,ct=ut.y)}it.attr("transform",`translate(${lt}, ${ct+rt/2})`)}if(ee.startLabelLeft){const it=terminalLabels.get(ee.id).startLeft;let lt=ee.x,ct=ee.y;if(ne){const ut=utils_default.calcTerminalLabelPosition(ee.arrowTypeStart?10:0,"start_left",ne);lt=ut.x,ct=ut.y}it.attr("transform",`translate(${lt}, ${ct})`)}if(ee.startLabelRight){const it=terminalLabels.get(ee.id).startRight;let lt=ee.x,ct=ee.y;if(ne){const ut=utils_default.calcTerminalLabelPosition(ee.arrowTypeStart?10:0,"start_right",ne);lt=ut.x,ct=ut.y}it.attr("transform",`translate(${lt}, ${ct})`)}if(ee.endLabelLeft){const it=terminalLabels.get(ee.id).endLeft;let lt=ee.x,ct=ee.y;if(ne){const ut=utils_default.calcTerminalLabelPosition(ee.arrowTypeEnd?10:0,"end_left",ne);lt=ut.x,ct=ut.y}it.attr("transform",`translate(${lt}, ${ct})`)}if(ee.endLabelRight){const it=terminalLabels.get(ee.id).endRight;let lt=ee.x,ct=ee.y;if(ne){const ut=utils_default.calcTerminalLabelPosition(ee.arrowTypeEnd?10:0,"end_right",ne);lt=ut.x,ct=ut.y}it.attr("transform",`translate(${lt}, ${ct})`)}},"positionEdgeLabel"),outsideNode=__name((ee,te)=>{const ne=ee.x,xe=ee.y,rt=Math.abs(te.x-ne),it=Math.abs(te.y-xe),lt=ee.width/2,ct=ee.height/2;return rt>=lt||it>=ct},"outsideNode"),intersection=__name((ee,te,ne)=>{log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(te)}
  insidePoint : ${JSON.stringify(ne)}
  node        : x:${ee.x} y:${ee.y} w:${ee.width} h:${ee.height}`);const xe=ee.x,rt=ee.y,it=Math.abs(xe-ne.x),lt=ee.width/2;let ct=ne.x<te.x?lt-it:lt+it;const ut=ee.height/2,dt=Math.abs(te.y-ne.y),ht=Math.abs(te.x-ne.x);if(Math.abs(rt-te.y)*lt>Math.abs(xe-te.x)*ut){let ft=ne.y<te.y?te.y-ut-rt:rt-ut-te.y;ct=ht*ft/dt;const pt={x:ne.x<te.x?ne.x+ct:ne.x-ht+ct,y:ne.y<te.y?ne.y+dt-ft:ne.y-dt+ft};return ct===0&&(pt.x=te.x,pt.y=te.y),ht===0&&(pt.x=te.x),dt===0&&(pt.y=te.y),log.debug(`abc89 top/bottom calc, Q ${dt}, q ${ft}, R ${ht}, r ${ct}`,pt),pt}else{ne.x<te.x?ct=te.x-lt-xe:ct=xe-lt-te.x;let ft=dt*ct/ht,pt=ne.x<te.x?ne.x+ht-ct:ne.x-ht+ct,mt=ne.y<te.y?ne.y+ft:ne.y-ft;return log.debug(`sides calc abc89, Q ${dt}, q ${ft}, R ${ht}, r ${ct}`,{_x:pt,_y:mt}),ct===0&&(pt=te.x,mt=te.y),ht===0&&(pt=te.x),dt===0&&(mt=te.y),{x:pt,y:mt}}},"intersection"),cutPathAtIntersect=__name((ee,te)=>{log.warn("abc88 cutPathAtIntersect",ee,te);let ne=[],xe=ee[0],rt=!1;return ee.forEach(it=>{if(log.info("abc88 checking point",it,te),!outsideNode(te,it)&&!rt){const lt=intersection(te,xe,it);log.debug("abc88 inside",it,xe,lt),log.debug("abc88 intersection",lt,te);let ct=!1;ne.forEach(ut=>{ct=ct||ut.x===lt.x&&ut.y===lt.y}),ne.some(ut=>ut.x===lt.x&&ut.y===lt.y)?log.warn("abc88 no intersect",lt,ne):ne.push(lt),rt=!0}else log.warn("abc88 outside",it,xe),xe=it,rt||ne.push(it)}),log.debug("returning points",ne),ne},"cutPathAtIntersect");function extractCornerPoints(ee){const te=[],ne=[];for(let xe=1;xe<ee.length-1;xe++){const rt=ee[xe-1],it=ee[xe],lt=ee[xe+1];(rt.x===it.x&&it.y===lt.y&&Math.abs(it.x-lt.x)>5&&Math.abs(it.y-rt.y)>5||rt.y===it.y&&it.x===lt.x&&Math.abs(it.x-rt.x)>5&&Math.abs(it.y-lt.y)>5)&&(te.push(it),ne.push(xe))}return{cornerPoints:te,cornerPointPositions:ne}}__name(extractCornerPoints,"extractCornerPoints");var findAdjacentPoint=__name(function(ee,te,ne){const xe=te.x-ee.x,rt=te.y-ee.y,it=Math.sqrt(xe*xe+rt*rt),lt=ne/it;return{x:te.x-lt*xe,y:te.y-lt*rt}},"findAdjacentPoint"),fixCorners=__name(function(ee){const{cornerPointPositions:te}=extractCornerPoints(ee),ne=[];for(let xe=0;xe<ee.length;xe++)if(te.includes(xe)){const rt=ee[xe-1],it=ee[xe+1],lt=ee[xe],ct=findAdjacentPoint(rt,lt,5),ut=findAdjacentPoint(it,lt,5),dt=ut.x-ct.x,ht=ut.y-ct.y;ne.push(ct);const ft=Math.sqrt(2)*2;let pt={x:lt.x,y:lt.y};if(Math.abs(it.x-rt.x)>10&&Math.abs(it.y-rt.y)>=10){log.debug("Corner point fixing",Math.abs(it.x-rt.x),Math.abs(it.y-rt.y));const mt=5;lt.x===ct.x?pt={x:dt<0?ct.x-mt+ft:ct.x+mt-ft,y:ht<0?ct.y-ft:ct.y+ft}:pt={x:dt<0?ct.x-ft:ct.x+ft,y:ht<0?ct.y-mt+ft:ct.y+mt-ft}}else log.debug("Corner point skipping fixing",Math.abs(it.x-rt.x),Math.abs(it.y-rt.y));ne.push(pt,ut)}else ne.push(ee[xe]);return ne},"fixCorners"),generateDashArray=__name((ee,te,ne)=>{const xe=ee-te-ne,rt=2,it=2,lt=rt+it,ct=Math.floor(xe/lt),ut=Array(ct).fill(`${rt} ${it}`).join(" ");return`0 ${te} ${ut} ${ne}`},"generateDashArray"),insertEdge=__name(function(ee,te,ne,xe,rt,it,lt,ct=!1){const{handDrawnSeed:ut}=getConfig2();let dt=te.points,ht=!1;const ft=rt;var pt=it;const mt=[];for(const It in te.cssCompiledStyles)isLabelStyle(It)||mt.push(te.cssCompiledStyles[It]);log.debug("UIO intersect check",te.points,pt.x,ft.x),pt.intersect&&ft.intersect&&!ct&&(dt=dt.slice(1,te.points.length-1),dt.unshift(ft.intersect(dt[0])),log.debug("Last point UIO",te.start,"-->",te.end,dt[dt.length-1],pt,pt.intersect(dt[dt.length-1])),dt.push(pt.intersect(dt[dt.length-1])));const xt=btoa(JSON.stringify(dt));te.toCluster&&(log.info("to cluster abc88",ne.get(te.toCluster)),dt=cutPathAtIntersect(te.points,ne.get(te.toCluster).node),ht=!0),te.fromCluster&&(log.debug("from cluster abc88",ne.get(te.fromCluster),JSON.stringify(dt,null,2)),dt=cutPathAtIntersect(dt.reverse(),ne.get(te.fromCluster).node).reverse(),ht=!0);let yt=dt.filter(It=>!Number.isNaN(It.y));yt=fixCorners(yt);let vt=curveBasis;switch(vt=curveLinear,te.curve){case"linear":vt=curveLinear;break;case"basis":vt=curveBasis;break;case"cardinal":vt=curveCardinal;break;case"bumpX":vt=bumpX;break;case"bumpY":vt=bumpY;break;case"catmullRom":vt=curveCatmullRom;break;case"monotoneX":vt=monotoneX;break;case"monotoneY":vt=monotoneY;break;case"natural":vt=curveNatural;break;case"step":vt=curveStep;break;case"stepAfter":vt=stepAfter;break;case"stepBefore":vt=stepBefore;break;default:vt=curveBasis}const{x:Et,y:_t}=getLineFunctionsWithOffset(te),wt=line$1().x(Et).y(_t).curve(vt);let St;switch(te.thickness){case"normal":St="edge-thickness-normal";break;case"thick":St="edge-thickness-thick";break;case"invisible":St="edge-thickness-invisible";break;default:St="edge-thickness-normal"}switch(te.pattern){case"solid":St+=" edge-pattern-solid";break;case"dotted":St+=" edge-pattern-dotted";break;case"dashed":St+=" edge-pattern-dashed";break;default:St+=" edge-pattern-solid"}let Ct,jt=te.curve==="rounded"?generateRoundedPath(applyMarkerOffsetsToPoints(yt,te),5):wt(yt);const Rt=Array.isArray(te.style)?te.style:[te.style];let Pt=Rt.find(It=>It?.startsWith("stroke:")),Ot=!1;if(te.look==="handDrawn"){const It=at.svg(ee);Object.assign([],yt);const qt=It.path(jt,{roughness:.3,seed:ut});St+=" transition",Ct=select(qt).select("path").attr("id",te.id).attr("class"," "+St+(te.classes?" "+te.classes:"")).attr("style",Rt?Rt.reduce((Dt,Tt)=>Dt+";"+Tt,""):"");let Nt=Ct.attr("d");Ct.attr("d",Nt),ee.node().appendChild(Ct.node())}else{const It=mt.join(";"),qt=Rt?Rt.reduce((Wt,Vt)=>Wt+Vt+";",""):"";let Nt="";te.animate&&(Nt=" edge-animation-fast"),te.animation&&(Nt=" edge-animation-"+te.animation);const Dt=(It?It+";"+qt+";":qt)+";"+(Rt?Rt.reduce((Wt,Vt)=>Wt+";"+Vt,""):"");Ct=ee.append("path").attr("d",jt).attr("id",te.id).attr("class"," "+St+(te.classes?" "+te.classes:"")+(Nt??"")).attr("style",Dt),Pt=Dt.match(/stroke:([^;]+)/)?.[1],Ot=te.animate===!0||!!te.animation||It.includes("animation");const Tt=Ct.node(),Mt=typeof Tt.getTotalLength=="function"?Tt.getTotalLength():0,$t=markerOffsets2[te.arrowTypeStart]||0,Ht=markerOffsets2[te.arrowTypeEnd]||0;if(te.look==="neo"&&!Ot){const Vt=`stroke-dasharray: ${te.pattern==="dotted"||te.pattern==="dashed"?generateDashArray(Mt,$t,Ht):`0 ${$t} ${Mt-$t-Ht} ${Ht}`}; stroke-dashoffset: 0;`;Ct.attr("style",Vt+Ct.attr("style"))}}Ct.attr("data-edge",!0),Ct.attr("data-et","edge"),Ct.attr("data-id",te.id),Ct.attr("data-points",xt),te.showPoints&&yt.forEach(It=>{ee.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",It.x).attr("cy",It.y)});let Ft="";(getConfig2().flowchart.arrowMarkerAbsolute||getConfig2().state.arrowMarkerAbsolute)&&(Ft=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Ft=Ft.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),log.info("arrowTypeStart",te.arrowTypeStart),log.info("arrowTypeEnd",te.arrowTypeEnd),addEdgeMarkers(Ct,te,Ft,lt,xe,Pt);const Lt=Math.floor(dt.length/2),Bt=dt[Lt];utils_default.isLabelCoordinateInPath(Bt,Ct.attr("d"))||(ht=!0);let Gt={};return ht&&(Gt.updatedPath=dt),Gt.originalPath=te.points,Gt},"insertEdge");function generateRoundedPath(ee,te){if(ee.length<2)return"";let ne="";const xe=ee.length,rt=1e-5;for(let it=0;it<xe;it++){const lt=ee[it],ct=ee[it-1],ut=ee[it+1];if(it===0)ne+=`M${lt.x},${lt.y}`;else if(it===xe-1)ne+=`L${lt.x},${lt.y}`;else{const dt=lt.x-ct.x,ht=lt.y-ct.y,ft=ut.x-lt.x,pt=ut.y-lt.y,mt=Math.hypot(dt,ht),xt=Math.hypot(ft,pt);if(mt<rt||xt<rt){ne+=`L${lt.x},${lt.y}`;continue}const yt=dt/mt,vt=ht/mt,Et=ft/xt,_t=pt/xt,wt=yt*Et+vt*_t,St=Math.max(-1,Math.min(1,wt)),Ct=Math.acos(St);if(Ct<rt||Math.abs(Math.PI-Ct)<rt){ne+=`L${lt.x},${lt.y}`;continue}const jt=Math.min(te/Math.sin(Ct/2),mt/2,xt/2),Rt=lt.x-yt*jt,Pt=lt.y-vt*jt,Ot=lt.x+Et*jt,Ft=lt.y+_t*jt;ne+=`L${Rt},${Pt}`,ne+=`Q${lt.x},${lt.y} ${Ot},${Ft}`}}return ne}__name(generateRoundedPath,"generateRoundedPath");function calculateDeltaAndAngle(ee,te){if(!ee||!te)return{angle:0,deltaX:0,deltaY:0};const ne=te.x-ee.x,xe=te.y-ee.y;return{angle:Math.atan2(xe,ne),deltaX:ne,deltaY:xe}}__name(calculateDeltaAndAngle,"calculateDeltaAndAngle");function applyMarkerOffsetsToPoints(ee,te){const ne=ee.map(rt=>({...rt}));if(ee.length>=2&&markerOffsets[te.arrowTypeStart]){const rt=markerOffsets[te.arrowTypeStart],it=ee[0],lt=ee[1],{angle:ct}=calculateDeltaAndAngle(it,lt),ut=rt*Math.cos(ct),dt=rt*Math.sin(ct);ne[0].x=it.x+ut,ne[0].y=it.y+dt}const xe=ee.length;if(xe>=2&&markerOffsets[te.arrowTypeEnd]){const rt=markerOffsets[te.arrowTypeEnd],it=ee[xe-1],lt=ee[xe-2],{angle:ct}=calculateDeltaAndAngle(lt,it),ut=rt*Math.cos(ct),dt=rt*Math.sin(ct);ne[xe-1].x=it.x-ut,ne[xe-1].y=it.y-dt}return ne}__name(applyMarkerOffsetsToPoints,"applyMarkerOffsetsToPoints");var insertMarkers=__name((ee,te,ne,xe)=>{te.forEach(rt=>{markers[rt](ee,ne,xe)})},"insertMarkers"),extension=__name((ee,te,ne)=>{log.trace("Making markers for ",ne),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-extensionStart").attr("class","marker extension "+te).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-extensionEnd").attr("class","marker extension "+te).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-compositionStart").attr("class","marker composition "+te).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-compositionEnd").attr("class","marker composition "+te).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-aggregationStart").attr("class","marker aggregation "+te).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-aggregationEnd").attr("class","marker aggregation "+te).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-dependencyStart").attr("class","marker dependency "+te).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-dependencyEnd").attr("class","marker dependency "+te).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-lollipopStart").attr("class","marker lollipop "+te).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-lollipopEnd").attr("class","marker lollipop "+te).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point=__name((ee,te,ne)=>{ee.append("marker").attr("id",ne+"_"+te+"-pointEnd").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),ee.append("marker").attr("id",ne+"_"+te+"-pointStart").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle=__name((ee,te,ne)=>{ee.append("marker").attr("id",ne+"_"+te+"-circleEnd").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),ee.append("marker").attr("id",ne+"_"+te+"-circleStart").attr("class","marker "+te).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross=__name((ee,te,ne)=>{ee.append("marker").attr("id",ne+"_"+te+"-crossEnd").attr("class","marker cross "+te).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),ee.append("marker").attr("id",ne+"_"+te+"-crossStart").attr("class","marker cross "+te).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),only_one=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-onlyOneStart").attr("class","marker onlyOne "+te).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-onlyOneEnd").attr("class","marker onlyOne "+te).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),zero_or_one=__name((ee,te,ne)=>{const xe=ee.append("defs").append("marker").attr("id",ne+"_"+te+"-zeroOrOneStart").attr("class","marker zeroOrOne "+te).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");xe.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),xe.append("path").attr("d","M9,0 L9,18");const rt=ee.append("defs").append("marker").attr("id",ne+"_"+te+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+te).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");rt.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),rt.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),one_or_more=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-oneOrMoreStart").attr("class","marker oneOrMore "+te).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),ee.append("defs").append("marker").attr("id",ne+"_"+te+"-oneOrMoreEnd").attr("class","marker oneOrMore "+te).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),zero_or_more=__name((ee,te,ne)=>{const xe=ee.append("defs").append("marker").attr("id",ne+"_"+te+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+te).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");xe.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),xe.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const rt=ee.append("defs").append("marker").attr("id",ne+"_"+te+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+te).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");rt.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),rt.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),requirement_arrow=__name((ee,te,ne)=>{ee.append("defs").append("marker").attr("id",ne+"_"+te+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains=__name((ee,te,ne)=>{const xe=ee.append("defs").append("marker").attr("id",ne+"_"+te+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");xe.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),xe.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),xe.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),markers={extension,composition,aggregation,dependency,lollipop,point,circle,cross,barb,only_one,zero_or_one,one_or_more,zero_or_more,requirement_arrow,requirement_contains},markers_default=insertMarkers,internalHelpers={common:common_default,getConfig,insertCluster,insertEdge,insertEdgeLabel,insertMarkers:markers_default,insertNode,interpolateToCurve,labelHelper,log,positionEdgeLabel},layoutAlgorithms={},registerLayoutLoaders=__name(ee=>{for(const te of ee)layoutAlgorithms[te.name]=te},"registerLayoutLoaders"),registerDefaultLayoutLoaders=__name(()=>{registerLayoutLoaders([{name:"dagre",loader:__name(async()=>await __vitePreload(()=>import("./dagre-6UL2VRFP-BjdX86Ev.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:__name(async()=>await __vitePreload(()=>import("./cose-bilkent-S5V4N54A-BK9mDQfm.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");registerDefaultLayoutLoaders();var render$1=__name(async(ee,te)=>{if(!(ee.layoutAlgorithm in layoutAlgorithms))throw new Error(`Unknown layout algorithm: ${ee.layoutAlgorithm}`);const ne=layoutAlgorithms[ee.layoutAlgorithm];return(await ne.loader()).render(ee,te,internalHelpers,{algorithm:ne.algorithm})},"render"),getRegisteredLayoutAlgorithm=__name((ee="",{fallback:te="dagre"}={})=>{if(ee in layoutAlgorithms)return ee;if(te in layoutAlgorithms)return log.warn(`Layout algorithm ${ee} is not registered. Using ${te} as fallback.`),te;throw new Error(`Both layout algorithms ${ee} and ${te} are not registered.`)},"getRegisteredLayoutAlgorithm"),COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",NAMESPACE="@namespace",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(ee){return ee.trim()}function replace(ee,te,ne){return ee.replace(te,ne)}function indexof(ee,te,ne){return ee.indexOf(te,ne)}function charat(ee,te){return ee.charCodeAt(te)|0}function substr(ee,te,ne){return ee.slice(te,ne)}function strlen(ee){return ee.length}function sizeof(ee){return ee.length}function append(ee,te){return te.push(ee),ee}var line=1,column=1,length=0,position=0,character=0,characters="";function node(ee,te,ne,xe,rt,it,lt,ct){return{value:ee,root:te,parent:ne,type:xe,props:rt,children:it,line,column,length:lt,return:"",siblings:ct}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(ee,te){return substr(characters,ee,te)}function token(ee){switch(ee){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(ee){return line=column=1,length=strlen(characters=ee),position=0,[]}function dealloc(ee){return characters="",ee}function delimit(ee){return trim(slice(position-1,delimiter(ee===91?ee+2:ee===40?ee+1:ee)))}function whitespace(ee){for(;(character=peek())&&character<33;)next();return token(ee)>2||token(character)>3?"":" "}function escaping(ee,te){for(;--te&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(ee,caret()+(te<6&&peek()==32&&next()==32))}function delimiter(ee){for(;next();)switch(character){case ee:return position;case 34:case 39:ee!==34&&ee!==39&&delimiter(character);break;case 40:ee===41&&delimiter(ee);break;case 92:next();break}return position}function commenter(ee,te){for(;next()&&ee+character!==57;)if(ee+character===84&&peek()===47)break;return"/*"+slice(te,position-1)+"*"+from(ee===47?ee:next())}function identifier(ee){for(;!token(peek());)next();return slice(ee,position)}function compile(ee){return dealloc(parse$1("",null,null,null,[""],ee=alloc(ee),0,[0],ee))}function parse$1(ee,te,ne,xe,rt,it,lt,ct,ut){for(var dt=0,ht=0,ft=lt,pt=0,mt=0,xt=0,yt=1,vt=1,Et=1,_t=0,wt="",St=rt,Ct=it,jt=xe,Rt=wt;vt;)switch(xt=_t,_t=next()){case 40:if(xt!=108&&charat(Rt,ft-1)==58){indexof(Rt+=replace(delimit(_t),"&","&\f"),"&\f",abs(dt?ct[dt-1]:0))!=-1&&(Et=-1);break}case 34:case 39:case 91:Rt+=delimit(_t);break;case 9:case 10:case 13:case 32:Rt+=whitespace(xt);break;case 92:Rt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),te,ne,ut),ut),(token(xt||1)==5||token(peek()||1)==5)&&strlen(Rt)&&substr(Rt,-1,void 0)!==" "&&(Rt+=" ");break;default:Rt+="/"}break;case 123*yt:ct[dt++]=strlen(Rt)*Et;case 125*yt:case 59:case 0:switch(_t){case 0:case 125:vt=0;case 59+ht:Et==-1&&(Rt=replace(Rt,/\f/g,"")),mt>0&&(strlen(Rt)-ft||yt===0&&xt===47)&&append(mt>32?declaration(Rt+";",xe,ne,ft-1,ut):declaration(replace(Rt," ","")+";",xe,ne,ft-2,ut),ut);break;case 59:Rt+=";";default:if(append(jt=ruleset(Rt,te,ne,dt,ht,rt,ct,wt,St=[],Ct=[],ft,it),it),_t===123)if(ht===0)parse$1(Rt,te,jt,jt,St,it,ft,ct,Ct);else{switch(pt){case 99:if(charat(Rt,3)===110)break;case 108:if(charat(Rt,2)===97)break;default:ht=0;case 100:case 109:case 115:}ht?parse$1(ee,jt,jt,xe&&append(ruleset(ee,jt,jt,0,0,rt,ct,wt,rt,St=[],ft,Ct),Ct),rt,Ct,ft,ct,xe?St:Ct):parse$1(Rt,jt,jt,jt,[""],Ct,0,ct,Ct)}}dt=ht=mt=0,yt=Et=1,wt=Rt="",ft=lt;break;case 58:ft=1+strlen(Rt),mt=xt;default:if(yt<1){if(_t==123)--yt;else if(_t==125&&yt++==0&&prev()==125)continue}switch(Rt+=from(_t),_t*yt){case 38:Et=ht>0?1:(Rt+="\f",-1);break;case 44:ct[dt++]=(strlen(Rt)-1)*Et,Et=1;break;case 64:peek()===45&&(Rt+=delimit(next())),pt=peek(),ht=ft=strlen(wt=Rt+=identifier(caret())),_t++;break;case 45:xt===45&&strlen(Rt)==2&&(yt=0)}}return it}function ruleset(ee,te,ne,xe,rt,it,lt,ct,ut,dt,ht,ft){for(var pt=rt-1,mt=rt===0?it:[""],xt=sizeof(mt),yt=0,vt=0,Et=0;yt<xe;++yt)for(var _t=0,wt=substr(ee,pt+1,pt=abs(vt=lt[yt])),St=ee;_t<xt;++_t)(St=trim(vt>0?mt[_t]+" "+wt:replace(wt,/&\f/g,mt[_t])))&&(ut[Et++]=St);return node(ee,te,ne,rt===0?RULESET:ct,ut,dt,ht,ft)}function comment(ee,te,ne,xe){return node(ee,te,ne,COMMENT,from(char()),substr(ee,2,-2),0,xe)}function declaration(ee,te,ne,xe,rt){return node(ee,te,ne,DECLARATION,substr(ee,0,xe),substr(ee,xe+1,-1),xe,rt)}function serialize(ee,te){for(var ne="",xe=0;xe<ee.length;xe++)ne+=te(ee[xe],xe,ee,te)||"";return ne}function stringify(ee,te,ne,xe){switch(ee.type){case LAYER:if(ee.children.length)break;case IMPORT:case NAMESPACE:case DECLARATION:return ee.return=ee.return||ee.value;case COMMENT:return"";case KEYFRAMES:return ee.return=ee.value+"{"+serialize(ee.children,xe)+"}";case RULESET:if(!strlen(ee.value=ee.props.join(",")))return""}return strlen(ne=serialize(ee.children,xe))?ee.return=ee.value+"{"+ne+"}":""}var nativeKeys=overArg(Object.keys,Object),objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(ee){if(!isPrototype(ee))return nativeKeys(ee);var te=[];for(var ne in Object(ee))hasOwnProperty$1.call(ee,ne)&&ne!="constructor"&&te.push(ne);return te}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),WeakMap$1=getNative(root,"WeakMap"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(ee){var te=baseGetTag(ee),ne=te==objectTag?ee.constructor:void 0,xe=ne?toSource(ne):"";if(xe)switch(xe){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return te});var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(ee){if(ee==null)return!0;if(isArrayLike(ee)&&(isArray(ee)||typeof ee=="string"||typeof ee.splice=="function"||isBuffer(ee)||isTypedArray(ee)||isArguments(ee)))return!ee.length;var te=getTag(ee);if(te==mapTag||te==setTag)return!ee.size;if(isPrototype(ee))return!baseKeys(ee).length;for(var ne in ee)if(hasOwnProperty.call(ee,ne))return!1;return!0}var id="c4",detector=__name(ee=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(ee),"detector"),loader=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./c4Diagram-YG6GDRKO-BPjjuzut.js");return{diagram:te}},__vite__mapDeps([8,9]));return{id,diagram:ee}},"loader"),plugin={id,detector,loader},c4Detector_default=plugin,id2="flowchart",detector2=__name((ee,te)=>te?.flowchart?.defaultRenderer==="dagre-wrapper"||te?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(ee),"detector"),loader2=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./flowDiagram-NV44I4VS-Bhxds7HW.js");return{diagram:te}},__vite__mapDeps([10,11,12,13,14]));return{id:id2,diagram:ee}},"loader"),plugin2={id:id2,detector:detector2,loader:loader2},flowDetector_default=plugin2,id3="flowchart-v2",detector3=__name((ee,te)=>te?.flowchart?.defaultRenderer==="dagre-d3"?!1:(te?.flowchart?.defaultRenderer==="elk"&&(te.layout="elk"),/^\s*graph/.test(ee)&&te?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(ee)),"detector"),loader3=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./flowDiagram-NV44I4VS-Bhxds7HW.js");return{diagram:te}},__vite__mapDeps([10,11,12,13,14]));return{id:id3,diagram:ee}},"loader"),plugin3={id:id3,detector:detector3,loader:loader3},flowDetector_v2_default=plugin3,id4="er",detector4=__name(ee=>/^\s*erDiagram/.test(ee),"detector"),loader4=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./erDiagram-Q2GNP2WA-CuWJdMG5.js");return{diagram:te}},__vite__mapDeps([15,12,13,14]));return{id:id4,diagram:ee}},"loader"),plugin4={id:id4,detector:detector4,loader:loader4},erDetector_default=plugin4,id5="gitGraph",detector5=__name(ee=>/^\s*gitGraph/.test(ee),"detector"),loader5=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./gitGraphDiagram-V2S2FVAM-f9CnBx2f.js");return{diagram:te}},__vite__mapDeps([16,17,18,19,2,4,5]));return{id:id5,diagram:ee}},"loader"),plugin5={id:id5,detector:detector5,loader:loader5},gitGraphDetector_default=plugin5,id6="gantt",detector6=__name(ee=>/^\s*gantt/.test(ee),"detector"),loader6=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./ganttDiagram-JELNMOA3-BFO8fkPs.js");return{diagram:te}},[]);return{id:id6,diagram:ee}},"loader"),plugin6={id:id6,detector:detector6,loader:loader6},ganttDetector_default=plugin6,id7="info",detector7=__name(ee=>/^\s*info/.test(ee),"detector"),loader7=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./infoDiagram-HS3SLOUP-D6LiI-Xx.js");return{diagram:te}},__vite__mapDeps([20,19,2,4,5]));return{id:id7,diagram:ee}},"loader"),info={id:id7,detector:detector7,loader:loader7},id8="pie",detector8=__name(ee=>/^\s*pie/.test(ee),"detector"),loader8=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./pieDiagram-ADFJNKIX-CIpBsrNu.js");return{diagram:te}},__vite__mapDeps([21,17,19,2,4,5,22]));return{id:id8,diagram:ee}},"loader"),pie={id:id8,detector:detector8,loader:loader8},id9="quadrantChart",detector9=__name(ee=>/^\s*quadrantChart/.test(ee),"detector"),loader9=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./quadrantDiagram-AYHSOK5B-DOqeM7e_.js");return{diagram:te}},[]);return{id:id9,diagram:ee}},"loader"),plugin7={id:id9,detector:detector9,loader:loader9},quadrantDetector_default=plugin7,id10="xychart",detector10=__name(ee=>/^\s*xychart(-beta)?/.test(ee),"detector"),loader10=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./xychartDiagram-PRI3JC2R-0G-s1-b2.js");return{diagram:te}},[]);return{id:id10,diagram:ee}},"loader"),plugin8={id:id10,detector:detector10,loader:loader10},xychartDetector_default=plugin8,id11="requirement",detector11=__name(ee=>/^\s*requirement(Diagram)?/.test(ee),"detector"),loader11=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./requirementDiagram-UZGBJVZJ-BrG43w2w.js");return{diagram:te}},__vite__mapDeps([23,12,13]));return{id:id11,diagram:ee}},"loader"),plugin9={id:id11,detector:detector11,loader:loader11},requirementDetector_default=plugin9,id12="sequence",detector12=__name(ee=>/^\s*sequenceDiagram/.test(ee),"detector"),loader12=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./sequenceDiagram-WL72ISMW-B6aSWGjy.js");return{diagram:te}},__vite__mapDeps([24,9,18]));return{id:id12,diagram:ee}},"loader"),plugin10={id:id12,detector:detector12,loader:loader12},sequenceDetector_default=plugin10,id13="class",detector13=__name((ee,te)=>te?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(ee),"detector"),loader13=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./classDiagram-2ON5EDUG-Cfranwh8.js");return{diagram:te}},__vite__mapDeps([25,26,11,12,13]));return{id:id13,diagram:ee}},"loader"),plugin11={id:id13,detector:detector13,loader:loader13},classDetector_default=plugin11,id14="classDiagram",detector14=__name((ee,te)=>/^\s*classDiagram/.test(ee)&&te?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(ee),"detector"),loader14=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./classDiagram-v2-WZHVMYZB-Cfranwh8.js");return{diagram:te}},__vite__mapDeps([27,26,11,12,13]));return{id:id14,diagram:ee}},"loader"),plugin12={id:id14,detector:detector14,loader:loader14},classDetector_V2_default=plugin12,id15="state",detector15=__name((ee,te)=>te?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(ee),"detector"),loader15=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./stateDiagram-FKZM4ZOC-C0lQ4Vs5.js");return{diagram:te}},__vite__mapDeps([28,29,12,13,1,2,3,4]));return{id:id15,diagram:ee}},"loader"),plugin13={id:id15,detector:detector15,loader:loader15},stateDetector_default=plugin13,id16="stateDiagram",detector16=__name((ee,te)=>!!(/^\s*stateDiagram-v2/.test(ee)||/^\s*stateDiagram/.test(ee)&&te?.state?.defaultRenderer==="dagre-wrapper"),"detector"),loader16=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./stateDiagram-v2-4FDKWEC3-CTAOTOMu.js");return{diagram:te}},__vite__mapDeps([30,29,12,13]));return{id:id16,diagram:ee}},"loader"),plugin14={id:id16,detector:detector16,loader:loader16},stateDetector_V2_default=plugin14,id17="journey",detector17=__name(ee=>/^\s*journey/.test(ee),"detector"),loader17=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./journeyDiagram-XKPGCS4Q-rea99x-X.js");return{diagram:te}},__vite__mapDeps([31,9,11,22]));return{id:id17,diagram:ee}},"loader"),plugin15={id:id17,detector:detector17,loader:loader17},journeyDetector_default=plugin15,draw=__name((ee,te,ne)=>{log.debug(`rendering svg for syntax error
`);const xe=selectSvgElement(te),rt=xe.append("g");xe.attr("viewBox","0 0 2412 512"),configureSvgSize(xe,100,512,!0),rt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),rt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),rt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),rt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),rt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),rt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),rt.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),rt.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${ne}`)},"draw"),renderer={draw},errorRenderer_default=renderer,diagram={db:{},renderer,parser:{parse:__name(()=>{},"parse")}},errorDiagram_default=diagram,id18="flowchart-elk",detector18=__name((ee,te={})=>/^\s*flowchart-elk/.test(ee)||/^\s*(flowchart|graph)/.test(ee)&&te?.flowchart?.defaultRenderer==="elk"?(te.layout="elk",!0):!1,"detector"),loader18=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./flowDiagram-NV44I4VS-Bhxds7HW.js");return{diagram:te}},__vite__mapDeps([10,11,12,13,14]));return{id:id18,diagram:ee}},"loader"),plugin16={id:id18,detector:detector18,loader:loader18},detector_default=plugin16,id19="timeline",detector19=__name(ee=>/^\s*timeline/.test(ee),"detector"),loader19=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./timeline-definition-IT6M3QCI-DNAt1pr2.js");return{diagram:te}},__vite__mapDeps([32,22]));return{id:id19,diagram:ee}},"loader"),plugin17={id:id19,detector:detector19,loader:loader19},detector_default2=plugin17,id20="mindmap",detector20=__name(ee=>/^\s*mindmap/.test(ee),"detector"),loader20=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./mindmap-definition-VGOIOE7T-CXVtOHpg.js");return{diagram:te}},__vite__mapDeps([33,12,13]));return{id:id20,diagram:ee}},"loader"),plugin18={id:id20,detector:detector20,loader:loader20},detector_default3=plugin18,id21="kanban",detector21=__name(ee=>/^\s*kanban/.test(ee),"detector"),loader21=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./kanban-definition-3W4ZIXB7-BEgzLiuT.js");return{diagram:te}},__vite__mapDeps([34,11]));return{id:id21,diagram:ee}},"loader"),plugin19={id:id21,detector:detector21,loader:loader21},detector_default4=plugin19,id22="sankey",detector22=__name(ee=>/^\s*sankey(-beta)?/.test(ee),"detector"),loader22=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./sankeyDiagram-TZEHDZUN-Bo-lvLI0.js");return{diagram:te}},[]);return{id:id22,diagram:ee}},"loader"),plugin20={id:id22,detector:detector22,loader:loader22},sankeyDetector_default=plugin20,id23="packet",detector23=__name(ee=>/^\s*packet(-beta)?/.test(ee),"detector"),loader23=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./diagram-S2PKOQOG-ChaUawsP.js");return{diagram:te}},__vite__mapDeps([35,17,19,2,4,5]));return{id:id23,diagram:ee}},"loader"),packet={id:id23,detector:detector23,loader:loader23},id24="radar",detector24=__name(ee=>/^\s*radar-beta/.test(ee),"detector"),loader24=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./diagram-QEK2KX5R-BT73abxs.js");return{diagram:te}},__vite__mapDeps([36,17,19,2,4,5]));return{id:id24,diagram:ee}},"loader"),radar={id:id24,detector:detector24,loader:loader24},id25="block",detector25=__name(ee=>/^\s*block(-beta)?/.test(ee),"detector"),loader25=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./blockDiagram-VD42YOAC-C4BnJMEE.js");return{diagram:te}},__vite__mapDeps([37,11,5,2,1,14]));return{id:id25,diagram:ee}},"loader"),plugin21={id:id25,detector:detector25,loader:loader25},blockDetector_default=plugin21,id26="architecture",detector26=__name(ee=>/^\s*architecture/.test(ee),"detector"),loader26=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./architectureDiagram-VXUJARFQ-a48QScQ9.js");return{diagram:te}},__vite__mapDeps([38,17,19,2,4,5,7]));return{id:id26,diagram:ee}},"loader"),architecture={id:id26,detector:detector26,loader:loader26},architectureDetector_default=architecture,id27="treemap",detector27=__name(ee=>/^\s*treemap/.test(ee),"detector"),loader27=__name(async()=>{const{diagram:ee}=await __vitePreload(async()=>{const{diagram:te}=await import("./diagram-PSM6KHXK-P0spN_ve.js");return{diagram:te}},__vite__mapDeps([39,13,17,19,2,4,5]));return{id:id27,diagram:ee}},"loader"),treemap={id:id27,detector:detector27,loader:loader27},hasLoadedDiagrams=!1,addDiagrams=__name(()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram_default,ee=>ee.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:__name(()=>{},"clear")},styles:{},renderer:{draw:__name(()=>{},"draw")},parser:{parse:__name(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:__name(()=>null,"init")},ee=>ee.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(detector_default,detector_default3,architectureDetector_default),registerLazyLoadedDiagrams(c4Detector_default,detector_default4,classDetector_V2_default,classDetector_default,erDetector_default,ganttDetector_default,info,pie,requirementDetector_default,sequenceDetector_default,flowDetector_v2_default,flowDetector_default,detector_default2,gitGraphDetector_default,stateDetector_V2_default,stateDetector_default,journeyDetector_default,quadrantDetector_default,sankeyDetector_default,packet,xychartDetector_default,blockDetector_default,radar,treemap))},"addDiagrams"),loadRegisteredDiagrams=__name(async()=>{log.debug("Loading registered diagrams");const te=(await Promise.allSettled(Object.entries(detectors).map(async([ne,{detector:xe,loader:rt}])=>{if(rt)try{getDiagram(ne)}catch{try{const{diagram:it,id:lt}=await rt();registerDiagram(lt,it,xe)}catch(it){throw log.error(`Failed to load external diagram with key ${ne}. Removing from detectors.`),delete detectors[ne],it}}}))).filter(ne=>ne.status==="rejected");if(te.length>0){log.error(`Failed to load ${te.length} external diagrams`);for(const ne of te)log.error(ne);throw new Error(`Failed to load ${te.length} external diagrams`)}},"loadRegisteredDiagrams"),SVG_ROLE="graphics-document document";function setA11yDiagramInfo(ee,te){ee.attr("role",SVG_ROLE),te!==""&&ee.attr("aria-roledescription",te)}__name(setA11yDiagramInfo,"setA11yDiagramInfo");function addSVGa11yTitleDescription(ee,te,ne,xe){if(ee.insert!==void 0){if(ne){const rt=`chart-desc-${xe}`;ee.attr("aria-describedby",rt),ee.insert("desc",":first-child").attr("id",rt).text(ne)}if(te){const rt=`chart-title-${xe}`;ee.attr("aria-labelledby",rt),ee.insert("title",":first-child").attr("id",rt).text(te)}}}__name(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var Diagram=class Sh{constructor(te,ne,xe,rt,it){this.type=te,this.text=ne,this.db=xe,this.parser=rt,this.renderer=it}static{__name(this,"Diagram")}static async fromText(te,ne={}){const xe=getConfig(),rt=detectType$1(te,xe);te=encodeEntities(te)+`
`;try{getDiagram(rt)}catch{const dt=getDiagramLoader(rt);if(!dt)throw new UnknownDiagramError(`Diagram ${rt} not found.`);const{id:ht,diagram:ft}=await dt();registerDiagram(ht,ft)}const{db:it,parser:lt,renderer:ct,init:ut}=getDiagram(rt);return lt.parser&&(lt.parser.yy=it),it.clear?.(),ut?.(xe),ne.title&&it.setDiagramTitle?.(ne.title),await lt.parse(te),new Sh(rt,te,it,lt,ct)}async render(te,ne){await this.renderer.draw(this.text,te,ne,this)}getParser(){return this.parser}getType(){return this.type}},interactionFunctions=[],attachFunctions=__name(()=>{interactionFunctions.forEach(ee=>{ee()}),interactionFunctions=[]},"attachFunctions"),cleanupComments=__name(ee=>ee.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function extractFrontMatter(ee){const te=ee.match(frontMatterRegex);if(!te)return{text:ee,metadata:{}};let ne=load(te[1],{schema:JSON_SCHEMA})??{};ne=typeof ne=="object"&&!Array.isArray(ne)?ne:{};const xe={};return ne.displayMode&&(xe.displayMode=ne.displayMode.toString()),ne.title&&(xe.title=ne.title.toString()),ne.config&&(xe.config=ne.config),{text:ee.slice(te[0].length),metadata:xe}}__name(extractFrontMatter,"extractFrontMatter");var cleanupText=__name(ee=>ee.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(te,ne,xe)=>"<"+ne+xe.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),processFrontmatter=__name(ee=>{const{text:te,metadata:ne}=extractFrontMatter(ee),{displayMode:xe,title:rt,config:it={}}=ne;return xe&&(it.gantt||(it.gantt={}),it.gantt.displayMode=xe),{title:rt,config:it,text:te}},"processFrontmatter"),processDirectives=__name(ee=>{const te=utils_default.detectInit(ee)??{},ne=utils_default.detectDirective(ee,"wrap");return Array.isArray(ne)?te.wrap=ne.some(({type:xe})=>xe==="wrap"):ne?.type==="wrap"&&(te.wrap=!0),{text:removeDirectives(ee),directive:te}},"processDirectives");function preprocessDiagram(ee){const te=cleanupText(ee),ne=processFrontmatter(te),xe=processDirectives(ne.text),rt=cleanAndMerge(ne.config,xe.directive);return ee=cleanupComments(xe.text),{code:ee,title:ne.title,config:rt}}__name(preprocessDiagram,"preprocessDiagram");function toBase64(ee){const te=new TextEncoder().encode(ee),ne=Array.from(te,xe=>String.fromCodePoint(xe)).join("");return btoa(ne)}__name(toBase64,"toBase64");var MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(ee){const te=preprocessDiagram(ee);return reset(),addDirective(te.config??{}),te}__name(processAndSetConfigs,"processAndSetConfigs");async function parse(ee,te){addDiagrams();try{const{code:ne,config:xe}=processAndSetConfigs(ee);return{diagramType:(await getDiagramFromText(ne)).type,config:xe}}catch(ne){if(te?.suppressErrors)return!1;throw ne}}__name(parse,"parse");var cssImportantStyles=__name((ee,te,ne=[])=>`
.${ee} ${te} { ${ne.join(" !important; ")} !important; }`,"cssImportantStyles"),createCssStyles=__name((ee,te=new Map)=>{let ne="";if(ee.themeCSS!==void 0&&(ne+=`
${ee.themeCSS}`),ee.fontFamily!==void 0&&(ne+=`
:root { --mermaid-font-family: ${ee.fontFamily}}`),ee.altFontFamily!==void 0&&(ne+=`
:root { --mermaid-alt-font-family: ${ee.altFontFamily}}`),te instanceof Map){const lt=ee.htmlLabels??ee.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];te.forEach(ct=>{isEmpty(ct.styles)||lt.forEach(ut=>{ne+=cssImportantStyles(ct.id,ut,ct.styles)}),isEmpty(ct.textStyles)||(ne+=cssImportantStyles(ct.id,"tspan",(ct?.textStyles||[]).map(ut=>ut.replace("color","fill"))))})}return ne},"createCssStyles"),createUserStyles=__name((ee,te,ne,xe)=>{const rt=createCssStyles(ee,ne),it=styles_default(te,rt,ee.themeVariables);return serialize(compile(`${xe}{${it}}`),stringify)},"createUserStyles"),cleanUpSvgCode=__name((ee="",te,ne)=>{let xe=ee;return!ne&&!te&&(xe=xe.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),xe=decodeEntities(xe),xe=xe.replace(/<br>/g,"<br/>"),xe},"cleanUpSvgCode"),putIntoIFrame=__name((ee="",te)=>{const ne=te?.viewBox?.baseVal?.height?te.viewBox.baseVal.height+"px":IFRAME_HEIGHT,xe=toBase64(`<body style="${IFRAME_BODY_STYLE}">${ee}</body>`);return`<iframe style="width:${IFRAME_WIDTH};height:${ne};${IFRAME_STYLES}" src="data:text/html;charset=UTF-8;base64,${xe}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},"putIntoIFrame"),appendDivSvgG=__name((ee,te,ne,xe,rt)=>{const it=ee.append("div");it.attr("id",ne),xe&&it.attr("style",xe);const lt=it.append("svg").attr("id",te).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return rt&&lt.attr("xmlns:xlink",rt),lt.append("g"),ee},"appendDivSvgG");function sandboxedIframe(ee,te){return ee.append("iframe").attr("id",te).attr("style","width: 100%; height: 100%;").attr("sandbox","")}__name(sandboxedIframe,"sandboxedIframe");var removeExistingElements=__name((ee,te,ne,xe)=>{ee.getElementById(te)?.remove(),ee.getElementById(ne)?.remove(),ee.getElementById(xe)?.remove()},"removeExistingElements"),render=__name(async function(ee,te,ne){addDiagrams();const xe=processAndSetConfigs(te);te=xe.code;const rt=getConfig();log.debug(rt),te.length>(rt?.maxTextSize??MAX_TEXTLENGTH)&&(te=MAX_TEXTLENGTH_EXCEEDED_MSG);const it="#"+ee,lt="i"+ee,ct="#"+lt,ut="d"+ee,dt="#"+ut,ht=__name(()=>{const Gt=select(pt?ct:dt).node();Gt&&"remove"in Gt&&Gt.remove()},"removeTempElements");let ft=select("body");const pt=rt.securityLevel===SECURITY_LVL_SANDBOX,mt=rt.securityLevel===SECURITY_LVL_LOOSE,xt=rt.fontFamily;if(ne!==void 0){if(ne&&(ne.innerHTML=""),pt){const Bt=sandboxedIframe(select(ne),lt);ft=select(Bt.nodes()[0].contentDocument.body),ft.node().style.margin=0}else ft=select(ne);appendDivSvgG(ft,ee,ut,`font-family: ${xt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,ee,ut,lt),pt){const Bt=sandboxedIframe(select("body"),lt);ft=select(Bt.nodes()[0].contentDocument.body),ft.node().style.margin=0}else ft=select("body");appendDivSvgG(ft,ee,ut)}let yt,vt;try{yt=await Diagram.fromText(te,{title:xe.title})}catch(Bt){if(rt.suppressErrorRendering)throw ht(),Bt;yt=await Diagram.fromText("error"),vt=Bt}const Et=ft.select(dt).node(),_t=yt.type,wt=Et.firstChild,St=wt.firstChild,Ct=yt.renderer.getClasses?.(te,yt),jt=createUserStyles(rt,_t,Ct,it),Rt=document.createElement("style");Rt.innerHTML=jt,wt.insertBefore(Rt,St);try{await yt.renderer.draw(te,ee,package_default.version,yt)}catch(Bt){throw rt.suppressErrorRendering?ht():errorRenderer_default.draw(te,ee,package_default.version),Bt}const Pt=ft.select(`${dt} svg`),Ot=yt.db.getAccTitle?.(),Ft=yt.db.getAccDescription?.();addA11yInfo(_t,Pt,Ot,Ft),ft.select(`[id="${ee}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Lt=ft.select(dt).node().innerHTML;if(log.debug("config.arrowMarkerAbsolute",rt.arrowMarkerAbsolute),Lt=cleanUpSvgCode(Lt,pt,evaluate(rt.arrowMarkerAbsolute)),pt){const Bt=ft.select(dt+" svg").node();Lt=putIntoIFrame(Lt,Bt)}else mt||(Lt=purify.sanitize(Lt,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(attachFunctions(),vt)throw vt;return ht(),{diagramType:_t,svg:Lt,bindFunctions:yt.db.bindFunctions}},"render");function initialize(ee={}){const te=assignWithDepth_default({},ee);te?.fontFamily&&!te.themeVariables?.fontFamily&&(te.themeVariables||(te.themeVariables={}),te.themeVariables.fontFamily=te.fontFamily),saveConfigFromInitialize(te),te?.theme&&te.theme in themes_default?te.themeVariables=themes_default[te.theme].getThemeVariables(te.themeVariables):te&&(te.themeVariables=themes_default.default.getThemeVariables(te.themeVariables));const ne=typeof te=="object"?setSiteConfig(te):getSiteConfig();setLogLevel(ne.logLevel),addDiagrams()}__name(initialize,"initialize");var getDiagramFromText=__name((ee,te={})=>{const{code:ne}=preprocessDiagram(ee);return Diagram.fromText(ne,te)},"getDiagramFromText");function addA11yInfo(ee,te,ne,xe){setA11yDiagramInfo(te,ee),addSVGa11yTitleDescription(te,ne,xe,te.attr("id"))}__name(addA11yInfo,"addA11yInfo");var mermaidAPI=Object.freeze({render,parse,getDiagramFromText,initialize,getConfig,setConfig,getSiteConfig,updateSiteConfig,reset:__name(()=>{reset()},"reset"),globalReset:__name(()=>{reset(defaultConfig)},"globalReset"),defaultConfig});setLogLevel(getConfig().logLevel);reset(getConfig());var handleError=__name((ee,te,ne)=>{log.warn(ee),isDetailedError(ee)?(ne&&ne(ee.str,ee.hash),te.push({...ee,message:ee.str,error:ee})):(ne&&ne(ee),ee instanceof Error&&te.push({str:ee.message,message:ee.message,hash:ee.name,error:ee}))},"handleError"),run=__name(async function(ee={querySelector:".mermaid"}){try{await runThrowsErrors(ee)}catch(te){if(isDetailedError(te)&&log.error(te.str),mermaid.parseError&&mermaid.parseError(te),!ee.suppressErrors)throw log.error("Use the suppressErrors option to suppress these errors"),te}},"run"),runThrowsErrors=__name(async function({postRenderCallback:ee,querySelector:te,nodes:ne}={querySelector:".mermaid"}){const xe=mermaidAPI.getConfig();log.debug(`${ee?"":"No "}Callback function found`);let rt;if(ne)rt=ne;else if(te)rt=document.querySelectorAll(te);else throw new Error("Nodes and querySelector are both undefined");log.debug(`Found ${rt.length} diagrams`),xe?.startOnLoad!==void 0&&(log.debug("Start On Load: "+xe?.startOnLoad),mermaidAPI.updateSiteConfig({startOnLoad:xe?.startOnLoad}));const it=new utils_default.InitIDGenerator(xe.deterministicIds,xe.deterministicIDSeed);let lt;const ct=[];for(const ut of Array.from(rt)){if(log.info("Rendering diagram: "+ut.id),ut.getAttribute("data-processed"))continue;ut.setAttribute("data-processed","true");const dt=`mermaid-${it.next()}`;lt=ut.innerHTML,lt=dedent(utils_default.entityDecode(lt)).trim().replace(/<br\s*\/?>/gi,"<br/>");const ht=utils_default.detectInit(lt);ht&&log.debug("Detected early reinit: ",ht);try{const{svg:ft,bindFunctions:pt}=await render2(dt,lt,ut);ut.innerHTML=ft,ee&&await ee(dt),pt&&pt(ut)}catch(ft){handleError(ft,ct,mermaid.parseError)}}if(ct.length>0)throw ct[0]},"runThrowsErrors"),initialize2=__name(function(ee){mermaidAPI.initialize(ee)},"initialize"),init=__name(async function(ee,te,ne){log.warn("mermaid.init is deprecated. Please use run instead."),ee&&initialize2(ee);const xe={postRenderCallback:ne,querySelector:".mermaid"};typeof te=="string"?xe.querySelector=te:te&&(te instanceof HTMLElement?xe.nodes=[te]:xe.nodes=te),await run(xe)},"init"),registerExternalDiagrams=__name(async(ee,{lazyLoad:te=!0}={})=>{addDiagrams(),registerLazyLoadedDiagrams(...ee),te===!1&&await loadRegisteredDiagrams()},"registerExternalDiagrams"),contentLoaded=__name(function(){if(mermaid.startOnLoad){const{startOnLoad:ee}=mermaidAPI.getConfig();ee&&mermaid.run().catch(te=>log.error("Mermaid failed to initialize",te))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",contentLoaded,!1);var setParseErrorHandler=__name(function(ee){mermaid.parseError=ee},"setParseErrorHandler"),executionQueue=[],executionQueueRunning=!1,executeQueue=__name(async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const ee=executionQueue.shift();if(ee)try{await ee()}catch(te){log.error("Error executing queue",te)}}executionQueueRunning=!1}},"executeQueue"),parse2=__name(async(ee,te)=>new Promise((ne,xe)=>{const rt=__name(()=>new Promise((it,lt)=>{mermaidAPI.parse(ee,te).then(ct=>{it(ct),ne(ct)},ct=>{log.error("Error parsing",ct),mermaid.parseError?.(ct),lt(ct),xe(ct)})}),"performCall");executionQueue.push(rt),executeQueue().catch(xe)}),"parse"),render2=__name((ee,te,ne)=>new Promise((xe,rt)=>{const it=__name(()=>new Promise((lt,ct)=>{mermaidAPI.render(ee,te,ne).then(ut=>{lt(ut),xe(ut)},ut=>{log.error("Error parsing",ut),mermaid.parseError?.(ut),ct(ut),rt(ut)})}),"performCall");executionQueue.push(it),executeQueue().catch(rt)}),"render"),getRegisteredDiagramsMetadata=__name(()=>Object.keys(detectors).map(ee=>({id:ee})),"getRegisteredDiagramsMetadata"),mermaid={startOnLoad:!0,mermaidAPI,parse:parse2,render:render2,init,run,registerExternalDiagrams,registerLayoutLoaders,initialize:initialize2,parseError:void 0,contentLoaded,setParseErrorHandler,detectType:detectType$1,registerIconPacks,getRegisteredDiagramsMetadata},mermaid_default=mermaid;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const mermaid_core=Object.freeze(Object.defineProperty({__proto__:null,default:mermaid_default},Symbol.toStringTag,{value:"Module"})),MermaidPreview=({code:ee,className:te="w-full h-full flex items-center justify-center overflow-auto custom-scrollbar",errorMessage:ne="",idPrefix:xe="mermaid"})=>{const rt=reactExports.useRef(null),it=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!(typeof window>"u")&&(it.current||(it.current=`${xe}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),rt.current&&ee))try{mermaid_default.initialize({startOnLoad:!1,theme:"base",securityLevel:"loose",fontFamily:"sans-serif",themeVariables:{darkMode:!1,background:"#ffffff",primaryColor:"#e0f2fe",edgeLabelBackground:"#ffffff",lineColor:"#334155",textColor:"#0f172a",mainBkg:"#f0f9ff",nodeBorder:"#0284c7"}});const lt=ee.trim(),ct=lt.startsWith("graph")||lt.startsWith("mindmap")?lt:`graph TD
  Node["${lt.replace(/"/g,"'")}"]`;mermaid_default.render(it.current,ct).then(({svg:ut})=>{rt.current&&(rt.current.innerHTML=ut)})}catch(lt){console.error("Mermaid render error",lt),rt.current&&(rt.current.innerHTML=`<div class='text-xs text-red-400 p-4'>${ne}</div>`)}},[ee,xe,ne]),jsxRuntimeExports.jsx("div",{ref:rt,className:te})},MathTextPreview=({text:ee,className:te="text-sm text-slate-700 leading-relaxed"})=>{const ne=React.useMemo(()=>ee?ee.split(/\n\n+/).map(xe=>xe.replace(/([^\n])\n([^\n])/g,`$1  
$2`)).join(`

`):"",[ee]);return jsxRuntimeExports.jsx("div",{className:te,children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath,remarkGfm],rehypePlugins:[rehypeKatex],components:{p:({...xe})=>jsxRuntimeExports.jsx("p",{className:"mb-2 last:mb-0 text-slate-700 whitespace-pre-line",...xe}),h1:({...xe})=>jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold mb-2 text-slate-800",...xe}),h2:({...xe})=>jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2 text-slate-800",...xe}),h3:({...xe})=>jsxRuntimeExports.jsx("h3",{className:"text-base font-bold mb-2 text-slate-800",...xe}),strong:({...xe})=>jsxRuntimeExports.jsx("strong",{className:"font-semibold text-slate-800",...xe}),em:({...xe})=>jsxRuntimeExports.jsx("em",{className:"italic",...xe}),ul:({...xe})=>jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1 ml-4",...xe}),ol:({...xe})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1 ml-4",...xe}),li:({...xe})=>jsxRuntimeExports.jsx("li",{className:"ml-2",...xe}),code:({inline:xe,...rt})=>xe?jsxRuntimeExports.jsx("code",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-xs font-mono text-slate-800",...rt}):jsxRuntimeExports.jsx("code",{className:"block bg-slate-50 p-3 rounded text-xs font-mono text-slate-800 overflow-x-auto my-2",...rt}),table:({...xe})=>jsxRuntimeExports.jsx("div",{className:"overflow-x-auto my-4",children:jsxRuntimeExports.jsx("table",{className:"min-w-full border-collapse bg-white border border-slate-300",...xe})}),thead:({...xe})=>jsxRuntimeExports.jsx("thead",{className:"bg-slate-100",...xe}),tbody:({...xe})=>jsxRuntimeExports.jsx("tbody",{...xe}),tr:({...xe})=>jsxRuntimeExports.jsx("tr",{className:"border-b border-slate-200 hover:bg-slate-50",...xe}),th:({...xe})=>jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left font-semibold text-slate-800 border-r border-slate-300 last:border-r-0",...xe}),td:({...xe})=>jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-slate-700 border-r border-slate-300 last:border-r-0",...xe}),blockquote:({...xe})=>jsxRuntimeExports.jsx("blockquote",{className:"border-l-4 border-slate-300 pl-3 italic my-2 text-slate-600",...xe})},children:ne})})},RealTimeProgressTracker=({messages:ee,studentLog:te,currentTaskIndex:ne,totalTasks:xe,improvementCount:rt,completedTasksCount:it})=>{const[lt,ct]=reactExports.useState({totalQuestions:0,totalEdits:0,deepInsights:0,taskProgress:0,selfDriveScore:0,focusScore:0,thinkingScore:0,improvementScore:0,recentMilestones:[]});return reactExports.useEffect(()=>{const ut=ee.filter(vt=>vt.role==="user"),dt=ut.filter(vt=>{const Et=vt.text;return/[?]|||||||/.test(Et)}).length,ht=ut.filter(vt=>{const Et=vt.text;return/|||||||/.test(Et)&&Et.length>20||Et.length>50&&/|||/.test(Et)}).length,ft=xe>0?Math.round(it/xe*100):0,pt=Math.min(100,(dt>0?25:0)+(rt>3?35:rt*8)+(ft>50?30:ft*.5)+(ut.length>3?10:0)),mt=Math.min(100,(ut.length>5?35:ut.length*6)+(rt>5?30:rt*5)+(ht>0?25:0)+(ft>30?10:0)),xt=Math.min(100,ht*20+(dt>2?35:dt*12)+(rt>3?30:0)+(ut.length>4?15:0)),yt=Math.min(100,(rt>5?45:rt*7)+(rt>0?30:0));ct(vt=>{const Et=[];return dt>vt.totalQuestions&&dt>0&&(dt===1?Et.push({id:`q-${Date.now()}`,type:"question",timestamp:Date.now(),message:"",points:10,icon:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4"})}):dt%3===0&&vt.totalQuestions%3!==0&&Et.push({id:`q-${Date.now()}`,type:"question",timestamp:Date.now(),message:` ${dt} `,points:15,icon:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4"})})),rt>vt.totalEdits&&rt>0&&(rt===1?Et.push({id:`e-${Date.now()}`,type:"edit",timestamp:Date.now(),message:"",points:10,icon:jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4"})}):rt%3===0&&vt.totalEdits%3!==0&&Et.push({id:`e-${Date.now()}`,type:"edit",timestamp:Date.now(),message:` ${rt} `,points:15,icon:jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4"})})),ht>vt.deepInsights&&Et.push({id:`i-${Date.now()}`,type:"insight",timestamp:Date.now(),message:"",points:20,icon:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"})}),ft>vt.taskProgress&&ft>0&&Et.push({id:`c-${Date.now()}`,type:"completion",timestamp:Date.now(),message:` ${it}/${xe} `,points:25,icon:jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4"})}),{totalQuestions:dt,totalEdits:rt,deepInsights:ht,taskProgress:ft,selfDriveScore:pt,focusScore:mt,thinkingScore:xt,improvementScore:yt,recentMilestones:[...Et,...vt.recentMilestones].slice(0,5)}})},[ee,rt,it,xe]),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-b from-cyan-50 to-white p-4 rounded-2xl border border-cyan-100 shadow-lg h-full overflow-y-auto",children:[jsxRuntimeExports.jsxs("h3",{className:"text-cyan-800 font-bold mb-4 flex items-center gap-2 text-sm uppercase",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4"}),""]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-cyan-700 font-medium",children:""}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-cyan-600 font-bold",children:[xe>0?Math.round(it/xe*100):0,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-cyan-100 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-cyan-600 h-2 rounded-full transition-all duration-500",style:{width:`${xe>0?it/xe*100:0}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-cyan-600 mt-1",children:[" ",ne+1," / ",xe]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-cyan-800 uppercase",children:""}),[{name:"",score:lt.selfDriveScore,bgColor:"bg-purple-500"},{name:"",score:lt.focusScore,bgColor:"bg-blue-500"},{name:"",score:lt.thinkingScore,bgColor:"bg-green-500"},{name:"",score:lt.improvementScore,bgColor:"bg-orange-500"}].map((ut,dt)=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-700",children:ut.name}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-cyan-700",children:Math.round(ut.score)})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5",children:jsxRuntimeExports.jsx("div",{className:`${ut.bgColor} h-1.5 rounded-full transition-all duration-500`,style:{width:`${ut.score}%`}})})]},dt))]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-cyan-700",children:lt.totalQuestions})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-cyan-700",children:rt})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:""})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-cyan-700",children:lt.deepInsights})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:""})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-cyan-700",children:[Math.round(it/xe*100),"%"]})]})]}),lt.recentMilestones.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-cyan-800 uppercase mb-3",children:" "}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:lt.recentMilestones.map(ut=>jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-cyan-50 to-white p-2 rounded-lg border border-cyan-200 animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-cyan-600 mt-0.5",children:ut.icon}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-700",children:ut.message}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-cyan-600 mt-0.5",children:["+",ut.points," "]})]})]})},ut.id))})]})]})},VisualizationTypeSelector=({selectedType:ee,onSelect:te,disabled:ne=!1})=>{const xe=[{type:"mindmap",label:"",icon:jsxRuntimeExports.jsx(Brain,{size:20}),description:""},{type:"conceptmap",label:"",icon:jsxRuntimeExports.jsx(Network,{size:20}),description:"--"},{type:"knowledgegraph",label:"",icon:jsxRuntimeExports.jsx(GitBranch,{size:20}),description:""}];return jsxRuntimeExports.jsx("div",{className:"flex gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:xe.map(({type:rt,label:it,icon:lt,description:ct})=>jsxRuntimeExports.jsxs("button",{onClick:()=>!ne&&te(rt),disabled:ne,className:`
            flex-1 flex flex-col items-center gap-2 p-3 rounded-lg border-2 transition-all
            ${ee===rt?"border-cyan-500 bg-cyan-50 text-cyan-700 shadow-sm":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:bg-slate-50"}
            ${ne?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,title:ct,children:[lt,jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:it})]},rt))})},CreationModeSelector=({selectedMode:ee,onSelect:te,disabled:ne=!1})=>{const xe=[{mode:"simple-input",label:"",icon:jsxRuntimeExports.jsx(Type$2,{size:18}),description:""},{mode:"click-create",label:"",icon:jsxRuntimeExports.jsx(MousePointerClick,{size:18}),description:""},{mode:"drag-drop",label:"",icon:jsxRuntimeExports.jsx(Move,{size:18}),description:""}];return jsxRuntimeExports.jsx("div",{className:"flex gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:xe.map(({mode:rt,label:it,icon:lt,description:ct})=>jsxRuntimeExports.jsxs("button",{onClick:()=>!ne&&te(rt),disabled:ne,className:`
            flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg border-2 transition-all text-xs font-medium
            ${ee===rt?"border-purple-500 bg-purple-50 text-purple-700 shadow-sm":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:bg-slate-50"}
            ${ne?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,title:ct,children:[lt,jsxRuntimeExports.jsx("span",{children:it})]},rt))})};function parseTextToVisualizationData(ee,te="conceptmap"){const ne=ee.split(`
`).map(dt=>dt.trim()).filter(dt=>dt);if(ne.length===0)return{type:te,nodes:[],edges:[],metadata:{}};const xe=[],rt=[],it=new Map;let lt=0;const ct=(dt,ht=!1)=>{const ft=dt.trim();for(const[xt,yt]of it.entries())if(yt.label===ft)return yt;const pt=`node_${lt++}`,mt={id:pt,label:ft,type:ht?"confusion":"concept"};return xe.push(mt),it.set(pt,mt),mt};ne.forEach((dt,ht)=>{const ft=/(.+?)\s*(->|-->)\s*(.+)/,pt=dt.match(ft);if(!pt){const Lt=dt.match(/^(.+?)\s*\[\]/);Lt?ct(Lt[1],!0):ct(dt);return}const[,mt,xt,yt]=pt,vt=mt.match(/^(.+?)\s*\[\]/),Et=vt?vt[1]:mt.trim(),_t=!!vt,wt=yt.match(/^(.+?)\s*\[\]/);wt?wt[1]:yt.trim();const St=!!wt,Ct=yt.split(/\s*(->|-->)\s*/);let jt,Rt;Ct.length>=3&&Ct[1]==="->"||Ct[1]==="-->"?(jt=Ct[0].trim(),Rt=Ct.slice(2).join("").trim()):Rt=yt.trim();const Pt=Rt.match(/^(.+?)\s*\[\]/);Pt&&(Rt=Pt[1]);const Ot=ct(Et,_t),Ft=ct(Rt,St);rt.push({id:`edge_${rt.length}`,source:Ot.id,target:Ft.id,label:jt,type:jt?"related":"hierarchical"})});const ut=xe.find(dt=>!rt.some(ht=>ht.target===dt.id))?.label||xe[0]?.label||"";return{type:te,nodes:xe,edges:rt,metadata:{centralConcept:ut,confusionPoints:xe.filter(dt=>dt.type==="confusion").map(dt=>dt.label)}}}const SimpleInputMode=({type:ee,initialData:te,onChange:ne})=>{const[xe,rt]=reactExports.useState(""),[it,lt]=reactExports.useState(null);reactExports.useEffect(()=>{if(te&&te.nodes.length>0){const ut=[];te.edges.forEach(dt=>{const ht=te.nodes.find(pt=>pt.id===dt.source),ft=te.nodes.find(pt=>pt.id===dt.target);if(ht&&ft){const pt=dt.label?`${ht.label} -> ${dt.label} -> ${ft.label}`:`${ht.label} -> ${ft.label}`;ut.push(pt)}}),ut.length===0&&te.nodes.forEach(dt=>{ut.push(dt.label)}),rt(ut.join(`
`))}},[te]);const ct=ut=>{if(rt(ut),lt(null),!ut.trim()){ne({type:ee,nodes:[],edges:[],metadata:{}});return}try{const dt=parseTextToVisualizationData(ut,ee);ne(dt)}catch(dt){const ht=dt instanceof Error?dt.message:"";lt(ht),console.error("Parse error:",dt)}};return jsxRuntimeExports.jsx("div",{className:"w-full h-full flex flex-col",children:jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col border border-slate-200 rounded-lg overflow-hidden bg-white",children:[jsxRuntimeExports.jsx("div",{className:"p-3 border-b border-slate-200 bg-slate-50 flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-slate-700",children:""}),jsxRuntimeExports.jsxs("div",{className:"group relative",children:[jsxRuntimeExports.jsx(CircleHelp,{size:14,className:"text-slate-400 cursor-help"}),jsxRuntimeExports.jsxs("div",{className:"absolute left-0 bottom-full mb-2 w-64 p-2 bg-slate-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none z-10 transition-opacity",children:[jsxRuntimeExports.jsx("p",{className:"font-bold mb-1",children:""}),jsxRuntimeExports.jsx("p",{children:" A  B"}),jsxRuntimeExports.jsx("p",{children:" A    B"}),jsxRuntimeExports.jsx("p",{children:" A []  B"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-slate-300",children:""})]})]})]})}),jsxRuntimeExports.jsx("textarea",{value:xe,onChange:ut=>ct(ut.target.value),placeholder:`
A -> B
B ->  -> C
D [] -> E`,className:"flex-1 w-full p-4 text-sm font-mono text-slate-700 bg-white resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20 border-0",spellCheck:!1}),it&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-red-50 border-t border-red-200 flex items-center gap-2 text-xs text-red-700",children:[jsxRuntimeExports.jsx(CircleAlert,{size:14}),jsxRuntimeExports.jsx("span",{children:it})]})]})})};function cc(ee){if(typeof ee=="string"||typeof ee=="number")return""+ee;let te="";if(Array.isArray(ee))for(let ne=0,xe;ne<ee.length;ne++)(xe=cc(ee[ne]))!==""&&(te+=(te&&" ")+xe);else for(let ne in ee)ee[ne]&&(te+=(te&&" ")+ne);return te}const errorMessages={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:ee=>`Node type "${ee}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:ee=>`The old edge with id=${ee} does not exist.`,error009:ee=>`Marker type "${ee}" doesn't exist.`,error008:(ee,{id:te,sourceHandle:ne,targetHandle:xe})=>`Couldn't create edge for ${ee} handle id: "${ee==="source"?ne:xe}", edge id: ${te}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:ee=>`Edge type "${ee}" not found. Using fallback type "default".`,error012:ee=>`Node with id "${ee}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(ee="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${ee}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},infiniteExtent=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],elementSelectionKeys=["Enter"," ","Escape"],defaultAriaLabelConfig={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:ee,x:te,y:ne})=>`Moved selected node ${ee}. New position, x: ${te}, y: ${ne}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ConnectionMode;(function(ee){ee.Strict="strict",ee.Loose="loose"})(ConnectionMode||(ConnectionMode={}));var PanOnScrollMode;(function(ee){ee.Free="free",ee.Vertical="vertical",ee.Horizontal="horizontal"})(PanOnScrollMode||(PanOnScrollMode={}));var SelectionMode;(function(ee){ee.Partial="partial",ee.Full="full"})(SelectionMode||(SelectionMode={}));const initialConnection={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ConnectionLineType;(function(ee){ee.Bezier="default",ee.Straight="straight",ee.Step="step",ee.SmoothStep="smoothstep",ee.SimpleBezier="simplebezier"})(ConnectionLineType||(ConnectionLineType={}));var MarkerType;(function(ee){ee.Arrow="arrow",ee.ArrowClosed="arrowclosed"})(MarkerType||(MarkerType={}));var Position;(function(ee){ee.Left="left",ee.Top="top",ee.Right="right",ee.Bottom="bottom"})(Position||(Position={}));const oppositePosition={[Position.Left]:Position.Right,[Position.Right]:Position.Left,[Position.Top]:Position.Bottom,[Position.Bottom]:Position.Top};function getConnectionStatus(ee){return ee===null?null:ee?"valid":"invalid"}const isEdgeBase=ee=>"id"in ee&&"source"in ee&&"target"in ee,isNodeBase=ee=>"id"in ee&&"position"in ee&&!("source"in ee)&&!("target"in ee),isInternalNodeBase=ee=>"id"in ee&&"internals"in ee&&!("source"in ee)&&!("target"in ee),getNodePositionWithOrigin=(ee,te=[0,0])=>{const{width:ne,height:xe}=getNodeDimensions(ee),rt=ee.origin??te,it=ne*rt[0],lt=xe*rt[1];return{x:ee.position.x-it,y:ee.position.y-lt}},getNodesBounds=(ee,te={nodeOrigin:[0,0]})=>{if(ee.length===0)return{x:0,y:0,width:0,height:0};const ne=ee.reduce((xe,rt)=>{const it=typeof rt=="string";let lt=!te.nodeLookup&&!it?rt:void 0;te.nodeLookup&&(lt=it?te.nodeLookup.get(rt):isInternalNodeBase(rt)?rt:te.nodeLookup.get(rt.id));const ct=lt?nodeToBox(lt,te.nodeOrigin):{x:0,y:0,x2:0,y2:0};return getBoundsOfBoxes(xe,ct)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return boxToRect(ne)},getInternalNodesBounds=(ee,te={})=>{let ne={x:1/0,y:1/0,x2:-1/0,y2:-1/0},xe=!1;return ee.forEach(rt=>{(te.filter===void 0||te.filter(rt))&&(ne=getBoundsOfBoxes(ne,nodeToBox(rt)),xe=!0)}),xe?boxToRect(ne):{x:0,y:0,width:0,height:0}},getNodesInside=(ee,te,[ne,xe,rt]=[0,0,1],it=!1,lt=!1)=>{const ct={...pointToRendererPoint(te,[ne,xe,rt]),width:te.width/rt,height:te.height/rt},ut=[];for(const dt of ee.values()){const{measured:ht,selectable:ft=!0,hidden:pt=!1}=dt;if(lt&&!ft||pt)continue;const mt=ht.width??dt.width??dt.initialWidth??null,xt=ht.height??dt.height??dt.initialHeight??null,yt=getOverlappingArea(ct,nodeToRect(dt)),vt=(mt??0)*(xt??0),Et=it&&yt>0;(!dt.internals.handleBounds||Et||yt>=vt||dt.dragging)&&ut.push(dt)}return ut},getConnectedEdges=(ee,te)=>{const ne=new Set;return ee.forEach(xe=>{ne.add(xe.id)}),te.filter(xe=>ne.has(xe.source)||ne.has(xe.target))};function getFitViewNodes(ee,te){const ne=new Map,xe=te?.nodes?new Set(te.nodes.map(rt=>rt.id)):null;return ee.forEach(rt=>{rt.measured.width&&rt.measured.height&&(te?.includeHiddenNodes||!rt.hidden)&&(!xe||xe.has(rt.id))&&ne.set(rt.id,rt)}),ne}async function fitViewport({nodes:ee,width:te,height:ne,panZoom:xe,minZoom:rt,maxZoom:it},lt){if(ee.size===0)return Promise.resolve(!0);const ct=getFitViewNodes(ee,lt),ut=getInternalNodesBounds(ct),dt=getViewportForBounds(ut,te,ne,lt?.minZoom??rt,lt?.maxZoom??it,lt?.padding??.1);return await xe.setViewport(dt,{duration:lt?.duration,ease:lt?.ease,interpolate:lt?.interpolate}),Promise.resolve(!0)}function calculateNodePosition({nodeId:ee,nextPosition:te,nodeLookup:ne,nodeOrigin:xe=[0,0],nodeExtent:rt,onError:it}){const lt=ne.get(ee),ct=lt.parentId?ne.get(lt.parentId):void 0,{x:ut,y:dt}=ct?ct.internals.positionAbsolute:{x:0,y:0},ht=lt.origin??xe;let ft=lt.extent||rt;if(lt.extent==="parent"&&!lt.expandParent)if(!ct)it?.("005",errorMessages.error005());else{const mt=ct.measured.width,xt=ct.measured.height;mt&&xt&&(ft=[[ut,dt],[ut+mt,dt+xt]])}else ct&&isCoordinateExtent(lt.extent)&&(ft=[[lt.extent[0][0]+ut,lt.extent[0][1]+dt],[lt.extent[1][0]+ut,lt.extent[1][1]+dt]]);const pt=isCoordinateExtent(ft)?clampPosition(te,ft,lt.measured):te;return(lt.measured.width===void 0||lt.measured.height===void 0)&&it?.("015",errorMessages.error015()),{position:{x:pt.x-ut+(lt.measured.width??0)*ht[0],y:pt.y-dt+(lt.measured.height??0)*ht[1]},positionAbsolute:pt}}async function getElementsToRemove({nodesToRemove:ee=[],edgesToRemove:te=[],nodes:ne,edges:xe,onBeforeDelete:rt}){const it=new Set(ee.map(pt=>pt.id)),lt=[];for(const pt of ne){if(pt.deletable===!1)continue;const mt=it.has(pt.id),xt=!mt&&pt.parentId&&lt.find(yt=>yt.id===pt.parentId);(mt||xt)&&lt.push(pt)}const ct=new Set(te.map(pt=>pt.id)),ut=xe.filter(pt=>pt.deletable!==!1),ht=getConnectedEdges(lt,ut);for(const pt of ut)ct.has(pt.id)&&!ht.find(xt=>xt.id===pt.id)&&ht.push(pt);if(!rt)return{edges:ht,nodes:lt};const ft=await rt({nodes:lt,edges:ht});return typeof ft=="boolean"?ft?{edges:ht,nodes:lt}:{edges:[],nodes:[]}:ft}const clamp=(ee,te=0,ne=1)=>Math.min(Math.max(ee,te),ne),clampPosition=(ee={x:0,y:0},te,ne)=>({x:clamp(ee.x,te[0][0],te[1][0]-(ne?.width??0)),y:clamp(ee.y,te[0][1],te[1][1]-(ne?.height??0))});function clampPositionToParent(ee,te,ne){const{width:xe,height:rt}=getNodeDimensions(ne),{x:it,y:lt}=ne.internals.positionAbsolute;return clampPosition(ee,[[it,lt],[it+xe,lt+rt]],te)}const calcAutoPanVelocity=(ee,te,ne)=>ee<te?clamp(Math.abs(ee-te),1,te)/te:ee>ne?-clamp(Math.abs(ee-ne),1,te)/te:0,calcAutoPan=(ee,te,ne=15,xe=40)=>{const rt=calcAutoPanVelocity(ee.x,xe,te.width-xe)*ne,it=calcAutoPanVelocity(ee.y,xe,te.height-xe)*ne;return[rt,it]},getBoundsOfBoxes=(ee,te)=>({x:Math.min(ee.x,te.x),y:Math.min(ee.y,te.y),x2:Math.max(ee.x2,te.x2),y2:Math.max(ee.y2,te.y2)}),rectToBox=({x:ee,y:te,width:ne,height:xe})=>({x:ee,y:te,x2:ee+ne,y2:te+xe}),boxToRect=({x:ee,y:te,x2:ne,y2:xe})=>({x:ee,y:te,width:ne-ee,height:xe-te}),nodeToRect=(ee,te=[0,0])=>{const{x:ne,y:xe}=isInternalNodeBase(ee)?ee.internals.positionAbsolute:getNodePositionWithOrigin(ee,te);return{x:ne,y:xe,width:ee.measured?.width??ee.width??ee.initialWidth??0,height:ee.measured?.height??ee.height??ee.initialHeight??0}},nodeToBox=(ee,te=[0,0])=>{const{x:ne,y:xe}=isInternalNodeBase(ee)?ee.internals.positionAbsolute:getNodePositionWithOrigin(ee,te);return{x:ne,y:xe,x2:ne+(ee.measured?.width??ee.width??ee.initialWidth??0),y2:xe+(ee.measured?.height??ee.height??ee.initialHeight??0)}},getBoundsOfRects=(ee,te)=>boxToRect(getBoundsOfBoxes(rectToBox(ee),rectToBox(te))),getOverlappingArea=(ee,te)=>{const ne=Math.max(0,Math.min(ee.x+ee.width,te.x+te.width)-Math.max(ee.x,te.x)),xe=Math.max(0,Math.min(ee.y+ee.height,te.y+te.height)-Math.max(ee.y,te.y));return Math.ceil(ne*xe)},isRectObject=ee=>isNumeric(ee.width)&&isNumeric(ee.height)&&isNumeric(ee.x)&&isNumeric(ee.y),isNumeric=ee=>!isNaN(ee)&&isFinite(ee),devWarn=(ee,te)=>{},snapPosition=(ee,te=[1,1])=>({x:te[0]*Math.round(ee.x/te[0]),y:te[1]*Math.round(ee.y/te[1])}),pointToRendererPoint=({x:ee,y:te},[ne,xe,rt],it=!1,lt=[1,1])=>{const ct={x:(ee-ne)/rt,y:(te-xe)/rt};return it?snapPosition(ct,lt):ct},rendererPointToPoint=({x:ee,y:te},[ne,xe,rt])=>({x:ee*rt+ne,y:te*rt+xe});function parsePadding(ee,te){if(typeof ee=="number")return Math.floor((te-te/(1+ee))*.5);if(typeof ee=="string"&&ee.endsWith("px")){const ne=parseFloat(ee);if(!Number.isNaN(ne))return Math.floor(ne)}if(typeof ee=="string"&&ee.endsWith("%")){const ne=parseFloat(ee);if(!Number.isNaN(ne))return Math.floor(te*ne*.01)}return console.error(`[React Flow] The padding value "${ee}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function parsePaddings(ee,te,ne){if(typeof ee=="string"||typeof ee=="number"){const xe=parsePadding(ee,ne),rt=parsePadding(ee,te);return{top:xe,right:rt,bottom:xe,left:rt,x:rt*2,y:xe*2}}if(typeof ee=="object"){const xe=parsePadding(ee.top??ee.y??0,ne),rt=parsePadding(ee.bottom??ee.y??0,ne),it=parsePadding(ee.left??ee.x??0,te),lt=parsePadding(ee.right??ee.x??0,te);return{top:xe,right:lt,bottom:rt,left:it,x:it+lt,y:xe+rt}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function calculateAppliedPaddings(ee,te,ne,xe,rt,it){const{x:lt,y:ct}=rendererPointToPoint(ee,[te,ne,xe]),{x:ut,y:dt}=rendererPointToPoint({x:ee.x+ee.width,y:ee.y+ee.height},[te,ne,xe]),ht=rt-ut,ft=it-dt;return{left:Math.floor(lt),top:Math.floor(ct),right:Math.floor(ht),bottom:Math.floor(ft)}}const getViewportForBounds=(ee,te,ne,xe,rt,it)=>{const lt=parsePaddings(it,te,ne),ct=(te-lt.x)/ee.width,ut=(ne-lt.y)/ee.height,dt=Math.min(ct,ut),ht=clamp(dt,xe,rt),ft=ee.x+ee.width/2,pt=ee.y+ee.height/2,mt=te/2-ft*ht,xt=ne/2-pt*ht,yt=calculateAppliedPaddings(ee,mt,xt,ht,te,ne),vt={left:Math.min(yt.left-lt.left,0),top:Math.min(yt.top-lt.top,0),right:Math.min(yt.right-lt.right,0),bottom:Math.min(yt.bottom-lt.bottom,0)};return{x:mt-vt.left+vt.right,y:xt-vt.top+vt.bottom,zoom:ht}},isMacOs=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function isCoordinateExtent(ee){return ee!=null&&ee!=="parent"}function getNodeDimensions(ee){return{width:ee.measured?.width??ee.width??ee.initialWidth??0,height:ee.measured?.height??ee.height??ee.initialHeight??0}}function nodeHasDimensions(ee){return(ee.measured?.width??ee.width??ee.initialWidth)!==void 0&&(ee.measured?.height??ee.height??ee.initialHeight)!==void 0}function evaluateAbsolutePosition(ee,te={width:0,height:0},ne,xe,rt){const it={...ee},lt=xe.get(ne);if(lt){const ct=lt.origin||rt;it.x+=lt.internals.positionAbsolute.x-(te.width??0)*ct[0],it.y+=lt.internals.positionAbsolute.y-(te.height??0)*ct[1]}return it}function areSetsEqual(ee,te){if(ee.size!==te.size)return!1;for(const ne of ee)if(!te.has(ne))return!1;return!0}function withResolvers(){let ee,te;return{promise:new Promise((xe,rt)=>{ee=xe,te=rt}),resolve:ee,reject:te}}function mergeAriaLabelConfig(ee){return{...defaultAriaLabelConfig,...ee||{}}}function getPointerPosition(ee,{snapGrid:te=[0,0],snapToGrid:ne=!1,transform:xe,containerBounds:rt}){const{x:it,y:lt}=getEventPosition(ee),ct=pointToRendererPoint({x:it-(rt?.left??0),y:lt-(rt?.top??0)},xe),{x:ut,y:dt}=ne?snapPosition(ct,te):ct;return{xSnapped:ut,ySnapped:dt,...ct}}const getDimensions=ee=>({width:ee.offsetWidth,height:ee.offsetHeight}),getHostForElement=ee=>ee?.getRootNode?.()||window?.document,inputTags=["INPUT","SELECT","TEXTAREA"];function isInputDOMNode(ee){const te=ee.composedPath?.()?.[0]||ee.target;return te?.nodeType!==1?!1:inputTags.includes(te.nodeName)||te.hasAttribute("contenteditable")||!!te.closest(".nokey")}const isMouseEvent=ee=>"clientX"in ee,getEventPosition=(ee,te)=>{const ne=isMouseEvent(ee),xe=ne?ee.clientX:ee.touches?.[0].clientX,rt=ne?ee.clientY:ee.touches?.[0].clientY;return{x:xe-(te?.left??0),y:rt-(te?.top??0)}},getHandleBounds=(ee,te,ne,xe,rt)=>{const it=te.querySelectorAll(`.${ee}`);return!it||!it.length?null:Array.from(it).map(lt=>{const ct=lt.getBoundingClientRect();return{id:lt.getAttribute("data-handleid"),type:ee,nodeId:rt,position:lt.getAttribute("data-handlepos"),x:(ct.left-ne.left)/xe,y:(ct.top-ne.top)/xe,...getDimensions(lt)}})};function getBezierEdgeCenter({sourceX:ee,sourceY:te,targetX:ne,targetY:xe,sourceControlX:rt,sourceControlY:it,targetControlX:lt,targetControlY:ct}){const ut=ee*.125+rt*.375+lt*.375+ne*.125,dt=te*.125+it*.375+ct*.375+xe*.125,ht=Math.abs(ut-ee),ft=Math.abs(dt-te);return[ut,dt,ht,ft]}function calculateControlOffset(ee,te){return ee>=0?.5*ee:te*25*Math.sqrt(-ee)}function getControlWithCurvature({pos:ee,x1:te,y1:ne,x2:xe,y2:rt,c:it}){switch(ee){case Position.Left:return[te-calculateControlOffset(te-xe,it),ne];case Position.Right:return[te+calculateControlOffset(xe-te,it),ne];case Position.Top:return[te,ne-calculateControlOffset(ne-rt,it)];case Position.Bottom:return[te,ne+calculateControlOffset(rt-ne,it)]}}function getBezierPath({sourceX:ee,sourceY:te,sourcePosition:ne=Position.Bottom,targetX:xe,targetY:rt,targetPosition:it=Position.Top,curvature:lt=.25}){const[ct,ut]=getControlWithCurvature({pos:ne,x1:ee,y1:te,x2:xe,y2:rt,c:lt}),[dt,ht]=getControlWithCurvature({pos:it,x1:xe,y1:rt,x2:ee,y2:te,c:lt}),[ft,pt,mt,xt]=getBezierEdgeCenter({sourceX:ee,sourceY:te,targetX:xe,targetY:rt,sourceControlX:ct,sourceControlY:ut,targetControlX:dt,targetControlY:ht});return[`M${ee},${te} C${ct},${ut} ${dt},${ht} ${xe},${rt}`,ft,pt,mt,xt]}function getEdgeCenter({sourceX:ee,sourceY:te,targetX:ne,targetY:xe}){const rt=Math.abs(ne-ee)/2,it=ne<ee?ne+rt:ne-rt,lt=Math.abs(xe-te)/2,ct=xe<te?xe+lt:xe-lt;return[it,ct,rt,lt]}function getElevatedEdgeZIndex({sourceNode:ee,targetNode:te,selected:ne=!1,zIndex:xe=0,elevateOnSelect:rt=!1,zIndexMode:it="basic"}){if(it==="manual")return xe;const lt=rt&&ne?xe+1e3:xe,ct=Math.max(ee.parentId||rt&&ee.selected?ee.internals.z:0,te.parentId||rt&&te.selected?te.internals.z:0);return lt+ct}function isEdgeVisible({sourceNode:ee,targetNode:te,width:ne,height:xe,transform:rt}){const it=getBoundsOfBoxes(nodeToBox(ee),nodeToBox(te));it.x===it.x2&&(it.x2+=1),it.y===it.y2&&(it.y2+=1);const lt={x:-rt[0]/rt[2],y:-rt[1]/rt[2],width:ne/rt[2],height:xe/rt[2]};return getOverlappingArea(lt,boxToRect(it))>0}const getEdgeId=({source:ee,sourceHandle:te,target:ne,targetHandle:xe})=>`xy-edge__${ee}${te||""}-${ne}${xe||""}`,connectionExists=(ee,te)=>te.some(ne=>ne.source===ee.source&&ne.target===ee.target&&(ne.sourceHandle===ee.sourceHandle||!ne.sourceHandle&&!ee.sourceHandle)&&(ne.targetHandle===ee.targetHandle||!ne.targetHandle&&!ee.targetHandle)),addEdge=(ee,te,ne={})=>{if(!ee.source||!ee.target)return te;const xe=ne.getEdgeId||getEdgeId;let rt;return isEdgeBase(ee)?rt={...ee}:rt={...ee,id:xe(ee)},connectionExists(rt,te)?te:(rt.sourceHandle===null&&delete rt.sourceHandle,rt.targetHandle===null&&delete rt.targetHandle,te.concat(rt))};function getStraightPath({sourceX:ee,sourceY:te,targetX:ne,targetY:xe}){const[rt,it,lt,ct]=getEdgeCenter({sourceX:ee,sourceY:te,targetX:ne,targetY:xe});return[`M ${ee},${te}L ${ne},${xe}`,rt,it,lt,ct]}const handleDirections={[Position.Left]:{x:-1,y:0},[Position.Right]:{x:1,y:0},[Position.Top]:{x:0,y:-1},[Position.Bottom]:{x:0,y:1}},getDirection=({source:ee,sourcePosition:te=Position.Bottom,target:ne})=>te===Position.Left||te===Position.Right?ee.x<ne.x?{x:1,y:0}:{x:-1,y:0}:ee.y<ne.y?{x:0,y:1}:{x:0,y:-1},distance=(ee,te)=>Math.sqrt(Math.pow(te.x-ee.x,2)+Math.pow(te.y-ee.y,2));function getPoints({source:ee,sourcePosition:te=Position.Bottom,target:ne,targetPosition:xe=Position.Top,center:rt,offset:it,stepPosition:lt}){const ct=handleDirections[te],ut=handleDirections[xe],dt={x:ee.x+ct.x*it,y:ee.y+ct.y*it},ht={x:ne.x+ut.x*it,y:ne.y+ut.y*it},ft=getDirection({source:dt,sourcePosition:te,target:ht}),pt=ft.x!==0?"x":"y",mt=ft[pt];let xt=[],yt,vt;const Et={x:0,y:0},_t={x:0,y:0},[,,wt,St]=getEdgeCenter({sourceX:ee.x,sourceY:ee.y,targetX:ne.x,targetY:ne.y});if(ct[pt]*ut[pt]===-1){pt==="x"?(yt=rt.x??dt.x+(ht.x-dt.x)*lt,vt=rt.y??(dt.y+ht.y)/2):(yt=rt.x??(dt.x+ht.x)/2,vt=rt.y??dt.y+(ht.y-dt.y)*lt);const jt=[{x:yt,y:dt.y},{x:yt,y:ht.y}],Rt=[{x:dt.x,y:vt},{x:ht.x,y:vt}];ct[pt]===mt?xt=pt==="x"?jt:Rt:xt=pt==="x"?Rt:jt}else{const jt=[{x:dt.x,y:ht.y}],Rt=[{x:ht.x,y:dt.y}];if(pt==="x"?xt=ct.x===mt?Rt:jt:xt=ct.y===mt?jt:Rt,te===xe){const Bt=Math.abs(ee[pt]-ne[pt]);if(Bt<=it){const Gt=Math.min(it-1,it-Bt);ct[pt]===mt?Et[pt]=(dt[pt]>ee[pt]?-1:1)*Gt:_t[pt]=(ht[pt]>ne[pt]?-1:1)*Gt}}if(te!==xe){const Bt=pt==="x"?"y":"x",Gt=ct[pt]===ut[Bt],It=dt[Bt]>ht[Bt],qt=dt[Bt]<ht[Bt];(ct[pt]===1&&(!Gt&&It||Gt&&qt)||ct[pt]!==1&&(!Gt&&qt||Gt&&It))&&(xt=pt==="x"?jt:Rt)}const Pt={x:dt.x+Et.x,y:dt.y+Et.y},Ot={x:ht.x+_t.x,y:ht.y+_t.y},Ft=Math.max(Math.abs(Pt.x-xt[0].x),Math.abs(Ot.x-xt[0].x)),Lt=Math.max(Math.abs(Pt.y-xt[0].y),Math.abs(Ot.y-xt[0].y));Ft>=Lt?(yt=(Pt.x+Ot.x)/2,vt=xt[0].y):(yt=xt[0].x,vt=(Pt.y+Ot.y)/2)}return[[ee,{x:dt.x+Et.x,y:dt.y+Et.y},...xt,{x:ht.x+_t.x,y:ht.y+_t.y},ne],yt,vt,wt,St]}function getBend(ee,te,ne,xe){const rt=Math.min(distance(ee,te)/2,distance(te,ne)/2,xe),{x:it,y:lt}=te;if(ee.x===it&&it===ne.x||ee.y===lt&&lt===ne.y)return`L${it} ${lt}`;if(ee.y===lt){const dt=ee.x<ne.x?-1:1,ht=ee.y<ne.y?1:-1;return`L ${it+rt*dt},${lt}Q ${it},${lt} ${it},${lt+rt*ht}`}const ct=ee.x<ne.x?1:-1,ut=ee.y<ne.y?-1:1;return`L ${it},${lt+rt*ut}Q ${it},${lt} ${it+rt*ct},${lt}`}function getSmoothStepPath({sourceX:ee,sourceY:te,sourcePosition:ne=Position.Bottom,targetX:xe,targetY:rt,targetPosition:it=Position.Top,borderRadius:lt=5,centerX:ct,centerY:ut,offset:dt=20,stepPosition:ht=.5}){const[ft,pt,mt,xt,yt]=getPoints({source:{x:ee,y:te},sourcePosition:ne,target:{x:xe,y:rt},targetPosition:it,center:{x:ct,y:ut},offset:dt,stepPosition:ht});return[ft.reduce((Et,_t,wt)=>{let St="";return wt>0&&wt<ft.length-1?St=getBend(ft[wt-1],_t,ft[wt+1],lt):St=`${wt===0?"M":"L"}${_t.x} ${_t.y}`,Et+=St,Et},""),pt,mt,xt,yt]}function isNodeInitialized(ee){return ee&&!!(ee.internals.handleBounds||ee.handles?.length)&&!!(ee.measured.width||ee.width||ee.initialWidth)}function getEdgePosition(ee){const{sourceNode:te,targetNode:ne}=ee;if(!isNodeInitialized(te)||!isNodeInitialized(ne))return null;const xe=te.internals.handleBounds||toHandleBounds(te.handles),rt=ne.internals.handleBounds||toHandleBounds(ne.handles),it=getHandle$1(xe?.source??[],ee.sourceHandle),lt=getHandle$1(ee.connectionMode===ConnectionMode.Strict?rt?.target??[]:(rt?.target??[]).concat(rt?.source??[]),ee.targetHandle);if(!it||!lt)return ee.onError?.("008",errorMessages.error008(it?"target":"source",{id:ee.id,sourceHandle:ee.sourceHandle,targetHandle:ee.targetHandle})),null;const ct=it?.position||Position.Bottom,ut=lt?.position||Position.Top,dt=getHandlePosition(te,it,ct),ht=getHandlePosition(ne,lt,ut);return{sourceX:dt.x,sourceY:dt.y,targetX:ht.x,targetY:ht.y,sourcePosition:ct,targetPosition:ut}}function toHandleBounds(ee){if(!ee)return null;const te=[],ne=[];for(const xe of ee)xe.width=xe.width??1,xe.height=xe.height??1,xe.type==="source"?te.push(xe):xe.type==="target"&&ne.push(xe);return{source:te,target:ne}}function getHandlePosition(ee,te,ne=Position.Left,xe=!1){const rt=(te?.x??0)+ee.internals.positionAbsolute.x,it=(te?.y??0)+ee.internals.positionAbsolute.y,{width:lt,height:ct}=te??getNodeDimensions(ee);if(xe)return{x:rt+lt/2,y:it+ct/2};switch(te?.position??ne){case Position.Top:return{x:rt+lt/2,y:it};case Position.Right:return{x:rt+lt,y:it+ct/2};case Position.Bottom:return{x:rt+lt/2,y:it+ct};case Position.Left:return{x:rt,y:it+ct/2}}}function getHandle$1(ee,te){return ee&&(te?ee.find(ne=>ne.id===te):ee[0])||null}function getMarkerId(ee,te){return ee?typeof ee=="string"?ee:`${te?`${te}__`:""}${Object.keys(ee).sort().map(xe=>`${xe}=${ee[xe]}`).join("&")}`:""}function createMarkerIds(ee,{id:te,defaultColor:ne,defaultMarkerStart:xe,defaultMarkerEnd:rt}){const it=new Set;return ee.reduce((lt,ct)=>([ct.markerStart||xe,ct.markerEnd||rt].forEach(ut=>{if(ut&&typeof ut=="object"){const dt=getMarkerId(ut,te);it.has(dt)||(lt.push({id:dt,color:ut.color||ne,...ut}),it.add(dt))}}),lt),[]).sort((lt,ct)=>lt.id.localeCompare(ct.id))}const SELECTED_NODE_Z=1e3,ROOT_PARENT_Z_INCREMENT=10,defaultOptions={nodeOrigin:[0,0],nodeExtent:infiniteExtent,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},adoptUserNodesDefaultOptions={...defaultOptions,checkEquality:!0};function mergeObjects(ee,te){const ne={...ee};for(const xe in te)te[xe]!==void 0&&(ne[xe]=te[xe]);return ne}function updateAbsolutePositions(ee,te,ne){const xe=mergeObjects(defaultOptions,ne);for(const rt of ee.values())if(rt.parentId)updateChildNode(rt,ee,te,xe);else{const it=getNodePositionWithOrigin(rt,xe.nodeOrigin),lt=isCoordinateExtent(rt.extent)?rt.extent:xe.nodeExtent,ct=clampPosition(it,lt,getNodeDimensions(rt));rt.internals.positionAbsolute=ct}}function parseHandles(ee,te){if(!ee.handles)return ee.measured?te?.internals.handleBounds:void 0;const ne=[],xe=[];for(const rt of ee.handles){const it={id:rt.id,width:rt.width??1,height:rt.height??1,nodeId:ee.id,x:rt.x,y:rt.y,position:rt.position,type:rt.type};rt.type==="source"?ne.push(it):rt.type==="target"&&xe.push(it)}return{source:ne,target:xe}}function isManualZIndexMode(ee){return ee==="manual"}function adoptUserNodes(ee,te,ne,xe={}){const rt=mergeObjects(adoptUserNodesDefaultOptions,xe),it={i:0},lt=new Map(te),ct=rt?.elevateNodesOnSelect&&!isManualZIndexMode(rt.zIndexMode)?SELECTED_NODE_Z:0;let ut=ee.length>0;te.clear(),ne.clear();for(const dt of ee){let ht=lt.get(dt.id);if(rt.checkEquality&&dt===ht?.internals.userNode)te.set(dt.id,ht);else{const ft=getNodePositionWithOrigin(dt,rt.nodeOrigin),pt=isCoordinateExtent(dt.extent)?dt.extent:rt.nodeExtent,mt=clampPosition(ft,pt,getNodeDimensions(dt));ht={...rt.defaults,...dt,measured:{width:dt.measured?.width,height:dt.measured?.height},internals:{positionAbsolute:mt,handleBounds:parseHandles(dt,ht),z:calculateZ(dt,ct,rt.zIndexMode),userNode:dt}},te.set(dt.id,ht)}(ht.measured===void 0||ht.measured.width===void 0||ht.measured.height===void 0)&&!ht.hidden&&(ut=!1),dt.parentId&&updateChildNode(ht,te,ne,xe,it)}return ut}function updateParentLookup(ee,te){if(!ee.parentId)return;const ne=te.get(ee.parentId);ne?ne.set(ee.id,ee):te.set(ee.parentId,new Map([[ee.id,ee]]))}function updateChildNode(ee,te,ne,xe,rt){const{elevateNodesOnSelect:it,nodeOrigin:lt,nodeExtent:ct,zIndexMode:ut}=mergeObjects(defaultOptions,xe),dt=ee.parentId,ht=te.get(dt);if(!ht){console.warn(`Parent node ${dt} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}updateParentLookup(ee,ne),rt&&!ht.parentId&&ht.internals.rootParentIndex===void 0&&ut==="auto"&&(ht.internals.rootParentIndex=++rt.i,ht.internals.z=ht.internals.z+rt.i*ROOT_PARENT_Z_INCREMENT),rt&&ht.internals.rootParentIndex!==void 0&&(rt.i=ht.internals.rootParentIndex);const ft=it&&!isManualZIndexMode(ut)?SELECTED_NODE_Z:0,{x:pt,y:mt,z:xt}=calculateChildXYZ(ee,ht,lt,ct,ft,ut),{positionAbsolute:yt}=ee.internals,vt=pt!==yt.x||mt!==yt.y;(vt||xt!==ee.internals.z)&&te.set(ee.id,{...ee,internals:{...ee.internals,positionAbsolute:vt?{x:pt,y:mt}:yt,z:xt}})}function calculateZ(ee,te,ne){const xe=isNumeric(ee.zIndex)?ee.zIndex:0;return isManualZIndexMode(ne)?xe:xe+(ee.selected?te:0)}function calculateChildXYZ(ee,te,ne,xe,rt,it){const{x:lt,y:ct}=te.internals.positionAbsolute,ut=getNodeDimensions(ee),dt=getNodePositionWithOrigin(ee,ne),ht=isCoordinateExtent(ee.extent)?clampPosition(dt,ee.extent,ut):dt;let ft=clampPosition({x:lt+ht.x,y:ct+ht.y},xe,ut);ee.extent==="parent"&&(ft=clampPositionToParent(ft,ut,te));const pt=calculateZ(ee,rt,it),mt=te.internals.z??0;return{x:ft.x,y:ft.y,z:mt>=pt?mt+1:pt}}function handleExpandParent(ee,te,ne,xe=[0,0]){const rt=[],it=new Map;for(const lt of ee){const ct=te.get(lt.parentId);if(!ct)continue;const ut=it.get(lt.parentId)?.expandedRect??nodeToRect(ct),dt=getBoundsOfRects(ut,lt.rect);it.set(lt.parentId,{expandedRect:dt,parent:ct})}return it.size>0&&it.forEach(({expandedRect:lt,parent:ct},ut)=>{const dt=ct.internals.positionAbsolute,ht=getNodeDimensions(ct),ft=ct.origin??xe,pt=lt.x<dt.x?Math.round(Math.abs(dt.x-lt.x)):0,mt=lt.y<dt.y?Math.round(Math.abs(dt.y-lt.y)):0,xt=Math.max(ht.width,Math.round(lt.width)),yt=Math.max(ht.height,Math.round(lt.height)),vt=(xt-ht.width)*ft[0],Et=(yt-ht.height)*ft[1];(pt>0||mt>0||vt||Et)&&(rt.push({id:ut,type:"position",position:{x:ct.position.x-pt+vt,y:ct.position.y-mt+Et}}),ne.get(ut)?.forEach(_t=>{ee.some(wt=>wt.id===_t.id)||rt.push({id:_t.id,type:"position",position:{x:_t.position.x+pt,y:_t.position.y+mt}})})),(ht.width<lt.width||ht.height<lt.height||pt||mt)&&rt.push({id:ut,type:"dimensions",setAttributes:!0,dimensions:{width:xt+(pt?ft[0]*pt-vt:0),height:yt+(mt?ft[1]*mt-Et:0)}})}),rt}function updateNodeInternals(ee,te,ne,xe,rt,it,lt){const ct=xe?.querySelector(".xyflow__viewport");let ut=!1;if(!ct)return{changes:[],updatedInternals:ut};const dt=[],ht=window.getComputedStyle(ct),{m22:ft}=new window.DOMMatrixReadOnly(ht.transform),pt=[];for(const mt of ee.values()){const xt=te.get(mt.id);if(!xt)continue;if(xt.hidden){te.set(xt.id,{...xt,internals:{...xt.internals,handleBounds:void 0}}),ut=!0;continue}const yt=getDimensions(mt.nodeElement),vt=xt.measured.width!==yt.width||xt.measured.height!==yt.height;if(!!(yt.width&&yt.height&&(vt||!xt.internals.handleBounds||mt.force))){const _t=mt.nodeElement.getBoundingClientRect(),wt=isCoordinateExtent(xt.extent)?xt.extent:it;let{positionAbsolute:St}=xt.internals;xt.parentId&&xt.extent==="parent"?St=clampPositionToParent(St,yt,te.get(xt.parentId)):wt&&(St=clampPosition(St,wt,yt));const Ct={...xt,measured:yt,internals:{...xt.internals,positionAbsolute:St,handleBounds:{source:getHandleBounds("source",mt.nodeElement,_t,ft,xt.id),target:getHandleBounds("target",mt.nodeElement,_t,ft,xt.id)}}};te.set(xt.id,Ct),xt.parentId&&updateChildNode(Ct,te,ne,{nodeOrigin:rt,zIndexMode:lt}),ut=!0,vt&&(dt.push({id:xt.id,type:"dimensions",dimensions:yt}),xt.expandParent&&xt.parentId&&pt.push({id:xt.id,parentId:xt.parentId,rect:nodeToRect(Ct,rt)}))}}if(pt.length>0){const mt=handleExpandParent(pt,te,ne,rt);dt.push(...mt)}return{changes:dt,updatedInternals:ut}}async function panBy({delta:ee,panZoom:te,transform:ne,translateExtent:xe,width:rt,height:it}){if(!te||!ee.x&&!ee.y)return Promise.resolve(!1);const lt=await te.setViewportConstrained({x:ne[0]+ee.x,y:ne[1]+ee.y,zoom:ne[2]},[[0,0],[rt,it]],xe),ct=!!lt&&(lt.x!==ne[0]||lt.y!==ne[1]||lt.k!==ne[2]);return Promise.resolve(ct)}function addConnectionToLookup(ee,te,ne,xe,rt,it){let lt=rt;const ct=xe.get(lt)||new Map;xe.set(lt,ct.set(ne,te)),lt=`${rt}-${ee}`;const ut=xe.get(lt)||new Map;if(xe.set(lt,ut.set(ne,te)),it){lt=`${rt}-${ee}-${it}`;const dt=xe.get(lt)||new Map;xe.set(lt,dt.set(ne,te))}}function updateConnectionLookup(ee,te,ne){ee.clear(),te.clear();for(const xe of ne){const{source:rt,target:it,sourceHandle:lt=null,targetHandle:ct=null}=xe,ut={edgeId:xe.id,source:rt,target:it,sourceHandle:lt,targetHandle:ct},dt=`${rt}-${lt}--${it}-${ct}`,ht=`${it}-${ct}--${rt}-${lt}`;addConnectionToLookup("source",ut,ht,ee,rt,lt),addConnectionToLookup("target",ut,dt,ee,it,ct),te.set(xe.id,xe)}}function isParentSelected(ee,te){if(!ee.parentId)return!1;const ne=te.get(ee.parentId);return ne?ne.selected?!0:isParentSelected(ne,te):!1}function hasSelector(ee,te,ne){let xe=ee;do{if(xe?.matches?.(te))return!0;if(xe===ne)return!1;xe=xe?.parentElement}while(xe);return!1}function getDragItems(ee,te,ne,xe){const rt=new Map;for(const[it,lt]of ee)if((lt.selected||lt.id===xe)&&(!lt.parentId||!isParentSelected(lt,ee))&&(lt.draggable||te&&typeof lt.draggable>"u")){const ct=ee.get(it);ct&&rt.set(it,{id:it,position:ct.position||{x:0,y:0},distance:{x:ne.x-ct.internals.positionAbsolute.x,y:ne.y-ct.internals.positionAbsolute.y},extent:ct.extent,parentId:ct.parentId,origin:ct.origin,expandParent:ct.expandParent,internals:{positionAbsolute:ct.internals.positionAbsolute||{x:0,y:0}},measured:{width:ct.measured.width??0,height:ct.measured.height??0}})}return rt}function getEventHandlerParams({nodeId:ee,dragItems:te,nodeLookup:ne,dragging:xe=!0}){const rt=[];for(const[lt,ct]of te){const ut=ne.get(lt)?.internals.userNode;ut&&rt.push({...ut,position:ct.position,dragging:xe})}if(!ee)return[rt[0],rt];const it=ne.get(ee)?.internals.userNode;return[it?{...it,position:te.get(ee)?.position||it.position,dragging:xe}:rt[0],rt]}function calculateSnapOffset({dragItems:ee,snapGrid:te,x:ne,y:xe}){const rt=ee.values().next().value;if(!rt)return null;const it={x:ne-rt.distance.x,y:xe-rt.distance.y},lt=snapPosition(it,te);return{x:lt.x-it.x,y:lt.y-it.y}}function XYDrag({onNodeMouseDown:ee,getStoreItems:te,onDragStart:ne,onDrag:xe,onDragStop:rt}){let it={x:null,y:null},lt=0,ct=new Map,ut=!1,dt={x:0,y:0},ht=null,ft=!1,pt=null,mt=!1,xt=!1,yt=null;function vt({noDragClassName:_t,handleSelector:wt,domNode:St,isSelectable:Ct,nodeId:jt,nodeClickDistance:Rt=0}){pt=select(St);function Pt({x:Bt,y:Gt}){const{nodeLookup:It,nodeExtent:qt,snapGrid:Nt,snapToGrid:Dt,nodeOrigin:Tt,onNodeDrag:Mt,onSelectionDrag:$t,onError:Ht,updateNodePositions:Wt}=te();it={x:Bt,y:Gt};let Vt=!1;const Yt=ct.size>1,Qt=Yt&&qt?rectToBox(getInternalNodesBounds(ct)):null,ar=Yt&&Dt?calculateSnapOffset({dragItems:ct,snapGrid:Nt,x:Bt,y:Gt}):null;for(const[Xt,tr]of ct){if(!It.has(Xt))continue;let rr={x:Bt-tr.distance.x,y:Gt-tr.distance.y};Dt&&(rr=ar?{x:Math.round(rr.x+ar.x),y:Math.round(rr.y+ar.y)}:snapPosition(rr,Nt));let ur=null;if(Yt&&qt&&!tr.extent&&Qt){const{positionAbsolute:or}=tr.internals,dr=or.x-Qt.x+qt[0][0],Ar=or.x+tr.measured.width-Qt.x2+qt[1][0],Nr=or.y-Qt.y+qt[0][1],Mr=or.y+tr.measured.height-Qt.y2+qt[1][1];ur=[[dr,Nr],[Ar,Mr]]}const{position:Jt,positionAbsolute:Zt}=calculateNodePosition({nodeId:Xt,nextPosition:rr,nodeLookup:It,nodeExtent:ur||qt,nodeOrigin:Tt,onError:Ht});Vt=Vt||tr.position.x!==Jt.x||tr.position.y!==Jt.y,tr.position=Jt,tr.internals.positionAbsolute=Zt}if(xt=xt||Vt,!!Vt&&(Wt(ct,!0),yt&&(xe||Mt||!jt&&$t))){const[Xt,tr]=getEventHandlerParams({nodeId:jt,dragItems:ct,nodeLookup:It});xe?.(yt,ct,Xt,tr),Mt?.(yt,Xt,tr),jt||$t?.(yt,tr)}}async function Ot(){if(!ht)return;const{transform:Bt,panBy:Gt,autoPanSpeed:It,autoPanOnNodeDrag:qt}=te();if(!qt){ut=!1,cancelAnimationFrame(lt);return}const[Nt,Dt]=calcAutoPan(dt,ht,It);(Nt!==0||Dt!==0)&&(it.x=(it.x??0)-Nt/Bt[2],it.y=(it.y??0)-Dt/Bt[2],await Gt({x:Nt,y:Dt})&&Pt(it)),lt=requestAnimationFrame(Ot)}function Ft(Bt){const{nodeLookup:Gt,multiSelectionActive:It,nodesDraggable:qt,transform:Nt,snapGrid:Dt,snapToGrid:Tt,selectNodesOnDrag:Mt,onNodeDragStart:$t,onSelectionDragStart:Ht,unselectNodesAndEdges:Wt}=te();ft=!0,(!Mt||!Ct)&&!It&&jt&&(Gt.get(jt)?.selected||Wt()),Ct&&Mt&&jt&&ee?.(jt);const Vt=getPointerPosition(Bt.sourceEvent,{transform:Nt,snapGrid:Dt,snapToGrid:Tt,containerBounds:ht});if(it=Vt,ct=getDragItems(Gt,qt,Vt,jt),ct.size>0&&(ne||$t||!jt&&Ht)){const[Yt,Qt]=getEventHandlerParams({nodeId:jt,dragItems:ct,nodeLookup:Gt});ne?.(Bt.sourceEvent,ct,Yt,Qt),$t?.(Bt.sourceEvent,Yt,Qt),jt||Ht?.(Bt.sourceEvent,Qt)}}const Lt=drag().clickDistance(Rt).on("start",Bt=>{const{domNode:Gt,nodeDragThreshold:It,transform:qt,snapGrid:Nt,snapToGrid:Dt}=te();ht=Gt?.getBoundingClientRect()||null,mt=!1,xt=!1,yt=Bt.sourceEvent,It===0&&Ft(Bt),it=getPointerPosition(Bt.sourceEvent,{transform:qt,snapGrid:Nt,snapToGrid:Dt,containerBounds:ht}),dt=getEventPosition(Bt.sourceEvent,ht)}).on("drag",Bt=>{const{autoPanOnNodeDrag:Gt,transform:It,snapGrid:qt,snapToGrid:Nt,nodeDragThreshold:Dt,nodeLookup:Tt}=te(),Mt=getPointerPosition(Bt.sourceEvent,{transform:It,snapGrid:qt,snapToGrid:Nt,containerBounds:ht});if(yt=Bt.sourceEvent,(Bt.sourceEvent.type==="touchmove"&&Bt.sourceEvent.touches.length>1||jt&&!Tt.has(jt))&&(mt=!0),!mt){if(!ut&&Gt&&ft&&(ut=!0,Ot()),!ft){const $t=getEventPosition(Bt.sourceEvent,ht),Ht=$t.x-dt.x,Wt=$t.y-dt.y;Math.sqrt(Ht*Ht+Wt*Wt)>Dt&&Ft(Bt)}(it.x!==Mt.xSnapped||it.y!==Mt.ySnapped)&&ct&&ft&&(dt=getEventPosition(Bt.sourceEvent,ht),Pt(Mt))}}).on("end",Bt=>{if(!(!ft||mt)&&(ut=!1,ft=!1,cancelAnimationFrame(lt),ct.size>0)){const{nodeLookup:Gt,updateNodePositions:It,onNodeDragStop:qt,onSelectionDragStop:Nt}=te();if(xt&&(It(ct,!1),xt=!1),rt||qt||!jt&&Nt){const[Dt,Tt]=getEventHandlerParams({nodeId:jt,dragItems:ct,nodeLookup:Gt,dragging:!1});rt?.(Bt.sourceEvent,ct,Dt,Tt),qt?.(Bt.sourceEvent,Dt,Tt),jt||Nt?.(Bt.sourceEvent,Tt)}}}).filter(Bt=>{const Gt=Bt.target;return!Bt.button&&(!_t||!hasSelector(Gt,`.${_t}`,St))&&(!wt||hasSelector(Gt,wt,St))});pt.call(Lt)}function Et(){pt?.on(".drag",null)}return{update:vt,destroy:Et}}function getNodesWithinDistance(ee,te,ne){const xe=[],rt={x:ee.x-ne,y:ee.y-ne,width:ne*2,height:ne*2};for(const it of te.values())getOverlappingArea(rt,nodeToRect(it))>0&&xe.push(it);return xe}const ADDITIONAL_DISTANCE=250;function getClosestHandle(ee,te,ne,xe){let rt=[],it=1/0;const lt=getNodesWithinDistance(ee,ne,te+ADDITIONAL_DISTANCE);for(const ct of lt){const ut=[...ct.internals.handleBounds?.source??[],...ct.internals.handleBounds?.target??[]];for(const dt of ut){if(xe.nodeId===dt.nodeId&&xe.type===dt.type&&xe.id===dt.id)continue;const{x:ht,y:ft}=getHandlePosition(ct,dt,dt.position,!0),pt=Math.sqrt(Math.pow(ht-ee.x,2)+Math.pow(ft-ee.y,2));pt>te||(pt<it?(rt=[{...dt,x:ht,y:ft}],it=pt):pt===it&&rt.push({...dt,x:ht,y:ft}))}}if(!rt.length)return null;if(rt.length>1){const ct=xe.type==="source"?"target":"source";return rt.find(ut=>ut.type===ct)??rt[0]}return rt[0]}function getHandle(ee,te,ne,xe,rt,it=!1){const lt=xe.get(ee);if(!lt)return null;const ct=rt==="strict"?lt.internals.handleBounds?.[te]:[...lt.internals.handleBounds?.source??[],...lt.internals.handleBounds?.target??[]],ut=(ne?ct?.find(dt=>dt.id===ne):ct?.[0])??null;return ut&&it?{...ut,...getHandlePosition(lt,ut,ut.position,!0)}:ut}function getHandleType(ee,te){return ee||(te?.classList.contains("target")?"target":te?.classList.contains("source")?"source":null)}function isConnectionValid(ee,te){let ne=null;return te?ne=!0:ee&&!te&&(ne=!1),ne}const alwaysValid=()=>!0;function onPointerDown(ee,{connectionMode:te,connectionRadius:ne,handleId:xe,nodeId:rt,edgeUpdaterType:it,isTarget:lt,domNode:ct,nodeLookup:ut,lib:dt,autoPanOnConnect:ht,flowId:ft,panBy:pt,cancelConnection:mt,onConnectStart:xt,onConnect:yt,onConnectEnd:vt,isValidConnection:Et=alwaysValid,onReconnectEnd:_t,updateConnection:wt,getTransform:St,getFromHandle:Ct,autoPanSpeed:jt,dragThreshold:Rt=1,handleDomNode:Pt}){const Ot=getHostForElement(ee.target);let Ft=0,Lt;const{x:Bt,y:Gt}=getEventPosition(ee),It=getHandleType(it,Pt),qt=ct?.getBoundingClientRect();let Nt=!1;if(!qt||!It)return;const Dt=getHandle(rt,It,xe,ut,te);if(!Dt)return;let Tt=getEventPosition(ee,qt),Mt=!1,$t=null,Ht=!1,Wt=null;function Vt(){if(!ht||!qt)return;const[Jt,Zt]=calcAutoPan(Tt,qt,jt);pt({x:Jt,y:Zt}),Ft=requestAnimationFrame(Vt)}const Yt={...Dt,nodeId:rt,type:It,position:Dt.position},Qt=ut.get(rt);let Xt={inProgress:!0,isValid:null,from:getHandlePosition(Qt,Yt,Position.Left,!0),fromHandle:Yt,fromPosition:Yt.position,fromNode:Qt,to:Tt,toHandle:null,toPosition:oppositePosition[Yt.position],toNode:null,pointer:Tt};function tr(){Nt=!0,wt(Xt),xt?.(ee,{nodeId:rt,handleId:xe,handleType:It})}Rt===0&&tr();function rr(Jt){if(!Nt){const{x:Mr,y:Gr}=getEventPosition(Jt),Yr=Mr-Bt,en=Gr-Gt;if(!(Yr*Yr+en*en>Rt*Rt))return;tr()}if(!Ct()||!Yt){ur(Jt);return}const Zt=St();Tt=getEventPosition(Jt,qt),Lt=getClosestHandle(pointToRendererPoint(Tt,Zt,!1,[1,1]),ne,ut,Yt),Mt||(Vt(),Mt=!0);const or=isValidHandle(Jt,{handle:Lt,connectionMode:te,fromNodeId:rt,fromHandleId:xe,fromType:lt?"target":"source",isValidConnection:Et,doc:Ot,lib:dt,flowId:ft,nodeLookup:ut});Wt=or.handleDomNode,$t=or.connection,Ht=isConnectionValid(!!Lt,or.isValid);const dr=ut.get(rt),Ar=dr?getHandlePosition(dr,Yt,Position.Left,!0):Xt.from,Nr={...Xt,from:Ar,isValid:Ht,to:or.toHandle&&Ht?rendererPointToPoint({x:or.toHandle.x,y:or.toHandle.y},Zt):Tt,toHandle:or.toHandle,toPosition:Ht&&or.toHandle?or.toHandle.position:oppositePosition[Yt.position],toNode:or.toHandle?ut.get(or.toHandle.nodeId):null,pointer:Tt};wt(Nr),Xt=Nr}function ur(Jt){if(!("touches"in Jt&&Jt.touches.length>0)){if(Nt){(Lt||Wt)&&$t&&Ht&&yt?.($t);const{inProgress:Zt,...or}=Xt,dr={...or,toPosition:Xt.toHandle?Xt.toPosition:null};vt?.(Jt,dr),it&&_t?.(Jt,dr)}mt(),cancelAnimationFrame(Ft),Mt=!1,Ht=!1,$t=null,Wt=null,Ot.removeEventListener("mousemove",rr),Ot.removeEventListener("mouseup",ur),Ot.removeEventListener("touchmove",rr),Ot.removeEventListener("touchend",ur)}}Ot.addEventListener("mousemove",rr),Ot.addEventListener("mouseup",ur),Ot.addEventListener("touchmove",rr),Ot.addEventListener("touchend",ur)}function isValidHandle(ee,{handle:te,connectionMode:ne,fromNodeId:xe,fromHandleId:rt,fromType:it,doc:lt,lib:ct,flowId:ut,isValidConnection:dt=alwaysValid,nodeLookup:ht}){const ft=it==="target",pt=te?lt.querySelector(`.${ct}-flow__handle[data-id="${ut}-${te?.nodeId}-${te?.id}-${te?.type}"]`):null,{x:mt,y:xt}=getEventPosition(ee),yt=lt.elementFromPoint(mt,xt),vt=yt?.classList.contains(`${ct}-flow__handle`)?yt:pt,Et={handleDomNode:vt,isValid:!1,connection:null,toHandle:null};if(vt){const _t=getHandleType(void 0,vt),wt=vt.getAttribute("data-nodeid"),St=vt.getAttribute("data-handleid"),Ct=vt.classList.contains("connectable"),jt=vt.classList.contains("connectableend");if(!wt||!_t)return Et;const Rt={source:ft?wt:xe,sourceHandle:ft?St:rt,target:ft?xe:wt,targetHandle:ft?rt:St};Et.connection=Rt;const Ot=Ct&&jt&&(ne===ConnectionMode.Strict?ft&&_t==="source"||!ft&&_t==="target":wt!==xe||St!==rt);Et.isValid=Ot&&dt(Rt),Et.toHandle=getHandle(wt,_t,St,ht,ne,!0)}return Et}const XYHandle={onPointerDown,isValid:isValidHandle};function XYMinimap({domNode:ee,panZoom:te,getTransform:ne,getViewScale:xe}){const rt=select(ee);function it({translateExtent:ct,width:ut,height:dt,zoomStep:ht=1,pannable:ft=!0,zoomable:pt=!0,inversePan:mt=!1}){const xt=wt=>{if(wt.sourceEvent.type!=="wheel"||!te)return;const St=ne(),Ct=wt.sourceEvent.ctrlKey&&isMacOs()?10:1,jt=-wt.sourceEvent.deltaY*(wt.sourceEvent.deltaMode===1?.05:wt.sourceEvent.deltaMode?1:.002)*ht,Rt=St[2]*Math.pow(2,jt*Ct);te.scaleTo(Rt)};let yt=[0,0];const vt=wt=>{(wt.sourceEvent.type==="mousedown"||wt.sourceEvent.type==="touchstart")&&(yt=[wt.sourceEvent.clientX??wt.sourceEvent.touches[0].clientX,wt.sourceEvent.clientY??wt.sourceEvent.touches[0].clientY])},Et=wt=>{const St=ne();if(wt.sourceEvent.type!=="mousemove"&&wt.sourceEvent.type!=="touchmove"||!te)return;const Ct=[wt.sourceEvent.clientX??wt.sourceEvent.touches[0].clientX,wt.sourceEvent.clientY??wt.sourceEvent.touches[0].clientY],jt=[Ct[0]-yt[0],Ct[1]-yt[1]];yt=Ct;const Rt=xe()*Math.max(St[2],Math.log(St[2]))*(mt?-1:1),Pt={x:St[0]-jt[0]*Rt,y:St[1]-jt[1]*Rt},Ot=[[0,0],[ut,dt]];te.setViewportConstrained({x:Pt.x,y:Pt.y,zoom:St[2]},Ot,ct)},_t=zoom().on("start",vt).on("zoom",ft?Et:null).on("zoom.wheel",pt?xt:null);rt.call(_t,{})}function lt(){rt.on("zoom",null)}return{update:it,destroy:lt,pointer}}const transformToViewport=ee=>({x:ee.x,y:ee.y,zoom:ee.k}),viewportToTransform=({x:ee,y:te,zoom:ne})=>identity$2.translate(ee,te).scale(ne),isWrappedWithClass=(ee,te)=>ee.target.closest(`.${te}`),isRightClickPan=(ee,te)=>te===2&&Array.isArray(ee)&&ee.includes(2),defaultEase=ee=>((ee*=2)<=1?ee*ee*ee:(ee-=2)*ee*ee+2)/2,getD3Transition=(ee,te=0,ne=defaultEase,xe=()=>{})=>{const rt=typeof te=="number"&&te>0;return rt||xe(),rt?ee.transition().duration(te).ease(ne).on("end",xe):ee},wheelDelta=ee=>{const te=ee.ctrlKey&&isMacOs()?10:1;return-ee.deltaY*(ee.deltaMode===1?.05:ee.deltaMode?1:.002)*te};function createPanOnScrollHandler({zoomPanValues:ee,noWheelClassName:te,d3Selection:ne,d3Zoom:xe,panOnScrollMode:rt,panOnScrollSpeed:it,zoomOnPinch:lt,onPanZoomStart:ct,onPanZoom:ut,onPanZoomEnd:dt}){return ht=>{if(isWrappedWithClass(ht,te))return ht.ctrlKey&&ht.preventDefault(),!1;ht.preventDefault(),ht.stopImmediatePropagation();const ft=ne.property("__zoom").k||1;if(ht.ctrlKey&&lt){const vt=pointer(ht),Et=wheelDelta(ht),_t=ft*Math.pow(2,Et);xe.scaleTo(ne,_t,vt,ht);return}const pt=ht.deltaMode===1?20:1;let mt=rt===PanOnScrollMode.Vertical?0:ht.deltaX*pt,xt=rt===PanOnScrollMode.Horizontal?0:ht.deltaY*pt;!isMacOs()&&ht.shiftKey&&rt!==PanOnScrollMode.Vertical&&(mt=ht.deltaY*pt,xt=0),xe.translateBy(ne,-(mt/ft)*it,-(xt/ft)*it,{internal:!0});const yt=transformToViewport(ne.property("__zoom"));clearTimeout(ee.panScrollTimeout),ee.isPanScrolling?(ut?.(ht,yt),ee.panScrollTimeout=setTimeout(()=>{dt?.(ht,yt),ee.isPanScrolling=!1},150)):(ee.isPanScrolling=!0,ct?.(ht,yt))}}function createZoomOnScrollHandler({noWheelClassName:ee,preventScrolling:te,d3ZoomHandler:ne}){return function(xe,rt){const it=xe.type==="wheel",lt=!te&&it&&!xe.ctrlKey,ct=isWrappedWithClass(xe,ee);if(xe.ctrlKey&&it&&ct&&xe.preventDefault(),lt||ct)return null;xe.preventDefault(),ne.call(this,xe,rt)}}function createPanZoomStartHandler({zoomPanValues:ee,onDraggingChange:te,onPanZoomStart:ne}){return xe=>{if(xe.sourceEvent?.internal)return;const rt=transformToViewport(xe.transform);ee.mouseButton=xe.sourceEvent?.button||0,ee.isZoomingOrPanning=!0,ee.prevViewport=rt,xe.sourceEvent?.type==="mousedown"&&te(!0),ne&&ne?.(xe.sourceEvent,rt)}}function createPanZoomHandler({zoomPanValues:ee,panOnDrag:te,onPaneContextMenu:ne,onTransformChange:xe,onPanZoom:rt}){return it=>{ee.usedRightMouseButton=!!(ne&&isRightClickPan(te,ee.mouseButton??0)),it.sourceEvent?.sync||xe([it.transform.x,it.transform.y,it.transform.k]),rt&&!it.sourceEvent?.internal&&rt?.(it.sourceEvent,transformToViewport(it.transform))}}function createPanZoomEndHandler({zoomPanValues:ee,panOnDrag:te,panOnScroll:ne,onDraggingChange:xe,onPanZoomEnd:rt,onPaneContextMenu:it}){return lt=>{if(!lt.sourceEvent?.internal&&(ee.isZoomingOrPanning=!1,it&&isRightClickPan(te,ee.mouseButton??0)&&!ee.usedRightMouseButton&&lt.sourceEvent&&it(lt.sourceEvent),ee.usedRightMouseButton=!1,xe(!1),rt)){const ct=transformToViewport(lt.transform);ee.prevViewport=ct,clearTimeout(ee.timerId),ee.timerId=setTimeout(()=>{rt?.(lt.sourceEvent,ct)},ne?150:0)}}}function createFilter({zoomActivationKeyPressed:ee,zoomOnScroll:te,zoomOnPinch:ne,panOnDrag:xe,panOnScroll:rt,zoomOnDoubleClick:it,userSelectionActive:lt,noWheelClassName:ct,noPanClassName:ut,lib:dt,connectionInProgress:ht}){return ft=>{const pt=ee||te,mt=ne&&ft.ctrlKey,xt=ft.type==="wheel";if(ft.button===1&&ft.type==="mousedown"&&(isWrappedWithClass(ft,`${dt}-flow__node`)||isWrappedWithClass(ft,`${dt}-flow__edge`)))return!0;if(!xe&&!pt&&!rt&&!it&&!ne||lt||ht&&!xt||isWrappedWithClass(ft,ct)&&xt||isWrappedWithClass(ft,ut)&&(!xt||rt&&xt&&!ee)||!ne&&ft.ctrlKey&&xt)return!1;if(!ne&&ft.type==="touchstart"&&ft.touches?.length>1)return ft.preventDefault(),!1;if(!pt&&!rt&&!mt&&xt||!xe&&(ft.type==="mousedown"||ft.type==="touchstart")||Array.isArray(xe)&&!xe.includes(ft.button)&&ft.type==="mousedown")return!1;const yt=Array.isArray(xe)&&xe.includes(ft.button)||!ft.button||ft.button<=1;return(!ft.ctrlKey||xt)&&yt}}function XYPanZoom({domNode:ee,minZoom:te,maxZoom:ne,translateExtent:xe,viewport:rt,onPanZoom:it,onPanZoomStart:lt,onPanZoomEnd:ct,onDraggingChange:ut}){const dt={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},ht=ee.getBoundingClientRect(),ft=zoom().scaleExtent([te,ne]).translateExtent(xe),pt=select(ee).call(ft);_t({x:rt.x,y:rt.y,zoom:clamp(rt.zoom,te,ne)},[[0,0],[ht.width,ht.height]],xe);const mt=pt.on("wheel.zoom"),xt=pt.on("dblclick.zoom");ft.wheelDelta(wheelDelta);function yt(Lt,Bt){return pt?new Promise(Gt=>{ft?.interpolate(Bt?.interpolate==="linear"?interpolate$1:interpolateZoom).transform(getD3Transition(pt,Bt?.duration,Bt?.ease,()=>Gt(!0)),Lt)}):Promise.resolve(!1)}function vt({noWheelClassName:Lt,noPanClassName:Bt,onPaneContextMenu:Gt,userSelectionActive:It,panOnScroll:qt,panOnDrag:Nt,panOnScrollMode:Dt,panOnScrollSpeed:Tt,preventScrolling:Mt,zoomOnPinch:$t,zoomOnScroll:Ht,zoomOnDoubleClick:Wt,zoomActivationKeyPressed:Vt,lib:Yt,onTransformChange:Qt,connectionInProgress:ar,paneClickDistance:Xt,selectionOnDrag:tr}){It&&!dt.isZoomingOrPanning&&Et();const rr=qt&&!Vt&&!It;ft.clickDistance(tr?1/0:!isNumeric(Xt)||Xt<0?0:Xt);const ur=rr?createPanOnScrollHandler({zoomPanValues:dt,noWheelClassName:Lt,d3Selection:pt,d3Zoom:ft,panOnScrollMode:Dt,panOnScrollSpeed:Tt,zoomOnPinch:$t,onPanZoomStart:lt,onPanZoom:it,onPanZoomEnd:ct}):createZoomOnScrollHandler({noWheelClassName:Lt,preventScrolling:Mt,d3ZoomHandler:mt});if(pt.on("wheel.zoom",ur,{passive:!1}),!It){const Zt=createPanZoomStartHandler({zoomPanValues:dt,onDraggingChange:ut,onPanZoomStart:lt});ft.on("start",Zt);const or=createPanZoomHandler({zoomPanValues:dt,panOnDrag:Nt,onPaneContextMenu:!!Gt,onPanZoom:it,onTransformChange:Qt});ft.on("zoom",or);const dr=createPanZoomEndHandler({zoomPanValues:dt,panOnDrag:Nt,panOnScroll:qt,onPaneContextMenu:Gt,onPanZoomEnd:ct,onDraggingChange:ut});ft.on("end",dr)}const Jt=createFilter({zoomActivationKeyPressed:Vt,panOnDrag:Nt,zoomOnScroll:Ht,panOnScroll:qt,zoomOnDoubleClick:Wt,zoomOnPinch:$t,userSelectionActive:It,noPanClassName:Bt,noWheelClassName:Lt,lib:Yt,connectionInProgress:ar});ft.filter(Jt),Wt?pt.on("dblclick.zoom",xt):pt.on("dblclick.zoom",null)}function Et(){ft.on("zoom",null)}async function _t(Lt,Bt,Gt){const It=viewportToTransform(Lt),qt=ft?.constrain()(It,Bt,Gt);return qt&&await yt(qt),new Promise(Nt=>Nt(qt))}async function wt(Lt,Bt){const Gt=viewportToTransform(Lt);return await yt(Gt,Bt),new Promise(It=>It(Gt))}function St(Lt){if(pt){const Bt=viewportToTransform(Lt),Gt=pt.property("__zoom");(Gt.k!==Lt.zoom||Gt.x!==Lt.x||Gt.y!==Lt.y)&&ft?.transform(pt,Bt,null,{sync:!0})}}function Ct(){const Lt=pt?transform(pt.node()):{x:0,y:0,k:1};return{x:Lt.x,y:Lt.y,zoom:Lt.k}}function jt(Lt,Bt){return pt?new Promise(Gt=>{ft?.interpolate(Bt?.interpolate==="linear"?interpolate$1:interpolateZoom).scaleTo(getD3Transition(pt,Bt?.duration,Bt?.ease,()=>Gt(!0)),Lt)}):Promise.resolve(!1)}function Rt(Lt,Bt){return pt?new Promise(Gt=>{ft?.interpolate(Bt?.interpolate==="linear"?interpolate$1:interpolateZoom).scaleBy(getD3Transition(pt,Bt?.duration,Bt?.ease,()=>Gt(!0)),Lt)}):Promise.resolve(!1)}function Pt(Lt){ft?.scaleExtent(Lt)}function Ot(Lt){ft?.translateExtent(Lt)}function Ft(Lt){const Bt=!isNumeric(Lt)||Lt<0?0:Lt;ft?.clickDistance(Bt)}return{update:vt,destroy:Et,setViewport:wt,setViewportConstrained:_t,getViewport:Ct,scaleTo:jt,scaleBy:Rt,setScaleExtent:Pt,setTranslateExtent:Ot,syncViewport:St,setClickDistance:Ft}}var ResizeControlVariant;(function(ee){ee.Line="line",ee.Handle="handle"})(ResizeControlVariant||(ResizeControlVariant={}));function getResizeDirection({width:ee,prevWidth:te,height:ne,prevHeight:xe,affectsX:rt,affectsY:it}){const lt=ee-te,ct=ne-xe,ut=[lt>0?1:lt<0?-1:0,ct>0?1:ct<0?-1:0];return lt&&rt&&(ut[0]=ut[0]*-1),ct&&it&&(ut[1]=ut[1]*-1),ut}function getControlDirection(ee){const te=ee.includes("right")||ee.includes("left"),ne=ee.includes("bottom")||ee.includes("top"),xe=ee.includes("left"),rt=ee.includes("top");return{isHorizontal:te,isVertical:ne,affectsX:xe,affectsY:rt}}function getLowerExtentClamp(ee,te){return Math.max(0,te-ee)}function getUpperExtentClamp(ee,te){return Math.max(0,ee-te)}function getSizeClamp(ee,te,ne){return Math.max(0,te-ee,ee-ne)}function xor(ee,te){return ee?!te:te}function getDimensionsAfterResize(ee,te,ne,xe,rt,it,lt,ct){let{affectsX:ut,affectsY:dt}=te;const{isHorizontal:ht,isVertical:ft}=te,pt=ht&&ft,{xSnapped:mt,ySnapped:xt}=ne,{minWidth:yt,maxWidth:vt,minHeight:Et,maxHeight:_t}=xe,{x:wt,y:St,width:Ct,height:jt,aspectRatio:Rt}=ee;let Pt=Math.floor(ht?mt-ee.pointerX:0),Ot=Math.floor(ft?xt-ee.pointerY:0);const Ft=Ct+(ut?-Pt:Pt),Lt=jt+(dt?-Ot:Ot),Bt=-it[0]*Ct,Gt=-it[1]*jt;let It=getSizeClamp(Ft,yt,vt),qt=getSizeClamp(Lt,Et,_t);if(lt){let Tt=0,Mt=0;ut&&Pt<0?Tt=getLowerExtentClamp(wt+Pt+Bt,lt[0][0]):!ut&&Pt>0&&(Tt=getUpperExtentClamp(wt+Ft+Bt,lt[1][0])),dt&&Ot<0?Mt=getLowerExtentClamp(St+Ot+Gt,lt[0][1]):!dt&&Ot>0&&(Mt=getUpperExtentClamp(St+Lt+Gt,lt[1][1])),It=Math.max(It,Tt),qt=Math.max(qt,Mt)}if(ct){let Tt=0,Mt=0;ut&&Pt>0?Tt=getUpperExtentClamp(wt+Pt,ct[0][0]):!ut&&Pt<0&&(Tt=getLowerExtentClamp(wt+Ft,ct[1][0])),dt&&Ot>0?Mt=getUpperExtentClamp(St+Ot,ct[0][1]):!dt&&Ot<0&&(Mt=getLowerExtentClamp(St+Lt,ct[1][1])),It=Math.max(It,Tt),qt=Math.max(qt,Mt)}if(rt){if(ht){const Tt=getSizeClamp(Ft/Rt,Et,_t)*Rt;if(It=Math.max(It,Tt),lt){let Mt=0;!ut&&!dt||ut&&!dt&&pt?Mt=getUpperExtentClamp(St+Gt+Ft/Rt,lt[1][1])*Rt:Mt=getLowerExtentClamp(St+Gt+(ut?Pt:-Pt)/Rt,lt[0][1])*Rt,It=Math.max(It,Mt)}if(ct){let Mt=0;!ut&&!dt||ut&&!dt&&pt?Mt=getLowerExtentClamp(St+Ft/Rt,ct[1][1])*Rt:Mt=getUpperExtentClamp(St+(ut?Pt:-Pt)/Rt,ct[0][1])*Rt,It=Math.max(It,Mt)}}if(ft){const Tt=getSizeClamp(Lt*Rt,yt,vt)/Rt;if(qt=Math.max(qt,Tt),lt){let Mt=0;!ut&&!dt||dt&&!ut&&pt?Mt=getUpperExtentClamp(wt+Lt*Rt+Bt,lt[1][0])/Rt:Mt=getLowerExtentClamp(wt+(dt?Ot:-Ot)*Rt+Bt,lt[0][0])/Rt,qt=Math.max(qt,Mt)}if(ct){let Mt=0;!ut&&!dt||dt&&!ut&&pt?Mt=getLowerExtentClamp(wt+Lt*Rt,ct[1][0])/Rt:Mt=getUpperExtentClamp(wt+(dt?Ot:-Ot)*Rt,ct[0][0])/Rt,qt=Math.max(qt,Mt)}}}Ot=Ot+(Ot<0?qt:-qt),Pt=Pt+(Pt<0?It:-It),rt&&(pt?Ft>Lt*Rt?Ot=(xor(ut,dt)?-Pt:Pt)/Rt:Pt=(xor(ut,dt)?-Ot:Ot)*Rt:ht?(Ot=Pt/Rt,dt=ut):(Pt=Ot*Rt,ut=dt));const Nt=ut?wt+Pt:wt,Dt=dt?St+Ot:St;return{width:Ct+(ut?-Pt:Pt),height:jt+(dt?-Ot:Ot),x:it[0]*Pt*(ut?-1:1)+Nt,y:it[1]*Ot*(dt?-1:1)+Dt}}const initPrevValues$1={width:0,height:0,x:0,y:0},initStartValues={...initPrevValues$1,pointerX:0,pointerY:0,aspectRatio:1};function nodeToParentExtent(ee){return[[0,0],[ee.measured.width,ee.measured.height]]}function nodeToChildExtent(ee,te,ne){const xe=te.position.x+ee.position.x,rt=te.position.y+ee.position.y,it=ee.measured.width??0,lt=ee.measured.height??0,ct=ne[0]*it,ut=ne[1]*lt;return[[xe-ct,rt-ut],[xe+it-ct,rt+lt-ut]]}function XYResizer({domNode:ee,nodeId:te,getStoreItems:ne,onChange:xe,onEnd:rt}){const it=select(ee);let lt={controlDirection:getControlDirection("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function ct({controlPosition:dt,boundaries:ht,keepAspectRatio:ft,resizeDirection:pt,onResizeStart:mt,onResize:xt,onResizeEnd:yt,shouldResize:vt}){let Et={...initPrevValues$1},_t={...initStartValues};lt={boundaries:ht,resizeDirection:pt,keepAspectRatio:ft,controlDirection:getControlDirection(dt)};let wt,St=null,Ct=[],jt,Rt,Pt,Ot=!1;const Ft=drag().on("start",Lt=>{const{nodeLookup:Bt,transform:Gt,snapGrid:It,snapToGrid:qt,nodeOrigin:Nt,paneDomNode:Dt}=ne();if(wt=Bt.get(te),!wt)return;St=Dt?.getBoundingClientRect()??null;const{xSnapped:Tt,ySnapped:Mt}=getPointerPosition(Lt.sourceEvent,{transform:Gt,snapGrid:It,snapToGrid:qt,containerBounds:St});Et={width:wt.measured.width??0,height:wt.measured.height??0,x:wt.position.x??0,y:wt.position.y??0},_t={...Et,pointerX:Tt,pointerY:Mt,aspectRatio:Et.width/Et.height},jt=void 0,wt.parentId&&(wt.extent==="parent"||wt.expandParent)&&(jt=Bt.get(wt.parentId),Rt=jt&&wt.extent==="parent"?nodeToParentExtent(jt):void 0),Ct=[],Pt=void 0;for(const[$t,Ht]of Bt)if(Ht.parentId===te&&(Ct.push({id:$t,position:{...Ht.position},extent:Ht.extent}),Ht.extent==="parent"||Ht.expandParent)){const Wt=nodeToChildExtent(Ht,wt,Ht.origin??Nt);Pt?Pt=[[Math.min(Wt[0][0],Pt[0][0]),Math.min(Wt[0][1],Pt[0][1])],[Math.max(Wt[1][0],Pt[1][0]),Math.max(Wt[1][1],Pt[1][1])]]:Pt=Wt}mt?.(Lt,{...Et})}).on("drag",Lt=>{const{transform:Bt,snapGrid:Gt,snapToGrid:It,nodeOrigin:qt}=ne(),Nt=getPointerPosition(Lt.sourceEvent,{transform:Bt,snapGrid:Gt,snapToGrid:It,containerBounds:St}),Dt=[];if(!wt)return;const{x:Tt,y:Mt,width:$t,height:Ht}=Et,Wt={},Vt=wt.origin??qt,{width:Yt,height:Qt,x:ar,y:Xt}=getDimensionsAfterResize(_t,lt.controlDirection,Nt,lt.boundaries,lt.keepAspectRatio,Vt,Rt,Pt),tr=Yt!==$t,rr=Qt!==Ht,ur=ar!==Tt&&tr,Jt=Xt!==Mt&&rr;if(!ur&&!Jt&&!tr&&!rr)return;if((ur||Jt||Vt[0]===1||Vt[1]===1)&&(Wt.x=ur?ar:Et.x,Wt.y=Jt?Xt:Et.y,Et.x=Wt.x,Et.y=Wt.y,Ct.length>0)){const Ar=ar-Tt,Nr=Xt-Mt;for(const Mr of Ct)Mr.position={x:Mr.position.x-Ar+Vt[0]*(Yt-$t),y:Mr.position.y-Nr+Vt[1]*(Qt-Ht)},Dt.push(Mr)}if((tr||rr)&&(Wt.width=tr&&(!lt.resizeDirection||lt.resizeDirection==="horizontal")?Yt:Et.width,Wt.height=rr&&(!lt.resizeDirection||lt.resizeDirection==="vertical")?Qt:Et.height,Et.width=Wt.width,Et.height=Wt.height),jt&&wt.expandParent){const Ar=Vt[0]*(Wt.width??0);Wt.x&&Wt.x<Ar&&(Et.x=Ar,_t.x=_t.x-(Wt.x-Ar));const Nr=Vt[1]*(Wt.height??0);Wt.y&&Wt.y<Nr&&(Et.y=Nr,_t.y=_t.y-(Wt.y-Nr))}const Zt=getResizeDirection({width:Et.width,prevWidth:$t,height:Et.height,prevHeight:Ht,affectsX:lt.controlDirection.affectsX,affectsY:lt.controlDirection.affectsY}),or={...Et,direction:Zt};vt?.(Lt,or)!==!1&&(Ot=!0,xt?.(Lt,or),xe(Wt,Dt))}).on("end",Lt=>{Ot&&(yt?.(Lt,{...Et}),rt?.({...Et}),Ot=!1)});it.call(Ft)}function ut(){it.on(".drag",null)}return{update:ct,destroy:ut}}var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var ee=requireReact(),te=requireShim();function ne(dt,ht){return dt===ht&&(dt!==0||1/dt===1/ht)||dt!==dt&&ht!==ht}var xe=typeof Object.is=="function"?Object.is:ne,rt=te.useSyncExternalStore,it=ee.useRef,lt=ee.useEffect,ct=ee.useMemo,ut=ee.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(dt,ht,ft,pt,mt){var xt=it(null);if(xt.current===null){var yt={hasValue:!1,value:null};xt.current=yt}else yt=xt.current;xt=ct(function(){function Et(jt){if(!_t){if(_t=!0,wt=jt,jt=pt(jt),mt!==void 0&&yt.hasValue){var Rt=yt.value;if(mt(Rt,jt))return St=Rt}return St=jt}if(Rt=St,xe(wt,jt))return Rt;var Pt=pt(jt);return mt!==void 0&&mt(Rt,Pt)?(wt=jt,Rt):(wt=jt,St=Pt)}var _t=!1,wt,St,Ct=ft===void 0?null:ft;return[function(){return Et(ht())},Ct===null?void 0:function(){return Et(Ct())}]},[ht,ft,pt,mt]);var vt=rt(dt,xt[0],xt[1]);return lt(function(){yt.hasValue=!0,yt.value=vt},[vt]),ut(vt),vt},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__={},createStoreImpl=ee=>{let te;const ne=new Set,xe=(ht,ft)=>{const pt=typeof ht=="function"?ht(te):ht;if(!Object.is(pt,te)){const mt=te;te=ft??(typeof pt!="object"||pt===null)?pt:Object.assign({},te,pt),ne.forEach(xt=>xt(te,mt))}},rt=()=>te,ut={setState:xe,getState:rt,getInitialState:()=>dt,subscribe:ht=>(ne.add(ht),()=>ne.delete(ht)),destroy:()=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),ne.clear()}},dt=te=ee(xe,rt,ut);return ut},createStore$1=ee=>ee?createStoreImpl(ee):createStoreImpl,{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports,identity=ee=>ee;function useStoreWithEqualityFn(ee,te=identity,ne){const xe=useSyncExternalStoreWithSelector(ee.subscribe,ee.getState,ee.getServerState||ee.getInitialState,te,ne);return useDebugValue(xe),xe}const createWithEqualityFnImpl=(ee,te)=>{const ne=createStore$1(ee),xe=(rt,it=te)=>useStoreWithEqualityFn(ne,rt,it);return Object.assign(xe,ne),xe},createWithEqualityFn=(ee,te)=>ee?createWithEqualityFnImpl(ee,te):createWithEqualityFnImpl;function shallow$1(ee,te){if(Object.is(ee,te))return!0;if(typeof ee!="object"||ee===null||typeof te!="object"||te===null)return!1;if(ee instanceof Map&&te instanceof Map){if(ee.size!==te.size)return!1;for(const[xe,rt]of ee)if(!Object.is(rt,te.get(xe)))return!1;return!0}if(ee instanceof Set&&te instanceof Set){if(ee.size!==te.size)return!1;for(const xe of ee)if(!te.has(xe))return!1;return!0}const ne=Object.keys(ee);if(ne.length!==Object.keys(te).length)return!1;for(const xe of ne)if(!Object.prototype.hasOwnProperty.call(te,xe)||!Object.is(ee[xe],te[xe]))return!1;return!0}const StoreContext=reactExports.createContext(null),Provider$1=StoreContext.Provider,zustandErrorMessage=errorMessages.error001();function useStore(ee,te){const ne=reactExports.useContext(StoreContext);if(ne===null)throw new Error(zustandErrorMessage);return useStoreWithEqualityFn(ne,ee,te)}function useStoreApi(){const ee=reactExports.useContext(StoreContext);if(ee===null)throw new Error(zustandErrorMessage);return reactExports.useMemo(()=>({getState:ee.getState,setState:ee.setState,subscribe:ee.subscribe}),[ee])}const style={display:"none"},ariaLiveStyle={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ARIA_NODE_DESC_KEY="react-flow__node-desc",ARIA_EDGE_DESC_KEY="react-flow__edge-desc",ARIA_LIVE_MESSAGE="react-flow__aria-live",ariaLiveSelector=ee=>ee.ariaLiveMessage,ariaLabelConfigSelector=ee=>ee.ariaLabelConfig;function AriaLiveMessage({rfId:ee}){const te=useStore(ariaLiveSelector);return jsxRuntimeExports.jsx("div",{id:`${ARIA_LIVE_MESSAGE}-${ee}`,"aria-live":"assertive","aria-atomic":"true",style:ariaLiveStyle,children:te})}function A11yDescriptions({rfId:ee,disableKeyboardA11y:te}){const ne=useStore(ariaLabelConfigSelector);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{id:`${ARIA_NODE_DESC_KEY}-${ee}`,style,children:te?ne["node.a11yDescription.default"]:ne["node.a11yDescription.keyboardDisabled"]}),jsxRuntimeExports.jsx("div",{id:`${ARIA_EDGE_DESC_KEY}-${ee}`,style,children:ne["edge.a11yDescription.default"]}),!te&&jsxRuntimeExports.jsx(AriaLiveMessage,{rfId:ee})]})}const Panel=reactExports.forwardRef(({position:ee="top-left",children:te,className:ne,style:xe,...rt},it)=>{const lt=`${ee}`.split("-");return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__panel",ne,...lt]),style:xe,ref:it,...rt,children:te})});Panel.displayName="Panel";function Attribution({proOptions:ee,position:te="bottom-right"}){return ee?.hideAttribution?null:jsxRuntimeExports.jsx(Panel,{position:te,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:jsxRuntimeExports.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const selector$m=ee=>{const te=[],ne=[];for(const[,xe]of ee.nodeLookup)xe.selected&&te.push(xe.internals.userNode);for(const[,xe]of ee.edgeLookup)xe.selected&&ne.push(xe);return{selectedNodes:te,selectedEdges:ne}},selectId=ee=>ee.id;function areEqual(ee,te){return shallow$1(ee.selectedNodes.map(selectId),te.selectedNodes.map(selectId))&&shallow$1(ee.selectedEdges.map(selectId),te.selectedEdges.map(selectId))}function SelectionListenerInner({onSelectionChange:ee}){const te=useStoreApi(),{selectedNodes:ne,selectedEdges:xe}=useStore(selector$m,areEqual);return reactExports.useEffect(()=>{const rt={nodes:ne,edges:xe};ee?.(rt),te.getState().onSelectionChangeHandlers.forEach(it=>it(rt))},[ne,xe,ee]),null}const changeSelector=ee=>!!ee.onSelectionChangeHandlers;function SelectionListener({onSelectionChange:ee}){const te=useStore(changeSelector);return ee||te?jsxRuntimeExports.jsx(SelectionListenerInner,{onSelectionChange:ee}):null}const defaultNodeOrigin=[0,0],defaultViewport={x:0,y:0,zoom:1},reactFlowFieldsToTrack=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],fieldsToTrack=[...reactFlowFieldsToTrack,"rfId"],selector$l=ee=>({setNodes:ee.setNodes,setEdges:ee.setEdges,setMinZoom:ee.setMinZoom,setMaxZoom:ee.setMaxZoom,setTranslateExtent:ee.setTranslateExtent,setNodeExtent:ee.setNodeExtent,reset:ee.reset,setDefaultNodesAndEdges:ee.setDefaultNodesAndEdges}),initPrevValues={translateExtent:infiniteExtent,nodeOrigin:defaultNodeOrigin,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function StoreUpdater(ee){const{setNodes:te,setEdges:ne,setMinZoom:xe,setMaxZoom:rt,setTranslateExtent:it,setNodeExtent:lt,reset:ct,setDefaultNodesAndEdges:ut}=useStore(selector$l,shallow$1),dt=useStoreApi();reactExports.useEffect(()=>(ut(ee.defaultNodes,ee.defaultEdges),()=>{ht.current=initPrevValues,ct()}),[]);const ht=reactExports.useRef(initPrevValues);return reactExports.useEffect(()=>{for(const ft of fieldsToTrack){const pt=ee[ft],mt=ht.current[ft];pt!==mt&&(typeof ee[ft]>"u"||(ft==="nodes"?te(pt):ft==="edges"?ne(pt):ft==="minZoom"?xe(pt):ft==="maxZoom"?rt(pt):ft==="translateExtent"?it(pt):ft==="nodeExtent"?lt(pt):ft==="ariaLabelConfig"?dt.setState({ariaLabelConfig:mergeAriaLabelConfig(pt)}):ft==="fitView"?dt.setState({fitViewQueued:pt}):ft==="fitViewOptions"?dt.setState({fitViewOptions:pt}):dt.setState({[ft]:pt})))}ht.current=ee},fieldsToTrack.map(ft=>ee[ft])),null}function getMediaQuery(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function useColorModeClass(ee){const[te,ne]=reactExports.useState(ee==="system"?null:ee);return reactExports.useEffect(()=>{if(ee!=="system"){ne(ee);return}const xe=getMediaQuery(),rt=()=>ne(xe?.matches?"dark":"light");return rt(),xe?.addEventListener("change",rt),()=>{xe?.removeEventListener("change",rt)}},[ee]),te!==null?te:getMediaQuery()?.matches?"dark":"light"}const defaultDoc=typeof document<"u"?document:null;function useKeyPress(ee=null,te={target:defaultDoc,actInsideInputWithModifier:!0}){const[ne,xe]=reactExports.useState(!1),rt=reactExports.useRef(!1),it=reactExports.useRef(new Set([])),[lt,ct]=reactExports.useMemo(()=>{if(ee!==null){const dt=(Array.isArray(ee)?ee:[ee]).filter(ft=>typeof ft=="string").map(ft=>ft.replace("+",`
`).replace(`

`,`
+`).split(`
`)),ht=dt.reduce((ft,pt)=>ft.concat(...pt),[]);return[dt,ht]}return[[],[]]},[ee]);return reactExports.useEffect(()=>{const ut=te?.target??defaultDoc,dt=te?.actInsideInputWithModifier??!0;if(ee!==null){const ht=mt=>{if(rt.current=mt.ctrlKey||mt.metaKey||mt.shiftKey||mt.altKey,(!rt.current||rt.current&&!dt)&&isInputDOMNode(mt))return!1;const yt=useKeyOrCode(mt.code,ct);if(it.current.add(mt[yt]),isMatchingKey(lt,it.current,!1)){const vt=mt.composedPath?.()?.[0]||mt.target,Et=vt?.nodeName==="BUTTON"||vt?.nodeName==="A";te.preventDefault!==!1&&(rt.current||!Et)&&mt.preventDefault(),xe(!0)}},ft=mt=>{const xt=useKeyOrCode(mt.code,ct);isMatchingKey(lt,it.current,!0)?(xe(!1),it.current.clear()):it.current.delete(mt[xt]),mt.key==="Meta"&&it.current.clear(),rt.current=!1},pt=()=>{it.current.clear(),xe(!1)};return ut?.addEventListener("keydown",ht),ut?.addEventListener("keyup",ft),window.addEventListener("blur",pt),window.addEventListener("contextmenu",pt),()=>{ut?.removeEventListener("keydown",ht),ut?.removeEventListener("keyup",ft),window.removeEventListener("blur",pt),window.removeEventListener("contextmenu",pt)}}},[ee,xe]),ne}function isMatchingKey(ee,te,ne){return ee.filter(xe=>ne||xe.length===te.size).some(xe=>xe.every(rt=>te.has(rt)))}function useKeyOrCode(ee,te){return te.includes(ee)?"code":"key"}const useViewportHelper=()=>{const ee=useStoreApi();return reactExports.useMemo(()=>({zoomIn:te=>{const{panZoom:ne}=ee.getState();return ne?ne.scaleBy(1.2,{duration:te?.duration}):Promise.resolve(!1)},zoomOut:te=>{const{panZoom:ne}=ee.getState();return ne?ne.scaleBy(1/1.2,{duration:te?.duration}):Promise.resolve(!1)},zoomTo:(te,ne)=>{const{panZoom:xe}=ee.getState();return xe?xe.scaleTo(te,{duration:ne?.duration}):Promise.resolve(!1)},getZoom:()=>ee.getState().transform[2],setViewport:async(te,ne)=>{const{transform:[xe,rt,it],panZoom:lt}=ee.getState();return lt?(await lt.setViewport({x:te.x??xe,y:te.y??rt,zoom:te.zoom??it},ne),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[te,ne,xe]=ee.getState().transform;return{x:te,y:ne,zoom:xe}},setCenter:async(te,ne,xe)=>ee.getState().setCenter(te,ne,xe),fitBounds:async(te,ne)=>{const{width:xe,height:rt,minZoom:it,maxZoom:lt,panZoom:ct}=ee.getState(),ut=getViewportForBounds(te,xe,rt,it,lt,ne?.padding??.1);return ct?(await ct.setViewport(ut,{duration:ne?.duration,ease:ne?.ease,interpolate:ne?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(te,ne={})=>{const{transform:xe,snapGrid:rt,snapToGrid:it,domNode:lt}=ee.getState();if(!lt)return te;const{x:ct,y:ut}=lt.getBoundingClientRect(),dt={x:te.x-ct,y:te.y-ut},ht=ne.snapGrid??rt,ft=ne.snapToGrid??it;return pointToRendererPoint(dt,xe,ft,ht)},flowToScreenPosition:te=>{const{transform:ne,domNode:xe}=ee.getState();if(!xe)return te;const{x:rt,y:it}=xe.getBoundingClientRect(),lt=rendererPointToPoint(te,ne);return{x:lt.x+rt,y:lt.y+it}}}),[])};function applyChanges(ee,te){const ne=[],xe=new Map,rt=[];for(const it of ee)if(it.type==="add"){rt.push(it);continue}else if(it.type==="remove"||it.type==="replace")xe.set(it.id,[it]);else{const lt=xe.get(it.id);lt?lt.push(it):xe.set(it.id,[it])}for(const it of te){const lt=xe.get(it.id);if(!lt){ne.push(it);continue}if(lt[0].type==="remove")continue;if(lt[0].type==="replace"){ne.push({...lt[0].item});continue}const ct={...it};for(const ut of lt)applyChange(ut,ct);ne.push(ct)}return rt.length&&rt.forEach(it=>{it.index!==void 0?ne.splice(it.index,0,{...it.item}):ne.push({...it.item})}),ne}function applyChange(ee,te){switch(ee.type){case"select":{te.selected=ee.selected;break}case"position":{typeof ee.position<"u"&&(te.position=ee.position),typeof ee.dragging<"u"&&(te.dragging=ee.dragging);break}case"dimensions":{typeof ee.dimensions<"u"&&(te.measured={...ee.dimensions},ee.setAttributes&&((ee.setAttributes===!0||ee.setAttributes==="width")&&(te.width=ee.dimensions.width),(ee.setAttributes===!0||ee.setAttributes==="height")&&(te.height=ee.dimensions.height))),typeof ee.resizing=="boolean"&&(te.resizing=ee.resizing);break}}}function applyNodeChanges(ee,te){return applyChanges(ee,te)}function applyEdgeChanges(ee,te){return applyChanges(ee,te)}function createSelectionChange(ee,te){return{id:ee,type:"select",selected:te}}function getSelectionChanges(ee,te=new Set,ne=!1){const xe=[];for(const[rt,it]of ee){const lt=te.has(rt);!(it.selected===void 0&&!lt)&&it.selected!==lt&&(ne&&(it.selected=lt),xe.push(createSelectionChange(it.id,lt)))}return xe}function getElementsDiffChanges({items:ee=[],lookup:te}){const ne=[],xe=new Map(ee.map(rt=>[rt.id,rt]));for(const[rt,it]of ee.entries()){const lt=te.get(it.id),ct=lt?.internals?.userNode??lt;ct!==void 0&&ct!==it&&ne.push({id:it.id,item:it,type:"replace"}),ct===void 0&&ne.push({item:it,type:"add",index:rt})}for(const[rt]of te)xe.get(rt)===void 0&&ne.push({id:rt,type:"remove"});return ne}function elementToRemoveChange(ee){return{id:ee.id,type:"remove"}}const isNode=ee=>isNodeBase(ee),isEdge=ee=>isEdgeBase(ee);function fixedForwardRef(ee){return reactExports.forwardRef(ee)}const useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useQueue(ee){const[te,ne]=reactExports.useState(BigInt(0)),[xe]=reactExports.useState(()=>createQueue(()=>ne(rt=>rt+BigInt(1))));return useIsomorphicLayoutEffect(()=>{const rt=xe.get();rt.length&&(ee(rt),xe.reset())},[te]),xe}function createQueue(ee){let te=[];return{get:()=>te,reset:()=>{te=[]},push:ne=>{te.push(ne),ee()}}}const BatchContext=reactExports.createContext(null);function BatchProvider({children:ee}){const te=useStoreApi(),ne=reactExports.useCallback(ct=>{const{nodes:ut=[],setNodes:dt,hasDefaultNodes:ht,onNodesChange:ft,nodeLookup:pt,fitViewQueued:mt,onNodesChangeMiddlewareMap:xt}=te.getState();let yt=ut;for(const Et of ct)yt=typeof Et=="function"?Et(yt):Et;let vt=getElementsDiffChanges({items:yt,lookup:pt});for(const Et of xt.values())vt=Et(vt);ht&&dt(yt),vt.length>0?ft?.(vt):mt&&window.requestAnimationFrame(()=>{const{fitViewQueued:Et,nodes:_t,setNodes:wt}=te.getState();Et&&wt(_t)})},[]),xe=useQueue(ne),rt=reactExports.useCallback(ct=>{const{edges:ut=[],setEdges:dt,hasDefaultEdges:ht,onEdgesChange:ft,edgeLookup:pt}=te.getState();let mt=ut;for(const xt of ct)mt=typeof xt=="function"?xt(mt):xt;ht?dt(mt):ft&&ft(getElementsDiffChanges({items:mt,lookup:pt}))},[]),it=useQueue(rt),lt=reactExports.useMemo(()=>({nodeQueue:xe,edgeQueue:it}),[]);return jsxRuntimeExports.jsx(BatchContext.Provider,{value:lt,children:ee})}function useBatchContext(){const ee=reactExports.useContext(BatchContext);if(!ee)throw new Error("useBatchContext must be used within a BatchProvider");return ee}const selector$k=ee=>!!ee.panZoom;function useReactFlow(){const ee=useViewportHelper(),te=useStoreApi(),ne=useBatchContext(),xe=useStore(selector$k),rt=reactExports.useMemo(()=>{const it=ft=>te.getState().nodeLookup.get(ft),lt=ft=>{ne.nodeQueue.push(ft)},ct=ft=>{ne.edgeQueue.push(ft)},ut=ft=>{const{nodeLookup:pt,nodeOrigin:mt}=te.getState(),xt=isNode(ft)?ft:pt.get(ft.id),yt=xt.parentId?evaluateAbsolutePosition(xt.position,xt.measured,xt.parentId,pt,mt):xt.position,vt={...xt,position:yt,width:xt.measured?.width??xt.width,height:xt.measured?.height??xt.height};return nodeToRect(vt)},dt=(ft,pt,mt={replace:!1})=>{lt(xt=>xt.map(yt=>{if(yt.id===ft){const vt=typeof pt=="function"?pt(yt):pt;return mt.replace&&isNode(vt)?vt:{...yt,...vt}}return yt}))},ht=(ft,pt,mt={replace:!1})=>{ct(xt=>xt.map(yt=>{if(yt.id===ft){const vt=typeof pt=="function"?pt(yt):pt;return mt.replace&&isEdge(vt)?vt:{...yt,...vt}}return yt}))};return{getNodes:()=>te.getState().nodes.map(ft=>({...ft})),getNode:ft=>it(ft)?.internals.userNode,getInternalNode:it,getEdges:()=>{const{edges:ft=[]}=te.getState();return ft.map(pt=>({...pt}))},getEdge:ft=>te.getState().edgeLookup.get(ft),setNodes:lt,setEdges:ct,addNodes:ft=>{const pt=Array.isArray(ft)?ft:[ft];ne.nodeQueue.push(mt=>[...mt,...pt])},addEdges:ft=>{const pt=Array.isArray(ft)?ft:[ft];ne.edgeQueue.push(mt=>[...mt,...pt])},toObject:()=>{const{nodes:ft=[],edges:pt=[],transform:mt}=te.getState(),[xt,yt,vt]=mt;return{nodes:ft.map(Et=>({...Et})),edges:pt.map(Et=>({...Et})),viewport:{x:xt,y:yt,zoom:vt}}},deleteElements:async({nodes:ft=[],edges:pt=[]})=>{const{nodes:mt,edges:xt,onNodesDelete:yt,onEdgesDelete:vt,triggerNodeChanges:Et,triggerEdgeChanges:_t,onDelete:wt,onBeforeDelete:St}=te.getState(),{nodes:Ct,edges:jt}=await getElementsToRemove({nodesToRemove:ft,edgesToRemove:pt,nodes:mt,edges:xt,onBeforeDelete:St}),Rt=jt.length>0,Pt=Ct.length>0;if(Rt){const Ot=jt.map(elementToRemoveChange);vt?.(jt),_t(Ot)}if(Pt){const Ot=Ct.map(elementToRemoveChange);yt?.(Ct),Et(Ot)}return(Pt||Rt)&&wt?.({nodes:Ct,edges:jt}),{deletedNodes:Ct,deletedEdges:jt}},getIntersectingNodes:(ft,pt=!0,mt)=>{const xt=isRectObject(ft),yt=xt?ft:ut(ft),vt=mt!==void 0;return yt?(mt||te.getState().nodes).filter(Et=>{const _t=te.getState().nodeLookup.get(Et.id);if(_t&&!xt&&(Et.id===ft.id||!_t.internals.positionAbsolute))return!1;const wt=nodeToRect(vt?Et:_t),St=getOverlappingArea(wt,yt);return pt&&St>0||St>=wt.width*wt.height||St>=yt.width*yt.height}):[]},isNodeIntersecting:(ft,pt,mt=!0)=>{const yt=isRectObject(ft)?ft:ut(ft);if(!yt)return!1;const vt=getOverlappingArea(yt,pt);return mt&&vt>0||vt>=pt.width*pt.height||vt>=yt.width*yt.height},updateNode:dt,updateNodeData:(ft,pt,mt={replace:!1})=>{dt(ft,xt=>{const yt=typeof pt=="function"?pt(xt):pt;return mt.replace?{...xt,data:yt}:{...xt,data:{...xt.data,...yt}}},mt)},updateEdge:ht,updateEdgeData:(ft,pt,mt={replace:!1})=>{ht(ft,xt=>{const yt=typeof pt=="function"?pt(xt):pt;return mt.replace?{...xt,data:yt}:{...xt,data:{...xt.data,...yt}}},mt)},getNodesBounds:ft=>{const{nodeLookup:pt,nodeOrigin:mt}=te.getState();return getNodesBounds(ft,{nodeLookup:pt,nodeOrigin:mt})},getHandleConnections:({type:ft,id:pt,nodeId:mt})=>Array.from(te.getState().connectionLookup.get(`${mt}-${ft}${pt?`-${pt}`:""}`)?.values()??[]),getNodeConnections:({type:ft,handleId:pt,nodeId:mt})=>Array.from(te.getState().connectionLookup.get(`${mt}${ft?pt?`-${ft}-${pt}`:`-${ft}`:""}`)?.values()??[]),fitView:async ft=>{const pt=te.getState().fitViewResolver??withResolvers();return te.setState({fitViewQueued:!0,fitViewOptions:ft,fitViewResolver:pt}),ne.nodeQueue.push(mt=>[...mt]),pt.promise}}},[]);return reactExports.useMemo(()=>({...rt,...ee,viewportInitialized:xe}),[xe])}const selected=ee=>ee.selected,win$1=typeof window<"u"?window:void 0;function useGlobalKeyHandler({deleteKeyCode:ee,multiSelectionKeyCode:te}){const ne=useStoreApi(),{deleteElements:xe}=useReactFlow(),rt=useKeyPress(ee,{actInsideInputWithModifier:!1}),it=useKeyPress(te,{target:win$1});reactExports.useEffect(()=>{if(rt){const{edges:lt,nodes:ct}=ne.getState();xe({nodes:ct.filter(selected),edges:lt.filter(selected)}),ne.setState({nodesSelectionActive:!1})}},[rt]),reactExports.useEffect(()=>{ne.setState({multiSelectionActive:it})},[it])}function useResizeHandler(ee){const te=useStoreApi();reactExports.useEffect(()=>{const ne=()=>{if(!ee.current||!(ee.current.checkVisibility?.()??!0))return!1;const xe=getDimensions(ee.current);(xe.height===0||xe.width===0)&&te.getState().onError?.("004",errorMessages.error004()),te.setState({width:xe.width||500,height:xe.height||500})};if(ee.current){ne(),window.addEventListener("resize",ne);const xe=new ResizeObserver(()=>ne());return xe.observe(ee.current),()=>{window.removeEventListener("resize",ne),xe&&ee.current&&xe.unobserve(ee.current)}}},[])}const containerStyle={position:"absolute",width:"100%",height:"100%",top:0,left:0},selector$j=ee=>({userSelectionActive:ee.userSelectionActive,lib:ee.lib,connectionInProgress:ee.connection.inProgress});function ZoomPane({onPaneContextMenu:ee,zoomOnScroll:te=!0,zoomOnPinch:ne=!0,panOnScroll:xe=!1,panOnScrollSpeed:rt=.5,panOnScrollMode:it=PanOnScrollMode.Free,zoomOnDoubleClick:lt=!0,panOnDrag:ct=!0,defaultViewport:ut,translateExtent:dt,minZoom:ht,maxZoom:ft,zoomActivationKeyCode:pt,preventScrolling:mt=!0,children:xt,noWheelClassName:yt,noPanClassName:vt,onViewportChange:Et,isControlledViewport:_t,paneClickDistance:wt,selectionOnDrag:St}){const Ct=useStoreApi(),jt=reactExports.useRef(null),{userSelectionActive:Rt,lib:Pt,connectionInProgress:Ot}=useStore(selector$j,shallow$1),Ft=useKeyPress(pt),Lt=reactExports.useRef();useResizeHandler(jt);const Bt=reactExports.useCallback(Gt=>{Et?.({x:Gt[0],y:Gt[1],zoom:Gt[2]}),_t||Ct.setState({transform:Gt})},[Et,_t]);return reactExports.useEffect(()=>{if(jt.current){Lt.current=XYPanZoom({domNode:jt.current,minZoom:ht,maxZoom:ft,translateExtent:dt,viewport:ut,onDraggingChange:Nt=>Ct.setState({paneDragging:Nt}),onPanZoomStart:(Nt,Dt)=>{const{onViewportChangeStart:Tt,onMoveStart:Mt}=Ct.getState();Mt?.(Nt,Dt),Tt?.(Dt)},onPanZoom:(Nt,Dt)=>{const{onViewportChange:Tt,onMove:Mt}=Ct.getState();Mt?.(Nt,Dt),Tt?.(Dt)},onPanZoomEnd:(Nt,Dt)=>{const{onViewportChangeEnd:Tt,onMoveEnd:Mt}=Ct.getState();Mt?.(Nt,Dt),Tt?.(Dt)}});const{x:Gt,y:It,zoom:qt}=Lt.current.getViewport();return Ct.setState({panZoom:Lt.current,transform:[Gt,It,qt],domNode:jt.current.closest(".react-flow")}),()=>{Lt.current?.destroy()}}},[]),reactExports.useEffect(()=>{Lt.current?.update({onPaneContextMenu:ee,zoomOnScroll:te,zoomOnPinch:ne,panOnScroll:xe,panOnScrollSpeed:rt,panOnScrollMode:it,zoomOnDoubleClick:lt,panOnDrag:ct,zoomActivationKeyPressed:Ft,preventScrolling:mt,noPanClassName:vt,userSelectionActive:Rt,noWheelClassName:yt,lib:Pt,onTransformChange:Bt,connectionInProgress:Ot,selectionOnDrag:St,paneClickDistance:wt})},[ee,te,ne,xe,rt,it,lt,ct,Ft,mt,vt,Rt,yt,Pt,Bt,Ot,St,wt]),jsxRuntimeExports.jsx("div",{className:"react-flow__renderer",ref:jt,style:containerStyle,children:xt})}const selector$i=ee=>({userSelectionActive:ee.userSelectionActive,userSelectionRect:ee.userSelectionRect});function UserSelection(){const{userSelectionActive:ee,userSelectionRect:te}=useStore(selector$i,shallow$1);return ee&&te?jsxRuntimeExports.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:te.width,height:te.height,transform:`translate(${te.x}px, ${te.y}px)`}}):null}const wrapHandler=(ee,te)=>ne=>{ne.target===te.current&&ee?.(ne)},selector$h=ee=>({userSelectionActive:ee.userSelectionActive,elementsSelectable:ee.elementsSelectable,connectionInProgress:ee.connection.inProgress,dragging:ee.paneDragging});function Pane({isSelecting:ee,selectionKeyPressed:te,selectionMode:ne=SelectionMode.Full,panOnDrag:xe,paneClickDistance:rt,selectionOnDrag:it,onSelectionStart:lt,onSelectionEnd:ct,onPaneClick:ut,onPaneContextMenu:dt,onPaneScroll:ht,onPaneMouseEnter:ft,onPaneMouseMove:pt,onPaneMouseLeave:mt,children:xt}){const yt=useStoreApi(),{userSelectionActive:vt,elementsSelectable:Et,dragging:_t,connectionInProgress:wt}=useStore(selector$h,shallow$1),St=Et&&(ee||vt),Ct=reactExports.useRef(null),jt=reactExports.useRef(),Rt=reactExports.useRef(new Set),Pt=reactExports.useRef(new Set),Ot=reactExports.useRef(!1),Ft=Tt=>{if(Ot.current||wt){Ot.current=!1;return}ut?.(Tt),yt.getState().resetSelectedElements(),yt.setState({nodesSelectionActive:!1})},Lt=Tt=>{if(Array.isArray(xe)&&xe?.includes(2)){Tt.preventDefault();return}dt?.(Tt)},Bt=ht?Tt=>ht(Tt):void 0,Gt=Tt=>{Ot.current&&(Tt.stopPropagation(),Ot.current=!1)},It=Tt=>{const{domNode:Mt}=yt.getState();if(jt.current=Mt?.getBoundingClientRect(),!jt.current)return;const $t=Tt.target===Ct.current;if(!$t&&!!Tt.target.closest(".nokey")||!ee||!(it&&$t||te)||Tt.button!==0||!Tt.isPrimary)return;Tt.target?.setPointerCapture?.(Tt.pointerId),Ot.current=!1;const{x:Vt,y:Yt}=getEventPosition(Tt.nativeEvent,jt.current);yt.setState({userSelectionRect:{width:0,height:0,startX:Vt,startY:Yt,x:Vt,y:Yt}}),$t||(Tt.stopPropagation(),Tt.preventDefault())},qt=Tt=>{const{userSelectionRect:Mt,transform:$t,nodeLookup:Ht,edgeLookup:Wt,connectionLookup:Vt,triggerNodeChanges:Yt,triggerEdgeChanges:Qt,defaultEdgeOptions:ar,resetSelectedElements:Xt}=yt.getState();if(!jt.current||!Mt)return;const{x:tr,y:rr}=getEventPosition(Tt.nativeEvent,jt.current),{startX:ur,startY:Jt}=Mt;if(!Ot.current){const Nr=te?0:rt;if(Math.hypot(tr-ur,rr-Jt)<=Nr)return;Xt(),lt?.(Tt)}Ot.current=!0;const Zt={startX:ur,startY:Jt,x:tr<ur?tr:ur,y:rr<Jt?rr:Jt,width:Math.abs(tr-ur),height:Math.abs(rr-Jt)},or=Rt.current,dr=Pt.current;Rt.current=new Set(getNodesInside(Ht,Zt,$t,ne===SelectionMode.Partial,!0).map(Nr=>Nr.id)),Pt.current=new Set;const Ar=ar?.selectable??!0;for(const Nr of Rt.current){const Mr=Vt.get(Nr);if(Mr)for(const{edgeId:Gr}of Mr.values()){const Yr=Wt.get(Gr);Yr&&(Yr.selectable??Ar)&&Pt.current.add(Gr)}}if(!areSetsEqual(or,Rt.current)){const Nr=getSelectionChanges(Ht,Rt.current,!0);Yt(Nr)}if(!areSetsEqual(dr,Pt.current)){const Nr=getSelectionChanges(Wt,Pt.current);Qt(Nr)}yt.setState({userSelectionRect:Zt,userSelectionActive:!0,nodesSelectionActive:!1})},Nt=Tt=>{Tt.button===0&&(Tt.target?.releasePointerCapture?.(Tt.pointerId),!vt&&Tt.target===Ct.current&&yt.getState().userSelectionRect&&Ft?.(Tt),yt.setState({userSelectionActive:!1,userSelectionRect:null}),Ot.current&&(ct?.(Tt),yt.setState({nodesSelectionActive:Rt.current.size>0})))},Dt=xe===!0||Array.isArray(xe)&&xe.includes(0);return jsxRuntimeExports.jsxs("div",{className:cc(["react-flow__pane",{draggable:Dt,dragging:_t,selection:ee}]),onClick:St?void 0:wrapHandler(Ft,Ct),onContextMenu:wrapHandler(Lt,Ct),onWheel:wrapHandler(Bt,Ct),onPointerEnter:St?void 0:ft,onPointerMove:St?qt:pt,onPointerUp:St?Nt:void 0,onPointerDownCapture:St?It:void 0,onClickCapture:St?Gt:void 0,onPointerLeave:mt,ref:Ct,style:containerStyle,children:[xt,jsxRuntimeExports.jsx(UserSelection,{})]})}function handleNodeClick({id:ee,store:te,unselect:ne=!1,nodeRef:xe}){const{addSelectedNodes:rt,unselectNodesAndEdges:it,multiSelectionActive:lt,nodeLookup:ct,onError:ut}=te.getState(),dt=ct.get(ee);if(!dt){ut?.("012",errorMessages.error012(ee));return}te.setState({nodesSelectionActive:!1}),dt.selected?(ne||dt.selected&&lt)&&(it({nodes:[dt],edges:[]}),requestAnimationFrame(()=>xe?.current?.blur())):rt([ee])}function useDrag({nodeRef:ee,disabled:te=!1,noDragClassName:ne,handleSelector:xe,nodeId:rt,isSelectable:it,nodeClickDistance:lt}){const ct=useStoreApi(),[ut,dt]=reactExports.useState(!1),ht=reactExports.useRef();return reactExports.useEffect(()=>{ht.current=XYDrag({getStoreItems:()=>ct.getState(),onNodeMouseDown:ft=>{handleNodeClick({id:ft,store:ct,nodeRef:ee})},onDragStart:()=>{dt(!0)},onDragStop:()=>{dt(!1)}})},[]),reactExports.useEffect(()=>{if(te)ht.current?.destroy();else if(ee.current)return ht.current?.update({noDragClassName:ne,handleSelector:xe,domNode:ee.current,isSelectable:it,nodeId:rt,nodeClickDistance:lt}),()=>{ht.current?.destroy()}},[ne,xe,te,it,ee,rt]),ut}const selectedAndDraggable=ee=>te=>te.selected&&(te.draggable||ee&&typeof te.draggable>"u");function useMoveSelectedNodes(){const ee=useStoreApi();return reactExports.useCallback(ne=>{const{nodeExtent:xe,snapToGrid:rt,snapGrid:it,nodesDraggable:lt,onError:ct,updateNodePositions:ut,nodeLookup:dt,nodeOrigin:ht}=ee.getState(),ft=new Map,pt=selectedAndDraggable(lt),mt=rt?it[0]:5,xt=rt?it[1]:5,yt=ne.direction.x*mt*ne.factor,vt=ne.direction.y*xt*ne.factor;for(const[,Et]of dt){if(!pt(Et))continue;let _t={x:Et.internals.positionAbsolute.x+yt,y:Et.internals.positionAbsolute.y+vt};rt&&(_t=snapPosition(_t,it));const{position:wt,positionAbsolute:St}=calculateNodePosition({nodeId:Et.id,nextPosition:_t,nodeLookup:dt,nodeExtent:xe,nodeOrigin:ht,onError:ct});Et.position=wt,Et.internals.positionAbsolute=St,ft.set(Et.id,Et)}ut(ft)},[])}const NodeIdContext=reactExports.createContext(null),Provider=NodeIdContext.Provider;NodeIdContext.Consumer;const useNodeId=()=>reactExports.useContext(NodeIdContext),selector$g=ee=>({connectOnClick:ee.connectOnClick,noPanClassName:ee.noPanClassName,rfId:ee.rfId}),connectingSelector=(ee,te,ne)=>xe=>{const{connectionClickStartHandle:rt,connectionMode:it,connection:lt}=xe,{fromHandle:ct,toHandle:ut,isValid:dt}=lt,ht=ut?.nodeId===ee&&ut?.id===te&&ut?.type===ne;return{connectingFrom:ct?.nodeId===ee&&ct?.id===te&&ct?.type===ne,connectingTo:ht,clickConnecting:rt?.nodeId===ee&&rt?.id===te&&rt?.type===ne,isPossibleEndHandle:it===ConnectionMode.Strict?ct?.type!==ne:ee!==ct?.nodeId||te!==ct?.id,connectionInProcess:!!ct,clickConnectionInProcess:!!rt,valid:ht&&dt}};function HandleComponent({type:ee="source",position:te=Position.Top,isValidConnection:ne,isConnectable:xe=!0,isConnectableStart:rt=!0,isConnectableEnd:it=!0,id:lt,onConnect:ct,children:ut,className:dt,onMouseDown:ht,onTouchStart:ft,...pt},mt){const xt=lt||null,yt=ee==="target",vt=useStoreApi(),Et=useNodeId(),{connectOnClick:_t,noPanClassName:wt,rfId:St}=useStore(selector$g,shallow$1),{connectingFrom:Ct,connectingTo:jt,clickConnecting:Rt,isPossibleEndHandle:Pt,connectionInProcess:Ot,clickConnectionInProcess:Ft,valid:Lt}=useStore(connectingSelector(Et,xt,ee),shallow$1);Et||vt.getState().onError?.("010",errorMessages.error010());const Bt=qt=>{const{defaultEdgeOptions:Nt,onConnect:Dt,hasDefaultEdges:Tt}=vt.getState(),Mt={...Nt,...qt};if(Tt){const{edges:$t,setEdges:Ht}=vt.getState();Ht(addEdge(Mt,$t))}Dt?.(Mt),ct?.(Mt)},Gt=qt=>{if(!Et)return;const Nt=isMouseEvent(qt.nativeEvent);if(rt&&(Nt&&qt.button===0||!Nt)){const Dt=vt.getState();XYHandle.onPointerDown(qt.nativeEvent,{handleDomNode:qt.currentTarget,autoPanOnConnect:Dt.autoPanOnConnect,connectionMode:Dt.connectionMode,connectionRadius:Dt.connectionRadius,domNode:Dt.domNode,nodeLookup:Dt.nodeLookup,lib:Dt.lib,isTarget:yt,handleId:xt,nodeId:Et,flowId:Dt.rfId,panBy:Dt.panBy,cancelConnection:Dt.cancelConnection,onConnectStart:Dt.onConnectStart,onConnectEnd:Dt.onConnectEnd,updateConnection:Dt.updateConnection,onConnect:Bt,isValidConnection:ne||Dt.isValidConnection,getTransform:()=>vt.getState().transform,getFromHandle:()=>vt.getState().connection.fromHandle,autoPanSpeed:Dt.autoPanSpeed,dragThreshold:Dt.connectionDragThreshold})}Nt?ht?.(qt):ft?.(qt)},It=qt=>{const{onClickConnectStart:Nt,onClickConnectEnd:Dt,connectionClickStartHandle:Tt,connectionMode:Mt,isValidConnection:$t,lib:Ht,rfId:Wt,nodeLookup:Vt,connection:Yt}=vt.getState();if(!Et||!Tt&&!rt)return;if(!Tt){Nt?.(qt.nativeEvent,{nodeId:Et,handleId:xt,handleType:ee}),vt.setState({connectionClickStartHandle:{nodeId:Et,type:ee,id:xt}});return}const Qt=getHostForElement(qt.target),ar=ne||$t,{connection:Xt,isValid:tr}=XYHandle.isValid(qt.nativeEvent,{handle:{nodeId:Et,id:xt,type:ee},connectionMode:Mt,fromNodeId:Tt.nodeId,fromHandleId:Tt.id||null,fromType:Tt.type,isValidConnection:ar,flowId:Wt,doc:Qt,lib:Ht,nodeLookup:Vt});tr&&Xt&&Bt(Xt);const rr=structuredClone(Yt);delete rr.inProgress,rr.toPosition=rr.toHandle?rr.toHandle.position:null,Dt?.(qt,rr),vt.setState({connectionClickStartHandle:null})};return jsxRuntimeExports.jsx("div",{"data-handleid":xt,"data-nodeid":Et,"data-handlepos":te,"data-id":`${St}-${Et}-${xt}-${ee}`,className:cc(["react-flow__handle",`react-flow__handle-${te}`,"nodrag",wt,dt,{source:!yt,target:yt,connectable:xe,connectablestart:rt,connectableend:it,clickconnecting:Rt,connectingfrom:Ct,connectingto:jt,valid:Lt,connectionindicator:xe&&(!Ot||Pt)&&(Ot||Ft?it:rt)}]),onMouseDown:Gt,onTouchStart:Gt,onClick:_t?It:void 0,ref:mt,...pt,children:ut})}const Handle=reactExports.memo(fixedForwardRef(HandleComponent));function InputNode({data:ee,isConnectable:te,sourcePosition:ne=Position.Bottom}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ee?.label,jsxRuntimeExports.jsx(Handle,{type:"source",position:ne,isConnectable:te})]})}function DefaultNode({data:ee,isConnectable:te,targetPosition:ne=Position.Top,sourcePosition:xe=Position.Bottom}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:ne,isConnectable:te}),ee?.label,jsxRuntimeExports.jsx(Handle,{type:"source",position:xe,isConnectable:te})]})}function GroupNode(){return null}function OutputNode({data:ee,isConnectable:te,targetPosition:ne=Position.Top}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:ne,isConnectable:te}),ee?.label]})}const arrowKeyDiffs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},builtinNodeTypes={input:InputNode,default:DefaultNode,output:OutputNode,group:GroupNode};function getNodeInlineStyleDimensions(ee){return ee.internals.handleBounds===void 0?{width:ee.width??ee.initialWidth??ee.style?.width,height:ee.height??ee.initialHeight??ee.style?.height}:{width:ee.width??ee.style?.width,height:ee.height??ee.style?.height}}const selector$f=ee=>{const{width:te,height:ne,x:xe,y:rt}=getInternalNodesBounds(ee.nodeLookup,{filter:it=>!!it.selected});return{width:isNumeric(te)?te:null,height:isNumeric(ne)?ne:null,userSelectionActive:ee.userSelectionActive,transformString:`translate(${ee.transform[0]}px,${ee.transform[1]}px) scale(${ee.transform[2]}) translate(${xe}px,${rt}px)`}};function NodesSelection({onSelectionContextMenu:ee,noPanClassName:te,disableKeyboardA11y:ne}){const xe=useStoreApi(),{width:rt,height:it,transformString:lt,userSelectionActive:ct}=useStore(selector$f,shallow$1),ut=useMoveSelectedNodes(),dt=reactExports.useRef(null);if(reactExports.useEffect(()=>{ne||dt.current?.focus({preventScroll:!0})},[ne]),useDrag({nodeRef:dt}),ct||!rt||!it)return null;const ht=ee?pt=>{const mt=xe.getState().nodes.filter(xt=>xt.selected);ee(pt,mt)}:void 0,ft=pt=>{Object.prototype.hasOwnProperty.call(arrowKeyDiffs,pt.key)&&(pt.preventDefault(),ut({direction:arrowKeyDiffs[pt.key],factor:pt.shiftKey?4:1}))};return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__nodesselection","react-flow__container",te]),style:{transform:lt},children:jsxRuntimeExports.jsx("div",{ref:dt,className:"react-flow__nodesselection-rect",onContextMenu:ht,tabIndex:ne?void 0:-1,onKeyDown:ne?void 0:ft,style:{width:rt,height:it}})})}const win=typeof window<"u"?window:void 0,selector$e=ee=>({nodesSelectionActive:ee.nodesSelectionActive,userSelectionActive:ee.userSelectionActive});function FlowRendererComponent({children:ee,onPaneClick:te,onPaneMouseEnter:ne,onPaneMouseMove:xe,onPaneMouseLeave:rt,onPaneContextMenu:it,onPaneScroll:lt,paneClickDistance:ct,deleteKeyCode:ut,selectionKeyCode:dt,selectionOnDrag:ht,selectionMode:ft,onSelectionStart:pt,onSelectionEnd:mt,multiSelectionKeyCode:xt,panActivationKeyCode:yt,zoomActivationKeyCode:vt,elementsSelectable:Et,zoomOnScroll:_t,zoomOnPinch:wt,panOnScroll:St,panOnScrollSpeed:Ct,panOnScrollMode:jt,zoomOnDoubleClick:Rt,panOnDrag:Pt,defaultViewport:Ot,translateExtent:Ft,minZoom:Lt,maxZoom:Bt,preventScrolling:Gt,onSelectionContextMenu:It,noWheelClassName:qt,noPanClassName:Nt,disableKeyboardA11y:Dt,onViewportChange:Tt,isControlledViewport:Mt}){const{nodesSelectionActive:$t,userSelectionActive:Ht}=useStore(selector$e,shallow$1),Wt=useKeyPress(dt,{target:win}),Vt=useKeyPress(yt,{target:win}),Yt=Vt||Pt,Qt=Vt||St,ar=ht&&Yt!==!0,Xt=Wt||Ht||ar;return useGlobalKeyHandler({deleteKeyCode:ut,multiSelectionKeyCode:xt}),jsxRuntimeExports.jsx(ZoomPane,{onPaneContextMenu:it,elementsSelectable:Et,zoomOnScroll:_t,zoomOnPinch:wt,panOnScroll:Qt,panOnScrollSpeed:Ct,panOnScrollMode:jt,zoomOnDoubleClick:Rt,panOnDrag:!Wt&&Yt,defaultViewport:Ot,translateExtent:Ft,minZoom:Lt,maxZoom:Bt,zoomActivationKeyCode:vt,preventScrolling:Gt,noWheelClassName:qt,noPanClassName:Nt,onViewportChange:Tt,isControlledViewport:Mt,paneClickDistance:ct,selectionOnDrag:ar,children:jsxRuntimeExports.jsxs(Pane,{onSelectionStart:pt,onSelectionEnd:mt,onPaneClick:te,onPaneMouseEnter:ne,onPaneMouseMove:xe,onPaneMouseLeave:rt,onPaneContextMenu:it,onPaneScroll:lt,panOnDrag:Yt,isSelecting:!!Xt,selectionMode:ft,selectionKeyPressed:Wt,paneClickDistance:ct,selectionOnDrag:ar,children:[ee,$t&&jsxRuntimeExports.jsx(NodesSelection,{onSelectionContextMenu:It,noPanClassName:Nt,disableKeyboardA11y:Dt})]})})}FlowRendererComponent.displayName="FlowRenderer";const FlowRenderer=reactExports.memo(FlowRendererComponent),selector$d=ee=>te=>ee?getNodesInside(te.nodeLookup,{x:0,y:0,width:te.width,height:te.height},te.transform,!0).map(ne=>ne.id):Array.from(te.nodeLookup.keys());function useVisibleNodeIds(ee){return useStore(reactExports.useCallback(selector$d(ee),[ee]),shallow$1)}const selector$c=ee=>ee.updateNodeInternals;function useResizeObserver(){const ee=useStore(selector$c),[te]=reactExports.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(ne=>{const xe=new Map;ne.forEach(rt=>{const it=rt.target.getAttribute("data-id");xe.set(it,{id:it,nodeElement:rt.target,force:!0})}),ee(xe)}));return reactExports.useEffect(()=>()=>{te?.disconnect()},[te]),te}function useNodeObserver({node:ee,nodeType:te,hasDimensions:ne,resizeObserver:xe}){const rt=useStoreApi(),it=reactExports.useRef(null),lt=reactExports.useRef(null),ct=reactExports.useRef(ee.sourcePosition),ut=reactExports.useRef(ee.targetPosition),dt=reactExports.useRef(te),ht=ne&&!!ee.internals.handleBounds;return reactExports.useEffect(()=>{it.current&&!ee.hidden&&(!ht||lt.current!==it.current)&&(lt.current&&xe?.unobserve(lt.current),xe?.observe(it.current),lt.current=it.current)},[ht,ee.hidden]),reactExports.useEffect(()=>()=>{lt.current&&(xe?.unobserve(lt.current),lt.current=null)},[]),reactExports.useEffect(()=>{if(it.current){const ft=dt.current!==te,pt=ct.current!==ee.sourcePosition,mt=ut.current!==ee.targetPosition;(ft||pt||mt)&&(dt.current=te,ct.current=ee.sourcePosition,ut.current=ee.targetPosition,rt.getState().updateNodeInternals(new Map([[ee.id,{id:ee.id,nodeElement:it.current,force:!0}]])))}},[ee.id,te,ee.sourcePosition,ee.targetPosition]),it}function NodeWrapper({id:ee,onClick:te,onMouseEnter:ne,onMouseMove:xe,onMouseLeave:rt,onContextMenu:it,onDoubleClick:lt,nodesDraggable:ct,elementsSelectable:ut,nodesConnectable:dt,nodesFocusable:ht,resizeObserver:ft,noDragClassName:pt,noPanClassName:mt,disableKeyboardA11y:xt,rfId:yt,nodeTypes:vt,nodeClickDistance:Et,onError:_t}){const{node:wt,internals:St,isParent:Ct}=useStore(tr=>{const rr=tr.nodeLookup.get(ee),ur=tr.parentLookup.has(ee);return{node:rr,internals:rr.internals,isParent:ur}},shallow$1);let jt=wt.type||"default",Rt=vt?.[jt]||builtinNodeTypes[jt];Rt===void 0&&(_t?.("003",errorMessages.error003(jt)),jt="default",Rt=vt?.default||builtinNodeTypes.default);const Pt=!!(wt.draggable||ct&&typeof wt.draggable>"u"),Ot=!!(wt.selectable||ut&&typeof wt.selectable>"u"),Ft=!!(wt.connectable||dt&&typeof wt.connectable>"u"),Lt=!!(wt.focusable||ht&&typeof wt.focusable>"u"),Bt=useStoreApi(),Gt=nodeHasDimensions(wt),It=useNodeObserver({node:wt,nodeType:jt,hasDimensions:Gt,resizeObserver:ft}),qt=useDrag({nodeRef:It,disabled:wt.hidden||!Pt,noDragClassName:pt,handleSelector:wt.dragHandle,nodeId:ee,isSelectable:Ot,nodeClickDistance:Et}),Nt=useMoveSelectedNodes();if(wt.hidden)return null;const Dt=getNodeDimensions(wt),Tt=getNodeInlineStyleDimensions(wt),Mt=Ot||Pt||te||ne||xe||rt,$t=ne?tr=>ne(tr,{...St.userNode}):void 0,Ht=xe?tr=>xe(tr,{...St.userNode}):void 0,Wt=rt?tr=>rt(tr,{...St.userNode}):void 0,Vt=it?tr=>it(tr,{...St.userNode}):void 0,Yt=lt?tr=>lt(tr,{...St.userNode}):void 0,Qt=tr=>{const{selectNodesOnDrag:rr,nodeDragThreshold:ur}=Bt.getState();Ot&&(!rr||!Pt||ur>0)&&handleNodeClick({id:ee,store:Bt,nodeRef:It}),te&&te(tr,{...St.userNode})},ar=tr=>{if(!(isInputDOMNode(tr.nativeEvent)||xt)){if(elementSelectionKeys.includes(tr.key)&&Ot){const rr=tr.key==="Escape";handleNodeClick({id:ee,store:Bt,unselect:rr,nodeRef:It})}else if(Pt&&wt.selected&&Object.prototype.hasOwnProperty.call(arrowKeyDiffs,tr.key)){tr.preventDefault();const{ariaLabelConfig:rr}=Bt.getState();Bt.setState({ariaLiveMessage:rr["node.a11yDescription.ariaLiveMessage"]({direction:tr.key.replace("Arrow","").toLowerCase(),x:~~St.positionAbsolute.x,y:~~St.positionAbsolute.y})}),Nt({direction:arrowKeyDiffs[tr.key],factor:tr.shiftKey?4:1})}}},Xt=()=>{if(xt||!It.current?.matches(":focus-visible"))return;const{transform:tr,width:rr,height:ur,autoPanOnNodeFocus:Jt,setCenter:Zt}=Bt.getState();if(!Jt)return;getNodesInside(new Map([[ee,wt]]),{x:0,y:0,width:rr,height:ur},tr,!0).length>0||Zt(wt.position.x+Dt.width/2,wt.position.y+Dt.height/2,{zoom:tr[2]})};return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__node",`react-flow__node-${jt}`,{[mt]:Pt},wt.className,{selected:wt.selected,selectable:Ot,parent:Ct,draggable:Pt,dragging:qt}]),ref:It,style:{zIndex:St.z,transform:`translate(${St.positionAbsolute.x}px,${St.positionAbsolute.y}px)`,pointerEvents:Mt?"all":"none",visibility:Gt?"visible":"hidden",...wt.style,...Tt},"data-id":ee,"data-testid":`rf__node-${ee}`,onMouseEnter:$t,onMouseMove:Ht,onMouseLeave:Wt,onContextMenu:Vt,onClick:Qt,onDoubleClick:Yt,onKeyDown:Lt?ar:void 0,tabIndex:Lt?0:void 0,onFocus:Lt?Xt:void 0,role:wt.ariaRole??(Lt?"group":void 0),"aria-roledescription":"node","aria-describedby":xt?void 0:`${ARIA_NODE_DESC_KEY}-${yt}`,"aria-label":wt.ariaLabel,...wt.domAttributes,children:jsxRuntimeExports.jsx(Provider,{value:ee,children:jsxRuntimeExports.jsx(Rt,{id:ee,data:wt.data,type:jt,positionAbsoluteX:St.positionAbsolute.x,positionAbsoluteY:St.positionAbsolute.y,selected:wt.selected??!1,selectable:Ot,draggable:Pt,deletable:wt.deletable??!0,isConnectable:Ft,sourcePosition:wt.sourcePosition,targetPosition:wt.targetPosition,dragging:qt,dragHandle:wt.dragHandle,zIndex:St.z,parentId:wt.parentId,...Dt})})})}var NodeWrapper$1=reactExports.memo(NodeWrapper);const selector$b=ee=>({nodesDraggable:ee.nodesDraggable,nodesConnectable:ee.nodesConnectable,nodesFocusable:ee.nodesFocusable,elementsSelectable:ee.elementsSelectable,onError:ee.onError});function NodeRendererComponent(ee){const{nodesDraggable:te,nodesConnectable:ne,nodesFocusable:xe,elementsSelectable:rt,onError:it}=useStore(selector$b,shallow$1),lt=useVisibleNodeIds(ee.onlyRenderVisibleElements),ct=useResizeObserver();return jsxRuntimeExports.jsx("div",{className:"react-flow__nodes",style:containerStyle,children:lt.map(ut=>jsxRuntimeExports.jsx(NodeWrapper$1,{id:ut,nodeTypes:ee.nodeTypes,nodeExtent:ee.nodeExtent,onClick:ee.onNodeClick,onMouseEnter:ee.onNodeMouseEnter,onMouseMove:ee.onNodeMouseMove,onMouseLeave:ee.onNodeMouseLeave,onContextMenu:ee.onNodeContextMenu,onDoubleClick:ee.onNodeDoubleClick,noDragClassName:ee.noDragClassName,noPanClassName:ee.noPanClassName,rfId:ee.rfId,disableKeyboardA11y:ee.disableKeyboardA11y,resizeObserver:ct,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:xe,elementsSelectable:rt,nodeClickDistance:ee.nodeClickDistance,onError:it},ut))})}NodeRendererComponent.displayName="NodeRenderer";const NodeRenderer=reactExports.memo(NodeRendererComponent);function useVisibleEdgeIds(ee){return useStore(reactExports.useCallback(ne=>{if(!ee)return ne.edges.map(rt=>rt.id);const xe=[];if(ne.width&&ne.height)for(const rt of ne.edges){const it=ne.nodeLookup.get(rt.source),lt=ne.nodeLookup.get(rt.target);it&&lt&&isEdgeVisible({sourceNode:it,targetNode:lt,width:ne.width,height:ne.height,transform:ne.transform})&&xe.push(rt.id)}return xe},[ee]),shallow$1)}const ArrowSymbol=({color:ee="none",strokeWidth:te=1})=>{const ne={strokeWidth:te,...ee&&{stroke:ee}};return jsxRuntimeExports.jsx("polyline",{className:"arrow",style:ne,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},ArrowClosedSymbol=({color:ee="none",strokeWidth:te=1})=>{const ne={strokeWidth:te,...ee&&{stroke:ee,fill:ee}};return jsxRuntimeExports.jsx("polyline",{className:"arrowclosed",style:ne,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},MarkerSymbols={[MarkerType.Arrow]:ArrowSymbol,[MarkerType.ArrowClosed]:ArrowClosedSymbol};function useMarkerSymbol(ee){const te=useStoreApi();return reactExports.useMemo(()=>Object.prototype.hasOwnProperty.call(MarkerSymbols,ee)?MarkerSymbols[ee]:(te.getState().onError?.("009",errorMessages.error009(ee)),null),[ee])}const Marker=({id:ee,type:te,color:ne,width:xe=12.5,height:rt=12.5,markerUnits:it="strokeWidth",strokeWidth:lt,orient:ct="auto-start-reverse"})=>{const ut=useMarkerSymbol(te);return ut?jsxRuntimeExports.jsx("marker",{className:"react-flow__arrowhead",id:ee,markerWidth:`${xe}`,markerHeight:`${rt}`,viewBox:"-10 -10 20 20",markerUnits:it,orient:ct,refX:"0",refY:"0",children:jsxRuntimeExports.jsx(ut,{color:ne,strokeWidth:lt})}):null},MarkerDefinitions=({defaultColor:ee,rfId:te})=>{const ne=useStore(it=>it.edges),xe=useStore(it=>it.defaultEdgeOptions),rt=reactExports.useMemo(()=>createMarkerIds(ne,{id:te,defaultColor:ee,defaultMarkerStart:xe?.markerStart,defaultMarkerEnd:xe?.markerEnd}),[ne,xe,te,ee]);return rt.length?jsxRuntimeExports.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:jsxRuntimeExports.jsx("defs",{children:rt.map(it=>jsxRuntimeExports.jsx(Marker,{id:it.id,type:it.type,color:it.color,width:it.width,height:it.height,markerUnits:it.markerUnits,strokeWidth:it.strokeWidth,orient:it.orient},it.id))})}):null};MarkerDefinitions.displayName="MarkerDefinitions";var MarkerDefinitions$1=reactExports.memo(MarkerDefinitions);function EdgeTextComponent({x:ee,y:te,label:ne,labelStyle:xe,labelShowBg:rt=!0,labelBgStyle:it,labelBgPadding:lt=[2,4],labelBgBorderRadius:ct=2,children:ut,className:dt,...ht}){const[ft,pt]=reactExports.useState({x:1,y:0,width:0,height:0}),mt=cc(["react-flow__edge-textwrapper",dt]),xt=reactExports.useRef(null);return reactExports.useEffect(()=>{if(xt.current){const yt=xt.current.getBBox();pt({x:yt.x,y:yt.y,width:yt.width,height:yt.height})}},[ne]),ne?jsxRuntimeExports.jsxs("g",{transform:`translate(${ee-ft.width/2} ${te-ft.height/2})`,className:mt,visibility:ft.width?"visible":"hidden",...ht,children:[rt&&jsxRuntimeExports.jsx("rect",{width:ft.width+2*lt[0],x:-lt[0],y:-lt[1],height:ft.height+2*lt[1],className:"react-flow__edge-textbg",style:it,rx:ct,ry:ct}),jsxRuntimeExports.jsx("text",{className:"react-flow__edge-text",y:ft.height/2,dy:"0.3em",ref:xt,style:xe,children:ne}),ut]}):null}EdgeTextComponent.displayName="EdgeText";const EdgeText=reactExports.memo(EdgeTextComponent);function BaseEdge({path:ee,labelX:te,labelY:ne,label:xe,labelStyle:rt,labelShowBg:it,labelBgStyle:lt,labelBgPadding:ct,labelBgBorderRadius:ut,interactionWidth:dt=20,...ht}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{...ht,d:ee,fill:"none",className:cc(["react-flow__edge-path",ht.className])}),dt?jsxRuntimeExports.jsx("path",{d:ee,fill:"none",strokeOpacity:0,strokeWidth:dt,className:"react-flow__edge-interaction"}):null,xe&&isNumeric(te)&&isNumeric(ne)?jsxRuntimeExports.jsx(EdgeText,{x:te,y:ne,label:xe,labelStyle:rt,labelShowBg:it,labelBgStyle:lt,labelBgPadding:ct,labelBgBorderRadius:ut}):null]})}function getControl({pos:ee,x1:te,y1:ne,x2:xe,y2:rt}){return ee===Position.Left||ee===Position.Right?[.5*(te+xe),ne]:[te,.5*(ne+rt)]}function getSimpleBezierPath({sourceX:ee,sourceY:te,sourcePosition:ne=Position.Bottom,targetX:xe,targetY:rt,targetPosition:it=Position.Top}){const[lt,ct]=getControl({pos:ne,x1:ee,y1:te,x2:xe,y2:rt}),[ut,dt]=getControl({pos:it,x1:xe,y1:rt,x2:ee,y2:te}),[ht,ft,pt,mt]=getBezierEdgeCenter({sourceX:ee,sourceY:te,targetX:xe,targetY:rt,sourceControlX:lt,sourceControlY:ct,targetControlX:ut,targetControlY:dt});return[`M${ee},${te} C${lt},${ct} ${ut},${dt} ${xe},${rt}`,ht,ft,pt,mt]}function createSimpleBezierEdge(ee){return reactExports.memo(({id:te,sourceX:ne,sourceY:xe,targetX:rt,targetY:it,sourcePosition:lt,targetPosition:ct,label:ut,labelStyle:dt,labelShowBg:ht,labelBgStyle:ft,labelBgPadding:pt,labelBgBorderRadius:mt,style:xt,markerEnd:yt,markerStart:vt,interactionWidth:Et})=>{const[_t,wt,St]=getSimpleBezierPath({sourceX:ne,sourceY:xe,sourcePosition:lt,targetX:rt,targetY:it,targetPosition:ct}),Ct=ee.isInternal?void 0:te;return jsxRuntimeExports.jsx(BaseEdge,{id:Ct,path:_t,labelX:wt,labelY:St,label:ut,labelStyle:dt,labelShowBg:ht,labelBgStyle:ft,labelBgPadding:pt,labelBgBorderRadius:mt,style:xt,markerEnd:yt,markerStart:vt,interactionWidth:Et})})}const SimpleBezierEdge=createSimpleBezierEdge({isInternal:!1}),SimpleBezierEdgeInternal=createSimpleBezierEdge({isInternal:!0});SimpleBezierEdge.displayName="SimpleBezierEdge";SimpleBezierEdgeInternal.displayName="SimpleBezierEdgeInternal";function createSmoothStepEdge(ee){return reactExports.memo(({id:te,sourceX:ne,sourceY:xe,targetX:rt,targetY:it,label:lt,labelStyle:ct,labelShowBg:ut,labelBgStyle:dt,labelBgPadding:ht,labelBgBorderRadius:ft,style:pt,sourcePosition:mt=Position.Bottom,targetPosition:xt=Position.Top,markerEnd:yt,markerStart:vt,pathOptions:Et,interactionWidth:_t})=>{const[wt,St,Ct]=getSmoothStepPath({sourceX:ne,sourceY:xe,sourcePosition:mt,targetX:rt,targetY:it,targetPosition:xt,borderRadius:Et?.borderRadius,offset:Et?.offset,stepPosition:Et?.stepPosition}),jt=ee.isInternal?void 0:te;return jsxRuntimeExports.jsx(BaseEdge,{id:jt,path:wt,labelX:St,labelY:Ct,label:lt,labelStyle:ct,labelShowBg:ut,labelBgStyle:dt,labelBgPadding:ht,labelBgBorderRadius:ft,style:pt,markerEnd:yt,markerStart:vt,interactionWidth:_t})})}const SmoothStepEdge=createSmoothStepEdge({isInternal:!1}),SmoothStepEdgeInternal=createSmoothStepEdge({isInternal:!0});SmoothStepEdge.displayName="SmoothStepEdge";SmoothStepEdgeInternal.displayName="SmoothStepEdgeInternal";function createStepEdge(ee){return reactExports.memo(({id:te,...ne})=>{const xe=ee.isInternal?void 0:te;return jsxRuntimeExports.jsx(SmoothStepEdge,{...ne,id:xe,pathOptions:reactExports.useMemo(()=>({borderRadius:0,offset:ne.pathOptions?.offset}),[ne.pathOptions?.offset])})})}const StepEdge=createStepEdge({isInternal:!1}),StepEdgeInternal=createStepEdge({isInternal:!0});StepEdge.displayName="StepEdge";StepEdgeInternal.displayName="StepEdgeInternal";function createStraightEdge(ee){return reactExports.memo(({id:te,sourceX:ne,sourceY:xe,targetX:rt,targetY:it,label:lt,labelStyle:ct,labelShowBg:ut,labelBgStyle:dt,labelBgPadding:ht,labelBgBorderRadius:ft,style:pt,markerEnd:mt,markerStart:xt,interactionWidth:yt})=>{const[vt,Et,_t]=getStraightPath({sourceX:ne,sourceY:xe,targetX:rt,targetY:it}),wt=ee.isInternal?void 0:te;return jsxRuntimeExports.jsx(BaseEdge,{id:wt,path:vt,labelX:Et,labelY:_t,label:lt,labelStyle:ct,labelShowBg:ut,labelBgStyle:dt,labelBgPadding:ht,labelBgBorderRadius:ft,style:pt,markerEnd:mt,markerStart:xt,interactionWidth:yt})})}const StraightEdge=createStraightEdge({isInternal:!1}),StraightEdgeInternal=createStraightEdge({isInternal:!0});StraightEdge.displayName="StraightEdge";StraightEdgeInternal.displayName="StraightEdgeInternal";function createBezierEdge(ee){return reactExports.memo(({id:te,sourceX:ne,sourceY:xe,targetX:rt,targetY:it,sourcePosition:lt=Position.Bottom,targetPosition:ct=Position.Top,label:ut,labelStyle:dt,labelShowBg:ht,labelBgStyle:ft,labelBgPadding:pt,labelBgBorderRadius:mt,style:xt,markerEnd:yt,markerStart:vt,pathOptions:Et,interactionWidth:_t})=>{const[wt,St,Ct]=getBezierPath({sourceX:ne,sourceY:xe,sourcePosition:lt,targetX:rt,targetY:it,targetPosition:ct,curvature:Et?.curvature}),jt=ee.isInternal?void 0:te;return jsxRuntimeExports.jsx(BaseEdge,{id:jt,path:wt,labelX:St,labelY:Ct,label:ut,labelStyle:dt,labelShowBg:ht,labelBgStyle:ft,labelBgPadding:pt,labelBgBorderRadius:mt,style:xt,markerEnd:yt,markerStart:vt,interactionWidth:_t})})}const BezierEdge=createBezierEdge({isInternal:!1}),BezierEdgeInternal=createBezierEdge({isInternal:!0});BezierEdge.displayName="BezierEdge";BezierEdgeInternal.displayName="BezierEdgeInternal";const builtinEdgeTypes={default:BezierEdgeInternal,straight:StraightEdgeInternal,step:StepEdgeInternal,smoothstep:SmoothStepEdgeInternal,simplebezier:SimpleBezierEdgeInternal},nullPosition={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},shiftX=(ee,te,ne)=>ne===Position.Left?ee-te:ne===Position.Right?ee+te:ee,shiftY=(ee,te,ne)=>ne===Position.Top?ee-te:ne===Position.Bottom?ee+te:ee,EdgeUpdaterClassName="react-flow__edgeupdater";function EdgeAnchor({position:ee,centerX:te,centerY:ne,radius:xe=10,onMouseDown:rt,onMouseEnter:it,onMouseOut:lt,type:ct}){return jsxRuntimeExports.jsx("circle",{onMouseDown:rt,onMouseEnter:it,onMouseOut:lt,className:cc([EdgeUpdaterClassName,`${EdgeUpdaterClassName}-${ct}`]),cx:shiftX(te,xe,ee),cy:shiftY(ne,xe,ee),r:xe,stroke:"transparent",fill:"transparent"})}function EdgeUpdateAnchors({isReconnectable:ee,reconnectRadius:te,edge:ne,sourceX:xe,sourceY:rt,targetX:it,targetY:lt,sourcePosition:ct,targetPosition:ut,onReconnect:dt,onReconnectStart:ht,onReconnectEnd:ft,setReconnecting:pt,setUpdateHover:mt}){const xt=useStoreApi(),yt=(St,Ct)=>{if(St.button!==0)return;const{autoPanOnConnect:jt,domNode:Rt,isValidConnection:Pt,connectionMode:Ot,connectionRadius:Ft,lib:Lt,onConnectStart:Bt,onConnectEnd:Gt,cancelConnection:It,nodeLookup:qt,rfId:Nt,panBy:Dt,updateConnection:Tt}=xt.getState(),Mt=Ct.type==="target",$t=(Vt,Yt)=>{pt(!1),ft?.(Vt,ne,Ct.type,Yt)},Ht=Vt=>dt?.(ne,Vt),Wt=(Vt,Yt)=>{pt(!0),ht?.(St,ne,Ct.type),Bt?.(Vt,Yt)};XYHandle.onPointerDown(St.nativeEvent,{autoPanOnConnect:jt,connectionMode:Ot,connectionRadius:Ft,domNode:Rt,handleId:Ct.id,nodeId:Ct.nodeId,nodeLookup:qt,isTarget:Mt,edgeUpdaterType:Ct.type,lib:Lt,flowId:Nt,cancelConnection:It,panBy:Dt,isValidConnection:Pt,onConnect:Ht,onConnectStart:Wt,onConnectEnd:Gt,onReconnectEnd:$t,updateConnection:Tt,getTransform:()=>xt.getState().transform,getFromHandle:()=>xt.getState().connection.fromHandle,dragThreshold:xt.getState().connectionDragThreshold,handleDomNode:St.currentTarget})},vt=St=>yt(St,{nodeId:ne.target,id:ne.targetHandle??null,type:"target"}),Et=St=>yt(St,{nodeId:ne.source,id:ne.sourceHandle??null,type:"source"}),_t=()=>mt(!0),wt=()=>mt(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(ee===!0||ee==="source")&&jsxRuntimeExports.jsx(EdgeAnchor,{position:ct,centerX:xe,centerY:rt,radius:te,onMouseDown:vt,onMouseEnter:_t,onMouseOut:wt,type:"source"}),(ee===!0||ee==="target")&&jsxRuntimeExports.jsx(EdgeAnchor,{position:ut,centerX:it,centerY:lt,radius:te,onMouseDown:Et,onMouseEnter:_t,onMouseOut:wt,type:"target"})]})}function EdgeWrapper({id:ee,edgesFocusable:te,edgesReconnectable:ne,elementsSelectable:xe,onClick:rt,onDoubleClick:it,onContextMenu:lt,onMouseEnter:ct,onMouseMove:ut,onMouseLeave:dt,reconnectRadius:ht,onReconnect:ft,onReconnectStart:pt,onReconnectEnd:mt,rfId:xt,edgeTypes:yt,noPanClassName:vt,onError:Et,disableKeyboardA11y:_t}){let wt=useStore(Zt=>Zt.edgeLookup.get(ee));const St=useStore(Zt=>Zt.defaultEdgeOptions);wt=St?{...St,...wt}:wt;let Ct=wt.type||"default",jt=yt?.[Ct]||builtinEdgeTypes[Ct];jt===void 0&&(Et?.("011",errorMessages.error011(Ct)),Ct="default",jt=yt?.default||builtinEdgeTypes.default);const Rt=!!(wt.focusable||te&&typeof wt.focusable>"u"),Pt=typeof ft<"u"&&(wt.reconnectable||ne&&typeof wt.reconnectable>"u"),Ot=!!(wt.selectable||xe&&typeof wt.selectable>"u"),Ft=reactExports.useRef(null),[Lt,Bt]=reactExports.useState(!1),[Gt,It]=reactExports.useState(!1),qt=useStoreApi(),{zIndex:Nt,sourceX:Dt,sourceY:Tt,targetX:Mt,targetY:$t,sourcePosition:Ht,targetPosition:Wt}=useStore(reactExports.useCallback(Zt=>{const or=Zt.nodeLookup.get(wt.source),dr=Zt.nodeLookup.get(wt.target);if(!or||!dr)return{zIndex:wt.zIndex,...nullPosition};const Ar=getEdgePosition({id:ee,sourceNode:or,targetNode:dr,sourceHandle:wt.sourceHandle||null,targetHandle:wt.targetHandle||null,connectionMode:Zt.connectionMode,onError:Et});return{zIndex:getElevatedEdgeZIndex({selected:wt.selected,zIndex:wt.zIndex,sourceNode:or,targetNode:dr,elevateOnSelect:Zt.elevateEdgesOnSelect,zIndexMode:Zt.zIndexMode}),...Ar||nullPosition}},[wt.source,wt.target,wt.sourceHandle,wt.targetHandle,wt.selected,wt.zIndex]),shallow$1),Vt=reactExports.useMemo(()=>wt.markerStart?`url('#${getMarkerId(wt.markerStart,xt)}')`:void 0,[wt.markerStart,xt]),Yt=reactExports.useMemo(()=>wt.markerEnd?`url('#${getMarkerId(wt.markerEnd,xt)}')`:void 0,[wt.markerEnd,xt]);if(wt.hidden||Dt===null||Tt===null||Mt===null||$t===null)return null;const Qt=Zt=>{const{addSelectedEdges:or,unselectNodesAndEdges:dr,multiSelectionActive:Ar}=qt.getState();Ot&&(qt.setState({nodesSelectionActive:!1}),wt.selected&&Ar?(dr({nodes:[],edges:[wt]}),Ft.current?.blur()):or([ee])),rt&&rt(Zt,wt)},ar=it?Zt=>{it(Zt,{...wt})}:void 0,Xt=lt?Zt=>{lt(Zt,{...wt})}:void 0,tr=ct?Zt=>{ct(Zt,{...wt})}:void 0,rr=ut?Zt=>{ut(Zt,{...wt})}:void 0,ur=dt?Zt=>{dt(Zt,{...wt})}:void 0,Jt=Zt=>{if(!_t&&elementSelectionKeys.includes(Zt.key)&&Ot){const{unselectNodesAndEdges:or,addSelectedEdges:dr}=qt.getState();Zt.key==="Escape"?(Ft.current?.blur(),or({edges:[wt]})):dr([ee])}};return jsxRuntimeExports.jsx("svg",{style:{zIndex:Nt},children:jsxRuntimeExports.jsxs("g",{className:cc(["react-flow__edge",`react-flow__edge-${Ct}`,wt.className,vt,{selected:wt.selected,animated:wt.animated,inactive:!Ot&&!rt,updating:Lt,selectable:Ot}]),onClick:Qt,onDoubleClick:ar,onContextMenu:Xt,onMouseEnter:tr,onMouseMove:rr,onMouseLeave:ur,onKeyDown:Rt?Jt:void 0,tabIndex:Rt?0:void 0,role:wt.ariaRole??(Rt?"group":"img"),"aria-roledescription":"edge","data-id":ee,"data-testid":`rf__edge-${ee}`,"aria-label":wt.ariaLabel===null?void 0:wt.ariaLabel||`Edge from ${wt.source} to ${wt.target}`,"aria-describedby":Rt?`${ARIA_EDGE_DESC_KEY}-${xt}`:void 0,ref:Ft,...wt.domAttributes,children:[!Gt&&jsxRuntimeExports.jsx(jt,{id:ee,source:wt.source,target:wt.target,type:wt.type,selected:wt.selected,animated:wt.animated,selectable:Ot,deletable:wt.deletable??!0,label:wt.label,labelStyle:wt.labelStyle,labelShowBg:wt.labelShowBg,labelBgStyle:wt.labelBgStyle,labelBgPadding:wt.labelBgPadding,labelBgBorderRadius:wt.labelBgBorderRadius,sourceX:Dt,sourceY:Tt,targetX:Mt,targetY:$t,sourcePosition:Ht,targetPosition:Wt,data:wt.data,style:wt.style,sourceHandleId:wt.sourceHandle,targetHandleId:wt.targetHandle,markerStart:Vt,markerEnd:Yt,pathOptions:"pathOptions"in wt?wt.pathOptions:void 0,interactionWidth:wt.interactionWidth}),Pt&&jsxRuntimeExports.jsx(EdgeUpdateAnchors,{edge:wt,isReconnectable:Pt,reconnectRadius:ht,onReconnect:ft,onReconnectStart:pt,onReconnectEnd:mt,sourceX:Dt,sourceY:Tt,targetX:Mt,targetY:$t,sourcePosition:Ht,targetPosition:Wt,setUpdateHover:Bt,setReconnecting:It})]})})}var EdgeWrapper$1=reactExports.memo(EdgeWrapper);const selector$a=ee=>({edgesFocusable:ee.edgesFocusable,edgesReconnectable:ee.edgesReconnectable,elementsSelectable:ee.elementsSelectable,connectionMode:ee.connectionMode,onError:ee.onError});function EdgeRendererComponent({defaultMarkerColor:ee,onlyRenderVisibleElements:te,rfId:ne,edgeTypes:xe,noPanClassName:rt,onReconnect:it,onEdgeContextMenu:lt,onEdgeMouseEnter:ct,onEdgeMouseMove:ut,onEdgeMouseLeave:dt,onEdgeClick:ht,reconnectRadius:ft,onEdgeDoubleClick:pt,onReconnectStart:mt,onReconnectEnd:xt,disableKeyboardA11y:yt}){const{edgesFocusable:vt,edgesReconnectable:Et,elementsSelectable:_t,onError:wt}=useStore(selector$a,shallow$1),St=useVisibleEdgeIds(te);return jsxRuntimeExports.jsxs("div",{className:"react-flow__edges",children:[jsxRuntimeExports.jsx(MarkerDefinitions$1,{defaultColor:ee,rfId:ne}),St.map(Ct=>jsxRuntimeExports.jsx(EdgeWrapper$1,{id:Ct,edgesFocusable:vt,edgesReconnectable:Et,elementsSelectable:_t,noPanClassName:rt,onReconnect:it,onContextMenu:lt,onMouseEnter:ct,onMouseMove:ut,onMouseLeave:dt,onClick:ht,reconnectRadius:ft,onDoubleClick:pt,onReconnectStart:mt,onReconnectEnd:xt,rfId:ne,onError:wt,edgeTypes:xe,disableKeyboardA11y:yt},Ct))]})}EdgeRendererComponent.displayName="EdgeRenderer";const EdgeRenderer=reactExports.memo(EdgeRendererComponent),selector$9=ee=>`translate(${ee.transform[0]}px,${ee.transform[1]}px) scale(${ee.transform[2]})`;function Viewport({children:ee}){const te=useStore(selector$9);return jsxRuntimeExports.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:te},children:ee})}function useOnInitHandler(ee){const te=useReactFlow(),ne=reactExports.useRef(!1);reactExports.useEffect(()=>{!ne.current&&te.viewportInitialized&&ee&&(setTimeout(()=>ee(te),1),ne.current=!0)},[ee,te.viewportInitialized])}const selector$8=ee=>ee.panZoom?.syncViewport;function useViewportSync(ee){const te=useStore(selector$8),ne=useStoreApi();return reactExports.useEffect(()=>{ee&&(te?.(ee),ne.setState({transform:[ee.x,ee.y,ee.zoom]}))},[ee,te]),null}function storeSelector$1(ee){return ee.connection.inProgress?{...ee.connection,to:pointToRendererPoint(ee.connection.to,ee.transform)}:{...ee.connection}}function getSelector(ee){return storeSelector$1}function useConnection(ee){const te=getSelector();return useStore(te,shallow$1)}const selector$7=ee=>({nodesConnectable:ee.nodesConnectable,isValid:ee.connection.isValid,inProgress:ee.connection.inProgress,width:ee.width,height:ee.height});function ConnectionLineWrapper({containerStyle:ee,style:te,type:ne,component:xe}){const{nodesConnectable:rt,width:it,height:lt,isValid:ct,inProgress:ut}=useStore(selector$7,shallow$1);return!(it&&rt&&ut)?null:jsxRuntimeExports.jsx("svg",{style:ee,width:it,height:lt,className:"react-flow__connectionline react-flow__container",children:jsxRuntimeExports.jsx("g",{className:cc(["react-flow__connection",getConnectionStatus(ct)]),children:jsxRuntimeExports.jsx(ConnectionLine,{style:te,type:ne,CustomComponent:xe,isValid:ct})})})}const ConnectionLine=({style:ee,type:te=ConnectionLineType.Bezier,CustomComponent:ne,isValid:xe})=>{const{inProgress:rt,from:it,fromNode:lt,fromHandle:ct,fromPosition:ut,to:dt,toNode:ht,toHandle:ft,toPosition:pt,pointer:mt}=useConnection();if(!rt)return;if(ne)return jsxRuntimeExports.jsx(ne,{connectionLineType:te,connectionLineStyle:ee,fromNode:lt,fromHandle:ct,fromX:it.x,fromY:it.y,toX:dt.x,toY:dt.y,fromPosition:ut,toPosition:pt,connectionStatus:getConnectionStatus(xe),toNode:ht,toHandle:ft,pointer:mt});let xt="";const yt={sourceX:it.x,sourceY:it.y,sourcePosition:ut,targetX:dt.x,targetY:dt.y,targetPosition:pt};switch(te){case ConnectionLineType.Bezier:[xt]=getBezierPath(yt);break;case ConnectionLineType.SimpleBezier:[xt]=getSimpleBezierPath(yt);break;case ConnectionLineType.Step:[xt]=getSmoothStepPath({...yt,borderRadius:0});break;case ConnectionLineType.SmoothStep:[xt]=getSmoothStepPath(yt);break;default:[xt]=getStraightPath(yt)}return jsxRuntimeExports.jsx("path",{d:xt,fill:"none",className:"react-flow__connection-path",style:ee})};ConnectionLine.displayName="ConnectionLine";const emptyTypes={};function useNodeOrEdgeTypesWarning(ee=emptyTypes){reactExports.useRef(ee),useStoreApi(),reactExports.useEffect(()=>{},[ee])}function useStylesLoadedWarning(){useStoreApi(),reactExports.useRef(!1),reactExports.useEffect(()=>{},[])}function GraphViewComponent({nodeTypes:ee,edgeTypes:te,onInit:ne,onNodeClick:xe,onEdgeClick:rt,onNodeDoubleClick:it,onEdgeDoubleClick:lt,onNodeMouseEnter:ct,onNodeMouseMove:ut,onNodeMouseLeave:dt,onNodeContextMenu:ht,onSelectionContextMenu:ft,onSelectionStart:pt,onSelectionEnd:mt,connectionLineType:xt,connectionLineStyle:yt,connectionLineComponent:vt,connectionLineContainerStyle:Et,selectionKeyCode:_t,selectionOnDrag:wt,selectionMode:St,multiSelectionKeyCode:Ct,panActivationKeyCode:jt,zoomActivationKeyCode:Rt,deleteKeyCode:Pt,onlyRenderVisibleElements:Ot,elementsSelectable:Ft,defaultViewport:Lt,translateExtent:Bt,minZoom:Gt,maxZoom:It,preventScrolling:qt,defaultMarkerColor:Nt,zoomOnScroll:Dt,zoomOnPinch:Tt,panOnScroll:Mt,panOnScrollSpeed:$t,panOnScrollMode:Ht,zoomOnDoubleClick:Wt,panOnDrag:Vt,onPaneClick:Yt,onPaneMouseEnter:Qt,onPaneMouseMove:ar,onPaneMouseLeave:Xt,onPaneScroll:tr,onPaneContextMenu:rr,paneClickDistance:ur,nodeClickDistance:Jt,onEdgeContextMenu:Zt,onEdgeMouseEnter:or,onEdgeMouseMove:dr,onEdgeMouseLeave:Ar,reconnectRadius:Nr,onReconnect:Mr,onReconnectStart:Gr,onReconnectEnd:Yr,noDragClassName:en,noWheelClassName:Jr,noPanClassName:on,disableKeyboardA11y:sn,nodeExtent:an,rfId:dn,viewport:pr,onViewportChange:Er}){return useNodeOrEdgeTypesWarning(ee),useNodeOrEdgeTypesWarning(te),useStylesLoadedWarning(),useOnInitHandler(ne),useViewportSync(pr),jsxRuntimeExports.jsx(FlowRenderer,{onPaneClick:Yt,onPaneMouseEnter:Qt,onPaneMouseMove:ar,onPaneMouseLeave:Xt,onPaneContextMenu:rr,onPaneScroll:tr,paneClickDistance:ur,deleteKeyCode:Pt,selectionKeyCode:_t,selectionOnDrag:wt,selectionMode:St,onSelectionStart:pt,onSelectionEnd:mt,multiSelectionKeyCode:Ct,panActivationKeyCode:jt,zoomActivationKeyCode:Rt,elementsSelectable:Ft,zoomOnScroll:Dt,zoomOnPinch:Tt,zoomOnDoubleClick:Wt,panOnScroll:Mt,panOnScrollSpeed:$t,panOnScrollMode:Ht,panOnDrag:Vt,defaultViewport:Lt,translateExtent:Bt,minZoom:Gt,maxZoom:It,onSelectionContextMenu:ft,preventScrolling:qt,noDragClassName:en,noWheelClassName:Jr,noPanClassName:on,disableKeyboardA11y:sn,onViewportChange:Er,isControlledViewport:!!pr,children:jsxRuntimeExports.jsxs(Viewport,{children:[jsxRuntimeExports.jsx(EdgeRenderer,{edgeTypes:te,onEdgeClick:rt,onEdgeDoubleClick:lt,onReconnect:Mr,onReconnectStart:Gr,onReconnectEnd:Yr,onlyRenderVisibleElements:Ot,onEdgeContextMenu:Zt,onEdgeMouseEnter:or,onEdgeMouseMove:dr,onEdgeMouseLeave:Ar,reconnectRadius:Nr,defaultMarkerColor:Nt,noPanClassName:on,disableKeyboardA11y:sn,rfId:dn}),jsxRuntimeExports.jsx(ConnectionLineWrapper,{style:yt,type:xt,component:vt,containerStyle:Et}),jsxRuntimeExports.jsx("div",{className:"react-flow__edgelabel-renderer"}),jsxRuntimeExports.jsx(NodeRenderer,{nodeTypes:ee,onNodeClick:xe,onNodeDoubleClick:it,onNodeMouseEnter:ct,onNodeMouseMove:ut,onNodeMouseLeave:dt,onNodeContextMenu:ht,nodeClickDistance:Jt,onlyRenderVisibleElements:Ot,noPanClassName:on,noDragClassName:en,disableKeyboardA11y:sn,nodeExtent:an,rfId:dn}),jsxRuntimeExports.jsx("div",{className:"react-flow__viewport-portal"})]})})}GraphViewComponent.displayName="GraphView";const GraphView=reactExports.memo(GraphViewComponent),getInitialState=({nodes:ee,edges:te,defaultNodes:ne,defaultEdges:xe,width:rt,height:it,fitView:lt,fitViewOptions:ct,minZoom:ut=.5,maxZoom:dt=2,nodeOrigin:ht,nodeExtent:ft,zIndexMode:pt="basic"}={})=>{const mt=new Map,xt=new Map,yt=new Map,vt=new Map,Et=xe??te??[],_t=ne??ee??[],wt=ht??[0,0],St=ft??infiniteExtent;updateConnectionLookup(yt,vt,Et);const Ct=adoptUserNodes(_t,mt,xt,{nodeOrigin:wt,nodeExtent:St,zIndexMode:pt});let jt=[0,0,1];if(lt&&rt&&it){const Rt=getInternalNodesBounds(mt,{filter:Lt=>!!((Lt.width||Lt.initialWidth)&&(Lt.height||Lt.initialHeight))}),{x:Pt,y:Ot,zoom:Ft}=getViewportForBounds(Rt,rt,it,ut,dt,ct?.padding??.1);jt=[Pt,Ot,Ft]}return{rfId:"1",width:rt??0,height:it??0,transform:jt,nodes:_t,nodesInitialized:Ct,nodeLookup:mt,parentLookup:xt,edges:Et,edgeLookup:vt,connectionLookup:yt,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:ne!==void 0,hasDefaultEdges:xe!==void 0,panZoom:null,minZoom:ut,maxZoom:dt,translateExtent:infiniteExtent,nodeExtent:St,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ConnectionMode.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:wt,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:lt??!1,fitViewOptions:ct,fitViewResolver:null,connection:{...initialConnection},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:devWarn,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:defaultAriaLabelConfig,zIndexMode:pt,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},createStore=({nodes:ee,edges:te,defaultNodes:ne,defaultEdges:xe,width:rt,height:it,fitView:lt,fitViewOptions:ct,minZoom:ut,maxZoom:dt,nodeOrigin:ht,nodeExtent:ft,zIndexMode:pt})=>createWithEqualityFn((mt,xt)=>{async function yt(){const{nodeLookup:vt,panZoom:Et,fitViewOptions:_t,fitViewResolver:wt,width:St,height:Ct,minZoom:jt,maxZoom:Rt}=xt();Et&&(await fitViewport({nodes:vt,width:St,height:Ct,panZoom:Et,minZoom:jt,maxZoom:Rt},_t),wt?.resolve(!0),mt({fitViewResolver:null}))}return{...getInitialState({nodes:ee,edges:te,width:rt,height:it,fitView:lt,fitViewOptions:ct,minZoom:ut,maxZoom:dt,nodeOrigin:ht,nodeExtent:ft,defaultNodes:ne,defaultEdges:xe,zIndexMode:pt}),setNodes:vt=>{const{nodeLookup:Et,parentLookup:_t,nodeOrigin:wt,elevateNodesOnSelect:St,fitViewQueued:Ct,zIndexMode:jt}=xt(),Rt=adoptUserNodes(vt,Et,_t,{nodeOrigin:wt,nodeExtent:ft,elevateNodesOnSelect:St,checkEquality:!0,zIndexMode:jt});Ct&&Rt?(yt(),mt({nodes:vt,nodesInitialized:Rt,fitViewQueued:!1,fitViewOptions:void 0})):mt({nodes:vt,nodesInitialized:Rt})},setEdges:vt=>{const{connectionLookup:Et,edgeLookup:_t}=xt();updateConnectionLookup(Et,_t,vt),mt({edges:vt})},setDefaultNodesAndEdges:(vt,Et)=>{if(vt){const{setNodes:_t}=xt();_t(vt),mt({hasDefaultNodes:!0})}if(Et){const{setEdges:_t}=xt();_t(Et),mt({hasDefaultEdges:!0})}},updateNodeInternals:vt=>{const{triggerNodeChanges:Et,nodeLookup:_t,parentLookup:wt,domNode:St,nodeOrigin:Ct,nodeExtent:jt,debug:Rt,fitViewQueued:Pt,zIndexMode:Ot}=xt(),{changes:Ft,updatedInternals:Lt}=updateNodeInternals(vt,_t,wt,St,Ct,jt,Ot);Lt&&(updateAbsolutePositions(_t,wt,{nodeOrigin:Ct,nodeExtent:jt,zIndexMode:Ot}),Pt?(yt(),mt({fitViewQueued:!1,fitViewOptions:void 0})):mt({}),Ft?.length>0&&(Rt&&console.log("React Flow: trigger node changes",Ft),Et?.(Ft)))},updateNodePositions:(vt,Et=!1)=>{const _t=[];let wt=[];const{nodeLookup:St,triggerNodeChanges:Ct,connection:jt,updateConnection:Rt,onNodesChangeMiddlewareMap:Pt}=xt();for(const[Ot,Ft]of vt){const Lt=St.get(Ot),Bt=!!(Lt?.expandParent&&Lt?.parentId&&Ft?.position),Gt={id:Ot,type:"position",position:Bt?{x:Math.max(0,Ft.position.x),y:Math.max(0,Ft.position.y)}:Ft.position,dragging:Et};if(Lt&&jt.inProgress&&jt.fromNode.id===Lt.id){const It=getHandlePosition(Lt,jt.fromHandle,Position.Left,!0);Rt({...jt,from:It})}Bt&&Lt.parentId&&_t.push({id:Ot,parentId:Lt.parentId,rect:{...Ft.internals.positionAbsolute,width:Ft.measured.width??0,height:Ft.measured.height??0}}),wt.push(Gt)}if(_t.length>0){const{parentLookup:Ot,nodeOrigin:Ft}=xt(),Lt=handleExpandParent(_t,St,Ot,Ft);wt.push(...Lt)}for(const Ot of Pt.values())wt=Ot(wt);Ct(wt)},triggerNodeChanges:vt=>{const{onNodesChange:Et,setNodes:_t,nodes:wt,hasDefaultNodes:St,debug:Ct}=xt();if(vt?.length){if(St){const jt=applyNodeChanges(vt,wt);_t(jt)}Ct&&console.log("React Flow: trigger node changes",vt),Et?.(vt)}},triggerEdgeChanges:vt=>{const{onEdgesChange:Et,setEdges:_t,edges:wt,hasDefaultEdges:St,debug:Ct}=xt();if(vt?.length){if(St){const jt=applyEdgeChanges(vt,wt);_t(jt)}Ct&&console.log("React Flow: trigger edge changes",vt),Et?.(vt)}},addSelectedNodes:vt=>{const{multiSelectionActive:Et,edgeLookup:_t,nodeLookup:wt,triggerNodeChanges:St,triggerEdgeChanges:Ct}=xt();if(Et){const jt=vt.map(Rt=>createSelectionChange(Rt,!0));St(jt);return}St(getSelectionChanges(wt,new Set([...vt]),!0)),Ct(getSelectionChanges(_t))},addSelectedEdges:vt=>{const{multiSelectionActive:Et,edgeLookup:_t,nodeLookup:wt,triggerNodeChanges:St,triggerEdgeChanges:Ct}=xt();if(Et){const jt=vt.map(Rt=>createSelectionChange(Rt,!0));Ct(jt);return}Ct(getSelectionChanges(_t,new Set([...vt]))),St(getSelectionChanges(wt,new Set,!0))},unselectNodesAndEdges:({nodes:vt,edges:Et}={})=>{const{edges:_t,nodes:wt,nodeLookup:St,triggerNodeChanges:Ct,triggerEdgeChanges:jt}=xt(),Rt=vt||wt,Pt=Et||_t,Ot=Rt.map(Lt=>{const Bt=St.get(Lt.id);return Bt&&(Bt.selected=!1),createSelectionChange(Lt.id,!1)}),Ft=Pt.map(Lt=>createSelectionChange(Lt.id,!1));Ct(Ot),jt(Ft)},setMinZoom:vt=>{const{panZoom:Et,maxZoom:_t}=xt();Et?.setScaleExtent([vt,_t]),mt({minZoom:vt})},setMaxZoom:vt=>{const{panZoom:Et,minZoom:_t}=xt();Et?.setScaleExtent([_t,vt]),mt({maxZoom:vt})},setTranslateExtent:vt=>{xt().panZoom?.setTranslateExtent(vt),mt({translateExtent:vt})},resetSelectedElements:()=>{const{edges:vt,nodes:Et,triggerNodeChanges:_t,triggerEdgeChanges:wt,elementsSelectable:St}=xt();if(!St)return;const Ct=Et.reduce((Rt,Pt)=>Pt.selected?[...Rt,createSelectionChange(Pt.id,!1)]:Rt,[]),jt=vt.reduce((Rt,Pt)=>Pt.selected?[...Rt,createSelectionChange(Pt.id,!1)]:Rt,[]);_t(Ct),wt(jt)},setNodeExtent:vt=>{const{nodes:Et,nodeLookup:_t,parentLookup:wt,nodeOrigin:St,elevateNodesOnSelect:Ct,nodeExtent:jt,zIndexMode:Rt}=xt();vt[0][0]===jt[0][0]&&vt[0][1]===jt[0][1]&&vt[1][0]===jt[1][0]&&vt[1][1]===jt[1][1]||(adoptUserNodes(Et,_t,wt,{nodeOrigin:St,nodeExtent:vt,elevateNodesOnSelect:Ct,checkEquality:!1,zIndexMode:Rt}),mt({nodeExtent:vt}))},panBy:vt=>{const{transform:Et,width:_t,height:wt,panZoom:St,translateExtent:Ct}=xt();return panBy({delta:vt,panZoom:St,transform:Et,translateExtent:Ct,width:_t,height:wt})},setCenter:async(vt,Et,_t)=>{const{width:wt,height:St,maxZoom:Ct,panZoom:jt}=xt();if(!jt)return Promise.resolve(!1);const Rt=typeof _t?.zoom<"u"?_t.zoom:Ct;return await jt.setViewport({x:wt/2-vt*Rt,y:St/2-Et*Rt,zoom:Rt},{duration:_t?.duration,ease:_t?.ease,interpolate:_t?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{mt({connection:{...initialConnection}})},updateConnection:vt=>{mt({connection:vt})},reset:()=>mt({...getInitialState()})}},Object.is);function ReactFlowProvider({initialNodes:ee,initialEdges:te,defaultNodes:ne,defaultEdges:xe,initialWidth:rt,initialHeight:it,initialMinZoom:lt,initialMaxZoom:ct,initialFitViewOptions:ut,fitView:dt,nodeOrigin:ht,nodeExtent:ft,zIndexMode:pt,children:mt}){const[xt]=reactExports.useState(()=>createStore({nodes:ee,edges:te,defaultNodes:ne,defaultEdges:xe,width:rt,height:it,fitView:dt,minZoom:lt,maxZoom:ct,fitViewOptions:ut,nodeOrigin:ht,nodeExtent:ft,zIndexMode:pt}));return jsxRuntimeExports.jsx(Provider$1,{value:xt,children:jsxRuntimeExports.jsx(BatchProvider,{children:mt})})}function Wrapper({children:ee,nodes:te,edges:ne,defaultNodes:xe,defaultEdges:rt,width:it,height:lt,fitView:ct,fitViewOptions:ut,minZoom:dt,maxZoom:ht,nodeOrigin:ft,nodeExtent:pt,zIndexMode:mt}){return reactExports.useContext(StoreContext)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ee}):jsxRuntimeExports.jsx(ReactFlowProvider,{initialNodes:te,initialEdges:ne,defaultNodes:xe,defaultEdges:rt,initialWidth:it,initialHeight:lt,fitView:ct,initialFitViewOptions:ut,initialMinZoom:dt,initialMaxZoom:ht,nodeOrigin:ft,nodeExtent:pt,zIndexMode:mt,children:ee})}const wrapperStyle={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ReactFlow({nodes:ee,edges:te,defaultNodes:ne,defaultEdges:xe,className:rt,nodeTypes:it,edgeTypes:lt,onNodeClick:ct,onEdgeClick:ut,onInit:dt,onMove:ht,onMoveStart:ft,onMoveEnd:pt,onConnect:mt,onConnectStart:xt,onConnectEnd:yt,onClickConnectStart:vt,onClickConnectEnd:Et,onNodeMouseEnter:_t,onNodeMouseMove:wt,onNodeMouseLeave:St,onNodeContextMenu:Ct,onNodeDoubleClick:jt,onNodeDragStart:Rt,onNodeDrag:Pt,onNodeDragStop:Ot,onNodesDelete:Ft,onEdgesDelete:Lt,onDelete:Bt,onSelectionChange:Gt,onSelectionDragStart:It,onSelectionDrag:qt,onSelectionDragStop:Nt,onSelectionContextMenu:Dt,onSelectionStart:Tt,onSelectionEnd:Mt,onBeforeDelete:$t,connectionMode:Ht,connectionLineType:Wt=ConnectionLineType.Bezier,connectionLineStyle:Vt,connectionLineComponent:Yt,connectionLineContainerStyle:Qt,deleteKeyCode:ar="Backspace",selectionKeyCode:Xt="Shift",selectionOnDrag:tr=!1,selectionMode:rr=SelectionMode.Full,panActivationKeyCode:ur="Space",multiSelectionKeyCode:Jt=isMacOs()?"Meta":"Control",zoomActivationKeyCode:Zt=isMacOs()?"Meta":"Control",snapToGrid:or,snapGrid:dr,onlyRenderVisibleElements:Ar=!1,selectNodesOnDrag:Nr,nodesDraggable:Mr,autoPanOnNodeFocus:Gr,nodesConnectable:Yr,nodesFocusable:en,nodeOrigin:Jr=defaultNodeOrigin,edgesFocusable:on,edgesReconnectable:sn,elementsSelectable:an=!0,defaultViewport:dn=defaultViewport,minZoom:pr=.5,maxZoom:Er=2,translateExtent:sr=infiniteExtent,preventScrolling:vr=!0,nodeExtent:Pr,defaultMarkerColor:Kr="#b1b1b7",zoomOnScroll:Ln=!0,zoomOnPinch:kn=!0,panOnScroll:qn=!1,panOnScrollSpeed:vn=.5,panOnScrollMode:fn=PanOnScrollMode.Free,zoomOnDoubleClick:$n=!0,panOnDrag:bn=!0,onPaneClick:ni,onPaneMouseEnter:mi,onPaneMouseMove:Wn,onPaneMouseLeave:ii,onPaneScroll:gi,onPaneContextMenu:Ki,paneClickDistance:Li=1,nodeClickDistance:En=0,children:yr,onReconnect:$r,onReconnectStart:tn,onReconnectEnd:yn,onEdgeContextMenu:Sn,onEdgeDoubleClick:mn,onEdgeMouseEnter:as,onEdgeMouseMove:_n,onEdgeMouseLeave:Dn,reconnectRadius:si=10,onNodesChange:bi,onEdgesChange:Ei,noDragClassName:xi="nodrag",noWheelClassName:Yn="nowheel",noPanClassName:ai="nopan",fitView:Yi,fitViewOptions:Xi,connectOnClick:gs,attributionPosition:Ms,proOptions:qr,defaultEdgeOptions:nr,elevateNodesOnSelect:Cr=!0,elevateEdgesOnSelect:Or=!1,disableKeyboardA11y:xn=!1,autoPanOnConnect:rn,autoPanOnNodeDrag:Cn,autoPanSpeed:Mn,connectionRadius:wn,isValidConnection:Fn,onError:ei,style:Rn,id:oi,nodeDragThreshold:Xn,connectionDragThreshold:Pi,viewport:li,onViewportChange:Os,width:Za,height:Is,colorMode:xs="light",debug:Ls,onScroll:Zi,ariaLabelConfig:na,zIndexMode:_a="basic",...wi},ia){const Ji=oi||"1",ys=useColorModeClass(xs),vs=reactExports.useCallback(Ds=>{Ds.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Zi?.(Ds)},[Zi]);return jsxRuntimeExports.jsx("div",{"data-testid":"rf__wrapper",...wi,onScroll:vs,style:{...Rn,...wrapperStyle},ref:ia,className:cc(["react-flow",rt,ys]),id:oi,role:"application",children:jsxRuntimeExports.jsxs(Wrapper,{nodes:ee,edges:te,width:Za,height:Is,fitView:Yi,fitViewOptions:Xi,minZoom:pr,maxZoom:Er,nodeOrigin:Jr,nodeExtent:Pr,zIndexMode:_a,children:[jsxRuntimeExports.jsx(GraphView,{onInit:dt,onNodeClick:ct,onEdgeClick:ut,onNodeMouseEnter:_t,onNodeMouseMove:wt,onNodeMouseLeave:St,onNodeContextMenu:Ct,onNodeDoubleClick:jt,nodeTypes:it,edgeTypes:lt,connectionLineType:Wt,connectionLineStyle:Vt,connectionLineComponent:Yt,connectionLineContainerStyle:Qt,selectionKeyCode:Xt,selectionOnDrag:tr,selectionMode:rr,deleteKeyCode:ar,multiSelectionKeyCode:Jt,panActivationKeyCode:ur,zoomActivationKeyCode:Zt,onlyRenderVisibleElements:Ar,defaultViewport:dn,translateExtent:sr,minZoom:pr,maxZoom:Er,preventScrolling:vr,zoomOnScroll:Ln,zoomOnPinch:kn,zoomOnDoubleClick:$n,panOnScroll:qn,panOnScrollSpeed:vn,panOnScrollMode:fn,panOnDrag:bn,onPaneClick:ni,onPaneMouseEnter:mi,onPaneMouseMove:Wn,onPaneMouseLeave:ii,onPaneScroll:gi,onPaneContextMenu:Ki,paneClickDistance:Li,nodeClickDistance:En,onSelectionContextMenu:Dt,onSelectionStart:Tt,onSelectionEnd:Mt,onReconnect:$r,onReconnectStart:tn,onReconnectEnd:yn,onEdgeContextMenu:Sn,onEdgeDoubleClick:mn,onEdgeMouseEnter:as,onEdgeMouseMove:_n,onEdgeMouseLeave:Dn,reconnectRadius:si,defaultMarkerColor:Kr,noDragClassName:xi,noWheelClassName:Yn,noPanClassName:ai,rfId:Ji,disableKeyboardA11y:xn,nodeExtent:Pr,viewport:li,onViewportChange:Os}),jsxRuntimeExports.jsx(StoreUpdater,{nodes:ee,edges:te,defaultNodes:ne,defaultEdges:xe,onConnect:mt,onConnectStart:xt,onConnectEnd:yt,onClickConnectStart:vt,onClickConnectEnd:Et,nodesDraggable:Mr,autoPanOnNodeFocus:Gr,nodesConnectable:Yr,nodesFocusable:en,edgesFocusable:on,edgesReconnectable:sn,elementsSelectable:an,elevateNodesOnSelect:Cr,elevateEdgesOnSelect:Or,minZoom:pr,maxZoom:Er,nodeExtent:Pr,onNodesChange:bi,onEdgesChange:Ei,snapToGrid:or,snapGrid:dr,connectionMode:Ht,translateExtent:sr,connectOnClick:gs,defaultEdgeOptions:nr,fitView:Yi,fitViewOptions:Xi,onNodesDelete:Ft,onEdgesDelete:Lt,onDelete:Bt,onNodeDragStart:Rt,onNodeDrag:Pt,onNodeDragStop:Ot,onSelectionDrag:qt,onSelectionDragStart:It,onSelectionDragStop:Nt,onMove:ht,onMoveStart:ft,onMoveEnd:pt,noPanClassName:ai,nodeOrigin:Jr,rfId:Ji,autoPanOnConnect:rn,autoPanOnNodeDrag:Cn,autoPanSpeed:Mn,onError:ei,connectionRadius:wn,isValidConnection:Fn,selectNodesOnDrag:Nr,nodeDragThreshold:Xn,connectionDragThreshold:Pi,onBeforeDelete:$t,debug:Ls,ariaLabelConfig:na,zIndexMode:_a}),jsxRuntimeExports.jsx(SelectionListener,{onSelectionChange:Gt}),yr,jsxRuntimeExports.jsx(Attribution,{proOptions:qr,position:Ms}),jsxRuntimeExports.jsx(A11yDescriptions,{rfId:Ji,disableKeyboardA11y:xn})]})})}var index=fixedForwardRef(ReactFlow);function useNodesState(ee){const[te,ne]=reactExports.useState(ee),xe=reactExports.useCallback(rt=>ne(it=>applyNodeChanges(rt,it)),[]);return[te,ne,xe]}function useEdgesState(ee){const[te,ne]=reactExports.useState(ee),xe=reactExports.useCallback(rt=>ne(it=>applyEdgeChanges(rt,it)),[]);return[te,ne,xe]}function LinePattern({dimensions:ee,lineWidth:te,variant:ne,className:xe}){return jsxRuntimeExports.jsx("path",{strokeWidth:te,d:`M${ee[0]/2} 0 V${ee[1]} M0 ${ee[1]/2} H${ee[0]}`,className:cc(["react-flow__background-pattern",ne,xe])})}function DotPattern({radius:ee,className:te}){return jsxRuntimeExports.jsx("circle",{cx:ee,cy:ee,r:ee,className:cc(["react-flow__background-pattern","dots",te])})}var BackgroundVariant;(function(ee){ee.Lines="lines",ee.Dots="dots",ee.Cross="cross"})(BackgroundVariant||(BackgroundVariant={}));const defaultSize={[BackgroundVariant.Dots]:1,[BackgroundVariant.Lines]:1,[BackgroundVariant.Cross]:6},selector$3=ee=>({transform:ee.transform,patternId:`pattern-${ee.rfId}`});function BackgroundComponent({id:ee,variant:te=BackgroundVariant.Dots,gap:ne=20,size:xe,lineWidth:rt=1,offset:it=0,color:lt,bgColor:ct,style:ut,className:dt,patternClassName:ht}){const ft=reactExports.useRef(null),{transform:pt,patternId:mt}=useStore(selector$3,shallow$1),xt=xe||defaultSize[te],yt=te===BackgroundVariant.Dots,vt=te===BackgroundVariant.Cross,Et=Array.isArray(ne)?ne:[ne,ne],_t=[Et[0]*pt[2]||1,Et[1]*pt[2]||1],wt=xt*pt[2],St=Array.isArray(it)?it:[it,it],Ct=vt?[wt,wt]:_t,jt=[St[0]*pt[2]||1+Ct[0]/2,St[1]*pt[2]||1+Ct[1]/2],Rt=`${mt}${ee||""}`;return jsxRuntimeExports.jsxs("svg",{className:cc(["react-flow__background",dt]),style:{...ut,...containerStyle,"--xy-background-color-props":ct,"--xy-background-pattern-color-props":lt},ref:ft,"data-testid":"rf__background",children:[jsxRuntimeExports.jsx("pattern",{id:Rt,x:pt[0]%_t[0],y:pt[1]%_t[1],width:_t[0],height:_t[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${jt[0]},-${jt[1]})`,children:yt?jsxRuntimeExports.jsx(DotPattern,{radius:wt/2,className:ht}):jsxRuntimeExports.jsx(LinePattern,{dimensions:Ct,lineWidth:rt,variant:te,className:ht})}),jsxRuntimeExports.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${Rt})`})]})}BackgroundComponent.displayName="Background";const Background=reactExports.memo(BackgroundComponent);function PlusIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:jsxRuntimeExports.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function MinusIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:jsxRuntimeExports.jsx("path",{d:"M0 0h32v4.2H0z"})})}function FitViewIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:jsxRuntimeExports.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function LockIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:jsxRuntimeExports.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function UnlockIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:jsxRuntimeExports.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ControlButton({children:ee,className:te,...ne}){return jsxRuntimeExports.jsx("button",{type:"button",className:cc(["react-flow__controls-button",te]),...ne,children:ee})}const selector$2=ee=>({isInteractive:ee.nodesDraggable||ee.nodesConnectable||ee.elementsSelectable,minZoomReached:ee.transform[2]<=ee.minZoom,maxZoomReached:ee.transform[2]>=ee.maxZoom,ariaLabelConfig:ee.ariaLabelConfig});function ControlsComponent({style:ee,showZoom:te=!0,showFitView:ne=!0,showInteractive:xe=!0,fitViewOptions:rt,onZoomIn:it,onZoomOut:lt,onFitView:ct,onInteractiveChange:ut,className:dt,children:ht,position:ft="bottom-left",orientation:pt="vertical","aria-label":mt}){const xt=useStoreApi(),{isInteractive:yt,minZoomReached:vt,maxZoomReached:Et,ariaLabelConfig:_t}=useStore(selector$2,shallow$1),{zoomIn:wt,zoomOut:St,fitView:Ct}=useReactFlow(),jt=()=>{wt(),it?.()},Rt=()=>{St(),lt?.()},Pt=()=>{Ct(rt),ct?.()},Ot=()=>{xt.setState({nodesDraggable:!yt,nodesConnectable:!yt,elementsSelectable:!yt}),ut?.(!yt)},Ft=pt==="horizontal"?"horizontal":"vertical";return jsxRuntimeExports.jsxs(Panel,{className:cc(["react-flow__controls",Ft,dt]),position:ft,style:ee,"data-testid":"rf__controls","aria-label":mt??_t["controls.ariaLabel"],children:[te&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ControlButton,{onClick:jt,className:"react-flow__controls-zoomin",title:_t["controls.zoomIn.ariaLabel"],"aria-label":_t["controls.zoomIn.ariaLabel"],disabled:Et,children:jsxRuntimeExports.jsx(PlusIcon,{})}),jsxRuntimeExports.jsx(ControlButton,{onClick:Rt,className:"react-flow__controls-zoomout",title:_t["controls.zoomOut.ariaLabel"],"aria-label":_t["controls.zoomOut.ariaLabel"],disabled:vt,children:jsxRuntimeExports.jsx(MinusIcon,{})})]}),ne&&jsxRuntimeExports.jsx(ControlButton,{className:"react-flow__controls-fitview",onClick:Pt,title:_t["controls.fitView.ariaLabel"],"aria-label":_t["controls.fitView.ariaLabel"],children:jsxRuntimeExports.jsx(FitViewIcon,{})}),xe&&jsxRuntimeExports.jsx(ControlButton,{className:"react-flow__controls-interactive",onClick:Ot,title:_t["controls.interactive.ariaLabel"],"aria-label":_t["controls.interactive.ariaLabel"],children:yt?jsxRuntimeExports.jsx(UnlockIcon,{}):jsxRuntimeExports.jsx(LockIcon,{})}),ht]})}ControlsComponent.displayName="Controls";const Controls=reactExports.memo(ControlsComponent);function MiniMapNodeComponent({id:ee,x:te,y:ne,width:xe,height:rt,style:it,color:lt,strokeColor:ct,strokeWidth:ut,className:dt,borderRadius:ht,shapeRendering:ft,selected:pt,onClick:mt}){const{background:xt,backgroundColor:yt}=it||{},vt=lt||xt||yt;return jsxRuntimeExports.jsx("rect",{className:cc(["react-flow__minimap-node",{selected:pt},dt]),x:te,y:ne,rx:ht,ry:ht,width:xe,height:rt,style:{fill:vt,stroke:ct,strokeWidth:ut},shapeRendering:ft,onClick:mt?Et=>mt(Et,ee):void 0})}const MiniMapNode=reactExports.memo(MiniMapNodeComponent),selectorNodeIds=ee=>ee.nodes.map(te=>te.id),getAttrFunction=ee=>ee instanceof Function?ee:()=>ee;function MiniMapNodes({nodeStrokeColor:ee,nodeColor:te,nodeClassName:ne="",nodeBorderRadius:xe=5,nodeStrokeWidth:rt,nodeComponent:it=MiniMapNode,onClick:lt}){const ct=useStore(selectorNodeIds,shallow$1),ut=getAttrFunction(te),dt=getAttrFunction(ee),ht=getAttrFunction(ne),ft=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ct.map(pt=>jsxRuntimeExports.jsx(NodeComponentWrapper,{id:pt,nodeColorFunc:ut,nodeStrokeColorFunc:dt,nodeClassNameFunc:ht,nodeBorderRadius:xe,nodeStrokeWidth:rt,NodeComponent:it,onClick:lt,shapeRendering:ft},pt))})}function NodeComponentWrapperInner({id:ee,nodeColorFunc:te,nodeStrokeColorFunc:ne,nodeClassNameFunc:xe,nodeBorderRadius:rt,nodeStrokeWidth:it,shapeRendering:lt,NodeComponent:ct,onClick:ut}){const{node:dt,x:ht,y:ft,width:pt,height:mt}=useStore(xt=>{const{internals:yt}=xt.nodeLookup.get(ee),vt=yt.userNode,{x:Et,y:_t}=yt.positionAbsolute,{width:wt,height:St}=getNodeDimensions(vt);return{node:vt,x:Et,y:_t,width:wt,height:St}},shallow$1);return!dt||dt.hidden||!nodeHasDimensions(dt)?null:jsxRuntimeExports.jsx(ct,{x:ht,y:ft,width:pt,height:mt,style:dt.style,selected:!!dt.selected,className:xe(dt),color:te(dt),borderRadius:rt,strokeColor:ne(dt),strokeWidth:it,shapeRendering:lt,onClick:ut,id:dt.id})}const NodeComponentWrapper=reactExports.memo(NodeComponentWrapperInner);var MiniMapNodes$1=reactExports.memo(MiniMapNodes);const defaultWidth=200,defaultHeight=150,filterHidden=ee=>!ee.hidden,selector$1=ee=>{const te={x:-ee.transform[0]/ee.transform[2],y:-ee.transform[1]/ee.transform[2],width:ee.width/ee.transform[2],height:ee.height/ee.transform[2]};return{viewBB:te,boundingRect:ee.nodeLookup.size>0?getBoundsOfRects(getInternalNodesBounds(ee.nodeLookup,{filter:filterHidden}),te):te,rfId:ee.rfId,panZoom:ee.panZoom,translateExtent:ee.translateExtent,flowWidth:ee.width,flowHeight:ee.height,ariaLabelConfig:ee.ariaLabelConfig}},ARIA_LABEL_KEY="react-flow__minimap-desc";function MiniMapComponent({style:ee,className:te,nodeStrokeColor:ne,nodeColor:xe,nodeClassName:rt="",nodeBorderRadius:it=5,nodeStrokeWidth:lt,nodeComponent:ct,bgColor:ut,maskColor:dt,maskStrokeColor:ht,maskStrokeWidth:ft,position:pt="bottom-right",onClick:mt,onNodeClick:xt,pannable:yt=!1,zoomable:vt=!1,ariaLabel:Et,inversePan:_t,zoomStep:wt=1,offsetScale:St=5}){const Ct=useStoreApi(),jt=reactExports.useRef(null),{boundingRect:Rt,viewBB:Pt,rfId:Ot,panZoom:Ft,translateExtent:Lt,flowWidth:Bt,flowHeight:Gt,ariaLabelConfig:It}=useStore(selector$1,shallow$1),qt=ee?.width??defaultWidth,Nt=ee?.height??defaultHeight,Dt=Rt.width/qt,Tt=Rt.height/Nt,Mt=Math.max(Dt,Tt),$t=Mt*qt,Ht=Mt*Nt,Wt=St*Mt,Vt=Rt.x-($t-Rt.width)/2-Wt,Yt=Rt.y-(Ht-Rt.height)/2-Wt,Qt=$t+Wt*2,ar=Ht+Wt*2,Xt=`${ARIA_LABEL_KEY}-${Ot}`,tr=reactExports.useRef(0),rr=reactExports.useRef();tr.current=Mt,reactExports.useEffect(()=>{if(jt.current&&Ft)return rr.current=XYMinimap({domNode:jt.current,panZoom:Ft,getTransform:()=>Ct.getState().transform,getViewScale:()=>tr.current}),()=>{rr.current?.destroy()}},[Ft]),reactExports.useEffect(()=>{rr.current?.update({translateExtent:Lt,width:Bt,height:Gt,inversePan:_t,pannable:yt,zoomStep:wt,zoomable:vt})},[yt,vt,_t,wt,Lt,Bt,Gt]);const ur=mt?or=>{const[dr,Ar]=rr.current?.pointer(or)||[0,0];mt(or,{x:dr,y:Ar})}:void 0,Jt=xt?reactExports.useCallback((or,dr)=>{const Ar=Ct.getState().nodeLookup.get(dr).internals.userNode;xt(or,Ar)},[]):void 0,Zt=Et??It["minimap.ariaLabel"];return jsxRuntimeExports.jsx(Panel,{position:pt,style:{...ee,"--xy-minimap-background-color-props":typeof ut=="string"?ut:void 0,"--xy-minimap-mask-background-color-props":typeof dt=="string"?dt:void 0,"--xy-minimap-mask-stroke-color-props":typeof ht=="string"?ht:void 0,"--xy-minimap-mask-stroke-width-props":typeof ft=="number"?ft*Mt:void 0,"--xy-minimap-node-background-color-props":typeof xe=="string"?xe:void 0,"--xy-minimap-node-stroke-color-props":typeof ne=="string"?ne:void 0,"--xy-minimap-node-stroke-width-props":typeof lt=="number"?lt:void 0},className:cc(["react-flow__minimap",te]),"data-testid":"rf__minimap",children:jsxRuntimeExports.jsxs("svg",{width:qt,height:Nt,viewBox:`${Vt} ${Yt} ${Qt} ${ar}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Xt,ref:jt,onClick:ur,children:[Zt&&jsxRuntimeExports.jsx("title",{id:Xt,children:Zt}),jsxRuntimeExports.jsx(MiniMapNodes$1,{onClick:Jt,nodeColor:xe,nodeStrokeColor:ne,nodeBorderRadius:it,nodeClassName:rt,nodeStrokeWidth:lt,nodeComponent:ct}),jsxRuntimeExports.jsx("path",{className:"react-flow__minimap-mask",d:`M${Vt-Wt},${Yt-Wt}h${Qt+Wt*2}v${ar+Wt*2}h${-Qt-Wt*2}z
        M${Pt.x},${Pt.y}h${Pt.width}v${Pt.height}h${-Pt.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}MiniMapComponent.displayName="MiniMap";const MiniMap=reactExports.memo(MiniMapComponent),scaleSelector=ee=>te=>ee?`${Math.max(1/te.transform[2],1)}`:void 0,defaultPositions={[ResizeControlVariant.Line]:"right",[ResizeControlVariant.Handle]:"bottom-right"};function ResizeControl({nodeId:ee,position:te,variant:ne=ResizeControlVariant.Handle,className:xe,style:rt=void 0,children:it,color:lt,minWidth:ct=10,minHeight:ut=10,maxWidth:dt=Number.MAX_VALUE,maxHeight:ht=Number.MAX_VALUE,keepAspectRatio:ft=!1,resizeDirection:pt,autoScale:mt=!0,shouldResize:xt,onResizeStart:yt,onResize:vt,onResizeEnd:Et}){const _t=useNodeId(),wt=typeof ee=="string"?ee:_t,St=useStoreApi(),Ct=reactExports.useRef(null),jt=ne===ResizeControlVariant.Handle,Rt=useStore(reactExports.useCallback(scaleSelector(jt&&mt),[jt,mt]),shallow$1),Pt=reactExports.useRef(null),Ot=te??defaultPositions[ne];reactExports.useEffect(()=>{if(!(!Ct.current||!wt))return Pt.current||(Pt.current=XYResizer({domNode:Ct.current,nodeId:wt,getStoreItems:()=>{const{nodeLookup:Lt,transform:Bt,snapGrid:Gt,snapToGrid:It,nodeOrigin:qt,domNode:Nt}=St.getState();return{nodeLookup:Lt,transform:Bt,snapGrid:Gt,snapToGrid:It,nodeOrigin:qt,paneDomNode:Nt}},onChange:(Lt,Bt)=>{const{triggerNodeChanges:Gt,nodeLookup:It,parentLookup:qt,nodeOrigin:Nt}=St.getState(),Dt=[],Tt={x:Lt.x,y:Lt.y},Mt=It.get(wt);if(Mt&&Mt.expandParent&&Mt.parentId){const $t=Mt.origin??Nt,Ht=Lt.width??Mt.measured.width??0,Wt=Lt.height??Mt.measured.height??0,Vt={id:Mt.id,parentId:Mt.parentId,rect:{width:Ht,height:Wt,...evaluateAbsolutePosition({x:Lt.x??Mt.position.x,y:Lt.y??Mt.position.y},{width:Ht,height:Wt},Mt.parentId,It,$t)}},Yt=handleExpandParent([Vt],It,qt,Nt);Dt.push(...Yt),Tt.x=Lt.x?Math.max($t[0]*Ht,Lt.x):void 0,Tt.y=Lt.y?Math.max($t[1]*Wt,Lt.y):void 0}if(Tt.x!==void 0&&Tt.y!==void 0){const $t={id:wt,type:"position",position:{...Tt}};Dt.push($t)}if(Lt.width!==void 0&&Lt.height!==void 0){const Ht={id:wt,type:"dimensions",resizing:!0,setAttributes:pt?pt==="horizontal"?"width":"height":!0,dimensions:{width:Lt.width,height:Lt.height}};Dt.push(Ht)}for(const $t of Bt){const Ht={...$t,type:"position"};Dt.push(Ht)}Gt(Dt)},onEnd:({width:Lt,height:Bt})=>{const Gt={id:wt,type:"dimensions",resizing:!1,dimensions:{width:Lt,height:Bt}};St.getState().triggerNodeChanges([Gt])}})),Pt.current.update({controlPosition:Ot,boundaries:{minWidth:ct,minHeight:ut,maxWidth:dt,maxHeight:ht},keepAspectRatio:ft,resizeDirection:pt,onResizeStart:yt,onResize:vt,onResizeEnd:Et,shouldResize:xt}),()=>{Pt.current?.destroy()}},[Ot,ct,ut,dt,ht,ft,yt,vt,Et,xt]);const Ft=Ot.split("-");return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__resize-control","nodrag",...Ft,ne,xe]),ref:Ct,style:{...rt,scale:Rt,...lt&&{[jt?"backgroundColor":"borderColor"]:lt}},children:it})}reactExports.memo(ResizeControl);const CustomNode=({data:ee,selected:te})=>{const ne=ee;return jsxRuntimeExports.jsxs("div",{className:`px-4 py-3 shadow-md rounded-lg border-2 transition-all ${ne.isConfusion?"bg-amber-50 border-amber-500":"bg-white border-indigo-500"} ${te?"ring-2 ring-cyan-500 ring-offset-2":""}`,style:{minWidth:"120px"},children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:Position.Top,className:"!bg-indigo-500 !w-3 !h-3 !border-2 !border-white",style:{borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-slate-800 text-center",children:ne.label}),jsxRuntimeExports.jsx(Handle,{type:"source",position:Position.Bottom,className:"!bg-indigo-500 !w-3 !h-3 !border-2 !border-white",style:{borderRadius:"50%"}})]})},nodeTypes={default:CustomNode},ClickCreateMode=({initialData:ee,onChange:te,onNodeCreated:ne,onNodeEdited:xe,onEdgeCreated:rt,onConfusionMarked:it})=>{const[lt,ct]=reactExports.useState(null),[ut,dt]=reactExports.useState(null),[ht,ft]=reactExports.useState(""),[pt,mt]=reactExports.useState(()=>typeof window<"u"?!localStorage.getItem("visualizationEditorGuideShown"):!0),xt=reactExports.useRef(null),yt=reactExports.useRef(!1),vt=reactExports.useRef(""),Et=reactExports.useCallback($t=>!$t.nodes||$t.nodes.length===0?[]:$t.nodes.map((Ht,Wt)=>({id:Ht.id,type:"default",position:Ht.position||{x:300+Wt%3*300,y:200+Math.floor(Wt/3)*200},data:{label:Ht.label,isConfusion:Ht.type==="confusion"}})),[]),_t=reactExports.useCallback($t=>($t?.edges||[]).map(Ht=>({id:Ht.id,source:Ht.source,target:Ht.target,label:Ht.label||"",markerEnd:{type:MarkerType.ArrowClosed,width:20,height:20},style:{strokeWidth:2,stroke:"#6366f1"},labelStyle:{fill:"#64748b",fontWeight:500,fontSize:"12px"}})),[]),wt=Et(ee||{type:"mindmap",nodes:[],edges:[],metadata:{}}),St=_t(ee||{type:"mindmap",nodes:[],edges:[],metadata:{}}),[Ct,jt,Rt]=useNodesState(wt),[Pt,Ot,Ft]=useEdgesState(St),Lt=reactExports.useCallback(($t,Ht)=>{$t.stopPropagation();const Wt=Ht.data;dt(Ht.id),ft(Wt.label)},[]),Bt=reactExports.useCallback(($t,Ht)=>{$t.preventDefault(),ct({nodeId:Ht.id,x:$t.clientX,y:$t.clientY})},[]),Gt=()=>{const{screenToFlowPosition:$t}=useReactFlow(),Ht=reactExports.useCallback(Vt=>{const Yt=$t({x:Vt.clientX,y:Vt.clientY}),Qt={id:`node_${Date.now()}`,type:"default",position:Yt,data:{label:"",isConfusion:!1}},ar=[...Ct,Qt];jt(ar),It(ar,Pt,{newNodeId:Qt.id}),ct(null)},[Ct,Pt,jt,ct,$t,It]),Wt=reactExports.useCallback(Vt=>{if(!Vt.source||!Vt.target)return;const Yt=addEdge(Vt,Pt);Ot(Yt);const Qt=Yt[Yt.length-1];Qt&&It(Ct,Yt,{newEdgeId:Qt.id})},[Ct,Pt,Ot,It]);return jsxRuntimeExports.jsxs(index,{nodes:Ct,edges:Pt,nodeTypes,onNodesChange:Rt,onEdgesChange:Ft,onConnect:Wt,onPaneClick:Ht,onNodeDoubleClick:Lt,onNodeContextMenu:Bt,fitView:!0,className:"bg-slate-50",connectionLineStyle:{stroke:"#6366f1",strokeWidth:2},defaultEdgeOptions:{type:"smoothstep",animated:!1,style:{strokeWidth:2,stroke:"#6366f1"},markerEnd:{type:MarkerType.ArrowClosed,width:20,height:20}},children:[jsxRuntimeExports.jsx(Background,{color:"#e5e7eb",gap:16}),jsxRuntimeExports.jsx(Controls,{className:"bg-white border border-slate-200 rounded-lg shadow-sm"}),jsxRuntimeExports.jsx(MiniMap,{className:"bg-white border border-slate-200 rounded-lg shadow-sm",nodeColor:Vt=>Vt.data.isConfusion?"#f59e0b":"#6366f1"})]})},It=reactExports.useCallback(($t,Ht,Wt={})=>{const Vt=$t.map(Xt=>({id:Xt.id,label:String(Xt.data.label||""),type:Xt.data.isConfusion?"confusion":"concept",position:Xt.position})),Yt=Ht.map(Xt=>({id:Xt.id,source:Xt.source,target:Xt.target,label:typeof Xt.label=="string"?Xt.label:Xt.label?String(Xt.label):void 0,type:"hierarchical"})),Qt={type:"mindmap",nodes:Vt,edges:Yt,metadata:{centralConcept:String($t[0]?.data.label||"Root"),confusionPoints:$t.filter(Xt=>Xt.data.isConfusion).map(Xt=>String(Xt.data.label||""))}},ar=JSON.stringify({nodes:Vt.map(Xt=>({id:Xt.id,label:Xt.label,type:Xt.type})),edges:Yt.map(Xt=>({id:Xt.id,source:Xt.source,target:Xt.target}))});if(vt.current!==ar&&(vt.current=ar,te(Qt)),Wt.newNodeId){const Xt=Vt.find(tr=>tr.id===Wt.newNodeId);Xt&&ne?.(Xt)}if(Wt.editedNodeId){const Xt=Vt.find(tr=>tr.id===Wt.editedNodeId);Xt&&xe?.(Xt)}if(Wt.newEdgeId){const Xt=Yt.find(tr=>tr.id===Wt.newEdgeId);Xt&&rt?.(Xt)}if(Wt.confusionNodeId){const Xt=Vt.find(tr=>tr.id===Wt.confusionNodeId);Xt&&it?.(Xt.id,Xt.label)}},[te,ne,xe,rt,it]);reactExports.useEffect(()=>{if(ee){const $t=JSON.stringify({nodes:ee.nodes.map(Vt=>({id:Vt.id,label:Vt.label,type:Vt.type})),edges:ee.edges.map(Vt=>({id:Vt.id,source:Vt.source,target:Vt.target}))});if(vt.current===$t&&yt.current)return;const Ht=Et(ee),Wt=_t(ee);jt(Ht),Ot(Wt),vt.current=$t,yt.current=!0}else yt.current||(jt([]),Ot([]),yt.current=!0)},[ee,Et,_t,jt,Ot]);const qt=reactExports.useCallback(()=>{if(ut&&ht.trim()){const $t=Ct.map(Ht=>Ht.id===ut?{...Ht,data:{...Ht.data,label:ht.trim()}}:Ht);jt($t),It($t,Pt,{editedNodeId:ut}),dt(null),ft("")}},[ut,ht,Ct,Pt,jt,It]),Nt=reactExports.useCallback(()=>{dt(null),ft("")},[]),Dt=reactExports.useCallback($t=>{const Ht=Ct.map(Yt=>{if(Yt.id===$t){const Qt=Yt.data,ar=!Qt.isConfusion;return{...Yt,data:{...Qt,isConfusion:ar},style:{...Yt.style,background:ar?"#fef3c7":"#fff",border:ar?"2px solid #f59e0b":"2px solid #6366f1"}}}return Yt});jt(Ht);const Vt=!Ct.find(Yt=>Yt.id===$t)?.data?.isConfusion;It(Ht,Pt,Vt?{confusionNodeId:$t}:{}),ct(null)},[Ct,Pt,jt,It]),Tt=reactExports.useCallback($t=>{const Ht=Ct.filter(Vt=>Vt.id!==$t),Wt=Pt.filter(Vt=>Vt.source!==$t&&Vt.target!==$t);jt(Ht),Ot(Wt),It(Ht,Wt),ct(null)},[Ct,Pt,jt,Ot,It]);reactExports.useEffect(()=>{const $t=()=>ct(null);if(lt)return document.addEventListener("click",$t),()=>document.removeEventListener("click",$t)},[lt]);const Mt=()=>{mt(!1),typeof window<"u"&&localStorage.setItem("visualizationEditorGuideShown","true")};return jsxRuntimeExports.jsx(ReactFlowProvider,{children:jsxRuntimeExports.jsxs("div",{ref:xt,className:"w-full h-full relative",children:[pt&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl animate-fade-in-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-900",children:""}),jsxRuntimeExports.jsx("button",{onClick:Mt,className:"p-1 rounded-lg hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors",children:jsxRuntimeExports.jsx(X$2,{size:18})})]}),jsxRuntimeExports.jsxs("ol",{className:"space-y-3 text-sm text-slate-700 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-cyan-100 text-cyan-700 flex items-center justify-center text-xs font-bold",children:"1"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-purple-100 text-purple-700 flex items-center justify-center text-xs font-bold",children:"2"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center text-xs font-bold",children:"3"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center text-xs font-bold",children:"4"}),jsxRuntimeExports.jsx("span",{children:""})]})]}),jsxRuntimeExports.jsx("button",{onClick:Mt,className:"w-full bg-gradient-to-r from-cyan-600 to-purple-600 text-white py-3 rounded-lg font-bold hover:from-cyan-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl",children:""})]})}),jsxRuntimeExports.jsx(Gt,{}),ut&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 min-w-[300px] border border-slate-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-slate-800 mb-4",children:""}),jsxRuntimeExports.jsx("input",{type:"text",value:ht,onChange:$t=>ft($t.target.value),onKeyDown:$t=>{$t.key==="Enter"&&qt(),$t.key==="Escape"&&Nt()},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 mb-4",autoFocus:!0}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:Nt,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:""}),jsxRuntimeExports.jsx("button",{onClick:qt,disabled:!ht.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium",children:""})]})]})}),lt&&jsxRuntimeExports.jsxs("div",{className:"absolute bg-white border border-slate-200 rounded-lg shadow-lg p-1 z-50 min-w-[180px]",style:{left:lt.x,top:lt.y},onClick:$t=>$t.stopPropagation(),children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{const $t=Ct.find(Ht=>Ht.id===lt.nodeId);if($t){const Ht=$t.data;dt($t.id),ft(Ht.label)}ct(null)},className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(Pen,{size:14,className:"text-slate-600"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Dt(lt.nodeId),className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleHelp,{size:14,className:"text-amber-600"}),jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-slate-200 my-1"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Tt(lt.nodeId),className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 text-red-600 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trash2,{size:14}),jsxRuntimeExports.jsx("span",{children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm border border-slate-200 rounded-lg p-3 text-xs text-slate-600 shadow-lg max-w-[280px]",children:[jsxRuntimeExports.jsx("p",{className:"font-bold mb-2 text-slate-800",children:" "}),jsxRuntimeExports.jsxs("ul",{className:"space-y-1 text-slate-600",children:[jsxRuntimeExports.jsx("li",{children:" "}),jsxRuntimeExports.jsx("li",{children:" "}),jsxRuntimeExports.jsx("li",{children:" "}),jsxRuntimeExports.jsx("li",{children:" "}),jsxRuntimeExports.jsx("li",{children:" "})]})]})]})})},MindMapRenderer=reactExports.lazy(()=>__vitePreload(()=>import("./MindMapRenderer-BZUkAkXp.js"),[]).then(ee=>({default:ee.MindMapRenderer}))),VisualizationEditor=({initialData:ee,onChange:te,onClose:ne,editable:xe=!0,courseTopic:rt,onGenerateFramework:it,onNodeCreated:lt,onNodeEdited:ct,onEdgeCreated:ut,onConfusionMarked:dt,onProgressUpdate:ht})=>{const[ft,pt]=reactExports.useState(()=>ee||{type:"mindmap",mode:"simple-input",nodes:[],edges:[],metadata:{}}),[mt,xt]=reactExports.useState(ee?.mode||"click-create"),[yt,vt]=reactExports.useState(!1);reactExports.useEffect(()=>{ee&&(pt(ee),ee.mode&&xt(ee.mode))},[ee]);const Et=jt=>{const Rt={...jt,mode:mt};pt(Rt),te?.(Rt);const Pt={totalNodes:Rt.nodes.length,totalEdges:Rt.edges.length,confusionPoints:Rt.metadata?.confusionPoints?.length||0,completionRate:_t(Rt)};ht?.(Pt)},_t=jt=>{const Ot=Math.min(jt.nodes.length/3,1)*50,Ft=Math.min(jt.edges.length/2,1)*50;return Math.round(Ot+Ft)},wt=jt=>{const Rt={...ft,type:jt,nodes:ft.nodes,edges:ft.edges};Et(Rt)},St=jt=>{xt(jt);const Rt={...ft,mode:jt};Et(Rt)},Ct=async()=>{if(!(!it||!rt)){vt(!0);try{const jt=await it(rt);pt(jt),Et(jt)}catch(jt){console.error("Failed to generate framework:",jt)}finally{vt(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col bg-white rounded-lg border border-slate-200 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-slate-200 bg-gradient-to-r from-purple-50 to-cyan-50 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-slate-800",children:""}),xe&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VisualizationTypeSelector,{selectedType:ft.type,onSelect:wt}),jsxRuntimeExports.jsx(CreationModeSelector,{selectedMode:mt,onSelect:St}),it&&rt&&jsxRuntimeExports.jsx("button",{onClick:Ct,disabled:yt,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-500 to-cyan-500 text-white text-xs font-bold rounded-lg hover:from-purple-600 hover:to-cyan-600 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",title:"AI",children:yt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{size:14,className:"animate-spin"}),jsxRuntimeExports.jsx("span",{children:"..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{size:14}),jsxRuntimeExports.jsx("span",{children:"AI"})]})})]})]}),ne&&jsxRuntimeExports.jsx("button",{onClick:ne,className:"p-1.5 rounded-lg hover:bg-white/50 transition-colors text-slate-600 hover:text-slate-800",title:"",children:jsxRuntimeExports.jsx(X$2,{size:18})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden relative",children:mt==="simple-input"&&xe?jsxRuntimeExports.jsx(SimpleInputMode,{type:ft.type,initialData:ft,onChange:Et}):mt==="click-create"&&xe?jsxRuntimeExports.jsx(ClickCreateMode,{initialData:ft,onChange:Et,onNodeCreated:lt,onNodeEdited:ct,onEdgeCreated:ut,onConfusionMarked:dt}):mt==="drag-drop"&&xe?jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:""}):jsxRuntimeExports.jsxs("div",{className:"w-full h-full",children:[ft.type==="mindmap"&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-50",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-400",children:"..."})}),children:jsxRuntimeExports.jsx(MindMapRenderer,{data:ft,onChange:xe?Et:void 0,editable:xe})}),ft.type==="conceptmap"&&jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:""}),ft.type==="knowledgegraph"&&jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:""})]})})]})};var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&(function(ee,te){module.exports=te()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(te){_useWebWorker=!!te},getWebWorker=function(){return _useWebWorker},setLocationHref=function(te){locationHref=te},getLocationHref=function(){return locationHref};function createTag(ee){return document.createElement(ee)}function extendPrototype(ee,te){var ne,xe=ee.length,rt;for(ne=0;ne<xe;ne+=1){rt=ee[ne].prototype;for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(te.prototype[it]=rt[it])}}function getDescriptor(ee,te){return Object.getOwnPropertyDescriptor(ee,te)}function createProxyFunction(ee){function te(){}return te.prototype=ee,te}var audioControllerFactory=(function(){function ee(te){this.audios=[],this.audioFactory=te,this._volume=1,this._isMuted=!1}return ee.prototype={addAudio:function(ne){this.audios.push(ne)},pause:function(){var ne,xe=this.audios.length;for(ne=0;ne<xe;ne+=1)this.audios[ne].pause()},resume:function(){var ne,xe=this.audios.length;for(ne=0;ne<xe;ne+=1)this.audios[ne].resume()},setRate:function(ne){var xe,rt=this.audios.length;for(xe=0;xe<rt;xe+=1)this.audios[xe].setRate(ne)},createAudio:function(ne){return this.audioFactory?this.audioFactory(ne):window.Howl?new window.Howl({src:[ne]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(ne){this.audioFactory=ne},setVolume:function(ne){this._volume=ne,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var ne,xe=this.audios.length;for(ne=0;ne<xe;ne+=1)this.audios[ne].volume(this._volume*(this._isMuted?0:1))}},function(){return new ee}})(),createTypedArray=(function(){function ee(ne,xe){var rt=0,it=[],lt;switch(ne){case"int16":case"uint8c":lt=1;break;default:lt=1.1;break}for(rt=0;rt<xe;rt+=1)it.push(lt);return it}function te(ne,xe){return ne==="float32"?new Float32Array(xe):ne==="int16"?new Int16Array(xe):ne==="uint8c"?new Uint8ClampedArray(xe):ee(ne,xe)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?te:ee})();function createSizedArray(ee){return Array.apply(null,{length:ee})}function _typeof$6(ee){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$6(ee)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var ee=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],te,ne=ee.length;for(te=0;te<ne;te+=1)BMMath[ee[te]]=Math[ee[te]]})(),BMMath.random=Math.random,BMMath.abs=function(ee){var te=_typeof$6(ee);if(te==="object"&&ee.length){var ne=createSizedArray(ee.length),xe,rt=ee.length;for(xe=0;xe<rt;xe+=1)ne[xe]=Math.abs(ee[xe]);return ne}return Math.abs(ee)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(ee){ee.style.position="absolute",ee.style.top=0,ee.style.left=0,ee.style.display="block",ee.style.transformOrigin="0 0",ee.style.webkitTransformOrigin="0 0",ee.style.backfaceVisibility="visible",ee.style.webkitBackfaceVisibility="visible",ee.style.transformStyle="preserve-3d",ee.style.webkitTransformStyle="preserve-3d",ee.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(ee,te,ne,xe){this.type=ee,this.currentTime=te,this.totalTime=ne,this.direction=xe<0?-1:1}function BMCompleteEvent(ee,te){this.type=ee,this.direction=te<0?-1:1}function BMCompleteLoopEvent(ee,te,ne,xe){this.type=ee,this.currentLoop=ne,this.totalLoops=te,this.direction=xe<0?-1:1}function BMSegmentStartEvent(ee,te,ne){this.type=ee,this.firstFrame=te,this.totalFrames=ne}function BMDestroyEvent(ee,te){this.type=ee,this.target=te}function BMRenderFrameErrorEvent(ee,te){this.type="renderFrameError",this.nativeError=ee,this.currentTime=te}function BMConfigErrorEvent(ee){this.type="configError",this.nativeError=ee}var createElementID=(function(){var ee=0;return function(){return ee+=1,idPrefix$1+"__lottie_element_"+ee}})();function HSVtoRGB(ee,te,ne){var xe,rt,it,lt,ct,ut,dt,ht;switch(lt=Math.floor(ee*6),ct=ee*6-lt,ut=ne*(1-te),dt=ne*(1-ct*te),ht=ne*(1-(1-ct)*te),lt%6){case 0:xe=ne,rt=ht,it=ut;break;case 1:xe=dt,rt=ne,it=ut;break;case 2:xe=ut,rt=ne,it=ht;break;case 3:xe=ut,rt=dt,it=ne;break;case 4:xe=ht,rt=ut,it=ne;break;case 5:xe=ne,rt=ut,it=dt;break}return[xe,rt,it]}function RGBtoHSV(ee,te,ne){var xe=Math.max(ee,te,ne),rt=Math.min(ee,te,ne),it=xe-rt,lt,ct=xe===0?0:it/xe,ut=xe/255;switch(xe){case rt:lt=0;break;case ee:lt=te-ne+it*(te<ne?6:0),lt/=6*it;break;case te:lt=ne-ee+it*2,lt/=6*it;break;case ne:lt=ee-te+it*4,lt/=6*it;break}return[lt,ct,ut]}function addSaturationToRGB(ee,te){var ne=RGBtoHSV(ee[0]*255,ee[1]*255,ee[2]*255);return ne[1]+=te,ne[1]>1?ne[1]=1:ne[1]<=0&&(ne[1]=0),HSVtoRGB(ne[0],ne[1],ne[2])}function addBrightnessToRGB(ee,te){var ne=RGBtoHSV(ee[0]*255,ee[1]*255,ee[2]*255);return ne[2]+=te,ne[2]>1?ne[2]=1:ne[2]<0&&(ne[2]=0),HSVtoRGB(ne[0],ne[1],ne[2])}function addHueToRGB(ee,te){var ne=RGBtoHSV(ee[0]*255,ee[1]*255,ee[2]*255);return ne[0]+=te/360,ne[0]>1?ne[0]-=1:ne[0]<0&&(ne[0]+=1),HSVtoRGB(ne[0],ne[1],ne[2])}var rgbToHex=(function(){var ee=[],te,ne;for(te=0;te<256;te+=1)ne=te.toString(16),ee[te]=ne.length===1?"0"+ne:ne;return function(xe,rt,it){return xe<0&&(xe=0),rt<0&&(rt=0),it<0&&(it=0),"#"+ee[xe]+ee[rt]+ee[it]}})(),setSubframeEnabled=function(te){subframeEnabled=!!te},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(te){expressionsPlugin=te},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(te){expressionsInterfaces=te},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(te){defaultCurveSegments=te},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(te){idPrefix$1=te};function createNS(ee){return document.createElementNS(svgNS,ee)}function _typeof$5(ee){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$5(ee)}var dataManager=(function(){var ee=1,te=[],ne,xe,rt={onmessage:function(){},postMessage:function(mt){ne({data:mt})}},it={postMessage:function(mt){rt.onmessage({data:mt})}};function lt(pt){if(window.Worker&&window.Blob&&getWebWorker()){var mt=new Blob(["var _workerSelf = self; self.onmessage = ",pt.toString()],{type:"text/javascript"}),xt=URL.createObjectURL(mt);return new Worker(xt)}return ne=pt,rt}function ct(){xe||(xe=lt(function(mt){function xt(){function vt(qt,Nt){var Dt,Tt,Mt=qt.length,$t,Ht,Wt,Vt;for(Tt=0;Tt<Mt;Tt+=1)if(Dt=qt[Tt],"ks"in Dt&&!Dt.completed){if(Dt.completed=!0,Dt.hasMask){var Yt=Dt.masksProperties;for(Ht=Yt.length,$t=0;$t<Ht;$t+=1)if(Yt[$t].pt.k.i)Ct(Yt[$t].pt.k);else for(Vt=Yt[$t].pt.k.length,Wt=0;Wt<Vt;Wt+=1)Yt[$t].pt.k[Wt].s&&Ct(Yt[$t].pt.k[Wt].s[0]),Yt[$t].pt.k[Wt].e&&Ct(Yt[$t].pt.k[Wt].e[0])}Dt.ty===0?(Dt.layers=wt(Dt.refId,Nt),vt(Dt.layers,Nt)):Dt.ty===4?St(Dt.shapes):Dt.ty===5&&Gt(Dt)}}function Et(qt,Nt){if(qt){var Dt=0,Tt=qt.length;for(Dt=0;Dt<Tt;Dt+=1)qt[Dt].t===1&&(qt[Dt].data.layers=wt(qt[Dt].data.refId,Nt),vt(qt[Dt].data.layers,Nt))}}function _t(qt,Nt){for(var Dt=0,Tt=Nt.length;Dt<Tt;){if(Nt[Dt].id===qt)return Nt[Dt];Dt+=1}return null}function wt(qt,Nt){var Dt=_t(qt,Nt);return Dt?Dt.layers.__used?JSON.parse(JSON.stringify(Dt.layers)):(Dt.layers.__used=!0,Dt.layers):null}function St(qt){var Nt,Dt=qt.length,Tt,Mt;for(Nt=Dt-1;Nt>=0;Nt-=1)if(qt[Nt].ty==="sh")if(qt[Nt].ks.k.i)Ct(qt[Nt].ks.k);else for(Mt=qt[Nt].ks.k.length,Tt=0;Tt<Mt;Tt+=1)qt[Nt].ks.k[Tt].s&&Ct(qt[Nt].ks.k[Tt].s[0]),qt[Nt].ks.k[Tt].e&&Ct(qt[Nt].ks.k[Tt].e[0]);else qt[Nt].ty==="gr"&&St(qt[Nt].it)}function Ct(qt){var Nt,Dt=qt.i.length;for(Nt=0;Nt<Dt;Nt+=1)qt.i[Nt][0]+=qt.v[Nt][0],qt.i[Nt][1]+=qt.v[Nt][1],qt.o[Nt][0]+=qt.v[Nt][0],qt.o[Nt][1]+=qt.v[Nt][1]}function jt(qt,Nt){var Dt=Nt?Nt.split("."):[100,100,100];return qt[0]>Dt[0]?!0:Dt[0]>qt[0]?!1:qt[1]>Dt[1]?!0:Dt[1]>qt[1]?!1:qt[2]>Dt[2]?!0:Dt[2]>qt[2]?!1:null}var Rt=(function(){var qt=[4,4,14];function Nt(Tt){var Mt=Tt.t.d;Tt.t.d={k:[{s:Mt,t:0}]}}function Dt(Tt){var Mt,$t=Tt.length;for(Mt=0;Mt<$t;Mt+=1)Tt[Mt].ty===5&&Nt(Tt[Mt])}return function(Tt){if(jt(qt,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Mt,$t=Tt.assets.length;for(Mt=0;Mt<$t;Mt+=1)Tt.assets[Mt].layers&&Dt(Tt.assets[Mt].layers)}}})(),Pt=(function(){var qt=[4,7,99];return function(Nt){if(Nt.chars&&!jt(qt,Nt.v)){var Dt,Tt=Nt.chars.length;for(Dt=0;Dt<Tt;Dt+=1){var Mt=Nt.chars[Dt];Mt.data&&Mt.data.shapes&&(St(Mt.data.shapes),Mt.data.ip=0,Mt.data.op=99999,Mt.data.st=0,Mt.data.sr=1,Mt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Nt.chars[Dt].t||(Mt.data.shapes.push({ty:"no"}),Mt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),Ot=(function(){var qt=[5,7,15];function Nt(Tt){var Mt=Tt.t.p;typeof Mt.a=="number"&&(Mt.a={a:0,k:Mt.a}),typeof Mt.p=="number"&&(Mt.p={a:0,k:Mt.p}),typeof Mt.r=="number"&&(Mt.r={a:0,k:Mt.r})}function Dt(Tt){var Mt,$t=Tt.length;for(Mt=0;Mt<$t;Mt+=1)Tt[Mt].ty===5&&Nt(Tt[Mt])}return function(Tt){if(jt(qt,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Mt,$t=Tt.assets.length;for(Mt=0;Mt<$t;Mt+=1)Tt.assets[Mt].layers&&Dt(Tt.assets[Mt].layers)}}})(),Ft=(function(){var qt=[4,1,9];function Nt(Tt){var Mt,$t=Tt.length,Ht,Wt;for(Mt=0;Mt<$t;Mt+=1)if(Tt[Mt].ty==="gr")Nt(Tt[Mt].it);else if(Tt[Mt].ty==="fl"||Tt[Mt].ty==="st")if(Tt[Mt].c.k&&Tt[Mt].c.k[0].i)for(Wt=Tt[Mt].c.k.length,Ht=0;Ht<Wt;Ht+=1)Tt[Mt].c.k[Ht].s&&(Tt[Mt].c.k[Ht].s[0]/=255,Tt[Mt].c.k[Ht].s[1]/=255,Tt[Mt].c.k[Ht].s[2]/=255,Tt[Mt].c.k[Ht].s[3]/=255),Tt[Mt].c.k[Ht].e&&(Tt[Mt].c.k[Ht].e[0]/=255,Tt[Mt].c.k[Ht].e[1]/=255,Tt[Mt].c.k[Ht].e[2]/=255,Tt[Mt].c.k[Ht].e[3]/=255);else Tt[Mt].c.k[0]/=255,Tt[Mt].c.k[1]/=255,Tt[Mt].c.k[2]/=255,Tt[Mt].c.k[3]/=255}function Dt(Tt){var Mt,$t=Tt.length;for(Mt=0;Mt<$t;Mt+=1)Tt[Mt].ty===4&&Nt(Tt[Mt].shapes)}return function(Tt){if(jt(qt,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Mt,$t=Tt.assets.length;for(Mt=0;Mt<$t;Mt+=1)Tt.assets[Mt].layers&&Dt(Tt.assets[Mt].layers)}}})(),Lt=(function(){var qt=[4,4,18];function Nt(Tt){var Mt,$t=Tt.length,Ht,Wt;for(Mt=$t-1;Mt>=0;Mt-=1)if(Tt[Mt].ty==="sh")if(Tt[Mt].ks.k.i)Tt[Mt].ks.k.c=Tt[Mt].closed;else for(Wt=Tt[Mt].ks.k.length,Ht=0;Ht<Wt;Ht+=1)Tt[Mt].ks.k[Ht].s&&(Tt[Mt].ks.k[Ht].s[0].c=Tt[Mt].closed),Tt[Mt].ks.k[Ht].e&&(Tt[Mt].ks.k[Ht].e[0].c=Tt[Mt].closed);else Tt[Mt].ty==="gr"&&Nt(Tt[Mt].it)}function Dt(Tt){var Mt,$t,Ht=Tt.length,Wt,Vt,Yt,Qt;for($t=0;$t<Ht;$t+=1){if(Mt=Tt[$t],Mt.hasMask){var ar=Mt.masksProperties;for(Vt=ar.length,Wt=0;Wt<Vt;Wt+=1)if(ar[Wt].pt.k.i)ar[Wt].pt.k.c=ar[Wt].cl;else for(Qt=ar[Wt].pt.k.length,Yt=0;Yt<Qt;Yt+=1)ar[Wt].pt.k[Yt].s&&(ar[Wt].pt.k[Yt].s[0].c=ar[Wt].cl),ar[Wt].pt.k[Yt].e&&(ar[Wt].pt.k[Yt].e[0].c=ar[Wt].cl)}Mt.ty===4&&Nt(Mt.shapes)}}return function(Tt){if(jt(qt,Tt.v)&&(Dt(Tt.layers),Tt.assets)){var Mt,$t=Tt.assets.length;for(Mt=0;Mt<$t;Mt+=1)Tt.assets[Mt].layers&&Dt(Tt.assets[Mt].layers)}}})();function Bt(qt){qt.__complete||(Ft(qt),Rt(qt),Pt(qt),Ot(qt),Lt(qt),vt(qt.layers,qt.assets),Et(qt.chars,qt.assets),qt.__complete=!0)}function Gt(qt){qt.t.a.length===0&&"m"in qt.t.p}var It={};return It.completeData=Bt,It.checkColors=Ft,It.checkChars=Pt,It.checkPathProperties=Ot,It.checkShapes=Lt,It.completeLayers=vt,It}if(it.dataManager||(it.dataManager=xt()),it.assetLoader||(it.assetLoader=(function(){function vt(_t){var wt=_t.getResponseHeader("content-type");return wt&&_t.responseType==="json"&&wt.indexOf("json")!==-1||_t.response&&_typeof$5(_t.response)==="object"?_t.response:_t.response&&typeof _t.response=="string"?JSON.parse(_t.response):_t.responseText?JSON.parse(_t.responseText):null}function Et(_t,wt,St,Ct){var jt,Rt=new XMLHttpRequest;try{Rt.responseType="json"}catch{}Rt.onreadystatechange=function(){if(Rt.readyState===4)if(Rt.status===200)jt=vt(Rt),St(jt);else try{jt=vt(Rt),St(jt)}catch(Pt){Ct&&Ct(Pt)}};try{Rt.open(["G","E","T"].join(""),_t,!0)}catch{Rt.open(["G","E","T"].join(""),wt+"/"+_t,!0)}Rt.send()}return{load:Et}})()),mt.data.type==="loadAnimation")it.assetLoader.load(mt.data.path,mt.data.fullPath,function(vt){it.dataManager.completeData(vt),it.postMessage({id:mt.data.id,payload:vt,status:"success"})},function(){it.postMessage({id:mt.data.id,status:"error"})});else if(mt.data.type==="complete"){var yt=mt.data.animation;it.dataManager.completeData(yt),it.postMessage({id:mt.data.id,payload:yt,status:"success"})}else mt.data.type==="loadData"&&it.assetLoader.load(mt.data.path,mt.data.fullPath,function(vt){it.postMessage({id:mt.data.id,payload:vt,status:"success"})},function(){it.postMessage({id:mt.data.id,status:"error"})})}),xe.onmessage=function(pt){var mt=pt.data,xt=mt.id,yt=te[xt];te[xt]=null,mt.status==="success"?yt.onComplete(mt.payload):yt.onError&&yt.onError()})}function ut(pt,mt){ee+=1;var xt="processId_"+ee;return te[xt]={onComplete:pt,onError:mt},xt}function dt(pt,mt,xt){ct();var yt=ut(mt,xt);xe.postMessage({type:"loadAnimation",path:pt,fullPath:window.location.origin+window.location.pathname,id:yt})}function ht(pt,mt,xt){ct();var yt=ut(mt,xt);xe.postMessage({type:"loadData",path:pt,fullPath:window.location.origin+window.location.pathname,id:yt})}function ft(pt,mt,xt){ct();var yt=ut(mt,xt);xe.postMessage({type:"complete",animation:pt,id:yt})}return{loadAnimation:dt,loadData:ht,completeAnimation:ft}})(),ImagePreloader=(function(){var ee=(function(){var Et=createTag("canvas");Et.width=1,Et.height=1;var _t=Et.getContext("2d");return _t.fillStyle="rgba(0,0,0,0)",_t.fillRect(0,0,1,1),Et})();function te(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ne(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function xe(Et,_t,wt){var St="";if(Et.e)St=Et.p;else if(_t){var Ct=Et.p;Ct.indexOf("images/")!==-1&&(Ct=Ct.split("/")[1]),St=_t+Ct}else St=wt,St+=Et.u?Et.u:"",St+=Et.p;return St}function rt(Et){var _t=0,wt=setInterval(function(){var St=Et.getBBox();(St.width||_t>500)&&(this._imageLoaded(),clearInterval(wt)),_t+=1}.bind(this),50)}function it(Et){var _t=xe(Et,this.assetsPath,this.path),wt=createNS("image");isSafari?this.testImageLoaded(wt):wt.addEventListener("load",this._imageLoaded,!1),wt.addEventListener("error",function(){St.img=ee,this._imageLoaded()}.bind(this),!1),wt.setAttributeNS("http://www.w3.org/1999/xlink","href",_t),this._elementHelper.append?this._elementHelper.append(wt):this._elementHelper.appendChild(wt);var St={img:wt,assetData:Et};return St}function lt(Et){var _t=xe(Et,this.assetsPath,this.path),wt=createTag("img");wt.crossOrigin="anonymous",wt.addEventListener("load",this._imageLoaded,!1),wt.addEventListener("error",function(){St.img=ee,this._imageLoaded()}.bind(this),!1),wt.src=_t;var St={img:wt,assetData:Et};return St}function ct(Et){var _t={assetData:Et},wt=xe(Et,this.assetsPath,this.path);return dataManager.loadData(wt,function(St){_t.img=St,this._footageLoaded()}.bind(this),function(){_t.img={},this._footageLoaded()}.bind(this)),_t}function ut(Et,_t){this.imagesLoadedCb=_t;var wt,St=Et.length;for(wt=0;wt<St;wt+=1)Et[wt].layers||(!Et[wt].t||Et[wt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Et[wt]))):Et[wt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Et[wt]))))}function dt(Et){this.path=Et||""}function ht(Et){this.assetsPath=Et||""}function ft(Et){for(var _t=0,wt=this.images.length;_t<wt;){if(this.images[_t].assetData===Et)return this.images[_t].img;_t+=1}return null}function pt(){this.imagesLoadedCb=null,this.images.length=0}function mt(){return this.totalImages===this.loadedAssets}function xt(){return this.totalFootages===this.loadedFootagesCount}function yt(Et,_t){Et==="svg"?(this._elementHelper=_t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function vt(){this._imageLoaded=te.bind(this),this._footageLoaded=ne.bind(this),this.testImageLoaded=rt.bind(this),this.createFootageData=ct.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return vt.prototype={loadAssets:ut,setAssetsPath:ht,setPath:dt,loadedImages:mt,loadedFootages:xt,destroy:pt,getAsset:ft,createImgData:lt,createImageData:it,imageLoaded:te,footageLoaded:ne,setCacheType:yt},vt})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(te,ne){if(this._cbs[te])for(var xe=this._cbs[te],rt=0;rt<xe.length;rt+=1)xe[rt](ne)},addEventListener:function(te,ne){return this._cbs[te]||(this._cbs[te]=[]),this._cbs[te].push(ne),function(){this.removeEventListener(te,ne)}.bind(this)},removeEventListener:function(te,ne){if(!ne)this._cbs[te]=null;else if(this._cbs[te]){for(var xe=0,rt=this._cbs[te].length;xe<rt;)this._cbs[te][xe]===ne&&(this._cbs[te].splice(xe,1),xe-=1,rt-=1),xe+=1;this._cbs[te].length||(this._cbs[te]=null)}}};var markerParser=(function(){function ee(te){for(var ne=te.split(`\r
`),xe={},rt,it=0,lt=0;lt<ne.length;lt+=1)rt=ne[lt].split(":"),rt.length===2&&(xe[rt[0]]=rt[1].trim(),it+=1);if(it===0)throw new Error;return xe}return function(te){for(var ne=[],xe=0;xe<te.length;xe+=1){var rt=te[xe],it={time:rt.tm,duration:rt.dr};try{it.payload=JSON.parse(te[xe].cm)}catch{try{it.payload=ee(te[xe].cm)}catch{it.payload={name:te[xe].cm}}}ne.push(it)}return ne}})(),ProjectInterface=(function(){function ee(te){this.compositions.push(te)}return function(){function te(ne){for(var xe=0,rt=this.compositions.length;xe<rt;){if(this.compositions[xe].data&&this.compositions[xe].data.nm===ne)return this.compositions[xe].prepareFrame&&this.compositions[xe].data.xt&&this.compositions[xe].prepareFrame(this.currentFrame),this.compositions[xe].compInterface;xe+=1}return null}return te.compositions=[],te.currentFrame=0,te.registerComposition=ee,te}})(),renderers={},registerRenderer=function(te,ne){renderers[te]=ne};function getRenderer(ee){return renderers[ee]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var ee in renderers)if(renderers[ee])return ee;return""}function _typeof$4(ee){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$4(ee)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(ee){(ee.wrapper||ee.container)&&(this.wrapper=ee.wrapper||ee.container);var te="svg";ee.animType?te=ee.animType:ee.renderer&&(te=ee.renderer);var ne=getRenderer(te);this.renderer=new ne(this,ee.rendererSettings),this.imagePreloader.setCacheType(te,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=te,ee.loop===""||ee.loop===null||ee.loop===void 0||ee.loop===!0?this.loop=!0:ee.loop===!1?this.loop=!1:this.loop=parseInt(ee.loop,10),this.autoplay="autoplay"in ee?ee.autoplay:!0,this.name=ee.name?ee.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(ee,"autoloadSegments")?ee.autoloadSegments:!0,this.assetsPath=ee.assetsPath,this.initialSegment=ee.initialSegment,ee.audioFactory&&this.audioController.setAudioFactory(ee.audioFactory),ee.animationData?this.setupAnimation(ee.animationData):ee.path&&(ee.path.lastIndexOf("\\")!==-1?this.path=ee.path.substr(0,ee.path.lastIndexOf("\\")+1):this.path=ee.path.substr(0,ee.path.lastIndexOf("/")+1),this.fileName=ee.path.substr(ee.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(ee.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(ee){dataManager.completeAnimation(ee,this.configAnimation)},AnimationItem.prototype.setData=function(ee,te){te&&_typeof$4(te)!=="object"&&(te=JSON.parse(te));var ne={wrapper:ee,animationData:te},xe=ee.attributes;ne.path=xe.getNamedItem("data-animation-path")?xe.getNamedItem("data-animation-path").value:xe.getNamedItem("data-bm-path")?xe.getNamedItem("data-bm-path").value:xe.getNamedItem("bm-path")?xe.getNamedItem("bm-path").value:"",ne.animType=xe.getNamedItem("data-anim-type")?xe.getNamedItem("data-anim-type").value:xe.getNamedItem("data-bm-type")?xe.getNamedItem("data-bm-type").value:xe.getNamedItem("bm-type")?xe.getNamedItem("bm-type").value:xe.getNamedItem("data-bm-renderer")?xe.getNamedItem("data-bm-renderer").value:xe.getNamedItem("bm-renderer")?xe.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var rt=xe.getNamedItem("data-anim-loop")?xe.getNamedItem("data-anim-loop").value:xe.getNamedItem("data-bm-loop")?xe.getNamedItem("data-bm-loop").value:xe.getNamedItem("bm-loop")?xe.getNamedItem("bm-loop").value:"";rt==="false"?ne.loop=!1:rt==="true"?ne.loop=!0:rt!==""&&(ne.loop=parseInt(rt,10));var it=xe.getNamedItem("data-anim-autoplay")?xe.getNamedItem("data-anim-autoplay").value:xe.getNamedItem("data-bm-autoplay")?xe.getNamedItem("data-bm-autoplay").value:xe.getNamedItem("bm-autoplay")?xe.getNamedItem("bm-autoplay").value:!0;ne.autoplay=it!=="false",ne.name=xe.getNamedItem("data-name")?xe.getNamedItem("data-name").value:xe.getNamedItem("data-bm-name")?xe.getNamedItem("data-bm-name").value:xe.getNamedItem("bm-name")?xe.getNamedItem("bm-name").value:"";var lt=xe.getNamedItem("data-anim-prerender")?xe.getNamedItem("data-anim-prerender").value:xe.getNamedItem("data-bm-prerender")?xe.getNamedItem("data-bm-prerender").value:xe.getNamedItem("bm-prerender")?xe.getNamedItem("bm-prerender").value:"";lt==="false"&&(ne.prerender=!1),ne.path?this.setParams(ne):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(ee){ee.op>this.animationData.op&&(this.animationData.op=ee.op,this.totalFrames=Math.floor(ee.op-this.animationData.ip));var te=this.animationData.layers,ne,xe=te.length,rt=ee.layers,it,lt=rt.length;for(it=0;it<lt;it+=1)for(ne=0;ne<xe;){if(te[ne].id===rt[it].id){te[ne]=rt[it];break}ne+=1}if((ee.chars||ee.fonts)&&(this.renderer.globalData.fontManager.addChars(ee.chars),this.renderer.globalData.fontManager.addFonts(ee.fonts,this.renderer.globalData.defs)),ee.assets)for(xe=ee.assets.length,ne=0;ne<xe;ne+=1)this.animationData.assets.push(ee.assets[ne]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(ee){this.animationData=ee;var te=getExpressionsPlugin();te&&te.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var ee=this.animationData.segments;if(!ee||ee.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var te=ee.shift();this.timeCompleted=te.time*this.frameRate;var ne=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(ne,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var ee=this.animationData.segments;ee||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(ee){if(this.renderer)try{this.animationData=ee,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(ee),ee.assets||(ee.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(ee.assets),this.markers=markerParser(ee.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(te){this.triggerConfigError(te)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var ee=getExpressionsPlugin();ee&&ee.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(ee,te){var ne=typeof ee=="number"?ee:void 0,xe=typeof te=="number"?te:void 0;this.renderer.updateContainerSize(ne,xe)},AnimationItem.prototype.setSubframe=function(ee){this.isSubframeEnabled=!!ee},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(ee){this.triggerRenderFrameError(ee)}},AnimationItem.prototype.play=function(ee){ee&&this.name!==ee||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(ee){ee&&this.name!==ee||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(ee){ee&&this.name!==ee||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(ee){ee&&this.name!==ee||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(ee){for(var te,ne=0;ne<this.markers.length;ne+=1)if(te=this.markers[ne],te.payload&&te.payload.name===ee)return te;return null},AnimationItem.prototype.goToAndStop=function(ee,te,ne){if(!(ne&&this.name!==ne)){var xe=Number(ee);if(isNaN(xe)){var rt=this.getMarkerData(ee);rt&&this.goToAndStop(rt.time,!0)}else te?this.setCurrentRawFrameValue(ee):this.setCurrentRawFrameValue(ee*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(ee,te,ne){if(!(ne&&this.name!==ne)){var xe=Number(ee);if(isNaN(xe)){var rt=this.getMarkerData(ee);rt&&(rt.duration?this.playSegments([rt.time,rt.time+rt.duration],!0):this.goToAndStop(rt.time,!0))}else this.goToAndStop(xe,te,ne);this.play()}},AnimationItem.prototype.advanceTime=function(ee){if(!(this.isPaused===!0||this.isLoaded===!1)){var te=this.currentRawFrame+ee*this.frameModifier,ne=!1;te>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(te>this.totalFrames?te%this.totalFrames:0)||(ne=!0,te=this.totalFrames-1):te>=this.totalFrames?(this.playCount+=1,this.checkSegments(te%this.totalFrames)||(this.setCurrentRawFrameValue(te%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(te):te<0?this.checkSegments(te%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+te%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(ne=!0,te=0)):this.setCurrentRawFrameValue(te),ne&&(this.setCurrentRawFrameValue(te),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(ee,te){this.playCount=0,ee[1]<ee[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=ee[0]-ee[1],this.timeCompleted=this.totalFrames,this.firstFrame=ee[1],this.setCurrentRawFrameValue(this.totalFrames-.001-te)):ee[1]>ee[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=ee[1]-ee[0],this.timeCompleted=this.totalFrames,this.firstFrame=ee[0],this.setCurrentRawFrameValue(.001+te)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(ee,te){var ne=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<ee?ne=ee:this.currentRawFrame+this.firstFrame>te&&(ne=te-ee)),this.firstFrame=ee,this.totalFrames=te-ee,this.timeCompleted=this.totalFrames,ne!==-1&&this.goToAndStop(ne,!0)},AnimationItem.prototype.playSegments=function(ee,te){if(te&&(this.segments.length=0),_typeof$4(ee[0])==="object"){var ne,xe=ee.length;for(ne=0;ne<xe;ne+=1)this.segments.push(ee[ne])}else this.segments.push(ee);this.segments.length&&te&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(ee){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),ee&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(ee){return this.segments.length?(this.adjustSegment(this.segments.shift(),ee),!0):!1},AnimationItem.prototype.destroy=function(ee){ee&&this.name!==ee||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(ee){this.currentRawFrame=ee,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(ee){this.playSpeed=ee,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(ee){this.playDirection=ee<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(ee){this.loop=ee},AnimationItem.prototype.setVolume=function(ee,te){te&&this.name!==te||this.audioController.setVolume(ee)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(ee){ee&&this.name!==ee||this.audioController.mute()},AnimationItem.prototype.unmute=function(ee){ee&&this.name!==ee||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(ee){var te="";if(ee.e)te=ee.p;else if(this.assetsPath){var ne=ee.p;ne.indexOf("images/")!==-1&&(ne=ne.split("/")[1]),te=this.assetsPath+ne}else te=this.path,te+=ee.u?ee.u:"",te+=ee.p;return te},AnimationItem.prototype.getAssetData=function(ee){for(var te=0,ne=this.assets.length;te<ne;){if(ee===this.assets[te].id)return this.assets[te];te+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(ee){return ee?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(ee,te,ne){try{var xe=this.renderer.getElementByPath(ee);xe.updateDocumentData(te,ne)}catch{}},AnimationItem.prototype.trigger=function(ee){if(this._cbs&&this._cbs[ee])switch(ee){case"enterFrame":this.triggerEvent(ee,new BMEnterFrameEvent(ee,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(ee,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(ee,new BMCompleteLoopEvent(ee,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(ee,new BMCompleteEvent(ee,this.frameMult));break;case"segmentStart":this.triggerEvent(ee,new BMSegmentStartEvent(ee,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(ee,new BMDestroyEvent(ee,this));break;default:this.triggerEvent(ee)}ee==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(ee,this.currentFrame,this.totalFrames,this.frameMult)),ee==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(ee,this.loop,this.playCount,this.frameMult)),ee==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(ee,this.frameMult)),ee==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(ee,this.firstFrame,this.totalFrames)),ee==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(ee,this))},AnimationItem.prototype.triggerRenderFrameError=function(ee){var te=new BMRenderFrameErrorEvent(ee,this.currentFrame);this.triggerEvent("error",te),this.onError&&this.onError.call(this,te)},AnimationItem.prototype.triggerConfigError=function(ee){var te=new BMConfigErrorEvent(ee,this.currentFrame);this.triggerEvent("error",te),this.onError&&this.onError.call(this,te)};var animationManager=(function(){var ee={},te=[],ne=0,xe=0,rt=0,it=!0,lt=!1;function ct(Nt){for(var Dt=0,Tt=Nt.target;Dt<xe;)te[Dt].animation===Tt&&(te.splice(Dt,1),Dt-=1,xe-=1,Tt.isPaused||ft()),Dt+=1}function ut(Nt,Dt){if(!Nt)return null;for(var Tt=0;Tt<xe;){if(te[Tt].elem===Nt&&te[Tt].elem!==null)return te[Tt].animation;Tt+=1}var Mt=new AnimationItem;return pt(Mt,Nt),Mt.setData(Nt,Dt),Mt}function dt(){var Nt,Dt=te.length,Tt=[];for(Nt=0;Nt<Dt;Nt+=1)Tt.push(te[Nt].animation);return Tt}function ht(){rt+=1,Ft()}function ft(){rt-=1}function pt(Nt,Dt){Nt.addEventListener("destroy",ct),Nt.addEventListener("_active",ht),Nt.addEventListener("_idle",ft),te.push({elem:Dt,animation:Nt}),xe+=1}function mt(Nt){var Dt=new AnimationItem;return pt(Dt,null),Dt.setParams(Nt),Dt}function xt(Nt,Dt){var Tt;for(Tt=0;Tt<xe;Tt+=1)te[Tt].animation.setSpeed(Nt,Dt)}function yt(Nt,Dt){var Tt;for(Tt=0;Tt<xe;Tt+=1)te[Tt].animation.setDirection(Nt,Dt)}function vt(Nt){var Dt;for(Dt=0;Dt<xe;Dt+=1)te[Dt].animation.play(Nt)}function Et(Nt){var Dt=Nt-ne,Tt;for(Tt=0;Tt<xe;Tt+=1)te[Tt].animation.advanceTime(Dt);ne=Nt,rt&&!lt?window.requestAnimationFrame(Et):it=!0}function _t(Nt){ne=Nt,window.requestAnimationFrame(Et)}function wt(Nt){var Dt;for(Dt=0;Dt<xe;Dt+=1)te[Dt].animation.pause(Nt)}function St(Nt,Dt,Tt){var Mt;for(Mt=0;Mt<xe;Mt+=1)te[Mt].animation.goToAndStop(Nt,Dt,Tt)}function Ct(Nt){var Dt;for(Dt=0;Dt<xe;Dt+=1)te[Dt].animation.stop(Nt)}function jt(Nt){var Dt;for(Dt=0;Dt<xe;Dt+=1)te[Dt].animation.togglePause(Nt)}function Rt(Nt){var Dt;for(Dt=xe-1;Dt>=0;Dt-=1)te[Dt].animation.destroy(Nt)}function Pt(Nt,Dt,Tt){var Mt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),$t,Ht=Mt.length;for($t=0;$t<Ht;$t+=1)Tt&&Mt[$t].setAttribute("data-bm-type",Tt),ut(Mt[$t],Nt);if(Dt&&Ht===0){Tt||(Tt="svg");var Wt=document.getElementsByTagName("body")[0];Wt.innerText="";var Vt=createTag("div");Vt.style.width="100%",Vt.style.height="100%",Vt.setAttribute("data-bm-type",Tt),Wt.appendChild(Vt),ut(Vt,Nt)}}function Ot(){var Nt;for(Nt=0;Nt<xe;Nt+=1)te[Nt].animation.resize()}function Ft(){!lt&&rt&&it&&(window.requestAnimationFrame(_t),it=!1)}function Lt(){lt=!0}function Bt(){lt=!1,Ft()}function Gt(Nt,Dt){var Tt;for(Tt=0;Tt<xe;Tt+=1)te[Tt].animation.setVolume(Nt,Dt)}function It(Nt){var Dt;for(Dt=0;Dt<xe;Dt+=1)te[Dt].animation.mute(Nt)}function qt(Nt){var Dt;for(Dt=0;Dt<xe;Dt+=1)te[Dt].animation.unmute(Nt)}return ee.registerAnimation=ut,ee.loadAnimation=mt,ee.setSpeed=xt,ee.setDirection=yt,ee.play=vt,ee.pause=wt,ee.stop=Ct,ee.togglePause=jt,ee.searchAnimations=Pt,ee.resize=Ot,ee.goToAndStop=St,ee.destroy=Rt,ee.freeze=Lt,ee.unfreeze=Bt,ee.setVolume=Gt,ee.mute=It,ee.unmute=qt,ee.getRegisteredAnimations=dt,ee})(),BezierFactory=(function(){var ee={};ee.getBezierEasing=ne;var te={};function ne(_t,wt,St,Ct,jt){var Rt=jt||("bez_"+_t+"_"+wt+"_"+St+"_"+Ct).replace(/\./g,"p");if(te[Rt])return te[Rt];var Pt=new Et([_t,wt,St,Ct]);return te[Rt]=Pt,Pt}var xe=4,rt=.001,it=1e-7,lt=10,ct=11,ut=1/(ct-1),dt=typeof Float32Array=="function";function ht(_t,wt){return 1-3*wt+3*_t}function ft(_t,wt){return 3*wt-6*_t}function pt(_t){return 3*_t}function mt(_t,wt,St){return((ht(wt,St)*_t+ft(wt,St))*_t+pt(wt))*_t}function xt(_t,wt,St){return 3*ht(wt,St)*_t*_t+2*ft(wt,St)*_t+pt(wt)}function yt(_t,wt,St,Ct,jt){var Rt,Pt,Ot=0;do Pt=wt+(St-wt)/2,Rt=mt(Pt,Ct,jt)-_t,Rt>0?St=Pt:wt=Pt;while(Math.abs(Rt)>it&&++Ot<lt);return Pt}function vt(_t,wt,St,Ct){for(var jt=0;jt<xe;++jt){var Rt=xt(wt,St,Ct);if(Rt===0)return wt;var Pt=mt(wt,St,Ct)-_t;wt-=Pt/Rt}return wt}function Et(_t){this._p=_t,this._mSampleValues=dt?new Float32Array(ct):new Array(ct),this._precomputed=!1,this.get=this.get.bind(this)}return Et.prototype={get:function(wt){var St=this._p[0],Ct=this._p[1],jt=this._p[2],Rt=this._p[3];return this._precomputed||this._precompute(),St===Ct&&jt===Rt?wt:wt===0?0:wt===1?1:mt(this._getTForX(wt),Ct,Rt)},_precompute:function(){var wt=this._p[0],St=this._p[1],Ct=this._p[2],jt=this._p[3];this._precomputed=!0,(wt!==St||Ct!==jt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var wt=this._p[0],St=this._p[2],Ct=0;Ct<ct;++Ct)this._mSampleValues[Ct]=mt(Ct*ut,wt,St)},_getTForX:function(wt){for(var St=this._p[0],Ct=this._p[2],jt=this._mSampleValues,Rt=0,Pt=1,Ot=ct-1;Pt!==Ot&&jt[Pt]<=wt;++Pt)Rt+=ut;--Pt;var Ft=(wt-jt[Pt])/(jt[Pt+1]-jt[Pt]),Lt=Rt+Ft*ut,Bt=xt(Lt,St,Ct);return Bt>=rt?vt(wt,Lt,St,Ct):Bt===0?Lt:yt(wt,Rt,Rt+ut,St,Ct)}},ee})(),pooling=(function(){function ee(te){return te.concat(createSizedArray(te.length))}return{double:ee}})(),poolFactory=(function(){return function(ee,te,ne){var xe=0,rt=ee,it=createSizedArray(rt),lt={newElement:ct,release:ut};function ct(){var dt;return xe?(xe-=1,dt=it[xe]):dt=te(),dt}function ut(dt){xe===rt&&(it=pooling.double(it),rt*=2),ne&&ne(dt),it[xe]=dt,xe+=1}return lt}})(),bezierLengthPool=(function(){function ee(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,ee)})(),segmentsLengthPool=(function(){function ee(){return{lengths:[],totalLength:0}}function te(ne){var xe,rt=ne.lengths.length;for(xe=0;xe<rt;xe+=1)bezierLengthPool.release(ne.lengths[xe]);ne.lengths.length=0}return poolFactory(8,ee,te)})();function bezFunction(){var ee=Math;function te(pt,mt,xt,yt,vt,Et){var _t=pt*yt+mt*vt+xt*Et-vt*yt-Et*pt-xt*mt;return _t>-.001&&_t<.001}function ne(pt,mt,xt,yt,vt,Et,_t,wt,St){if(xt===0&&Et===0&&St===0)return te(pt,mt,yt,vt,_t,wt);var Ct=ee.sqrt(ee.pow(yt-pt,2)+ee.pow(vt-mt,2)+ee.pow(Et-xt,2)),jt=ee.sqrt(ee.pow(_t-pt,2)+ee.pow(wt-mt,2)+ee.pow(St-xt,2)),Rt=ee.sqrt(ee.pow(_t-yt,2)+ee.pow(wt-vt,2)+ee.pow(St-Et,2)),Pt;return Ct>jt?Ct>Rt?Pt=Ct-jt-Rt:Pt=Rt-jt-Ct:Rt>jt?Pt=Rt-jt-Ct:Pt=jt-Ct-Rt,Pt>-1e-4&&Pt<1e-4}var xe=(function(){return function(pt,mt,xt,yt){var vt=getDefaultCurveSegments(),Et,_t,wt,St,Ct,jt=0,Rt,Pt=[],Ot=[],Ft=bezierLengthPool.newElement();for(wt=xt.length,Et=0;Et<vt;Et+=1){for(Ct=Et/(vt-1),Rt=0,_t=0;_t<wt;_t+=1)St=bmPow(1-Ct,3)*pt[_t]+3*bmPow(1-Ct,2)*Ct*xt[_t]+3*(1-Ct)*bmPow(Ct,2)*yt[_t]+bmPow(Ct,3)*mt[_t],Pt[_t]=St,Ot[_t]!==null&&(Rt+=bmPow(Pt[_t]-Ot[_t],2)),Ot[_t]=Pt[_t];Rt&&(Rt=bmSqrt(Rt),jt+=Rt),Ft.percents[Et]=Ct,Ft.lengths[Et]=jt}return Ft.addedLength=jt,Ft}})();function rt(pt){var mt=segmentsLengthPool.newElement(),xt=pt.c,yt=pt.v,vt=pt.o,Et=pt.i,_t,wt=pt._length,St=mt.lengths,Ct=0;for(_t=0;_t<wt-1;_t+=1)St[_t]=xe(yt[_t],yt[_t+1],vt[_t],Et[_t+1]),Ct+=St[_t].addedLength;return xt&&wt&&(St[_t]=xe(yt[_t],yt[0],vt[_t],Et[0]),Ct+=St[_t].addedLength),mt.totalLength=Ct,mt}function it(pt){this.segmentLength=0,this.points=new Array(pt)}function lt(pt,mt){this.partialLength=pt,this.point=mt}var ct=(function(){var pt={};return function(mt,xt,yt,vt){var Et=(mt[0]+"_"+mt[1]+"_"+xt[0]+"_"+xt[1]+"_"+yt[0]+"_"+yt[1]+"_"+vt[0]+"_"+vt[1]).replace(/\./g,"p");if(!pt[Et]){var _t=getDefaultCurveSegments(),wt,St,Ct,jt,Rt,Pt=0,Ot,Ft,Lt=null;mt.length===2&&(mt[0]!==xt[0]||mt[1]!==xt[1])&&te(mt[0],mt[1],xt[0],xt[1],mt[0]+yt[0],mt[1]+yt[1])&&te(mt[0],mt[1],xt[0],xt[1],xt[0]+vt[0],xt[1]+vt[1])&&(_t=2);var Bt=new it(_t);for(Ct=yt.length,wt=0;wt<_t;wt+=1){for(Ft=createSizedArray(Ct),Rt=wt/(_t-1),Ot=0,St=0;St<Ct;St+=1)jt=bmPow(1-Rt,3)*mt[St]+3*bmPow(1-Rt,2)*Rt*(mt[St]+yt[St])+3*(1-Rt)*bmPow(Rt,2)*(xt[St]+vt[St])+bmPow(Rt,3)*xt[St],Ft[St]=jt,Lt!==null&&(Ot+=bmPow(Ft[St]-Lt[St],2));Ot=bmSqrt(Ot),Pt+=Ot,Bt.points[wt]=new lt(Ot,Ft),Lt=Ft}Bt.segmentLength=Pt,pt[Et]=Bt}return pt[Et]}})();function ut(pt,mt){var xt=mt.percents,yt=mt.lengths,vt=xt.length,Et=bmFloor((vt-1)*pt),_t=pt*mt.addedLength,wt=0;if(Et===vt-1||Et===0||_t===yt[Et])return xt[Et];for(var St=yt[Et]>_t?-1:1,Ct=!0;Ct;)if(yt[Et]<=_t&&yt[Et+1]>_t?(wt=(_t-yt[Et])/(yt[Et+1]-yt[Et]),Ct=!1):Et+=St,Et<0||Et>=vt-1){if(Et===vt-1)return xt[Et];Ct=!1}return xt[Et]+(xt[Et+1]-xt[Et])*wt}function dt(pt,mt,xt,yt,vt,Et){var _t=ut(vt,Et),wt=1-_t,St=ee.round((wt*wt*wt*pt[0]+(_t*wt*wt+wt*_t*wt+wt*wt*_t)*xt[0]+(_t*_t*wt+wt*_t*_t+_t*wt*_t)*yt[0]+_t*_t*_t*mt[0])*1e3)/1e3,Ct=ee.round((wt*wt*wt*pt[1]+(_t*wt*wt+wt*_t*wt+wt*wt*_t)*xt[1]+(_t*_t*wt+wt*_t*_t+_t*wt*_t)*yt[1]+_t*_t*_t*mt[1])*1e3)/1e3;return[St,Ct]}var ht=createTypedArray("float32",8);function ft(pt,mt,xt,yt,vt,Et,_t){vt<0?vt=0:vt>1&&(vt=1);var wt=ut(vt,_t);Et=Et>1?1:Et;var St=ut(Et,_t),Ct,jt=pt.length,Rt=1-wt,Pt=1-St,Ot=Rt*Rt*Rt,Ft=wt*Rt*Rt*3,Lt=wt*wt*Rt*3,Bt=wt*wt*wt,Gt=Rt*Rt*Pt,It=wt*Rt*Pt+Rt*wt*Pt+Rt*Rt*St,qt=wt*wt*Pt+Rt*wt*St+wt*Rt*St,Nt=wt*wt*St,Dt=Rt*Pt*Pt,Tt=wt*Pt*Pt+Rt*St*Pt+Rt*Pt*St,Mt=wt*St*Pt+Rt*St*St+wt*Pt*St,$t=wt*St*St,Ht=Pt*Pt*Pt,Wt=St*Pt*Pt+Pt*St*Pt+Pt*Pt*St,Vt=St*St*Pt+Pt*St*St+St*Pt*St,Yt=St*St*St;for(Ct=0;Ct<jt;Ct+=1)ht[Ct*4]=ee.round((Ot*pt[Ct]+Ft*xt[Ct]+Lt*yt[Ct]+Bt*mt[Ct])*1e3)/1e3,ht[Ct*4+1]=ee.round((Gt*pt[Ct]+It*xt[Ct]+qt*yt[Ct]+Nt*mt[Ct])*1e3)/1e3,ht[Ct*4+2]=ee.round((Dt*pt[Ct]+Tt*xt[Ct]+Mt*yt[Ct]+$t*mt[Ct])*1e3)/1e3,ht[Ct*4+3]=ee.round((Ht*pt[Ct]+Wt*xt[Ct]+Vt*yt[Ct]+Yt*mt[Ct])*1e3)/1e3;return ht}return{getSegmentsLength:rt,getNewSegment:ft,getPointInSegment:dt,buildBezierData:ct,pointOnLine2D:te,pointOnLine3D:ne}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(ee,te){var ne=this.offsetTime,xe;this.propType==="multidimensional"&&(xe=createTypedArray("float32",this.pv.length));for(var rt=te.lastIndex,it=rt,lt=this.keyframes.length-1,ct=!0,ut,dt,ht;ct;){if(ut=this.keyframes[it],dt=this.keyframes[it+1],it===lt-1&&ee>=dt.t-ne){ut.h&&(ut=dt),rt=0;break}if(dt.t-ne>ee){rt=it;break}it<lt-1?it+=1:(rt=0,ct=!1)}ht=this.keyframesMetadata[it]||{};var ft,pt,mt,xt,yt,vt,Et=dt.t-ne,_t=ut.t-ne,wt;if(ut.to){ht.bezierData||(ht.bezierData=bez.buildBezierData(ut.s,dt.s||ut.e,ut.to,ut.ti));var St=ht.bezierData;if(ee>=Et||ee<_t){var Ct=ee>=Et?St.points.length-1:0;for(pt=St.points[Ct].point.length,ft=0;ft<pt;ft+=1)xe[ft]=St.points[Ct].point[ft]}else{ht.__fnct?vt=ht.__fnct:(vt=BezierFactory.getBezierEasing(ut.o.x,ut.o.y,ut.i.x,ut.i.y,ut.n).get,ht.__fnct=vt),mt=vt((ee-_t)/(Et-_t));var jt=St.segmentLength*mt,Rt,Pt=te.lastFrame<ee&&te._lastKeyframeIndex===it?te._lastAddedLength:0;for(yt=te.lastFrame<ee&&te._lastKeyframeIndex===it?te._lastPoint:0,ct=!0,xt=St.points.length;ct;){if(Pt+=St.points[yt].partialLength,jt===0||mt===0||yt===St.points.length-1){for(pt=St.points[yt].point.length,ft=0;ft<pt;ft+=1)xe[ft]=St.points[yt].point[ft];break}else if(jt>=Pt&&jt<Pt+St.points[yt+1].partialLength){for(Rt=(jt-Pt)/St.points[yt+1].partialLength,pt=St.points[yt].point.length,ft=0;ft<pt;ft+=1)xe[ft]=St.points[yt].point[ft]+(St.points[yt+1].point[ft]-St.points[yt].point[ft])*Rt;break}yt<xt-1?yt+=1:ct=!1}te._lastPoint=yt,te._lastAddedLength=Pt-St.points[yt].partialLength,te._lastKeyframeIndex=it}}else{var Ot,Ft,Lt,Bt,Gt;if(lt=ut.s.length,wt=dt.s||ut.e,this.sh&&ut.h!==1)if(ee>=Et)xe[0]=wt[0],xe[1]=wt[1],xe[2]=wt[2];else if(ee<=_t)xe[0]=ut.s[0],xe[1]=ut.s[1],xe[2]=ut.s[2];else{var It=createQuaternion(ut.s),qt=createQuaternion(wt),Nt=(ee-_t)/(Et-_t);quaternionToEuler(xe,slerp(It,qt,Nt))}else for(it=0;it<lt;it+=1)ut.h!==1&&(ee>=Et?mt=1:ee<_t?mt=0:(ut.o.x.constructor===Array?(ht.__fnct||(ht.__fnct=[]),ht.__fnct[it]?vt=ht.__fnct[it]:(Ot=ut.o.x[it]===void 0?ut.o.x[0]:ut.o.x[it],Ft=ut.o.y[it]===void 0?ut.o.y[0]:ut.o.y[it],Lt=ut.i.x[it]===void 0?ut.i.x[0]:ut.i.x[it],Bt=ut.i.y[it]===void 0?ut.i.y[0]:ut.i.y[it],vt=BezierFactory.getBezierEasing(Ot,Ft,Lt,Bt).get,ht.__fnct[it]=vt)):ht.__fnct?vt=ht.__fnct:(Ot=ut.o.x,Ft=ut.o.y,Lt=ut.i.x,Bt=ut.i.y,vt=BezierFactory.getBezierEasing(Ot,Ft,Lt,Bt).get,ut.keyframeMetadata=vt),mt=vt((ee-_t)/(Et-_t)))),wt=dt.s||ut.e,Gt=ut.h===1?ut.s[it]:ut.s[it]+(wt[it]-ut.s[it])*mt,this.propType==="multidimensional"?xe[it]=Gt:xe=Gt}return te.lastIndex=rt,xe}function slerp(ee,te,ne){var xe=[],rt=ee[0],it=ee[1],lt=ee[2],ct=ee[3],ut=te[0],dt=te[1],ht=te[2],ft=te[3],pt,mt,xt,yt,vt;return mt=rt*ut+it*dt+lt*ht+ct*ft,mt<0&&(mt=-mt,ut=-ut,dt=-dt,ht=-ht,ft=-ft),1-mt>1e-6?(pt=Math.acos(mt),xt=Math.sin(pt),yt=Math.sin((1-ne)*pt)/xt,vt=Math.sin(ne*pt)/xt):(yt=1-ne,vt=ne),xe[0]=yt*rt+vt*ut,xe[1]=yt*it+vt*dt,xe[2]=yt*lt+vt*ht,xe[3]=yt*ct+vt*ft,xe}function quaternionToEuler(ee,te){var ne=te[0],xe=te[1],rt=te[2],it=te[3],lt=Math.atan2(2*xe*it-2*ne*rt,1-2*xe*xe-2*rt*rt),ct=Math.asin(2*ne*xe+2*rt*it),ut=Math.atan2(2*ne*it-2*xe*rt,1-2*ne*ne-2*rt*rt);ee[0]=lt/degToRads,ee[1]=ct/degToRads,ee[2]=ut/degToRads}function createQuaternion(ee){var te=ee[0]*degToRads,ne=ee[1]*degToRads,xe=ee[2]*degToRads,rt=Math.cos(te/2),it=Math.cos(ne/2),lt=Math.cos(xe/2),ct=Math.sin(te/2),ut=Math.sin(ne/2),dt=Math.sin(xe/2),ht=rt*it*lt-ct*ut*dt,ft=ct*ut*lt+rt*it*dt,pt=ct*it*lt+rt*ut*dt,mt=rt*ut*lt-ct*it*dt;return[ft,pt,mt,ht]}function getValueAtCurrentTime(){var ee=this.comp.renderedFrame-this.offsetTime,te=this.keyframes[0].t-this.offsetTime,ne=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(ee===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=ne&&ee>=ne||this._caching.lastFrame<te&&ee<te))){this._caching.lastFrame>=ee&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var xe=this.interpolateValue(ee,this._caching);this.pv=xe}return this._caching.lastFrame=ee,this.pv}function setVValue(ee){var te;if(this.propType==="unidimensional")te=ee*this.mult,mathAbs(this.v-te)>1e-5&&(this.v=te,this._mdf=!0);else for(var ne=0,xe=this.v.length;ne<xe;)te=ee[ne]*this.mult,mathAbs(this.v[ne]-te)>1e-5&&(this.v[ne]=te,this._mdf=!0),ne+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var ee,te=this.effectsSequence.length,ne=this.kf?this.pv:this.data.k;for(ee=0;ee<te;ee+=1)ne=this.effectsSequence[ee](ne);this.setVValue(ne),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(ee){this.effectsSequence.push(ee),this.container.addDynamicProperty(this)}function ValueProperty(ee,te,ne,xe){this.propType="unidimensional",this.mult=ne||1,this.data=te,this.v=ne?te.k*ne:te.k,this.pv=te.k,this._mdf=!1,this.elem=ee,this.container=xe,this.comp=ee.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(ee,te,ne,xe){this.propType="multidimensional",this.mult=ne||1,this.data=te,this._mdf=!1,this.elem=ee,this.container=xe,this.comp=ee.comp,this.k=!1,this.kf=!1,this.frameId=-1;var rt,it=te.k.length;for(this.v=createTypedArray("float32",it),this.pv=createTypedArray("float32",it),this.vel=createTypedArray("float32",it),rt=0;rt<it;rt+=1)this.v[rt]=te.k[rt]*this.mult,this.pv[rt]=te.k[rt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(ee,te,ne,xe){this.propType="unidimensional",this.keyframes=te.k,this.keyframesMetadata=[],this.offsetTime=ee.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=te,this.mult=ne||1,this.elem=ee,this.container=xe,this.comp=ee.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(ee,te,ne,xe){this.propType="multidimensional";var rt,it=te.k.length,lt,ct,ut,dt;for(rt=0;rt<it-1;rt+=1)te.k[rt].to&&te.k[rt].s&&te.k[rt+1]&&te.k[rt+1].s&&(lt=te.k[rt].s,ct=te.k[rt+1].s,ut=te.k[rt].to,dt=te.k[rt].ti,(lt.length===2&&!(lt[0]===ct[0]&&lt[1]===ct[1])&&bez.pointOnLine2D(lt[0],lt[1],ct[0],ct[1],lt[0]+ut[0],lt[1]+ut[1])&&bez.pointOnLine2D(lt[0],lt[1],ct[0],ct[1],ct[0]+dt[0],ct[1]+dt[1])||lt.length===3&&!(lt[0]===ct[0]&&lt[1]===ct[1]&&lt[2]===ct[2])&&bez.pointOnLine3D(lt[0],lt[1],lt[2],ct[0],ct[1],ct[2],lt[0]+ut[0],lt[1]+ut[1],lt[2]+ut[2])&&bez.pointOnLine3D(lt[0],lt[1],lt[2],ct[0],ct[1],ct[2],ct[0]+dt[0],ct[1]+dt[1],ct[2]+dt[2]))&&(te.k[rt].to=null,te.k[rt].ti=null),lt[0]===ct[0]&&lt[1]===ct[1]&&ut[0]===0&&ut[1]===0&&dt[0]===0&&dt[1]===0&&(lt.length===2||lt[2]===ct[2]&&ut[2]===0&&dt[2]===0)&&(te.k[rt].to=null,te.k[rt].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=te,this.keyframes=te.k,this.keyframesMetadata=[],this.offsetTime=ee.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=ne||1,this.elem=ee,this.container=xe,this.comp=ee.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ht=te.k[0].s.length;for(this.v=createTypedArray("float32",ht),this.pv=createTypedArray("float32",ht),rt=0;rt<ht;rt+=1)this.v[rt]=initFrame,this.pv[rt]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ht)},this.addEffect=addEffect}var PropertyFactory=(function(){function ee(ne,xe,rt,it,lt){xe.sid&&(xe=ne.globalData.slotManager.getProp(xe));var ct;if(!xe.k.length)ct=new ValueProperty(ne,xe,it,lt);else if(typeof xe.k[0]=="number")ct=new MultiDimensionalProperty(ne,xe,it,lt);else switch(rt){case 0:ct=new KeyframedValueProperty(ne,xe,it,lt);break;case 1:ct=new KeyframedMultidimensionalProperty(ne,xe,it,lt);break}return ct.effectsSequence.length&&lt.addDynamicProperty(ct),ct}var te={getProp:ee};return te})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(te){this.dynamicProperties.indexOf(te)===-1&&(this.dynamicProperties.push(te),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var te,ne=this.dynamicProperties.length;for(te=0;te<ne;te+=1)this.dynamicProperties[te].getValue(),this.dynamicProperties[te]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(te){this.container=te,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function ee(){return createTypedArray("float32",2)}return poolFactory(8,ee)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(ee,te){this.c=ee,this.setLength(te);for(var ne=0;ne<te;)this.v[ne]=pointPool.newElement(),this.o[ne]=pointPool.newElement(),this.i[ne]=pointPool.newElement(),ne+=1},ShapePath.prototype.setLength=function(ee){for(;this._maxLength<ee;)this.doubleArrayLength();this._length=ee},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(ee,te,ne,xe,rt){var it;switch(this._length=Math.max(this._length,xe+1),this._length>=this._maxLength&&this.doubleArrayLength(),ne){case"v":it=this.v;break;case"i":it=this.i;break;case"o":it=this.o;break;default:it=[];break}(!it[xe]||it[xe]&&!rt)&&(it[xe]=pointPool.newElement()),it[xe][0]=ee,it[xe][1]=te},ShapePath.prototype.setTripleAt=function(ee,te,ne,xe,rt,it,lt,ct){this.setXYAt(ee,te,"v",lt,ct),this.setXYAt(ne,xe,"o",lt,ct),this.setXYAt(rt,it,"i",lt,ct)},ShapePath.prototype.reverse=function(){var ee=new ShapePath;ee.setPathData(this.c,this._length);var te=this.v,ne=this.o,xe=this.i,rt=0;this.c&&(ee.setTripleAt(te[0][0],te[0][1],xe[0][0],xe[0][1],ne[0][0],ne[0][1],0,!1),rt=1);var it=this._length-1,lt=this._length,ct;for(ct=rt;ct<lt;ct+=1)ee.setTripleAt(te[it][0],te[it][1],xe[it][0],xe[it][1],ne[it][0],ne[it][1],ct,!1),it-=1;return ee},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function ee(){return new ShapePath}function te(rt){var it=rt._length,lt;for(lt=0;lt<it;lt+=1)pointPool.release(rt.v[lt]),pointPool.release(rt.i[lt]),pointPool.release(rt.o[lt]),rt.v[lt]=null,rt.i[lt]=null,rt.o[lt]=null;rt._length=0,rt.c=!1}function ne(rt){var it=xe.newElement(),lt,ct=rt._length===void 0?rt.v.length:rt._length;for(it.setLength(ct),it.c=rt.c,lt=0;lt<ct;lt+=1)it.setTripleAt(rt.v[lt][0],rt.v[lt][1],rt.o[lt][0],rt.o[lt][1],rt.i[lt][0],rt.i[lt][1],lt);return it}var xe=poolFactory(4,ee,te);return xe.clone=ne,xe})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(ee){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=ee,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var ee;for(ee=0;ee<this._length;ee+=1)shapePool.release(this.shapes[ee]);this._length=0};var shapeCollectionPool=(function(){var ee={newShapeCollection:rt,release:it},te=0,ne=4,xe=createSizedArray(ne);function rt(){var lt;return te?(te-=1,lt=xe[te]):lt=new ShapeCollection,lt}function it(lt){var ct,ut=lt._length;for(ct=0;ct<ut;ct+=1)shapePool.release(lt.shapes[ct]);lt._length=0,te===ne&&(xe=pooling.double(xe),ne*=2),xe[te]=lt,te+=1}return ee})(),ShapePropertyFactory=(function(){var ee=-999999;function te(Et,_t,wt){var St=wt.lastIndex,Ct,jt,Rt,Pt,Ot,Ft,Lt,Bt,Gt,It=this.keyframes;if(Et<It[0].t-this.offsetTime)Ct=It[0].s[0],Rt=!0,St=0;else if(Et>=It[It.length-1].t-this.offsetTime)Ct=It[It.length-1].s?It[It.length-1].s[0]:It[It.length-2].e[0],Rt=!0;else{for(var qt=St,Nt=It.length-1,Dt=!0,Tt,Mt,$t;Dt&&(Tt=It[qt],Mt=It[qt+1],!(Mt.t-this.offsetTime>Et));)qt<Nt-1?qt+=1:Dt=!1;if($t=this.keyframesMetadata[qt]||{},Rt=Tt.h===1,St=qt,!Rt){if(Et>=Mt.t-this.offsetTime)Bt=1;else if(Et<Tt.t-this.offsetTime)Bt=0;else{var Ht;$t.__fnct?Ht=$t.__fnct:(Ht=BezierFactory.getBezierEasing(Tt.o.x,Tt.o.y,Tt.i.x,Tt.i.y).get,$t.__fnct=Ht),Bt=Ht((Et-(Tt.t-this.offsetTime))/(Mt.t-this.offsetTime-(Tt.t-this.offsetTime)))}jt=Mt.s?Mt.s[0]:Tt.e[0]}Ct=Tt.s[0]}for(Ft=_t._length,Lt=Ct.i[0].length,wt.lastIndex=St,Pt=0;Pt<Ft;Pt+=1)for(Ot=0;Ot<Lt;Ot+=1)Gt=Rt?Ct.i[Pt][Ot]:Ct.i[Pt][Ot]+(jt.i[Pt][Ot]-Ct.i[Pt][Ot])*Bt,_t.i[Pt][Ot]=Gt,Gt=Rt?Ct.o[Pt][Ot]:Ct.o[Pt][Ot]+(jt.o[Pt][Ot]-Ct.o[Pt][Ot])*Bt,_t.o[Pt][Ot]=Gt,Gt=Rt?Ct.v[Pt][Ot]:Ct.v[Pt][Ot]+(jt.v[Pt][Ot]-Ct.v[Pt][Ot])*Bt,_t.v[Pt][Ot]=Gt}function ne(){var Et=this.comp.renderedFrame-this.offsetTime,_t=this.keyframes[0].t-this.offsetTime,wt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,St=this._caching.lastFrame;return St!==ee&&(St<_t&&Et<_t||St>wt&&Et>wt)||(this._caching.lastIndex=St<Et?this._caching.lastIndex:0,this.interpolateShape(Et,this.pv,this._caching)),this._caching.lastFrame=Et,this.pv}function xe(){this.paths=this.localShapeCollection}function rt(Et,_t){if(Et._length!==_t._length||Et.c!==_t.c)return!1;var wt,St=Et._length;for(wt=0;wt<St;wt+=1)if(Et.v[wt][0]!==_t.v[wt][0]||Et.v[wt][1]!==_t.v[wt][1]||Et.o[wt][0]!==_t.o[wt][0]||Et.o[wt][1]!==_t.o[wt][1]||Et.i[wt][0]!==_t.i[wt][0]||Et.i[wt][1]!==_t.i[wt][1])return!1;return!0}function it(Et){rt(this.v,Et)||(this.v=shapePool.clone(Et),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function lt(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Et;this.kf?Et=this.pv:this.data.ks?Et=this.data.ks.k:Et=this.data.pt.k;var _t,wt=this.effectsSequence.length;for(_t=0;_t<wt;_t+=1)Et=this.effectsSequence[_t](Et);this.setVValue(Et),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ct(Et,_t,wt){this.propType="shape",this.comp=Et.comp,this.container=Et,this.elem=Et,this.data=_t,this.k=!1,this.kf=!1,this._mdf=!1;var St=wt===3?_t.pt.k:_t.ks.k;this.v=shapePool.clone(St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=xe,this.effectsSequence=[]}function ut(Et){this.effectsSequence.push(Et),this.container.addDynamicProperty(this)}ct.prototype.interpolateShape=te,ct.prototype.getValue=lt,ct.prototype.setVValue=it,ct.prototype.addEffect=ut;function dt(Et,_t,wt){this.propType="shape",this.comp=Et.comp,this.elem=Et,this.container=Et,this.offsetTime=Et.data.st,this.keyframes=wt===3?_t.pt.k:_t.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var St=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=ee,this.reset=xe,this._caching={lastFrame:ee,lastIndex:0},this.effectsSequence=[ne.bind(this)]}dt.prototype.getValue=lt,dt.prototype.interpolateShape=te,dt.prototype.setVValue=it,dt.prototype.addEffect=ut;var ht=(function(){var Et=roundCorner;function _t(wt,St){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=St.d,this.elem=wt,this.comp=wt.comp,this.frameId=-1,this.initDynamicPropertyContainer(wt),this.p=PropertyFactory.getProp(wt,St.p,1,0,this),this.s=PropertyFactory.getProp(wt,St.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return _t.prototype={reset:xe,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var St=this.p.v[0],Ct=this.p.v[1],jt=this.s.v[0]/2,Rt=this.s.v[1]/2,Pt=this.d!==3,Ot=this.v;Ot.v[0][0]=St,Ot.v[0][1]=Ct-Rt,Ot.v[1][0]=Pt?St+jt:St-jt,Ot.v[1][1]=Ct,Ot.v[2][0]=St,Ot.v[2][1]=Ct+Rt,Ot.v[3][0]=Pt?St-jt:St+jt,Ot.v[3][1]=Ct,Ot.i[0][0]=Pt?St-jt*Et:St+jt*Et,Ot.i[0][1]=Ct-Rt,Ot.i[1][0]=Pt?St+jt:St-jt,Ot.i[1][1]=Ct-Rt*Et,Ot.i[2][0]=Pt?St+jt*Et:St-jt*Et,Ot.i[2][1]=Ct+Rt,Ot.i[3][0]=Pt?St-jt:St+jt,Ot.i[3][1]=Ct+Rt*Et,Ot.o[0][0]=Pt?St+jt*Et:St-jt*Et,Ot.o[0][1]=Ct-Rt,Ot.o[1][0]=Pt?St+jt:St-jt,Ot.o[1][1]=Ct+Rt*Et,Ot.o[2][0]=Pt?St-jt*Et:St+jt*Et,Ot.o[2][1]=Ct+Rt,Ot.o[3][0]=Pt?St-jt:St+jt,Ot.o[3][1]=Ct-Rt*Et}},extendPrototype([DynamicPropertyContainer],_t),_t})(),ft=(function(){function Et(_t,wt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=_t,this.comp=_t.comp,this.data=wt,this.frameId=-1,this.d=wt.d,this.initDynamicPropertyContainer(_t),wt.sy===1?(this.ir=PropertyFactory.getProp(_t,wt.ir,0,0,this),this.is=PropertyFactory.getProp(_t,wt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(_t,wt.pt,0,0,this),this.p=PropertyFactory.getProp(_t,wt.p,1,0,this),this.r=PropertyFactory.getProp(_t,wt.r,0,degToRads,this),this.or=PropertyFactory.getProp(_t,wt.or,0,0,this),this.os=PropertyFactory.getProp(_t,wt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Et.prototype={reset:xe,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var wt=Math.floor(this.pt.v)*2,St=Math.PI*2/wt,Ct=!0,jt=this.or.v,Rt=this.ir.v,Pt=this.os.v,Ot=this.is.v,Ft=2*Math.PI*jt/(wt*2),Lt=2*Math.PI*Rt/(wt*2),Bt,Gt,It,qt,Nt=-Math.PI/2;Nt+=this.r.v;var Dt=this.data.d===3?-1:1;for(this.v._length=0,Bt=0;Bt<wt;Bt+=1){Gt=Ct?jt:Rt,It=Ct?Pt:Ot,qt=Ct?Ft:Lt;var Tt=Gt*Math.cos(Nt),Mt=Gt*Math.sin(Nt),$t=Tt===0&&Mt===0?0:Mt/Math.sqrt(Tt*Tt+Mt*Mt),Ht=Tt===0&&Mt===0?0:-Tt/Math.sqrt(Tt*Tt+Mt*Mt);Tt+=+this.p.v[0],Mt+=+this.p.v[1],this.v.setTripleAt(Tt,Mt,Tt-$t*qt*It*Dt,Mt-Ht*qt*It*Dt,Tt+$t*qt*It*Dt,Mt+Ht*qt*It*Dt,Bt,!0),Ct=!Ct,Nt+=St*Dt}},convertPolygonToPath:function(){var wt=Math.floor(this.pt.v),St=Math.PI*2/wt,Ct=this.or.v,jt=this.os.v,Rt=2*Math.PI*Ct/(wt*4),Pt,Ot=-Math.PI*.5,Ft=this.data.d===3?-1:1;for(Ot+=this.r.v,this.v._length=0,Pt=0;Pt<wt;Pt+=1){var Lt=Ct*Math.cos(Ot),Bt=Ct*Math.sin(Ot),Gt=Lt===0&&Bt===0?0:Bt/Math.sqrt(Lt*Lt+Bt*Bt),It=Lt===0&&Bt===0?0:-Lt/Math.sqrt(Lt*Lt+Bt*Bt);Lt+=+this.p.v[0],Bt+=+this.p.v[1],this.v.setTripleAt(Lt,Bt,Lt-Gt*Rt*jt*Ft,Bt-It*Rt*jt*Ft,Lt+Gt*Rt*jt*Ft,Bt+It*Rt*jt*Ft,Pt,!0),Ot+=St*Ft}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Et),Et})(),pt=(function(){function Et(_t,wt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=_t,this.comp=_t.comp,this.frameId=-1,this.d=wt.d,this.initDynamicPropertyContainer(_t),this.p=PropertyFactory.getProp(_t,wt.p,1,0,this),this.s=PropertyFactory.getProp(_t,wt.s,1,0,this),this.r=PropertyFactory.getProp(_t,wt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Et.prototype={convertRectToPath:function(){var wt=this.p.v[0],St=this.p.v[1],Ct=this.s.v[0]/2,jt=this.s.v[1]/2,Rt=bmMin(Ct,jt,this.r.v),Pt=Rt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(wt+Ct,St-jt+Rt,wt+Ct,St-jt+Rt,wt+Ct,St-jt+Pt,0,!0),this.v.setTripleAt(wt+Ct,St+jt-Rt,wt+Ct,St+jt-Pt,wt+Ct,St+jt-Rt,1,!0),Rt!==0?(this.v.setTripleAt(wt+Ct-Rt,St+jt,wt+Ct-Rt,St+jt,wt+Ct-Pt,St+jt,2,!0),this.v.setTripleAt(wt-Ct+Rt,St+jt,wt-Ct+Pt,St+jt,wt-Ct+Rt,St+jt,3,!0),this.v.setTripleAt(wt-Ct,St+jt-Rt,wt-Ct,St+jt-Rt,wt-Ct,St+jt-Pt,4,!0),this.v.setTripleAt(wt-Ct,St-jt+Rt,wt-Ct,St-jt+Pt,wt-Ct,St-jt+Rt,5,!0),this.v.setTripleAt(wt-Ct+Rt,St-jt,wt-Ct+Rt,St-jt,wt-Ct+Pt,St-jt,6,!0),this.v.setTripleAt(wt+Ct-Rt,St-jt,wt+Ct-Pt,St-jt,wt+Ct-Rt,St-jt,7,!0)):(this.v.setTripleAt(wt-Ct,St+jt,wt-Ct+Pt,St+jt,wt-Ct,St+jt,2),this.v.setTripleAt(wt-Ct,St-jt,wt-Ct,St-jt+Pt,wt-Ct,St-jt,3))):(this.v.setTripleAt(wt+Ct,St-jt+Rt,wt+Ct,St-jt+Pt,wt+Ct,St-jt+Rt,0,!0),Rt!==0?(this.v.setTripleAt(wt+Ct-Rt,St-jt,wt+Ct-Rt,St-jt,wt+Ct-Pt,St-jt,1,!0),this.v.setTripleAt(wt-Ct+Rt,St-jt,wt-Ct+Pt,St-jt,wt-Ct+Rt,St-jt,2,!0),this.v.setTripleAt(wt-Ct,St-jt+Rt,wt-Ct,St-jt+Rt,wt-Ct,St-jt+Pt,3,!0),this.v.setTripleAt(wt-Ct,St+jt-Rt,wt-Ct,St+jt-Pt,wt-Ct,St+jt-Rt,4,!0),this.v.setTripleAt(wt-Ct+Rt,St+jt,wt-Ct+Rt,St+jt,wt-Ct+Pt,St+jt,5,!0),this.v.setTripleAt(wt+Ct-Rt,St+jt,wt+Ct-Pt,St+jt,wt+Ct-Rt,St+jt,6,!0),this.v.setTripleAt(wt+Ct,St+jt-Rt,wt+Ct,St+jt-Rt,wt+Ct,St+jt-Pt,7,!0)):(this.v.setTripleAt(wt-Ct,St-jt,wt-Ct+Pt,St-jt,wt-Ct,St-jt,1,!0),this.v.setTripleAt(wt-Ct,St+jt,wt-Ct,St+jt-Pt,wt-Ct,St+jt,2,!0),this.v.setTripleAt(wt+Ct,St+jt,wt+Ct-Pt,St+jt,wt+Ct,St+jt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:xe},extendPrototype([DynamicPropertyContainer],Et),Et})();function mt(Et,_t,wt){var St;if(wt===3||wt===4){var Ct=wt===3?_t.pt:_t.ks,jt=Ct.k;jt.length?St=new dt(Et,_t,wt):St=new ct(Et,_t,wt)}else wt===5?St=new pt(Et,_t):wt===6?St=new ht(Et,_t):wt===7&&(St=new ft(Et,_t));return St.k&&Et.addDynamicProperty(St),St}function xt(){return ct}function yt(){return dt}var vt={};return vt.getShapeProp=mt,vt.getConstructorFunction=xt,vt.getKeyframedConstructorFunction=yt,vt})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var ee=Math.cos,te=Math.sin,ne=Math.tan,xe=Math.round;function rt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function it(Tt){if(Tt===0)return this;var Mt=ee(Tt),$t=te(Tt);return this._t(Mt,-$t,0,0,$t,Mt,0,0,0,0,1,0,0,0,0,1)}function lt(Tt){if(Tt===0)return this;var Mt=ee(Tt),$t=te(Tt);return this._t(1,0,0,0,0,Mt,-$t,0,0,$t,Mt,0,0,0,0,1)}function ct(Tt){if(Tt===0)return this;var Mt=ee(Tt),$t=te(Tt);return this._t(Mt,0,$t,0,0,1,0,0,-$t,0,Mt,0,0,0,0,1)}function ut(Tt){if(Tt===0)return this;var Mt=ee(Tt),$t=te(Tt);return this._t(Mt,-$t,0,0,$t,Mt,0,0,0,0,1,0,0,0,0,1)}function dt(Tt,Mt){return this._t(1,Mt,Tt,1,0,0)}function ht(Tt,Mt){return this.shear(ne(Tt),ne(Mt))}function ft(Tt,Mt){var $t=ee(Mt),Ht=te(Mt);return this._t($t,Ht,0,0,-Ht,$t,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,ne(Tt),1,0,0,0,0,1,0,0,0,0,1)._t($t,-Ht,0,0,Ht,$t,0,0,0,0,1,0,0,0,0,1)}function pt(Tt,Mt,$t){return!$t&&$t!==0&&($t=1),Tt===1&&Mt===1&&$t===1?this:this._t(Tt,0,0,0,0,Mt,0,0,0,0,$t,0,0,0,0,1)}function mt(Tt,Mt,$t,Ht,Wt,Vt,Yt,Qt,ar,Xt,tr,rr,ur,Jt,Zt,or){return this.props[0]=Tt,this.props[1]=Mt,this.props[2]=$t,this.props[3]=Ht,this.props[4]=Wt,this.props[5]=Vt,this.props[6]=Yt,this.props[7]=Qt,this.props[8]=ar,this.props[9]=Xt,this.props[10]=tr,this.props[11]=rr,this.props[12]=ur,this.props[13]=Jt,this.props[14]=Zt,this.props[15]=or,this}function xt(Tt,Mt,$t){return $t=$t||0,Tt!==0||Mt!==0||$t!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Tt,Mt,$t,1):this}function yt(Tt,Mt,$t,Ht,Wt,Vt,Yt,Qt,ar,Xt,tr,rr,ur,Jt,Zt,or){var dr=this.props;if(Tt===1&&Mt===0&&$t===0&&Ht===0&&Wt===0&&Vt===1&&Yt===0&&Qt===0&&ar===0&&Xt===0&&tr===1&&rr===0)return dr[12]=dr[12]*Tt+dr[15]*ur,dr[13]=dr[13]*Vt+dr[15]*Jt,dr[14]=dr[14]*tr+dr[15]*Zt,dr[15]*=or,this._identityCalculated=!1,this;var Ar=dr[0],Nr=dr[1],Mr=dr[2],Gr=dr[3],Yr=dr[4],en=dr[5],Jr=dr[6],on=dr[7],sn=dr[8],an=dr[9],dn=dr[10],pr=dr[11],Er=dr[12],sr=dr[13],vr=dr[14],Pr=dr[15];return dr[0]=Ar*Tt+Nr*Wt+Mr*ar+Gr*ur,dr[1]=Ar*Mt+Nr*Vt+Mr*Xt+Gr*Jt,dr[2]=Ar*$t+Nr*Yt+Mr*tr+Gr*Zt,dr[3]=Ar*Ht+Nr*Qt+Mr*rr+Gr*or,dr[4]=Yr*Tt+en*Wt+Jr*ar+on*ur,dr[5]=Yr*Mt+en*Vt+Jr*Xt+on*Jt,dr[6]=Yr*$t+en*Yt+Jr*tr+on*Zt,dr[7]=Yr*Ht+en*Qt+Jr*rr+on*or,dr[8]=sn*Tt+an*Wt+dn*ar+pr*ur,dr[9]=sn*Mt+an*Vt+dn*Xt+pr*Jt,dr[10]=sn*$t+an*Yt+dn*tr+pr*Zt,dr[11]=sn*Ht+an*Qt+dn*rr+pr*or,dr[12]=Er*Tt+sr*Wt+vr*ar+Pr*ur,dr[13]=Er*Mt+sr*Vt+vr*Xt+Pr*Jt,dr[14]=Er*$t+sr*Yt+vr*tr+Pr*Zt,dr[15]=Er*Ht+sr*Qt+vr*rr+Pr*or,this._identityCalculated=!1,this}function vt(Tt){var Mt=Tt.props;return this.transform(Mt[0],Mt[1],Mt[2],Mt[3],Mt[4],Mt[5],Mt[6],Mt[7],Mt[8],Mt[9],Mt[10],Mt[11],Mt[12],Mt[13],Mt[14],Mt[15])}function Et(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function _t(Tt){for(var Mt=0;Mt<16;){if(Tt.props[Mt]!==this.props[Mt])return!1;Mt+=1}return!0}function wt(Tt){var Mt;for(Mt=0;Mt<16;Mt+=1)Tt.props[Mt]=this.props[Mt];return Tt}function St(Tt){var Mt;for(Mt=0;Mt<16;Mt+=1)this.props[Mt]=Tt[Mt]}function Ct(Tt,Mt,$t){return{x:Tt*this.props[0]+Mt*this.props[4]+$t*this.props[8]+this.props[12],y:Tt*this.props[1]+Mt*this.props[5]+$t*this.props[9]+this.props[13],z:Tt*this.props[2]+Mt*this.props[6]+$t*this.props[10]+this.props[14]}}function jt(Tt,Mt,$t){return Tt*this.props[0]+Mt*this.props[4]+$t*this.props[8]+this.props[12]}function Rt(Tt,Mt,$t){return Tt*this.props[1]+Mt*this.props[5]+$t*this.props[9]+this.props[13]}function Pt(Tt,Mt,$t){return Tt*this.props[2]+Mt*this.props[6]+$t*this.props[10]+this.props[14]}function Ot(){var Tt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Mt=this.props[5]/Tt,$t=-this.props[1]/Tt,Ht=-this.props[4]/Tt,Wt=this.props[0]/Tt,Vt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Tt,Yt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Tt,Qt=new Matrix;return Qt.props[0]=Mt,Qt.props[1]=$t,Qt.props[4]=Ht,Qt.props[5]=Wt,Qt.props[12]=Vt,Qt.props[13]=Yt,Qt}function Ft(Tt){var Mt=this.getInverseMatrix();return Mt.applyToPointArray(Tt[0],Tt[1],Tt[2]||0)}function Lt(Tt){var Mt,$t=Tt.length,Ht=[];for(Mt=0;Mt<$t;Mt+=1)Ht[Mt]=Ft(Tt[Mt]);return Ht}function Bt(Tt,Mt,$t){var Ht=createTypedArray("float32",6);if(this.isIdentity())Ht[0]=Tt[0],Ht[1]=Tt[1],Ht[2]=Mt[0],Ht[3]=Mt[1],Ht[4]=$t[0],Ht[5]=$t[1];else{var Wt=this.props[0],Vt=this.props[1],Yt=this.props[4],Qt=this.props[5],ar=this.props[12],Xt=this.props[13];Ht[0]=Tt[0]*Wt+Tt[1]*Yt+ar,Ht[1]=Tt[0]*Vt+Tt[1]*Qt+Xt,Ht[2]=Mt[0]*Wt+Mt[1]*Yt+ar,Ht[3]=Mt[0]*Vt+Mt[1]*Qt+Xt,Ht[4]=$t[0]*Wt+$t[1]*Yt+ar,Ht[5]=$t[0]*Vt+$t[1]*Qt+Xt}return Ht}function Gt(Tt,Mt,$t){var Ht;return this.isIdentity()?Ht=[Tt,Mt,$t]:Ht=[Tt*this.props[0]+Mt*this.props[4]+$t*this.props[8]+this.props[12],Tt*this.props[1]+Mt*this.props[5]+$t*this.props[9]+this.props[13],Tt*this.props[2]+Mt*this.props[6]+$t*this.props[10]+this.props[14]],Ht}function It(Tt,Mt){if(this.isIdentity())return Tt+","+Mt;var $t=this.props;return Math.round((Tt*$t[0]+Mt*$t[4]+$t[12])*100)/100+","+Math.round((Tt*$t[1]+Mt*$t[5]+$t[13])*100)/100}function qt(){for(var Tt=0,Mt=this.props,$t="matrix3d(",Ht=1e4;Tt<16;)$t+=xe(Mt[Tt]*Ht)/Ht,$t+=Tt===15?")":",",Tt+=1;return $t}function Nt(Tt){var Mt=1e4;return Tt<1e-6&&Tt>0||Tt>-1e-6&&Tt<0?xe(Tt*Mt)/Mt:Tt}function Dt(){var Tt=this.props,Mt=Nt(Tt[0]),$t=Nt(Tt[1]),Ht=Nt(Tt[4]),Wt=Nt(Tt[5]),Vt=Nt(Tt[12]),Yt=Nt(Tt[13]);return"matrix("+Mt+","+$t+","+Ht+","+Wt+","+Vt+","+Yt+")"}return function(){this.reset=rt,this.rotate=it,this.rotateX=lt,this.rotateY=ct,this.rotateZ=ut,this.skew=ht,this.skewFromAxis=ft,this.shear=dt,this.scale=pt,this.setTransform=mt,this.translate=xt,this.transform=yt,this.multiply=vt,this.applyToPoint=Ct,this.applyToX=jt,this.applyToY=Rt,this.applyToZ=Pt,this.applyToPointArray=Gt,this.applyToTriplePoints=Bt,this.applyToPointStringified=It,this.toCSS=qt,this.to2dCSS=Dt,this.clone=wt,this.cloneFromProps=St,this.equals=_t,this.inversePoints=Lt,this.inversePoint=Ft,this.getInverseMatrix=Ot,this._t=this.transform,this.isIdentity=Et,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(ee){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$3(ee)}var lottie={};function setLocation(ee){setLocationHref(ee)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(ee){setSubframeEnabled(ee)}function setPrefix(ee){setIdPrefix(ee)}function loadAnimation(ee){return animationManager.loadAnimation(ee)}function setQuality(ee){if(typeof ee=="string")switch(ee){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(ee)&&ee>1&&setDefaultCurveSegments(ee)}function inBrowser(){return typeof navigator<"u"}function installPlugin(ee,te){ee==="expressions"&&setExpressionsPlugin(te)}function getFactory(ee){switch(ee){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(ee){for(var te=queryString.split("&"),ne=0;ne<te.length;ne+=1){var xe=te[ne].split("=");if(decodeURIComponent(xe[0])==ee)return decodeURIComponent(xe[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(ee){}var ShapeModifiers=(function(){var ee={},te={};ee.registerModifier=ne,ee.getModifier=xe;function ne(rt,it){te[rt]||(te[rt]=it)}function xe(rt,it,lt){return new te[rt](it,lt)}return ee})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(ee){if(!this.closed){ee.sh.container.addDynamicProperty(ee.sh);var te={shape:ee.sh,data:ee,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(te),this.addShapeToModifier(te),this._isAnimated&&ee.setAsAnimated()}},ShapeModifier.prototype.init=function(ee,te){this.shapes=[],this.elem=ee,this.initDynamicPropertyContainer(ee),this.initModifierProperties(ee,te),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(ee,te){this.s=PropertyFactory.getProp(ee,te.s,0,.01,this),this.e=PropertyFactory.getProp(ee,te.e,0,.01,this),this.o=PropertyFactory.getProp(ee,te.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=te.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(ee){ee.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(ee,te,ne,xe,rt){var it=[];te<=1?it.push({s:ee,e:te}):ee>=1?it.push({s:ee-1,e:te-1}):(it.push({s:ee,e:1}),it.push({s:0,e:te-1}));var lt=[],ct,ut=it.length,dt;for(ct=0;ct<ut;ct+=1)if(dt=it[ct],!(dt.e*rt<xe||dt.s*rt>xe+ne)){var ht,ft;dt.s*rt<=xe?ht=0:ht=(dt.s*rt-xe)/ne,dt.e*rt>=xe+ne?ft=1:ft=(dt.e*rt-xe)/ne,lt.push([ht,ft])}return lt.length||lt.push([0,0]),lt},TrimModifier.prototype.releasePathsData=function(ee){var te,ne=ee.length;for(te=0;te<ne;te+=1)segmentsLengthPool.release(ee[te]);return ee.length=0,ee},TrimModifier.prototype.processShapes=function(ee){var te,ne;if(this._mdf||ee){var xe=this.o.v%360/360;if(xe<0&&(xe+=1),this.s.v>1?te=1+xe:this.s.v<0?te=0+xe:te=this.s.v+xe,this.e.v>1?ne=1+xe:this.e.v<0?ne=0+xe:ne=this.e.v+xe,te>ne){var rt=te;te=ne,ne=rt}te=Math.round(te*1e4)*1e-4,ne=Math.round(ne*1e4)*1e-4,this.sValue=te,this.eValue=ne}else te=this.sValue,ne=this.eValue;var it,lt,ct=this.shapes.length,ut,dt,ht,ft,pt,mt=0;if(ne===te)for(lt=0;lt<ct;lt+=1)this.shapes[lt].localShapeCollection.releaseShapes(),this.shapes[lt].shape._mdf=!0,this.shapes[lt].shape.paths=this.shapes[lt].localShapeCollection,this._mdf&&(this.shapes[lt].pathsData.length=0);else if(ne===1&&te===0||ne===0&&te===1){if(this._mdf)for(lt=0;lt<ct;lt+=1)this.shapes[lt].pathsData.length=0,this.shapes[lt].shape._mdf=!0}else{var xt=[],yt,vt;for(lt=0;lt<ct;lt+=1)if(yt=this.shapes[lt],!yt.shape._mdf&&!this._mdf&&!ee&&this.m!==2)yt.shape.paths=yt.localShapeCollection;else{if(it=yt.shape.paths,dt=it._length,pt=0,!yt.shape._mdf&&yt.pathsData.length)pt=yt.totalShapeLength;else{for(ht=this.releasePathsData(yt.pathsData),ut=0;ut<dt;ut+=1)ft=bez.getSegmentsLength(it.shapes[ut]),ht.push(ft),pt+=ft.totalLength;yt.totalShapeLength=pt,yt.pathsData=ht}mt+=pt,yt.shape._mdf=!0}var Et=te,_t=ne,wt=0,St;for(lt=ct-1;lt>=0;lt-=1)if(yt=this.shapes[lt],yt.shape._mdf){for(vt=yt.localShapeCollection,vt.releaseShapes(),this.m===2&&ct>1?(St=this.calculateShapeEdges(te,ne,yt.totalShapeLength,wt,mt),wt+=yt.totalShapeLength):St=[[Et,_t]],dt=St.length,ut=0;ut<dt;ut+=1){Et=St[ut][0],_t=St[ut][1],xt.length=0,_t<=1?xt.push({s:yt.totalShapeLength*Et,e:yt.totalShapeLength*_t}):Et>=1?xt.push({s:yt.totalShapeLength*(Et-1),e:yt.totalShapeLength*(_t-1)}):(xt.push({s:yt.totalShapeLength*Et,e:yt.totalShapeLength}),xt.push({s:0,e:yt.totalShapeLength*(_t-1)}));var Ct=this.addShapes(yt,xt[0]);if(xt[0].s!==xt[0].e){if(xt.length>1){var jt=yt.shape.paths.shapes[yt.shape.paths._length-1];if(jt.c){var Rt=Ct.pop();this.addPaths(Ct,vt),Ct=this.addShapes(yt,xt[1],Rt)}else this.addPaths(Ct,vt),Ct=this.addShapes(yt,xt[1])}this.addPaths(Ct,vt)}}yt.shape.paths=vt}}},TrimModifier.prototype.addPaths=function(ee,te){var ne,xe=ee.length;for(ne=0;ne<xe;ne+=1)te.addShape(ee[ne])},TrimModifier.prototype.addSegment=function(ee,te,ne,xe,rt,it,lt){rt.setXYAt(te[0],te[1],"o",it),rt.setXYAt(ne[0],ne[1],"i",it+1),lt&&rt.setXYAt(ee[0],ee[1],"v",it),rt.setXYAt(xe[0],xe[1],"v",it+1)},TrimModifier.prototype.addSegmentFromArray=function(ee,te,ne,xe){te.setXYAt(ee[1],ee[5],"o",ne),te.setXYAt(ee[2],ee[6],"i",ne+1),xe&&te.setXYAt(ee[0],ee[4],"v",ne),te.setXYAt(ee[3],ee[7],"v",ne+1)},TrimModifier.prototype.addShapes=function(ee,te,ne){var xe=ee.pathsData,rt=ee.shape.paths.shapes,it,lt=ee.shape.paths._length,ct,ut,dt=0,ht,ft,pt,mt,xt=[],yt,vt=!0;for(ne?(ft=ne._length,yt=ne._length):(ne=shapePool.newElement(),ft=0,yt=0),xt.push(ne),it=0;it<lt;it+=1){for(pt=xe[it].lengths,ne.c=rt[it].c,ut=rt[it].c?pt.length:pt.length+1,ct=1;ct<ut;ct+=1)if(ht=pt[ct-1],dt+ht.addedLength<te.s)dt+=ht.addedLength,ne.c=!1;else if(dt>te.e){ne.c=!1;break}else te.s<=dt&&te.e>=dt+ht.addedLength?(this.addSegment(rt[it].v[ct-1],rt[it].o[ct-1],rt[it].i[ct],rt[it].v[ct],ne,ft,vt),vt=!1):(mt=bez.getNewSegment(rt[it].v[ct-1],rt[it].v[ct],rt[it].o[ct-1],rt[it].i[ct],(te.s-dt)/ht.addedLength,(te.e-dt)/ht.addedLength,pt[ct-1]),this.addSegmentFromArray(mt,ne,ft,vt),vt=!1,ne.c=!1),dt+=ht.addedLength,ft+=1;if(rt[it].c&&pt.length){if(ht=pt[ct-1],dt<=te.e){var Et=pt[ct-1].addedLength;te.s<=dt&&te.e>=dt+Et?(this.addSegment(rt[it].v[ct-1],rt[it].o[ct-1],rt[it].i[0],rt[it].v[0],ne,ft,vt),vt=!1):(mt=bez.getNewSegment(rt[it].v[ct-1],rt[it].v[0],rt[it].o[ct-1],rt[it].i[0],(te.s-dt)/Et,(te.e-dt)/Et,pt[ct-1]),this.addSegmentFromArray(mt,ne,ft,vt),vt=!1,ne.c=!1)}else ne.c=!1;dt+=ht.addedLength,ft+=1}if(ne._length&&(ne.setXYAt(ne.v[yt][0],ne.v[yt][1],"i",yt),ne.setXYAt(ne.v[ne._length-1][0],ne.v[ne._length-1][1],"o",ne._length-1)),dt>te.e)break;it<lt-1&&(ne=shapePool.newElement(),vt=!0,xt.push(ne),ft=0)}return xt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(ee,te){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(ee,te.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(ee,te){var ne=te/100,xe=[0,0],rt=ee._length,it=0;for(it=0;it<rt;it+=1)xe[0]+=ee.v[it][0],xe[1]+=ee.v[it][1];xe[0]/=rt,xe[1]/=rt;var lt=shapePool.newElement();lt.c=ee.c;var ct,ut,dt,ht,ft,pt;for(it=0;it<rt;it+=1)ct=ee.v[it][0]+(xe[0]-ee.v[it][0])*ne,ut=ee.v[it][1]+(xe[1]-ee.v[it][1])*ne,dt=ee.o[it][0]+(xe[0]-ee.o[it][0])*-ne,ht=ee.o[it][1]+(xe[1]-ee.o[it][1])*-ne,ft=ee.i[it][0]+(xe[0]-ee.i[it][0])*-ne,pt=ee.i[it][1]+(xe[1]-ee.i[it][1])*-ne,lt.setTripleAt(ct,ut,dt,ht,ft,pt,it);return lt},PuckerAndBloatModifier.prototype.processShapes=function(ee){var te,ne,xe=this.shapes.length,rt,it,lt=this.amount.v;if(lt!==0){var ct,ut;for(ne=0;ne<xe;ne+=1){if(ct=this.shapes[ne],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!ee))for(ut.releaseShapes(),ct.shape._mdf=!0,te=ct.shape.paths.shapes,it=ct.shape.paths._length,rt=0;rt<it;rt+=1)ut.addShape(this.processPath(te[rt],lt));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var ee=[0,0];function te(ut){var dt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||dt,this.a&&ut.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&ut.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&ut.skewFromAxis(-this.sk.v,this.sa.v),this.r?ut.rotate(-this.r.v):ut.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?ut.translate(this.px.v,this.py.v,-this.pz.v):ut.translate(this.px.v,this.py.v,0):ut.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function ne(ut){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||ut){var dt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ht,ft;if(dt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ht=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/dt,0),ft=this.p.getValueAtTime(this.p.keyframes[0].t/dt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ht=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/dt,0),ft=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/dt,0)):(ht=this.p.pv,ft=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/dt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ht=[],ft=[];var pt=this.px,mt=this.py;pt._caching.lastFrame+pt.offsetTime<=pt.keyframes[0].t?(ht[0]=pt.getValueAtTime((pt.keyframes[0].t+.01)/dt,0),ht[1]=mt.getValueAtTime((mt.keyframes[0].t+.01)/dt,0),ft[0]=pt.getValueAtTime(pt.keyframes[0].t/dt,0),ft[1]=mt.getValueAtTime(mt.keyframes[0].t/dt,0)):pt._caching.lastFrame+pt.offsetTime>=pt.keyframes[pt.keyframes.length-1].t?(ht[0]=pt.getValueAtTime(pt.keyframes[pt.keyframes.length-1].t/dt,0),ht[1]=mt.getValueAtTime(mt.keyframes[mt.keyframes.length-1].t/dt,0),ft[0]=pt.getValueAtTime((pt.keyframes[pt.keyframes.length-1].t-.01)/dt,0),ft[1]=mt.getValueAtTime((mt.keyframes[mt.keyframes.length-1].t-.01)/dt,0)):(ht=[pt.pv,mt.pv],ft[0]=pt.getValueAtTime((pt._caching.lastFrame+pt.offsetTime-.01)/dt,pt.offsetTime),ft[1]=mt.getValueAtTime((mt._caching.lastFrame+mt.offsetTime-.01)/dt,mt.offsetTime))}else ft=ee,ht=ft;this.v.rotate(-Math.atan2(ht[1]-ft[1],ht[0]-ft[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function xe(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function rt(){}function it(ut){this._addDynamicProperty(ut),this.elem.addDynamicProperty(ut),this._isDirty=!0}function lt(ut,dt,ht){if(this.elem=ut,this.frameId=-1,this.propType="transform",this.data=dt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ht||ut),dt.p&&dt.p.s?(this.px=PropertyFactory.getProp(ut,dt.p.x,0,0,this),this.py=PropertyFactory.getProp(ut,dt.p.y,0,0,this),dt.p.z&&(this.pz=PropertyFactory.getProp(ut,dt.p.z,0,0,this))):this.p=PropertyFactory.getProp(ut,dt.p||{k:[0,0,0]},1,0,this),dt.rx){if(this.rx=PropertyFactory.getProp(ut,dt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(ut,dt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(ut,dt.rz,0,degToRads,this),dt.or.k[0].ti){var ft,pt=dt.or.k.length;for(ft=0;ft<pt;ft+=1)dt.or.k[ft].to=null,dt.or.k[ft].ti=null}this.or=PropertyFactory.getProp(ut,dt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(ut,dt.r||{k:0},0,degToRads,this);dt.sk&&(this.sk=PropertyFactory.getProp(ut,dt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(ut,dt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(ut,dt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(ut,dt.s||{k:[100,100,100]},1,.01,this),dt.o?this.o=PropertyFactory.getProp(ut,dt.o,0,.01,ut):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}lt.prototype={applyToMatrix:te,getValue:ne,precalculateMatrix:xe,autoOrient:rt},extendPrototype([DynamicPropertyContainer],lt),lt.prototype.addDynamicProperty=it,lt.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ct(ut,dt,ht){return new lt(ut,dt,ht)}return{getTransformProperty:ct}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(ee,te){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(ee,te.c,0,null,this),this.o=PropertyFactory.getProp(ee,te.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(ee,te.tr,this),this.so=PropertyFactory.getProp(ee,te.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(ee,te.tr.eo,0,.01,this),this.data=te,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(ee,te,ne,xe,rt,it){var lt=it?-1:1,ct=xe.s.v[0]+(1-xe.s.v[0])*(1-rt),ut=xe.s.v[1]+(1-xe.s.v[1])*(1-rt);ee.translate(xe.p.v[0]*lt*rt,xe.p.v[1]*lt*rt,xe.p.v[2]),te.translate(-xe.a.v[0],-xe.a.v[1],xe.a.v[2]),te.rotate(-xe.r.v*lt*rt),te.translate(xe.a.v[0],xe.a.v[1],xe.a.v[2]),ne.translate(-xe.a.v[0],-xe.a.v[1],xe.a.v[2]),ne.scale(it?1/ct:ct,it?1/ut:ut),ne.translate(xe.a.v[0],xe.a.v[1],xe.a.v[2])},RepeaterModifier.prototype.init=function(ee,te,ne,xe){for(this.elem=ee,this.arr=te,this.pos=ne,this.elemsData=xe,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(ee),this.initModifierProperties(ee,te[ne]);ne>0;)ne-=1,this._elements.unshift(te[ne]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(ee){var te,ne=ee.length;for(te=0;te<ne;te+=1)ee[te]._processed=!1,ee[te].ty==="gr"&&this.resetElements(ee[te].it)},RepeaterModifier.prototype.cloneElements=function(ee){var te=JSON.parse(JSON.stringify(ee));return this.resetElements(te),te},RepeaterModifier.prototype.changeGroupRender=function(ee,te){var ne,xe=ee.length;for(ne=0;ne<xe;ne+=1)ee[ne]._render=te,ee[ne].ty==="gr"&&this.changeGroupRender(ee[ne].it,te)},RepeaterModifier.prototype.processShapes=function(ee){var te,ne,xe,rt,it,lt=!1;if(this._mdf||ee){var ct=Math.ceil(this.c.v);if(this._groups.length<ct){for(;this._groups.length<ct;){var ut={it:this.cloneElements(this._elements),ty:"gr"};ut.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,ut),this._groups.splice(0,0,ut),this._currentCopies+=1}this.elem.reloadShapes(),lt=!0}it=0;var dt;for(xe=0;xe<=this._groups.length-1;xe+=1){if(dt=it<ct,this._groups[xe]._render=dt,this.changeGroupRender(this._groups[xe].it,dt),!dt){var ht=this.elemsData[xe].it,ft=ht[ht.length-1];ft.transform.op.v!==0?(ft.transform.op._mdf=!0,ft.transform.op.v=0):ft.transform.op._mdf=!1}it+=1}this._currentCopies=ct;var pt=this.o.v,mt=pt%1,xt=pt>0?Math.floor(pt):Math.ceil(pt),yt=this.pMatrix.props,vt=this.rMatrix.props,Et=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var _t=0;if(pt>0){for(;_t<xt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_t+=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,mt,!1),_t+=mt)}else if(pt<0){for(;_t>xt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),_t-=1;mt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-mt,!0),_t-=mt)}xe=this.data.m===1?0:this._currentCopies-1,rt=this.data.m===1?1:-1,it=this._currentCopies;for(var wt,St;it;){if(te=this.elemsData[xe].it,ne=te[te.length-1].transform.mProps.v.props,St=ne.length,te[te.length-1].transform.mProps._mdf=!0,te[te.length-1].transform.op._mdf=!0,te[te.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(xe/(this._currentCopies-1)),_t!==0){for((xe!==0&&rt===1||xe!==this._currentCopies-1&&rt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15]),this.matrix.transform(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5],Et[6],Et[7],Et[8],Et[9],Et[10],Et[11],Et[12],Et[13],Et[14],Et[15]),this.matrix.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14],yt[15]),wt=0;wt<St;wt+=1)ne[wt]=this.matrix.props[wt];this.matrix.reset()}else for(this.matrix.reset(),wt=0;wt<St;wt+=1)ne[wt]=this.matrix.props[wt];_t+=1,it-=1,xe+=rt}}else for(it=this._currentCopies,xe=0,rt=1;it;)te=this.elemsData[xe].it,ne=te[te.length-1].transform.mProps.v.props,te[te.length-1].transform.mProps._mdf=!1,te[te.length-1].transform.op._mdf=!1,it-=1,xe+=rt;return lt},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(ee,te){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(ee,te.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(ee,te){var ne=shapePool.newElement();ne.c=ee.c;var xe,rt=ee._length,it,lt,ct,ut,dt,ht,ft=0,pt,mt,xt,yt,vt,Et;for(xe=0;xe<rt;xe+=1)it=ee.v[xe],ct=ee.o[xe],lt=ee.i[xe],it[0]===ct[0]&&it[1]===ct[1]&&it[0]===lt[0]&&it[1]===lt[1]?(xe===0||xe===rt-1)&&!ee.c?(ne.setTripleAt(it[0],it[1],ct[0],ct[1],lt[0],lt[1],ft),ft+=1):(xe===0?ut=ee.v[rt-1]:ut=ee.v[xe-1],dt=Math.sqrt(Math.pow(it[0]-ut[0],2)+Math.pow(it[1]-ut[1],2)),ht=dt?Math.min(dt/2,te)/dt:0,vt=it[0]+(ut[0]-it[0])*ht,pt=vt,Et=it[1]-(it[1]-ut[1])*ht,mt=Et,xt=pt-(pt-it[0])*roundCorner,yt=mt-(mt-it[1])*roundCorner,ne.setTripleAt(pt,mt,xt,yt,vt,Et,ft),ft+=1,xe===rt-1?ut=ee.v[0]:ut=ee.v[xe+1],dt=Math.sqrt(Math.pow(it[0]-ut[0],2)+Math.pow(it[1]-ut[1],2)),ht=dt?Math.min(dt/2,te)/dt:0,xt=it[0]+(ut[0]-it[0])*ht,pt=xt,yt=it[1]+(ut[1]-it[1])*ht,mt=yt,vt=pt-(pt-it[0])*roundCorner,Et=mt-(mt-it[1])*roundCorner,ne.setTripleAt(pt,mt,xt,yt,vt,Et,ft),ft+=1):(ne.setTripleAt(ee.v[xe][0],ee.v[xe][1],ee.o[xe][0],ee.o[xe][1],ee.i[xe][0],ee.i[xe][1],ft),ft+=1);return ne},RoundCornersModifier.prototype.processShapes=function(ee){var te,ne,xe=this.shapes.length,rt,it,lt=this.rd.v;if(lt!==0){var ct,ut;for(ne=0;ne<xe;ne+=1){if(ct=this.shapes[ne],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!ee))for(ut.releaseShapes(),ct.shape._mdf=!0,te=ct.shape.paths.shapes,it=ct.shape.paths._length,rt=0;rt<it;rt+=1)ut.addShape(this.processPath(te[rt],lt));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(ee,te){return Math.abs(ee-te)*1e5<=Math.min(Math.abs(ee),Math.abs(te))}function floatZero(ee){return Math.abs(ee)<=1e-5}function lerp(ee,te,ne){return ee*(1-ne)+te*ne}function lerpPoint(ee,te,ne){return[lerp(ee[0],te[0],ne),lerp(ee[1],te[1],ne)]}function quadRoots(ee,te,ne){if(ee===0)return[];var xe=te*te-4*ee*ne;if(xe<0)return[];var rt=-te/(2*ee);if(xe===0)return[rt];var it=Math.sqrt(xe)/(2*ee);return[rt-it,rt+it]}function polynomialCoefficients(ee,te,ne,xe){return[-ee+3*te-3*ne+xe,3*ee-6*te+3*ne,-3*ee+3*te,ee]}function singlePoint(ee){return new PolynomialBezier(ee,ee,ee,ee,!1)}function PolynomialBezier(ee,te,ne,xe,rt){rt&&pointEqual(ee,te)&&(te=lerpPoint(ee,xe,1/3)),rt&&pointEqual(ne,xe)&&(ne=lerpPoint(ee,xe,2/3));var it=polynomialCoefficients(ee[0],te[0],ne[0],xe[0]),lt=polynomialCoefficients(ee[1],te[1],ne[1],xe[1]);this.a=[it[0],lt[0]],this.b=[it[1],lt[1]],this.c=[it[2],lt[2]],this.d=[it[3],lt[3]],this.points=[ee,te,ne,xe]}PolynomialBezier.prototype.point=function(ee){return[((this.a[0]*ee+this.b[0])*ee+this.c[0])*ee+this.d[0],((this.a[1]*ee+this.b[1])*ee+this.c[1])*ee+this.d[1]]},PolynomialBezier.prototype.derivative=function(ee){return[(3*ee*this.a[0]+2*this.b[0])*ee+this.c[0],(3*ee*this.a[1]+2*this.b[1])*ee+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(ee){var te=this.derivative(ee);return Math.atan2(te[1],te[0])},PolynomialBezier.prototype.normalAngle=function(ee){var te=this.derivative(ee);return Math.atan2(te[0],te[1])},PolynomialBezier.prototype.inflectionPoints=function(){var ee=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(ee))return[];var te=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/ee,ne=te*te-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/ee;if(ne<0)return[];var xe=Math.sqrt(ne);return floatZero(xe)?xe>0&&xe<1?[te]:[]:[te-xe,te+xe].filter(function(rt){return rt>0&&rt<1})},PolynomialBezier.prototype.split=function(ee){if(ee<=0)return[singlePoint(this.points[0]),this];if(ee>=1)return[this,singlePoint(this.points[this.points.length-1])];var te=lerpPoint(this.points[0],this.points[1],ee),ne=lerpPoint(this.points[1],this.points[2],ee),xe=lerpPoint(this.points[2],this.points[3],ee),rt=lerpPoint(te,ne,ee),it=lerpPoint(ne,xe,ee),lt=lerpPoint(rt,it,ee);return[new PolynomialBezier(this.points[0],te,rt,lt,!0),new PolynomialBezier(lt,it,xe,this.points[3],!0)]};function extrema(ee,te){var ne=ee.points[0][te],xe=ee.points[ee.points.length-1][te];if(ne>xe){var rt=xe;xe=ne,ne=rt}for(var it=quadRoots(3*ee.a[te],2*ee.b[te],ee.c[te]),lt=0;lt<it.length;lt+=1)if(it[lt]>0&&it[lt]<1){var ct=ee.point(it[lt])[te];ct<ne?ne=ct:ct>xe&&(xe=ct)}return{min:ne,max:xe}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var ee=this.bounds();return{left:ee.x.min,right:ee.x.max,top:ee.y.min,bottom:ee.y.max,width:ee.x.max-ee.x.min,height:ee.y.max-ee.y.min,cx:(ee.x.max+ee.x.min)/2,cy:(ee.y.max+ee.y.min)/2}};function intersectData(ee,te,ne){var xe=ee.boundingBox();return{cx:xe.cx,cy:xe.cy,width:xe.width,height:xe.height,bez:ee,t:(te+ne)/2,t1:te,t2:ne}}function splitData(ee){var te=ee.bez.split(.5);return[intersectData(te[0],ee.t1,ee.t),intersectData(te[1],ee.t,ee.t2)]}function boxIntersect(ee,te){return Math.abs(ee.cx-te.cx)*2<ee.width+te.width&&Math.abs(ee.cy-te.cy)*2<ee.height+te.height}function intersectsImpl(ee,te,ne,xe,rt,it){if(boxIntersect(ee,te)){if(ne>=it||ee.width<=xe&&ee.height<=xe&&te.width<=xe&&te.height<=xe){rt.push([ee.t,te.t]);return}var lt=splitData(ee),ct=splitData(te);intersectsImpl(lt[0],ct[0],ne+1,xe,rt,it),intersectsImpl(lt[0],ct[1],ne+1,xe,rt,it),intersectsImpl(lt[1],ct[0],ne+1,xe,rt,it),intersectsImpl(lt[1],ct[1],ne+1,xe,rt,it)}}PolynomialBezier.prototype.intersections=function(ee,te,ne){te===void 0&&(te=2),ne===void 0&&(ne=7);var xe=[];return intersectsImpl(intersectData(this,0,1),intersectData(ee,0,1),0,te,xe,ne),xe},PolynomialBezier.shapeSegment=function(ee,te){var ne=(te+1)%ee.length();return new PolynomialBezier(ee.v[te],ee.o[te],ee.i[ne],ee.v[ne],!0)},PolynomialBezier.shapeSegmentInverted=function(ee,te){var ne=(te+1)%ee.length();return new PolynomialBezier(ee.v[ne],ee.i[ne],ee.o[te],ee.v[te],!0)};function crossProduct(ee,te){return[ee[1]*te[2]-ee[2]*te[1],ee[2]*te[0]-ee[0]*te[2],ee[0]*te[1]-ee[1]*te[0]]}function lineIntersection(ee,te,ne,xe){var rt=[ee[0],ee[1],1],it=[te[0],te[1],1],lt=[ne[0],ne[1],1],ct=[xe[0],xe[1],1],ut=crossProduct(crossProduct(rt,it),crossProduct(lt,ct));return floatZero(ut[2])?null:[ut[0]/ut[2],ut[1]/ut[2]]}function polarOffset(ee,te,ne){return[ee[0]+Math.cos(te)*ne,ee[1]-Math.sin(te)*ne]}function pointDistance(ee,te){return Math.hypot(ee[0]-te[0],ee[1]-te[1])}function pointEqual(ee,te){return floatEqual(ee[0],te[0])&&floatEqual(ee[1],te[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(ee,te){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(ee,te.s,0,null,this),this.frequency=PropertyFactory.getProp(ee,te.r,0,null,this),this.pointsType=PropertyFactory.getProp(ee,te.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(ee,te,ne,xe,rt,it,lt){var ct=ne-Math.PI/2,ut=ne+Math.PI/2,dt=te[0]+Math.cos(ne)*xe*rt,ht=te[1]-Math.sin(ne)*xe*rt;ee.setTripleAt(dt,ht,dt+Math.cos(ct)*it,ht-Math.sin(ct)*it,dt+Math.cos(ut)*lt,ht-Math.sin(ut)*lt,ee.length())}function getPerpendicularVector(ee,te){var ne=[te[0]-ee[0],te[1]-ee[1]],xe=-Math.PI*.5,rt=[Math.cos(xe)*ne[0]-Math.sin(xe)*ne[1],Math.sin(xe)*ne[0]+Math.cos(xe)*ne[1]];return rt}function getProjectingAngle(ee,te){var ne=te===0?ee.length()-1:te-1,xe=(te+1)%ee.length(),rt=ee.v[ne],it=ee.v[xe],lt=getPerpendicularVector(rt,it);return Math.atan2(0,1)-Math.atan2(lt[1],lt[0])}function zigZagCorner(ee,te,ne,xe,rt,it,lt){var ct=getProjectingAngle(te,ne),ut=te.v[ne%te._length],dt=te.v[ne===0?te._length-1:ne-1],ht=te.v[(ne+1)%te._length],ft=it===2?Math.sqrt(Math.pow(ut[0]-dt[0],2)+Math.pow(ut[1]-dt[1],2)):0,pt=it===2?Math.sqrt(Math.pow(ut[0]-ht[0],2)+Math.pow(ut[1]-ht[1],2)):0;setPoint(ee,te.v[ne%te._length],ct,lt,xe,pt/((rt+1)*2),ft/((rt+1)*2))}function zigZagSegment(ee,te,ne,xe,rt,it){for(var lt=0;lt<xe;lt+=1){var ct=(lt+1)/(xe+1),ut=rt===2?Math.sqrt(Math.pow(te.points[3][0]-te.points[0][0],2)+Math.pow(te.points[3][1]-te.points[0][1],2)):0,dt=te.normalAngle(ct),ht=te.point(ct);setPoint(ee,ht,dt,it,ne,ut/((xe+1)*2),ut/((xe+1)*2)),it=-it}return it}ZigZagModifier.prototype.processPath=function(ee,te,ne,xe){var rt=ee._length,it=shapePool.newElement();if(it.c=ee.c,ee.c||(rt-=1),rt===0)return it;var lt=-1,ct=PolynomialBezier.shapeSegment(ee,0);zigZagCorner(it,ee,0,te,ne,xe,lt);for(var ut=0;ut<rt;ut+=1)lt=zigZagSegment(it,ct,te,ne,xe,-lt),ut===rt-1&&!ee.c?ct=null:ct=PolynomialBezier.shapeSegment(ee,(ut+1)%rt),zigZagCorner(it,ee,ut+1,te,ne,xe,lt);return it},ZigZagModifier.prototype.processShapes=function(ee){var te,ne,xe=this.shapes.length,rt,it,lt=this.amplitude.v,ct=Math.max(0,Math.round(this.frequency.v)),ut=this.pointsType.v;if(lt!==0){var dt,ht;for(ne=0;ne<xe;ne+=1){if(dt=this.shapes[ne],ht=dt.localShapeCollection,!(!dt.shape._mdf&&!this._mdf&&!ee))for(ht.releaseShapes(),dt.shape._mdf=!0,te=dt.shape.paths.shapes,it=dt.shape.paths._length,rt=0;rt<it;rt+=1)ht.addShape(this.processPath(te[rt],lt,ct,ut));dt.shape.paths=dt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(ee,te,ne){var xe=Math.atan2(te[0]-ee[0],te[1]-ee[1]);return[polarOffset(ee,xe,ne),polarOffset(te,xe,ne)]}function offsetSegment(ee,te){var ne,xe,rt,it,lt,ct,ut;ut=linearOffset(ee.points[0],ee.points[1],te),ne=ut[0],xe=ut[1],ut=linearOffset(ee.points[1],ee.points[2],te),rt=ut[0],it=ut[1],ut=linearOffset(ee.points[2],ee.points[3],te),lt=ut[0],ct=ut[1];var dt=lineIntersection(ne,xe,rt,it);dt===null&&(dt=xe);var ht=lineIntersection(lt,ct,rt,it);return ht===null&&(ht=lt),new PolynomialBezier(ne,dt,ht,ct)}function joinLines(ee,te,ne,xe,rt){var it=te.points[3],lt=ne.points[0];if(xe===3||pointEqual(it,lt))return it;if(xe===2){var ct=-te.tangentAngle(1),ut=-ne.tangentAngle(0)+Math.PI,dt=lineIntersection(it,polarOffset(it,ct+Math.PI/2,100),lt,polarOffset(lt,ct+Math.PI/2,100)),ht=dt?pointDistance(dt,it):pointDistance(it,lt)/2,ft=polarOffset(it,ct,2*ht*roundCorner);return ee.setXYAt(ft[0],ft[1],"o",ee.length()-1),ft=polarOffset(lt,ut,2*ht*roundCorner),ee.setTripleAt(lt[0],lt[1],lt[0],lt[1],ft[0],ft[1],ee.length()),lt}var pt=pointEqual(it,te.points[2])?te.points[0]:te.points[2],mt=pointEqual(lt,ne.points[1])?ne.points[3]:ne.points[1],xt=lineIntersection(pt,it,lt,mt);return xt&&pointDistance(xt,it)<rt?(ee.setTripleAt(xt[0],xt[1],xt[0],xt[1],xt[0],xt[1],ee.length()),xt):it}function getIntersection(ee,te){var ne=ee.intersections(te);return ne.length&&floatEqual(ne[0][0],1)&&ne.shift(),ne.length?ne[0]:null}function pruneSegmentIntersection(ee,te){var ne=ee.slice(),xe=te.slice(),rt=getIntersection(ee[ee.length-1],te[0]);return rt&&(ne[ee.length-1]=ee[ee.length-1].split(rt[0])[0],xe[0]=te[0].split(rt[1])[1]),ee.length>1&&te.length>1&&(rt=getIntersection(ee[0],te[te.length-1]),rt)?[[ee[0].split(rt[0])[0]],[te[te.length-1].split(rt[1])[1]]]:[ne,xe]}function pruneIntersections(ee){for(var te,ne=1;ne<ee.length;ne+=1)te=pruneSegmentIntersection(ee[ne-1],ee[ne]),ee[ne-1]=te[0],ee[ne]=te[1];return ee.length>1&&(te=pruneSegmentIntersection(ee[ee.length-1],ee[0]),ee[ee.length-1]=te[0],ee[0]=te[1]),ee}function offsetSegmentSplit(ee,te){var ne=ee.inflectionPoints(),xe,rt,it,lt;if(ne.length===0)return[offsetSegment(ee,te)];if(ne.length===1||floatEqual(ne[1],1))return it=ee.split(ne[0]),xe=it[0],rt=it[1],[offsetSegment(xe,te),offsetSegment(rt,te)];it=ee.split(ne[0]),xe=it[0];var ct=(ne[1]-ne[0])/(1-ne[0]);return it=it[1].split(ct),lt=it[0],rt=it[1],[offsetSegment(xe,te),offsetSegment(lt,te),offsetSegment(rt,te)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(ee,te){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(ee,te.a,0,null,this),this.miterLimit=PropertyFactory.getProp(ee,te.ml,0,null,this),this.lineJoin=te.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(ee,te,ne,xe){var rt=shapePool.newElement();rt.c=ee.c;var it=ee.length();ee.c||(it-=1);var lt,ct,ut,dt=[];for(lt=0;lt<it;lt+=1)ut=PolynomialBezier.shapeSegment(ee,lt),dt.push(offsetSegmentSplit(ut,te));if(!ee.c)for(lt=it-1;lt>=0;lt-=1)ut=PolynomialBezier.shapeSegmentInverted(ee,lt),dt.push(offsetSegmentSplit(ut,te));dt=pruneIntersections(dt);var ht=null,ft=null;for(lt=0;lt<dt.length;lt+=1){var pt=dt[lt];for(ft&&(ht=joinLines(rt,ft,pt[0],ne,xe)),ft=pt[pt.length-1],ct=0;ct<pt.length;ct+=1)ut=pt[ct],ht&&pointEqual(ut.points[0],ht)?rt.setXYAt(ut.points[1][0],ut.points[1][1],"o",rt.length()-1):rt.setTripleAt(ut.points[0][0],ut.points[0][1],ut.points[1][0],ut.points[1][1],ut.points[0][0],ut.points[0][1],rt.length()),rt.setTripleAt(ut.points[3][0],ut.points[3][1],ut.points[3][0],ut.points[3][1],ut.points[2][0],ut.points[2][1],rt.length()),ht=ut.points[3]}return dt.length&&joinLines(rt,ft,dt[0][0],ne,xe),rt},OffsetPathModifier.prototype.processShapes=function(ee){var te,ne,xe=this.shapes.length,rt,it,lt=this.amount.v,ct=this.miterLimit.v,ut=this.lineJoin;if(lt!==0){var dt,ht;for(ne=0;ne<xe;ne+=1){if(dt=this.shapes[ne],ht=dt.localShapeCollection,!(!dt.shape._mdf&&!this._mdf&&!ee))for(ht.releaseShapes(),dt.shape._mdf=!0,te=dt.shape.paths.shapes,it=dt.shape.paths._length,rt=0;rt<it;rt+=1)ht.addShape(this.processPath(te[rt],lt,ut,ct));dt.shape.paths=dt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(ee){for(var te=ee.fStyle?ee.fStyle.split(" "):[],ne="normal",xe="normal",rt=te.length,it,lt=0;lt<rt;lt+=1)switch(it=te[lt].toLowerCase(),it){case"italic":xe="italic";break;case"bold":ne="700";break;case"black":ne="900";break;case"medium":ne="500";break;case"regular":case"normal":ne="400";break;case"light":case"thin":ne="200";break}return{style:xe,weight:ee.fWeight||ne}}var FontManager=(function(){var ee=5e3,te={w:0,size:0,shapes:[],data:{shapes:[]}},ne=[];ne=ne.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var xe=127988,rt=917631,it=917601,lt=917626,ct=65039,ut=8205,dt=127462,ht=127487,ft=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function pt(Nt){var Dt=Nt.split(","),Tt,Mt=Dt.length,$t=[];for(Tt=0;Tt<Mt;Tt+=1)Dt[Tt]!=="sans-serif"&&Dt[Tt]!=="monospace"&&$t.push(Dt[Tt]);return $t.join(",")}function mt(Nt,Dt){var Tt=createTag("span");Tt.setAttribute("aria-hidden",!0),Tt.style.fontFamily=Dt;var Mt=createTag("span");Mt.innerText="giItT1WQy@!-/#",Tt.style.position="absolute",Tt.style.left="-10000px",Tt.style.top="-10000px",Tt.style.fontSize="300px",Tt.style.fontVariant="normal",Tt.style.fontStyle="normal",Tt.style.fontWeight="normal",Tt.style.letterSpacing="0",Tt.appendChild(Mt),document.body.appendChild(Tt);var $t=Mt.offsetWidth;return Mt.style.fontFamily=pt(Nt)+", "+Dt,{node:Mt,w:$t,parent:Tt}}function xt(){var Nt,Dt=this.fonts.length,Tt,Mt,$t=Dt;for(Nt=0;Nt<Dt;Nt+=1)this.fonts[Nt].loaded?$t-=1:this.fonts[Nt].fOrigin==="n"||this.fonts[Nt].origin===0?this.fonts[Nt].loaded=!0:(Tt=this.fonts[Nt].monoCase.node,Mt=this.fonts[Nt].monoCase.w,Tt.offsetWidth!==Mt?($t-=1,this.fonts[Nt].loaded=!0):(Tt=this.fonts[Nt].sansCase.node,Mt=this.fonts[Nt].sansCase.w,Tt.offsetWidth!==Mt&&($t-=1,this.fonts[Nt].loaded=!0)),this.fonts[Nt].loaded&&(this.fonts[Nt].sansCase.parent.parentNode.removeChild(this.fonts[Nt].sansCase.parent),this.fonts[Nt].monoCase.parent.parentNode.removeChild(this.fonts[Nt].monoCase.parent)));$t!==0&&Date.now()-this.initTime<ee?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function yt(Nt,Dt){var Tt=document.body&&Dt?"svg":"canvas",Mt,$t=getFontProperties(Nt);if(Tt==="svg"){var Ht=createNS("text");Ht.style.fontSize="100px",Ht.setAttribute("font-family",Nt.fFamily),Ht.setAttribute("font-style",$t.style),Ht.setAttribute("font-weight",$t.weight),Ht.textContent="1",Nt.fClass?(Ht.style.fontFamily="inherit",Ht.setAttribute("class",Nt.fClass)):Ht.style.fontFamily=Nt.fFamily,Dt.appendChild(Ht),Mt=Ht}else{var Wt=new OffscreenCanvas(500,500).getContext("2d");Wt.font=$t.style+" "+$t.weight+" 100px "+Nt.fFamily,Mt=Wt}function Vt(Yt){return Tt==="svg"?(Mt.textContent=Yt,Mt.getComputedTextLength()):Mt.measureText(Yt).width}return{measureText:Vt}}function vt(Nt,Dt){if(!Nt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Nt.list;return}if(!document.body){this.isLoaded=!0,Nt.list.forEach(function(tr){tr.helper=yt(tr),tr.cache={}}),this.fonts=Nt.list;return}var Tt=Nt.list,Mt,$t=Tt.length,Ht=$t;for(Mt=0;Mt<$t;Mt+=1){var Wt=!0,Vt,Yt;if(Tt[Mt].loaded=!1,Tt[Mt].monoCase=mt(Tt[Mt].fFamily,"monospace"),Tt[Mt].sansCase=mt(Tt[Mt].fFamily,"sans-serif"),!Tt[Mt].fPath)Tt[Mt].loaded=!0,Ht-=1;else if(Tt[Mt].fOrigin==="p"||Tt[Mt].origin===3){if(Vt=document.querySelectorAll('style[f-forigin="p"][f-family="'+Tt[Mt].fFamily+'"], style[f-origin="3"][f-family="'+Tt[Mt].fFamily+'"]'),Vt.length>0&&(Wt=!1),Wt){var Qt=createTag("style");Qt.setAttribute("f-forigin",Tt[Mt].fOrigin),Qt.setAttribute("f-origin",Tt[Mt].origin),Qt.setAttribute("f-family",Tt[Mt].fFamily),Qt.type="text/css",Qt.innerText="@font-face {font-family: "+Tt[Mt].fFamily+"; font-style: normal; src: url('"+Tt[Mt].fPath+"');}",Dt.appendChild(Qt)}}else if(Tt[Mt].fOrigin==="g"||Tt[Mt].origin===1){for(Vt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Yt=0;Yt<Vt.length;Yt+=1)Vt[Yt].href.indexOf(Tt[Mt].fPath)!==-1&&(Wt=!1);if(Wt){var ar=createTag("link");ar.setAttribute("f-forigin",Tt[Mt].fOrigin),ar.setAttribute("f-origin",Tt[Mt].origin),ar.type="text/css",ar.rel="stylesheet",ar.href=Tt[Mt].fPath,document.body.appendChild(ar)}}else if(Tt[Mt].fOrigin==="t"||Tt[Mt].origin===2){for(Vt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Yt=0;Yt<Vt.length;Yt+=1)Tt[Mt].fPath===Vt[Yt].src&&(Wt=!1);if(Wt){var Xt=createTag("link");Xt.setAttribute("f-forigin",Tt[Mt].fOrigin),Xt.setAttribute("f-origin",Tt[Mt].origin),Xt.setAttribute("rel","stylesheet"),Xt.setAttribute("href",Tt[Mt].fPath),Dt.appendChild(Xt)}}Tt[Mt].helper=yt(Tt[Mt],Dt),Tt[Mt].cache={},this.fonts.push(Tt[Mt])}Ht===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Et(Nt){if(Nt){this.chars||(this.chars=[]);var Dt,Tt=Nt.length,Mt,$t=this.chars.length,Ht;for(Dt=0;Dt<Tt;Dt+=1){for(Mt=0,Ht=!1;Mt<$t;)this.chars[Mt].style===Nt[Dt].style&&this.chars[Mt].fFamily===Nt[Dt].fFamily&&this.chars[Mt].ch===Nt[Dt].ch&&(Ht=!0),Mt+=1;Ht||(this.chars.push(Nt[Dt]),$t+=1)}}}function _t(Nt,Dt,Tt){for(var Mt=0,$t=this.chars.length;Mt<$t;){if(this.chars[Mt].ch===Nt&&this.chars[Mt].style===Dt&&this.chars[Mt].fFamily===Tt)return this.chars[Mt];Mt+=1}return(typeof Nt=="string"&&Nt.charCodeAt(0)!==13||!Nt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Nt,Dt,Tt)),te}function wt(Nt,Dt,Tt){var Mt=this.getFontByName(Dt),$t=Nt;if(!Mt.cache[$t]){var Ht=Mt.helper;if(Nt===" "){var Wt=Ht.measureText("|"+Nt+"|"),Vt=Ht.measureText("||");Mt.cache[$t]=(Wt-Vt)/100}else Mt.cache[$t]=Ht.measureText(Nt)/100}return Mt.cache[$t]*Tt}function St(Nt){for(var Dt=0,Tt=this.fonts.length;Dt<Tt;){if(this.fonts[Dt].fName===Nt)return this.fonts[Dt];Dt+=1}return this.fonts[0]}function Ct(Nt){var Dt=0,Tt=Nt.charCodeAt(0);if(Tt>=55296&&Tt<=56319){var Mt=Nt.charCodeAt(1);Mt>=56320&&Mt<=57343&&(Dt=(Tt-55296)*1024+Mt-56320+65536)}return Dt}function jt(Nt,Dt){var Tt=Nt.toString(16)+Dt.toString(16);return ft.indexOf(Tt)!==-1}function Rt(Nt){return Nt===ut}function Pt(Nt){return Nt===ct}function Ot(Nt){var Dt=Ct(Nt);return Dt>=dt&&Dt<=ht}function Ft(Nt){return Ot(Nt.substr(0,2))&&Ot(Nt.substr(2,2))}function Lt(Nt){return ne.indexOf(Nt)!==-1}function Bt(Nt,Dt){var Tt=Ct(Nt.substr(Dt,2));if(Tt!==xe)return!1;var Mt=0;for(Dt+=2;Mt<5;){if(Tt=Ct(Nt.substr(Dt,2)),Tt<it||Tt>lt)return!1;Mt+=1,Dt+=2}return Ct(Nt.substr(Dt,2))===rt}function Gt(){this.isLoaded=!0}var It=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};It.isModifier=jt,It.isZeroWidthJoiner=Rt,It.isFlagEmoji=Ft,It.isRegionalCode=Ot,It.isCombinedCharacter=Lt,It.isRegionalFlag=Bt,It.isVariationSelector=Pt,It.BLACK_FLAG_CODE_POINT=xe;var qt={addChars:Et,addFonts:vt,getCharData:_t,getFontByName:St,measureText:wt,checkLoadedFonts:xt,setIsLoaded:Gt};return It.prototype=qt,It})();function SlotManager(ee){this.animationData=ee}SlotManager.prototype.getProp=function(ee){return this.animationData.slots&&this.animationData.slots[ee.sid]?Object.assign(ee,this.animationData.slots[ee.sid].p):ee};function slotFactory(ee){return new SlotManager(ee)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(te){this.renderableComponents.indexOf(te)===-1&&this.renderableComponents.push(te)},removeRenderableComponent:function(te){this.renderableComponents.indexOf(te)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(te),1)},prepareRenderableFrame:function(te){this.checkLayerLimits(te)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(te){this.data.ip-this.data.st<=te&&this.data.op-this.data.st>te?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var te,ne=this.renderableComponents.length;for(te=0;te<ne;te+=1)this.renderableComponents[te].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var ee={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(te){return ee[te]||""}})();function SliderEffect(ee,te,ne){this.p=PropertyFactory.getProp(te,ee.v,0,0,ne)}function AngleEffect(ee,te,ne){this.p=PropertyFactory.getProp(te,ee.v,0,0,ne)}function ColorEffect(ee,te,ne){this.p=PropertyFactory.getProp(te,ee.v,1,0,ne)}function PointEffect(ee,te,ne){this.p=PropertyFactory.getProp(te,ee.v,1,0,ne)}function LayerIndexEffect(ee,te,ne){this.p=PropertyFactory.getProp(te,ee.v,0,0,ne)}function MaskIndexEffect(ee,te,ne){this.p=PropertyFactory.getProp(te,ee.v,0,0,ne)}function CheckboxEffect(ee,te,ne){this.p=PropertyFactory.getProp(te,ee.v,0,0,ne)}function NoValueEffect(){this.p={}}function EffectsManager(ee,te){var ne=ee.ef||[];this.effectElements=[];var xe,rt=ne.length,it;for(xe=0;xe<rt;xe+=1)it=new GroupEffect(ne[xe],te),this.effectElements.push(it)}function GroupEffect(ee,te){this.init(ee,te)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(ee,te){this.data=ee,this.effectElements=[],this.initDynamicPropertyContainer(te);var ne,xe=this.data.ef.length,rt,it=this.data.ef;for(ne=0;ne<xe;ne+=1){switch(rt=null,it[ne].ty){case 0:rt=new SliderEffect(it[ne],te,this);break;case 1:rt=new AngleEffect(it[ne],te,this);break;case 2:rt=new ColorEffect(it[ne],te,this);break;case 3:rt=new PointEffect(it[ne],te,this);break;case 4:case 7:rt=new CheckboxEffect(it[ne],te,this);break;case 10:rt=new LayerIndexEffect(it[ne],te,this);break;case 11:rt=new MaskIndexEffect(it[ne],te,this);break;case 5:rt=new EffectsManager(it[ne],te);break;default:rt=new NoValueEffect(it[ne]);break}rt&&this.effectElements.push(rt)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var te=0,ne=this.data.masksProperties.length;te<ne;){if(this.data.masksProperties[te].mode!=="n"&&this.data.masksProperties[te].cl!==!1)return!0;te+=1}return!1},initExpressions:function(){var te=getExpressionInterfaces();if(te){var ne=te("layer"),xe=te("effects"),rt=te("shape"),it=te("text"),lt=te("comp");this.layerInterface=ne(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ct=xe.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ct),this.data.ty===0||this.data.xt?this.compInterface=lt(this):this.data.ty===4?(this.layerInterface.shapeInterface=rt(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=it(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var te=getBlendMode(this.data.bm),ne=this.baseElement||this.layerElement;ne.style["mix-blend-mode"]=te},initBaseData:function(te,ne,xe){this.globalData=ne,this.comp=xe,this.data=te,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(te,ne){var xe,rt=this.dynamicProperties.length;for(xe=0;xe<rt;xe+=1)(ne||this._isParent&&this.dynamicProperties[xe].propType==="transform")&&(this.dynamicProperties[xe].getValue(),this.dynamicProperties[xe]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(te){this.dynamicProperties.indexOf(te)===-1&&this.dynamicProperties.push(te)}};function FootageElement(ee,te,ne){this.initFrame(),this.initRenderable(),this.assetData=te.getAssetData(ee.refId),this.footageData=te.imageLoader.getAsset(this.assetData),this.initBaseData(ee,te,ne)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var ee=getExpressionInterfaces();if(ee){var te=ee("footage");this.layerInterface=te(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(ee,te,ne){this.initFrame(),this.initRenderable(),this.assetData=te.getAssetData(ee.refId),this.initBaseData(ee,te,ne),this._isPlaying=!1,this._canPlay=!1;var xe=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(xe),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=ee.tm?PropertyFactory.getProp(this,ee.tm,0,te.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,ee.au&&ee.au.lv?ee.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(ee){if(this.prepareRenderableFrame(ee,!0),this.prepareProperties(ee,!0),this.tm._placeholder)this._currentTime=ee/this.data.sr;else{var te=this.tm.v;this._currentTime=te}this._volume=this.lv.v[0];var ne=this._volume*this._volumeMultiplier;this._previousVolume!==ne&&(this._previousVolume=ne,this.audio.volume(ne))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(ee){this.audio.rate(ee)},AudioElement.prototype.volume=function(ee){this._volumeMultiplier=ee,this._previousVolume=ee*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(ee){var te,ne=this.layers.length,xe;for(this.completeLayers=!0,te=ne-1;te>=0;te-=1)this.elements[te]||(xe=this.layers[te],xe.ip-xe.st<=ee-this.layers[te].st&&xe.op-xe.st>ee-this.layers[te].st&&this.buildItem(te)),this.completeLayers=this.elements[te]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(ee){switch(ee.ty){case 2:return this.createImage(ee);case 0:return this.createComp(ee);case 1:return this.createSolid(ee);case 3:return this.createNull(ee);case 4:return this.createShape(ee);case 5:return this.createText(ee);case 6:return this.createAudio(ee);case 13:return this.createCamera(ee);case 15:return this.createFootage(ee);default:return this.createNull(ee)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(ee){return new AudioElement(ee,this.globalData,this)},BaseRenderer.prototype.createFootage=function(ee){return new FootageElement(ee,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var ee,te=this.layers.length;for(ee=0;ee<te;ee+=1)this.buildItem(ee);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(ee){this.completeLayers=!1;var te,ne=ee.length,xe,rt=this.layers.length;for(te=0;te<ne;te+=1)for(xe=0;xe<rt;){if(this.layers[xe].id===ee[te].id){this.layers[xe]=ee[te];break}xe+=1}},BaseRenderer.prototype.setProjectInterface=function(ee){this.globalData.projectInterface=ee},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(ee,te,ne){for(var xe=this.elements,rt=this.layers,it=0,lt=rt.length;it<lt;)rt[it].ind==te&&(!xe[it]||xe[it]===!0?(this.buildItem(it),this.addPendingElement(ee)):(ne.push(xe[it]),xe[it].setAsParent(),rt[it].parent!==void 0?this.buildElementParenting(ee,rt[it].parent,ne):ee.setHierarchy(ne))),it+=1},BaseRenderer.prototype.addPendingElement=function(ee){this.pendingElements.push(ee)},BaseRenderer.prototype.searchExtraCompositions=function(ee){var te,ne=ee.length;for(te=0;te<ne;te+=1)if(ee[te].xt){var xe=this.createComp(ee[te]);xe.initExpressions(),this.globalData.projectInterface.registerComposition(xe)}},BaseRenderer.prototype.getElementById=function(ee){var te,ne=this.elements.length;for(te=0;te<ne;te+=1)if(this.elements[te].data.ind===ee)return this.elements[te];return null},BaseRenderer.prototype.getElementByPath=function(ee){var te=ee.shift(),ne;if(typeof te=="number")ne=this.elements[te];else{var xe,rt=this.elements.length;for(xe=0;xe<rt;xe+=1)if(this.elements[xe].data.nm===te){ne=this.elements[xe];break}}return ee.length===0?ne:ne.getElementByPath(ee)},BaseRenderer.prototype.setupGlobalData=function(ee,te){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(ee),this.globalData.fontManager.addChars(ee.chars),this.globalData.fontManager.addFonts(ee.fonts,te),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=ee.fr,this.globalData.nm=ee.nm,this.globalData.compSize={w:ee.w,h:ee.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var te=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:te,localMat:te,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var te,ne=this.finalTransform.mat,xe=0,rt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;xe<rt;){if(this.hierarchy[xe].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}xe+=1}if(this.finalTransform._matMdf)for(te=this.finalTransform.mProp.v.props,ne.cloneFromProps(te),xe=0;xe<rt;xe+=1)ne.multiply(this.hierarchy[xe].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var te=0,ne=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;te<ne;)this.localTransforms[te]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[te]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),te+=1;if(this.finalTransform._localMatMdf){var xe=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(xe),te=1;te<ne;te+=1){var rt=this.localTransforms[te].matrix;xe.multiply(rt)}xe.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var it=this.finalTransform.localOpacity;for(te=0;te<ne;te+=1)it*=this.localTransforms[te].opacity*.01;this.finalTransform.localOpacity=it}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var te=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(te.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var ne=0,xe=te.length;for(ne=0;ne<xe;ne+=1)this.localTransforms.push(te[ne])}}},globalToLocal:function(te){var ne=[];ne.push(this.finalTransform);for(var xe=!0,rt=this.comp;xe;)rt.finalTransform?(rt.data.hasMask&&ne.splice(0,0,rt.finalTransform),rt=rt.comp):xe=!1;var it,lt=ne.length,ct;for(it=0;it<lt;it+=1)ct=ne[it].mat.applyToPointArray(0,0,0),te=[te[0]-ct[0],te[1]-ct[1],0];return te},mHelper:new Matrix};function MaskElement(ee,te,ne){this.data=ee,this.element=te,this.globalData=ne,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var xe=this.globalData.defs,rt,it=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(it),this.solidPath="";var lt,ct=this.masksProperties,ut=0,dt=[],ht,ft,pt=createElementID(),mt,xt,yt,vt,Et="clipPath",_t="clip-path";for(rt=0;rt<it;rt+=1)if((ct[rt].mode!=="a"&&ct[rt].mode!=="n"||ct[rt].inv||ct[rt].o.k!==100||ct[rt].o.x)&&(Et="mask",_t="mask"),(ct[rt].mode==="s"||ct[rt].mode==="i")&&ut===0?(mt=createNS("rect"),mt.setAttribute("fill","#ffffff"),mt.setAttribute("width",this.element.comp.data.w||0),mt.setAttribute("height",this.element.comp.data.h||0),dt.push(mt)):mt=null,lt=createNS("path"),ct[rt].mode==="n")this.viewData[rt]={op:PropertyFactory.getProp(this.element,ct[rt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ct[rt],3),elem:lt,lastPath:""},xe.appendChild(lt);else{ut+=1,lt.setAttribute("fill",ct[rt].mode==="s"?"#000000":"#ffffff"),lt.setAttribute("clip-rule","nonzero");var wt;if(ct[rt].x.k!==0?(Et="mask",_t="mask",vt=PropertyFactory.getProp(this.element,ct[rt].x,0,null,this.element),wt=createElementID(),xt=createNS("filter"),xt.setAttribute("id",wt),yt=createNS("feMorphology"),yt.setAttribute("operator","erode"),yt.setAttribute("in","SourceGraphic"),yt.setAttribute("radius","0"),xt.appendChild(yt),xe.appendChild(xt),lt.setAttribute("stroke",ct[rt].mode==="s"?"#000000":"#ffffff")):(yt=null,vt=null),this.storedData[rt]={elem:lt,x:vt,expan:yt,lastPath:"",lastOperator:"",filterId:wt,lastRadius:0},ct[rt].mode==="i"){ft=dt.length;var St=createNS("g");for(ht=0;ht<ft;ht+=1)St.appendChild(dt[ht]);var Ct=createNS("mask");Ct.setAttribute("mask-type","alpha"),Ct.setAttribute("id",pt+"_"+ut),Ct.appendChild(lt),xe.appendChild(Ct),St.setAttribute("mask","url("+getLocationHref()+"#"+pt+"_"+ut+")"),dt.length=0,dt.push(St)}else dt.push(lt);ct[rt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[rt]={elem:lt,lastPath:"",op:PropertyFactory.getProp(this.element,ct[rt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ct[rt],3),invRect:mt},this.viewData[rt].prop.k||this.drawPath(ct[rt],this.viewData[rt].prop.v,this.viewData[rt])}for(this.maskElement=createNS(Et),it=dt.length,rt=0;rt<it;rt+=1)this.maskElement.appendChild(dt[rt]);ut>0&&(this.maskElement.setAttribute("id",pt),this.element.maskedElement.setAttribute(_t,"url("+getLocationHref()+"#"+pt+")"),xe.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(ee){return this.viewData[ee].prop},MaskElement.prototype.renderFrame=function(ee){var te=this.element.finalTransform.mat,ne,xe=this.masksProperties.length;for(ne=0;ne<xe;ne+=1)if((this.viewData[ne].prop._mdf||ee)&&this.drawPath(this.masksProperties[ne],this.viewData[ne].prop.v,this.viewData[ne]),(this.viewData[ne].op._mdf||ee)&&this.viewData[ne].elem.setAttribute("fill-opacity",this.viewData[ne].op.v),this.masksProperties[ne].mode!=="n"&&(this.viewData[ne].invRect&&(this.element.finalTransform.mProp._mdf||ee)&&this.viewData[ne].invRect.setAttribute("transform",te.getInverseMatrix().to2dCSS()),this.storedData[ne].x&&(this.storedData[ne].x._mdf||ee))){var rt=this.storedData[ne].expan;this.storedData[ne].x.v<0?(this.storedData[ne].lastOperator!=="erode"&&(this.storedData[ne].lastOperator="erode",this.storedData[ne].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[ne].filterId+")")),rt.setAttribute("radius",-this.storedData[ne].x.v)):(this.storedData[ne].lastOperator!=="dilate"&&(this.storedData[ne].lastOperator="dilate",this.storedData[ne].elem.setAttribute("filter",null)),this.storedData[ne].elem.setAttribute("stroke-width",this.storedData[ne].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var ee="M0,0 ";return ee+=" h"+this.globalData.compSize.w,ee+=" v"+this.globalData.compSize.h,ee+=" h-"+this.globalData.compSize.w,ee+=" v-"+this.globalData.compSize.h+" ",ee},MaskElement.prototype.drawPath=function(ee,te,ne){var xe=" M"+te.v[0][0]+","+te.v[0][1],rt,it;for(it=te._length,rt=1;rt<it;rt+=1)xe+=" C"+te.o[rt-1][0]+","+te.o[rt-1][1]+" "+te.i[rt][0]+","+te.i[rt][1]+" "+te.v[rt][0]+","+te.v[rt][1];if(te.c&&it>1&&(xe+=" C"+te.o[rt-1][0]+","+te.o[rt-1][1]+" "+te.i[0][0]+","+te.i[0][1]+" "+te.v[0][0]+","+te.v[0][1]),ne.lastPath!==xe){var lt="";ne.elem&&(te.c&&(lt=ee.inv?this.solidPath+xe:xe),ne.elem.setAttribute("d",lt)),ne.lastPath=xe}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var ee={};ee.createFilter=te,ee.createAlphaToLuminanceFilter=ne;function te(xe,rt){var it=createNS("filter");return it.setAttribute("id",xe),rt!==!0&&(it.setAttribute("filterUnits","objectBoundingBox"),it.setAttribute("x","0%"),it.setAttribute("y","0%"),it.setAttribute("width","100%"),it.setAttribute("height","100%")),it}function ne(){var xe=createNS("feColorMatrix");return xe.setAttribute("type","matrix"),xe.setAttribute("color-interpolation-filters","sRGB"),xe.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),xe}return ee})(),featureSupport=(function(){var ee={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(ee.maskType=!1),/firefox/i.test(navigator.userAgent)&&(ee.svgLumaHidden=!1),ee})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(ee){var te,ne="SourceGraphic",xe=ee.data.ef?ee.data.ef.length:0,rt=createElementID(),it=filtersFactory.createFilter(rt,!0),lt=0;this.filters=[];var ct;for(te=0;te<xe;te+=1){ct=null;var ut=ee.data.ef[te].ty;if(registeredEffects$1[ut]){var dt=registeredEffects$1[ut].effect;ct=new dt(it,ee.effectsManager.effectElements[te],ee,idPrefix+lt,ne),ne=idPrefix+lt,registeredEffects$1[ut].countsAsEffect&&(lt+=1)}ct&&this.filters.push(ct)}lt&&(ee.globalData.defs.appendChild(it),ee.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+rt+")")),this.filters.length&&ee.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(ee){var te,ne=this.filters.length;for(te=0;te<ne;te+=1)this.filters[te].renderFrame(ee)},SVGEffects.prototype.getEffects=function(ee){var te,ne=this.filters.length,xe=[];for(te=0;te<ne;te+=1)this.filters[te].type===ee&&xe.push(this.filters[te]);return xe};function registerEffect$1(ee,te,ne){registeredEffects$1[ee]={effect:te,countsAsEffect:ne}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var te=null;if(this.data.td){this.matteMasks={};var ne=createNS("g");ne.setAttribute("id",this.layerId),ne.appendChild(this.layerElement),te=ne,this.globalData.defs.appendChild(ne)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),te=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var xe=createNS("clipPath"),rt=createNS("path");rt.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var it=createElementID();if(xe.setAttribute("id",it),xe.appendChild(rt),this.globalData.defs.appendChild(xe),this.checkMasks()){var lt=createNS("g");lt.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),lt.appendChild(this.layerElement),this.transformedElement=lt,te?te.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(te){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[te]){var ne=this.layerId+"_"+te,xe,rt,it,lt;if(te===1||te===3){var ct=createNS("mask");ct.setAttribute("id",ne),ct.setAttribute("mask-type",te===3?"luminance":"alpha"),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ct.appendChild(it),this.globalData.defs.appendChild(ct),!featureSupport.maskType&&te===1&&(ct.setAttribute("mask-type","luminance"),xe=createElementID(),rt=filtersFactory.createFilter(xe),this.globalData.defs.appendChild(rt),rt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),lt=createNS("g"),lt.appendChild(it),ct.appendChild(lt),lt.setAttribute("filter","url("+getLocationHref()+"#"+xe+")"))}else if(te===2){var ut=createNS("mask");ut.setAttribute("id",ne),ut.setAttribute("mask-type","alpha");var dt=createNS("g");ut.appendChild(dt),xe=createElementID(),rt=filtersFactory.createFilter(xe);var ht=createNS("feComponentTransfer");ht.setAttribute("in","SourceGraphic"),rt.appendChild(ht);var ft=createNS("feFuncA");ft.setAttribute("type","table"),ft.setAttribute("tableValues","1.0 0.0"),ht.appendChild(ft),this.globalData.defs.appendChild(rt);var pt=createNS("rect");pt.setAttribute("width",this.comp.data.w),pt.setAttribute("height",this.comp.data.h),pt.setAttribute("x","0"),pt.setAttribute("y","0"),pt.setAttribute("fill","#ffffff"),pt.setAttribute("opacity","0"),dt.setAttribute("filter","url("+getLocationHref()+"#"+xe+")"),dt.appendChild(pt),it=createNS("use"),it.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),dt.appendChild(it),featureSupport.maskType||(ut.setAttribute("mask-type","luminance"),rt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),lt=createNS("g"),dt.appendChild(pt),lt.appendChild(this.layerElement),dt.appendChild(lt)),this.globalData.defs.appendChild(ut)}this.matteMasks[te]=ne}return this.matteMasks[te]},setMatte:function(te){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+te+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(te){this.hierarchy=te},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var ee={initElement:function(ne,xe,rt){this.initFrame(),this.initBaseData(ne,xe,rt),this.initTransform(ne,xe,rt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var ne=this.baseElement||this.layerElement;ne.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var ne=this.baseElement||this.layerElement;ne.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(ne){this._mdf=!1,this.prepareRenderableFrame(ne),this.prepareProperties(ne,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(ee)],RenderableDOMElement)})();function IImageElement(ee,te,ne){this.assetData=te.getAssetData(ee.refId),this.assetData&&this.assetData.sid&&(this.assetData=te.slotManager.getProp(this.assetData)),this.initElement(ee,te,ne),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var ee=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",ee),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(ee,te){this.elem=ee,this.pos=te}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(te){var ne,xe=this.shapeModifiers.length;for(ne=0;ne<xe;ne+=1)this.shapeModifiers[ne].addShape(te)},isShapeInAnimatedModifiers:function(te){for(var ne=0,xe=this.shapeModifiers.length;ne<xe;)if(this.shapeModifiers[ne].isAnimatedWithShape(te))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var te,ne=this.shapes.length;for(te=0;te<ne;te+=1)this.shapes[te].sh.reset();ne=this.shapeModifiers.length;var xe;for(te=ne-1;te>=0&&(xe=this.shapeModifiers[te].processShapes(this._isFirstFrame),!xe);te-=1);}},searchProcessedElement:function(te){for(var ne=this.processedElements,xe=0,rt=ne.length;xe<rt;){if(ne[xe].elem===te)return ne[xe].pos;xe+=1}return 0},addProcessedElement:function(te,ne){for(var xe=this.processedElements,rt=xe.length;rt;)if(rt-=1,xe[rt].elem===te){xe[rt].pos=ne;return}xe.push(new ProcessedElement(te,ne))},prepareFrame:function(te){this.prepareRenderableFrame(te),this.prepareProperties(te,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(ee,te,ne){this.caches=[],this.styles=[],this.transformers=ee,this.lStr="",this.sh=ne,this.lvl=te,this._isAnimated=!!ne.k;for(var xe=0,rt=ee.length;xe<rt;){if(ee[xe].mProps.dynamicProperties.length){this._isAnimated=!0;break}xe+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(ee,te){this.data=ee,this.type=ee.ty,this.d="",this.lvl=te,this._mdf=!1,this.closed=ee.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(ee,te,ne,xe){this.elem=ee,this.frameId=-1,this.dataProps=createSizedArray(te.length),this.renderer=ne,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",te.length?te.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(xe);var rt,it=te.length||0,lt;for(rt=0;rt<it;rt+=1)lt=PropertyFactory.getProp(ee,te[rt].v,0,0,this),this.k=lt.k||this.k,this.dataProps[rt]={n:te[rt].n,p:lt};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(ee){if(!(this.elem.globalData.frameId===this.frameId&&!ee)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||ee,this._mdf)){var te=0,ne=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),te=0;te<ne;te+=1)this.dataProps[te].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[te].p.v:this.dashArray[te]=this.dataProps[te].p.v:this.dashoffset[0]=this.dataProps[te].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(ee,te,ne){this.initDynamicPropertyContainer(ee),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(ee,te.o,0,.01,this),this.w=PropertyFactory.getProp(ee,te.w,0,null,this),this.d=new DashProperty(ee,te.d||{},"svg",this),this.c=PropertyFactory.getProp(ee,te.c,1,255,this),this.style=ne,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(ee,te,ne){this.initDynamicPropertyContainer(ee),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(ee,te.o,0,.01,this),this.c=PropertyFactory.getProp(ee,te.c,1,255,this),this.style=ne}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(ee,te,ne){this.initDynamicPropertyContainer(ee),this.getValue=this.iterateDynamicProperties,this.style=ne}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(ee,te,ne){this.data=te,this.c=createTypedArray("uint8c",te.p*4);var xe=te.k.k[0].s?te.k.k[0].s.length-te.p*4:te.k.k.length-te.p*4;this.o=createTypedArray("float32",xe),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=xe,this.initDynamicPropertyContainer(ne),this.prop=PropertyFactory.getProp(ee,te.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(ee,te){for(var ne=0,xe=this.o.length/2,rt;ne<xe;){if(rt=Math.abs(ee[ne*4]-ee[te*4+ne*2]),rt>.01)return!1;ne+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var ee=0,te=this.data.k.k.length;ee<te;){if(!this.comparePoints(this.data.k.k[ee].s,this.data.p))return!1;ee+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(ee){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||ee){var te,ne=this.data.p*4,xe,rt;for(te=0;te<ne;te+=1)xe=te%4===0?100:255,rt=Math.round(this.prop.v[te]*xe),this.c[te]!==rt&&(this.c[te]=rt,this._cmdf=!ee);if(this.o.length)for(ne=this.prop.v.length,te=this.data.p*4;te<ne;te+=1)xe=te%2===0?100:1,rt=te%2===0?Math.round(this.prop.v[te]*100):this.prop.v[te],this.o[te-this.data.p*4]!==rt&&(this.o[te-this.data.p*4]=rt,this._omdf=!ee);this._mdf=!ee}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(ee,te,ne){this.initDynamicPropertyContainer(ee),this.getValue=this.iterateDynamicProperties,this.initGradientData(ee,te,ne)}SVGGradientFillStyleData.prototype.initGradientData=function(ee,te,ne){this.o=PropertyFactory.getProp(ee,te.o,0,.01,this),this.s=PropertyFactory.getProp(ee,te.s,1,null,this),this.e=PropertyFactory.getProp(ee,te.e,1,null,this),this.h=PropertyFactory.getProp(ee,te.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(ee,te.a||{k:0},0,degToRads,this),this.g=new GradientProperty(ee,te.g,this),this.style=ne,this.stops=[],this.setGradientData(ne.pElem,te),this.setGradientOpacity(te,ne),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(ee,te){var ne=createElementID(),xe=createNS(te.t===1?"linearGradient":"radialGradient");xe.setAttribute("id",ne),xe.setAttribute("spreadMethod","pad"),xe.setAttribute("gradientUnits","userSpaceOnUse");var rt=[],it,lt,ct;for(ct=te.g.p*4,lt=0;lt<ct;lt+=4)it=createNS("stop"),xe.appendChild(it),rt.push(it);ee.setAttribute(te.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ne+")"),this.gf=xe,this.cst=rt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(ee,te){if(this.g._hasOpacity&&!this.g._collapsable){var ne,xe,rt,it=createNS("mask"),lt=createNS("path");it.appendChild(lt);var ct=createElementID(),ut=createElementID();it.setAttribute("id",ut);var dt=createNS(ee.t===1?"linearGradient":"radialGradient");dt.setAttribute("id",ct),dt.setAttribute("spreadMethod","pad"),dt.setAttribute("gradientUnits","userSpaceOnUse"),rt=ee.g.k.k[0].s?ee.g.k.k[0].s.length:ee.g.k.k.length;var ht=this.stops;for(xe=ee.g.p*4;xe<rt;xe+=2)ne=createNS("stop"),ne.setAttribute("stop-color","rgb(255,255,255)"),dt.appendChild(ne),ht.push(ne);lt.setAttribute(ee.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ct+")"),ee.ty==="gs"&&(lt.setAttribute("stroke-linecap",lineCapEnum[ee.lc||2]),lt.setAttribute("stroke-linejoin",lineJoinEnum[ee.lj||2]),ee.lj===1&&lt.setAttribute("stroke-miterlimit",ee.ml)),this.of=dt,this.ms=it,this.ost=ht,this.maskId=ut,te.msElem=lt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(ee,te,ne){this.initDynamicPropertyContainer(ee),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(ee,te.w,0,null,this),this.d=new DashProperty(ee,te.d||{},"svg",this),this.initGradientData(ee,te,ne),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(ee,te,ne){this.transform={mProps:ee,op:te,container:ne},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(te,ne,xe,rt){if(ne===0)return"";var it=te.o,lt=te.i,ct=te.v,ut,dt=" M"+rt.applyToPointStringified(ct[0][0],ct[0][1]);for(ut=1;ut<ne;ut+=1)dt+=" C"+rt.applyToPointStringified(it[ut-1][0],it[ut-1][1])+" "+rt.applyToPointStringified(lt[ut][0],lt[ut][1])+" "+rt.applyToPointStringified(ct[ut][0],ct[ut][1]);return xe&&ne&&(dt+=" C"+rt.applyToPointStringified(it[ut-1][0],it[ut-1][1])+" "+rt.applyToPointStringified(lt[0][0],lt[0][1])+" "+rt.applyToPointStringified(ct[0][0],ct[0][1]),dt+="z"),dt},SVGElementsRenderer=(function(){var ee=new Matrix,te=new Matrix,ne={createRenderFunction:xe};function xe(ft){switch(ft.ty){case"fl":return ct;case"gf":return dt;case"gs":return ut;case"st":return ht;case"sh":case"el":case"rc":case"sr":return lt;case"tr":return rt;case"no":return it;default:return null}}function rt(ft,pt,mt){(mt||pt.transform.op._mdf)&&pt.transform.container.setAttribute("opacity",pt.transform.op.v),(mt||pt.transform.mProps._mdf)&&pt.transform.container.setAttribute("transform",pt.transform.mProps.v.to2dCSS())}function it(){}function lt(ft,pt,mt){var xt,yt,vt,Et,_t,wt,St=pt.styles.length,Ct=pt.lvl,jt,Rt,Pt,Ot;for(wt=0;wt<St;wt+=1){if(Et=pt.sh._mdf||mt,pt.styles[wt].lvl<Ct){for(Rt=te.reset(),Pt=Ct-pt.styles[wt].lvl,Ot=pt.transformers.length-1;!Et&&Pt>0;)Et=pt.transformers[Ot].mProps._mdf||Et,Pt-=1,Ot-=1;if(Et)for(Pt=Ct-pt.styles[wt].lvl,Ot=pt.transformers.length-1;Pt>0;)Rt.multiply(pt.transformers[Ot].mProps.v),Pt-=1,Ot-=1}else Rt=ee;if(jt=pt.sh.paths,yt=jt._length,Et){for(vt="",xt=0;xt<yt;xt+=1)_t=jt.shapes[xt],_t&&_t._length&&(vt+=buildShapeString(_t,_t._length,_t.c,Rt));pt.caches[wt]=vt}else vt=pt.caches[wt];pt.styles[wt].d+=ft.hd===!0?"":vt,pt.styles[wt]._mdf=Et||pt.styles[wt]._mdf}}function ct(ft,pt,mt){var xt=pt.style;(pt.c._mdf||mt)&&xt.pElem.setAttribute("fill","rgb("+bmFloor(pt.c.v[0])+","+bmFloor(pt.c.v[1])+","+bmFloor(pt.c.v[2])+")"),(pt.o._mdf||mt)&&xt.pElem.setAttribute("fill-opacity",pt.o.v)}function ut(ft,pt,mt){dt(ft,pt,mt),ht(ft,pt,mt)}function dt(ft,pt,mt){var xt=pt.gf,yt=pt.g._hasOpacity,vt=pt.s.v,Et=pt.e.v;if(pt.o._mdf||mt){var _t=ft.ty==="gf"?"fill-opacity":"stroke-opacity";pt.style.pElem.setAttribute(_t,pt.o.v)}if(pt.s._mdf||mt){var wt=ft.t===1?"x1":"cx",St=wt==="x1"?"y1":"cy";xt.setAttribute(wt,vt[0]),xt.setAttribute(St,vt[1]),yt&&!pt.g._collapsable&&(pt.of.setAttribute(wt,vt[0]),pt.of.setAttribute(St,vt[1]))}var Ct,jt,Rt,Pt;if(pt.g._cmdf||mt){Ct=pt.cst;var Ot=pt.g.c;for(Rt=Ct.length,jt=0;jt<Rt;jt+=1)Pt=Ct[jt],Pt.setAttribute("offset",Ot[jt*4]+"%"),Pt.setAttribute("stop-color","rgb("+Ot[jt*4+1]+","+Ot[jt*4+2]+","+Ot[jt*4+3]+")")}if(yt&&(pt.g._omdf||mt)){var Ft=pt.g.o;for(pt.g._collapsable?Ct=pt.cst:Ct=pt.ost,Rt=Ct.length,jt=0;jt<Rt;jt+=1)Pt=Ct[jt],pt.g._collapsable||Pt.setAttribute("offset",Ft[jt*2]+"%"),Pt.setAttribute("stop-opacity",Ft[jt*2+1])}if(ft.t===1)(pt.e._mdf||mt)&&(xt.setAttribute("x2",Et[0]),xt.setAttribute("y2",Et[1]),yt&&!pt.g._collapsable&&(pt.of.setAttribute("x2",Et[0]),pt.of.setAttribute("y2",Et[1])));else{var Lt;if((pt.s._mdf||pt.e._mdf||mt)&&(Lt=Math.sqrt(Math.pow(vt[0]-Et[0],2)+Math.pow(vt[1]-Et[1],2)),xt.setAttribute("r",Lt),yt&&!pt.g._collapsable&&pt.of.setAttribute("r",Lt)),pt.s._mdf||pt.e._mdf||pt.h._mdf||pt.a._mdf||mt){Lt||(Lt=Math.sqrt(Math.pow(vt[0]-Et[0],2)+Math.pow(vt[1]-Et[1],2)));var Bt=Math.atan2(Et[1]-vt[1],Et[0]-vt[0]),Gt=pt.h.v;Gt>=1?Gt=.99:Gt<=-1&&(Gt=-.99);var It=Lt*Gt,qt=Math.cos(Bt+pt.a.v)*It+vt[0],Nt=Math.sin(Bt+pt.a.v)*It+vt[1];xt.setAttribute("fx",qt),xt.setAttribute("fy",Nt),yt&&!pt.g._collapsable&&(pt.of.setAttribute("fx",qt),pt.of.setAttribute("fy",Nt))}}}function ht(ft,pt,mt){var xt=pt.style,yt=pt.d;yt&&(yt._mdf||mt)&&yt.dashStr&&(xt.pElem.setAttribute("stroke-dasharray",yt.dashStr),xt.pElem.setAttribute("stroke-dashoffset",yt.dashoffset[0])),pt.c&&(pt.c._mdf||mt)&&xt.pElem.setAttribute("stroke","rgb("+bmFloor(pt.c.v[0])+","+bmFloor(pt.c.v[1])+","+bmFloor(pt.c.v[2])+")"),(pt.o._mdf||mt)&&xt.pElem.setAttribute("stroke-opacity",pt.o.v),(pt.w._mdf||mt)&&(xt.pElem.setAttribute("stroke-width",pt.w.v),xt.msElem&&xt.msElem.setAttribute("stroke-width",pt.w.v))}return ne})();function SVGShapeElement(ee,te,ne){this.shapes=[],this.shapesData=ee.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(ee,te,ne),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var ee,te=this.shapes.length,ne,xe,rt=this.stylesList.length,it,lt=[],ct=!1;for(xe=0;xe<rt;xe+=1){for(it=this.stylesList[xe],ct=!1,lt.length=0,ee=0;ee<te;ee+=1)ne=this.shapes[ee],ne.styles.indexOf(it)!==-1&&(lt.push(ne),ct=ne._isAnimated||ct);lt.length>1&&ct&&this.setShapesAsAnimated(lt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(ee){var te,ne=ee.length;for(te=0;te<ne;te+=1)ee[te].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(ee,te){var ne,xe=new SVGStyleData(ee,te),rt=xe.pElem;if(ee.ty==="st")ne=new SVGStrokeStyleData(this,ee,xe);else if(ee.ty==="fl")ne=new SVGFillStyleData(this,ee,xe);else if(ee.ty==="gf"||ee.ty==="gs"){var it=ee.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;ne=new it(this,ee,xe),this.globalData.defs.appendChild(ne.gf),ne.maskId&&(this.globalData.defs.appendChild(ne.ms),this.globalData.defs.appendChild(ne.of),rt.setAttribute("mask","url("+getLocationHref()+"#"+ne.maskId+")"))}else ee.ty==="no"&&(ne=new SVGNoStyleData(this,ee,xe));return(ee.ty==="st"||ee.ty==="gs")&&(rt.setAttribute("stroke-linecap",lineCapEnum[ee.lc||2]),rt.setAttribute("stroke-linejoin",lineJoinEnum[ee.lj||2]),rt.setAttribute("fill-opacity","0"),ee.lj===1&&rt.setAttribute("stroke-miterlimit",ee.ml)),ee.r===2&&rt.setAttribute("fill-rule","evenodd"),ee.ln&&rt.setAttribute("id",ee.ln),ee.cl&&rt.setAttribute("class",ee.cl),ee.bm&&(rt.style["mix-blend-mode"]=getBlendMode(ee.bm)),this.stylesList.push(xe),this.addToAnimatedContents(ee,ne),ne},SVGShapeElement.prototype.createGroupElement=function(ee){var te=new ShapeGroupData;return ee.ln&&te.gr.setAttribute("id",ee.ln),ee.cl&&te.gr.setAttribute("class",ee.cl),ee.bm&&(te.gr.style["mix-blend-mode"]=getBlendMode(ee.bm)),te},SVGShapeElement.prototype.createTransformElement=function(ee,te){var ne=TransformPropertyFactory.getTransformProperty(this,ee,this),xe=new SVGTransformData(ne,ne.o,te);return this.addToAnimatedContents(ee,xe),xe},SVGShapeElement.prototype.createShapeElement=function(ee,te,ne){var xe=4;ee.ty==="rc"?xe=5:ee.ty==="el"?xe=6:ee.ty==="sr"&&(xe=7);var rt=ShapePropertyFactory.getShapeProp(this,ee,xe,this),it=new SVGShapeData(te,ne,rt);return this.shapes.push(it),this.addShapeToModifiers(it),this.addToAnimatedContents(ee,it),it},SVGShapeElement.prototype.addToAnimatedContents=function(ee,te){for(var ne=0,xe=this.animatedContents.length;ne<xe;){if(this.animatedContents[ne].element===te)return;ne+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(ee),element:te,data:ee})},SVGShapeElement.prototype.setElementStyles=function(ee){var te=ee.styles,ne,xe=this.stylesList.length;for(ne=0;ne<xe;ne+=1)te.indexOf(this.stylesList[ne])===-1&&!this.stylesList[ne].closed&&te.push(this.stylesList[ne])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var ee,te=this.itemsData.length;for(ee=0;ee<te;ee+=1)this.prevViewData[ee]=this.itemsData[ee];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),te=this.dynamicProperties.length,ee=0;ee<te;ee+=1)this.dynamicProperties[ee].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(ee,te,ne,xe,rt,it,lt){var ct=[].concat(it),ut,dt=ee.length-1,ht,ft,pt=[],mt=[],xt,yt,vt;for(ut=dt;ut>=0;ut-=1){if(vt=this.searchProcessedElement(ee[ut]),vt?te[ut]=ne[vt-1]:ee[ut]._render=lt,ee[ut].ty==="fl"||ee[ut].ty==="st"||ee[ut].ty==="gf"||ee[ut].ty==="gs"||ee[ut].ty==="no")vt?te[ut].style.closed=ee[ut].hd:te[ut]=this.createStyleElement(ee[ut],rt),ee[ut]._render&&te[ut].style.pElem.parentNode!==xe&&xe.appendChild(te[ut].style.pElem),pt.push(te[ut].style);else if(ee[ut].ty==="gr"){if(!vt)te[ut]=this.createGroupElement(ee[ut]);else for(ft=te[ut].it.length,ht=0;ht<ft;ht+=1)te[ut].prevViewData[ht]=te[ut].it[ht];this.searchShapes(ee[ut].it,te[ut].it,te[ut].prevViewData,te[ut].gr,rt+1,ct,lt),ee[ut]._render&&te[ut].gr.parentNode!==xe&&xe.appendChild(te[ut].gr)}else ee[ut].ty==="tr"?(vt||(te[ut]=this.createTransformElement(ee[ut],xe)),xt=te[ut].transform,ct.push(xt)):ee[ut].ty==="sh"||ee[ut].ty==="rc"||ee[ut].ty==="el"||ee[ut].ty==="sr"?(vt||(te[ut]=this.createShapeElement(ee[ut],ct,rt)),this.setElementStyles(te[ut])):ee[ut].ty==="tm"||ee[ut].ty==="rd"||ee[ut].ty==="ms"||ee[ut].ty==="pb"||ee[ut].ty==="zz"||ee[ut].ty==="op"?(vt?(yt=te[ut],yt.closed=!1):(yt=ShapeModifiers.getModifier(ee[ut].ty),yt.init(this,ee[ut]),te[ut]=yt,this.shapeModifiers.push(yt)),mt.push(yt)):ee[ut].ty==="rp"&&(vt?(yt=te[ut],yt.closed=!0):(yt=ShapeModifiers.getModifier(ee[ut].ty),te[ut]=yt,yt.init(this,ee,ut,te),this.shapeModifiers.push(yt),lt=!1),mt.push(yt));this.addProcessedElement(ee[ut],ut+1)}for(dt=pt.length,ut=0;ut<dt;ut+=1)pt[ut].closed=!0;for(dt=mt.length,ut=0;ut<dt;ut+=1)mt[ut].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var ee,te=this.stylesList.length;for(ee=0;ee<te;ee+=1)this.stylesList[ee].reset();for(this.renderShape(),ee=0;ee<te;ee+=1)(this.stylesList[ee]._mdf||this._isFirstFrame)&&(this.stylesList[ee].msElem&&(this.stylesList[ee].msElem.setAttribute("d",this.stylesList[ee].d),this.stylesList[ee].d="M0 0"+this.stylesList[ee].d),this.stylesList[ee].pElem.setAttribute("d",this.stylesList[ee].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var ee,te=this.animatedContents.length,ne;for(ee=0;ee<te;ee+=1)ne=this.animatedContents[ee],(this._isFirstFrame||ne.element._isAnimated)&&ne.data!==!0&&ne.fn(ne.data,ne.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(ee,te,ne,xe,rt,it){this.o=ee,this.sw=te,this.sc=ne,this.fc=xe,this.m=rt,this.p=it,this._mdf={o:!0,sw:!!te,sc:!!ne,fc:!!xe,m:!0,p:!0}}LetterProps.prototype.update=function(ee,te,ne,xe,rt,it){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var lt=!1;return this.o!==ee&&(this.o=ee,this._mdf.o=!0,lt=!0),this.sw!==te&&(this.sw=te,this._mdf.sw=!0,lt=!0),this.sc!==ne&&(this.sc=ne,this._mdf.sc=!0,lt=!0),this.fc!==xe&&(this.fc=xe,this._mdf.fc=!0,lt=!0),this.m!==rt&&(this.m=rt,this._mdf.m=!0,lt=!0),it.length&&(this.p[0]!==it[0]||this.p[1]!==it[1]||this.p[4]!==it[4]||this.p[5]!==it[5]||this.p[12]!==it[12]||this.p[13]!==it[13])&&(this.p=it,this._mdf.p=!0,lt=!0),lt};function TextProperty(ee,te){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,te.d&&te.d.sid&&(te.d=ee.globalData.slotManager.getProp(te.d)),this.data=te,this.elem=ee,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(ee,te){for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&(ee[ne]=te[ne]);return ee},TextProperty.prototype.setCurrentData=function(ee){ee.__complete||this.completeTextData(ee),this.currentData=ee,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(ee){this.effectsSequence.push(ee),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(ee){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!ee)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var te=this.currentData,ne=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var xe,rt=this.effectsSequence.length,it=ee||this.data.d.k[this.keysIndex].s;for(xe=0;xe<rt;xe+=1)ne!==this.keysIndex?it=this.effectsSequence[xe](it,it.t):it=this.effectsSequence[xe](this.currentData,it.t);te!==it&&this.setCurrentData(it),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var ee=this.data.d.k,te=this.elem.comp.renderedFrame,ne=0,xe=ee.length;ne<=xe-1&&!(ne===xe-1||ee[ne+1].t>te);)ne+=1;return this.keysIndex!==ne&&(this.keysIndex=ne),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(ee){for(var te=[],ne=0,xe=ee.length,rt,it,lt=!1,ct=!1,ut="";ne<xe;)lt=ct,ct=!1,rt=ee.charCodeAt(ne),ut=ee.charAt(ne),FontManager.isCombinedCharacter(rt)?lt=!0:rt>=55296&&rt<=56319?FontManager.isRegionalFlag(ee,ne)?ut=ee.substr(ne,14):(it=ee.charCodeAt(ne+1),it>=56320&&it<=57343&&(FontManager.isModifier(rt,it)?(ut=ee.substr(ne,2),lt=!0):FontManager.isFlagEmoji(ee.substr(ne,4))?ut=ee.substr(ne,4):ut=ee.substr(ne,2))):rt>56319?(it=ee.charCodeAt(ne+1),FontManager.isVariationSelector(rt)&&(lt=!0)):FontManager.isZeroWidthJoiner(rt)&&(lt=!0,ct=!0),lt?(te[te.length-1]+=ut,lt=!1):te.push(ut),ne+=ut.length;return te},TextProperty.prototype.completeTextData=function(ee){ee.__complete=!0;var te=this.elem.globalData.fontManager,ne=this.data,xe=[],rt,it,lt,ct=0,ut,dt=ne.m.g,ht=0,ft=0,pt=0,mt=[],xt=0,yt=0,vt,Et,_t=te.getFontByName(ee.f),wt,St=0,Ct=getFontProperties(_t);ee.fWeight=Ct.weight,ee.fStyle=Ct.style,ee.finalSize=ee.s,ee.finalText=this.buildFinalText(ee.t),it=ee.finalText.length,ee.finalLineHeight=ee.lh;var jt=ee.tr/1e3*ee.finalSize,Rt;if(ee.sz)for(var Pt=!0,Ot=ee.sz[0],Ft=ee.sz[1],Lt,Bt;Pt;){Bt=this.buildFinalText(ee.t),Lt=0,xt=0,it=Bt.length,jt=ee.tr/1e3*ee.finalSize;var Gt=-1;for(rt=0;rt<it;rt+=1)Rt=Bt[rt].charCodeAt(0),lt=!1,Bt[rt]===" "?Gt=rt:(Rt===13||Rt===3)&&(xt=0,lt=!0,Lt+=ee.finalLineHeight||ee.finalSize*1.2),te.chars?(wt=te.getCharData(Bt[rt],_t.fStyle,_t.fFamily),St=lt?0:wt.w*ee.finalSize/100):St=te.measureText(Bt[rt],ee.f,ee.finalSize),xt+St>Ot&&Bt[rt]!==" "?(Gt===-1?it+=1:rt=Gt,Lt+=ee.finalLineHeight||ee.finalSize*1.2,Bt.splice(rt,Gt===rt?1:0,"\r"),Gt=-1,xt=0):(xt+=St,xt+=jt);Lt+=_t.ascent*ee.finalSize/100,this.canResize&&ee.finalSize>this.minimumFontSize&&Ft<Lt?(ee.finalSize-=1,ee.finalLineHeight=ee.finalSize*ee.lh/ee.s):(ee.finalText=Bt,it=ee.finalText.length,Pt=!1)}xt=-jt,St=0;var It=0,qt;for(rt=0;rt<it;rt+=1)if(lt=!1,qt=ee.finalText[rt],Rt=qt.charCodeAt(0),Rt===13||Rt===3?(It=0,mt.push(xt),yt=xt>yt?xt:yt,xt=-2*jt,ut="",lt=!0,pt+=1):ut=qt,te.chars?(wt=te.getCharData(qt,_t.fStyle,te.getFontByName(ee.f).fFamily),St=lt?0:wt.w*ee.finalSize/100):St=te.measureText(ut,ee.f,ee.finalSize),qt===" "?It+=St+jt:(xt+=St+jt+It,It=0),xe.push({l:St,an:St,add:ht,n:lt,anIndexes:[],val:ut,line:pt,animatorJustifyOffset:0}),dt==2){if(ht+=St,ut===""||ut===" "||rt===it-1){for((ut===""||ut===" ")&&(ht-=St);ft<=rt;)xe[ft].an=ht,xe[ft].ind=ct,xe[ft].extra=St,ft+=1;ct+=1,ht=0}}else if(dt==3){if(ht+=St,ut===""||rt===it-1){for(ut===""&&(ht-=St);ft<=rt;)xe[ft].an=ht,xe[ft].ind=ct,xe[ft].extra=St,ft+=1;ht=0,ct+=1}}else xe[ct].ind=ct,xe[ct].extra=0,ct+=1;if(ee.l=xe,yt=xt>yt?xt:yt,mt.push(xt),ee.sz)ee.boxWidth=ee.sz[0],ee.justifyOffset=0;else switch(ee.boxWidth=yt,ee.j){case 1:ee.justifyOffset=-ee.boxWidth;break;case 2:ee.justifyOffset=-ee.boxWidth/2;break;default:ee.justifyOffset=0}ee.lineWidths=mt;var Nt=ne.a,Dt,Tt;Et=Nt.length;var Mt,$t,Ht=[];for(vt=0;vt<Et;vt+=1){for(Dt=Nt[vt],Dt.a.sc&&(ee.strokeColorAnim=!0),Dt.a.sw&&(ee.strokeWidthAnim=!0),(Dt.a.fc||Dt.a.fh||Dt.a.fs||Dt.a.fb)&&(ee.fillColorAnim=!0),$t=0,Mt=Dt.s.b,rt=0;rt<it;rt+=1)Tt=xe[rt],Tt.anIndexes[vt]=$t,(Mt==1&&Tt.val!==""||Mt==2&&Tt.val!==""&&Tt.val!==" "||Mt==3&&(Tt.n||Tt.val==" "||rt==it-1)||Mt==4&&(Tt.n||rt==it-1))&&(Dt.s.rn===1&&Ht.push($t),$t+=1);ne.a[vt].s.totalChars=$t;var Wt=-1,Vt;if(Dt.s.rn===1)for(rt=0;rt<it;rt+=1)Tt=xe[rt],Wt!=Tt.anIndexes[vt]&&(Wt=Tt.anIndexes[vt],Vt=Ht.splice(Math.floor(Math.random()*Ht.length),1)[0]),Tt.anIndexes[vt]=Vt}ee.yOffset=ee.finalLineHeight||ee.finalSize*1.2,ee.ls=ee.ls||0,ee.ascent=_t.ascent*ee.finalSize/100},TextProperty.prototype.updateDocumentData=function(ee,te){te=te===void 0?this.keysIndex:te;var ne=this.copyData({},this.data.d.k[te].s);ne=this.copyData(ne,ee),this.data.d.k[te].s=ne,this.recalculate(te),this.setCurrentData(ne),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(ee){var te=this.data.d.k[ee].s;te.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(te)},TextProperty.prototype.canResizeFont=function(ee){this.canResize=ee,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(ee){this.minimumFontSize=Math.floor(ee)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var ee=Math.max,te=Math.min,ne=Math.floor;function xe(it,lt){this._currentTextLength=-1,this.k=!1,this.data=lt,this.elem=it,this.comp=it.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(it),this.s=PropertyFactory.getProp(it,lt.s||{k:0},0,0,this),"e"in lt?this.e=PropertyFactory.getProp(it,lt.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(it,lt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(it,lt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(it,lt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(it,lt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(it,lt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}xe.prototype={getMult:function(lt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ct=0,ut=0,dt=1,ht=1;this.ne.v>0?ct=this.ne.v/100:ut=-this.ne.v/100,this.xe.v>0?dt=1-this.xe.v/100:ht=1+this.xe.v/100;var ft=BezierFactory.getBezierEasing(ct,ut,dt,ht).get,pt=0,mt=this.finalS,xt=this.finalE,yt=this.data.sh;if(yt===2)xt===mt?pt=lt>=xt?1:0:pt=ee(0,te(.5/(xt-mt)+(lt-mt)/(xt-mt),1)),pt=ft(pt);else if(yt===3)xt===mt?pt=lt>=xt?0:1:pt=1-ee(0,te(.5/(xt-mt)+(lt-mt)/(xt-mt),1)),pt=ft(pt);else if(yt===4)xt===mt?pt=0:(pt=ee(0,te(.5/(xt-mt)+(lt-mt)/(xt-mt),1)),pt<.5?pt*=2:pt=1-2*(pt-.5)),pt=ft(pt);else if(yt===5){if(xt===mt)pt=0;else{var vt=xt-mt;lt=te(ee(0,lt+.5-mt),xt-mt);var Et=-vt/2+lt,_t=vt/2;pt=Math.sqrt(1-Et*Et/(_t*_t))}pt=ft(pt)}else yt===6?(xt===mt?pt=0:(lt=te(ee(0,lt+.5-mt),xt-mt),pt=(1+Math.cos(Math.PI+Math.PI*2*lt/(xt-mt)))/2),pt=ft(pt)):(lt>=ne(mt)&&(lt-mt<0?pt=ee(0,te(te(xt,1)-(mt-lt),1)):pt=ee(0,te(xt-lt,1))),pt=ft(pt));if(this.sm.v!==100){var wt=this.sm.v*.01;wt===0&&(wt=1e-8);var St=.5-wt*.5;pt<St?pt=0:(pt=(pt-St)/wt,pt>1&&(pt=1))}return pt*this.a.v},getValue:function(lt){this.iterateDynamicProperties(),this._mdf=lt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,lt&&this.data.r===2&&(this.e.v=this._currentTextLength);var ct=this.data.r===2?1:100/this.data.totalChars,ut=this.o.v/ct,dt=this.s.v/ct+ut,ht=this.e.v/ct+ut;if(dt>ht){var ft=dt;dt=ht,ht=ft}this.finalS=dt,this.finalE=ht}},extendPrototype([DynamicPropertyContainer],xe);function rt(it,lt,ct){return new xe(it,lt)}return{getTextSelectorProp:rt}})();function TextAnimatorDataProperty(ee,te,ne){var xe={propType:!1},rt=PropertyFactory.getProp,it=te.a;this.a={r:it.r?rt(ee,it.r,0,degToRads,ne):xe,rx:it.rx?rt(ee,it.rx,0,degToRads,ne):xe,ry:it.ry?rt(ee,it.ry,0,degToRads,ne):xe,sk:it.sk?rt(ee,it.sk,0,degToRads,ne):xe,sa:it.sa?rt(ee,it.sa,0,degToRads,ne):xe,s:it.s?rt(ee,it.s,1,.01,ne):xe,a:it.a?rt(ee,it.a,1,0,ne):xe,o:it.o?rt(ee,it.o,0,.01,ne):xe,p:it.p?rt(ee,it.p,1,0,ne):xe,sw:it.sw?rt(ee,it.sw,0,0,ne):xe,sc:it.sc?rt(ee,it.sc,1,0,ne):xe,fc:it.fc?rt(ee,it.fc,1,0,ne):xe,fh:it.fh?rt(ee,it.fh,0,0,ne):xe,fs:it.fs?rt(ee,it.fs,0,.01,ne):xe,fb:it.fb?rt(ee,it.fb,0,.01,ne):xe,t:it.t?rt(ee,it.t,0,0,ne):xe},this.s=TextSelectorProp.getTextSelectorProp(ee,te.s,ne),this.s.t=te.s.t}function TextAnimatorProperty(ee,te,ne){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=ee,this._renderType=te,this._elem=ne,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(ne)}TextAnimatorProperty.prototype.searchProperties=function(){var ee,te=this._textData.a.length,ne,xe=PropertyFactory.getProp;for(ee=0;ee<te;ee+=1)ne=this._textData.a[ee],this._animatorsData[ee]=new TextAnimatorDataProperty(this._elem,ne,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:xe(this._elem,this._textData.p.a,0,0,this),f:xe(this._elem,this._textData.p.f,0,0,this),l:xe(this._elem,this._textData.p.l,0,0,this),r:xe(this._elem,this._textData.p.r,0,0,this),p:xe(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=xe(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(ee,te){if(this.lettersChangedFlag=te,!(!this._mdf&&!this._isFirstFrame&&!te&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var ne=this._moreOptions.alignment.v,xe=this._animatorsData,rt=this._textData,it=this.mHelper,lt=this._renderType,ct=this.renderedLetters.length,ut,dt,ht,ft,pt=ee.l,mt,xt,yt,vt,Et,_t,wt,St,Ct,jt,Rt,Pt,Ot,Ft,Lt;if(this._hasMaskedPath){if(Lt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Bt=Lt.v;this._pathData.r.v&&(Bt=Bt.reverse()),mt={tLength:0,segments:[]},ft=Bt._length-1;var Gt;for(Pt=0,ht=0;ht<ft;ht+=1)Gt=bez.buildBezierData(Bt.v[ht],Bt.v[ht+1],[Bt.o[ht][0]-Bt.v[ht][0],Bt.o[ht][1]-Bt.v[ht][1]],[Bt.i[ht+1][0]-Bt.v[ht+1][0],Bt.i[ht+1][1]-Bt.v[ht+1][1]]),mt.tLength+=Gt.segmentLength,mt.segments.push(Gt),Pt+=Gt.segmentLength;ht=ft,Lt.v.c&&(Gt=bez.buildBezierData(Bt.v[ht],Bt.v[0],[Bt.o[ht][0]-Bt.v[ht][0],Bt.o[ht][1]-Bt.v[ht][1]],[Bt.i[0][0]-Bt.v[0][0],Bt.i[0][1]-Bt.v[0][1]]),mt.tLength+=Gt.segmentLength,mt.segments.push(Gt),Pt+=Gt.segmentLength),this._pathData.pi=mt}if(mt=this._pathData.pi,xt=this._pathData.f.v,wt=0,_t=1,vt=0,Et=!0,jt=mt.segments,xt<0&&Lt.v.c)for(mt.tLength<Math.abs(xt)&&(xt=-Math.abs(xt)%mt.tLength),wt=jt.length-1,Ct=jt[wt].points,_t=Ct.length-1;xt<0;)xt+=Ct[_t].partialLength,_t-=1,_t<0&&(wt-=1,Ct=jt[wt].points,_t=Ct.length-1);Ct=jt[wt].points,St=Ct[_t-1],yt=Ct[_t],Rt=yt.partialLength}ft=pt.length,ut=0,dt=0;var It=ee.finalSize*1.2*.714,qt=!0,Nt,Dt,Tt,Mt,$t;Mt=xe.length;var Ht,Wt=-1,Vt,Yt,Qt,ar=xt,Xt=wt,tr=_t,rr=-1,ur,Jt,Zt,or,dr,Ar,Nr,Mr,Gr="",Yr=this.defaultPropsArray,en;if(ee.j===2||ee.j===1){var Jr=0,on=0,sn=ee.j===2?-.5:-1,an=0,dn=!0;for(ht=0;ht<ft;ht+=1)if(pt[ht].n){for(Jr&&(Jr+=on);an<ht;)pt[an].animatorJustifyOffset=Jr,an+=1;Jr=0,dn=!0}else{for(Tt=0;Tt<Mt;Tt+=1)Nt=xe[Tt].a,Nt.t.propType&&(dn&&ee.j===2&&(on+=Nt.t.v*sn),Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),Ht.length?Jr+=Nt.t.v*Ht[0]*sn:Jr+=Nt.t.v*Ht*sn);dn=!1}for(Jr&&(Jr+=on);an<ht;)pt[an].animatorJustifyOffset=Jr,an+=1}for(ht=0;ht<ft;ht+=1){if(it.reset(),ur=1,pt[ht].n)ut=0,dt+=ee.yOffset,dt+=qt?1:0,xt=ar,qt=!1,this._hasMaskedPath&&(wt=Xt,_t=tr,Ct=jt[wt].points,St=Ct[_t-1],yt=Ct[_t],Rt=yt.partialLength,vt=0),Gr="",Mr="",Ar="",en="",Yr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(rr!==pt[ht].line){switch(ee.j){case 1:xt+=Pt-ee.lineWidths[pt[ht].line];break;case 2:xt+=(Pt-ee.lineWidths[pt[ht].line])/2;break}rr=pt[ht].line}Wt!==pt[ht].ind&&(pt[Wt]&&(xt+=pt[Wt].extra),xt+=pt[ht].an/2,Wt=pt[ht].ind),xt+=ne[0]*pt[ht].an*.005;var pr=0;for(Tt=0;Tt<Mt;Tt+=1)Nt=xe[Tt].a,Nt.p.propType&&(Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),Ht.length?pr+=Nt.p.v[0]*Ht[0]:pr+=Nt.p.v[0]*Ht),Nt.a.propType&&(Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),Ht.length?pr+=Nt.a.v[0]*Ht[0]:pr+=Nt.a.v[0]*Ht);for(Et=!0,this._pathData.a.v&&(xt=pt[0].an*.5+(Pt-this._pathData.f.v-pt[0].an*.5-pt[pt.length-1].an*.5)*Wt/(ft-1),xt+=this._pathData.f.v);Et;)vt+Rt>=xt+pr||!Ct?(Ot=(xt+pr-vt)/yt.partialLength,Yt=St.point[0]+(yt.point[0]-St.point[0])*Ot,Qt=St.point[1]+(yt.point[1]-St.point[1])*Ot,it.translate(-ne[0]*pt[ht].an*.005,-(ne[1]*It)*.01),Et=!1):Ct&&(vt+=yt.partialLength,_t+=1,_t>=Ct.length&&(_t=0,wt+=1,jt[wt]?Ct=jt[wt].points:Lt.v.c?(_t=0,wt=0,Ct=jt[wt].points):(vt-=yt.partialLength,Ct=null)),Ct&&(St=yt,yt=Ct[_t],Rt=yt.partialLength));Vt=pt[ht].an/2-pt[ht].add,it.translate(-Vt,0,0)}else Vt=pt[ht].an/2-pt[ht].add,it.translate(-Vt,0,0),it.translate(-ne[0]*pt[ht].an*.005,-ne[1]*It*.01,0);for(Tt=0;Tt<Mt;Tt+=1)Nt=xe[Tt].a,Nt.t.propType&&(Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),(ut!==0||ee.j!==0)&&(this._hasMaskedPath?Ht.length?xt+=Nt.t.v*Ht[0]:xt+=Nt.t.v*Ht:Ht.length?ut+=Nt.t.v*Ht[0]:ut+=Nt.t.v*Ht));for(ee.strokeWidthAnim&&(Zt=ee.sw||0),ee.strokeColorAnim&&(ee.sc?Jt=[ee.sc[0],ee.sc[1],ee.sc[2]]:Jt=[0,0,0]),ee.fillColorAnim&&ee.fc&&(or=[ee.fc[0],ee.fc[1],ee.fc[2]]),Tt=0;Tt<Mt;Tt+=1)Nt=xe[Tt].a,Nt.a.propType&&(Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),Ht.length?it.translate(-Nt.a.v[0]*Ht[0],-Nt.a.v[1]*Ht[1],Nt.a.v[2]*Ht[2]):it.translate(-Nt.a.v[0]*Ht,-Nt.a.v[1]*Ht,Nt.a.v[2]*Ht));for(Tt=0;Tt<Mt;Tt+=1)Nt=xe[Tt].a,Nt.s.propType&&(Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),Ht.length?it.scale(1+(Nt.s.v[0]-1)*Ht[0],1+(Nt.s.v[1]-1)*Ht[1],1):it.scale(1+(Nt.s.v[0]-1)*Ht,1+(Nt.s.v[1]-1)*Ht,1));for(Tt=0;Tt<Mt;Tt+=1){if(Nt=xe[Tt].a,Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),Nt.sk.propType&&(Ht.length?it.skewFromAxis(-Nt.sk.v*Ht[0],Nt.sa.v*Ht[1]):it.skewFromAxis(-Nt.sk.v*Ht,Nt.sa.v*Ht)),Nt.r.propType&&(Ht.length?it.rotateZ(-Nt.r.v*Ht[2]):it.rotateZ(-Nt.r.v*Ht)),Nt.ry.propType&&(Ht.length?it.rotateY(Nt.ry.v*Ht[1]):it.rotateY(Nt.ry.v*Ht)),Nt.rx.propType&&(Ht.length?it.rotateX(Nt.rx.v*Ht[0]):it.rotateX(Nt.rx.v*Ht)),Nt.o.propType&&(Ht.length?ur+=(Nt.o.v*Ht[0]-ur)*Ht[0]:ur+=(Nt.o.v*Ht-ur)*Ht),ee.strokeWidthAnim&&Nt.sw.propType&&(Ht.length?Zt+=Nt.sw.v*Ht[0]:Zt+=Nt.sw.v*Ht),ee.strokeColorAnim&&Nt.sc.propType)for(dr=0;dr<3;dr+=1)Ht.length?Jt[dr]+=(Nt.sc.v[dr]-Jt[dr])*Ht[0]:Jt[dr]+=(Nt.sc.v[dr]-Jt[dr])*Ht;if(ee.fillColorAnim&&ee.fc){if(Nt.fc.propType)for(dr=0;dr<3;dr+=1)Ht.length?or[dr]+=(Nt.fc.v[dr]-or[dr])*Ht[0]:or[dr]+=(Nt.fc.v[dr]-or[dr])*Ht;Nt.fh.propType&&(Ht.length?or=addHueToRGB(or,Nt.fh.v*Ht[0]):or=addHueToRGB(or,Nt.fh.v*Ht)),Nt.fs.propType&&(Ht.length?or=addSaturationToRGB(or,Nt.fs.v*Ht[0]):or=addSaturationToRGB(or,Nt.fs.v*Ht)),Nt.fb.propType&&(Ht.length?or=addBrightnessToRGB(or,Nt.fb.v*Ht[0]):or=addBrightnessToRGB(or,Nt.fb.v*Ht))}}for(Tt=0;Tt<Mt;Tt+=1)Nt=xe[Tt].a,Nt.p.propType&&(Dt=xe[Tt].s,Ht=Dt.getMult(pt[ht].anIndexes[Tt],rt.a[Tt].s.totalChars),this._hasMaskedPath?Ht.length?it.translate(0,Nt.p.v[1]*Ht[0],-Nt.p.v[2]*Ht[1]):it.translate(0,Nt.p.v[1]*Ht,-Nt.p.v[2]*Ht):Ht.length?it.translate(Nt.p.v[0]*Ht[0],Nt.p.v[1]*Ht[1],-Nt.p.v[2]*Ht[2]):it.translate(Nt.p.v[0]*Ht,Nt.p.v[1]*Ht,-Nt.p.v[2]*Ht));if(ee.strokeWidthAnim&&(Ar=Zt<0?0:Zt),ee.strokeColorAnim&&(Nr="rgb("+Math.round(Jt[0]*255)+","+Math.round(Jt[1]*255)+","+Math.round(Jt[2]*255)+")"),ee.fillColorAnim&&ee.fc&&(Mr="rgb("+Math.round(or[0]*255)+","+Math.round(or[1]*255)+","+Math.round(or[2]*255)+")"),this._hasMaskedPath){if(it.translate(0,-ee.ls),it.translate(0,ne[1]*It*.01+dt,0),this._pathData.p.v){Ft=(yt.point[1]-St.point[1])/(yt.point[0]-St.point[0]);var Er=Math.atan(Ft)*180/Math.PI;yt.point[0]<St.point[0]&&(Er+=180),it.rotate(-Er*Math.PI/180)}it.translate(Yt,Qt,0),xt-=ne[0]*pt[ht].an*.005,pt[ht+1]&&Wt!==pt[ht+1].ind&&(xt+=pt[ht].an/2,xt+=ee.tr*.001*ee.finalSize)}else{switch(it.translate(ut,dt,0),ee.ps&&it.translate(ee.ps[0],ee.ps[1]+ee.ascent,0),ee.j){case 1:it.translate(pt[ht].animatorJustifyOffset+ee.justifyOffset+(ee.boxWidth-ee.lineWidths[pt[ht].line]),0,0);break;case 2:it.translate(pt[ht].animatorJustifyOffset+ee.justifyOffset+(ee.boxWidth-ee.lineWidths[pt[ht].line])/2,0,0);break}it.translate(0,-ee.ls),it.translate(Vt,0,0),it.translate(ne[0]*pt[ht].an*.005,ne[1]*It*.01,0),ut+=pt[ht].l+ee.tr*.001*ee.finalSize}lt==="html"?Gr=it.toCSS():lt==="svg"?Gr=it.to2dCSS():Yr=[it.props[0],it.props[1],it.props[2],it.props[3],it.props[4],it.props[5],it.props[6],it.props[7],it.props[8],it.props[9],it.props[10],it.props[11],it.props[12],it.props[13],it.props[14],it.props[15]],en=ur}ct<=ht?($t=new LetterProps(en,Ar,Nr,Mr,Gr,Yr),this.renderedLetters.push($t),ct+=1,this.lettersChangedFlag=!0):($t=this.renderedLetters[ht],this.lettersChangedFlag=$t.update(en,Ar,Nr,Mr,Gr,Yr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(ee,te,ne){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(ee,te,ne),this.textProperty=new TextProperty(this,ee.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(ee.t,this.renderType,this),this.initTransform(ee,te,ne),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(ee){this._mdf=!1,this.prepareRenderableFrame(ee),this.prepareProperties(ee,this.isInRange)},ITextElement.prototype.createPathShape=function(ee,te){var ne,xe=te.length,rt,it="";for(ne=0;ne<xe;ne+=1)te[ne].ty==="sh"&&(rt=te[ne].ks.k,it+=buildShapeString(rt,rt.i.length,!0,ee));return it},ITextElement.prototype.updateDocumentData=function(ee,te){this.textProperty.updateDocumentData(ee,te)},ITextElement.prototype.canResizeFont=function(ee){this.textProperty.canResizeFont(ee)},ITextElement.prototype.setMinimumFontSize=function(ee){this.textProperty.setMinimumFontSize(ee)},ITextElement.prototype.applyTextPropertiesToMatrix=function(ee,te,ne,xe,rt){switch(ee.ps&&te.translate(ee.ps[0],ee.ps[1]+ee.ascent,0),te.translate(0,-ee.ls,0),ee.j){case 1:te.translate(ee.justifyOffset+(ee.boxWidth-ee.lineWidths[ne]),0,0);break;case 2:te.translate(ee.justifyOffset+(ee.boxWidth-ee.lineWidths[ne])/2,0,0);break}te.translate(xe,rt,0)},ITextElement.prototype.buildColor=function(ee){return"rgb("+Math.round(ee[0]*255)+","+Math.round(ee[1]*255)+","+Math.round(ee[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(ee,te,ne){this.textSpans=[],this.renderType="svg",this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(ee){for(var te=0,ne=ee.length,xe=[],rt="";te<ne;)ee[te]==="\r"||ee[te]===""?(xe.push(rt),rt=""):rt+=ee[te],te+=1;return xe.push(rt),xe},SVGTextLottieElement.prototype.buildShapeData=function(ee,te){if(ee.shapes&&ee.shapes.length){var ne=ee.shapes[0];if(ne.it){var xe=ne.it[ne.it.length-1];xe.s&&(xe.s.k[0]=te,xe.s.k[1]=te)}}return ee},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var ee,te,ne=this.textProperty.currentData;this.renderedLetters=createSizedArray(ne?ne.l.length:0),ne.fc?this.layerElement.setAttribute("fill",this.buildColor(ne.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),ne.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(ne.sc)),this.layerElement.setAttribute("stroke-width",ne.sw)),this.layerElement.setAttribute("font-size",ne.finalSize);var xe=this.globalData.fontManager.getFontByName(ne.f);if(xe.fClass)this.layerElement.setAttribute("class",xe.fClass);else{this.layerElement.setAttribute("font-family",xe.fFamily);var rt=ne.fWeight,it=ne.fStyle;this.layerElement.setAttribute("font-style",it),this.layerElement.setAttribute("font-weight",rt)}this.layerElement.setAttribute("aria-label",ne.t);var lt=ne.l||[],ct=!!this.globalData.fontManager.chars;te=lt.length;var ut,dt=this.mHelper,ht="",ft=this.data.singleShape,pt=0,mt=0,xt=!0,yt=ne.tr*.001*ne.finalSize;if(ft&&!ct&&!ne.sz){var vt=this.textContainer,Et="start";switch(ne.j){case 1:Et="end";break;case 2:Et="middle";break;default:Et="start";break}vt.setAttribute("text-anchor",Et),vt.setAttribute("letter-spacing",yt);var _t=this.buildTextContents(ne.finalText);for(te=_t.length,mt=ne.ps?ne.ps[1]+ne.ascent:0,ee=0;ee<te;ee+=1)ut=this.textSpans[ee].span||createNS("tspan"),ut.textContent=_t[ee],ut.setAttribute("x",0),ut.setAttribute("y",mt),ut.style.display="inherit",vt.appendChild(ut),this.textSpans[ee]||(this.textSpans[ee]={span:null,glyph:null}),this.textSpans[ee].span=ut,mt+=ne.finalLineHeight;this.layerElement.appendChild(vt)}else{var wt=this.textSpans.length,St;for(ee=0;ee<te;ee+=1){if(this.textSpans[ee]||(this.textSpans[ee]={span:null,childSpan:null,glyph:null}),!ct||!ft||ee===0){if(ut=wt>ee?this.textSpans[ee].span:createNS(ct?"g":"text"),wt<=ee){if(ut.setAttribute("stroke-linecap","butt"),ut.setAttribute("stroke-linejoin","round"),ut.setAttribute("stroke-miterlimit","4"),this.textSpans[ee].span=ut,ct){var Ct=createNS("g");ut.appendChild(Ct),this.textSpans[ee].childSpan=Ct}this.textSpans[ee].span=ut,this.layerElement.appendChild(ut)}ut.style.display="inherit"}if(dt.reset(),ft&&(lt[ee].n&&(pt=-yt,mt+=ne.yOffset,mt+=xt?1:0,xt=!1),this.applyTextPropertiesToMatrix(ne,dt,lt[ee].line,pt,mt),pt+=lt[ee].l||0,pt+=yt),ct){St=this.globalData.fontManager.getCharData(ne.finalText[ee],xe.fStyle,this.globalData.fontManager.getFontByName(ne.f).fFamily);var jt;if(St.t===1)jt=new SVGCompElement(St.data,this.globalData,this);else{var Rt=emptyShapeData;St.data&&St.data.shapes&&(Rt=this.buildShapeData(St.data,ne.finalSize)),jt=new SVGShapeElement(Rt,this.globalData,this)}if(this.textSpans[ee].glyph){var Pt=this.textSpans[ee].glyph;this.textSpans[ee].childSpan.removeChild(Pt.layerElement),Pt.destroy()}this.textSpans[ee].glyph=jt,jt._debug=!0,jt.prepareFrame(0),jt.renderFrame(),this.textSpans[ee].childSpan.appendChild(jt.layerElement),St.t===1&&this.textSpans[ee].childSpan.setAttribute("transform","scale("+ne.finalSize/100+","+ne.finalSize/100+")")}else ft&&ut.setAttribute("transform","translate("+dt.props[12]+","+dt.props[13]+")"),ut.textContent=lt[ee].val,ut.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ft&&ut&&ut.setAttribute("d",ht)}for(;ee<this.textSpans.length;)this.textSpans[ee].span.style.display="none",ee+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var ee=this.layerElement.getBBox();this.bbox={top:ee.y,left:ee.x,width:ee.width,height:ee.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var ee,te=this.textSpans.length,ne;for(this.renderedFrame=this.comp.renderedFrame,ee=0;ee<te;ee+=1)ne=this.textSpans[ee].glyph,ne&&(ne.prepareFrame(this.comp.renderedFrame-this.data.st),ne._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var ee,te,ne=this.textAnimator.renderedLetters,xe=this.textProperty.currentData.l;te=xe.length;var rt,it,lt;for(ee=0;ee<te;ee+=1)xe[ee].n||(rt=ne[ee],it=this.textSpans[ee].span,lt=this.textSpans[ee].glyph,lt&&lt.renderFrame(),rt._mdf.m&&it.setAttribute("transform",rt.m),rt._mdf.o&&it.setAttribute("opacity",rt.o),rt._mdf.sw&&it.setAttribute("stroke-width",rt.sw),rt._mdf.sc&&it.setAttribute("stroke",rt.sc),rt._mdf.fc&&it.setAttribute("fill",rt.fc))}};function ISolidElement(ee,te,ne){this.initElement(ee,te,ne)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var ee=createNS("rect");ee.setAttribute("width",this.data.sw),ee.setAttribute("height",this.data.sh),ee.setAttribute("fill",this.data.sc),this.layerElement.appendChild(ee)};function NullElement(ee,te,ne){this.initFrame(),this.initBaseData(ee,te,ne),this.initFrame(),this.initTransform(ee,te,ne),this.initHierarchy()}NullElement.prototype.prepareFrame=function(ee){this.prepareProperties(ee,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(ee){return new NullElement(ee,this.globalData,this)},SVGRendererBase.prototype.createShape=function(ee){return new SVGShapeElement(ee,this.globalData,this)},SVGRendererBase.prototype.createText=function(ee){return new SVGTextLottieElement(ee,this.globalData,this)},SVGRendererBase.prototype.createImage=function(ee){return new IImageElement(ee,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(ee){return new ISolidElement(ee,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(ee){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+ee.w+" "+ee.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",ee.w),this.svgElement.setAttribute("height",ee.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var te=this.globalData.defs;this.setupGlobalData(ee,te),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=ee;var ne=createNS("clipPath"),xe=createNS("rect");xe.setAttribute("width",ee.w),xe.setAttribute("height",ee.h),xe.setAttribute("x",0),xe.setAttribute("y",0);var rt=createElementID();ne.setAttribute("id",rt),ne.appendChild(xe),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+rt+")"),te.appendChild(ne),this.layers=ee.layers,this.elements=createSizedArray(ee.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var ee,te=this.layers?this.layers.length:0;for(ee=0;ee<te;ee+=1)this.elements[ee]&&this.elements[ee].destroy&&this.elements[ee].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(ee){var te=0,ne=this.layers.length;for(te=0;te<ne;te+=1)if(this.layers[te].ind===ee)return te;return-1},SVGRendererBase.prototype.buildItem=function(ee){var te=this.elements;if(!(te[ee]||this.layers[ee].ty===99)){te[ee]=!0;var ne=this.createItem(this.layers[ee]);if(te[ee]=ne,getExpressionsPlugin()&&(this.layers[ee].ty===0&&this.globalData.projectInterface.registerComposition(ne),ne.initExpressions()),this.appendElementInPos(ne,ee),this.layers[ee].tt){var xe="tp"in this.layers[ee]?this.findIndexByInd(this.layers[ee].tp):ee-1;if(xe===-1)return;if(!this.elements[xe]||this.elements[xe]===!0)this.buildItem(xe),this.addPendingElement(ne);else{var rt=te[xe],it=rt.getMatte(this.layers[ee].tt);ne.setMatte(it)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var ee=this.pendingElements.pop();if(ee.checkParenting(),ee.data.tt)for(var te=0,ne=this.elements.length;te<ne;){if(this.elements[te]===ee){var xe="tp"in ee.data?this.findIndexByInd(ee.data.tp):te-1,rt=this.elements[xe],it=rt.getMatte(this.layers[te].tt);ee.setMatte(it);break}te+=1}}},SVGRendererBase.prototype.renderFrame=function(ee){if(!(this.renderedFrame===ee||this.destroyed)){ee===null?ee=this.renderedFrame:this.renderedFrame=ee,this.globalData.frameNum=ee,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=ee,this.globalData._mdf=!1;var te,ne=this.layers.length;for(this.completeLayers||this.checkLayers(ee),te=ne-1;te>=0;te-=1)(this.completeLayers||this.elements[te])&&this.elements[te].prepareFrame(ee-this.layers[te].st);if(this.globalData._mdf)for(te=0;te<ne;te+=1)(this.completeLayers||this.elements[te])&&this.elements[te].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(ee,te){var ne=ee.getBaseElement();if(ne){for(var xe=0,rt;xe<te;)this.elements[xe]&&this.elements[xe]!==!0&&this.elements[xe].getBaseElement()&&(rt=this.elements[xe].getBaseElement()),xe+=1;rt?this.layerElement.insertBefore(ne,rt):this.layerElement.appendChild(ne)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(ee,te,ne){this.initFrame(),this.initBaseData(ee,te,ne),this.initTransform(ee,te,ne),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!te.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(ee){if(this._mdf=!1,this.prepareRenderableFrame(ee),this.prepareProperties(ee,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=ee/this.data.sr;else{var te=this.tm.v;te===this.data.op&&(te=this.data.op-1),this.renderedFrame=te}var ne,xe=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),ne=xe-1;ne>=0;ne-=1)(this.completeLayers||this.elements[ne])&&(this.elements[ne].prepareFrame(this.renderedFrame-this.layers[ne].st),this.elements[ne]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var ee,te=this.layers.length;for(ee=0;ee<te;ee+=1)(this.completeLayers||this.elements[ee])&&this.elements[ee].renderFrame()},ICompElement.prototype.setElements=function(ee){this.elements=ee},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var ee,te=this.layers.length;for(ee=0;ee<te;ee+=1)this.elements[ee]&&this.elements[ee].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(ee,te,ne){this.layers=ee.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(ee,te,ne),this.tm=ee.tm?PropertyFactory.getProp(this,ee.tm,0,te.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(ee){return new SVGCompElement(ee,this.globalData,this)};function SVGRenderer(ee,te){this.animationItem=ee,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var ne="";if(te&&te.title){var xe=createNS("title"),rt=createElementID();xe.setAttribute("id",rt),xe.textContent=te.title,this.svgElement.appendChild(xe),ne+=rt}if(te&&te.description){var it=createNS("desc"),lt=createElementID();it.setAttribute("id",lt),it.textContent=te.description,this.svgElement.appendChild(it),ne+=" "+lt}ne&&this.svgElement.setAttribute("aria-labelledby",ne);var ct=createNS("defs");this.svgElement.appendChild(ct);var ut=createNS("g");this.svgElement.appendChild(ut),this.layerElement=ut,this.renderConfig={preserveAspectRatio:te&&te.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:te&&te.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:te&&te.contentVisibility||"visible",progressiveLoad:te&&te.progressiveLoad||!1,hideOnTransparent:!(te&&te.hideOnTransparent===!1),viewBoxOnly:te&&te.viewBoxOnly||!1,viewBoxSize:te&&te.viewBoxSize||!1,className:te&&te.className||"",id:te&&te.id||"",focusable:te&&te.focusable,filterSize:{width:te&&te.filterSize&&te.filterSize.width||"100%",height:te&&te.filterSize&&te.filterSize.height||"100%",x:te&&te.filterSize&&te.filterSize.x||"0%",y:te&&te.filterSize&&te.filterSize.y||"0%"},width:te&&te.width,height:te&&te.height,runExpressions:!te||te.runExpressions===void 0||te.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ct,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(ee){return new SVGCompElement(ee,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(te){var ne,xe=te.length,rt="_";for(ne=0;ne<xe;ne+=1)rt+=te[ne].transform.key+"_";var it=this.sequences[rt];return it||(it={transforms:[].concat(te),finalTransform:new Matrix,_mdf:!1},this.sequences[rt]=it,this.sequenceList.push(it)),it},processSequence:function(te,ne){for(var xe=0,rt=te.transforms.length,it=ne;xe<rt&&!ne;){if(te.transforms[xe].transform.mProps._mdf){it=!0;break}xe+=1}if(it)for(te.finalTransform.reset(),xe=rt-1;xe>=0;xe-=1)te.finalTransform.multiply(te.transforms[xe].transform.mProps.v);te._mdf=it},processSequences:function(te){var ne,xe=this.sequenceList.length;for(ne=0;ne<xe;ne+=1)this.processSequence(this.sequenceList[ne],te)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var te="__lottie_element_luma_buffer",ne=null,xe=null,rt=null;function it(){var ut=createNS("svg"),dt=createNS("filter"),ht=createNS("feColorMatrix");return dt.setAttribute("id",te),ht.setAttribute("type","matrix"),ht.setAttribute("color-interpolation-filters","sRGB"),ht.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),dt.appendChild(ht),ut.appendChild(dt),ut.setAttribute("id",te+"_svg"),featureSupport.svgLumaHidden&&(ut.style.display="none"),ut}function lt(){ne||(rt=it(),document.body.appendChild(rt),ne=createTag("canvas"),xe=ne.getContext("2d"),xe.filter="url(#"+te+")",xe.fillStyle="rgba(0,0,0,0)",xe.fillRect(0,0,1,1))}function ct(ut){return ne||lt(),ne.width=ut.width,ne.height=ut.height,xe.filter="url(#"+te+")",ne}return{load:lt,get:ct}};function createCanvas(ee,te){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(ee,te);var ne=createTag("canvas");return ne.width=ee,ne.height=te,ne}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(ee){var te,ne=ee.data.ef?ee.data.ef.length:0;this.filters=[];var xe;for(te=0;te<ne;te+=1){xe=null;var rt=ee.data.ef[te].ty;if(registeredEffects[rt]){var it=registeredEffects[rt].effect;xe=new it(ee.effectsManager.effectElements[te],ee)}xe&&this.filters.push(xe)}this.filters.length&&ee.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(ee){var te,ne=this.filters.length;for(te=0;te<ne;te+=1)this.filters[te].renderFrame(ee)},CVEffects.prototype.getEffects=function(ee){var te,ne=this.filters.length,xe=[];for(te=0;te<ne;te+=1)this.filters[te].type===ee&&xe.push(this.filters[te]);return xe};function registerEffect(ee,te){registeredEffects[ee]={effect:te}}function CVMaskElement(ee,te){this.data=ee,this.element=te,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var ne,xe=this.masksProperties.length,rt=!1;for(ne=0;ne<xe;ne+=1)this.masksProperties[ne].mode!=="n"&&(rt=!0),this.viewData[ne]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[ne],3);this.hasMasks=rt,rt&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var ee=this.element.finalTransform.mat,te=this.element.canvasContext,ne,xe=this.masksProperties.length,rt,it,lt;for(te.beginPath(),ne=0;ne<xe;ne+=1)if(this.masksProperties[ne].mode!=="n"){this.masksProperties[ne].inv&&(te.moveTo(0,0),te.lineTo(this.element.globalData.compSize.w,0),te.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),te.lineTo(0,this.element.globalData.compSize.h),te.lineTo(0,0)),lt=this.viewData[ne].v,rt=ee.applyToPointArray(lt.v[0][0],lt.v[0][1],0),te.moveTo(rt[0],rt[1]);var ct,ut=lt._length;for(ct=1;ct<ut;ct+=1)it=ee.applyToTriplePoints(lt.o[ct-1],lt.i[ct],lt.v[ct]),te.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5]);it=ee.applyToTriplePoints(lt.o[ct-1],lt.i[0],lt.v[0]),te.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5])}this.element.globalData.renderer.save(!0),te.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var te=this.globalData.canvasContext,ne=assetLoader.createCanvas(te.canvas.width,te.canvas.height);this.buffers.push(ne);var xe=assetLoader.createCanvas(te.canvas.width,te.canvas.height);this.buffers.push(xe),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var te=this.globalData;if(te.blendMode!==this.data.bm){te.blendMode=this.data.bm;var ne=getBlendMode(this.data.bm);te.canvasContext.globalCompositeOperation=ne}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(te){te.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var te=this.buffers[0],ne=te.getContext("2d");this.clearCanvas(ne),ne.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var te=this.buffers[1],ne=te.getContext("2d");this.clearCanvas(ne),ne.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var xe=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(xe.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var rt=assetLoader.getLumaCanvas(this.canvasContext.canvas),it=rt.getContext("2d");it.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(rt,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(te,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(te){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!te)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var ne=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(ne),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(ne),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(ee,te,ne,xe){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var rt=4;te.ty==="rc"?rt=5:te.ty==="el"?rt=6:te.ty==="sr"&&(rt=7),this.sh=ShapePropertyFactory.getShapeProp(ee,te,rt,ee);var it,lt=ne.length,ct;for(it=0;it<lt;it+=1)ne[it].closed||(ct={transforms:xe.addTransformSequence(ne[it].transforms),trNodes:[]},this.styledShapes.push(ct),ne[it].elements.push(ct))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(ee,te,ne){this.shapes=[],this.shapesData=ee.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(ee,te){var ne={data:ee,type:ee.ty,preTransforms:this.transformsManager.addTransformSequence(te),transforms:[],elements:[],closed:ee.hd===!0},xe={};if(ee.ty==="fl"||ee.ty==="st"?(xe.c=PropertyFactory.getProp(this,ee.c,1,255,this),xe.c.k||(ne.co="rgb("+bmFloor(xe.c.v[0])+","+bmFloor(xe.c.v[1])+","+bmFloor(xe.c.v[2])+")")):(ee.ty==="gf"||ee.ty==="gs")&&(xe.s=PropertyFactory.getProp(this,ee.s,1,null,this),xe.e=PropertyFactory.getProp(this,ee.e,1,null,this),xe.h=PropertyFactory.getProp(this,ee.h||{k:0},0,.01,this),xe.a=PropertyFactory.getProp(this,ee.a||{k:0},0,degToRads,this),xe.g=new GradientProperty(this,ee.g,this)),xe.o=PropertyFactory.getProp(this,ee.o,0,.01,this),ee.ty==="st"||ee.ty==="gs"){if(ne.lc=lineCapEnum[ee.lc||2],ne.lj=lineJoinEnum[ee.lj||2],ee.lj==1&&(ne.ml=ee.ml),xe.w=PropertyFactory.getProp(this,ee.w,0,null,this),xe.w.k||(ne.wi=xe.w.v),ee.d){var rt=new DashProperty(this,ee.d,"canvas",this);xe.d=rt,xe.d.k||(ne.da=xe.d.dashArray,ne.do=xe.d.dashoffset[0])}}else ne.r=ee.r===2?"evenodd":"nonzero";return this.stylesList.push(ne),xe.style=ne,xe},CVShapeElement.prototype.createGroupElement=function(){var ee={it:[],prevViewData:[]};return ee},CVShapeElement.prototype.createTransformElement=function(ee){var te={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,ee.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,ee,this)}};return te},CVShapeElement.prototype.createShapeElement=function(ee){var te=new CVShapeData(this,ee,this.stylesList,this.transformsManager);return this.shapes.push(te),this.addShapeToModifiers(te),te},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var ee,te=this.itemsData.length;for(ee=0;ee<te;ee+=1)this.prevViewData[ee]=this.itemsData[ee];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),te=this.dynamicProperties.length,ee=0;ee<te;ee+=1)this.dynamicProperties[ee].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(ee){var te,ne=this.stylesList.length;for(te=0;te<ne;te+=1)this.stylesList[te].closed||this.stylesList[te].transforms.push(ee)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var ee,te=this.stylesList.length;for(ee=0;ee<te;ee+=1)this.stylesList[ee].closed||this.stylesList[ee].transforms.pop()},CVShapeElement.prototype.closeStyles=function(ee){var te,ne=ee.length;for(te=0;te<ne;te+=1)ee[te].closed=!0},CVShapeElement.prototype.searchShapes=function(ee,te,ne,xe,rt){var it,lt=ee.length-1,ct,ut,dt=[],ht=[],ft,pt,mt,xt=[].concat(rt);for(it=lt;it>=0;it-=1){if(ft=this.searchProcessedElement(ee[it]),ft?te[it]=ne[ft-1]:ee[it]._shouldRender=xe,ee[it].ty==="fl"||ee[it].ty==="st"||ee[it].ty==="gf"||ee[it].ty==="gs")ft?te[it].style.closed=!1:te[it]=this.createStyleElement(ee[it],xt),dt.push(te[it].style);else if(ee[it].ty==="gr"){if(!ft)te[it]=this.createGroupElement(ee[it]);else for(ut=te[it].it.length,ct=0;ct<ut;ct+=1)te[it].prevViewData[ct]=te[it].it[ct];this.searchShapes(ee[it].it,te[it].it,te[it].prevViewData,xe,xt)}else ee[it].ty==="tr"?(ft||(mt=this.createTransformElement(ee[it]),te[it]=mt),xt.push(te[it]),this.addTransformToStyleList(te[it])):ee[it].ty==="sh"||ee[it].ty==="rc"||ee[it].ty==="el"||ee[it].ty==="sr"?ft||(te[it]=this.createShapeElement(ee[it])):ee[it].ty==="tm"||ee[it].ty==="rd"||ee[it].ty==="pb"||ee[it].ty==="zz"||ee[it].ty==="op"?(ft?(pt=te[it],pt.closed=!1):(pt=ShapeModifiers.getModifier(ee[it].ty),pt.init(this,ee[it]),te[it]=pt,this.shapeModifiers.push(pt)),ht.push(pt)):ee[it].ty==="rp"&&(ft?(pt=te[it],pt.closed=!0):(pt=ShapeModifiers.getModifier(ee[it].ty),te[it]=pt,pt.init(this,ee,it,te),this.shapeModifiers.push(pt),xe=!1),ht.push(pt));this.addProcessedElement(ee[it],it+1)}for(this.removeTransformFromStyleList(),this.closeStyles(dt),lt=ht.length,it=0;it<lt;it+=1)ht[it].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(ee,te){(ee._opMdf||te.op._mdf||this._isFirstFrame)&&(te.opacity=ee.opacity,te.opacity*=te.op.v,te._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var ee,te=this.stylesList.length,ne,xe,rt,it,lt,ct,ut=this.globalData.renderer,dt=this.globalData.canvasContext,ht,ft;for(ee=0;ee<te;ee+=1)if(ft=this.stylesList[ee],ht=ft.type,!((ht==="st"||ht==="gs")&&ft.wi===0||!ft.data._shouldRender||ft.coOp===0||this.globalData.currentGlobalAlpha===0)){for(ut.save(),lt=ft.elements,ht==="st"||ht==="gs"?(ut.ctxStrokeStyle(ht==="st"?ft.co:ft.grd),ut.ctxLineWidth(ft.wi),ut.ctxLineCap(ft.lc),ut.ctxLineJoin(ft.lj),ut.ctxMiterLimit(ft.ml||0)):ut.ctxFillStyle(ht==="fl"?ft.co:ft.grd),ut.ctxOpacity(ft.coOp),ht!=="st"&&ht!=="gs"&&dt.beginPath(),ut.ctxTransform(ft.preTransforms.finalTransform.props),xe=lt.length,ne=0;ne<xe;ne+=1){for((ht==="st"||ht==="gs")&&(dt.beginPath(),ft.da&&(dt.setLineDash(ft.da),dt.lineDashOffset=ft.do)),ct=lt[ne].trNodes,it=ct.length,rt=0;rt<it;rt+=1)ct[rt].t==="m"?dt.moveTo(ct[rt].p[0],ct[rt].p[1]):ct[rt].t==="c"?dt.bezierCurveTo(ct[rt].pts[0],ct[rt].pts[1],ct[rt].pts[2],ct[rt].pts[3],ct[rt].pts[4],ct[rt].pts[5]):dt.closePath();(ht==="st"||ht==="gs")&&(ut.ctxStroke(),ft.da&&dt.setLineDash(this.dashResetter))}ht!=="st"&&ht!=="gs"&&this.globalData.renderer.ctxFill(ft.r),ut.restore()}},CVShapeElement.prototype.renderShape=function(ee,te,ne,xe){var rt,it=te.length-1,lt;for(lt=ee,rt=it;rt>=0;rt-=1)te[rt].ty==="tr"?(lt=ne[rt].transform,this.renderShapeTransform(ee,lt)):te[rt].ty==="sh"||te[rt].ty==="el"||te[rt].ty==="rc"||te[rt].ty==="sr"?this.renderPath(te[rt],ne[rt]):te[rt].ty==="fl"?this.renderFill(te[rt],ne[rt],lt):te[rt].ty==="st"?this.renderStroke(te[rt],ne[rt],lt):te[rt].ty==="gf"||te[rt].ty==="gs"?this.renderGradientFill(te[rt],ne[rt],lt):te[rt].ty==="gr"?this.renderShape(lt,te[rt].it,ne[rt].it):te[rt].ty;xe&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(ee,te){if(this._isFirstFrame||te._mdf||ee.transforms._mdf){var ne=ee.trNodes,xe=te.paths,rt,it,lt,ct=xe._length;ne.length=0;var ut=ee.transforms.finalTransform;for(lt=0;lt<ct;lt+=1){var dt=xe.shapes[lt];if(dt&&dt.v){for(it=dt._length,rt=1;rt<it;rt+=1)rt===1&&ne.push({t:"m",p:ut.applyToPointArray(dt.v[0][0],dt.v[0][1],0)}),ne.push({t:"c",pts:ut.applyToTriplePoints(dt.o[rt-1],dt.i[rt],dt.v[rt])});it===1&&ne.push({t:"m",p:ut.applyToPointArray(dt.v[0][0],dt.v[0][1],0)}),dt.c&&it&&(ne.push({t:"c",pts:ut.applyToTriplePoints(dt.o[rt-1],dt.i[0],dt.v[0])}),ne.push({t:"z"}))}}ee.trNodes=ne}},CVShapeElement.prototype.renderPath=function(ee,te){if(ee.hd!==!0&&ee._shouldRender){var ne,xe=te.styledShapes.length;for(ne=0;ne<xe;ne+=1)this.renderStyledShape(te.styledShapes[ne],te.sh)}},CVShapeElement.prototype.renderFill=function(ee,te,ne){var xe=te.style;(te.c._mdf||this._isFirstFrame)&&(xe.co="rgb("+bmFloor(te.c.v[0])+","+bmFloor(te.c.v[1])+","+bmFloor(te.c.v[2])+")"),(te.o._mdf||ne._opMdf||this._isFirstFrame)&&(xe.coOp=te.o.v*ne.opacity)},CVShapeElement.prototype.renderGradientFill=function(ee,te,ne){var xe=te.style,rt;if(!xe.grd||te.g._mdf||te.s._mdf||te.e._mdf||ee.t!==1&&(te.h._mdf||te.a._mdf)){var it=this.globalData.canvasContext,lt=te.s.v,ct=te.e.v;if(ee.t===1)rt=it.createLinearGradient(lt[0],lt[1],ct[0],ct[1]);else{var ut=Math.sqrt(Math.pow(lt[0]-ct[0],2)+Math.pow(lt[1]-ct[1],2)),dt=Math.atan2(ct[1]-lt[1],ct[0]-lt[0]),ht=te.h.v;ht>=1?ht=.99:ht<=-1&&(ht=-.99);var ft=ut*ht,pt=Math.cos(dt+te.a.v)*ft+lt[0],mt=Math.sin(dt+te.a.v)*ft+lt[1];rt=it.createRadialGradient(pt,mt,0,lt[0],lt[1],ut)}var xt,yt=ee.g.p,vt=te.g.c,Et=1;for(xt=0;xt<yt;xt+=1)te.g._hasOpacity&&te.g._collapsable&&(Et=te.g.o[xt*2+1]),rt.addColorStop(vt[xt*4]/100,"rgba("+vt[xt*4+1]+","+vt[xt*4+2]+","+vt[xt*4+3]+","+Et+")");xe.grd=rt}xe.coOp=te.o.v*ne.opacity},CVShapeElement.prototype.renderStroke=function(ee,te,ne){var xe=te.style,rt=te.d;rt&&(rt._mdf||this._isFirstFrame)&&(xe.da=rt.dashArray,xe.do=rt.dashoffset[0]),(te.c._mdf||this._isFirstFrame)&&(xe.co="rgb("+bmFloor(te.c.v[0])+","+bmFloor(te.c.v[1])+","+bmFloor(te.c.v[2])+")"),(te.o._mdf||ne._opMdf||this._isFirstFrame)&&(xe.coOp=te.o.v*ne.opacity),(te.w._mdf||this._isFirstFrame)&&(xe.wi=te.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(ee,te,ne){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var ee=this.textProperty.currentData;this.renderedLetters=createSizedArray(ee.l?ee.l.length:0);var te=!1;ee.fc?(te=!0,this.values.fill=this.buildColor(ee.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=te;var ne=!1;ee.sc&&(ne=!0,this.values.stroke=this.buildColor(ee.sc),this.values.sWidth=ee.sw);var xe=this.globalData.fontManager.getFontByName(ee.f),rt,it,lt=ee.l,ct=this.mHelper;this.stroke=ne,this.values.fValue=ee.finalSize+"px "+this.globalData.fontManager.getFontByName(ee.f).fFamily,it=ee.finalText.length;var ut,dt,ht,ft,pt,mt,xt,yt,vt,Et,_t=this.data.singleShape,wt=ee.tr*.001*ee.finalSize,St=0,Ct=0,jt=!0,Rt=0;for(rt=0;rt<it;rt+=1){ut=this.globalData.fontManager.getCharData(ee.finalText[rt],xe.fStyle,this.globalData.fontManager.getFontByName(ee.f).fFamily),dt=ut&&ut.data||{},ct.reset(),_t&&lt[rt].n&&(St=-wt,Ct+=ee.yOffset,Ct+=jt?1:0,jt=!1),pt=dt.shapes?dt.shapes[0].it:[],xt=pt.length,ct.scale(ee.finalSize/100,ee.finalSize/100),_t&&this.applyTextPropertiesToMatrix(ee,ct,lt[rt].line,St,Ct),vt=createSizedArray(xt-1);var Pt=0;for(mt=0;mt<xt;mt+=1)if(pt[mt].ty==="sh"){for(ft=pt[mt].ks.k.i.length,yt=pt[mt].ks.k,Et=[],ht=1;ht<ft;ht+=1)ht===1&&Et.push(ct.applyToX(yt.v[0][0],yt.v[0][1],0),ct.applyToY(yt.v[0][0],yt.v[0][1],0)),Et.push(ct.applyToX(yt.o[ht-1][0],yt.o[ht-1][1],0),ct.applyToY(yt.o[ht-1][0],yt.o[ht-1][1],0),ct.applyToX(yt.i[ht][0],yt.i[ht][1],0),ct.applyToY(yt.i[ht][0],yt.i[ht][1],0),ct.applyToX(yt.v[ht][0],yt.v[ht][1],0),ct.applyToY(yt.v[ht][0],yt.v[ht][1],0));Et.push(ct.applyToX(yt.o[ht-1][0],yt.o[ht-1][1],0),ct.applyToY(yt.o[ht-1][0],yt.o[ht-1][1],0),ct.applyToX(yt.i[0][0],yt.i[0][1],0),ct.applyToY(yt.i[0][0],yt.i[0][1],0),ct.applyToX(yt.v[0][0],yt.v[0][1],0),ct.applyToY(yt.v[0][0],yt.v[0][1],0)),vt[Pt]=Et,Pt+=1}_t&&(St+=lt[rt].l,St+=wt),this.textSpans[Rt]?this.textSpans[Rt].elem=vt:this.textSpans[Rt]={elem:vt},Rt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var ee=this.canvasContext;ee.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var te,ne,xe,rt,it,lt,ct=this.textAnimator.renderedLetters,ut=this.textProperty.currentData.l;ne=ut.length;var dt,ht=null,ft=null,pt=null,mt,xt,yt=this.globalData.renderer;for(te=0;te<ne;te+=1)if(!ut[te].n){if(dt=ct[te],dt&&(yt.save(),yt.ctxTransform(dt.p),yt.ctxOpacity(dt.o)),this.fill){for(dt&&dt.fc?ht!==dt.fc&&(yt.ctxFillStyle(dt.fc),ht=dt.fc):ht!==this.values.fill&&(ht=this.values.fill,yt.ctxFillStyle(this.values.fill)),mt=this.textSpans[te].elem,rt=mt.length,this.globalData.canvasContext.beginPath(),xe=0;xe<rt;xe+=1)for(xt=mt[xe],lt=xt.length,this.globalData.canvasContext.moveTo(xt[0],xt[1]),it=2;it<lt;it+=6)this.globalData.canvasContext.bezierCurveTo(xt[it],xt[it+1],xt[it+2],xt[it+3],xt[it+4],xt[it+5]);this.globalData.canvasContext.closePath(),yt.ctxFill()}if(this.stroke){for(dt&&dt.sw?pt!==dt.sw&&(pt=dt.sw,yt.ctxLineWidth(dt.sw)):pt!==this.values.sWidth&&(pt=this.values.sWidth,yt.ctxLineWidth(this.values.sWidth)),dt&&dt.sc?ft!==dt.sc&&(ft=dt.sc,yt.ctxStrokeStyle(dt.sc)):ft!==this.values.stroke&&(ft=this.values.stroke,yt.ctxStrokeStyle(this.values.stroke)),mt=this.textSpans[te].elem,rt=mt.length,this.globalData.canvasContext.beginPath(),xe=0;xe<rt;xe+=1)for(xt=mt[xe],lt=xt.length,this.globalData.canvasContext.moveTo(xt[0],xt[1]),it=2;it<lt;it+=6)this.globalData.canvasContext.bezierCurveTo(xt[it],xt[it+1],xt[it+2],xt[it+3],xt[it+4],xt[it+5]);this.globalData.canvasContext.closePath(),yt.ctxStroke()}dt&&this.globalData.renderer.restore()}};function CVImageElement(ee,te,ne){this.assetData=te.getAssetData(ee.refId),this.img=te.imageLoader.getAsset(this.assetData),this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var ee=createTag("canvas");ee.width=this.assetData.w,ee.height=this.assetData.h;var te=ee.getContext("2d"),ne=this.img.width,xe=this.img.height,rt=ne/xe,it=this.assetData.w/this.assetData.h,lt,ct,ut=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;rt>it&&ut==="xMidYMid slice"||rt<it&&ut!=="xMidYMid slice"?(ct=xe,lt=ct*it):(lt=ne,ct=lt/it),te.drawImage(this.img,(ne-lt)/2,(xe-ct)/2,lt,ct,0,0,this.assetData.w,this.assetData.h),this.img=ee}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(ee,te,ne){this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(ee){return new CVShapeElement(ee,this.globalData,this)},CanvasRendererBase.prototype.createText=function(ee){return new CVTextElement(ee,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(ee){return new CVImageElement(ee,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(ee){return new CVSolidElement(ee,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(ee){ee[0]===1&&ee[1]===0&&ee[4]===0&&ee[5]===1&&ee[12]===0&&ee[13]===0||this.canvasContext.transform(ee[0],ee[1],ee[4],ee[5],ee[12],ee[13])},CanvasRendererBase.prototype.ctxOpacity=function(ee){this.canvasContext.globalAlpha*=ee<0?0:ee},CanvasRendererBase.prototype.ctxFillStyle=function(ee){this.canvasContext.fillStyle=ee},CanvasRendererBase.prototype.ctxStrokeStyle=function(ee){this.canvasContext.strokeStyle=ee},CanvasRendererBase.prototype.ctxLineWidth=function(ee){this.canvasContext.lineWidth=ee},CanvasRendererBase.prototype.ctxLineCap=function(ee){this.canvasContext.lineCap=ee},CanvasRendererBase.prototype.ctxLineJoin=function(ee){this.canvasContext.lineJoin=ee},CanvasRendererBase.prototype.ctxMiterLimit=function(ee){this.canvasContext.miterLimit=ee},CanvasRendererBase.prototype.ctxFill=function(ee){this.canvasContext.fill(ee)},CanvasRendererBase.prototype.ctxFillRect=function(ee,te,ne,xe){this.canvasContext.fillRect(ee,te,ne,xe)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(ee){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}ee&&(this.globalData.blendMode="source-over"),this.contextData.restore(ee)},CanvasRendererBase.prototype.configAnimation=function(ee){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var te=this.animationItem.container.style;te.width="100%",te.height="100%";var ne="0px 0px 0px";te.transformOrigin=ne,te.mozTransformOrigin=ne,te.webkitTransformOrigin=ne,te["-webkit-transform"]=ne,te.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=ee,this.layers=ee.layers,this.transformCanvas={w:ee.w,h:ee.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(ee,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(ee.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(ee,te){this.reset();var ne,xe;ee?(ne=ee,xe=te,this.canvasContext.canvas.width=ne,this.canvasContext.canvas.height=xe):(this.animationItem.wrapper&&this.animationItem.container?(ne=this.animationItem.wrapper.offsetWidth,xe=this.animationItem.wrapper.offsetHeight):(ne=this.canvasContext.canvas.width,xe=this.canvasContext.canvas.height),this.canvasContext.canvas.width=ne*this.renderConfig.dpr,this.canvasContext.canvas.height=xe*this.renderConfig.dpr);var rt,it;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var lt=this.renderConfig.preserveAspectRatio.split(" "),ct=lt[1]||"meet",ut=lt[0]||"xMidYMid",dt=ut.substr(0,4),ht=ut.substr(4);rt=ne/xe,it=this.transformCanvas.w/this.transformCanvas.h,it>rt&&ct==="meet"||it<rt&&ct==="slice"?(this.transformCanvas.sx=ne/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ne/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=xe/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=xe/(this.transformCanvas.h/this.renderConfig.dpr)),dt==="xMid"&&(it<rt&&ct==="meet"||it>rt&&ct==="slice")?this.transformCanvas.tx=(ne-this.transformCanvas.w*(xe/this.transformCanvas.h))/2*this.renderConfig.dpr:dt==="xMax"&&(it<rt&&ct==="meet"||it>rt&&ct==="slice")?this.transformCanvas.tx=(ne-this.transformCanvas.w*(xe/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ht==="YMid"&&(it>rt&&ct==="meet"||it<rt&&ct==="slice")?this.transformCanvas.ty=(xe-this.transformCanvas.h*(ne/this.transformCanvas.w))/2*this.renderConfig.dpr:ht==="YMax"&&(it>rt&&ct==="meet"||it<rt&&ct==="slice")?this.transformCanvas.ty=(xe-this.transformCanvas.h*(ne/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=ne/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=xe/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var ee,te=this.layers?this.layers.length:0;for(ee=te-1;ee>=0;ee-=1)this.elements[ee]&&this.elements[ee].destroy&&this.elements[ee].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(ee,te){if(!(this.renderedFrame===ee&&this.renderConfig.clearCanvas===!0&&!te||this.destroyed||ee===-1)){this.renderedFrame=ee,this.globalData.frameNum=ee-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||te,this.globalData.projectInterface.currentFrame=ee;var ne,xe=this.layers.length;for(this.completeLayers||this.checkLayers(ee),ne=xe-1;ne>=0;ne-=1)(this.completeLayers||this.elements[ne])&&this.elements[ne].prepareFrame(ee-this.layers[ne].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),ne=xe-1;ne>=0;ne-=1)(this.completeLayers||this.elements[ne])&&this.elements[ne].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(ee){var te=this.elements;if(!(te[ee]||this.layers[ee].ty===99)){var ne=this.createItem(this.layers[ee],this,this.globalData);te[ee]=ne,ne.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var ee=this.pendingElements.pop();ee.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var ee,te=15;for(ee=0;ee<te;ee+=1){var ne=new CanvasContext;this.stack[ee]=ne}this._length=te,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var ee=this._length*2,te=0;for(te=this._length;te<ee;te+=1)this.stack[te]=new CanvasContext;this._length=ee},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(ee){this.cArrPos-=1;var te=this.stack[this.cArrPos],ne=te.transform,xe,rt=this.cTr.props;for(xe=0;xe<16;xe+=1)rt[xe]=ne[xe];if(ee){this.nativeContext.restore();var it=this.stack[this.cArrPos+1];this.appliedFillStyle=it.fillStyle,this.appliedStrokeStyle=it.strokeStyle,this.appliedLineWidth=it.lineWidth,this.appliedLineCap=it.lineCap,this.appliedLineJoin=it.lineJoin,this.appliedMiterLimit=it.miterLimit}this.nativeContext.setTransform(ne[0],ne[1],ne[4],ne[5],ne[12],ne[13]),(ee||te.opacity!==-1&&this.currentOpacity!==te.opacity)&&(this.nativeContext.globalAlpha=te.opacity,this.currentOpacity=te.opacity),this.currentFillStyle=te.fillStyle,this.currentStrokeStyle=te.strokeStyle,this.currentLineWidth=te.lineWidth,this.currentLineCap=te.lineCap,this.currentLineJoin=te.lineJoin,this.currentMiterLimit=te.miterLimit},CVContextData.prototype.save=function(ee){ee&&this.nativeContext.save();var te=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var ne=this.stack[this.cArrPos],xe;for(xe=0;xe<16;xe+=1)ne.transform[xe]=te[xe];this.cArrPos+=1;var rt=this.stack[this.cArrPos];rt.opacity=ne.opacity,rt.fillStyle=ne.fillStyle,rt.strokeStyle=ne.strokeStyle,rt.lineWidth=ne.lineWidth,rt.lineCap=ne.lineCap,rt.lineJoin=ne.lineJoin,rt.miterLimit=ne.miterLimit},CVContextData.prototype.setOpacity=function(ee){this.stack[this.cArrPos].opacity=ee},CVContextData.prototype.setContext=function(ee){this.nativeContext=ee},CVContextData.prototype.fillStyle=function(ee){this.stack[this.cArrPos].fillStyle!==ee&&(this.currentFillStyle=ee,this.stack[this.cArrPos].fillStyle=ee)},CVContextData.prototype.strokeStyle=function(ee){this.stack[this.cArrPos].strokeStyle!==ee&&(this.currentStrokeStyle=ee,this.stack[this.cArrPos].strokeStyle=ee)},CVContextData.prototype.lineWidth=function(ee){this.stack[this.cArrPos].lineWidth!==ee&&(this.currentLineWidth=ee,this.stack[this.cArrPos].lineWidth=ee)},CVContextData.prototype.lineCap=function(ee){this.stack[this.cArrPos].lineCap!==ee&&(this.currentLineCap=ee,this.stack[this.cArrPos].lineCap=ee)},CVContextData.prototype.lineJoin=function(ee){this.stack[this.cArrPos].lineJoin!==ee&&(this.currentLineJoin=ee,this.stack[this.cArrPos].lineJoin=ee)},CVContextData.prototype.miterLimit=function(ee){this.stack[this.cArrPos].miterLimit!==ee&&(this.currentMiterLimit=ee,this.stack[this.cArrPos].miterLimit=ee)},CVContextData.prototype.transform=function(ee){this.transformMat.cloneFromProps(ee);var te=this.cTr;this.transformMat.multiply(te),te.cloneFromProps(this.transformMat.props);var ne=te.props;this.nativeContext.setTransform(ne[0],ne[1],ne[4],ne[5],ne[12],ne[13])},CVContextData.prototype.opacity=function(ee){var te=this.stack[this.cArrPos].opacity;te*=ee<0?0:ee,this.stack[this.cArrPos].opacity!==te&&(this.currentOpacity!==ee&&(this.nativeContext.globalAlpha=ee,this.currentOpacity=ee),this.stack[this.cArrPos].opacity=te)},CVContextData.prototype.fill=function(ee){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(ee)},CVContextData.prototype.fillRect=function(ee,te,ne,xe){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(ee,te,ne,xe)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(ee,te,ne){this.completeLayers=!1,this.layers=ee.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(ee,te,ne),this.tm=ee.tm?PropertyFactory.getProp(this,ee.tm,0,te.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var ee=this.canvasContext;ee.beginPath(),ee.moveTo(0,0),ee.lineTo(this.data.w,0),ee.lineTo(this.data.w,this.data.h),ee.lineTo(0,this.data.h),ee.lineTo(0,0),ee.clip();var te,ne=this.layers.length;for(te=ne-1;te>=0;te-=1)(this.completeLayers||this.elements[te])&&this.elements[te].renderFrame()},CVCompElement.prototype.destroy=function(){var ee,te=this.layers.length;for(ee=te-1;ee>=0;ee-=1)this.elements[ee]&&this.elements[ee].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(ee){return new CVCompElement(ee,this.globalData,this)};function CanvasRenderer(ee,te){this.animationItem=ee,this.renderConfig={clearCanvas:te&&te.clearCanvas!==void 0?te.clearCanvas:!0,context:te&&te.context||null,progressiveLoad:te&&te.progressiveLoad||!1,preserveAspectRatio:te&&te.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:te&&te.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:te&&te.contentVisibility||"visible",className:te&&te.className||"",id:te&&te.id||"",runExpressions:!te||te.runExpressions===void 0||te.runExpressions},this.renderConfig.dpr=te&&te.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=te&&te.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(ee){return new CVCompElement(ee,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var te=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var ne=this.finalTransform.mat.toCSS();te.transform=ne,te.webkitTransform=ne}this.finalTransform._opMdf&&(te.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(ee,te,ne){this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var ee;this.data.hasMask?(ee=createNS("rect"),ee.setAttribute("width",this.data.sw),ee.setAttribute("height",this.data.sh),ee.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(ee=createTag("div"),ee.style.width=this.data.sw+"px",ee.style.height=this.data.sh+"px",ee.style.backgroundColor=this.data.sc),this.layerElement.appendChild(ee)};function HShapeElement(ee,te,ne){this.shapes=[],this.shapesData=ee.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(ee,te,ne),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var ee;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),ee=this.svgElement;else{ee=createNS("svg");var te=this.comp.data?this.comp.data:this.globalData.compSize;ee.setAttribute("width",te.w),ee.setAttribute("height",te.h),ee.appendChild(this.shapesContainer),this.layerElement.appendChild(ee)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=ee},HShapeElement.prototype.getTransformedPoint=function(ee,te){var ne,xe=ee.length;for(ne=0;ne<xe;ne+=1)te=ee[ne].mProps.v.applyToPointArray(te[0],te[1],0);return te},HShapeElement.prototype.calculateShapeBoundingBox=function(ee,te){var ne=ee.sh.v,xe=ee.transformers,rt,it=ne._length,lt,ct,ut,dt;if(!(it<=1)){for(rt=0;rt<it-1;rt+=1)lt=this.getTransformedPoint(xe,ne.v[rt]),ct=this.getTransformedPoint(xe,ne.o[rt]),ut=this.getTransformedPoint(xe,ne.i[rt+1]),dt=this.getTransformedPoint(xe,ne.v[rt+1]),this.checkBounds(lt,ct,ut,dt,te);ne.c&&(lt=this.getTransformedPoint(xe,ne.v[rt]),ct=this.getTransformedPoint(xe,ne.o[rt]),ut=this.getTransformedPoint(xe,ne.i[0]),dt=this.getTransformedPoint(xe,ne.v[0]),this.checkBounds(lt,ct,ut,dt,te))}},HShapeElement.prototype.checkBounds=function(ee,te,ne,xe,rt){this.getBoundsOfCurve(ee,te,ne,xe);var it=this.shapeBoundingBox;rt.x=bmMin(it.left,rt.x),rt.xMax=bmMax(it.right,rt.xMax),rt.y=bmMin(it.top,rt.y),rt.yMax=bmMax(it.bottom,rt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(ee,te,ne,xe){for(var rt=[[ee[0],xe[0]],[ee[1],xe[1]]],it,lt,ct,ut,dt,ht,ft,pt=0;pt<2;++pt)lt=6*ee[pt]-12*te[pt]+6*ne[pt],it=-3*ee[pt]+9*te[pt]-9*ne[pt]+3*xe[pt],ct=3*te[pt]-3*ee[pt],lt|=0,it|=0,ct|=0,it===0&&lt===0||(it===0?(ut=-ct/lt,ut>0&&ut<1&&rt[pt].push(this.calculateF(ut,ee,te,ne,xe,pt))):(dt=lt*lt-4*ct*it,dt>=0&&(ht=(-lt+bmSqrt(dt))/(2*it),ht>0&&ht<1&&rt[pt].push(this.calculateF(ht,ee,te,ne,xe,pt)),ft=(-lt-bmSqrt(dt))/(2*it),ft>0&&ft<1&&rt[pt].push(this.calculateF(ft,ee,te,ne,xe,pt)))));this.shapeBoundingBox.left=bmMin.apply(null,rt[0]),this.shapeBoundingBox.top=bmMin.apply(null,rt[1]),this.shapeBoundingBox.right=bmMax.apply(null,rt[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,rt[1])},HShapeElement.prototype.calculateF=function(ee,te,ne,xe,rt,it){return bmPow(1-ee,3)*te[it]+3*bmPow(1-ee,2)*ee*ne[it]+3*(1-ee)*bmPow(ee,2)*xe[it]+bmPow(ee,3)*rt[it]},HShapeElement.prototype.calculateBoundingBox=function(ee,te){var ne,xe=ee.length;for(ne=0;ne<xe;ne+=1)ee[ne]&&ee[ne].sh?this.calculateShapeBoundingBox(ee[ne],te):ee[ne]&&ee[ne].it?this.calculateBoundingBox(ee[ne].it,te):ee[ne]&&ee[ne].style&&ee[ne].w&&this.expandStrokeBoundingBox(ee[ne].w,te)},HShapeElement.prototype.expandStrokeBoundingBox=function(ee,te){var ne=0;if(ee.keyframes){for(var xe=0;xe<ee.keyframes.length;xe+=1){var rt=ee.keyframes[xe].s;rt>ne&&(ne=rt)}ne*=ee.mult}else ne=ee.v*ee.mult;te.x-=ne,te.xMax+=ne,te.y-=ne,te.yMax+=ne},HShapeElement.prototype.currentBoxContains=function(ee){return this.currentBBox.x<=ee.x&&this.currentBBox.y<=ee.y&&this.currentBBox.width+this.currentBBox.x>=ee.x+ee.width&&this.currentBBox.height+this.currentBBox.y>=ee.y+ee.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var ee=this.tempBoundingBox,te=999999;if(ee.x=te,ee.xMax=-te,ee.y=te,ee.yMax=-te,this.calculateBoundingBox(this.itemsData,ee),ee.width=ee.xMax<ee.x?0:ee.xMax-ee.x,ee.height=ee.yMax<ee.y?0:ee.yMax-ee.y,this.currentBoxContains(ee))return;var ne=!1;if(this.currentBBox.w!==ee.width&&(this.currentBBox.w=ee.width,this.shapeCont.setAttribute("width",ee.width),ne=!0),this.currentBBox.h!==ee.height&&(this.currentBBox.h=ee.height,this.shapeCont.setAttribute("height",ee.height),ne=!0),ne||this.currentBBox.x!==ee.x||this.currentBBox.y!==ee.y){this.currentBBox.w=ee.width,this.currentBBox.h=ee.height,this.currentBBox.x=ee.x,this.currentBBox.y=ee.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var xe=this.shapeCont.style,rt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";xe.transform=rt,xe.webkitTransform=rt}}};function HTextElement(ee,te,ne){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var ee=createNS("g");this.maskedElement.appendChild(ee),this.innerElem=ee}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var ee=this.textProperty.currentData;this.renderedLetters=createSizedArray(ee.l?ee.l.length:0);var te=this.innerElem.style,ne=ee.fc?this.buildColor(ee.fc):"rgba(0,0,0,0)";te.fill=ne,te.color=ne,ee.sc&&(te.stroke=this.buildColor(ee.sc),te.strokeWidth=ee.sw+"px");var xe=this.globalData.fontManager.getFontByName(ee.f);if(!this.globalData.fontManager.chars)if(te.fontSize=ee.finalSize+"px",te.lineHeight=ee.finalSize+"px",xe.fClass)this.innerElem.className=xe.fClass;else{te.fontFamily=xe.fFamily;var rt=ee.fWeight,it=ee.fStyle;te.fontStyle=it,te.fontWeight=rt}var lt,ct,ut=ee.l;ct=ut.length;var dt,ht,ft,pt=this.mHelper,mt,xt="",yt=0;for(lt=0;lt<ct;lt+=1){if(this.globalData.fontManager.chars?(this.textPaths[yt]?dt=this.textPaths[yt]:(dt=createNS("path"),dt.setAttribute("stroke-linecap",lineCapEnum[1]),dt.setAttribute("stroke-linejoin",lineJoinEnum[2]),dt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[yt]?(ht=this.textSpans[yt],ft=ht.children[0]):(ht=createTag("div"),ht.style.lineHeight=0,ft=createNS("svg"),ft.appendChild(dt),styleDiv(ht)))):this.isMasked?dt=this.textPaths[yt]?this.textPaths[yt]:createNS("text"):this.textSpans[yt]?(ht=this.textSpans[yt],dt=this.textPaths[yt]):(ht=createTag("span"),styleDiv(ht),dt=createTag("span"),styleDiv(dt),ht.appendChild(dt)),this.globalData.fontManager.chars){var vt=this.globalData.fontManager.getCharData(ee.finalText[lt],xe.fStyle,this.globalData.fontManager.getFontByName(ee.f).fFamily),Et;if(vt?Et=vt.data:Et=null,pt.reset(),Et&&Et.shapes&&Et.shapes.length&&(mt=Et.shapes[0].it,pt.scale(ee.finalSize/100,ee.finalSize/100),xt=this.createPathShape(pt,mt),dt.setAttribute("d",xt)),this.isMasked)this.innerElem.appendChild(dt);else{if(this.innerElem.appendChild(ht),Et&&Et.shapes){document.body.appendChild(ft);var _t=ft.getBBox();ft.setAttribute("width",_t.width+2),ft.setAttribute("height",_t.height+2),ft.setAttribute("viewBox",_t.x-1+" "+(_t.y-1)+" "+(_t.width+2)+" "+(_t.height+2));var wt=ft.style,St="translate("+(_t.x-1)+"px,"+(_t.y-1)+"px)";wt.transform=St,wt.webkitTransform=St,ut[lt].yOffset=_t.y-1}else ft.setAttribute("width",1),ft.setAttribute("height",1);ht.appendChild(ft)}}else if(dt.textContent=ut[lt].val,dt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(dt);else{this.innerElem.appendChild(ht);var Ct=dt.style,jt="translate3d(0,"+-ee.finalSize/1.2+"px,0)";Ct.transform=jt,Ct.webkitTransform=jt}this.isMasked?this.textSpans[yt]=dt:this.textSpans[yt]=ht,this.textSpans[yt].style.display="block",this.textPaths[yt]=dt,yt+=1}for(;yt<this.textSpans.length;)this.textSpans[yt].style.display="none",yt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var ee;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),ee=this.svgElement.style;var te="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";ee.transform=te,ee.webkitTransform=te}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var ne,xe,rt=0,it=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;xe=lt.length;var ct,ut,dt;for(ne=0;ne<xe;ne+=1)lt[ne].n?rt+=1:(ut=this.textSpans[ne],dt=this.textPaths[ne],ct=it[rt],rt+=1,ct._mdf.m&&(this.isMasked?ut.setAttribute("transform",ct.m):(ut.style.webkitTransform=ct.m,ut.style.transform=ct.m)),ut.style.opacity=ct.o,ct.sw&&ct._mdf.sw&&dt.setAttribute("stroke-width",ct.sw),ct.sc&&ct._mdf.sc&&dt.setAttribute("stroke",ct.sc),ct.fc&&ct._mdf.fc&&(dt.setAttribute("fill",ct.fc),dt.style.color=ct.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ht=this.innerElem.getBBox();this.currentBBox.w!==ht.width&&(this.currentBBox.w=ht.width,this.svgElement.setAttribute("width",ht.width)),this.currentBBox.h!==ht.height&&(this.currentBBox.h=ht.height,this.svgElement.setAttribute("height",ht.height));var ft=1;if(this.currentBBox.w!==ht.width+ft*2||this.currentBBox.h!==ht.height+ft*2||this.currentBBox.x!==ht.x-ft||this.currentBBox.y!==ht.y-ft){this.currentBBox.w=ht.width+ft*2,this.currentBBox.h=ht.height+ft*2,this.currentBBox.x=ht.x-ft,this.currentBBox.y=ht.y-ft,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),ee=this.svgElement.style;var pt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";ee.transform=pt,ee.webkitTransform=pt}}}};function HCameraElement(ee,te,ne){this.initFrame(),this.initBaseData(ee,te,ne),this.initHierarchy();var xe=PropertyFactory.getProp;if(this.pe=xe(this,ee.pe,0,0,this),ee.ks.p.s?(this.px=xe(this,ee.ks.p.x,1,0,this),this.py=xe(this,ee.ks.p.y,1,0,this),this.pz=xe(this,ee.ks.p.z,1,0,this)):this.p=xe(this,ee.ks.p,1,0,this),ee.ks.a&&(this.a=xe(this,ee.ks.a,1,0,this)),ee.ks.or.k.length&&ee.ks.or.k[0].to){var rt,it=ee.ks.or.k.length;for(rt=0;rt<it;rt+=1)ee.ks.or.k[rt].to=null,ee.ks.or.k[rt].ti=null}this.or=xe(this,ee.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=xe(this,ee.ks.rx,0,degToRads,this),this.ry=xe(this,ee.ks.ry,0,degToRads,this),this.rz=xe(this,ee.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var ee,te=this.comp.threeDElements.length,ne,xe,rt;for(ee=0;ee<te;ee+=1)if(ne=this.comp.threeDElements[ee],ne.type==="3d"){xe=ne.perspectiveElem.style,rt=ne.container.style;var it=this.pe.v+"px",lt="0px 0px 0px",ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";xe.perspective=it,xe.webkitPerspective=it,rt.transformOrigin=lt,rt.mozTransformOrigin=lt,rt.webkitTransformOrigin=lt,xe.transform=ct,xe.webkitTransform=ct}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var ee=this._isFirstFrame,te,ne;if(this.hierarchy)for(ne=this.hierarchy.length,te=0;te<ne;te+=1)ee=this.hierarchy[te].finalTransform.mProp._mdf||ee;if(ee||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(ne=this.hierarchy.length-1,te=ne;te>=0;te-=1){var xe=this.hierarchy[te].finalTransform.mProp;this.mat.translate(-xe.p.v[0],-xe.p.v[1],xe.p.v[2]),this.mat.rotateX(-xe.or.v[0]).rotateY(-xe.or.v[1]).rotateZ(xe.or.v[2]),this.mat.rotateX(-xe.rx.v).rotateY(-xe.ry.v).rotateZ(xe.rz.v),this.mat.scale(1/xe.s.v[0],1/xe.s.v[1],1/xe.s.v[2]),this.mat.translate(xe.a.v[0],xe.a.v[1],xe.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var rt;this.p?rt=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:rt=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var it=Math.sqrt(Math.pow(rt[0],2)+Math.pow(rt[1],2)+Math.pow(rt[2],2)),lt=[rt[0]/it,rt[1]/it,rt[2]/it],ct=Math.sqrt(lt[2]*lt[2]+lt[0]*lt[0]),ut=Math.atan2(lt[1],ct),dt=Math.atan2(lt[0],-lt[2]);this.mat.rotateY(dt).rotateX(-ut)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ht=!this._prevMat.equals(this.mat);if((ht||this.pe._mdf)&&this.comp.threeDElements){ne=this.comp.threeDElements.length;var ft,pt,mt;for(te=0;te<ne;te+=1)if(ft=this.comp.threeDElements[te],ft.type==="3d"){if(ht){var xt=this.mat.toCSS();mt=ft.container.style,mt.transform=xt,mt.webkitTransform=xt}this.pe._mdf&&(pt=ft.perspectiveElem.style,pt.perspective=this.pe.v+"px",pt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(ee){this.prepareProperties(ee,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(ee,te,ne){this.assetData=te.getAssetData(ee.refId),this.initElement(ee,te,ne)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var ee=this.globalData.getAssetsPath(this.assetData),te=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",ee),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(te),te.crossOrigin="anonymous",te.src=ee,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(ee,te){this.animationItem=ee,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:te&&te.className||"",imagePreserveAspectRatio:te&&te.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(te&&te.hideOnTransparent===!1),filterSize:{width:te&&te.filterSize&&te.filterSize.width||"400%",height:te&&te.filterSize&&te.filterSize.height||"400%",x:te&&te.filterSize&&te.filterSize.x||"-100%",y:te&&te.filterSize&&te.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var ee=this.pendingElements.pop();ee.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(ee,te){var ne=ee.getBaseElement();if(ne){var xe=this.layers[te];if(!xe.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(ne,te);else{for(var rt=0,it,lt,ct;rt<te;)this.elements[rt]&&this.elements[rt]!==!0&&this.elements[rt].getBaseElement&&(lt=this.elements[rt],ct=this.layers[rt].ddd?this.getThreeDContainerByPos(rt):lt.getBaseElement(),it=ct||it),rt+=1;it?(!xe.ddd||!this.supports3d)&&this.layerElement.insertBefore(ne,it):(!xe.ddd||!this.supports3d)&&this.layerElement.appendChild(ne)}else this.addTo3dContainer(ne,te)}},HybridRendererBase.prototype.createShape=function(ee){return this.supports3d?new HShapeElement(ee,this.globalData,this):new SVGShapeElement(ee,this.globalData,this)},HybridRendererBase.prototype.createText=function(ee){return this.supports3d?new HTextElement(ee,this.globalData,this):new SVGTextLottieElement(ee,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(ee){return this.camera=new HCameraElement(ee,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(ee){return this.supports3d?new HImageElement(ee,this.globalData,this):new IImageElement(ee,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(ee){return this.supports3d?new HSolidElement(ee,this.globalData,this):new ISolidElement(ee,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(ee){for(var te=0,ne=this.threeDElements.length;te<ne;){if(this.threeDElements[te].startPos<=ee&&this.threeDElements[te].endPos>=ee)return this.threeDElements[te].perspectiveElem;te+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(ee,te){var ne=createTag("div"),xe,rt;styleDiv(ne);var it=createTag("div");if(styleDiv(it),te==="3d"){xe=ne.style,xe.width=this.globalData.compSize.w+"px",xe.height=this.globalData.compSize.h+"px";var lt="50% 50%";xe.webkitTransformOrigin=lt,xe.mozTransformOrigin=lt,xe.transformOrigin=lt,rt=it.style;var ct="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rt.transform=ct,rt.webkitTransform=ct}ne.appendChild(it);var ut={container:it,perspectiveElem:ne,startPos:ee,endPos:ee,type:te};return this.threeDElements.push(ut),ut},HybridRendererBase.prototype.build3dContainers=function(){var ee,te=this.layers.length,ne,xe="";for(ee=0;ee<te;ee+=1)this.layers[ee].ddd&&this.layers[ee].ty!==3?(xe!=="3d"&&(xe="3d",ne=this.createThreeDContainer(ee,"3d")),ne.endPos=Math.max(ne.endPos,ee)):(xe!=="2d"&&(xe="2d",ne=this.createThreeDContainer(ee,"2d")),ne.endPos=Math.max(ne.endPos,ee));for(te=this.threeDElements.length,ee=te-1;ee>=0;ee-=1)this.resizerElem.appendChild(this.threeDElements[ee].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(ee,te){for(var ne=0,xe=this.threeDElements.length;ne<xe;){if(te<=this.threeDElements[ne].endPos){for(var rt=this.threeDElements[ne].startPos,it;rt<te;)this.elements[rt]&&this.elements[rt].getBaseElement&&(it=this.elements[rt].getBaseElement()),rt+=1;it?this.threeDElements[ne].container.insertBefore(ee,it):this.threeDElements[ne].container.appendChild(ee);break}ne+=1}},HybridRendererBase.prototype.configAnimation=function(ee){var te=createTag("div"),ne=this.animationItem.wrapper,xe=te.style;xe.width=ee.w+"px",xe.height=ee.h+"px",this.resizerElem=te,styleDiv(te),xe.transformStyle="flat",xe.mozTransformStyle="flat",xe.webkitTransformStyle="flat",this.renderConfig.className&&te.setAttribute("class",this.renderConfig.className),ne.appendChild(te),xe.overflow="hidden";var rt=createNS("svg");rt.setAttribute("width","1"),rt.setAttribute("height","1"),styleDiv(rt),this.resizerElem.appendChild(rt);var it=createNS("defs");rt.appendChild(it),this.data=ee,this.setupGlobalData(ee,rt),this.globalData.defs=it,this.layers=ee.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var ee,te=this.layers?this.layers.length:0;for(ee=0;ee<te;ee+=1)this.elements[ee]&&this.elements[ee].destroy&&this.elements[ee].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var ee=this.animationItem.wrapper.offsetWidth,te=this.animationItem.wrapper.offsetHeight,ne=ee/te,xe=this.globalData.compSize.w/this.globalData.compSize.h,rt,it,lt,ct;xe>ne?(rt=ee/this.globalData.compSize.w,it=ee/this.globalData.compSize.w,lt=0,ct=(te-this.globalData.compSize.h*(ee/this.globalData.compSize.w))/2):(rt=te/this.globalData.compSize.h,it=te/this.globalData.compSize.h,lt=(ee-this.globalData.compSize.w*(te/this.globalData.compSize.h))/2,ct=0);var ut=this.resizerElem.style;ut.webkitTransform="matrix3d("+rt+",0,0,0,0,"+it+",0,0,0,0,1,0,"+lt+","+ct+",0,1)",ut.transform=ut.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var ee=this.globalData.compSize.w,te=this.globalData.compSize.h,ne,xe=this.threeDElements.length;for(ne=0;ne<xe;ne+=1){var rt=this.threeDElements[ne].perspectiveElem.style;rt.webkitPerspective=Math.sqrt(Math.pow(ee,2)+Math.pow(te,2))+"px",rt.perspective=rt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(ee){var te,ne=ee.length,xe=createTag("div");for(te=0;te<ne;te+=1)if(ee[te].xt){var rt=this.createComp(ee[te],xe,this.globalData.comp,null);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}};function HCompElement(ee,te,ne){this.layers=ee.layers,this.supports3d=!ee.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(ee,te,ne),this.tm=ee.tm?PropertyFactory.getProp(this,ee.tm,0,te.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(ee,te){for(var ne=0,xe;ne<te;)this.elements[ne]&&this.elements[ne].getBaseElement&&(xe=this.elements[ne].getBaseElement()),ne+=1;xe?this.layerElement.insertBefore(ee,xe):this.layerElement.appendChild(ee)},HCompElement.prototype.createComp=function(ee){return this.supports3d?new HCompElement(ee,this.globalData,this):new SVGCompElement(ee,this.globalData,this)};function HybridRenderer(ee,te){this.animationItem=ee,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:te&&te.className||"",imagePreserveAspectRatio:te&&te.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(te&&te.hideOnTransparent===!1),filterSize:{width:te&&te.filterSize&&te.filterSize.width||"400%",height:te&&te.filterSize&&te.filterSize.height||"400%",x:te&&te.filterSize&&te.filterSize.x||"-100%",y:te&&te.filterSize&&te.filterSize.y||"-100%"},runExpressions:!te||te.runExpressions===void 0||te.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(ee){return this.supports3d?new HCompElement(ee,this.globalData,this):new SVGCompElement(ee,this.globalData,this)};var CompExpressionInterface=(function(){return function(ee){function te(ne){for(var xe=0,rt=ee.layers.length;xe<rt;){if(ee.layers[xe].nm===ne||ee.layers[xe].ind===ne)return ee.elements[xe].layerInterface;xe+=1}return null}return Object.defineProperty(te,"_name",{value:ee.data.nm}),te.layer=te,te.pixelAspect=1,te.height=ee.data.h||ee.globalData.compSize.h,te.width=ee.data.w||ee.globalData.compSize.w,te.pixelAspect=1,te.frameDuration=1/ee.globalData.frameRate,te.displayStartTime=0,te.numLayers=ee.layers.length,te}})();function _typeof$2(ee){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$2(ee)}function seedRandom(ee,te){var ne=this,xe=256,rt=6,it=52,lt="random",ct=te.pow(xe,rt),ut=te.pow(2,it),dt=ut*2,ht=xe-1,ft;function pt(wt,St,Ct){var jt=[];St=St===!0?{entropy:!0}:St||{};var Rt=vt(yt(St.entropy?[wt,_t(ee)]:wt===null?Et():wt,3),jt),Pt=new mt(jt),Ot=function(){for(var Lt=Pt.g(rt),Bt=ct,Gt=0;Lt<ut;)Lt=(Lt+Gt)*xe,Bt*=xe,Gt=Pt.g(1);for(;Lt>=dt;)Lt/=2,Bt/=2,Gt>>>=1;return(Lt+Gt)/Bt};return Ot.int32=function(){return Pt.g(4)|0},Ot.quick=function(){return Pt.g(4)/4294967296},Ot.double=Ot,vt(_t(Pt.S),ee),(St.pass||Ct||function(Ft,Lt,Bt,Gt){return Gt&&(Gt.S&&xt(Gt,Pt),Ft.state=function(){return xt(Pt,{})}),Bt?(te[lt]=Ft,Lt):Ft})(Ot,Rt,"global"in St?St.global:this==te,St.state)}te["seed"+lt]=pt;function mt(wt){var St,Ct=wt.length,jt=this,Rt=0,Pt=jt.i=jt.j=0,Ot=jt.S=[];for(Ct||(wt=[Ct++]);Rt<xe;)Ot[Rt]=Rt++;for(Rt=0;Rt<xe;Rt++)Ot[Rt]=Ot[Pt=ht&Pt+wt[Rt%Ct]+(St=Ot[Rt])],Ot[Pt]=St;jt.g=function(Ft){for(var Lt,Bt=0,Gt=jt.i,It=jt.j,qt=jt.S;Ft--;)Lt=qt[Gt=ht&Gt+1],Bt=Bt*xe+qt[ht&(qt[Gt]=qt[It=ht&It+Lt])+(qt[It]=Lt)];return jt.i=Gt,jt.j=It,Bt}}function xt(wt,St){return St.i=wt.i,St.j=wt.j,St.S=wt.S.slice(),St}function yt(wt,St){var Ct=[],jt=_typeof$2(wt),Rt;if(St&&jt=="object")for(Rt in wt)try{Ct.push(yt(wt[Rt],St-1))}catch{}return Ct.length?Ct:jt=="string"?wt:wt+"\0"}function vt(wt,St){for(var Ct=wt+"",jt,Rt=0;Rt<Ct.length;)St[ht&Rt]=ht&(jt^=St[ht&Rt]*19)+Ct.charCodeAt(Rt++);return _t(St)}function Et(){try{var wt=new Uint8Array(xe);return(ne.crypto||ne.msCrypto).getRandomValues(wt),_t(wt)}catch{var St=ne.navigator,Ct=St&&St.plugins;return[+new Date,ne,Ct,ne.screen,_t(ee)]}}function _t(wt){return String.fromCharCode.apply(0,wt)}vt(te.random(),ee)}function initialize$2(ee){seedRandom([],ee)}var propTypes={SHAPE:"shape"};function _typeof$1(ee){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof$1(ee)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(ee){return ee.constructor===Array||ee.constructor===Float32Array}function isNumerable(ee,te){return ee==="number"||te instanceof Number||ee==="boolean"||ee==="string"}function $bm_neg(ee){var te=_typeof$1(ee);if(te==="number"||ee instanceof Number||te==="boolean")return-ee;if($bm_isInstanceOfArray(ee)){var ne,xe=ee.length,rt=[];for(ne=0;ne<xe;ne+=1)rt[ne]=-ee[ne];return rt}return ee.propType?ee.v:-ee}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(ee,te){var ne=_typeof$1(ee),xe=_typeof$1(te);if(isNumerable(ne,ee)&&isNumerable(xe,te)||ne==="string"||xe==="string")return ee+te;if($bm_isInstanceOfArray(ee)&&isNumerable(xe,te))return ee=ee.slice(0),ee[0]+=te,ee;if(isNumerable(ne,ee)&&$bm_isInstanceOfArray(te))return te=te.slice(0),te[0]=ee+te[0],te;if($bm_isInstanceOfArray(ee)&&$bm_isInstanceOfArray(te)){for(var rt=0,it=ee.length,lt=te.length,ct=[];rt<it||rt<lt;)(typeof ee[rt]=="number"||ee[rt]instanceof Number)&&(typeof te[rt]=="number"||te[rt]instanceof Number)?ct[rt]=ee[rt]+te[rt]:ct[rt]=te[rt]===void 0?ee[rt]:ee[rt]||te[rt],rt+=1;return ct}return 0}var add=sum;function sub(ee,te){var ne=_typeof$1(ee),xe=_typeof$1(te);if(isNumerable(ne,ee)&&isNumerable(xe,te))return ne==="string"&&(ee=parseInt(ee,10)),xe==="string"&&(te=parseInt(te,10)),ee-te;if($bm_isInstanceOfArray(ee)&&isNumerable(xe,te))return ee=ee.slice(0),ee[0]-=te,ee;if(isNumerable(ne,ee)&&$bm_isInstanceOfArray(te))return te=te.slice(0),te[0]=ee-te[0],te;if($bm_isInstanceOfArray(ee)&&$bm_isInstanceOfArray(te)){for(var rt=0,it=ee.length,lt=te.length,ct=[];rt<it||rt<lt;)(typeof ee[rt]=="number"||ee[rt]instanceof Number)&&(typeof te[rt]=="number"||te[rt]instanceof Number)?ct[rt]=ee[rt]-te[rt]:ct[rt]=te[rt]===void 0?ee[rt]:ee[rt]||te[rt],rt+=1;return ct}return 0}function mul(ee,te){var ne=_typeof$1(ee),xe=_typeof$1(te),rt;if(isNumerable(ne,ee)&&isNumerable(xe,te))return ee*te;var it,lt;if($bm_isInstanceOfArray(ee)&&isNumerable(xe,te)){for(lt=ee.length,rt=createTypedArray("float32",lt),it=0;it<lt;it+=1)rt[it]=ee[it]*te;return rt}if(isNumerable(ne,ee)&&$bm_isInstanceOfArray(te)){for(lt=te.length,rt=createTypedArray("float32",lt),it=0;it<lt;it+=1)rt[it]=ee*te[it];return rt}return 0}function div(ee,te){var ne=_typeof$1(ee),xe=_typeof$1(te),rt;if(isNumerable(ne,ee)&&isNumerable(xe,te))return ee/te;var it,lt;if($bm_isInstanceOfArray(ee)&&isNumerable(xe,te)){for(lt=ee.length,rt=createTypedArray("float32",lt),it=0;it<lt;it+=1)rt[it]=ee[it]/te;return rt}if(isNumerable(ne,ee)&&$bm_isInstanceOfArray(te)){for(lt=te.length,rt=createTypedArray("float32",lt),it=0;it<lt;it+=1)rt[it]=ee/te[it];return rt}return 0}function mod(ee,te){return typeof ee=="string"&&(ee=parseInt(ee,10)),typeof te=="string"&&(te=parseInt(te,10)),ee%te}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(ee,te,ne){if(te>ne){var xe=ne;ne=te,te=xe}return Math.min(Math.max(ee,te),ne)}function radiansToDegrees(ee){return ee/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(ee){return ee*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(ee,te){if(typeof ee=="number"||ee instanceof Number)return te=te||0,Math.abs(ee-te);te||(te=helperLengthArray);var ne,xe=Math.min(ee.length,te.length),rt=0;for(ne=0;ne<xe;ne+=1)rt+=Math.pow(te[ne]-ee[ne],2);return Math.sqrt(rt)}function normalize(ee){return div(ee,length(ee))}function rgbToHsl(ee){var te=ee[0],ne=ee[1],xe=ee[2],rt=Math.max(te,ne,xe),it=Math.min(te,ne,xe),lt,ct,ut=(rt+it)/2;if(rt===it)lt=0,ct=0;else{var dt=rt-it;switch(ct=ut>.5?dt/(2-rt-it):dt/(rt+it),rt){case te:lt=(ne-xe)/dt+(ne<xe?6:0);break;case ne:lt=(xe-te)/dt+2;break;case xe:lt=(te-ne)/dt+4;break}lt/=6}return[lt,ct,ut,ee[3]]}function hue2rgb(ee,te,ne){return ne<0&&(ne+=1),ne>1&&(ne-=1),ne<1/6?ee+(te-ee)*6*ne:ne<1/2?te:ne<2/3?ee+(te-ee)*(2/3-ne)*6:ee}function hslToRgb(ee){var te=ee[0],ne=ee[1],xe=ee[2],rt,it,lt;if(ne===0)rt=xe,lt=xe,it=xe;else{var ct=xe<.5?xe*(1+ne):xe+ne-xe*ne,ut=2*xe-ct;rt=hue2rgb(ut,ct,te+1/3),it=hue2rgb(ut,ct,te),lt=hue2rgb(ut,ct,te-1/3)}return[rt,it,lt,ee[3]]}function linear(ee,te,ne,xe,rt){if((xe===void 0||rt===void 0)&&(xe=te,rt=ne,te=0,ne=1),ne<te){var it=ne;ne=te,te=it}if(ee<=te)return xe;if(ee>=ne)return rt;var lt=ne===te?0:(ee-te)/(ne-te);if(!xe.length)return xe+(rt-xe)*lt;var ct,ut=xe.length,dt=createTypedArray("float32",ut);for(ct=0;ct<ut;ct+=1)dt[ct]=xe[ct]+(rt[ct]-xe[ct])*lt;return dt}function random(ee,te){if(te===void 0&&(ee===void 0?(ee=0,te=1):(te=ee,ee=void 0)),te.length){var ne,xe=te.length;ee||(ee=createTypedArray("float32",xe));var rt=createTypedArray("float32",xe),it=BMMath.random();for(ne=0;ne<xe;ne+=1)rt[ne]=ee[ne]+it*(te[ne]-ee[ne]);return rt}ee===void 0&&(ee=0);var lt=BMMath.random();return ee+lt*(te-ee)}function createPath(ee,te,ne,xe){var rt,it=ee.length,lt=shapePool.newElement();lt.setPathData(!!xe,it);var ct=[0,0],ut,dt;for(rt=0;rt<it;rt+=1)ut=te&&te[rt]?te[rt]:ct,dt=ne&&ne[rt]?ne[rt]:ct,lt.setTripleAt(ee[rt][0],ee[rt][1],dt[0]+ee[rt][0],dt[1]+ee[rt][1],ut[0]+ee[rt][0],ut[1]+ee[rt][1],rt,!0);return lt}function initiateExpression(elem,data,property){function noOp(ee){return ee}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function ee(te,ne){var xe,rt,it=this.pv.length?this.pv.length:1,lt=createTypedArray("float32",it);te=5;var ct=Math.floor(time*te);for(xe=0,rt=0;xe<ct;){for(rt=0;rt<it;rt+=1)lt[rt]+=-ne+ne*2*BMMath.random();xe+=1}var ut=time*te,dt=ut-Math.floor(ut),ht=createTypedArray("float32",it);if(it>1){for(rt=0;rt<it;rt+=1)ht[rt]=this.pv[rt]+lt[rt]+(-ne+ne*2*BMMath.random())*dt;return ht}return this.pv+lt[0]+(-ne+ne*2*BMMath.random())*dt}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(ee,te){return loopIn(ee,te,!0)}function loopOutDuration(ee,te){return loopOut(ee,te,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(ee,te){var ne=[te[0]-ee[0],te[1]-ee[1],te[2]-ee[2]],xe=Math.atan2(ne[0],Math.sqrt(ne[1]*ne[1]+ne[2]*ne[2]))/degToRads,rt=-Math.atan2(ne[1],ne[2])/degToRads;return[rt,xe,0]}function easeOut(ee,te,ne,xe,rt){return applyEase(easeOutBez,ee,te,ne,xe,rt)}function easeIn(ee,te,ne,xe,rt){return applyEase(easeInBez,ee,te,ne,xe,rt)}function ease(ee,te,ne,xe,rt){return applyEase(easeInOutBez,ee,te,ne,xe,rt)}function applyEase(ee,te,ne,xe,rt,it){rt===void 0?(rt=ne,it=xe):te=(te-ne)/(xe-ne),te>1?te=1:te<0&&(te=0);var lt=ee(te);if($bm_isInstanceOfArray(rt)){var ct,ut=rt.length,dt=createTypedArray("float32",ut);for(ct=0;ct<ut;ct+=1)dt[ct]=(it[ct]-rt[ct])*lt+rt[ct];return dt}return(it-rt)*lt+rt}function nearestKey(ee){var te,ne=data.k.length,xe,rt;if(!data.k.length||typeof data.k[0]=="number")xe=0,rt=0;else if(xe=-1,ee*=elem.comp.globalData.frameRate,ee<data.k[0].t)xe=1,rt=data.k[0].t;else{for(te=0;te<ne-1;te+=1)if(ee===data.k[te].t){xe=te+1,rt=data.k[te].t;break}else if(ee>data.k[te].t&&ee<data.k[te+1].t){ee-data.k[te].t>data.k[te+1].t-ee?(xe=te+2,rt=data.k[te+1].t):(xe=te+1,rt=data.k[te].t);break}xe===-1&&(xe=te+1,rt=data.k[te].t)}var it={};return it.index=xe,it.time=rt/elem.comp.globalData.frameRate,it}function key(ee){var te,ne,xe;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+ee);ee-=1,te={time:data.k[ee].t/elem.comp.globalData.frameRate,value:[]};var rt=Object.prototype.hasOwnProperty.call(data.k[ee],"s")?data.k[ee].s:data.k[ee-1].e;for(xe=rt.length,ne=0;ne<xe;ne+=1)te[ne]=rt[ne],te.value[ne]=rt[ne];return te}function framesToTime(ee,te){return te||(te=elem.comp.globalData.frameRate),ee/te}function timeToFrames(ee,te){return!ee&&ee!==0&&(ee=time),te||(te=elem.comp.globalData.frameRate),ee*te}function seedRandom(ee){BMMath.seedrandom(randSeed+ee)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(ee,te){return typeof value=="string"?te===void 0?value.substring(ee):value.substring(ee,te):""}function substr(ee,te){return typeof value=="string"?te===void 0?value.substr(ee):value.substr(ee,te):""}function posterizeTime(ee){time=ee===0?0:Math.floor(time*ee)/ee,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(ee){return value=ee,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var ee={};ee.initExpressions=te,ee.resetFrame=ExpressionManager.resetFrame;function te(ne){var xe=0,rt=[];function it(){xe+=1}function lt(){xe-=1,xe===0&&ut()}function ct(dt){rt.indexOf(dt)===-1&&rt.push(dt)}function ut(){var dt,ht=rt.length;for(dt=0;dt<ht;dt+=1)rt[dt].release();rt.length=0}ne.renderer.compInterface=CompExpressionInterface(ne.renderer),ne.renderer.globalData.projectInterface.registerComposition(ne.renderer),ne.renderer.globalData.pushExpression=it,ne.renderer.globalData.popExpression=lt,ne.renderer.globalData.registerExpressionProperty=ct}return ee})(),MaskManagerInterface=(function(){function ee(ne,xe){this._mask=ne,this._data=xe}Object.defineProperty(ee.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(ee.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var te=function(xe){var rt=createSizedArray(xe.viewData.length),it,lt=xe.viewData.length;for(it=0;it<lt;it+=1)rt[it]=new ee(xe.viewData[it],xe.masksProperties[it]);var ct=function(dt){for(it=0;it<lt;){if(xe.masksProperties[it].nm===dt)return rt[it];it+=1}return null};return ct};return te})(),ExpressionPropertyInterface=(function(){var ee={pv:0,v:0,mult:1},te={pv:[0,0,0],v:[0,0,0],mult:1};function ne(lt,ct,ut){Object.defineProperty(lt,"velocity",{get:function(){return ct.getVelocityAtTime(ct.comp.currentFrame)}}),lt.numKeys=ct.keyframes?ct.keyframes.length:0,lt.key=function(dt){if(!lt.numKeys)return 0;var ht="";"s"in ct.keyframes[dt-1]?ht=ct.keyframes[dt-1].s:"e"in ct.keyframes[dt-2]?ht=ct.keyframes[dt-2].e:ht=ct.keyframes[dt-2].s;var ft=ut==="unidimensional"?new Number(ht):Object.assign({},ht);return ft.time=ct.keyframes[dt-1].t/ct.elem.comp.globalData.frameRate,ft.value=ut==="unidimensional"?ht[0]:ht,ft},lt.valueAtTime=ct.getValueAtTime,lt.speedAtTime=ct.getSpeedAtTime,lt.velocityAtTime=ct.getVelocityAtTime,lt.propertyGroup=ct.propertyGroup}function xe(lt){(!lt||!("pv"in lt))&&(lt=ee);var ct=1/lt.mult,ut=lt.pv*ct,dt=new Number(ut);return dt.value=ut,ne(dt,lt,"unidimensional"),function(){return lt.k&&lt.getValue(),ut=lt.v*ct,dt.value!==ut&&(dt=new Number(ut),dt.value=ut,dt[0]=ut,ne(dt,lt,"unidimensional")),dt}}function rt(lt){(!lt||!("pv"in lt))&&(lt=te);var ct=1/lt.mult,ut=lt.data&&lt.data.l||lt.pv.length,dt=createTypedArray("float32",ut),ht=createTypedArray("float32",ut);return dt.value=ht,ne(dt,lt,"multidimensional"),function(){lt.k&&lt.getValue();for(var ft=0;ft<ut;ft+=1)ht[ft]=lt.v[ft]*ct,dt[ft]=ht[ft];return dt}}function it(){return ee}return function(lt){return lt?lt.propType==="unidimensional"?xe(lt):rt(lt):it}})(),TransformExpressionInterface=(function(){return function(ee){function te(lt){switch(lt){case"scale":case"Scale":case"ADBE Scale":case 6:return te.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return te.rotation;case"ADBE Rotate X":return te.xRotation;case"ADBE Rotate Y":return te.yRotation;case"position":case"Position":case"ADBE Position":case 2:return te.position;case"ADBE Position_0":return te.xPosition;case"ADBE Position_1":return te.yPosition;case"ADBE Position_2":return te.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return te.anchorPoint;case"opacity":case"Opacity":case 11:return te.opacity;default:return null}}Object.defineProperty(te,"rotation",{get:ExpressionPropertyInterface(ee.r||ee.rz)}),Object.defineProperty(te,"zRotation",{get:ExpressionPropertyInterface(ee.rz||ee.r)}),Object.defineProperty(te,"xRotation",{get:ExpressionPropertyInterface(ee.rx)}),Object.defineProperty(te,"yRotation",{get:ExpressionPropertyInterface(ee.ry)}),Object.defineProperty(te,"scale",{get:ExpressionPropertyInterface(ee.s)});var ne,xe,rt,it;return ee.p?it=ExpressionPropertyInterface(ee.p):(ne=ExpressionPropertyInterface(ee.px),xe=ExpressionPropertyInterface(ee.py),ee.pz&&(rt=ExpressionPropertyInterface(ee.pz))),Object.defineProperty(te,"position",{get:function(){return ee.p?it():[ne(),xe(),rt?rt():0]}}),Object.defineProperty(te,"xPosition",{get:ExpressionPropertyInterface(ee.px)}),Object.defineProperty(te,"yPosition",{get:ExpressionPropertyInterface(ee.py)}),Object.defineProperty(te,"zPosition",{get:ExpressionPropertyInterface(ee.pz)}),Object.defineProperty(te,"anchorPoint",{get:ExpressionPropertyInterface(ee.a)}),Object.defineProperty(te,"opacity",{get:ExpressionPropertyInterface(ee.o)}),Object.defineProperty(te,"skew",{get:ExpressionPropertyInterface(ee.sk)}),Object.defineProperty(te,"skewAxis",{get:ExpressionPropertyInterface(ee.sa)}),Object.defineProperty(te,"orientation",{get:ExpressionPropertyInterface(ee.or)}),te}})(),LayerExpressionInterface=(function(){function ee(dt){var ht=new Matrix;if(dt!==void 0){var ft=this._elem.finalTransform.mProp.getValueAtTime(dt);ft.clone(ht)}else{var pt=this._elem.finalTransform.mProp;pt.applyToMatrix(ht)}return ht}function te(dt,ht){var ft=this.getMatrix(ht);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.applyPoint(ft,dt)}function ne(dt,ht){var ft=this.getMatrix(ht);return this.applyPoint(ft,dt)}function xe(dt,ht){var ft=this.getMatrix(ht);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.invertPoint(ft,dt)}function rt(dt,ht){var ft=this.getMatrix(ht);return this.invertPoint(ft,dt)}function it(dt,ht){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,pt=this._elem.hierarchy.length;for(ft=0;ft<pt;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(dt)}return dt.applyToPointArray(ht[0],ht[1],ht[2]||0)}function lt(dt,ht){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,pt=this._elem.hierarchy.length;for(ft=0;ft<pt;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(dt)}return dt.inversePoint(ht)}function ct(dt){var ht=new Matrix;if(ht.reset(),this._elem.finalTransform.mProp.applyToMatrix(ht),this._elem.hierarchy&&this._elem.hierarchy.length){var ft,pt=this._elem.hierarchy.length;for(ft=0;ft<pt;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ht);return ht.inversePoint(dt)}return ht.inversePoint(dt)}function ut(){return[1,1,1,1]}return function(dt){var ht;function ft(yt){mt.mask=new MaskManagerInterface(yt,dt)}function pt(yt){mt.effect=yt}function mt(yt){switch(yt){case"ADBE Root Vectors Group":case"Contents":case 2:return mt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ht;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return mt.effect;case"ADBE Text Properties":return mt.textInterface;default:return null}}mt.getMatrix=ee,mt.invertPoint=lt,mt.applyPoint=it,mt.toWorld=ne,mt.toWorldVec=te,mt.fromWorld=rt,mt.fromWorldVec=xe,mt.toComp=ne,mt.fromComp=ct,mt.sampleImage=ut,mt.sourceRectAtTime=dt.sourceRectAtTime.bind(dt),mt._elem=dt,ht=TransformExpressionInterface(dt.finalTransform.mProp);var xt=getDescriptor(ht,"anchorPoint");return Object.defineProperties(mt,{hasParent:{get:function(){return dt.hierarchy.length}},parent:{get:function(){return dt.hierarchy[0].layerInterface}},rotation:getDescriptor(ht,"rotation"),scale:getDescriptor(ht,"scale"),position:getDescriptor(ht,"position"),opacity:getDescriptor(ht,"opacity"),anchorPoint:xt,anchor_point:xt,transform:{get:function(){return ht}},active:{get:function(){return dt.isInRange}}}),mt.startTime=dt.data.st,mt.index=dt.data.ind,mt.source=dt.data.refId,mt.height=dt.data.ty===0?dt.data.h:100,mt.width=dt.data.ty===0?dt.data.w:100,mt.inPoint=dt.data.ip/dt.comp.globalData.frameRate,mt.outPoint=dt.data.op/dt.comp.globalData.frameRate,mt._name=dt.data.nm,mt.registerMaskInterface=ft,mt.registerEffectsInterface=pt,mt}})(),propertyGroupFactory=(function(){return function(ee,te){return function(ne){return ne=ne===void 0?1:ne,ne<=0?ee:te(ne-1)}}})(),PropertyInterface=(function(){return function(ee,te){var ne={_name:ee};function xe(rt){return rt=rt===void 0?1:rt,rt<=0?ne:te(rt-1)}return xe}})(),EffectsExpressionInterface=(function(){var ee={createEffectsInterface:te};function te(rt,it){if(rt.effectsManager){var lt=[],ct=rt.data.ef,ut,dt=rt.effectsManager.effectElements.length;for(ut=0;ut<dt;ut+=1)lt.push(ne(ct[ut],rt.effectsManager.effectElements[ut],it,rt));var ht=rt.data.ef||[],ft=function(mt){for(ut=0,dt=ht.length;ut<dt;){if(mt===ht[ut].nm||mt===ht[ut].mn||mt===ht[ut].ix)return lt[ut];ut+=1}return null};return Object.defineProperty(ft,"numProperties",{get:function(){return ht.length}}),ft}return null}function ne(rt,it,lt,ct){function ut(mt){for(var xt=rt.ef,yt=0,vt=xt.length;yt<vt;){if(mt===xt[yt].nm||mt===xt[yt].mn||mt===xt[yt].ix)return xt[yt].ty===5?ht[yt]:ht[yt]();yt+=1}throw new Error}var dt=propertyGroupFactory(ut,lt),ht=[],ft,pt=rt.ef.length;for(ft=0;ft<pt;ft+=1)rt.ef[ft].ty===5?ht.push(ne(rt.ef[ft],it.effectElements[ft],it.effectElements[ft].propertyGroup,ct)):ht.push(xe(it.effectElements[ft],rt.ef[ft].ty,ct,dt));return rt.mn==="ADBE Color Control"&&Object.defineProperty(ut,"color",{get:function(){return ht[0]()}}),Object.defineProperties(ut,{numProperties:{get:function(){return rt.np}},_name:{value:rt.nm},propertyGroup:{value:dt}}),ut.enabled=rt.en!==0,ut.active=ut.enabled,ut}function xe(rt,it,lt,ct){var ut=ExpressionPropertyInterface(rt.p);function dt(){return it===10?lt.comp.compInterface(rt.p.v):ut()}return rt.p.setGroupProperty&&rt.p.setGroupProperty(PropertyInterface("",ct)),dt}return ee})(),ShapePathInterface=(function(){return function(te,ne,xe){var rt=ne.sh;function it(ct){return ct==="Shape"||ct==="shape"||ct==="Path"||ct==="path"||ct==="ADBE Vector Shape"||ct===2?it.path:null}var lt=propertyGroupFactory(it,xe);return rt.setGroupProperty(PropertyInterface("Path",lt)),Object.defineProperties(it,{path:{get:function(){return rt.k&&rt.getValue(),rt}},shape:{get:function(){return rt.k&&rt.getValue(),rt}},_name:{value:te.nm},ix:{value:te.ix},propertyIndex:{value:te.ix},mn:{value:te.mn},propertyGroup:{value:xe}}),it}})(),ShapeExpressionInterface=(function(){function ee(xt,yt,vt){var Et=[],_t,wt=xt?xt.length:0;for(_t=0;_t<wt;_t+=1)xt[_t].ty==="gr"?Et.push(ne(xt[_t],yt[_t],vt)):xt[_t].ty==="fl"?Et.push(xe(xt[_t],yt[_t],vt)):xt[_t].ty==="st"?Et.push(lt(xt[_t],yt[_t],vt)):xt[_t].ty==="tm"?Et.push(ct(xt[_t],yt[_t],vt)):xt[_t].ty==="tr"||(xt[_t].ty==="el"?Et.push(dt(xt[_t],yt[_t],vt)):xt[_t].ty==="sr"?Et.push(ht(xt[_t],yt[_t],vt)):xt[_t].ty==="sh"?Et.push(ShapePathInterface(xt[_t],yt[_t],vt)):xt[_t].ty==="rc"?Et.push(ft(xt[_t],yt[_t],vt)):xt[_t].ty==="rd"?Et.push(pt(xt[_t],yt[_t],vt)):xt[_t].ty==="rp"?Et.push(mt(xt[_t],yt[_t],vt)):xt[_t].ty==="gf"?Et.push(rt(xt[_t],yt[_t],vt)):Et.push(it(xt[_t],yt[_t])));return Et}function te(xt,yt,vt){var Et,_t=function(Ct){for(var jt=0,Rt=Et.length;jt<Rt;){if(Et[jt]._name===Ct||Et[jt].mn===Ct||Et[jt].propertyIndex===Ct||Et[jt].ix===Ct||Et[jt].ind===Ct)return Et[jt];jt+=1}return typeof Ct=="number"?Et[Ct-1]:null};_t.propertyGroup=propertyGroupFactory(_t,vt),Et=ee(xt.it,yt.it,_t.propertyGroup),_t.numProperties=Et.length;var wt=ut(xt.it[xt.it.length-1],yt.it[yt.it.length-1],_t.propertyGroup);return _t.transform=wt,_t.propertyIndex=xt.cix,_t._name=xt.nm,_t}function ne(xt,yt,vt){var Et=function(Ct){switch(Ct){case"ADBE Vectors Group":case"Contents":case 2:return Et.content;default:return Et.transform}};Et.propertyGroup=propertyGroupFactory(Et,vt);var _t=te(xt,yt,Et.propertyGroup),wt=ut(xt.it[xt.it.length-1],yt.it[yt.it.length-1],Et.propertyGroup);return Et.content=_t,Et.transform=wt,Object.defineProperty(Et,"_name",{get:function(){return xt.nm}}),Et.numProperties=xt.np,Et.propertyIndex=xt.ix,Et.nm=xt.nm,Et.mn=xt.mn,Et}function xe(xt,yt,vt){function Et(_t){return _t==="Color"||_t==="color"?Et.color:_t==="Opacity"||_t==="opacity"?Et.opacity:null}return Object.defineProperties(Et,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},_name:{value:xt.nm},mn:{value:xt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",vt)),yt.o.setGroupProperty(PropertyInterface("Opacity",vt)),Et}function rt(xt,yt,vt){function Et(_t){return _t==="Start Point"||_t==="start point"?Et.startPoint:_t==="End Point"||_t==="end point"?Et.endPoint:_t==="Opacity"||_t==="opacity"?Et.opacity:null}return Object.defineProperties(Et,{startPoint:{get:ExpressionPropertyInterface(yt.s)},endPoint:{get:ExpressionPropertyInterface(yt.e)},opacity:{get:ExpressionPropertyInterface(yt.o)},type:{get:function(){return"a"}},_name:{value:xt.nm},mn:{value:xt.mn}}),yt.s.setGroupProperty(PropertyInterface("Start Point",vt)),yt.e.setGroupProperty(PropertyInterface("End Point",vt)),yt.o.setGroupProperty(PropertyInterface("Opacity",vt)),Et}function it(){function xt(){return null}return xt}function lt(xt,yt,vt){var Et=propertyGroupFactory(Rt,vt),_t=propertyGroupFactory(jt,Et);function wt(Pt){Object.defineProperty(jt,xt.d[Pt].nm,{get:ExpressionPropertyInterface(yt.d.dataProps[Pt].p)})}var St,Ct=xt.d?xt.d.length:0,jt={};for(St=0;St<Ct;St+=1)wt(St),yt.d.dataProps[St].p.setGroupProperty(_t);function Rt(Pt){return Pt==="Color"||Pt==="color"?Rt.color:Pt==="Opacity"||Pt==="opacity"?Rt.opacity:Pt==="Stroke Width"||Pt==="stroke width"?Rt.strokeWidth:null}return Object.defineProperties(Rt,{color:{get:ExpressionPropertyInterface(yt.c)},opacity:{get:ExpressionPropertyInterface(yt.o)},strokeWidth:{get:ExpressionPropertyInterface(yt.w)},dash:{get:function(){return jt}},_name:{value:xt.nm},mn:{value:xt.mn}}),yt.c.setGroupProperty(PropertyInterface("Color",Et)),yt.o.setGroupProperty(PropertyInterface("Opacity",Et)),yt.w.setGroupProperty(PropertyInterface("Stroke Width",Et)),Rt}function ct(xt,yt,vt){function Et(wt){return wt===xt.e.ix||wt==="End"||wt==="end"?Et.end:wt===xt.s.ix?Et.start:wt===xt.o.ix?Et.offset:null}var _t=propertyGroupFactory(Et,vt);return Et.propertyIndex=xt.ix,yt.s.setGroupProperty(PropertyInterface("Start",_t)),yt.e.setGroupProperty(PropertyInterface("End",_t)),yt.o.setGroupProperty(PropertyInterface("Offset",_t)),Et.propertyIndex=xt.ix,Et.propertyGroup=vt,Object.defineProperties(Et,{start:{get:ExpressionPropertyInterface(yt.s)},end:{get:ExpressionPropertyInterface(yt.e)},offset:{get:ExpressionPropertyInterface(yt.o)},_name:{value:xt.nm}}),Et.mn=xt.mn,Et}function ut(xt,yt,vt){function Et(wt){return xt.a.ix===wt||wt==="Anchor Point"?Et.anchorPoint:xt.o.ix===wt||wt==="Opacity"?Et.opacity:xt.p.ix===wt||wt==="Position"?Et.position:xt.r.ix===wt||wt==="Rotation"||wt==="ADBE Vector Rotation"?Et.rotation:xt.s.ix===wt||wt==="Scale"?Et.scale:xt.sk&&xt.sk.ix===wt||wt==="Skew"?Et.skew:xt.sa&&xt.sa.ix===wt||wt==="Skew Axis"?Et.skewAxis:null}var _t=propertyGroupFactory(Et,vt);return yt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",_t)),yt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",_t)),yt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",_t)),yt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",_t)),yt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",_t)),yt.transform.mProps.sk&&(yt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",_t)),yt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",_t))),yt.transform.op.setGroupProperty(PropertyInterface("Opacity",_t)),Object.defineProperties(Et,{opacity:{get:ExpressionPropertyInterface(yt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(yt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(yt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(yt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(yt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(yt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(yt.transform.mProps.sa)},_name:{value:xt.nm}}),Et.ty="tr",Et.mn=xt.mn,Et.propertyGroup=vt,Et}function dt(xt,yt,vt){function Et(St){return xt.p.ix===St?Et.position:xt.s.ix===St?Et.size:null}var _t=propertyGroupFactory(Et,vt);Et.propertyIndex=xt.ix;var wt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return wt.s.setGroupProperty(PropertyInterface("Size",_t)),wt.p.setGroupProperty(PropertyInterface("Position",_t)),Object.defineProperties(Et,{size:{get:ExpressionPropertyInterface(wt.s)},position:{get:ExpressionPropertyInterface(wt.p)},_name:{value:xt.nm}}),Et.mn=xt.mn,Et}function ht(xt,yt,vt){function Et(St){return xt.p.ix===St?Et.position:xt.r.ix===St?Et.rotation:xt.pt.ix===St?Et.points:xt.or.ix===St||St==="ADBE Vector Star Outer Radius"?Et.outerRadius:xt.os.ix===St?Et.outerRoundness:xt.ir&&(xt.ir.ix===St||St==="ADBE Vector Star Inner Radius")?Et.innerRadius:xt.is&&xt.is.ix===St?Et.innerRoundness:null}var _t=propertyGroupFactory(Et,vt),wt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return Et.propertyIndex=xt.ix,wt.or.setGroupProperty(PropertyInterface("Outer Radius",_t)),wt.os.setGroupProperty(PropertyInterface("Outer Roundness",_t)),wt.pt.setGroupProperty(PropertyInterface("Points",_t)),wt.p.setGroupProperty(PropertyInterface("Position",_t)),wt.r.setGroupProperty(PropertyInterface("Rotation",_t)),xt.ir&&(wt.ir.setGroupProperty(PropertyInterface("Inner Radius",_t)),wt.is.setGroupProperty(PropertyInterface("Inner Roundness",_t))),Object.defineProperties(Et,{position:{get:ExpressionPropertyInterface(wt.p)},rotation:{get:ExpressionPropertyInterface(wt.r)},points:{get:ExpressionPropertyInterface(wt.pt)},outerRadius:{get:ExpressionPropertyInterface(wt.or)},outerRoundness:{get:ExpressionPropertyInterface(wt.os)},innerRadius:{get:ExpressionPropertyInterface(wt.ir)},innerRoundness:{get:ExpressionPropertyInterface(wt.is)},_name:{value:xt.nm}}),Et.mn=xt.mn,Et}function ft(xt,yt,vt){function Et(St){return xt.p.ix===St?Et.position:xt.r.ix===St?Et.roundness:xt.s.ix===St||St==="Size"||St==="ADBE Vector Rect Size"?Et.size:null}var _t=propertyGroupFactory(Et,vt),wt=yt.sh.ty==="tm"?yt.sh.prop:yt.sh;return Et.propertyIndex=xt.ix,wt.p.setGroupProperty(PropertyInterface("Position",_t)),wt.s.setGroupProperty(PropertyInterface("Size",_t)),wt.r.setGroupProperty(PropertyInterface("Rotation",_t)),Object.defineProperties(Et,{position:{get:ExpressionPropertyInterface(wt.p)},roundness:{get:ExpressionPropertyInterface(wt.r)},size:{get:ExpressionPropertyInterface(wt.s)},_name:{value:xt.nm}}),Et.mn=xt.mn,Et}function pt(xt,yt,vt){function Et(St){return xt.r.ix===St||St==="Round Corners 1"?Et.radius:null}var _t=propertyGroupFactory(Et,vt),wt=yt;return Et.propertyIndex=xt.ix,wt.rd.setGroupProperty(PropertyInterface("Radius",_t)),Object.defineProperties(Et,{radius:{get:ExpressionPropertyInterface(wt.rd)},_name:{value:xt.nm}}),Et.mn=xt.mn,Et}function mt(xt,yt,vt){function Et(St){return xt.c.ix===St||St==="Copies"?Et.copies:xt.o.ix===St||St==="Offset"?Et.offset:null}var _t=propertyGroupFactory(Et,vt),wt=yt;return Et.propertyIndex=xt.ix,wt.c.setGroupProperty(PropertyInterface("Copies",_t)),wt.o.setGroupProperty(PropertyInterface("Offset",_t)),Object.defineProperties(Et,{copies:{get:ExpressionPropertyInterface(wt.c)},offset:{get:ExpressionPropertyInterface(wt.o)},_name:{value:xt.nm}}),Et.mn=xt.mn,Et}return function(xt,yt,vt){var Et;function _t(St){if(typeof St=="number")return St=St===void 0?1:St,St===0?vt:Et[St-1];for(var Ct=0,jt=Et.length;Ct<jt;){if(Et[Ct]._name===St)return Et[Ct];Ct+=1}return null}function wt(){return vt}return _t.propertyGroup=propertyGroupFactory(_t,wt),Et=ee(xt,yt,_t.propertyGroup),_t.numProperties=Et.length,_t._name="Contents",_t}})(),TextExpressionInterface=(function(){return function(ee){var te;function ne(xe){switch(xe){case"ADBE Text Document":return ne.sourceText;default:return null}}return Object.defineProperty(ne,"sourceText",{get:function(){ee.textProperty.getValue();var rt=ee.textProperty.currentData.t;return(!te||rt!==te.value)&&(te=new String(rt),te.value=rt||new String(rt),Object.defineProperty(te,"style",{get:function(){return{fillColor:ee.textProperty.currentData.fc}}})),te}}),ne}})();function _typeof(ee){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},_typeof(ee)}var FootageInterface=(function(){var ee=function(xe){var rt="",it=xe.getFootageData();function lt(){return rt="",it=xe.getFootageData(),ct}function ct(ut){if(it[ut])return rt=ut,it=it[ut],_typeof(it)==="object"?ct:it;var dt=ut.indexOf(rt);if(dt!==-1){var ht=parseInt(ut.substr(dt+rt.length),10);return it=it[ht],_typeof(it)==="object"?ct:it}return""}return lt},te=function(xe){function rt(it){return it==="Outline"?rt.outlineInterface():null}return rt._name="Outline",rt.outlineInterface=ee(xe),rt};return function(ne){function xe(rt){return rt==="Data"?xe.dataInterface:null}return xe._name="Data",xe.dataInterface=te(ne),xe}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(ee){return interfaces[ee]||null}var expressionHelpers=(function(){function ee(lt,ct,ut){ct.x&&(ut.k=!0,ut.x=!0,ut.initiateExpression=ExpressionManager.initiateExpression,ut.effectsSequence.push(ut.initiateExpression(lt,ct,ut).bind(ut)))}function te(lt){return lt*=this.elem.globalData.frameRate,lt-=this.offsetTime,lt!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<lt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(lt,this._cachingAtTime),this._cachingAtTime.lastFrame=lt),this._cachingAtTime.value}function ne(lt){var ct=-.01,ut=this.getValueAtTime(lt),dt=this.getValueAtTime(lt+ct),ht=0;if(ut.length){var ft;for(ft=0;ft<ut.length;ft+=1)ht+=Math.pow(dt[ft]-ut[ft],2);ht=Math.sqrt(ht)*100}else ht=0;return ht}function xe(lt){if(this.vel!==void 0)return this.vel;var ct=-.001,ut=this.getValueAtTime(lt),dt=this.getValueAtTime(lt+ct),ht;if(ut.length){ht=createTypedArray("float32",ut.length);var ft;for(ft=0;ft<ut.length;ft+=1)ht[ft]=(dt[ft]-ut[ft])/ct}else ht=(dt-ut)/ct;return ht}function rt(){return this.pv}function it(lt){this.propertyGroup=lt}return{searchExpressions:ee,getSpeedAtTime:ne,getVelocityAtTime:xe,getValueAtTime:te,getStaticValueAtTime:rt,setGroupProperty:it}})();function addPropertyDecorator(){function ee(pt,mt,xt){if(!this.k||!this.keyframes)return this.pv;pt=pt?pt.toLowerCase():"";var yt=this.comp.renderedFrame,vt=this.keyframes,Et=vt[vt.length-1].t;if(yt<=Et)return this.pv;var _t,wt;xt?(mt?_t=Math.abs(Et-this.elem.comp.globalData.frameRate*mt):_t=Math.max(0,Et-this.elem.data.ip),wt=Et-_t):((!mt||mt>vt.length-1)&&(mt=vt.length-1),wt=vt[vt.length-1-mt].t,_t=Et-wt);var St,Ct,jt;if(pt==="pingpong"){var Rt=Math.floor((yt-wt)/_t);if(Rt%2!==0)return this.getValueAtTime((_t-(yt-wt)%_t+wt)/this.comp.globalData.frameRate,0)}else if(pt==="offset"){var Pt=this.getValueAtTime(wt/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime(((yt-wt)%_t+wt)/this.comp.globalData.frameRate,0),Lt=Math.floor((yt-wt)/_t);if(this.pv.length){for(jt=new Array(Pt.length),Ct=jt.length,St=0;St<Ct;St+=1)jt[St]=(Ot[St]-Pt[St])*Lt+Ft[St];return jt}return(Ot-Pt)*Lt+Ft}else if(pt==="continue"){var Bt=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Gt=this.getValueAtTime((Et-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(jt=new Array(Bt.length),Ct=jt.length,St=0;St<Ct;St+=1)jt[St]=Bt[St]+(Bt[St]-Gt[St])*((yt-Et)/this.comp.globalData.frameRate)/5e-4;return jt}return Bt+(Bt-Gt)*((yt-Et)/.001)}return this.getValueAtTime(((yt-wt)%_t+wt)/this.comp.globalData.frameRate,0)}function te(pt,mt,xt){if(!this.k)return this.pv;pt=pt?pt.toLowerCase():"";var yt=this.comp.renderedFrame,vt=this.keyframes,Et=vt[0].t;if(yt>=Et)return this.pv;var _t,wt;xt?(mt?_t=Math.abs(this.elem.comp.globalData.frameRate*mt):_t=Math.max(0,this.elem.data.op-Et),wt=Et+_t):((!mt||mt>vt.length-1)&&(mt=vt.length-1),wt=vt[mt].t,_t=wt-Et);var St,Ct,jt;if(pt==="pingpong"){var Rt=Math.floor((Et-yt)/_t);if(Rt%2===0)return this.getValueAtTime(((Et-yt)%_t+Et)/this.comp.globalData.frameRate,0)}else if(pt==="offset"){var Pt=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Ot=this.getValueAtTime(wt/this.comp.globalData.frameRate,0),Ft=this.getValueAtTime((_t-(Et-yt)%_t+Et)/this.comp.globalData.frameRate,0),Lt=Math.floor((Et-yt)/_t)+1;if(this.pv.length){for(jt=new Array(Pt.length),Ct=jt.length,St=0;St<Ct;St+=1)jt[St]=Ft[St]-(Ot[St]-Pt[St])*Lt;return jt}return Ft-(Ot-Pt)*Lt}else if(pt==="continue"){var Bt=this.getValueAtTime(Et/this.comp.globalData.frameRate,0),Gt=this.getValueAtTime((Et+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(jt=new Array(Bt.length),Ct=jt.length,St=0;St<Ct;St+=1)jt[St]=Bt[St]+(Bt[St]-Gt[St])*(Et-yt)/.001;return jt}return Bt+(Bt-Gt)*(Et-yt)/.001}return this.getValueAtTime((_t-((Et-yt)%_t+Et))/this.comp.globalData.frameRate,0)}function ne(pt,mt){if(!this.k)return this.pv;if(pt=(pt||.4)*.5,mt=Math.floor(mt||5),mt<=1)return this.pv;var xt=this.comp.renderedFrame/this.comp.globalData.frameRate,yt=xt-pt,vt=xt+pt,Et=mt>1?(vt-yt)/(mt-1):1,_t=0,wt=0,St;this.pv.length?St=createTypedArray("float32",this.pv.length):St=0;for(var Ct;_t<mt;){if(Ct=this.getValueAtTime(yt+_t*Et),this.pv.length)for(wt=0;wt<this.pv.length;wt+=1)St[wt]+=Ct[wt];else St+=Ct;_t+=1}if(this.pv.length)for(wt=0;wt<this.pv.length;wt+=1)St[wt]/=mt;else St/=mt;return St}function xe(pt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var mt=this._transformCachingAtTime.v;if(mt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var xt=this.a.getValueAtTime(pt);mt.translate(-xt[0]*this.a.mult,-xt[1]*this.a.mult,xt[2]*this.a.mult)}if(this.appliedTransformations<2){var yt=this.s.getValueAtTime(pt);mt.scale(yt[0]*this.s.mult,yt[1]*this.s.mult,yt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var vt=this.sk.getValueAtTime(pt),Et=this.sa.getValueAtTime(pt);mt.skewFromAxis(-vt*this.sk.mult,Et*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var _t=this.r.getValueAtTime(pt);mt.rotate(-_t*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var wt=this.rz.getValueAtTime(pt),St=this.ry.getValueAtTime(pt),Ct=this.rx.getValueAtTime(pt),jt=this.or.getValueAtTime(pt);mt.rotateZ(-wt*this.rz.mult).rotateY(St*this.ry.mult).rotateX(Ct*this.rx.mult).rotateZ(-jt[2]*this.or.mult).rotateY(jt[1]*this.or.mult).rotateX(jt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Rt=this.px.getValueAtTime(pt),Pt=this.py.getValueAtTime(pt);if(this.data.p.z){var Ot=this.pz.getValueAtTime(pt);mt.translate(Rt*this.px.mult,Pt*this.py.mult,-Ot*this.pz.mult)}else mt.translate(Rt*this.px.mult,Pt*this.py.mult,0)}else{var Ft=this.p.getValueAtTime(pt);mt.translate(Ft[0]*this.p.mult,Ft[1]*this.p.mult,-Ft[2]*this.p.mult)}return mt}function rt(){return this.v.clone(new Matrix)}var it=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(pt,mt,xt){var yt=it(pt,mt,xt);return yt.dynamicProperties.length?yt.getValueAtTime=xe.bind(yt):yt.getValueAtTime=rt.bind(yt),yt.setGroupProperty=expressionHelpers.setGroupProperty,yt};var lt=PropertyFactory.getProp;PropertyFactory.getProp=function(pt,mt,xt,yt,vt){var Et=lt(pt,mt,xt,yt,vt);Et.kf?Et.getValueAtTime=expressionHelpers.getValueAtTime.bind(Et):Et.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Et),Et.setGroupProperty=expressionHelpers.setGroupProperty,Et.loopOut=ee,Et.loopIn=te,Et.smooth=ne,Et.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Et),Et.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Et),Et.numKeys=mt.a===1?mt.k.length:0,Et.propertyIndex=mt.ix;var _t=0;return xt!==0&&(_t=createTypedArray("float32",mt.a===1?mt.k[0].s.length:mt.k.length)),Et._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:_t},expressionHelpers.searchExpressions(pt,mt,Et),Et.k&&vt.addDynamicProperty(Et),Et};function ct(pt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),pt*=this.elem.globalData.frameRate,pt-=this.offsetTime,pt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<pt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=pt,this.interpolateShape(pt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var ut=ShapePropertyFactory.getConstructorFunction(),dt=ShapePropertyFactory.getKeyframedConstructorFunction();function ht(){}ht.prototype={vertices:function(mt,xt){this.k&&this.getValue();var yt=this.v;xt!==void 0&&(yt=this.getValueAtTime(xt,0));var vt,Et=yt._length,_t=yt[mt],wt=yt.v,St=createSizedArray(Et);for(vt=0;vt<Et;vt+=1)mt==="i"||mt==="o"?St[vt]=[_t[vt][0]-wt[vt][0],_t[vt][1]-wt[vt][1]]:St[vt]=[_t[vt][0],_t[vt][1]];return St},points:function(mt){return this.vertices("v",mt)},inTangents:function(mt){return this.vertices("i",mt)},outTangents:function(mt){return this.vertices("o",mt)},isClosed:function(){return this.v.c},pointOnPath:function(mt,xt){var yt=this.v;xt!==void 0&&(yt=this.getValueAtTime(xt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(yt));for(var vt=this._segmentsLength,Et=vt.lengths,_t=vt.totalLength*mt,wt=0,St=Et.length,Ct=0,jt;wt<St;){if(Ct+Et[wt].addedLength>_t){var Rt=wt,Pt=yt.c&&wt===St-1?0:wt+1,Ot=(_t-Ct)/Et[wt].addedLength;jt=bez.getPointInSegment(yt.v[Rt],yt.v[Pt],yt.o[Rt],yt.i[Pt],Ot,Et[wt]);break}else Ct+=Et[wt].addedLength;wt+=1}return jt||(jt=yt.c?[yt.v[0][0],yt.v[0][1]]:[yt.v[yt._length-1][0],yt.v[yt._length-1][1]]),jt},vectorOnPath:function(mt,xt,yt){mt==1?mt=this.v.c:mt==0&&(mt=.999);var vt=this.pointOnPath(mt,xt),Et=this.pointOnPath(mt+.001,xt),_t=Et[0]-vt[0],wt=Et[1]-vt[1],St=Math.sqrt(Math.pow(_t,2)+Math.pow(wt,2));if(St===0)return[0,0];var Ct=yt==="tangent"?[_t/St,wt/St]:[-wt/St,_t/St];return Ct},tangentOnPath:function(mt,xt){return this.vectorOnPath(mt,xt,"tangent")},normalOnPath:function(mt,xt){return this.vectorOnPath(mt,xt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ht],ut),extendPrototype([ht],dt),dt.prototype.getValueAtTime=ct,dt.prototype.initiateExpression=ExpressionManager.initiateExpression;var ft=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(pt,mt,xt,yt,vt){var Et=ft(pt,mt,xt,yt,vt);return Et.propertyIndex=mt.ix,Et.lock=!1,xt===3?expressionHelpers.searchExpressions(pt,mt.pt,Et):xt===4&&expressionHelpers.searchExpressions(pt,mt.ks,Et),Et.k&&pt.addDynamicProperty(Et),Et}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function ee(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(te,ne){var xe=this.calculateExpression(ne);if(te.t!==xe){var rt={};return this.copyData(rt,te),rt.t=xe.toString(),rt.__complete=!1,rt}return te},TextProperty.prototype.searchProperty=function(){var te=this.searchKeyframes(),ne=this.searchExpressions();return this.kf=te||ne,this.kf},TextProperty.prototype.searchExpressions=ee}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function ee(te,ne){var xe=createNS("feMerge");xe.setAttribute("result",te);var rt,it;for(it=0;it<ne.length;it+=1)rt=createNS("feMergeNode"),rt.setAttribute("in",ne[it]),xe.appendChild(rt),xe.appendChild(rt);return xe}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(ee,te,ne,xe,rt){this.filterManager=te;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=it,it.setAttribute("result",xe+"_tint_1"),ee.appendChild(it),it=createNS("feColorMatrix"),it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",xe+"_tint_2"),ee.appendChild(it),this.matrixFilter=it;var lt=this.createMergeNode(xe,[rt,xe+"_tint_1",xe+"_tint_2"]);ee.appendChild(lt)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(ee){if(ee||this.filterManager._mdf){var te=this.filterManager.effectElements[0].p.v,ne=this.filterManager.effectElements[1].p.v,xe=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+xe+" 0"),this.matrixFilter.setAttribute("values",ne[0]-te[0]+" 0 0 0 "+te[0]+" "+(ne[1]-te[1])+" 0 0 0 "+te[1]+" "+(ne[2]-te[2])+" 0 0 0 "+te[2]+" 0 0 0 1 0")}};function SVGFillFilter(ee,te,ne,xe){this.filterManager=te;var rt=createNS("feColorMatrix");rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),rt.setAttribute("result",xe),ee.appendChild(rt),this.matrixFilter=rt}SVGFillFilter.prototype.renderFrame=function(ee){if(ee||this.filterManager._mdf){var te=this.filterManager.effectElements[2].p.v,ne=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+te[0]+" 0 0 0 0 "+te[1]+" 0 0 0 0 "+te[2]+" 0 0 0 "+ne+" 0")}};function SVGStrokeEffect(ee,te,ne){this.initialized=!1,this.filterManager=te,this.elem=ne,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var ee=this.elem.layerElement.children||this.elem.layerElement.childNodes,te,ne,xe,rt;for(this.filterManager.effectElements[1].p.v===1?(rt=this.elem.maskManager.masksProperties.length,xe=0):(xe=this.filterManager.effectElements[0].p.v-1,rt=xe+1),ne=createNS("g"),ne.setAttribute("fill","none"),ne.setAttribute("stroke-linecap","round"),ne.setAttribute("stroke-dashoffset",1),xe;xe<rt;xe+=1)te=createNS("path"),ne.appendChild(te),this.paths.push({p:te,m:xe});if(this.filterManager.effectElements[10].p.v===3){var it=createNS("mask"),lt=createElementID();it.setAttribute("id",lt),it.setAttribute("mask-type","alpha"),it.appendChild(ne),this.elem.globalData.defs.appendChild(it);var ct=createNS("g");for(ct.setAttribute("mask","url("+getLocationHref()+"#"+lt+")");ee[0];)ct.appendChild(ee[0]);this.elem.layerElement.appendChild(ct),this.masker=it,ne.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(ee=this.elem.layerElement.children||this.elem.layerElement.childNodes;ee.length;)this.elem.layerElement.removeChild(ee[0]);this.elem.layerElement.appendChild(ne),this.elem.layerElement.removeAttribute("mask"),ne.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=ne},SVGStrokeEffect.prototype.renderFrame=function(ee){this.initialized||this.initialize();var te,ne=this.paths.length,xe,rt;for(te=0;te<ne;te+=1)if(this.paths[te].m!==-1&&(xe=this.elem.maskManager.viewData[this.paths[te].m],rt=this.paths[te].p,(ee||this.filterManager._mdf||xe.prop._mdf)&&rt.setAttribute("d",xe.lastPath),ee||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||xe.prop._mdf)){var it;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var lt=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ct=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ut=rt.getTotalLength();it="0 0 0 "+ut*lt+" ";var dt=ut*(ct-lt),ht=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ft=Math.floor(dt/ht),pt;for(pt=0;pt<ft;pt+=1)it+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";it+="0 "+ut*10+" 0 0"}else it="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;rt.setAttribute("stroke-dasharray",it)}if((ee||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(ee||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(ee||this.filterManager.effectElements[3].p._mdf)){var mt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(mt[0]*255)+","+bmFloor(mt[1]*255)+","+bmFloor(mt[2]*255)+")")}};function SVGTritoneFilter(ee,te,ne,xe){this.filterManager=te;var rt=createNS("feColorMatrix");rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","linearRGB"),rt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),ee.appendChild(rt);var it=createNS("feComponentTransfer");it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",xe),this.matrixFilter=it;var lt=createNS("feFuncR");lt.setAttribute("type","table"),it.appendChild(lt),this.feFuncR=lt;var ct=createNS("feFuncG");ct.setAttribute("type","table"),it.appendChild(ct),this.feFuncG=ct;var ut=createNS("feFuncB");ut.setAttribute("type","table"),it.appendChild(ut),this.feFuncB=ut,ee.appendChild(it)}SVGTritoneFilter.prototype.renderFrame=function(ee){if(ee||this.filterManager._mdf){var te=this.filterManager.effectElements[0].p.v,ne=this.filterManager.effectElements[1].p.v,xe=this.filterManager.effectElements[2].p.v,rt=xe[0]+" "+ne[0]+" "+te[0],it=xe[1]+" "+ne[1]+" "+te[1],lt=xe[2]+" "+ne[2]+" "+te[2];this.feFuncR.setAttribute("tableValues",rt),this.feFuncG.setAttribute("tableValues",it),this.feFuncB.setAttribute("tableValues",lt)}};function SVGProLevelsFilter(ee,te,ne,xe){this.filterManager=te;var rt=this.filterManager.effectElements,it=createNS("feComponentTransfer");(rt[10].p.k||rt[10].p.v!==0||rt[11].p.k||rt[11].p.v!==1||rt[12].p.k||rt[12].p.v!==1||rt[13].p.k||rt[13].p.v!==0||rt[14].p.k||rt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",it)),(rt[17].p.k||rt[17].p.v!==0||rt[18].p.k||rt[18].p.v!==1||rt[19].p.k||rt[19].p.v!==1||rt[20].p.k||rt[20].p.v!==0||rt[21].p.k||rt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",it)),(rt[24].p.k||rt[24].p.v!==0||rt[25].p.k||rt[25].p.v!==1||rt[26].p.k||rt[26].p.v!==1||rt[27].p.k||rt[27].p.v!==0||rt[28].p.k||rt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",it)),(rt[31].p.k||rt[31].p.v!==0||rt[32].p.k||rt[32].p.v!==1||rt[33].p.k||rt[33].p.v!==1||rt[34].p.k||rt[34].p.v!==0||rt[35].p.k||rt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",it)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(it.setAttribute("color-interpolation-filters","sRGB"),ee.appendChild(it)),(rt[3].p.k||rt[3].p.v!==0||rt[4].p.k||rt[4].p.v!==1||rt[5].p.k||rt[5].p.v!==1||rt[6].p.k||rt[6].p.v!==0||rt[7].p.k||rt[7].p.v!==1)&&(it=createNS("feComponentTransfer"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("result",xe),ee.appendChild(it),this.feFuncRComposed=this.createFeFunc("feFuncR",it),this.feFuncGComposed=this.createFeFunc("feFuncG",it),this.feFuncBComposed=this.createFeFunc("feFuncB",it))}SVGProLevelsFilter.prototype.createFeFunc=function(ee,te){var ne=createNS(ee);return ne.setAttribute("type","table"),te.appendChild(ne),ne},SVGProLevelsFilter.prototype.getTableValue=function(ee,te,ne,xe,rt){for(var it=0,lt=256,ct,ut=Math.min(ee,te),dt=Math.max(ee,te),ht=Array.call(null,{length:lt}),ft,pt=0,mt=rt-xe,xt=te-ee;it<=256;)ct=it/256,ct<=ut?ft=xt<0?rt:xe:ct>=dt?ft=xt<0?xe:rt:ft=xe+mt*Math.pow((ct-ee)/xt,1/ne),ht[pt]=ft,pt+=1,it+=256/(lt-1);return ht.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(ee){if(ee||this.filterManager._mdf){var te,ne=this.filterManager.effectElements;this.feFuncRComposed&&(ee||ne[3].p._mdf||ne[4].p._mdf||ne[5].p._mdf||ne[6].p._mdf||ne[7].p._mdf)&&(te=this.getTableValue(ne[3].p.v,ne[4].p.v,ne[5].p.v,ne[6].p.v,ne[7].p.v),this.feFuncRComposed.setAttribute("tableValues",te),this.feFuncGComposed.setAttribute("tableValues",te),this.feFuncBComposed.setAttribute("tableValues",te)),this.feFuncR&&(ee||ne[10].p._mdf||ne[11].p._mdf||ne[12].p._mdf||ne[13].p._mdf||ne[14].p._mdf)&&(te=this.getTableValue(ne[10].p.v,ne[11].p.v,ne[12].p.v,ne[13].p.v,ne[14].p.v),this.feFuncR.setAttribute("tableValues",te)),this.feFuncG&&(ee||ne[17].p._mdf||ne[18].p._mdf||ne[19].p._mdf||ne[20].p._mdf||ne[21].p._mdf)&&(te=this.getTableValue(ne[17].p.v,ne[18].p.v,ne[19].p.v,ne[20].p.v,ne[21].p.v),this.feFuncG.setAttribute("tableValues",te)),this.feFuncB&&(ee||ne[24].p._mdf||ne[25].p._mdf||ne[26].p._mdf||ne[27].p._mdf||ne[28].p._mdf)&&(te=this.getTableValue(ne[24].p.v,ne[25].p.v,ne[26].p.v,ne[27].p.v,ne[28].p.v),this.feFuncB.setAttribute("tableValues",te)),this.feFuncA&&(ee||ne[31].p._mdf||ne[32].p._mdf||ne[33].p._mdf||ne[34].p._mdf||ne[35].p._mdf)&&(te=this.getTableValue(ne[31].p.v,ne[32].p.v,ne[33].p.v,ne[34].p.v,ne[35].p.v),this.feFuncA.setAttribute("tableValues",te))}};function SVGDropShadowEffect(ee,te,ne,xe,rt){var it=te.container.globalData.renderConfig.filterSize,lt=te.data.fs||it;ee.setAttribute("x",lt.x||it.x),ee.setAttribute("y",lt.y||it.y),ee.setAttribute("width",lt.width||it.width),ee.setAttribute("height",lt.height||it.height),this.filterManager=te;var ct=createNS("feGaussianBlur");ct.setAttribute("in","SourceAlpha"),ct.setAttribute("result",xe+"_drop_shadow_1"),ct.setAttribute("stdDeviation","0"),this.feGaussianBlur=ct,ee.appendChild(ct);var ut=createNS("feOffset");ut.setAttribute("dx","25"),ut.setAttribute("dy","0"),ut.setAttribute("in",xe+"_drop_shadow_1"),ut.setAttribute("result",xe+"_drop_shadow_2"),this.feOffset=ut,ee.appendChild(ut);var dt=createNS("feFlood");dt.setAttribute("flood-color","#00ff00"),dt.setAttribute("flood-opacity","1"),dt.setAttribute("result",xe+"_drop_shadow_3"),this.feFlood=dt,ee.appendChild(dt);var ht=createNS("feComposite");ht.setAttribute("in",xe+"_drop_shadow_3"),ht.setAttribute("in2",xe+"_drop_shadow_2"),ht.setAttribute("operator","in"),ht.setAttribute("result",xe+"_drop_shadow_4"),ee.appendChild(ht);var ft=this.createMergeNode(xe,[xe+"_drop_shadow_4",rt]);ee.appendChild(ft)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(ee){if(ee||this.filterManager._mdf){if((ee||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),ee||this.filterManager.effectElements[0].p._mdf){var te=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(te[0]*255),Math.round(te[1]*255),Math.round(te[2]*255)))}if((ee||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),ee||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var ne=this.filterManager.effectElements[3].p.v,xe=(this.filterManager.effectElements[2].p.v-90)*degToRads,rt=ne*Math.cos(xe),it=ne*Math.sin(xe);this.feOffset.setAttribute("dx",rt),this.feOffset.setAttribute("dy",it)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(ee,te,ne){this.initialized=!1,this.filterManager=te,this.filterElem=ee,this.elem=ne,ne.matteElement=createNS("g"),ne.matteElement.appendChild(ne.layerElement),ne.matteElement.appendChild(ne.transformedElement),ne.baseElement=ne.matteElement}SVGMatte3Effect.prototype.findSymbol=function(ee){for(var te=0,ne=_svgMatteSymbols.length;te<ne;){if(_svgMatteSymbols[te]===ee)return _svgMatteSymbols[te];te+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(ee,te){var ne=ee.layerElement.parentNode;if(ne){for(var xe=ne.children,rt=0,it=xe.length;rt<it&&xe[rt]!==ee.layerElement;)rt+=1;var lt;rt<=it-2&&(lt=xe[rt+1]);var ct=createNS("use");ct.setAttribute("href","#"+te),lt?ne.insertBefore(ct,lt):ne.appendChild(ct)}},SVGMatte3Effect.prototype.setElementAsMask=function(ee,te){if(!this.findSymbol(te)){var ne=createElementID(),xe=createNS("mask");xe.setAttribute("id",te.layerId),xe.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(te);var rt=ee.globalData.defs;rt.appendChild(xe);var it=createNS("symbol");it.setAttribute("id",ne),this.replaceInParent(te,ne),it.appendChild(te.layerElement),rt.appendChild(it);var lt=createNS("use");lt.setAttribute("href","#"+ne),xe.appendChild(lt),te.data.hd=!1,te.show()}ee.setMatte(te.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var ee=this.filterManager.effectElements[0].p.v,te=this.elem.comp.elements,ne=0,xe=te.length;ne<xe;)te[ne]&&te[ne].data.ind===ee&&this.setElementAsMask(this.elem,te[ne]),ne+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(ee,te,ne,xe){ee.setAttribute("x","-100%"),ee.setAttribute("y","-100%"),ee.setAttribute("width","300%"),ee.setAttribute("height","300%"),this.filterManager=te;var rt=createNS("feGaussianBlur");rt.setAttribute("result",xe),ee.appendChild(rt),this.feGaussianBlur=rt}SVGGaussianBlurEffect.prototype.renderFrame=function(ee){if(ee||this.filterManager._mdf){var te=.3,ne=this.filterManager.effectElements[0].p.v*te,xe=this.filterManager.effectElements[1].p.v,rt=xe==3?0:ne,it=xe==2?0:ne;this.feGaussianBlur.setAttribute("stdDeviation",rt+" "+it);var lt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",lt)}};function TransformEffect(){}TransformEffect.prototype.init=function(ee){this.effectsManager=ee,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(ee){if(this._opMdf=!1,this._mdf=!1,ee||this.effectsManager._mdf){var te=this.effectsManager.effectElements,ne=te[0].p.v,xe=te[1].p.v,rt=te[2].p.v===1,it=te[3].p.v,lt=rt?it:te[4].p.v,ct=te[5].p.v,ut=te[6].p.v,dt=te[7].p.v;this.matrix.reset(),this.matrix.translate(-ne[0],-ne[1],ne[2]),this.matrix.scale(lt*.01,it*.01,1),this.matrix.rotate(-dt*degToRads),this.matrix.skewFromAxis(-ct*degToRads,(ut+90)*degToRads),this.matrix.translate(xe[0],xe[1],0),this._mdf=!0,this.opacity!==te[8].p.v&&(this.opacity=te[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(ee,te){this.init(te)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(ee){this.init(ee)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var ne=0,xe=Array(te);ne<te;ne++)xe[ne]=ee[ne];return xe}function _arrayWithHoles(ee){if(Array.isArray(ee))return ee}function _defineProperty(ee,te,ne){return(te=_toPropertyKey(te))in ee?Object.defineProperty(ee,te,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ne,ee}function _iterableToArrayLimit(ee,te){var ne=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(ne!=null){var xe,rt,it,lt,ct=[],ut=!0,dt=!1;try{if(it=(ne=ne.call(ee)).next,te!==0)for(;!(ut=(xe=it.call(ne)).done)&&(ct.push(xe.value),ct.length!==te);ut=!0);}catch(ht){dt=!0,rt=ht}finally{try{if(!ut&&ne.return!=null&&(lt=ne.return(),Object(lt)!==lt))return}finally{if(dt)throw rt}}return ct}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(ee,te){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(ee);te&&(xe=xe.filter(function(rt){return Object.getOwnPropertyDescriptor(ee,rt).enumerable})),ne.push.apply(ne,xe)}return ne}function _objectSpread2(ee){for(var te=1;te<arguments.length;te++){var ne=arguments[te]!=null?arguments[te]:{};te%2?ownKeys(Object(ne),!0).forEach(function(xe){_defineProperty(ee,xe,ne[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):ownKeys(Object(ne)).forEach(function(xe){Object.defineProperty(ee,xe,Object.getOwnPropertyDescriptor(ne,xe))})}return ee}function _objectWithoutProperties(ee,te){if(ee==null)return{};var ne,xe,rt=_objectWithoutPropertiesLoose(ee,te);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(ee);for(xe=0;xe<it.length;xe++)ne=it[xe],te.includes(ne)||{}.propertyIsEnumerable.call(ee,ne)&&(rt[ne]=ee[ne])}return rt}function _objectWithoutPropertiesLoose(ee,te){if(ee==null)return{};var ne={};for(var xe in ee)if({}.hasOwnProperty.call(ee,xe)){if(te.includes(xe))continue;ne[xe]=ee[xe]}return ne}function _slicedToArray(ee,te){return _arrayWithHoles(ee)||_iterableToArrayLimit(ee,te)||_unsupportedIterableToArray(ee,te)||_nonIterableRest()}function _toPrimitive(ee,te){if(typeof ee!="object"||!ee)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var xe=ne.call(ee,te);if(typeof xe!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(ee)}function _toPropertyKey(ee){var te=_toPrimitive(ee,"string");return typeof te=="symbol"?te:te+""}function _unsupportedIterableToArray(ee,te){if(ee){if(typeof ee=="string")return _arrayLikeToArray(ee,te);var ne={}.toString.call(ee).slice(8,-1);return ne==="Object"&&ee.constructor&&(ne=ee.constructor.name),ne==="Map"||ne==="Set"?Array.from(ee):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?_arrayLikeToArray(ee,te):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function ee(te,ne){var xe=te.animationData,rt=te.loop,it=te.autoplay,lt=te.initialSegment,ct=te.onComplete,ut=te.onLoopComplete,dt=te.onEnterFrame,ht=te.onSegmentStart,ft=te.onConfigReady,pt=te.onDataReady,mt=te.onDataFailed,xt=te.onLoadedImages,yt=te.onDOMLoaded,vt=te.onDestroy;te.lottieRef,te.renderer,te.name,te.assetsPath,te.rendererSettings;var Et=_objectWithoutProperties(te,_excluded$1),_t=reactExports.useState(!1),wt=_slicedToArray(_t,2),St=wt[0],Ct=wt[1],jt=reactExports.useRef(),Rt=reactExports.useRef(null),Pt=function(){var Wt;(Wt=jt.current)===null||Wt===void 0||Wt.play()},Ot=function(){var Wt;(Wt=jt.current)===null||Wt===void 0||Wt.stop()},Ft=function(){var Wt;(Wt=jt.current)===null||Wt===void 0||Wt.pause()},Lt=function(Wt){var Vt;(Vt=jt.current)===null||Vt===void 0||Vt.setSpeed(Wt)},Bt=function(Wt,Vt){var Yt;(Yt=jt.current)===null||Yt===void 0||Yt.goToAndPlay(Wt,Vt)},Gt=function(Wt,Vt){var Yt;(Yt=jt.current)===null||Yt===void 0||Yt.goToAndStop(Wt,Vt)},It=function(Wt){var Vt;(Vt=jt.current)===null||Vt===void 0||Vt.setDirection(Wt)},qt=function(Wt,Vt){var Yt;(Yt=jt.current)===null||Yt===void 0||Yt.playSegments(Wt,Vt)},Nt=function(Wt){var Vt;(Vt=jt.current)===null||Vt===void 0||Vt.setSubframe(Wt)},Dt=function(Wt){var Vt;return(Vt=jt.current)===null||Vt===void 0?void 0:Vt.getDuration(Wt)},Tt=function(){var Wt;(Wt=jt.current)===null||Wt===void 0||Wt.destroy(),jt.current=void 0},Mt=function(){var Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Vt;if(Rt.current){(Vt=jt.current)===null||Vt===void 0||Vt.destroy();var Yt=_objectSpread2(_objectSpread2(_objectSpread2({},te),Wt),{},{container:Rt.current});return jt.current=lottie.loadAnimation(Yt),Ct(!!jt.current),function(){var Qt;(Qt=jt.current)===null||Qt===void 0||Qt.destroy(),jt.current=void 0}}};reactExports.useEffect(function(){var Ht=Mt();return function(){return Ht?.()}},[xe,rt]),reactExports.useEffect(function(){jt.current&&(jt.current.autoplay=!!it)},[it]),reactExports.useEffect(function(){if(jt.current){if(!lt){jt.current.resetSegments(!0);return}!Array.isArray(lt)||!lt.length||((jt.current.currentRawFrame<lt[0]||jt.current.currentRawFrame>lt[1])&&(jt.current.currentRawFrame=lt[0]),jt.current.setSegment(lt[0],lt[1]))}},[lt]),reactExports.useEffect(function(){var Ht=[{name:"complete",handler:ct},{name:"loopComplete",handler:ut},{name:"enterFrame",handler:dt},{name:"segmentStart",handler:ht},{name:"config_ready",handler:ft},{name:"data_ready",handler:pt},{name:"data_failed",handler:mt},{name:"loaded_images",handler:xt},{name:"DOMLoaded",handler:yt},{name:"destroy",handler:vt}],Wt=Ht.filter(function(Yt){return Yt.handler!=null});if(Wt.length){var Vt=Wt.map(function(Yt){var Qt;return(Qt=jt.current)===null||Qt===void 0||Qt.addEventListener(Yt.name,Yt.handler),function(){var ar;(ar=jt.current)===null||ar===void 0||ar.removeEventListener(Yt.name,Yt.handler)}});return function(){Vt.forEach(function(Yt){return Yt()})}}},[ct,ut,dt,ht,ft,pt,mt,xt,yt,vt]);var $t=React.createElement("div",_objectSpread2({style:ne,ref:Rt},Et));return{View:$t,play:Pt,stop:Ot,pause:Ft,setSpeed:Lt,goToAndStop:Gt,goToAndPlay:Bt,setDirection:It,playSegments:qt,setSubframe:Nt,getDuration:Dt,destroy:Tt,animationContainerRef:Rt,animationLoaded:St,animationItem:jt.current}};function getContainerVisibility(ee){var te=ee.getBoundingClientRect(),ne=te.top,xe=te.height,rt=window.innerHeight-ne,it=window.innerHeight+xe;return rt/it}function getContainerCursorPosition(ee,te,ne){var xe=ee.getBoundingClientRect(),rt=xe.top,it=xe.left,lt=xe.width,ct=xe.height,ut=(te-it)/lt,dt=(ne-rt)/ct;return{x:ut,y:dt}}var useInitInteractivity=function ee(te){var ne=te.wrapperRef,xe=te.animationItem,rt=te.mode,it=te.actions;reactExports.useEffect(function(){var lt=ne.current;if(!(!lt||!xe||!it.length)){xe.stop();var ct=function(){var ht=null,ft=function(){var mt=getContainerVisibility(lt),xt=it.find(function(vt){var Et=vt.visibility;return Et&&mt>=Et[0]&&mt<=Et[1]});if(xt){if(xt.type==="seek"&&xt.visibility&&xt.frames.length===2){var yt=xt.frames[0]+Math.ceil((mt-xt.visibility[0])/(xt.visibility[1]-xt.visibility[0])*xt.frames[1]);//! goToAndStop must be relative to the start of the current segment
xe.goToAndStop(yt-xe.firstFrame-1,!0)}xt.type==="loop"&&(ht===null||ht!==xt.frames||xe.isPaused)&&(xe.playSegments(xt.frames,!0),ht=xt.frames),xt.type==="play"&&xe.isPaused&&(xe.resetSegments(!0),xe.play()),xt.type==="stop"&&xe.goToAndStop(xt.frames[0]-xe.firstFrame-1,!0)}};return document.addEventListener("scroll",ft),function(){document.removeEventListener("scroll",ft)}},ut=function(){var ht=function(xt,yt){var vt=xt,Et=yt;if(vt!==-1&&Et!==-1){var _t=getContainerCursorPosition(lt,vt,Et);vt=_t.x,Et=_t.y}var wt=it.find(function(jt){var Rt=jt.position;return Rt&&Array.isArray(Rt.x)&&Array.isArray(Rt.y)?vt>=Rt.x[0]&&vt<=Rt.x[1]&&Et>=Rt.y[0]&&Et<=Rt.y[1]:Rt&&!Number.isNaN(Rt.x)&&!Number.isNaN(Rt.y)?vt===Rt.x&&Et===Rt.y:!1});if(wt){if(wt.type==="seek"&&wt.position&&Array.isArray(wt.position.x)&&Array.isArray(wt.position.y)&&wt.frames.length===2){var St=(vt-wt.position.x[0])/(wt.position.x[1]-wt.position.x[0]),Ct=(Et-wt.position.y[0])/(wt.position.y[1]-wt.position.y[0]);xe.playSegments(wt.frames,!0),xe.goToAndStop(Math.ceil((St+Ct)/2*(wt.frames[1]-wt.frames[0])),!0)}wt.type==="loop"&&xe.playSegments(wt.frames,!0),wt.type==="play"&&(xe.isPaused&&xe.resetSegments(!1),xe.playSegments(wt.frames)),wt.type==="stop"&&xe.goToAndStop(wt.frames[0],!0)}},ft=function(xt){ht(xt.clientX,xt.clientY)},pt=function(){ht(-1,-1)};return lt.addEventListener("mousemove",ft),lt.addEventListener("mouseout",pt),function(){lt.removeEventListener("mousemove",ft),lt.removeEventListener("mouseout",pt)}};switch(rt){case"scroll":return ct();case"cursor":return ut()}}},[rt,xe])},useLottieInteractivity=function ee(te){var ne=te.actions,xe=te.mode,rt=te.lottieObj,it=rt.animationItem,lt=rt.View,ct=rt.animationContainerRef;return useInitInteractivity({actions:ne,animationItem:it,mode:xe,wrapperRef:ct}),lt},_excluded=["style","interactivity"],Lottie=function ee(te){var ne,xe,rt,it=te.style,lt=te.interactivity,ct=_objectWithoutProperties(te,_excluded),ut=useLottie(ct,it),dt=ut.View,ht=ut.play,ft=ut.stop,pt=ut.pause,mt=ut.setSpeed,xt=ut.goToAndStop,yt=ut.goToAndPlay,vt=ut.setDirection,Et=ut.playSegments,_t=ut.setSubframe,wt=ut.getDuration,St=ut.destroy,Ct=ut.animationContainerRef,jt=ut.animationLoaded,Rt=ut.animationItem;return reactExports.useEffect(function(){te.lottieRef&&(te.lottieRef.current={play:ht,stop:ft,pause:pt,setSpeed:mt,goToAndPlay:yt,goToAndStop:xt,setDirection:vt,playSegments:Et,setSubframe:_t,getDuration:wt,destroy:St,animationContainerRef:Ct,animationLoaded:jt,animationItem:Rt})},[(ne=te.lottieRef)===null||ne===void 0?void 0:ne.current]),useLottieInteractivity({lottieObj:{View:dt,play:ht,stop:ft,pause:pt,setSpeed:mt,goToAndStop:xt,goToAndPlay:yt,setDirection:vt,playSegments:Et,setSubframe:_t,getDuration:wt,destroy:St,animationContainerRef:Ct,animationLoaded:jt,animationItem:Rt},actions:(xe=lt?.actions)!==null&&xe!==void 0?xe:[],mode:(rt=lt?.mode)!==null&&rt!==void 0?rt:"scroll"})};const FallbackAvatar=({state:ee,size:te})=>{const ne=()=>{switch(ee){case"speaking":return"";case"thinking":return"";case"listening":return"";default:return""}};return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-purple-500",style:{width:te,height:te},children:jsxRuntimeExports.jsx("span",{className:"text-4xl animate-pulse",style:{fontSize:te*.5},children:ne()})})},AnimatedAvatar=({state:ee,size:te=80,className:ne=""})=>{const[xe,rt]=reactExports.useState(null),[it,lt]=reactExports.useState(!0),[ct,ut]=reactExports.useState(!1),dt=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{lt(!0),ut(!1);try{const pt=`/animations/${ee}.json`,mt=await fetch(pt);if(mt.ok){const xt=await mt.json();rt(xt),ut(!1)}else ut(!0)}catch(pt){console.warn(`Animation file for state "${ee}" not found, using fallback`,pt),ut(!0)}finally{lt(!1)}})()},[ee]),reactExports.useEffect(()=>{dt.current&&xe&&!ct&&dt.current.goToAndPlay(0)},[ee,xe,ct]);const ht=ne.includes("w-full")||ne.includes("h-full");return it?jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center ${ne}`,style:ht?{width:"100%",height:"100%"}:{width:te,height:te},children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):ct||!xe?jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center ${ne}`,style:ht?{width:"100%",height:"100%"}:{width:te,height:te},children:jsxRuntimeExports.jsx(FallbackAvatar,{state:ee,size:ht?200:te})}):jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center ${ne}`,style:ht?{width:"100%",height:"100%"}:{width:te,height:te},children:jsxRuntimeExports.jsx(Lottie,{lottieRef:dt,animationData:xe,loop:ee==="idle"||ee==="thinking"||ee==="listening",autoplay:!0,style:ht?{width:"100%",height:"100%"}:{width:te,height:te}})})},FullscreenModal=({isOpen:ee,onClose:te,title:ne,children:xe})=>(reactExports.useEffect(()=>{if(!ee)return;const rt=it=>{it.key==="Escape"&&te()};return window.addEventListener("keydown",rt),()=>window.removeEventListener("keydown",rt)},[ee,te]),reactExports.useEffect(()=>(ee?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[ee]),ee?jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[9999] animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:te}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-white flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"h-14 border-b border-slate-200 flex items-center justify-between px-6 bg-white/95 backdrop-blur-sm shrink-0 z-10",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:ne&&jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-slate-800",children:ne})}),jsxRuntimeExports.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-100 transition-colors",title:" (ESC)",children:[jsxRuntimeExports.jsx(Minimize2,{size:16}),jsxRuntimeExports.jsx("span",{children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden relative",children:xe})]})]}):null),toServerLanguage=ee=>ee.toLowerCase().startsWith("zh")?"cmn-CN":ee;function useSpeechRecognition(ee={}){const{language:te="zh-CN",onResult:ne,onError:xe}=ee,[rt,it]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(null),ht=reactExports.useRef(null),ft=reactExports.useRef([]),pt=reactExports.useRef(null),mt=reactExports.useRef(null),xt=()=>{const St=window.SpeechRecognition||window.webkitSpeechRecognition;if(!St)return null;const Ct=new St;return Ct.lang=te,Ct.continuous=!1,Ct.interimResults=!1,Ct},yt=reactExports.useCallback(async()=>{try{dt(null);const St=xt();if(!St){const Ct=new Error("");dt(Ct.message),xe?.(Ct);return}mt.current=St,St.onstart=()=>{it(!0),ct(!1)},St.onresult=Ct=>{const jt=Ct.results?.[0]?.[0]?.transcript?.trim();jt&&ne?.(jt)},St.onerror=Ct=>{const jt=new Error(Ct.error||"");dt(jt.message),xe?.(jt)},St.onend=()=>{it(!1),ct(!1)},ct(!0),St.start()}catch(St){const Ct=St instanceof Error?St:new Error("");dt(Ct.message),it(!1),ct(!1),xe?.(Ct)}},[te,ne,xe]),vt=reactExports.useCallback(async()=>{try{dt(null);const St=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});pt.current=St;const Ct=new MediaRecorder(St,{mimeType:"audio/webm;codecs=opus"});ht.current=Ct,ft.current=[],Ct.ondataavailable=jt=>{jt.data.size>0&&ft.current.push(jt.data)},Ct.onstop=async()=>{pt.current&&(pt.current.getTracks().forEach(Pt=>Pt.stop()),pt.current=null);const jt=new Blob(ft.current,{type:"audio/webm"}),Rt=new FileReader;Rt.onloadend=async()=>{const Pt=Rt.result;ct(!0);try{const{speechToText:Ot}=await __vitePreload(async()=>{const{speechToText:Lt}=await Promise.resolve().then(()=>backendApi);return{speechToText:Lt}},void 0),Ft=await Ot(Pt,toServerLanguage(te));Ft&&ne&&ne(Ft)}catch(Ot){const Ft=Ot instanceof Error?Ot:new Error("Unknown error"),Lt=Ft.message.includes("not configured")||Ft.message.includes("credentials");dt(Lt?"":Ft.message),xe?.(Ft)}finally{ct(!1)}},Rt.readAsDataURL(jt)},Ct.start(),it(!0)}catch(St){const Ct=St instanceof Error?St:new Error("Failed to start recording");dt(Ct.message),it(!1),xe?.(Ct)}},[te,ne,xe]),Et=reactExports.useCallback(async()=>{await vt()},[yt,vt]),_t=reactExports.useCallback(async()=>{ht.current&&rt&&(ht.current.stop(),it(!1))},[rt]),wt=reactExports.useCallback(()=>{ht.current&&rt&&(ht.current.stop(),it(!1)),pt.current&&(pt.current.getTracks().forEach(St=>St.stop()),pt.current=null),ft.current=[],dt(null)},[rt]);return{isRecording:rt,isProcessing:lt,error:ut,startRecording:Et,stopRecording:_t,cancelRecording:wt}}function getByteLength(ee){return new Blob([ee]).size}function removeEmojis(ee){const te=/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{1F900}-\u{1F9FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{1F600}-\u{1F64F}]|[\u{1F680}-\u{1F6FF}]|[\u{1F700}-\u{1F77F}]|[\u{1F780}-\u{1F7FF}]|[\u{1F800}-\u{1F8FF}]|[\u{1FA00}-\u{1FA6F}]|[\u{1FA70}-\u{1FAFF}]|[\u{200D}]|[\u{FE00}-\u{FE0F}]|[\u{20D0}-\u{20FF}]/gu;let ne=ee.replace(te,"");return ne=ne.replace(/[^]*[^]*/g,""),ne=ne.replace(/[^]*[^]*/g,""),ne=ne.replace(/[^]*/g,""),ne=ne.replace(/[^]*/g,""),ne=ne.replace(/[]/g,""),ne=ne.replace(/[\u{1D100}-\u{1D1FF}]/gu,""),ne=ne.replace(/\s+/g," ").trim(),ne}function splitLongSentencesToChunks(ee,te=800){const ne=ee.replace(/\s+/g," ").trim();if(!ne)return[];const xe=/([\n])/,rt=ne.split(xe),it=[];let lt="";for(let ct=0;ct<rt.length;ct++){const ut=rt[ct];if(!ut)continue;if(/^[\n]$/.test(ut)){lt+=ut,lt.trim()&&it.push(lt.trim()),lt="";continue}const dt=getByteLength(lt),ht=getByteLength(ut);if(dt+ht>te)if(lt.trim()&&it.push(lt.trim()),ht>te){const ft=ut.split(/([])/);let pt="";for(const mt of ft)if(mt)if(/^[]$/.test(mt))pt+=mt,pt.trim()&&it.push(pt.trim()),pt="";else{const xt=getByteLength(pt),yt=getByteLength(mt);if(xt+yt>te)if(pt.trim()&&it.push(pt.trim()),yt>te){let vt=0;for(;vt<mt.length;){let Et="",_t=0;for(;vt<mt.length&&_t<te;){const wt=mt[vt],St=getByteLength(wt);if(_t+St>te)break;Et+=wt,_t+=St,vt++}Et.trim()&&it.push(Et.trim())}pt=""}else pt=mt;else pt+=mt}pt.trim()?lt=pt:lt=""}else lt=ut;else lt+=ut}return lt.trim()&&it.push(lt.trim()),it.filter(ct=>ct.length>0)}async function mapWithConcurrency(ee,te,ne){const xe=new Array(ee.length);let rt=0;const it=new Array(Math.min(te,ee.length)).fill(0).map(async()=>{for(;rt<ee.length;){const lt=rt++;xe[lt]=await ne(ee[lt],lt)}});return await Promise.all(it),xe}function useTextToSpeech(ee={}){const{language:te="cmn-CN",voiceName:ne="cmn-CN-Chirp3-HD-Despina",onPlayStart:xe,onPlayEnd:rt,onError:it}=ee,[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(!1),[ht,ft]=reactExports.useState(null),pt=reactExports.useRef(null),mt=reactExports.useRef(0),xt=reactExports.useCallback(async Et=>{if(Et.trim())try{ft(null),dt(!0),pt.current&&(pt.current.pause(),pt.current=null);let _t=removeEmojis(Et);if(!_t){dt(!1);return}const wt=async Ft=>{const{textToSpeech:Lt}=await __vitePreload(async()=>{const{textToSpeech:Bt}=await Promise.resolve().then(()=>backendApi);return{textToSpeech:Bt}},void 0);return Lt(Ft,te,ne)};let St=0;const Ct=2;let jt=_t,Rt=800;const Pt=++mt.current;let Ot=!1;for(;St<=Ct;)try{const Ft=splitLongSentencesToChunks(jt,Rt);if(Ft.length===0){dt(!1);return}const Lt=await mapWithConcurrency(Ft,10,wt);for(let Bt=0;Bt<Lt.length&&mt.current===Pt;Bt++){const Gt=Lt[Bt],It=new Audio(Gt);pt.current=It,await new Promise((qt,Nt)=>{It.onplay=()=>{Ot||(Ot=!0,ct(!0),dt(!1),xe&&xe())},It.onended=()=>{qt()},It.onerror=Dt=>{const Tt=Dt instanceof Event?Dt.target:It;let Mt="Audio playback failed";if(Tt?.error){const $t=Tt.error;switch($t.code){case $t.MEDIA_ERR_ABORTED:Mt="Audio playback was aborted";break;case $t.MEDIA_ERR_NETWORK:Mt="Network error while loading audio";break;case $t.MEDIA_ERR_DECODE:Mt="Audio decoding error";break;case $t.MEDIA_ERR_SRC_NOT_SUPPORTED:Mt="Audio format not supported";break;default:Mt=`Audio error: ${$t.message||"Unknown error"}`}}Nt(new Error(Mt))},It.play().catch(Dt=>{if(Dt?.name==="NotAllowedError"){Nt(new Error(""));return}Nt(Dt)})})}mt.current===Pt&&Ot&&(ct(!1),pt.current=null,rt&&rt());return}catch(Ft){const Lt=Ft instanceof Error?Ft.message:String(Ft);if((Lt.includes("too long")||Lt.includes("sentence"))&&St<Ct){if(St++,Rt=Math.max(500,Rt-200),jt=removeEmojis(Et),jt===_t&&St>1)throw Ft;continue}throw Ft}}catch(_t){let wt;if(_t instanceof Error)wt=_t;else if(_t&&typeof _t=="object"&&"target"in _t){const jt=_t.target,Rt=jt?.error?`Audio error: ${jt.error.code} - ${jt.error.message}`:"Audio playback failed";wt=new Error(Rt)}else{const Ct=_t?.toString()||String(_t)||"Unknown error";wt=new Error(Ct)}const St=wt.message.includes("not configured")||wt.message.includes("credentials");ft(St?"":wt.message),dt(!1),ct(!1),it&&it(wt)}},[te,ne,xe,rt,it]),yt=reactExports.useCallback(()=>{mt.current+=1,pt.current&&(pt.current.pause(),pt.current.currentTime=0,pt.current=null,ct(!1))},[]),vt=reactExports.useCallback(()=>{pt.current&&lt&&(pt.current.pause(),ct(!1))},[lt]);return{isPlaying:lt,isLoading:ut,error:ht,play:xt,stop:yt,pause:vt}}function visualizationDataToMermaid(ee){if(ee.type!=="mindmap")throw new Error("Only mindmap type can be converted to Mermaid");const te=ee.nodes,ne=ee.edges,xe=ee.metadata?.centralConcept||te.find(ut=>!ne.some(dt=>dt.target===ut.id))?.label||te[0]?.label||"Root";let rt=`mindmap
  Root((${xe}))
`;const it=new Map;te.forEach(ut=>it.set(ut.id,ut));const lt=ne.filter(ut=>it.get(ut.source)?.label===xe||!ut.source),ct=(ut,dt)=>{ne.filter(ft=>ft.source===ut).forEach(ft=>{const pt=it.get(ft.target);if(pt){const mt=pt.type==="confusion"?` ${pt.label}`:pt.label;rt+=`${dt}    ${mt.replace(/[()]/g,"")}
`,ct(ft.target,dt+"    ")}})};return lt.forEach(ut=>{const dt=it.get(ut.target);if(dt){const ht=dt.type==="confusion"?` ${dt.label}`:dt.label;rt+=`    ${ht.replace(/[()]/g,"")}
`,ct(ut.target,"    ")}}),ne.length===0&&te.length>1&&te.slice(1).forEach(ut=>{const dt=ut.type==="confusion"?` ${ut.label}`:ut.label;rt+=`    ${dt.replace(/[()]/g,"")}
`}),rt.trim()}function mermaidToVisualizationData(ee){const te=ee.split(`
`).map(lt=>lt.trim()).filter(lt=>lt&&!lt.startsWith("%%"));if(te.length===0)return{type:"mindmap",nodes:[],edges:[],metadata:{}};const ne=te[0],xe=[],rt=[];let it="Root";if(ne.startsWith("graph")||ne.startsWith("flowchart")){const lt=new Map;let ct=0,ut=null;for(let dt=1;dt<te.length;dt++){const ht=te[dt],ft=ht.match(/^\s*(\w+)\s*[\[\(]\s*(.*?)\s*[\]\)]/);if(ft){const mt=ft[1],xt=ft[2].replace(/^\s*/,""),yt=ft[2].includes("");if(!lt.has(mt)){const vt={id:`node_${ct++}`,label:xt||mt,type:yt?"confusion":"concept"};lt.set(mt,vt),xe.push(vt),ut===null&&(ut=vt.id,it=xt||mt)}}const pt=ht.match(/^\s*(\w+)\s*(-->|--)\s*(?:[|"](.*?)[|"])?\s*(\w+)/);if(pt){const mt=pt[1],xt=pt[4],yt=pt[3];if(!lt.has(mt)){const _t={id:`node_${ct++}`,label:mt,type:"concept"};lt.set(mt,_t),xe.push(_t),ut===null&&(ut=_t.id,it=mt)}if(!lt.has(xt)){const _t={id:`node_${ct++}`,label:xt,type:"concept"};lt.set(xt,_t),xe.push(_t)}const vt=lt.get(mt),Et=lt.get(xt);vt&&Et&&rt.push({id:`edge_${rt.length}`,source:vt.id,target:Et.id,label:yt,type:"hierarchical"})}}return ut===null&&xe.length>0&&(ut=xe[0].id,it=xe[0].label),{type:"conceptmap",nodes:xe,edges:rt,metadata:{centralConcept:it,confusionPoints:xe.filter(dt=>dt.type==="confusion").map(dt=>dt.label)}}}if(ne.startsWith("mindmap")){const lt=te[1]?.match(/Root\(\((.*?)\)\)/);lt&&(it=lt[1],xe.push({id:"root",label:it,type:"concept"}));let ct=1;const ut=new Map;xe.length>0&&ut.set("root",{node:xe[0],level:0});for(let dt=2;dt<te.length;dt++){const ht=te[dt],ft=ht.match(/^(\s*)/),pt=ft?ft[1].length/4:0,mt=ht.trim().replace(/^\s*/,""),xt=ht.includes(""),yt=`node_${ct++}`,vt={id:yt,label:mt,type:xt?"confusion":"concept"};xe.push(vt),ut.set(yt,{node:vt,level:pt});let Et="root";for(let _t=dt-1;_t>=1;_t--){const wt=te[_t],St=wt.match(/^(\s*)/),Ct=St?St[1].length/4:0;if(Ct<pt){const jt=wt.trim().replace(/^\s*/,"");for(const[Rt,{node:Pt}]of ut.entries())if(Pt.label===jt&&ut.get(Rt).level===Ct){Et=Rt;break}break}}rt.push({id:`edge_${rt.length}`,source:Et,target:yt,type:"hierarchical"})}return{type:"mindmap",nodes:xe,edges:rt,metadata:{centralConcept:it,confusionPoints:xe.filter(dt=>dt.type==="confusion").map(dt=>dt.label)}}}return console.warn(`Unsupported Mermaid format: ${ne}. Returning empty visualization data.`),{type:"mindmap",nodes:[],edges:[],metadata:{}}}function getTypeLabel(ee){switch(ee){case"mindmap":return"";case"conceptmap":return"";case"knowledgegraph":return"";default:return""}}function generateGuidancePrompt(ee,te,ne=0){const xe=ee.nodes.length,rt=ee.edges.length,it=ee.metadata?.confusionPoints?.length||0;let lt=`${getTypeLabel(ee.type)}
`;if(lt+=`- ${xe}
`,lt+=`- ${rt}
`,lt+=`- ${it}

`,te==="node_created"){const ct=ee.nodes[ee.nodes.length-1];lt+=`"${ct.label}"`,xe===1?lt+='""':xe===2?lt+="":lt+=""}else if(te==="edge_created"){const ct=ee.edges[ee.edges.length-1],ut=ee.nodes.find(ht=>ht.id===ct.source),dt=ee.nodes.find(ht=>ht.id===ct.target);lt+=`${ut?.label||""} -> ${dt?.label||""}`,lt+='""'}else te==="confusion_marked"?lt+='""':te==="idle"&&ne>12e4?lt+=`${Math.round(ne/6e4)}""`:te==="idle"&&(xe===0?lt+='""':xe>0&&rt===0?lt+=`${xe}`:xe>=3&&rt>=2&&(lt+=`${getTypeLabel(ee.type)}`));return lt}function calculateCompletionRate(ee){const xe=Math.min(ee.nodes.length/3,1)*50,rt=Math.min(ee.edges.length/2,1)*50;return Math.round(xe+rt)}function shouldTriggerAIFeedback(ee,te,ne,xe,rt,it){return ee==="node_created"&&te===0&&ne===1||ee==="node_created"&&ne===3&&rt===0||ee==="edge_created"&&xe===0&&rt===1||ee==="confusion_marked"}function parseGuidedPayload(ee){if(!ee?.trim())return null;try{const te=JSON.parse(ee);return{learningObjective:typeof te.learningObjective=="string"?te.learningObjective:void 0,keyIdeas:Array.isArray(te.keyIdeas)?te.keyIdeas:[],practiceQuestions:Array.isArray(te.practiceQuestions)?te.practiceQuestions:[],exitTicket:te.exitTicket??null,taskDesignJson:te.taskDesignJson??null}}catch{return null}}function extractQuestionStemAndOptions(ee,te){if(te&&te.length>0)return{stem:ee,options:te};const ne=ee.split(`
`).map(rt=>rt.trim()).filter(Boolean),xe=ne.filter(rt=>/^[A-D][\.\)\u3001\s]/i.test(rt));if(xe.length>=2){const rt=ne.filter(lt=>!/^[A-D][\.\)\u3001\s]/i.test(lt)),it=xe.map(lt=>lt.replace(/^[A-D][\.\)\u3001\s]+/i,"").trim());return{stem:rt.join(`
`).trim()||ee,options:it}}return{stem:ee,options:[]}}function extractYouTubeVideoId(ee){try{const te=new URL(ee),ne=te.hostname.toLowerCase();if(ne.includes("youtu.be"))return te.pathname.replace(/^\//,"").split("/")[0]||null;if(ne.includes("youtube.com")){const xe=te.searchParams.get("v");if(xe)return xe;const rt=te.pathname.split("/").filter(Boolean);if(rt[0]==="embed"||rt[0]==="shorts")return rt[1]||null}}catch{return null}return null}const StudentConsole=({plan:ee,onComplete:te,onApiKeyError:ne})=>{const{user:xe}=useAuth(),it=useParams().id,lt=reactExports.useRef(Date.now()),ct=reactExports.useCallback((cr,gr,_r)=>{if(!it||!xe?.id)return;const xr=Math.round((Date.now()-lt.current)/1e3);upsertStudentCourseProgress({courseId:it,progress:cr,completed:gr,timeSpentSeconds:xr,lastTaskIndex:_r}).catch(Tr=>console.warn("[StudentConsole] Progress report failed:",Tr))},[it,xe?.id]),[ut,dt]=reactExports.useState(()=>{if(typeof window<"u"){const cr=localStorage.getItem("currentTaskIndex");if(cr!==null){const gr=parseInt(cr,10);if(!isNaN(gr)&&gr>=0&&gr<ee.tasks.length)return gr}}return 0}),[ht,ft]=reactExports.useState([]),[pt,mt]=reactExports.useState(""),[xt,yt]=reactExports.useState(!1),[vt,Et]=reactExports.useState([]),[_t,wt]=reactExports.useState(60),[St,Ct]=reactExports.useState(25),[jt,Rt]=reactExports.useState(!1),[Pt,Ot]=reactExports.useState(!1),Ft=reactExports.useRef(null),[Lt,Bt]=reactExports.useState(null),[Gt,It]=reactExports.useState(!1),[qt,Nt]=reactExports.useState(""),[Dt,Tt]=reactExports.useState(null),[Mt,$t]=reactExports.useState(1),[Ht,Wt]=reactExports.useState([]),[Vt,Yt]=reactExports.useState(!1),[Qt,ar]=reactExports.useState(""),[Xt,tr]=reactExports.useState(null),[rr,ur]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState(!1),[or,dr]=reactExports.useState({totalNodes:0,totalEdges:0,confusionPoints:0,completionRate:0}),[Ar,Nr]=reactExports.useState("idle"),[Mr,Gr]=reactExports.useState(Date.now()),[Yr,en]=reactExports.useState(0),[Jr,on]=reactExports.useState(0),[sn,an]=reactExports.useState({columns:[],rows:[]}),[dn,pr]=reactExports.useState(""),[Er,sr]=reactExports.useState(!1),[vr,Pr]=reactExports.useState(""),[Kr,Ln]=reactExports.useState(1),[kn,qn]=reactExports.useState(1),[vn,fn]=reactExports.useState({}),[$n,bn]=reactExports.useState({}),[ni,mi]=reactExports.useState({}),[Wn,ii]=reactExports.useState({}),[gi,Ki]=reactExports.useState(""),[Li,En]=reactExports.useState(!1),[yr,$r]=reactExports.useState({mindMap:0,table:0,text:0,math:0}),[tn,yn]=reactExports.useState(0),[Sn,mn]=reactExports.useState(null),[as,_n]=reactExports.useState(!1),[Dn,si]=reactExports.useState(new Set),[bi,Ei]=reactExports.useState(!1),[xi,Yn]=reactExports.useState(null),[ai,Yi]=reactExports.useState("self_drive"),[Xi,gs]=reactExports.useState(null),[Ms,qr]=reactExports.useState(""),[nr,Cr]=reactExports.useState(()=>typeof window<"u"&&localStorage.getItem("studentName")||""),[Or,xn]=reactExports.useState(()=>typeof window<"u"&&localStorage.getItem("tutorName")||""),[rn,Cn]=reactExports.useState(()=>typeof window<"u"&&localStorage.getItem("tutorAvatar")||""),[Mn,wn]=reactExports.useState("idle"),Fn=reactExports.useRef(null),[ei,Rn]=reactExports.useState(!1),[oi,Xn]=reactExports.useState(!1),[Pi,li]=reactExports.useState(!0),[Os,Za]=reactExports.useState("text"),[Is,xs]=reactExports.useState([]),[Ls,Zi]=reactExports.useState(!1),[na,_a]=reactExports.useState(null),[wi,ia]=reactExports.useState(()=>{if(typeof window<"u"){const cr=localStorage.getItem("ttsVoiceName");if(cr)return cr}return"cmn-CN-Chirp3-HD-Despina"}),Ji=reactExports.useRef(null),[ys,vs]=reactExports.useState(!1),Ds=reactExports.useRef(null);reactExports.useEffect(()=>{const cr=()=>vs(!0);return window.addEventListener("pointerdown",cr,{once:!0}),window.addEventListener("keydown",cr,{once:!0}),()=>{window.removeEventListener("pointerdown",cr),window.removeEventListener("keydown",cr)}},[]),reactExports.useEffect(()=>{if(!Pi)return;let cr=!1;return getSpeechVoices().then(gr=>{if(cr)return;const _r=gr.voices??[];xs(_r.filter(xr=>xr.name).map(xr=>({name:xr.name,ssmlGender:xr.ssmlGender}))),gr.recommended&&_a(gr.recommended),Zi(!0)}).catch(()=>{cr||(xs([]),Zi(!0))}),()=>{cr=!0}},[Pi]);const{isRecording:Si,isProcessing:hn,error:wa,startRecording:Oo,stopRecording:Ja,cancelRecording:Qa}=useSpeechRecognition({language:"cmn-CN",onResult:cr=>{zi(cr)},onError:cr=>{console.error("Speech recognition error:",cr),(cr.message.includes("not configured")||cr.message.includes("credentials"))&&(li(!1),Rn(!1))}}),{isPlaying:Sa,play:os,stop:eo}=useTextToSpeech({language:"cmn-CN",voiceName:wi,onPlayStart:()=>{wn("speaking")},onPlayEnd:()=>{wn("idle")},onError:cr=>{console.error("Text-to-speech error:",cr),(cr.message.includes("not configured")||cr.message.includes("credentials"))&&(li(!1),Xn(!1))}}),Ca="";reactExports.useEffect(()=>{Ji.current=wi},[]),reactExports.useEffect(()=>{Ji.current!==null&&Ji.current!==wi&&(Ji.current=wi,os(Ca).catch(cr=>console.warn("Voice demo failed:",cr)))},[wi,os]),reactExports.useEffect(()=>{if(!ys)return;const cr=Ds.current;cr&&oi&&ei&&Pi&&(Ds.current=null,setTimeout(()=>{os(cr).catch(gr=>{console.warn("Deferred auto-play voice failed:",gr)})},200))},[ys,oi,ei,Pi,os]);const[ls,Qi]=reactExports.useState(()=>typeof window<"u"?!localStorage.getItem("studentName"):!1),[Ni,sa]=reactExports.useState(""),Fs=()=>{const cr=Ni.trim();cr&&(Cr(cr),typeof window<"u"&&(localStorage.setItem("studentName",cr),Or&&localStorage.setItem("tutorName",Or),rn&&localStorage.setItem("tutorAvatar",rn)),Qi(!1))},Di=reactExports.useRef(null),Ll=reactExports.useRef(null),$i=reactExports.useRef(null),bs=reactExports.useRef(new Set),to=reactExports.useRef(!1),Vr=ee.tasks[ut]??ee.tasks[0],nn=Vr.viewType||"text_editor",Es=reactExports.useMemo(()=>parseGuidedPayload(Vr.contentPayload),[Vr.contentPayload]),ja=Es?.keyIdeas||[],cs=Es?.practiceQuestions||[],_s=Es?.exitTicket||null,Fi=nn==="video_player"&&!!Es?.learningObjective,Tn={next:"",inputPlaceholder:"...",aiProcessing:"AI ...",aiSystem:"AI ",stuck:"",done:"",sessionComplete:"",ticketGenerated:"",masteryScore:"",keyTakeaway:"",nextSteps:"",restartLearning:"",endLearning:"",processing:"...",processingTip:'""...',neuralMap:"",radarTitle:"",systemLog:""},Io=cr=>{switch(cr){case"self_drive":return jsxRuntimeExports.jsx(Target,{size:18,className:"text-cyan-600"});case"focus":return jsxRuntimeExports.jsx(Zap,{size:18,className:"text-yellow-600"});case"thinking":return jsxRuntimeExports.jsx(Search,{size:18,className:"text-purple-600"});case"improvement":return jsxRuntimeExports.jsx(TrendingUp,{size:18,className:"text-emerald-600"});default:return jsxRuntimeExports.jsx(Activity,{size:18})}},Dl=reactExports.useCallback(()=>Rt(!0),[]),ro=reactExports.useCallback(()=>Ot(!0),[]),ws=reactExports.useCallback(()=>{Rt(!1),Ot(!1)},[]),aa=reactExports.useCallback(cr=>{if(jt&&Ft.current){const gr=Ft.current.getBoundingClientRect(),_r=(cr.clientX-gr.left)/gr.width*100;if(_r>=25&&_r<=60){const xr=100-_r-15,Tr=Math.min(St,xr);wt(_r),Tr!==St&&Ct(Tr)}}},[jt,_t,St]),Ra=reactExports.useCallback(cr=>{if(Pt&&Ft.current){const gr=Ft.current.getBoundingClientRect(),xr=(cr.clientX-gr.left)/gr.width*100-_t,Tr=100-_t-xr;Tr>=15&&Tr<=35&&xr>=20&&Ct(xr)}},[Pt,_t]);reactExports.useEffect(()=>{if(!(typeof window>"u"))return jt&&(window.addEventListener("mousemove",aa),window.addEventListener("mouseup",ws)),Pt&&(window.addEventListener("mousemove",Ra),window.addEventListener("mouseup",ws)),()=>{window.removeEventListener("mousemove",aa),window.removeEventListener("mousemove",Ra),window.removeEventListener("mouseup",ws)}},[jt,Pt,aa,Ra,ws]),reactExports.useEffect(()=>{Ln(1),qn(1),fn({}),bn({}),mi({}),ii({}),Ki(""),En(!1)},[ut]),reactExports.useEffect(()=>{requestAnimationFrame(()=>{$i.current&&($i.current.scrollTop=$i.current.scrollHeight)})},[ht]),reactExports.useEffect(()=>{if(Fn.current&&(clearTimeout(Fn.current),Fn.current=null),Si)wn("listening");else if(pt.trim().length>0)wn("listening");else if(xt)wn("thinking");else if(Sa)wn("speaking");else if(ht.length>0){const cr=ht[ht.length-1];cr.role==="model"&&Date.now()-cr.timestamp<5e3?(wn("speaking"),Fn.current=setTimeout(()=>{wn("idle"),Fn.current=null},5e3)):wn("idle")}else wn("idle");return()=>{Fn.current&&(clearTimeout(Fn.current),Fn.current=null)}},[xt,ht,Si,Sa,pt]),reactExports.useEffect(()=>{typeof window>"u"||__vitePreload(()=>Promise.resolve().then(()=>mermaid_core),void 0).then(cr=>{cr.default.initialize({startOnLoad:!1,theme:"base",securityLevel:"loose",fontFamily:"sans-serif",themeVariables:{darkMode:!1,background:"#ffffff",primaryColor:"#e0f2fe",edgeLabelBackground:"#ffffff",lineColor:"#334155",textColor:"#0f172a",mainBkg:"#f0f9ff",nodeBorder:"#0284c7"}})}).catch(cr=>{console.error("Failed to load mermaid:",cr)})},[]);const Bi=reactExports.useRef(null),no=async(cr,gr)=>{if(!(typeof window>"u")&&(Bi.current||(Bi.current=`mermaid-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),gr.current))try{const xr=(await __vitePreload(()=>Promise.resolve().then(()=>mermaid_core),void 0)).default,Tr=cr.trim();if(!Tr)return;const Ir=Tr.startsWith("graph")||Tr.startsWith("mindmap")?Tr:`graph TD
  Node["${Tr.replace(/"/g,"'")}"]`,{svg:Dr}=await xr.render(Bi.current,Ir);gr.current&&(gr.current.innerHTML=Dr,gr===Di&&Tt(null))}catch(_r){console.debug("Mermaid render warning:",_r),gr===Di&&Tt("")}};reactExports.useEffect(()=>{if(nn==="mindmap_editor"){const cr=setTimeout(()=>{no(qt,Di)},600);return()=>clearTimeout(cr)}},[qt,nn]),reactExports.useEffect(()=>{(()=>{Ci(`Started Task ${ut+1}: ${Vr.title} (${nn})`),Bt(null),Tt(null),$t(1),It(!1),Wt([]),Yt(!1),ar(""),tr(null),$r({mindMap:0,table:0,text:0,math:0});const gr=Vr.generatedAssetContent;try{if(nn==="mindmap_editor")if(gr){Nt(gr);try{const _r=mermaidToVisualizationData(gr);tr(_r)}catch(_r){console.error("Failed to convert Mermaid to VisualizationData:",_r),tr({type:"mindmap",nodes:[],edges:[],metadata:{}})}}else{const _r=Vr.contentPayload||Vr.assetPrompt||"";if(_r.trim().startsWith("graph")||_r.trim().startsWith("mindmap")){Nt(_r);try{const xr=mermaidToVisualizationData(_r);tr(xr)}catch(xr){console.error("Failed to convert Mermaid to VisualizationData:",xr),tr({type:"mindmap",nodes:[],edges:[],metadata:{}})}}else if(Vr.title?.includes("")||Vr.outputGoal?.includes("")){const Tr=Vr.title||"",Ir=`mindmap
  Root((${Tr}))
    A[]
    B[]`;Nt(Ir);try{const Dr=mermaidToVisualizationData(Ir);tr(Dr)}catch{tr({type:"mindmap",nodes:[{id:"root",label:Tr,type:"concept"}],edges:[],metadata:{centralConcept:Tr}})}}else Nt(`mindmap
  Root(())`),tr({type:"mindmap",nodes:[{id:"root",label:"",type:"concept"}],edges:[],metadata:{centralConcept:""}})}else if(nn==="table_editor")if(gr)try{const _r=JSON.parse(gr);if(_r&&_r.columns&&_r.rows){const xr=Array(_r.rows).fill(null).map(()=>Array(_r.columns.length).fill(""));an({columns:_r.columns,rows:xr})}else throw new Error("")}catch{an({columns:["A","B"],rows:[["",""],["",""]]})}else an({columns:["","",""],rows:[["","",""],["","",""]]});else if(nn==="text_editor"){const _r=Vr.contentPayload||Vr.description||"",Tr=(Ir=>{if(!Ir)return Ir;if(/(\d+\.)/.test(Ir)){const Fr=Ir.split(/(?=\d+\.)/).filter(un=>un.trim());if(Fr.length>1)return Fr.map(un=>un.trim()).join(`

`)}return Ir})(_r);pr(Tr),Bt(Vr.contentPayload)}else if(nn==="math_editor"){(()=>{const xr=Vr.contentPayload||Vr.description||"";return fetch("http://127.0.0.1:7242/ingest/3a151953-f974-4097-816e-92c7e205fad2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"StudentConsole.tsx:453",message:"Initializing math_editor",data:{hasContentPayload:!!Vr.contentPayload,hasDescription:!!Vr.description,rawContentLength:xr?.length||0},timestamp:Date.now(),sessionId:"debug-session",runId:"pre-fix",hypothesisId:"B"})}).catch(()=>{}),null})();const _r=Vr.contentPayload||Vr.description||"";Pr(_r),Bt(Vr.contentPayload)}else if(nn==="video_player"){const _r=(Vr.externalResourceUrl||gr||"").trim();_r&&Bt(_r)}else gr?Bt(gr):Vr.assetPrompt&&(It(!0),generateTaskAsset(Vr.assetType,Vr.assetPrompt,it,Vr.id).then(_r=>{Bt(_r)}).finally(()=>It(!1)))}catch(_r){console.error("Task Init Error",_r)}if(!bs.current.has(ut)){const xr=(()=>{const Ir=Vr.title||"",Fr=(Vr.description||"").substring(0,100).replace(/\n/g," ").trim();return ut===0?Fr?`${nr} 

${Ir}

`:`${nr} 

${Ir}

`:Fr?`${nr}

${Ir}

`:`${nr}

${Ir}

`})(),Tr=Date.now();ft(Ir=>[...Ir,{role:"model",text:xr,timestamp:Tr}]),bs.current.add(ut),ut===0&&oi&&ei&&Pi&&(ys?setTimeout(()=>{os(xr).catch(Ir=>{console.warn("Auto-play greeting voice failed:",Ir)})},500):Ds.current=xr)}})()},[ut,ee]),reactExports.useEffect(()=>{if(ee.tasks[ut]?.viewType!=="mindmap_editor"||!Xt)return;const gr=setInterval(()=>{const _r=Date.now()-Mr;if(_r>12e4&&Ar==="idle"){const xr=generateGuidancePrompt(Xt,"idle",_r);zi(void 0,xr),Gr(Date.now())}},3e4);return()=>clearInterval(gr)},[ee.tasks,ut,Xt,Ar,Mr]);const Ci=cr=>{const gr=new Date().toISOString().substring(11,19);Et(_r=>[..._r,`[${gr}] ${cr}`])},io=reactExports.useCallback(cr=>{const gr=Xt?.nodes.length||0,_r=Xt?.edges.length||0,xr=cr.nodes.length,Tr=cr.edges.length;tr(cr);const Ir={totalNodes:xr,totalEdges:Tr,confusionPoints:cr.metadata?.confusionPoints?.length||0,completionRate:calculateCompletionRate(cr)};if(dr(Ir),en(gr),on(_r),cr.type==="mindmap")try{const Dr=visualizationDataToMermaid(cr);Nt(Dr),$r(Fr=>({...Fr,mindMap:Fr.mindMap+1})),Sn!==null&&_n(!0)}catch(Dr){console.error("Failed to convert VisualizationData to Mermaid:",Dr),Tt(" Mermaid ")}else $r(Dr=>({...Dr,mindMap:Dr.mindMap+1})),Sn!==null&&_n(!0)},[Xt,Sn]),oa=reactExports.useCallback(cr=>{Nr("node_created"),Gr(Date.now()),Ci(`${cr.label}`);const gr=Xt||{type:"mindmap",nodes:[],edges:[],metadata:{}},_r=gr.nodes.length+1;if(shouldTriggerAIFeedback("node_created",Yr,_r,Jr,gr.edges.length)){const Tr={...gr,nodes:[...gr.nodes,cr]},Ir=generateGuidancePrompt(Tr,"node_created",0);zi(void 0,Ir)}},[Xt,Yr,Jr]),la=reactExports.useCallback(cr=>{Nr("idle"),Gr(Date.now()),Ci(`${cr.label}`)},[]),so=reactExports.useCallback(cr=>{Nr("edge_created"),Gr(Date.now());const gr=Xt||{type:"mindmap",nodes:[],edges:[],metadata:{}},_r=gr.nodes.find(Dr=>Dr.id===cr.source),xr=gr.nodes.find(Dr=>Dr.id===cr.target);Ci(`${_r?.label||""} -> ${xr?.label||""}`);const Tr=gr.edges.length+1;if(shouldTriggerAIFeedback("edge_created",Yr,gr.nodes.length,Jr,Tr)){const Dr={...gr,edges:[...gr.edges,cr]},Fr=generateGuidancePrompt(Dr,"edge_created",0);zi(void 0,Fr)}},[Xt,Yr,Jr]),ci=reactExports.useCallback((cr,gr)=>{Nr("confusion_marked"),Gr(Date.now()),Ci(`${gr}`);const xr=generateGuidancePrompt(Xt||{type:"mindmap",nodes:[],edges:[],metadata:{}},"confusion_marked",0);zi(void 0,xr)},[Xt]),Ss=reactExports.useCallback(cr=>{dr(cr)},[]),Ta=reactExports.useCallback(async cr=>{It(!0);try{const gr=`"${cr}"3-5
1. Mermaid mindmap
2. "${cr}"
3. 3-5
4. 
5. mindmap\\n  Root((${cr}))\\n    1\\n    2\\n    ...`,_r=await generateTaskAsset("mindmap_code",gr);if(_r){const xr=mermaidToVisualizationData(_r);return tr(xr),Nt(_r),Ci(`AI${cr}`),xr}else throw new Error("Failed to generate framework")}catch(gr){throw console.error("Failed to generate framework:",gr),gr}finally{It(!1)}},[]),us=()=>{fetch("http://127.0.0.1:7242/ingest/3a151953-f974-4097-816e-92c7e205fad2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"StudentConsole.tsx:492",message:"getTaskContext called",data:{viewType:nn,isMathEditor:nn==="math_editor",hasMathEditorContent:!!vr},timestamp:Date.now(),sessionId:"debug-session",runId:"pre-fix",hypothesisId:"C"})}).catch(()=>{}),null;let cr="";return nn==="mindmap_editor"?Xt?Xt.type==="mindmap"?cr=`Student ${Xt.type==="mindmap"?"Mindmap":Xt.type==="conceptmap"?"Concept Map":"Knowledge Graph"}: 
${qt||JSON.stringify(Xt,null,2)}`:cr=`Student ${Xt.type==="conceptmap"?"Concept Map":"Knowledge Graph"}: 
Nodes: ${Xt.nodes.map(gr=>gr.label).join(", ")}
Edges: ${Xt.edges.length} connections
${JSON.stringify(Xt,null,2)}`:cr=`Student Mindmap Code: 
${qt}`:nn==="table_editor"?cr=`Student Table Data: 
Columns: ${sn.columns.join(", ")}. 
Current Content: ${JSON.stringify(sn.rows)}`:nn==="text_editor"?cr=`Student Text Editor Content: 
${dn}`:nn==="math_editor"?cr=`Student Math Editor Content: 
${vr}`:nn==="image_gallery"?cr="Student is viewing an AI generated image.":nn==="video_player"?cr="Student is watching a video.":nn==="interactive_experiment"?cr="Student is performing an interactive experiment.":cr=`Student is performing task type: ${nn}`,cr},zi=async(cr,gr)=>{const _r=cr||pt;if(!_r.trim()||xt)return;const xr=Date.now(),Tr={role:"user",text:_r,timestamp:xr};ft(Bn=>[...Bn,Tr]),mt(""),yt(!0),wn("thinking"),Ci(`User Input: "${_r}"`),setTimeout(()=>{$i.current&&($i.current.scrollTop=$i.current.scrollHeight)},50);let Ir=us();if(gr&&(Ir+=`
System Note: ${gr}`),nn==="image_gallery"&&Vr.description){const Bn=Vr.description;Ir+=`
Task Description for Image Context: ${Bn.substring(0,500)}`}const Dr=ee.subject||Vr.title||Vr.description||"",Fr=["","","","","","math","physics","chemistry","biology","science"].some(Bn=>Dr.toLowerCase().includes(Bn.toLowerCase()));let un="";nn==="image_gallery"&&Vr.description&&(un=`

## 

${Vr.description.substring(0,800)}
`);const ds=`
## 
- ${Vr.title}
- ${Vr.outputGoal}
- ${Ir}

## 
${Vr.tutorConfig.systemInstruction||""}${un}

## 
- ${Vr.tutorConfig.tone==="Socratic"?"":Vr.tutorConfig.tone}
- 

## 
${Fr?`
****
- " $y=kx+b$"" $y=kx+b$"
- "..."
- """..."
- """"
- LaTeX$$

****
- 
- "...""........."
- 
- ""
`:`
****
- 
- 
- 
`}

## 
- ****
- ****
- ****
- ****

## 
- Markdown****#
- 1
- **** 2-4  60-120 
- LaTeX$$
- ****
- ****
`;try{const Bn=await sendChatMessage(ht.concat(Tr),Tr.text,ds,"zh");ft(zs=>[...zs,{role:"model",text:Bn,timestamp:xr}]),Ci(`AI Response: "${Bn.substring(0,30)}..."`),oi&&ei&&Pi&&setTimeout(()=>{os(Bn).catch(zs=>{console.warn("Auto-play voice failed:",zs)})},500)}catch(Bn){(Bn instanceof Error?Bn.message:String(Bn)).includes("Requested entity was not found")&&ne&&ne(),ft(Aa=>[...Aa,{role:"model",text:"",timestamp:xr}]),wn("idle")}finally{yt(!1),to.current=!1}},ao=()=>{const cr=us(),gr=Fi?`
Guided step ${Kr}/5: ${["","","","",""][Kr-1]||""}
${ca()}`:"";zi("AI ",`Student clicked 'I'm Stuck'. Context: ${cr}${gr}

CRITICAL: Give hints STEP BY STEP, not all at once.
- Give ONLY ONE hint/guidance point in this response (2-3 sentences, max 100 chars)
- Wait for the student to respond or try before giving the next hint
- Only discuss the CURRENT step/task; do NOT mention other task types
- Do NOT give the answer directly
- Do NOT list multiple hints in one response - focus on ONE key point`)},oo=()=>{if(to.current)return;const cr=Date.now();if(Sn!==null&&as&&cr-Sn<300*1e3&&(yn(_r=>_r+1),_n(!1)),mn(cr),Fi){to.current=!0;const xr=["","","","",""][Kr-1]||`${Kr}`,Tr=ca(),Ir=Kr<=2,Dr=`Student clicked 'I'm Done' for guided step ${Kr}: "${xr}".
Task: ${Vr.title}
Goal: ${Vr.outputGoal}
${Tr}

STEP VERIFICATION PROTOCOL (guided flow):
- You are verifying step ${Kr}/5: "${xr}".
- ${Ir?"This is a lightweight step (reading/watching). Acknowledge and approve directly.":"Review the student's work for this step. Be encouraging but check completeness."}
- Language: vivid but concise, 2-4 sentences, max 100 chars.
- Do NOT mention other steps, mindmaps, or unrelated concepts.
- Do NOT repeat content from previous messages.
- CRITICAL: If the step is satisfactorily completed, you MUST end your response with the EXACT marker: [STEP_PASS]
  This marker tells the system to show an "" button.
- If the step is NOT complete, give ONE specific suggestion to improve, then encourage retry. Do NOT include [STEP_PASS].
- Do NOT include [STEP_PASS] unless you truly approve this step.`;zi(`AI ${xr}`,Dr);return}const gr=us();zi("AI ",`Student clicked 'I'm Done'. Context: ${gr}. 
Evaluation Criteria: ${Vr.evaluationCriteria}. 
Output Goal: ${Vr.outputGoal}

CRITICAL TASK COMPLETION PROTOCOL:
1. First, review their work against the outputGoal: "${Vr.outputGoal}"
2. If their work meets the core requirements, give positive feedback
3. If there are gaps, provide 1-2 specific improvement suggestions (but don't be overly strict)
4. MOST IMPORTANT: After evaluation, if the task is substantially complete, you MUST explicitly tell the student:
   "''"
5. Do NOT continue asking questions or requesting more work if the core goal is met
6. Allow students to move forward even if their work isn't perfect - learning is iterative
7. Give immediate positive feedback on what they did well before any suggestions`)},Bs=async()=>{if(!xt&&ut<ee.tasks.length-1){const cr=Vr,gr=us(),_r=ut+1,xr=ee.tasks[_r];It(!1),bs.current.add(_r),dt(_r);const Tr=Math.round((ut+1)/ee.tasks.length*100);ct(Tr,!1,_r),typeof window<"u"&&localStorage.setItem("currentTaskIndex",_r.toString()),$r({mindMap:0,table:0,text:0,math:0}),mn(null),_n(!1),setTimeout(()=>{$i.current&&($i.current.scrollTop=$i.current.scrollHeight)},100);const Ir=`



- ${cr.title}
- ${cr.outputGoal}
- ${cr.evaluationCriteria}
- ${gr}


- ${xr?.title||""}
- ${xr?.outputGoal||""}


1)  1  + 1
2)  1 
3)  Markdown 60-100 
4) 
`;try{yt(!0);const Dr=await sendChatMessage(ht,"",Ir,"zh"),Fr=Date.now();ft(un=>[...un,{role:"model",text:Dr,timestamp:Fr}]),Ci(`AI Transition: "${Dr.substring(0,40)}..."`),oi&&ei&&Pi&&setTimeout(()=>{os(Dr).catch(un=>{console.warn("Transition voice failed:",un)})},300)}catch(Dr){console.error("Transition guidance failed:",Dr)}finally{yt(!1)}}},ca=()=>{const gr=["","","","",""][Kr-1]||`${Kr}`;if(Kr===1)return`${gr}`;if(Kr===2)return`${gr}`;if(Kr===3){const _r=ja.reduce((Ir,Dr)=>{const Fr=Math.max(0,Dr.text.split("__KEY__").length-1);return Ir+(Fr>0?Fr:1)},0),xr=ja.reduce((Ir,Dr,Fr)=>{const un=Math.max(0,Dr.text.split("__KEY__").length-1);return un>0?Ir+Array.from({length:un}).filter((ds,Bn)=>(vn[`blank-${Fr}-${Bn}`]||"").trim().length>0).length:Ir+((vn[`idea-${Fr}`]||"").trim().length>0?1:0)},0),Tr=ja.map((Ir,Dr)=>{const Fr=Math.max(0,Ir.text.split("__KEY__").length-1);return Fr>0?Array.from({length:Fr}).map((un,ds)=>vn[`blank-${Dr}-${ds}`]||""):[vn[`idea-${Dr}`]||""]});return`${gr} ${xr}/${_r}${JSON.stringify(Tr)}`}if(Kr===4){const _r=cs.length,xr=cs.filter((Ir,Dr)=>extractQuestionStemAndOptions(Ir.question||"",Ir.options).options.length>0?typeof ni[Dr]=="number":($n[Dr]||"").trim().length>0).length,Tr=cs.map((Ir,Dr)=>{const Fr=extractQuestionStemAndOptions(Ir.question||"",Ir.options);return Fr.options.length>0&&typeof ni[Dr]=="number"?`Q${Dr+1}: ${String.fromCharCode(65+ni[Dr])}. ${Fr.options[ni[Dr]]||""}`:`Q${Dr+1}: ${$n[Dr]||"()"}`});return`${gr} ${xr}/${_r}${Tr.join("")}`}return Kr===5?`${gr}${gi||"()"}`:`${gr}`},Lo=()=>{if(Kr<5){const cr=Kr+1;qn(gr=>Math.max(gr,cr)),Ln(cr)}else ut<ee.tasks.length-1?Bs():Do()},Fl=cr=>["",".*","",".*","",".*",""].some(_r=>{try{return new RegExp(_r,"i").test(cr)}catch{return cr.includes(_r)}});reactExports.useEffect(()=>{const cr=["",".*","",".*","",".*",""],gr=_r=>cr.some(xr=>{try{return new RegExp(xr,"i").test(_r)}catch{return _r.includes(xr)}});ht.forEach(_r=>{_r.role==="model"&&gr(_r.text)&&si(xr=>xr.has(ut)?xr:new Set([...xr,ut]))})},[ht,ut]);const Bl=(cr,gr,_r)=>{const xr=[];gr.map(Wr=>{try{const Hn=Wr.match(/\[(\d{2}):(\d{2}):(\d{2})\]/);if(Hn&&Hn.length>=4){const co=parseInt(Hn[1],10),uo=parseInt(Hn[2],10),Cs=parseInt(Hn[3],10);if(!isNaN(co)&&!isNaN(uo)&&!isNaN(Cs)){const Vo=co*3600+uo*60+Cs;return xr.push(Vo),{timestamp:Vo,text:Wr}}}}catch{}return{timestamp:0,text:Wr}});const Tr=xr.filter(Wr=>Wr>0).sort((Wr,Hn)=>Wr-Hn),Ir=[];for(let Wr=1;Wr<Tr.length;Wr++){const Hn=Tr[Wr]-Tr[Wr-1];Hn>0&&Hn<86400&&Ir.push(Hn)}const Dr=cr.filter(Wr=>Wr.role==="user").map(Wr=>Wr.text),Fr=Dr.map(Wr=>Wr.length),un=Fr.length>0?Fr.reduce((Wr,Hn)=>Wr+Hn,0)/Fr.length:0,ds=["?","","","","","","","",""],Bn=Dr.filter(Wr=>ds.some(Hn=>Wr.includes(Hn))).length,zs=gr.filter(Wr=>Wr.includes("")||Wr.includes("stuck")).length,Aa=gr.filter(Wr=>Wr.includes("")||Wr.includes("done")).length,Hl=gr.filter(Wr=>Wr.includes("")||Wr.includes("evaluate")).length,Fo=gr.filter(Wr=>Wr.includes("mindmap")||Wr.includes("")).length,Bo=gr.filter(Wr=>Wr.includes("table")||Wr.includes("")).length,zo=gr.filter(Wr=>Wr.includes("text")||Wr.includes("")).length,qo=gr.filter(Wr=>Wr.includes("math")||Wr.includes("")).length,Vl=Fo+Bo+zo+qo,Ul=gr.filter(Wr=>Wr.includes("Started Task")||Wr.includes("")).length,Pa=Tr.length>0&&Tr[Tr.length-1]>Tr[0]?Tr[Tr.length-1]-Tr[0]:0,qs=Ir.length>0?Ir.reduce((Wr,Hn)=>Wr+Hn,0)/Ir.length:0,Wl=Ir.filter(Wr=>Wr>300).length,Ho=Ir.filter(Wr=>Wr<30).length;return{averageInputLength:isNaN(un)?0:un,totalInputs:Dr.length||0,shortInputs:Fr.filter(Wr=>Wr<10).length||0,longInputs:Fr.filter(Wr=>Wr>200).length||0,totalQuestions:Bn||0,stuckClicks:zs||0,doneClicks:Aa||0,evaluateClicks:Hl||0,totalSessionTime:isNaN(Pa)?0:Pa,averageTimeBetweenActions:isNaN(qs)?0:qs,longGaps:Wl||0,shortGaps:Ho||0,totalEdits:Vl||0,mindMapEdits:Fo||0,tableEdits:Bo||0,textEdits:zo||0,mathEdits:qo||0,tasksCompleted:_r||0,tasksSkipped:0,taskSwitchCount:Ul||0}},Do=async()=>{const cr=nn==="mindmap_editor"?qt:void 0,gr=vt.join(`
`);let _r;try{_r=Bl(ht,vt,ee.tasks.length),console.log("[StudentConsole] Extracted objective metrics:",_r)}catch(xr){console.error("[StudentConsole] Error extracting objective metrics:",xr),_r=void 0}ct(100,!0,ee.tasks.length-1),qr(gr),cr&&gs(cr),Ei(!0),Yn(null);try{console.log("[StudentConsole] Calling generateExitTicket with:",{logLength:gr.length,studentName:nr,hasObjectiveMetrics:!!_r});const xr=await generateExitTicket(gr,"zh",nr,_r);console.log("[StudentConsole] Exit ticket generated successfully"),Yn(xr),xr&&Array.isArray(xr.characteristics)&&xr.characteristics.length>0&&Yi(xr.characteristics[0].key)}catch(xr){console.error("[StudentConsole] Error generating exit ticket:",xr),xr instanceof Error&&(console.error("[StudentConsole] Error message:",xr.message),console.error("[StudentConsole] Error stack:",xr.stack)),Yn(null)}},lo=()=>{Ei(!1),Yn(null),qr(""),gs(null),dt(0),typeof window<"u"&&localStorage.removeItem("currentTaskIndex"),ft([]),Et([]),Nt(""),an({columns:[],rows:[]}),pr(""),Pr(""),Bt(null),Wt([]),Yt(!1),ar(""),$r({mindMap:0,table:0,text:0,math:0})},zl=()=>{typeof window<"u"&&(window.close(),setTimeout(()=>{document.hidden||(window.location.href="/")},100))};if(ls)return jsxRuntimeExports.jsx("div",{className:"relative min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-slate-800 font-sans",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl max-w-md w-full animate-fade-in-up",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-cyan-100 mb-4 border border-cyan-200",children:jsxRuntimeExports.jsx(BookOpen,{size:32,className:"text-cyan-600"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 text-sm",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:""}),jsxRuntimeExports.jsx("input",{type:"text",value:Ni,onChange:cr=>sa(cr.target.value),onKeyDown:cr=>{cr.key==="Enter"&&Ni.trim()&&Fs()},placeholder:"...",className:"w-full px-4 py-3 bg-slate-50 border border-slate-300 rounded-xl text-slate-800 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all",autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(Sparkles,{size:16,className:"text-purple-600"}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"AI"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1.5",children:"AI"}),jsxRuntimeExports.jsx("input",{type:"text",value:Or,onChange:cr=>xn(cr.target.value),placeholder:"...",className:"w-full px-3 py-2 bg-slate-50 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1.5",children:"AIemoji"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:rn,onChange:cr=>Cn(cr.target.value||""),placeholder:"",maxLength:2,className:"w-16 px-3 py-2 bg-slate-50 border border-slate-300 rounded-lg text-slate-800 text-lg text-center focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all"}),jsxRuntimeExports.jsx("div",{className:"flex-1 text-xs text-slate-400",children:"emoji"})]})]})]})]}),jsxRuntimeExports.jsxs("button",{onClick:Fs,disabled:!Ni.trim(),className:"w-full px-6 py-3 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-bold rounded-xl transition-all shadow-lg hover:shadow-cyan-600/30 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:20})," "]}),jsxRuntimeExports.jsx("button",{onClick:()=>{Cr(""),Qi(!1)},className:"w-full px-6 py-2 text-slate-500 hover:text-slate-700 text-sm transition-colors",children:""})]})]})});if(bi&&!xi)return jsxRuntimeExports.jsx("div",{className:"relative min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-slate-800 font-sans overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"z-10 text-center max-w-md animate-fade-in-up",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-16 h-16 text-cyan-600 animate-spin mx-auto mb-8"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:Tn.processing}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mb-8 leading-relaxed border-l-2 border-cyan-500 pl-4 text-left italic bg-white p-4 rounded-r-lg shadow-sm",children:Tn.processingTip}),jsxRuntimeExports.jsx("div",{className:"h-1 w-48 bg-slate-200 rounded-full mx-auto overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-cyan-500 animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite] w-full origin-left"})})]})});if(bi&&xi){const cr=xi.characteristics.map(xr=>({subject:xr.name,A:xr.score,fullMark:100,key:xr.key})),gr=xi.characteristics.find(xr=>xr.key===ai),_r=gr?gr.dimensions.map(xr=>({name:xr.name.split(" ")[0],fullName:xr.name,score:xr.score,comment:xr.comment})):[];return jsxRuntimeExports.jsx("div",{className:"relative min-h-screen bg-slate-50 p-6 text-slate-800 font-sans overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-100 mb-4 border border-emerald-200",children:jsxRuntimeExports.jsx(Award,{size:32,className:"text-emerald-600"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:Tn.sessionComplete}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 uppercase tracking-widest text-xs",children:Tn.ticketGenerated})]}),jsxRuntimeExports.jsx("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl transition-all hover:shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-none w-full md:w-auto md:min-w-[200px] text-center md:text-left md:border-r border-slate-100 md:pr-8 pb-6 md:pb-0 border-b md:border-b-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-xs uppercase font-bold text-slate-400 mb-3",children:Tn.masteryScore}),jsxRuntimeExports.jsxs("div",{className:"flex items-baseline justify-center md:justify-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-7xl font-bold text-emerald-600 tracking-tighter",children:xi.overallScore}),jsxRuntimeExports.jsx("span",{className:"text-xl text-slate-400 font-medium",children:"/100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xs uppercase font-bold text-slate-400 mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Star,{size:14,className:"text-amber-500"})," ",Tn.keyTakeaway]}),jsxRuntimeExports.jsx("p",{className:"text-lg leading-relaxed text-slate-800 font-medium",children:xi.summary})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-white p-8 rounded-3xl border border-indigo-100 shadow-lg",children:[jsxRuntimeExports.jsxs("h3",{className:"text-indigo-700 font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wider",children:[jsxRuntimeExports.jsx(List,{size:18})," ",Tn.nextSteps]}),jsxRuntimeExports.jsx("p",{className:"text-slate-700 text-md leading-relaxed",children:xi.nextSteps})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-bold text-slate-500 mb-8 uppercase w-full flex items-center gap-2 border-b border-slate-100 pb-4",children:[jsxRuntimeExports.jsx(Activity,{size:18,className:"text-purple-600"})," ",Tn.radarTitle]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"h-72 w-full relative",children:[jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(RadarChart,{cx:"50%",cy:"50%",outerRadius:"75%",data:cr,children:[jsxRuntimeExports.jsx(PolarGrid,{stroke:"#e2e8f0"}),jsxRuntimeExports.jsx(PolarAngleAxis,{dataKey:"subject",tick:{fill:"#64748b",fontSize:12,fontWeight:"bold"}}),jsxRuntimeExports.jsx(PolarRadiusAxis,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),jsxRuntimeExports.jsx(Radar,{name:nr,dataKey:"A",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})}),jsxRuntimeExports.jsx("div",{className:"text-center text-xs text-slate-400 mt-2",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:xi.characteristics.map(xr=>jsxRuntimeExports.jsxs("button",{onClick:()=>Yi(xr.key),className:`p-4 rounded-xl border text-left transition-all ${ai===xr.key?"bg-purple-50 border-purple-300 ring-2 ring-purple-200 shadow-sm":"bg-slate-50 border-slate-200 hover:bg-white hover:shadow-md"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Io(xr.key),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-slate-800",children:xr.score})]}),jsxRuntimeExports.jsx("div",{className:"text-xs font-bold text-slate-600",children:xr.name})]},xr.key))})]}),gr&&jsxRuntimeExports.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 animate-fade-in-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[Io(gr.key),jsxRuntimeExports.jsxs("h3",{className:"font-bold text-lg text-slate-800",children:[gr.name," - "]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"h-60 w-full bg-slate-50 rounded-xl p-4 border border-slate-100",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:_r,layout:"vertical",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",horizontal:!1}),jsxRuntimeExports.jsx(XAxis,{type:"number",domain:[0,100],hide:!0}),jsxRuntimeExports.jsx(YAxis,{dataKey:"fullName",type:"category",width:120,tick:{fontSize:11,fill:"#64748b"},interval:0}),jsxRuntimeExports.jsx(Tooltip,{cursor:{fill:"transparent"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"score",fill:"#10b981",radius:[0,4,4,0],barSize:20})]})})}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:gr.dimensions.map((xr,Tr)=>jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-bold bg-white border border-slate-200 px-2 py-0.5 rounded text-slate-600",children:xr.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-emerald-600",children:[xr.score,"/100"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:xr.comment})]},Tr))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-bold text-slate-500 mb-6 uppercase w-full flex items-center gap-2 border-b border-slate-100 pb-4",children:[jsxRuntimeExports.jsx(Brain,{size:18,className:"text-cyan-600"})," ",Tn.neuralMap]}),jsxRuntimeExports.jsx("div",{className:"w-full h-[500px] bg-slate-50/50 rounded-2xl border border-slate-100 relative overflow-hidden",children:Xi?jsxRuntimeExports.jsx(MermaidPreview,{code:Xi,idPrefix:"mermaid-exit",errorMessage:""}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full text-sm text-slate-400",children:""})})]}),ee.learningGoals&&ee.learningGoals.length>0||ee.bigConcept?jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white p-8 rounded-3xl border border-amber-100 shadow-lg",children:[jsxRuntimeExports.jsxs("h3",{className:"text-amber-700 font-bold mb-6 flex items-center gap-2 text-sm uppercase tracking-wider",children:[jsxRuntimeExports.jsx(BookOpen,{size:18})," "]}),ee.bigConcept&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-amber-600 mb-2 uppercase tracking-wider",children:""}),jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-xl border border-amber-200",children:jsxRuntimeExports.jsx("div",{className:"text-slate-700 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:ee.bigConcept})})})]}),ee.learningGoals&&ee.learningGoals.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-amber-600 mb-3 uppercase tracking-wider",children:""}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ee.learningGoals.map((xr,Tr)=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl border border-amber-200 flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center text-xs font-bold",children:Tr+1}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"text-slate-700 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:xr.text})})})]},xr.id||Tr))})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xs text-amber-600 italic",children:" "})]}):null,jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xs uppercase font-bold text-slate-400 mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(List,{size:14})," ",Tn.systemLog]}),jsxRuntimeExports.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 max-h-60 overflow-y-auto font-mono text-[11px] text-slate-500 leading-normal custom-scrollbar",children:Ms.split(`
`).map((xr,Tr)=>jsxRuntimeExports.jsx("div",{className:"mb-2 border-l-2 border-slate-300 pl-3",children:xr},Tr))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 pt-8 pb-12",children:[jsxRuntimeExports.jsxs("button",{onClick:lo,className:"px-8 py-4 bg-cyan-600 hover:bg-cyan-700 rounded-full text-white font-bold transition-all shadow-lg hover:shadow-cyan-600/30 flex items-center gap-3 transform hover:-translate-y-1 active:translate-y-0",children:[jsxRuntimeExports.jsx(RefreshCcw,{size:20})," ",Tn.restartLearning]}),jsxRuntimeExports.jsxs("button",{onClick:zl,className:"px-8 py-4 bg-slate-600 hover:bg-slate-700 rounded-full text-white font-bold transition-all shadow-lg hover:shadow-slate-600/30 flex items-center gap-3 transform hover:-translate-y-1 active:translate-y-0",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:20})," ",Tn.endLearning]})]})]})})}const ql=()=>{if(fetch("http://127.0.0.1:7242/ingest/3a151953-f974-4097-816e-92c7e205fad2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"StudentConsole.tsx:896",message:"renderLeftWorkspace called",data:{viewType:nn,hasMathEditorContent:!!vr,mathEditorContentLength:vr?.length||0},timestamp:Date.now(),sessionId:"debug-session",runId:"pre-fix",hypothesisId:"A"})}).catch(()=>{}),null,Fi){const cr=Vr.externalResourceUrl||(typeof Lt=="string"?Lt:"")||"",gr=extractYouTubeVideoId(cr),_r=["","","","",""];return jsxRuntimeExports.jsxs("div",{className:"w-full h-full bg-slate-50/30 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 border-b border-slate-200 bg-white",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 gap-2",children:_r.map((xr,Tr)=>{const Ir=Tr+1,Dr=Kr===Ir,Fr=Ir<=kn,un=Fr;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{un&&Ln(Ir)},disabled:!un&&!Dr,className:`rounded-md border px-2 py-2 text-[11px] font-medium transition-colors ${Dr?"bg-cyan-100 border-cyan-300 text-cyan-800":Fr?"bg-emerald-50 border-emerald-200 text-emerald-700 cursor-pointer hover:bg-emerald-100":"bg-white border-slate-200 text-slate-400 cursor-not-allowed"}`,children:[Fr&&!Dr&&jsxRuntimeExports.jsx(CircleCheckBig,{size:10,className:"inline mr-1 -mt-0.5"}),Ir,". ",xr]},xr)})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-5",children:[Kr===1&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-3",children:""}),jsxRuntimeExports.jsx("p",{className:"text-slate-700 leading-relaxed",children:Es?.learningObjective||Vr.outputGoal||""})]}),Kr===2&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-3 px-2",children:""}),jsxRuntimeExports.jsx("div",{className:"rounded-lg overflow-hidden bg-black/80",children:gr?jsxRuntimeExports.jsx("iframe",{src:`https://www.youtube.com/embed/${gr}`,title:"",className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):cr?jsxRuntimeExports.jsx("video",{controls:!0,className:"w-full aspect-video",src:cr,children:""}):jsxRuntimeExports.jsx("div",{className:"aspect-video flex items-center justify-center text-slate-300 text-sm",children:""})})]}),Kr===3&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:""}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 mb-4",children:""}),jsxRuntimeExports.jsx("div",{className:"space-y-5",children:ja.map((xr,Tr)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 w-7 h-7 rounded-full bg-emerald-500 text-white text-xs font-bold flex items-center justify-center shrink-0",children:Tr+1}),jsxRuntimeExports.jsxs("div",{className:"flex-1 rounded-lg border border-slate-200 p-4 bg-white shadow-sm",children:[(()=>{const Ir=xr.text.split("__KEY__");return Math.max(0,Ir.length-1)>0?jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-700 leading-8 flex flex-wrap items-center",children:Ir.map((Fr,un)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(MathTextPreview,{text:Fr,className:"inline text-sm text-slate-700 [&_p]:inline [&_p]:mb-0 [&>div]:inline"}),un<Ir.length-1&&jsxRuntimeExports.jsx("input",{type:"text",value:vn[`blank-${Tr}-${un}`]||"",onChange:ds=>fn(Bn=>({...Bn,[`blank-${Tr}-${un}`]:ds.target.value})),placeholder:`${un+1}`,className:"mx-1 inline-block h-7 min-w-[72px] max-w-[120px] rounded-md border border-emerald-300 bg-emerald-50 px-2 text-xs text-emerald-700 align-middle focus:outline-none focus:ring-2 focus:ring-emerald-200"})]},un))}):jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-sm text-slate-700 leading-7",children:[jsxRuntimeExports.jsx(MathTextPreview,{text:xr.text,className:"text-sm text-slate-700"}),jsxRuntimeExports.jsx("input",{type:"text",value:vn[`idea-${Tr}`]||"",onChange:Fr=>fn(un=>({...un,[`idea-${Tr}`]:Fr.target.value})),placeholder:"",className:"inline-block h-7 min-w-[72px] max-w-[120px] rounded-md border border-emerald-300 bg-emerald-50 px-2 text-xs text-emerald-700 align-middle focus:outline-none focus:ring-2 focus:ring-emerald-200"})]})})(),xr.blanks&&xr.blanks.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500 mt-3 flex gap-1 items-start",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx(MathTextPreview,{text:xr.blanks.join(""),className:"text-xs text-slate-500 [&_p]:mb-0 inline"})]})]})]},Tr))})]}),Kr===4&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:""}),jsxRuntimeExports.jsx("div",{className:"space-y-5",children:cs.map((xr,Tr)=>{const Ir=extractQuestionStemAndOptions(xr.question||"",xr.options);return jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-slate-200 p-4 bg-slate-50/60",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-semibold text-slate-800 mb-3 flex gap-1",children:[jsxRuntimeExports.jsxs("span",{children:[Tr+1,"."]}),jsxRuntimeExports.jsx(MathTextPreview,{text:Ir.stem,className:"text-sm font-semibold text-slate-800 [&_p]:mb-0"})]}),Ir.options.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Ir.options.map((Dr,Fr)=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>mi(un=>({...un,[Tr]:Fr})),className:`w-full text-left rounded-md border px-3 py-2 text-sm transition-colors ${ni[Tr]===Fr?"bg-cyan-50 border-cyan-300 text-cyan-800":"bg-white border-slate-300 text-slate-700"}`,children:jsxRuntimeExports.jsxs("span",{className:"flex gap-1 items-start",children:[jsxRuntimeExports.jsxs("span",{children:[String.fromCharCode(65+Fr),"."]}),jsxRuntimeExports.jsx(MathTextPreview,{text:Dr,className:"text-sm [&_p]:mb-0 inline"})]})},`${Tr}-${Fr}`))}):jsxRuntimeExports.jsx("textarea",{value:$n[Tr]||"",onChange:Dr=>bn(Fr=>({...Fr,[Tr]:Dr.target.value})),placeholder:"",className:"w-full min-h-[90px] rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-200 resize-y"}),xr.correctAnswer&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ii(Dr=>({...Dr,[Tr]:!Dr[Tr]})),className:"text-xs text-slate-700 border border-slate-300 rounded-full px-3 py-1 bg-white hover:bg-slate-100",children:Wn[Tr]?"":""}),Wn[Tr]&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-emerald-700 mt-2 flex gap-1 items-start",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx(MathTextPreview,{text:xr.correctAnswer,className:"text-xs text-emerald-700 [&_p]:mb-0 inline"})]})]})]},Tr)})})]}),Kr===5&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:""}),jsxRuntimeExports.jsx(MathTextPreview,{text:_s?.question||"1-2",className:"text-sm text-slate-800 mb-3 [&_p]:mb-0"}),jsxRuntimeExports.jsx("textarea",{value:gi,onChange:xr=>Ki(xr.target.value),placeholder:"",className:"w-full min-h-[110px] rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-200 resize-y"}),_s?.correctAnswer&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>En(xr=>!xr),className:"text-xs text-slate-700 border border-slate-300 rounded-full px-3 py-1 bg-white hover:bg-slate-100",children:Li?"":""}),Li&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-emerald-700 mt-2 flex gap-1 items-start",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx(MathTextPreview,{text:_s.correctAnswer,className:"text-xs text-emerald-700 [&_p]:mb-0 inline"})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"shrink-0 border-t border-slate-200 bg-white p-3 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500",children:[" ",jsxRuntimeExports.jsx("span",{className:"font-bold text-green-700",children:'""'})," "]})})]})}if(nn==="table_editor")return jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-white flex flex-col relative",children:jsxRuntimeExports.jsx("div",{className:"flex-1 p-8 overflow-auto custom-scrollbar bg-slate-50/30",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100 border-b border-slate-200",children:jsxRuntimeExports.jsx("tr",{children:sn.columns.map((cr,gr)=>jsxRuntimeExports.jsx("th",{className:"px-6 py-4 font-bold tracking-wider",children:cr},gr))})}),jsxRuntimeExports.jsx("tbody",{children:sn.rows.map((cr,gr)=>jsxRuntimeExports.jsx("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50 transition-colors",children:cr.map((_r,xr)=>jsxRuntimeExports.jsx("td",{className:"p-2 border-r border-slate-100 last:border-r-0",children:jsxRuntimeExports.jsx("textarea",{className:"w-full h-24 p-3 bg-transparent resize-none focus:outline-none focus:bg-cyan-50/50 rounded transition-colors text-slate-800 leading-relaxed placeholder-slate-300",placeholder:"...",value:_r,onChange:Tr=>{const Ir=[...sn.rows];Ir[gr][xr]=Tr.target.value,an({...sn,rows:Ir}),$r(Dr=>({...Dr,table:Dr.table+1})),Sn!==null&&_n(!0)}})},xr))},gr))})]}),jsxRuntimeExports.jsx("div",{className:"bg-slate-50 p-2 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>{const cr=Array(sn.columns.length).fill("");an({...sn,rows:[...sn.rows,cr]})},className:"text-xs text-slate-500 hover:text-cyan-600 font-bold py-2 w-full flex items-center justify-center gap-1",children:"+ "})})]})})});if(nn==="mindmap_editor"){const cr=Vr.title||Vr.outputGoal||"";return jsxRuntimeExports.jsxs("div",{className:"w-full h-full bg-white flex flex-col relative border-r border-slate-200",children:[Xt&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2 z-50",children:jsxRuntimeExports.jsx("button",{onClick:()=>Zt(!0),className:"p-2 rounded-lg bg-white/90 hover:bg-white border border-slate-200 shadow-md transition-all hover:shadow-lg text-slate-700 hover:text-slate-900",title:"",children:jsxRuntimeExports.jsx(Maximize,{size:16})})}),Gt&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 z-50 bg-white/80 backdrop-blur-sm flex items-center justify-center flex-col gap-2 animate-fade-in",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:32,className:"animate-spin text-purple-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-slate-500",children:"AI ..."})]}),Xt?jsxRuntimeExports.jsx(VisualizationEditor,{initialData:Xt,onChange:io,editable:!0,courseTopic:cr,onGenerateFramework:Ta,onNodeCreated:oa,onNodeEdited:la,onEdgeCreated:so,onConfusionMarked:ci,onProgressUpdate:Ss}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:"..."})]})}return nn==="text_editor"?jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col bg-white shadow-inner",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 font-bold text-sm",children:[jsxRuntimeExports.jsx(FileText,{size:16})," "]}),jsxRuntimeExports.jsx("button",{onClick:()=>sr(!Er),className:"px-3 py-1.5 text-xs font-medium bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 flex items-center gap-1",children:Er?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SquarePen,{size:14})," "]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Eye,{size:14})," "]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 relative bg-white",children:Er?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-full h-full p-8 overflow-y-auto custom-scrollbar",children:jsxRuntimeExports.jsx(MathTextPreview,{text:dn||""})}):jsxRuntimeExports.jsx("textarea",{className:"absolute inset-0 w-full h-full p-8 resize-none focus:outline-none text-slate-900 bg-white leading-relaxed text-sm placeholder-slate-400 custom-scrollbar whitespace-pre-wrap",placeholder:"... LaTeX $x^2 + y^2 = r^2$  $$\\\\frac{-b \\\\pm \\\\sqrt{b^2-4ac}}{2a}$$",value:dn,onChange:cr=>{pr(cr.target.value),cr.target.value!==dn&&cr.target.value.length>0&&($r(gr=>({...gr,text:gr.text+1})),Sn!==null&&_n(!0))}})})]}):nn==="math_editor"?(fetch("http://127.0.0.1:7242/ingest/3a151953-f974-4097-816e-92c7e205fad2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"StudentConsole.tsx:1062",message:"math_editor viewType detected",data:{mathEditorContent:vr,mathEditorContentLength:vr?.length||0},timestamp:Date.now(),sessionId:"debug-session",runId:"pre-fix",hypothesisId:"A"})}).catch(()=>{}),null,jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col bg-white shadow-inner",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-bold text-sm",children:[jsxRuntimeExports.jsx(Type$2,{size:16})," "]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 relative bg-white",children:jsxRuntimeExports.jsx("textarea",{className:"absolute inset-0 w-full h-full p-8 resize-none focus:outline-none text-slate-900 bg-white leading-relaxed text-sm placeholder-slate-400 custom-scrollbar font-mono",placeholder:" LaTeX $x^2 + y^2 = r^2$  $$\\\\frac{-b \\\\pm \\\\sqrt{b^2-4ac}}{2a}$$",value:vr,onChange:cr=>{Pr(cr.target.value),cr.target.value!==vr&&cr.target.value.length>0&&($r(gr=>({...gr,math:gr.math+1})),Sn!==null&&_n(!0))}})})]})):nn==="interactive_experiment"?jsxRuntimeExports.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center relative bg-white",children:Gt?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:48,className:"animate-spin text-cyan-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-slate-500",children:"..."})]}):Lt?jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col relative",children:[jsxRuntimeExports.jsxs("div",{className:"h-8 bg-slate-100 border-b border-slate-200 flex items-center justify-between px-4 text-[10px] text-slate-500 shrink-0",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold flex items-center gap-1",children:[jsxRuntimeExports.jsx(Sparkles,{size:12})," "]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Lt.trim().startsWith("http")?jsxRuntimeExports.jsxs("span",{className:"text-cyan-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Globe,{size:12})," PhET "]}):jsxRuntimeExports.jsxs("span",{className:"text-purple-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Brain,{size:12})," AI "]}),jsxRuntimeExports.jsx("button",{onClick:()=>ur(!0),className:"p-1.5 rounded-lg hover:bg-slate-200 transition-colors text-slate-600 hover:text-slate-800",title:"",children:jsxRuntimeExports.jsx(Maximize,{size:14})})]})]}),jsxRuntimeExports.jsx("iframe",{src:Lt.trim().startsWith("http")?Lt:void 0,srcDoc:Lt.trim().startsWith("http")?void 0:Lt,className:"w-full flex-1 border-none",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",title:""})]}):jsxRuntimeExports.jsxs("div",{className:"text-slate-400 flex flex-col items-center select-none",children:[jsxRuntimeExports.jsx(Image$2,{size:64,className:"mb-4 opacity-20"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono uppercase tracking-widest opacity-50",children:""})]})}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center relative group p-6 bg-slate-50/50",children:Gt?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:32,className:"animate-spin text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-slate-400",children:"..."})]}):Lt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[nn==="image_gallery"&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-xl overflow-hidden shadow-2xl border border-slate-200 max-h-full bg-white",children:[(fetch("http://127.0.0.1:7242/ingest/3a151953-f974-4097-816e-92c7e205fad2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"StudentConsole.tsx:1000",message:"Rendering image gallery",data:{hasDescription:!!Vr.description,descriptionLength:Vr.description?.length||0,taskId:Vr.id},timestamp:Date.now(),sessionId:"debug-session",runId:"pre-fix",hypothesisId:"C"})}).catch(()=>{}),null),jsxRuntimeExports.jsx("div",{className:"relative flex-1 flex items-center justify-center bg-black/5 min-h-[200px]",children:jsxRuntimeExports.jsx("img",{src:Lt,alt:"AI Generated",className:"max-w-full max-h-[70vh] object-contain"})}),jsxRuntimeExports.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-2 text-[10px] text-slate-500 px-4 border-t border-slate-100",children:" Gemini Imagen 3 "})]}),nn==="video_player"&&jsxRuntimeExports.jsxs("div",{className:"w-full max-w-3xl space-y-4 bg-black rounded-lg overflow-hidden shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-900 text-cyan-400 border-b border-slate-800",children:[jsxRuntimeExports.jsx(Video,{size:18}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:""})]}),(()=>{const cr=typeof Lt=="string"?Lt:"",gr=extractYouTubeVideoId(cr);return gr?jsxRuntimeExports.jsx("iframe",{src:`https://www.youtube.com/embed/${gr}`,title:"",className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):jsxRuntimeExports.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,className:"w-full aspect-video",src:cr,children:""})})()]})]}):jsxRuntimeExports.jsxs("div",{className:"text-slate-400 flex flex-col items-center select-none",children:[jsxRuntimeExports.jsx(Image$2,{size:64,className:"mb-4 opacity-20"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono uppercase tracking-widest opacity-50",children:""})]})})};return jsxRuntimeExports.jsxs("div",{ref:Ft,className:"flex w-full bg-slate-50 text-slate-800 overflow-hidden font-sans selection:bg-cyan-200",style:{minHeight:"100vh",height:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{width:`${_t}%`},className:"h-full flex flex-col bg-white relative shrink-0 border-r border-slate-200 min-h-0",children:[(jt||Pt)&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})," ",jsxRuntimeExports.jsxs("div",{className:"bg-white border-b border-slate-200 p-5 shrink-0 z-20 shadow-sm space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-0.5",children:[" ",ut+1]}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 truncate",title:Vr.title,children:Vr.title})]}),jsxRuntimeExports.jsx("div",{className:"h-8 w-px bg-slate-200 mx-2 hidden md:block"}),jsxRuntimeExports.jsx("span",{className:`text-[10px] uppercase font-bold px-2 py-1 rounded border whitespace-nowrap hidden md:inline-block ${nn==="table_editor"?"bg-amber-50 text-amber-700 border-amber-200":nn==="mindmap_editor"||nn==="math_editor"?"bg-purple-50 text-purple-700 border-purple-200":nn==="text_editor"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-slate-50 text-slate-500 border-slate-200"}`,children:VIEW_TYPE_LABELS[nn]||nn}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[jsxRuntimeExports.jsxs("button",{onClick:ao,className:"flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold bg-amber-100 text-amber-700 hover:bg-amber-200 border border-amber-200 transition-colors shadow-sm",children:[jsxRuntimeExports.jsx(CircleHelp,{size:14})," ",Tn.stuck]}),jsxRuntimeExports.jsxs("button",{onClick:oo,className:"flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold bg-green-100 text-green-700 hover:bg-green-200 border border-green-200 transition-colors shadow-sm",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:14})," ",Tn.done]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1.5 shrink-0 ml-4",children:ee.tasks.map((cr,gr)=>jsxRuntimeExports.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${gr===ut?"bg-cyan-500 w-6":gr<ut?"bg-cyan-200 w-2":"bg-slate-200 w-2"}`},gr))})]}),jsxRuntimeExports.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-4 text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"bg-cyan-100 text-cyan-800 text-[10px] font-bold px-1.5 py-0.5 rounded",children:""}),jsxRuntimeExports.jsx("span",{className:"text-slate-600 text-xs font-medium",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Es?.learningObjective||Vr.outputGoal||""})})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative bg-slate-50/10 min-h-0 custom-scrollbar",children:ql()})]}),jsxRuntimeExports.jsx("div",{className:`w-1.5 hover:w-2 bg-slate-200 hover:bg-cyan-400 cursor-col-resize transition-all z-30 flex items-center justify-center group shrink-0 relative ${jt?"bg-cyan-500 w-2":""}`,onMouseDown:Dl,children:jsxRuntimeExports.jsx("div",{className:`h-8 w-1 rounded-full transition-colors ${jt?"bg-white":"bg-slate-300 group-hover:bg-white"}`})}),jsxRuntimeExports.jsxs("div",{style:{width:`${St}%`},className:"h-full flex flex-col bg-slate-50 relative shrink-0 min-h-0",children:[(jt||Pt)&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"}),jsxRuntimeExports.jsx("div",{className:"h-14 border-b border-slate-200 flex items-center justify-between px-6 bg-white/90 backdrop-blur-md z-10 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AnimatedAvatar,{state:Mn,size:40}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-[pulse_2s_infinite]"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono text-emerald-600 tracking-wider",children:""})]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-slate-500",children:Or||Tn.aiSystem})]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-slate-500 border border-slate-200 px-1.5 py-0.5 rounded uppercase bg-slate-100",children:Vr.tutorConfig.tone})]})}),Pi&&jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 bg-white/95 backdrop-blur-sm shrink-0 flex items-center justify-between gap-3 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-500",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"tts-voice-select",className:"sr-only",children:""}),jsxRuntimeExports.jsx("select",{id:"tts-voice-select",value:wi,onChange:cr=>{const gr=cr.target.value;ia(gr),typeof window<"u"&&localStorage.setItem("ttsVoiceName",gr)},className:"rounded-md border border-slate-300 bg-white px-2 py-1 text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-200 max-w-[180px]",title:"",children:Ls?Is.length===0?jsxRuntimeExports.jsx("option",{value:wi,children:""}):(Is.some(_r=>_r.name===wi)?Is:[{name:wi},...Is]).map(_r=>jsxRuntimeExports.jsxs("option",{value:_r.name,children:[_r.name.replace(/^cmn-CN-/,""),_r.ssmlGender==="FEMALE"?" ()":_r.ssmlGender==="MALE"?" ()":""]},_r.name)):jsxRuntimeExports.jsx("option",{value:wi,children:""})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const cr=!ei;Rn(cr),Xn(cr),!cr&&Sa&&eo()},className:`px-3 py-1 rounded-full text-xs border transition-colors ${ei?"bg-emerald-50 border-emerald-300 text-emerald-700":"bg-white border-slate-300 text-slate-600"}`,title:ei?"":"",children:ei?"":""})]})]}),jsxRuntimeExports.jsxs("div",{ref:$i,className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar scroll-smooth min-h-0 bg-[#f7f7f7]",children:[ht.map((cr,gr)=>{const _r=cr.role==="model"&&Fl(cr.text),xr=cr.role==="model"&&cr.text.includes("[STEP_PASS]"),Tr=gr===ht.length-1,Ir=xr&&Tr&&Fi&&!xt,Dr=cr.text.replace(/\s*\[STEP_PASS\]\s*/g,"").trim();return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:`flex ${cr.role==="user"?"justify-end":"justify-start"} items-end gap-2 animate-fade-in-up`,children:[cr.role==="model"&&jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center text-xs text-slate-600",children:(Or||Tn.aiSystem).slice(0,1)}),jsxRuntimeExports.jsxs("div",{className:`max-w-[78%] rounded-2xl px-3 py-2 text-sm leading-relaxed shadow-sm ${cr.role==="user"?"bg-[#95ec69] text-slate-900 rounded-br-none":"bg-white text-slate-700 rounded-bl-none"}`,children:[jsxRuntimeExports.jsx("div",{className:"opacity-60 text-[10px] uppercase font-bold tracking-wider mb-1",children:cr.role==="user"?nr:Or||Tn.aiSystem}),cr.role==="user"?jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap",children:cr.text}):jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath],rehypePlugins:[rehypeKatex],components:{p:({...Fr})=>jsxRuntimeExports.jsx("p",{className:"mb-2 last:mb-0 text-slate-700",...Fr}),strong:({...Fr})=>jsxRuntimeExports.jsx("strong",{className:"font-semibold text-slate-800",...Fr}),em:({...Fr})=>jsxRuntimeExports.jsx("em",{className:"italic",...Fr}),code:({inline:Fr,...un})=>Fr?jsxRuntimeExports.jsx("code",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-xs font-mono text-slate-800",...un}):jsxRuntimeExports.jsx("code",{className:"block bg-slate-50 p-3 rounded text-xs font-mono text-slate-800 overflow-x-auto my-2",...un}),ul:({...Fr})=>jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1",...Fr}),ol:({...Fr})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1",...Fr}),li:({...Fr})=>jsxRuntimeExports.jsx("li",{className:"ml-2",...Fr}),blockquote:({...Fr})=>jsxRuntimeExports.jsx("blockquote",{className:"border-l-4 border-slate-300 pl-3 italic my-2 text-slate-600",...Fr})},children:Dr})})]}),cr.role==="user"&&jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-full bg-[#95ec69] flex items-center justify-center text-xs text-slate-900",children:nr.slice(0,1)})]}),_r&&Tr&&!Fi&&!xt&&jsxRuntimeExports.jsx("div",{className:"flex justify-start animate-fade-in-up ml-0",children:ut<ee.tasks.length-1?jsxRuntimeExports.jsxs("button",{onClick:Bs,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white",children:[Tn.next," ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]}):jsxRuntimeExports.jsxs("button",{onClick:Do,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white",children:[" ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]})}),Ir&&jsxRuntimeExports.jsx("div",{className:"flex justify-start animate-fade-in-up ml-0",children:jsxRuntimeExports.jsxs("button",{onClick:Lo,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white",children:[Kr<5?"":ut<ee.tasks.length-1?"":""," ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]})})]},gr)}),xt&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsxs("div",{className:"bg-white px-4 py-2 rounded-full text-xs text-slate-500 flex items-center gap-2 border border-slate-200 shadow-sm",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:12,className:"animate-spin text-cyan-600"})," ",Tn.aiProcessing]})}),jsxRuntimeExports.jsx("div",{ref:Ll})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-[#f7f7f7] border-t border-slate-200 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-2",children:[Os==="text"?jsxRuntimeExports.jsx("textarea",{value:pt,onChange:cr=>mt(cr.target.value),onKeyDown:cr=>{cr.key==="Enter"&&!cr.shiftKey&&(cr.preventDefault(),zi())},placeholder:Tn.inputPlaceholder,className:"flex-1 bg-white border border-slate-300 rounded-full px-4 py-2 text-sm focus:outline-none focus:border-[#07c160] focus:ring-1 focus:ring-[#07c160]/20 transition-all resize-none h-10 text-slate-800 placeholder-slate-400"}):jsxRuntimeExports.jsx("button",{onPointerDown:cr=>{cr.preventDefault(),!(hn||xt)&&(Si||Oo())},onPointerUp:cr=>{cr.preventDefault(),Si&&Ja()},onPointerLeave:cr=>{cr.preventDefault(),Si&&Qa()},onPointerCancel:cr=>{cr.preventDefault(),Si&&Qa()},disabled:hn||xt,className:`flex-1 h-10 rounded-full border transition-all text-sm ${Si?"bg-red-500 border-red-500 text-white animate-pulse":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:Si?"":""}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Pi&&jsxRuntimeExports.jsx("button",{onClick:()=>{Za(cr=>cr==="text"?"voice":"text")},disabled:hn||xt,className:"w-10 h-10 rounded-full border border-slate-300 bg-white text-slate-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:Os==="text"?"":"",children:Os==="text"?jsxRuntimeExports.jsx(Mic,{size:16,className:"mx-auto"}):jsxRuntimeExports.jsx(Type$2,{size:16,className:"mx-auto"})}),Os==="text"&&jsxRuntimeExports.jsx("button",{onClick:()=>zi(),disabled:!pt.trim()||xt,className:"h-10 px-4 rounded-full bg-[#07c160] hover:bg-[#06ad56] text-white text-sm disabled:opacity-50 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",children:""})]})]}),(Si||hn||wa)&&jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs",children:[Si&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),"..."]}),hn&&jsxRuntimeExports.jsxs("span",{className:"text-blue-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:12,className:"animate-spin"}),"..."]}),wa&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleAlert,{size:12}),": ",wa]})]})]})]}),jsxRuntimeExports.jsx("div",{className:`w-1.5 hover:w-2 bg-slate-200 hover:bg-cyan-400 cursor-col-resize transition-all z-30 flex items-center justify-center group shrink-0 relative ${Pt?"bg-cyan-500 w-2":""}`,onMouseDown:ro,children:jsxRuntimeExports.jsx("div",{className:`h-8 w-1 rounded-full transition-colors ${Pt?"bg-white":"bg-slate-300 group-hover:bg-white"}`})}),jsxRuntimeExports.jsxs("div",{style:{width:`${100-_t-St}%`},className:"h-full flex flex-col bg-slate-50 relative shrink-0 border-l border-slate-200 min-h-0",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-slate-200 bg-gradient-to-br from-white to-cyan-50/30 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"w-full aspect-square bg-white rounded-xl border-2 border-cyan-300 shadow-lg ring-2 ring-cyan-100 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-200/20 to-blue-200/20"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:jsxRuntimeExports.jsx(AnimatedAvatar,{state:Mn,size:1e3,className:"w-full h-full"})})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:jsxRuntimeExports.jsx(RealTimeProgressTracker,{messages:ht,studentLog:vt,currentTaskIndex:ut,totalTasks:ee.tasks.length,improvementCount:tn,completedTasksCount:Dn.size})})]}),jsxRuntimeExports.jsx(FullscreenModal,{isOpen:rr,onClose:()=>ur(!1),title:"",children:Lt&&jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-slate-100 border-b border-slate-200 flex items-center justify-between px-4 text-[10px] text-slate-500 shrink-0",children:Lt.trim().startsWith("http")?jsxRuntimeExports.jsxs("span",{className:"text-cyan-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Globe,{size:12})," PhET "]}):jsxRuntimeExports.jsxs("span",{className:"text-purple-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Brain,{size:12})," AI "]})}),jsxRuntimeExports.jsx("iframe",{src:Lt.trim().startsWith("http")?Lt:void 0,srcDoc:Lt.trim().startsWith("http")?void 0:Lt,className:"w-full flex-1 border-none",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",title:""})]})}),jsxRuntimeExports.jsx(FullscreenModal,{isOpen:Jt,onClose:()=>Zt(!1),title:"",children:Xt?jsxRuntimeExports.jsx(VisualizationEditor,{initialData:Xt,onChange:io,editable:!0,courseTopic:Vr.title||Vr.outputGoal||"",onGenerateFramework:Ta,onNodeCreated:oa,onNodeEdited:la,onEdgeCreated:so,onConfusionMarked:ci,onProgressUpdate:Ss}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:"..."})})]})};function CoursePage(){const ee=useParams(),te=useNavigate(),ne=ee.id??"",[xe,rt]=reactExports.useState(null),[it,lt]=reactExports.useState(!0),[ct,ut]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{if(!ne){ut(" ID "),lt(!1);return}try{lt(!0),ut(null);const pt=await getCourse(ne);if(!pt?.plan)throw new Error("");rt(pt.plan)}catch(pt){console.error("Failed to load course:",pt),ut(pt instanceof Error?pt.message:"")}finally{lt(!1)}})()},[ne]);const dt=(ft,pt)=>{},ht=()=>{console.warn("API Key Error")};return it?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-primary mx-auto mb-4",size:32}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"..."})]})}):ct||!xe?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-card p-8 rounded-2xl shadow-xl max-w-md text-center border border-border",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(CircleAlert,{className:"text-destructive",size:32})}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold mb-2 text-foreground",children:""}),jsxRuntimeExports.jsxs("div",{className:"text-muted-foreground mb-6 space-y-2",children:[jsxRuntimeExports.jsx("p",{children:ct||""}),ne&&jsxRuntimeExports.jsxs("p",{className:"text-xs mt-2",children:[" ID: ",ne]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>te("/"),className:"px-6 py-3 bg-primary hover:bg-primary-hover text-primary-foreground font-bold rounded-lg transition-all",children:""}),jsxRuntimeExports.jsx("button",{onClick:()=>{ut(null),lt(!0),ne&&getCourse(ne).then(ft=>{rt(ft.plan),ut(null)}).catch(ft=>ut(ft.message||"")).finally(()=>lt(!1))},className:"px-6 py-3 bg-muted hover:bg-muted/80 text-foreground font-bold rounded-lg transition-all",children:""})]})]})}):jsxRuntimeExports.jsx(StudentConsole,{plan:xe,onComplete:dt,onApiKeyError:ht})}function ForgotPasswordPage(){const ee=useNavigate(),{resetPasswordForEmail:te}=useAuth(),[ne,xe]=reactExports.useState(""),[rt,it]=reactExports.useState(!1),[lt,ct]=reactExports.useState(""),[ut,dt]=reactExports.useState(!1),ht=async ft=>{ft.preventDefault(),it(!0),ct("");try{await te(ne),dt(!0)}catch(pt){ct(pt.message||"")}finally{it(!1)}};return ut?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-[#1a73e8]",children:[jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsxs(CardDescription,{children:[" ",jsxRuntimeExports.jsx("strong",{children:ne})," ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs mt-2 block",children:""})]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"w-full",onClick:()=>ee("/"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]})})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl border-gray-200",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl text-[#1a73e8]",children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[lt&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:lt}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:""}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"",value:ne,onChange:ft=>xe(ft.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:rt,children:rt?"":""}),jsxRuntimeExports.jsx(Link$1,{to:"/",children:jsxRuntimeExports.jsxs(Button,{type:"button",variant:"ghost",className:"w-full",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),""]})})]})})]})})}function ResetPasswordPage(){const ee=useNavigate(),[te,ne]=reactExports.useState(""),[xe,rt]=reactExports.useState(""),[it,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(""),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState(null);reactExports.useEffect(()=>{if(new URLSearchParams(window.location.hash.slice(1)).get("type")==="recovery"){pt(!0);return}supabase.auth.getSession().then(({data:{session:Et}})=>{pt(!!Et)})},[]);const mt=async xt=>{if(xt.preventDefault(),ut(""),te.length<6){ut(" 6 ");return}if(te!==xe){ut("");return}lt(!0);try{const{error:yt}=await supabase.auth.updateUser({password:te});if(yt)throw new Error(yt.message);ht(!0),setTimeout(()=>ee("/"),2e3)}catch(yt){ut(yt.message||"")}finally{lt(!1)}};return ft===null?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-[#1a73e8]"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:""})]})}):ft===!1?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Button,{className:"w-full",onClick:()=>ee("/"),children:""})})]})}):dt?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsx(Card,{className:"w-full max-w-md shadow-xl",children:jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-green-600",children:""}),jsxRuntimeExports.jsx(CardDescription,{children:""})]})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl border-gray-200",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-[#1a73e8]",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5"}),""]}),jsxRuntimeExports.jsx(CardDescription,{children:""})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[ct&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:ct}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"new-password",children:""}),jsxRuntimeExports.jsx(Input,{id:"new-password",type:"password",placeholder:" 6 ",value:te,onChange:xt=>ne(xt.target.value),autoComplete:"new-password"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"confirm-password",children:""}),jsxRuntimeExports.jsx(Input,{id:"confirm-password",type:"password",placeholder:"",value:xe,onChange:xt=>rt(xt.target.value),autoComplete:"new-password"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:it||!te||!xe,children:it?"":""})]})})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(App,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot-password",element:jsxRuntimeExports.jsx(ForgotPasswordPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/reset-password",element:jsxRuntimeExports.jsx(ResetPasswordPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/course/:id",element:jsxRuntimeExports.jsx(CoursePage,{})})]})})}));export{band as $,utils_default as A,Background as B,Controls as C,setDiagramTitle as D,getDiagramTitle as E,load as F,isValidShape as G,Handle as H,getEdgeId$1 as I,JSON_SCHEMA as J,clear$2 as K,defaultConfig2 as L,MarkerType as M,rgba as N,__export as O,Position as P,setupGraphViewbox2 as Q,React as R,cleanAndMerge as S,defaultConfig_default as T,getConfig as U,random as V,selectSvgElement as W,package_default as X,linear as Y,getThemeVariables3 as Z,__name as _,ReactFlowProvider as a,registerIconPacks as a$,computeDimensionOfText as a0,line$1 as a1,hasKatex as a2,calculateMathMLDimensions as a3,parseFontSize as a4,ZERO_WIDTH_SPACE as a5,getUrl as a6,renderKatexSanitized as a7,parseGenericTypes as a8,curveBasis as a9,evaluate as aA,createText as aB,getSubGraphTitleMargins as aC,replaceIconSubstring as aD,decodeEntities as aE,getStylesFromArray as aF,Utils as aG,Color as aH,markers_default as aI,clear2 as aJ,clear as aK,clear$1 as aL,updateNodeBounds as aM,setNodeElem as aN,insertEdge as aO,positionEdgeLabel as aP,insertEdgeLabel as aQ,baseRest as aR,isArrayLikeObject as aS,constant as aT,isFunction as aU,isEmpty as aV,array$1 as aW,ordinal as aX,getUserDefinedConfig as aY,getDefaultExportFromCjs as aZ,getIconSVG as a_,generateId as aa,lineBreakRegex as ab,setupGraphViewbox as ac,isDark as ad,lighten as ae,darken as af,commonDb_exports as ag,withPath as ah,halfPi as ai,epsilon$1 as aj,tau$1 as ak,cos as al,sin as am,min$2 as an,abs$1 as ao,pi$1 as ap,sqrt$1 as aq,atan2 as ar,constant$5 as as,asin as at,acos as au,max$2 as av,insertCluster as aw,insertNode as ax,positionNode as ay,getLineFunctionsWithOffset as az,useEdgesState as b,Uint8Array$1 as b$,unknownIcon as b0,Rgb as b1,rgbConvert as b2,define as b3,extend$3 as b4,Color$1 as b5,nogamma as b6,hue as b7,time as b8,min$1 as b9,styles2String as bA,isLabelStyle as bB,setToString as bC,overRest as bD,baseFor as bE,baseAssignValue as bF,baseUnary as bG,merge as bH,isObjectLike as bI,baseGetTag as bJ,Symbol$1 as bK,arrayLikeKeys as bL,baseKeys as bM,memoize as bN,isArguments as bO,copyObject as bP,getPrototype as bQ,cloneArrayBuffer as bR,cloneTypedArray as bS,getTag as bT,nodeUtil as bU,copyArray as bV,isBuffer as bW,cloneBuffer as bX,initCloneObject as bY,Stack as bZ,MapCache as b_,max$1 as ba,dayjs2 as bb,timeFormat as bc,timeMonth as bd,timeSunday as be,timeSaturday as bf,timeFriday as bg,timeThursday as bh,timeWednesday as bi,timeTuesday as bj,timeMonday as bk,timeDay as bl,timeHour as bm,timeMinute as bn,second as bo,millisecond as bp,isObject as bq,isIterateeCall as br,keysIn as bs,eq as bt,isArrayLike as bu,isArray as bv,identity$1 as bw,isIndex as bx,assignValue as by,format$1 as bz,addEdge as c,isTypedArray as c0,isLength as c1,Set$1 as c2,createAssigner as c3,isPrototype as c4,getAugmentedNamespace as c5,__vitePreload as c6,MiniMap as d,getAccTitle as e,setAccTitle as f,getAccDescription as g,getConfig2 as h,index as i,jsxRuntimeExports as j,select as k,log as l,configureSvgSize as m,assignWithDepth_default as n,calculateTextWidth as o,sanitizeText as p,distExports as q,reactExports as r,setAccDescription as s,common_default as t,useNodesState as u,calculateTextHeight as v,wrapLabel as w,setConfig2 as x,getRegisteredLayoutAlgorithm as y,render$1 as z};
