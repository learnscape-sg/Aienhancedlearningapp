function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(ye){return ye===null||typeof ye!="object"?null:(ye=v&&ye[v]||ye["@@iterator"],typeof ye=="function"?ye:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function R(ye,ge,je){this.props=ye,this.context=ge,this.refs=E,this.updater=je||w}R.prototype.isReactComponent={},R.prototype.setState=function(ye,ge){if(typeof ye!="object"&&typeof ye!="function"&&ye!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ye,ge,"setState")},R.prototype.forceUpdate=function(ye){this.updater.enqueueForceUpdate(this,ye,"forceUpdate")};function _(){}_.prototype=R.prototype;function N(ye,ge,je){this.props=ye,this.context=ge,this.refs=E,this.updater=je||w}var B=N.prototype=new _;B.constructor=N,j(B,R.prototype),B.isPureReactComponent=!0;var M=Array.isArray,O=Object.prototype.hasOwnProperty,F={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function z(ye,ge,je){var Me,He={},Qe=null,ze=null;if(ge!=null)for(Me in ge.ref!==void 0&&(ze=ge.ref),ge.key!==void 0&&(Qe=""+ge.key),ge)O.call(ge,Me)&&!$.hasOwnProperty(Me)&&(He[Me]=ge[Me]);var Ve=arguments.length-2;if(Ve===1)He.children=je;else if(1<Ve){for(var tt=Array(Ve),nt=0;nt<Ve;nt++)tt[nt]=arguments[nt+2];He.children=tt}if(ye&&ye.defaultProps)for(Me in Ve=ye.defaultProps,Ve)He[Me]===void 0&&(He[Me]=Ve[Me]);return{$$typeof:e,type:ye,key:Qe,ref:ze,props:He,_owner:F.current}}function se(ye,ge){return{$$typeof:e,type:ye.type,key:ge,ref:ye.ref,props:ye.props,_owner:ye._owner}}function ce(ye){return typeof ye=="object"&&ye!==null&&ye.$$typeof===e}function ie(ye){var ge={"=":"=0",":":"=2"};return"$"+ye.replace(/[=:]/g,function(je){return ge[je]})}var pe=/\/+/g;function xe(ye,ge){return typeof ye=="object"&&ye!==null&&ye.key!=null?ie(""+ye.key):ge.toString(36)}function Ae(ye,ge,je,Me,He){var Qe=typeof ye;(Qe==="undefined"||Qe==="boolean")&&(ye=null);var ze=!1;if(ye===null)ze=!0;else switch(Qe){case"string":case"number":ze=!0;break;case"object":switch(ye.$$typeof){case e:case t:ze=!0}}if(ze)return ze=ye,He=He(ze),ye=Me===""?"."+xe(ze,0):Me,M(He)?(je="",ye!=null&&(je=ye.replace(pe,"$&/")+"/"),Ae(He,ge,je,"",function(nt){return nt})):He!=null&&(ce(He)&&(He=se(He,je+(!He.key||ze&&ze.key===He.key?"":(""+He.key).replace(pe,"$&/")+"/")+ye)),ge.push(He)),1;if(ze=0,Me=Me===""?".":Me+":",M(ye))for(var Ve=0;Ve<ye.length;Ve++){Qe=ye[Ve];var tt=Me+xe(Qe,Ve);ze+=Ae(Qe,ge,je,tt,He)}else if(tt=b(ye),typeof tt=="function")for(ye=tt.call(ye),Ve=0;!(Qe=ye.next()).done;)Qe=Qe.value,tt=Me+xe(Qe,Ve++),ze+=Ae(Qe,ge,je,tt,He);else if(Qe==="object")throw ge=String(ye),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(ye).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return ze}function ue(ye,ge,je){if(ye==null)return ye;var Me=[],He=0;return Ae(ye,Me,"","",function(Qe){return ge.call(je,Qe,He++)}),Me}function Y(ye){if(ye._status===-1){var ge=ye._result;ge=ge(),ge.then(function(je){(ye._status===0||ye._status===-1)&&(ye._status=1,ye._result=je)},function(je){(ye._status===0||ye._status===-1)&&(ye._status=2,ye._result=je)}),ye._status===-1&&(ye._status=0,ye._result=ge)}if(ye._status===1)return ye._result.default;throw ye._result}var fe={current:null},H={transition:null},le={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:H,ReactCurrentOwner:F};function de(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:ue,forEach:function(ye,ge,je){ue(ye,function(){ge.apply(this,arguments)},je)},count:function(ye){var ge=0;return ue(ye,function(){ge++}),ge},toArray:function(ye){return ue(ye,function(ge){return ge})||[]},only:function(ye){if(!ce(ye))throw Error("React.Children.only expected to receive a single React element child.");return ye}},react_production_min.Component=R,react_production_min.Fragment=n,react_production_min.Profiler=l,react_production_min.PureComponent=N,react_production_min.StrictMode=o,react_production_min.Suspense=m,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,react_production_min.act=de,react_production_min.cloneElement=function(ye,ge,je){if(ye==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ye+".");var Me=j({},ye.props),He=ye.key,Qe=ye.ref,ze=ye._owner;if(ge!=null){if(ge.ref!==void 0&&(Qe=ge.ref,ze=F.current),ge.key!==void 0&&(He=""+ge.key),ye.type&&ye.type.defaultProps)var Ve=ye.type.defaultProps;for(tt in ge)O.call(ge,tt)&&!$.hasOwnProperty(tt)&&(Me[tt]=ge[tt]===void 0&&Ve!==void 0?Ve[tt]:ge[tt])}var tt=arguments.length-2;if(tt===1)Me.children=je;else if(1<tt){Ve=Array(tt);for(var nt=0;nt<tt;nt++)Ve[nt]=arguments[nt+2];Me.children=Ve}return{$$typeof:e,type:ye.type,key:He,ref:Qe,props:Me,_owner:ze}},react_production_min.createContext=function(ye){return ye={$$typeof:d,_currentValue:ye,_currentValue2:ye,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ye.Provider={$$typeof:u,_context:ye},ye.Consumer=ye},react_production_min.createElement=z,react_production_min.createFactory=function(ye){var ge=z.bind(null,ye);return ge.type=ye,ge},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(ye){return{$$typeof:A,render:ye}},react_production_min.isValidElement=ce,react_production_min.lazy=function(ye){return{$$typeof:g,_payload:{_status:-1,_result:ye},_init:Y}},react_production_min.memo=function(ye,ge){return{$$typeof:f,type:ye,compare:ge===void 0?null:ge}},react_production_min.startTransition=function(ye){var ge=H.transition;H.transition={};try{ye()}finally{H.transition=ge}},react_production_min.unstable_act=de,react_production_min.useCallback=function(ye,ge){return fe.current.useCallback(ye,ge)},react_production_min.useContext=function(ye){return fe.current.useContext(ye)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(ye){return fe.current.useDeferredValue(ye)},react_production_min.useEffect=function(ye,ge){return fe.current.useEffect(ye,ge)},react_production_min.useId=function(){return fe.current.useId()},react_production_min.useImperativeHandle=function(ye,ge,je){return fe.current.useImperativeHandle(ye,ge,je)},react_production_min.useInsertionEffect=function(ye,ge){return fe.current.useInsertionEffect(ye,ge)},react_production_min.useLayoutEffect=function(ye,ge){return fe.current.useLayoutEffect(ye,ge)},react_production_min.useMemo=function(ye,ge){return fe.current.useMemo(ye,ge)},react_production_min.useReducer=function(ye,ge,je){return fe.current.useReducer(ye,ge,je)},react_production_min.useRef=function(ye){return fe.current.useRef(ye)},react_production_min.useState=function(ye){return fe.current.useState(ye)},react_production_min.useSyncExternalStore=function(ye,ge,je){return fe.current.useSyncExternalStore(ye,ge,je)},react_production_min.useTransition=function(){return fe.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var e=requireReact(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(A,m,f){var g,v={},b=null,w=null;f!==void 0&&(b=""+f),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(w=m.ref);for(g in m)o.call(m,g)&&!u.hasOwnProperty(g)&&(v[g]=m[g]);if(A&&A.defaultProps)for(g in m=A.defaultProps,m)v[g]===void 0&&(v[g]=m[g]);return{$$typeof:t,type:A,key:b,ref:w,props:v,_owner:l.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=d,reactJsxRuntime_production_min.jsxs=d,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();const isString$2=e=>typeof e=="string",defer=()=>{let e,t;const n=new Promise((o,l)=>{e=o,t=l});return n.resolve=e,n.reject=t,n},makeString=e=>e==null?"":""+e,copy$2=(e,t,n)=>{e.forEach(o=>{t[o]&&(n[o]=t[o])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=e=>e&&e.indexOf("###")>-1?e.replace(lastOfPathSeparatorRegExp,"."):e,canNotTraverseDeeper=e=>!e||isString$2(e),getLastOfPath=(e,t,n)=>{const o=isString$2(t)?t.split("."):t;let l=0;for(;l<o.length-1;){if(canNotTraverseDeeper(e))return{};const u=cleanKey(o[l]);!e[u]&&n&&(e[u]=new n),Object.prototype.hasOwnProperty.call(e,u)?e=e[u]:e={},++l}return canNotTraverseDeeper(e)?{}:{obj:e,k:cleanKey(o[l])}},setPath=(e,t,n)=>{const{obj:o,k:l}=getLastOfPath(e,t,Object);if(o!==void 0||t.length===1){o[l]=n;return}let u=t[t.length-1],d=t.slice(0,t.length-1),A=getLastOfPath(e,d,Object);for(;A.obj===void 0&&d.length;)u=`${d[d.length-1]}.${u}`,d=d.slice(0,d.length-1),A=getLastOfPath(e,d,Object),A?.obj&&typeof A.obj[`${A.k}.${u}`]<"u"&&(A.obj=void 0);A.obj[`${A.k}.${u}`]=n},pushPath=(e,t,n,o)=>{const{obj:l,k:u}=getLastOfPath(e,t,Object);l[u]=l[u]||[],l[u].push(n)},getPath$2=(e,t)=>{const{obj:n,k:o}=getLastOfPath(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,o))return n[o]},getPathWithDefaults=(e,t,n)=>{const o=getPath$2(e,n);return o!==void 0?o:getPath$2(t,n)},deepExtend=(e,t,n)=>{for(const o in t)o!=="__proto__"&&o!=="constructor"&&(o in e?isString$2(e[o])||e[o]instanceof String||isString$2(t[o])||t[o]instanceof String?n&&(e[o]=t[o]):deepExtend(e[o],t[o],n):e[o]=t[o]);return e},regexEscape=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape$1=e=>isString$2(e)?e.replace(/[&<>"'\/]/g,t=>_entityMap[t]):e;class RegExpCache{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const o=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,o),this.regExpQueue.push(t),o}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(e,t,n)=>{t=t||"",n=n||"";const o=chars.filter(d=>t.indexOf(d)<0&&n.indexOf(d)<0);if(o.length===0)return!0;const l=looksLikeObjectPathRegExpCache.getRegExp(`(${o.map(d=>d==="?"?"\\?":d).join("|")})`);let u=!l.test(e);if(!u){const d=e.indexOf(n);d>0&&!l.test(e.substring(0,d))&&(u=!0)}return u},deepFind=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const o=t.split(n);let l=e;for(let u=0;u<o.length;){if(!l||typeof l!="object")return;let d,A="";for(let m=u;m<o.length;++m)if(m!==u&&(A+=n),A+=o[m],d=l[A],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&m<o.length-1)continue;u+=m-u+1;break}l=d}return l},getCleanedCode=e=>e?.replace("_","-"),consoleLogger={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Logger{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||consoleLogger,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,o,l){return l&&!this.debug?null:(isString$2(t[0])&&(t[0]=`${o}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Logger(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Logger(this.logger,t)}}var baseLogger=new Logger;let EventEmitter$1=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const l=this.observers[o].get(n)||0;this.observers[o].set(n,l+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([l,u])=>{for(let d=0;d<u;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,u])=>{for(let d=0;d<u;d++)l.apply(l,[t,...n])})}};class ResourceStore extends EventEmitter$1{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,o,l={}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let A;t.indexOf(".")>-1?A=t.split("."):(A=[t,n],o&&(Array.isArray(o)?A.push(...o):isString$2(o)&&u?A.push(...o.split(u)):A.push(o)));const m=getPath$2(this.data,A);return!m&&!n&&!o&&t.indexOf(".")>-1&&(t=A[0],n=A[1],o=A.slice(2).join(".")),m||!d||!isString$2(o)?m:deepFind(this.data?.[t]?.[n],o,u)}addResource(t,n,o,l,u={silent:!1}){const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let A=[t,n];o&&(A=A.concat(d?o.split(d):o)),t.indexOf(".")>-1&&(A=t.split("."),l=n,n=A[1]),this.addNamespaces(n),setPath(this.data,A,l),u.silent||this.emit("added",t,n,o,l)}addResources(t,n,o,l={silent:!1}){for(const u in o)(isString$2(o[u])||Array.isArray(o[u]))&&this.addResource(t,n,u,o[u],{silent:!0});l.silent||this.emit("added",t,n,o)}addResourceBundle(t,n,o,l,u,d={silent:!1,skipCopy:!1}){let A=[t,n];t.indexOf(".")>-1&&(A=t.split("."),l=o,o=n,n=A[1]),this.addNamespaces(n);let m=getPath$2(this.data,A)||{};d.skipCopy||(o=JSON.parse(JSON.stringify(o))),l?deepExtend(m,o,u):m={...m,...o},setPath(this.data,A,m),d.silent||this.emit("added",t,n,o)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(l=>n[l]&&Object.keys(n[l]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,o,l){return e.forEach(u=>{t=this.processors[u]?.process(t,n,o,l)??t}),t}};const PATH_KEY=Symbol("i18next/PATH_KEY");function createProxy(){const e=[],t=Object.create(null);let n;return t.get=(o,l)=>(n?.revoke?.(),l===PATH_KEY?e:(e.push(l),n=Proxy.revocable(o,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function keysFromSelector(e,t){const{[PATH_KEY]:n}=e(createProxy());return n.join(t?.keySeparator??".")}const checkedLoadedFor={},shouldHandleAsObject=e=>!isString$2(e)&&typeof e!="boolean"&&typeof e!="number";class Translator extends EventEmitter$1{constructor(t,n={}){super(),copy$2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const o={...n};if(t==null)return!1;const l=this.resolve(t,o);if(l?.res===void 0)return!1;const u=shouldHandleAsObject(l.res);return!(o.returnObjects===!1&&u)}extractFromKey(t,n){let o=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let u=n.ns||this.options.defaultNS||[];const d=o&&t.indexOf(o)>-1,A=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!looksLikeObjectPath(t,o,l);if(d&&!A){const m=t.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:t,namespaces:isString$2(u)?[u]:u};const f=t.split(o);(o!==l||o===l&&this.options.ns.indexOf(f[0])>-1)&&(u=f.shift()),t=f.join(l)}return{key:t,namespaces:isString$2(u)?[u]:u}}translate(t,n,o){let l=typeof n=="object"?{...n}:n;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof l=="object"&&(l={...l}),l||(l={}),t==null)return"";typeof t=="function"&&(t=keysFromSelector(t,{...this.options,...l})),Array.isArray(t)||(t=[String(t)]);const u=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:A,namespaces:m}=this.extractFromKey(t[t.length-1],l),f=m[m.length-1];let g=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const v=l.lng||this.language,b=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return b?u?{res:`${f}${g}${A}`,usedKey:A,exactUsedKey:A,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(l)}:`${f}${g}${A}`:u?{res:A,usedKey:A,exactUsedKey:A,usedLng:v,usedNS:f,usedParams:this.getUsedParamsDetails(l)}:A;const w=this.resolve(t,l);let j=w?.res;const E=w?.usedKey||A,R=w?.exactUsedKey||A,_=["[object Number]","[object Function]","[object RegExp]"],N=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,B=!this.i18nFormat||this.i18nFormat.handleAsObject,M=l.count!==void 0&&!isString$2(l.count),O=Translator.hasDefaultValue(l),F=M?this.pluralResolver.getSuffix(v,l.count,l):"",$=l.ordinal&&M?this.pluralResolver.getSuffix(v,l.count,{ordinal:!1}):"",z=M&&!l.ordinal&&l.count===0,se=z&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${F}`]||l[`defaultValue${$}`]||l.defaultValue;let ce=j;B&&!j&&O&&(ce=se);const ie=shouldHandleAsObject(ce),pe=Object.prototype.toString.apply(ce);if(B&&ce&&ie&&_.indexOf(pe)<0&&!(isString$2(N)&&Array.isArray(ce))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const xe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,ce,{...l,ns:m}):`key '${A} (${this.language})' returned an object instead of string.`;return u?(w.res=xe,w.usedParams=this.getUsedParamsDetails(l),w):xe}if(d){const xe=Array.isArray(ce),Ae=xe?[]:{},ue=xe?R:E;for(const Y in ce)if(Object.prototype.hasOwnProperty.call(ce,Y)){const fe=`${ue}${d}${Y}`;O&&!j?Ae[Y]=this.translate(fe,{...l,defaultValue:shouldHandleAsObject(se)?se[Y]:void 0,joinArrays:!1,ns:m}):Ae[Y]=this.translate(fe,{...l,joinArrays:!1,ns:m}),Ae[Y]===fe&&(Ae[Y]=ce[Y])}j=Ae}}else if(B&&isString$2(N)&&Array.isArray(j))j=j.join(N),j&&(j=this.extendTranslation(j,t,l,o));else{let xe=!1,Ae=!1;!this.isValidLookup(j)&&O&&(xe=!0,j=se),this.isValidLookup(j)||(Ae=!0,j=A);const Y=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ae?void 0:j,fe=O&&se!==j&&this.options.updateMissing;if(Ae||xe||fe){if(this.logger.log(fe?"updateKey":"missingKey",v,f,A,fe?se:j),d){const ye=this.resolve(A,{...l,keySeparator:!1});ye&&ye.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let H=[];const le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let ye=0;ye<le.length;ye++)H.push(le[ye]);else this.options.saveMissingTo==="all"?H=this.languageUtils.toResolveHierarchy(l.lng||this.language):H.push(l.lng||this.language);const de=(ye,ge,je)=>{const Me=O&&je!==j?je:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(ye,f,ge,Me,fe,l):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ye,f,ge,Me,fe,l),this.emit("missingKey",ye,f,ge,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?H.forEach(ye=>{const ge=this.pluralResolver.getSuffixes(ye,l);z&&l[`defaultValue${this.options.pluralSeparator}zero`]&&ge.indexOf(`${this.options.pluralSeparator}zero`)<0&&ge.push(`${this.options.pluralSeparator}zero`),ge.forEach(je=>{de([ye],A+je,l[`defaultValue${je}`]||se)})}):de(H,A,se))}j=this.extendTranslation(j,t,l,w,o),Ae&&j===A&&this.options.appendNamespaceToMissingKey&&(j=`${f}${g}${A}`),(Ae||xe)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${g}${A}`:A,xe?j:void 0,l))}return u?(w.res=j,w.usedParams=this.getUsedParamsDetails(l),w):j}extendTranslation(t,n,o,l,u){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const m=isString$2(t)&&(o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(m){const v=t.match(this.interpolator.nestingRegexp);f=v&&v.length}let g=o.replace&&!isString$2(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),t=this.interpolator.interpolate(t,g,o.lng||this.language||l.usedLng,o),m){const v=t.match(this.interpolator.nestingRegexp),b=v&&v.length;f<b&&(o.nest=!1)}!o.lng&&l&&l.res&&(o.lng=this.language||l.usedLng),o.nest!==!1&&(t=this.interpolator.nest(t,(...v)=>u?.[0]===v[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):this.translate(...v,n),o)),o.interpolation&&this.interpolator.reset()}const d=o.postProcess||this.options.postProcess,A=isString$2(d)?[d]:d;return t!=null&&A?.length&&o.applyPostProcessor!==!1&&(t=postProcessor.handle(A,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),t}resolve(t,n={}){let o,l,u,d,A;return isString$2(t)&&(t=[t]),t.forEach(m=>{if(this.isValidLookup(o))return;const f=this.extractFromKey(m,n),g=f.key;l=g;let v=f.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=n.count!==void 0&&!isString$2(n.count),w=b&&!n.ordinal&&n.count===0,j=n.context!==void 0&&(isString$2(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);v.forEach(R=>{this.isValidLookup(o)||(A=R,!checkedLoadedFor[`${E[0]}-${R}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(A)&&(checkedLoadedFor[`${E[0]}-${R}`]=!0,this.logger.warn(`key "${l}" for languages "${E.join(", ")}" won't get resolved as namespace "${A}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(_=>{if(this.isValidLookup(o))return;d=_;const N=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,g,_,R,n);else{let M;b&&(M=this.pluralResolver.getSuffix(_,n.count,n));const O=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&M.indexOf(F)===0&&N.push(g+M.replace(F,this.options.pluralSeparator)),N.push(g+M),w&&N.push(g+O)),j){const $=`${g}${this.options.contextSeparator||"_"}${n.context}`;N.push($),b&&(n.ordinal&&M.indexOf(F)===0&&N.push($+M.replace(F,this.options.pluralSeparator)),N.push($+M),w&&N.push($+O))}}let B;for(;B=N.pop();)this.isValidLookup(o)||(u=B,o=this.getResource(_,R,B,n))}))})}),{res:o,usedKey:l,exactUsedKey:u,usedLng:d,usedNS:A}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,o,l={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,o,l):this.resourceStore.getResource(t,n,o,l)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=t.replace&&!isString$2(t.replace);let l=o?t.replace:t;if(o&&typeof t.count<"u"&&(l.count=t.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!o){l={...l};for(const u of n)delete l[u]}return l}static hasDefaultValue(t){const n="defaultValue";for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&n===o.substring(0,n.length)&&t[o]!==void 0)return!0;return!1}}class LanguageUtil{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(t){if(t=getCleanedCode(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=getCleanedCode(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(isString$2(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(o=>{if(n)return;const l=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(l))&&(n=l)}),!n&&this.options.supportedLngs&&t.forEach(o=>{if(n)return;const l=this.getScriptPartFromCode(o);if(this.isSupportedCode(l))return n=l;const u=this.getLanguagePartFromCode(o);if(this.isSupportedCode(u))return n=u;n=this.options.supportedLngs.find(d=>{if(d===u)return d;if(!(d.indexOf("-")<0&&u.indexOf("-")<0)&&(d.indexOf("-")>0&&u.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===u||d.indexOf(u)===0&&u.length>1))return d})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),isString$2(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let o=t[n];return o||(o=t[this.getScriptPartFromCode(n)]),o||(o=t[this.formatLanguageCode(n)]),o||(o=t[this.getLanguagePartFromCode(n)]),o||(o=t.default),o||[]}toResolveHierarchy(t,n){const o=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),l=[],u=d=>{d&&(this.isSupportedCode(d)?l.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return isString$2(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(t))):isString$2(t)&&u(this.formatLanguageCode(t)),o.forEach(d=>{l.indexOf(d)<0&&u(this.formatLanguageCode(d))}),l}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const o=getCleanedCode(t==="dev"?"en":t),l=n.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:o,type:l});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let d;try{d=new Intl.PluralRules(o,{type:l})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!t.match(/-|_/))return dummyRule;const m=this.languageUtils.getLanguagePartFromCode(t);d=this.getRule(m,n)}return this.pluralRulesCache[u]=d,d}needsPlural(t,n={}){let o=this.getRule(t,n);return o||(o=this.getRule("dev",n)),o?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,o={}){return this.getSuffixes(t,o).map(l=>`${n}${l}`)}getSuffixes(t,n={}){let o=this.getRule(t,n);return o||(o=this.getRule("dev",n)),o?o.resolvedOptions().pluralCategories.sort((l,u)=>suffixesOrder[l]-suffixesOrder[u]).map(l=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(t,n,o={}){const l=this.getRule(t,o);return l?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${l.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,o))}}const deepFindWithDefaults=(e,t,n,o=".",l=!0)=>{let u=getPathWithDefaults(e,t,n);return!u&&l&&isString$2(n)&&(u=deepFind(e,n,o),u===void 0&&(u=deepFind(t,n,o))),u},regexSafe=e=>e.replace(/\$/g,"$$$$");class Interpolator{constructor(t={}){this.logger=baseLogger.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:o,useRawValueToEscape:l,prefix:u,prefixEscaped:d,suffix:A,suffixEscaped:m,formatSeparator:f,unescapeSuffix:g,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:w,nestingSuffix:j,nestingSuffixEscaped:E,nestingOptionsSeparator:R,maxReplaces:_,alwaysFormat:N}=t.interpolation;this.escape=n!==void 0?n:escape$1,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=u?regexEscape(u):d||"{{",this.suffix=A?regexEscape(A):m||"}}",this.formatSeparator=f||",",this.unescapePrefix=g?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=b?regexEscape(b):w||regexEscape("$t("),this.nestingSuffix=j?regexEscape(j):E||regexEscape(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=_||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,o)=>n?.source===o?(n.lastIndex=0,n):new RegExp(o,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,o,l){let u,d,A;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=w=>{if(w.indexOf(this.formatSeparator)<0){const _=deepFindWithDefaults(n,m,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,o,{...l,...n,interpolationkey:w}):_}const j=w.split(this.formatSeparator),E=j.shift().trim(),R=j.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(n,m,E,this.options.keySeparator,this.options.ignoreJSONStructure),R,o,{...l,...n,interpolationkey:E})};this.resetRegExp();const g=l?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=l?.interpolation?.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>regexSafe(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?regexSafe(this.escape(w)):regexSafe(w)}].forEach(w=>{for(A=0;u=w.regex.exec(t);){const j=u[1].trim();if(d=f(j),d===void 0)if(typeof g=="function"){const R=g(t,u,l);d=isString$2(R)?R:""}else if(l&&Object.prototype.hasOwnProperty.call(l,j))d="";else if(v){d=u[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${t}`),d="";else!isString$2(d)&&!this.useRawValueToEscape&&(d=makeString(d));const E=w.safeValue(d);if(t=t.replace(u[0],E),v?(w.regex.lastIndex+=d.length,w.regex.lastIndex-=u[0].length):w.regex.lastIndex=0,A++,A>=this.maxReplaces)break}}),t}nest(t,n,o={}){let l,u,d;const A=(m,f)=>{const g=this.nestingOptionsSeparator;if(m.indexOf(g)<0)return m;const v=m.split(new RegExp(`${regexEscape(g)}[ ]*{`));let b=`{${v[1]}`;m=v[0],b=this.interpolate(b,d);const w=b.match(/'/g),j=b.match(/"/g);((w?.length??0)%2===0&&!j||(j?.length??0)%2!==0)&&(b=b.replace(/'/g,'"'));try{d=JSON.parse(b),f&&(d={...f,...d})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,E),`${m}${g}${b}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,m};for(;l=this.nestingRegexp.exec(t);){let m=[];d={...o},d=d.replace&&!isString$2(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const f=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(f!==-1&&(m=l[1].slice(f).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),l[1]=l[1].slice(0,f)),u=n(A.call(this,l[1].trim(),d),d),u&&l[0]===t&&!isString$2(u))return u;isString$2(u)||(u=makeString(u)),u||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${t}`),u=""),m.length&&(u=m.reduce((g,v)=>this.format(g,v,o.lng,{...o,interpolationkey:l[1].trim()}),u.trim())),t=t.replace(l[0],u),this.regexp.lastIndex=0}return t}}const parseFormatStr=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const o=e.split("(");t=o[0].toLowerCase().trim();const l=o[1].substring(0,o[1].length-1);t==="currency"&&l.indexOf(":")<0?n.currency||(n.currency=l.trim()):t==="relativetime"&&l.indexOf(":")<0?n.range||(n.range=l.trim()):l.split(";").forEach(d=>{if(d){const[A,...m]=d.split(":"),f=m.join(":").trim().replace(/^'+|'+$/g,""),g=A.trim();n[g]||(n[g]=f),f==="false"&&(n[g]=!1),f==="true"&&(n[g]=!0),isNaN(f)||(n[g]=parseInt(f,10))}})}return{formatName:t,formatOptions:n}},createCachedFormatter=e=>{const t={};return(n,o,l)=>{let u=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(u={...u,[l.interpolationkey]:void 0});const d=o+JSON.stringify(u);let A=t[d];return A||(A=e(getCleanedCode(o),l),t[d]=A),A(n)}},createNonCachedFormatter=e=>(t,n,o)=>e(getCleanedCode(n),o)(t);class Formatter{constructor(t={}){this.logger=baseLogger.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const o=n.cacheInBuiltFormats?createCachedFormatter:createNonCachedFormatter;this.formats={number:o((l,u)=>{const d=new Intl.NumberFormat(l,{...u});return A=>d.format(A)}),currency:o((l,u)=>{const d=new Intl.NumberFormat(l,{...u,style:"currency"});return A=>d.format(A)}),datetime:o((l,u)=>{const d=new Intl.DateTimeFormat(l,{...u});return A=>d.format(A)}),relativetime:o((l,u)=>{const d=new Intl.RelativeTimeFormat(l,{...u});return A=>d.format(A,u.range||"day")}),list:o((l,u)=>{const d=new Intl.ListFormat(l,{...u});return A=>d.format(A)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=createCachedFormatter(n)}format(t,n,o,l={}){const u=n.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(A=>A.indexOf(")")>-1)){const A=u.findIndex(m=>m.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,A)].join(this.formatSeparator)}return u.reduce((A,m)=>{const{formatName:f,formatOptions:g}=parseFormatStr(m);if(this.formats[f]){let v=A;try{const b=l?.formatParams?.[l.interpolationkey]||{},w=b.locale||b.lng||l.locale||l.lng||o;v=this.formats[f](A,w,{...g,...l,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${f}`);return A},t)}}const removePending=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Connector extends EventEmitter$1{constructor(t,n,o,l={}){super(),this.backend=t,this.store=n,this.services=o,this.languageUtils=o.languageUtils,this.options=l,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(o,l.backend,l)}queueLoad(t,n,o,l){const u={},d={},A={},m={};return t.forEach(f=>{let g=!0;n.forEach(v=>{const b=`${f}|${v}`;!o.reload&&this.store.hasResourceBundle(f,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?d[b]===void 0&&(d[b]=!0):(this.state[b]=1,g=!1,d[b]===void 0&&(d[b]=!0),u[b]===void 0&&(u[b]=!0),m[v]===void 0&&(m[v]=!0)))}),g||(A[f]=!0)}),(Object.keys(u).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(u),pending:Object.keys(d),toLoadLanguages:Object.keys(A),toLoadNamespaces:Object.keys(m)}}loaded(t,n,o){const l=t.split("|"),u=l[0],d=l[1];n&&this.emit("failedLoading",u,d,n),!n&&o&&this.store.addResourceBundle(u,d,o,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&o&&(this.state[t]=0);const A={};this.queue.forEach(m=>{pushPath(m.loaded,[u],d),removePending(m,t),n&&m.errors.push(n),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(f=>{A[f]||(A[f]={});const g=m.loaded[f];g.length&&g.forEach(v=>{A[f][v]===void 0&&(A[f][v]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",A),this.queue=this.queue.filter(m=>!m.done)}read(t,n,o,l=0,u=this.retryTimeout,d){if(!t.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:o,tried:l,wait:u,callback:d});return}this.readingCalls++;const A=(f,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(f&&g&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,o,l+1,u*2,d)},u);return}d(f,g)},m=this.backend[o].bind(this.backend);if(m.length===2){try{const f=m(t,n);f&&typeof f.then=="function"?f.then(g=>A(null,g)).catch(A):A(null,f)}catch(f){A(f)}return}return m(t,n,A)}prepareLoading(t,n,o={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();isString$2(t)&&(t=this.languageUtils.toResolveHierarchy(t)),isString$2(n)&&(n=[n]);const u=this.queueLoad(t,n,o,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(d=>{this.loadOne(d)})}load(t,n,o){this.prepareLoading(t,n,{},o)}reload(t,n,o){this.prepareLoading(t,n,{reload:!0},o)}loadOne(t,n=""){const o=t.split("|"),l=o[0],u=o[1];this.read(l,u,"read",void 0,void 0,(d,A)=>{d&&this.logger.warn(`${n}loading namespace ${u} for language ${l} failed`,d),!d&&A&&this.logger.log(`${n}loaded namespace ${u} for language ${l}`,A),this.loaded(t,d,A)})}saveMissing(t,n,o,l,u,d={},A=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${o}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend?.create){const m={...d,isUpdate:u},f=this.backend.create.bind(this.backend);if(f.length<6)try{let g;f.length===5?g=f(t,n,o,l,m):g=f(t,n,o,l),g&&typeof g.then=="function"?g.then(v=>A(null,v)).catch(A):A(null,g)}catch(g){A(g)}else f(t,n,o,l,A,m)}!t||!t[0]||this.store.addResource(t[0],n,o,l)}}}const get$4=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),isString$2(e[1])&&(t.defaultValue=e[1]),isString$2(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(o=>{t[o]=n[o]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),transformOptions=e=>(isString$2(e.ns)&&(e.ns=[e.ns]),isString$2(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),isString$2(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),noop$5=()=>{},bindMemberFunctions=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})},SUPPORT_NOTICE_KEY="__i18next_supportNoticeShown",getSupportNoticeShown=()=>typeof globalThis<"u"&&!!globalThis[SUPPORT_NOTICE_KEY],setSupportNoticeShown=()=>{typeof globalThis<"u"&&(globalThis[SUPPORT_NOTICE_KEY]=!0)},usesLocize=e=>!!(e?.modules?.backend?.name?.indexOf("Locize")>0||e?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||e?.options?.backend?.backends&&e.options.backend.backends.some(t=>t?.name?.indexOf("Locize")>0||t?.constructor?.name?.indexOf("Locize")>0)||e?.options?.backend?.projectId||e?.options?.backend?.backendOptions&&e.options.backend.backendOptions.some(t=>t?.projectId));class I18n extends EventEmitter$1{constructor(t={},n){if(super(),this.options=transformOptions(t),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(isString$2(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const o=get$4();this.options={...o,...this.options,...transformOptions(t)},this.options.interpolation={...o.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=o.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!usesLocize(this)&&!getSupportNoticeShown()&&(typeof console<"u"&&typeof console.info<"u"&&console.info("ðŸŒ i18next is maintained with support from Locize â€” consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ðŸ’™"),setSupportNoticeShown());const l=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(l(this.modules.logger),this.options):baseLogger.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Formatter;const g=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const v=this.services;v.logger=baseLogger,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new PluralResolver(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(v.formatter=l(f),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Interpolator(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Connector(l(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(w,...j)=>{this.emit(w,...j)}),this.modules.languageDetector&&(v.languageDetector=l(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=l(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(w,...j)=>{this.emit(w,...j)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=noop$5),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...g)=>this.store[f](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...g)=>(this.store[f](...g),this)});const A=defer(),m=()=>{const f=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),A.resolve(v),n(g,v)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),A}loadResources(t,n=noop$5){let o=n;const l=isString$2(t)?t:this.language;if(typeof t=="function"&&(o=t),!this.options.resources||this.options.partialBundledLanguages){if(l?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const u=[],d=A=>{if(!A||A==="cimode")return;this.services.languageUtils.toResolveHierarchy(A).forEach(f=>{f!=="cimode"&&u.indexOf(f)<0&&u.push(f)})};l?d(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>d(m)),this.options.preload?.forEach?.(A=>d(A)),this.services.backendConnector.load(u,this.options.ns,A=>{!A&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(A)})}else o(null)}reloadResources(t,n,o){const l=defer();return typeof t=="function"&&(o=t,t=void 0),typeof n=="function"&&(o=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),o||(o=noop$5),this.services.backendConnector.reload(t,n,u=>{l.resolve(),o(u)}),l}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&postProcessor.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const o=this.languages[n];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const o=defer();this.emit("languageChanging",t);const l=A=>{this.language=A,this.languages=this.services.languageUtils.toResolveHierarchy(A),this.resolvedLanguage=void 0,this.setResolvedLanguage(A)},u=(A,m)=>{m?this.isLanguageChangingTo===t&&(l(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,o.resolve((...f)=>this.t(...f)),n&&n(A,(...f)=>this.t(...f))},d=A=>{!t&&!A&&this.services.languageDetector&&(A=[]);const m=isString$2(A)?A:A&&A[0],f=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(isString$2(A)?[A]:A);f&&(this.language||l(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,g=>{u(g,f)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(t),o}getFixedT(t,n,o){const l=(u,d,...A)=>{let m;typeof d!="object"?m=this.options.overloadTranslationOptionHandler([u,d].concat(A)):m={...d},m.lng=m.lng||l.lng,m.lngs=m.lngs||l.lngs,m.ns=m.ns||l.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||o||l.keyPrefix);const f=this.options.keySeparator||".";let g;return m.keyPrefix&&Array.isArray(u)?g=u.map(v=>(typeof v=="function"&&(v=keysFromSelector(v,{...this.options,...d})),`${m.keyPrefix}${f}${v}`)):(typeof u=="function"&&(u=keysFromSelector(u,{...this.options,...d})),g=m.keyPrefix?`${m.keyPrefix}${f}${u}`:u),this.t(g,m)};return isString$2(t)?l.lng=t:l.lngs=t,l.ns=n,l.keyPrefix=o,l}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=n.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const d=(A,m)=>{const f=this.services.backendConnector.state[`${A}|${m}`];return f===-1||f===0||f===2};if(n.precheck){const A=n.precheck(this,d);if(A!==void 0)return A}return!!(this.hasResourceBundle(o,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(o,t)&&(!l||d(u,t)))}loadNamespaces(t,n){const o=defer();return this.options.ns?(isString$2(t)&&(t=[t]),t.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{o.resolve(),n&&n(l)}),o):(n&&n(),Promise.resolve())}loadLanguages(t,n){const o=defer();isString$2(t)&&(t=[t]);const l=this.options.preload||[],u=t.filter(d=>l.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return u.length?(this.options.preload=l.concat(u),this.loadResources(d=>{o.resolve(),n&&n(d)}),o):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const l=new Intl.Locale(t);if(l&&l.getTextInfo){const u=l.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services?.languageUtils||new LanguageUtil(get$4());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(o.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const o=new I18n(t,n);return o.createInstance=I18n.createInstance,o}cloneInstance(t={},n=noop$5){const o=t.forkResourceStore;o&&delete t.forkResourceStore;const l={...this.options,...t,isClone:!0},u=new I18n(l);if((t.debug!==void 0||t.prefix!==void 0)&&(u.logger=u.logger.clone(t)),["store","services","language"].forEach(A=>{u[A]=this[A]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},o){const A=Object.keys(this.store.data).reduce((m,f)=>(m[f]={...this.store.data[f]},m[f]=Object.keys(m[f]).reduce((g,v)=>(g[v]={...m[f][v]},g),m[f]),m),{});u.store=new ResourceStore(A,l),u.services.resourceStore=u.store}if(t.interpolation){const m={...get$4().interpolation,...this.options.interpolation,...t.interpolation},f={...l,interpolation:m};u.services.interpolator=new Interpolator(f)}return u.translator=new Translator(u.services,l),u.translator.on("*",(A,...m)=>{u.emit(A,...m)}),u.init(l,n),u.translator.options=l,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]),warn$1=(e,t,n,o)=>{const l=[n,{code:t,...o||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);isString$1(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...l):console?.warn&&console.warn(...l)},alreadyWarned$1={},warnOnce=(e,t,n,o)=>{isString$1(n)&&alreadyWarned$1[n]||(isString$1(n)&&(alreadyWarned$1[n]=new Date),warn$1(e,t,n,o))},loadedClb=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},loadNamespaces=(e,t,n)=>{e.loadNamespaces(t,loadedClb(e,n))},loadLanguages=(e,t,n,o)=>{if(isString$1(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return loadNamespaces(e,n,o);n.forEach(l=>{e.options.ns.indexOf(l)<0&&e.options.ns.push(l)}),e.loadLanguages(t,loadedClb(e,o))},hasLoadedNamespace=(e,t,n={})=>!t.languages||!t.languages.length?(warnOnce(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(o,l)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!l(o.isLanguageChangingTo,e))return!1}}),isString$1=e=>typeof e=="string",isObject$1=e=>typeof e=="object"&&e!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=e=>htmlEntities[e],unescape$1=e=>e.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions$1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1,transDefaultProps:void 0};const setDefaults=(e={})=>{defaultOptions$1={...defaultOptions$1,...e}},getDefaults$1=()=>defaultOptions$1;let i18nInstance;const setI18n=e=>{i18nInstance=e},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(e){setDefaults(e.options.react),setI18n(e)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var e=requireReact();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,l=e.useEffect,u=e.useLayoutEffect,d=e.useDebugValue;function A(v,b){var w=b(),j=o({inst:{value:w,getSnapshot:b}}),E=j[0].inst,R=j[1];return u(function(){E.value=w,E.getSnapshot=b,m(E)&&R({inst:E})},[v,w,b]),l(function(){return m(E)&&R({inst:E}),v(function(){m(E)&&R({inst:E})})},[v]),d(w),w}function m(v){var b=v.getSnapshot;v=v.value;try{var w=b();return!n(v,w)}catch{return!0}}function f(v,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:A;return useSyncExternalStoreShim_production.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();const notReadyT=(e,t)=>isString$1(t)?t:isObject$1(t)&&isString$1(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,notReadySnapshot={t:notReadyT,ready:!1},dummySubscribe=()=>()=>{},useTranslation=(e,t={})=>{const{i18n:n}=t,{i18n:o,defaultNS:l}=reactExports.useContext(I18nContext)||{},u=n||o||getI18n();u&&!u.reportNamespaces&&(u.reportNamespaces=new ReportNamespaces),u||warnOnce(u,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=reactExports.useMemo(()=>({...getDefaults$1(),...u?.options?.react,...t}),[u,t]),{useSuspense:A,keyPrefix:m}=d,f=e||l||u?.options?.defaultNS,g=isString$1(f)?[f]:f||["translation"],v=reactExports.useMemo(()=>g,g);u?.reportNamespaces?.addUsedNamespaces?.(v);const b=reactExports.useRef(0),w=reactExports.useCallback(se=>{if(!u)return dummySubscribe;const{bindI18n:ce,bindI18nStore:ie}=d,pe=()=>{b.current+=1,se()};return ce&&u.on(ce,pe),ie&&u.store.on(ie,pe),()=>{ce&&ce.split(" ").forEach(xe=>u.off(xe,pe)),ie&&ie.split(" ").forEach(xe=>u.store.off(xe,pe))}},[u,d]),j=reactExports.useRef(),E=reactExports.useCallback(()=>{if(!u)return notReadySnapshot;const se=!!(u.isInitialized||u.initializedStoreOnce)&&v.every(ue=>hasLoadedNamespace(ue,u,d)),ce=t.lng||u.language,ie=b.current,pe=j.current;if(pe&&pe.ready===se&&pe.lng===ce&&pe.keyPrefix===m&&pe.revision===ie)return pe;const Ae={t:u.getFixedT(ce,d.nsMode==="fallback"?v:v[0],m),ready:se,lng:ce,keyPrefix:m,revision:ie};return j.current=Ae,Ae},[u,v,m,d,t.lng]),[R,_]=reactExports.useState(0),{t:N,ready:B}=shimExports.useSyncExternalStore(w,E,E);reactExports.useEffect(()=>{if(u&&!B&&!A){const se=()=>_(ce=>ce+1);t.lng?loadLanguages(u,t.lng,v,se):loadNamespaces(u,v,se)}},[u,t.lng,v,B,A,R]);const M=u||{},O=reactExports.useRef(null),F=reactExports.useRef(),$=se=>{const ce=Object.getOwnPropertyDescriptors(se);ce.__original&&delete ce.__original;const ie=Object.create(Object.getPrototypeOf(se),ce);if(!Object.prototype.hasOwnProperty.call(ie,"__original"))try{Object.defineProperty(ie,"__original",{value:se,writable:!1,enumerable:!1,configurable:!1})}catch{}return ie},z=reactExports.useMemo(()=>{const se=M,ce=se?.language;let ie=se;se&&(O.current&&O.current.__original===se?F.current!==ce?(ie=$(se),O.current=ie,F.current=ce):ie=O.current:(ie=$(se),O.current=ie,F.current=ce));const pe=[N,ie,B];return pe.t=N,pe.i18n=ie,pe.ready=B,pe},[N,M,B,M.resolvedLanguage,M.language,M.languages]);if(u&&A&&!B)throw new Promise(se=>{const ce=()=>se();t.lng?loadLanguages(u,t.lng,v,ce):loadNamespaces(u,v,ce)});return z},{slice,forEach}=[];function defaults$1(e){return forEach.call(slice.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function hasXSS(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(e,t){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},l=encodeURIComponent(t);let u=`${e}=${l}`;if(o.maxAge>0){const d=o.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");u+=`; Max-Age=${Math.floor(d)}`}if(o.domain){if(!fieldContentRegExp.test(o.domain))throw new TypeError("option domain is invalid");u+=`; Domain=${o.domain}`}if(o.path){if(!fieldContentRegExp.test(o.path))throw new TypeError("option path is invalid");u+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(u+="; Partitioned"),u},cookie={create(e,t,n,o){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(l.expires=new Date,l.expires.setTime(l.expires.getTime()+n*60*1e3)),o&&(l.domain=o),document.cookie=serializeCookie(e,t,l)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let o=0;o<n.length;o++){let l=n[o];for(;l.charAt(0)===" ";)l=l.substring(1,l.length);if(l.indexOf(t)===0)return l.substring(t.length,l.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var cookie$1={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return cookie.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:o,cookieDomain:l,cookieOptions:u}=t;n&&typeof document<"u"&&cookie.create(n,e,o,l,u)}},querystring={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const u=o.substring(1).split("&");for(let d=0;d<u.length;d++){const A=u[d].indexOf("=");A>0&&u[d].substring(0,A)===t&&(n=u[d].substring(A+1))}}return n}},hash={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,o;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const u=l.substring(1);if(t){const d=u.split("&");for(let A=0;A<d.length;A++){const m=d[A].indexOf("=");m>0&&d[A].substring(0,m)===t&&(o=d[A].substring(m+1))}}if(o)return o;if(!o&&n>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return o}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&localStorageAvailable())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&localStorageAvailable()&&window.localStorage.setItem(n,e)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&sessionStorageAvailable())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&sessionStorageAvailable()&&window.sessionStorage.setItem(n,e)}},navigator$1={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:o,language:l}=navigator;if(n)for(let u=0;u<n.length;u++)t.push(n[u]);o&&t.push(o),l&&t.push(l)}return t.length>0?t:void 0}},htmlTag={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const o=t||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(n=o.getAttribute("lang")),n}},path$2={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,o=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(o)return o[n]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch{}const order$1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order$1.splice(1,1);const getDefaults=()=>({order:order$1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class Browser{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=defaults$1(n,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=l=>l.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path$2),this.addDetector(subdomain),this.addDetector(hash)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(o=>{if(this.detectors[o]){let l=this.detectors[o].lookup(this.options);l&&typeof l=="string"&&(l=[l]),l&&(n=n.concat(l))}}),n=n.filter(o=>o!=null&&!hasXSS(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(o=>{this.detectors[o]&&this.detectors[o].cacheUserLanguage(t,this.options)}))}}Browser.type="languageDetector";const i18nConfig={fallbackLng:"zh",supportedLngs:["zh","en"],ns:["common","studentConsole","coursePage","progressTracker","visualizationEditor"],defaultNS:"common"},close$2="å…³é—­",restore$1="è¿˜åŽŸ",restoreTitle$1="è¿˜åŽŸåˆ°å°çª—å£ (ESC)",parseError$1="è§£æžé”™è¯¯",renderError$2="æ¸²æŸ“æ€ç»´å¯¼å›¾æ—¶å‡ºé”™",syntaxError$1="è¯­æ³•é”™è¯¯",commonZh={close:close$2,restore:restore$1,restoreTitle:restoreTitle$1,parseError:parseError$1,renderError:renderError$2,syntaxError:syntaxError$1},task$1="ä»»åŠ¡",finish$1="å®Œæˆå­¦ä¹ ",next$1="è¿›å…¥ä¸‹ä¸€é˜¶æ®µ",previous$4="è¿”å›žä¸Šä¸€é˜¶æ®µ",inputPlaceholder$3="è¯·è¾“å…¥ä½ çš„å›žç­”...",aiProcessing$1="AI å¯¼å¸ˆæ€è€ƒä¸­...",operator$1="å­¦ç”Ÿ",aiSystem$1="AI å­¦ä¹ æ•™ç»ƒ",missionObjective$1="ä»»åŠ¡ç›®æ ‡",systemInstructions$1="æ“ä½œæŒ‡å—",mindMapTip$1="ç¼–è¾‘ä¸Šæ–¹ä»£ç ï¼Œä¸‹æ–¹å®žæ—¶ç”Ÿæˆ",readingTip$1="è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹ææ–™",stuck$1="æˆ‘å¡ä½äº†",done$1="æˆ‘åšå®Œäº†",evaluate$2="è¯·æ±‚è¯„ä»·",stuckTip$1="ç‚¹å‡»è¿™é‡Œï¼Œè®© AI å¯¼å¸ˆåŸºäºŽä½ ç›®å‰çš„è¡¨æ ¼å†…å®¹æä¾›æ€è·¯",myMap$1="æˆ‘çš„æ€ç»´å¯¼å›¾",optimizeMap$1="AI ä¼˜åŒ–ç»“æž„",sessionComplete$1="å­¦ä¹ æ—…ç¨‹å®Œæˆ",ticketGenerated$1="å­¦ä¹ èƒ½åŠ›åˆ†æžæŠ¥å‘Š",masteryScore$1="ç»¼åˆæŽŒæ¡è¯„åˆ†",keyTakeaway$1="æ ¸å¿ƒæ”¶èŽ·",nextSteps$1="ä¸‹ä¸€æ­¥å»ºè®®",restartLearning$1="å†å­¦ä¸€é",endLearning$1="ç»“æŸå­¦ä¹ ",processing$1="æ­£åœ¨ç”Ÿæˆåˆ†æžæŠ¥å‘Š...",processingTip$1="ç³»ç»Ÿæ­£åœ¨æ ¹æ®æ‚¨çš„äº’åŠ¨é¢‘çŽ‡ã€ä»»åŠ¡è´¨é‡å’Œæ€ç»´æ·±åº¦ç”Ÿæˆã€Œç«¹å­å­¦éœ¸ã€èƒ½åŠ›æ¨¡åž‹...",neuralMap$1="æœ€ç»ˆçŸ¥è¯†å›¾è°±",radarTitle$1="å­¦éœ¸å››ç‰¹è´¨æ¨¡åž‹",systemLog$1="æ€ç»´æ—¥å¿—",taskOrder$1="ä»»åŠ¡ {{n}}",hintClickDone$1='å®ŒæˆåŽè¯·ç‚¹å‡» "æˆ‘åšå®Œäº†" ï¼Œé‡åˆ°å›°éš¾è¯·ç‚¹å‡» "æˆ‘å¡ä½äº†"',nextStep$1="è¿›å…¥ä¸‹ä¸€æ­¥",nextTask$1="è¿›å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡",tutorOnline$1="æ•™ç»ƒåœ¨çº¿",voiceBroadcast$1="è¯­éŸ³æ’­æŠ¥",voiceOn$1="å·²å¼€å¯",voiceOff$1="å·²å…³é—­",voiceTurnOn$1="å¼€å¯è¯­éŸ³æ’­æŠ¥",voiceTurnOff$1="å…³é—­è¯­éŸ³æ’­æŠ¥",selectVoice$1="é€‰æ‹©è¯­éŸ³",fontSizeSmall$1="å°",fontSizeMedium$1="ä¸­",fontSizeLarge$1="å¤§",loadingVoices$1="åŠ è½½ä¸­â€¦",noVoices$1="æš‚æ— å¯ç”¨è¯­éŸ³",voiceFemale$1="(å¥³)",voiceMale$1="(ç”·)",send$1="å‘é€",releaseToSend$1="æ¾å¼€å‘é€",holdToSpeak$1="æŒ‰ä½è¯´è¯",recording$1="æ­£åœ¨å½•éŸ³...",recognizing$1="æ­£åœ¨è¯†åˆ«è¯­éŸ³...",speechError$1="è¯­éŸ³è¯†åˆ«é”™è¯¯",guidedStep1$1="æˆ‘èƒ½æ˜Žç¡®ç›®æ ‡",guidedStep2$1="æˆ‘èƒ½è‡ªä¸»å­¦ä¹ ",guidedStep3$1="æˆ‘èƒ½æ€»ç»“è¦ç‚¹",guidedStep4$1="æˆ‘èƒ½ç»ƒä¸€ç»ƒ",guidedStep5$1="æˆ‘èƒ½å®Œæˆå¤ç›˜",learningObjective$1="å­¦ä¹ ç›®æ ‡",whyLearnThis$1="ä¸ºä»€ä¹ˆå­¦è¿™ä¸ªï¼Ÿ",whatToLearn$1="å­¦ä»€ä¹ˆï¼Ÿ",learnObjectivePlaceholder$1="è¯·å…ˆäº†è§£æœ¬èŠ‚è¯¾å­¦ä¹ ç›®æ ‡ã€‚",instructionalVideo$1="æ•™å­¦è§†é¢‘",browserNoVideo$1="æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾ã€‚",noVideoAvailable$1="æš‚æ— å¯æ’­æ”¾è§†é¢‘",fillKeywordHint$1="è¯·æ ¹æ®å¥æ„å¡«å†™ç©ºæ ¼ä¸­çš„å…³é”®è¯ã€‚",greetingFirst$1="å˜¿ï¼Œ{{name}}ï¼ðŸ˜Š å‡†å¤‡å¥½å¼€å§‹æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæŒ‘æˆ˜äº†å—ï¼Ÿ",greetingFirstWithHint$1="{{title}}ï¼Œå¬èµ·æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹æ„æ€ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·æ¥æŽ¢ç´¢å§ï¼æˆ‘ä¼šä¸€ç›´é™ªåœ¨ä½ èº«è¾¹ï¼Œæœ‰ä»»ä½•é—®é¢˜éšæ—¶é—®æˆ‘ã€‚",greetingFirstNoHint$1="{{title}}ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥æŽ¢ç´¢å§ï¼æˆ‘ä¼šä¸€ç›´é™ªåœ¨ä½ èº«è¾¹ï¼Œæœ‰ä»»ä½•é—®é¢˜éšæ—¶é—®æˆ‘ã€‚",greetingFirstEnd$1="å‡†å¤‡å¥½äº†å—ï¼Ÿæˆ‘ä»¬å¼€å§‹å§ï¼",greetingLater$1="{{name}}ï¼Œæˆ‘ä»¬åˆè§é¢äº†ï¼âœ¨",greetingLaterBody$1="çŽ°åœ¨æˆ‘ä»¬è¦å¼€å§‹ï¼š{{title}}ã€‚è¿™æ¬¡çš„ä»»åŠ¡ä¼šæ›´æœ‰è¶£ï¼Œè®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆå§ï¼",greetingLaterEnd$1="å‡†å¤‡å¥½äº†å°±å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä»¬å¼€å§‹ï¼",newTask$1="æ–°ä»»åŠ¡",switchToVoice$1="åˆ‡æ¢è¯­éŸ³",switchToKeyboard$1="åˆ‡æ¢é”®ç›˜",loadingAsset$1="æ­£åœ¨åŠ è½½ç´ æ...",noContent$1="æš‚æ— å†…å®¹",noContentEditHint$1="æš‚æ— å†…å®¹ï¼Œç‚¹å‡»æ­¤å¤„å¼€å§‹ç¼–è¾‘...",clickToEdit$1="ç‚¹å‡»è¿›å…¥ç¼–è¾‘æ¨¡å¼",guidedDoneStep$1="AI è€å¸ˆï¼Œæˆ‘å®Œæˆäº†ã€Œ{{step}}ã€è¿™ä¸€æ­¥ã€‚",guidedDoneTask$1="AI è€å¸ˆï¼Œæˆ‘å®Œæˆäº†è¿™ä¸ªä»»åŠ¡ï¼Œè¯·è¯„ä»·æˆ‘çš„æˆæžœã€‚",stuckHint$1="AI è€å¸ˆï¼Œæˆ‘å¡ä½äº†ï¼Œèƒ½ç»™æˆ‘ä¸€äº›æç¤ºå—ï¼Ÿ",connectionError$1="è¿žæŽ¥é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚",noLearningObjective$1="æš‚æ— å­¦ä¹ ç›®æ ‡",endNow$1="ç›´æŽ¥ç»“æŸå­¦ä¹ ",scholarAnalysis$1="å­¦éœ¸èƒ½åŠ›åˆ†æž",fillBlank$1="å¡«ç©º",enterYourAnswer$1="è¯·è¾“å…¥ä½ çš„ç­”æ¡ˆ",enterYourReviewAnswer$1="è¯·è¾“å…¥ä½ çš„å¤ç›˜å›žç­”",fullscreen$1="å…¨å±æ˜¾ç¤º",interactiveSimulation$1="äº¤äº’å¼æ¨¡æ‹Ÿ",interactiveLab$1="äº¤äº’å¼å®žéªŒå®¤",mindMapEditor$1="æ€ç»´å¯¼å›¾ç¼–è¾‘å™¨",textEditorPlaceholder$1="åœ¨æ­¤è¾“å…¥æ–‡æœ¬å†…å®¹...æ”¯æŒ LaTeX å…¬å¼ï¼Œä¾‹å¦‚ï¼š$x^2 + y^2 = r^2$ æˆ– $$\\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$$",mathEditorPlaceholder$1="è¾“å…¥æ•°å­¦å…¬å¼ï¼Œä½¿ç”¨ LaTeX è¯­æ³•ï¼Œä¾‹å¦‚ï¼š$x^2 + y^2 = r^2$ æˆ– $$\\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$$",viewReferenceAnswer$1="æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ",hideReferenceAnswer$1="éšè—å‚è€ƒç­”æ¡ˆ",handwrittenAnswer$1="æ‰‹å†™ç­”æ¡ˆ",uploadHandwrittenAnswer$1="ç‚¹å‡»ä¸Šä¼ æ‰‹å†™ç­”æ¡ˆå›¾ç‰‡",takePhotoUpload$1="æ‹ç…§ä¸Šä¼ ",guidedStep1PresetReplies$1=["å¾ˆå¥½ï¼ä½ å·²ç»æ˜Žç¡®äº†å­¦ä¹ ç›®æ ‡ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥å§ã€‚","å­¦ä¹ ç›®æ ‡å·²ç¡®è®¤ï¼Œç»§ç»­åŠ æ²¹ï¼ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥ã€‚","ç›®æ ‡æ˜Žç¡®ï¼Œæ€è·¯æ¸…æ™°ï¼Œå¾ˆæ£’ï¼ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥ã€‚"],guidedStep2PresetReplies$1=["å¤ªæ£’äº†ï¼è‡ªä¸»å­¦ä¹ å®Œæˆå¾—ä¸é”™ï¼Œç»§ç»­åŠ æ²¹ï¼ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥ã€‚","è‡ªä¸»å­¦ä¹ åšå¾—å¾ˆå¥½ï¼Œç»§ç»­ä¿æŒï¼ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥ã€‚","ä½ å·²ç»å®Œæˆè‡ªä¸»å­¦ä¹ ï¼Œå¾ˆæ£’ï¼ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥ã€‚"],studentConsoleZh={task:task$1,finish:finish$1,next:next$1,previous:previous$4,inputPlaceholder:inputPlaceholder$3,aiProcessing:aiProcessing$1,operator:operator$1,aiSystem:aiSystem$1,missionObjective:missionObjective$1,systemInstructions:systemInstructions$1,mindMapTip:mindMapTip$1,readingTip:readingTip$1,stuck:stuck$1,done:done$1,evaluate:evaluate$2,stuckTip:stuckTip$1,myMap:myMap$1,optimizeMap:optimizeMap$1,sessionComplete:sessionComplete$1,ticketGenerated:ticketGenerated$1,masteryScore:masteryScore$1,keyTakeaway:keyTakeaway$1,nextSteps:nextSteps$1,restartLearning:restartLearning$1,endLearning:endLearning$1,processing:processing$1,processingTip:processingTip$1,neuralMap:neuralMap$1,radarTitle:radarTitle$1,systemLog:systemLog$1,taskOrder:taskOrder$1,hintClickDone:hintClickDone$1,nextStep:nextStep$1,nextTask:nextTask$1,tutorOnline:tutorOnline$1,voiceBroadcast:voiceBroadcast$1,voiceOn:voiceOn$1,voiceOff:voiceOff$1,voiceTurnOn:voiceTurnOn$1,voiceTurnOff:voiceTurnOff$1,selectVoice:selectVoice$1,fontSizeSmall:fontSizeSmall$1,fontSizeMedium:fontSizeMedium$1,fontSizeLarge:fontSizeLarge$1,loadingVoices:loadingVoices$1,noVoices:noVoices$1,voiceFemale:voiceFemale$1,voiceMale:voiceMale$1,send:send$1,releaseToSend:releaseToSend$1,holdToSpeak:holdToSpeak$1,recording:recording$1,recognizing:recognizing$1,speechError:speechError$1,guidedStep1:guidedStep1$1,guidedStep2:guidedStep2$1,guidedStep3:guidedStep3$1,guidedStep4:guidedStep4$1,guidedStep5:guidedStep5$1,learningObjective:learningObjective$1,whyLearnThis:whyLearnThis$1,whatToLearn:whatToLearn$1,learnObjectivePlaceholder:learnObjectivePlaceholder$1,instructionalVideo:instructionalVideo$1,browserNoVideo:browserNoVideo$1,noVideoAvailable:noVideoAvailable$1,fillKeywordHint:fillKeywordHint$1,greetingFirst:greetingFirst$1,greetingFirstWithHint:greetingFirstWithHint$1,greetingFirstNoHint:greetingFirstNoHint$1,greetingFirstEnd:greetingFirstEnd$1,greetingLater:greetingLater$1,greetingLaterBody:greetingLaterBody$1,greetingLaterEnd:greetingLaterEnd$1,newTask:newTask$1,switchToVoice:switchToVoice$1,switchToKeyboard:switchToKeyboard$1,loadingAsset:loadingAsset$1,noContent:noContent$1,noContentEditHint:noContentEditHint$1,clickToEdit:clickToEdit$1,guidedDoneStep:guidedDoneStep$1,guidedDoneTask:guidedDoneTask$1,stuckHint:stuckHint$1,connectionError:connectionError$1,noLearningObjective:noLearningObjective$1,endNow:endNow$1,scholarAnalysis:scholarAnalysis$1,fillBlank:fillBlank$1,enterYourAnswer:enterYourAnswer$1,enterYourReviewAnswer:enterYourReviewAnswer$1,fullscreen:fullscreen$1,interactiveSimulation:interactiveSimulation$1,interactiveLab:interactiveLab$1,mindMapEditor:mindMapEditor$1,textEditorPlaceholder:textEditorPlaceholder$1,mathEditorPlaceholder:mathEditorPlaceholder$1,viewReferenceAnswer:viewReferenceAnswer$1,hideReferenceAnswer:hideReferenceAnswer$1,handwrittenAnswer:handwrittenAnswer$1,uploadHandwrittenAnswer:uploadHandwrittenAnswer$1,takePhotoUpload:takePhotoUpload$1,guidedStep1PresetReplies:guidedStep1PresetReplies$1,guidedStep2PresetReplies:guidedStep2PresetReplies$1},courseIdLabel$1="è¯¾ç¨‹ ID",dataFormatError$1="è¯¾ç¨‹æ•°æ®æ ¼å¼é”™è¯¯",loading$1="æ­£åœ¨åŠ è½½è¯¾ç¨‹...",courseLoadFailed$1="è¯¾ç¨‹åŠ è½½å¤±è´¥",invalidCourseId$1="è¯¾ç¨‹ ID æ— æ•ˆ",loadFailedCheckLink$1="è¯¾ç¨‹åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥é“¾æŽ¥æ˜¯å¦æ­£ç¡®",courseNotExistOrExpired$1="è¯¾ç¨‹ä¸å­˜åœ¨æˆ–å·²è¿‡æœŸ",backToHome$1="è¿”å›žé¦–é¡µ",retry$1="é‡è¯•",retryFailed$1="é‡è¯•å¤±è´¥",coursePageZh={courseIdLabel:courseIdLabel$1,dataFormatError:dataFormatError$1,loading:loading$1,courseLoadFailed:courseLoadFailed$1,invalidCourseId:invalidCourseId$1,loadFailedCheckLink:loadFailedCheckLink$1,courseNotExistOrExpired:courseNotExistOrExpired$1,backToHome:backToHome$1,retry:retry$1,retryFailed:retryFailed$1},title$1="å®žæ—¶å­¦ä¹ è¿›åº¦",taskProgress$1="ä»»åŠ¡è¿›åº¦",taskCount$1="ä»»åŠ¡ {{current}} / {{total}}",traitTitle$1="å­¦éœ¸ç‰¹è´¨å®žæ—¶å¾—åˆ†",selfDrive$1="è‡ªé©±åŠ›",focus$2="ä¸“æ³¨åŠ›",thinking$1="äº«å—æ€è€ƒ",improvement$1="ç—´è¿·æ”¹è¿›",questionCount$1="æé—®æ•°",improvementCount$1="æ”¹è¿›æ¬¡æ•°",deepThinking$1="æ·±åº¦æ€è€ƒ",completion$1="å®Œæˆåº¦",recentAchievements$1="æœ€è¿‘æˆå°± âœ¨",points$1="+{{count}} åˆ†",firstQuestion$1="ä½ æå‡ºäº†ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ðŸ’¡",questionsCount$1="ä½ å·²ç»æå‡ºäº† {{count}} ä¸ªé—®é¢˜ï¼ç»§ç»­æŽ¢ç´¢ï¼",firstEdit$1="ä½ å¼€å§‹æ”¹è¿›ä½ çš„ç­”æ¡ˆäº†ï¼âœ¨",editsCount$1="ä½ å·²ç»è¿›è¡Œäº† {{count}} æ¬¡æ”¹è¿›ï¼ç²¾ç›Šæ±‚ç²¾ï¼",deepInsight$1="ä½ å±•çŽ°äº†æ·±åº¦æ€è€ƒï¼ðŸŒŸ",tasksCompleted$1="å·²å®Œæˆ {{completed}}/{{total}} ä¸ªä»»åŠ¡ï¼ç»§ç»­åŠ æ²¹ï¼ðŸŽ¯",progressTrackerZh={title:title$1,taskProgress:taskProgress$1,taskCount:taskCount$1,traitTitle:traitTitle$1,selfDrive:selfDrive$1,focus:focus$2,thinking:thinking$1,improvement:improvement$1,questionCount:questionCount$1,improvementCount:improvementCount$1,deepThinking:deepThinking$1,completion:completion$1,recentAchievements:recentAchievements$1,points:points$1,firstQuestion:firstQuestion$1,questionsCount:questionsCount$1,firstEdit:firstEdit$1,editsCount:editsCount$1,deepInsight:deepInsight$1,tasksCompleted:tasksCompleted$1},aiGenerateFramework$1="AIç”Ÿæˆæ¡†æž¶",generating$1="ç”Ÿæˆä¸­...",aiGenerateFrameworkTitle$1="AIç”Ÿæˆæ€ç»´å¯¼å›¾æ¡†æž¶",closeEditor$1="å…³é—­ç¼–è¾‘å™¨",mindmap$1="æ€ç»´å¯¼å›¾",mindmapDesc$1="æ ‘çŠ¶ç»“æž„ï¼Œé€‚åˆå±‚çº§å…³ç³»",conceptmap$1="æ¦‚å¿µåœ°å›¾",conceptmapDesc$1="èŠ‚ç‚¹-å…³ç³»-èŠ‚ç‚¹ï¼Œé€‚åˆæ¦‚å¿µè¿žæŽ¥",knowledgegraph$1="çŸ¥è¯†å›¾è°±",knowledgegraphDesc$1="å›¾ç»“æž„ï¼Œé€‚åˆå¤æ‚å…³ç³»ç½‘ç»œ",simpleInput$1="ç®€å•è¾“å…¥",simpleInputDesc$1="è¾“å…¥æ–‡æœ¬ï¼Œè‡ªåŠ¨è§£æž",clickCreate$1="ç‚¹å‡»åˆ›å»º",clickCreateDesc$1="ç‚¹å‡»ç”»å¸ƒåˆ›å»ºèŠ‚ç‚¹",dragDrop$1="æ‹–æ‹½æž„å»º",dragDropDesc$1="æ‹–æ‹½èŠ‚ç‚¹è¿žæŽ¥å…³ç³»",textInput$1="æ–‡æœ¬è¾“å…¥",syntaxExample$1="è¯­æ³•ç¤ºä¾‹ï¼š",syntaxLine1$1="â€¢ æ¦‚å¿µA â†’ æ¦‚å¿µB",syntaxLine2$1="â€¢ æ¦‚å¿µA â†’ å…³ç³» â†’ æ¦‚å¿µB",syntaxLine3$1="â€¢ æ¦‚å¿µA [å›°æƒ‘ç‚¹] â†’ æ¦‚å¿µB",syntaxHint$1="æ¯è¡Œä¸€ä¸ªå…³ç³»ï¼Œè‡ªåŠ¨è§£æž",inputPlaceholder$2=`è¾“å…¥æ¦‚å¿µå’Œå…³ç³»ï¼Œä¾‹å¦‚ï¼š
æ¦‚å¿µA -> æ¦‚å¿µB
æ¦‚å¿µB -> å…³ç³» -> æ¦‚å¿µC
æ¦‚å¿µD [å›°æƒ‘ç‚¹] -> æ¦‚å¿µE`,visualizationEditorZh={aiGenerateFramework:aiGenerateFramework$1,generating:generating$1,aiGenerateFrameworkTitle:aiGenerateFrameworkTitle$1,closeEditor:closeEditor$1,mindmap:mindmap$1,mindmapDesc:mindmapDesc$1,conceptmap:conceptmap$1,conceptmapDesc:conceptmapDesc$1,knowledgegraph:knowledgegraph$1,knowledgegraphDesc:knowledgegraphDesc$1,simpleInput:simpleInput$1,simpleInputDesc:simpleInputDesc$1,clickCreate:clickCreate$1,clickCreateDesc:clickCreateDesc$1,dragDrop:dragDrop$1,dragDropDesc:dragDropDesc$1,textInput:textInput$1,syntaxExample:syntaxExample$1,syntaxLine1:syntaxLine1$1,syntaxLine2:syntaxLine2$1,syntaxLine3:syntaxLine3$1,syntaxHint:syntaxHint$1,inputPlaceholder:inputPlaceholder$2},close$1="Close",restore="Restore",restoreTitle="Restore to small window (ESC)",parseError="Parse error",renderError$1="Error rendering mind map",syntaxError="Syntax error",commonEn={close:close$1,restore,restoreTitle,parseError,renderError:renderError$1,syntaxError},task="Task",finish="Finish Learning",next="Next Phase",previous$3="Previous Phase",inputPlaceholder$1="Enter your answer...",aiProcessing="AI tutor is thinking...",operator="Student",aiSystem="AI Learning Coach",missionObjective="Mission Objective",systemInstructions="Instructions",mindMapTip="Edit the code above; preview updates below in real time",readingTip="Please read the following material carefully",stuck="I'm stuck",done="I'm done",evaluate$1="Request feedback",stuckTip="Click here for AI tutor to provide guidance based on your current table content",myMap="My Mind Map",optimizeMap="AI Optimize Structure",sessionComplete="Learning Journey Complete",ticketGenerated="Learning Ability Analysis Report",masteryScore="Overall Mastery Score",keyTakeaway="Key Takeaways",nextSteps="Next Steps",restartLearning="Learn Again",endLearning="End Learning",processing="Generating analysis report...",processingTip='Generating the "Bamboo Scholar" ability model based on your engagement, task quality, and thinking depth...',neuralMap="Final Knowledge Graph",radarTitle="Scholar Four Traits Model",systemLog="Thinking Log",taskOrder="Task {{n}}",hintClickDone=`When done, click "I'm done"; when stuck, click "I'm stuck"`,nextStep="Next Step",nextTask="Next Task",tutorOnline="Coach Online",voiceBroadcast="Voice",voiceOn="On",voiceOff="Off",voiceTurnOn="Turn on voice",voiceTurnOff="Turn off voice",selectVoice="Select voice",fontSizeSmall="S",fontSizeMedium="M",fontSizeLarge="L",loadingVoices="Loadingâ€¦",noVoices="No voices available",voiceFemale="(F)",voiceMale="(M)",send="Send",releaseToSend="Release to send",holdToSpeak="Hold to speak",recording="Recording...",recognizing="Recognizing...",speechError="Speech recognition error",guidedStep1="I can define the goal",guidedStep2="I can learn independently",guidedStep3="I can summarize key points",guidedStep4="I can practice",guidedStep5="I can complete the review",learningObjective="Learning objective",whyLearnThis="Why learn this?",whatToLearn="What to learn?",learnObjectivePlaceholder="Learn the lesson objective first.",instructionalVideo="Instructional video",browserNoVideo="Your browser does not support video.",noVideoAvailable="No video available",fillKeywordHint="Fill in the key words in the blanks based on the context.",greetingFirst="Hey, {{name}}! ðŸ˜Š Ready for our first challenge?",greetingFirstWithHint="{{title}} sounds interesting, doesn't it? Let's explore together! I'll be here with you â€” ask me anything.",greetingFirstNoHint="Let's explore {{title}} together! I'll be here with you â€” ask me anything.",greetingFirstEnd="Ready? Let's go!",greetingLater="{{name}}, great to see you again! âœ¨",greetingLaterBody="Now we're starting: {{title}}. This one will be more fun â€” let's see what happens!",greetingLaterEnd="Tell me when you're ready and we'll begin!",newTask="New Task",switchToVoice="Switch to voice",switchToKeyboard="Switch to keyboard",loadingAsset="Loading asset...",noContent="No content",noContentEditHint="No content, click here to edit...",clickToEdit="Click to enter edit mode",guidedDoneStep=`AI teacher, I've completed the step "{{step}}".`,guidedDoneTask="AI teacher, I've completed this task. Please evaluate my work.",stuckHint="AI teacher, I'm stuck. Can you give me some hints?",connectionError="Connection error. Please try again.",noLearningObjective="No learning objective",endNow="End now",scholarAnalysis="Scholar analysis",fillBlank="Fill in blank",enterYourAnswer="Enter your answer",enterYourReviewAnswer="Enter your review answer",fullscreen="Fullscreen",interactiveSimulation="Interactive simulation",interactiveLab="Interactive lab",mindMapEditor="Mind map editor",textEditorPlaceholder="Enter text here... LaTeX supported, e.g. $x^2 + y^2 = r^2$ or $$\\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$$",mathEditorPlaceholder="Enter math formula using LaTeX, e.g. $x^2 + y^2 = r^2$ or $$\\frac{-b \\pm \\sqrt{b^2-4ac}}{2a}$$",viewReferenceAnswer="View reference answer",hideReferenceAnswer="Hide reference answer",handwrittenAnswer="Handwritten answer",uploadHandwrittenAnswer="Click to upload handwritten answer image",takePhotoUpload="Take photo to upload",guidedStep1PresetReplies=["Great! You've clarified your learning goal. Click the button below to continue.","Goal confirmed. Keep it up! Click the button below to continue.","Clear objective, nice work! Click the button below to continue."],guidedStep2PresetReplies=["Well done! Independent learning completed. Click the button below to continue.","Great job on the independent study! Click the button below to continue.","You've finished independent learning. Click the button below to continue."],studentConsoleEn={task,finish,next,previous:previous$3,inputPlaceholder:inputPlaceholder$1,aiProcessing,operator,aiSystem,missionObjective,systemInstructions,mindMapTip,readingTip,stuck,done,evaluate:evaluate$1,stuckTip,myMap,optimizeMap,sessionComplete,ticketGenerated,masteryScore,keyTakeaway,nextSteps,restartLearning,endLearning,processing,processingTip,neuralMap,radarTitle,systemLog,taskOrder,hintClickDone,nextStep,nextTask,tutorOnline,voiceBroadcast,voiceOn,voiceOff,voiceTurnOn,voiceTurnOff,selectVoice,fontSizeSmall,fontSizeMedium,fontSizeLarge,loadingVoices,noVoices,voiceFemale,voiceMale,send,releaseToSend,holdToSpeak,recording,recognizing,speechError,guidedStep1,guidedStep2,guidedStep3,guidedStep4,guidedStep5,learningObjective,whyLearnThis,whatToLearn,learnObjectivePlaceholder,instructionalVideo,browserNoVideo,noVideoAvailable,fillKeywordHint,greetingFirst,greetingFirstWithHint,greetingFirstNoHint,greetingFirstEnd,greetingLater,greetingLaterBody,greetingLaterEnd,newTask,switchToVoice,switchToKeyboard,loadingAsset,noContent,noContentEditHint,clickToEdit,guidedDoneStep,guidedDoneTask,stuckHint,connectionError,noLearningObjective,endNow,scholarAnalysis,fillBlank,enterYourAnswer,enterYourReviewAnswer,fullscreen,interactiveSimulation,interactiveLab,mindMapEditor,textEditorPlaceholder,mathEditorPlaceholder,viewReferenceAnswer,hideReferenceAnswer,handwrittenAnswer,uploadHandwrittenAnswer,takePhotoUpload,guidedStep1PresetReplies,guidedStep2PresetReplies},courseIdLabel="Course ID",dataFormatError="Invalid course data format",loading="Loading course...",courseLoadFailed="Course load failed",invalidCourseId="Invalid course ID",loadFailedCheckLink="Course load failed. Please check if the link is correct",courseNotExistOrExpired="Course does not exist or has expired",backToHome="Back to Home",retry="Retry",retryFailed="Retry failed",coursePageEn={courseIdLabel,dataFormatError,loading,courseLoadFailed,invalidCourseId,loadFailedCheckLink,courseNotExistOrExpired,backToHome,retry,retryFailed},title="Real-time Learning Progress",taskProgress="Task Progress",taskCount="Task {{current}} / {{total}}",traitTitle="Scholar Traits Score",selfDrive="Self Drive",focus$1="Focus",thinking="Enjoy Thinking",improvement="Obsessed with Improvement",questionCount="Questions",improvementCount="Improvements",deepThinking="Deep Thinking",completion="Completion",recentAchievements="Recent Achievements âœ¨",points="+{{count}} pts",firstQuestion="You asked your first question! ðŸ’¡",questionsCount="You've asked {{count}} questions! Keep exploring!",firstEdit="You started improving your answer! âœ¨",editsCount="You've made {{count}} improvements! Keep refining!",deepInsight="You showed deep thinking! ðŸŒŸ",tasksCompleted="Completed {{completed}}/{{total}} tasks! Keep going! ðŸŽ¯",progressTrackerEn={title,taskProgress,taskCount,traitTitle,selfDrive,focus:focus$1,thinking,improvement,questionCount,improvementCount,deepThinking,completion,recentAchievements,points,firstQuestion,questionsCount,firstEdit,editsCount,deepInsight,tasksCompleted},aiGenerateFramework="AI Generate Framework",generating="Generating...",aiGenerateFrameworkTitle="AI generate mind map framework",closeEditor="Close editor",mindmap="Mind Map",mindmapDesc="Tree structure for hierarchies",conceptmap="Concept Map",conceptmapDesc="Node-relation-node for concept connections",knowledgegraph="Knowledge Graph",knowledgegraphDesc="Graph structure for complex relationships",simpleInput="Simple Input",simpleInputDesc="Enter text, auto-parse",clickCreate="Click to Create",clickCreateDesc="Click canvas to create nodes",dragDrop="Drag & Drop",dragDropDesc="Drag nodes to connect",textInput="Text Input",syntaxExample="Syntax example:",syntaxLine1="â€¢ ConceptA â†’ ConceptB",syntaxLine2="â€¢ ConceptA â†’ relation â†’ ConceptB",syntaxLine3="â€¢ ConceptA [confusion] â†’ ConceptB",syntaxHint="One relation per line, auto-parse",inputPlaceholder=`Enter concepts and relations, e.g.:
ConceptA -> ConceptB
ConceptB -> relation -> ConceptC
ConceptD [confusion] -> ConceptE`,visualizationEditorEn={aiGenerateFramework,generating,aiGenerateFrameworkTitle,closeEditor,mindmap,mindmapDesc,conceptmap,conceptmapDesc,knowledgegraph,knowledgegraphDesc,simpleInput,simpleInputDesc,clickCreate,clickCreateDesc,dragDrop,dragDropDesc,textInput,syntaxExample,syntaxLine1,syntaxLine2,syntaxLine3,syntaxHint,inputPlaceholder},resources={zh:{common:commonZh,studentConsole:studentConsoleZh,coursePage:coursePageZh,progressTracker:progressTrackerZh,visualizationEditor:visualizationEditorZh},en:{common:commonEn,studentConsole:studentConsoleEn,coursePage:coursePageEn,progressTracker:progressTrackerEn,visualizationEditor:visualizationEditorEn}};instance.use(Browser).use(initReactI18next).init({...i18nConfig,resources,detection:{order:["querystring","localStorage","navigator"],lookupQuerystring:"lang",lookupLocalStorage:"i18nextLng",caches:["localStorage"]}});var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(e){function t(H,le){var de=H.length;H.push(le);e:for(;0<de;){var ye=de-1>>>1,ge=H[ye];if(0<l(ge,le))H[ye]=le,H[de]=ge,de=ye;else break e}}function n(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var le=H[0],de=H.pop();if(de!==le){H[0]=de;e:for(var ye=0,ge=H.length,je=ge>>>1;ye<je;){var Me=2*(ye+1)-1,He=H[Me],Qe=Me+1,ze=H[Qe];if(0>l(He,de))Qe<ge&&0>l(ze,He)?(H[ye]=ze,H[Qe]=de,ye=Qe):(H[ye]=He,H[Me]=de,ye=Me);else if(Qe<ge&&0>l(ze,de))H[ye]=ze,H[Qe]=de,ye=Qe;else break e}}return le}function l(H,le){var de=H.sortIndex-le.sortIndex;return de!==0?de:H.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,A=d.now();e.unstable_now=function(){return d.now()-A}}var m=[],f=[],g=1,v=null,b=3,w=!1,j=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(H){for(var le=n(f);le!==null;){if(le.callback===null)o(f);else if(le.startTime<=H)o(f),le.sortIndex=le.expirationTime,t(m,le);else break;le=n(f)}}function M(H){if(E=!1,B(H),!j)if(n(m)!==null)j=!0,Y(O);else{var le=n(f);le!==null&&fe(M,le.startTime-H)}}function O(H,le){j=!1,E&&(E=!1,_(z),z=-1),w=!0;var de=b;try{for(B(le),v=n(m);v!==null&&(!(v.expirationTime>le)||H&&!ie());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,b=v.priorityLevel;var ge=ye(v.expirationTime<=le);le=e.unstable_now(),typeof ge=="function"?v.callback=ge:v===n(m)&&o(m),B(le)}else o(m);v=n(m)}if(v!==null)var je=!0;else{var Me=n(f);Me!==null&&fe(M,Me.startTime-le),je=!1}return je}finally{v=null,b=de,w=!1}}var F=!1,$=null,z=-1,se=5,ce=-1;function ie(){return!(e.unstable_now()-ce<se)}function pe(){if($!==null){var H=e.unstable_now();ce=H;var le=!0;try{le=$(!0,H)}finally{le?xe():(F=!1,$=null)}}else F=!1}var xe;if(typeof N=="function")xe=function(){N(pe)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,ue=Ae.port2;Ae.port1.onmessage=pe,xe=function(){ue.postMessage(null)}}else xe=function(){R(pe,0)};function Y(H){$=H,F||(F=!0,xe())}function fe(H,le){z=R(function(){H(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){j||w||(j=!0,Y(O))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var de=b;b=le;try{return H()}finally{b=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,le){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var de=b;b=H;try{return le()}finally{b=de}},e.unstable_scheduleCallback=function(H,le,de){var ye=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ye+de:ye):de=ye,H){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=de+ge,H={id:g++,callback:le,priorityLevel:H,startTime:de,expirationTime:ge,sortIndex:-1},de>ye?(H.sortIndex=de,t(f,H),n(m)===null&&H===n(f)&&(E?(_(z),z=-1):E=!0,fe(M,de-ye))):(H.sortIndex=ge,t(m,H),j||w||(j=!0,Y(O))),H},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(H){var le=b;return function(){var de=b;b=le;try{return H.apply(this,arguments)}finally{b=de}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var e=requireReact(),t=requireScheduler();function n(C){for(var I="https://reactjs.org/docs/error-decoder.html?invariant="+C,L=1;L<arguments.length;L++)I+="&args[]="+encodeURIComponent(arguments[L]);return"Minified React error #"+C+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(C,I){d(C,I),d(C+"Capture",I)}function d(C,I){for(l[C]=I,C=0;C<I.length;C++)o.add(I[C])}var A=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function b(C){return m.call(v,C)?!0:m.call(g,C)?!1:f.test(C)?v[C]=!0:(g[C]=!0,!1)}function w(C,I,L,oe){if(L!==null&&L.type===0)return!1;switch(typeof I){case"function":case"symbol":return!0;case"boolean":return oe?!1:L!==null?!L.acceptsBooleans:(C=C.toLowerCase().slice(0,5),C!=="data-"&&C!=="aria-");default:return!1}}function j(C,I,L,oe){if(I===null||typeof I>"u"||w(C,I,L,oe))return!0;if(oe)return!1;if(L!==null)switch(L.type){case 3:return!I;case 4:return I===!1;case 5:return isNaN(I);case 6:return isNaN(I)||1>I}return!1}function E(C,I,L,oe,_e,Oe,We){this.acceptsBooleans=I===2||I===3||I===4,this.attributeName=oe,this.attributeNamespace=_e,this.mustUseProperty=L,this.propertyName=C,this.type=I,this.sanitizeURL=Oe,this.removeEmptyString=We}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(C){R[C]=new E(C,0,!1,C,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(C){var I=C[0];R[I]=new E(I,1,!1,C[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(C){R[C]=new E(C,2,!1,C.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(C){R[C]=new E(C,2,!1,C,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(C){R[C]=new E(C,3,!1,C.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(C){R[C]=new E(C,3,!0,C,null,!1,!1)}),["capture","download"].forEach(function(C){R[C]=new E(C,4,!1,C,null,!1,!1)}),["cols","rows","size","span"].forEach(function(C){R[C]=new E(C,6,!1,C,null,!1,!1)}),["rowSpan","start"].forEach(function(C){R[C]=new E(C,5,!1,C.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function N(C){return C[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(C){var I=C.replace(_,N);R[I]=new E(I,1,!1,C,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(C){var I=C.replace(_,N);R[I]=new E(I,1,!1,C,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(C){var I=C.replace(_,N);R[I]=new E(I,1,!1,C,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(C){R[C]=new E(C,1,!1,C.toLowerCase(),null,!1,!1)}),R.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(C){R[C]=new E(C,1,!1,C.toLowerCase(),null,!0,!0)});function B(C,I,L,oe){var _e=R.hasOwnProperty(I)?R[I]:null;(_e!==null?_e.type!==0:oe||!(2<I.length)||I[0]!=="o"&&I[0]!=="O"||I[1]!=="n"&&I[1]!=="N")&&(j(I,L,_e,oe)&&(L=null),oe||_e===null?b(I)&&(L===null?C.removeAttribute(I):C.setAttribute(I,""+L)):_e.mustUseProperty?C[_e.propertyName]=L===null?_e.type===3?!1:"":L:(I=_e.attributeName,oe=_e.attributeNamespace,L===null?C.removeAttribute(I):(_e=_e.type,L=_e===3||_e===4&&L===!0?"":""+L,oe?C.setAttributeNS(oe,I,L):C.setAttribute(I,L))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),H=Symbol.iterator;function le(C){return C===null||typeof C!="object"?null:(C=H&&C[H]||C["@@iterator"],typeof C=="function"?C:null)}var de=Object.assign,ye;function ge(C){if(ye===void 0)try{throw Error()}catch(L){var I=L.stack.trim().match(/\n( *(at )?)/);ye=I&&I[1]||""}return`
`+ye+C}var je=!1;function Me(C,I){if(!C||je)return"";je=!0;var L=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(I)if(I=function(){throw Error()},Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(Rr){var oe=Rr}Reflect.construct(C,[],I)}else{try{I.call()}catch(Rr){oe=Rr}C.call(I.prototype)}else{try{throw Error()}catch(Rr){oe=Rr}C()}}catch(Rr){if(Rr&&oe&&typeof Rr.stack=="string"){for(var _e=Rr.stack.split(`
`),Oe=oe.stack.split(`
`),We=_e.length-1,kt=Oe.length-1;1<=We&&0<=kt&&_e[We]!==Oe[kt];)kt--;for(;1<=We&&0<=kt;We--,kt--)if(_e[We]!==Oe[kt]){if(We!==1||kt!==1)do if(We--,kt--,0>kt||_e[We]!==Oe[kt]){var Vt=`
`+_e[We].replace(" at new "," at ");return C.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",C.displayName)),Vt}while(1<=We&&0<=kt);break}}}finally{je=!1,Error.prepareStackTrace=L}return(C=C?C.displayName||C.name:"")?ge(C):""}function He(C){switch(C.tag){case 5:return ge(C.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 2:case 15:return C=Me(C.type,!1),C;case 11:return C=Me(C.type.render,!1),C;case 1:return C=Me(C.type,!0),C;default:return""}}function Qe(C){if(C==null)return null;if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case $:return"Fragment";case F:return"Portal";case se:return"Profiler";case z:return"StrictMode";case xe:return"Suspense";case Ae:return"SuspenseList"}if(typeof C=="object")switch(C.$$typeof){case ie:return(C.displayName||"Context")+".Consumer";case ce:return(C._context.displayName||"Context")+".Provider";case pe:var I=C.render;return C=C.displayName,C||(C=I.displayName||I.name||"",C=C!==""?"ForwardRef("+C+")":"ForwardRef"),C;case ue:return I=C.displayName||null,I!==null?I:Qe(C.type)||"Memo";case Y:I=C._payload,C=C._init;try{return Qe(C(I))}catch{}}return null}function ze(C){var I=C.type;switch(C.tag){case 24:return"Cache";case 9:return(I.displayName||"Context")+".Consumer";case 10:return(I._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return C=I.render,C=C.displayName||C.name||"",I.displayName||(C!==""?"ForwardRef("+C+")":"ForwardRef");case 7:return"Fragment";case 5:return I;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(I);case 8:return I===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I}return null}function Ve(C){switch(typeof C){case"boolean":case"number":case"string":case"undefined":return C;case"object":return C;default:return""}}function tt(C){var I=C.type;return(C=C.nodeName)&&C.toLowerCase()==="input"&&(I==="checkbox"||I==="radio")}function nt(C){var I=tt(C)?"checked":"value",L=Object.getOwnPropertyDescriptor(C.constructor.prototype,I),oe=""+C[I];if(!C.hasOwnProperty(I)&&typeof L<"u"&&typeof L.get=="function"&&typeof L.set=="function"){var _e=L.get,Oe=L.set;return Object.defineProperty(C,I,{configurable:!0,get:function(){return _e.call(this)},set:function(We){oe=""+We,Oe.call(this,We)}}),Object.defineProperty(C,I,{enumerable:L.enumerable}),{getValue:function(){return oe},setValue:function(We){oe=""+We},stopTracking:function(){C._valueTracker=null,delete C[I]}}}}function Ye(C){C._valueTracker||(C._valueTracker=nt(C))}function ut(C){if(!C)return!1;var I=C._valueTracker;if(!I)return!0;var L=I.getValue(),oe="";return C&&(oe=tt(C)?C.checked?"true":"false":C.value),C=oe,C!==L?(I.setValue(C),!0):!1}function mt(C){if(C=C||(typeof document<"u"?document:void 0),typeof C>"u")return null;try{return C.activeElement||C.body}catch{return C.body}}function St(C,I){var L=I.checked;return de({},I,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:L??C._wrapperState.initialChecked})}function or(C,I){var L=I.defaultValue==null?"":I.defaultValue,oe=I.checked!=null?I.checked:I.defaultChecked;L=Ve(I.value!=null?I.value:L),C._wrapperState={initialChecked:oe,initialValue:L,controlled:I.type==="checkbox"||I.type==="radio"?I.checked!=null:I.value!=null}}function Zt(C,I){I=I.checked,I!=null&&B(C,"checked",I,!1)}function Bt(C,I){Zt(C,I);var L=Ve(I.value),oe=I.type;if(L!=null)oe==="number"?(L===0&&C.value===""||C.value!=L)&&(C.value=""+L):C.value!==""+L&&(C.value=""+L);else if(oe==="submit"||oe==="reset"){C.removeAttribute("value");return}I.hasOwnProperty("value")?Nr(C,I.type,L):I.hasOwnProperty("defaultValue")&&Nr(C,I.type,Ve(I.defaultValue)),I.checked==null&&I.defaultChecked!=null&&(C.defaultChecked=!!I.defaultChecked)}function ur(C,I,L){if(I.hasOwnProperty("value")||I.hasOwnProperty("defaultValue")){var oe=I.type;if(!(oe!=="submit"&&oe!=="reset"||I.value!==void 0&&I.value!==null))return;I=""+C._wrapperState.initialValue,L||I===C.value||(C.value=I),C.defaultValue=I}L=C.name,L!==""&&(C.name=""),C.defaultChecked=!!C._wrapperState.initialChecked,L!==""&&(C.name=L)}function Nr(C,I,L){(I!=="number"||mt(C.ownerDocument)!==C)&&(L==null?C.defaultValue=""+C._wrapperState.initialValue:C.defaultValue!==""+L&&(C.defaultValue=""+L))}var Qr=Array.isArray;function $r(C,I,L,oe){if(C=C.options,I){I={};for(var _e=0;_e<L.length;_e++)I["$"+L[_e]]=!0;for(L=0;L<C.length;L++)_e=I.hasOwnProperty("$"+C[L].value),C[L].selected!==_e&&(C[L].selected=_e),_e&&oe&&(C[L].defaultSelected=!0)}else{for(L=""+Ve(L),I=null,_e=0;_e<C.length;_e++){if(C[_e].value===L){C[_e].selected=!0,oe&&(C[_e].defaultSelected=!0);return}I!==null||C[_e].disabled||(I=C[_e])}I!==null&&(I.selected=!0)}}function on(C,I){if(I.dangerouslySetInnerHTML!=null)throw Error(n(91));return de({},I,{value:void 0,defaultValue:void 0,children:""+C._wrapperState.initialValue})}function wn(C,I){var L=I.value;if(L==null){if(L=I.children,I=I.defaultValue,L!=null){if(I!=null)throw Error(n(92));if(Qr(L)){if(1<L.length)throw Error(n(93));L=L[0]}I=L}I==null&&(I=""),L=I}C._wrapperState={initialValue:Ve(L)}}function En(C,I){var L=Ve(I.value),oe=Ve(I.defaultValue);L!=null&&(L=""+L,L!==C.value&&(C.value=L),I.defaultValue==null&&C.defaultValue!==L&&(C.defaultValue=L)),oe!=null&&(C.defaultValue=""+oe)}function en(C){var I=C.textContent;I===C._wrapperState.initialValue&&I!==""&&I!==null&&(C.value=I)}function Pt(C){switch(C){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(C,I){return C==null||C==="http://www.w3.org/1999/xhtml"?Pt(I):C==="http://www.w3.org/2000/svg"&&I==="foreignObject"?"http://www.w3.org/1999/xhtml":C}var Xr,Cn=(function(C){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(I,L,oe,_e){MSApp.execUnsafeLocalFunction(function(){return C(I,L,oe,_e)})}:C})(function(C,I){if(C.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in C)C.innerHTML=I;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+I.valueOf().toString()+"</svg>",I=Xr.firstChild;C.firstChild;)C.removeChild(C.firstChild);for(;I.firstChild;)C.appendChild(I.firstChild)}});function tn(C,I){if(I){var L=C.firstChild;if(L&&L===C.lastChild&&L.nodeType===3){L.nodeValue=I;return}}C.textContent=I}var vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(vn).forEach(function(C){bn.forEach(function(I){I=I+C.charAt(0).toUpperCase()+C.substring(1),vn[I]=vn[C]})});function Br(C,I,L){return I==null||typeof I=="boolean"||I===""?"":L||typeof I!="number"||I===0||vn.hasOwnProperty(C)&&vn[C]?(""+I).trim():I+"px"}function Dt(C,I){C=C.style;for(var L in I)if(I.hasOwnProperty(L)){var oe=L.indexOf("--")===0,_e=Br(L,I[L],oe);L==="float"&&(L="cssFloat"),oe?C.setProperty(L,_e):C[L]=_e}}var Tr=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qr(C,I){if(I){if(Tr[C]&&(I.children!=null||I.dangerouslySetInnerHTML!=null))throw Error(n(137,C));if(I.dangerouslySetInnerHTML!=null){if(I.children!=null)throw Error(n(60));if(typeof I.dangerouslySetInnerHTML!="object"||!("__html"in I.dangerouslySetInnerHTML))throw Error(n(61))}if(I.style!=null&&typeof I.style!="object")throw Error(n(62))}}function Zr(C,I){if(C.indexOf("-")===-1)return typeof I.is=="string";switch(C){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jn=null;function rn(C){return C=C.target||C.srcElement||window,C.correspondingUseElement&&(C=C.correspondingUseElement),C.nodeType===3?C.parentNode:C}var Kn=null,an=null,Dr=null;function Hn(C){if(C=ac(C)){if(typeof Kn!="function")throw Error(n(280));var I=C.stateNode;I&&(I=Ic(I),Kn(C.stateNode,C.type,I))}}function Tn(C){an?Dr?Dr.push(C):Dr=[C]:an=C}function es(){if(an){var C=an,I=Dr;if(Dr=an=null,Hn(C),I)for(C=0;C<I.length;C++)Hn(I[C])}}function ps(C,I){return C(I)}function Ti(){}var ui=!1;function vi(C,I,L){if(ui)return C(I,L);ui=!0;try{return ps(C,I,L)}finally{ui=!1,(an!==null||Dr!==null)&&(Ti(),es())}}function fs(C,I){var L=C.stateNode;if(L===null)return null;var oe=Ic(L);if(oe===null)return null;L=oe[I];e:switch(I){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(oe=!oe.disabled)||(C=C.type,oe=!(C==="button"||C==="input"||C==="select"||C==="textarea")),C=!oe;break e;default:C=!1}if(C)return null;if(L&&typeof L!="function")throw Error(n(231,I,typeof L));return L}var Sn=!1;if(A)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Sn=!1}function zi(C,I,L,oe,_e,Oe,We,kt,Vt){var Rr=Array.prototype.slice.call(arguments,3);try{I.apply(L,Rr)}catch(Rn){this.onError(Rn)}}var zn=!1,wi=null,mi=!1,gi=null,Ni={onError:function(C){zn=!0,wi=C}};function Hs(C,I,L,oe,_e,Oe,We,kt,Vt){zn=!1,wi=null,zi.apply(Ni,arguments)}function Xi(C,I,L,oe,_e,Oe,We,kt,Vt){if(Hs.apply(this,arguments),zn){if(zn){var Rr=wi;zn=!1,wi=null}else throw Error(n(198));mi||(mi=!0,gi=Rr)}}function Bs(C){var I=C,L=C;if(C.alternate)for(;I.return;)I=I.return;else{C=I;do I=C,(I.flags&4098)!==0&&(L=I.return),C=I.return;while(C)}return I.tag===3?L:null}function Gi(C){if(C.tag===13){var I=C.memoizedState;if(I===null&&(C=C.alternate,C!==null&&(I=C.memoizedState)),I!==null)return I.dehydrated}return null}function Ss(C){if(Bs(C)!==C)throw Error(n(188))}function La(C){var I=C.alternate;if(!I){if(I=Bs(C),I===null)throw Error(n(188));return I!==C?null:C}for(var L=C,oe=I;;){var _e=L.return;if(_e===null)break;var Oe=_e.alternate;if(Oe===null){if(oe=_e.return,oe!==null){L=oe;continue}break}if(_e.child===Oe.child){for(Oe=_e.child;Oe;){if(Oe===L)return Ss(_e),C;if(Oe===oe)return Ss(_e),I;Oe=Oe.sibling}throw Error(n(188))}if(L.return!==oe.return)L=_e,oe=Oe;else{for(var We=!1,kt=_e.child;kt;){if(kt===L){We=!0,L=_e,oe=Oe;break}if(kt===oe){We=!0,oe=_e,L=Oe;break}kt=kt.sibling}if(!We){for(kt=Oe.child;kt;){if(kt===L){We=!0,L=Oe,oe=_e;break}if(kt===oe){We=!0,oe=Oe,L=_e;break}kt=kt.sibling}if(!We)throw Error(n(189))}}if(L.alternate!==oe)throw Error(n(190))}if(L.tag!==3)throw Error(n(188));return L.stateNode.current===L?C:I}function Qi(C){return C=La(C),C!==null?Pi(C):null}function Pi(C){if(C.tag===5||C.tag===6)return C;for(C=C.child;C!==null;){var I=Pi(C);if(I!==null)return I;C=C.sibling}return null}var Ot=t.unstable_scheduleCallback,sn=t.unstable_cancelCallback,mn=t.unstable_shouldYield,ji=t.unstable_requestPaint,As=t.unstable_now,Ji=t.unstable_getCurrentPriorityLevel,si=t.unstable_ImmediatePriority,Ra=t.unstable_UserBlockingPriority,aa=t.unstable_NormalPriority,wa=t.unstable_LowPriority,oa=t.unstable_IdlePriority,Gt=null,Ar=null;function hn(C){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Gt,C,void 0,(C.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:Si,Gs=Math.log,Xs=Math.LN2;function Si(C){return C>>>=0,C===0?32:31-(Gs(C)/Xs|0)|0}var $s=64,Wn=4194304;function Ks(C){switch(C&-C){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return C&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return C}}function xi(C,I){var L=C.pendingLanes;if(L===0)return 0;var oe=0,_e=C.suspendedLanes,Oe=C.pingedLanes,We=L&268435455;if(We!==0){var kt=We&~_e;kt!==0?oe=Ks(kt):(Oe&=We,Oe!==0&&(oe=Ks(Oe)))}else We=L&~_e,We!==0?oe=Ks(We):Oe!==0&&(oe=Ks(Oe));if(oe===0)return 0;if(I!==0&&I!==oe&&(I&_e)===0&&(_e=oe&-oe,Oe=I&-I,_e>=Oe||_e===16&&(Oe&4194240)!==0))return I;if((oe&4)!==0&&(oe|=L&16),I=C.entangledLanes,I!==0)for(C=C.entanglements,I&=oe;0<I;)L=31-Yr(I),_e=1<<L,oe|=C[L],I&=~_e;return oe}function Cs(C,I){switch(C){case 1:case 2:case 4:return I+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(C,I){for(var L=C.suspendedLanes,oe=C.pingedLanes,_e=C.expirationTimes,Oe=C.pendingLanes;0<Oe;){var We=31-Yr(Oe),kt=1<<We,Vt=_e[We];Vt===-1?((kt&L)===0||(kt&oe)!==0)&&(_e[We]=Cs(kt,I)):Vt<=I&&(C.expiredLanes|=kt),Oe&=~kt}}function Js(C){return C=C.pendingLanes&-1073741825,C!==0?C:C&1073741824?1073741824:0}function fa(){var C=$s;return $s<<=1,($s&4194240)===0&&($s=64),C}function ki(C){for(var I=[],L=0;31>L;L++)I.push(C);return I}function Bi(C,I,L){C.pendingLanes|=I,I!==536870912&&(C.suspendedLanes=0,C.pingedLanes=0),C=C.eventTimes,I=31-Yr(I),C[I]=L}function Ki(C,I){var L=C.pendingLanes&~I;C.pendingLanes=I,C.suspendedLanes=0,C.pingedLanes=0,C.expiredLanes&=I,C.mutableReadLanes&=I,C.entangledLanes&=I,I=C.entanglements;var oe=C.eventTimes;for(C=C.expirationTimes;0<L;){var _e=31-Yr(L),Oe=1<<_e;I[_e]=0,oe[_e]=-1,C[_e]=-1,L&=~Oe}}function za(C,I){var L=C.entangledLanes|=I;for(C=C.entanglements;L;){var oe=31-Yr(L),_e=1<<oe;_e&I|C[oe]&I&&(C[oe]|=I),L&=~_e}}var _s=0;function Zi(C){return C&=-C,1<C?4<C?(C&268435455)!==0?16:536870912:4:1}var ra,Ta,Ea,Qa,Wt,ne=!1,Ee=[],Se=null,J=null,ee=null,be=new Map,ke=new Map,Le=[],Ze="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(C,I){switch(C){case"focusin":case"focusout":Se=null;break;case"dragenter":case"dragleave":J=null;break;case"mouseover":case"mouseout":ee=null;break;case"pointerover":case"pointerout":be.delete(I.pointerId);break;case"gotpointercapture":case"lostpointercapture":ke.delete(I.pointerId)}}function V(C,I,L,oe,_e,Oe){return C===null||C.nativeEvent!==Oe?(C={blockedOn:I,domEventName:L,eventSystemFlags:oe,nativeEvent:Oe,targetContainers:[_e]},I!==null&&(I=ac(I),I!==null&&Ta(I)),C):(C.eventSystemFlags|=oe,I=C.targetContainers,_e!==null&&I.indexOf(_e)===-1&&I.push(_e),C)}function U(C,I,L,oe,_e){switch(I){case"focusin":return Se=V(Se,C,I,L,oe,_e),!0;case"dragenter":return J=V(J,C,I,L,oe,_e),!0;case"mouseover":return ee=V(ee,C,I,L,oe,_e),!0;case"pointerover":var Oe=_e.pointerId;return be.set(Oe,V(be.get(Oe)||null,C,I,L,oe,_e)),!0;case"gotpointercapture":return Oe=_e.pointerId,ke.set(Oe,V(ke.get(Oe)||null,C,I,L,oe,_e)),!0}return!1}function W(C){var I=yo(C.target);if(I!==null){var L=Bs(I);if(L!==null){if(I=L.tag,I===13){if(I=Gi(L),I!==null){C.blockedOn=I,Wt(C.priority,function(){Ea(L)});return}}else if(I===3&&L.stateNode.current.memoizedState.isDehydrated){C.blockedOn=L.tag===3?L.stateNode.containerInfo:null;return}}}C.blockedOn=null}function ae(C){if(C.blockedOn!==null)return!1;for(var I=C.targetContainers;0<I.length;){var L=wt(C.domEventName,C.eventSystemFlags,I[0],C.nativeEvent);if(L===null){L=C.nativeEvent;var oe=new L.constructor(L.type,L);jn=oe,L.target.dispatchEvent(oe),jn=null}else return I=ac(L),I!==null&&Ta(I),C.blockedOn=L,!1;I.shift()}return!0}function me(C,I,L){ae(C)&&L.delete(I)}function we(){ne=!1,Se!==null&&ae(Se)&&(Se=null),J!==null&&ae(J)&&(J=null),ee!==null&&ae(ee)&&(ee=null),be.forEach(me),ke.forEach(me)}function Be(C,I){C.blockedOn===I&&(C.blockedOn=null,ne||(ne=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,we)))}function Re(C){function I(_e){return Be(_e,C)}if(0<Ee.length){Be(Ee[0],C);for(var L=1;L<Ee.length;L++){var oe=Ee[L];oe.blockedOn===C&&(oe.blockedOn=null)}}for(Se!==null&&Be(Se,C),J!==null&&Be(J,C),ee!==null&&Be(ee,C),be.forEach(I),ke.forEach(I),L=0;L<Le.length;L++)oe=Le[L],oe.blockedOn===C&&(oe.blockedOn=null);for(;0<Le.length&&(L=Le[0],L.blockedOn===null);)W(L),L.blockedOn===null&&Le.shift()}var Te=M.ReactCurrentBatchConfig,$e=!0;function qe(C,I,L,oe){var _e=_s,Oe=Te.transition;Te.transition=null;try{_s=1,pt(C,I,L,oe)}finally{_s=_e,Te.transition=Oe}}function at(C,I,L,oe){var _e=_s,Oe=Te.transition;Te.transition=null;try{_s=4,pt(C,I,L,oe)}finally{_s=_e,Te.transition=Oe}}function pt(C,I,L,oe){if($e){var _e=wt(C,I,L,oe);if(_e===null)zl(C,I,oe,Ie,L),ht(C,oe);else if(U(_e,C,I,L,oe))oe.stopPropagation();else if(ht(C,oe),I&4&&-1<Ze.indexOf(C)){for(;_e!==null;){var Oe=ac(_e);if(Oe!==null&&ra(Oe),Oe=wt(C,I,L,oe),Oe===null&&zl(C,I,oe,Ie,L),Oe===_e)break;_e=Oe}_e!==null&&oe.stopPropagation()}else zl(C,I,oe,null,L)}}var Ie=null;function wt(C,I,L,oe){if(Ie=null,C=rn(oe),C=yo(C),C!==null)if(I=Bs(C),I===null)C=null;else if(L=I.tag,L===13){if(C=Gi(I),C!==null)return C;C=null}else if(L===3){if(I.stateNode.current.memoizedState.isDehydrated)return I.tag===3?I.stateNode.containerInfo:null;C=null}else I!==C&&(C=null);return Ie=C,null}function At(C){switch(C){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ji()){case si:return 1;case Ra:return 4;case aa:case wa:return 16;case oa:return 536870912;default:return 16}default:return 16}}var Nt=null,lt=null,Ut=null;function tr(){if(Ut)return Ut;var C,I=lt,L=I.length,oe,_e="value"in Nt?Nt.value:Nt.textContent,Oe=_e.length;for(C=0;C<L&&I[C]===_e[C];C++);var We=L-C;for(oe=1;oe<=We&&I[L-oe]===_e[Oe-oe];oe++);return Ut=_e.slice(C,1<oe?1-oe:void 0)}function Ft(C){var I=C.keyCode;return"charCode"in C?(C=C.charCode,C===0&&I===13&&(C=13)):C=I,C===10&&(C=13),32<=C||C===13?C:0}function it(){return!0}function Yt(){return!1}function Er(C){function I(L,oe,_e,Oe,We){this._reactName=L,this._targetInst=_e,this.type=oe,this.nativeEvent=Oe,this.target=We,this.currentTarget=null;for(var kt in C)C.hasOwnProperty(kt)&&(L=C[kt],this[kt]=L?L(Oe):Oe[kt]);return this.isDefaultPrevented=(Oe.defaultPrevented!=null?Oe.defaultPrevented:Oe.returnValue===!1)?it:Yt,this.isPropagationStopped=Yt,this}return de(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var L=this.nativeEvent;L&&(L.preventDefault?L.preventDefault():typeof L.returnValue!="unknown"&&(L.returnValue=!1),this.isDefaultPrevented=it)},stopPropagation:function(){var L=this.nativeEvent;L&&(L.stopPropagation?L.stopPropagation():typeof L.cancelBubble!="unknown"&&(L.cancelBubble=!0),this.isPropagationStopped=it)},persist:function(){},isPersistent:it}),I}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(C){return C.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lt=Er(lr),vr=de({},lr,{view:0,detail:0}),ft=Er(vr),yt,$t,Mt,jr=de({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(C){return C.relatedTarget===void 0?C.fromElement===C.srcElement?C.toElement:C.fromElement:C.relatedTarget},movementX:function(C){return"movementX"in C?C.movementX:(C!==Mt&&(Mt&&C.type==="mousemove"?(yt=C.screenX-Mt.screenX,$t=C.screenY-Mt.screenY):$t=yt=0,Mt=C),yt)},movementY:function(C){return"movementY"in C?C.movementY:$t}}),Pr=Er(jr),Mr=de({},jr,{dataTransfer:0}),hr=Er(Mr),Ir=de({},vr,{relatedTarget:0}),Nn=Er(Ir),gn=de({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),st=Er(gn),Tt=de({},lr,{clipboardData:function(C){return"clipboardData"in C?C.clipboardData:window.clipboardData}}),It=Er(Tt),er=de({},lr,{data:0}),nr=Er(er),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Or={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jr(C){var I=this.nativeEvent;return I.getModifierState?I.getModifierState(C):(C=Fr[C])?!!I[C]:!1}function Pn(){return Jr}var Xn=de({},vr,{key:function(C){if(C.key){var I=mr[C.key]||C.key;if(I!=="Unidentified")return I}return C.type==="keypress"?(C=Ft(C),C===13?"Enter":String.fromCharCode(C)):C.type==="keydown"||C.type==="keyup"?Or[C.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(C){return C.type==="keypress"?Ft(C):0},keyCode:function(C){return C.type==="keydown"||C.type==="keyup"?C.keyCode:0},which:function(C){return C.type==="keypress"?Ft(C):C.type==="keydown"||C.type==="keyup"?C.keyCode:0}}),ts=Er(Xn),ws=de({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bt=Er(ws),Dn=de({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn}),Is=Er(Dn),dt=de({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rt=Er(dt),ir=de({},jr,{deltaX:function(C){return"deltaX"in C?C.deltaX:"wheelDeltaX"in C?-C.wheelDeltaX:0},deltaY:function(C){return"deltaY"in C?C.deltaY:"wheelDeltaY"in C?-C.wheelDeltaY:"wheelDelta"in C?-C.wheelDelta:0},deltaZ:0,deltaMode:0}),Xt=Er(ir),_r=[9,13,27,32],Lr=A&&"CompositionEvent"in window,fn=null;A&&"documentMode"in document&&(fn=document.documentMode);var dn=A&&"TextEvent"in window&&!fn,fr=A&&(!Lr||fn&&8<fn&&11>=fn),xn=" ",Bn=!1;function un(C,I){switch(C){case"keyup":return _r.indexOf(I.keyCode)!==-1;case"keydown":return I.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(C){return C=C.detail,typeof C=="object"&&"data"in C?C.data:null}var Fn=!1;function Es(C,I){switch(C){case"compositionend":return qn(I);case"keypress":return I.which!==32?null:(Bn=!0,xn);case"textInput":return C=I.data,C===xn&&Bn?null:C;default:return null}}function Jn(C,I){if(Fn)return C==="compositionend"||!Lr&&un(C,I)?(C=tr(),Ut=lt=Nt=null,Fn=!1,C):null;switch(C){case"paste":return null;case"keypress":if(!(I.ctrlKey||I.altKey||I.metaKey)||I.ctrlKey&&I.altKey){if(I.char&&1<I.char.length)return I.char;if(I.which)return String.fromCharCode(I.which)}return null;case"compositionend":return fr&&I.locale!=="ko"?null:I.data;default:return null}}var ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(C){var I=C&&C.nodeName&&C.nodeName.toLowerCase();return I==="input"?!!ms[C.type]:I==="textarea"}function Vi(C,I,L,oe){Tn(oe),I=Ac(I,"onChange"),0<I.length&&(L=new Lt("onChange","change",null,L,oe),C.push({event:L,listeners:I}))}var as=null,Mi=null;function ks(C){al(C,0)}function ls(C){var I=Fo(C);if(ut(I))return C}function $i(C,I){if(C==="change")return I}var pn=!1;if(A){var In;if(A){var ai="oninput"in document;if(!ai){var rl=document.createElement("div");rl.setAttribute("oninput","return;"),ai=typeof rl.oninput=="function"}In=ai}else In=!1;pn=In&&(!document.documentMode||9<document.documentMode)}function ja(){as&&(as.detachEvent("onpropertychange",$a),Mi=as=null)}function $a(C){if(C.propertyName==="value"&&ls(Mi)){var I=[];Vi(I,Mi,C,rn(C)),vi(ks,I)}}function yl(C,I,L){C==="focusin"?(ja(),as=I,Mi=L,as.attachEvent("onpropertychange",$a)):C==="focusout"&&ja()}function Ms(C){if(C==="selectionchange"||C==="keyup"||C==="keydown")return ls(Mi)}function Sa(C,I){if(C==="click")return ls(I)}function ro(C,I){if(C==="input"||C==="change")return ls(I)}function zo(C,I){return C===I&&(C!==0||1/C===1/I)||C!==C&&I!==I}var Ba=typeof Object.is=="function"?Object.is:zo;function ea(C,I){if(Ba(C,I))return!0;if(typeof C!="object"||C===null||typeof I!="object"||I===null)return!1;var L=Object.keys(C),oe=Object.keys(I);if(L.length!==oe.length)return!1;for(oe=0;oe<L.length;oe++){var _e=L[oe];if(!m.call(I,_e)||!Ba(C[_e],I[_e]))return!1}return!0}function Na(C){for(;C&&C.firstChild;)C=C.firstChild;return C}function Ya(C,I){var L=Na(C);C=0;for(var oe;L;){if(L.nodeType===3){if(oe=C+L.textContent.length,C<=I&&oe>=I)return{node:L,offset:I-C};C=oe}e:{for(;L;){if(L.nextSibling){L=L.nextSibling;break e}L=L.parentNode}L=void 0}L=Na(L)}}function Dl(C,I){return C&&I?C===I?!0:C&&C.nodeType===3?!1:I&&I.nodeType===3?Dl(C,I.parentNode):"contains"in C?C.contains(I):C.compareDocumentPosition?!!(C.compareDocumentPosition(I)&16):!1:!1}function Va(){for(var C=window,I=mt();I instanceof C.HTMLIFrameElement;){try{var L=typeof I.contentWindow.location.href=="string"}catch{L=!1}if(L)C=I.contentWindow;else break;I=mt(C.document)}return I}function So(C){var I=C&&C.nodeName&&C.nodeName.toLowerCase();return I&&(I==="input"&&(C.type==="text"||C.type==="search"||C.type==="tel"||C.type==="url"||C.type==="password")||I==="textarea"||C.contentEditable==="true")}function bl(C){var I=Va(),L=C.focusedElem,oe=C.selectionRange;if(I!==L&&L&&L.ownerDocument&&Dl(L.ownerDocument.documentElement,L)){if(oe!==null&&So(L)){if(I=oe.start,C=oe.end,C===void 0&&(C=I),"selectionStart"in L)L.selectionStart=I,L.selectionEnd=Math.min(C,L.value.length);else if(C=(I=L.ownerDocument||document)&&I.defaultView||window,C.getSelection){C=C.getSelection();var _e=L.textContent.length,Oe=Math.min(oe.start,_e);oe=oe.end===void 0?Oe:Math.min(oe.end,_e),!C.extend&&Oe>oe&&(_e=oe,oe=Oe,Oe=_e),_e=Ya(L,Oe);var We=Ya(L,oe);_e&&We&&(C.rangeCount!==1||C.anchorNode!==_e.node||C.anchorOffset!==_e.offset||C.focusNode!==We.node||C.focusOffset!==We.offset)&&(I=I.createRange(),I.setStart(_e.node,_e.offset),C.removeAllRanges(),Oe>oe?(C.addRange(I),C.extend(We.node,We.offset)):(I.setEnd(We.node,We.offset),C.addRange(I)))}}for(I=[],C=L;C=C.parentNode;)C.nodeType===1&&I.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<I.length;L++)C=I[L],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}var nl=A&&"documentMode"in document&&11>=document.documentMode,Ga=null,Co=null,Qo=null,go=!1;function lo(C,I,L){var oe=L.window===L?L.document:L.nodeType===9?L:L.ownerDocument;go||Ga==null||Ga!==mt(oe)||(oe=Ga,"selectionStart"in oe&&So(oe)?oe={start:oe.selectionStart,end:oe.selectionEnd}:(oe=(oe.ownerDocument&&oe.ownerDocument.defaultView||window).getSelection(),oe={anchorNode:oe.anchorNode,anchorOffset:oe.anchorOffset,focusNode:oe.focusNode,focusOffset:oe.focusOffset}),Qo&&ea(Qo,oe)||(Qo=oe,oe=Ac(Co,"onSelect"),0<oe.length&&(I=new Lt("onSelect","select",null,I,L),C.push({event:I,listeners:oe}),I.target=Ga)))}function sl(C,I){var L={};return L[C.toLowerCase()]=I.toLowerCase(),L["Webkit"+C]="webkit"+I,L["Moz"+C]="moz"+I,L}var Vo={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},wl={},Cc={};A&&(Cc=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Nl(C){if(wl[C])return wl[C];if(!Vo[C])return C;var I=Vo[C],L;for(L in I)if(I.hasOwnProperty(L)&&L in Cc)return wl[C]=I[L];return C}var _c=Nl("animationend"),Ul=Nl("animationiteration"),xo=Nl("animationstart"),Hl=Nl("transitionend"),Jl=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(C,I){Jl.set(C,I),u(I,[C])}for(var fc=0;fc<dc.length;fc++){var hc=dc[fc],il=hc.toLowerCase(),pc=hc[0].toUpperCase()+hc.slice(1);Go(il,"on"+pc)}Go(_c,"onAnimationEnd"),Go(Ul,"onAnimationIteration"),Go(xo,"onAnimationStart"),Go("dblclick","onDoubleClick"),Go("focusin","onFocus"),Go("focusout","onBlur"),Go(Hl,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ds=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function Rc(C,I,L){var oe=C.type||"unknown-event";C.currentTarget=L,Xi(oe,I,void 0,C),C.currentTarget=null}function al(C,I){I=(I&4)!==0;for(var L=0;L<C.length;L++){var oe=C[L],_e=oe.event;oe=oe.listeners;e:{var Oe=void 0;if(I)for(var We=oe.length-1;0<=We;We--){var kt=oe[We],Vt=kt.instance,Rr=kt.currentTarget;if(kt=kt.listener,Vt!==Oe&&_e.isPropagationStopped())break e;Rc(_e,kt,Rr),Oe=Vt}else for(We=0;We<oe.length;We++){if(kt=oe[We],Vt=kt.instance,Rr=kt.currentTarget,kt=kt.listener,Vt!==Oe&&_e.isPropagationStopped())break e;Rc(_e,kt,Rr),Oe=Vt}}}if(mi)throw C=gi,mi=!1,gi=null,C}function Di(C,I){var L=I[Jc];L===void 0&&(L=I[Jc]=new Set);var oe=C+"__bubble";L.has(oe)||(El(I,C,2,!1),L.add(oe))}function Nc(C,I,L){var oe=0;I&&(oe|=4),El(L,C,oe,I)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Pa(C){if(!C[Oo]){C[Oo]=!0,o.forEach(function(L){L!=="selectionchange"&&(Ds.has(L)||Nc(L,!1,C),Nc(L,!0,C))});var I=C.nodeType===9?C:C.ownerDocument;I===null||I[Oo]||(I[Oo]=!0,Nc("selectionchange",!1,I))}}function El(C,I,L,oe){switch(At(I)){case 1:var _e=qe;break;case 4:_e=at;break;default:_e=pt}L=_e.bind(null,I,L,C),_e=void 0,!Sn||I!=="touchstart"&&I!=="touchmove"&&I!=="wheel"||(_e=!0),oe?_e!==void 0?C.addEventListener(I,L,{capture:!0,passive:_e}):C.addEventListener(I,L,!0):_e!==void 0?C.addEventListener(I,L,{passive:_e}):C.addEventListener(I,L,!1)}function zl(C,I,L,oe,_e){var Oe=oe;if((I&1)===0&&(I&2)===0&&oe!==null)e:for(;;){if(oe===null)return;var We=oe.tag;if(We===3||We===4){var kt=oe.stateNode.containerInfo;if(kt===_e||kt.nodeType===8&&kt.parentNode===_e)break;if(We===4)for(We=oe.return;We!==null;){var Vt=We.tag;if((Vt===3||Vt===4)&&(Vt=We.stateNode.containerInfo,Vt===_e||Vt.nodeType===8&&Vt.parentNode===_e))return;We=We.return}for(;kt!==null;){if(We=yo(kt),We===null)return;if(Vt=We.tag,Vt===5||Vt===6){oe=Oe=We;continue e}kt=kt.parentNode}}oe=oe.return}vi(function(){var Rr=Oe,Rn=rn(L),kn=[];e:{var _n=Jl.get(C);if(_n!==void 0){var os=Lt,vs=C;switch(C){case"keypress":if(Ft(L)===0)break e;case"keydown":case"keyup":os=ts;break;case"focusin":vs="focus",os=Nn;break;case"focusout":vs="blur",os=Nn;break;case"beforeblur":case"afterblur":os=Nn;break;case"click":if(L.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":os=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":os=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":os=Is;break;case _c:case Ul:case xo:os=st;break;case Hl:os=Rt;break;case"scroll":os=ft;break;case"wheel":os=Xt;break;case"copy":case"cut":case"paste":os=It;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":os=bt}var js=(I&4)!==0,Io=!js&&C==="scroll",Sr=js?_n!==null?_n+"Capture":null:_n;js=[];for(var sr=Rr,Cr;sr!==null;){Cr=sr;var $n=Cr.stateNode;if(Cr.tag===5&&$n!==null&&(Cr=$n,Sr!==null&&($n=fs(sr,Sr),$n!=null&&js.push(Ko(sr,$n,Cr)))),Io)break;sr=sr.return}0<js.length&&(_n=new os(_n,vs,null,L,Rn),kn.push({event:_n,listeners:js}))}}if((I&7)===0){e:{if(_n=C==="mouseover"||C==="pointerover",os=C==="mouseout"||C==="pointerout",_n&&L!==jn&&(vs=L.relatedTarget||L.fromElement)&&(yo(vs)||vs[ol]))break e;if((os||_n)&&(_n=Rn.window===Rn?Rn:(_n=Rn.ownerDocument)?_n.defaultView||_n.parentWindow:window,os?(vs=L.relatedTarget||L.toElement,os=Rr,vs=vs?yo(vs):null,vs!==null&&(Io=Bs(vs),vs!==Io||vs.tag!==5&&vs.tag!==6)&&(vs=null)):(os=null,vs=Rr),os!==vs)){if(js=Pr,$n="onMouseLeave",Sr="onMouseEnter",sr="mouse",(C==="pointerout"||C==="pointerover")&&(js=bt,$n="onPointerLeave",Sr="onPointerEnter",sr="pointer"),Io=os==null?_n:Fo(os),Cr=vs==null?_n:Fo(vs),_n=new js($n,sr+"leave",os,L,Rn),_n.target=Io,_n.relatedTarget=Cr,$n=null,yo(Rn)===Rr&&(js=new js(Sr,sr+"enter",vs,L,Rn),js.target=Cr,js.relatedTarget=Io,$n=js),Io=$n,os&&vs)t:{for(js=os,Sr=vs,sr=0,Cr=js;Cr;Cr=vo(Cr))sr++;for(Cr=0,$n=Sr;$n;$n=vo($n))Cr++;for(;0<sr-Cr;)js=vo(js),sr--;for(;0<Cr-sr;)Sr=vo(Sr),Cr--;for(;sr--;){if(js===Sr||Sr!==null&&js===Sr.alternate)break t;js=vo(js),Sr=vo(Sr)}js=null}else js=null;os!==null&&Pc(kn,_n,os,js,!1),vs!==null&&Io!==null&&Pc(kn,Io,vs,js,!0)}}e:{if(_n=Rr?Fo(Rr):window,os=_n.nodeName&&_n.nodeName.toLowerCase(),os==="select"||os==="input"&&_n.type==="file")var Ns=$i;else if(Ps(_n))if(pn)Ns=ro;else{Ns=Ms;var Ws=yl}else(os=_n.nodeName)&&os.toLowerCase()==="input"&&(_n.type==="checkbox"||_n.type==="radio")&&(Ns=Sa);if(Ns&&(Ns=Ns(C,Rr))){Vi(kn,Ns,L,Rn);break e}Ws&&Ws(C,_n,Rr),C==="focusout"&&(Ws=_n._wrapperState)&&Ws.controlled&&_n.type==="number"&&Nr(_n,"number",_n.value)}switch(Ws=Rr?Fo(Rr):window,C){case"focusin":(Ps(Ws)||Ws.contentEditable==="true")&&(Ga=Ws,Co=Rr,Qo=null);break;case"focusout":Qo=Co=Ga=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,lo(kn,L,Rn);break;case"selectionchange":if(nl)break;case"keydown":case"keyup":lo(kn,L,Rn)}var Ys;if(Lr)e:{switch(C){case"compositionstart":var fi="onCompositionStart";break e;case"compositionend":fi="onCompositionEnd";break e;case"compositionupdate":fi="onCompositionUpdate";break e}fi=void 0}else Fn?un(C,L)&&(fi="onCompositionEnd"):C==="keydown"&&L.keyCode===229&&(fi="onCompositionStart");fi&&(fr&&L.locale!=="ko"&&(Fn||fi!=="onCompositionStart"?fi==="onCompositionEnd"&&Fn&&(Ys=tr()):(Nt=Rn,lt="value"in Nt?Nt.value:Nt.textContent,Fn=!0)),Ws=Ac(Rr,fi),0<Ws.length&&(fi=new nr(fi,C,null,L,Rn),kn.push({event:fi,listeners:Ws}),Ys?fi.data=Ys:(Ys=qn(L),Ys!==null&&(fi.data=Ys)))),(Ys=dn?Es(C,L):Jn(C,L))&&(Rr=Ac(Rr,"onBeforeInput"),0<Rr.length&&(Rn=new nr("onBeforeInput","beforeinput",null,L,Rn),kn.push({event:Rn,listeners:Rr}),Rn.data=Ys))}al(kn,I)})}function Ko(C,I,L){return{instance:C,listener:I,currentTarget:L}}function Ac(C,I){for(var L=I+"Capture",oe=[];C!==null;){var _e=C,Oe=_e.stateNode;_e.tag===5&&Oe!==null&&(_e=Oe,Oe=fs(C,L),Oe!=null&&oe.unshift(Ko(C,Oe,_e)),Oe=fs(C,I),Oe!=null&&oe.push(Ko(C,Oe,_e))),C=C.return}return oe}function vo(C){if(C===null)return null;do C=C.return;while(C&&C.tag!==5);return C||null}function Pc(C,I,L,oe,_e){for(var Oe=I._reactName,We=[];L!==null&&L!==oe;){var kt=L,Vt=kt.alternate,Rr=kt.stateNode;if(Vt!==null&&Vt===oe)break;kt.tag===5&&Rr!==null&&(kt=Rr,_e?(Vt=fs(L,Oe),Vt!=null&&We.unshift(Ko(L,Vt,kt))):_e||(Vt=fs(L,Oe),Vt!=null&&We.push(Ko(L,Vt,kt)))),L=L.return}We.length!==0&&C.push({event:I,listeners:We})}var ec=/\r\n?/g,kc=/\u0000|\uFFFD/g;function Ql(C){return(typeof C=="string"?C:""+C).replace(ec,`
`).replace(kc,"")}function tc(C,I,L){if(I=Ql(I),Ql(C)!==I&&L)throw Error(n(425))}function rc(){}var nc=null,sc=null;function Bc(C,I){return C==="textarea"||C==="noscript"||typeof I.children=="string"||typeof I.children=="number"||typeof I.dangerouslySetInnerHTML=="object"&&I.dangerouslySetInnerHTML!==null&&I.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,bu=typeof clearTimeout=="function"?clearTimeout:void 0,ic=typeof Promise=="function"?Promise:void 0,Xc=typeof queueMicrotask=="function"?queueMicrotask:typeof ic<"u"?function(C){return ic.resolve(null).then(C).catch(wu)}:qo;function wu(C){setTimeout(function(){throw C})}function zs(C,I){var L=I,oe=0;do{var _e=L.nextSibling;if(C.removeChild(L),_e&&_e.nodeType===8)if(L=_e.data,L==="/$"){if(oe===0){C.removeChild(_e),Re(I);return}oe--}else L!=="$"&&L!=="$?"&&L!=="$!"||oe++;L=_e}while(L);Re(I)}function Pl(C){for(;C!=null;C=C.nextSibling){var I=C.nodeType;if(I===1||I===3)break;if(I===8){if(I=C.data,I==="$"||I==="$!"||I==="$?")break;if(I==="/$")return null}}return C}function uu(C){C=C.previousSibling;for(var I=0;C;){if(C.nodeType===8){var L=C.data;if(L==="$"||L==="$!"||L==="$?"){if(I===0)return C;I--}else L==="/$"&&I++}C=C.previousSibling}return null}var jl=Math.random().toString(36).slice(2),no="__reactFiber$"+jl,Wo="__reactProps$"+jl,ol="__reactContainer$"+jl,Jc="__reactEvents$"+jl,Mo="__reactListeners$"+jl,mc="__reactHandles$"+jl;function yo(C){var I=C[no];if(I)return I;for(var L=C.parentNode;L;){if(I=L[ol]||L[no]){if(L=I.alternate,I.child!==null||L!==null&&L.child!==null)for(C=uu(C);C!==null;){if(L=C[no])return L;C=uu(C)}return I}C=L,L=C.parentNode}return null}function ac(C){return C=C[no]||C[ol],!C||C.tag!==5&&C.tag!==6&&C.tag!==13&&C.tag!==3?null:C}function Fo(C){if(C.tag===5||C.tag===6)return C.stateNode;throw Error(n(33))}function Ic(C){return C[Wo]||null}var Sl=[],ll=-1;function Yo(C){return{current:C}}function Ci(C){0>ll||(C.current=Sl[ll],Sl[ll]=null,ll--)}function qi(C,I){ll++,Sl[ll]=C.current,C.current=I}var Xo={},Ca=Yo(Xo),Ia=Yo(!1),Cl=Xo;function Vl(C,I){var L=C.type.contextTypes;if(!L)return Xo;var oe=C.stateNode;if(oe&&oe.__reactInternalMemoizedUnmaskedChildContext===I)return oe.__reactInternalMemoizedMaskedChildContext;var _e={},Oe;for(Oe in L)_e[Oe]=I[Oe];return oe&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=I,C.__reactInternalMemoizedMaskedChildContext=_e),_e}function co(C){return C=C.childContextTypes,C!=null}function cl(){Ci(Ia),Ci(Ca)}function kl(C,I,L){if(Ca.current!==Xo)throw Error(n(168));qi(Ca,I),qi(Ia,L)}function Zc(C,I,L){var oe=C.stateNode;if(I=I.childContextTypes,typeof oe.getChildContext!="function")return L;oe=oe.getChildContext();for(var _e in oe)if(!(_e in I))throw Error(n(108,ze(C)||"Unknown",_e));return de({},L,oe)}function Bl(C){return C=(C=C.stateNode)&&C.__reactInternalMemoizedMergedChildContext||Xo,Cl=Ca.current,qi(Ca,C),qi(Ia,Ia.current),!0}function eu(C,I,L){var oe=C.stateNode;if(!oe)throw Error(n(169));L?(C=Zc(C,I,Cl),oe.__reactInternalMemoizedMergedChildContext=C,Ci(Ia),Ci(Ca),qi(Ca,C)):Ci(Ia),qi(Ia,L)}var Ce=null,Ge=!1,_t=!1;function Ht(C){Ce===null?Ce=[C]:Ce.push(C)}function cr(C){Ge=!0,Ht(C)}function Ur(){if(!_t&&Ce!==null){_t=!0;var C=0,I=_s;try{var L=Ce;for(_s=1;C<L.length;C++){var oe=L[C];do oe=oe(!0);while(oe!==null)}Ce=null,Ge=!1}catch(_e){throw Ce!==null&&(Ce=Ce.slice(C+1)),Ot(si,Ur),_e}finally{_s=I,_t=!1}}return null}var nn=[],ns=0,cs=null,Fs=0,Rs=[],Zs=0,ta=null,na=1,Ii="";function ga(C,I){nn[ns++]=Fs,nn[ns++]=cs,cs=C,Fs=I}function G(C,I,L){Rs[Zs++]=na,Rs[Zs++]=Ii,Rs[Zs++]=ta,ta=C;var oe=na;C=Ii;var _e=32-Yr(oe)-1;oe&=~(1<<_e),L+=1;var Oe=32-Yr(I)+_e;if(30<Oe){var We=_e-_e%5;Oe=(oe&(1<<We)-1).toString(32),oe>>=We,_e-=We,na=1<<32-Yr(I)+_e|L<<_e|oe,Ii=Oe+C}else na=1<<Oe|L<<_e|oe,Ii=C}function Ue(C){C.return!==null&&(ga(C,1),G(C,1,0))}function ve(C){for(;C===cs;)cs=nn[--ns],nn[ns]=null,Fs=nn[--ns],nn[ns]=null;for(;C===ta;)ta=Rs[--Zs],Rs[Zs]=null,Ii=Rs[--Zs],Rs[Zs]=null,na=Rs[--Zs],Rs[Zs]=null}var rt=null,Et=null,gt=!1,pr=null;function rr(C,I){var L=Jt(5,null,null,0);L.elementType="DELETED",L.stateNode=I,L.return=C,I=C.deletions,I===null?(C.deletions=[L],C.flags|=16):I.push(L)}function rs(C,I){switch(C.tag){case 5:var L=C.type;return I=I.nodeType!==1||L.toLowerCase()!==I.nodeName.toLowerCase()?null:I,I!==null?(C.stateNode=I,rt=C,Et=Pl(I.firstChild),!0):!1;case 6:return I=C.pendingProps===""||I.nodeType!==3?null:I,I!==null?(C.stateNode=I,rt=C,Et=null,!0):!1;case 13:return I=I.nodeType!==8?null:I,I!==null?(L=ta!==null?{id:na,overflow:Ii}:null,C.memoizedState={dehydrated:I,treeContext:L,retryLane:1073741824},L=Jt(18,null,null,0),L.stateNode=I,L.return=C,C.child=L,rt=C,Et=null,!0):!1;default:return!1}}function zt(C){return(C.mode&1)!==0&&(C.flags&128)===0}function wr(C){if(gt){var I=Et;if(I){var L=I;if(!rs(C,I)){if(zt(C))throw Error(n(418));I=Pl(L.nextSibling);var oe=rt;I&&rs(C,I)?rr(oe,L):(C.flags=C.flags&-4097|2,gt=!1,rt=C)}}else{if(zt(C))throw Error(n(418));C.flags=C.flags&-4097|2,gt=!1,rt=C}}}function Ls(C){for(C=C.return;C!==null&&C.tag!==5&&C.tag!==3&&C.tag!==13;)C=C.return;rt=C}function Qn(C){if(C!==rt)return!1;if(!gt)return Ls(C),gt=!0,!1;var I;if((I=C.tag!==3)&&!(I=C.tag!==5)&&(I=C.type,I=I!=="head"&&I!=="body"&&!Bc(C.type,C.memoizedProps)),I&&(I=Et)){if(zt(C))throw An(),Error(n(418));for(;I;)rr(C,I),I=Pl(I.nextSibling)}if(Ls(C),C.tag===13){if(C=C.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));e:{for(C=C.nextSibling,I=0;C;){if(C.nodeType===8){var L=C.data;if(L==="/$"){if(I===0){Et=Pl(C.nextSibling);break e}I--}else L!=="$"&&L!=="$!"&&L!=="$?"||I++}C=C.nextSibling}Et=null}}else Et=rt?Pl(C.stateNode.nextSibling):null;return!0}function An(){for(var C=Et;C;)C=Pl(C.nextSibling)}function Hr(){Et=rt=null,gt=!1}function sa(C){pr===null?pr=[C]:pr.push(C)}var Us=M.ReactCurrentBatchConfig;function Ts(C,I,L){if(C=L.ref,C!==null&&typeof C!="function"&&typeof C!="object"){if(L._owner){if(L=L._owner,L){if(L.tag!==1)throw Error(n(309));var oe=L.stateNode}if(!oe)throw Error(n(147,C));var _e=oe,Oe=""+C;return I!==null&&I.ref!==null&&typeof I.ref=="function"&&I.ref._stringRef===Oe?I.ref:(I=function(We){var kt=_e.refs;We===null?delete kt[Oe]:kt[Oe]=We},I._stringRef=Oe,I)}if(typeof C!="string")throw Error(n(284));if(!L._owner)throw Error(n(290,C))}return C}function Qs(C,I){throw C=Object.prototype.toString.call(I),Error(n(31,C==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":C))}function hi(C){var I=C._init;return I(C._payload)}function Ln(C){function I(Sr,sr){if(C){var Cr=Sr.deletions;Cr===null?(Sr.deletions=[sr],Sr.flags|=16):Cr.push(sr)}}function L(Sr,sr){if(!C)return null;for(;sr!==null;)I(Sr,sr),sr=sr.sibling;return null}function oe(Sr,sr){for(Sr=new Map;sr!==null;)sr.key!==null?Sr.set(sr.key,sr):Sr.set(sr.index,sr),sr=sr.sibling;return Sr}function _e(Sr,sr){return Sr=Zn(Sr,sr),Sr.index=0,Sr.sibling=null,Sr}function Oe(Sr,sr,Cr){return Sr.index=Cr,C?(Cr=Sr.alternate,Cr!==null?(Cr=Cr.index,Cr<sr?(Sr.flags|=2,sr):Cr):(Sr.flags|=2,sr)):(Sr.flags|=1048576,sr)}function We(Sr){return C&&Sr.alternate===null&&(Sr.flags|=2),Sr}function kt(Sr,sr,Cr,$n){return sr===null||sr.tag!==6?(sr=xs(Cr,Sr.mode,$n),sr.return=Sr,sr):(sr=_e(sr,Cr),sr.return=Sr,sr)}function Vt(Sr,sr,Cr,$n){var Ns=Cr.type;return Ns===$?Rn(Sr,sr,Cr.props.children,$n,Cr.key):sr!==null&&(sr.elementType===Ns||typeof Ns=="object"&&Ns!==null&&Ns.$$typeof===Y&&hi(Ns)===sr.type)?($n=_e(sr,Cr.props),$n.ref=Ts(Sr,sr,Cr),$n.return=Sr,$n):($n=Mn(Cr.type,Cr.key,Cr.props,null,Sr.mode,$n),$n.ref=Ts(Sr,sr,Cr),$n.return=Sr,$n)}function Rr(Sr,sr,Cr,$n){return sr===null||sr.tag!==4||sr.stateNode.containerInfo!==Cr.containerInfo||sr.stateNode.implementation!==Cr.implementation?(sr=hs(Cr,Sr.mode,$n),sr.return=Sr,sr):(sr=_e(sr,Cr.children||[]),sr.return=Sr,sr)}function Rn(Sr,sr,Cr,$n,Ns){return sr===null||sr.tag!==7?(sr=Gn(Cr,Sr.mode,$n,Ns),sr.return=Sr,sr):(sr=_e(sr,Cr),sr.return=Sr,sr)}function kn(Sr,sr,Cr){if(typeof sr=="string"&&sr!==""||typeof sr=="number")return sr=xs(""+sr,Sr.mode,Cr),sr.return=Sr,sr;if(typeof sr=="object"&&sr!==null){switch(sr.$$typeof){case O:return Cr=Mn(sr.type,sr.key,sr.props,null,Sr.mode,Cr),Cr.ref=Ts(Sr,null,sr),Cr.return=Sr,Cr;case F:return sr=hs(sr,Sr.mode,Cr),sr.return=Sr,sr;case Y:var $n=sr._init;return kn(Sr,$n(sr._payload),Cr)}if(Qr(sr)||le(sr))return sr=Gn(sr,Sr.mode,Cr,null),sr.return=Sr,sr;Qs(Sr,sr)}return null}function _n(Sr,sr,Cr,$n){var Ns=sr!==null?sr.key:null;if(typeof Cr=="string"&&Cr!==""||typeof Cr=="number")return Ns!==null?null:kt(Sr,sr,""+Cr,$n);if(typeof Cr=="object"&&Cr!==null){switch(Cr.$$typeof){case O:return Cr.key===Ns?Vt(Sr,sr,Cr,$n):null;case F:return Cr.key===Ns?Rr(Sr,sr,Cr,$n):null;case Y:return Ns=Cr._init,_n(Sr,sr,Ns(Cr._payload),$n)}if(Qr(Cr)||le(Cr))return Ns!==null?null:Rn(Sr,sr,Cr,$n,null);Qs(Sr,Cr)}return null}function os(Sr,sr,Cr,$n,Ns){if(typeof $n=="string"&&$n!==""||typeof $n=="number")return Sr=Sr.get(Cr)||null,kt(sr,Sr,""+$n,Ns);if(typeof $n=="object"&&$n!==null){switch($n.$$typeof){case O:return Sr=Sr.get($n.key===null?Cr:$n.key)||null,Vt(sr,Sr,$n,Ns);case F:return Sr=Sr.get($n.key===null?Cr:$n.key)||null,Rr(sr,Sr,$n,Ns);case Y:var Ws=$n._init;return os(Sr,sr,Cr,Ws($n._payload),Ns)}if(Qr($n)||le($n))return Sr=Sr.get(Cr)||null,Rn(sr,Sr,$n,Ns,null);Qs(sr,$n)}return null}function vs(Sr,sr,Cr,$n){for(var Ns=null,Ws=null,Ys=sr,fi=sr=0,vl=null;Ys!==null&&fi<Cr.length;fi++){Ys.index>fi?(vl=Ys,Ys=null):vl=Ys.sibling;var ma=_n(Sr,Ys,Cr[fi],$n);if(ma===null){Ys===null&&(Ys=vl);break}C&&Ys&&ma.alternate===null&&I(Sr,Ys),sr=Oe(ma,sr,fi),Ws===null?Ns=ma:Ws.sibling=ma,Ws=ma,Ys=vl}if(fi===Cr.length)return L(Sr,Ys),gt&&ga(Sr,fi),Ns;if(Ys===null){for(;fi<Cr.length;fi++)Ys=kn(Sr,Cr[fi],$n),Ys!==null&&(sr=Oe(Ys,sr,fi),Ws===null?Ns=Ys:Ws.sibling=Ys,Ws=Ys);return gt&&ga(Sr,fi),Ns}for(Ys=oe(Sr,Ys);fi<Cr.length;fi++)vl=os(Ys,Sr,fi,Cr[fi],$n),vl!==null&&(C&&vl.alternate!==null&&Ys.delete(vl.key===null?fi:vl.key),sr=Oe(vl,sr,fi),Ws===null?Ns=vl:Ws.sibling=vl,Ws=vl);return C&&Ys.forEach(function(ld){return I(Sr,ld)}),gt&&ga(Sr,fi),Ns}function js(Sr,sr,Cr,$n){var Ns=le(Cr);if(typeof Ns!="function")throw Error(n(150));if(Cr=Ns.call(Cr),Cr==null)throw Error(n(151));for(var Ws=Ns=null,Ys=sr,fi=sr=0,vl=null,ma=Cr.next();Ys!==null&&!ma.done;fi++,ma=Cr.next()){Ys.index>fi?(vl=Ys,Ys=null):vl=Ys.sibling;var ld=_n(Sr,Ys,ma.value,$n);if(ld===null){Ys===null&&(Ys=vl);break}C&&Ys&&ld.alternate===null&&I(Sr,Ys),sr=Oe(ld,sr,fi),Ws===null?Ns=ld:Ws.sibling=ld,Ws=ld,Ys=vl}if(ma.done)return L(Sr,Ys),gt&&ga(Sr,fi),Ns;if(Ys===null){for(;!ma.done;fi++,ma=Cr.next())ma=kn(Sr,ma.value,$n),ma!==null&&(sr=Oe(ma,sr,fi),Ws===null?Ns=ma:Ws.sibling=ma,Ws=ma);return gt&&ga(Sr,fi),Ns}for(Ys=oe(Sr,Ys);!ma.done;fi++,ma=Cr.next())ma=os(Ys,Sr,fi,ma.value,$n),ma!==null&&(C&&ma.alternate!==null&&Ys.delete(ma.key===null?fi:ma.key),sr=Oe(ma,sr,fi),Ws===null?Ns=ma:Ws.sibling=ma,Ws=ma);return C&&Ys.forEach(function(Md){return I(Sr,Md)}),gt&&ga(Sr,fi),Ns}function Io(Sr,sr,Cr,$n){if(typeof Cr=="object"&&Cr!==null&&Cr.type===$&&Cr.key===null&&(Cr=Cr.props.children),typeof Cr=="object"&&Cr!==null){switch(Cr.$$typeof){case O:e:{for(var Ns=Cr.key,Ws=sr;Ws!==null;){if(Ws.key===Ns){if(Ns=Cr.type,Ns===$){if(Ws.tag===7){L(Sr,Ws.sibling),sr=_e(Ws,Cr.props.children),sr.return=Sr,Sr=sr;break e}}else if(Ws.elementType===Ns||typeof Ns=="object"&&Ns!==null&&Ns.$$typeof===Y&&hi(Ns)===Ws.type){L(Sr,Ws.sibling),sr=_e(Ws,Cr.props),sr.ref=Ts(Sr,Ws,Cr),sr.return=Sr,Sr=sr;break e}L(Sr,Ws);break}else I(Sr,Ws);Ws=Ws.sibling}Cr.type===$?(sr=Gn(Cr.props.children,Sr.mode,$n,Cr.key),sr.return=Sr,Sr=sr):($n=Mn(Cr.type,Cr.key,Cr.props,null,Sr.mode,$n),$n.ref=Ts(Sr,sr,Cr),$n.return=Sr,Sr=$n)}return We(Sr);case F:e:{for(Ws=Cr.key;sr!==null;){if(sr.key===Ws)if(sr.tag===4&&sr.stateNode.containerInfo===Cr.containerInfo&&sr.stateNode.implementation===Cr.implementation){L(Sr,sr.sibling),sr=_e(sr,Cr.children||[]),sr.return=Sr,Sr=sr;break e}else{L(Sr,sr);break}else I(Sr,sr);sr=sr.sibling}sr=hs(Cr,Sr.mode,$n),sr.return=Sr,Sr=sr}return We(Sr);case Y:return Ws=Cr._init,Io(Sr,sr,Ws(Cr._payload),$n)}if(Qr(Cr))return vs(Sr,sr,Cr,$n);if(le(Cr))return js(Sr,sr,Cr,$n);Qs(Sr,Cr)}return typeof Cr=="string"&&Cr!==""||typeof Cr=="number"?(Cr=""+Cr,sr!==null&&sr.tag===6?(L(Sr,sr.sibling),sr=_e(sr,Cr),sr.return=Sr,Sr=sr):(L(Sr,sr),sr=xs(Cr,Sr.mode,$n),sr.return=Sr,Sr=sr),We(Sr)):L(Sr,sr)}return Io}var qs=Ln(!0),ha=Ln(!1),ys=Yo(null),Ei=null,ei=null,us=null;function Os(){us=ei=Ei=null}function so(C){var I=ys.current;Ci(ys),C._currentValue=I}function ul(C,I,L){for(;C!==null;){var oe=C.alternate;if((C.childLanes&I)!==I?(C.childLanes|=I,oe!==null&&(oe.childLanes|=I)):oe!==null&&(oe.childLanes&I)!==I&&(oe.childLanes|=I),C===L)break;C=C.return}}function uo(C,I){Ei=C,us=ei=null,C=C.dependencies,C!==null&&C.firstContext!==null&&((C.lanes&I)!==0&&(el=!0),C.firstContext=null)}function Xa(C){var I=C._currentValue;if(us!==C)if(C={context:C,memoizedValue:I,next:null},ei===null){if(Ei===null)throw Error(n(308));ei=C,Ei.dependencies={lanes:0,firstContext:C}}else ei=ei.next=C;return I}var dl=null;function Da(C){dl===null?dl=[C]:dl.push(C)}function Eu(C,I,L,oe){var _e=I.interleaved;return _e===null?(L.next=L,Da(I)):(L.next=_e.next,_e.next=L),I.interleaved=L,bo(C,oe)}function bo(C,I){C.lanes|=I;var L=C.alternate;for(L!==null&&(L.lanes|=I),L=C,C=C.return;C!==null;)C.childLanes|=I,L=C.alternate,L!==null&&(L.childLanes|=I),L=C,C=C.return;return L.tag===3?L.stateNode:null}var _o=!1;function tu(C){C.updateQueue={baseState:C.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function du(C,I){C=C.updateQueue,I.updateQueue===C&&(I.updateQueue={baseState:C.baseState,firstBaseUpdate:C.firstBaseUpdate,lastBaseUpdate:C.lastBaseUpdate,shared:C.shared,effects:C.effects})}function _l(C,I){return{eventTime:C,lane:I,tag:0,payload:null,callback:null,next:null}}function Il(C,I,L){var oe=C.updateQueue;if(oe===null)return null;if(oe=oe.shared,(gs&2)!==0){var _e=oe.pending;return _e===null?I.next=I:(I.next=_e.next,_e.next=I),oe.pending=I,bo(C,L)}return _e=oe.interleaved,_e===null?(I.next=I,Da(oe)):(I.next=_e.next,_e.next=I),oe.interleaved=I,bo(C,L)}function Ol(C,I,L){if(I=I.updateQueue,I!==null&&(I=I.shared,(L&4194240)!==0)){var oe=I.lanes;oe&=C.pendingLanes,L|=oe,I.lanes=L,za(C,L)}}function gc(C,I){var L=C.updateQueue,oe=C.alternate;if(oe!==null&&(oe=oe.updateQueue,L===oe)){var _e=null,Oe=null;if(L=L.firstBaseUpdate,L!==null){do{var We={eventTime:L.eventTime,lane:L.lane,tag:L.tag,payload:L.payload,callback:L.callback,next:null};Oe===null?_e=Oe=We:Oe=Oe.next=We,L=L.next}while(L!==null);Oe===null?_e=Oe=I:Oe=Oe.next=I}else _e=Oe=I;L={baseState:oe.baseState,firstBaseUpdate:_e,lastBaseUpdate:Oe,shared:oe.shared,effects:oe.effects},C.updateQueue=L;return}C=L.lastBaseUpdate,C===null?L.firstBaseUpdate=I:C.next=I,L.lastBaseUpdate=I}function Gl(C,I,L,oe){var _e=C.updateQueue;_o=!1;var Oe=_e.firstBaseUpdate,We=_e.lastBaseUpdate,kt=_e.shared.pending;if(kt!==null){_e.shared.pending=null;var Vt=kt,Rr=Vt.next;Vt.next=null,We===null?Oe=Rr:We.next=Rr,We=Vt;var Rn=C.alternate;Rn!==null&&(Rn=Rn.updateQueue,kt=Rn.lastBaseUpdate,kt!==We&&(kt===null?Rn.firstBaseUpdate=Rr:kt.next=Rr,Rn.lastBaseUpdate=Vt))}if(Oe!==null){var kn=_e.baseState;We=0,Rn=Rr=Vt=null,kt=Oe;do{var _n=kt.lane,os=kt.eventTime;if((oe&_n)===_n){Rn!==null&&(Rn=Rn.next={eventTime:os,lane:0,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null});e:{var vs=C,js=kt;switch(_n=I,os=L,js.tag){case 1:if(vs=js.payload,typeof vs=="function"){kn=vs.call(os,kn,_n);break e}kn=vs;break e;case 3:vs.flags=vs.flags&-65537|128;case 0:if(vs=js.payload,_n=typeof vs=="function"?vs.call(os,kn,_n):vs,_n==null)break e;kn=de({},kn,_n);break e;case 2:_o=!0}}kt.callback!==null&&kt.lane!==0&&(C.flags|=64,_n=_e.effects,_n===null?_e.effects=[kt]:_n.push(kt))}else os={eventTime:os,lane:_n,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null},Rn===null?(Rr=Rn=os,Vt=kn):Rn=Rn.next=os,We|=_n;if(kt=kt.next,kt===null){if(kt=_e.shared.pending,kt===null)break;_n=kt,kt=_n.next,_n.next=null,_e.lastBaseUpdate=_n,_e.shared.pending=null}}while(!0);if(Rn===null&&(Vt=kn),_e.baseState=Vt,_e.firstBaseUpdate=Rr,_e.lastBaseUpdate=Rn,I=_e.shared.interleaved,I!==null){_e=I;do We|=_e.lane,_e=_e.next;while(_e!==I)}else Oe===null&&(_e.shared.lanes=0);lc|=We,C.lanes=We,C.memoizedState=kn}}function Oc(C,I,L){if(C=I.effects,I.effects=null,C!==null)for(I=0;I<C.length;I++){var oe=C[I],_e=oe.callback;if(_e!==null){if(oe.callback=null,oe=L,typeof _e!="function")throw Error(n(191,_e));_e.call(oe)}}}var Rl={},Lo=Yo(Rl),fo=Yo(Rl),fl=Yo(Rl);function Ri(C){if(C===Rl)throw Error(n(174));return C}function ia(C,I){switch(qi(fl,I),qi(fo,C),qi(Lo,Rl),C=I.nodeType,C){case 9:case 11:I=(I=I.documentElement)?I.namespaceURI:ar(null,"");break;default:C=C===8?I.parentNode:I,I=C.namespaceURI||null,C=C.tagName,I=ar(I,C)}Ci(Lo),qi(Lo,I)}function xa(){Ci(Lo),Ci(fo),Ci(fl)}function Ja(C){Ri(fl.current);var I=Ri(Lo.current),L=ar(I,C.type);I!==L&&(qi(fo,C),qi(Lo,L))}function Kl(C){fo.current===C&&(Ci(Lo),Ci(fo))}var pa=Yo(0);function ql(C){for(var I=C;I!==null;){if(I.tag===13){var L=I.memoizedState;if(L!==null&&(L=L.dehydrated,L===null||L.data==="$?"||L.data==="$!"))return I}else if(I.tag===19&&I.memoizedProps.revealOrder!==void 0){if((I.flags&128)!==0)return I}else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===C)break;for(;I.sibling===null;){if(I.return===null||I.return===C)return null;I=I.return}I.sibling.return=I.return,I=I.sibling}return null}var Mc=[];function ju(){for(var C=0;C<Mc.length;C++)Mc[C]._workInProgressVersionPrimary=null;Mc.length=0}var fu=M.ReactCurrentDispatcher,Su=M.ReactCurrentBatchConfig,xc=0,_a=null,io=null,Ka=null,Cu=!1,Ro=!1,Fc=0,Sd=0;function To(){throw Error(n(321))}function Du(C,I){if(I===null)return!1;for(var L=0;L<I.length&&L<C.length;L++)if(!Ba(C[L],I[L]))return!1;return!0}function Uu(C,I,L,oe,_e,Oe){if(xc=Oe,_a=I,I.memoizedState=null,I.updateQueue=null,I.lanes=0,fu.current=C===null||C.memoizedState===null?Wl:Td,C=L(oe,_e),Ro){Oe=0;do{if(Ro=!1,Fc=0,25<=Oe)throw Error(n(301));Oe+=1,Ka=io=null,I.updateQueue=null,fu.current=pd,C=L(oe,_e)}while(Ro)}if(fu.current=Zo,I=io!==null&&io.next!==null,xc=0,Ka=io=_a=null,Cu=!1,I)throw Error(n(300));return C}function Hu(){var C=Fc!==0;return Fc=0,C}function Ml(){var C={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ka===null?_a.memoizedState=Ka=C:Ka=Ka.next=C,Ka}function Jo(){if(io===null){var C=_a.alternate;C=C!==null?C.memoizedState:null}else C=io.next;var I=Ka===null?_a.memoizedState:Ka.next;if(I!==null)Ka=I,io=C;else{if(C===null)throw Error(n(310));io=C,C={memoizedState:io.memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},Ka===null?_a.memoizedState=Ka=C:Ka=Ka.next=C}return Ka}function No(C,I){return typeof I=="function"?I(C):I}function hl(C){var I=Jo(),L=I.queue;if(L===null)throw Error(n(311));L.lastRenderedReducer=C;var oe=io,_e=oe.baseQueue,Oe=L.pending;if(Oe!==null){if(_e!==null){var We=_e.next;_e.next=Oe.next,Oe.next=We}oe.baseQueue=_e=Oe,L.pending=null}if(_e!==null){Oe=_e.next,oe=oe.baseState;var kt=We=null,Vt=null,Rr=Oe;do{var Rn=Rr.lane;if((xc&Rn)===Rn)Vt!==null&&(Vt=Vt.next={lane:0,action:Rr.action,hasEagerState:Rr.hasEagerState,eagerState:Rr.eagerState,next:null}),oe=Rr.hasEagerState?Rr.eagerState:C(oe,Rr.action);else{var kn={lane:Rn,action:Rr.action,hasEagerState:Rr.hasEagerState,eagerState:Rr.eagerState,next:null};Vt===null?(kt=Vt=kn,We=oe):Vt=Vt.next=kn,_a.lanes|=Rn,lc|=Rn}Rr=Rr.next}while(Rr!==null&&Rr!==Oe);Vt===null?We=oe:Vt.next=kt,Ba(oe,I.memoizedState)||(el=!0),I.memoizedState=oe,I.baseState=We,I.baseQueue=Vt,L.lastRenderedState=oe}if(C=L.interleaved,C!==null){_e=C;do Oe=_e.lane,_a.lanes|=Oe,lc|=Oe,_e=_e.next;while(_e!==C)}else _e===null&&(L.lanes=0);return[I.memoizedState,L.dispatch]}function ru(C){var I=Jo(),L=I.queue;if(L===null)throw Error(n(311));L.lastRenderedReducer=C;var oe=L.dispatch,_e=L.pending,Oe=I.memoizedState;if(_e!==null){L.pending=null;var We=_e=_e.next;do Oe=C(Oe,We.action),We=We.next;while(We!==_e);Ba(Oe,I.memoizedState)||(el=!0),I.memoizedState=Oe,I.baseQueue===null&&(I.baseState=Oe),L.lastRenderedState=Oe}return[Oe,oe]}function _u(){}function Ru(C,I){var L=_a,oe=Jo(),_e=I(),Oe=!Ba(oe.memoizedState,_e);if(Oe&&(oe.memoizedState=_e,el=!0),oe=oe.queue,dd(Lc.bind(null,L,oe,C),[C]),oe.getSnapshot!==I||Oe||Ka!==null&&Ka.memoizedState.tag&1){if(L.flags|=2048,oc(9,Za.bind(null,L,oe,_e,I),void 0,null),ua===null)throw Error(n(349));(xc&30)!==0||hu(L,I,_e)}return _e}function hu(C,I,L){C.flags|=16384,C={getSnapshot:I,value:L},I=_a.updateQueue,I===null?(I={lastEffect:null,stores:null},_a.updateQueue=I,I.stores=[C]):(L=I.stores,L===null?I.stores=[C]:L.push(C))}function Za(C,I,L,oe){I.value=L,I.getSnapshot=oe,cd(I)&&zu(C)}function Lc(C,I,L){return L(function(){cd(I)&&zu(C)})}function cd(C){var I=C.getSnapshot;C=C.value;try{var L=I();return!Ba(C,L)}catch{return!0}}function zu(C){var I=bo(C,1);I!==null&&Ho(I,C,1,-1)}function Tu(C){var I=Ml();return typeof C=="function"&&(C=C()),I.memoizedState=I.baseState=C,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:C},I.queue=C,C=C.dispatch=Bd.bind(null,_a,C),[I.memoizedState,C]}function oc(C,I,L,oe){return C={tag:C,create:I,destroy:L,deps:oe,next:null},I=_a.updateQueue,I===null?(I={lastEffect:null,stores:null},_a.updateQueue=I,I.lastEffect=C.next=C):(L=I.lastEffect,L===null?I.lastEffect=C.next=C:(oe=L.next,L.next=C,C.next=oe,I.lastEffect=C)),C}function Qu(){return Jo().memoizedState}function Vu(C,I,L,oe){var _e=Ml();_a.flags|=C,_e.memoizedState=oc(1|I,L,void 0,oe===void 0?null:oe)}function Gu(C,I,L,oe){var _e=Jo();oe=oe===void 0?null:oe;var Oe=void 0;if(io!==null){var We=io.memoizedState;if(Oe=We.destroy,oe!==null&&Du(oe,We.deps)){_e.memoizedState=oc(I,L,Oe,oe);return}}_a.flags|=C,_e.memoizedState=oc(1|I,L,Oe,oe)}function ud(C,I){return Vu(8390656,8,C,I)}function dd(C,I){return Gu(2048,8,C,I)}function Cd(C,I){return Gu(4,2,C,I)}function _d(C,I){return Gu(4,4,C,I)}function Rd(C,I){if(typeof I=="function")return C=C(),I(C),function(){I(null)};if(I!=null)return C=C(),I.current=C,function(){I.current=null}}function fd(C,I,L){return L=L!=null?L.concat([C]):null,Gu(4,4,Rd.bind(null,I,C),L)}function pu(){}function Nu(C,I){var L=Jo();I=I===void 0?null:I;var oe=L.memoizedState;return oe!==null&&I!==null&&Du(I,oe[1])?oe[0]:(L.memoizedState=[C,I],C)}function nu(C,I){var L=Jo();I=I===void 0?null:I;var oe=L.memoizedState;return oe!==null&&I!==null&&Du(I,oe[1])?oe[0]:(C=C(),L.memoizedState=[C,I],C)}function Ku(C,I,L){return(xc&21)===0?(C.baseState&&(C.baseState=!1,el=!0),C.memoizedState=L):(Ba(L,I)||(L=fa(),_a.lanes|=L,lc|=L,C.baseState=!0),I)}function Pd(C,I){var L=_s;_s=L!==0&&4>L?L:4,C(!0);var oe=Su.transition;Su.transition={};try{C(!1),I()}finally{_s=L,Su.transition=oe}}function hd(){return Jo().memoizedState}function kd(C,I,L){var oe=ml(C);if(L={lane:oe,action:L,hasEagerState:!1,eagerState:null,next:null},Pu(C))ku(I,L);else if(L=Eu(C,I,L,oe),L!==null){var _e=oo();Ho(L,C,oe,_e),vc(L,I,oe)}}function Bd(C,I,L){var oe=ml(C),_e={lane:oe,action:L,hasEagerState:!1,eagerState:null,next:null};if(Pu(C))ku(I,_e);else{var Oe=C.alternate;if(C.lanes===0&&(Oe===null||Oe.lanes===0)&&(Oe=I.lastRenderedReducer,Oe!==null))try{var We=I.lastRenderedState,kt=Oe(We,L);if(_e.hasEagerState=!0,_e.eagerState=kt,Ba(kt,We)){var Vt=I.interleaved;Vt===null?(_e.next=_e,Da(I)):(_e.next=Vt.next,Vt.next=_e),I.interleaved=_e;return}}catch{}finally{}L=Eu(C,I,_e,oe),L!==null&&(_e=oo(),Ho(L,C,oe,_e),vc(L,I,oe))}}function Pu(C){var I=C.alternate;return C===_a||I!==null&&I===_a}function ku(C,I){Ro=Cu=!0;var L=C.pending;L===null?I.next=I:(I.next=L.next,L.next=I),C.pending=I}function vc(C,I,L){if((L&4194240)!==0){var oe=I.lanes;oe&=C.pendingLanes,L|=oe,I.lanes=L,za(C,L)}}var Zo={readContext:Xa,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},Wl={readContext:Xa,useCallback:function(C,I){return Ml().memoizedState=[C,I===void 0?null:I],C},useContext:Xa,useEffect:ud,useImperativeHandle:function(C,I,L){return L=L!=null?L.concat([C]):null,Vu(4194308,4,Rd.bind(null,I,C),L)},useLayoutEffect:function(C,I){return Vu(4194308,4,C,I)},useInsertionEffect:function(C,I){return Vu(4,2,C,I)},useMemo:function(C,I){var L=Ml();return I=I===void 0?null:I,C=C(),L.memoizedState=[C,I],C},useReducer:function(C,I,L){var oe=Ml();return I=L!==void 0?L(I):I,oe.memoizedState=oe.baseState=I,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:C,lastRenderedState:I},oe.queue=C,C=C.dispatch=kd.bind(null,_a,C),[oe.memoizedState,C]},useRef:function(C){var I=Ml();return C={current:C},I.memoizedState=C},useState:Tu,useDebugValue:pu,useDeferredValue:function(C){return Ml().memoizedState=C},useTransition:function(){var C=Tu(!1),I=C[0];return C=Pd.bind(null,C[1]),Ml().memoizedState=C,[I,C]},useMutableSource:function(){},useSyncExternalStore:function(C,I,L){var oe=_a,_e=Ml();if(gt){if(L===void 0)throw Error(n(407));L=L()}else{if(L=I(),ua===null)throw Error(n(349));(xc&30)!==0||hu(oe,I,L)}_e.memoizedState=L;var Oe={value:L,getSnapshot:I};return _e.queue=Oe,ud(Lc.bind(null,oe,Oe,C),[C]),oe.flags|=2048,oc(9,Za.bind(null,oe,Oe,L,I),void 0,null),L},useId:function(){var C=Ml(),I=ua.identifierPrefix;if(gt){var L=Ii,oe=na;L=(oe&~(1<<32-Yr(oe)-1)).toString(32)+L,I=":"+I+"R"+L,L=Fc++,0<L&&(I+="H"+L.toString(32)),I+=":"}else L=Sd++,I=":"+I+"r"+L.toString(32)+":";return C.memoizedState=I},unstable_isNewReconciler:!1},Td={readContext:Xa,useCallback:Nu,useContext:Xa,useEffect:dd,useImperativeHandle:fd,useInsertionEffect:Cd,useLayoutEffect:_d,useMemo:nu,useReducer:hl,useRef:Qu,useState:function(){return hl(No)},useDebugValue:pu,useDeferredValue:function(C){var I=Jo();return Ku(I,io.memoizedState,C)},useTransition:function(){var C=hl(No)[0],I=Jo().memoizedState;return[C,I]},useMutableSource:_u,useSyncExternalStore:Ru,useId:hd,unstable_isNewReconciler:!1},pd={readContext:Xa,useCallback:Nu,useContext:Xa,useEffect:dd,useImperativeHandle:fd,useInsertionEffect:Cd,useLayoutEffect:_d,useMemo:nu,useReducer:ru,useRef:Qu,useState:function(){return ru(No)},useDebugValue:pu,useDeferredValue:function(C){var I=Jo();return io===null?I.memoizedState=C:Ku(I,io.memoizedState,C)},useTransition:function(){var C=ru(No)[0],I=Jo().memoizedState;return[C,I]},useMutableSource:_u,useSyncExternalStore:Ru,useId:hd,unstable_isNewReconciler:!1};function ho(C,I){if(C&&C.defaultProps){I=de({},I),C=C.defaultProps;for(var L in C)I[L]===void 0&&(I[L]=C[L]);return I}return I}function pl(C,I,L,oe){I=C.memoizedState,L=L(oe,I),L=L==null?I:de({},I,L),C.memoizedState=L,C.lanes===0&&(C.updateQueue.baseState=L)}var su={isMounted:function(C){return(C=C._reactInternals)?Bs(C)===C:!1},enqueueSetState:function(C,I,L){C=C._reactInternals;var oe=oo(),_e=ml(C),Oe=_l(oe,_e);Oe.payload=I,L!=null&&(Oe.callback=L),I=Il(C,Oe,_e),I!==null&&(Ho(I,C,_e,oe),Ol(I,C,_e))},enqueueReplaceState:function(C,I,L){C=C._reactInternals;var oe=oo(),_e=ml(C),Oe=_l(oe,_e);Oe.tag=1,Oe.payload=I,L!=null&&(Oe.callback=L),I=Il(C,Oe,_e),I!==null&&(Ho(I,C,_e,oe),Ol(I,C,_e))},enqueueForceUpdate:function(C,I){C=C._reactInternals;var L=oo(),oe=ml(C),_e=_l(L,oe);_e.tag=2,I!=null&&(_e.callback=I),I=Il(C,_e,oe),I!==null&&(Ho(I,C,oe,L),Ol(I,C,oe))}};function Ad(C,I,L,oe,_e,Oe,We){return C=C.stateNode,typeof C.shouldComponentUpdate=="function"?C.shouldComponentUpdate(oe,Oe,We):I.prototype&&I.prototype.isPureReactComponent?!ea(L,oe)||!ea(_e,Oe):!0}function qu(C,I,L){var oe=!1,_e=Xo,Oe=I.contextType;return typeof Oe=="object"&&Oe!==null?Oe=Xa(Oe):(_e=co(I)?Cl:Ca.current,oe=I.contextTypes,Oe=(oe=oe!=null)?Vl(C,_e):Xo),I=new I(L,Oe),C.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=su,C.stateNode=I,I._reactInternals=C,oe&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=_e,C.__reactInternalMemoizedMaskedChildContext=Oe),I}function md(C,I,L,oe){C=I.state,typeof I.componentWillReceiveProps=="function"&&I.componentWillReceiveProps(L,oe),typeof I.UNSAFE_componentWillReceiveProps=="function"&&I.UNSAFE_componentWillReceiveProps(L,oe),I.state!==C&&su.enqueueReplaceState(I,I.state,null)}function Wu(C,I,L,oe){var _e=C.stateNode;_e.props=L,_e.state=C.memoizedState,_e.refs={},tu(C);var Oe=I.contextType;typeof Oe=="object"&&Oe!==null?_e.context=Xa(Oe):(Oe=co(I)?Cl:Ca.current,_e.context=Vl(C,Oe)),_e.state=C.memoizedState,Oe=I.getDerivedStateFromProps,typeof Oe=="function"&&(pl(C,I,Oe,L),_e.state=C.memoizedState),typeof I.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(I=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),I!==_e.state&&su.enqueueReplaceState(_e,_e.state,null),Gl(C,L,_e,oe),_e.state=C.memoizedState),typeof _e.componentDidMount=="function"&&(C.flags|=4194308)}function $c(C,I){try{var L="",oe=I;do L+=He(oe),oe=oe.return;while(oe);var _e=L}catch(Oe){_e=`
Error generating stack: `+Oe.message+`
`+Oe.stack}return{value:C,source:I,stack:_e,digest:null}}function Uc(C,I,L){return{value:C,source:null,stack:L??null,digest:I??null}}function Hc(C,I){try{console.error(I.value)}catch(L){setTimeout(function(){throw L})}}var iu=typeof WeakMap=="function"?WeakMap:Map;function Au(C,I,L){L=_l(-1,L),L.tag=3,L.payload={element:null};var oe=I.value;return L.callback=function(){Ou||(Ou=!0,ed=oe),Hc(C,I)},L}function Yu(C,I,L){L=_l(-1,L),L.tag=3;var oe=C.type.getDerivedStateFromError;if(typeof oe=="function"){var _e=I.value;L.payload=function(){return oe(_e)},L.callback=function(){Hc(C,I)}}var Oe=C.stateNode;return Oe!==null&&typeof Oe.componentDidCatch=="function"&&(L.callback=function(){Hc(C,I),typeof oe!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var We=I.stack;this.componentDidCatch(I.value,{componentStack:We!==null?We:""})}),L}function Nd(C,I,L){var oe=C.pingCache;if(oe===null){oe=C.pingCache=new iu;var _e=new Set;oe.set(I,_e)}else _e=oe.get(I),_e===void 0&&(_e=new Set,oe.set(I,_e));_e.has(L)||(_e.add(L),C=te.bind(null,C,I,L),I.then(C,C))}function gd(C){do{var I;if((I=C.tag===13)&&(I=C.memoizedState,I=I!==null?I.dehydrated!==null:!0),I)return C;C=C.return}while(C!==null);return null}function xd(C,I,L,oe,_e){return(C.mode&1)===0?(C===I?C.flags|=65536:(C.flags|=128,L.flags|=131072,L.flags&=-52805,L.tag===1&&(L.alternate===null?L.tag=17:(I=_l(-1,1),I.tag=2,Il(L,I,1))),L.lanes|=1),C):(C.flags|=65536,C.lanes=_e,C)}var vd=M.ReactCurrentOwner,el=!1;function $o(C,I,L,oe){I.child=C===null?ha(I,null,L,oe):qs(I,C.child,L,oe)}function Xu(C,I,L,oe,_e){L=L.render;var Oe=I.ref;return uo(I,_e),oe=Uu(C,I,L,oe,Oe,_e),L=Hu(),C!==null&&!el?(I.updateQueue=C.updateQueue,I.flags&=-2053,C.lanes&=~_e,Kt(C,I,_e)):(gt&&L&&Ue(I),I.flags|=1,$o(C,I,oe,_e),I.child)}function yd(C,I,L,oe,_e){if(C===null){var Oe=L.type;return typeof Oe=="function"&&!gr(Oe)&&Oe.defaultProps===void 0&&L.compare===null&&L.defaultProps===void 0?(I.tag=15,I.type=Oe,Ju(C,I,Oe,oe,_e)):(C=Mn(L.type,null,oe,I,I.mode,_e),C.ref=I.ref,C.return=I,I.child=C)}if(Oe=C.child,(C.lanes&_e)===0){var We=Oe.memoizedProps;if(L=L.compare,L=L!==null?L:ea,L(We,oe)&&C.ref===I.ref)return Kt(C,I,_e)}return I.flags|=1,C=Zn(Oe,oe),C.ref=I.ref,C.return=I,I.child=C}function Ju(C,I,L,oe,_e){if(C!==null){var Oe=C.memoizedProps;if(ea(Oe,oe)&&C.ref===I.ref)if(el=!1,I.pendingProps=oe=Oe,(C.lanes&_e)!==0)(C.flags&131072)!==0&&(el=!0);else return I.lanes=C.lanes,Kt(C,I,_e)}return mu(C,I,L,oe,_e)}function Bu(C,I,L){var oe=I.pendingProps,_e=oe.children,Oe=C!==null?C.memoizedState:null;if(oe.mode==="hidden")if((I.mode&1)===0)I.memoizedState={baseLanes:0,cachePool:null,transitions:null},qi(qa,Fa),Fa|=L;else{if((L&1073741824)===0)return C=Oe!==null?Oe.baseLanes|L:L,I.lanes=I.childLanes=1073741824,I.memoizedState={baseLanes:C,cachePool:null,transitions:null},I.updateQueue=null,qi(qa,Fa),Fa|=C,null;I.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe=Oe!==null?Oe.baseLanes:L,qi(qa,Fa),Fa|=oe}else Oe!==null?(oe=Oe.baseLanes|L,I.memoizedState=null):oe=L,qi(qa,Fa),Fa|=oe;return $o(C,I,_e,L),I.child}function Iu(C,I){var L=I.ref;(C===null&&L!==null||C!==null&&C.ref!==L)&&(I.flags|=512,I.flags|=2097152)}function mu(C,I,L,oe,_e){var Oe=co(L)?Cl:Ca.current;return Oe=Vl(I,Oe),uo(I,_e),L=Uu(C,I,L,oe,Oe,_e),oe=Hu(),C!==null&&!el?(I.updateQueue=C.updateQueue,I.flags&=-2053,C.lanes&=~_e,Kt(C,I,_e)):(gt&&oe&&Ue(I),I.flags|=1,$o(C,I,L,_e),I.child)}function Zu(C,I,L,oe,_e){if(co(L)){var Oe=!0;Bl(I)}else Oe=!1;if(uo(I,_e),I.stateNode===null)jt(C,I),qu(I,L,oe),Wu(I,L,oe,_e),oe=!0;else if(C===null){var We=I.stateNode,kt=I.memoizedProps;We.props=kt;var Vt=We.context,Rr=L.contextType;typeof Rr=="object"&&Rr!==null?Rr=Xa(Rr):(Rr=co(L)?Cl:Ca.current,Rr=Vl(I,Rr));var Rn=L.getDerivedStateFromProps,kn=typeof Rn=="function"||typeof We.getSnapshotBeforeUpdate=="function";kn||typeof We.UNSAFE_componentWillReceiveProps!="function"&&typeof We.componentWillReceiveProps!="function"||(kt!==oe||Vt!==Rr)&&md(I,We,oe,Rr),_o=!1;var _n=I.memoizedState;We.state=_n,Gl(I,oe,We,_e),Vt=I.memoizedState,kt!==oe||_n!==Vt||Ia.current||_o?(typeof Rn=="function"&&(pl(I,L,Rn,oe),Vt=I.memoizedState),(kt=_o||Ad(I,L,kt,oe,_n,Vt,Rr))?(kn||typeof We.UNSAFE_componentWillMount!="function"&&typeof We.componentWillMount!="function"||(typeof We.componentWillMount=="function"&&We.componentWillMount(),typeof We.UNSAFE_componentWillMount=="function"&&We.UNSAFE_componentWillMount()),typeof We.componentDidMount=="function"&&(I.flags|=4194308)):(typeof We.componentDidMount=="function"&&(I.flags|=4194308),I.memoizedProps=oe,I.memoizedState=Vt),We.props=oe,We.state=Vt,We.context=Rr,oe=kt):(typeof We.componentDidMount=="function"&&(I.flags|=4194308),oe=!1)}else{We=I.stateNode,du(C,I),kt=I.memoizedProps,Rr=I.type===I.elementType?kt:ho(I.type,kt),We.props=Rr,kn=I.pendingProps,_n=We.context,Vt=L.contextType,typeof Vt=="object"&&Vt!==null?Vt=Xa(Vt):(Vt=co(L)?Cl:Ca.current,Vt=Vl(I,Vt));var os=L.getDerivedStateFromProps;(Rn=typeof os=="function"||typeof We.getSnapshotBeforeUpdate=="function")||typeof We.UNSAFE_componentWillReceiveProps!="function"&&typeof We.componentWillReceiveProps!="function"||(kt!==kn||_n!==Vt)&&md(I,We,oe,Vt),_o=!1,_n=I.memoizedState,We.state=_n,Gl(I,oe,We,_e);var vs=I.memoizedState;kt!==kn||_n!==vs||Ia.current||_o?(typeof os=="function"&&(pl(I,L,os,oe),vs=I.memoizedState),(Rr=_o||Ad(I,L,Rr,oe,_n,vs,Vt)||!1)?(Rn||typeof We.UNSAFE_componentWillUpdate!="function"&&typeof We.componentWillUpdate!="function"||(typeof We.componentWillUpdate=="function"&&We.componentWillUpdate(oe,vs,Vt),typeof We.UNSAFE_componentWillUpdate=="function"&&We.UNSAFE_componentWillUpdate(oe,vs,Vt)),typeof We.componentDidUpdate=="function"&&(I.flags|=4),typeof We.getSnapshotBeforeUpdate=="function"&&(I.flags|=1024)):(typeof We.componentDidUpdate!="function"||kt===C.memoizedProps&&_n===C.memoizedState||(I.flags|=4),typeof We.getSnapshotBeforeUpdate!="function"||kt===C.memoizedProps&&_n===C.memoizedState||(I.flags|=1024),I.memoizedProps=oe,I.memoizedState=vs),We.props=oe,We.state=vs,We.context=Vt,oe=Rr):(typeof We.componentDidUpdate!="function"||kt===C.memoizedProps&&_n===C.memoizedState||(I.flags|=4),typeof We.getSnapshotBeforeUpdate!="function"||kt===C.memoizedProps&&_n===C.memoizedState||(I.flags|=1024),oe=!1)}return K(C,I,L,oe,Oe,_e)}function K(C,I,L,oe,_e,Oe){Iu(C,I);var We=(I.flags&128)!==0;if(!oe&&!We)return _e&&eu(I,L,!1),Kt(C,I,Oe);oe=I.stateNode,vd.current=I;var kt=We&&typeof L.getDerivedStateFromError!="function"?null:oe.render();return I.flags|=1,C!==null&&We?(I.child=qs(I,C.child,null,Oe),I.child=qs(I,null,kt,Oe)):$o(C,I,kt,Oe),I.memoizedState=oe.state,_e&&eu(I,L,!0),I.child}function he(C){var I=C.stateNode;I.pendingContext?kl(C,I.pendingContext,I.pendingContext!==I.context):I.context&&kl(C,I.context,!1),ia(C,I.containerInfo)}function Ne(C,I,L,oe,_e){return Hr(),sa(_e),I.flags|=256,$o(C,I,L,oe),I.child}var Fe={dehydrated:null,treeContext:null,retryLane:0};function Ke(C){return{baseLanes:C,cachePool:null,transitions:null}}function Je(C,I,L){var oe=I.pendingProps,_e=pa.current,Oe=!1,We=(I.flags&128)!==0,kt;if((kt=We)||(kt=C!==null&&C.memoizedState===null?!1:(_e&2)!==0),kt?(Oe=!0,I.flags&=-129):(C===null||C.memoizedState!==null)&&(_e|=1),qi(pa,_e&1),C===null)return wr(I),C=I.memoizedState,C!==null&&(C=C.dehydrated,C!==null)?((I.mode&1)===0?I.lanes=1:C.data==="$!"?I.lanes=8:I.lanes=1073741824,null):(We=oe.children,C=oe.fallback,Oe?(oe=I.mode,Oe=I.child,We={mode:"hidden",children:We},(oe&1)===0&&Oe!==null?(Oe.childLanes=0,Oe.pendingProps=We):Oe=Ai(We,oe,0,null),C=Gn(C,oe,L,null),Oe.return=I,C.return=I,Oe.sibling=C,I.child=Oe,I.child.memoizedState=Ke(L),I.memoizedState=Fe,C):et(I,We));if(_e=C.memoizedState,_e!==null&&(kt=_e.dehydrated,kt!==null))return ct(C,I,We,oe,kt,_e,L);if(Oe){Oe=oe.fallback,We=I.mode,_e=C.child,kt=_e.sibling;var Vt={mode:"hidden",children:oe.children};return(We&1)===0&&I.child!==_e?(oe=I.child,oe.childLanes=0,oe.pendingProps=Vt,I.deletions=null):(oe=Zn(_e,Vt),oe.subtreeFlags=_e.subtreeFlags&14680064),kt!==null?Oe=Zn(kt,Oe):(Oe=Gn(Oe,We,L,null),Oe.flags|=2),Oe.return=I,oe.return=I,oe.sibling=Oe,I.child=oe,oe=Oe,Oe=I.child,We=C.child.memoizedState,We=We===null?Ke(L):{baseLanes:We.baseLanes|L,cachePool:null,transitions:We.transitions},Oe.memoizedState=We,Oe.childLanes=C.childLanes&~L,I.memoizedState=Fe,oe}return Oe=C.child,C=Oe.sibling,oe=Zn(Oe,{mode:"visible",children:oe.children}),(I.mode&1)===0&&(oe.lanes=L),oe.return=I,oe.sibling=null,C!==null&&(L=I.deletions,L===null?(I.deletions=[C],I.flags|=16):L.push(C)),I.child=oe,I.memoizedState=null,oe}function et(C,I){return I=Ai({mode:"visible",children:I},C.mode,0,null),I.return=C,C.child=I}function ot(C,I,L,oe){return oe!==null&&sa(oe),qs(I,C.child,null,L),C=et(I,I.pendingProps.children),C.flags|=2,I.memoizedState=null,C}function ct(C,I,L,oe,_e,Oe,We){if(L)return I.flags&256?(I.flags&=-257,oe=Uc(Error(n(422))),ot(C,I,We,oe)):I.memoizedState!==null?(I.child=C.child,I.flags|=128,null):(Oe=oe.fallback,_e=I.mode,oe=Ai({mode:"visible",children:oe.children},_e,0,null),Oe=Gn(Oe,_e,We,null),Oe.flags|=2,oe.return=I,Oe.return=I,oe.sibling=Oe,I.child=oe,(I.mode&1)!==0&&qs(I,C.child,null,We),I.child.memoizedState=Ke(We),I.memoizedState=Fe,Oe);if((I.mode&1)===0)return ot(C,I,We,null);if(_e.data==="$!"){if(oe=_e.nextSibling&&_e.nextSibling.dataset,oe)var kt=oe.dgst;return oe=kt,Oe=Error(n(419)),oe=Uc(Oe,oe,void 0),ot(C,I,We,oe)}if(kt=(We&C.childLanes)!==0,el||kt){if(oe=ua,oe!==null){switch(We&-We){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=(_e&(oe.suspendedLanes|We))!==0?0:_e,_e!==0&&_e!==Oe.retryLane&&(Oe.retryLane=_e,bo(C,_e),Ho(oe,C,_e,-1))}return vu(),oe=Uc(Error(n(421))),ot(C,I,We,oe)}return _e.data==="$?"?(I.flags|=128,I.child=C.child,I=De.bind(null,C),_e._reactRetry=I,null):(C=Oe.treeContext,Et=Pl(_e.nextSibling),rt=I,gt=!0,pr=null,C!==null&&(Rs[Zs++]=na,Rs[Zs++]=Ii,Rs[Zs++]=ta,na=C.id,Ii=C.overflow,ta=I),I=et(I,oe.children),I.flags|=4096,I)}function Ct(C,I,L){C.lanes|=I;var oe=C.alternate;oe!==null&&(oe.lanes|=I),ul(C.return,I,L)}function Qt(C,I,L,oe,_e){var Oe=C.memoizedState;Oe===null?C.memoizedState={isBackwards:I,rendering:null,renderingStartTime:0,last:oe,tail:L,tailMode:_e}:(Oe.isBackwards=I,Oe.rendering=null,Oe.renderingStartTime=0,Oe.last=oe,Oe.tail=L,Oe.tailMode=_e)}function xr(C,I,L){var oe=I.pendingProps,_e=oe.revealOrder,Oe=oe.tail;if($o(C,I,oe.children,L),oe=pa.current,(oe&2)!==0)oe=oe&1|2,I.flags|=128;else{if(C!==null&&(C.flags&128)!==0)e:for(C=I.child;C!==null;){if(C.tag===13)C.memoizedState!==null&&Ct(C,L,I);else if(C.tag===19)Ct(C,L,I);else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===I)break e;for(;C.sibling===null;){if(C.return===null||C.return===I)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}oe&=1}if(qi(pa,oe),(I.mode&1)===0)I.memoizedState=null;else switch(_e){case"forwards":for(L=I.child,_e=null;L!==null;)C=L.alternate,C!==null&&ql(C)===null&&(_e=L),L=L.sibling;L=_e,L===null?(_e=I.child,I.child=null):(_e=L.sibling,L.sibling=null),Qt(I,!1,_e,L,Oe);break;case"backwards":for(L=null,_e=I.child,I.child=null;_e!==null;){if(C=_e.alternate,C!==null&&ql(C)===null){I.child=_e;break}C=_e.sibling,_e.sibling=L,L=_e,_e=C}Qt(I,!0,L,null,Oe);break;case"together":Qt(I,!1,null,null,void 0);break;default:I.memoizedState=null}return I.child}function jt(C,I){(I.mode&1)===0&&C!==null&&(C.alternate=null,I.alternate=null,I.flags|=2)}function Kt(C,I,L){if(C!==null&&(I.dependencies=C.dependencies),lc|=I.lanes,(L&I.childLanes)===0)return null;if(C!==null&&I.child!==C.child)throw Error(n(153));if(I.child!==null){for(C=I.child,L=Zn(C,C.pendingProps),I.child=L,L.return=I;C.sibling!==null;)C=C.sibling,L=L.sibling=Zn(C,C.pendingProps),L.return=I;L.sibling=null}return I.child}function dr(C,I,L){switch(I.tag){case 3:he(I),Hr();break;case 5:Ja(I);break;case 1:co(I.type)&&Bl(I);break;case 4:ia(I,I.stateNode.containerInfo);break;case 10:var oe=I.type._context,_e=I.memoizedProps.value;qi(ys,oe._currentValue),oe._currentValue=_e;break;case 13:if(oe=I.memoizedState,oe!==null)return oe.dehydrated!==null?(qi(pa,pa.current&1),I.flags|=128,null):(L&I.child.childLanes)!==0?Je(C,I,L):(qi(pa,pa.current&1),C=Kt(C,I,L),C!==null?C.sibling:null);qi(pa,pa.current&1);break;case 19:if(oe=(L&I.childLanes)!==0,(C.flags&128)!==0){if(oe)return xr(C,I,L);I.flags|=128}if(_e=I.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),qi(pa,pa.current),oe)break;return null;case 22:case 23:return I.lanes=0,Bu(C,I,L)}return Kt(C,I,L)}var zr,yr,Gr,Kr;zr=function(C,I){for(var L=I.child;L!==null;){if(L.tag===5||L.tag===6)C.appendChild(L.stateNode);else if(L.tag!==4&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===I)break;for(;L.sibling===null;){if(L.return===null||L.return===I)return;L=L.return}L.sibling.return=L.return,L=L.sibling}},yr=function(){},Gr=function(C,I,L,oe){var _e=C.memoizedProps;if(_e!==oe){C=I.stateNode,Ri(Lo.current);var Oe=null;switch(L){case"input":_e=St(C,_e),oe=St(C,oe),Oe=[];break;case"select":_e=de({},_e,{value:void 0}),oe=de({},oe,{value:void 0}),Oe=[];break;case"textarea":_e=on(C,_e),oe=on(C,oe),Oe=[];break;default:typeof _e.onClick!="function"&&typeof oe.onClick=="function"&&(C.onclick=rc)}qr(L,oe);var We;L=null;for(Rr in _e)if(!oe.hasOwnProperty(Rr)&&_e.hasOwnProperty(Rr)&&_e[Rr]!=null)if(Rr==="style"){var kt=_e[Rr];for(We in kt)kt.hasOwnProperty(We)&&(L||(L={}),L[We]="")}else Rr!=="dangerouslySetInnerHTML"&&Rr!=="children"&&Rr!=="suppressContentEditableWarning"&&Rr!=="suppressHydrationWarning"&&Rr!=="autoFocus"&&(l.hasOwnProperty(Rr)?Oe||(Oe=[]):(Oe=Oe||[]).push(Rr,null));for(Rr in oe){var Vt=oe[Rr];if(kt=_e?.[Rr],oe.hasOwnProperty(Rr)&&Vt!==kt&&(Vt!=null||kt!=null))if(Rr==="style")if(kt){for(We in kt)!kt.hasOwnProperty(We)||Vt&&Vt.hasOwnProperty(We)||(L||(L={}),L[We]="");for(We in Vt)Vt.hasOwnProperty(We)&&kt[We]!==Vt[We]&&(L||(L={}),L[We]=Vt[We])}else L||(Oe||(Oe=[]),Oe.push(Rr,L)),L=Vt;else Rr==="dangerouslySetInnerHTML"?(Vt=Vt?Vt.__html:void 0,kt=kt?kt.__html:void 0,Vt!=null&&kt!==Vt&&(Oe=Oe||[]).push(Rr,Vt)):Rr==="children"?typeof Vt!="string"&&typeof Vt!="number"||(Oe=Oe||[]).push(Rr,""+Vt):Rr!=="suppressContentEditableWarning"&&Rr!=="suppressHydrationWarning"&&(l.hasOwnProperty(Rr)?(Vt!=null&&Rr==="onScroll"&&Di("scroll",C),Oe||kt===Vt||(Oe=[])):(Oe=Oe||[]).push(Rr,Vt))}L&&(Oe=Oe||[]).push("style",L);var Rr=Oe;(I.updateQueue=Rr)&&(I.flags|=4)}},Kr=function(C,I,L,oe){L!==oe&&(I.flags|=4)};function yn(C,I){if(!gt)switch(C.tailMode){case"hidden":I=C.tail;for(var L=null;I!==null;)I.alternate!==null&&(L=I),I=I.sibling;L===null?C.tail=null:L.sibling=null;break;case"collapsed":L=C.tail;for(var oe=null;L!==null;)L.alternate!==null&&(oe=L),L=L.sibling;oe===null?I||C.tail===null?C.tail=null:C.tail.sibling=null:oe.sibling=null}}function Wr(C){var I=C.alternate!==null&&C.alternate.child===C.child,L=0,oe=0;if(I)for(var _e=C.child;_e!==null;)L|=_e.lanes|_e.childLanes,oe|=_e.subtreeFlags&14680064,oe|=_e.flags&14680064,_e.return=C,_e=_e.sibling;else for(_e=C.child;_e!==null;)L|=_e.lanes|_e.childLanes,oe|=_e.subtreeFlags,oe|=_e.flags,_e.return=C,_e=_e.sibling;return C.subtreeFlags|=oe,C.childLanes=L,I}function bs(C,I,L){var oe=I.pendingProps;switch(ve(I),I.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(I),null;case 1:return co(I.type)&&cl(),Wr(I),null;case 3:return oe=I.stateNode,xa(),Ci(Ia),Ci(Ca),ju(),oe.pendingContext&&(oe.context=oe.pendingContext,oe.pendingContext=null),(C===null||C.child===null)&&(Qn(I)?I.flags|=4:C===null||C.memoizedState.isDehydrated&&(I.flags&256)===0||(I.flags|=1024,pr!==null&&(wd(pr),pr=null))),yr(C,I),Wr(I),null;case 5:Kl(I);var _e=Ri(fl.current);if(L=I.type,C!==null&&I.stateNode!=null)Gr(C,I,L,oe,_e),C.ref!==I.ref&&(I.flags|=512,I.flags|=2097152);else{if(!oe){if(I.stateNode===null)throw Error(n(166));return Wr(I),null}if(C=Ri(Lo.current),Qn(I)){oe=I.stateNode,L=I.type;var Oe=I.memoizedProps;switch(oe[no]=I,oe[Wo]=Oe,C=(I.mode&1)!==0,L){case"dialog":Di("cancel",oe),Di("close",oe);break;case"iframe":case"object":case"embed":Di("load",oe);break;case"video":case"audio":for(_e=0;_e<Zl.length;_e++)Di(Zl[_e],oe);break;case"source":Di("error",oe);break;case"img":case"image":case"link":Di("error",oe),Di("load",oe);break;case"details":Di("toggle",oe);break;case"input":or(oe,Oe),Di("invalid",oe);break;case"select":oe._wrapperState={wasMultiple:!!Oe.multiple},Di("invalid",oe);break;case"textarea":wn(oe,Oe),Di("invalid",oe)}qr(L,Oe),_e=null;for(var We in Oe)if(Oe.hasOwnProperty(We)){var kt=Oe[We];We==="children"?typeof kt=="string"?oe.textContent!==kt&&(Oe.suppressHydrationWarning!==!0&&tc(oe.textContent,kt,C),_e=["children",kt]):typeof kt=="number"&&oe.textContent!==""+kt&&(Oe.suppressHydrationWarning!==!0&&tc(oe.textContent,kt,C),_e=["children",""+kt]):l.hasOwnProperty(We)&&kt!=null&&We==="onScroll"&&Di("scroll",oe)}switch(L){case"input":Ye(oe),ur(oe,Oe,!0);break;case"textarea":Ye(oe),en(oe);break;case"select":case"option":break;default:typeof Oe.onClick=="function"&&(oe.onclick=rc)}oe=_e,I.updateQueue=oe,oe!==null&&(I.flags|=4)}else{We=_e.nodeType===9?_e:_e.ownerDocument,C==="http://www.w3.org/1999/xhtml"&&(C=Pt(L)),C==="http://www.w3.org/1999/xhtml"?L==="script"?(C=We.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild)):typeof oe.is=="string"?C=We.createElement(L,{is:oe.is}):(C=We.createElement(L),L==="select"&&(We=C,oe.multiple?We.multiple=!0:oe.size&&(We.size=oe.size))):C=We.createElementNS(C,L),C[no]=I,C[Wo]=oe,zr(C,I,!1,!1),I.stateNode=C;e:{switch(We=Zr(L,oe),L){case"dialog":Di("cancel",C),Di("close",C),_e=oe;break;case"iframe":case"object":case"embed":Di("load",C),_e=oe;break;case"video":case"audio":for(_e=0;_e<Zl.length;_e++)Di(Zl[_e],C);_e=oe;break;case"source":Di("error",C),_e=oe;break;case"img":case"image":case"link":Di("error",C),Di("load",C),_e=oe;break;case"details":Di("toggle",C),_e=oe;break;case"input":or(C,oe),_e=St(C,oe),Di("invalid",C);break;case"option":_e=oe;break;case"select":C._wrapperState={wasMultiple:!!oe.multiple},_e=de({},oe,{value:void 0}),Di("invalid",C);break;case"textarea":wn(C,oe),_e=on(C,oe),Di("invalid",C);break;default:_e=oe}qr(L,_e),kt=_e;for(Oe in kt)if(kt.hasOwnProperty(Oe)){var Vt=kt[Oe];Oe==="style"?Dt(C,Vt):Oe==="dangerouslySetInnerHTML"?(Vt=Vt?Vt.__html:void 0,Vt!=null&&Cn(C,Vt)):Oe==="children"?typeof Vt=="string"?(L!=="textarea"||Vt!=="")&&tn(C,Vt):typeof Vt=="number"&&tn(C,""+Vt):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(l.hasOwnProperty(Oe)?Vt!=null&&Oe==="onScroll"&&Di("scroll",C):Vt!=null&&B(C,Oe,Vt,We))}switch(L){case"input":Ye(C),ur(C,oe,!1);break;case"textarea":Ye(C),en(C);break;case"option":oe.value!=null&&C.setAttribute("value",""+Ve(oe.value));break;case"select":C.multiple=!!oe.multiple,Oe=oe.value,Oe!=null?$r(C,!!oe.multiple,Oe,!1):oe.defaultValue!=null&&$r(C,!!oe.multiple,oe.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(C.onclick=rc)}switch(L){case"button":case"input":case"select":case"textarea":oe=!!oe.autoFocus;break e;case"img":oe=!0;break e;default:oe=!1}}oe&&(I.flags|=4)}I.ref!==null&&(I.flags|=512,I.flags|=2097152)}return Wr(I),null;case 6:if(C&&I.stateNode!=null)Kr(C,I,C.memoizedProps,oe);else{if(typeof oe!="string"&&I.stateNode===null)throw Error(n(166));if(L=Ri(fl.current),Ri(Lo.current),Qn(I)){if(oe=I.stateNode,L=I.memoizedProps,oe[no]=I,(Oe=oe.nodeValue!==L)&&(C=rt,C!==null))switch(C.tag){case 3:tc(oe.nodeValue,L,(C.mode&1)!==0);break;case 5:C.memoizedProps.suppressHydrationWarning!==!0&&tc(oe.nodeValue,L,(C.mode&1)!==0)}Oe&&(I.flags|=4)}else oe=(L.nodeType===9?L:L.ownerDocument).createTextNode(oe),oe[no]=I,I.stateNode=oe}return Wr(I),null;case 13:if(Ci(pa),oe=I.memoizedState,C===null||C.memoizedState!==null&&C.memoizedState.dehydrated!==null){if(gt&&Et!==null&&(I.mode&1)!==0&&(I.flags&128)===0)An(),Hr(),I.flags|=98560,Oe=!1;else if(Oe=Qn(I),oe!==null&&oe.dehydrated!==null){if(C===null){if(!Oe)throw Error(n(318));if(Oe=I.memoizedState,Oe=Oe!==null?Oe.dehydrated:null,!Oe)throw Error(n(317));Oe[no]=I}else Hr(),(I.flags&128)===0&&(I.memoizedState=null),I.flags|=4;Wr(I),Oe=!1}else pr!==null&&(wd(pr),pr=null),Oe=!0;if(!Oe)return I.flags&65536?I:null}return(I.flags&128)!==0?(I.lanes=L,I):(oe=oe!==null,oe!==(C!==null&&C.memoizedState!==null)&&oe&&(I.child.flags|=8192,(I.mode&1)!==0&&(C===null||(pa.current&1)!==0?Wa===0&&(Wa=3):vu())),I.updateQueue!==null&&(I.flags|=4),Wr(I),null);case 4:return xa(),yr(C,I),C===null&&Pa(I.stateNode.containerInfo),Wr(I),null;case 10:return so(I.type._context),Wr(I),null;case 17:return co(I.type)&&cl(),Wr(I),null;case 19:if(Ci(pa),Oe=I.memoizedState,Oe===null)return Wr(I),null;if(oe=(I.flags&128)!==0,We=Oe.rendering,We===null)if(oe)yn(Oe,!1);else{if(Wa!==0||C!==null&&(C.flags&128)!==0)for(C=I.child;C!==null;){if(We=ql(C),We!==null){for(I.flags|=128,yn(Oe,!1),oe=We.updateQueue,oe!==null&&(I.updateQueue=oe,I.flags|=4),I.subtreeFlags=0,oe=L,L=I.child;L!==null;)Oe=L,C=oe,Oe.flags&=14680066,We=Oe.alternate,We===null?(Oe.childLanes=0,Oe.lanes=C,Oe.child=null,Oe.subtreeFlags=0,Oe.memoizedProps=null,Oe.memoizedState=null,Oe.updateQueue=null,Oe.dependencies=null,Oe.stateNode=null):(Oe.childLanes=We.childLanes,Oe.lanes=We.lanes,Oe.child=We.child,Oe.subtreeFlags=0,Oe.deletions=null,Oe.memoizedProps=We.memoizedProps,Oe.memoizedState=We.memoizedState,Oe.updateQueue=We.updateQueue,Oe.type=We.type,C=We.dependencies,Oe.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),L=L.sibling;return qi(pa,pa.current&1|2),I.child}C=C.sibling}Oe.tail!==null&&As()>au&&(I.flags|=128,oe=!0,yn(Oe,!1),I.lanes=4194304)}else{if(!oe)if(C=ql(We),C!==null){if(I.flags|=128,oe=!0,L=C.updateQueue,L!==null&&(I.updateQueue=L,I.flags|=4),yn(Oe,!0),Oe.tail===null&&Oe.tailMode==="hidden"&&!We.alternate&&!gt)return Wr(I),null}else 2*As()-Oe.renderingStartTime>au&&L!==1073741824&&(I.flags|=128,oe=!0,yn(Oe,!1),I.lanes=4194304);Oe.isBackwards?(We.sibling=I.child,I.child=We):(L=Oe.last,L!==null?L.sibling=We:I.child=We,Oe.last=We)}return Oe.tail!==null?(I=Oe.tail,Oe.rendering=I,Oe.tail=I.sibling,Oe.renderingStartTime=As(),I.sibling=null,L=pa.current,qi(pa,oe?L&1|2:L&1),I):(Wr(I),null);case 22:case 23:return sd(),oe=I.memoizedState!==null,C!==null&&C.memoizedState!==null!==oe&&(I.flags|=8192),oe&&(I.mode&1)!==0?(Fa&1073741824)!==0&&(Wr(I),I.subtreeFlags&6&&(I.flags|=8192)):Wr(I),null;case 24:return null;case 25:return null}throw Error(n(156,I.tag))}function is(C,I){switch(ve(I),I.tag){case 1:return co(I.type)&&cl(),C=I.flags,C&65536?(I.flags=C&-65537|128,I):null;case 3:return xa(),Ci(Ia),Ci(Ca),ju(),C=I.flags,(C&65536)!==0&&(C&128)===0?(I.flags=C&-65537|128,I):null;case 5:return Kl(I),null;case 13:if(Ci(pa),C=I.memoizedState,C!==null&&C.dehydrated!==null){if(I.alternate===null)throw Error(n(340));Hr()}return C=I.flags,C&65536?(I.flags=C&-65537|128,I):null;case 19:return Ci(pa),null;case 4:return xa(),null;case 10:return so(I.type._context),null;case 22:case 23:return sd(),null;case 24:return null;default:return null}}var ci=!1,Yn=!1,Ui=typeof WeakSet=="function"?WeakSet:Set,Un=null;function ii(C,I){var L=C.ref;if(L!==null)if(typeof L=="function")try{L(null)}catch(oe){Z(C,I,oe)}else L.current=null}function ds(C,I,L){try{L()}catch(oe){Z(C,I,oe)}}var Vn=!1;function eo(C,I){if(nc=$e,C=Va(),So(C)){if("selectionStart"in C)var L={start:C.selectionStart,end:C.selectionEnd};else e:{L=(L=C.ownerDocument)&&L.defaultView||window;var oe=L.getSelection&&L.getSelection();if(oe&&oe.rangeCount!==0){L=oe.anchorNode;var _e=oe.anchorOffset,Oe=oe.focusNode;oe=oe.focusOffset;try{L.nodeType,Oe.nodeType}catch{L=null;break e}var We=0,kt=-1,Vt=-1,Rr=0,Rn=0,kn=C,_n=null;t:for(;;){for(var os;kn!==L||_e!==0&&kn.nodeType!==3||(kt=We+_e),kn!==Oe||oe!==0&&kn.nodeType!==3||(Vt=We+oe),kn.nodeType===3&&(We+=kn.nodeValue.length),(os=kn.firstChild)!==null;)_n=kn,kn=os;for(;;){if(kn===C)break t;if(_n===L&&++Rr===_e&&(kt=We),_n===Oe&&++Rn===oe&&(Vt=We),(os=kn.nextSibling)!==null)break;kn=_n,_n=kn.parentNode}kn=os}L=kt===-1||Vt===-1?null:{start:kt,end:Vt}}else L=null}L=L||{start:0,end:0}}else L=null;for(sc={focusedElem:C,selectionRange:L},$e=!1,Un=I;Un!==null;)if(I=Un,C=I.child,(I.subtreeFlags&1028)!==0&&C!==null)C.return=I,Un=C;else for(;Un!==null;){I=Un;try{var vs=I.alternate;if((I.flags&1024)!==0)switch(I.tag){case 0:case 11:case 15:break;case 1:if(vs!==null){var js=vs.memoizedProps,Io=vs.memoizedState,Sr=I.stateNode,sr=Sr.getSnapshotBeforeUpdate(I.elementType===I.type?js:ho(I.type,js),Io);Sr.__reactInternalSnapshotBeforeUpdate=sr}break;case 3:var Cr=I.stateNode.containerInfo;Cr.nodeType===1?Cr.textContent="":Cr.nodeType===9&&Cr.documentElement&&Cr.removeChild(Cr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch($n){Z(I,I.return,$n)}if(C=I.sibling,C!==null){C.return=I.return,Un=C;break}Un=I.return}return vs=Vn,Vn=!1,vs}function ti(C,I,L){var oe=I.updateQueue;if(oe=oe!==null?oe.lastEffect:null,oe!==null){var _e=oe=oe.next;do{if((_e.tag&C)===C){var Oe=_e.destroy;_e.destroy=void 0,Oe!==void 0&&ds(I,L,Oe)}_e=_e.next}while(_e!==oe)}}function Oi(C,I){if(I=I.updateQueue,I=I!==null?I.lastEffect:null,I!==null){var L=I=I.next;do{if((L.tag&C)===C){var oe=L.create;L.destroy=oe()}L=L.next}while(L!==I)}}function va(C){var I=C.ref;if(I!==null){var L=C.stateNode;switch(C.tag){case 5:C=L;break;default:C=L}typeof I=="function"?I(C):I.current=C}}function ao(C){var I=C.alternate;I!==null&&(C.alternate=null,ao(I)),C.child=null,C.deletions=null,C.sibling=null,C.tag===5&&(I=C.stateNode,I!==null&&(delete I[no],delete I[Wo],delete I[Jc],delete I[Mo],delete I[mc])),C.stateNode=null,C.return=null,C.dependencies=null,C.memoizedProps=null,C.memoizedState=null,C.pendingProps=null,C.stateNode=null,C.updateQueue=null}function wo(C){return C.tag===5||C.tag===3||C.tag===4}function Oa(C){e:for(;;){for(;C.sibling===null;){if(C.return===null||wo(C.return))return null;C=C.return}for(C.sibling.return=C.return,C=C.sibling;C.tag!==5&&C.tag!==6&&C.tag!==18;){if(C.flags&2||C.child===null||C.tag===4)continue e;C.child.return=C,C=C.child}if(!(C.flags&2))return C.stateNode}}function Eo(C,I,L){var oe=C.tag;if(oe===5||oe===6)C=C.stateNode,I?L.nodeType===8?L.parentNode.insertBefore(C,I):L.insertBefore(C,I):(L.nodeType===8?(I=L.parentNode,I.insertBefore(C,L)):(I=L,I.appendChild(C)),L=L._reactRootContainer,L!=null||I.onclick!==null||(I.onclick=rc));else if(oe!==4&&(C=C.child,C!==null))for(Eo(C,I,L),C=C.sibling;C!==null;)Eo(C,I,L),C=C.sibling}function Po(C,I,L){var oe=C.tag;if(oe===5||oe===6)C=C.stateNode,I?L.insertBefore(C,I):L.appendChild(C);else if(oe!==4&&(C=C.child,C!==null))for(Po(C,I,L),C=C.sibling;C!==null;)Po(C,I,L),C=C.sibling}var Fi=null,di=!1;function Li(C,I,L){for(L=L.child;L!==null;)Ua(C,I,L),L=L.sibling}function Ua(C,I,L){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Gt,L)}catch{}switch(L.tag){case 5:Yn||ii(L,I);case 6:var oe=Fi,_e=di;Fi=null,Li(C,I,L),Fi=oe,di=_e,Fi!==null&&(di?(C=Fi,L=L.stateNode,C.nodeType===8?C.parentNode.removeChild(L):C.removeChild(L)):Fi.removeChild(L.stateNode));break;case 18:Fi!==null&&(di?(C=Fi,L=L.stateNode,C.nodeType===8?zs(C.parentNode,L):C.nodeType===1&&zs(C,L),Re(C)):zs(Fi,L.stateNode));break;case 4:oe=Fi,_e=di,Fi=L.stateNode.containerInfo,di=!0,Li(C,I,L),Fi=oe,di=_e;break;case 0:case 11:case 14:case 15:if(!Yn&&(oe=L.updateQueue,oe!==null&&(oe=oe.lastEffect,oe!==null))){_e=oe=oe.next;do{var Oe=_e,We=Oe.destroy;Oe=Oe.tag,We!==void 0&&((Oe&2)!==0||(Oe&4)!==0)&&ds(L,I,We),_e=_e.next}while(_e!==oe)}Li(C,I,L);break;case 1:if(!Yn&&(ii(L,I),oe=L.stateNode,typeof oe.componentWillUnmount=="function"))try{oe.props=L.memoizedProps,oe.state=L.memoizedState,oe.componentWillUnmount()}catch(kt){Z(L,I,kt)}Li(C,I,L);break;case 21:Li(C,I,L);break;case 22:L.mode&1?(Yn=(oe=Yn)||L.memoizedState!==null,Li(C,I,L),Yn=oe):Li(C,I,L);break;default:Li(C,I,L)}}function la(C){var I=C.updateQueue;if(I!==null){C.updateQueue=null;var L=C.stateNode;L===null&&(L=C.stateNode=new Ui),I.forEach(function(oe){var _e=Xe.bind(null,C,oe);L.has(oe)||(L.add(oe),oe.then(_e,_e))})}}function ya(C,I){var L=I.deletions;if(L!==null)for(var oe=0;oe<L.length;oe++){var _e=L[oe];try{var Oe=C,We=I,kt=We;e:for(;kt!==null;){switch(kt.tag){case 5:Fi=kt.stateNode,di=!1;break e;case 3:Fi=kt.stateNode.containerInfo,di=!0;break e;case 4:Fi=kt.stateNode.containerInfo,di=!0;break e}kt=kt.return}if(Fi===null)throw Error(n(160));Ua(Oe,We,_e),Fi=null,di=!1;var Vt=_e.alternate;Vt!==null&&(Vt.return=null),_e.return=null}catch(Rr){Z(_e,I,Rr)}}if(I.subtreeFlags&12854)for(I=I.child;I!==null;)Al(I,C),I=I.sibling}function Al(C,I){var L=C.alternate,oe=C.flags;switch(C.tag){case 0:case 11:case 14:case 15:if(ya(I,C),ca(C),oe&4){try{ti(3,C,C.return),Oi(3,C)}catch(js){Z(C,C.return,js)}try{ti(5,C,C.return)}catch(js){Z(C,C.return,js)}}break;case 1:ya(I,C),ca(C),oe&512&&L!==null&&ii(L,L.return);break;case 5:if(ya(I,C),ca(C),oe&512&&L!==null&&ii(L,L.return),C.flags&32){var _e=C.stateNode;try{tn(_e,"")}catch(js){Z(C,C.return,js)}}if(oe&4&&(_e=C.stateNode,_e!=null)){var Oe=C.memoizedProps,We=L!==null?L.memoizedProps:Oe,kt=C.type,Vt=C.updateQueue;if(C.updateQueue=null,Vt!==null)try{kt==="input"&&Oe.type==="radio"&&Oe.name!=null&&Zt(_e,Oe),Zr(kt,We);var Rr=Zr(kt,Oe);for(We=0;We<Vt.length;We+=2){var Rn=Vt[We],kn=Vt[We+1];Rn==="style"?Dt(_e,kn):Rn==="dangerouslySetInnerHTML"?Cn(_e,kn):Rn==="children"?tn(_e,kn):B(_e,Rn,kn,Rr)}switch(kt){case"input":Bt(_e,Oe);break;case"textarea":En(_e,Oe);break;case"select":var _n=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!Oe.multiple;var os=Oe.value;os!=null?$r(_e,!!Oe.multiple,os,!1):_n!==!!Oe.multiple&&(Oe.defaultValue!=null?$r(_e,!!Oe.multiple,Oe.defaultValue,!0):$r(_e,!!Oe.multiple,Oe.multiple?[]:"",!1))}_e[Wo]=Oe}catch(js){Z(C,C.return,js)}}break;case 6:if(ya(I,C),ca(C),oe&4){if(C.stateNode===null)throw Error(n(162));_e=C.stateNode,Oe=C.memoizedProps;try{_e.nodeValue=Oe}catch(js){Z(C,C.return,js)}}break;case 3:if(ya(I,C),ca(C),oe&4&&L!==null&&L.memoizedState.isDehydrated)try{Re(I.containerInfo)}catch(js){Z(C,C.return,js)}break;case 4:ya(I,C),ca(C);break;case 13:ya(I,C),ca(C),_e=C.child,_e.flags&8192&&(Oe=_e.memoizedState!==null,_e.stateNode.isHidden=Oe,!Oe||_e.alternate!==null&&_e.alternate.memoizedState!==null||(Fl=As())),oe&4&&la(C);break;case 22:if(Rn=L!==null&&L.memoizedState!==null,C.mode&1?(Yn=(Rr=Yn)||Rn,ya(I,C),Yn=Rr):ya(I,C),ca(C),oe&8192){if(Rr=C.memoizedState!==null,(C.stateNode.isHidden=Rr)&&!Rn&&(C.mode&1)!==0)for(Un=C,Rn=C.child;Rn!==null;){for(kn=Un=Rn;Un!==null;){switch(_n=Un,os=_n.child,_n.tag){case 0:case 11:case 14:case 15:ti(4,_n,_n.return);break;case 1:ii(_n,_n.return);var vs=_n.stateNode;if(typeof vs.componentWillUnmount=="function"){oe=_n,L=_n.return;try{I=oe,vs.props=I.memoizedProps,vs.state=I.memoizedState,vs.componentWillUnmount()}catch(js){Z(oe,L,js)}}break;case 5:ii(_n,_n.return);break;case 22:if(_n.memoizedState!==null){po(kn);continue}}os!==null?(os.return=_n,Un=os):po(kn)}Rn=Rn.sibling}e:for(Rn=null,kn=C;;){if(kn.tag===5){if(Rn===null){Rn=kn;try{_e=kn.stateNode,Rr?(Oe=_e.style,typeof Oe.setProperty=="function"?Oe.setProperty("display","none","important"):Oe.display="none"):(kt=kn.stateNode,Vt=kn.memoizedProps.style,We=Vt!=null&&Vt.hasOwnProperty("display")?Vt.display:null,kt.style.display=Br("display",We))}catch(js){Z(C,C.return,js)}}}else if(kn.tag===6){if(Rn===null)try{kn.stateNode.nodeValue=Rr?"":kn.memoizedProps}catch(js){Z(C,C.return,js)}}else if((kn.tag!==22&&kn.tag!==23||kn.memoizedState===null||kn===C)&&kn.child!==null){kn.child.return=kn,kn=kn.child;continue}if(kn===C)break e;for(;kn.sibling===null;){if(kn.return===null||kn.return===C)break e;Rn===kn&&(Rn=null),kn=kn.return}Rn===kn&&(Rn=null),kn.sibling.return=kn.return,kn=kn.sibling}}break;case 19:ya(I,C),ca(C),oe&4&&la(C);break;case 21:break;default:ya(I,C),ca(C)}}function ca(C){var I=C.flags;if(I&2){try{e:{for(var L=C.return;L!==null;){if(wo(L)){var oe=L;break e}L=L.return}throw Error(n(160))}switch(oe.tag){case 5:var _e=oe.stateNode;oe.flags&32&&(tn(_e,""),oe.flags&=-33);var Oe=Oa(C);Po(C,Oe,_e);break;case 3:case 4:var We=oe.stateNode.containerInfo,kt=Oa(C);Eo(C,kt,We);break;default:throw Error(n(161))}}catch(Vt){Z(C,C.return,Vt)}C.flags&=-3}I&4096&&(C.flags&=-4097)}function Do(C,I,L){Un=C,Aa(C)}function Aa(C,I,L){for(var oe=(C.mode&1)!==0;Un!==null;){var _e=Un,Oe=_e.child;if(_e.tag===22&&oe){var We=_e.memoizedState!==null||ci;if(!We){var kt=_e.alternate,Vt=kt!==null&&kt.memoizedState!==null||Yn;kt=ci;var Rr=Yn;if(ci=We,(Yn=Vt)&&!Rr)for(Un=_e;Un!==null;)We=Un,Vt=We.child,We.tag===22&&We.memoizedState!==null?Ao(_e):Vt!==null?(Vt.return=We,Un=Vt):Ao(_e);for(;Oe!==null;)Un=Oe,Aa(Oe),Oe=Oe.sibling;Un=_e,ci=kt,Yn=Rr}On(C)}else(_e.subtreeFlags&8772)!==0&&Oe!==null?(Oe.return=_e,Un=Oe):On(C)}}function On(C){for(;Un!==null;){var I=Un;if((I.flags&8772)!==0){var L=I.alternate;try{if((I.flags&8772)!==0)switch(I.tag){case 0:case 11:case 15:Yn||Oi(5,I);break;case 1:var oe=I.stateNode;if(I.flags&4&&!Yn)if(L===null)oe.componentDidMount();else{var _e=I.elementType===I.type?L.memoizedProps:ho(I.type,L.memoizedProps);oe.componentDidUpdate(_e,L.memoizedState,oe.__reactInternalSnapshotBeforeUpdate)}var Oe=I.updateQueue;Oe!==null&&Oc(I,Oe,oe);break;case 3:var We=I.updateQueue;if(We!==null){if(L=null,I.child!==null)switch(I.child.tag){case 5:L=I.child.stateNode;break;case 1:L=I.child.stateNode}Oc(I,We,L)}break;case 5:var kt=I.stateNode;if(L===null&&I.flags&4){L=kt;var Vt=I.memoizedProps;switch(I.type){case"button":case"input":case"select":case"textarea":Vt.autoFocus&&L.focus();break;case"img":Vt.src&&(L.src=Vt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(I.memoizedState===null){var Rr=I.alternate;if(Rr!==null){var Rn=Rr.memoizedState;if(Rn!==null){var kn=Rn.dehydrated;kn!==null&&Re(kn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Yn||I.flags&512&&va(I)}catch(_n){Z(I,I.return,_n)}}if(I===C){Un=null;break}if(L=I.sibling,L!==null){L.return=I.return,Un=L;break}Un=I.return}}function po(C){for(;Un!==null;){var I=Un;if(I===C){Un=null;break}var L=I.sibling;if(L!==null){L.return=I.return,Un=L;break}Un=I.return}}function Ao(C){for(;Un!==null;){var I=Un;try{switch(I.tag){case 0:case 11:case 15:var L=I.return;try{Oi(4,I)}catch(Vt){Z(I,L,Vt)}break;case 1:var oe=I.stateNode;if(typeof oe.componentDidMount=="function"){var _e=I.return;try{oe.componentDidMount()}catch(Vt){Z(I,_e,Vt)}}var Oe=I.return;try{va(I)}catch(Vt){Z(I,Oe,Vt)}break;case 5:var We=I.return;try{va(I)}catch(Vt){Z(I,We,Vt)}}}catch(Vt){Z(I,I.return,Vt)}if(I===C){Un=null;break}var kt=I.sibling;if(kt!==null){kt.return=I.return,Un=kt;break}Un=I.return}}var Ma=Math.ceil,Uo=M.ReactCurrentDispatcher,oi=M.ReactCurrentOwner,ri=M.ReactCurrentBatchConfig,gs=0,ua=null,Wi=null,Ha=0,Fa=0,qa=Yo(0),Wa=0,zc=null,lc=0,yc=0,bd=0,gu=null,ko=null,Fl=0,au=1/0,bc=null,Ou=!1,ed=null,Yl=null,Mu=!1,Ll=null,jo=0,Qc=0,uc=null,Fu=-1,td=0;function oo(){return(gs&6)!==0?As():Fu!==-1?Fu:Fu=As()}function ml(C){return(C.mode&1)===0?1:(gs&2)!==0&&Ha!==0?Ha&-Ha:Us.transition!==null?(td===0&&(td=fa()),td):(C=_s,C!==0||(C=window.event,C=C===void 0?16:At(C.type)),C)}function Ho(C,I,L,oe){if(50<Qc)throw Qc=0,uc=null,Error(n(185));Bi(C,L,oe),((gs&2)===0||C!==ua)&&(C===ua&&((gs&2)===0&&(yc|=L),Wa===4&&Tl(C,Ha)),to(C,oe),L===1&&gs===0&&(I.mode&1)===0&&(au=As()+500,Ge&&Ur()))}function to(C,I){var L=C.callbackNode;yi(C,I);var oe=xi(C,C===ua?Ha:0);if(oe===0)L!==null&&sn(L),C.callbackNode=null,C.callbackPriority=0;else if(I=oe&-oe,C.callbackPriority!==I){if(L!=null&&sn(L),I===1)C.tag===0?cr(jd.bind(null,C)):Ht(jd.bind(null,C)),Xc(function(){(gs&6)===0&&Ur()}),L=null;else{switch(Zi(oe)){case 1:L=si;break;case 4:L=Ra;break;case 16:L=aa;break;case 536870912:L=oa;break;default:L=aa}L=xt(L,Vc.bind(null,C))}C.callbackPriority=I,C.callbackNode=L}}function Vc(C,I){if(Fu=-1,td=0,(gs&6)!==0)throw Error(n(327));var L=C.callbackNode;if(q()&&C.callbackNode!==L)return null;var oe=xi(C,C===ua?Ha:0);if(oe===0)return null;if((oe&30)!==0||(oe&C.expiredLanes)!==0||I)I=$l(C,oe);else{I=oe;var _e=gs;gs|=2;var Oe=ad();(ua!==C||Ha!==I)&&(bc=null,au=As()+500,lu(C,I));do try{Kc();break}catch(kt){xu(C,kt)}while(!0);Os(),Uo.current=Oe,gs=_e,Wi!==null?I=0:(ua=null,Ha=0,I=Wa)}if(I!==0){if(I===2&&(_e=Js(C),_e!==0&&(oe=_e,I=rd(C,_e))),I===1)throw L=zc,lu(C,0),Tl(C,oe),to(C,As()),L;if(I===6)Tl(C,oe);else{if(_e=C.current.alternate,(oe&30)===0&&!Ed(_e)&&(I=$l(C,oe),I===2&&(Oe=Js(C),Oe!==0&&(oe=Oe,I=rd(C,Oe))),I===1))throw L=zc,lu(C,0),Tl(C,oe),to(C,As()),L;switch(C.finishedWork=_e,C.finishedLanes=oe,I){case 0:case 1:throw Error(n(345));case 2:qc(C,ko,bc);break;case 3:if(Tl(C,oe),(oe&130023424)===oe&&(I=Fl+500-As(),10<I)){if(xi(C,0)!==0)break;if(_e=C.suspendedLanes,(_e&oe)!==oe){oo(),C.pingedLanes|=C.suspendedLanes&_e;break}C.timeoutHandle=qo(qc.bind(null,C,ko,bc),I);break}qc(C,ko,bc);break;case 4:if(Tl(C,oe),(oe&4194240)===oe)break;for(I=C.eventTimes,_e=-1;0<oe;){var We=31-Yr(oe);Oe=1<<We,We=I[We],We>_e&&(_e=We),oe&=~Oe}if(oe=_e,oe=As()-oe,oe=(120>oe?120:480>oe?480:1080>oe?1080:1920>oe?1920:3e3>oe?3e3:4320>oe?4320:1960*Ma(oe/1960))-oe,10<oe){C.timeoutHandle=qo(qc.bind(null,C,ko,bc),oe);break}qc(C,ko,bc);break;case 5:qc(C,ko,bc);break;default:throw Error(n(329))}}}return to(C,As()),C.callbackNode===L?Vc.bind(null,C):null}function rd(C,I){var L=gu;return C.current.memoizedState.isDehydrated&&(lu(C,I).flags|=256),C=$l(C,I),C!==2&&(I=ko,ko=L,I!==null&&wd(I)),C}function wd(C){ko===null?ko=C:ko.push.apply(ko,C)}function Ed(C){for(var I=C;;){if(I.flags&16384){var L=I.updateQueue;if(L!==null&&(L=L.stores,L!==null))for(var oe=0;oe<L.length;oe++){var _e=L[oe],Oe=_e.getSnapshot;_e=_e.value;try{if(!Ba(Oe(),_e))return!1}catch{return!1}}}if(L=I.child,I.subtreeFlags&16384&&L!==null)L.return=I,I=L;else{if(I===C)break;for(;I.sibling===null;){if(I.return===null||I.return===C)return!0;I=I.return}I.sibling.return=I.return,I=I.sibling}}return!0}function Tl(C,I){for(I&=~bd,I&=~yc,C.suspendedLanes|=I,C.pingedLanes&=~I,C=C.expirationTimes;0<I;){var L=31-Yr(I),oe=1<<L;C[L]=-1,I&=~oe}}function jd(C){if((gs&6)!==0)throw Error(n(327));q();var I=xi(C,0);if((I&1)===0)return to(C,As()),null;var L=$l(C,I);if(C.tag!==0&&L===2){var oe=Js(C);oe!==0&&(I=oe,L=rd(C,oe))}if(L===1)throw L=zc,lu(C,0),Tl(C,I),to(C,As()),L;if(L===6)throw Error(n(345));return C.finishedWork=C.current.alternate,C.finishedLanes=I,qc(C,ko,bc),to(C,As()),null}function nd(C,I){var L=gs;gs|=1;try{return C(I)}finally{gs=L,gs===0&&(au=As()+500,Ge&&Ur())}}function ou(C){Ll!==null&&Ll.tag===0&&(gs&6)===0&&q();var I=gs;gs|=1;var L=ri.transition,oe=_s;try{if(ri.transition=null,_s=1,C)return C()}finally{_s=oe,ri.transition=L,gs=I,(gs&6)===0&&Ur()}}function sd(){Fa=qa.current,Ci(qa)}function lu(C,I){C.finishedWork=null,C.finishedLanes=0;var L=C.timeoutHandle;if(L!==-1&&(C.timeoutHandle=-1,bu(L)),Wi!==null)for(L=Wi.return;L!==null;){var oe=L;switch(ve(oe),oe.tag){case 1:oe=oe.type.childContextTypes,oe!=null&&cl();break;case 3:xa(),Ci(Ia),Ci(Ca),ju();break;case 5:Kl(oe);break;case 4:xa();break;case 13:Ci(pa);break;case 19:Ci(pa);break;case 10:so(oe.type._context);break;case 22:case 23:sd()}L=L.return}if(ua=C,Wi=C=Zn(C.current,null),Ha=Fa=I,Wa=0,zc=null,bd=yc=lc=0,ko=gu=null,dl!==null){for(I=0;I<dl.length;I++)if(L=dl[I],oe=L.interleaved,oe!==null){L.interleaved=null;var _e=oe.next,Oe=L.pending;if(Oe!==null){var We=Oe.next;Oe.next=_e,oe.next=We}L.pending=oe}dl=null}return C}function xu(C,I){do{var L=Wi;try{if(Os(),fu.current=Zo,Cu){for(var oe=_a.memoizedState;oe!==null;){var _e=oe.queue;_e!==null&&(_e.pending=null),oe=oe.next}Cu=!1}if(xc=0,Ka=io=_a=null,Ro=!1,Fc=0,oi.current=null,L===null||L.return===null){Wa=1,zc=I,Wi=null;break}e:{var Oe=C,We=L.return,kt=L,Vt=I;if(I=Ha,kt.flags|=32768,Vt!==null&&typeof Vt=="object"&&typeof Vt.then=="function"){var Rr=Vt,Rn=kt,kn=Rn.tag;if((Rn.mode&1)===0&&(kn===0||kn===11||kn===15)){var _n=Rn.alternate;_n?(Rn.updateQueue=_n.updateQueue,Rn.memoizedState=_n.memoizedState,Rn.lanes=_n.lanes):(Rn.updateQueue=null,Rn.memoizedState=null)}var os=gd(We);if(os!==null){os.flags&=-257,xd(os,We,kt,Oe,I),os.mode&1&&Nd(Oe,Rr,I),I=os,Vt=Rr;var vs=I.updateQueue;if(vs===null){var js=new Set;js.add(Vt),I.updateQueue=js}else vs.add(Vt);break e}else{if((I&1)===0){Nd(Oe,Rr,I),vu();break e}Vt=Error(n(426))}}else if(gt&&kt.mode&1){var Io=gd(We);if(Io!==null){(Io.flags&65536)===0&&(Io.flags|=256),xd(Io,We,kt,Oe,I),sa($c(Vt,kt));break e}}Oe=Vt=$c(Vt,kt),Wa!==4&&(Wa=2),gu===null?gu=[Oe]:gu.push(Oe),Oe=We;do{switch(Oe.tag){case 3:Oe.flags|=65536,I&=-I,Oe.lanes|=I;var Sr=Au(Oe,Vt,I);gc(Oe,Sr);break e;case 1:kt=Vt;var sr=Oe.type,Cr=Oe.stateNode;if((Oe.flags&128)===0&&(typeof sr.getDerivedStateFromError=="function"||Cr!==null&&typeof Cr.componentDidCatch=="function"&&(Yl===null||!Yl.has(Cr)))){Oe.flags|=65536,I&=-I,Oe.lanes|=I;var $n=Yu(Oe,kt,I);gc(Oe,$n);break e}}Oe=Oe.return}while(Oe!==null)}od(L)}catch(Ns){I=Ns,Wi===L&&L!==null&&(Wi=L=L.return);continue}break}while(!0)}function ad(){var C=Uo.current;return Uo.current=Zo,C===null?Zo:C}function vu(){(Wa===0||Wa===3||Wa===2)&&(Wa=4),ua===null||(lc&268435455)===0&&(yc&268435455)===0||Tl(ua,Ha)}function $l(C,I){var L=gs;gs|=2;var oe=ad();(ua!==C||Ha!==I)&&(bc=null,lu(C,I));do try{Gc();break}catch(_e){xu(C,_e)}while(!0);if(Os(),gs=L,Uo.current=oe,Wi!==null)throw Error(n(261));return ua=null,Ha=0,Wa}function Gc(){for(;Wi!==null;)Lu(Wi)}function Kc(){for(;Wi!==null&&!mn();)Lu(Wi)}function Lu(C){var I=vt(C.alternate,C,Fa);C.memoizedProps=C.pendingProps,I===null?od(C):Wi=I,oi.current=null}function od(C){var I=C;do{var L=I.alternate;if(C=I.return,(I.flags&32768)===0){if(L=bs(L,I,Fa),L!==null){Wi=L;return}}else{if(L=is(L,I),L!==null){L.flags&=32767,Wi=L;return}if(C!==null)C.flags|=32768,C.subtreeFlags=0,C.deletions=null;else{Wa=6,Wi=null;return}}if(I=I.sibling,I!==null){Wi=I;return}Wi=I=C}while(I!==null);Wa===0&&(Wa=5)}function qc(C,I,L){var oe=_s,_e=ri.transition;try{ri.transition=null,_s=1,Id(C,I,L,oe)}finally{ri.transition=_e,_s=oe}return null}function Id(C,I,L,oe){do q();while(Ll!==null);if((gs&6)!==0)throw Error(n(327));L=C.finishedWork;var _e=C.finishedLanes;if(L===null)return null;if(C.finishedWork=null,C.finishedLanes=0,L===C.current)throw Error(n(177));C.callbackNode=null,C.callbackPriority=0;var Oe=L.lanes|L.childLanes;if(Ki(C,Oe),C===ua&&(Wi=ua=null,Ha=0),(L.subtreeFlags&2064)===0&&(L.flags&2064)===0||Mu||(Mu=!0,xt(aa,function(){return q(),null})),Oe=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||Oe){Oe=ri.transition,ri.transition=null;var We=_s;_s=1;var kt=gs;gs|=4,oi.current=null,eo(C,L),Al(L,C),bl(sc),$e=!!nc,sc=nc=null,C.current=L,Do(L),ji(),gs=kt,_s=We,ri.transition=Oe}else C.current=L;if(Mu&&(Mu=!1,Ll=C,jo=_e),Oe=C.pendingLanes,Oe===0&&(Yl=null),hn(L.stateNode),to(C,As()),I!==null)for(oe=C.onRecoverableError,L=0;L<I.length;L++)_e=I[L],oe(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Ou)throw Ou=!1,C=ed,ed=null,C;return(jo&1)!==0&&C.tag!==0&&q(),Oe=C.pendingLanes,(Oe&1)!==0?C===uc?Qc++:(Qc=0,uc=C):Qc=0,Ur(),null}function q(){if(Ll!==null){var C=Zi(jo),I=ri.transition,L=_s;try{if(ri.transition=null,_s=16>C?16:C,Ll===null)var oe=!1;else{if(C=Ll,Ll=null,jo=0,(gs&6)!==0)throw Error(n(331));var _e=gs;for(gs|=4,Un=C.current;Un!==null;){var Oe=Un,We=Oe.child;if((Un.flags&16)!==0){var kt=Oe.deletions;if(kt!==null){for(var Vt=0;Vt<kt.length;Vt++){var Rr=kt[Vt];for(Un=Rr;Un!==null;){var Rn=Un;switch(Rn.tag){case 0:case 11:case 15:ti(8,Rn,Oe)}var kn=Rn.child;if(kn!==null)kn.return=Rn,Un=kn;else for(;Un!==null;){Rn=Un;var _n=Rn.sibling,os=Rn.return;if(ao(Rn),Rn===Rr){Un=null;break}if(_n!==null){_n.return=os,Un=_n;break}Un=os}}}var vs=Oe.alternate;if(vs!==null){var js=vs.child;if(js!==null){vs.child=null;do{var Io=js.sibling;js.sibling=null,js=Io}while(js!==null)}}Un=Oe}}if((Oe.subtreeFlags&2064)!==0&&We!==null)We.return=Oe,Un=We;else e:for(;Un!==null;){if(Oe=Un,(Oe.flags&2048)!==0)switch(Oe.tag){case 0:case 11:case 15:ti(9,Oe,Oe.return)}var Sr=Oe.sibling;if(Sr!==null){Sr.return=Oe.return,Un=Sr;break e}Un=Oe.return}}var sr=C.current;for(Un=sr;Un!==null;){We=Un;var Cr=We.child;if((We.subtreeFlags&2064)!==0&&Cr!==null)Cr.return=We,Un=Cr;else e:for(We=sr;Un!==null;){if(kt=Un,(kt.flags&2048)!==0)try{switch(kt.tag){case 0:case 11:case 15:Oi(9,kt)}}catch(Ns){Z(kt,kt.return,Ns)}if(kt===We){Un=null;break e}var $n=kt.sibling;if($n!==null){$n.return=kt.return,Un=$n;break e}Un=kt.return}}if(gs=_e,Ur(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Gt,C)}catch{}oe=!0}return oe}finally{_s=L,ri.transition=I}}return!1}function Q(C,I,L){I=$c(L,I),I=Au(C,I,1),C=Il(C,I,1),I=oo(),C!==null&&(Bi(C,1,I),to(C,I))}function Z(C,I,L){if(C.tag===3)Q(C,C,L);else for(;I!==null;){if(I.tag===3){Q(I,C,L);break}else if(I.tag===1){var oe=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof oe.componentDidCatch=="function"&&(Yl===null||!Yl.has(oe))){C=$c(L,C),C=Yu(I,C,1),I=Il(I,C,1),C=oo(),I!==null&&(Bi(I,1,C),to(I,C));break}}I=I.return}}function te(C,I,L){var oe=C.pingCache;oe!==null&&oe.delete(I),I=oo(),C.pingedLanes|=C.suspendedLanes&L,ua===C&&(Ha&L)===L&&(Wa===4||Wa===3&&(Ha&130023424)===Ha&&500>As()-Fl?lu(C,0):bd|=L),to(C,I)}function Pe(C,I){I===0&&((C.mode&1)===0?I=1:(I=Wn,Wn<<=1,(Wn&130023424)===0&&(Wn=4194304)));var L=oo();C=bo(C,I),C!==null&&(Bi(C,I,L),to(C,L))}function De(C){var I=C.memoizedState,L=0;I!==null&&(L=I.retryLane),Pe(C,L)}function Xe(C,I){var L=0;switch(C.tag){case 13:var oe=C.stateNode,_e=C.memoizedState;_e!==null&&(L=_e.retryLane);break;case 19:oe=C.stateNode;break;default:throw Error(n(314))}oe!==null&&oe.delete(I),Pe(C,L)}var vt;vt=function(C,I,L){if(C!==null)if(C.memoizedProps!==I.pendingProps||Ia.current)el=!0;else{if((C.lanes&L)===0&&(I.flags&128)===0)return el=!1,dr(C,I,L);el=(C.flags&131072)!==0}else el=!1,gt&&(I.flags&1048576)!==0&&G(I,Fs,I.index);switch(I.lanes=0,I.tag){case 2:var oe=I.type;jt(C,I),C=I.pendingProps;var _e=Vl(I,Ca.current);uo(I,L),_e=Uu(null,I,oe,C,_e,L);var Oe=Hu();return I.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(I.tag=1,I.memoizedState=null,I.updateQueue=null,co(oe)?(Oe=!0,Bl(I)):Oe=!1,I.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,tu(I),_e.updater=su,I.stateNode=_e,_e._reactInternals=I,Wu(I,oe,C,L),I=K(null,I,oe,!0,Oe,L)):(I.tag=0,gt&&Oe&&Ue(I),$o(null,I,_e,L),I=I.child),I;case 16:oe=I.elementType;e:{switch(jt(C,I),C=I.pendingProps,_e=oe._init,oe=_e(oe._payload),I.type=oe,_e=I.tag=Vr(oe),C=ho(oe,C),_e){case 0:I=mu(null,I,oe,C,L);break e;case 1:I=Zu(null,I,oe,C,L);break e;case 11:I=Xu(null,I,oe,C,L);break e;case 14:I=yd(null,I,oe,ho(oe.type,C),L);break e}throw Error(n(306,oe,""))}return I;case 0:return oe=I.type,_e=I.pendingProps,_e=I.elementType===oe?_e:ho(oe,_e),mu(C,I,oe,_e,L);case 1:return oe=I.type,_e=I.pendingProps,_e=I.elementType===oe?_e:ho(oe,_e),Zu(C,I,oe,_e,L);case 3:e:{if(he(I),C===null)throw Error(n(387));oe=I.pendingProps,Oe=I.memoizedState,_e=Oe.element,du(C,I),Gl(I,oe,null,L);var We=I.memoizedState;if(oe=We.element,Oe.isDehydrated)if(Oe={element:oe,isDehydrated:!1,cache:We.cache,pendingSuspenseBoundaries:We.pendingSuspenseBoundaries,transitions:We.transitions},I.updateQueue.baseState=Oe,I.memoizedState=Oe,I.flags&256){_e=$c(Error(n(423)),I),I=Ne(C,I,oe,L,_e);break e}else if(oe!==_e){_e=$c(Error(n(424)),I),I=Ne(C,I,oe,L,_e);break e}else for(Et=Pl(I.stateNode.containerInfo.firstChild),rt=I,gt=!0,pr=null,L=ha(I,null,oe,L),I.child=L;L;)L.flags=L.flags&-3|4096,L=L.sibling;else{if(Hr(),oe===_e){I=Kt(C,I,L);break e}$o(C,I,oe,L)}I=I.child}return I;case 5:return Ja(I),C===null&&wr(I),oe=I.type,_e=I.pendingProps,Oe=C!==null?C.memoizedProps:null,We=_e.children,Bc(oe,_e)?We=null:Oe!==null&&Bc(oe,Oe)&&(I.flags|=32),Iu(C,I),$o(C,I,We,L),I.child;case 6:return C===null&&wr(I),null;case 13:return Je(C,I,L);case 4:return ia(I,I.stateNode.containerInfo),oe=I.pendingProps,C===null?I.child=qs(I,null,oe,L):$o(C,I,oe,L),I.child;case 11:return oe=I.type,_e=I.pendingProps,_e=I.elementType===oe?_e:ho(oe,_e),Xu(C,I,oe,_e,L);case 7:return $o(C,I,I.pendingProps,L),I.child;case 8:return $o(C,I,I.pendingProps.children,L),I.child;case 12:return $o(C,I,I.pendingProps.children,L),I.child;case 10:e:{if(oe=I.type._context,_e=I.pendingProps,Oe=I.memoizedProps,We=_e.value,qi(ys,oe._currentValue),oe._currentValue=We,Oe!==null)if(Ba(Oe.value,We)){if(Oe.children===_e.children&&!Ia.current){I=Kt(C,I,L);break e}}else for(Oe=I.child,Oe!==null&&(Oe.return=I);Oe!==null;){var kt=Oe.dependencies;if(kt!==null){We=Oe.child;for(var Vt=kt.firstContext;Vt!==null;){if(Vt.context===oe){if(Oe.tag===1){Vt=_l(-1,L&-L),Vt.tag=2;var Rr=Oe.updateQueue;if(Rr!==null){Rr=Rr.shared;var Rn=Rr.pending;Rn===null?Vt.next=Vt:(Vt.next=Rn.next,Rn.next=Vt),Rr.pending=Vt}}Oe.lanes|=L,Vt=Oe.alternate,Vt!==null&&(Vt.lanes|=L),ul(Oe.return,L,I),kt.lanes|=L;break}Vt=Vt.next}}else if(Oe.tag===10)We=Oe.type===I.type?null:Oe.child;else if(Oe.tag===18){if(We=Oe.return,We===null)throw Error(n(341));We.lanes|=L,kt=We.alternate,kt!==null&&(kt.lanes|=L),ul(We,L,I),We=Oe.sibling}else We=Oe.child;if(We!==null)We.return=Oe;else for(We=Oe;We!==null;){if(We===I){We=null;break}if(Oe=We.sibling,Oe!==null){Oe.return=We.return,We=Oe;break}We=We.return}Oe=We}$o(C,I,_e.children,L),I=I.child}return I;case 9:return _e=I.type,oe=I.pendingProps.children,uo(I,L),_e=Xa(_e),oe=oe(_e),I.flags|=1,$o(C,I,oe,L),I.child;case 14:return oe=I.type,_e=ho(oe,I.pendingProps),_e=ho(oe.type,_e),yd(C,I,oe,_e,L);case 15:return Ju(C,I,I.type,I.pendingProps,L);case 17:return oe=I.type,_e=I.pendingProps,_e=I.elementType===oe?_e:ho(oe,_e),jt(C,I),I.tag=1,co(oe)?(C=!0,Bl(I)):C=!1,uo(I,L),qu(I,oe,_e),Wu(I,oe,_e,L),K(null,I,oe,!0,C,L);case 19:return xr(C,I,L);case 22:return Bu(C,I,L)}throw Error(n(156,I.tag))};function xt(C,I){return Ot(C,I)}function qt(C,I,L,oe){this.tag=C,this.key=L,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=I,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=oe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(C,I,L,oe){return new qt(C,I,L,oe)}function gr(C){return C=C.prototype,!(!C||!C.isReactComponent)}function Vr(C){if(typeof C=="function")return gr(C)?1:0;if(C!=null){if(C=C.$$typeof,C===pe)return 11;if(C===ue)return 14}return 2}function Zn(C,I){var L=C.alternate;return L===null?(L=Jt(C.tag,I,C.key,C.mode),L.elementType=C.elementType,L.type=C.type,L.stateNode=C.stateNode,L.alternate=C,C.alternate=L):(L.pendingProps=I,L.type=C.type,L.flags=0,L.subtreeFlags=0,L.deletions=null),L.flags=C.flags&14680064,L.childLanes=C.childLanes,L.lanes=C.lanes,L.child=C.child,L.memoizedProps=C.memoizedProps,L.memoizedState=C.memoizedState,L.updateQueue=C.updateQueue,I=C.dependencies,L.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},L.sibling=C.sibling,L.index=C.index,L.ref=C.ref,L}function Mn(C,I,L,oe,_e,Oe){var We=2;if(oe=C,typeof C=="function")gr(C)&&(We=1);else if(typeof C=="string")We=5;else e:switch(C){case $:return Gn(L.children,_e,Oe,I);case z:We=8,_e|=8;break;case se:return C=Jt(12,L,I,_e|2),C.elementType=se,C.lanes=Oe,C;case xe:return C=Jt(13,L,I,_e),C.elementType=xe,C.lanes=Oe,C;case Ae:return C=Jt(19,L,I,_e),C.elementType=Ae,C.lanes=Oe,C;case fe:return Ai(L,_e,Oe,I);default:if(typeof C=="object"&&C!==null)switch(C.$$typeof){case ce:We=10;break e;case ie:We=9;break e;case pe:We=11;break e;case ue:We=14;break e;case Y:We=16,oe=null;break e}throw Error(n(130,C==null?C:typeof C,""))}return I=Jt(We,L,I,_e),I.elementType=C,I.type=oe,I.lanes=Oe,I}function Gn(C,I,L,oe){return C=Jt(7,C,oe,I),C.lanes=L,C}function Ai(C,I,L,oe){return C=Jt(22,C,oe,I),C.elementType=fe,C.lanes=L,C.stateNode={isHidden:!1},C}function xs(C,I,L){return C=Jt(6,C,null,I),C.lanes=L,C}function hs(C,I,L){return I=Jt(4,C.children!==null?C.children:[],C.key,I),I.lanes=L,I.stateNode={containerInfo:C.containerInfo,pendingChildren:null,implementation:C.implementation},I}function da(C,I,L,oe,_e){this.tag=I,this.containerInfo=C,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=oe,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function bi(C,I,L,oe,_e,Oe,We,kt,Vt){return C=new da(C,I,L,kt,Vt),I===1?(I=1,Oe===!0&&(I|=8)):I=0,Oe=Jt(3,null,null,I),C.current=Oe,Oe.stateNode=C,Oe.memoizedState={element:oe,isDehydrated:L,cache:null,transitions:null,pendingSuspenseBoundaries:null},tu(Oe),C}function li(C,I,L){var oe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:oe==null?null:""+oe,children:C,containerInfo:I,implementation:L}}function ss(C){if(!C)return Xo;C=C._reactInternals;e:{if(Bs(C)!==C||C.tag!==1)throw Error(n(170));var I=C;do{switch(I.tag){case 3:I=I.stateNode.context;break e;case 1:if(co(I.type)){I=I.stateNode.__reactInternalMemoizedMergedChildContext;break e}}I=I.return}while(I!==null);throw Error(n(171))}if(C.tag===1){var L=C.type;if(co(L))return Zc(C,L,I)}return I}function Yi(C,I,L,oe,_e,Oe,We,kt,Vt){return C=bi(L,oe,!0,C,_e,Oe,We,kt,Vt),C.context=ss(null),L=C.current,oe=oo(),_e=ml(L),Oe=_l(oe,_e),Oe.callback=I??null,Il(L,Oe,_e),C.current.lanes=_e,Bi(C,_e,oe),to(C,oe),C}function Hi(C,I,L,oe){var _e=I.current,Oe=oo(),We=ml(_e);return L=ss(L),I.context===null?I.context=L:I.pendingContext=L,I=_l(Oe,We),I.payload={element:C},oe=oe===void 0?null:oe,oe!==null&&(I.callback=oe),C=Il(_e,I,We),C!==null&&(Ho(C,_e,We,Oe),Ol(C,_e,We)),We}function ni(C){if(C=C.current,!C.child)return null;switch(C.child.tag){case 5:return C.child.stateNode;default:return C.child.stateNode}}function mo(C,I){if(C=C.memoizedState,C!==null&&C.dehydrated!==null){var L=C.retryLane;C.retryLane=L!==0&&L<I?L:I}}function gl(C,I){mo(C,I),(C=C.alternate)&&mo(C,I)}function Xl(){return null}var ba=typeof reportError=="function"?reportError:function(C){console.error(C)};function Bo(C){this._internalRoot=C}wc.prototype.render=Bo.prototype.render=function(C){var I=this._internalRoot;if(I===null)throw Error(n(409));Hi(C,I,null,null)},wc.prototype.unmount=Bo.prototype.unmount=function(){var C=this._internalRoot;if(C!==null){this._internalRoot=null;var I=C.containerInfo;ou(function(){Hi(null,C,null,null)}),I[ol]=null}};function wc(C){this._internalRoot=C}wc.prototype.unstable_scheduleHydration=function(C){if(C){var I=Qa();C={blockedOn:null,target:C,priority:I};for(var L=0;L<Le.length&&I!==0&&I<Le[L].priority;L++);Le.splice(L,0,C),L===0&&W(C)}};function xl(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)}function tl(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11&&(C.nodeType!==8||C.nodeValue!==" react-mount-point-unstable "))}function yu(){}function Wc(C,I,L,oe,_e){if(_e){if(typeof oe=="function"){var Oe=oe;oe=function(){var Rr=ni(We);Oe.call(Rr)}}var We=Yi(I,oe,C,0,null,!1,!1,"",yu);return C._reactRootContainer=We,C[ol]=We.current,Pa(C.nodeType===8?C.parentNode:C),ou(),We}for(;_e=C.lastChild;)C.removeChild(_e);if(typeof oe=="function"){var kt=oe;oe=function(){var Rr=ni(Vt);kt.call(Rr)}}var Vt=bi(C,0,!1,null,null,!1,!1,"",yu);return C._reactRootContainer=Vt,C[ol]=Vt.current,Pa(C.nodeType===8?C.parentNode:C),ou(function(){Hi(I,Vt,L,oe)}),Vt}function Ec(C,I,L,oe,_e){var Oe=L._reactRootContainer;if(Oe){var We=Oe;if(typeof _e=="function"){var kt=_e;_e=function(){var Vt=ni(We);kt.call(Vt)}}Hi(I,We,C,_e)}else We=Wc(L,I,C,_e,oe);return ni(We)}ra=function(C){switch(C.tag){case 3:var I=C.stateNode;if(I.current.memoizedState.isDehydrated){var L=Ks(I.pendingLanes);L!==0&&(za(I,L|1),to(I,As()),(gs&6)===0&&(au=As()+500,Ur()))}break;case 13:ou(function(){var oe=bo(C,1);if(oe!==null){var _e=oo();Ho(oe,C,1,_e)}}),gl(C,1)}},Ta=function(C){if(C.tag===13){var I=bo(C,134217728);if(I!==null){var L=oo();Ho(I,C,134217728,L)}gl(C,134217728)}},Ea=function(C){if(C.tag===13){var I=ml(C),L=bo(C,I);if(L!==null){var oe=oo();Ho(L,C,I,oe)}gl(C,I)}},Qa=function(){return _s},Wt=function(C,I){var L=_s;try{return _s=C,I()}finally{_s=L}},Kn=function(C,I,L){switch(I){case"input":if(Bt(C,L),I=L.name,L.type==="radio"&&I!=null){for(L=C;L.parentNode;)L=L.parentNode;for(L=L.querySelectorAll("input[name="+JSON.stringify(""+I)+'][type="radio"]'),I=0;I<L.length;I++){var oe=L[I];if(oe!==C&&oe.form===C.form){var _e=Ic(oe);if(!_e)throw Error(n(90));ut(oe),Bt(oe,_e)}}}break;case"textarea":En(C,L);break;case"select":I=L.value,I!=null&&$r(C,!!L.multiple,I,!1)}},ps=nd,Ti=ou;var $u={usingClientEntryPoint:!1,Events:[ac,Fo,Ic,Tn,es,nd]},jc={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cu={bundleType:jc.bundleType,version:jc.version,rendererPackageName:jc.rendererPackageName,rendererConfig:jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(C){return C=Qi(C),C===null?null:C.stateNode},findFiberByHostInstance:jc.findFiberByHostInstance||Xl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Gt=Yc.inject(cu),Ar=Yc}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,reactDom_production_min.createPortal=function(C,I){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xl(I))throw Error(n(200));return li(C,I,null,L)},reactDom_production_min.createRoot=function(C,I){if(!xl(C))throw Error(n(299));var L=!1,oe="",_e=ba;return I!=null&&(I.unstable_strictMode===!0&&(L=!0),I.identifierPrefix!==void 0&&(oe=I.identifierPrefix),I.onRecoverableError!==void 0&&(_e=I.onRecoverableError)),I=bi(C,1,!1,null,null,L,!1,oe,_e),C[ol]=I.current,Pa(C.nodeType===8?C.parentNode:C),new Bo(I)},reactDom_production_min.findDOMNode=function(C){if(C==null)return null;if(C.nodeType===1)return C;var I=C._reactInternals;if(I===void 0)throw typeof C.render=="function"?Error(n(188)):(C=Object.keys(C).join(","),Error(n(268,C)));return C=Qi(I),C=C===null?null:C.stateNode,C},reactDom_production_min.flushSync=function(C){return ou(C)},reactDom_production_min.hydrate=function(C,I,L){if(!tl(I))throw Error(n(200));return Ec(null,C,I,!0,L)},reactDom_production_min.hydrateRoot=function(C,I,L){if(!xl(C))throw Error(n(405));var oe=L!=null&&L.hydratedSources||null,_e=!1,Oe="",We=ba;if(L!=null&&(L.unstable_strictMode===!0&&(_e=!0),L.identifierPrefix!==void 0&&(Oe=L.identifierPrefix),L.onRecoverableError!==void 0&&(We=L.onRecoverableError)),I=Yi(I,null,C,1,L??null,_e,!1,Oe,We),C[ol]=I.current,Pa(C),oe)for(C=0;C<oe.length;C++)L=oe[C],_e=L._getVersion,_e=_e(L._source),I.mutableSourceEagerHydrationData==null?I.mutableSourceEagerHydrationData=[L,_e]:I.mutableSourceEagerHydrationData.push(L,_e);return new wc(I)},reactDom_production_min.render=function(C,I,L){if(!tl(I))throw Error(n(200));return Ec(null,C,I,!1,L)},reactDom_production_min.unmountComponentAtNode=function(C){if(!tl(C))throw Error(n(40));return C._reactRootContainer?(ou(function(){Ec(null,null,C,!1,function(){C._reactRootContainer=null,C[ol]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=nd,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(C,I,L,oe){if(!tl(L))throw Error(n(200));if(C==null||C._reactInternals===void 0)throw Error(n(38));return Ec(C,I,L,!1,oe)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var e=requireReactDom();return client.createRoot=e.createRoot,client.hydrateRoot=e.hydrateRoot,client}var clientExports=requireClient();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(e={}){function t(o,l){let{pathname:u,search:d,hash:A}=o.location;return createLocation("",{pathname:u,search:d,hash:A},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:createPath(l)}return getUrlBasedHistory(t,n,null,e)}function invariant$1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function warning(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(e,t){return{usr:e.state,key:e.key,idx:t}}function createLocation(e,t,n=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:n,key:t&&t.key||o||createKey()}}function createPath({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function parsePath(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function getUrlBasedHistory(e,t,n,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,A="POP",m=null,f=g();f==null&&(f=0,d.replaceState({...d.state,idx:f},""));function g(){return(d.state||{idx:null}).idx}function v(){A="POP";let R=g(),_=R==null?null:R-f;f=R,m&&m({action:A,location:E.location,delta:_})}function b(R,_){A="PUSH";let N=createLocation(E.location,R,_);f=g()+1;let B=getHistoryState(N,f),M=E.createHref(N);try{d.pushState(B,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;l.location.assign(M)}u&&m&&m({action:A,location:E.location,delta:1})}function w(R,_){A="REPLACE";let N=createLocation(E.location,R,_);f=g();let B=getHistoryState(N,f),M=E.createHref(N);d.replaceState(B,"",M),u&&m&&m({action:A,location:E.location,delta:0})}function j(R){return createBrowserURLImpl(R)}let E={get action(){return A},get location(){return e(l,d)},listen(R){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(PopStateEventType,v),m=R,()=>{l.removeEventListener(PopStateEventType,v),m=null}},createHref(R){return t(l,R)},createURL:j,encodeLocation(R){let _=j(R);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:w,go(R){return d.go(R)}};return E}function createBrowserURLImpl(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(n,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:createPath(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function matchRoutes(e,t,n="/"){return matchRoutesImpl(e,t,n,!1)}function matchRoutesImpl(e,t,n,o){let l=typeof t=="string"?parsePath(t):t,u=stripBasename(l.pathname||"/",n);if(u==null)return null;let d=flattenRoutes(e);rankRouteBranches(d);let A=null;for(let m=0;A==null&&m<d.length;++m){let f=decodePath(u);A=matchRouteBranch(d[m],f,o)}return A}function flattenRoutes(e,t=[],n=[],o="",l=!1){let u=(d,A,m=l,f)=>{let g={relativePath:f===void 0?d.path||"":f,caseSensitive:d.caseSensitive===!0,childrenIndex:A,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&m)return;invariant$1(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let v=joinPaths([o,g.relativePath]),b=n.concat(g);d.children&&d.children.length>0&&(invariant$1(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),flattenRoutes(d.children,t,b,v,m)),!(d.path==null&&!d.index)&&t.push({path:v,score:computeScore(v,d.index),routesMeta:b})};return e.forEach((d,A)=>{if(d.path===""||!d.path?.includes("?"))u(d,A);else for(let m of explodeOptionalSegments(d.path))u(d,A,!0,m)}),t}function explodeOptionalSegments(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=explodeOptionalSegments(o.join("/")),A=[];return A.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&A.push(...d),A.map(m=>e.startsWith("/")&&m===""?"/":m)}function rankRouteBranches(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:compareIndexes(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,t){let n=e.split("/"),o=n.length;return n.some(isSplat)&&(o+=splatPenalty),t&&(o+=indexRouteValue),n.filter(l=>!isSplat(l)).reduce((l,u)=>l+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,t){return e.length===t.length&&e.slice(0,-1).every((o,l)=>o===t[l])?e[e.length-1]-t[t.length-1]:0}function matchRouteBranch(e,t,n=!1){let{routesMeta:o}=e,l={},u="/",d=[];for(let A=0;A<o.length;++A){let m=o[A],f=A===o.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=matchPath({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},g),b=m.route;if(!v&&f&&n&&!o[o.length-1].route.index&&(v=matchPath({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!v)return null;Object.assign(l,v.params),d.push({params:l,pathname:joinPaths([u,v.pathname]),pathnameBase:normalizePathname(joinPaths([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=joinPaths([u,v.pathnameBase]))}return d}function matchPath(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=compilePath(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),A=l.slice(1);return{params:o.reduce((f,{paramName:g,isOptional:v},b)=>{if(g==="*"){let j=A[b]||"";d=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const w=A[b];return v&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:u,pathnameBase:d,pattern:e}}function compilePath(e,t=!1,n=!0){warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,A,m)=>(o.push({paramName:A,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function decodePath(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function stripBasename(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function resolvePath(e,t="/"){let{pathname:n,search:o="",hash:l=""}=typeof e=="string"?parsePath(e):e,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=resolvePathname(n.substring(1),"/"):u=resolvePathname(n,t)):u=t,{pathname:u,search:normalizeSearch(o),hash:normalizeHash(l)}}function resolvePathname(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(e,t,n,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(e){let t=getPathContributingMatches(e);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function resolveTo(e,t,n,o=!1){let l;typeof e=="string"?l=parsePath(e):(l={...e},invariant$1(!l.pathname||!l.pathname.includes("?"),getInvalidPathError("?","pathname","search",l)),invariant$1(!l.pathname||!l.pathname.includes("#"),getInvalidPathError("#","pathname","hash",l)),invariant$1(!l.search||!l.search.includes("#"),getInvalidPathError("#","search","hash",l)));let u=e===""||l.pathname==="",d=u?"/":l.pathname,A;if(d==null)A=n;else{let v=t.length-1;if(!o&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),v-=1;l.pathname=b.join("/")}A=v>=0?t[v]:"/"}let m=resolvePath(l,A),f=d&&d!=="/"&&d.endsWith("/"),g=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}var joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ErrorResponseImpl=class{constructor(e,t,n,o=!1){this.status=e,this.statusText=t||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function getRoutePattern(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function parseToInfo(e,t){let n=e;if(typeof n!="string"||!ABSOLUTE_URL_REGEX.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let o=n,l=!1;if(isBrowser$1)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),A=stripBasename(d.pathname,t);d.origin===u.origin&&A!=null?n=A+d.search+d.hash:l=!0}catch{warning(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var RSCRouterContext=reactExports.createContext(!1),ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";var ERROR_DIGEST_BASE="REACT_ROUTER_ERROR",ERROR_DIGEST_REDIRECT="REDIRECT",ERROR_DIGEST_ROUTE_ERROR_RESPONSE="ROUTE_ERROR_RESPONSE";function decodeRedirectErrorDigest(e){if(e.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function decodeRouteErrorResponseDigest(e){if(e.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new ErrorResponseImpl(t.status,t.statusText,t.data)}catch{}}function useHref(e,{relative:t}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=reactExports.useContext(NavigationContext),{hash:l,pathname:u,search:d}=useResolvedPath(e,{relative:t}),A=u;return n!=="/"&&(A=u==="/"?n:joinPaths([n,u])),o.createHref({pathname:A,search:d,hash:l})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let e=reactExports.useContext(DataRouterContext),{basename:t,navigator:n}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:l}=useLocation(),u=JSON.stringify(getResolveToMatches(o)),d=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{d.current=!0}),reactExports.useCallback((m,f={})=>{if(warning(d.current,navigateEffectWarning),!d.current)return;if(typeof m=="number"){n.go(m);return}let g=resolveTo(m,JSON.parse(u),l,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:joinPaths([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,u,l,e])}reactExports.createContext(null);function useParams(){let{matches:e}=reactExports.useContext(RouteContext),t=e[e.length-1];return t?t.params:{}}function useResolvedPath(e,{relative:t}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(l),o,t==="path"),[e,l,o,t])}function useRoutes(e,t){return useRoutesImpl(e,t)}function useRoutesImpl(e,t,n,o,l){invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),A=d[d.length-1],m=A?A.params:{},f=A?A.pathname:"/",g=A?A.pathnameBase:"/",v=A&&A.route;{let N=v&&v.path||"";warningOnce(f,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=useLocation(),w;if(t){let N=typeof t=="string"?parsePath(t):t;invariant$1(g==="/"||N.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=b;let j=w.pathname||"/",E=j;if(g!=="/"){let N=g.replace(/^\//,"").split("/");E="/"+j.replace(/^\//,"").split("/").slice(N.length).join("/")}let R=matchRoutes(e,{pathname:E});warning(v||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),warning(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=_renderMatches(R&&R.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:joinPaths([g,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:joinPaths([g,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),d,n,o,l);return t&&_?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function DefaultErrorComponent(){let e=useRouteError(),t=isRouteErrorResponse(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:u},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:u},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),n?reactExports.createElement("pre",{style:l},n):null,d)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=decodeRouteErrorResponseDigest(e.digest);n&&(e=n)}let t=e!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?reactExports.createElement(RSCErrorHandler,{error:e},t):t}};RenderErrorBoundary.contextType=RSCRouterContext;var errorRedirectHandledMap=new WeakMap;function RSCErrorHandler({children:e,error:t}){let{basename:n}=reactExports.useContext(NavigationContext);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let o=decodeRedirectErrorDigest(t.digest);if(o){let l=errorRedirectHandledMap.get(t);if(l)throw l;let u=parseToInfo(o.location,n);if(isBrowser$1&&!errorRedirectHandledMap.get(t))if(u.isExternal||o.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:o.replace}));throw errorRedirectHandledMap.set(t,d),d}return reactExports.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function RenderedRoute({routeContext:e,match:t,children:n}){let o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:e},n)}function _renderMatches(e,t=[],n=null,o=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,d=n?.errors;if(d!=null){let g=u.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);invariant$1(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let A=!1,m=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:b,errors:w}=n,j=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||j){A=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let f=n&&o?(g,v)=>{o(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:getRoutePattern(n.matches),errorInfo:v})}:void 0;return u.reduceRight((g,v,b)=>{let w,j=!1,E=null,R=null;n&&(w=d&&v.route.id?d[v.route.id]:void 0,E=v.route.errorElement||defaultErrorElement,A&&(m<0&&b===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,R=null):m===b&&(j=!0,R=v.route.hydrateFallbackElement||null)));let _=t.concat(u.slice(0,b+1)),N=()=>{let B;return w?B=E:j?B=R:v.route.Component?B=reactExports.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=g,reactExports.createElement(RenderedRoute,{match:v,routeContext:{outlet:g,matches:_,isDataRoute:n!=null},children:B})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:f}):N()},null)}function getDataRouterConsoleError(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(e){let t=reactExports.useContext(DataRouterContext);return invariant$1(t,getDataRouterConsoleError(e)),t}function useDataRouterState(e){let t=reactExports.useContext(DataRouterStateContext);return invariant$1(t,getDataRouterConsoleError(e)),t}function useRouteContext(e){let t=reactExports.useContext(RouteContext);return invariant$1(t,getDataRouterConsoleError(e)),t}function useCurrentRouteId(e){let t=useRouteContext(e),n=t.matches[t.matches.length-1];return invariant$1(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let e=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return e!==void 0?e:t.errors?.[n]}function useNavigateStable(){let{router:e}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{n.current=!0}),reactExports.useCallback(async(l,u={})=>{warning(n.current,navigateEffectWarning),n.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:t,...u}))},[e,t])}var alreadyWarned={};function warningOnce(e,t,n){!t&&!alreadyWarned[e]&&(alreadyWarned[e]=!0,warning(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:e,future:t,state:n,onError:o}){return useRoutesImpl(e,void 0,n,o,t)}function Navigate({to:e,replace:t,state:n,relative:o}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=reactExports.useContext(NavigationContext);warning(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),A=useNavigate(),m=resolveTo(e,getResolveToMatches(u),d,o==="path"),f=JSON.stringify(m);return reactExports.useEffect(()=>{A(JSON.parse(f),{replace:t,state:n,relative:o})},[A,f,o,t,n]),null}function Route(e){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:e="/",children:t=null,location:n,navigationType:o="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=e.replace(/^\/*/,"/"),m=reactExports.useMemo(()=>({basename:A,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[A,l,u,d]);typeof n=="string"&&(n=parsePath(n));let{pathname:f="/",search:g="",hash:v="",state:b=null,key:w="default"}=n,j=reactExports.useMemo(()=>{let E=stripBasename(f,A);return E==null?null:{location:{pathname:E,search:g,hash:v,state:b,key:w},navigationType:o}},[A,f,g,v,b,w,o]);return warning(j!=null,`<Router basename="${A}"> is not able to match the URL "${f}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:reactExports.createElement(NavigationContext.Provider,{value:m},reactExports.createElement(LocationContext.Provider,{children:t,value:j}))}function Routes({children:e,location:t}){return useRoutes(createRoutesFromChildren(e),t)}function createRoutesFromChildren(e,t=[]){let n=[];return reactExports.Children.forEach(e,(o,l)=>{if(!reactExports.isValidElement(o))return;let u=[...t,l];if(o.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(o.props.children,u));return}invariant$1(o.type===Route,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=createRoutesFromChildren(o.props.children,u)),n.push(d)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function isButtonElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="button"}function isFormElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="form"}function isInputElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="input"}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,t){return e.button===0&&(!t||t==="_self")&&!isModifiedEvent(e)}function createSearchParams(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(l=>[n,l]):[[n,o]])},[]))}function getSearchParamsForLocation(e,t){let n=createSearchParams(e);return t&&t.forEach((o,l)=>{n.has(l)||t.getAll(l).forEach(u=>{n.append(l,u)})}),n}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(e){return e!=null&&!supportedFormEncTypes.has(e)?(warning(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):e}function getFormSubmissionInfo(e,t){let n,o,l,u,d;if(isFormElement(e)){let A=e.getAttribute("action");o=A?stripBasename(A,t):null,n=e.getAttribute("method")||defaultMethod,l=getFormEncType(e.getAttribute("enctype"))||defaultEncType,u=new FormData(e)}else if(isButtonElement(e)||isInputElement(e)&&(e.type==="submit"||e.type==="image")){let A=e.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||A.getAttribute("action");if(o=m?stripBasename(m,t):null,n=e.getAttribute("formmethod")||A.getAttribute("method")||defaultMethod,l=getFormEncType(e.getAttribute("formenctype"))||getFormEncType(A.getAttribute("enctype"))||defaultEncType,u=new FormData(A,e),!isFormDataSubmitterSupported()){let{name:f,type:g,value:v}=e;if(g==="image"){let b=f?`${f}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else f&&u.append(f,v)}}else{if(isHtmlElement(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,o=null,l=defaultEncType,d=e}return u&&l==="text/plain"&&(d=u,u=void 0),{action:o,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function singleFetchUrl(e,t,n,o){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${o}`:l.pathname=`${l.pathname}.${o}`:l.pathname==="/"?l.pathname=`_root.${o}`:t&&stripBasename(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function loadRouteModule(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function getKeyedPrefetchLinks(e,t,n){let o=await Promise.all(e.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await loadRouteModule(u,n);return d.links?d.links():[]}return[]}));return dedupeLinkDescriptors(o.flat(1).filter(isHtmlLinkDescriptor).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function getNewMatchesForLinks(e,t,n,o,l,u){let d=(m,f)=>n[f]?m.route.id!==n[f].route.id:!0,A=(m,f)=>n[f].pathname!==m.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,f)=>d(m,f)||A(m,f)):u==="data"?t.filter((m,f)=>{let g=o.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(d(m,f)||A(m,f))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function getModuleLinkHrefs(e,t,{includeHydrateFallback:n}={}){return dedupeHrefs(e.map(o=>{let l=t.routes[o.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function dedupeHrefs(e){return[...new Set(e)]}function sortKeys(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}function dedupeLinkDescriptors(e,t){let n=new Set;return new Set(t),e.reduce((o,l)=>{let u=JSON.stringify(sortKeys(l));return n.has(u)||(n.add(u),o.push({key:u,link:l})),o},[])}function useDataRouterContext2(){let e=reactExports.useContext(DataRouterContext);return invariant2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function useDataRouterStateContext(){let e=reactExports.useContext(DataRouterStateContext);return invariant2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let e=reactExports.useContext(FrameworkContext);return invariant2(e,"You must render this element inside a <HydratedRouter> element"),e}function usePrefetchBehavior(e,t){let n=reactExports.useContext(FrameworkContext),[o,l]=reactExports.useState(!1),[u,d]=reactExports.useState(!1),{onFocus:A,onBlur:m,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=t,b=reactExports.useRef(null);reactExports.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let E=_=>{_.forEach(N=>{d(N.isIntersecting)})},R=new IntersectionObserver(E,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[e]),reactExports.useEffect(()=>{if(o){let E=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(E)}}},[o]);let w=()=>{l(!0)},j=()=>{l(!1),d(!1)};return n?e!=="intent"?[u,b,{}]:[u,b,{onFocus:composeEventHandlers$1(A,w),onBlur:composeEventHandlers$1(m,j),onMouseEnter:composeEventHandlers$1(f,w),onMouseLeave:composeEventHandlers$1(g,j),onTouchStart:composeEventHandlers$1(v,w)}]:[!1,b,{}]}function composeEventHandlers$1(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function PrefetchPageLinks({page:e,...t}){let{router:n}=useDataRouterContext2(),o=reactExports.useMemo(()=>matchRoutes(n.routes,e,n.basename),[n.routes,e,n.basename]);return o?reactExports.createElement(PrefetchPageLinksImpl,{page:e,matches:o,...t}):null}function useKeyedPrefetchLinks(e){let{manifest:t,routeModules:n}=useFrameworkContext(),[o,l]=reactExports.useState([]);return reactExports.useEffect(()=>{let u=!1;return getKeyedPrefetchLinks(e,t,n).then(d=>{u||l(d)}),()=>{u=!0}},[e,t,n]),o}function PrefetchPageLinksImpl({page:e,matches:t,...n}){let o=useLocation(),{future:l,manifest:u,routeModules:d}=useFrameworkContext(),{basename:A}=useDataRouterContext2(),{loaderData:m,matches:f}=useDataRouterStateContext(),g=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,f,u,o,"data"),[e,t,f,u,o]),v=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,f,u,o,"assets"),[e,t,f,u,o]),b=reactExports.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let E=new Set,R=!1;if(t.forEach(N=>{let B=u.routes[N.route.id];!B||!B.hasLoader||(!g.some(M=>M.route.id===N.route.id)&&N.route.id in m&&d[N.route.id]?.shouldRevalidate||B.hasClientLoader?R=!0:E.add(N.route.id))}),E.size===0)return[];let _=singleFetchUrl(e,A,l.unstable_trailingSlashAwareDataRequests,"data");return R&&E.size>0&&_.searchParams.set("_routes",t.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[_.pathname+_.search]},[A,l.unstable_trailingSlashAwareDataRequests,m,o,u,g,t,e,d]),w=reactExports.useMemo(()=>getModuleLinkHrefs(v,u),[v,u]),j=useKeyedPrefetchLinks(v);return reactExports.createElement(reactExports.Fragment,null,b.map(E=>reactExports.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),w.map(E=>reactExports.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),j.map(({key:E,link:R})=>reactExports.createElement("link",{key:E,nonce:n.nonce,...R,crossOrigin:R.crossOrigin??n.crossOrigin})))}function mergeRefs(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var isBrowser2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser2&&(window.__reactRouterVersion="7.13.0")}catch{}function BrowserRouter({basename:e,children:t,unstable_useTransitions:n,window:o}){let l=reactExports.useRef();l.current==null&&(l.current=createBrowserHistory({window:o,v5Compat:!0}));let u=l.current,[d,A]=reactExports.useState({action:u.action,location:u.location}),m=reactExports.useCallback(f=>{n===!1?A(f):reactExports.startTransition(()=>A(f))},[n]);return reactExports.useLayoutEffect(()=>u.listen(m),[u,m]),reactExports.createElement(Router,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:A,target:m,to:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},j){let{basename:E,unstable_useTransitions:R}=reactExports.useContext(NavigationContext),_=typeof f=="string"&&ABSOLUTE_URL_REGEX2.test(f),N=parseToInfo(f,E);f=N.to;let B=useHref(f,{relative:l}),[M,O,F]=usePrefetchBehavior(o,w),$=useLinkClickHandler(f,{replace:d,state:A,target:m,preventScrollReset:g,relative:l,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:R});function z(ce){t&&t(ce),ce.defaultPrevented||$(ce)}let se=reactExports.createElement("a",{...w,...F,href:N.absoluteURL||B,onClick:N.isExternal||u?t:z,ref:mergeRefs(j,O),target:m,"data-discover":!_&&n==="render"?"true":void 0});return M&&!_?reactExports.createElement(reactExports.Fragment,null,se,reactExports.createElement(PrefetchPageLinks,{page:B})):se});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:l=!1,style:u,to:d,viewTransition:A,children:m,...f},g){let v=useResolvedPath(d,{relative:f.relative}),b=useLocation(),w=reactExports.useContext(DataRouterStateContext),{navigator:j,basename:E}=reactExports.useContext(NavigationContext),R=w!=null&&useViewTransitionState(v)&&A===!0,_=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,N=b.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(N=N.toLowerCase(),B=B?B.toLowerCase():null,_=_.toLowerCase()),B&&E&&(B=stripBasename(B,E)||B);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=N===_||!l&&N.startsWith(_)&&N.charAt(M)==="/",F=B!=null&&(B===_||!l&&B.startsWith(_)&&B.charAt(_.length)==="/"),$={isActive:O,isPending:F,isTransitioning:R},z=O?t:void 0,se;typeof o=="function"?se=o($):se=[o,O?"active":null,F?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ce=typeof u=="function"?u($):u;return reactExports.createElement(Link$1,{...f,"aria-current":z,className:se,ref:g,style:ce,to:d,viewTransition:A},typeof m=="function"?m($):m)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:l,state:u,method:d=defaultMethod,action:A,onSubmit:m,relative:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b,...w},j)=>{let{unstable_useTransitions:E}=reactExports.useContext(NavigationContext),R=useSubmit(),_=useFormAction(A,{relative:f}),N=d.toLowerCase()==="get"?"get":"post",B=typeof A=="string"&&ABSOLUTE_URL_REGEX2.test(A),M=O=>{if(m&&m(O),O.defaultPrevented)return;O.preventDefault();let F=O.nativeEvent.submitter,$=F?.getAttribute("formmethod")||d,z=()=>R(F||O.currentTarget,{fetcherKey:t,method:$,navigate:n,replace:l,state:u,relative:f,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:b});E&&n!==!1?reactExports.startTransition(()=>z()):z()};return reactExports.createElement("form",{ref:j,method:N,action:_,onSubmit:o?m:M,...w,"data-discover":!B&&e==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(e){let t=reactExports.useContext(DataRouterContext);return invariant$1(t,getDataRouterConsoleError2(e)),t}function useLinkClickHandler(e,{target:t,replace:n,state:o,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:A,unstable_useTransitions:m}={}){let f=useNavigate(),g=useLocation(),v=useResolvedPath(e,{relative:u});return reactExports.useCallback(b=>{if(shouldProcessLinkClick(b,t)){b.preventDefault();let w=n!==void 0?n:createPath(g)===createPath(v),j=()=>f(e,{replace:w,state:o,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:A});m?reactExports.startTransition(()=>j()):j()}},[g,f,v,n,o,t,e,l,u,d,A,m])}function useSearchParams(e){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=reactExports.useRef(createSearchParams(e)),n=reactExports.useRef(!1),o=useLocation(),l=reactExports.useMemo(()=>getSearchParamsForLocation(o.search,n.current?null:t.current),[o.search]),u=useNavigate(),d=reactExports.useCallback((A,m)=>{const f=createSearchParams(typeof A=="function"?A(new URLSearchParams(l)):A);n.current=!0,u("?"+f,m)},[u,l]);return[l,d]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:e}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),n=useRouteId(),o=e.fetch,l=e.navigate;return reactExports.useCallback(async(u,d={})=>{let{action:A,method:m,encType:f,formData:g,body:v}=getFormSubmissionInfo(u,t);if(d.navigate===!1){let b=d.fetcherKey||getUniqueFetcherId();await o(b,n,d.action||A,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:g,body:v,formMethod:d.method||m,formEncType:d.encType||f,flushSync:d.flushSync})}else await l(d.action||A,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:g,body:v,formMethod:d.method||m,formEncType:d.encType||f,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,l,t,n])}function useFormAction(e,{relative:t}={}){let{basename:n}=reactExports.useContext(NavigationContext),o=reactExports.useContext(RouteContext);invariant$1(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...useResolvedPath(e||".",{relative:t})},d=useLocation();if(e==null){u.search=d.search;let A=new URLSearchParams(u.search),m=A.getAll("index");if(m.some(g=>g==="")){A.delete("index"),m.filter(v=>v).forEach(v=>A.append("index",v));let g=A.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:joinPaths([n,u.pathname])),createPath(u)}function useViewTransitionState(e,{relative:t}={}){let n=reactExports.useContext(ViewTransitionContext);invariant$1(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=useDataRouterContext3("useViewTransitionState"),l=useResolvedPath(e,{relative:t});if(!n.isTransitioning)return!1;let u=stripBasename(n.currentLocation.pathname,o)||n.currentLocation.pathname,d=stripBasename(n.nextLocation.pathname,o)||n.nextLocation.pathname;return matchPath(l.pathname,d)!=null||matchPath(l.pathname,u)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var __assign=function(){return __assign=Object.assign||function(t){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},__assign.apply(this,arguments)};function __rest(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n}function __awaiter(e,t,n,o){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function A(g){try{f(o.next(g))}catch(v){d(v)}}function m(g){try{f(o.throw(g))}catch(v){d(v)}}function f(g){g.done?u(g.value):l(g.value).then(A,m)}f((o=o.apply(e,t||[])).next())})}function __spreadArray(e,t,n){if(n||arguments.length===2)for(var o=0,l=t.length,u;o<l;o++)(u||!(o in t))&&(u||(u=Array.prototype.slice.call(t,0,o)),u[o]=t[o]);return e.concat(u||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;const resolveFetch$3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class FunctionsError extends Error{constructor(t,n="FunctionsError",o){super(t),this.name=n,this.context=o}}class FunctionsFetchError extends FunctionsError{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FunctionsRelayError extends FunctionsError{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FunctionsHttpError extends FunctionsError{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var FunctionRegion;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(t,{headers:n={},customFetch:o,region:l=FunctionRegion.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=resolveFetch$3(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return __awaiter(this,arguments,void 0,function*(n,o={}){var l;let u,d;try{const{headers:A,method:m,body:f,signal:g,timeout:v}=o;let b={},{region:w}=o;w||(w=this.region);const j=new URL(`${this.url}/${n}`);w&&w!=="any"&&(b["x-region"]=w,j.searchParams.set("forceFunctionRegion",w));let E;f&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(b["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(b["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let R=g;v&&(d=new AbortController,u=setTimeout(()=>d.abort(),v),g?(R=d.signal,g.addEventListener("abort",()=>d.abort())):R=d.signal);const _=yield this.fetch(j.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),A),body:E,signal:R}).catch(O=>{throw new FunctionsFetchError(O)}),N=_.headers.get("x-relay-error");if(N&&N==="true")throw new FunctionsRelayError(_);if(!_.ok)throw new FunctionsHttpError(_);let B=((l=_.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),M;return B==="application/json"?M=yield _.json():B==="application/octet-stream"||B==="application/pdf"?M=yield _.blob():B==="text/event-stream"?M=_:B==="multipart/form-data"?M=yield _.formData():M=yield _.text(),{data:M,error:null,response:_}}catch(A){return{data:null,error:A,response:A instanceof FunctionsHttpError||A instanceof FunctionsRelayError?A.context:void 0}}finally{u&&clearTimeout(u)}})}}var PostgrestError=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},PostgrestBuilder=class{constructor(e){var t,n,o;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(o=e.urlLengthLimit)!==null&&o!==void 0?o:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,A=null,m=null,f=u.status,g=u.statusText;if(u.ok){var v,b;if(n.method!=="HEAD"){var w;const _=await u.text();_===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?A=_:A=JSON.parse(_))}const E=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),R=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&R&&R.length>1&&(m=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(A)&&(A.length>1?(d={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,m=null,f=406,g="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{var j;const E=await u.text();try{d=JSON.parse(E),Array.isArray(d)&&u.status===404&&(A=[],d=null,f=200,g="OK")}catch{u.status===404&&E===""?(f=204,g="No Content"):d={message:E}}if(d&&n.isMaybeSingle&&(!(d==null||(j=d.details)===null||j===void 0)&&j.includes("0 rows"))&&(d=null,f=200,g="OK"),d&&n.shouldThrowOnError)throw new PostgrestError(d)}return{error:d,data:A,count:m,status:f,statusText:g}});return this.shouldThrowOnError||(l=l.catch(u=>{var d;let A="",m="",f="";const g=u?.cause;if(g){var v,b,w,j;const _=(v=g?.message)!==null&&v!==void 0?v:"",N=(b=g?.code)!==null&&b!==void 0?b:"";A=`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,A+=`

Caused by: ${(j=g?.name)!==null&&j!==void 0?j:"Error"}: ${_}`,N&&(A+=` (${N})`),g?.stack&&(A+=`
${g.stack}`)}else{var E;A=(E=u?.stack)!==null&&E!==void 0?E:""}const R=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(f="",m="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(f="",m="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(m+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:A,hint:m,code:f},data:null,count:null,status:0,statusText:""}})),l.then(e,t)}returns(){return this}overrideTypes(){return this}},PostgrestTransformBuilder=class extends PostgrestBuilder{select(e){let t=!1;const n=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:o=n}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${e}`),this.url.searchParams.set(u,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const A=[e?"analyze":null,t?"verbose":null,n?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${A};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const PostgrestReservedCharsRegexp=new RegExp("[,()]");var PostgrestFilterBuilder=class extends PostgrestTransformBuilder{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(o=>typeof o=="string"&&PostgrestReservedCharsRegexp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(o=>typeof o=="string"&&PostgrestReservedCharsRegexp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${l}fts${u}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},PostgrestQueryBuilder=class{constructor(e,{headers:t={},schema:n,fetch:o,urlLengthLimit:l=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=o,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:o}=t??{},l=n?"HEAD":"GET";let u=!1;const d=(e??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join(""),{url:A,headers:m}=this.cloneRequestState();return A.searchParams.set("select",d),o&&m.append("Prefer",`count=${o}`),new PostgrestFilterBuilder({method:l,url:A,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),n||d.append("Prefer","missing=default"),Array.isArray(e)){const A=e.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(A.length>0){const m=[...new Set(A)].map(f=>`"${f}"`);u.searchParams.set("columns",m.join(","))}}return new PostgrestFilterBuilder({method:l,url:u,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST",{url:A,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&A.searchParams.set("on_conflict",t),o&&m.append("Prefer",`count=${o}`),l||m.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);A.searchParams.set("columns",g.join(","))}}return new PostgrestFilterBuilder({method:d,url:A,headers:m,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const o="PATCH",{url:l,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new PostgrestFilterBuilder({method:o,url:l,headers:u,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:o,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new PostgrestFilterBuilder({method:n,url:o,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function _typeof$R(e){"@babel/helpers - typeof";return _typeof$R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$R(e)}function toPrimitive$2(e,t){if(_typeof$R(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$R(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toPropertyKey$2(e){var t=toPrimitive$2(e,"string");return _typeof$R(t)=="symbol"?t:t+""}function _defineProperty$O(e,t,n){return(t=toPropertyKey$2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread2$3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$I(Object(n),!0).forEach(function(o){_defineProperty$O(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$I(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var PostgrestClient=class Od{constructor(t,{headers:n={},schema:o,fetch:l,timeout:u,urlLengthLimit:d=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=o,this.urlLengthLimit=d;const A=l??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,f)=>{const g=new AbortController,v=setTimeout(()=>g.abort(),u),b=f?.signal;if(b){if(b.aborted)return clearTimeout(v),A(m,f);const w=()=>{clearTimeout(v),g.abort()};return b.addEventListener("abort",w,{once:!0}),A(m,_objectSpread2$3(_objectSpread2$3({},f),{},{signal:g.signal})).finally(()=>{clearTimeout(v),b.removeEventListener("abort",w)})}return A(m,_objectSpread2$3(_objectSpread2$3({},f),{},{signal:g.signal})).finally(()=>clearTimeout(v))}:this.fetch=A}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PostgrestQueryBuilder(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Od(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:o=!1,get:l=!1,count:u}={}){var d;let A;const m=new URL(`${this.url}/rpc/${t}`);let f;const g=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(g)),v=o&&Object.values(n).some(g);v?(A="POST",f=n):o||l?(A=o?"HEAD":"GET",Object.entries(n).filter(([w,j])=>j!==void 0).map(([w,j])=>[w,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([w,j])=>{m.searchParams.append(w,j)})):(A="POST",f=n);const b=new Headers(this.headers);return v?b.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&b.set("Prefer",`count=${u}`),new PostgrestFilterBuilder({method:A,url:m,headers:b,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class WebSocketFactory{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const l=o.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const o=this.getWebSocketConstructor();return new o(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const version$4="2.94.1",DEFAULT_VERSION=`realtime-js/${version$4}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_2_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,o;const l=(o=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var n,o;const l=(o=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,n,o){var l,u;const d=t.topic,A=(l=t.ref)!==null&&l!==void 0?l:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",f=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+A.length+d.length+f.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+b);let j=new DataView(w),E=0;j.setUint8(E++,this.KINDS.userBroadcastPush),j.setUint8(E++,m.length),j.setUint8(E++,A.length),j.setUint8(E++,d.length),j.setUint8(E++,f.length),j.setUint8(E++,v.length),j.setUint8(E++,n),Array.from(m,_=>j.setUint8(E++,_.charCodeAt(0))),Array.from(A,_=>j.setUint8(E++,_.charCodeAt(0))),Array.from(d,_=>j.setUint8(E++,_.charCodeAt(0))),Array.from(f,_=>j.setUint8(E++,_.charCodeAt(0))),Array.from(v,_=>j.setUint8(E++,_.charCodeAt(0)));var R=new Uint8Array(w.byteLength+o.byteLength);return R.set(new Uint8Array(w),0),R.set(new Uint8Array(o),w.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return n(o)}if(typeof t=="string"){const o=JSON.parse(t),[l,u,d,A,m]=o;return n({join_ref:l,ref:u,topic:d,event:A,payload:m})}return n({})}_binaryDecode(t){const n=new DataView(t),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,l)}}_decodeUserBroadcast(t,n,o){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),A=n.getUint8(4);let m=this.HEADER_LENGTH+4;const f=o.decode(t.slice(m,m+l));m=m+l;const g=o.decode(t.slice(m,m+u));m=m+u;const v=o.decode(t.slice(m,m+d));m=m+d;const b=t.slice(m,t.byteLength),w=A===this.JSON_ENCODING?JSON.parse(o.decode(b)):b,j={type:this.BROADCAST_EVENT,event:g,payload:w};return d>0&&(j.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>n.includes(o)))}}let Timer$1=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,t,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=convertColumn(d,e,t,l),u),{}):{}},convertColumn=(e,t,n,o)=>{const l=t.find(A=>A.name===e),u=l?.type,d=n[e];return u&&!o.includes(u)?convertCell(u,d):noop$4(d)},convertCell=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return toArray$1(t,n)}switch(e){case PostgresTypes.bool:return toBoolean(t);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(t);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(t);case PostgresTypes.timestamp:return toTimestampString(t);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$4(t);default:return noop$4(t)}},noop$4=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},toArray$1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,o=e[n];if(e[0]==="{"&&o==="}"){let u;const d=e.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(A=>convertCell(t,A))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e,httpEndpointURL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Push{constructor(t,n,o={},l=DEFAULT_TIMEOUT){this.channel=t,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var o;return this._hasReceived(t)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:d,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=RealtimePresence.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],A()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=RealtimePresence.syncDiff(this.state,l,u,d),A())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,o,l){const u=this.cloneDeep(t),d=this.transformState(n),A={},m={};return this.map(u,(f,g)=>{d[f]||(m[f]=g)}),this.map(d,(f,g)=>{const v=u[f];if(v){const b=g.map(R=>R.presence_ref),w=v.map(R=>R.presence_ref),j=g.filter(R=>w.indexOf(R.presence_ref)<0),E=v.filter(R=>b.indexOf(R.presence_ref)<0);j.length>0&&(A[f]=j),E.length>0&&(m[f]=E)}else A[f]=g}),this.syncDiff(u,{joins:A,leaves:m},o,l)}static syncDiff(t,n,o,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(A,m)=>{var f;const g=(f=t[A])!==null&&f!==void 0?f:[];if(t[A]=this.cloneDeep(m),g.length>0){const v=t[A].map(w=>w.presence_ref),b=g.filter(w=>v.indexOf(w.presence_ref)<0);t[A].unshift(...b)}o(A,g,m)}),this.map(d,(A,m)=>{let f=t[A];if(!f)return;const g=m.map(v=>v.presence_ref);f=f.filter(v=>g.indexOf(v.presence_ref)<0),t[A]=f,l(A,f,m),f.length===0&&delete t[A]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(o=>n(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,o)=>{const l=t[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(t,n={config:{}},o){var l,u;if(this.topic=t,this.params=n,this.socket=o,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer$1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(d,A)=>{this._trigger(this._replyEventName(A),d)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:d,presence:A,private:m}}=this.params,f=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(w=>w.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},b={broadcast:d,presence:Object.assign(Object.assign({},A),{enabled:g}),postgres_changes:f,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,w)),this._onClose(()=>t?.(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,R=(j=E?.length)!==null&&j!==void 0?j:0,_=[];for(let N=0;N<R;N++){const B=E[N],{filter:{event:M,schema:O,table:F,filter:$}}=B,z=w&&w[N];if(z&&z.event===M&&RealtimeChannel.isFilterValueEqual(z.schema,O)&&RealtimeChannel.isFilterValueEqual(z.table,F)&&RealtimeChannel.isFilterValueEqual(z.filter,$))_.push(Object.assign(Object.assign({},B),{id:z.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,t?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",w=>{this.state=CHANNEL_STATES.errored,t?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,o){return this.state===CHANNEL_STATES.joined&&t===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,o)}async httpSend(t,n,o={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(A.status===202)return{success:!0};let m=A.statusText;try{const f=await A.json();m=f.error||f.message||m}catch{}return Promise.reject(new Error(m))}async send(t,n={}){var o,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,A={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(A.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:A,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=f.body)===null||l===void 0?void 0:l.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,A,m;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(A=(d=this.params)===null||d===void 0?void 0:d.config)===null||A===void 0?void 0:A.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),f.receive("ok",()=>u("ok")),f.receive("error",()=>u("error")),f.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=CHANNEL_STATES.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Push(this,CHANNEL_EVENTS.leave,{},t),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(t,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(t,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Push(this,t,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,o){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,o){var l,u;const d=t.toLocaleLowerCase(),{close:A,error:m,leave:f,join:g}=CHANNEL_EVENTS;if(o&&[A,m,f,g].indexOf(d)>=0&&o!==this._joinRef())return;let b=this._onMessage(d,n,o);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var j,E,R;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((R=(E=w.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===d}).map(w=>w.callback(b,o)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var j,E,R,_,N,B;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const M=w.id,O=(j=w.filter)===null||j===void 0?void 0:j.event;return M&&((E=n.ids)===null||E===void 0?void 0:E.includes(M))&&(O==="*"||O?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const M=(N=(_=w?.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return M==="*"||M===((B=n?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:E,table:R,commit_timestamp:_,type:N,errors:B}=j;b=Object.assign(Object.assign({},{schema:E,table:R,commit_timestamp:_,eventType:N,new:{},old:{},errors:B}),this._getPayloadRecords(j))}w.callback(b,o)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,o){const l=t.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,n){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&RealtimeChannel.isEqual(l.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const o in t)if(t[o]!==n[o])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(CHANNEL_EVENTS.close,{},t)}_onError(t){this._on(CHANNEL_EVENTS.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=convertChangeData(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=convertChangeData(t.columns,t.old_record)),n}}const noop$3=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(t,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$3,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop$3,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,o){this.logger(t,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const o=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new RealtimeChannel(`realtime:${t}`,n,this);return this.channels.push(u),u}}push(t){const{topic:n,event:o,payload:l,ref:u}=t,d=()=>{this.encode(t,A=>{var m;(m=this.conn)===null||m===void 0||m.send(A)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:l,payload:u,ref:d}=n,A=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${l} ${A}`.trim(),u),this.channels.filter(f=>f._isMember(o)).forEach(f=>f._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===SOCKET_STATES.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(CHANNEL_EVENTS.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const o=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${o}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const o=new Blob([WORKER_SCRIPT],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,o=!1;if(t)n=t,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const u={access_token:n,version:DEFAULT_VERSION};n&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(CHANNEL_EVENTS.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer$1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,o,l,u,d,A,m,f,g,v,b,w;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(A=t?.heartbeatCallback)!==null&&A!==void 0?A:noop$3,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:DEFAULT_VSN,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(j=>RECONNECT_INTERVALS[j-1]||DEFAULT_RECONNECT_FALLBACK),this.vsn){case VSN_1_0_0:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((j,E)=>E(JSON.stringify(j))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((j,E)=>E(JSON.parse(j)));break;case VSN_2_0_0:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var IcebergError=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function buildUrl(e,t,n){const o=new URL(t,e);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function buildAuthHeaders(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function createFetchClient(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:u,headers:d}){const A=buildUrl(e.baseUrl,o,l),m=await buildAuthHeaders(e.auth),f=await t(A,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...m,...d},body:u?JSON.stringify(u):void 0}),g=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),b=v&&g?JSON.parse(g):g;if(!f.ok){const w=v?b:void 0,j=w?.error;throw new IcebergError(j?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:j?.type,icebergCode:j?.code,details:w})}return{status:f.status,headers:f.headers,data:b}}}}function namespaceToPath(e){return e.join("")}var NamespaceOperations=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:namespaceToPath(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath(e.namespace)}`}),!0}catch(t){if(t instanceof IcebergError&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof IcebergError&&n.status===409)return;throw n}}};function namespaceToPath2(e){return e.join("")}var TableOperations=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof IcebergError&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof IcebergError&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},IcebergRestCatalog=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=createFetchClient({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new NamespaceOperations(this.client,t),this.tableOps=new TableOperations(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},StorageError=class extends Error{constructor(e,t="storage",n,o){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=o}};function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var StorageApiError=class extends StorageError{constructor(e,t,n,o="storage"){super(e,o,t,n),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageUnknownError=class extends StorageError{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const resolveFetch$2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),isPlainObject$2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},recursiveToCamel=e=>{if(Array.isArray(e))return e.map(n=>recursiveToCamel(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=recursiveToCamel(o)}),t},isValidBucketName=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function _typeof$Q(e){"@babel/helpers - typeof";return _typeof$Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$Q(e)}function toPrimitive$1(e,t){if(_typeof$Q(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$Q(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toPropertyKey$1(e){var t=toPrimitive$1(e,"string");return _typeof$Q(t)=="symbol"?t:t+""}function _defineProperty$N(e,t,n){return(t=toPropertyKey$1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread2$2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$H(Object(n),!0).forEach(function(o){_defineProperty$N(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$H(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}const _getErrorMessage$1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},handleError$1=async(e,t,n,o)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const l=e,u=l.status||500;if(typeof l.json=="function")l.json().then(d=>{const A=d?.statusCode||d?.code||u+"";t(new StorageApiError(_getErrorMessage$1(d),u,A,o))}).catch(()=>{if(o==="vectors"){const d=u+"";t(new StorageApiError(l.statusText||`HTTP ${u} error`,u,d,o))}else{const d=u+"";t(new StorageApiError(l.statusText||`HTTP ${u} error`,u,d,o))}});else{const d=u+"";t(new StorageApiError(l.statusText||`HTTP ${u} error`,u,d,o))}}else t(new StorageUnknownError(_getErrorMessage$1(e),e,o))},_getRequestParams$1=(e,t,n,o)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!o?_objectSpread2$2(_objectSpread2$2({},l),n):(isPlainObject$2(o)?(l.headers=_objectSpread2$2({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(o)):l.body=o,t?.duplex&&(l.duplex=t.duplex),_objectSpread2$2(_objectSpread2$2({},l),n))};async function _handleRequest$1(e,t,n,o,l,u,d){return new Promise((A,m)=>{e(n,_getRequestParams$1(t,o,l,u)).then(f=>{if(!f.ok)throw f;if(o?.noResolveJson)return f;if(d==="vectors"){const g=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!g||!g.includes("application/json"))return{}}return f.json()}).then(f=>A(f)).catch(f=>handleError$1(f,m,o,d))})}function createFetchApi(e="storage"){return{get:async(t,n,o,l)=>_handleRequest$1(t,"GET",n,o,l,void 0,e),post:async(t,n,o,l,u)=>_handleRequest$1(t,"POST",n,l,u,o,e),put:async(t,n,o,l,u)=>_handleRequest$1(t,"PUT",n,l,u,o,e),head:async(t,n,o,l)=>_handleRequest$1(t,"HEAD",n,_objectSpread2$2(_objectSpread2$2({},o),{},{noResolveJson:!0}),l,void 0,e),remove:async(t,n,o,l,u)=>_handleRequest$1(t,"DELETE",n,l,u,o,e)}}const defaultApi=createFetchApi("storage"),{get:get$3,post:post$1,put,head,remove:remove$1}=defaultApi,vectorsApi=createFetchApi("vectors");var BaseApiClient=class{constructor(e,t={},n,o="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=resolveFetch$2(n),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}},StreamDownloadBuilder=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(isStorageError(t))return{data:null,error:t};throw t}}};let _Symbol$toStringTag;_Symbol$toStringTag=Symbol.toStringTag;var BlobDownloadBuilder=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_Symbol$toStringTag]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(isStorageError(t))return{data:null,error:t};throw t}}};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var StorageFileApi=class extends BaseApiClient{constructor(e,t={},n,o){super(e,t,o,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,o){var l=this;return l.handleOperation(async()=>{let u;const d=_objectSpread2$2(_objectSpread2$2({},DEFAULT_FILE_OPTIONS),o);let A=_objectSpread2$2(_objectSpread2$2({},l.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",l.encodeMetadata(m)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(m))):(u=n,A["cache-control"]=`max-age=${d.cacheControl}`,A["content-type"]=d.contentType,m&&(A["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),o?.headers&&(A=_objectSpread2$2(_objectSpread2$2({},A),o.headers));const f=l._removeEmptyFolders(t),g=l._getFinalPath(f),v=await(e=="PUT"?put:post$1)(l.fetch,`${l.url}/object/${g}`,u,_objectSpread2$2({headers:A},d?.duplex?{duplex:d.duplex}:{}));return{path:f,id:v.Id,fullPath:v.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,o){var l=this;const u=l._removeEmptyFolders(e),d=l._getFinalPath(u),A=new URL(l.url+`/object/upload/sign/${d}`);return A.searchParams.set("token",t),l.handleOperation(async()=>{let m;const f=_objectSpread2$2({upsert:DEFAULT_FILE_OPTIONS.upsert},o),g=_objectSpread2$2(_objectSpread2$2({},l.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",f.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",f.cacheControl)):(m=n,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{path:u,fullPath:(await put(l.fetch,A.toString(),m,{headers:g})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let o=n._getFinalPath(e);const l=_objectSpread2$2({},n.headers);t?.upsert&&(l["x-upsert"]="true");const u=await post$1(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(n.url+u.url),A=d.searchParams.get("token");if(!A)throw new StorageError("No token returned by API");return{signedUrl:d.toString(),path:e,token:A}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var o=this;return o.handleOperation(async()=>await post$1(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:o.headers}))}async copy(e,t,n){var o=this;return o.handleOperation(async()=>({path:(await post$1(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(e,t,n){var o=this;return o.handleOperation(async()=>{let l=o._getFinalPath(e),u=await post$1(o.fetch,`${o.url}/object/sign/${l}`,_objectSpread2$2({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:o.headers});const d=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${o.url}${u.signedURL}${d}`)}})}async createSignedUrls(e,t,n){var o=this;return o.handleOperation(async()=>{const l=await post$1(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:e},{headers:o.headers}),u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l.map(d=>_objectSpread2$2(_objectSpread2$2({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${u}`):null}))})}download(e,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"",u=this._getFinalPath(e),d=()=>get$3(this.fetch,`${this.url}/${n}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(d,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>recursiveToCamel(await get$3(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await head(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(isStorageError(o)&&o instanceof StorageUnknownError){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}}getPublicUrl(e,t){const n=this._getFinalPath(e),o=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&o.push(l);const u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&o.push(d);let A=o.join("&");return A!==""&&(A=`?${A}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${A}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await remove$1(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var o=this;return o.handleOperation(async()=>{const l=_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},DEFAULT_SEARCH_OPTIONS),t),{},{prefix:e||""});return await post$1(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const o=_objectSpread2$2({},e);return await post$1(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const version$3="2.94.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$3}`};var StorageBucketApi=class extends BaseApiClient{constructor(e,t={},n,o){const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const u=l.href.replace(/\/$/,""),d=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),t);super(u,d,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await get$3(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await get$3(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await post$1(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await put(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await post$1(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await remove$1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},StorageAnalyticsClient=class extends BaseApiClient{constructor(e,t={},n){const o=e.replace(/\/$/,""),l=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),t);super(o,l,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await post$1(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const o=n.toString(),l=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return await get$3(t.fetch,l,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await remove$1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!isValidBucketName(e))throw new StorageError("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new IcebergRestCatalog({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(l,u){const d=l[u];return typeof d!="function"?d:async(...A)=>{try{return{data:await d.apply(l,A),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}},VectorIndexApi=class extends BaseApiClient{constructor(e,t={},n){const o=e.replace(/\/$/,""),l=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),{},{"Content-Type":"application/json"},t);super(o,l,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await vectorsApi.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await vectorsApi.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},VectorDataApi=class extends BaseApiClient{constructor(e,t={},n){const o=e.replace(/\/$/,""),l=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),{},{"Content-Type":"application/json"},t);super(o,l,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},VectorBucketApi=class extends BaseApiClient{constructor(e,t={},n){const o=e.replace(/\/$/,""),l=_objectSpread2$2(_objectSpread2$2({},DEFAULT_HEADERS$2),{},{"Content-Type":"application/json"},t);super(o,l,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vectorsApi.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},StorageVectorsClient=class extends VectorBucketApi{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new VectorBucketScope(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},VectorBucketScope=class extends VectorIndexApi{constructor(e,t,n,o){super(e,t,o),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,_objectSpread2$2(_objectSpread2$2({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,_objectSpread2$2(_objectSpread2$2({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},VectorIndexScope=class extends VectorDataApi{constructor(e,t,n,o,l){super(e,t,l),this.vectorBucketName=n,this.indexName=o}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,_objectSpread2$2(_objectSpread2$2({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,_objectSpread2$2(_objectSpread2$2({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,_objectSpread2$2(_objectSpread2$2({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,_objectSpread2$2(_objectSpread2$2({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,_objectSpread2$2(_objectSpread2$2({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},StorageClient=class extends StorageBucketApi{constructor(e,t={},n,o){super(e,t,n,o)}from(e){return new StorageFileApi(this.url,this.headers,e,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsClient(this.url+"/iceberg",this.headers,this.fetch)}};const version$2="2.94.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY$1="supabase.auth.token",DEFAULT_HEADERS$1={"X-Client-Info":`gotrue-js/${version$2}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=600*1e3;class AuthError extends Error{constructor(t,n,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(t,n,o){super(t,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class CustomAuthError extends AuthError{constructor(t,n,o,l){super(t,o,l),this.name=n,this.status=o}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(e){return isAuthError(e)&&e.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(e){return isAuthError(e)&&e.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCECodeVerifierMissingError extends CustomAuthError{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AuthRetryableFetchError extends CustomAuthError{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function isAuthRetryableFetchError(e){return isAuthError(e)&&e.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(t,n,o){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class AuthInvalidJwtError extends CustomAuthError{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<IGNORE_BASE64URL.length;t+=1)e[IGNORE_BASE64URL[t].charCodeAt(0)]=-2;for(let t=0;t<TO_BASE64URL.length;t+=1)e[TO_BASE64URL[t].charCodeAt(0)]=t;return e})();function byteToBase64URL(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(TO_BASE64URL[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;n(TO_BASE64URL[o]),t.queuedBits-=6}}function byteFromBase64URL(e,t,n){const o=FROM_BASE64URL[e];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function stringFromBase64URL(e){const t=[],n=d=>{t.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{stringFromUTF8(d,o,n)};for(let d=0;d<e.length;d+=1)byteFromBase64URL(e.charCodeAt(d),l,u);return t.join("")}function codepointToUTF8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function stringToUTF8(e,t){for(let n=0;n<e.length;n+=1){let o=e.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(e.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}codepointToUTF8(o,t)}}function stringFromUTF8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let o=1;o<6;o+=1)if((e>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function base64UrlToUint8Array(e){const t=[],n={queue:0,queuedBits:0},o=l=>{t.push(l)};for(let l=0;l<e.length;l+=1)byteFromBase64URL(e.charCodeAt(l),n,o);return new Uint8Array(t)}function stringToUint8Array(e){const t=[];return stringToUTF8(e,n=>t.push(n)),new Uint8Array(t)}function bytesToBase64URL(e){const t=[],n={queue:0,queuedBits:0},o=l=>{t.push(l)};return e.forEach(l=>byteToBase64URL(l,n,o)),byteToBase64URL(null,n,o),t.join("")}function expiresAt(e){return Math.round(Date.now()/1e3)+e}function generateCallbackId(){return Symbol("auth-callback")}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{t[l]=o}),t}const resolveFetch$1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},getItemAsync=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},removeItemAsync=async(e,t)=>{await e.removeItem(t)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Deferred.promiseConstructor=Promise;function decodeJWT(e){const t=e.split(".");if(t.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!BASE64URL_REGEX.test(t[o]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(t[0])),payload:JSON.parse(stringFromBase64URL(t[1])),signature:base64UrlToUint8Array(t[2]),raw:{header:t[0],payload:t[1]}}}async function sleep$1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function retryable(e,t){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await e(u);if(!t(u,null,d)){o(d);return}}catch(d){if(!t(u,d)){l(d);return}}})()})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(t),Array.from(t,dec2hex).join("")}async function sha256(e){const n=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function generatePKCEChallenge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sha256(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(e,t,n=!1){const o=generatePKCEVerifier();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await setItemAsync(e,`${t}-code-verifier`,l);const u=await generatePKCEChallenge(o);return[u,o===u?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(e){const t=e.headers.get(API_VERSION_HEADER_NAME);if(!t||!t.match(API_VERSION_REGEX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function validateExp(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function getAlgorithm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(e){if(!UUID_REGEX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(e,t){return new Proxy(e,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,o,l)}})}function deepClone(e){return JSON.parse(JSON.stringify(e))}const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NETWORK_ERROR_CODES=[502,503,504];async function handleError(e){var t;if(!looksLikeFetchResponse(e))throw new AuthRetryableFetchError(_getErrorMessage(e),0);if(NETWORK_ERROR_CODES.includes(e.status))throw new AuthRetryableFetchError(_getErrorMessage(e),e.status);let n;try{n=await e.json()}catch(u){throw new AuthUnknownError(_getErrorMessage(u),u)}let o;const l=parseResponseAPIVersion(e);if(l&&l.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new AuthSessionMissingError}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(n),e.status,n.weak_password.reasons);throw new AuthApiError(_getErrorMessage(n),e.status||500,o)}const _getRequestParams=(e,t,n,o)=>{const l={method:e,headers:t?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function _request(e,t,n,o){var l;const u=Object.assign({},o?.headers);u[API_VERSION_HEADER_NAME]||(u[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const A=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await _handleRequest(e,t,n+A,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function _handleRequest(e,t,n,o,l,u){const d=_getRequestParams(t,o,l,u);let A;try{A=await e(n,Object.assign({},d))}catch(m){throw console.error(m),new AuthRetryableFetchError(_getErrorMessage(m),0)}if(A.ok||await handleError(A),o?.noResolveJson)return A;try{return await A.json()}catch(m){await handleError(m)}}function _sessionResponse(e){var t;let n=null;hasSession(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=expiresAt(e.expires_in)));const o=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:o},error:null}}function _sessionResponsePassword(e){const t=_sessionResponse(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _userResponse(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:t,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=e,d=__rest(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:t,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:A,user:m},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:t="",headers:n={},fetch:o}){this.url=t,this.headers=n,this.fetch=resolveFetch$1(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,n={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:n}=t,o=__rest(t,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:_generateLinkResponse,redirectTo:n?.redirectTo})}catch(n){if(isAuthError(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,o,l,u,d,A,m;try{const f={nextPage:null,lastPage:0,total:0},g=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:_noResolveJsonResponse});if(g.error)throw g.error;const v=await g.json(),b=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(A=g.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(j.split(";")[1].split("=")[1]);f[`${R}Page`]=E}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(isAuthError(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){validateUUID(t);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){validateUUID(t);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,n=!1){validateUUID(t);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){validateUUID(t.userId);try{const{data:n,error:o}=await _request(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _deleteFactor(t){validateUUID(t.userId),validateUUID(t.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,o,l,u,d,A,m;try{const f={nextPage:null,lastPage:0,total:0},g=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:_noResolveJsonResponse});if(g.error)throw g.error;const v=await g.json(),b=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(A=g.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(j.split(";")[1].split("=")[1]);f[`${R}Page`]=E}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(isAuthError(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}}function memoryLocalStorageAdapter(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(e,t,n){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await n()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(t===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(internals.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fromHex(e){return parseInt(e,16)}function toHex(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function createSiweMessage(e){var t;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:A,requestId:m,resources:f,scheme:g,uri:v,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=getAddress(e.address),j=g?`${g}://${o}`:o,E=e.statement?`${e.statement}
`:"",R=`${j} wants you to sign in with your Ethereum account:
${w}

${E}`;let _=`URI: ${v}
Version: ${b}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(_+=`
Expiration Time: ${l.toISOString()}`),A&&(_+=`
Not Before: ${A.toISOString()}`),m&&(_+=`
Request ID: ${m}`),f){let N=`
Resources:`;for(const B of f){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);N+=`
- ${B}`}_+=N}return`${R}
${_}`}class WebAuthnError extends Error{constructor({message:t,code:n,cause:o,name:l}){var u;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class WebAuthnUnknownError extends WebAuthnError{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function identifyRegistrationError({error:e,options:t}){var n,o,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new WebAuthnError({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return u.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const d=window.location.hostname;if(isValidDomain(d)){if(u.rp.id!==d)return new WebAuthnError({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function identifyAuthenticationError({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new WebAuthnError({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(isValidDomain(o)){if(n.rpId!==o)return new WebAuthnError({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:o}=e,l=__rest(e,["challenge","user","excludeCredentials"]),u=base64UrlToUint8Array(t).buffer,d=Object.assign(Object.assign({},n),{id:base64UrlToUint8Array(n.id).buffer}),A=Object.assign(Object.assign({},l),{challenge:u,user:d});if(o&&o.length>0){A.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const f=o[m];A.excludeCredentials[m]=Object.assign(Object.assign({},f),{id:base64UrlToUint8Array(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return A}function deserializeCredentialRequestOptions(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,o=__rest(e,["challenge","allowCredentials"]),l=base64UrlToUint8Array(t).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const A=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},A),{id:base64UrlToUint8Array(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return u}function serializeCredentialCreationResponse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(e.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function serializeCredentialRequestResponse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,o=e.getClientExtensionResults(),l=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(l.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(l.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(l.signature)),userHandle:l.userHandle?bytesToBase64URL(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function isValidDomain(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function browserSupportsWebAuthn(){var e,t;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function createCredential(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",t)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",t)}}catch(t){return{data:null,error:identifyRegistrationError({error:t,options:e})}}}async function getCredential(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",t)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",t)}}catch(t){return{data:null,error:identifyAuthenticationError({error:t,options:e})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function deepMerge(...e){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of e)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))o[u]=d;else if(n(d))o[u]=d;else if(t(d)){const A=o[u];t(A)?o[u]=deepMerge(A,d):o[u]=deepMerge(d)}else o[u]=d}return o}function mergeCredentialCreationOptions(e,t){return deepMerge(DEFAULT_CREATION_OPTIONS,e,t||{})}function mergeCredentialRequestOptions(e,t){return deepMerge(DEFAULT_REQUEST_OPTIONS,e,t||{})}class WebAuthnApi{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:o,signal:l},u){var d;try{const{data:A,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!A)return{data:null,error:m};const f=l??webAuthnAbortService.createNewAbortSignal();if(A.webauthn.type==="create"){const{user:g}=A.webauthn.credential_options.publicKey;if(!g.name){const v=o;if(v)g.name=`${g.id}:${v}`;else{const w=(await this.client.getUser()).data.user,j=((d=w?.user_metadata)===null||d===void 0?void 0:d.name)||w?.email||w?.id||"User";g.name=`${g.id}:${j}`}}g.displayName||(g.displayName=g.name)}switch(A.webauthn.type){case"create":{const g=mergeCredentialCreationOptions(A.webauthn.credential_options.publicKey,u?.create),{data:v,error:b}=await createCredential({publicKey:g,signal:f});return v?{data:{factorId:t,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const g=mergeCredentialRequestOptions(A.webauthn.credential_options.publicKey,u?.request),{data:v,error:b}=await getCredential(Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:g,signal:f}));return v?{data:{factorId:t,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(A){return isAuthError(A)?{data:null,error:A}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",A)}}}async _verify({challengeId:t,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:d,error:A}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!d)return{data:null,error:A};const{webauthn:m}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(d){return isAuthError(d)?{data:null,error:d}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:d,error:A}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:A};const{data:m,error:f}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:f}}catch(d){return isAuthError(d)?{data:null,error:d}:{data:null,error:new AuthUnknownError("Unexpected error in register",d)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY$1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS$1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function lockNoOp(e,t,n){return await n()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var t,n;return(n=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:t})}constructor(t){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},DEFAULT_OPTIONS),t);if(this.storageKey=u.storageKey,this.instanceID=(n=GoTrueClient.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,GoTrueClient.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&isBrowser()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new GoTrueAdminApi({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=resolveFetch$1(u.fetch),this.lock=u.lock||lockNoOp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&isBrowser()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(A){this._debug("#broadcastChannel","error",A)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${version$2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},o="none";if(isBrowser()&&(n=parseParametersFromURL(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),isBrowser()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),isAuthImplicitGrantRedirectError(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:A}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",A),await this._saveSession(d),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return isAuthError(n)?this._returnResult({error:n}):this._returnResult({error:new AuthUnknownError("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,o,l;try{const u=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:_sessionResponse}),{data:d,error:A}=u;if(A||!d)return this._returnResult({data:{user:null,session:null},error:A});const m=d.session,f=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:f,session:m},error:null})}catch(u){if(isAuthError(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var n,o,l;try{let u;if("email"in t){const{email:g,password:v,options:b}=t;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),u=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:v,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:j},xform:_sessionResponse})}else if("phone"in t){const{phone:g,password:v,options:b}=t;u=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(o=b?.data)!==null&&o!==void 0?o:{},channel:(l=b?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:d,error:A}=u;if(A||!d)return await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const m=d.session,f=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:f,session:m},error:null})}catch(u){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:d,options:A}=t;n=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in t){const{phone:u,password:d,options:A}=t;n=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,o,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,o,l,u,d,A,m,f,g,v,b;let w,j;if("message"in t)w=t.message,j=t.signature;else{const{chain:E,wallet:R,statement:_,options:N}=t;let B;if(isBrowser())if(typeof R=="object")B=R;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")B=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=R}const M=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href),O=await B.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=getAddress(O[0]);let $=(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!$){const se=await B.request({method:"eth_chainId"});$=fromHex(se)}const z={domain:M.host,address:F,statement:_,uri:M.href,version:"1",chainId:$,nonce:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(A=N?.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=createSiweMessage(z),j=await B.request({method:"personal_sign",params:[toHex(w),F]})}try{const{data:E,error:R}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:_sessionResponse});if(R)throw R;if(!E||!E.session||!E.user){const _=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:_})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:R})}catch(E){if(isAuthError(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,o,l,u,d,A,m,f,g,v,b,w;let j,E;if("message"in t)j=t.message,E=t.signature;else{const{chain:R,wallet:_,statement:N,options:B}=t;let M;if(isBrowser())if(typeof _=="object")M=_;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))M=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=_}const O=new URL((n=B?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const F=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),N?{statement:N}:null));let $;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")$=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)$=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)j=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),E=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${O.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(l=(o=B?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=B?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((d=B?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((A=B?.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((v=(g=B?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...B.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const F=await M.signMessage(new TextEncoder().encode(j),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=F}}try{const{data:R,error:_}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:bytesToBase64URL(E)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:_sessionResponse});if(_)throw _;if(!R||!R.session||!R.user){const N=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:N})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:_})}catch(R){if(isAuthError(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const n=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new AuthPKCECodeVerifierMissingError;const{data:u,error:d}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const A=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:n,provider:o,token:l,access_token:u,nonce:d}=t,A=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:_sessionResponse}),{data:m,error:f}=A;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!m||!m.session||!m.user){const g=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:f})}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,o,l,u,d;try{if("email"in t){const{email:A,options:m}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:v}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:A,options:m}=t,{data:f,error:g}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(A){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(t){var n,o;try{let l,u;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:A}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:_sessionResponse});if(A)throw A;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,f=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:f,session:m},error:null})}catch(l){if(isAuthError(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var n,o,l,u,d;try{let A=null,m=null;this.flowType==="pkce"&&([A,m]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const f=await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:m}),headers:this.headers,xform:_ssoResponse});return!((u=f.data)===null||u===void 0)&&u.url&&isBrowser()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(A){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;if(o)throw o;if(!n)throw new AuthSessionMissingError;const{error:l}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(isAuthError(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:o,type:l,options:u}=t,{error:d}=await _request(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:o,type:l,options:u}=t,{data:d,error:A}=await _request(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:A})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const d=await getItemAsync(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=userNotAvailableProxy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=insecureUserWarningProxy(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_userResponse}):await this._useSession(async n=>{var o,l,u;const{data:d,error:A}=n;if(A)throw A;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:_userResponse})})}catch(n){if(isAuthError(n))return isAuthSessionMissingError(n)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new AuthSessionMissingError;const d=l.session;let A=null,m=null;this.flowType==="pkce"&&t.email!=null&&([A,m]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:f,error:g}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:A,code_challenge_method:m}),jwt:d.access_token,xform:_userResponse});if(g)throw g;return d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new AuthSessionMissingError;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:d}=decodeJWT(t.access_token);if(d.exp&&(o=d.exp,l=o<=n),l){const{data:A,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!A)return{data:{user:null,session:null},error:null};u=A}else{const{data:A,error:m}=await this._getUser(t.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:t.access_token,refresh_token:t.refresh_token,user:A.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(isAuthError(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var o;if(!t){const{data:d,error:A}=n;if(A)throw A;t=(o=d.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new AuthSessionMissingError;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(t.error||t.error_description||t.error_code)throw new AuthImplicitGrantRedirectError(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:N,error:B}=await this._exchangeCodeForSession(t.code);if(B)throw B;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:A,expires_at:m,token_type:f}=t;if(!u||!A||!d||!f)throw new AuthImplicitGrantRedirectError("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(A);let b=g+v;m&&(b=parseInt(m));const w=b-g;w*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const j=b-v;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,g);const{data:E,error:R}=await this._getUser(u);if(R)throw R;const _={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:v,expires_at:b,refresh_token:d,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(o){if(isAuthError(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u&&!isAuthSessionMissingError(u))return this._returnResult({error:u});const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:A}=await this.admin.signOut(d,t);if(A&&!(isAuthApiError(A)&&(A.status===404||A.status===401||A.status===403)||isAuthSessionMissingError(A)))return this._returnResult({error:A})}return t!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=generateCallbackId(),o={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var d,A,m,f,g;const{data:v,error:b}=u;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(A=t.options)===null||A===void 0?void 0:A.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return isBrowser()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:t.provider,url:o?.url},error:null})}catch(o){if(isAuthError(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:A,token:m,access_token:f,nonce:g}=t,v=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:A,id_token:m,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:_sessionResponse}),{data:b,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new AuthInvalidTokenResponseError}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:w}))}catch(l){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)throw d;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await retryable(async l=>(l>0&&await sleep$1(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_sessionResponse})),(l,u)=>{const d=200*Math.pow(2,l);return u&&isAuthRetryableFetchError(u)&&Date.now()+d-o<AUTO_REFRESH_TICK_DURATION_MS})}catch(o){if(this._debug(n,"error",o),isAuthError(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",o),isBrowser()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await getItemAsync(this.storage,this.storageKey);if(l&&this.userStorage){let d=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await setItemAsync(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d?.user)!==null&&t!==void 0?t:userNotAvailableProxy()}else if(l&&!l.user&&!l.user){const d=await getItemAsync(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,l)):l.user=userNotAvailableProxy()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),isAuthRetryableFetchError(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:A}=await this._getUser(l.access_token);!A&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var n,o;if(!t)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Deferred;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new AuthSessionMissingError;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const A={data:u.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(u){if(this._debug(l,"error",u),isAuthError(u)){const d={data:null,error:u};return isAuthRetryableFetchError(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,o=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(t,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let A=0;A<u.length;A+=1)console.error(u[A]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=deepClone(l);await setItemAsync(this.storage,this.storageKey,u)}else{const l=deepClone(n);await setItemAsync(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&isBrowser()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-t)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),l<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await getCodeChallengeAndMethod(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(A.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await _request(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var o,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const A=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:f}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?serializeCredentialCreationResponse(t.webauthn.credential_response):serializeCredentialRequestResponse(t.webauthn.credential_response)})}:{code:t.code}),{data:A,error:m}=await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:m}))})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:A}=d;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=n?.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,o,l,u;if(t)try{const{payload:w}=decodeJWT(t);let j=null;w.aal&&(j=w.aal);let E=j;const{data:{user:R},error:_}=await this.getUser(t);if(_)return this._returnResult({data:null,error:_});((o=(n=R?.factors)===null||n===void 0?void 0:n.filter(M=>M.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(E="aal2");const B=w.amr||[];return{data:{currentLevel:j,nextLevel:E,currentAuthenticationMethods:B},error:null}}catch(w){if(isAuthError(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:d},error:A}=await this.getSession();if(A)return this._returnResult({data:null,error:A});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=decodeJWT(d.access_token);let f=null;m.aal&&(f=m.aal);let g=f;((u=(l=d.user.factors)===null||l===void 0?void 0:l.filter(w=>w.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(g="aal2");const b=m.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new AuthSessionMissingError});const d=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return d.data&&d.data.redirect_url&&isBrowser()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new AuthSessionMissingError});const d=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return d.data&&d.data.redirect_url&&isBrowser()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;return o?this._returnResult({data:null,error:o}):n?await _request(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(t){if(isAuthError(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await _request(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let o=n.keys.find(A=>A.kid===t);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(A=>A.kid===t),o&&this.jwks_cached_at+JWKS_TTL>l)return o;const{data:u,error:d}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(A=>A.kid===t),!o)?null:o}async getClaims(t,n={}){try{let o=t;if(!o){const{data:w,error:j}=await this.getSession();if(j||!w.session)return this._returnResult({data:null,error:j});o=w.session.access_token}const{header:l,payload:u,signature:d,raw:{header:A,payload:m}}=decodeJWT(o);n?.allowExpired||validateExp(u.exp);const f=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:w}=await this.getUser(o);if(w)throw w;return{data:{claims:u,header:l,signature:d},error:null}}const g=getAlgorithm(l.alg),v=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,d,stringToUint8Array(`${A}.${m}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}}GoTrueClient.nextInstanceID={};const AuthClient=GoTrueClient,version$1="2.94.1";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};function _typeof$P(e){"@babel/helpers - typeof";return _typeof$P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$P(e)}function toPrimitive(e,t){if(_typeof$P(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$P(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toPropertyKey(e){var t=toPrimitive(e,"string");return _typeof$P(t)=="symbol"?t:t+""}function _defineProperty$M(e,t,n){return(t=toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread2$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$G(Object(n),!0).forEach(function(o){_defineProperty$M(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$G(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}const resolveFetch=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),resolveHeadersConstructor=()=>Headers,fetchWithAuth=(e,t,n)=>{const o=resolveFetch(n),l=resolveHeadersConstructor();return async(u,d)=>{var A;const m=(A=await t())!==null&&A!==void 0?A:e;let f=new l(d?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${m}`),o(u,_objectSpread2$1(_objectSpread2$1({},d),{},{headers:f}))}};function ensureTrailingSlash(e){return e.endsWith("/")?e:e+"/"}function applySettingDefaults(e,t){var n,o;const{db:l,auth:u,realtime:d,global:A}=e,{db:m,auth:f,realtime:g,global:v}=t,b={db:_objectSpread2$1(_objectSpread2$1({},m),l),auth:_objectSpread2$1(_objectSpread2$1({},f),u),realtime:_objectSpread2$1(_objectSpread2$1({},g),d),storage:{},global:_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},v),A),{},{headers:_objectSpread2$1(_objectSpread2$1({},(n=v?.headers)!==null&&n!==void 0?n:{}),(o=A?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function validateSupabaseUrl(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SupabaseAuthClient=class extends AuthClient{constructor(e){super(e)}},SupabaseClient=class{constructor(e,t,n){var o,l;this.supabaseUrl=e,this.supabaseKey=t;const u=validateSupabaseUrl(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,A={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:_objectSpread2$1(_objectSpread2$1({},DEFAULT_AUTH_OPTIONS),{},{storageKey:d}),global:DEFAULT_GLOBAL_OPTIONS},m=applySettingDefaults(n??{},A);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=m.auth)!==null&&f!==void 0?f:{},this.headers,m.global.fetch)}this.fetch=fetchWithAuth(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(_objectSpread2$1({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new PostgrestClient(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:o}=await e.auth.getSession();return(t=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:u,flowType:d,lock:A,debug:m,throwOnError:f},g,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:_objectSpread2$1(_objectSpread2$1({},b),g),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:l,flowType:d,lock:A,debug:m,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new RealtimeClient(this.realtimeUrl.href,_objectSpread2$1(_objectSpread2$1({},e),{},{params:_objectSpread2$1(_objectSpread2$1({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const createClient=(e,t,n)=>new SupabaseClient(e,t,n);function shouldShowDeprecationWarning(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const projectId="xfwnjocfdvuocvwjopke",publicAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhmd25qb2NmZHZ1b2N2d2pvcGtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3NDgwODIsImV4cCI6MjA1ODMyNDA4Mn0.gZLl8dXJxpZxzIxmkMEiHilUDUWQLwBwlDfnlTt-cl8",supabase=createClient(`https://${projectId}.supabase.co`,publicAnonKey),AuthContext=reactExports.createContext(void 0);function mapUserTypeToRole(e){return e==="teacher"||e==="student"||e==="parent"||e==="admin"?e:"student"}function parsePreferences(e){if(e&&typeof e=="object"&&!Array.isArray(e)){const t=e;return{grade:typeof t.grade=="string"?t.grade:void 0,interests:Array.isArray(t.interests)?t.interests.filter(n=>typeof n=="string"):void 0,defaultGrade:typeof t.defaultGrade=="string"?t.defaultGrade:void 0,defaultSubject:typeof t.defaultSubject=="string"?t.defaultSubject:void 0,notifications:t.notifications&&typeof t.notifications=="object"&&!Array.isArray(t.notifications)?t.notifications:void 0}}return{}}async function loadProfileFromSupabase(e,t){const{data:n}=await supabase.from("profiles").select("id, name, user_type, preferences, tenant_id").eq("id",e).maybeSingle();if(n){const l=parsePreferences(n.preferences);return{user:{id:n.id,email:t,name:n.name??t.split("@")[0],grade:l.grade??"",interests:l.interests??[],role:mapUserTypeToRole(n.user_type),tenantId:n.tenant_id??void 0},preferences:l}}const{data:o}=await supabase.from("admin_users").select("name").eq("user_id",e).eq("active",!0).maybeSingle();return o?{user:{id:e,email:t,name:o.name??t.split("@")[0],grade:"",interests:[],role:"admin",tenantId:"tenant_cn_bamboo"},preferences:{}}:null}function AuthProvider({children:e}){const[t,n]=reactExports.useState(null),[o,l]=reactExports.useState({}),[u,d]=reactExports.useState(!0),A=R=>{R?(n(R.user),l(R.preferences),typeof window<"u"&&(R.user.tenantId?localStorage.setItem("runtimeTenantId",R.user.tenantId):localStorage.removeItem("runtimeTenantId"))):(n(null),l({}),typeof window<"u"&&localStorage.removeItem("runtimeTenantId"))},m=R=>({id:R.id,email:R.email??"",name:R.user_metadata?.full_name??R.email?.split("@")[0]??"",grade:"",interests:[],role:"student"});reactExports.useEffect(()=>{let _=!1;const N=async()=>{try{const{data:{session:O}}=await supabase.auth.getSession();if(_)return;if(O?.user){const F=await loadProfileFromSupabase(O.user.id,O.user.email??"");if(_)return;F?A(F):(n(m(O.user)),l({}))}else n(null),l({})}catch(O){console.error("[Auth] Error initializing auth:",O),n(null),l({})}finally{_||(_=!0,d(!1))}},B=setTimeout(()=>{_||(_=!0,console.warn("[Auth] åˆå§‹åŒ–è¶…æ—¶(8s)ï¼Œå¼ºåˆ¶ç»“æŸ loading"),d(!1),n(null),l({}))},8e3);N();const{data:{subscription:M}}=supabase.auth.onAuthStateChange((O,F)=>{O==="SIGNED_OUT"?(n(null),l({})):F?.user&&loadProfileFromSupabase(F.user.id,F.user.email??"").then($=>{$?A($):(n(m(F.user)),l({}))}).catch($=>console.error("[Auth] onAuthStateChange åŠ è½½ profile å¤±è´¥:",$))});return()=>{clearTimeout(B),M.unsubscribe()}},[]);const f=async(R,_,N)=>{const{data:B,error:M}=await supabase.auth.signInWithPassword({email:R,password:_});if(M)throw new Error(M.message||"ç™»å½•å¤±è´¥");const O=await loadProfileFromSupabase(B.user.id,B.user.email??"");O?A(O):(n(m(B.user)),l({}))},g=async(R,_,N,B)=>{const{data:M,error:O}=await supabase.auth.signUp({email:R,password:_,options:{data:{full_name:N,user_type:B}}});if(O)throw new Error(O.message||"æ³¨å†Œå¤±è´¥");if(M.user){const{error:F}=await supabase.from("profiles").upsert({id:M.user.id,name:N,user_type:B,updated_at:new Date().toISOString()},{onConflict:"id"});F&&console.warn("Profile upsert failed (trigger may handle it):",F),n({id:M.user.id,email:M.user.email??"",name:N,grade:"",interests:[],role:B})}},v=async()=>{await supabase.auth.signOut(),n(null)},b=async(R,_)=>{t&&(await w({grade:R,interests:_}),n(N=>N?{...N,grade:R,interests:_}:null))},w=async R=>{if(!t)return;const _={...o,...R,notifications:{...o.notifications,...R.notifications}},{error:N}=await supabase.from("profiles").update({preferences:_,updated_at:new Date().toISOString()}).eq("id",t.id);if(N)throw new Error(N.message||"ä¿å­˜å¤±è´¥");l(_),(R.grade!==void 0||R.interests!==void 0)&&n(B=>B?{...B,grade:_.grade??B.grade,interests:_.interests??B.interests}:null)},j=async R=>{const{error:_}=await supabase.auth.updateUser({password:R});if(_)throw new Error(_.message||"ä¿®æ”¹å¯†ç å¤±è´¥")},E=async R=>{const{error:_}=await supabase.auth.resetPasswordForEmail(R,{redirectTo:`${typeof window<"u"?window.location.origin:""}/reset-password`});if(_)throw new Error(_.message||"å‘é€é‡ç½®é‚®ä»¶å¤±è´¥")};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:t,preferences:o,loading:u,login:f,register:g,logout:v,resetPasswordForEmail:E,updateUserPreferences:b,updateProfilePreferences:w,changePassword:j},children:e})}function useAuth(){const e=reactExports.useContext(AuthContext);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const STORAGE_KEY="siteFontSize",FontSizeContext=reactExports.createContext(void 0);function FontSizeProvider({children:e}){const[t,n]=reactExports.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem(STORAGE_KEY);if(l==="s"||l==="m"||l==="l")return l}return"m"}),o=l=>{n(l),typeof window<"u"&&(localStorage.setItem(STORAGE_KEY,l),document.documentElement.setAttribute("data-font-size",l))};return reactExports.useEffect(()=>{document.documentElement.setAttribute("data-font-size",t)},[t]),jsxRuntimeExports.jsx(FontSizeContext.Provider,{value:{fontSize:t,setFontSize:o},children:e})}function useFontSize(){const e=reactExports.useContext(FontSizeContext);if(!e)throw new Error("useFontSize must be used within FontSizeProvider");return e}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase()),toPascalCase=e=>{const t=toCamelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:d,...A},m)=>reactExports.createElement("svg",{ref:m,...defaultAttributes,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:mergeClasses("lucide",l),...A},[...d.map(([f,g])=>reactExports.createElement(f,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,t)=>{const n=reactExports.forwardRef(({className:o,...l},u)=>reactExports.createElement(Icon$1,{ref:u,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,o),...l}));return n.displayName=toPascalCase(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1y=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Activity=createLucideIcon("activity",__iconNode$1y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1x=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$1x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$1w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1v=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$1v);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1u=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("bell",__iconNode$1u);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1t=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$1t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1s=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Brain=createLucideIcon("brain",__iconNode$1s);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1r=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$1r);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1q=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$1q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1p=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$1p);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1o=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$1o);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1n=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$1n);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1m=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$1m);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1l=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$1l);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$1k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1j=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$1j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1i=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$1i);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1h=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleHelp=createLucideIcon("circle-help",__iconNode$1h);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1g=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],CirclePlus=createLucideIcon("circle-plus",__iconNode$1g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$1f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Clock=createLucideIcon("clock",__iconNode$1e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1d=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],Computer=createLucideIcon("computer",__iconNode$1d);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1c=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$1c);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Download=createLucideIcon("download",__iconNode$1b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$1a);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$19);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],FileQuestion=createLucideIcon("file-question",__iconNode$18);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$17);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],FlaskConical=createLucideIcon("flask-conical",__iconNode$16);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Funnel=createLucideIcon("funnel",__iconNode$15);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Gamepad2=createLucideIcon("gamepad-2",__iconNode$14);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],GitBranch=createLucideIcon("git-branch",__iconNode$13);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$12);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],GraduationCap=createLucideIcon("graduation-cap",__iconNode$11);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],HeartHandshake=createLucideIcon("heart-handshake",__iconNode$10);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Heart=createLucideIcon("heart",__iconNode$$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],House=createLucideIcon("house",__iconNode$_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],IdCard=createLucideIcon("id-card",__iconNode$Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image$2=createLucideIcon("image",__iconNode$Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("layout-dashboard",__iconNode$W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lightbulb=createLucideIcon("lightbulb",__iconNode$V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Link2=createLucideIcon("link-2",__iconNode$U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link=createLucideIcon("link",__iconNode$T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],ListOrdered=createLucideIcon("list-ordered",__iconNode$S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],List$1=createLucideIcon("list",__iconNode$R);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],LogIn=createLucideIcon("log-in",__iconNode$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],LogOut=createLucideIcon("log-out",__iconNode$O);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mail=createLucideIcon("mail",__iconNode$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Map$1=createLucideIcon("map",__iconNode$L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Maximize=createLucideIcon("maximize",__iconNode$K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],MessageSquare=createLucideIcon("message-square",__iconNode$I);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Mic=createLucideIcon("mic",__iconNode$H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],Microscope=createLucideIcon("microscope",__iconNode$G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Minimize2=createLucideIcon("minimize-2",__iconNode$F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],MousePointerClick=createLucideIcon("mouse-pointer-click",__iconNode$E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Move=createLucideIcon("move",__iconNode$D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Network=createLucideIcon("network",__iconNode$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Pause=createLucideIcon("pause",__iconNode$B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],PenTool=createLucideIcon("pen-tool",__iconNode$A);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pen=createLucideIcon("pen",__iconNode$z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=createLucideIcon("pencil",__iconNode$y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Play=createLucideIcon("play",__iconNode$x);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Presentation=createLucideIcon("presentation",__iconNode$v);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],RefreshCcw=createLucideIcon("refresh-ccw",__iconNode$u);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("refresh-cw",__iconNode$t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Repeat=createLucideIcon("repeat",__iconNode$s);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$r);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Search=createLucideIcon("search",__iconNode$p);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$o);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings$1=createLucideIcon("settings",__iconNode$n);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("share-2",__iconNode$m);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$l);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],SkipBack=createLucideIcon("skip-back",__iconNode$k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],SkipForward=createLucideIcon("skip-forward",__iconNode$j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Sparkles=createLucideIcon("sparkles",__iconNode$i);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$h);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Ticket=createLucideIcon("ticket",__iconNode$e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("trash-2",__iconNode$d);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],TrendingDown=createLucideIcon("trending-down",__iconNode$c);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Trophy=createLucideIcon("trophy",__iconNode$a);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Type=createLucideIcon("type",__iconNode$9);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Upload=createLucideIcon("upload",__iconNode$8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserPlus=createLucideIcon("user-plus",__iconNode$7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],UserRound=createLucideIcon("user-round",__iconNode$6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$5);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Users=createLucideIcon("users",__iconNode$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Volume2=createLucideIcon("volume-2",__iconNode$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode);function getLearnYourWayOrigin(){return typeof window<"u"?window.location.origin:""}const getBaseUrl$1=()=>{const e="http://localhost:3002";return console.log("VITE_API_URL=",e),e.replace(/\/$/,"")};function getExperienceHeaders(){if(typeof window>"u")return{};const e=window.location.hostname.toLowerCase(),t=e.startsWith("sg.")||e.includes(".sg.")?"SG":e.startsWith("cn.")||e.includes(".cn.")?"CN":"",n=(localStorage.getItem("i18nextLng")||"").startsWith("en")?"en":"zh",o=(()=>{const u=new URLSearchParams(window.location.search).get("tenantId")||"";if(u.trim())return u.trim();const d=(localStorage.getItem("runtimeTenantId")||"").trim();if(d)return d;const A=(localStorage.getItem("tenantId")||"").trim();return A||""})(),l={};return t&&(l["x-market-code"]=t),l["x-language-space"]=n,o&&(l["x-tenant-id"]=o),l}async function getRequestHeaders(){const e=getExperienceHeaders();try{const{data:t}=await supabase.auth.getSession(),n=t.session?.access_token;n&&(e.Authorization=`Bearer ${n}`)}catch{}return e}async function apiCall(e,t={}){const n=getBaseUrl$1(),o=e.startsWith("http")?e:`${n}${e}`;try{const l=await getRequestHeaders(),u=await fetch(o,{...t,headers:{"Content-Type":"application/json",...l,...t.headers}});if(!u.ok){let A=`API call failed: ${u.statusText}`;try{A=(await u.json()).error||A}catch{A=`API call failed with status ${u.status}: ${u.statusText}`}throw new Error(A)}return(await u.json()).data}catch(l){throw l instanceof TypeError&&l.message==="Failed to fetch"?new Error("ç½‘ç»œè¿žæŽ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥åŽç«¯åœ°å€æˆ–ç¨åŽé‡è¯•"):l instanceof Error?l:new Error(String(l))}}async function generateCurriculumDesign(e,t,n,o,l="",u="zh"){return apiCall("/api/curriculum",{method:"POST",body:JSON.stringify({subject:e,grade:t,topic:n,textbook:o,context:l,language:u})})}async function generateTaskDocuments(e,t,n,o="",l){return apiCall("/api/documents",{method:"POST",body:JSON.stringify({subject:e,topic:t,curriculumJson:JSON.stringify(n),context:o,...l&&{language:l}})})}async function generateSystemTaskPlan(e,t,n,o="",l){return apiCall("/api/tasks",{method:"POST",body:JSON.stringify({taskSheetMarkdown:e,subject:t,grade:n,context:o,...l&&{language:l}})})}async function generateTaskAsset(e,t,n,o,l){if(!t?.trim())return null;try{return await apiCall("/api/assets",{method:"POST",body:JSON.stringify({type:e,prompt:t,courseId:n,taskId:o,...l&&{language:l}})})}catch(u){return console.error("Asset generation failed:",u),null}}async function createCourse(e,t,n){const o=Array.isArray(e.taskIds)?{taskIds:e.taskIds,...n?.language&&{language:n.language}}:{plan:e,...n&&{subject:n.subject,subjectCustom:n.subjectCustom,subjectIsCustom:n.subjectIsCustom,topic:n.topic,grade:n.grade,language:n.language}},l=t!=null?{...o,teacherId:t}:o;return apiCall("/api/courses",{method:"POST",body:JSON.stringify(l)})}async function saveTask(e,t,n){return apiCall("/api/tasks",{method:"POST",body:JSON.stringify({task:e,teacherId:t,...n})})}async function getTask(e){return apiCall(`/api/tasks?id=${encodeURIComponent(e)}`,{method:"GET"})}async function listTeacherTasks(e,t){const n=new URLSearchParams({teacherId:e});return t?.includeDeleted&&n.set("includeDeleted","true"),t?.deletedOnly&&n.set("deletedOnly","true"),t?.restorableOnly&&n.set("restorableOnly","true"),apiCall(`/api/tasks?${n.toString()}`,{method:"GET"})}async function deleteTask(e,t){await apiCall(`/api/tasks?id=${encodeURIComponent(e)}&teacherId=${encodeURIComponent(t)}`,{method:"DELETE"})}async function updateTaskVisibility(e,t,n,o){return apiCall("/api/tasks",{method:"PATCH",body:JSON.stringify({id:e,teacherId:t,action:n,...o?{scheduledPublishAt:o}:{}})})}async function restoreTask(e,t){return apiCall("/api/tasks",{method:"PATCH",body:JSON.stringify({id:e,teacherId:t,action:"restore"})})}async function listPublicTasks(e){const t=new URLSearchParams({public:"true"});return e?.q&&t.set("q",e.q),e?.subject&&t.set("subject",e.subject),e?.grade&&t.set("grade",e.grade),apiCall(`/api/tasks?${t.toString()}`,{method:"GET"})}async function listTeacherClasses(e){return apiCall(`/api/classes?teacherId=${encodeURIComponent(e)}`,{method:"GET"})}async function createClass$1(e,t,n){return apiCall("/api/classes",{method:"POST",body:JSON.stringify({teacherId:e,name:t,grade:n})})}async function getClass(e){return apiCall(`/api/classes/${encodeURIComponent(e)}`,{method:"GET"})}async function addStudentToClassByEmail(e,t){return apiCall(`/api/classes/${encodeURIComponent(e)}/students`,{method:"POST",body:JSON.stringify({email:t})})}async function removeStudentFromClass(e,t){await apiCall(`/api/classes/${encodeURIComponent(e)}/students?studentId=${encodeURIComponent(t)}`,{method:"DELETE"})}async function deleteClass(e){await apiCall(`/api/classes/${encodeURIComponent(e)}`,{method:"DELETE"})}async function assignCourseToClasses(e,t,n){return apiCall("/api/assignments",{method:"POST",body:JSON.stringify({courseId:e,classIds:t,teacherId:n})})}async function getCourseAssignments(e,t){return apiCall(`/api/assignments?courseId=${encodeURIComponent(e)}&teacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function removeCourseAssignment(e,t,n){return apiCall(`/api/assignments?courseId=${encodeURIComponent(e)}&classId=${encodeURIComponent(t)}&teacherId=${encodeURIComponent(n)}`,{method:"DELETE"})}async function getStudentCourses(e){return apiCall(`/api/assignments?studentId=${encodeURIComponent(e)}`,{method:"GET"})}async function getCourse(e){return apiCall(`/api/courses?id=${encodeURIComponent(e)}`,{method:"GET"})}async function getTeacherStats(e){return apiCall(`/api/teacher-stats?teacherId=${encodeURIComponent(e)}`,{method:"GET"})}async function getTeacherActivities(e,t){const n=new URLSearchParams({teacherId:e});return t!=null&&n.set("limit",String(t)),apiCall(`/api/teacher-activities?${n.toString()}`,{method:"GET"})}async function searchTeachers(e){const t=new URLSearchParams({q:e});return t.set("limit","20"),apiCall(`/api/teachers/search?${t.toString()}`,{method:"GET"})}async function listTeacherCoursesWithStats(e,t){const n=new URLSearchParams({teacherId:e});return t?.includeDeleted&&n.set("includeDeleted","true"),t?.deletedOnly&&n.set("deletedOnly","true"),t?.restorableOnly&&n.set("restorableOnly","true"),apiCall(`/api/teacher-courses?${n.toString()}`,{method:"GET"})}async function deleteCourse(e,t){await apiCall(`/api/courses?id=${encodeURIComponent(e)}&teacherId=${encodeURIComponent(t)}`,{method:"DELETE"})}async function updateCourseVisibility(e,t,n,o){return apiCall("/api/courses",{method:"PATCH",body:JSON.stringify({id:e,teacherId:t,action:n,...o?{scheduledPublishAt:o}:{}})})}async function restoreCourse(e,t){return apiCall("/api/courses",{method:"PATCH",body:JSON.stringify({id:e,teacherId:t,action:"restore"})})}async function listCourseShares(e,t){return apiCall(`/api/course-shares?courseId=${encodeURIComponent(e)}&ownerTeacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function createCourseShare(e){return apiCall("/api/course-shares",{method:"POST",body:JSON.stringify(e)})}async function deleteCourseShare(e,t){return apiCall(`/api/course-shares?id=${encodeURIComponent(e)}&ownerTeacherId=${encodeURIComponent(t)}`,{method:"DELETE"})}async function listSharedCourses(e){return apiCall(`/api/shared-courses?teacherId=${encodeURIComponent(e)}`,{method:"GET"})}async function resolveShareToken(e){return apiCall(`/api/shared-courses/resolve?shareToken=${encodeURIComponent(e)}`,{method:"GET"})}async function acceptShareLink(e,t){return apiCall("/api/shared-courses/accept",{method:"POST",body:JSON.stringify({shareToken:e,teacherId:t})})}async function listTeacherDigitalTwins(e,t){const n=new URLSearchParams({teacherId:e});return t?.includeShared===!1&&n.set("includeShared","false"),apiCall(`/api/digital-twins?${n.toString()}`,{method:"GET"})}async function getDigitalTwin(e,t){const n=new URLSearchParams;t&&n.set("teacherId",t);const o=n.toString()?`/api/digital-twins/${encodeURIComponent(e)}?${n.toString()}`:`/api/digital-twins/${encodeURIComponent(e)}`;return apiCall(o,{method:"GET"})}async function createDigitalTwin(e){return apiCall("/api/digital-twins",{method:"POST",body:JSON.stringify(e)})}async function updateDigitalTwin(e,t){return apiCall(`/api/digital-twins/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})}async function deleteDigitalTwin(e,t){return apiCall(`/api/digital-twins/${encodeURIComponent(e)}?teacherId=${encodeURIComponent(t)}`,{method:"DELETE"})}async function listDigitalTwinShares(e,t){return apiCall(`/api/digital-twins/share?twinId=${encodeURIComponent(e)}&ownerTeacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function createDigitalTwinShare(e){return apiCall("/api/digital-twins/share",{method:"POST",body:JSON.stringify(e)})}async function deleteDigitalTwinShare(e,t){return apiCall(`/api/digital-twins/share?id=${encodeURIComponent(e)}&ownerTeacherId=${encodeURIComponent(t)}`,{method:"DELETE"})}async function resolveDigitalTwinShareToken(e){return resolveTeacherTwinShareToken(e)}async function resolveTeacherTwinShareToken(e){return apiCall(`/api/teacher-twins/resolve?shareToken=${encodeURIComponent(e)}`,{method:"GET"})}async function listTwinMemories(e,t){return apiCall(`/api/digital-twins/${encodeURIComponent(e)}/memories?teacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function retrieveTwinMemoryChunks(e,t,n,o=5){const l=new URLSearchParams({teacherId:t,q:n,topK:String(o)});return apiCall(`/api/digital-twins/${encodeURIComponent(e)}/memories?${l.toString()}`,{method:"GET"})}async function uploadTwinMemory(e,t,n){const o=getBaseUrl$1(),l=new FormData;l.append("teacherId",t),l.append("file",n);const u=await fetch(`${o}/api/digital-twins/${encodeURIComponent(e)}/memories`,{method:"POST",body:l});if(!u.ok){const A=await u.json().catch(()=>({}));throw new Error(A.error||`Upload failed with status ${u.status}`)}return(await u.json()).data}async function deleteTwinMemory(e,t,n){return apiCall(`/api/digital-twins/${encodeURIComponent(e)}/memories?teacherId=${encodeURIComponent(t)}&memoryId=${encodeURIComponent(n)}`,{method:"DELETE"})}async function listTeacherTwins(e){return apiCall(`/api/teacher-twins?teacherId=${encodeURIComponent(e)}`,{method:"GET"})}async function getTeacherTwin(e,t){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}?teacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function createTeacherTwin(e){return apiCall("/api/teacher-twins",{method:"POST",body:JSON.stringify(e)})}async function patchTeacherTwin(e,t){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})}async function saveTeacherTwinWizardStep(e,t,n){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}/wizard/${t}`,{method:"PATCH",body:JSON.stringify(n)})}async function extractTeacherTwin(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/extract`,{method:"POST",body:JSON.stringify(e)})}async function compileTeacherTwin(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/compile`,{method:"POST",body:JSON.stringify(e)})}async function publishTeacherTwin(e,t){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}/publish`,{method:"POST",body:JSON.stringify({teacherId:t})})}async function listTeacherTwinArtifacts(e,t){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}/artifacts?teacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function uploadTeacherTwinArtifact(e){const t=getBaseUrl$1(),n=new FormData;n.append("teacherId",e.teacherId),n.append("artifactType",e.artifactType),n.append("authorityLevel",e.authorityLevel),n.append("permissions",e.permissions),e.subject&&n.append("subject",e.subject),e.grade&&n.append("grade",e.grade),e.text&&n.append("text",e.text),e.file&&n.append("file",e.file);const o=await fetch(`${t}/api/teacher-twins/${encodeURIComponent(e.twinId)}/artifacts`,{method:"POST",body:n});if(!o.ok){const u=await o.json().catch(()=>({}));throw new Error(u.error||`Upload failed with status ${o.status}`)}return(await o.json()).data}async function deleteTeacherTwinArtifact(e,t,n){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}/artifacts?teacherId=${encodeURIComponent(t)}&artifactId=${encodeURIComponent(n)}`,{method:"DELETE"})}async function runTeacherTwinExplain(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/runtime/explain`,{method:"POST",body:JSON.stringify(e)})}async function runTeacherTwinPractice(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/runtime/practice`,{method:"POST",body:JSON.stringify(e)})}async function runTeacherTwinGrade(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/runtime/grade`,{method:"POST",body:JSON.stringify(e)})}async function reviewTeacherTwinGrade(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/runs/${encodeURIComponent(e.runId)}/approval`,{method:"PATCH",body:JSON.stringify(e)})}async function submitTeacherTwinFeedback(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/feedback`,{method:"POST",body:JSON.stringify(e)})}async function listTeacherTwinFeedback(e,t){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}/feedback?teacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function listTeacherTwinDashboard(e,t){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}/dashboard?teacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function createGoldenSetItem(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/golden-set`,{method:"POST",body:JSON.stringify(e)})}async function listGoldenSetItems(e,t){return apiCall(`/api/teacher-twins/${encodeURIComponent(e)}/golden-set?teacherId=${encodeURIComponent(t)}`,{method:"GET"})}async function sendTeacherTwinOnboardingMessage(e){return apiCall(`/api/teacher-twins/${encodeURIComponent(e.twinId)}/onboarding/chat`,{method:"POST",body:JSON.stringify(e)})}async function sendChatMessage(e,t,n,o,l){try{const u={history:e,newMessage:t,systemInstruction:n,language:o};return l?.images&&l.images.length>0&&(u.images=l.images),l?.twinId&&(u.twinId=l.twinId),l?.useSecondMe!=null&&(u.useSecondMe=l.useSecondMe),await apiCall("/api/chat",{method:"POST",body:JSON.stringify(u)})}catch(u){const d=u instanceof Error?u.message:String(u);return d.includes("ç½‘ç»œè¿žæŽ¥å¤±è´¥")||d.includes("Failed to fetch")?"æŠ±æ­‰ï¼Œæ— æ³•è¿žæŽ¥åˆ°æœåŠ¡å™¨ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥åŽé‡è¯•ã€‚":d.includes("API Key")||d.includes("not configured")?"æœåŠ¡é…ç½®é”™è¯¯ï¼Œè¯·è”ç³»ç®¡ç†å‘˜ã€‚":d.includes("timeout")||d.includes("è¶…æ—¶")?"è¯·æ±‚è¶…æ—¶ï¼Œè¯·ç¨åŽé‡è¯•ã€‚":"è¿žæŽ¥é”™è¯¯ï¼Œè¯·ç¨åŽé‡è¯•ã€‚"}}async function generateExitTicket(e,t,n,o){try{return await apiCall("/api/exit-ticket",{method:"POST",body:JSON.stringify({chatLog:e,language:t,studentName:n||"æ‚¨",...o&&{objectiveMetrics:o}})})}catch(l){return console.error("Exit Ticket Error",l),null}}async function getSpeechVoices(){const e=getBaseUrl$1(),t=await fetch(`${e}/api/speech/voices`,{method:"GET"});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||"Failed to fetch speech voices")}return t.json()}async function textToSpeech(e,t,n){const o=getBaseUrl$1(),l=await fetch(`${o}/api/speech/tts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,languageCode:t,voiceName:n})});if(!l.ok){const d=await l.json().catch(()=>({}));throw new Error(d.error||"Text-to-speech synthesis failed")}return(await l.json()).audioData}async function speechToText(e,t){const n=getBaseUrl$1(),o=await fetch(`${n}/api/speech/stt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioData:e,languageCode:t})});if(!o.ok){const u=await o.json().catch(()=>({}));throw new Error(u.error||"Speech recognition failed")}return(await o.json()).text}async function searchVideos(e,t=5,n){const o=new URLSearchParams({q:e.trim(),maxResults:String(Math.min(t,10))});return n&&o.set("platform",n),apiCall(`/api/materials/video-search?${o}`)}async function getVideoContent(e){return apiCall("/api/materials/video-content",{method:"POST",body:JSON.stringify({url:e.trim()})})}async function convertDocumentToHtml(e,t){const n={url:e.trim()};t?.trim()&&(n.mimeType=t.trim());const o=getBaseUrl$1(),l=await fetch(`${o}/api/materials/convert-to-html`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!l.ok){const d=await l.json().catch(()=>({}));throw new Error(d.error||`Convert failed with status ${l.status}`)}return{html:(await l.json()).data?.html??""}}async function uploadMaterialResource(e){const t=getBaseUrl$1(),n=new FormData;n.append("file",e);const o=await fetch(`${t}/api/materials/upload-resource`,{method:"POST",body:n});if(!o.ok){const u=await o.json().catch(()=>({}));throw new Error(u.error||`Upload failed with status ${o.status}`)}return(await o.json()).data}async function generateTaskDesign(e){const t={subject:e.subject.trim(),topic:e.topic.trim(),grade:e.grade.trim(),duration:e.duration,difficulty:e.difficulty?.trim()||"",prerequisites:e.prerequisites?.trim()||""};return e.objective?.trim()&&(t.objective=e.objective.trim()),e.language&&(t.language=e.language),apiCall("/api/materials/generate-task-design",{method:"POST",body:JSON.stringify(t)})}async function submitFeedback(e,t){return apiCall("/api/feedback",{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:void 0,body:JSON.stringify(e)})}async function trackProductEvent(e,t){await apiCall("/api/events",{method:"POST",headers:t?{Authorization:`Bearer ${t}`}:void 0,body:JSON.stringify(e)})}async function getRuntimePolicy(e){const t=new URLSearchParams;return e.role&&t.set("role",e.role),apiCall(`/api/runtime/policy${t.toString()?`?${t}`:""}`,{method:"GET"})}async function listAdminMarketPolicies(e,t){const n=new URLSearchParams;return e.policyKey&&n.set("policyKey",e.policyKey),e.tenantId&&n.set("tenantId",e.tenantId),e.marketCode&&n.set("marketCode",e.marketCode),e.space&&n.set("space",e.space),e.role&&n.set("role",e.role),apiCall(`/api/admin/settings/policies${n.toString()?`?${n}`:""}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})}async function upsertAdminMarketPolicy(e,t){return apiCall("/api/admin/settings/policies",{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(e)})}async function resolveAdminMarketPolicy(e,t){return apiCall("/api/admin/settings/policies/resolve",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(e)})}async function listAdminTenants(e,t){const n=new URLSearchParams;return e.q&&n.set("q",e.q),e.limit!=null&&n.set("limit",String(e.limit)),apiCall(`/api/admin/settings/tenants${n.toString()?`?${n}`:""}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})}async function batchCreateAccounts(e,t){return apiCall("/api/admin/batch-create-accounts",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({tenantId:e.tenantId,role:e.role,defaultPassword:e.defaultPassword,identifiers:e.identifiers,...e.classIds?.length?{classIds:e.classIds}:{}})})}async function listAdminClasses(e,t){return apiCall(`/api/admin/classes?tenantId=${encodeURIComponent(e)}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})}async function getAdminCostAnalytics(e,t){const n=new URLSearchParams;return e.startDate&&n.set("startDate",e.startDate),e.endDate&&n.set("endDate",e.endDate),e.language&&n.set("language",e.language),e.modelUsed&&n.set("modelUsed",e.modelUsed),e.endpoint&&n.set("endpoint",e.endpoint),e.teacherId&&n.set("teacherId",e.teacherId),e.topN!=null&&n.set("topN",String(e.topN)),apiCall(`/api/admin/cost-analytics?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})}async function getAdminPerformanceAnalytics(e,t){const n=new URLSearchParams;return e.startDate&&n.set("startDate",e.startDate),e.endDate&&n.set("endDate",e.endDate),e.tenantId&&n.set("tenantId",e.tenantId),e.marketCode&&n.set("marketCode",e.marketCode),e.language&&n.set("language",e.language),e.topN!=null&&n.set("topN",String(e.topN)),apiCall(`/api/admin/performance-analytics?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})}async function getAdminBusinessAnalytics(e,t){const n=new URLSearchParams;return e.startDate&&n.set("startDate",e.startDate),e.endDate&&n.set("endDate",e.endDate),e.topN!=null&&n.set("topN",String(e.topN)),apiCall(`/api/admin/business-analytics?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})}async function getAdminFeedbacks(e,t){const n=new URLSearchParams;return e.startDate&&n.set("startDate",e.startDate),e.endDate&&n.set("endDate",e.endDate),e.tenantId&&n.set("tenantId",e.tenantId),e.marketCode&&n.set("marketCode",e.marketCode),e.language&&n.set("language",e.language),e.feedbackType&&n.set("feedbackType",e.feedbackType),e.pagePath&&n.set("pagePath",e.pagePath),e.q&&n.set("q",e.q),e.limit!=null&&n.set("limit",String(e.limit)),apiCall(`/api/admin/feedback?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}})}const backendApi=Object.freeze(Object.defineProperty({__proto__:null,acceptShareLink,addStudentToClassByEmail,assignCourseToClasses,batchCreateAccounts,compileTeacherTwin,convertDocumentToHtml,createClass:createClass$1,createCourse,createCourseShare,createDigitalTwin,createDigitalTwinShare,createGoldenSetItem,createTeacherTwin,deleteClass,deleteCourse,deleteCourseShare,deleteDigitalTwin,deleteDigitalTwinShare,deleteTask,deleteTeacherTwinArtifact,deleteTwinMemory,extractTeacherTwin,generateCurriculumDesign,generateExitTicket,generateSystemTaskPlan,generateTaskAsset,generateTaskDesign,generateTaskDocuments,getAdminBusinessAnalytics,getAdminCostAnalytics,getAdminFeedbacks,getAdminPerformanceAnalytics,getClass,getCourse,getCourseAssignments,getDigitalTwin,getRuntimePolicy,getSpeechVoices,getStudentCourses,getTask,getTeacherActivities,getTeacherStats,getTeacherTwin,getVideoContent,listAdminClasses,listAdminMarketPolicies,listAdminTenants,listCourseShares,listDigitalTwinShares,listGoldenSetItems,listPublicTasks,listSharedCourses,listTeacherClasses,listTeacherCoursesWithStats,listTeacherDigitalTwins,listTeacherTasks,listTeacherTwinArtifacts,listTeacherTwinDashboard,listTeacherTwinFeedback,listTeacherTwins,listTwinMemories,patchTeacherTwin,publishTeacherTwin,removeCourseAssignment,removeStudentFromClass,resolveAdminMarketPolicy,resolveDigitalTwinShareToken,resolveShareToken,resolveTeacherTwinShareToken,restoreCourse,restoreTask,retrieveTwinMemoryChunks,reviewTeacherTwinGrade,runTeacherTwinExplain,runTeacherTwinGrade,runTeacherTwinPractice,saveTask,saveTeacherTwinWizardStep,searchTeachers,searchVideos,sendChatMessage,sendTeacherTwinOnboardingMessage,speechToText,submitFeedback,submitTeacherTwinFeedback,textToSpeech,trackProductEvent,updateCourseVisibility,updateDigitalTwin,updateTaskVisibility,uploadMaterialResource,uploadTeacherTwinArtifact,uploadTwinMemory,upsertAdminMarketPolicy},Symbol.toStringTag,{value:"Module"}));function getPageName(e){const t={"/":"é¦–é¡µ","/forgot-password":"å¿˜è®°å¯†ç ","/reset-password":"é‡ç½®å¯†ç "};return e.startsWith("/course/")?"è¯¾ç¨‹è¯¦æƒ…é¡µ":e.startsWith("/shared-course/")?"åˆ†äº«è¯¾ç¨‹é¡µ":e.startsWith("/shared-twin/")?"å…±äº« Twin é¡µ":t[e]||e||"æœªçŸ¥é¡µé¢"}function FeedbackButton(){const t=useLocation().pathname,[n,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!1),[d,A]=reactExports.useState("idle"),[m,f]=reactExports.useState({pagePath:t||"/",pageName:getPageName(t||"/"),feedbackText:"",rating:void 0,feedbackType:void 0});reactExports.useEffect(()=>{f(b=>({...b,pagePath:t||"/",pageName:getPageName(t||"/")}))},[t]);const g=async b=>{if(b.preventDefault(),!!m.feedbackText.trim()){u(!0),A("idle");try{const{data:w}=await supabase.auth.getSession(),j=w.session?.access_token;await submitFeedback(m,j),await trackProductEvent({eventName:"feedback_submitted",role:w.session?.user?"student":"anon",language:void 0,properties:{pagePath:m.pagePath,pageName:m.pageName,feedbackType:m.feedbackType||"other",rating:m.rating??null}},j),A("success"),f({pagePath:t||"/",pageName:getPageName(t||"/"),feedbackText:"",rating:void 0,feedbackType:void 0}),setTimeout(()=>{o(!1),A("idle")},2e3)}catch(w){console.error("Failed to submit feedback:",w),A("error")}finally{u(!1)}}},v=()=>{l||(o(!1),A("idle"),f(b=>({...b,feedbackText:"",rating:void 0,feedbackType:void 0})))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(!0),style:{position:"fixed",top:"24px",right:"24px",zIndex:99999,width:"64px",height:"64px"},className:"bg-gradient-to-br from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 text-white rounded-full shadow-2xl hover:shadow-cyan-500/50 transition-all duration-300 flex items-center justify-center group hover:scale-110 animate-float","aria-label":"æä¾›åé¦ˆ",title:"æä¾›åé¦ˆ",children:[jsxRuntimeExports.jsx(MessageSquare,{size:24,className:"group-hover:scale-110 transition-transform"}),jsxRuntimeExports.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",width:"12px",height:"12px",zIndex:10},className:"bg-red-500 rounded-full animate-pulse border-2 border-white"})]}),n&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:v,children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto animate-fade-in-up",onClick:b=>b.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"é¡µé¢åé¦ˆ"}),jsxRuntimeExports.jsx("button",{onClick:v,disabled:l,className:"p-1.5 rounded-lg hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"å…³é—­",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:g,className:"p-6 space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-slate-700",children:"å½“å‰é¡µé¢"}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-600",children:m.pageName}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-400 mt-1",children:m.pagePath})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["åé¦ˆå†…å®¹ ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("textarea",{value:m.feedbackText,onChange:b=>f(w=>({...w,feedbackText:b.target.value})),placeholder:"è¯·æè¿°æ‚¨é‡åˆ°çš„é—®é¢˜æˆ–å»ºè®®...",required:!0,rows:5,disabled:l,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none disabled:bg-slate-50 disabled:cursor-not-allowed text-sm text-slate-700"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-slate-700",children:"è¯„åˆ†ï¼ˆå¯é€‰ï¼‰"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(b=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>f(w=>({...w,rating:w.rating===b?void 0:b})),disabled:l,className:`p-2 rounded-lg transition-all ${m.rating===b?"bg-yellow-100 text-yellow-600":"bg-slate-100 text-slate-400 hover:bg-slate-200"} disabled:opacity-50 disabled:cursor-not-allowed`,children:jsxRuntimeExports.jsx(Star,{size:20,className:m.rating===b?"fill-current":""})},b))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-slate-700",children:"åé¦ˆç±»åž‹ï¼ˆå¯é€‰ï¼‰"}),jsxRuntimeExports.jsxs("select",{value:m.feedbackType||"",onChange:b=>f(w=>({...w,feedbackType:b.target.value?b.target.value:void 0})),disabled:l,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent disabled:bg-slate-50 disabled:cursor-not-allowed text-sm text-slate-700",children:[jsxRuntimeExports.jsx("option",{value:"",children:"è¯·é€‰æ‹©..."}),jsxRuntimeExports.jsx("option",{value:"bug",children:"Bug æŠ¥å‘Š"}),jsxRuntimeExports.jsx("option",{value:"suggestion",children:"åŠŸèƒ½å»ºè®®"}),jsxRuntimeExports.jsx("option",{value:"other",children:"å…¶ä»–"})]})]}),d==="success"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:18}),jsxRuntimeExports.jsx("span",{children:"åé¦ˆæäº¤æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„åé¦ˆã€‚"})]}),d==="error"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[jsxRuntimeExports.jsx(CircleAlert,{size:18}),jsxRuntimeExports.jsx("span",{children:"æäº¤å¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•ã€‚"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:v,disabled:l,className:"flex-1 px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"å–æ¶ˆ"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:l||!m.feedbackText.trim(),className:"flex-1 px-4 py-3 bg-cyan-600 hover:bg-cyan-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{size:18,className:"animate-spin"}),jsxRuntimeExports.jsx("span",{children:"æäº¤ä¸­..."})]}):"æäº¤åé¦ˆ"})]})]})]})})]})}const PublishedCoursesContext=reactExports.createContext(void 0);function PublishedCoursesProvider({children:e}){const{user:t}=useAuth(),[n,o]=reactExports.useState([]),l=A=>{const m=A.grade&&A.subject&&A.topic?`${A.grade} - ${A.subject} - ${A.topic}`:`${A.subject} - ${A.topic}`,f={...A,title:m,id:Date.now().toString(),publishedAt:new Date().toISOString(),status:"published",assignmentStatus:"assigned",visibilityStatus:"private",shareStatus:"none",students:0,completion:0,lastUpdated:"åˆšåˆš"};o(g=>[f,...g])},u=reactExports.useCallback(async()=>{if(!t||t.role!=="teacher"){o([]);return}try{const{courses:A}=await listTeacherCoursesWithStats(t.id),m=A.map(f=>({id:f.id,title:f.title,subject:f.subject,grade:f.grade,topic:f.topic,textbook:f.textbook??"",hours:"1",publishedAt:"",status:f.status,assignmentStatus:f.assignmentStatus??(f.status==="published"?"assigned":"unassigned"),visibilityStatus:f.visibilityStatus??"private",shareStatus:f.shareStatus??"none",students:f.students,completion:f.completion,lastUpdated:f.lastUpdated}));o(m)}catch(A){console.error("[PublishedCoursesProvider] Failed to load courses:",A)}},[t]);reactExports.useEffect(()=>{u()},[u]);const d=reactExports.useCallback(async()=>{await u()},[u]);return jsxRuntimeExports.jsx(PublishedCoursesContext.Provider,{value:{publishedCourses:n,addPublishedCourse:l,refreshCourses:d},children:e})}function usePublishedCourses(){const e=reactExports.useContext(PublishedCoursesContext);if(!e)throw new Error("usePublishedCourses must be used within PublishedCoursesProvider");return e}const TasksContext=reactExports.createContext(void 0);function TasksProvider({children:e}){const{user:t}=useAuth(),[n,o]=reactExports.useState([]),l=reactExports.useCallback(async()=>{if(!t||t.role!=="teacher"){o([]);return}try{const{tasks:d}=await listTeacherTasks(t.id,{deletedOnly:!1}),A=(d??[]).map(m=>({taskId:m.taskId,subject:m.subject,grade:m.grade,topic:m.topic,taskType:m.taskType,durationMin:m.durationMin,isPublic:m.isPublic}));o(A)}catch(d){console.error("[TasksProvider] Failed to load tasks:",d)}},[t]);reactExports.useEffect(()=>{l()},[l]);const u=reactExports.useCallback(async()=>{await l()},[l]);return jsxRuntimeExports.jsx(TasksContext.Provider,{value:{tasks:n,refreshTasks:u},children:e})}function useTasks(){const e=reactExports.useContext(TasksContext);if(!e)throw new Error("useTasks must be used within TasksProvider");return e}function setRef(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function composeRefs(...e){return t=>{let n=!1;const o=e.map(l=>{const u=setRef(l,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let l=0;l<o.length;l++){const u=o[l];typeof u=="function"?u():setRef(e[l],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use=React$1[" use ".trim().toString()];function isPromiseLike(e){return typeof e=="object"&&e!==null&&"then"in e}function isLazyComponent(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===REACT_LAZY_TYPE&&"_payload"in e&&isPromiseLike(e._payload)}function createSlot$4(e){const t=createSlotClone$4(e),n=reactExports.forwardRef((o,l)=>{let{children:u,...d}=o;isLazyComponent(u)&&typeof use=="function"&&(u=use(u._payload));const A=reactExports.Children.toArray(u),m=A.find(isSlottable$4);if(m){const f=m.props.children,g=A.map(v=>v===m?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:v);return jsxRuntimeExports.jsx(t,{...d,ref:l,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,g):null})}return jsxRuntimeExports.jsx(t,{...d,ref:l,children:u})});return n.displayName=`${e}.Slot`,n}var Slot$2=createSlot$4("Slot");function createSlotClone$4(e){const t=reactExports.forwardRef((n,o)=>{let{children:l,...u}=n;if(isLazyComponent(l)&&typeof use=="function"&&(l=use(l._payload)),reactExports.isValidElement(l)){const d=getElementRef$5(l),A=mergeProps$4(u,l.props);return l.type!==reactExports.Fragment&&(A.ref=o?composeRefs(o,d):d),reactExports.cloneElement(l,A)}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$4(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$4(e,t){const n={...t};for(const o in t){const l=e[o],u=t[o];/^on[A-Z]/.test(o)?l&&u?n[o]=(...A)=>{const m=u(...A);return l(...A),m}:l&&(n[o]=l):o==="style"?n[o]={...l,...u}:o==="className"&&(n[o]=[l,u].filter(Boolean).join(" "))}return{...e,...n}}function getElementRef$5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function r(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var e,t,n=0,o="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,t)=>n=>{var o;if(t?.variants==null)return cx(e,n?.class,n?.className);const{variants:l,defaultVariants:u}=t,d=Object.keys(l).map(f=>{const g=n?.[f],v=u?.[f];if(g===null)return null;const b=falsyToString(g)||falsyToString(v);return l[f][b]}),A=n&&Object.entries(n).reduce((f,g)=>{let[v,b]=g;return b===void 0||(f[v]=b),f},{}),m=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((f,g)=>{let{class:v,className:b,...w}=g;return Object.entries(w).every(j=>{let[E,R]=j;return Array.isArray(R)?R.includes({...u,...A}[E]):{...u,...A}[E]===R})?[...f,v,b]:f},[]);return cx(e,d,m,n?.class,n?.className)},concatArrays=(e,t)=>{const n=new Array(e.length+t.length);for(let o=0;o<e.length;o++)n[o]=e[o];for(let o=0;o<t.length;o++)n[e.length+o]=t[o];return n},createClassValidatorObject=(e,t)=>({classGroupId:e,validator:t}),createClassPartObject=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=e=>{const t=createClassMap(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return getGroupIdForArbitraryProperty(d);const A=d.split(CLASS_PART_SEPARATOR),m=A[0]===""&&A.length>1?1:0;return getGroupRecursive(A,m,t)},getConflictingClassGroupIds:(d,A)=>{if(A){const m=o[d],f=n[d];return m?f?concatArrays(f,m):m:f||EMPTY_CONFLICTS}return n[d]||EMPTY_CONFLICTS}}},getGroupRecursive=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const l=e[t],u=n.nextPart.get(l);if(u){const f=getGroupRecursive(e,t+1,u);if(f)return f}const d=n.validators;if(d===null)return;const A=t===0?e.join(CLASS_PART_SEPARATOR):e.slice(t).join(CLASS_PART_SEPARATOR),m=d.length;for(let f=0;f<m;f++){const g=d[f];if(g.validator(A))return g.classGroupId}},getGroupIdForArbitraryProperty=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),o=t.slice(0,n);return o?ARBITRARY_PROPERTY_PREFIX+o:void 0})(),createClassMap=e=>{const{theme:t,classGroups:n}=e;return processClassGroups(n,t)},processClassGroups=(e,t)=>{const n=createClassPartObject();for(const o in e){const l=e[o];processClassesRecursively(l,n,o,t)}return n},processClassesRecursively=(e,t,n,o)=>{const l=e.length;for(let u=0;u<l;u++){const d=e[u];processClassDefinition(d,t,n,o)}},processClassDefinition=(e,t,n,o)=>{if(typeof e=="string"){processStringDefinition(e,t,n);return}if(typeof e=="function"){processFunctionDefinition(e,t,n,o);return}processObjectDefinition(e,t,n,o)},processStringDefinition=(e,t,n)=>{const o=e===""?t:getPart(t,e);o.classGroupId=n},processFunctionDefinition=(e,t,n,o)=>{if(isThemeGetter(e)){processClassesRecursively(e(o),t,n,o);return}t.validators===null&&(t.validators=[]),t.validators.push(createClassValidatorObject(n,e))},processObjectDefinition=(e,t,n,o)=>{const l=Object.entries(e),u=l.length;for(let d=0;d<u;d++){const[A,m]=l[d];processClassesRecursively(m,getPart(t,A),n,o)}},getPart=(e,t)=>{let n=e;const o=t.split(CLASS_PART_SEPARATOR),l=o.length;for(let u=0;u<l;u++){const d=o[u];let A=n.nextPart.get(d);A||(A=createClassPartObject(),n.nextPart.set(d,A)),n=A}return n},isThemeGetter=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),o=Object.create(null);const l=(u,d)=>{n[u]=d,t++,t>e&&(t=0,o=n,n=Object.create(null))};return{get(u){let d=n[u];if(d!==void 0)return d;if((d=o[u])!==void 0)return l(u,d),d},set(u,d){u in n?n[u]=d:l(u,d)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(e,t,n,o,l)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:o,isExternal:l}),createParseClassName=e=>{const{prefix:t,experimentalParseClassName:n}=e;let o=l=>{const u=[];let d=0,A=0,m=0,f;const g=l.length;for(let E=0;E<g;E++){const R=l[E];if(d===0&&A===0){if(R===MODIFIER_SEPARATOR){u.push(l.slice(m,E)),m=E+1;continue}if(R==="/"){f=E;continue}}R==="["?d++:R==="]"?d--:R==="("?A++:R===")"&&A--}const v=u.length===0?l:l.slice(m);let b=v,w=!1;v.endsWith(IMPORTANT_MODIFIER)?(b=v.slice(0,-1),w=!0):v.startsWith(IMPORTANT_MODIFIER)&&(b=v.slice(1),w=!0);const j=f&&f>m?f-m:void 0;return createResultObject(u,w,b,j)};if(t){const l=t+MODIFIER_SEPARATOR,u=o;o=d=>d.startsWith(l)?u(d.slice(l.length)):createResultObject(EMPTY_MODIFIERS,!1,d,void 0,!0)}if(n){const l=o;o=u=>n({className:u,parseClassName:l})}return o},createSortModifiers=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,o)=>{t.set(n,1e6+o)}),n=>{const o=[];let l=[];for(let u=0;u<n.length;u++){const d=n[u],A=d[0]==="[",m=t.has(d);A||m?(l.length>0&&(l.sort(),o.push(...l),l=[]),o.push(d)):l.push(d)}return l.length>0&&(l.sort(),o.push(...l)),o}},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:l,sortModifiers:u}=t,d=[],A=e.trim().split(SPLIT_CLASSES_REGEX);let m="";for(let f=A.length-1;f>=0;f-=1){const g=A[f],{isExternal:v,modifiers:b,hasImportantModifier:w,baseClassName:j,maybePostfixModifierPosition:E}=n(g);if(v){m=g+(m.length>0?" "+m:m);continue}let R=!!E,_=o(R?j.substring(0,E):j);if(!_){if(!R){m=g+(m.length>0?" "+m:m);continue}if(_=o(j),!_){m=g+(m.length>0?" "+m:m);continue}R=!1}const N=b.length===0?"":b.length===1?b[0]:u(b).join(":"),B=w?N+IMPORTANT_MODIFIER:N,M=B+_;if(d.indexOf(M)>-1)continue;d.push(M);const O=l(_,R);for(let F=0;F<O.length;++F){const $=O[F];d.push(B+$)}m=g+(m.length>0?" "+m:m)}return m},twJoin=(...e)=>{let t=0,n,o,l="";for(;t<e.length;)(n=e[t++])&&(o=toValue(n))&&(l&&(l+=" "),l+=o);return l},toValue=e=>{if(typeof e=="string")return e;let t,n="";for(let o=0;o<e.length;o++)e[o]&&(t=toValue(e[o]))&&(n&&(n+=" "),n+=t);return n},createTailwindMerge=(e,...t)=>{let n,o,l,u;const d=m=>{const f=t.reduce((g,v)=>v(g),e());return n=createConfigUtils(f),o=n.cache.get,l=n.cache.set,u=A,A(m)},A=m=>{const f=o(m);if(f)return f;const g=mergeClassList(m,n);return l(m,g),g};return u=d,(...m)=>u(twJoin(...m))},fallbackThemeArr=[],fromTheme=e=>{const t=n=>n[e]||fallbackThemeArr;return t.isThemeGetter=!0,t},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=e=>fractionRegex.test(e),isNumber$3=e=>!!e&&!Number.isNaN(Number(e)),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent$1=e=>e.endsWith("%")&&isNumber$3(e.slice(0,-1)),isTshirtSize=e=>tshirtUnitRegex.test(e),isAny=()=>!0,isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),isAnyNonArbitrary=e=>!isArbitraryValue(e)&&!isArbitraryVariable(e),isArbitrarySize=e=>getIsArbitraryValue(e,isLabelSize,isNever),isArbitraryValue=e=>arbitraryValueRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,isLabelLength,isLengthOnly),isArbitraryNumber=e=>getIsArbitraryValue(e,isLabelNumber,isNumber$3),isArbitraryPosition=e=>getIsArbitraryValue(e,isLabelPosition,isNever),isArbitraryImage=e=>getIsArbitraryValue(e,isLabelImage,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,isLabelShadow,isShadow),isArbitraryVariable=e=>arbitraryVariableRegex.test(e),isArbitraryVariableLength=e=>getIsArbitraryVariable(e,isLabelLength),isArbitraryVariableFamilyName=e=>getIsArbitraryVariable(e,isLabelFamilyName),isArbitraryVariablePosition=e=>getIsArbitraryVariable(e,isLabelPosition),isArbitraryVariableSize=e=>getIsArbitraryVariable(e,isLabelSize),isArbitraryVariableImage=e=>getIsArbitraryVariable(e,isLabelImage),isArbitraryVariableShadow=e=>getIsArbitraryVariable(e,isLabelShadow,!0),getIsArbitraryValue=(e,t,n)=>{const o=arbitraryValueRegex.exec(e);return o?o[1]?t(o[1]):n(o[2]):!1},getIsArbitraryVariable=(e,t,n=!1)=>{const o=arbitraryVariableRegex.exec(e);return o?o[1]?t(o[1]):n:!1},isLabelPosition=e=>e==="position"||e==="percentage",isLabelImage=e=>e==="image"||e==="url",isLabelSize=e=>e==="length"||e==="size"||e==="bg-size",isLabelLength=e=>e==="length",isLabelNumber=e=>e==="number",isLabelFamilyName=e=>e==="family-name",isLabelShadow=e=>e==="shadow",getDefaultConfig=()=>{const e=fromTheme("color"),t=fromTheme("font"),n=fromTheme("text"),o=fromTheme("font-weight"),l=fromTheme("tracking"),u=fromTheme("leading"),d=fromTheme("breakpoint"),A=fromTheme("container"),m=fromTheme("spacing"),f=fromTheme("radius"),g=fromTheme("shadow"),v=fromTheme("inset-shadow"),b=fromTheme("text-shadow"),w=fromTheme("drop-shadow"),j=fromTheme("blur"),E=fromTheme("perspective"),R=fromTheme("aspect"),_=fromTheme("ease"),N=fromTheme("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...M(),isArbitraryVariable,isArbitraryValue],F=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],z=()=>[isArbitraryVariable,isArbitraryValue,m],se=()=>[isFraction,"full","auto",...z()],ce=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],ie=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],pe=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],xe=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...z()],fe=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],H=()=>[e,isArbitraryVariable,isArbitraryValue],le=()=>[...M(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],de=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ye=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],ge=()=>[isPercent$1,isArbitraryVariableLength,isArbitraryLength],je=()=>["","none","full",f,isArbitraryVariable,isArbitraryValue],Me=()=>["",isNumber$3,isArbitraryVariableLength,isArbitraryLength],He=()=>["solid","dashed","dotted","double"],Qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ze=()=>[isNumber$3,isPercent$1,isArbitraryVariablePosition,isArbitraryPosition],Ve=()=>["","none",j,isArbitraryVariable,isArbitraryValue],tt=()=>["none",isNumber$3,isArbitraryVariable,isArbitraryValue],nt=()=>["none",isNumber$3,isArbitraryVariable,isArbitraryValue],Ye=()=>[isNumber$3,isArbitraryVariable,isArbitraryValue],ut=()=>[isFraction,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$3],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,R]}],container:["container"],columns:[{columns:[isNumber$3,isArbitraryValue,isArbitraryVariable,A]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",A,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$3,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":ce()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":ce()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":xe()}],"auto-rows":[{"auto-rows":xe()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...Ae(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...Ae()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ae()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[A,"screen",...fe()]}],"min-w":[{"min-w":[A,"screen","none",...fe()]}],"max-w":[{"max-w":[A,"screen","none","prose",{screen:[d]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",n,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent$1,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$3,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[u,...z()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...He(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$3,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[isNumber$3,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:de()}],"bg-size":[{bg:ye()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:je()}],"rounded-s":[{"rounded-s":je()}],"rounded-e":[{"rounded-e":je()}],"rounded-t":[{"rounded-t":je()}],"rounded-r":[{"rounded-r":je()}],"rounded-b":[{"rounded-b":je()}],"rounded-l":[{"rounded-l":je()}],"rounded-ss":[{"rounded-ss":je()}],"rounded-se":[{"rounded-se":je()}],"rounded-ee":[{"rounded-ee":je()}],"rounded-es":[{"rounded-es":je()}],"rounded-tl":[{"rounded-tl":je()}],"rounded-tr":[{"rounded-tr":je()}],"rounded-br":[{"rounded-br":je()}],"rounded-bl":[{"rounded-bl":je()}],"border-w":[{border:Me()}],"border-w-x":[{"border-x":Me()}],"border-w-y":[{"border-y":Me()}],"border-w-s":[{"border-s":Me()}],"border-w-e":[{"border-e":Me()}],"border-w-t":[{"border-t":Me()}],"border-w-r":[{"border-r":Me()}],"border-w-b":[{"border-b":Me()}],"border-w-l":[{"border-l":Me()}],"divide-x":[{"divide-x":Me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...He(),"hidden","none"]}],"divide-style":[{divide:[...He(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...He(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$3,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",v,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:Me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[isNumber$3,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":Me()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",b,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$3]}],"mask-image-linear-from-pos":[{"mask-linear-from":ze()}],"mask-image-linear-to-pos":[{"mask-linear-to":ze()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ze()}],"mask-image-t-to-pos":[{"mask-t-to":ze()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ze()}],"mask-image-r-to-pos":[{"mask-r-to":ze()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ze()}],"mask-image-b-to-pos":[{"mask-b-to":ze()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ze()}],"mask-image-l-to-pos":[{"mask-l-to":ze()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ze()}],"mask-image-x-to-pos":[{"mask-x-to":ze()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ze()}],"mask-image-y-to-pos":[{"mask-y-to":ze()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ze()}],"mask-image-radial-to-pos":[{"mask-radial-to":ze()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$3]}],"mask-image-conic-from-pos":[{"mask-conic-from":ze()}],"mask-image-conic-to-pos":[{"mask-conic-to":ze()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:de()}],"mask-size":[{mask:ye()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:Ve()}],brightness:[{brightness:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",w,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$3,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$3,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$3,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",_,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$3,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",N,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:nt()}],"scale-x":[{"scale-x":nt()}],"scale-y":[{"scale-y":nt()}],"scale-z":[{"scale-z":nt()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ut()}],"translate-x":[{"translate-x":ut()}],"translate-y":[{"translate-y":ut()}],"translate-z":[{"translate-z":ut()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[isNumber$3,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Button({className:e,variant:t,size:n,asChild:o=!1,...l}){const u=o?Slot$2:"button";return jsxRuntimeExports.jsx(u,{"data-slot":"button",className:cn(buttonVariants({variant:t,size:n,className:e})),...l})}function Input({className:e,type:t,...n}){return jsxRuntimeExports.jsx("input",{type:t,"data-slot":"input",className:cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var NODES$3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$3=NODES$3.reduce((e,t)=>{const n=createSlot$4(`Primitive.${t}`),o=reactExports.forwardRef((l,u)=>{const{asChild:d,...A}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...A,ref:u})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),NAME$2="Label",Label$2=reactExports.forwardRef((e,t)=>jsxRuntimeExports.jsx(Primitive$3.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Label$2.displayName=NAME$2;var Root$8=Label$2;function Label$1({className:e,...t}){return jsxRuntimeExports.jsx(Root$8,{"data-slot":"label",className:cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Card({className:e,...t}){return jsxRuntimeExports.jsx("div",{"data-slot":"card",className:cn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function CardHeader({className:e,...t}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-header",className:cn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function CardTitle({className:e,...t}){return jsxRuntimeExports.jsx("h4",{"data-slot":"card-title",className:cn("leading-none",e),...t})}function CardDescription({className:e,...t}){return jsxRuntimeExports.jsx("p",{"data-slot":"card-description",className:cn("text-muted-foreground",e),...t})}function CardContent({className:e,...t}){return jsxRuntimeExports.jsx("div",{"data-slot":"card-content",className:cn("px-6 [&:last-child]:pb-6",e),...t})}function composeEventHandlers(e,t,{checkForDefaultPrevented:n=!0}={}){return function(l){if(e?.(l),n===!1||!l.defaultPrevented)return t?.(l)}}function createContext2(e,t){const n=reactExports.createContext(t),o=u=>{const{children:d,...A}=u,m=reactExports.useMemo(()=>A,Object.values(A));return jsxRuntimeExports.jsx(n.Provider,{value:m,children:d})};o.displayName=e+"Provider";function l(u){const d=reactExports.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[o,l]}function createContextScope$2(e,t=[]){let n=[];function o(u,d){const A=reactExports.createContext(d),m=n.length;n=[...n,d];const f=v=>{const{scope:b,children:w,...j}=v,E=b?.[e]?.[m]||A,R=reactExports.useMemo(()=>j,Object.values(j));return jsxRuntimeExports.jsx(E.Provider,{value:R,children:w})};f.displayName=u+"Provider";function g(v,b){const w=b?.[e]?.[m]||A,j=reactExports.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[f,g]}const l=()=>{const u=n.map(d=>reactExports.createContext(d));return function(A){const m=A?.[e]||u;return reactExports.useMemo(()=>({[`__scope${e}`]:{...A,[e]:m}}),[A,m])}};return l.scopeName=e,[o,composeContextScopes$2(l,...t)]}function composeContextScopes$2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(u){const d=o.reduce((A,{useScope:m,scopeName:f})=>{const v=m(u)[`__scope${f}`];return{...A,...v}},{});return reactExports.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function createSlot$3(e){const t=createSlotClone$3(e),n=reactExports.forwardRef((o,l)=>{const{children:u,...d}=o,A=reactExports.Children.toArray(u),m=A.find(isSlottable$3);if(m){const f=m.props.children,g=A.map(v=>v===m?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:v);return jsxRuntimeExports.jsx(t,{...d,ref:l,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,g):null})}return jsxRuntimeExports.jsx(t,{...d,ref:l,children:u})});return n.displayName=`${e}.Slot`,n}function createSlotClone$3(e){const t=reactExports.forwardRef((n,o)=>{const{children:l,...u}=n;if(reactExports.isValidElement(l)){const d=getElementRef$4(l),A=mergeProps$3(u,l.props);return l.type!==reactExports.Fragment&&(A.ref=o?composeRefs(o,d):d),reactExports.cloneElement(l,A)}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$3(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$3(e,t){const n={...t};for(const o in t){const l=e[o],u=t[o];/^on[A-Z]/.test(o)?l&&u?n[o]=(...A)=>{const m=u(...A);return l(...A),m}:l&&(n[o]=l):o==="style"?n[o]={...l,...u}:o==="className"&&(n[o]=[l,u].filter(Boolean).join(" "))}return{...e,...n}}function getElementRef$4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function createCollection(e){const t=e+"CollectionProvider",[n,o]=createContextScope$2(t),[l,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=E=>{const{scope:R,children:_}=E,N=React.useRef(null),B=React.useRef(new Map).current;return jsxRuntimeExports.jsx(l,{scope:R,itemMap:B,collectionRef:N,children:_})};d.displayName=t;const A=e+"CollectionSlot",m=createSlot$3(A),f=React.forwardRef((E,R)=>{const{scope:_,children:N}=E,B=u(A,_),M=useComposedRefs(R,B.collectionRef);return jsxRuntimeExports.jsx(m,{ref:M,children:N})});f.displayName=A;const g=e+"CollectionItemSlot",v="data-radix-collection-item",b=createSlot$3(g),w=React.forwardRef((E,R)=>{const{scope:_,children:N,...B}=E,M=React.useRef(null),O=useComposedRefs(R,M),F=u(g,_);return React.useEffect(()=>(F.itemMap.set(M,{ref:M,...B}),()=>void F.itemMap.delete(M))),jsxRuntimeExports.jsx(b,{[v]:"",ref:O,children:N})});w.displayName=g;function j(E){const R=u(e+"CollectionConsumer",E);return React.useCallback(()=>{const N=R.collectionRef.current;if(!N)return[];const B=Array.from(N.querySelectorAll(`[${v}]`));return Array.from(R.itemMap.values()).sort((F,$)=>B.indexOf(F.ref.current)-B.indexOf($.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:d,Slot:f,ItemSlot:w},j,o]}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId(e){const[t,n]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{n(o=>o??String(count$1++))},[e]),e||(t?`radix-${t}`:"")}function createSlot$2(e){const t=createSlotClone$2(e),n=reactExports.forwardRef((o,l)=>{const{children:u,...d}=o,A=reactExports.Children.toArray(u),m=A.find(isSlottable$2);if(m){const f=m.props.children,g=A.map(v=>v===m?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:v);return jsxRuntimeExports.jsx(t,{...d,ref:l,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,g):null})}return jsxRuntimeExports.jsx(t,{...d,ref:l,children:u})});return n.displayName=`${e}.Slot`,n}function createSlotClone$2(e){const t=reactExports.forwardRef((n,o)=>{const{children:l,...u}=n;if(reactExports.isValidElement(l)){const d=getElementRef$3(l),A=mergeProps$2(u,l.props);return l.type!==reactExports.Fragment&&(A.ref=o?composeRefs(o,d):d),reactExports.cloneElement(l,A)}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function isSlottable$2(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$2}function mergeProps$2(e,t){const n={...t};for(const o in t){const l=e[o],u=t[o];/^on[A-Z]/.test(o)?l&&u?n[o]=(...A)=>{const m=u(...A);return l(...A),m}:l&&(n[o]=l):o==="style"?n[o]={...l,...u}:o==="className"&&(n[o]=[l,u].filter(Boolean).join(" "))}return{...e,...n}}function getElementRef$3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$2=NODES$2.reduce((e,t)=>{const n=createSlot$2(`Primitive.${t}`),o=reactExports.forwardRef((l,u)=>{const{asChild:d,...A}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...A,ref:u})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function dispatchDiscreteCustomEvent(e,t){e&&reactDomExports.flushSync(()=>e.dispatchEvent(t))}function useCallbackRef$1(e){const t=reactExports.useRef(e);return reactExports.useEffect(()=>{t.current=e}),reactExports.useMemo(()=>(...n)=>t.current?.(...n),[])}var useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[l,u,d]=useUncontrolledState({defaultProp:t,onChange:n}),A=e!==void 0,m=A?e:l;{const g=reactExports.useRef(e!==void 0);reactExports.useEffect(()=>{const v=g.current;v!==A&&console.warn(`${o} is changing from ${v?"controlled":"uncontrolled"} to ${A?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=A},[A,o])}const f=reactExports.useCallback(g=>{if(A){const v=isFunction$1(g)?g(e):g;v!==e&&d.current?.(v)}else u(g)},[A,e,u,d]);return[m,f]}function useUncontrolledState({defaultProp:e,onChange:t}){const[n,o]=reactExports.useState(e),l=reactExports.useRef(n),u=reactExports.useRef(t);return useInsertionEffect(()=>{u.current=t},[t]),reactExports.useEffect(()=>{l.current!==n&&(u.current?.(n),l.current=n)},[n,l]),[n,o,u]}function isFunction$1(e){return typeof e=="function"}var DirectionContext=reactExports.createContext(void 0);function useDirection(e){const t=reactExports.useContext(DirectionContext);return e||t||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME$1="RovingFocusGroup",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(GROUP_NAME$1),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope$2(GROUP_NAME$1,[createCollectionScope$3]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$1),RovingFocusGroup=reactExports.forwardRef((e,t)=>jsxRuntimeExports.jsx(Collection$3.Provider,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:e.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...e,ref:t})})}));RovingFocusGroup.displayName=GROUP_NAME$1;var RovingFocusGroupImpl=reactExports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:l=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:A,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...v}=e,b=reactExports.useRef(null),w=useComposedRefs(t,b),j=useDirection(u),[E,R]=useControllableState({prop:d,defaultProp:A??null,onChange:m,caller:GROUP_NAME$1}),[_,N]=reactExports.useState(!1),B=useCallbackRef$1(f),M=useCollection$3(n),O=reactExports.useRef(!1),[F,$]=reactExports.useState(0);return reactExports.useEffect(()=>{const z=b.current;if(z)return z.addEventListener(ENTRY_FOCUS,B),()=>z.removeEventListener(ENTRY_FOCUS,B)},[B]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:n,orientation:o,dir:j,loop:l,currentTabStopId:E,onItemFocus:reactExports.useCallback(z=>R(z),[R]),onItemShiftTab:reactExports.useCallback(()=>N(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>$(z=>z+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>$(z=>z-1),[]),children:jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:_||F===0?-1:0,"data-orientation":o,...v,ref:w,style:{outline:"none",...e.style},onMouseDown:composeEventHandlers(e.onMouseDown,()=>{O.current=!0}),onFocus:composeEventHandlers(e.onFocus,z=>{const se=!O.current;if(z.target===z.currentTarget&&se&&!_){const ce=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(z.currentTarget.dispatchEvent(ce),!ce.defaultPrevented){const ie=M().filter(Y=>Y.focusable),pe=ie.find(Y=>Y.active),xe=ie.find(Y=>Y.id===E),ue=[pe,xe,...ie].filter(Boolean).map(Y=>Y.ref.current);focusFirst$1(ue,g)}}O.current=!1}),onBlur:composeEventHandlers(e.onBlur,()=>N(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:l=!1,tabStopId:u,children:d,...A}=e,m=useId(),f=u||m,g=useRovingFocusContext(ITEM_NAME$2,n),v=g.currentTabStopId===f,b=useCollection$3(n),{onFocusableItemAdd:w,onFocusableItemRemove:j,currentTabStopId:E}=g;return reactExports.useEffect(()=>{if(o)return w(),()=>j()},[o,w,j]),jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:n,id:f,focusable:o,active:l,children:jsxRuntimeExports.jsx(Primitive$2.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...A,ref:t,onMouseDown:composeEventHandlers(e.onMouseDown,R=>{o?g.onItemFocus(f):R.preventDefault()}),onFocus:composeEventHandlers(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:composeEventHandlers(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){g.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const _=getFocusIntent(R,g.orientation,g.dir);if(_!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let B=b().filter(M=>M.focusable).map(M=>M.ref.current);if(_==="last")B.reverse();else if(_==="prev"||_==="next"){_==="prev"&&B.reverse();const M=B.indexOf(R.currentTarget);B=g.loop?wrapArray$1(B,M+1):B.slice(M+1)}setTimeout(()=>focusFirst$1(B))}}),children:typeof d=="function"?d({isCurrentTabStop:v,hasTabStop:E!=null}):d})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function getFocusIntent(e,t,n){const o=getDirectionAwareKey(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return MAP_KEY_TO_FOCUS_INTENT[o]}function focusFirst$1(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function wrapArray$1(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Root$7=RovingFocusGroup,Item$2=RovingFocusGroupItem;function useStateMachine(e,t){return reactExports.useReducer((n,o)=>t[n][o]??n,e)}var Presence=e=>{const{present:t,children:n}=e,o=usePresence(t),l=typeof n=="function"?n({present:o.isPresent}):reactExports.Children.only(n),u=useComposedRefs(o.ref,getElementRef$2(l));return typeof n=="function"||o.isPresent?reactExports.cloneElement(l,{ref:u}):null};Presence.displayName="Presence";function usePresence(e){const[t,n]=reactExports.useState(),o=reactExports.useRef(null),l=reactExports.useRef(e),u=reactExports.useRef("none"),d=e?"mounted":"unmounted",[A,m]=useStateMachine(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const f=getAnimationName(o.current);u.current=A==="mounted"?f:"none"},[A]),useLayoutEffect2(()=>{const f=o.current,g=l.current;if(g!==e){const b=u.current,w=getAnimationName(f);e?m("MOUNT"):w==="none"||f?.display==="none"?m("UNMOUNT"):m(g&&b!==w?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),useLayoutEffect2(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,v=w=>{const E=getAnimationName(o.current).includes(CSS.escape(w.animationName));if(w.target===t&&E&&(m("ANIMATION_END"),!l.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},b=w=>{w.target===t&&(u.current=getAnimationName(o.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(A),ref:reactExports.useCallback(f=>{o.current=f?getComputedStyle(f):null,n(f)},[])}}function getAnimationName(e){return e?.animationName||"none"}function getElementRef$2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var TABS_NAME="Tabs",[createTabsContext]=createContextScope$2(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:l,defaultValue:u,orientation:d="horizontal",dir:A,activationMode:m="automatic",...f}=e,g=useDirection(A),[v,b]=useControllableState({prop:o,onChange:l,defaultProp:u??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:n,baseId:useId(),value:v,onValueChange:b,orientation:d,dir:g,activationMode:m,children:jsxRuntimeExports.jsx(Primitive$2.div,{dir:g,"data-orientation":d,...f,ref:t})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...l}=e,u=useTabsContext(TAB_LIST_NAME,n),d=useRovingFocusGroupScope(n);return jsxRuntimeExports.jsx(Root$7,{asChild:!0,...d,orientation:u.orientation,dir:u.dir,loop:o,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"tablist","aria-orientation":u.orientation,...l,ref:t})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$4="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:l=!1,...u}=e,d=useTabsContext(TRIGGER_NAME$4,n),A=useRovingFocusGroupScope(n),m=makeTriggerId(d.baseId,o),f=makeContentId(d.baseId,o),g=o===d.value;return jsxRuntimeExports.jsx(Item$2,{asChild:!0,...A,focusable:!l,active:g,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...u,ref:t,onMouseDown:composeEventHandlers(e.onMouseDown,v=>{!l&&v.button===0&&v.ctrlKey===!1?d.onValueChange(o):v.preventDefault()}),onKeyDown:composeEventHandlers(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&d.onValueChange(o)}),onFocus:composeEventHandlers(e.onFocus,()=>{const v=d.activationMode!=="manual";!g&&!l&&v&&d.onValueChange(o)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$4;var CONTENT_NAME$5="TabsContent",TabsContent$1=reactExports.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:l,children:u,...d}=e,A=useTabsContext(CONTENT_NAME$5,n),m=makeTriggerId(A.baseId,o),f=makeContentId(A.baseId,o),g=o===A.value,v=reactExports.useRef(g);return reactExports.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),jsxRuntimeExports.jsx(Presence,{present:l||g,children:({present:b})=>jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":g?"active":"inactive","data-orientation":A.orientation,role:"tabpanel","aria-labelledby":m,hidden:!b,id:f,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:b&&u})})});TabsContent$1.displayName=CONTENT_NAME$5;function makeTriggerId(e,t){return`${e}-trigger-${t}`}function makeContentId(e,t){return`${e}-content-${t}`}var Root2$3=Tabs$1,List=TabsList$1,Trigger$2=TabsTrigger$1,Content$3=TabsContent$1;function Tabs({className:e,...t}){return jsxRuntimeExports.jsx(Root2$3,{"data-slot":"tabs",className:cn("flex flex-col gap-2",e),...t})}function TabsList({className:e,...t}){return jsxRuntimeExports.jsx(List,{"data-slot":"tabs-list",className:cn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function TabsTrigger({className:e,...t}){return jsxRuntimeExports.jsx(Trigger$2,{"data-slot":"tabs-trigger",className:cn("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function TabsContent({className:e,...t}){return jsxRuntimeExports.jsx(Content$3,{"data-slot":"tabs-content",className:cn("flex-1 outline-none",e),...t})}const ENTRY_BY_ID={cn:{id:"cn",marketCode:"CN",defaultLanguageSpace:"zh",defaultLocale:"zh",brandId:"cn-default",appBasePath:"/app"},sg:{id:"sg",marketCode:"SG",defaultLanguageSpace:"en",defaultLocale:"en",brandId:"sg-default",appBasePath:"/app"},default:{id:"default",marketCode:"GLOBAL",defaultLanguageSpace:"zh",defaultLocale:"zh",brandId:"cn-default",appBasePath:"/app"}};function detectEntryId(e){const t=e.toLowerCase();return t.startsWith("cn.")||t.includes(".cn.")?"cn":t.startsWith("sg.")||t.includes(".sg.")?"sg":"default"}function resolveEntryConfig(e){if(e?.forcedEntryId&&ENTRY_BY_ID[e.forcedEntryId])return ENTRY_BY_ID[e.forcedEntryId];const t=e?.hostname??(typeof window<"u"?window.location.hostname:""),n=detectEntryId(t||"");return ENTRY_BY_ID[n]}const sharedTokens={"--font-size":"16px","--radius":"0.625rem","--google-blue":"#4285F4","--google-red":"#EA4335","--google-yellow":"#FBBC05","--google-green":"#34A853"},BRAND_MAP={"cn-default":{id:"cn-default",labels:{appName:"AIéšå¿ƒå­¦",appTagline:"AIæ™ºèƒ½è‡ªå­¦å¹³å°",teacherWorkspaceName:"æ•™å¸ˆå¹³å°",studentWorkspaceName:"å­¦ç”Ÿå­¦ä¹ ç©ºé—´",parentWorkspaceName:"å®¶é•¿ä»ªè¡¨ç›˜"},themeTokens:{...sharedTokens,"--primary":"#4F46E5","--primary-hover":"#4338CA","--primary-foreground":"#FFFFFF","--secondary":"#22D3EE","--accent":"#FBBF24","--danger":"#DC2626"}},"sg-default":{id:"sg-default",labels:{appName:"LearnYourWay AI",appTagline:"AI-powered learning platform",teacherWorkspaceName:"Teacher Workspace",studentWorkspaceName:"Student Learning Space",parentWorkspaceName:"Parent Dashboard"},themeTokens:{...sharedTokens,"--primary":"#0EA5E9","--primary-hover":"#0284C7","--primary-foreground":"#FFFFFF","--secondary":"#10B981","--accent":"#F59E0B","--danger":"#DC2626"}}};function getBrandConfig(e){return BRAND_MAP[e]??BRAND_MAP["cn-default"]}function resolveRuntimeExperienceConfig(e){const t=resolveEntryConfig({hostname:e?.hostname,forcedEntryId:e?.forcedEntryId});return{entry:t,brand:getBrandConfig(t.brandId)}}function LoginPage({onSuccess:e}){const t=useNavigate(),[n]=useSearchParams(),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(""),[A,m]=reactExports.useState(""),[f,g]=reactExports.useState("student"),[v,b]=reactExports.useState(!1),[w,j]=reactExports.useState(""),{login:E,register:R}=useAuth(),_=resolveRuntimeExperienceConfig(),N=n.get("redirect"),B=()=>{N&&N.startsWith("/")?t(N):e()},M=async F=>{F.preventDefault(),b(!0),j("");try{await E(o,u),B()}catch($){console.error("Login failed:",$),j($.message||"Login failed")}finally{b(!1)}},O=async F=>{F.preventDefault(),b(!0),j("");try{await R(o,u,A,f),B()}catch($){console.error("Registration failed:",$),j($.message||"Registration failed")}finally{b(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs("div",{className:"w-full grid lg:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:block relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-200 via-orange-300 to-orange-400 opacity-80"}),jsxRuntimeExports.jsxs("div",{className:"absolute top-0 right-0 w-1/2 h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-8 right-8 w-80 h-80 bg-white/30 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-16 right-16 w-60 h-60 bg-white/40 rounded-full blur-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 h-full flex items-center justify-center px-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-lg space-y-8",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 leading-tight",children:_.entry.defaultLanguageSpace==="zh"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["ä¸ºæ¯ä½å­¦ä¹ è€…",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-indigo-600",children:"é‡å¡‘"}),jsxRuntimeExports.jsx("br",{}),"è‡ªå­¦ä½“éªŒ"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Reimagine",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-indigo-600",children:"Self Learning"}),jsxRuntimeExports.jsx("br",{}),"for Every Learner"]})}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:_.entry.defaultLanguageSpace==="zh"?"AIéšå¿ƒå­¦å°†æ•™æå’Œå­¦ä¹ èµ„æ–™è½¬åŒ–ä¸ºå¼•äººå…¥èƒœçš„å¤šåª’ä½“å­¦ä¹ ä½“éªŒï¼Œä¸ºä½ é‡èº«å®šåˆ¶ã€‚":"LearnYourWay AI transforms learning materials into engaging, personalized experiences."})]})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center p-8 bg-white",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-md",children:jsxRuntimeExports.jsxs(Card,{className:"w-full shadow-xl border-gray-200",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl text-[#1a73e8]",children:_.entry.defaultLanguageSpace==="zh"?"æ¬¢è¿Žä½¿ç”¨":`Welcome to ${_.brand.labels.appName}`}),jsxRuntimeExports.jsx(CardDescription,{children:_.entry.defaultLanguageSpace==="zh"?"ç™»å½•æˆ–æ³¨å†Œå¼€å§‹æ‚¨çš„å­¦ä¹ ä¹‹æ—…":"Sign in or create an account to start learning"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[w&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:w}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"login",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2 bg-gray-100 p-1 rounded-lg",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"login",className:"data-[state=active]:bg-white data-[state=active]:text-[#1a73e8] data-[state=active]:shadow-sm",children:"ç™»å½•"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"register",className:"data-[state=active]:bg-white data-[state=active]:text-[#1a73e8] data-[state=active]:shadow-sm",children:"æ³¨å†Œ"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"login",children:jsxRuntimeExports.jsxs("form",{onSubmit:M,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"é‚®ç®±"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"è¾“å…¥æ‚¨çš„é‚®ç®±",value:o,onChange:F=>l(F.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"å¯†ç "}),jsxRuntimeExports.jsx(Link$1,{to:"/forgot-password",className:"text-sm text-[#1a73e8] hover:underline",children:"å¿˜è®°å¯†ç ï¼Ÿ"})]}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",placeholder:"è¾“å…¥æ‚¨çš„å¯†ç ",value:u,onChange:F=>d(F.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"default",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:v,children:v?"ç™»å½•ä¸­...":"ç™»å½•"})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"register",children:jsxRuntimeExports.jsxs("form",{onSubmit:O,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"å§“å"}),jsxRuntimeExports.jsx(Input,{id:"name",type:"text",placeholder:"è¾“å…¥æ‚¨çš„å§“å",value:A,onChange:F=>m(F.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"register-email",children:"é‚®ç®±"}),jsxRuntimeExports.jsx(Input,{id:"register-email",type:"email",placeholder:"è¾“å…¥æ‚¨çš„é‚®ç®±",value:o,onChange:F=>l(F.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"register-password",children:"å¯†ç "}),jsxRuntimeExports.jsx(Input,{id:"register-password",type:"password",placeholder:"åˆ›å»ºå¯†ç ",value:u,onChange:F=>d(F.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"role",children:"è§’è‰²"}),jsxRuntimeExports.jsxs("select",{id:"role",value:f,onChange:F=>g(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#1a73e8] focus:border-[#1a73e8]",children:[jsxRuntimeExports.jsx("option",{value:"student",children:"å­¦ç”Ÿ"}),jsxRuntimeExports.jsx("option",{value:"teacher",children:"æ•™å¸ˆ"}),jsxRuntimeExports.jsx("option",{value:"parent",children:"å®¶é•¿"})]})]}),jsxRuntimeExports.jsx(Button,{type:"submit",variant:"default",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:v,children:v?"æ³¨å†Œä¸­...":"æ³¨å†Œ"})]})})]})]})]})})})]})})}function clamp$2(e,[t,n]){return Math.min(n,Math.max(t,e))}function useEscapeKeydown(e,t=globalThis?.document){const n=useCallbackRef$1(e);reactExports.useEffect(()=>{const o=l=>{l.key==="Escape"&&n(l)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,onDismiss:A,...m}=e,f=reactExports.useContext(DismissableLayerContext),[g,v]=reactExports.useState(null),b=g?.ownerDocument??globalThis?.document,[,w]=reactExports.useState({}),j=useComposedRefs(t,$=>v($)),E=Array.from(f.layers),[R]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=E.indexOf(R),N=g?E.indexOf(g):-1,B=f.layersWithOutsidePointerEventsDisabled.size>0,M=N>=_,O=usePointerDownOutside($=>{const z=$.target,se=[...f.branches].some(ce=>ce.contains(z));!M||se||(l?.($),d?.($),$.defaultPrevented||A?.())},b),F=useFocusOutside($=>{const z=$.target;[...f.branches].some(ce=>ce.contains(z))||(u?.($),d?.($),$.defaultPrevented||A?.())},b);return useEscapeKeydown($=>{N===f.layers.size-1&&(o?.($),!$.defaultPrevented&&A&&($.preventDefault(),A()))},b),reactExports.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),dispatchUpdate(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=originalBodyPointerEvents)}},[g,b,n,f]),reactExports.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),dispatchUpdate())},[g,f]),reactExports.useEffect(()=>{const $=()=>w({});return document.addEventListener(CONTEXT_UPDATE,$),()=>document.removeEventListener(CONTEXT_UPDATE,$)},[]),jsxRuntimeExports.jsx(Primitive$2.div,{...m,ref:j,style:{pointerEvents:B?M?"auto":"none":void 0,...e.style},onFocusCapture:composeEventHandlers(e.onFocusCapture,F.onFocusCapture),onBlurCapture:composeEventHandlers(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:composeEventHandlers(e.onPointerDownCapture,O.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((e,t)=>{const n=reactExports.useContext(DismissableLayerContext),o=reactExports.useRef(null),l=useComposedRefs(t,o);return reactExports.useEffect(()=>{const u=o.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),jsxRuntimeExports.jsx(Primitive$2.div,{...e,ref:l})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(e,t=globalThis?.document){const n=useCallbackRef$1(e),o=reactExports.useRef(!1),l=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const u=A=>{if(A.target&&!o.current){let m=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,n,f,{discrete:!0})};const f={originalEvent:A};A.pointerType==="touch"?(t.removeEventListener("click",l.current),l.current=m,t.addEventListener("click",l.current,{once:!0})):m()}else t.removeEventListener("click",l.current);o.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",u),t.removeEventListener("click",l.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function useFocusOutside(e,t=globalThis?.document){const n=useCallbackRef$1(e),o=reactExports.useRef(!1);return reactExports.useEffect(()=>{const l=u=>{u.target&&!o.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",l),()=>t.removeEventListener("focusin",l)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function dispatchUpdate(){const e=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(e)}function handleAndDispatchCustomEvent(e,t,n,{discrete:o}){const l=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&l.addEventListener(e,t,{once:!0}),o?dispatchDiscreteCustomEvent(l,u):l.dispatchEvent(u)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",e[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),count--}},[])}function createFocusGuard(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:l,onUnmountAutoFocus:u,...d}=e,[A,m]=reactExports.useState(null),f=useCallbackRef$1(l),g=useCallbackRef$1(u),v=reactExports.useRef(null),b=useComposedRefs(t,E=>m(E)),w=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(o){let E=function(B){if(w.paused||!A)return;const M=B.target;A.contains(M)?v.current=M:focus(v.current,{select:!0})},R=function(B){if(w.paused||!A)return;const M=B.relatedTarget;M!==null&&(A.contains(M)||focus(v.current,{select:!0}))},_=function(B){if(document.activeElement===document.body)for(const O of B)O.removedNodes.length>0&&focus(A)};document.addEventListener("focusin",E),document.addEventListener("focusout",R);const N=new MutationObserver(_);return A&&N.observe(A,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",R),N.disconnect()}}},[o,A,w.paused]),reactExports.useEffect(()=>{if(A){focusScopesStack.add(w);const E=document.activeElement;if(!A.contains(E)){const _=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);A.addEventListener(AUTOFOCUS_ON_MOUNT,f),A.dispatchEvent(_),_.defaultPrevented||(focusFirst(removeLinks(getTabbableCandidates(A)),{select:!0}),document.activeElement===E&&focus(A))}return()=>{A.removeEventListener(AUTOFOCUS_ON_MOUNT,f),setTimeout(()=>{const _=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);A.addEventListener(AUTOFOCUS_ON_UNMOUNT,g),A.dispatchEvent(_),_.defaultPrevented||focus(E??document.body,{select:!0}),A.removeEventListener(AUTOFOCUS_ON_UNMOUNT,g),focusScopesStack.remove(w)},0)}}},[A,f,g,w]);const j=reactExports.useCallback(E=>{if(!n&&!o||w.paused)return;const R=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,_=document.activeElement;if(R&&_){const N=E.currentTarget,[B,M]=getTabbableEdges(N);B&&M?!E.shiftKey&&_===M?(E.preventDefault(),n&&focus(B,{select:!0})):E.shiftKey&&_===B&&(E.preventDefault(),n&&focus(M,{select:!0})):_===N&&E.preventDefault()}},[n,o,w.paused]);return jsxRuntimeExports.jsx(Primitive$2.div,{tabIndex:-1,...d,ref:b,onKeyDown:j})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(focus(o,{select:t}),document.activeElement!==n)return}function getTabbableEdges(e){const t=getTabbableCandidates(e),n=findVisible(t,e),o=findVisible(t.reverse(),e);return[n,o]}function getTabbableCandidates(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function findVisible(e,t){for(const n of e)if(!isHidden(n,{upTo:t}))return n}function isHidden(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function isSelectableInput(e){return e instanceof HTMLInputElement&&"select"in e}function focus(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&isSelectableInput(e)&&t&&e.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=arrayRemove(e,t),e.unshift(t)},remove(t){e=arrayRemove(e,t),e[0]?.resume()}}}function arrayRemove(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function removeLinks(e){return e.filter(t=>t.tagName!=="A")}const sides=["top","right","bottom","left"],min$3=Math.min,max$3=Math.max,round$1=Math.round,floor=Math.floor,createCoords=e=>({x:e,y:e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(e,t,n){return max$3(e,min$3(t,n))}function evaluate(e,t){return typeof e=="function"?e(t):e}function getSide(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return e==="x"?"y":"x"}function getAxisLength(e){return e==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(e){return yAxisSides.has(getSide(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function getAlignmentSides(e,t,n){n===void 0&&(n=!1);const o=getAlignment(e),l=getAlignmentAxis(e),u=getAxisLength(l);let d=l==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(d=getOppositePlacement(d)),[d,getOppositePlacement(d)]}function getExpandedPlacements(e){const t=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),t,getOppositeAlignmentPlacement(t)]}function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,t=>oppositeAlignmentMap[t])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(e,t,n){switch(e){case"top":case"bottom":return n?t?rlPlacement:lrPlacement:t?lrPlacement:rlPlacement;case"left":case"right":return t?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(e,t,n,o){const l=getAlignment(e);let u=getSideList(getSide(e),n==="start",o);return l&&(u=u.map(d=>d+"-"+l),t&&(u=u.concat(u.map(getOppositeAlignmentPlacement)))),u}function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,t=>oppositeSideMap[t])}function expandPaddingObject(e){return{top:0,right:0,bottom:0,left:0,...e}}function getPaddingObject(e){return typeof e!="number"?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){const{x:t,y:n,width:o,height:l}=e;return{width:o,height:l,top:n,left:t,right:t+o,bottom:n+l,x:t,y:n}}function computeCoordsFromPlacement(e,t,n){let{reference:o,floating:l}=e;const u=getSideAxis(t),d=getAlignmentAxis(t),A=getAxisLength(d),m=getSide(t),f=u==="y",g=o.x+o.width/2-l.width/2,v=o.y+o.height/2-l.height/2,b=o[A]/2-l[A]/2;let w;switch(m){case"top":w={x:g,y:o.y-l.height};break;case"bottom":w={x:g,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:v};break;case"left":w={x:o.x-l.width,y:v};break;default:w={x:o.x,y:o.y}}switch(getAlignment(t)){case"start":w[d]-=b*(n&&f?-1:1);break;case"end":w[d]+=b*(n&&f?-1:1);break}return w}async function detectOverflow(e,t){var n;t===void 0&&(t={});const{x:o,y:l,platform:u,rects:d,elements:A,strategy:m}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:b=!1,padding:w=0}=evaluate(t,e),j=getPaddingObject(w),R=A[b?v==="floating"?"reference":"floating":v],_=rectToClientRect(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(R)))==null||n?R:R.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(A.floating)),boundary:f,rootBoundary:g,strategy:m})),N=v==="floating"?{x:o,y:l,width:d.floating.width,height:d.floating.height}:d.reference,B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(A.floating)),M=await(u.isElement==null?void 0:u.isElement(B))?await(u.getScale==null?void 0:u.getScale(B))||{x:1,y:1}:{x:1,y:1},O=rectToClientRect(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:A,rect:N,offsetParent:B,strategy:m}):N);return{top:(_.top-O.top+j.top)/M.y,bottom:(O.bottom-_.bottom+j.bottom)/M.y,left:(_.left-O.left+j.left)/M.x,right:(O.right-_.right+j.right)/M.x}}const computePosition$1=async(e,t,n)=>{const{placement:o="bottom",strategy:l="absolute",middleware:u=[],platform:d}=n,A=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let f=await d.getElementRects({reference:e,floating:t,strategy:l}),{x:g,y:v}=computeCoordsFromPlacement(f,o,m),b=o,w={},j=0;for(let R=0;R<A.length;R++){var E;const{name:_,fn:N}=A[R],{x:B,y:M,data:O,reset:F}=await N({x:g,y:v,initialPlacement:o,placement:b,strategy:l,middlewareData:w,rects:f,platform:{...d,detectOverflow:(E=d.detectOverflow)!=null?E:detectOverflow},elements:{reference:e,floating:t}});g=B??g,v=M??v,w={...w,[_]:{...w[_],...O}},F&&j<=50&&(j++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(f=F.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:l}):F.rects),{x:g,y:v}=computeCoordsFromPlacement(f,b,m)),R=-1)}return{x:g,y:v,placement:b,strategy:l,middlewareData:w}},arrow$3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:l,rects:u,platform:d,elements:A,middlewareData:m}=t,{element:f,padding:g=0}=evaluate(e,t)||{};if(f==null)return{};const v=getPaddingObject(g),b={x:n,y:o},w=getAlignmentAxis(l),j=getAxisLength(w),E=await d.getDimensions(f),R=w==="y",_=R?"top":"left",N=R?"bottom":"right",B=R?"clientHeight":"clientWidth",M=u.reference[j]+u.reference[w]-b[w]-u.floating[j],O=b[w]-u.reference[w],F=await(d.getOffsetParent==null?void 0:d.getOffsetParent(f));let $=F?F[B]:0;(!$||!await(d.isElement==null?void 0:d.isElement(F)))&&($=A.floating[B]||u.floating[j]);const z=M/2-O/2,se=$/2-E[j]/2-1,ce=min$3(v[_],se),ie=min$3(v[N],se),pe=ce,xe=$-E[j]-ie,Ae=$/2-E[j]/2+z,ue=clamp$1(pe,Ae,xe),Y=!m.arrow&&getAlignment(l)!=null&&Ae!==ue&&u.reference[j]/2-(Ae<pe?ce:ie)-E[j]/2<0,fe=Y?Ae<pe?Ae-pe:Ae-xe:0;return{[w]:b[w]+fe,data:{[w]:ue,centerOffset:Ae-ue-fe,...Y&&{alignmentOffset:fe}},reset:Y}}}),flip$2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:l,middlewareData:u,rects:d,initialPlacement:A,platform:m,elements:f}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:E=!0,...R}=evaluate(e,t);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const _=getSide(l),N=getSideAxis(A),B=getSide(A)===A,M=await(m.isRTL==null?void 0:m.isRTL(f.floating)),O=b||(B||!E?[getOppositePlacement(A)]:getExpandedPlacements(A)),F=j!=="none";!b&&F&&O.push(...getOppositeAxisPlacements(A,E,j,M));const $=[A,...O],z=await m.detectOverflow(t,R),se=[];let ce=((o=u.flip)==null?void 0:o.overflows)||[];if(g&&se.push(z[_]),v){const Ae=getAlignmentSides(l,d,M);se.push(z[Ae[0]],z[Ae[1]])}if(ce=[...ce,{placement:l,overflows:se}],!se.every(Ae=>Ae<=0)){var ie,pe;const Ae=(((ie=u.flip)==null?void 0:ie.index)||0)+1,ue=$[Ae];if(ue&&(!(v==="alignment"?N!==getSideAxis(ue):!1)||ce.every(H=>getSideAxis(H.placement)===N?H.overflows[0]>0:!0)))return{data:{index:Ae,overflows:ce},reset:{placement:ue}};let Y=(pe=ce.filter(fe=>fe.overflows[0]<=0).sort((fe,H)=>fe.overflows[1]-H.overflows[1])[0])==null?void 0:pe.placement;if(!Y)switch(w){case"bestFit":{var xe;const fe=(xe=ce.filter(H=>{if(F){const le=getSideAxis(H.placement);return le===N||le==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(le=>le>0).reduce((le,de)=>le+de,0)]).sort((H,le)=>H[1]-le[1])[0])==null?void 0:xe[0];fe&&(Y=fe);break}case"initialPlacement":Y=A;break}if(l!==Y)return{reset:{placement:Y}}}return{}}}};function getSideOffsets(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function isAnySideFullyClipped(e){return sides.some(t=>e[t]>=0)}const hide$2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:o}=t,{strategy:l="referenceHidden",...u}=evaluate(e,t);switch(l){case"referenceHidden":{const d=await o.detectOverflow(t,{...u,elementContext:"reference"}),A=getSideOffsets(d,n.reference);return{data:{referenceHiddenOffsets:A,referenceHidden:isAnySideFullyClipped(A)}}}case"escaped":{const d=await o.detectOverflow(t,{...u,altBoundary:!0}),A=getSideOffsets(d,n.floating);return{data:{escapedOffsets:A,escaped:isAnySideFullyClipped(A)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(e,t){const{placement:n,platform:o,elements:l}=e,u=await(o.isRTL==null?void 0:o.isRTL(l.floating)),d=getSide(n),A=getAlignment(n),m=getSideAxis(n)==="y",f=originSides.has(d)?-1:1,g=u&&m?-1:1,v=evaluate(t,e);let{mainAxis:b,crossAxis:w,alignmentAxis:j}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return A&&typeof j=="number"&&(w=A==="end"?j*-1:j),m?{x:w*g,y:b*f}:{x:b*f,y:w*g}}const offset$2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:l,y:u,placement:d,middlewareData:A}=t,m=await convertValueToCoords(t,e);return d===((n=A.offset)==null?void 0:n.placement)&&(o=A.arrow)!=null&&o.alignmentOffset?{}:{x:l+m.x,y:u+m.y,data:{...m,placement:d}}}}},shift$2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:l,platform:u}=t,{mainAxis:d=!0,crossAxis:A=!1,limiter:m={fn:_=>{let{x:N,y:B}=_;return{x:N,y:B}}},...f}=evaluate(e,t),g={x:n,y:o},v=await u.detectOverflow(t,f),b=getSideAxis(getSide(l)),w=getOppositeAxis(b);let j=g[w],E=g[b];if(d){const _=w==="y"?"top":"left",N=w==="y"?"bottom":"right",B=j+v[_],M=j-v[N];j=clamp$1(B,j,M)}if(A){const _=b==="y"?"top":"left",N=b==="y"?"bottom":"right",B=E+v[_],M=E-v[N];E=clamp$1(B,E,M)}const R=m.fn({...t,[w]:j,[b]:E});return{...R,data:{x:R.x-n,y:R.y-o,enabled:{[w]:d,[b]:A}}}}}},limitShift$2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:l,rects:u,middlewareData:d}=t,{offset:A=0,mainAxis:m=!0,crossAxis:f=!0}=evaluate(e,t),g={x:n,y:o},v=getSideAxis(l),b=getOppositeAxis(v);let w=g[b],j=g[v];const E=evaluate(A,t),R=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(m){const B=b==="y"?"height":"width",M=u.reference[b]-u.floating[B]+R.mainAxis,O=u.reference[b]+u.reference[B]-R.mainAxis;w<M?w=M:w>O&&(w=O)}if(f){var _,N;const B=b==="y"?"width":"height",M=originSides.has(getSide(l)),O=u.reference[v]-u.floating[B]+(M&&((_=d.offset)==null?void 0:_[v])||0)+(M?0:R.crossAxis),F=u.reference[v]+u.reference[B]+(M?0:((N=d.offset)==null?void 0:N[v])||0)-(M?R.crossAxis:0);j<O?j=O:j>F&&(j=F)}return{[b]:w,[v]:j}}}},size$2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:l,rects:u,platform:d,elements:A}=t,{apply:m=()=>{},...f}=evaluate(e,t),g=await d.detectOverflow(t,f),v=getSide(l),b=getAlignment(l),w=getSideAxis(l)==="y",{width:j,height:E}=u.floating;let R,_;v==="top"||v==="bottom"?(R=v,_=b===(await(d.isRTL==null?void 0:d.isRTL(A.floating))?"start":"end")?"left":"right"):(_=v,R=b==="end"?"top":"bottom");const N=E-g.top-g.bottom,B=j-g.left-g.right,M=min$3(E-g[R],N),O=min$3(j-g[_],B),F=!t.middlewareData.shift;let $=M,z=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=B),(o=t.middlewareData.shift)!=null&&o.enabled.y&&($=N),F&&!b){const ce=max$3(g.left,0),ie=max$3(g.right,0),pe=max$3(g.top,0),xe=max$3(g.bottom,0);w?z=j-2*(ce!==0||ie!==0?ce+ie:max$3(g.left,g.right)):$=E-2*(pe!==0||xe!==0?pe+xe:max$3(g.top,g.bottom))}await m({...t,availableWidth:z,availableHeight:$});const se=await d.getDimensions(A.floating);return j!==se.width||E!==se.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(e){return isNode$1(e)?(e.nodeName||"").toLowerCase():"#document"}function getWindow(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function getDocumentElement(e){var t;return(t=(isNode$1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function isNode$1(e){return hasWindow()?e instanceof Node||e instanceof getWindow(e).Node:!1}function isElement(e){return hasWindow()?e instanceof Element||e instanceof getWindow(e).Element:!1}function isHTMLElement(e){return hasWindow()?e instanceof HTMLElement||e instanceof getWindow(e).HTMLElement:!1}function isShadowRoot(e){return!hasWindow()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof getWindow(e).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(e){const{overflow:t,overflowX:n,overflowY:o,display:l}=getComputedStyle$1(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!invalidOverflowDisplayValues.has(l)}const tableElements$1=new Set(["table","td","th"]);function isTableElement(e){return tableElements$1.has(getNodeName(e))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(e){return topLayerSelectors.some(t=>{try{return e.matches(t)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(e){const t=isWebKit(),n=isElement(e)?getComputedStyle$1(e):e;return transformProperties.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||willChangeValues.some(o=>(n.willChange||"").includes(o))||containValues.some(o=>(n.contain||"").includes(o))}function getContainingBlock(e){let t=getParentNode(e);for(;isHTMLElement(t)&&!isLastTraversableNode(t);){if(isContainingBlock(t))return t;if(isTopLayer(t))return null;t=getParentNode(t)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(e){return lastTraversableNodeNames.has(getNodeName(e))}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function getNodeScroll(e){return isElement(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function getParentNode(e){if(getNodeName(e)==="html")return e;const t=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(t)?t.host:t}function getNearestOverflowAncestor(e){const t=getParentNode(e);return isLastTraversableNode(t)?e.ownerDocument?e.ownerDocument.body:e.body:isHTMLElement(t)&&isOverflowElement(t)?t:getNearestOverflowAncestor(t)}function getOverflowAncestors(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const l=getNearestOverflowAncestor(e),u=l===((o=e.ownerDocument)==null?void 0:o.body),d=getWindow(l);if(u){const A=getFrameElement(d);return t.concat(d,d.visualViewport||[],isOverflowElement(l)?l:[],A&&n?getOverflowAncestors(A):[])}return t.concat(l,getOverflowAncestors(l,[],n))}function getFrameElement(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function getCssDimensions(e){const t=getComputedStyle$1(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const l=isHTMLElement(e),u=l?e.offsetWidth:n,d=l?e.offsetHeight:o,A=round$1(n)!==u||round$1(o)!==d;return A&&(n=u,o=d),{width:n,height:o,$:A}}function unwrapElement(e){return isElement(e)?e:e.contextElement}function getScale(e){const t=unwrapElement(e);if(!isHTMLElement(t))return createCoords(1);const n=t.getBoundingClientRect(),{width:o,height:l,$:u}=getCssDimensions(t);let d=(u?round$1(n.width):n.width)/o,A=(u?round$1(n.height):n.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!A||!Number.isFinite(A))&&(A=1),{x:d,y:A}}const noOffsets=createCoords(0);function getVisualOffsets(e){const t=getWindow(e);return!isWebKit()||!t.visualViewport?noOffsets:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function shouldAddVisualOffsets(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==getWindow(e)?!1:t}function getBoundingClientRect(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect(),u=unwrapElement(e);let d=createCoords(1);t&&(o?isElement(o)&&(d=getScale(o)):d=getScale(e));const A=shouldAddVisualOffsets(u,n,o)?getVisualOffsets(u):createCoords(0);let m=(l.left+A.x)/d.x,f=(l.top+A.y)/d.y,g=l.width/d.x,v=l.height/d.y;if(u){const b=getWindow(u),w=o&&isElement(o)?getWindow(o):o;let j=b,E=getFrameElement(j);for(;E&&o&&w!==j;){const R=getScale(E),_=E.getBoundingClientRect(),N=getComputedStyle$1(E),B=_.left+(E.clientLeft+parseFloat(N.paddingLeft))*R.x,M=_.top+(E.clientTop+parseFloat(N.paddingTop))*R.y;m*=R.x,f*=R.y,g*=R.x,v*=R.y,m+=B,f+=M,j=getWindow(E),E=getFrameElement(j)}}return rectToClientRect({width:g,height:v,x:m,y:f})}function getWindowScrollBarX(e,t){const n=getNodeScroll(e).scrollLeft;return t?t.left+n:getBoundingClientRect(getDocumentElement(e)).left+n}function getHTMLOffset(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-getWindowScrollBarX(e,n),l=n.top+t.scrollTop;return{x:o,y:l}}function convertOffsetParentRelativeRectToViewportRelativeRect(e){let{elements:t,rect:n,offsetParent:o,strategy:l}=e;const u=l==="fixed",d=getDocumentElement(o),A=t?isTopLayer(t.floating):!1;if(o===d||A&&u)return n;let m={scrollLeft:0,scrollTop:0},f=createCoords(1);const g=createCoords(0),v=isHTMLElement(o);if((v||!v&&!u)&&((getNodeName(o)!=="body"||isOverflowElement(d))&&(m=getNodeScroll(o)),isHTMLElement(o))){const w=getBoundingClientRect(o);f=getScale(o),g.x=w.x+o.clientLeft,g.y=w.y+o.clientTop}const b=d&&!v&&!u?getHTMLOffset(d,m):createCoords(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-m.scrollLeft*f.x+g.x+b.x,y:n.y*f.y-m.scrollTop*f.y+g.y+b.y}}function getClientRects(e){return Array.from(e.getClientRects())}function getDocumentRect(e){const t=getDocumentElement(e),n=getNodeScroll(e),o=e.ownerDocument.body,l=max$3(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),u=max$3(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let d=-n.scrollLeft+getWindowScrollBarX(e);const A=-n.scrollTop;return getComputedStyle$1(o).direction==="rtl"&&(d+=max$3(t.clientWidth,o.clientWidth)-l),{width:l,height:u,x:d,y:A}}const SCROLLBAR_MAX=25;function getViewportRect(e,t){const n=getWindow(e),o=getDocumentElement(e),l=n.visualViewport;let u=o.clientWidth,d=o.clientHeight,A=0,m=0;if(l){u=l.width,d=l.height;const g=isWebKit();(!g||g&&t==="fixed")&&(A=l.offsetLeft,m=l.offsetTop)}const f=getWindowScrollBarX(o);if(f<=0){const g=o.ownerDocument,v=g.body,b=getComputedStyle(v),w=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,j=Math.abs(o.clientWidth-v.clientWidth-w);j<=SCROLLBAR_MAX&&(u-=j)}else f<=SCROLLBAR_MAX&&(u+=f);return{width:u,height:d,x:A,y:m}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(e,t){const n=getBoundingClientRect(e,!0,t==="fixed"),o=n.top+e.clientTop,l=n.left+e.clientLeft,u=isHTMLElement(e)?getScale(e):createCoords(1),d=e.clientWidth*u.x,A=e.clientHeight*u.y,m=l*u.x,f=o*u.y;return{width:d,height:A,x:m,y:f}}function getClientRectFromClippingAncestor(e,t,n){let o;if(t==="viewport")o=getViewportRect(e,n);else if(t==="document")o=getDocumentRect(getDocumentElement(e));else if(isElement(t))o=getInnerBoundingClientRect(t,n);else{const l=getVisualOffsets(e);o={x:t.x-l.x,y:t.y-l.y,width:t.width,height:t.height}}return rectToClientRect(o)}function hasFixedPositionAncestor(e,t){const n=getParentNode(e);return n===t||!isElement(n)||isLastTraversableNode(n)?!1:getComputedStyle$1(n).position==="fixed"||hasFixedPositionAncestor(n,t)}function getClippingElementAncestors(e,t){const n=t.get(e);if(n)return n;let o=getOverflowAncestors(e,[],!1).filter(A=>isElement(A)&&getNodeName(A)!=="body"),l=null;const u=getComputedStyle$1(e).position==="fixed";let d=u?getParentNode(e):e;for(;isElement(d)&&!isLastTraversableNode(d);){const A=getComputedStyle$1(d),m=isContainingBlock(d);!m&&A.position==="fixed"&&(l=null),(u?!m&&!l:!m&&A.position==="static"&&!!l&&absoluteOrFixed.has(l.position)||isOverflowElement(d)&&!m&&hasFixedPositionAncestor(e,d))?o=o.filter(g=>g!==d):l=A,d=getParentNode(d)}return t.set(e,o),o}function getClippingRect(e){let{element:t,boundary:n,rootBoundary:o,strategy:l}=e;const d=[...n==="clippingAncestors"?isTopLayer(t)?[]:getClippingElementAncestors(t,this._c):[].concat(n),o],A=d[0],m=d.reduce((f,g)=>{const v=getClientRectFromClippingAncestor(t,g,l);return f.top=max$3(v.top,f.top),f.right=min$3(v.right,f.right),f.bottom=min$3(v.bottom,f.bottom),f.left=max$3(v.left,f.left),f},getClientRectFromClippingAncestor(t,A,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function getDimensions$1(e){const{width:t,height:n}=getCssDimensions(e);return{width:t,height:n}}function getRectRelativeToOffsetParent(e,t,n){const o=isHTMLElement(t),l=getDocumentElement(t),u=n==="fixed",d=getBoundingClientRect(e,!0,u,t);let A={scrollLeft:0,scrollTop:0};const m=createCoords(0);function f(){m.x=getWindowScrollBarX(l)}if(o||!o&&!u)if((getNodeName(t)!=="body"||isOverflowElement(l))&&(A=getNodeScroll(t)),o){const w=getBoundingClientRect(t,!0,u,t);m.x=w.x+t.clientLeft,m.y=w.y+t.clientTop}else l&&f();u&&!o&&l&&f();const g=l&&!o&&!u?getHTMLOffset(l,A):createCoords(0),v=d.left+A.scrollLeft-m.x-g.x,b=d.top+A.scrollTop-m.y-g.y;return{x:v,y:b,width:d.width,height:d.height}}function isStaticPositioned(e){return getComputedStyle$1(e).position==="static"}function getTrueOffsetParent(e,t){if(!isHTMLElement(e)||getComputedStyle$1(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return getDocumentElement(e)===n&&(n=n.ownerDocument.body),n}function getOffsetParent(e,t){const n=getWindow(e);if(isTopLayer(e))return n;if(!isHTMLElement(e)){let l=getParentNode(e);for(;l&&!isLastTraversableNode(l);){if(isElement(l)&&!isStaticPositioned(l))return l;l=getParentNode(l)}return n}let o=getTrueOffsetParent(e,t);for(;o&&isTableElement(o)&&isStaticPositioned(o);)o=getTrueOffsetParent(o,t);return o&&isLastTraversableNode(o)&&isStaticPositioned(o)&&!isContainingBlock(o)?n:o||getContainingBlock(e)||n}const getElementRects=async function(e){const t=this.getOffsetParent||getOffsetParent,n=this.getDimensions,o=await n(e.floating);return{reference:getRectRelativeToOffsetParent(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function isRTL(e){return getComputedStyle$1(e).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions:getDimensions$1,getScale,isElement,isRTL};function rectsAreEqual(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function observeMove(e,t){let n=null,o;const l=getDocumentElement(e);function u(){var A;clearTimeout(o),(A=n)==null||A.disconnect(),n=null}function d(A,m){A===void 0&&(A=!1),m===void 0&&(m=1),u();const f=e.getBoundingClientRect(),{left:g,top:v,width:b,height:w}=f;if(A||t(),!b||!w)return;const j=floor(v),E=floor(l.clientWidth-(g+b)),R=floor(l.clientHeight-(v+w)),_=floor(g),B={rootMargin:-j+"px "+-E+"px "+-R+"px "+-_+"px",threshold:max$3(0,min$3(1,m))||1};let M=!0;function O(F){const $=F[0].intersectionRatio;if($!==m){if(!M)return d();$?d(!1,$):o=setTimeout(()=>{d(!1,1e-7)},1e3)}$===1&&!rectsAreEqual(f,e.getBoundingClientRect())&&d(),M=!1}try{n=new IntersectionObserver(O,{...B,root:l.ownerDocument})}catch{n=new IntersectionObserver(O,B)}n.observe(e)}return d(!0),u}function autoUpdate(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:A=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,f=unwrapElement(e),g=l||u?[...f?getOverflowAncestors(f):[],...getOverflowAncestors(t)]:[];g.forEach(_=>{l&&_.addEventListener("scroll",n,{passive:!0}),u&&_.addEventListener("resize",n)});const v=f&&A?observeMove(f,n):null;let b=-1,w=null;d&&(w=new ResizeObserver(_=>{let[N]=_;N&&N.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var B;(B=w)==null||B.observe(t)})),n()}),f&&!m&&w.observe(f),w.observe(t));let j,E=m?getBoundingClientRect(e):null;m&&R();function R(){const _=getBoundingClientRect(e);E&&!rectsAreEqual(E,_)&&n(),E=_,j=requestAnimationFrame(R)}return n(),()=>{var _;g.forEach(N=>{l&&N.removeEventListener("scroll",n),u&&N.removeEventListener("resize",n)}),v?.(),(_=w)==null||_.disconnect(),w=null,m&&cancelAnimationFrame(j)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(e,t,n)=>{const o=new Map,l={platform,...n},u={...l.platform,_c:o};return computePosition$1(e,t,{...l,platform:u})};var isClient=typeof document<"u",noop$2=function(){},index$2=isClient?reactExports.useLayoutEffect:noop$2;function deepEqual$1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,l;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!deepEqual$1(e[o],t[o]))return!1;return!0}if(l=Object.keys(e),n=l.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,l[o]))return!1;for(o=n;o--!==0;){const u=l[o];if(!(u==="_owner"&&e.$$typeof)&&!deepEqual$1(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function getDPR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(e,t){const n=getDPR(e);return Math.round(t*n)/n}function useLatestRef(e){const t=reactExports.useRef(e);return index$2(()=>{t.current=e}),t}function useFloating(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:l,elements:{reference:u,floating:d}={},transform:A=!0,whileElementsMounted:m,open:f}=e,[g,v]=reactExports.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,w]=reactExports.useState(o);deepEqual$1(b,o)||w(o);const[j,E]=reactExports.useState(null),[R,_]=reactExports.useState(null),N=reactExports.useCallback(H=>{H!==F.current&&(F.current=H,E(H))},[]),B=reactExports.useCallback(H=>{H!==$.current&&($.current=H,_(H))},[]),M=u||j,O=d||R,F=reactExports.useRef(null),$=reactExports.useRef(null),z=reactExports.useRef(g),se=m!=null,ce=useLatestRef(m),ie=useLatestRef(l),pe=useLatestRef(f),xe=reactExports.useCallback(()=>{if(!F.current||!$.current)return;const H={placement:t,strategy:n,middleware:b};ie.current&&(H.platform=ie.current),computePosition(F.current,$.current,H).then(le=>{const de={...le,isPositioned:pe.current!==!1};Ae.current&&!deepEqual$1(z.current,de)&&(z.current=de,reactDomExports.flushSync(()=>{v(de)}))})},[b,t,n,ie,pe]);index$2(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v(H=>({...H,isPositioned:!1})))},[f]);const Ae=reactExports.useRef(!1);index$2(()=>(Ae.current=!0,()=>{Ae.current=!1}),[]),index$2(()=>{if(M&&(F.current=M),O&&($.current=O),M&&O){if(ce.current)return ce.current(M,O,xe);xe()}},[M,O,xe,ce,se]);const ue=reactExports.useMemo(()=>({reference:F,floating:$,setReference:N,setFloating:B}),[N,B]),Y=reactExports.useMemo(()=>({reference:M,floating:O}),[M,O]),fe=reactExports.useMemo(()=>{const H={position:n,left:0,top:0};if(!Y.floating)return H;const le=roundByDPR(Y.floating,g.x),de=roundByDPR(Y.floating,g.y);return A?{...H,transform:"translate("+le+"px, "+de+"px)",...getDPR(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:de}},[n,A,Y.floating,g.x,g.y]);return reactExports.useMemo(()=>({...g,update:xe,refs:ue,elements:Y,floatingStyles:fe}),[g,xe,ue,Y,fe])}const arrow$1=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:l}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?arrow$2({element:o.current,padding:l}).fn(n):{}:o?arrow$2({element:o,padding:l}).fn(n):{}}}},offset=(e,t)=>({...offset$1(e),options:[e,t]}),shift=(e,t)=>({...shift$1(e),options:[e,t]}),limitShift=(e,t)=>({...limitShift$1(e),options:[e,t]}),flip=(e,t)=>({...flip$1(e),options:[e,t]}),size=(e,t)=>({...size$1(e),options:[e,t]}),hide=(e,t)=>({...hide$1(e),options:[e,t]}),arrow=(e,t)=>({...arrow$1(e),options:[e,t]});var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((e,t)=>{const{children:n,width:o=10,height:l=5,...u}=e;return jsxRuntimeExports.jsx(Primitive$2.svg,{...u,ref:t,width:o,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$6=Arrow$1;function useSize(e){const[t,n]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const u=l[0];let d,A;if("borderBoxSize"in u){const m=u.borderBoxSize,f=Array.isArray(m)?m[0]:m;d=f.inlineSize,A=f.blockSize}else d=e.offsetWidth,A=e.offsetHeight;n({width:d,height:A})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope$2(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=e=>{const{__scopePopper:t,children:n}=e,[o,l]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:t,anchor:o,onAnchorChange:l,children:n})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...l}=e,u=usePopperContext(ANCHOR_NAME,n),d=reactExports.useRef(null),A=useComposedRefs(t,d),m=reactExports.useRef(null);return reactExports.useEffect(()=>{const f=m.current;m.current=o?.current||d.current,f!==m.current&&u.onAnchorChange(m.current)}),o?null:jsxRuntimeExports.jsx(Primitive$2.div,{...l,ref:A})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$4="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$4),PopperContent=reactExports.forwardRef((e,t)=>{const{__scopePopper:n,side:o="bottom",sideOffset:l=0,align:u="center",alignOffset:d=0,arrowPadding:A=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:j,...E}=e,R=usePopperContext(CONTENT_NAME$4,n),[_,N]=reactExports.useState(null),B=useComposedRefs(t,ze=>N(ze)),[M,O]=reactExports.useState(null),F=useSize(M),$=F?.width??0,z=F?.height??0,se=o+(u!=="center"?"-"+u:""),ce=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ie=Array.isArray(f)?f:[f],pe=ie.length>0,xe={padding:ce,boundary:ie.filter(isNotNull),altBoundary:pe},{refs:Ae,floatingStyles:ue,placement:Y,isPositioned:fe,middlewareData:H}=useFloating({strategy:"fixed",placement:se,whileElementsMounted:(...ze)=>autoUpdate(...ze,{animationFrame:w==="always"}),elements:{reference:R.anchor},middleware:[offset({mainAxis:l+z,alignmentAxis:d}),m&&shift({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?limitShift():void 0,...xe}),m&&flip({...xe}),size({...xe,apply:({elements:ze,rects:Ve,availableWidth:tt,availableHeight:nt})=>{const{width:Ye,height:ut}=Ve.reference,mt=ze.floating.style;mt.setProperty("--radix-popper-available-width",`${tt}px`),mt.setProperty("--radix-popper-available-height",`${nt}px`),mt.setProperty("--radix-popper-anchor-width",`${Ye}px`),mt.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),M&&arrow({element:M,padding:A}),transformOrigin({arrowWidth:$,arrowHeight:z}),b&&hide({strategy:"referenceHidden",...xe})]}),[le,de]=getSideAndAlignFromPlacement(Y),ye=useCallbackRef$1(j);useLayoutEffect2(()=>{fe&&ye?.()},[fe,ye]);const ge=H.arrow?.x,je=H.arrow?.y,Me=H.arrow?.centerOffset!==0,[He,Qe]=reactExports.useState();return useLayoutEffect2(()=>{_&&Qe(window.getComputedStyle(_).zIndex)},[_]),jsxRuntimeExports.jsx("div",{ref:Ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:fe?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:n,placedSide:le,onArrowChange:O,arrowX:ge,arrowY:je,shouldHideArrow:Me,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-side":le,"data-align":de,...E,ref:B,style:{...E.style,animation:fe?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$4;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(t,n){const{__scopePopper:o,...l}=t,u=useContentContext(ARROW_NAME$1,o),d=OPPOSITE_SIDE[u.placedSide];return jsxRuntimeExports.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$6,{...l,ref:n,style:{...l.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(e){return e!==null}var transformOrigin=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:o,middlewareData:l}=t,d=l.arrow?.centerOffset!==0,A=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[f,g]=getSideAndAlignFromPlacement(n),v={start:"0%",center:"50%",end:"100%"}[g],b=(l.arrow?.x??0)+A/2,w=(l.arrow?.y??0)+m/2;let j="",E="";return f==="bottom"?(j=d?v:`${b}px`,E=`${-m}px`):f==="top"?(j=d?v:`${b}px`,E=`${o.floating.height+m}px`):f==="right"?(j=`${-m}px`,E=d?v:`${w}px`):f==="left"&&(j=`${o.floating.width+m}px`,E=d?v:`${w}px`),{data:{x:j,y:E}}}});function getSideAndAlignFromPlacement(e){const[t,n="center"]=e.split("-");return[t,n]}var Root2$2=Popper,Anchor$1=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,PORTAL_NAME$2="Portal",Portal$2=reactExports.forwardRef((e,t)=>{const{container:n,...o}=e,[l,u]=reactExports.useState(!1);useLayoutEffect2(()=>u(!0),[]);const d=n||l&&globalThis?.document?.body;return d?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$2.div,{...o,ref:t}),d):null});Portal$2.displayName=PORTAL_NAME$2;function createSlot$1(e){const t=createSlotClone$1(e),n=reactExports.forwardRef((o,l)=>{const{children:u,...d}=o,A=reactExports.Children.toArray(u),m=A.find(isSlottable$1);if(m){const f=m.props.children,g=A.map(v=>v===m?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:v);return jsxRuntimeExports.jsx(t,{...d,ref:l,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,g):null})}return jsxRuntimeExports.jsx(t,{...d,ref:l,children:u})});return n.displayName=`${e}.Slot`,n}function createSlotClone$1(e){const t=reactExports.forwardRef((n,o)=>{const{children:l,...u}=n;if(reactExports.isValidElement(l)){const d=getElementRef$1(l),A=mergeProps$1(u,l.props);return l.type!==reactExports.Fragment&&(A.ref=o?composeRefs(o,d):d),reactExports.cloneElement(l,A)}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(e,t){const n={...t};for(const o in t){const l=e[o],u=t[o];/^on[A-Z]/.test(o)?l&&u?n[o]=(...A)=>{const m=u(...A);return l(...A),m}:l&&(n[o]=l):o==="style"?n[o]={...l,...u}:o==="className"&&(n[o]=[l,u].filter(Boolean).join(" "))}return{...e,...n}}function getElementRef$1(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function usePrevious(e){const t=reactExports.useRef({value:e,previous:e});return reactExports.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((e,t)=>jsxRuntimeExports.jsx(Primitive$2.span,{...e,ref:t,style:{...VISUALLY_HIDDEN_STYLES,...e.style}}));VisuallyHidden.displayName=NAME;var getDefaultParent=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(e){return e&&(e.host||unwrapHost(e.parentNode))},correctTargets=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=unwrapHost(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},applyAttributeToOthers=function(e,t,n,o){var l=correctTargets(t,Array.isArray(e)?e:[e]);markerMap[n]||(markerMap[n]=new WeakMap);var u=markerMap[n],d=[],A=new Set,m=new Set(l),f=function(v){!v||A.has(v)||(A.add(v),f(v.parentNode))};l.forEach(f);var g=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(b){if(A.has(b))g(b);else try{var w=b.getAttribute(o),j=w!==null&&w!=="false",E=(counterMap.get(b)||0)+1,R=(u.get(b)||0)+1;counterMap.set(b,E),u.set(b,R),d.push(b),E===1&&j&&uncontrolledNodes.set(b,!0),R===1&&b.setAttribute(n,"true"),j||b.setAttribute(o,"true")}catch(_){console.error("aria-hidden: cannot operate on ",b,_)}})};return g(t),A.clear(),lockCount++,function(){d.forEach(function(v){var b=counterMap.get(v)-1,w=u.get(v)-1;counterMap.set(v,b),u.set(v,w),b||(uncontrolledNodes.has(v)||v.removeAttribute(o),uncontrolledNodes.delete(v)),w||v.removeAttribute(n)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),l=getDefaultParent(e);return l?(o.push.apply(o,Array.from(l.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(o,l,n,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function useCallbackRef(e,t){var n=reactExports.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var l=n.value;l!==o&&(n.value=o,n.callback(o,l))}}}})[0];return n.callback=t,n.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(e,t){var n=useCallbackRef(null,function(o){return e.forEach(function(l){return assignRef(l,o)})});return useIsomorphicLayoutEffect$1(function(){var o=currentValues.get(n);if(o){var l=new Set(o),u=new Set(e),d=n.current;l.forEach(function(A){u.has(A)||assignRef(A,null)}),u.forEach(function(A){l.has(A)||assignRef(A,d)})}currentValues.set(n,e)},[e]),n}function ItoI(e){return e}function innerCreateMedium(e,t){t===void 0&&(t=ItoI);var n=[],o=!1,l={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(u){var d=t(u,o);return n.push(d),function(){n=n.filter(function(A){return A!==d})}},assignSyncMedium:function(u){for(o=!0;n.length;){var d=n;n=[],d.forEach(u)}n={push:function(A){return u(A)},filter:function(){return n}}},assignMedium:function(u){o=!0;var d=[];if(n.length){var A=n;n=[],A.forEach(u),d=n}var m=function(){var g=d;d=[],g.forEach(u)},f=function(){return Promise.resolve().then(m)};f(),n={push:function(g){d.push(g),f()},filter:function(g){return d=d.filter(g),n}}}};return l}function createSidecarMedium(e){e===void 0&&(e={});var t=innerCreateMedium(null);return t.options=__assign({async:!0,ssr:!1},e),t}var SideCar$1=function(e){var t=e.sideCar,n=__rest(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return reactExports.createElement(o,__assign({},n))};SideCar$1.isSideCarExport=!0;function exportSidecar(e,t){return e.useMedium(t),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(e,t){var n=reactExports.useRef(null),o=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),l=o[0],u=o[1],d=e.forwardProps,A=e.children,m=e.className,f=e.removeScrollBar,g=e.enabled,v=e.shards,b=e.sideCar,w=e.noRelative,j=e.noIsolation,E=e.inert,R=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,B=e.gapMode,M=__rest(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=b,F=useMergeRefs([n,t]),$=__assign(__assign({},M),l);return reactExports.createElement(reactExports.Fragment,null,g&&reactExports.createElement(O,{sideCar:effectCar,removeScrollBar:f,shards:v,noRelative:w,noIsolation:j,inert:E,setCallbacks:u,allowPinchZoom:!!R,lockRef:n,gapMode:B}),d?reactExports.cloneElement(reactExports.Children.only(A),__assign(__assign({},$),{ref:F})):reactExports.createElement(N,__assign({},$,{className:m,ref:F}),A))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=getNonce();return t&&e.setAttribute("nonce",t),e}function injectStyles(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function insertStyleTag(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var stylesheetSingleton=function(){var e=0,t=null;return{add:function(n){e==0&&(t=makeStyleTag())&&(injectStyles(t,n),insertStyleTag(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},styleHookSingleton=function(){var e=stylesheetSingleton();return function(t,n){reactExports.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},styleSingleton=function(){var e=styleHookSingleton(),t=function(n){var o=n.styles,l=n.dynamic;return e(o,l),null};return t},zeroGap={left:0,top:0,right:0,gap:0},parse$3=function(e){return parseInt(e||"",10)||0},getOffset$1=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],l=t[e==="padding"?"paddingRight":"marginRight"];return[parse$3(n),parse$3(o),parse$3(l)]},getGapWidth=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zeroGap;var t=getOffset$1(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},Style$2=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(e,t,n,o){var l=e.left,u=e.top,d=e.right,A=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(A,"px ").concat(o,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(A,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(A,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(A,"px ").concat(o,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(A,"px ").concat(o,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(A,`px;
  }
`)},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(e)?e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,e.toString())}},[])},RemoveScrollBar=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,l=o===void 0?"margin":o;useLockAttribute();var u=reactExports.useMemo(function(){return getGapWidth(l)},[l]);return reactExports.createElement(Style$2,{styles:getStyles(u,!t,l,n?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(e){return e.tagName==="TEXTAREA"},elementCanBeScrolled=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!alwaysContainsScroll(e)&&n[t]==="visible")},elementCouldBeVScrolled=function(e){return elementCanBeScrolled(e,"overflowY")},elementCouldBeHScrolled=function(e){return elementCanBeScrolled(e,"overflowX")},locationCouldBeScrolled=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=elementCouldBeScrolled(e,o);if(l){var u=getScrollVariables(e,o),d=u[1],A=u[2];if(d>A)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},getVScrollVariables=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},getHScrollVariables=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},elementCouldBeScrolled=function(e,t){return e==="v"?elementCouldBeVScrolled(t):elementCouldBeHScrolled(t)},getScrollVariables=function(e,t){return e==="v"?getVScrollVariables(t):getHScrollVariables(t)},getDirectionFactor=function(e,t){return e==="h"&&t==="rtl"?-1:1},handleScroll=function(e,t,n,o,l){var u=getDirectionFactor(e,window.getComputedStyle(t).direction),d=u*o,A=n.target,m=t.contains(A),f=!1,g=d>0,v=0,b=0;do{if(!A)break;var w=getScrollVariables(e,A),j=w[0],E=w[1],R=w[2],_=E-R-u*j;(j||_)&&elementCouldBeScrolled(e,A)&&(v+=_,b+=j);var N=A.parentNode;A=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!m&&A!==document.body||m&&(t.contains(A)||t===A));return(g&&Math.abs(v)<1||!g&&Math.abs(b)<1)&&(f=!0),f},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},deltaCompare=function(e,t){return e[0]===t[0]&&e[1]===t[1]},generateStyle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},idCounter$1=0,lockStack=[];function RemoveScrollSideCar(e){var t=reactExports.useRef([]),n=reactExports.useRef([0,0]),o=reactExports.useRef(),l=reactExports.useState(idCounter$1++)[0],u=reactExports.useState(styleSingleton)[0],d=reactExports.useRef(e);reactExports.useEffect(function(){d.current=e},[e]),reactExports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var E=__spreadArray([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var A=reactExports.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!d.current.allowPinchZoom;var _=getTouchXY(E),N=n.current,B="deltaX"in E?E.deltaX:N[0]-_[0],M="deltaY"in E?E.deltaY:N[1]-_[1],O,F=E.target,$=Math.abs(B)>Math.abs(M)?"h":"v";if("touches"in E&&$==="h"&&F.type==="range")return!1;var z=window.getSelection(),se=z&&z.anchorNode,ce=se?se===F||se.contains(F):!1;if(ce)return!1;var ie=locationCouldBeScrolled($,F);if(!ie)return!0;if(ie?O=$:(O=$==="v"?"h":"v",ie=locationCouldBeScrolled($,F)),!ie)return!1;if(!o.current&&"changedTouches"in E&&(B||M)&&(o.current=O),!O)return!0;var pe=o.current||O;return handleScroll(pe,R,E,pe==="h"?B:M)},[]),m=reactExports.useCallback(function(E){var R=E;if(!(!lockStack.length||lockStack[lockStack.length-1]!==u)){var _="deltaY"in R?getDeltaXY(R):getTouchXY(R),N=t.current.filter(function(O){return O.name===R.type&&(O.target===R.target||R.target===O.shadowParent)&&deltaCompare(O.delta,_)})[0];if(N&&N.should){R.cancelable&&R.preventDefault();return}if(!N){var B=(d.current.shards||[]).map(extractRef).filter(Boolean).filter(function(O){return O.contains(R.target)}),M=B.length>0?A(R,B[0]):!d.current.noIsolation;M&&R.cancelable&&R.preventDefault()}}},[]),f=reactExports.useCallback(function(E,R,_,N){var B={name:E,delta:R,target:_,should:N,shadowParent:getOutermostShadowParent(_)};t.current.push(B),setTimeout(function(){t.current=t.current.filter(function(M){return M!==B})},1)},[]),g=reactExports.useCallback(function(E){n.current=getTouchXY(E),o.current=void 0},[]),v=reactExports.useCallback(function(E){f(E.type,getDeltaXY(E),E.target,A(E,e.lockRef.current))},[]),b=reactExports.useCallback(function(E){f(E.type,getTouchXY(E),E.target,A(E,e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(u),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",m,nonPassive),document.addEventListener("touchmove",m,nonPassive),document.addEventListener("touchstart",g,nonPassive),function(){lockStack=lockStack.filter(function(E){return E!==u}),document.removeEventListener("wheel",m,nonPassive),document.removeEventListener("touchmove",m,nonPassive),document.removeEventListener("touchstart",g,nonPassive)}},[]);var w=e.removeScrollBar,j=e.inert;return reactExports.createElement(reactExports.Fragment,null,j?reactExports.createElement(u,{styles:generateStyle(l)}):null,w?reactExports.createElement(RemoveScrollBar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function getOutermostShadowParent(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(e,t){return reactExports.createElement(RemoveScroll,__assign({},e,{ref:t,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(SELECT_NAME),[createSelectContext]=createContextScope$2(SELECT_NAME,[createCollectionScope$2,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:l,onOpenChange:u,value:d,defaultValue:A,onValueChange:m,dir:f,name:g,autoComplete:v,disabled:b,required:w,form:j}=e,E=usePopperScope(t),[R,_]=reactExports.useState(null),[N,B]=reactExports.useState(null),[M,O]=reactExports.useState(!1),F=useDirection(f),[$,z]=useControllableState({prop:o,defaultProp:l??!1,onChange:u,caller:SELECT_NAME}),[se,ce]=useControllableState({prop:d,defaultProp:A,onChange:m,caller:SELECT_NAME}),ie=reactExports.useRef(null),pe=R?j||!!R.closest("form"):!0,[xe,Ae]=reactExports.useState(new Set),ue=Array.from(xe).map(Y=>Y.props.value).join(";");return jsxRuntimeExports.jsx(Root2$2,{...E,children:jsxRuntimeExports.jsxs(SelectProvider,{required:w,scope:t,trigger:R,onTriggerChange:_,valueNode:N,onValueNodeChange:B,valueNodeHasChildren:M,onValueNodeHasChildrenChange:O,contentId:useId(),value:se,onValueChange:ce,open:$,onOpenChange:z,dir:F,triggerPointerDownPosRef:ie,disabled:b,children:[jsxRuntimeExports.jsx(Collection$2.Provider,{scope:t,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:e.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Y=>{Ae(fe=>new Set(fe).add(Y))},[]),onNativeOptionRemove:reactExports.useCallback(Y=>{Ae(fe=>{const H=new Set(fe);return H.delete(Y),H})},[]),children:n})}),pe?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:v,value:se,onChange:Y=>ce(Y.target.value),disabled:b,form:j,children:[se===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(xe)]},ue):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$3="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...l}=e,u=usePopperScope(n),d=useSelectContext(TRIGGER_NAME$3,n),A=d.disabled||o,m=useComposedRefs(t,d.onTriggerChange),f=useCollection$2(n),g=reactExports.useRef("touch"),[v,b,w]=useTypeaheadSearch(E=>{const R=f().filter(B=>!B.disabled),_=R.find(B=>B.value===d.value),N=findNextItem(R,E,_);N!==void 0&&d.onValueChange(N.value)}),j=E=>{A||(d.onOpenChange(!0),w()),E&&(d.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...u,children:jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:A,"data-disabled":A?"":void 0,"data-placeholder":shouldShowPlaceholder(d.value)?"":void 0,...l,ref:m,onClick:composeEventHandlers(l.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&j(E)}),onPointerDown:composeEventHandlers(l.onPointerDown,E=>{g.current=E.pointerType;const R=E.target;R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(j(E),E.preventDefault())}),onKeyDown:composeEventHandlers(l.onKeyDown,E=>{const R=v.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(R&&E.key===" ")&&OPEN_KEYS.includes(E.key)&&(j(),E.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$3;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:l,children:u,placeholder:d="",...A}=e,m=useSelectContext(VALUE_NAME,n),{onValueNodeHasChildrenChange:f}=m,g=u!==void 0,v=useComposedRefs(t,m.onValueNodeChange);return useLayoutEffect2(()=>{f(g)},[f,g]),jsxRuntimeExports.jsx(Primitive$2.span,{...A,ref:v,style:{pointerEvents:"none"},children:shouldShowPlaceholder(m.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d}):u})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...l}=e;return jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...l,ref:t,children:o||"â–¼"})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=e=>jsxRuntimeExports.jsx(Portal$2,{asChild:!0,...e});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$3="SelectContent",SelectContent$1=reactExports.forwardRef((e,t)=>{const n=useSelectContext(CONTENT_NAME$3,e.__scopeSelect),[o,l]=reactExports.useState();if(useLayoutEffect2(()=>{l(new DocumentFragment)},[]),!n.open){const u=o;return u?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:e.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:e.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:e.children})})}),u):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...e,ref:t})});SelectContent$1.displayName=CONTENT_NAME$3;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$3),CONTENT_IMPL_NAME="SelectContentImpl",Slot$1=createSlot$1("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,side:A,sideOffset:m,align:f,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:E,avoidCollisions:R,..._}=e,N=useSelectContext(CONTENT_NAME$3,n),[B,M]=reactExports.useState(null),[O,F]=reactExports.useState(null),$=useComposedRefs(t,ze=>M(ze)),[z,se]=reactExports.useState(null),[ce,ie]=reactExports.useState(null),pe=useCollection$2(n),[xe,Ae]=reactExports.useState(!1),ue=reactExports.useRef(!1);reactExports.useEffect(()=>{if(B)return hideOthers(B)},[B]),useFocusGuards();const Y=reactExports.useCallback(ze=>{const[Ve,...tt]=pe().map(ut=>ut.ref.current),[nt]=tt.slice(-1),Ye=document.activeElement;for(const ut of ze)if(ut===Ye||(ut?.scrollIntoView({block:"nearest"}),ut===Ve&&O&&(O.scrollTop=0),ut===nt&&O&&(O.scrollTop=O.scrollHeight),ut?.focus(),document.activeElement!==Ye))return},[pe,O]),fe=reactExports.useCallback(()=>Y([z,B]),[Y,z,B]);reactExports.useEffect(()=>{xe&&fe()},[xe,fe]);const{onOpenChange:H,triggerPointerDownPosRef:le}=N;reactExports.useEffect(()=>{if(B){let ze={x:0,y:0};const Ve=nt=>{ze={x:Math.abs(Math.round(nt.pageX)-(le.current?.x??0)),y:Math.abs(Math.round(nt.pageY)-(le.current?.y??0))}},tt=nt=>{ze.x<=10&&ze.y<=10?nt.preventDefault():B.contains(nt.target)||H(!1),document.removeEventListener("pointermove",Ve),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",tt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",tt,{capture:!0})}}},[B,H,le]),reactExports.useEffect(()=>{const ze=()=>H(!1);return window.addEventListener("blur",ze),window.addEventListener("resize",ze),()=>{window.removeEventListener("blur",ze),window.removeEventListener("resize",ze)}},[H]);const[de,ye]=useTypeaheadSearch(ze=>{const Ve=pe().filter(Ye=>!Ye.disabled),tt=Ve.find(Ye=>Ye.ref.current===document.activeElement),nt=findNextItem(Ve,ze,tt);nt&&setTimeout(()=>nt.ref.current.focus())}),ge=reactExports.useCallback((ze,Ve,tt)=>{const nt=!ue.current&&!tt;(N.value!==void 0&&N.value===Ve||nt)&&(se(ze),nt&&(ue.current=!0))},[N.value]),je=reactExports.useCallback(()=>B?.focus(),[B]),Me=reactExports.useCallback((ze,Ve,tt)=>{const nt=!ue.current&&!tt;(N.value!==void 0&&N.value===Ve||nt)&&ie(ze)},[N.value]),He=o==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Qe=He===SelectPopperPosition?{side:A,sideOffset:m,align:f,alignOffset:g,arrowPadding:v,collisionBoundary:b,collisionPadding:w,sticky:j,hideWhenDetached:E,avoidCollisions:R}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:n,content:B,viewport:O,onViewportChange:F,itemRefCallback:ge,selectedItem:z,onItemLeave:je,itemTextRefCallback:Me,focusSelectedItem:fe,selectedItemText:ce,position:o,isPositioned:xe,searchRef:de,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:N.open,onMountAutoFocus:ze=>{ze.preventDefault()},onUnmountAutoFocus:composeEventHandlers(l,ze=>{N.trigger?.focus({preventScroll:!0}),ze.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:ze=>ze.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:jsxRuntimeExports.jsx(He,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ze=>ze.preventDefault(),..._,...Qe,onPlaced:()=>Ae(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:composeEventHandlers(_.onKeyDown,ze=>{const Ve=ze.ctrlKey||ze.altKey||ze.metaKey;if(ze.key==="Tab"&&ze.preventDefault(),!Ve&&ze.key.length===1&&ye(ze.key),["ArrowUp","ArrowDown","Home","End"].includes(ze.key)){let nt=pe().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(ze.key)&&(nt=nt.slice().reverse()),["ArrowUp","ArrowDown"].includes(ze.key)){const Ye=ze.target,ut=nt.indexOf(Ye);nt=nt.slice(ut+1)}setTimeout(()=>Y(nt)),ze.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...l}=e,u=useSelectContext(CONTENT_NAME$3,n),d=useSelectContentContext(CONTENT_NAME$3,n),[A,m]=reactExports.useState(null),[f,g]=reactExports.useState(null),v=useComposedRefs(t,$=>g($)),b=useCollection$2(n),w=reactExports.useRef(!1),j=reactExports.useRef(!0),{viewport:E,selectedItem:R,selectedItemText:_,focusSelectedItem:N}=d,B=reactExports.useCallback(()=>{if(u.trigger&&u.valueNode&&A&&f&&E&&R&&_){const $=u.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),se=u.valueNode.getBoundingClientRect(),ce=_.getBoundingClientRect();if(u.dir!=="rtl"){const Ye=ce.left-z.left,ut=se.left-Ye,mt=$.left-ut,St=$.width+mt,or=Math.max(St,z.width),Zt=window.innerWidth-CONTENT_MARGIN,Bt=clamp$2(ut,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Zt-or)]);A.style.minWidth=St+"px",A.style.left=Bt+"px"}else{const Ye=z.right-ce.right,ut=window.innerWidth-se.right-Ye,mt=window.innerWidth-$.right-ut,St=$.width+mt,or=Math.max(St,z.width),Zt=window.innerWidth-CONTENT_MARGIN,Bt=clamp$2(ut,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Zt-or)]);A.style.minWidth=St+"px",A.style.right=Bt+"px"}const ie=b(),pe=window.innerHeight-CONTENT_MARGIN*2,xe=E.scrollHeight,Ae=window.getComputedStyle(f),ue=parseInt(Ae.borderTopWidth,10),Y=parseInt(Ae.paddingTop,10),fe=parseInt(Ae.borderBottomWidth,10),H=parseInt(Ae.paddingBottom,10),le=ue+Y+xe+H+fe,de=Math.min(R.offsetHeight*5,le),ye=window.getComputedStyle(E),ge=parseInt(ye.paddingTop,10),je=parseInt(ye.paddingBottom,10),Me=$.top+$.height/2-CONTENT_MARGIN,He=pe-Me,Qe=R.offsetHeight/2,ze=R.offsetTop+Qe,Ve=ue+Y+ze,tt=le-Ve;if(Ve<=Me){const Ye=ie.length>0&&R===ie[ie.length-1].ref.current;A.style.bottom="0px";const ut=f.clientHeight-E.offsetTop-E.offsetHeight,mt=Math.max(He,Qe+(Ye?je:0)+ut+fe),St=Ve+mt;A.style.height=St+"px"}else{const Ye=ie.length>0&&R===ie[0].ref.current;A.style.top="0px";const mt=Math.max(Me,ue+E.offsetTop+(Ye?ge:0)+Qe)+tt;A.style.height=mt+"px",E.scrollTop=Ve-Me+E.offsetTop}A.style.margin=`${CONTENT_MARGIN}px 0`,A.style.minHeight=de+"px",A.style.maxHeight=pe+"px",o?.(),requestAnimationFrame(()=>w.current=!0)}},[b,u.trigger,u.valueNode,A,f,E,R,_,u.dir,o]);useLayoutEffect2(()=>B(),[B]);const[M,O]=reactExports.useState();useLayoutEffect2(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const F=reactExports.useCallback($=>{$&&j.current===!0&&(B(),N?.(),j.current=!1)},[B,N]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:n,contentWrapper:A,shouldExpandOnScrollRef:w,onScrollButtonChange:F,children:jsxRuntimeExports.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:jsxRuntimeExports.jsx(Primitive$2.div,{...l,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:l=CONTENT_MARGIN,...u}=e,d=usePopperScope(n);return jsxRuntimeExports.jsx(Content$2,{...d,...u,ref:t,align:o,collisionPadding:l,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$3,{}),VIEWPORT_NAME="SelectViewport",SelectViewport=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...l}=e,u=useSelectContentContext(VIEWPORT_NAME,n),d=useSelectViewportContext(VIEWPORT_NAME,n),A=useComposedRefs(t,u.onViewportChange),m=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),jsxRuntimeExports.jsx(Collection$2.Slot,{scope:n,children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:A,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:composeEventHandlers(l.onScroll,f=>{const g=f.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=d;if(b?.current&&v){const w=Math.abs(m.current-g.scrollTop);if(w>0){const j=window.innerHeight-CONTENT_MARGIN*2,E=parseFloat(v.style.minHeight),R=parseFloat(v.style.height),_=Math.max(E,R);if(_<j){const N=_+w,B=Math.min(j,N),M=N-B;v.style.height=B+"px",v.style.bottom==="0px"&&(g.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,l=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:n,id:l,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"group","aria-labelledby":l,...o,ref:t})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,l=useSelectGroupContext(LABEL_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.div,{id:l.id,...o,ref:t})});SelectLabel.displayName=LABEL_NAME;var ITEM_NAME$1="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$1),SelectItem$1=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:l=!1,textValue:u,...d}=e,A=useSelectContext(ITEM_NAME$1,n),m=useSelectContentContext(ITEM_NAME$1,n),f=A.value===o,[g,v]=reactExports.useState(u??""),[b,w]=reactExports.useState(!1),j=useComposedRefs(t,N=>m.itemRefCallback?.(N,o,l)),E=useId(),R=reactExports.useRef("touch"),_=()=>{l||(A.onValueChange(o),A.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:n,value:o,disabled:l,textId:E,isSelected:f,onItemTextChange:reactExports.useCallback(N=>{v(B=>B||(N?.textContent??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:n,value:o,disabled:l,textValue:g,children:jsxRuntimeExports.jsx(Primitive$2.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":f&&b,"data-state":f?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...d,ref:j,onFocus:composeEventHandlers(d.onFocus,()=>w(!0)),onBlur:composeEventHandlers(d.onBlur,()=>w(!1)),onClick:composeEventHandlers(d.onClick,()=>{R.current!=="mouse"&&_()}),onPointerUp:composeEventHandlers(d.onPointerUp,()=>{R.current==="mouse"&&_()}),onPointerDown:composeEventHandlers(d.onPointerDown,N=>{R.current=N.pointerType}),onPointerMove:composeEventHandlers(d.onPointerMove,N=>{R.current=N.pointerType,l?m.onItemLeave?.():R.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(d.onPointerLeave,N=>{N.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:composeEventHandlers(d.onKeyDown,N=>{m.searchRef?.current!==""&&N.key===" "||(SELECTION_KEYS.includes(N.key)&&_(),N.key===" "&&N.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$1;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:l,...u}=e,d=useSelectContext(ITEM_TEXT_NAME,n),A=useSelectContentContext(ITEM_TEXT_NAME,n),m=useSelectItemContext(ITEM_TEXT_NAME,n),f=useSelectNativeOptionsContext(ITEM_TEXT_NAME,n),[g,v]=reactExports.useState(null),b=useComposedRefs(t,_=>v(_),m.onItemTextChange,_=>A.itemTextRefCallback?.(_,m.value,m.disabled)),w=g?.textContent,j=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:m.value,disabled:m.disabled,children:w},m.value),[m.disabled,m.value,w]),{onNativeOptionAdd:E,onNativeOptionRemove:R}=f;return useLayoutEffect2(()=>(E(j),()=>R(j)),[E,R,j]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive$2.span,{id:m.textId,...u,ref:b}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?reactDomExports.createPortal(u.children,d.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return useSelectItemContext(ITEM_INDICATOR_NAME,n).isSelected?jsxRuntimeExports.jsx(Primitive$2.span,{"aria-hidden":!0,...o,ref:t}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((e,t)=>{const n=useSelectContentContext(SCROLL_UP_BUTTON_NAME,e.__scopeSelect),o=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,e.__scopeSelect),[l,u]=reactExports.useState(!1),d=useComposedRefs(t,o.onScrollButtonChange);return useLayoutEffect2(()=>{if(n.viewport&&n.isPositioned){let A=function(){const f=m.scrollTop>0;u(f)};const m=n.viewport;return A(),m.addEventListener("scroll",A),()=>m.removeEventListener("scroll",A)}},[n.viewport,n.isPositioned]),l?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...e,ref:d,onAutoScroll:()=>{const{viewport:A,selectedItem:m}=n;A&&m&&(A.scrollTop=A.scrollTop-m.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((e,t)=>{const n=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,e.__scopeSelect),o=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,e.__scopeSelect),[l,u]=reactExports.useState(!1),d=useComposedRefs(t,o.onScrollButtonChange);return useLayoutEffect2(()=>{if(n.viewport&&n.isPositioned){let A=function(){const f=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<f;u(g)};const m=n.viewport;return A(),m.addEventListener("scroll",A),()=>m.removeEventListener("scroll",A)}},[n.viewport,n.isPositioned]),l?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...e,ref:d,onAutoScroll:()=>{const{viewport:A,selectedItem:m}=n;A&&m&&(A.scrollTop=A.scrollTop+m.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...l}=e,u=useSelectContentContext("SelectScrollButton",n),d=reactExports.useRef(null),A=useCollection$2(n),m=reactExports.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return reactExports.useEffect(()=>()=>m(),[m]),useLayoutEffect2(()=>{A().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[A]),jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:composeEventHandlers(l.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:composeEventHandlers(l.onPointerMove,()=>{u.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:composeEventHandlers(l.onPointerLeave,()=>{m()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return jsxRuntimeExports.jsx(Primitive$2.div,{"aria-hidden":!0,...o,ref:t})});SelectSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,l=usePopperScope(n),u=useSelectContext(ARROW_NAME,n),d=useSelectContentContext(ARROW_NAME,n);return u.open&&d.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...l,...o,ref:t}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$2="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:e,value:t,...n},o)=>{const l=reactExports.useRef(null),u=useComposedRefs(o,l),d=usePrevious(t);return reactExports.useEffect(()=>{const A=l.current;if(!A)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==t&&g){const v=new Event("change",{bubbles:!0});g.call(A,t),A.dispatchEvent(v)}},[d,t]),jsxRuntimeExports.jsx(Primitive$2.select,{...n,style:{...VISUALLY_HIDDEN_STYLES,...n.style},ref:u,defaultValue:t})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function shouldShowPlaceholder(e){return e===""||e===void 0}function useTypeaheadSearch(e){const t=useCallbackRef$1(e),n=reactExports.useRef(""),o=reactExports.useRef(0),l=reactExports.useCallback(d=>{const A=n.current+d;t(A),(function m(f){n.current=f,window.clearTimeout(o.current),f!==""&&(o.current=window.setTimeout(()=>m(""),1e3))})(A)},[t]),u=reactExports.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,l,u]}function findNextItem(e,t,n){const l=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let d=wrapArray(e,Math.max(u,0));l.length===1&&(d=d.filter(f=>f!==n));const m=d.find(f=>f.textValue.toLowerCase().startsWith(l.toLowerCase()));return m!==n?m:void 0}function wrapArray(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Root2$1=Select$1,Trigger$1=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$1=SelectPortal,Content2$1=SelectContent$1,Viewport$1=SelectViewport,Item$1=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1;function Select({...e}){return jsxRuntimeExports.jsx(Root2$1,{"data-slot":"select",...e})}function SelectValue({...e}){return jsxRuntimeExports.jsx(Value,{"data-slot":"select-value",...e})}function SelectTrigger({className:e,size:t="default",children:n,...o}){return jsxRuntimeExports.jsxs(Trigger$1,{"data-slot":"select-trigger","data-size":t,className:cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o,children:[n,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4 opacity-50"})})]})}function SelectContent({className:e,children:t,position:n="popper",...o}){return jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$1,{"data-slot":"select-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...o,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})})}function SelectItem({className:e,children:t,...n}){return jsxRuntimeExports.jsxs(Item$1,{"data-slot":"select-item",className:cn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"size-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:t})]})}function SelectScrollUpButton({className:e,...t}){return jsxRuntimeExports.jsx(ScrollUpButton,{"data-slot":"select-scroll-up-button",className:cn("flex cursor-default items-center justify-center py-1",e),...t,children:jsxRuntimeExports.jsx(ChevronUp,{className:"size-4"})})}function SelectScrollDownButton({className:e,...t}){return jsxRuntimeExports.jsx(ScrollDownButton,{"data-slot":"select-scroll-down-button",className:cn("flex cursor-default items-center justify-center py-1",e),...t,children:jsxRuntimeExports.jsx(ChevronDown,{className:"size-4"})})}const ERROR_IMG_SRC="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function ImageWithFallback(e){const[t,n]=reactExports.useState(!1),o=()=>{n(!0)},{src:l,alt:u,style:d,className:A,...m}=e;return t?jsxRuntimeExports.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${A??""}`,style:d,children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-full h-full",children:jsxRuntimeExports.jsx("img",{src:ERROR_IMG_SRC,alt:"Error loading image",...m,"data-original-url":l})})}):jsxRuntimeExports.jsx("img",{src:l,alt:u,className:A,style:d,...m,onError:o})}const interests$1=[{id:"basketball",name:"ç¯®çƒ",icon:"ðŸ€",image:"https://images.unsplash.com/photo-1743105351315-540bce258f1d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYXNrZXRiYWxsJTIwc3BvcnRzJTIwaWNvbnxlbnwxfHx8fDE3NTg2ODYzOTl8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"music",name:"éŸ³ä¹",icon:"ðŸŽµ",image:"https://images.unsplash.com/photo-1705045206911-3599644d4d09?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtdXNpYyUyMGluc3RydW1lbnRzJTIwYXJ0c3xlbnwxfHx8fDE3NTg2ODY0MDN8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"art",name:"ç¾Žæœ¯",icon:"ðŸŽ¨",image:"https://images.unsplash.com/photo-1692859532235-c93fa73bd5d0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhcnQlMjBwYWludGluZyUyMGNyZWF0aXZlfGVufDF8fHx8MTc1ODY4NjQwNnww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral"},{id:"reading",name:"é˜…è¯»",icon:"ðŸ“š"},{id:"games",name:"æ¸¸æˆ",icon:"ðŸŽ®"},{id:"photography",name:"æ‘„å½±",icon:"ðŸ“¸"},{id:"science",name:"ç§‘å­¦",icon:"ðŸ”¬"},{id:"geography",name:"åœ°ç†",icon:"ðŸŒ"},{id:"math",name:"æ•°å­¦",icon:"ðŸ§®"}],grades$1=[{id:"grade1",name:"ä¸€å¹´çº§"},{id:"grade2",name:"äºŒå¹´çº§"},{id:"grade3",name:"ä¸‰å¹´çº§"},{id:"grade4",name:"å››å¹´çº§"},{id:"grade5",name:"äº”å¹´çº§"},{id:"grade6",name:"å…­å¹´çº§"},{id:"grade7",name:"ä¸ƒå¹´çº§"},{id:"grade8",name:"å…«å¹´çº§"},{id:"grade9",name:"ä¹å¹´çº§"},{id:"grade10",name:"åå¹´çº§"},{id:"grade11",name:"åä¸€å¹´çº§"},{id:"grade12",name:"åäºŒå¹´çº§"}];function OnboardingPage({onComplete:e}){const[t,n]=reactExports.useState(""),[o,l]=reactExports.useState([]),[u,d]=reactExports.useState(!1),[A,m]=reactExports.useState(""),{updateUserPreferences:f}=useAuth(),g=w=>{l(j=>j.includes(w)?j.filter(E=>E!==w):[...j,w])},v=async()=>{d(!0),m("");try{await f(t,o),e()}catch(w){console.error("Error updating preferences:",w),m(w.message||"Failed to save preferences")}finally{d(!1)}},b=t&&o.length>0;return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-[#F9FAFB] p-4",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto py-8",children:jsxRuntimeExports.jsxs(Card,{className:"w-full",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl text-[#4F46E5]",children:"ä¸ªæ€§åŒ–è®¾ç½®"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-lg",children:"è®©æˆ‘ä»¬äº†è§£æ‚¨çš„å¹´çº§å’Œå…´è¶£ï¼Œä¸ºæ‚¨æŽ¨èæœ€åˆé€‚çš„å­¦ä¹ å†…å®¹"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-lg",children:"é€‰æ‹©æ‚¨çš„å¹´çº§"}),jsxRuntimeExports.jsxs(Select,{value:t,onValueChange:n,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"è¯·é€‰æ‹©å¹´çº§"})}),jsxRuntimeExports.jsx(SelectContent,{children:grades$1.map(w=>jsxRuntimeExports.jsx(SelectItem,{value:w.id,children:w.name},w.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-lg",children:"é€‰æ‹©æ‚¨çš„å…´è¶£çˆ±å¥½ï¼ˆå¯å¤šé€‰ï¼‰"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:interests$1.map(w=>jsxRuntimeExports.jsx(Card,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${o.includes(w.id)?"ring-2 ring-[#4F46E5] bg-[#4F46E5]/5":"hover:bg-gray-50"}`,onClick:()=>g(w.id),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 text-center",children:[w.image?jsxRuntimeExports.jsx(ImageWithFallback,{src:w.image,alt:w.name,className:"w-16 h-16 rounded-full mx-auto mb-2 object-cover"}):jsxRuntimeExports.jsx("div",{className:"text-4xl mb-2",children:w.icon}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:w.name})]})},w.id))})]}),(t||o.length>0)&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"mb-2",children:"æ‚¨çš„é€‰æ‹©ï¼š"}),t&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["å¹´çº§ï¼š",grades$1.find(w=>w.id===t)?.name]}),o.length>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["å…´è¶£ï¼š",o.map(w=>interests$1.find(j=>j.id===w)?.name).join("ã€")]})]}),A&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:A})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center pt-4",children:jsxRuntimeExports.jsx(Button,{onClick:v,disabled:!b||u,className:"px-8 py-2 bg-[#4F46E5] hover:bg-[#4338CA]",size:"lg",children:u?"ä¿å­˜ä¸­...":"å¼€å§‹å­¦ä¹ ä¹‹æ—…"})})]})]})})})}function FontSizeSelector(){const{fontSize:e,setFontSize:t}=useFontSize(),{t:n}=useTranslation("studentConsole");return jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 border border-slate-200 rounded-lg p-0.5 bg-slate-50",children:["s","m","l"].map(o=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>t(o),className:`px-2 py-1 text-[11px] font-medium rounded transition-colors ${e===o?"bg-cyan-100 text-cyan-800 border border-cyan-200":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"}`,title:n(o==="s"?"fontSizeSmall":o==="m"?"fontSizeMedium":"fontSizeLarge"),children:n(o==="s"?"fontSizeSmall":o==="m"?"fontSizeMedium":"fontSizeLarge")},o))})}function createContextScope$1(e,t=[]){let n=[];function o(u,d){const A=reactExports.createContext(d);A.displayName=u+"Context";const m=n.length;n=[...n,d];const f=v=>{const{scope:b,children:w,...j}=v,E=b?.[e]?.[m]||A,R=reactExports.useMemo(()=>j,Object.values(j));return jsxRuntimeExports.jsx(E.Provider,{value:R,children:w})};f.displayName=u+"Provider";function g(v,b){const w=b?.[e]?.[m]||A,j=reactExports.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[f,g]}const l=()=>{const u=n.map(d=>reactExports.createContext(d));return function(A){const m=A?.[e]||u;return reactExports.useMemo(()=>({[`__scope${e}`]:{...A,[e]:m}}),[A,m])}};return l.scopeName=e,[o,composeContextScopes$1(l,...t)]}function composeContextScopes$1(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(u){const d=o.reduce((A,{useScope:m,scopeName:f})=>{const v=m(u)[`__scope${f}`];return{...A,...v}},{});return reactExports.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((e,t)=>{const n=createSlot$4(`Primitive.${t}`),o=reactExports.forwardRef((l,u)=>{const{asChild:d,...A}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...A,ref:u})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function useIsHydrated(){return shimExports.useSyncExternalStore(subscribe,()=>!0,()=>!1)}function subscribe(){return()=>{}}var AVATAR_NAME="Avatar",[createAvatarContext]=createContextScope$1(AVATAR_NAME),[AvatarProvider,useAvatarContext]=createAvatarContext(AVATAR_NAME),Avatar$1=reactExports.forwardRef((e,t)=>{const{__scopeAvatar:n,...o}=e,[l,u]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:n,imageLoadingStatus:l,onImageLoadingStatusChange:u,children:jsxRuntimeExports.jsx(Primitive$1.span,{...o,ref:t})})});Avatar$1.displayName=AVATAR_NAME;var IMAGE_NAME="AvatarImage",AvatarImage$1=reactExports.forwardRef((e,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:l=()=>{},...u}=e,d=useAvatarContext(IMAGE_NAME,n),A=useImageLoadingStatus(o,u),m=useCallbackRef$1(f=>{l(f),d.onImageLoadingStatusChange(f)});return useLayoutEffect2(()=>{A!=="idle"&&m(A)},[A,m]),A==="loaded"?jsxRuntimeExports.jsx(Primitive$1.img,{...u,ref:t,src:o}):null});AvatarImage$1.displayName=IMAGE_NAME;var FALLBACK_NAME="AvatarFallback",AvatarFallback$1=reactExports.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:o,...l}=e,u=useAvatarContext(FALLBACK_NAME,n),[d,A]=reactExports.useState(o===void 0);return reactExports.useEffect(()=>{if(o!==void 0){const m=window.setTimeout(()=>A(!0),o);return()=>window.clearTimeout(m)}},[o]),d&&u.imageLoadingStatus!=="loaded"?jsxRuntimeExports.jsx(Primitive$1.span,{...l,ref:t}):null});AvatarFallback$1.displayName=FALLBACK_NAME;function resolveLoadingStatus(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function useImageLoadingStatus(e,{referrerPolicy:t,crossOrigin:n}){const o=useIsHydrated(),l=reactExports.useRef(null),u=o?(l.current||(l.current=new window.Image),l.current):null,[d,A]=reactExports.useState(()=>resolveLoadingStatus(u,e));return useLayoutEffect2(()=>{A(resolveLoadingStatus(u,e))},[u,e]),useLayoutEffect2(()=>{const m=v=>()=>{A(v)};if(!u)return;const f=m("loaded"),g=m("error");return u.addEventListener("load",f),u.addEventListener("error",g),t&&(u.referrerPolicy=t),typeof n=="string"&&(u.crossOrigin=n),()=>{u.removeEventListener("load",f),u.removeEventListener("error",g)}},[u,n,t]),d}var Root$5=Avatar$1,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;function Avatar({className:e,...t}){return jsxRuntimeExports.jsx(Root$5,{"data-slot":"avatar",className:cn("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function AvatarImage({className:e,...t}){return jsxRuntimeExports.jsx(Image$1,{"data-slot":"avatar-image",className:cn("aspect-square size-full",e),...t})}function AvatarFallback({className:e,...t}){return jsxRuntimeExports.jsx(Fallback,{"data-slot":"avatar-fallback",className:cn("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function ConfigurableSidebar({appName:e,subtitle:t,userName:n,userMeta:o,userFallback:l,activeSection:u,navigationItems:d,languageSpace:A,onSectionChange:m,onLanguageSpaceChange:f,onLogout:g}){return jsxRuntimeExports.jsxs("div",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col h-screen",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-sidebar-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-sidebar-primary rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg text-sidebar-primary",children:e}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:""}),jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-sidebar-primary text-sidebar-primary-foreground",children:l})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:n}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:o})]})]})}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"mt-3 w-full justify-between text-muted-foreground hover:text-sidebar-foreground",onClick:()=>f(A==="zh"?"en":"zh"),title:A==="zh"?"Switch to English space":"åˆ‡æ¢åˆ°ä¸­æ–‡ç©ºé—´",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4"}),A==="zh"?"ä¸­æ–‡ç©ºé—´":"English Space"]}),jsxRuntimeExports.jsx("span",{children:A==="zh"?"EN":"ä¸­"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:A==="zh"?"å­—ä½“":"Font"}),jsxRuntimeExports.jsx(FontSizeSelector,{})]})]}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:d.map(v=>{const b=v.icon,w=u===v.id;return jsxRuntimeExports.jsxs(Button,{variant:w?"secondary":"ghost",className:`w-full justify-start ${w?"bg-sidebar-primary/10 text-sidebar-primary hover:bg-sidebar-primary/20":"text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent"}`,onClick:()=>m(v.id),children:[jsxRuntimeExports.jsx(b,{className:"w-5 h-5 mr-3"}),A==="zh"?v.nameZh:v.nameEn]},v.id)})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-sidebar-border",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent",onClick:g,children:[jsxRuntimeExports.jsx(LogOut,{className:"w-5 h-5 mr-3"}),A==="zh"?"é€€å‡ºç™»å½•":"Sign out"]})})]})}const studentNavigation=[{id:"home",nameZh:"å­¦ä¹ ä»»åŠ¡",nameEn:"Tasks",icon:House},{id:"learn-your-way",nameZh:"AIéšå¿ƒå­¦",nameEn:"LearnYourWay",icon:Sparkles},{id:"paths",nameZh:"æŽ¨èè·¯å¾„",nameEn:"Recommended Paths",icon:TrendingUp},{id:"reports",nameZh:"å­¦ä¹ æŠ¥å‘Š",nameEn:"Reports",icon:ChartColumn},{id:"settings",nameZh:"è®¾ç½®",nameEn:"Settings",icon:Settings$1}],teacherNavigation=[{id:"overview",nameZh:"æ¦‚è§ˆ",nameEn:"Overview",icon:LayoutDashboard},{id:"materials",nameZh:"ä»»åŠ¡è®¾è®¡",nameEn:"Task Design",icon:FileText},{id:"course-design",nameZh:"è¯¾ç¨‹è®¾è®¡",nameEn:"Course Design",icon:CirclePlus},{id:"courses",nameZh:"è¯¾ç¨‹ç®¡ç†",nameEn:"Courses",icon:BookOpen},{id:"classes",nameZh:"ç­çº§ç®¡ç†",nameEn:"Classes",icon:Users},{id:"settings",nameZh:"è®¾ç½®",nameEn:"Settings",icon:Settings$1}],parentNavigation=[{id:"overview",nameZh:"å­©å­æ¦‚è§ˆ",nameEn:"Child Overview",icon:UserRound},{id:"progress",nameZh:"å­¦ä¹ è¿›åº¦",nameEn:"Progress",icon:ChartColumn},{id:"rewards",nameZh:"ç§¯åˆ†å¥–åŠ±",nameEn:"Rewards",icon:HeartHandshake},{id:"settings",nameZh:"è®¾ç½®",nameEn:"Settings",icon:Settings$1}];function roleBaseNavigation(e){return e==="teacher"?teacherNavigation:e==="parent"?parentNavigation:studentNavigation}function getNavigationByRole(e,t){let n=[...roleBaseNavigation(e)];const o=t?.hiddenSectionsByRole?.[e]??[];if(o.length>0){const d=new Set(o);n=n.filter(A=>!d.has(A.id))}const l=t?.sectionOrderByRole?.[e]??[];if(l.length>0){const d=new Map(l.map((A,m)=>[A,m]));n.sort((A,m)=>{const f=d.has(A.id)?d.get(A.id):1e3,g=d.has(m.id)?d.get(m.id):1e3;return f-g})}const u=t?.labelOverrides??{};return n=n.map(d=>{const A=u[d.id];return A?{...d,nameZh:A.zh??d.nameZh,nameEn:A.en??d.nameEn}:d}),n}function Sidebar({activeSection:e,onSectionChange:t,languageSpace:n,onLanguageSpaceChange:o,navPolicy:l}){const{user:u,logout:d}=useAuth(),A=resolveRuntimeExperienceConfig();return jsxRuntimeExports.jsx(ConfigurableSidebar,{appName:A.brand.labels.appName,subtitle:A.brand.labels.studentWorkspaceName,userName:u?.name||(n==="zh"?"ç”¨æˆ·":"User"),userMeta:u?.grade?`${u.grade.replace("grade","")}${n==="zh"?"å¹´çº§":""}`:n==="zh"?"å­¦ç”Ÿ":"Student",userFallback:u?.name?.charAt(0)||"U",activeSection:e,navigationItems:getNavigationByRole("student",l),languageSpace:n,onSectionChange:t,onLanguageSpaceChange:o,onLogout:d})}function TeacherSidebar({activeSection:e,onSectionChange:t,languageSpace:n,onLanguageSpaceChange:o,navPolicy:l}){const{user:u,logout:d}=useAuth(),A=resolveRuntimeExperienceConfig();return jsxRuntimeExports.jsx(ConfigurableSidebar,{appName:A.brand.labels.teacherWorkspaceName,subtitle:A.brand.labels.appName,userName:u?.name||(n==="zh"?"æ•™å¸ˆ":"Teacher"),userMeta:n==="zh"?"æ•™å¸ˆè´¦æˆ·":"Teacher Account",userFallback:u?.name?.charAt(0)||"T",activeSection:e,navigationItems:getNavigationByRole("teacher",l),languageSpace:n,onSectionChange:t,onLanguageSpaceChange:o,onLogout:d})}function ParentSidebar({activeSection:e,onSectionChange:t,languageSpace:n,onLanguageSpaceChange:o,navPolicy:l}){const{user:u,logout:d}=useAuth(),A=resolveRuntimeExperienceConfig();return jsxRuntimeExports.jsx(ConfigurableSidebar,{appName:A.brand.labels.parentWorkspaceName,subtitle:A.brand.labels.appName,userName:u?.name||(n==="zh"?"å®¶é•¿":"Parent"),userMeta:n==="zh"?"å®¶é•¿è´¦æˆ·":"Parent Account",userFallback:u?.name?.charAt(0)||"P",activeSection:e,navigationItems:getNavigationByRole("parent",l),languageSpace:n,onSectionChange:t,onLanguageSpaceChange:o,onLogout:d})}function createContextScope(e,t=[]){let n=[];function o(u,d){const A=reactExports.createContext(d);A.displayName=u+"Context";const m=n.length;n=[...n,d];const f=v=>{const{scope:b,children:w,...j}=v,E=b?.[e]?.[m]||A,R=reactExports.useMemo(()=>j,Object.values(j));return jsxRuntimeExports.jsx(E.Provider,{value:R,children:w})};f.displayName=u+"Provider";function g(v,b){const w=b?.[e]?.[m]||A,j=reactExports.useContext(w);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[f,g]}const l=()=>{const u=n.map(d=>reactExports.createContext(d));return function(A){const m=A?.[e]||u;return reactExports.useMemo(()=>({[`__scope${e}`]:{...A,[e]:m}}),[A,m])}};return l.scopeName=e,[o,composeContextScopes(l,...t)]}function composeContextScopes(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(u){const d=o.reduce((A,{useScope:m,scopeName:f})=>{const v=m(u)[`__scope${f}`];return{...A,...v}},{});return reactExports.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((e,t)=>{const n=createSlot$4(`Primitive.${t}`),o=reactExports.forwardRef((l,u)=>{const{asChild:d,...A}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(m,{...A,ref:u})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((e,t)=>{const{__scopeProgress:n,value:o=null,max:l,getValueLabel:u=defaultGetValueLabel,...d}=e;(l||l===0)&&!isValidMaxNumber(l)&&console.error(getInvalidMaxError(`${l}`,"Progress"));const A=isValidMaxNumber(l)?l:DEFAULT_MAX;o!==null&&!isValidValueNumber(o,A)&&console.error(getInvalidValueError(`${o}`,"Progress"));const m=isValidValueNumber(o,A)?o:null,f=isNumber$2(m)?u(m,A):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:n,value:m,max:A,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":A,"aria-valuemin":0,"aria-valuenow":isNumber$2(m)?m:void 0,"aria-valuetext":f,role:"progressbar","data-state":getProgressState(m,A),"data-value":m??void 0,"data-max":A,...d,ref:t})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((e,t)=>{const{__scopeProgress:n,...o}=e,l=useProgressContext(INDICATOR_NAME,n);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...o,ref:t})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(e,t){return`${Math.round(e/t*100)}%`}function getProgressState(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function isNumber$2(e){return typeof e=="number"}function isValidMaxNumber(e){return isNumber$2(e)&&!isNaN(e)&&e>0}function isValidValueNumber(e,t){return isNumber$2(e)&&!isNaN(e)&&e<=t&&e>=0}function getInvalidMaxError(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$4=Progress$1,Indicator=ProgressIndicator;function Progress({className:e,value:t,...n}){return jsxRuntimeExports.jsx(Root$4,{"data-slot":"progress",className:cn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:jsxRuntimeExports.jsx(Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const badgeVariants=cva("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:t,asChild:n=!1,...o}){const l=n?Slot$2:"span";return jsxRuntimeExports.jsx(l,{"data-slot":"badge",className:cn(badgeVariants({variant:t}),e),...o})}function useProgressTracker(){const[e,t]=reactExports.useState({}),n=async(d,A={})=>{const{data:{session:m}}=await supabase.auth.getSession(),f=m?.access_token;if(!f)throw new Error("Not authenticated");const g=await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-82343da6${d}`,{...A,headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`,...A.headers}});if(!g.ok){const v=await g.json().catch(()=>({error:"Network error"}));throw new Error(v.error||"Request failed")}return g.json()},o=async()=>{try{try{const{progress:A}=await n("/progress"),m={};A.forEach(g=>{m[g.chapterId]=g}),t(m);const{data:{session:f}}=await supabase.auth.getSession();f?.user&&localStorage.setItem(`progress_${f.user.id}`,JSON.stringify(m));return}catch(A){console.log("Backend failed, loading from localStorage:",A)}const{data:{session:d}}=await supabase.auth.getSession();if(d?.user){const A=localStorage.getItem(`progress_${d.user.id}`);A&&t(JSON.parse(A))}}catch(d){console.error("Error loading progress:",d)}},l=async(d,A,m=!1,f=0)=>{const g={chapterId:d,progress:A,completed:m,timeSpent:(e[d]?.timeSpent||0)+f};t(v=>({...v,[d]:g}));try{await n("/progress",{method:"POST",body:JSON.stringify(g)})}catch(v){console.log("Backend update failed, using localStorage:",v)}try{const{data:{session:v}}=await supabase.auth.getSession();if(v?.user){const b={...e,[d]:g};localStorage.setItem(`progress_${v.user.id}`,JSON.stringify(b))}}catch(v){console.error("Error saving to localStorage:",v)}},u=async(d,A,m,f)=>{try{await n("/quiz-result",{method:"POST",body:JSON.stringify({chapterId:d,score:A,answers:m,timeSpent:f})})}catch(g){console.error("Error saving quiz result:",g)}};return reactExports.useEffect(()=>{o()},[]),{progressData:e,updateProgress:l,saveQuizResult:u,loadProgress:o}}const COURSE_COLORS=["#34A853","#FBBC05","#1A73E8","#EA4335"],achievements$1=[{name:"è¿žç»­å­¦ä¹ 7å¤©",icon:"ðŸ”¥",earned:!0},{name:"å®Œæˆ10ä¸ªç« èŠ‚",icon:"ðŸ“š",earned:!0},{name:"æµ‹éªŒæ»¡åˆ†",icon:"ðŸ†",earned:!1},{name:"å­¦ä¹ è¾¾äºº",icon:"â­",earned:!1}];function HomePage({onStartChapter:e}){const{user:t}=useAuth(),n=useNavigate(),{progressData:o}=useProgressTracker(),[l,u]=reactExports.useState([]),[d,A]=reactExports.useState(!0);reactExports.useEffect(()=>{if(!t?.id){A(!1);return}getStudentCourses(t.id).then(f=>u(f.courses||[])).catch(()=>u([])).finally(()=>A(!1))},[t?.id]);const m=()=>{const f=new Date().getHours();return f<12?"æ—©ä¸Šå¥½":f<18?"ä¸‹åˆå¥½":"æ™šä¸Šå¥½"};return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary to-accent text-primary-foreground rounded-lg p-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl mb-2",children:[m(),"ï¼Œ",t?.name,"ï¼"]}),jsxRuntimeExports.jsx("p",{className:"text-primary-foreground/80",children:"ç»§ç»­æ‚¨çš„å­¦ä¹ ä¹‹æ—…ï¼Œä»Šå¤©ä¹Ÿè¦åŠ æ²¹å“¦ï¼"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Target,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"ä»Šæ—¥ç›®æ ‡ï¼šå®Œæˆ2ä¸ªç« èŠ‚"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"å­¦ä¹ ç§¯åˆ†ï¼š1,250"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("span",{children:"ç»§ç»­å­¦ä¹ "})]}),jsxRuntimeExports.jsx(CardDescription,{children:"ä»Žä¸Šæ¬¡å­¦ä¹ çš„åœ°æ–¹ç»§ç»­"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:d?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):l.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center py-6",children:"æš‚æ— åˆ†é…è¯¾ç¨‹ï¼Œç­‰å¾…è€å¸ˆåˆ†é…åŽå³å¯åœ¨æ­¤å­¦ä¹ "}):l.map((f,g)=>{const v=o[f.courseId],b=v?.progress||0,w=v?.completed||!1,j=COURSE_COLORS[g%COURSE_COLORS.length];return jsxRuntimeExports.jsx(Card,{className:"border-l-4",style:{borderLeftColor:j},children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:f.topic||f.courseId}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:f.teacherName?`æ¥è‡ª ${f.teacherName} çš„åˆ†é…`:"åˆ†é…ç»™æˆ‘çš„è‡ªå­¦ä»»åŠ¡"}),w&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"mt-1 bg-google-green/10 text-google-green",children:"å·²å®Œæˆ"})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"å­¦ä¹ è¿›åº¦"}),jsxRuntimeExports.jsxs("span",{children:[Math.round(b),"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:b,className:"h-2"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>n(`/course/${f.courseId}`),className:"bg-primary hover:bg-primary-hover text-primary-foreground",children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 mr-1"}),w?"å¤ä¹ ":"å¼€å§‹å­¦ä¹ "]})})]})]})},f.courseId)})})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"æœ¬å‘¨è¿›åº¦"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"å­¦ä¹ æ—¶é•¿"}),jsxRuntimeExports.jsx("span",{children:"12.5å°æ—¶"})]}),jsxRuntimeExports.jsx(Progress,{value:70,className:"h-2"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{children:"ç›®æ ‡ï¼š18å°æ—¶"}),jsxRuntimeExports.jsx("span",{children:"70%"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"æˆå°±å¾½ç« "})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:achievements$1.map((f,g)=>jsxRuntimeExports.jsxs("div",{className:`text-center p-3 rounded-lg border ${f.earned?"bg-[#22C55E]/10 border-[#22C55E]/30":"bg-gray-50 border-gray-200"}`,children:[jsxRuntimeExports.jsx("div",{className:`text-2xl mb-1 ${!f.earned&&"grayscale"}`,children:f.icon}),jsxRuntimeExports.jsx("p",{className:`text-xs ${f.earned?"text-[#22C55E]":"text-gray-500"}`,children:f.name})]},g))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"å­¦ä¹ æ‰“å¡"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl text-[#FACC15] mb-2",children:"ðŸ”¥"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"è¿žç»­ 7 å¤©"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"ç»§ç»­ä¿æŒï¼"})]})})]})]})]})]})}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SLIDER_NAME),[createSliderContext]=createContextScope$2(SLIDER_NAME,[createCollectionScope$1]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((e,t)=>{const{name:n,min:o=0,max:l=100,step:u=1,orientation:d="horizontal",disabled:A=!1,minStepsBetweenThumbs:m=0,defaultValue:f=[o],value:g,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:w=!1,form:j,...E}=e,R=reactExports.useRef(new Set),_=reactExports.useRef(0),B=d==="horizontal"?SliderHorizontal:SliderVertical,[M=[],O]=useControllableState({prop:g,defaultProp:f,onChange:ie=>{[...R.current][_.current]?.focus(),v(ie)}}),F=reactExports.useRef(M);function $(ie){const pe=getClosestValueIndex(M,ie);ce(ie,pe)}function z(ie){ce(ie,_.current)}function se(){const ie=F.current[_.current];M[_.current]!==ie&&b(M)}function ce(ie,pe,{commit:xe}={commit:!1}){const Ae=getDecimalCount(u),ue=roundValue(Math.round((ie-o)/u)*u+o,Ae),Y=clamp$2(ue,[o,l]);O((fe=[])=>{const H=getNextSortedValues(fe,Y,pe);if(hasMinStepsBetweenValues(H,m*u)){_.current=H.indexOf(Y);const le=String(H)!==String(fe);return le&&xe&&b(H),le?H:fe}else return fe})}return jsxRuntimeExports.jsx(SliderProvider,{scope:e.__scopeSlider,name:n,disabled:A,min:o,max:l,valueIndexToChangeRef:_,thumbs:R.current,values:M,orientation:d,form:j,children:jsxRuntimeExports.jsx(Collection$1.Provider,{scope:e.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:e.__scopeSlider,children:jsxRuntimeExports.jsx(B,{"aria-disabled":A,"data-disabled":A?"":void 0,...E,ref:t,onPointerDown:composeEventHandlers(E.onPointerDown,()=>{A||(F.current=M)}),min:o,max:l,inverted:w,onSlideStart:A?void 0:$,onSlideMove:A?void 0:z,onSlideEnd:A?void 0:se,onHomeKeyDown:()=>!A&&ce(o,0,{commit:!0}),onEndKeyDown:()=>!A&&ce(l,M.length-1,{commit:!0}),onStepKeyDown:({event:ie,direction:pe})=>{if(!A){const ue=PAGE_KEYS.includes(ie.key)||ie.shiftKey&&ARROW_KEYS.includes(ie.key)?10:1,Y=_.current,fe=M[Y],H=u*ue*pe;ce(fe+H,Y,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((e,t)=>{const{min:n,max:o,dir:l,inverted:u,onSlideStart:d,onSlideMove:A,onSlideEnd:m,onStepKeyDown:f,...g}=e,[v,b]=reactExports.useState(null),w=useComposedRefs(t,B=>b(B)),j=reactExports.useRef(void 0),E=useDirection(l),R=E==="ltr",_=R&&!u||!R&&u;function N(B){const M=j.current||v.getBoundingClientRect(),O=[0,M.width],$=linearScale(O,_?[n,o]:[o,n]);return j.current=M,$(B-M.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:E,"data-orientation":"horizontal",...g,ref:w,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:B=>{const M=N(B.clientX);d?.(M)},onSlideMove:B=>{const M=N(B.clientX);A?.(M)},onSlideEnd:()=>{j.current=void 0,m?.()},onStepKeyDown:B=>{const O=BACK_KEYS[_?"from-left":"from-right"].includes(B.key);f?.({event:B,direction:O?-1:1})}})})}),SliderVertical=reactExports.forwardRef((e,t)=>{const{min:n,max:o,inverted:l,onSlideStart:u,onSlideMove:d,onSlideEnd:A,onStepKeyDown:m,...f}=e,g=reactExports.useRef(null),v=useComposedRefs(t,g),b=reactExports.useRef(void 0),w=!l;function j(E){const R=b.current||g.current.getBoundingClientRect(),_=[0,R.height],B=linearScale(_,w?[o,n]:[n,o]);return b.current=R,B(E-R.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const R=j(E.clientY);u?.(R)},onSlideMove:E=>{const R=j(E.clientY);d?.(R)},onSlideEnd:()=>{b.current=void 0,A?.()},onStepKeyDown:E=>{const _=BACK_KEYS[w?"from-bottom":"from-top"].includes(E.key);m?.({event:E,direction:_?-1:1})}})})}),SliderImpl=reactExports.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:l,onSlideEnd:u,onHomeKeyDown:d,onEndKeyDown:A,onStepKeyDown:m,...f}=e,g=useSliderContext(SLIDER_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.span,{...f,ref:t,onKeyDown:composeEventHandlers(e.onKeyDown,v=>{v.key==="Home"?(d(v),v.preventDefault()):v.key==="End"?(A(v),v.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(v.key)&&(m(v),v.preventDefault())}),onPointerDown:composeEventHandlers(e.onPointerDown,v=>{const b=v.target;b.setPointerCapture(v.pointerId),v.preventDefault(),g.thumbs.has(b)?b.focus():o(v)}),onPointerMove:composeEventHandlers(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&l(v)}),onPointerUp:composeEventHandlers(e.onPointerUp,v=>{const b=v.target;b.hasPointerCapture(v.pointerId)&&(b.releasePointerCapture(v.pointerId),u(v))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,l=useSliderContext(TRACK_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...o,ref:t})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,l=useSliderContext(RANGE_NAME,n),u=useSliderOrientationContext(RANGE_NAME,n),d=reactExports.useRef(null),A=useComposedRefs(t,d),m=l.values.length,f=l.values.map(b=>convertValueToPercentage(b,l.min,l.max)),g=m>1?Math.min(...f):0,v=100-Math.max(...f);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...o,ref:A,style:{...e.style,[u.startEdge]:g+"%",[u.endEdge]:v+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((e,t)=>{const n=useCollection$1(e.__scopeSlider),[o,l]=reactExports.useState(null),u=useComposedRefs(t,A=>l(A)),d=reactExports.useMemo(()=>o?n().findIndex(A=>A.ref.current===o):-1,[n,o]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...e,ref:u,index:d})}),SliderThumbImpl=reactExports.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:l,...u}=e,d=useSliderContext(THUMB_NAME$1,n),A=useSliderOrientationContext(THUMB_NAME$1,n),[m,f]=reactExports.useState(null),g=useComposedRefs(t,N=>f(N)),v=m?d.form||!!m.closest("form"):!0,b=useSize(m),w=d.values[o],j=w===void 0?0:convertValueToPercentage(w,d.min,d.max),E=getLabel$1(o,d.values.length),R=b?.[A.size],_=R?getThumbInBoundsOffset(R,j,A.direction):0;return reactExports.useEffect(()=>{if(m)return d.thumbs.add(m),()=>{d.thumbs.delete(m)}},[m,d.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[A.startEdge]:`calc(${j}% + ${_}px)`},children:[jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:e.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive$2.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":d.min,"aria-valuenow":w,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...u,ref:g,style:w===void 0?{display:"none"}:e.style,onFocus:composeEventHandlers(e.onFocus,()=>{d.valueIndexToChangeRef.current=o})})}),v&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:l??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:w},o)]})});SliderThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME$1="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:e,value:t,...n},o)=>{const l=reactExports.useRef(null),u=useComposedRefs(l,o),d=usePrevious(t);return reactExports.useEffect(()=>{const A=l.current;if(!A)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==t&&g){const v=new Event("input",{bubbles:!0});g.call(A,t),A.dispatchEvent(v)}},[d,t]),jsxRuntimeExports.jsx(Primitive$2.input,{style:{display:"none"},...n,ref:u,defaultValue:t})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function getNextSortedValues(e=[],t,n){const o=[...e];return o[n]=t,o.sort((l,u)=>l-u)}function convertValueToPercentage(e,t,n){const u=100/(n-t)*(e-t);return clamp$2(u,[0,100])}function getLabel$1(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function getClosestValueIndex(e,t){if(e.length===1)return 0;const n=e.map(l=>Math.abs(l-t)),o=Math.min(...n);return n.indexOf(o)}function getThumbInBoundsOffset(e,t,n){const o=e/2,u=linearScale([0,50],[0,o]);return(o-u(t)*n)*n}function getStepsBetweenValues(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function hasMinStepsBetweenValues(e,t){if(t>0){const n=getStepsBetweenValues(e);return Math.min(...n)>=t}return!0}function linearScale(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function getDecimalCount(e){return(String(e).split(".")[1]||"").length}function roundValue(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Root$3=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb$1=SliderThumb;function Slider({className:e,defaultValue:t,value:n,min:o=0,max:l=100,...u}){const d=reactExports.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[o,l],[n,t,o,l]);return jsxRuntimeExports.jsxs(Root$3,{"data-slot":"slider",defaultValue:t,value:n,min:o,max:l,className:cn("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...u,children:[jsxRuntimeExports.jsx(Track,{"data-slot":"slider-track",className:cn("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:jsxRuntimeExports.jsx(Range,{"data-slot":"slider-range",className:cn("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(A,m)=>jsxRuntimeExports.jsx(Thumb$1,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},m))]})}const chapterData={1:{title:"åˆ†æ•°çš„åŠ æ³•å’Œå‡æ³•",subject:"æ•°å­¦",description:"å­¦ä¹ åŒåˆ†æ¯å’Œå¼‚åˆ†æ¯åˆ†æ•°çš„åŠ å‡è¿ç®—",progress:75,estimatedTime:"15åˆ†é’Ÿ",content:{text:`åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°éœ€è¦è¿›è¡Œåˆ†æ•°è¿ç®—çš„æƒ…å†µã€‚æ¯”å¦‚ä½ åœ¨åšç¯®çƒè®­ç»ƒæ—¶ï¼Œå¦‚æžœä¸Šåˆç»ƒä¹ äº† 1/3 å°æ—¶ï¼Œä¸‹åˆåˆç»ƒä¹ äº† 1/4 å°æ—¶ï¼Œé‚£ä¹ˆä¸€å¤©æ€»å…±ç»ƒä¹ äº†å¤šé•¿æ—¶é—´å‘¢ï¼Ÿ

è¿™å°±éœ€è¦æˆ‘ä»¬å­¦ä¼šåˆ†æ•°çš„åŠ æ³•è¿ç®—ã€‚è®©æˆ‘ä»¬é€šè¿‡å…·ä½“çš„ä¾‹å­æ¥ç†è§£åˆ†æ•°åŠ æ³•çš„è§„åˆ™ã€‚

## åŒåˆ†æ¯åˆ†æ•°çš„åŠ æ³•

å½“ä¸¤ä¸ªåˆ†æ•°çš„åˆ†æ¯ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°†åˆ†å­ç›¸åŠ ï¼Œåˆ†æ¯ä¿æŒä¸å˜ã€‚

ä¾‹å¦‚ï¼š1/5 + 2/5 = 3/5

è¿™å°±åƒæ˜¯ä½ æœ‰ä¸€ä¸ªæŠ«è¨ï¼Œåˆ‡æˆäº†5å—ï¼Œä½ åƒäº†1å—ï¼Œæœ‹å‹åƒäº†2å—ï¼Œæ€»å…±åƒäº†3å—ï¼Œæ‰€ä»¥æ˜¯ 3/5 ä¸ªæŠ«è¨ã€‚

## å¼‚åˆ†æ¯åˆ†æ•°çš„åŠ æ³•

å½“ä¸¤ä¸ªåˆ†æ•°çš„åˆ†æ¯ä¸åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ°å®ƒä»¬çš„æœ€å°å…¬å€æ•°ï¼Œå°†åˆ†æ•°åŒ–ä¸ºåŒåˆ†æ¯ï¼Œç„¶åŽå†è¿›è¡ŒåŠ æ³•è¿ç®—ã€‚

ä¾‹å¦‚ï¼š1/3 + 1/4 = 4/12 + 3/12 = 7/12`,slides:[{title:"åˆ†æ•°è¿ç®—åŸºç¡€",content:"åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œåˆ†æ•°æ— å¤„ä¸åœ¨",visual:"ðŸ• æŠ«è¨åˆ‡ç‰‡æ¼”ç¤º",notes:"ç”¨å®žé™…ä¾‹å­å¼•å…¥åˆ†æ•°æ¦‚å¿µ"},{title:"åŒåˆ†æ¯åˆ†æ•°åŠ æ³•",content:"åˆ†æ¯ç›¸åŒæ—¶ï¼Œåˆ†å­ç›´æŽ¥ç›¸åŠ ",visual:"1/5 + 2/5 = 3/5",notes:"å¼ºè°ƒåˆ†æ¯ä¿æŒä¸å˜çš„è§„åˆ™"},{title:"å®žé™…åº”ç”¨åœºæ™¯",content:"ç¯®çƒè®­ç»ƒæ—¶é—´è®¡ç®—",visual:"â° ä¸Šåˆ1/3å°æ—¶ + ä¸‹åˆ1/4å°æ—¶",notes:"è”ç³»ç”Ÿæ´»å®žé™…ï¼Œæé«˜å­¦ä¹ å…´è¶£"},{title:"å¼‚åˆ†æ¯åˆ†æ•°åŠ æ³•",content:"å…ˆé€šåˆ†ï¼Œå†ç›¸åŠ ",visual:"1/3 + 1/4 â†’ 4/12 + 3/12 = 7/12",notes:"åˆ†æ­¥éª¤æ¼”ç¤ºé€šåˆ†è¿‡ç¨‹"}],audioScript:[{time:0,text:"æ¬¢è¿Žå­¦ä¹ åˆ†æ•°çš„åŠ æ³•å’Œå‡æ³•ã€‚ä»Šå¤©æˆ‘ä»¬è¦è§£å†³ä¸€ä¸ªç”Ÿæ´»ä¸­çš„å®žé™…é—®é¢˜ã€‚",emphasis:"welcome"},{time:5,text:"æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨è¿›è¡Œç¯®çƒè®­ç»ƒï¼Œä¸Šåˆç»ƒä¹ äº†ä¸‰åˆ†ä¹‹ä¸€å°æ—¶ã€‚",emphasis:"scenario"},{time:12,text:"ä¸‹åˆåˆç»ƒä¹ äº†å››åˆ†ä¹‹ä¸€å°æ—¶ã€‚é‚£ä¹ˆï¼Œä¸€å¤©æ€»å…±ç»ƒä¹ äº†å¤šé•¿æ—¶é—´å‘¢ï¼Ÿ",emphasis:"question"},{time:20,text:"è¿™å°±éœ€è¦æˆ‘ä»¬æŽŒæ¡åˆ†æ•°åŠ æ³•çš„æŠ€å·§ã€‚è®©æˆ‘ä»¬ä»Žç®€å•çš„åŒåˆ†æ¯åˆ†æ•°å¼€å§‹ã€‚",emphasis:"transition"},{time:28,text:"åŒåˆ†æ¯åˆ†æ•°ç›¸åŠ å¾ˆç®€å•ï¼šåˆ†å­ç›¸åŠ ï¼Œåˆ†æ¯ä¸å˜ã€‚",emphasis:"rule"},{time:35,text:"æ¯”å¦‚äº”åˆ†ä¹‹ä¸€åŠ äº”åˆ†ä¹‹äºŒï¼Œç­‰äºŽäº”åˆ†ä¹‹ä¸‰ã€‚",emphasis:"example"},{time:42,text:"å°±åƒåˆ‡æŠ«è¨ä¸€æ ·ï¼Œ5å—ä¸­åƒäº†1å—ï¼Œåˆåƒäº†2å—ï¼Œæ€»å…±åƒäº†3å—ã€‚",emphasis:"analogy"}],mindMap:{center:"åˆ†æ•°è¿ç®—",branches:[{name:"åŒåˆ†æ¯åŠ æ³•",children:["åˆ†å­ç›¸åŠ ","åˆ†æ¯ä¸å˜","å®žä¾‹ï¼š1/5 + 2/5 = 3/5"],color:"#4285F4"},{name:"å¼‚åˆ†æ¯åŠ æ³•",children:["æ‰¾æœ€å°å…¬å€æ•°","é€šåˆ†","åˆ†å­ç›¸åŠ ","å®žä¾‹ï¼š1/3 + 1/4 = 7/12"],color:"#34A853"},{name:"ç”Ÿæ´»åº”ç”¨",children:["æ—¶é—´è®¡ç®—","é£Ÿç‰©åˆ†é…","è¿åŠ¨è®­ç»ƒ","å­¦ä¹ è§„åˆ’"],color:"#FBBC05"},{name:"è§£é¢˜æ­¥éª¤",children:["è§‚å¯Ÿåˆ†æ¯","åˆ¤æ–­æ˜¯å¦éœ€è¦é€šåˆ†","æ‰§è¡Œè¿ç®—","åŒ–ç®€ç»“æžœ"],color:"#EA4335"}]},questions:[{id:"q1",question:"è®¡ç®— 2/7 + 3/7 = ?",options:["4/7","5/7","6/7","5/14"],correct:1,explanation:"åŒåˆ†æ¯åˆ†æ•°ç›¸åŠ ï¼Œåˆ†å­ç›¸åŠ åˆ†æ¯ä¸å˜ï¼š2 + 3 = 5ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 5/7",adaptiveHint:'è®°ä½ï¼šåŒåˆ†æ¯åˆ†æ•°åŠ æ³•çš„å…³é”®æ˜¯"åˆ†å­ç›¸åŠ ï¼Œåˆ†æ¯ä¸å˜"'},{id:"q2",question:"åœ¨ç¯®çƒè®­ç»ƒä¸­ï¼Œå¦‚æžœæŠ•ç¯®å‘½ä¸­çŽ‡æ˜¯ 3/10ï¼Œç½šçƒå‘½ä¸­çŽ‡æ˜¯ 2/10ï¼Œæ€»å‘½ä¸­çŽ‡æ˜¯å¤šå°‘ï¼Ÿ",options:["5/10","5/20","6/10","1/2"],correct:0,explanation:"è¿™é‡Œæ˜¯åŒåˆ†æ¯åˆ†æ•°ç›¸åŠ ï¼š3/10 + 2/10 = 5/10",adaptiveHint:"å°†å®žé™…é—®é¢˜è½¬åŒ–ä¸ºæ•°å­¦è¿ç®—ï¼šä¸¤ä¸ªååˆ†ä¹‹å‡ ç›¸åŠ "},{id:"q3",question:"è®¡ç®— 1/3 + 1/4 = ?",options:["2/7","7/12","1/7","4/12"],correct:1,explanation:"å¼‚åˆ†æ¯åˆ†æ•°ç›¸åŠ éœ€è¦é€šåˆ†ï¼š1/3 = 4/12, 1/4 = 3/12, æ‰€ä»¥ 4/12 + 3/12 = 7/12",adaptiveHint:"å¼‚åˆ†æ¯åˆ†æ•°åŠ æ³•ï¼šå…ˆæ‰¾æœ€å°å…¬å€æ•°12ï¼Œç„¶åŽé€šåˆ†"}]}}};function EnhancedChapterPage({chapterId:e,onBack:t,onStartQuiz:n}){const[o,l]=reactExports.useState({}),[u,d]=reactExports.useState({}),[A]=reactExports.useState(Date.now()),[m,f]=reactExports.useState(0),[g,v]=reactExports.useState(!1),[b,w]=reactExports.useState(0),[j,E]=reactExports.useState(1),[R,_]=reactExports.useState(!1),[N,B]=reactExports.useState("visual"),[M,O]=reactExports.useState("standard"),[F,$]=reactExports.useState(!0),{progressData:z,updateProgress:se}=useProgressTracker(),ce=chapterData[e];if(!ce)return jsxRuntimeExports.jsx("div",{children:"Chapter not found"});const pe=z[e]?.progress||ce.progress;reactExports.useEffect(()=>{se(e,pe,!1,0)},[e]);const xe=(le,de)=>{l(Me=>({...Me,[le]:de})),d(Me=>({...Me,[le]:!0}));const ye=Object.keys(o).length+1,ge=ce.content.questions.length,je=Math.min(90,ye/ge*90);se(e,je,!1,0)},Ae=()=>{const le=Math.round((Date.now()-A)/1e3);se(e,100,!0,le),n()},ue=()=>jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[F&&N==="visual"&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-[#E3F2FD] border border-[#1A73E8]/20 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5 text-[#1A73E8]"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-[#1A73E8]",children:"ä¸ªæ€§åŒ–æç¤º"})]}),jsxRuntimeExports.jsx("p",{className:"text-[#5F6368]",children:"æ ¹æ®ä½ çš„è§†è§‰å­¦ä¹ åå¥½ï¼Œæˆ‘ä»¬åœ¨æ–‡ä¸­åŠ å…¥äº†å›¾è¡¨å’Œè§†è§‰ç¤ºä¾‹å¸®åŠ©ç†è§£ã€‚"})]}),jsxRuntimeExports.jsx("div",{className:"prose max-w-none space-y-6",children:ce.content.text.split(`

`).map((le,de)=>jsxRuntimeExports.jsx("div",{className:"leading-relaxed text-[#202124]",children:le.includes("##")?jsxRuntimeExports.jsxs("h2",{className:"text-xl font-medium text-[#1A73E8] mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5"}),le.replace("## ","")]}):jsxRuntimeExports.jsx("p",{className:"mb-4",children:le})},de))}),jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-medium text-[#202124] flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-[#FBBC05]"}),"äº’åŠ¨ç»ƒä¹ "]}),ce.content.questions.map((le,de)=>jsxRuntimeExports.jsxs(Card,{className:"border-l-4 border-l-[#1A73E8] shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-5 h-5 text-[#1A73E8]"}),jsxRuntimeExports.jsxs("span",{children:["ç»ƒä¹ é¢˜ ",de+1]})]}),o[le.id]!==void 0&&jsxRuntimeExports.jsx(Badge,{className:o[le.id]===le.correct?"bg-[#34A853] text-white":"bg-[#EA4335] text-white",children:o[le.id]===le.correct?"æ­£ç¡®":"é”™è¯¯"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(QuestionCard,{question:le,answered:o[le.id],showFeedback:u[le.id],onAnswer:ye=>xe(le.id,ye),showAdaptiveHint:F})})]},le.id))]})]}),Y=()=>{const le=ce.content.slides,de=le[m];return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{className:"min-h-[500px]",children:jsxRuntimeExports.jsx(CardContent,{className:"p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-[#1A73E8]/10 to-[#4285F4]/10 rounded-xl p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-medium text-[#202124] mb-4",children:de.title}),jsxRuntimeExports.jsx("div",{className:"text-4xl mb-4",children:de.visual}),jsxRuntimeExports.jsx("p",{className:"text-lg text-[#5F6368]",children:de.content})]}),de.notes&&jsxRuntimeExports.jsx("div",{className:"bg-[#F8F9FA] rounded-lg p-4 text-left",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"è®²å¸ˆæç¤ºï¼š"})," ",de.notes]})})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-6",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>f(Math.max(0,m-1)),disabled:m===0,children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-2"}),"ä¸Šä¸€é¡µ"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-[#5F6368]",children:[m+1," / ",le.length]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-1",children:le.map((ye,ge)=>jsxRuntimeExports.jsx("button",{onClick:()=>f(ge),className:`w-2 h-2 rounded-full ${ge===m?"bg-[#1A73E8]":"bg-[#E0E0E0]"}`},ge))})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>f(Math.min(le.length-1,m+1)),disabled:m===le.length-1,children:["ä¸‹ä¸€é¡µ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-2"})]})]})]})},fe=()=>{const le=ce.content.audioScript,de=le[Math.floor(b/100*le.length)];return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-[#1A73E8] to-[#4285F4] rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Volume2,{className:"w-12 h-12 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium text-[#202124] mb-2",children:"éŸ³é¢‘è¯¾ç¨‹"}),jsxRuntimeExports.jsx("p",{className:"text-[#5F6368]",children:ce.title})]}),jsxRuntimeExports.jsx("div",{className:"bg-[#F8F9FA] rounded-lg p-6 text-left",children:jsxRuntimeExports.jsx("p",{className:"text-lg text-[#202124] leading-relaxed",children:de?.text||"ç‚¹å‡»æ’­æ”¾æŒ‰é’®å¼€å§‹éŸ³é¢‘è¯¾ç¨‹"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:jsxRuntimeExports.jsx(SkipBack,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{onClick:()=>v(!g),className:"w-12 h-12 rounded-full bg-[#1A73E8] hover:bg-[#1557B0]",children:g?jsxRuntimeExports.jsx(Pause,{className:"w-6 h-6"}):jsxRuntimeExports.jsx(Play,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:jsxRuntimeExports.jsx(SkipForward,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Slider,{value:[b],onValueChange:ye=>w(ye[0]),max:100,step:1,className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-[#5F6368]",children:[jsxRuntimeExports.jsxs("span",{children:[Math.floor(b/100*7),":00"]}),jsxRuntimeExports.jsx("span",{children:"7:00"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-[#5F6368]",children:"æ’­æ”¾é€Ÿåº¦:"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>E(j===2?.5:j+.25),children:[j,"x"]})]})]})]})})}),jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"è¯¾ç¨‹æ–‡ç¨¿"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:le.map((ye,ge)=>jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${ge===Math.floor(b/100*le.length)?"bg-[#1A73E8]/10 border border-[#1A73E8]/20":"hover:bg-[#F8F9FA]"}`,onClick:()=>w(ge/le.length*100),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-[#5F6368] font-mono",children:[Math.floor(ye.time/60),":",(ye.time%60).toString().padStart(2,"0")]}),jsxRuntimeExports.jsx("p",{className:"text-[#202124] flex-1",children:ye.text})]})},ge))})})]})]})},H=()=>{const le=ce.content.mindMap;return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-[#1A73E8] to-[#4285F4] rounded-full flex items-center justify-center text-white text-lg font-medium shadow-lg",children:le.center})}),le.branches.map((de,ye)=>{const ge=ye*360/le.branches.length,je=200,Me=Math.cos(ge*Math.PI/180)*je,He=Math.sin(ge*Math.PI/180)*je;return jsxRuntimeExports.jsxs("div",{className:"absolute top-1/2 left-1/2",style:{transform:`translate(calc(-50% + ${Me}px), calc(-50% + ${He}px))`},children:[jsxRuntimeExports.jsx("svg",{className:"absolute top-1/2 left-1/2 pointer-events-none",style:{transform:`translate(-50%, -50%) rotate(${ge+180}deg)`,width:je,height:2},children:jsxRuntimeExports.jsx("line",{x1:"0",y1:"1",x2:je,y2:"1",stroke:de.color,strokeWidth:"2"})}),jsxRuntimeExports.jsxs(Card,{className:"w-48 shadow-lg hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",style:{borderLeftColor:de.color,borderLeftWidth:"4px"},children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm",style:{color:de.color},children:de.name})}),jsxRuntimeExports.jsx(CardContent,{className:"pt-0",children:jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:de.children.map((Qe,ze)=>jsxRuntimeExports.jsxs("li",{className:"text-xs text-[#5F6368] flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full bg-[#5F6368]"}),jsxRuntimeExports.jsx("span",{children:Qe})]},ze))})})]})]},ye)})]}),jsxRuntimeExports.jsx("div",{className:"h-96"})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 text-center",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"mr-4",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2"}),"é‡æ–°ç”Ÿæˆå¸ƒå±€"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-4 h-4 mr-2"}),"è‡ªå®šä¹‰èŠ‚ç‚¹"]})]})]})};return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:t,className:"text-[#5F6368] hover:text-[#202124]",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"è¿”å›ž"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-medium text-[#202124]",children:ce.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-[#5F6368]",children:[jsxRuntimeExports.jsx(Badge,{className:"bg-[#1A73E8] text-white",children:ce.subject}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["é¢„è®¡ ",ce.estimatedTime]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:["è¿›åº¦ ",Math.round(pe),"%"]})]})]})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>_(!R),className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"ä¸ªæ€§åŒ–è®¾ç½®"})]})]}),R&&jsxRuntimeExports.jsxs(Card,{className:"mb-6 border-[#1A73E8]/20",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-[#1A73E8]"}),jsxRuntimeExports.jsx("span",{children:"AI ä¸ªæ€§åŒ–å­¦ä¹ "})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-[#202124] mb-2 block",children:"å­¦ä¹ é£Žæ ¼"}),jsxRuntimeExports.jsxs("select",{value:N,onChange:le=>B(le.target.value),className:"w-full p-2 border border-[#E0E0E0] rounded-lg",children:[jsxRuntimeExports.jsx("option",{value:"visual",children:"è§†è§‰åž‹"}),jsxRuntimeExports.jsx("option",{value:"auditory",children:"å¬è§‰åž‹"}),jsxRuntimeExports.jsx("option",{value:"kinesthetic",children:"åŠ¨æ‰‹åž‹"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-[#202124] mb-2 block",children:"éš¾åº¦çº§åˆ«"}),jsxRuntimeExports.jsxs("select",{value:M,onChange:le=>O(le.target.value),className:"w-full p-2 border border-[#E0E0E0] rounded-lg",children:[jsxRuntimeExports.jsx("option",{value:"basic",children:"åŸºç¡€"}),jsxRuntimeExports.jsx("option",{value:"standard",children:"æ ‡å‡†"}),jsxRuntimeExports.jsx("option",{value:"advanced",children:"è¿›é˜¶"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"adaptive-hints",checked:F,onChange:le=>$(le.target.checked),className:"rounded"}),jsxRuntimeExports.jsx("label",{htmlFor:"adaptive-hints",className:"text-sm text-[#202124]",children:"æ™ºèƒ½æç¤º"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx(Progress,{value:pe,className:"h-2"})}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"text",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4 mb-6",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"text",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"æ²‰æµ¸å¼æ–‡æœ¬"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"slides",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Presentation,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"å¹»ç¯ç‰‡"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"audio",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"éŸ³é¢‘è¯¾"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"mindmap",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(GitBranch,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"æ€ç»´å¯¼å›¾"})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"text",children:ue()}),jsxRuntimeExports.jsx(TabsContent,{value:"slides",children:Y()}),jsxRuntimeExports.jsx(TabsContent,{value:"audio",children:fe()}),jsxRuntimeExports.jsx(TabsContent,{value:"mindmap",children:H()})]}),jsxRuntimeExports.jsx("div",{className:"mt-12 text-center",children:jsxRuntimeExports.jsx(Button,{onClick:Ae,className:"px-8 py-3 bg-[#34A853] hover:bg-[#2E7D32] text-white",size:"lg",children:"å®Œæˆç« èŠ‚ï¼Œå¼€å§‹æµ‹éªŒ"})})]})}function QuestionCard({question:e,answered:t,showFeedback:n,onAnswer:o,showAdaptiveHint:l=!1}){return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-[#202124]",children:e.question}),l&&!n&&jsxRuntimeExports.jsxs("div",{className:"bg-[#FFF3E0] border border-[#FBBC05]/20 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-[#FBBC05]"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-[#FBBC05]",children:"æ™ºèƒ½æç¤º"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368]",children:e.adaptiveHint})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:e.options.map((u,d)=>{const A=t===d,m=d===e.correct,f=n&&A;return jsxRuntimeExports.jsx(Button,{variant:A?"default":"outline",className:`w-full justify-start text-left h-auto py-3 px-4 ${f?m?"bg-[#34A853] hover:bg-[#34A853] text-white":"bg-[#EA4335] hover:bg-[#EA4335] text-white":A?"bg-[#1A73E8] hover:bg-[#1A73E8] text-white":"hover:bg-[#F8F9FA]"}`,onClick:()=>o(d),disabled:n,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[jsxRuntimeExports.jsx("span",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+d)}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:u}),f&&jsxRuntimeExports.jsx("div",{className:"ml-auto",children:m?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5"})})]})},d)})}),n&&t!==void 0&&jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg ${t===e.correct?"bg-[#34A853]/10 border border-[#34A853]/30":"bg-[#EA4335]/10 border border-[#EA4335]/30"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t===e.correct?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-[#34A853]"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5 text-[#EA4335]"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:t===e.correct?"å›žç­”æ­£ç¡®ï¼":"ç­”æ¡ˆé”™è¯¯"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368]",children:e.explanation})]})]})}const quizData={title:"åˆ†æ•°åŠ å‡æ³•æµ‹éªŒ",description:"æµ‹è¯•æ‚¨å¯¹åˆ†æ•°è¿ç®—çš„æŽŒæ¡ç¨‹åº¦",questions:[{id:1,question:"è®¡ç®—ï¼š2/5 + 1/5 = ?",options:["2/5","3/5","3/10","1/5"],correct:1,explanation:"åŒåˆ†æ¯åˆ†æ•°ç›¸åŠ ï¼Œåˆ†å­ç›¸åŠ åˆ†æ¯ä¸å˜ï¼š2 + 1 = 3ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 3/5ã€‚"},{id:2,question:"å°æ˜Žç»ƒä¹ ç¯®çƒï¼Œä¸Šåˆç»ƒäº† 1/4 å°æ—¶ï¼Œä¸‹åˆç»ƒäº† 1/4 å°æ—¶ï¼Œæ€»å…±ç»ƒäº†å¤šé•¿æ—¶é—´ï¼Ÿ",options:["1/2 å°æ—¶","1/4 å°æ—¶","2/4 å°æ—¶","1/8 å°æ—¶"],correct:0,explanation:"1/4 + 1/4 = 2/4 = 1/2 å°æ—¶ã€‚æ³¨æ„å¯ä»¥åŒ–ç®€åˆ†æ•°ã€‚"},{id:3,question:"è®¡ç®—ï¼š4/7 - 2/7 = ?",options:["2/7","6/7","2/14","4/7"],correct:0,explanation:"åŒåˆ†æ¯åˆ†æ•°ç›¸å‡ï¼Œåˆ†å­ç›¸å‡åˆ†æ¯ä¸å˜ï¼š4 - 2 = 2ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 2/7ã€‚"},{id:4,question:"åœ¨ä¸€æ¬¡éŸ³ä¹ä¼šä¸­ï¼Œå°æç´æ¼”å¥å äº† 3/8ï¼Œé’¢ç´æ¼”å¥å äº† 2/8ï¼Œè¿™ä¸¤ç§ä¹å™¨æ¼”å¥æ€»å…±å äº†å¤šå°‘ï¼Ÿ",options:["5/8","5/16","1/8","6/8"],correct:0,explanation:"3/8 + 2/8 = 5/8ï¼Œä¸¤ç§ä¹å™¨æ¼”å¥æ€»å…±å äº† 5/8ã€‚"},{id:5,question:"ä¸€å¹…ç”»çš„ 5/9 å·²ç»å®Œæˆï¼Œåˆå®Œæˆäº† 2/9ï¼ŒçŽ°åœ¨æ€»å…±å®Œæˆäº†å¤šå°‘ï¼Ÿ",options:["7/9","3/9","7/18","5/9"],correct:0,explanation:"5/9 + 2/9 = 7/9ï¼ŒçŽ°åœ¨æ€»å…±å®Œæˆäº† 7/9ã€‚"}]};function QuizPage({chapterId:e="1",onBack:t,onComplete:n}){const[o,l]=reactExports.useState(0),[u,d]=reactExports.useState({}),[A,m]=reactExports.useState(!1),[f,g]=reactExports.useState({}),[v]=reactExports.useState(Date.now()),{saveQuizResult:b}=useProgressTracker(),w=(z,se)=>{d(ce=>({...ce,[z]:se})),g(ce=>({...ce,[z]:!0}))},j=()=>{o<quizData.questions.length-1&&l(o+1)},E=()=>{o>0&&l(o-1)},R=async()=>{const z=Math.round((Date.now()-v)/1e3),se=N();try{await b(e,se.percentage,u,z)}catch(ce){console.error("Error saving quiz result:",ce)}m(!0)},_=()=>{l(0),d({}),m(!1),g({})},N=()=>{let z=0;return quizData.questions.forEach(se=>{u[se.id]===se.correct&&z++}),{correct:z,total:quizData.questions.length,percentage:Math.round(z/quizData.questions.length*100)}},B=z=>z>=80?"#22C55E":z>=60?"#FACC15":"#EF4444",M=z=>z>=90?{title:"ä¼˜ç§€ï¼",message:"æ‚¨æŽŒæ¡å¾—éžå¸¸å¥½ï¼",emoji:"ðŸ†"}:z>=80?{title:"è‰¯å¥½ï¼",message:"ç»§ç»­ä¿æŒï¼Œå†æŽ¥å†åŽ‰ï¼",emoji:"ðŸ‘"}:z>=60?{title:"åŠæ ¼ï¼",message:"è¿˜æœ‰æå‡ç©ºé—´ï¼ŒåŠ æ²¹ï¼",emoji:"ðŸ’ª"}:{title:"éœ€è¦åŠªåŠ›",message:"å»ºè®®å¤ä¹ åŽå†æ¬¡å°è¯•",emoji:"ðŸ“š"};if(A){const z=N(),se=M(z.percentage),ce=B(z.percentage);return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx(Card,{className:"mb-6",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4",children:se.emoji}),jsxRuntimeExports.jsx("h1",{className:"text-3xl mb-2",style:{color:ce},children:se.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:se.message}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-4xl mb-2",style:{color:ce},children:[z.percentage,"%"]}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-600",children:[z.correct," / ",z.total," é¢˜æ­£ç¡®"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsxs(Button,{onClick:_,variant:"outline",className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"é‡æ–°æµ‹éªŒ"})]}),jsxRuntimeExports.jsxs(Button,{onClick:n,className:"bg-[#4F46E5] hover:bg-[#4338CA] flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"å®Œæˆå­¦ä¹ "})]})]})]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"ç­”é¢˜å›žé¡¾"}),jsxRuntimeExports.jsx(CardDescription,{children:"æŸ¥çœ‹æ‚¨çš„ç­”é¢˜æƒ…å†µå’Œè§£æž"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-6",children:quizData.questions.map((ie,pe)=>{const xe=u[ie.id],Ae=xe===ie.correct;return jsxRuntimeExports.jsxs("div",{className:"border-l-4 pl-4",style:{borderLeftColor:Ae?"#22C55E":"#EF4444"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium",children:["é—®é¢˜ ",pe+1]}),Ae?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-[#22C55E]"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5 text-red-500"})]}),jsxRuntimeExports.jsx("p",{className:"mb-3",children:ie.question}),jsxRuntimeExports.jsx("div",{className:"space-y-1 mb-3",children:ie.options.map((ue,Y)=>jsxRuntimeExports.jsxs("div",{className:`text-sm p-2 rounded ${Y===ie.correct?"bg-[#22C55E]/10 text-[#22C55E]":Y===xe&&!Ae?"bg-red-50 text-red-600":"text-gray-600"}`,children:[String.fromCharCode(65+Y),". ",ue,Y===ie.correct&&" âœ“",Y===xe&&!Ae&&" âœ—"]},Y))}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm text-gray-700",children:[jsxRuntimeExports.jsx("strong",{children:"è§£æžï¼š"}),ie.explanation]})]},ie.id)})})]})]})})}const O=quizData.questions[o],F=(o+1)/quizData.questions.length*100,$=Object.keys(u).length;return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:t,children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"è¿”å›ž"]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-medium",children:quizData.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:quizData.description})]}),jsxRuntimeExports.jsx("div",{className:"w-20"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[jsxRuntimeExports.jsxs("span",{children:["é—®é¢˜ ",o+1," / ",quizData.questions.length]}),jsxRuntimeExports.jsxs("span",{children:["å·²ç­” ",$," é¢˜"]})]}),jsxRuntimeExports.jsx(Progress,{value:F,className:"h-2"})]}),jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-[#4F46E5] text-white rounded-full flex items-center justify-center text-sm",children:o+1}),jsxRuntimeExports.jsxs("span",{children:["ç¬¬ ",o+1," é¢˜"]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-lg mb-6",children:O.question}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:O.options.map((z,se)=>{const ce=u[O.id]===se,ie=se===O.correct,pe=f[O.id];return jsxRuntimeExports.jsx(Button,{variant:ce?"default":"outline",className:`w-full justify-start text-left h-auto py-4 px-4 ${pe&&ce?ie?"bg-[#22C55E] hover:bg-[#22C55E] text-white":"bg-red-500 hover:bg-red-500 text-white":ce?"bg-[#4F46E5] hover:bg-[#4F46E5]":""}`,onClick:()=>w(O.id,se),disabled:f[O.id],children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[jsxRuntimeExports.jsx("span",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm",children:String.fromCharCode(65+se)}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:z}),pe&&ce&&jsxRuntimeExports.jsx("div",{children:ie?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5"})})]})},se)})}),f[O.id]&&jsxRuntimeExports.jsxs("div",{className:`mt-6 p-4 rounded-lg ${u[O.id]===O.correct?"bg-[#22C55E]/10 border border-[#22C55E]/30":"bg-red-50 border border-red-200"}`,children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"è§£æž"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:O.explanation})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:E,disabled:o===0,children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"ä¸Šä¸€é¢˜"]}),o===quizData.questions.length-1?jsxRuntimeExports.jsxs(Button,{onClick:()=>R(),disabled:$<quizData.questions.length,className:"bg-[#22C55E] hover:bg-[#16A34A]",children:["å®Œæˆæµ‹éªŒ",jsxRuntimeExports.jsx(Trophy,{className:"w-4 h-4 ml-2"})]}):jsxRuntimeExports.jsxs(Button,{onClick:j,disabled:o===quizData.questions.length-1,children:["ä¸‹ä¸€é¢˜",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 ml-2"})]})]})]})})}function useAnalytics(){const[e,t]=reactExports.useState(null),[n,o]=reactExports.useState(!0),l=async()=>{try{const{data:{session:u}}=await supabase.auth.getSession(),d=u?.access_token;if(!d){o(!1);return}try{const A=await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-82343da6/analytics`,{headers:{Authorization:`Bearer ${d}`}});if(A.ok){const{analytics:m}=await A.json();t(m);return}}catch(A){console.log("Backend failed, calculating from localStorage:",A)}if(u?.user){const A=localStorage.getItem(`progress_${u.user.id}`);if(A){const m=JSON.parse(A),f=Object.values(m),g={totalChapters:f.length||5,completedChapters:f.filter(v=>v.completed).length,totalTimeSpent:f.reduce((v,b)=>v+(b.timeSpent||0),0),averageScore:85,recentQuizzes:[],weeklyProgress:f.slice(-7)};t(g)}else t({totalChapters:5,completedChapters:0,totalTimeSpent:0,averageScore:0,recentQuizzes:[],weeklyProgress:[]})}}catch(u){console.error("Error loading analytics:",u)}finally{o(!1)}};return reactExports.useEffect(()=>{l()},[]),{analytics:e,loading:n,refresh:l}}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var e=Array.isArray;return isArray_1=e,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var e=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=e,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var e=require_freeGlobal(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return _root=n,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var e=require_root(),t=e.Symbol;return _Symbol=t,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var e=require_Symbol(),t=Object.prototype,n=t.hasOwnProperty,o=t.toString,l=e?e.toStringTag:void 0;function u(d){var A=n.call(d,l),m=d[l];try{d[l]=void 0;var f=!0}catch{}var g=o.call(d);return f&&(A?d[l]=m:delete d[l]),g}return _getRawTag=u,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var e=Object.prototype,t=e.toString;function n(o){return t.call(o)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var e=require_Symbol(),t=require_getRawTag(),n=require_objectToString(),o="[object Null]",l="[object Undefined]",u=e?e.toStringTag:void 0;function d(A){return A==null?A===void 0?l:o:u&&u in Object(A)?t(A):n(A)}return _baseGetTag=d,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function e(t){return t!=null&&typeof t=="object"}return isObjectLike_1=e,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var e=require_baseGetTag(),t=requireIsObjectLike(),n="[object Symbol]";function o(l){return typeof l=="symbol"||t(l)&&e(l)==n}return isSymbol_1=o,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var e=requireIsArray(),t=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function l(u,d){if(e(u))return!1;var A=typeof u;return A=="number"||A=="symbol"||A=="boolean"||u==null||t(u)?!0:o.test(u)||!n.test(u)||d!=null&&u in Object(d)}return _isKey=l,_isKey}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return isObject_1=e,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var e=require_baseGetTag(),t=requireIsObject(),n="[object AsyncFunction]",o="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function d(A){if(!t(A))return!1;var m=e(A);return m==o||m==l||m==n||m==u}return isFunction_1=d,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var e=require_root(),t=e["__core-js_shared__"];return _coreJsData=t,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var e=require_coreJsData(),t=(function(){var o=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function n(o){return!!t&&t in o}return _isMasked=n,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var e=Function.prototype,t=e.toString;function n(o){if(o!=null){try{return t.call(o)}catch{}try{return o+""}catch{}}return""}return _toSource=n,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var e=requireIsFunction(),t=require_isMasked(),n=requireIsObject(),o=require_toSource(),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,d=Function.prototype,A=Object.prototype,m=d.toString,f=A.hasOwnProperty,g=RegExp("^"+m.call(f).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(b){if(!n(b)||t(b))return!1;var w=e(b)?g:u;return w.test(o(b))}return _baseIsNative=v,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function e(t,n){return t?.[n]}return _getValue=e,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var e=require_baseIsNative(),t=require_getValue();function n(o,l){var u=t(o,l);return e(u)?u:void 0}return _getNative=n,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var e=require_getNative(),t=e(Object,"create");return _nativeCreate=t,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var e=require_nativeCreate();function t(){this.__data__=e?e(null):{},this.size=0}return _hashClear=t,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return _hashDelete=e,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var e=require_nativeCreate(),t="__lodash_hash_undefined__",n=Object.prototype,o=n.hasOwnProperty;function l(u){var d=this.__data__;if(e){var A=d[u];return A===t?void 0:A}return o.call(d,u)?d[u]:void 0}return _hashGet=l,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var e=require_nativeCreate(),t=Object.prototype,n=t.hasOwnProperty;function o(l){var u=this.__data__;return e?u[l]!==void 0:n.call(u,l)}return _hashHas=o,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var e=require_nativeCreate(),t="__lodash_hash_undefined__";function n(o,l){var u=this.__data__;return this.size+=this.has(o)?0:1,u[o]=e&&l===void 0?t:l,this}return _hashSet=n,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var e=require_hashClear(),t=require_hashDelete(),n=require_hashGet(),o=require_hashHas(),l=require_hashSet();function u(d){var A=-1,m=d==null?0:d.length;for(this.clear();++A<m;){var f=d[A];this.set(f[0],f[1])}}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_Hash=u,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function e(){this.__data__=[],this.size=0}return _listCacheClear=e,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function e(t,n){return t===n||t!==t&&n!==n}return eq_1=e,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var e=requireEq();function t(n,o){for(var l=n.length;l--;)if(e(n[l][0],o))return l;return-1}return _assocIndexOf=t,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var e=require_assocIndexOf(),t=Array.prototype,n=t.splice;function o(l){var u=this.__data__,d=e(u,l);if(d<0)return!1;var A=u.length-1;return d==A?u.pop():n.call(u,d,1),--this.size,!0}return _listCacheDelete=o,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var e=require_assocIndexOf();function t(n){var o=this.__data__,l=e(o,n);return l<0?void 0:o[l][1]}return _listCacheGet=t,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var e=require_assocIndexOf();function t(n){return e(this.__data__,n)>-1}return _listCacheHas=t,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var e=require_assocIndexOf();function t(n,o){var l=this.__data__,u=e(l,n);return u<0?(++this.size,l.push([n,o])):l[u][1]=o,this}return _listCacheSet=t,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var e=require_listCacheClear(),t=require_listCacheDelete(),n=require_listCacheGet(),o=require_listCacheHas(),l=require_listCacheSet();function u(d){var A=-1,m=d==null?0:d.length;for(this.clear();++A<m;){var f=d[A];this.set(f[0],f[1])}}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_ListCache=u,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var e=require_getNative(),t=require_root(),n=e(t,"Map");return _Map=n,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var e=require_Hash(),t=require_ListCache(),n=require_Map();function o(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return _mapCacheClear=o,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return _isKeyable=e,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var e=require_isKeyable();function t(n,o){var l=n.__data__;return e(o)?l[typeof o=="string"?"string":"hash"]:l.map}return _getMapData=t,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var e=require_getMapData();function t(n){var o=e(this,n).delete(n);return this.size-=o?1:0,o}return _mapCacheDelete=t,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var e=require_getMapData();function t(n){return e(this,n).get(n)}return _mapCacheGet=t,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var e=require_getMapData();function t(n){return e(this,n).has(n)}return _mapCacheHas=t,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var e=require_getMapData();function t(n,o){var l=e(this,n),u=l.size;return l.set(n,o),this.size+=l.size==u?0:1,this}return _mapCacheSet=t,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var e=require_mapCacheClear(),t=require_mapCacheDelete(),n=require_mapCacheGet(),o=require_mapCacheHas(),l=require_mapCacheSet();function u(d){var A=-1,m=d==null?0:d.length;for(this.clear();++A<m;){var f=d[A];this.set(f[0],f[1])}}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=n,u.prototype.has=o,u.prototype.set=l,_MapCache=u,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var e=require_MapCache(),t="Expected a function";function n(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new TypeError(t);var u=function(){var d=arguments,A=l?l.apply(this,d):d[0],m=u.cache;if(m.has(A))return m.get(A);var f=o.apply(this,d);return u.cache=m.set(A,f)||m,f};return u.cache=new(n.Cache||e),u}return n.Cache=e,memoize_1=n,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var e=requireMemoize(),t=500;function n(o){var l=e(o,function(d){return u.size===t&&u.clear(),d}),u=l.cache;return l}return _memoizeCapped=n,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var e=require_memoizeCapped(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,o=e(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(t,function(d,A,m,f){u.push(m?f.replace(n,"$1"):A||d)}),u});return _stringToPath=o,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function e(t,n){for(var o=-1,l=t==null?0:t.length,u=Array(l);++o<l;)u[o]=n(t[o],o,t);return u}return _arrayMap=e,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var e=require_Symbol(),t=require_arrayMap(),n=requireIsArray(),o=requireIsSymbol(),l=e?e.prototype:void 0,u=l?l.toString:void 0;function d(A){if(typeof A=="string")return A;if(n(A))return t(A,d)+"";if(o(A))return u?u.call(A):"";var m=A+"";return m=="0"&&1/A==-1/0?"-0":m}return _baseToString=d,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var e=require_baseToString();function t(n){return n==null?"":e(n)}return toString_1=t,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var e=requireIsArray(),t=require_isKey(),n=require_stringToPath(),o=requireToString();function l(u,d){return e(u)?u:t(u,d)?[u]:n(o(u))}return _castPath=l,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var e=requireIsSymbol();function t(n){if(typeof n=="string"||e(n))return n;var o=n+"";return o=="0"&&1/n==-1/0?"-0":o}return _toKey=t,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var e=require_castPath(),t=require_toKey();function n(o,l){l=e(l,o);for(var u=0,d=l.length;o!=null&&u<d;)o=o[t(l[u++])];return u&&u==d?o:void 0}return _baseGet=n,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var e=require_baseGet();function t(n,o,l){var u=n==null?void 0:e(n,o);return u===void 0?l:u}return get_1=t,get_1}var getExports=requireGet();const get$2=getDefaultExportFromCjs(getExports);var isNil_1,hasRequiredIsNil;function requireIsNil(){if(hasRequiredIsNil)return isNil_1;hasRequiredIsNil=1;function e(t){return t==null}return isNil_1=e,isNil_1}var isNilExports=requireIsNil();const isNil=getDefaultExportFromCjs(isNilExports);var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var e=require_baseGetTag(),t=requireIsArray(),n=requireIsObjectLike(),o="[object String]";function l(u){return typeof u=="string"||!t(u)&&n(u)&&e(u)==o}return isString_1=l,isString_1}var isStringExports=requireIsString();const isString=getDefaultExportFromCjs(isStringExports);var isFunctionExports=requireIsFunction();const isFunction=getDefaultExportFromCjs(isFunctionExports);var isObjectExports=requireIsObject();const isObject=getDefaultExportFromCjs(isObjectExports);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),A=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function E(R){if(typeof R=="object"&&R!==null){var _=R.$$typeof;switch(_){case e:switch(R=R.type,R){case n:case l:case o:case f:case g:return R;default:switch(R=R&&R.$$typeof,R){case A:case d:case m:case b:case v:case u:return R;default:return _}}case t:return _}}}return reactIs_production_min.ContextConsumer=d,reactIs_production_min.ContextProvider=u,reactIs_production_min.Element=e,reactIs_production_min.ForwardRef=m,reactIs_production_min.Fragment=n,reactIs_production_min.Lazy=b,reactIs_production_min.Memo=v,reactIs_production_min.Portal=t,reactIs_production_min.Profiler=l,reactIs_production_min.StrictMode=o,reactIs_production_min.Suspense=f,reactIs_production_min.SuspenseList=g,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(R){return E(R)===d},reactIs_production_min.isContextProvider=function(R){return E(R)===u},reactIs_production_min.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},reactIs_production_min.isForwardRef=function(R){return E(R)===m},reactIs_production_min.isFragment=function(R){return E(R)===n},reactIs_production_min.isLazy=function(R){return E(R)===b},reactIs_production_min.isMemo=function(R){return E(R)===v},reactIs_production_min.isPortal=function(R){return E(R)===t},reactIs_production_min.isProfiler=function(R){return E(R)===l},reactIs_production_min.isStrictMode=function(R){return E(R)===o},reactIs_production_min.isSuspense=function(R){return E(R)===f},reactIs_production_min.isSuspenseList=function(R){return E(R)===g},reactIs_production_min.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===l||R===o||R===f||R===g||R===w||typeof R=="object"&&R!==null&&(R.$$typeof===b||R.$$typeof===v||R.$$typeof===u||R.$$typeof===d||R.$$typeof===m||R.$$typeof===j||R.getModuleId!==void 0)},reactIs_production_min.typeOf=E,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),isNumber_1,hasRequiredIsNumber;function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var e=require_baseGetTag(),t=requireIsObjectLike(),n="[object Number]";function o(l){return typeof l=="number"||t(l)&&e(l)==n}return isNumber_1=o,isNumber_1}var _isNaN,hasRequired_isNaN;function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var e=requireIsNumber();function t(n){return e(n)&&n!=+n}return _isNaN=t,_isNaN}var _isNaNExports=require_isNaN();const isNan=getDefaultExportFromCjs(_isNaNExports);var isNumberExports=requireIsNumber();const isNumber$1=getDefaultExportFromCjs(isNumberExports);var mathSign=function(t){return t===0?0:t>0?1:-1},isPercent=function(t){return isString(t)&&t.indexOf("%")===t.length-1},isNumber=function(t){return isNumber$1(t)&&!isNan(t)},isNullish=function(t){return isNil(t)},isNumOrStr=function(t){return isNumber(t)||isString(t)},idCounter=0,uniqueId=function(t){var n=++idCounter;return"".concat(t||"").concat(n)},getPercentValue=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(t)&&!isString(t))return o;var u;if(isPercent(t)){var d=t.indexOf("%");u=n*parseFloat(t.slice(0,d))/100}else u=+t;return isNan(u)&&(u=o),l&&u>n&&(u=n),u},getAnyElementOfObject=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},hasDuplicate=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,o={},l=0;l<n;l++)if(!o[t[l]])o[t[l]]=!0;else return!0;return!1},interpolateNumber$2=function(t,n){return isNumber(t)&&isNumber(n)?function(o){return t+o*(n-t)}:function(){return n}};function findEntryInArray(e,t,n){return!e||!e.length?null:e.find(function(o){return o&&(typeof t=="function"?t(o):get$2(o,t))===n})}var compareValues=function(t,n){return isNumber(t)&&isNumber(n)?t-n:isString(t)&&isString(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function shallowEqual(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var o in t)if({}.hasOwnProperty.call(t,o)&&!{}.hasOwnProperty.call(e,o))return!1;return!0}function _typeof$O(e){"@babel/helpers - typeof";return _typeof$O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$O(e)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var o=t;if(reactExports.isValidElement(t)&&(o=t.props),!isObject(o))return null;var l={};return Object.keys(o).forEach(function(u){EventKeys.includes(u)&&(l[u]=n||function(d){return o[u](o,d)})}),l},getEventHandlerOfChild=function(t,n,o){return function(l){return t(n,o,l),null}},adaptEventsOfChild=function(t,n,o){if(!isObject(t)||_typeof$O(t)!=="object")return null;var l=null;return Object.keys(t).forEach(function(u){var d=t[u];EventKeys.includes(u)&&typeof d=="function"&&(l||(l={}),l[u]=getEventHandlerOfChild(d,n,o))}),l},_excluded$o=["children"],_excluded2$7=["children"];function _objectWithoutProperties$n(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$n(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$n(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _typeof$N(e){"@babel/helpers - typeof";return _typeof$N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$N(e)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},lastChildren=null,lastResult=null,toArray=function e(t){if(t===lastChildren&&Array.isArray(lastResult))return lastResult;var n=[];return reactExports.Children.forEach(t,function(o){isNil(o)||(reactIsExports.isFragment(o)?n=n.concat(e(o.props.children)):n.push(o))}),lastResult=n,lastChildren=t,n};function findAllByType(e,t){var n=[],o=[];return Array.isArray(t)?o=t.map(function(l){return getDisplayName(l)}):o=[getDisplayName(t)],toArray(e).forEach(function(l){var u=get$2(l,"type.displayName")||get$2(l,"type.name");o.indexOf(u)!==-1&&n.push(l)}),n}function findChildByType(e,t){var n=findAllByType(e,t);return n&&n[0]}var validateWidthHeight=function(t){if(!t||!t.props)return!1;var n=t.props,o=n.width,l=n.height;return!(!isNumber(o)||o<=0||!isNumber(l)||l<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function(t){return t&&t.type&&isString(t.type)&&SVG_TAGS.indexOf(t.type)>=0},hasClipDot=function(t){return t&&_typeof$N(t)==="object"&&"clipDot"in t},isValidSpreadableProp=function(t,n,o,l){var u,d=(u=FilteredElementKeyMap?.[l])!==null&&u!==void 0?u:[];return n.startsWith("data-")||!isFunction(t)&&(l&&d.includes(n)||SVGElementPropKeys.includes(n))||o&&EventKeys.includes(n)},filterProps=function(t,n,o){if(!t||typeof t=="function"||typeof t=="boolean")return null;var l=t;if(reactExports.isValidElement(t)&&(l=t.props),!isObject(l))return null;var u={};return Object.keys(l).forEach(function(d){var A;isValidSpreadableProp((A=l)===null||A===void 0?void 0:A[d],d,n,o)&&(u[d]=l[d])}),u},isChildrenEqual=function e(t,n){if(t===n)return!0;var o=reactExports.Children.count(t);if(o!==reactExports.Children.count(n))return!1;if(o===0)return!0;if(o===1)return isSingleChildEqual(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var l=0;l<o;l++){var u=t[l],d=n[l];if(Array.isArray(u)||Array.isArray(d)){if(!e(u,d))return!1}else if(!isSingleChildEqual(u,d))return!1}return!0},isSingleChildEqual=function(t,n){if(isNil(t)&&isNil(n))return!0;if(!isNil(t)&&!isNil(n)){var o=t.props||{},l=o.children,u=_objectWithoutProperties$n(o,_excluded$o),d=n.props||{},A=d.children,m=_objectWithoutProperties$n(d,_excluded2$7);return l&&A?shallowEqual(u,m)&&isChildrenEqual(l,A):!l&&!A?shallowEqual(u,m):!1}return!1},renderByOrder=function(t,n){var o=[],l={};return toArray(t).forEach(function(u,d){if(isSvgElement(u))o.push(u);else if(u){var A=getDisplayName(u.type),m=n[A]||{},f=m.handler,g=m.once;if(f&&(!g||!l[A])){var v=f(u,A,d);o.push(v),l[A]=!0}}}),o},getReactEventByType=function(t){var n=t&&t.type;return n&&REACT_BROWSER_EVENT_MAP[n]?REACT_BROWSER_EVENT_MAP[n]:null},parseChildIndex=function(t,n){return toArray(n).indexOf(t)},_excluded$n=["children","width","height","viewBox","className","style","title","desc"];function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$x.apply(this,arguments)}function _objectWithoutProperties$m(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$m(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$m(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function Surface(e){var t=e.children,n=e.width,o=e.height,l=e.viewBox,u=e.className,d=e.style,A=e.title,m=e.desc,f=_objectWithoutProperties$m(e,_excluded$n),g=l||{width:n,height:o,x:0,y:0},v=clsx("recharts-surface",u);return React.createElement("svg",_extends$x({},filterProps(f,!0,"svg"),{className:v,width:n,height:o,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),React.createElement("title",null,A),React.createElement("desc",null,m),t)}var _excluded$m=["children","className"];function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$w.apply(this,arguments)}function _objectWithoutProperties$l(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$l(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$l(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}var Layer=React.forwardRef(function(e,t){var n=e.children,o=e.className,l=_objectWithoutProperties$l(e,_excluded$m),u=clsx("recharts-layer",o);return React.createElement("g",_extends$w({className:u},filterProps(l,!0),{ref:t}),n)}),warn=function(t,n){for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u]},_baseSlice,hasRequired_baseSlice;function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;hasRequired_baseSlice=1;function e(t,n,o){var l=-1,u=t.length;n<0&&(n=-n>u?0:u+n),o=o>u?u:o,o<0&&(o+=u),u=n>o?0:o-n>>>0,n>>>=0;for(var d=Array(u);++l<u;)d[l]=t[l+n];return d}return _baseSlice=e,_baseSlice}var _castSlice,hasRequired_castSlice;function require_castSlice(){if(hasRequired_castSlice)return _castSlice;hasRequired_castSlice=1;var e=require_baseSlice();function t(n,o,l){var u=n.length;return l=l===void 0?u:l,!o&&l>=u?n:e(n,o,l)}return _castSlice=t,_castSlice}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=t+n+o,u="\\ufe0e\\ufe0f",d="\\u200d",A=RegExp("["+d+e+l+u+"]");function m(f){return A.test(f)}return _hasUnicode=m,_hasUnicode}var _asciiToArray,hasRequired_asciiToArray;function require_asciiToArray(){if(hasRequired_asciiToArray)return _asciiToArray;hasRequired_asciiToArray=1;function e(t){return t.split("")}return _asciiToArray=e,_asciiToArray}var _unicodeToArray,hasRequired_unicodeToArray;function require_unicodeToArray(){if(hasRequired_unicodeToArray)return _unicodeToArray;hasRequired_unicodeToArray=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=t+n+o,u="\\ufe0e\\ufe0f",d="["+e+"]",A="["+l+"]",m="\\ud83c[\\udffb-\\udfff]",f="(?:"+A+"|"+m+")",g="[^"+e+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",j=f+"?",E="["+u+"]?",R="(?:"+w+"(?:"+[g,v,b].join("|")+")"+E+j+")*",_=E+j+R,N="(?:"+[g+A+"?",A,v,b,d].join("|")+")",B=RegExp(m+"(?="+m+")|"+N+_,"g");function M(O){return O.match(B)||[]}return _unicodeToArray=M,_unicodeToArray}var _stringToArray,hasRequired_stringToArray;function require_stringToArray(){if(hasRequired_stringToArray)return _stringToArray;hasRequired_stringToArray=1;var e=require_asciiToArray(),t=require_hasUnicode(),n=require_unicodeToArray();function o(l){return t(l)?n(l):e(l)}return _stringToArray=o,_stringToArray}var _createCaseFirst,hasRequired_createCaseFirst;function require_createCaseFirst(){if(hasRequired_createCaseFirst)return _createCaseFirst;hasRequired_createCaseFirst=1;var e=require_castSlice(),t=require_hasUnicode(),n=require_stringToArray(),o=requireToString();function l(u){return function(d){d=o(d);var A=t(d)?n(d):void 0,m=A?A[0]:d.charAt(0),f=A?e(A,1).join(""):d.slice(1);return m[u]()+f}}return _createCaseFirst=l,_createCaseFirst}var upperFirst_1,hasRequiredUpperFirst;function requireUpperFirst(){if(hasRequiredUpperFirst)return upperFirst_1;hasRequiredUpperFirst=1;var e=require_createCaseFirst(),t=e("toUpperCase");return upperFirst_1=t,upperFirst_1}var upperFirstExports=requireUpperFirst();const upperFirst=getDefaultExportFromCjs(upperFirstExports);function constant$4(e){return function(){return e}}const abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max$2=Math.max,min$2=Math.min,sin=Math.sin,sqrt$1=Math.sqrt,epsilon$1=1e-12,pi$1=Math.PI,halfPi=pi$1/2,tau$1=2*pi$1;function acos(e){return e>1?0:e<-1?pi$1:Math.acos(e)}function asin(e){return e>=1?halfPi:e<=-1?-halfPi:Math.asin(e)}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function appendRound(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return append;const n=10**t;return function(o){this._+=o[0];for(let l=1,u=o.length;l<u;++l)this._+=Math.round(arguments[l]*n)/n+o[l]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?append:appendRound(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,o,l){this._append`Q${+t},${+n},${this._x1=+o},${this._y1=+l}`}bezierCurveTo(t,n,o,l,u,d){this._append`C${+t},${+n},${+o},${+l},${this._x1=+u},${this._y1=+d}`}arcTo(t,n,o,l,u){if(t=+t,n=+n,o=+o,l=+l,u=+u,u<0)throw new Error(`negative radius: ${u}`);let d=this._x1,A=this._y1,m=o-t,f=l-n,g=d-t,v=A-n,b=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>epsilon)if(!(Math.abs(v*m-f*g)>epsilon)||!u)this._append`L${this._x1=t},${this._y1=n}`;else{let w=o-d,j=l-A,E=m*m+f*f,R=w*w+j*j,_=Math.sqrt(E),N=Math.sqrt(b),B=u*Math.tan((pi-Math.acos((E+b-R)/(2*_*N)))/2),M=B/N,O=B/_;Math.abs(M-1)>epsilon&&this._append`L${t+M*g},${n+M*v}`,this._append`A${u},${u},0,0,${+(v*w>g*j)},${this._x1=t+O*m},${this._y1=n+O*f}`}}arc(t,n,o,l,u,d){if(t=+t,n=+n,o=+o,d=!!d,o<0)throw new Error(`negative radius: ${o}`);let A=o*Math.cos(l),m=o*Math.sin(l),f=t+A,g=n+m,v=1^d,b=d?l-u:u-l;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>epsilon||Math.abs(this._y1-g)>epsilon)&&this._append`L${f},${g}`,o&&(b<0&&(b=b%tau+tau),b>tauEpsilon?this._append`A${o},${o},0,1,${v},${t-A},${n-m}A${o},${o},0,1,${v},${this._x1=f},${this._y1=g}`:b>epsilon&&this._append`A${o},${o},0,${+(b>=pi)},${v},${this._x1=t+o*Math.cos(u)},${this._y1=n+o*Math.sin(u)}`)}rect(t,n,o,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${o=+o}v${+l}h${-o}Z`}toString(){return this._}}function withPath(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const o=Math.floor(n);if(!(o>=0))throw new RangeError(`invalid digits: ${n}`);t=o}return e},()=>new Path(t)}function array$1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function curveLinear(e){return new Linear(e)}function x(e){return e[0]}function y(e){return e[1]}function line(e,t){var n=constant$4(!0),o=null,l=curveLinear,u=null,d=withPath(A);e=typeof e=="function"?e:e===void 0?x:constant$4(e),t=typeof t=="function"?t:t===void 0?y:constant$4(t);function A(m){var f,g=(m=array$1(m)).length,v,b=!1,w;for(o==null&&(u=l(w=d())),f=0;f<=g;++f)!(f<g&&n(v=m[f],f,m))===b&&((b=!b)?u.lineStart():u.lineEnd()),b&&u.point(+e(v,f,m),+t(v,f,m));if(w)return u=null,w+""||null}return A.x=function(m){return arguments.length?(e=typeof m=="function"?m:constant$4(+m),A):e},A.y=function(m){return arguments.length?(t=typeof m=="function"?m:constant$4(+m),A):t},A.defined=function(m){return arguments.length?(n=typeof m=="function"?m:constant$4(!!m),A):n},A.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),A):l},A.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),A):o},A}function shapeArea(e,t,n){var o=null,l=constant$4(!0),u=null,d=curveLinear,A=null,m=withPath(f);e=typeof e=="function"?e:e===void 0?x:constant$4(+e),t=typeof t=="function"?t:constant$4(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?y:constant$4(+n);function f(v){var b,w,j,E=(v=array$1(v)).length,R,_=!1,N,B=new Array(E),M=new Array(E);for(u==null&&(A=d(N=m())),b=0;b<=E;++b){if(!(b<E&&l(R=v[b],b,v))===_)if(_=!_)w=b,A.areaStart(),A.lineStart();else{for(A.lineEnd(),A.lineStart(),j=b-1;j>=w;--j)A.point(B[j],M[j]);A.lineEnd(),A.areaEnd()}_&&(B[b]=+e(R,b,v),M[b]=+t(R,b,v),A.point(o?+o(R,b,v):B[b],n?+n(R,b,v):M[b]))}if(N)return A=null,N+""||null}function g(){return line().defined(l).curve(d).context(u)}return f.x=function(v){return arguments.length?(e=typeof v=="function"?v:constant$4(+v),o=null,f):e},f.x0=function(v){return arguments.length?(e=typeof v=="function"?v:constant$4(+v),f):e},f.x1=function(v){return arguments.length?(o=v==null?null:typeof v=="function"?v:constant$4(+v),f):o},f.y=function(v){return arguments.length?(t=typeof v=="function"?v:constant$4(+v),n=null,f):t},f.y0=function(v){return arguments.length?(t=typeof v=="function"?v:constant$4(+v),f):t},f.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:constant$4(+v),f):n},f.lineX0=f.lineY0=function(){return g().x(e).y(t)},f.lineY1=function(){return g().x(e).y(n)},f.lineX1=function(){return g().x(o).y(t)},f.defined=function(v){return arguments.length?(l=typeof v=="function"?v:constant$4(!!v),f):l},f.curve=function(v){return arguments.length?(d=v,u!=null&&(A=d(u)),f):d},f.context=function(v){return arguments.length?(v==null?u=A=null:A=d(u=v),f):u},f}class Bump{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function bumpX(e){return new Bump(e,!0)}function bumpY(e){return new Bump(e,!1)}const symbolCircle={draw(e,t){const n=sqrt$1(t/pi$1);e.moveTo(n,0),e.arc(0,0,n,0,tau$1)}},symbolCross={draw(e,t){const n=sqrt$1(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(e,t){const n=sqrt$1(t/tan30_2),o=n*tan30;e.moveTo(0,-n),e.lineTo(o,0),e.lineTo(0,n),e.lineTo(-o,0),e.closePath()}},symbolSquare={draw(e,t){const n=sqrt$1(t),o=-n/2;e.rect(o,o,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(e,t){const n=sqrt$1(t*ka),o=kx*n,l=ky*n;e.moveTo(0,-n),e.lineTo(o,l);for(let u=1;u<5;++u){const d=tau$1*u/5,A=cos(d),m=sin(d);e.lineTo(m*n,-A*n),e.lineTo(A*o-m*l,m*o+A*l)}e.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(e,t){const n=-sqrt$1(t/(sqrt3*3));e.moveTo(0,n*2),e.lineTo(-sqrt3*n,-n),e.lineTo(sqrt3*n,-n),e.closePath()}},c=-.5,s$1=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(e,t){const n=sqrt$1(t/a),o=n/2,l=n*k,u=o,d=n*k+n,A=-u,m=d;e.moveTo(o,l),e.lineTo(u,d),e.lineTo(A,m),e.lineTo(c*o-s$1*l,s$1*o+c*l),e.lineTo(c*u-s$1*d,s$1*u+c*d),e.lineTo(c*A-s$1*m,s$1*A+c*m),e.lineTo(c*o+s$1*l,c*l-s$1*o),e.lineTo(c*u+s$1*d,c*d-s$1*u),e.lineTo(c*A+s$1*m,c*m-s$1*A),e.closePath()}};function Symbol$1(e,t){let n=null,o=withPath(l);e=typeof e=="function"?e:constant$4(e||symbolCircle),t=typeof t=="function"?t:constant$4(t===void 0?64:+t);function l(){let u;if(n||(n=u=o()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),u)return n=null,u+""||null}return l.type=function(u){return arguments.length?(e=typeof u=="function"?u:constant$4(u),l):e},l.size=function(u){return arguments.length?(t=typeof u=="function"?u:constant$4(+u),l):t},l.context=function(u){return arguments.length?(n=u??null,l):n},l}function noop$1(){}function point$5(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point$5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,o=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:point$5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisOpen(e){return new BasisOpen(e)}function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function curveLinearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,t,n){var o=e._x1-e._x0,l=t-e._x1,u=(e._y1-e._y0)/(o||l<0&&-0),d=(n-e._y1)/(l||o<0&&-0),A=(u*l+d*o)/(o+l);return(sign(u)+sign(d))*Math.min(Math.abs(u),Math.abs(d),.5*Math.abs(A))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point$4(e,t,n){var o=e._x0,l=e._y0,u=e._x1,d=e._y1,A=(u-o)/3;e._context.bezierCurveTo(o+A,l+A*t,u-A,d-A*n,u,d)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$4(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$4(this,slope2(this,n=slope3(this,e,t)),n);break;default:point$4(this,this._t0,n=slope3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,o,l,u){this._context.bezierCurveTo(t,e,o,n,u,l)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var o=controlPoints(e),l=controlPoints(t),u=0,d=1;d<n;++u,++d)this._context.bezierCurveTo(o[0][u],l[0][u],o[1][u],l[1][u],e[d],t[d]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function controlPoints(e){var t,n=e.length-1,o,l=new Array(n),u=new Array(n),d=new Array(n);for(l[0]=0,u[0]=2,d[0]=e[0]+2*e[1],t=1;t<n-1;++t)l[t]=1,u[t]=4,d[t]=4*e[t]+2*e[t+1];for(l[n-1]=2,u[n-1]=7,d[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)o=l[t]/u[t-1],u[t]-=o,d[t]-=o*d[t-1];for(l[n-1]=d[n-1]/u[n-1],t=n-2;t>=0;--t)l[t]=(d[t]-l[t+1])/u[t];for(u[n-1]=(e[n]+l[n-1])/2,t=0;t<n-1;++t)u[t]=2*e[t+1]-l[t+1];return[l,u]}function curveNatural(e){return new Natural(e)}function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function curveStep(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function stackOffsetNone(e,t){if((d=e.length)>1)for(var n=1,o,l,u=e[t[0]],d,A=u.length;n<d;++n)for(l=u,u=e[t[n]],o=0;o<A;++o)u[o][1]+=u[o][0]=isNaN(l[o][1])?l[o][0]:l[o][1]}function stackOrderNone(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function stackValue(e,t){return e[t]}function stackSeries(e){const t=[];return t.key=e,t}function shapeStack(){var e=constant$4([]),t=stackOrderNone,n=stackOffsetNone,o=stackValue;function l(u){var d=Array.from(e.apply(this,arguments),stackSeries),A,m=d.length,f=-1,g;for(const v of u)for(A=0,++f;A<m;++A)(d[A][f]=[0,+o(v,d[A].key,f,u)]).data=v;for(A=0,g=array$1(t(d));A<m;++A)d[g[A]].index=A;return n(d,g),d}return l.keys=function(u){return arguments.length?(e=typeof u=="function"?u:constant$4(Array.from(u)),l):e},l.value=function(u){return arguments.length?(o=typeof u=="function"?u:constant$4(+u),l):o},l.order=function(u){return arguments.length?(t=u==null?stackOrderNone:typeof u=="function"?u:constant$4(Array.from(u)),l):t},l.offset=function(u){return arguments.length?(n=u??stackOffsetNone,l):n},l}function stackOffsetExpand(e,t){if((o=e.length)>0){for(var n,o,l=0,u=e[0].length,d;l<u;++l){for(d=n=0;n<o;++n)d+=e[n][l][1]||0;if(d)for(n=0;n<o;++n)e[n][l][1]/=d}stackOffsetNone(e,t)}}function stackOffsetSilhouette(e,t){if((l=e.length)>0){for(var n=0,o=e[t[0]],l,u=o.length;n<u;++n){for(var d=0,A=0;d<l;++d)A+=e[d][n][1]||0;o[n][1]+=o[n][0]=-A/2}stackOffsetNone(e,t)}}function stackOffsetWiggle(e,t){if(!(!((d=e.length)>0)||!((u=(l=e[t[0]]).length)>0))){for(var n=0,o=1,l,u,d;o<u;++o){for(var A=0,m=0,f=0;A<d;++A){for(var g=e[t[A]],v=g[o][1]||0,b=g[o-1][1]||0,w=(v-b)/2,j=0;j<A;++j){var E=e[t[j]],R=E[o][1]||0,_=E[o-1][1]||0;w+=R-_}m+=v,f+=w*v}l[o-1][1]+=l[o-1][0]=n,m&&(n-=f/m)}l[o-1][1]+=l[o-1][0]=n,stackOffsetNone(e,t)}}function _typeof$M(e){"@babel/helpers - typeof";return _typeof$M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$M(e)}var _excluded$l=["type","size","sizeType"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$v.apply(this,arguments)}function ownKeys$F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$E(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$F(Object(n),!0).forEach(function(o){_defineProperty$L(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$F(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$L(e,t,n){return t=_toPropertyKey$L(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$L(e){var t=_toPrimitive$L(e,"string");return _typeof$M(t)=="symbol"?t:t+""}function _toPrimitive$L(e,t){if(_typeof$M(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$M(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$k(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$k(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$k(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function(t){var n="symbol".concat(upperFirst(t));return symbolFactories[n]||symbolCircle},calculateAreaSize=function(t,n,o){if(n==="area")return t;switch(o){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var l=18*RADIAN$2;return 1.25*t*t*(Math.tan(l)-Math.tan(l*2)*Math.pow(Math.tan(l),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},registerSymbol=function(t,n){symbolFactories["symbol".concat(upperFirst(t))]=n},Symbols=function(t){var n=t.type,o=n===void 0?"circle":n,l=t.size,u=l===void 0?64:l,d=t.sizeType,A=d===void 0?"area":d,m=_objectWithoutProperties$k(t,_excluded$l),f=_objectSpread$E(_objectSpread$E({},m),{},{type:o,size:u,sizeType:A}),g=function(){var R=getSymbolFactory(o),_=Symbol$1().type(R).size(calculateAreaSize(u,A,o));return _()},v=f.className,b=f.cx,w=f.cy,j=filterProps(f,!0);return b===+b&&w===+w&&u===+u?React.createElement("path",_extends$v({},j,{className:clsx("recharts-symbols",v),transform:"translate(".concat(b,", ").concat(w,")"),d:g()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$L(e){"@babel/helpers - typeof";return _typeof$L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$L(e)}function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$u.apply(this,arguments)}function ownKeys$E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$E(Object(n),!0).forEach(function(o){_defineProperty$K(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$E(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$K(o.key),o)}}function _createClass$n(e,t,n){return t&&_defineProperties$m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$i(e,t,n){return t=_getPrototypeOf$k(t),_possibleConstructorReturn$k(e,_isNativeReflectConstruct$k()?Reflect.construct(t,n||[],_getPrototypeOf$k(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$k(e,t){if(t&&(_typeof$L(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$k(e)}function _assertThisInitialized$k(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$k=function(){return!!e})()}function _getPrototypeOf$k(e){return _getPrototypeOf$k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$k(e)}function _inherits$k(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$k(e,t)}function _setPrototypeOf$k(e,t){return _setPrototypeOf$k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$k(e,t)}function _defineProperty$K(e,t,n){return t=_toPropertyKey$K(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$K(e){var t=_toPrimitive$K(e,"string");return _typeof$L(t)=="symbol"?t:t+""}function _toPrimitive$K(e,t){if(_typeof$L(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$L(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SIZE=32,DefaultLegendContent=(function(e){function t(){return _classCallCheck$n(this,t),_callSuper$i(this,t,arguments)}return _inherits$k(t,e),_createClass$n(t,[{key:"renderIcon",value:function(o){var l=this.props.inactiveColor,u=SIZE/2,d=SIZE/6,A=SIZE/3,m=o.inactive?l:o.color;if(o.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:m,strokeDasharray:o.payload.strokeDasharray,x1:0,y1:u,x2:SIZE,y2:u,className:"recharts-legend-icon"});if(o.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:m,d:"M0,".concat(u,"h").concat(A,`
            A`).concat(d,",").concat(d,",0,1,1,").concat(2*A,",").concat(u,`
            H`).concat(SIZE,"M").concat(2*A,",").concat(u,`
            A`).concat(d,",").concat(d,",0,1,1,").concat(A,",").concat(u),className:"recharts-legend-icon"});if(o.type==="rect")return React.createElement("path",{stroke:"none",fill:m,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(o.legendIcon)){var f=_objectSpread$D({},o);return delete f.legendIcon,React.cloneElement(o.legendIcon,f)}return React.createElement(Symbols,{fill:m,cx:u,cy:u,size:SIZE,sizeType:"diameter",type:o.type})}},{key:"renderItems",value:function(){var o=this,l=this.props,u=l.payload,d=l.iconSize,A=l.layout,m=l.formatter,f=l.inactiveColor,g={x:0,y:0,width:SIZE,height:SIZE},v={display:A==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return u.map(function(w,j){var E=w.formatter||m,R=clsx(_defineProperty$K(_defineProperty$K({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",w.inactive));if(w.type==="none")return null;var _=isFunction(w.value)?null:w.value;warn(!isFunction(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=w.inactive?f:w.color;return React.createElement("li",_extends$u({className:R,style:v,key:"legend-item-".concat(j)},adaptEventsOfChild(o.props,w,j)),React.createElement(Surface,{width:d,height:d,viewBox:g,style:b},o.renderIcon(w)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},E?E(_,w,j):_))})}},{key:"render",value:function(){var o=this.props,l=o.payload,u=o.layout,d=o.align;if(!l||!l.length)return null;var A={padding:0,margin:0,textAlign:u==="horizontal"?d:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:A},this.renderItems())}}])})(reactExports.PureComponent);_defineProperty$K(DefaultLegendContent,"displayName","Legend");_defineProperty$K(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var e=require_ListCache();function t(){this.__data__=new e,this.size=0}return _stackClear=t,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function e(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o}return _stackDelete=e,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function e(t){return this.__data__.get(t)}return _stackGet=e,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function e(t){return this.__data__.has(t)}return _stackHas=e,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var e=require_ListCache(),t=require_Map(),n=require_MapCache(),o=200;function l(u,d){var A=this.__data__;if(A instanceof e){var m=A.__data__;if(!t||m.length<o-1)return m.push([u,d]),this.size=++A.size,this;A=this.__data__=new n(m)}return A.set(u,d),this.size=A.size,this}return _stackSet=l,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var e=require_ListCache(),t=require_stackClear(),n=require_stackDelete(),o=require_stackGet(),l=require_stackHas(),u=require_stackSet();function d(A){var m=this.__data__=new e(A);this.size=m.size}return d.prototype.clear=t,d.prototype.delete=n,d.prototype.get=o,d.prototype.has=l,d.prototype.set=u,_Stack=d,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return _setCacheAdd=t,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function e(t){return this.__data__.has(t)}return _setCacheHas=e,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var e=require_MapCache(),t=require_setCacheAdd(),n=require_setCacheHas();function o(l){var u=-1,d=l==null?0:l.length;for(this.__data__=new e;++u<d;)this.add(l[u])}return o.prototype.add=o.prototype.push=t,o.prototype.has=n,_SetCache=o,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function e(t,n){for(var o=-1,l=t==null?0:t.length;++o<l;)if(n(t[o],o,t))return!0;return!1}return _arraySome=e,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function e(t,n){return t.has(n)}return _cacheHas=e,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var e=require_SetCache(),t=require_arraySome(),n=require_cacheHas(),o=1,l=2;function u(d,A,m,f,g,v){var b=m&o,w=d.length,j=A.length;if(w!=j&&!(b&&j>w))return!1;var E=v.get(d),R=v.get(A);if(E&&R)return E==A&&R==d;var _=-1,N=!0,B=m&l?new e:void 0;for(v.set(d,A),v.set(A,d);++_<w;){var M=d[_],O=A[_];if(f)var F=b?f(O,M,_,A,d,v):f(M,O,_,d,A,v);if(F!==void 0){if(F)continue;N=!1;break}if(B){if(!t(A,function($,z){if(!n(B,z)&&(M===$||g(M,$,m,f,v)))return B.push(z)})){N=!1;break}}else if(!(M===O||g(M,O,m,f,v))){N=!1;break}}return v.delete(d),v.delete(A),N}return _equalArrays=u,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var e=require_root(),t=e.Uint8Array;return _Uint8Array=t,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function e(t){var n=-1,o=Array(t.size);return t.forEach(function(l,u){o[++n]=[u,l]}),o}return _mapToArray=e,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function e(t){var n=-1,o=Array(t.size);return t.forEach(function(l){o[++n]=l}),o}return _setToArray=e,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var e=require_Symbol(),t=require_Uint8Array(),n=requireEq(),o=require_equalArrays(),l=require_mapToArray(),u=require_setToArray(),d=1,A=2,m="[object Boolean]",f="[object Date]",g="[object Error]",v="[object Map]",b="[object Number]",w="[object RegExp]",j="[object Set]",E="[object String]",R="[object Symbol]",_="[object ArrayBuffer]",N="[object DataView]",B=e?e.prototype:void 0,M=B?B.valueOf:void 0;function O(F,$,z,se,ce,ie,pe){switch(z){case N:if(F.byteLength!=$.byteLength||F.byteOffset!=$.byteOffset)return!1;F=F.buffer,$=$.buffer;case _:return!(F.byteLength!=$.byteLength||!ie(new t(F),new t($)));case m:case f:case b:return n(+F,+$);case g:return F.name==$.name&&F.message==$.message;case w:case E:return F==$+"";case v:var xe=l;case j:var Ae=se&d;if(xe||(xe=u),F.size!=$.size&&!Ae)return!1;var ue=pe.get(F);if(ue)return ue==$;se|=A,pe.set(F,$);var Y=o(xe(F),xe($),se,ce,ie,pe);return pe.delete(F),Y;case R:if(M)return M.call(F)==M.call($)}return!1}return _equalByTag=O,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function e(t,n){for(var o=-1,l=n.length,u=t.length;++o<l;)t[u+o]=n[o];return t}return _arrayPush=e,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var e=require_arrayPush(),t=requireIsArray();function n(o,l,u){var d=l(o);return t(o)?d:e(d,u(o))}return _baseGetAllKeys=n,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function e(t,n){for(var o=-1,l=t==null?0:t.length,u=0,d=[];++o<l;){var A=t[o];n(A,o,t)&&(d[u++]=A)}return d}return _arrayFilter=e,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function e(){return[]}return stubArray_1=e,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var e=require_arrayFilter(),t=requireStubArray(),n=Object.prototype,o=n.propertyIsEnumerable,l=Object.getOwnPropertySymbols,u=l?function(d){return d==null?[]:(d=Object(d),e(l(d),function(A){return o.call(d,A)}))}:t;return _getSymbols=u,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function e(t,n){for(var o=-1,l=Array(t);++o<t;)l[o]=n(o);return l}return _baseTimes=e,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var e=require_baseGetTag(),t=requireIsObjectLike(),n="[object Arguments]";function o(l){return t(l)&&e(l)==n}return _baseIsArguments=o,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var e=require_baseIsArguments(),t=requireIsObjectLike(),n=Object.prototype,o=n.hasOwnProperty,l=n.propertyIsEnumerable,u=e((function(){return arguments})())?e:function(d){return t(d)&&o.call(d,"callee")&&!l.call(d,"callee")};return isArguments_1=u,isArguments_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function e(){return!1}return stubFalse_1=e,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(e,t){var n=require_root(),o=requireStubFalse(),l=t&&!t.nodeType&&t,u=l&&!0&&e&&!e.nodeType&&e,d=u&&u.exports===l,A=d?n.Buffer:void 0,m=A?A.isBuffer:void 0,f=m||o;e.exports=f})(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(o,l){var u=typeof o;return l=l??e,!!l&&(u=="number"||u!="symbol"&&t.test(o))&&o>-1&&o%1==0&&o<l}return _isIndex=n,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return isLength_1=t,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var e=require_baseGetTag(),t=requireIsLength(),n=requireIsObjectLike(),o="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",A="[object Error]",m="[object Function]",f="[object Map]",g="[object Number]",v="[object Object]",b="[object RegExp]",w="[object Set]",j="[object String]",E="[object WeakMap]",R="[object ArrayBuffer]",_="[object DataView]",N="[object Float32Array]",B="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",F="[object Int32Array]",$="[object Uint8Array]",z="[object Uint8ClampedArray]",se="[object Uint16Array]",ce="[object Uint32Array]",ie={};ie[N]=ie[B]=ie[M]=ie[O]=ie[F]=ie[$]=ie[z]=ie[se]=ie[ce]=!0,ie[o]=ie[l]=ie[R]=ie[u]=ie[_]=ie[d]=ie[A]=ie[m]=ie[f]=ie[g]=ie[v]=ie[b]=ie[w]=ie[j]=ie[E]=!1;function pe(xe){return n(xe)&&t(xe.length)&&!!ie[e(xe)]}return _baseIsTypedArray=pe,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function e(t){return function(n){return t(n)}}return _baseUnary=e,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(e,t){var n=require_freeGlobal(),o=t&&!t.nodeType&&t,l=o&&!0&&e&&!e.nodeType&&e,u=l&&l.exports===o,d=u&&n.process,A=(function(){try{var m=l&&l.require&&l.require("util").types;return m||d&&d.binding&&d.binding("util")}catch{}})();e.exports=A})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var e=require_baseIsTypedArray(),t=require_baseUnary(),n=require_nodeUtil(),o=n&&n.isTypedArray,l=o?t(o):e;return isTypedArray_1=l,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var e=require_baseTimes(),t=requireIsArguments(),n=requireIsArray(),o=requireIsBuffer(),l=require_isIndex(),u=requireIsTypedArray(),d=Object.prototype,A=d.hasOwnProperty;function m(f,g){var v=n(f),b=!v&&t(f),w=!v&&!b&&o(f),j=!v&&!b&&!w&&u(f),E=v||b||w||j,R=E?e(f.length,String):[],_=R.length;for(var N in f)(g||A.call(f,N))&&!(E&&(N=="length"||w&&(N=="offset"||N=="parent")||j&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||l(N,_)))&&R.push(N);return R}return _arrayLikeKeys=m,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var e=Object.prototype;function t(n){var o=n&&n.constructor,l=typeof o=="function"&&o.prototype||e;return n===l}return _isPrototype=t,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function e(t,n){return function(o){return t(n(o))}}return _overArg=e,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var e=require_overArg(),t=e(Object.keys,Object);return _nativeKeys=t,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var e=require_isPrototype(),t=require_nativeKeys(),n=Object.prototype,o=n.hasOwnProperty;function l(u){if(!e(u))return t(u);var d=[];for(var A in Object(u))o.call(u,A)&&A!="constructor"&&d.push(A);return d}return _baseKeys=l,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var e=requireIsFunction(),t=requireIsLength();function n(o){return o!=null&&t(o.length)&&!e(o)}return isArrayLike_1=n,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var e=require_arrayLikeKeys(),t=require_baseKeys(),n=requireIsArrayLike();function o(l){return n(l)?e(l):t(l)}return keys_1=o,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var e=require_baseGetAllKeys(),t=require_getSymbols(),n=requireKeys();function o(l){return e(l,n,t)}return _getAllKeys=o,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var e=require_getAllKeys(),t=1,n=Object.prototype,o=n.hasOwnProperty;function l(u,d,A,m,f,g){var v=A&t,b=e(u),w=b.length,j=e(d),E=j.length;if(w!=E&&!v)return!1;for(var R=w;R--;){var _=b[R];if(!(v?_ in d:o.call(d,_)))return!1}var N=g.get(u),B=g.get(d);if(N&&B)return N==d&&B==u;var M=!0;g.set(u,d),g.set(d,u);for(var O=v;++R<w;){_=b[R];var F=u[_],$=d[_];if(m)var z=v?m($,F,_,d,u,g):m(F,$,_,u,d,g);if(!(z===void 0?F===$||f(F,$,A,m,g):z)){M=!1;break}O||(O=_=="constructor")}if(M&&!O){var se=u.constructor,ce=d.constructor;se!=ce&&"constructor"in u&&"constructor"in d&&!(typeof se=="function"&&se instanceof se&&typeof ce=="function"&&ce instanceof ce)&&(M=!1)}return g.delete(u),g.delete(d),M}return _equalObjects=l,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var e=require_getNative(),t=require_root(),n=e(t,"DataView");return _DataView=n,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var e=require_getNative(),t=require_root(),n=e(t,"Promise");return _Promise=n,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var e=require_getNative(),t=require_root(),n=e(t,"Set");return _Set=n,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var e=require_getNative(),t=require_root(),n=e(t,"WeakMap");return _WeakMap=n,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var e=require_DataView(),t=require_Map(),n=require_Promise(),o=require_Set(),l=require_WeakMap(),u=require_baseGetTag(),d=require_toSource(),A="[object Map]",m="[object Object]",f="[object Promise]",g="[object Set]",v="[object WeakMap]",b="[object DataView]",w=d(e),j=d(t),E=d(n),R=d(o),_=d(l),N=u;return(e&&N(new e(new ArrayBuffer(1)))!=b||t&&N(new t)!=A||n&&N(n.resolve())!=f||o&&N(new o)!=g||l&&N(new l)!=v)&&(N=function(B){var M=u(B),O=M==m?B.constructor:void 0,F=O?d(O):"";if(F)switch(F){case w:return b;case j:return A;case E:return f;case R:return g;case _:return v}return M}),_getTag=N,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var e=require_Stack(),t=require_equalArrays(),n=require_equalByTag(),o=require_equalObjects(),l=require_getTag(),u=requireIsArray(),d=requireIsBuffer(),A=requireIsTypedArray(),m=1,f="[object Arguments]",g="[object Array]",v="[object Object]",b=Object.prototype,w=b.hasOwnProperty;function j(E,R,_,N,B,M){var O=u(E),F=u(R),$=O?g:l(E),z=F?g:l(R);$=$==f?v:$,z=z==f?v:z;var se=$==v,ce=z==v,ie=$==z;if(ie&&d(E)){if(!d(R))return!1;O=!0,se=!1}if(ie&&!se)return M||(M=new e),O||A(E)?t(E,R,_,N,B,M):n(E,R,$,_,N,B,M);if(!(_&m)){var pe=se&&w.call(E,"__wrapped__"),xe=ce&&w.call(R,"__wrapped__");if(pe||xe){var Ae=pe?E.value():E,ue=xe?R.value():R;return M||(M=new e),B(Ae,ue,_,N,M)}}return ie?(M||(M=new e),o(E,R,_,N,B,M)):!1}return _baseIsEqualDeep=j,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var e=require_baseIsEqualDeep(),t=requireIsObjectLike();function n(o,l,u,d,A){return o===l?!0:o==null||l==null||!t(o)&&!t(l)?o!==o&&l!==l:e(o,l,u,d,n,A)}return _baseIsEqual=n,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var e=require_Stack(),t=require_baseIsEqual(),n=1,o=2;function l(u,d,A,m){var f=A.length,g=f,v=!m;if(u==null)return!g;for(u=Object(u);f--;){var b=A[f];if(v&&b[2]?b[1]!==u[b[0]]:!(b[0]in u))return!1}for(;++f<g;){b=A[f];var w=b[0],j=u[w],E=b[1];if(v&&b[2]){if(j===void 0&&!(w in u))return!1}else{var R=new e;if(m)var _=m(j,E,w,u,d,R);if(!(_===void 0?t(E,j,n|o,m,R):_))return!1}}return!0}return _baseIsMatch=l,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var e=requireIsObject();function t(n){return n===n&&!e(n)}return _isStrictComparable=t,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var e=require_isStrictComparable(),t=requireKeys();function n(o){for(var l=t(o),u=l.length;u--;){var d=l[u],A=o[d];l[u]=[d,A,e(A)]}return l}return _getMatchData=n,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function e(t,n){return function(o){return o==null?!1:o[t]===n&&(n!==void 0||t in Object(o))}}return _matchesStrictComparable=e,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var e=require_baseIsMatch(),t=require_getMatchData(),n=require_matchesStrictComparable();function o(l){var u=t(l);return u.length==1&&u[0][2]?n(u[0][0],u[0][1]):function(d){return d===l||e(d,l,u)}}return _baseMatches=o,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function e(t,n){return t!=null&&n in Object(t)}return _baseHasIn=e,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var e=require_castPath(),t=requireIsArguments(),n=requireIsArray(),o=require_isIndex(),l=requireIsLength(),u=require_toKey();function d(A,m,f){m=e(m,A);for(var g=-1,v=m.length,b=!1;++g<v;){var w=u(m[g]);if(!(b=A!=null&&f(A,w)))break;A=A[w]}return b||++g!=v?b:(v=A==null?0:A.length,!!v&&l(v)&&o(w,v)&&(n(A)||t(A)))}return _hasPath=d,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var e=require_baseHasIn(),t=require_hasPath();function n(o,l){return o!=null&&t(o,l,e)}return hasIn_1=n,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var e=require_baseIsEqual(),t=requireGet(),n=requireHasIn(),o=require_isKey(),l=require_isStrictComparable(),u=require_matchesStrictComparable(),d=require_toKey(),A=1,m=2;function f(g,v){return o(g)&&l(v)?u(d(g),v):function(b){var w=t(b,g);return w===void 0&&w===v?n(b,g):e(v,w,A|m)}}return _baseMatchesProperty=f,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function e(t){return t}return identity_1=e,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function e(t){return function(n){return n?.[t]}}return _baseProperty=e,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var e=require_baseGet();function t(n){return function(o){return e(o,n)}}return _basePropertyDeep=t,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var e=require_baseProperty(),t=require_basePropertyDeep(),n=require_isKey(),o=require_toKey();function l(u){return n(u)?e(o(u)):t(u)}return property_1=l,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var e=require_baseMatches(),t=require_baseMatchesProperty(),n=requireIdentity(),o=requireIsArray(),l=requireProperty();function u(d){return typeof d=="function"?d:d==null?n:typeof d=="object"?o(d)?t(d[0],d[1]):e(d):l(d)}return _baseIteratee=u,_baseIteratee}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function e(t,n,o,l){for(var u=t.length,d=o+(l?1:-1);l?d--:++d<u;)if(n(t[d],d,t))return d;return-1}return _baseFindIndex=e,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function e(t){return t!==t}return _baseIsNaN=e,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function e(t,n,o){for(var l=o-1,u=t.length;++l<u;)if(t[l]===n)return l;return-1}return _strictIndexOf=e,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var e=require_baseFindIndex(),t=require_baseIsNaN(),n=require_strictIndexOf();function o(l,u,d){return u===u?n(l,u,d):e(l,t,d)}return _baseIndexOf=o,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var e=require_baseIndexOf();function t(n,o){var l=n==null?0:n.length;return!!l&&e(n,o,0)>-1}return _arrayIncludes=t,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function e(t,n,o){for(var l=-1,u=t==null?0:t.length;++l<u;)if(o(n,t[l]))return!0;return!1}return _arrayIncludesWith=e,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function e(){}return noop_1=e,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var e=require_Set(),t=requireNoop(),n=require_setToArray(),o=1/0,l=e&&1/n(new e([,-0]))[1]==o?function(u){return new e(u)}:t;return _createSet=l,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var e=require_SetCache(),t=require_arrayIncludes(),n=require_arrayIncludesWith(),o=require_cacheHas(),l=require_createSet(),u=require_setToArray(),d=200;function A(m,f,g){var v=-1,b=t,w=m.length,j=!0,E=[],R=E;if(g)j=!1,b=n;else if(w>=d){var _=f?null:l(m);if(_)return u(_);j=!1,b=o,R=new e}else R=f?[]:E;e:for(;++v<w;){var N=m[v],B=f?f(N):N;if(N=g||N!==0?N:0,j&&B===B){for(var M=R.length;M--;)if(R[M]===B)continue e;f&&R.push(B),E.push(N)}else b(R,B,g)||(R!==E&&R.push(B),E.push(N))}return E}return _baseUniq=A,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var e=require_baseIteratee(),t=require_baseUniq();function n(o,l){return o&&o.length?t(o,e(l,2)):[]}return uniqBy_1=n,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(e,t,n){return t===!0?uniqBy(e,n):isFunction(t)?uniqBy(e,t):e}function _typeof$K(e){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$K(e)}var _excluded$k=["ref"];function ownKeys$D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$D(Object(n),!0).forEach(function(o){_defineProperty$J(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$D(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$J(o.key),o)}}function _createClass$m(e,t,n){return t&&_defineProperties$l(e.prototype,t),n&&_defineProperties$l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$h(e,t,n){return t=_getPrototypeOf$j(t),_possibleConstructorReturn$j(e,_isNativeReflectConstruct$j()?Reflect.construct(t,n||[],_getPrototypeOf$j(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$j(e,t){if(t&&(_typeof$K(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$j(e)}function _assertThisInitialized$j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$j=function(){return!!e})()}function _getPrototypeOf$j(e){return _getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$j(e)}function _inherits$j(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$j(e,t)}function _setPrototypeOf$j(e,t){return _setPrototypeOf$j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$j(e,t)}function _defineProperty$J(e,t,n){return t=_toPropertyKey$J(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$J(e){var t=_toPrimitive$J(e,"string");return _typeof$K(t)=="symbol"?t:t+""}function _toPrimitive$J(e,t){if(_typeof$K(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$K(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _objectWithoutProperties$j(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$j(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$j(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function defaultUniqBy$1(e){return e.value}function renderContent$1(e,t){if(React.isValidElement(e))return React.cloneElement(e,t);if(typeof e=="function")return React.createElement(e,t);t.ref;var n=_objectWithoutProperties$j(t,_excluded$k);return React.createElement(DefaultLegendContent,n)}var EPS$1=1,Legend=(function(e){function t(){var n;_classCallCheck$m(this,t);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$h(this,t,[].concat(l)),_defineProperty$J(n,"lastBoundingBox",{width:-1,height:-1}),n}return _inherits$j(t,e),_createClass$m(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();return o.height=this.wrapperNode.offsetHeight,o.width=this.wrapperNode.offsetWidth,o}return null}},{key:"updateBBox",value:function(){var o=this.props.onBBoxUpdate,l=this.getBBox();l?(Math.abs(l.width-this.lastBoundingBox.width)>EPS$1||Math.abs(l.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=l.width,this.lastBoundingBox.height=l.height,o&&o(l)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,o&&o(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$C({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(o){var l=this.props,u=l.layout,d=l.align,A=l.verticalAlign,m=l.margin,f=l.chartWidth,g=l.chartHeight,v,b;if(!o||(o.left===void 0||o.left===null)&&(o.right===void 0||o.right===null))if(d==="center"&&u==="vertical"){var w=this.getBBoxSnapshot();v={left:((f||0)-w.width)/2}}else v=d==="right"?{right:m&&m.right||0}:{left:m&&m.left||0};if(!o||(o.top===void 0||o.top===null)&&(o.bottom===void 0||o.bottom===null))if(A==="middle"){var j=this.getBBoxSnapshot();b={top:((g||0)-j.height)/2}}else b=A==="bottom"?{bottom:m&&m.bottom||0}:{top:m&&m.top||0};return _objectSpread$C(_objectSpread$C({},v),b)}},{key:"render",value:function(){var o=this,l=this.props,u=l.content,d=l.width,A=l.height,m=l.wrapperStyle,f=l.payloadUniqBy,g=l.payload,v=_objectSpread$C(_objectSpread$C({position:"absolute",width:d||"auto",height:A||"auto"},this.getDefaultPosition(m)),m);return React.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(w){o.wrapperNode=w}},renderContent$1(u,_objectSpread$C(_objectSpread$C({},this.props),{},{payload:getUniqPayload(g,f,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(o,l){var u=_objectSpread$C(_objectSpread$C({},this.defaultProps),o.props),d=u.layout;return d==="vertical"&&isNumber(o.props.height)?{height:o.props.height}:d==="horizontal"?{width:o.props.width||l}:null}}])})(reactExports.PureComponent);_defineProperty$J(Legend,"displayName","Legend");_defineProperty$J(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var e=require_Symbol(),t=requireIsArguments(),n=requireIsArray(),o=e?e.isConcatSpreadable:void 0;function l(u){return n(u)||t(u)||!!(o&&u&&u[o])}return _isFlattenable=l,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var e=require_arrayPush(),t=require_isFlattenable();function n(o,l,u,d,A){var m=-1,f=o.length;for(u||(u=t),A||(A=[]);++m<f;){var g=o[m];l>0&&u(g)?l>1?n(g,l-1,u,d,A):e(A,g):d||(A[A.length]=g)}return A}return _baseFlatten=n,_baseFlatten}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function e(t){return function(n,o,l){for(var u=-1,d=Object(n),A=l(n),m=A.length;m--;){var f=A[t?m:++u];if(o(d[f],f,d)===!1)break}return n}}return _createBaseFor=e,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var e=require_createBaseFor(),t=e();return _baseFor=t,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var e=require_baseFor(),t=requireKeys();function n(o,l){return o&&e(o,l,t)}return _baseForOwn=n,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var e=requireIsArrayLike();function t(n,o){return function(l,u){if(l==null)return l;if(!e(l))return n(l,u);for(var d=l.length,A=o?d:-1,m=Object(l);(o?A--:++A<d)&&u(m[A],A,m)!==!1;);return l}}return _createBaseEach=t,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var e=require_baseForOwn(),t=require_createBaseEach(),n=t(e);return _baseEach=n,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var e=require_baseEach(),t=requireIsArrayLike();function n(o,l){var u=-1,d=t(o)?Array(o.length):[];return e(o,function(A,m,f){d[++u]=l(A,m,f)}),d}return _baseMap=n,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function e(t,n){var o=t.length;for(t.sort(n);o--;)t[o]=t[o].value;return t}return _baseSortBy=e,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var e=requireIsSymbol();function t(n,o){if(n!==o){var l=n!==void 0,u=n===null,d=n===n,A=e(n),m=o!==void 0,f=o===null,g=o===o,v=e(o);if(!f&&!v&&!A&&n>o||A&&m&&g&&!f&&!v||u&&m&&g||!l&&g||!d)return 1;if(!u&&!A&&!v&&n<o||v&&l&&d&&!u&&!A||f&&l&&d||!m&&d||!g)return-1}return 0}return _compareAscending=t,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var e=require_compareAscending();function t(n,o,l){for(var u=-1,d=n.criteria,A=o.criteria,m=d.length,f=l.length;++u<m;){var g=e(d[u],A[u]);if(g){if(u>=f)return g;var v=l[u];return g*(v=="desc"?-1:1)}}return n.index-o.index}return _compareMultiple=t,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var e=require_arrayMap(),t=require_baseGet(),n=require_baseIteratee(),o=require_baseMap(),l=require_baseSortBy(),u=require_baseUnary(),d=require_compareMultiple(),A=requireIdentity(),m=requireIsArray();function f(g,v,b){v.length?v=e(v,function(E){return m(E)?function(R){return t(R,E.length===1?E[0]:E)}:E}):v=[A];var w=-1;v=e(v,u(n));var j=o(g,function(E,R,_){var N=e(v,function(B){return B(E)});return{criteria:N,index:++w,value:E}});return l(j,function(E,R){return d(E,R,b)})}return _baseOrderBy=f,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function e(t,n,o){switch(o.length){case 0:return t.call(n);case 1:return t.call(n,o[0]);case 2:return t.call(n,o[0],o[1]);case 3:return t.call(n,o[0],o[1],o[2])}return t.apply(n,o)}return _apply=e,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var e=require_apply(),t=Math.max;function n(o,l,u){return l=t(l===void 0?o.length-1:l,0),function(){for(var d=arguments,A=-1,m=t(d.length-l,0),f=Array(m);++A<m;)f[A]=d[l+A];A=-1;for(var g=Array(l+1);++A<l;)g[A]=d[A];return g[l]=u(f),e(o,this,g)}}return _overRest=n,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function e(t){return function(){return t}}return constant_1=e,constant_1}var _defineProperty$I,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$I;hasRequired_defineProperty=1;var e=require_getNative(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return _defineProperty$I=t,_defineProperty$I}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var e=requireConstant(),t=require_defineProperty(),n=requireIdentity(),o=t?function(l,u){return t(l,"toString",{configurable:!0,enumerable:!1,value:e(u),writable:!0})}:n;return _baseSetToString=o,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var e=800,t=16,n=Date.now;function o(l){var u=0,d=0;return function(){var A=n(),m=t-(A-d);if(d=A,m>0){if(++u>=e)return arguments[0]}else u=0;return l.apply(void 0,arguments)}}return _shortOut=o,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var e=require_baseSetToString(),t=require_shortOut(),n=t(e);return _setToString=n,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var e=requireIdentity(),t=require_overRest(),n=require_setToString();function o(l,u){return n(t(l,u,e),l+"")}return _baseRest=o,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var e=requireEq(),t=requireIsArrayLike(),n=require_isIndex(),o=requireIsObject();function l(u,d,A){if(!o(A))return!1;var m=typeof d;return(m=="number"?t(A)&&n(d,A.length):m=="string"&&d in A)?e(A[d],u):!1}return _isIterateeCall=l,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var e=require_baseFlatten(),t=require_baseOrderBy(),n=require_baseRest(),o=require_isIterateeCall(),l=n(function(u,d){if(u==null)return[];var A=d.length;return A>1&&o(u,d[0],d[1])?d=[]:A>2&&o(d[0],d[1],d[2])&&(d=[d[0]]),t(u,e(d,1),[])});return sortBy_1=l,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);function _typeof$J(e){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$J(e)}function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$t.apply(this,arguments)}function _slicedToArray$d(e,t){return _arrayWithHoles$e(e)||_iterableToArrayLimit$d(e,t)||_unsupportedIterableToArray$m(e,t)||_nonIterableRest$e()}function _nonIterableRest$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$m(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$m(e,t)}}function _arrayLikeToArray$m(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$d(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$e(e){if(Array.isArray(e))return e}function ownKeys$C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$C(Object(n),!0).forEach(function(o){_defineProperty$H(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$C(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$H(e,t,n){return t=_toPropertyKey$I(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$I(e){var t=_toPrimitive$I(e,"string");return _typeof$J(t)=="symbol"?t:t+""}function _toPrimitive$I(e,t){if(_typeof$J(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$J(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultFormatter(e){return Array.isArray(e)&&isNumOrStr(e[0])&&isNumOrStr(e[1])?e.join(" ~ "):e}var DefaultTooltipContent=function(t){var n=t.separator,o=n===void 0?" : ":n,l=t.contentStyle,u=l===void 0?{}:l,d=t.itemStyle,A=d===void 0?{}:d,m=t.labelStyle,f=m===void 0?{}:m,g=t.payload,v=t.formatter,b=t.itemSorter,w=t.wrapperClassName,j=t.labelClassName,E=t.label,R=t.labelFormatter,_=t.accessibilityLayer,N=_===void 0?!1:_,B=function(){if(g&&g.length){var pe={padding:0,margin:0},xe=(b?sortBy(g,b):g).map(function(Ae,ue){if(Ae.type==="none")return null;var Y=_objectSpread$B({display:"block",paddingTop:4,paddingBottom:4,color:Ae.color||"#000"},A),fe=Ae.formatter||v||defaultFormatter,H=Ae.value,le=Ae.name,de=H,ye=le;if(fe&&de!=null&&ye!=null){var ge=fe(H,le,Ae,ue,g);if(Array.isArray(ge)){var je=_slicedToArray$d(ge,2);de=je[0],ye=je[1]}else de=ge}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ue),style:Y},isNumOrStr(ye)?React.createElement("span",{className:"recharts-tooltip-item-name"},ye):null,isNumOrStr(ye)?React.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,React.createElement("span",{className:"recharts-tooltip-item-value"},de),React.createElement("span",{className:"recharts-tooltip-item-unit"},Ae.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:pe},xe)}return null},M=_objectSpread$B({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},u),O=_objectSpread$B({margin:0},f),F=!isNil(E),$=F?E:"",z=clsx("recharts-default-tooltip",w),se=clsx("recharts-tooltip-label",j);F&&R&&g!==void 0&&g!==null&&($=R(E,g));var ce=N?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$t({className:z,style:M},ce),React.createElement("p",{className:se,style:O},React.isValidElement($)?$:"".concat($)),B())};function _typeof$I(e){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$I(e)}function _defineProperty$G(e,t,n){return t=_toPropertyKey$H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$H(e){var t=_toPrimitive$H(e,"string");return _typeof$I(t)=="symbol"?t:t+""}function _toPrimitive$H(e,t){if(_typeof$I(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$I(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(e){var t=e.coordinate,n=e.translateX,o=e.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$G(_defineProperty$G(_defineProperty$G(_defineProperty$G({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(n)&&t&&isNumber(t.x)&&n>=t.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(n)&&t&&isNumber(t.x)&&n<t.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(o)&&t&&isNumber(t.y)&&o>=t.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(o)&&t&&isNumber(t.y)&&o<t.y))}function getTooltipTranslateXY(e){var t=e.allowEscapeViewBox,n=e.coordinate,o=e.key,l=e.offsetTopLeft,u=e.position,d=e.reverseDirection,A=e.tooltipDimension,m=e.viewBox,f=e.viewBoxDimension;if(u&&isNumber(u[o]))return u[o];var g=n[o]-A-l,v=n[o]+l;if(t[o])return d[o]?g:v;if(d[o]){var b=g,w=m[o];return b<w?Math.max(v,m[o]):Math.max(g,m[o])}var j=v+A,E=m[o]+f;return j>E?Math.max(g,m[o]):Math.max(v,m[o])}function getTransformStyle(e){var t=e.translateX,n=e.translateY,o=e.useTranslate3d;return{transform:o?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function getTooltipTranslate(e){var t=e.allowEscapeViewBox,n=e.coordinate,o=e.offsetTopLeft,l=e.position,u=e.reverseDirection,d=e.tooltipBox,A=e.useTranslate3d,m=e.viewBox,f,g,v;return d.height>0&&d.width>0&&n?(g=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),v=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),f=getTransformStyle({translateX:g,translateY:v,useTranslate3d:A})):f=TOOLTIP_HIDDEN,{cssProperties:f,cssClasses:getTooltipCSSClassName({translateX:g,translateY:v,coordinate:n})}}function _typeof$H(e){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$H(e)}function ownKeys$B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$B(Object(n),!0).forEach(function(o){_defineProperty$F(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$B(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$G(o.key),o)}}function _createClass$l(e,t,n){return t&&_defineProperties$k(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$g(e,t,n){return t=_getPrototypeOf$i(t),_possibleConstructorReturn$i(e,_isNativeReflectConstruct$i()?Reflect.construct(t,n||[],_getPrototypeOf$i(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$i(e,t){if(t&&(_typeof$H(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(e)}function _assertThisInitialized$i(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!e})()}function _getPrototypeOf$i(e){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$i(e)}function _inherits$i(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$i(e,t)}function _setPrototypeOf$i(e,t){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$i(e,t)}function _defineProperty$F(e,t,n){return t=_toPropertyKey$G(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$G(e){var t=_toPrimitive$G(e,"string");return _typeof$H(t)=="symbol"?t:t+""}function _toPrimitive$G(e,t){if(_typeof$H(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$H(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EPSILON=1,TooltipBoundingBox=(function(e){function t(){var n;_classCallCheck$l(this,t);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$g(this,t,[].concat(l)),_defineProperty$F(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$F(n,"handleKeyDown",function(d){if(d.key==="Escape"){var A,m,f,g;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(A=(m=n.props.coordinate)===null||m===void 0?void 0:m.x)!==null&&A!==void 0?A:0,y:(f=(g=n.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&f!==void 0?f:0}})}}),n}return _inherits$i(t,e),_createClass$l(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(o.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:o.width,height:o.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var o,l;this.props.active&&this.updateBBox(),this.state.dismissed&&(((o=this.props.coordinate)===null||o===void 0?void 0:o.x)!==this.state.dismissedAtCoordinate.x||((l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var o=this,l=this.props,u=l.active,d=l.allowEscapeViewBox,A=l.animationDuration,m=l.animationEasing,f=l.children,g=l.coordinate,v=l.hasPayload,b=l.isAnimationActive,w=l.offset,j=l.position,E=l.reverseDirection,R=l.useTranslate3d,_=l.viewBox,N=l.wrapperStyle,B=getTooltipTranslate({allowEscapeViewBox:d,coordinate:g,offsetTopLeft:w,position:j,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:R,viewBox:_}),M=B.cssClasses,O=B.cssProperties,F=_objectSpread$A(_objectSpread$A({transition:b&&u?"transform ".concat(A,"ms ").concat(m):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&u&&v?"visible":"hidden",position:"absolute",top:0,left:0},N);return React.createElement("div",{tabIndex:-1,className:M,style:F,ref:function(z){o.wrapperNode=z}},f)}}])})(reactExports.PureComponent),parseIsSsrByDefault=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$G(e){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$G(e)}function ownKeys$A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$A(Object(n),!0).forEach(function(o){_defineProperty$E(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$A(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$F(o.key),o)}}function _createClass$k(e,t,n){return t&&_defineProperties$j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$f(e,t,n){return t=_getPrototypeOf$h(t),_possibleConstructorReturn$h(e,_isNativeReflectConstruct$h()?Reflect.construct(t,n||[],_getPrototypeOf$h(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$h(e,t){if(t&&(_typeof$G(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(e)}function _assertThisInitialized$h(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!e})()}function _getPrototypeOf$h(e){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$h(e)}function _inherits$h(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$h(e,t)}function _setPrototypeOf$h(e,t){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$h(e,t)}function _defineProperty$E(e,t,n){return t=_toPropertyKey$F(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$F(e){var t=_toPrimitive$F(e,"string");return _typeof$G(t)=="symbol"?t:t+""}function _toPrimitive$F(e,t){if(_typeof$G(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$G(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function defaultUniqBy(e){return e.dataKey}function renderContent(e,t){return React.isValidElement(e)?React.cloneElement(e,t):typeof e=="function"?React.createElement(e,t):React.createElement(DefaultTooltipContent,t)}var Tooltip=(function(e){function t(){return _classCallCheck$k(this,t),_callSuper$f(this,t,arguments)}return _inherits$h(t,e),_createClass$k(t,[{key:"render",value:function(){var o=this,l=this.props,u=l.active,d=l.allowEscapeViewBox,A=l.animationDuration,m=l.animationEasing,f=l.content,g=l.coordinate,v=l.filterNull,b=l.isAnimationActive,w=l.offset,j=l.payload,E=l.payloadUniqBy,R=l.position,_=l.reverseDirection,N=l.useTranslate3d,B=l.viewBox,M=l.wrapperStyle,O=j??[];v&&O.length&&(O=getUniqPayload(j.filter(function($){return $.value!=null&&($.hide!==!0||o.props.includeHidden)}),E,defaultUniqBy));var F=O.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:d,animationDuration:A,animationEasing:m,isAnimationActive:b,active:u,coordinate:g,hasPayload:F,offset:w,position:R,reverseDirection:_,useTranslate3d:N,viewBox:B,wrapperStyle:M},renderContent(f,_objectSpread$z(_objectSpread$z({},this.props),{},{payload:O})))}}])})(reactExports.PureComponent);_defineProperty$E(Tooltip,"displayName","Tooltip");_defineProperty$E(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var e=require_root(),t=function(){return e.Date.now()};return now_1=t,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var e=/\s/;function t(n){for(var o=n.length;o--&&e.test(n.charAt(o)););return o}return _trimmedEndIndex=t,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var e=require_trimmedEndIndex(),t=/^\s+/;function n(o){return o&&o.slice(0,e(o)+1).replace(t,"")}return _baseTrim=n,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var e=require_baseTrim(),t=requireIsObject(),n=requireIsSymbol(),o=NaN,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,A=parseInt;function m(f){if(typeof f=="number")return f;if(n(f))return o;if(t(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=t(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=e(f);var v=u.test(f);return v||d.test(f)?A(f.slice(2),v?2:8):l.test(f)?o:+f}return toNumber_1=m,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var e=requireIsObject(),t=requireNow(),n=requireToNumber(),o="Expected a function",l=Math.max,u=Math.min;function d(A,m,f){var g,v,b,w,j,E,R=0,_=!1,N=!1,B=!0;if(typeof A!="function")throw new TypeError(o);m=n(m)||0,e(f)&&(_=!!f.leading,N="maxWait"in f,b=N?l(n(f.maxWait)||0,m):b,B="trailing"in f?!!f.trailing:B);function M(xe){var Ae=g,ue=v;return g=v=void 0,R=xe,w=A.apply(ue,Ae),w}function O(xe){return R=xe,j=setTimeout(z,m),_?M(xe):w}function F(xe){var Ae=xe-E,ue=xe-R,Y=m-Ae;return N?u(Y,b-ue):Y}function $(xe){var Ae=xe-E,ue=xe-R;return E===void 0||Ae>=m||Ae<0||N&&ue>=b}function z(){var xe=t();if($(xe))return se(xe);j=setTimeout(z,F(xe))}function se(xe){return j=void 0,B&&g?M(xe):(g=v=void 0,w)}function ce(){j!==void 0&&clearTimeout(j),R=0,g=E=v=j=void 0}function ie(){return j===void 0?w:se(t())}function pe(){var xe=t(),Ae=$(xe);if(g=arguments,v=this,E=xe,Ae){if(j===void 0)return O(E);if(N)return clearTimeout(j),j=setTimeout(z,m),M(E)}return j===void 0&&(j=setTimeout(z,m)),w}return pe.cancel=ce,pe.flush=ie,pe}return debounce_1=d,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var e=requireDebounce(),t=requireIsObject(),n="Expected a function";function o(l,u,d){var A=!0,m=!0;if(typeof l!="function")throw new TypeError(n);return t(d)&&(A="leading"in d?!!d.leading:A,m="trailing"in d?!!d.trailing:m),e(l,u,{leading:A,maxWait:u,trailing:m})}return throttle_1=o,throttle_1}var throttleExports=requireThrottle();const throttle$1=getDefaultExportFromCjs(throttleExports);function _typeof$F(e){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$F(e)}function ownKeys$z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$z(Object(n),!0).forEach(function(o){_defineProperty$D(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$z(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$D(e,t,n){return t=_toPropertyKey$E(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$E(e){var t=_toPrimitive$E(e,"string");return _typeof$F(t)=="symbol"?t:t+""}function _toPrimitive$E(e,t){if(_typeof$F(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$F(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _slicedToArray$c(e,t){return _arrayWithHoles$d(e)||_iterableToArrayLimit$c(e,t)||_unsupportedIterableToArray$l(e,t)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$l(e,t)}}function _arrayLikeToArray$l(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$c(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$d(e){if(Array.isArray(e))return e}var ResponsiveContainer=reactExports.forwardRef(function(e,t){var n=e.aspect,o=e.initialDimension,l=o===void 0?{width:-1,height:-1}:o,u=e.width,d=u===void 0?"100%":u,A=e.height,m=A===void 0?"100%":A,f=e.minWidth,g=f===void 0?0:f,v=e.minHeight,b=e.maxHeight,w=e.children,j=e.debounce,E=j===void 0?0:j,R=e.id,_=e.className,N=e.onResize,B=e.style,M=B===void 0?{}:B,O=reactExports.useRef(null),F=reactExports.useRef();F.current=N,reactExports.useImperativeHandle(t,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var $=reactExports.useState({containerWidth:l.width,containerHeight:l.height}),z=_slicedToArray$c($,2),se=z[0],ce=z[1],ie=reactExports.useCallback(function(xe,Ae){ce(function(ue){var Y=Math.round(xe),fe=Math.round(Ae);return ue.containerWidth===Y&&ue.containerHeight===fe?ue:{containerWidth:Y,containerHeight:fe}})},[]);reactExports.useEffect(function(){var xe=function(le){var de,ye=le[0].contentRect,ge=ye.width,je=ye.height;ie(ge,je),(de=F.current)===null||de===void 0||de.call(F,ge,je)};E>0&&(xe=throttle$1(xe,E,{trailing:!0,leading:!1}));var Ae=new ResizeObserver(xe),ue=O.current.getBoundingClientRect(),Y=ue.width,fe=ue.height;return ie(Y,fe),Ae.observe(O.current),function(){Ae.disconnect()}},[ie,E]);var pe=reactExports.useMemo(function(){var xe=se.containerWidth,Ae=se.containerHeight;if(xe<0||Ae<0)return null;warn(isPercent(d)||isPercent(m),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,d,m),warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var ue=isPercent(d)?xe:d,Y=isPercent(m)?Ae:m;n&&n>0&&(ue?Y=ue/n:Y&&(ue=Y*n),b&&Y>b&&(Y=b)),warn(ue>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ue,Y,d,m,g,v,n);var fe=!Array.isArray(w)&&getDisplayName(w.type).endsWith("Chart");return React.Children.map(w,function(H){return React.isValidElement(H)?reactExports.cloneElement(H,_objectSpread$y({width:ue,height:Y},fe?{style:_objectSpread$y({height:"100%",width:"100%",maxHeight:Y,maxWidth:ue},H.props.style)}:{})):H})},[n,w,m,b,v,g,se,d]);return React.createElement("div",{id:R?"".concat(R):void 0,className:clsx("recharts-responsive-container",_),style:_objectSpread$y(_objectSpread$y({},M),{},{width:d,height:m,minWidth:g,minHeight:v,maxHeight:b}),ref:O},pe)}),Cell=function(t){return null};Cell.displayName="Cell";function _typeof$E(e){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$E(e)}function ownKeys$y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$y(Object(n),!0).forEach(function(o){_defineProperty$C(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$y(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$C(e,t,n){return t=_toPropertyKey$D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$D(e){var t=_toPrimitive$D(e,"string");return _typeof$E(t)=="symbol"?t:t+""}function _toPrimitive$D(e,t){if(_typeof$E(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$E(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(e){var t=_objectSpread$x({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var getStringSize=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Global.isSsr)return{width:0,height:0};var o=removeInvalidKeys(n),l=JSON.stringify({text:t,copyStyle:o});if(stringCache.widthCache[l])return stringCache.widthCache[l];try{var u=document.getElementById(MEASUREMENT_SPAN_ID);u||(u=document.createElement("span"),u.setAttribute("id",MEASUREMENT_SPAN_ID),u.setAttribute("aria-hidden","true"),document.body.appendChild(u));var d=_objectSpread$x(_objectSpread$x({},SPAN_STYLE),o);Object.assign(u.style,d),u.textContent="".concat(t);var A=u.getBoundingClientRect(),m={width:A.width,height:A.height};return stringCache.widthCache[l]=m,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),m}catch{return{width:0,height:0}}},getOffset=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$D(e){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$D(e)}function _slicedToArray$b(e,t){return _arrayWithHoles$c(e)||_iterableToArrayLimit$b(e,t)||_unsupportedIterableToArray$k(e,t)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$k(e,t)}}function _arrayLikeToArray$k(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$b(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;m=!1}else for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$c(e){if(Array.isArray(e))return e}function _classCallCheck$j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$C(o.key),o)}}function _createClass$j(e,t,n){return t&&_defineProperties$i(e.prototype,t),n&&_defineProperties$i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey$C(e){var t=_toPrimitive$C(e,"string");return _typeof$D(t)=="symbol"?t:t+""}function _toPrimitive$C(e,t){if(_typeof$D(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$D(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(e,t){return e*CONVERSION_RATES[t]}var DecimalCSS=(function(){function e(t,n){_classCallCheck$j(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(t,n),this.unit="px")}return _createClass$j(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var o,l=(o=NUM_SPLIT_REGEX.exec(n))!==null&&o!==void 0?o:[],u=_slicedToArray$b(l,3),d=u[1],A=u[2];return new e(parseFloat(d),A??"")}}])})();function calculateArithmetic(e){if(e.includes(STR_NAN))return STR_NAN;for(var t=e;t.includes("*")||t.includes("/");){var n,o=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(t))!==null&&n!==void 0?n:[],l=_slicedToArray$b(o,4),u=l[1],d=l[2],A=l[3],m=DecimalCSS.parse(u??""),f=DecimalCSS.parse(A??""),g=d==="*"?m.multiply(f):m.divide(f);if(g.isNaN())return STR_NAN;t=t.replace(MULTIPLY_OR_DIVIDE_REGEX,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var v,b=(v=ADD_OR_SUBTRACT_REGEX.exec(t))!==null&&v!==void 0?v:[],w=_slicedToArray$b(b,4),j=w[1],E=w[2],R=w[3],_=DecimalCSS.parse(j??""),N=DecimalCSS.parse(R??""),B=E==="+"?_.add(N):_.subtract(N);if(B.isNaN())return STR_NAN;t=t.replace(ADD_OR_SUBTRACT_REGEX,B.toString())}return t}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(e){for(var t=e;t.includes("(");){var n=PARENTHESES_REGEX.exec(t),o=_slicedToArray$b(n,2),l=o[1];t=t.replace(PARENTHESES_REGEX,calculateArithmetic(l))}return t}function evaluateExpression(e){var t=e.replace(/\s+/g,"");return t=calculateParentheses(t),t=calculateArithmetic(t),t}function safeEvaluateExpression(e){try{return evaluateExpression(e)}catch{return STR_NAN}}function reduceCSSCalc(e){var t=safeEvaluateExpression(e.slice(5,-1));return t===STR_NAN?"":t}var _excluded$j=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$s.apply(this,arguments)}function _objectWithoutProperties$i(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$i(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$i(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _slicedToArray$a(e,t){return _arrayWithHoles$b(e)||_iterableToArrayLimit$a(e,t)||_unsupportedIterableToArray$j(e,t)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$j(e,t)}}function _arrayLikeToArray$j(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$a(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;m=!1}else for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$b(e){if(Array.isArray(e))return e}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(t){var n=t.children,o=t.breakAll,l=t.style;try{var u=[];isNil(n)||(o?u=n.toString().split(""):u=n.toString().split(BREAKING_SPACES));var d=u.map(function(m){return{word:m,width:getStringSize(m,l).width}}),A=o?0:getStringSize("Â ",l).width;return{wordsWithComputedWidth:d,spaceWidth:A}}catch{return null}},calculateWordsByLines=function(t,n,o,l,u){var d=t.maxLines,A=t.children,m=t.style,f=t.breakAll,g=isNumber(d),v=A,b=function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ue.reduce(function(Y,fe){var H=fe.word,le=fe.width,de=Y[Y.length-1];if(de&&(l==null||u||de.width+le+o<Number(l)))de.words.push(H),de.width+=le+o;else{var ye={words:[H],width:le};Y.push(ye)}return Y},[])},w=b(n),j=function(ue){return ue.reduce(function(Y,fe){return Y.width>fe.width?Y:fe})};if(!g)return w;for(var E="â€¦",R=function(ue){var Y=v.slice(0,ue),fe=calculateWordWidths({breakAll:f,style:m,children:Y+E}).wordsWithComputedWidth,H=b(fe),le=H.length>d||j(H).width>Number(l);return[le,H]},_=0,N=v.length-1,B=0,M;_<=N&&B<=v.length-1;){var O=Math.floor((_+N)/2),F=O-1,$=R(F),z=_slicedToArray$a($,2),se=z[0],ce=z[1],ie=R(O),pe=_slicedToArray$a(ie,1),xe=pe[0];if(!se&&!xe&&(_=O+1),se&&xe&&(N=O-1),!se&&xe){M=ce;break}B++}return M||w},getWordsWithoutCalculate=function(t){var n=isNil(t)?[]:t.toString().split(BREAKING_SPACES);return[{words:n}]},getWordsByLines=function(t){var n=t.width,o=t.scaleToFit,l=t.children,u=t.style,d=t.breakAll,A=t.maxLines;if((n||o)&&!Global.isSsr){var m,f,g=calculateWordWidths({breakAll:d,children:l,style:u});if(g){var v=g.wordsWithComputedWidth,b=g.spaceWidth;m=v,f=b}else return getWordsWithoutCalculate(l);return calculateWordsByLines({breakAll:d,children:l,maxLines:A,style:u},m,f,n,o)}return getWordsWithoutCalculate(l)},DEFAULT_FILL="#808080",Text=function(t){var n=t.x,o=n===void 0?0:n,l=t.y,u=l===void 0?0:l,d=t.lineHeight,A=d===void 0?"1em":d,m=t.capHeight,f=m===void 0?"0.71em":m,g=t.scaleToFit,v=g===void 0?!1:g,b=t.textAnchor,w=b===void 0?"start":b,j=t.verticalAnchor,E=j===void 0?"end":j,R=t.fill,_=R===void 0?DEFAULT_FILL:R,N=_objectWithoutProperties$i(t,_excluded$j),B=reactExports.useMemo(function(){return getWordsByLines({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:v,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,v,N.style,N.width]),M=N.dx,O=N.dy,F=N.angle,$=N.className,z=N.breakAll,se=_objectWithoutProperties$i(N,_excluded2$6);if(!isNumOrStr(o)||!isNumOrStr(u))return null;var ce=o+(isNumber(M)?M:0),ie=u+(isNumber(O)?O:0),pe;switch(E){case"start":pe=reduceCSSCalc("calc(".concat(f,")"));break;case"middle":pe=reduceCSSCalc("calc(".concat((B.length-1)/2," * -").concat(A," + (").concat(f," / 2))"));break;default:pe=reduceCSSCalc("calc(".concat(B.length-1," * -").concat(A,")"));break}var xe=[];if(v){var Ae=B[0].width,ue=N.width;xe.push("scale(".concat((isNumber(ue)?ue/Ae:1)/Ae,")"))}return F&&xe.push("rotate(".concat(F,", ").concat(ce,", ").concat(ie,")")),xe.length&&(se.transform=xe.join(" ")),React.createElement("text",_extends$s({},filterProps(se,!0),{x:ce,y:ie,className:clsx("recharts-text",$),textAnchor:w,fill:_.includes("url")?DEFAULT_FILL:_}),B.map(function(Y,fe){var H=Y.words.join(z?"":" ");return React.createElement("tspan",{x:ce,dy:fe===0?pe:A,key:"".concat(H,"-").concat(fe)},H)}))};function ascending$1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function descending(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bisector(e){let t,n,o;e.length!==2?(t=ascending$1,n=(A,m)=>ascending$1(e(A),m),o=(A,m)=>e(A)-m):(t=e===ascending$1||e===descending?e:zero$1,n=e,o=e);function l(A,m,f=0,g=A.length){if(f<g){if(t(m,m)!==0)return g;do{const v=f+g>>>1;n(A[v],m)<0?f=v+1:g=v}while(f<g)}return f}function u(A,m,f=0,g=A.length){if(f<g){if(t(m,m)!==0)return g;do{const v=f+g>>>1;n(A[v],m)<=0?f=v+1:g=v}while(f<g)}return f}function d(A,m,f=0,g=A.length){const v=l(A,m,f,g-1);return v>f&&o(A[v-1],m)>-o(A[v],m)?v-1:v}return{left:l,center:d,right:u}}function zero$1(){return 0}function number$3(e){return e===null?NaN:+e}function*numbers(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$3).center;class InternMap extends Map{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,l]of t)this.set(o,l)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,n){return super.set(intern_set(this,t),n)}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function intern_set({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function intern_delete({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}function compareDefined(e=ascending$1){if(e===ascending$1)return ascendingDefined;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const o=e(t,n);return o||o===0?o:(e(n,n)===0)-(e(t,t)===0)}}function ascendingDefined(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,t,n){const o=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(o)),u=o/Math.pow(10,l),d=u>=e10?10:u>=e5?5:u>=e2?2:1;let A,m,f;return l<0?(f=Math.pow(10,-l)/d,A=Math.round(e*f),m=Math.round(t*f),A/f<e&&++A,m/f>t&&--m,f=-f):(f=Math.pow(10,l)*d,A=Math.round(e/f),m=Math.round(t/f),A*f<e&&++A,m*f>t&&--m),m<A&&.5<=n&&n<2?tickSpec(e,t,n*2):[A,m,f]}function ticks(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[l,u,d]=o?tickSpec(t,e,n):tickSpec(e,t,n);if(!(u>=l))return[];const A=u-l+1,m=new Array(A);if(o)if(d<0)for(let f=0;f<A;++f)m[f]=(u-f)/-d;else for(let f=0;f<A;++f)m[f]=(u-f)*d;else if(d<0)for(let f=0;f<A;++f)m[f]=(l+f)/-d;else for(let f=0;f<A;++f)m[f]=(l+f)*d;return m}function tickIncrement(e,t,n){return t=+t,e=+e,n=+n,tickSpec(e,t,n)[2]}function tickStep(e,t,n){t=+t,e=+e,n=+n;const o=t<e,l=o?tickIncrement(t,e,n):tickIncrement(e,t,n);return(o?-1:1)*(l<0?1/-l:l)}function max$1(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&(n<l||n===void 0&&l>=l)&&(n=l)}return n}function min$1(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n>o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&(n>l||n===void 0&&l>=l)&&(n=l)}return n}function quickselect(e,t,n=0,o=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),o=Math.floor(Math.min(e.length-1,o)),!(n<=t&&t<=o))return e;for(l=l===void 0?ascendingDefined:compareDefined(l);o>n;){if(o-n>600){const m=o-n+1,f=t-n+1,g=Math.log(m),v=.5*Math.exp(2*g/3),b=.5*Math.sqrt(g*v*(m-v)/m)*(f-m/2<0?-1:1),w=Math.max(n,Math.floor(t-f*v/m+b)),j=Math.min(o,Math.floor(t+(m-f)*v/m+b));quickselect(e,t,w,j,l)}const u=e[t];let d=n,A=o;for(swap(e,n,t),l(e[o],u)>0&&swap(e,n,o);d<A;){for(swap(e,d,A),++d,--A;l(e[d],u)<0;)++d;for(;l(e[A],u)>0;)--A}l(e[n],u)===0?swap(e,n,A):(++A,swap(e,A,o)),A<=t&&(n=A+1),t<=A&&(o=A-1)}return e}function swap(e,t,n){const o=e[t];e[t]=e[n],e[n]=o}function quantile$1(e,t,n){if(e=Float64Array.from(numbers(e)),!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return min$1(e);if(t>=1)return max$1(e);var o,l=(o-1)*t,u=Math.floor(l),d=max$1(quickselect(e,u).subarray(0,u+1)),A=min$1(e.subarray(u+1));return d+(A-d)*(l-u)}}function quantileSorted(e,t,n=number$3){if(!(!(o=e.length)||isNaN(t=+t))){if(t<=0||o<2)return+n(e[0],0,e);if(t>=1)return+n(e[o-1],o-1,e);var o,l=(o-1)*t,u=Math.floor(l),d=+n(e[u],u,e),A=+n(e[u+1],u+1,e);return d+(A-d)*(l-u)}}function range$2(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var o=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,u=new Array(l);++o<l;)u[o]=e+o*n;return u}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,t=[],n=[],o=implicit;function l(u){let d=e.get(u);if(d===void 0){if(o!==implicit)return o;e.set(u,d=t.push(u)-1)}return n[d%n.length]}return l.domain=function(u){if(!arguments.length)return t.slice();t=[],e=new InternMap;for(const d of u)e.has(d)||e.set(d,t.push(d)-1);return l},l.range=function(u){return arguments.length?(n=Array.from(u),l):n.slice()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return ordinal(t,n).unknown(o)},initRange.apply(l,arguments),l}function band(){var e=ordinal().unknown(void 0),t=e.domain,n=e.range,o=0,l=1,u,d,A=!1,m=0,f=0,g=.5;delete e.unknown;function v(){var b=t().length,w=l<o,j=w?l:o,E=w?o:l;u=(E-j)/Math.max(1,b-m+f*2),A&&(u=Math.floor(u)),j+=(E-j-u*(b-m))*g,d=u*(1-m),A&&(j=Math.round(j),d=Math.round(d));var R=range$2(b).map(function(_){return j+u*_});return n(w?R.reverse():R)}return e.domain=function(b){return arguments.length?(t(b),v()):t()},e.range=function(b){return arguments.length?([o,l]=b,o=+o,l=+l,v()):[o,l]},e.rangeRound=function(b){return[o,l]=b,o=+o,l=+l,A=!0,v()},e.bandwidth=function(){return d},e.step=function(){return u},e.round=function(b){return arguments.length?(A=!!b,v()):A},e.padding=function(b){return arguments.length?(m=Math.min(1,f=+b),v()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),v()):m},e.paddingOuter=function(b){return arguments.length?(f=+b,v()):f},e.align=function(b){return arguments.length?(g=Math.max(0,Math.min(1,b)),v()):g},e.copy=function(){return band(t(),[o,l]).round(A).paddingInner(m).paddingOuter(f).align(g)},initRange.apply(v(),arguments)}function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}function point$3(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend$2(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rgbn(t):n===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,n,o){return o<=0&&(e=t=n=NaN),new Rgb(e,t,n,o)}function rgbConvert(e){return e instanceof Color||(e=color$1(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,t,n,o){return arguments.length===1?rgbConvert(e):new Rgb(e,t,n,o??1)}function Rgb(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}define(Rgb,rgb,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,o)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color$1(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,l=Math.min(t,n,o),u=Math.max(t,n,o),d=NaN,A=u-l,m=(u+l)/2;return A?(t===u?d=(n-o)/A+(n<o)*6:n===u?d=(o-t)/A+2:d=(t-n)/A+4,A/=m<.5?u+l:2-u-l,d*=60):A=m>0&&m<1?0:d,new Hsl(d,A,m,e.opacity)}function hsl(e,t,n,o){return arguments.length===1?hslConvert(e):new Hsl(e,t,n,o??1)}function Hsl(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}define(Hsl,hsl,extend$2(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,l=2*n-o;return new Rgb(hsl2rgb(e>=240?e-240:e+120,l,o),hsl2rgb(e,l,o),hsl2rgb(e<120?e+240:e-120,l,o),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const constant$3=e=>()=>e;function linear$1(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function hue(e,t){var n=t-e;return n?linear$1(e,n>180||n<-180?n-360*Math.round(n/360):n):constant$3(isNaN(e)?t:e)}function gamma(e){return(e=+e)==1?nogamma:function(t,n){return n-t?exponential(t,n,e):constant$3(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear$1(e,n):constant$3(isNaN(e)?t:e)}const interpolateRgb=(function e(t){var n=gamma(t);function o(l,u){var d=n((l=rgb(l)).r,(u=rgb(u)).r),A=n(l.g,u.g),m=n(l.b,u.b),f=nogamma(l.opacity,u.opacity);return function(g){return l.r=d(g),l.g=A(g),l.b=m(g),l.opacity=f(g),l+""}}return o.gamma=e,o})(1);function numberArray(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),l;return function(u){for(l=0;l<n;++l)o[l]=e[l]*(1-u)+t[l]*u;return o}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,l=new Array(o),u=new Array(n),d;for(d=0;d<o;++d)l[d]=interpolate$1(e[d],t[d]);for(;d<n;++d)u[d]=t[d];return function(A){for(d=0;d<o;++d)u[d]=l[d](A);return u}}function date$1(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function interpolateNumber$1(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function object(e,t){var n={},o={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=interpolate$1(e[l],t[l]):o[l]=t[l];return function(u){for(l in n)o[l]=n[l](u);return o}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one$3(e){return function(t){return e(t)+""}}function interpolateString(e,t){var n=reA.lastIndex=reB.lastIndex=0,o,l,u,d=-1,A=[],m=[];for(e=e+"",t=t+"";(o=reA.exec(e))&&(l=reB.exec(t));)(u=l.index)>n&&(u=t.slice(n,u),A[d]?A[d]+=u:A[++d]=u),(o=o[0])===(l=l[0])?A[d]?A[d]+=l:A[++d]=l:(A[++d]=null,m.push({i:d,x:interpolateNumber$1(o,l)})),n=reB.lastIndex;return n<t.length&&(u=t.slice(n),A[d]?A[d]+=u:A[++d]=u),A.length<2?m[0]?one$3(m[0].x):zero(t):(t=m.length,function(f){for(var g=0,v;g<t;++g)A[(v=m[g]).i]=v.x(f);return A.join("")})}function interpolate$1(e,t){var n=typeof t,o;return t==null||n==="boolean"?constant$3(t):(n==="number"?interpolateNumber$1:n==="string"?(o=color$1(t))?(t=o,interpolateRgb):interpolateString:t instanceof color$1?interpolateRgb:t instanceof Date?date$1:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object:interpolateNumber$1)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var degrees=180/Math.PI,identity$7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(e,t,n,o,l,u){var d,A,m;return(d=Math.sqrt(e*e+t*t))&&(e/=d,t/=d),(m=e*n+t*o)&&(n-=e*m,o-=t*m),(A=Math.sqrt(n*n+o*o))&&(n/=A,o/=A,m/=A),e*o<t*n&&(e=-e,t=-t,m=-m,d=-d),{translateX:l,translateY:u,rotate:Math.atan2(t,e)*degrees,skewX:Math.atan(m)*degrees,scaleX:d,scaleY:A}}var svgNode;function parseCss(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?identity$7:decompose(t.a,t.b,t.c,t.d,t.e,t.f)}function parseSvg(e){return e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),!(e=svgNode.transform.baseVal.consolidate()))?identity$7:(e=e.matrix,decompose(e.a,e.b,e.c,e.d,e.e,e.f))}function interpolateTransform(e,t,n,o){function l(f){return f.length?f.pop()+" ":""}function u(f,g,v,b,w,j){if(f!==v||g!==b){var E=w.push("translate(",null,t,null,n);j.push({i:E-4,x:interpolateNumber$1(f,v)},{i:E-2,x:interpolateNumber$1(g,b)})}else(v||b)&&w.push("translate("+v+t+b+n)}function d(f,g,v,b){f!==g?(f-g>180?g+=360:g-f>180&&(f+=360),b.push({i:v.push(l(v)+"rotate(",null,o)-2,x:interpolateNumber$1(f,g)})):g&&v.push(l(v)+"rotate("+g+o)}function A(f,g,v,b){f!==g?b.push({i:v.push(l(v)+"skewX(",null,o)-2,x:interpolateNumber$1(f,g)}):g&&v.push(l(v)+"skewX("+g+o)}function m(f,g,v,b,w,j){if(f!==v||g!==b){var E=w.push(l(w)+"scale(",null,",",null,")");j.push({i:E-4,x:interpolateNumber$1(f,v)},{i:E-2,x:interpolateNumber$1(g,b)})}else(v!==1||b!==1)&&w.push(l(w)+"scale("+v+","+b+")")}return function(f,g){var v=[],b=[];return f=e(f),g=e(g),u(f.translateX,f.translateY,g.translateX,g.translateY,v,b),d(f.rotate,g.rotate,v,b),A(f.skewX,g.skewX,v,b),m(f.scaleX,f.scaleY,g.scaleX,g.scaleY,v,b),f=g=null,function(w){for(var j=-1,E=b.length,R;++j<E;)v[(R=b[j]).i]=R.x(w);return v.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2=1e-12;function cosh(e){return((e=Math.exp(e))+1/e)/2}function sinh(e){return((e=Math.exp(e))-1/e)/2}function tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}const interpolateZoom=(function e(t,n,o){function l(u,d){var A=u[0],m=u[1],f=u[2],g=d[0],v=d[1],b=d[2],w=g-A,j=v-m,E=w*w+j*j,R,_;if(E<epsilon2)_=Math.log(b/f)/t,R=function($){return[A+$*w,m+$*j,f*Math.exp(t*$*_)]};else{var N=Math.sqrt(E),B=(b*b-f*f+o*E)/(2*f*n*N),M=(b*b-f*f-o*E)/(2*b*n*N),O=Math.log(Math.sqrt(B*B+1)-B),F=Math.log(Math.sqrt(M*M+1)-M);_=(F-O)/t,R=function($){var z=$*_,se=cosh(O),ce=f/(n*N)*(se*tanh(t*z+O)-sinh(O));return[A+ce*w,m+ce*j,f*se/cosh(t*z+O)]}}return R.duration=_*1e3*t/Math.SQRT2,R}return l.rho=function(u){var d=Math.max(.001,+u),A=d*d,m=A*A;return e(d,A,m)},l})(Math.SQRT2,2,4);function piecewise(e,t){t===void 0&&(t=e,e=interpolate$1);for(var n=0,o=t.length-1,l=t[0],u=new Array(o<0?0:o);n<o;)u[n]=e(l,l=t[++n]);return function(d){var A=Math.max(0,Math.min(o-1,Math.floor(d*=o)));return u[A](d-A)}}function constants(e){return function(){return e}}function number$2(e){return+e}var unit=[0,1];function identity$6(e){return e}function normalize$2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function bimap(e,t,n){var o=e[0],l=e[1],u=t[0],d=t[1];return l<o?(o=normalize$2(l,o),u=n(d,u)):(o=normalize$2(o,l),u=n(u,d)),function(A){return u(o(A))}}function polymap(e,t,n){var o=Math.min(e.length,t.length)-1,l=new Array(o),u=new Array(o),d=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<o;)l[d]=normalize$2(e[d],e[d+1]),u[d]=n(t[d],t[d+1]);return function(A){var m=bisectRight(e,A,1,o)-1;return u[m](l[m](A))}}function copy$1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e=unit,t=unit,n=interpolate$1,o,l,u,d=identity$6,A,m,f;function g(){var b=Math.min(e.length,t.length);return d!==identity$6&&(d=clamper(e[0],e[b-1])),A=b>2?polymap:bimap,m=f=null,v}function v(b){return b==null||isNaN(b=+b)?u:(m||(m=A(e.map(o),t,n)))(o(d(b)))}return v.invert=function(b){return d(l((f||(f=A(t,e.map(o),interpolateNumber$1)))(b)))},v.domain=function(b){return arguments.length?(e=Array.from(b,number$2),g()):e.slice()},v.range=function(b){return arguments.length?(t=Array.from(b),g()):t.slice()},v.rangeRound=function(b){return t=Array.from(b),n=interpolateRound,g()},v.clamp=function(b){return arguments.length?(d=b?!0:identity$6,g()):d!==identity$6},v.interpolate=function(b){return arguments.length?(n=b,g()):n},v.unknown=function(b){return arguments.length?(u=b,v):u},function(b,w){return o=b,l=w,g()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(n,o){for(var l=n.length,u=[],d=0,A=e[0],m=0;l>0&&A>0&&(m+A+1>o&&(A=Math.max(1,o-m)),u.push(n.substring(l-=A,l+A)),!((m+=A+1)>o));)A=e[d=(d+1)%e.length];return u.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re$1.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,n=1,o=-1,l;n<t;++n)switch(e[n]){case".":o=l=n;break;case"0":o===0&&(o=n),l=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(l+1):e}var prefixExponent;function formatPrefixAuto(e,t){var n=formatDecimalParts(e,t);if(!n)return prefixExponent=void 0,e.toPrecision(t);var o=n[0],l=n[1],u=l-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,d=o.length;return u===d?o:u>d?o+new Array(u-d+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(e,Math.max(0,t+u-1))[0]}function formatRounded(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var o=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+o:o.length>l+1?o.slice(0,l+1)+"."+o.slice(l+1):o+new Array(l-o.length+2).join("0")}const formatTypes={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(e*100,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$5(e){return e}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var t=e.grouping===void 0||e.thousands===void 0?identity$5:formatGroup(map$3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?identity$5:formatNumerals(map$3.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",A=e.minus===void 0?"âˆ’":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(v,b){v=formatSpecifier(v);var w=v.fill,j=v.align,E=v.sign,R=v.symbol,_=v.zero,N=v.width,B=v.comma,M=v.precision,O=v.trim,F=v.type;F==="n"?(B=!0,F="g"):formatTypes[F]||(M===void 0&&(M=12),O=!0,F="g"),(_||w==="0"&&j==="=")&&(_=!0,w="0",j="=");var $=(b&&b.prefix!==void 0?b.prefix:"")+(R==="$"?n:R==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():""),z=(R==="$"?o:/[%p]/.test(F)?d:"")+(b&&b.suffix!==void 0?b.suffix:""),se=formatTypes[F],ce=/[defgprs%]/.test(F);M=M===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function ie(pe){var xe=$,Ae=z,ue,Y,fe;if(F==="c")Ae=se(pe)+Ae,pe="";else{pe=+pe;var H=pe<0||1/pe<0;if(pe=isNaN(pe)?m:se(Math.abs(pe),M),O&&(pe=formatTrim(pe)),H&&+pe==0&&E!=="+"&&(H=!1),xe=(H?E==="("?E:A:E==="-"||E==="("?"":E)+xe,Ae=(F==="s"&&!isNaN(pe)&&prefixExponent!==void 0?prefixes[8+prefixExponent/3]:"")+Ae+(H&&E==="("?")":""),ce){for(ue=-1,Y=pe.length;++ue<Y;)if(fe=pe.charCodeAt(ue),48>fe||fe>57){Ae=(fe===46?l+pe.slice(ue+1):pe.slice(ue))+Ae,pe=pe.slice(0,ue);break}}}B&&!_&&(pe=t(pe,1/0));var le=xe.length+pe.length+Ae.length,de=le<N?new Array(N-le+1).join(w):"";switch(B&&_&&(pe=t(de+pe,de.length?N-Ae.length:1/0),de=""),j){case"<":pe=xe+pe+Ae+de;break;case"=":pe=xe+de+pe+Ae;break;case"^":pe=de.slice(0,le=de.length>>1)+xe+pe+Ae+de.slice(le);break;default:pe=de+xe+pe+Ae;break}return u(pe)}return ie.toString=function(){return v+""},ie}function g(v,b){var w=Math.max(-8,Math.min(8,Math.floor(exponent(b)/3)))*3,j=Math.pow(10,-w),E=f((v=formatSpecifier(v),v.type="f",v),{suffix:prefixes[8+w/3]});return function(R){return E(j*R)}}return{format:f,formatPrefix:g}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(e){return locale$1=formatLocale$1(e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function tickFormat(e,t,n,o){var l=tickStep(e,t,n),u;switch(o=formatSpecifier(o??",f"),o.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(u=precisionPrefix(l,d))&&(o.precision=u),formatPrefix(o,d)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(u=precisionRound(l,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=u-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(u=precisionFixed(l))&&(o.precision=u-(o.type==="%")*2);break}}return format(o)}function linearish(e){var t=e.domain;return e.ticks=function(n){var o=t();return ticks(o[0],o[o.length-1],n??10)},e.tickFormat=function(n,o){var l=t();return tickFormat(l[0],l[l.length-1],n??10,o)},e.nice=function(n){n==null&&(n=10);var o=t(),l=0,u=o.length-1,d=o[l],A=o[u],m,f,g=10;for(A<d&&(f=d,d=A,A=f,f=l,l=u,u=f);g-- >0;){if(f=tickIncrement(d,A,n),f===m)return o[l]=d,o[u]=A,t(o);if(f>0)d=Math.floor(d/f)*f,A=Math.ceil(A/f)*f;else if(f<0)d=Math.ceil(d*f)/f,A=Math.floor(A*f)/f;else break;m=f}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy$1(e,linear())},initRange.apply(e,arguments),linearish(e)}function identity$4(e){var t;function n(o){return o==null||isNaN(o=+o)?t:o}return n.invert=n,n.domain=n.range=function(o){return arguments.length?(e=Array.from(o,number$2),n):e.slice()},n.unknown=function(o){return arguments.length?(t=o,n):t},n.copy=function(){return identity$4(e).unknown(t)},e=arguments.length?Array.from(e,number$2):[0,1],linearish(n)}function nice(e,t){e=e.slice();var n=0,o=e.length-1,l=e[n],u=e[o],d;return u<l&&(d=n,n=o,o=d,d=l,l=u,u=d),e[n]=t.floor(l),e[o]=t.ceil(u),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return e===10?pow10:e===Math.E?Math.exp:t=>Math.pow(e,t)}function logp(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function reflect(e){return(t,n)=>-e(-t,n)}function loggish(e){const t=e(transformLog,transformExp),n=t.domain;let o=10,l,u;function d(){return l=logp(o),u=powp(o),n()[0]<0?(l=reflect(l),u=reflect(u),e(transformLogn,transformExpn)):e(transformLog,transformExp),t}return t.base=function(A){return arguments.length?(o=+A,d()):o},t.domain=function(A){return arguments.length?(n(A),d()):n()},t.ticks=A=>{const m=n();let f=m[0],g=m[m.length-1];const v=g<f;v&&([f,g]=[g,f]);let b=l(f),w=l(g),j,E;const R=A==null?10:+A;let _=[];if(!(o%1)&&w-b<R){if(b=Math.floor(b),w=Math.ceil(w),f>0){for(;b<=w;++b)for(j=1;j<o;++j)if(E=b<0?j/u(-b):j*u(b),!(E<f)){if(E>g)break;_.push(E)}}else for(;b<=w;++b)for(j=o-1;j>=1;--j)if(E=b>0?j/u(-b):j*u(b),!(E<f)){if(E>g)break;_.push(E)}_.length*2<R&&(_=ticks(f,g,R))}else _=ticks(b,w,Math.min(w-b,R)).map(u);return v?_.reverse():_},t.tickFormat=(A,m)=>{if(A==null&&(A=10),m==null&&(m=o===10?"s":","),typeof m!="function"&&(!(o%1)&&(m=formatSpecifier(m)).precision==null&&(m.trim=!0),m=format(m)),A===1/0)return m;const f=Math.max(1,o*A/t.ticks().length);return g=>{let v=g/u(Math.round(l(g)));return v*o<o-.5&&(v*=o),v<=f?m(g):""}},t.nice=()=>n(nice(n(),{floor:A=>u(Math.floor(l(A))),ceil:A=>u(Math.ceil(l(A)))})),t}function log(){const e=loggish(transformer$2()).domain([1,10]);return e.copy=()=>copy$1(e,log()).base(e.base()),initRange.apply(e,arguments),e}function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,n=e(transformSymlog(t),transformSymexp(t));return n.constant=function(o){return arguments.length?e(transformSymlog(t=+o),transformSymexp(t)):t},linearish(n)}function symlog(){var e=symlogish(transformer$2());return e.copy=function(){return copy$1(e,symlog()).constant(e.constant())},initRange.apply(e,arguments)}function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var t=e(identity$6,identity$6),n=1;function o(){return n===1?e(identity$6,identity$6):n===.5?e(transformSqrt,transformSquare):e(transformPow(n),transformPow(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,o()):n},linearish(t)}function pow(){var e=powish(transformer$2());return e.copy=function(){return copy$1(e,pow()).exponent(e.exponent())},initRange.apply(e,arguments),e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(e){return Math.sign(e)*e*e}function unsquare(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function radial(){var e=continuous(),t=[0,1],n=!1,o;function l(u){var d=unsquare(e(u));return isNaN(d)?o:n?Math.round(d):d}return l.invert=function(u){return e.invert(square(u))},l.domain=function(u){return arguments.length?(e.domain(u),l):e.domain()},l.range=function(u){return arguments.length?(e.range((t=Array.from(u,number$2)).map(square)),l):t.slice()},l.rangeRound=function(u){return l.range(u).round(!0)},l.round=function(u){return arguments.length?(n=!!u,l):n},l.clamp=function(u){return arguments.length?(e.clamp(u),l):e.clamp()},l.unknown=function(u){return arguments.length?(o=u,l):o},l.copy=function(){return radial(e.domain(),t).round(n).clamp(e.clamp()).unknown(o)},initRange.apply(l,arguments),linearish(l)}function quantile(){var e=[],t=[],n=[],o;function l(){var d=0,A=Math.max(1,t.length);for(n=new Array(A-1);++d<A;)n[d-1]=quantileSorted(e,d/A);return u}function u(d){return d==null||isNaN(d=+d)?o:t[bisectRight(n,d)]}return u.invertExtent=function(d){var A=t.indexOf(d);return A<0?[NaN,NaN]:[A>0?n[A-1]:e[0],A<n.length?n[A]:e[e.length-1]]},u.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let A of d)A!=null&&!isNaN(A=+A)&&e.push(A);return e.sort(ascending$1),l()},u.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},u.unknown=function(d){return arguments.length?(o=d,u):o},u.quantiles=function(){return n.slice()},u.copy=function(){return quantile().domain(e).range(t).unknown(o)},initRange.apply(u,arguments)}function quantize(){var e=0,t=1,n=1,o=[.5],l=[0,1],u;function d(m){return m!=null&&m<=m?l[bisectRight(o,m,0,n)]:u}function A(){var m=-1;for(o=new Array(n);++m<n;)o[m]=((m+1)*t-(m-n)*e)/(n+1);return d}return d.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,A()):[e,t]},d.range=function(m){return arguments.length?(n=(l=Array.from(m)).length-1,A()):l.slice()},d.invertExtent=function(m){var f=l.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,o[0]]:f>=n?[o[n-1],t]:[o[f-1],o[f]]},d.unknown=function(m){return arguments.length&&(u=m),d},d.thresholds=function(){return o.slice()},d.copy=function(){return quantize().domain([e,t]).range(l).unknown(u)},initRange.apply(linearish(d),arguments)}function threshold(){var e=[.5],t=[0,1],n,o=1;function l(u){return u!=null&&u<=u?t[bisectRight(e,u,0,o)]:n}return l.domain=function(u){return arguments.length?(e=Array.from(u),o=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(u){return arguments.length?(t=Array.from(u),o=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(u){var d=t.indexOf(u);return[e[d-1],e[d]]},l.unknown=function(u){return arguments.length?(n=u,l):n},l.copy=function(){return threshold().domain(e).range(t).unknown(n)},initRange.apply(l,arguments)}const t0=new Date,t1=new Date;function timeInterval(e,t,n,o){function l(u){return e(u=arguments.length===0?new Date:new Date(+u)),u}return l.floor=u=>(e(u=new Date(+u)),u),l.ceil=u=>(e(u=new Date(u-1)),t(u,1),e(u),u),l.round=u=>{const d=l(u),A=l.ceil(u);return u-d<A-u?d:A},l.offset=(u,d)=>(t(u=new Date(+u),d==null?1:Math.floor(d)),u),l.range=(u,d,A)=>{const m=[];if(u=l.ceil(u),A=A==null?1:Math.floor(A),!(u<d)||!(A>0))return m;let f;do m.push(f=new Date(+u)),t(u,A),e(u);while(f<u&&u<d);return m},l.filter=u=>timeInterval(d=>{if(d>=d)for(;e(d),!u(d);)d.setTime(d-1)},(d,A)=>{if(d>=d)if(A<0)for(;++A<=0;)for(;t(d,-1),!u(d););else for(;--A>=0;)for(;t(d,1),!u(d););}),n&&(l.count=(u,d)=>(t0.setTime(+u),t1.setTime(+d),e(t0),e(t1),Math.floor(n(t0,t1))),l.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?l.filter(o?d=>o(d)%u===0:d=>l.count(0,d)%u===0):l)),l}const millisecond=timeInterval(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);millisecond.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?timeInterval(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*durationSecond)},(e,t)=>(t-e)/durationSecond,e=>e.getUTCSeconds());second.range;const timeMinute=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getMinutes());timeMinute.range;const utcMinute=timeInterval(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond-e.getMinutes()*durationMinute)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getHours());timeHour.range;const utcHour=timeInterval(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getUTCHours());utcHour.range;const timeDay=timeInterval(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay,e=>e.getDate()-1);timeDay.range;const utcDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>Math.floor(e/durationDay));unixDay.range;function timeWeekday(e){return timeInterval(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(e){return timeInterval(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());timeMonth.range;const utcMonth=timeInterval(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());timeYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});timeYear.range;const utcYear=timeInterval(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());utcYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});utcYear.range;function ticker(e,t,n,o,l,u){const d=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[u,1,durationMinute],[u,5,5*durationMinute],[u,15,15*durationMinute],[u,30,30*durationMinute],[l,1,durationHour],[l,3,3*durationHour],[l,6,6*durationHour],[l,12,12*durationHour],[o,1,durationDay],[o,2,2*durationDay],[n,1,durationWeek],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function A(f,g,v){const b=g<f;b&&([f,g]=[g,f]);const w=v&&typeof v.range=="function"?v:m(f,g,v),j=w?w.range(f,+g+1):[];return b?j.reverse():j}function m(f,g,v){const b=Math.abs(g-f)/v,w=bisector(([,,R])=>R).right(d,b);if(w===d.length)return e.every(tickStep(f/durationYear,g/durationYear,v));if(w===0)return millisecond.every(Math.max(tickStep(f,g,v),1));const[j,E]=d[b/d[w-1][2]<d[w][2]/b?w-1:w];return j.every(E)}return[A,m]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,n=e.date,o=e.time,l=e.periods,u=e.days,d=e.shortDays,A=e.months,m=e.shortMonths,f=formatRe(l),g=formatLookup(l),v=formatRe(u),b=formatLookup(u),w=formatRe(d),j=formatLookup(d),E=formatRe(A),R=formatLookup(A),_=formatRe(m),N=formatLookup(m),B={a:fe,A:H,b:le,B:de,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ye,q:ge,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},M={a:je,A:Me,b:He,B:Qe,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:ze,q:Ve,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},O={a:ce,A:ie,b:pe,B:xe,c:Ae,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:se,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:ue,X:Y,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};B.x=F(n,B),B.X=F(o,B),B.c=F(t,B),M.x=F(n,M),M.X=F(o,M),M.c=F(t,M);function F(tt,nt){return function(Ye){var ut=[],mt=-1,St=0,or=tt.length,Zt,Bt,ur;for(Ye instanceof Date||(Ye=new Date(+Ye));++mt<or;)tt.charCodeAt(mt)===37&&(ut.push(tt.slice(St,mt)),(Bt=pads[Zt=tt.charAt(++mt)])!=null?Zt=tt.charAt(++mt):Bt=Zt==="e"?" ":"0",(ur=nt[Zt])&&(Zt=ur(Ye,Bt)),ut.push(Zt),St=mt+1);return ut.push(tt.slice(St,mt)),ut.join("")}}function $(tt,nt){return function(Ye){var ut=newDate(1900,void 0,1),mt=z(ut,tt,Ye+="",0),St,or;if(mt!=Ye.length)return null;if("Q"in ut)return new Date(ut.Q);if("s"in ut)return new Date(ut.s*1e3+("L"in ut?ut.L:0));if(nt&&!("Z"in ut)&&(ut.Z=0),"p"in ut&&(ut.H=ut.H%12+ut.p*12),ut.m===void 0&&(ut.m="q"in ut?ut.q:0),"V"in ut){if(ut.V<1||ut.V>53)return null;"w"in ut||(ut.w=1),"Z"in ut?(St=utcDate(newDate(ut.y,0,1)),or=St.getUTCDay(),St=or>4||or===0?utcMonday.ceil(St):utcMonday(St),St=utcDay.offset(St,(ut.V-1)*7),ut.y=St.getUTCFullYear(),ut.m=St.getUTCMonth(),ut.d=St.getUTCDate()+(ut.w+6)%7):(St=localDate(newDate(ut.y,0,1)),or=St.getDay(),St=or>4||or===0?timeMonday.ceil(St):timeMonday(St),St=timeDay.offset(St,(ut.V-1)*7),ut.y=St.getFullYear(),ut.m=St.getMonth(),ut.d=St.getDate()+(ut.w+6)%7)}else("W"in ut||"U"in ut)&&("w"in ut||(ut.w="u"in ut?ut.u%7:"W"in ut?1:0),or="Z"in ut?utcDate(newDate(ut.y,0,1)).getUTCDay():localDate(newDate(ut.y,0,1)).getDay(),ut.m=0,ut.d="W"in ut?(ut.w+6)%7+ut.W*7-(or+5)%7:ut.w+ut.U*7-(or+6)%7);return"Z"in ut?(ut.H+=ut.Z/100|0,ut.M+=ut.Z%100,utcDate(ut)):localDate(ut)}}function z(tt,nt,Ye,ut){for(var mt=0,St=nt.length,or=Ye.length,Zt,Bt;mt<St;){if(ut>=or)return-1;if(Zt=nt.charCodeAt(mt++),Zt===37){if(Zt=nt.charAt(mt++),Bt=O[Zt in pads?nt.charAt(mt++):Zt],!Bt||(ut=Bt(tt,Ye,ut))<0)return-1}else if(Zt!=Ye.charCodeAt(ut++))return-1}return ut}function se(tt,nt,Ye){var ut=f.exec(nt.slice(Ye));return ut?(tt.p=g.get(ut[0].toLowerCase()),Ye+ut[0].length):-1}function ce(tt,nt,Ye){var ut=w.exec(nt.slice(Ye));return ut?(tt.w=j.get(ut[0].toLowerCase()),Ye+ut[0].length):-1}function ie(tt,nt,Ye){var ut=v.exec(nt.slice(Ye));return ut?(tt.w=b.get(ut[0].toLowerCase()),Ye+ut[0].length):-1}function pe(tt,nt,Ye){var ut=_.exec(nt.slice(Ye));return ut?(tt.m=N.get(ut[0].toLowerCase()),Ye+ut[0].length):-1}function xe(tt,nt,Ye){var ut=E.exec(nt.slice(Ye));return ut?(tt.m=R.get(ut[0].toLowerCase()),Ye+ut[0].length):-1}function Ae(tt,nt,Ye){return z(tt,t,nt,Ye)}function ue(tt,nt,Ye){return z(tt,n,nt,Ye)}function Y(tt,nt,Ye){return z(tt,o,nt,Ye)}function fe(tt){return d[tt.getDay()]}function H(tt){return u[tt.getDay()]}function le(tt){return m[tt.getMonth()]}function de(tt){return A[tt.getMonth()]}function ye(tt){return l[+(tt.getHours()>=12)]}function ge(tt){return 1+~~(tt.getMonth()/3)}function je(tt){return d[tt.getUTCDay()]}function Me(tt){return u[tt.getUTCDay()]}function He(tt){return m[tt.getUTCMonth()]}function Qe(tt){return A[tt.getUTCMonth()]}function ze(tt){return l[+(tt.getUTCHours()>=12)]}function Ve(tt){return 1+~~(tt.getUTCMonth()/3)}return{format:function(tt){var nt=F(tt+="",B);return nt.toString=function(){return tt},nt},parse:function(tt){var nt=$(tt+="",!1);return nt.toString=function(){return tt},nt},utcFormat:function(tt){var nt=F(tt+="",M);return nt.toString=function(){return tt},nt},utcParse:function(tt){var nt=$(tt+="",!0);return nt.toString=function(){return tt},nt}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(e,t,n){var o=e<0?"-":"",l=(o?-e:e)+"",u=l.length;return o+(u<n?new Array(n-u+1).join(t)+l:l)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function parseWeekdayNumberSunday(e,t,n){var o=numberRe.exec(t.slice(n,n+1));return o?(e.w=+o[0],n+o[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var o=numberRe.exec(t.slice(n,n+1));return o?(e.u=+o[0],n+o[0].length):-1}function parseWeekNumberSunday(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.U=+o[0],n+o[0].length):-1}function parseWeekNumberISO(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.V=+o[0],n+o[0].length):-1}function parseWeekNumberMonday(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.W=+o[0],n+o[0].length):-1}function parseFullYear(e,t,n){var o=numberRe.exec(t.slice(n,n+4));return o?(e.y=+o[0],n+o[0].length):-1}function parseYear(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function parseZone(e,t,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return o?(e.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function parseQuarter(e,t,n){var o=numberRe.exec(t.slice(n,n+1));return o?(e.q=o[0]*3-3,n+o[0].length):-1}function parseMonthNumber(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.m=o[0]-1,n+o[0].length):-1}function parseDayOfMonth(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.d=+o[0],n+o[0].length):-1}function parseDayOfYear(e,t,n){var o=numberRe.exec(t.slice(n,n+3));return o?(e.m=0,e.d=+o[0],n+o[0].length):-1}function parseHour24(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.H=+o[0],n+o[0].length):-1}function parseMinutes(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.M=+o[0],n+o[0].length):-1}function parseSeconds(e,t,n){var o=numberRe.exec(t.slice(n,n+2));return o?(e.S=+o[0],n+o[0].length):-1}function parseMilliseconds(e,t,n){var o=numberRe.exec(t.slice(n,n+3));return o?(e.L=+o[0],n+o[0].length):-1}function parseMicroseconds(e,t,n){var o=numberRe.exec(t.slice(n,n+6));return o?(e.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function parseLiteralPercent(e,t,n){var o=percentRe.exec(t.slice(n,n+1));return o?n+o[0].length:-1}function parseUnixTimestamp(e,t,n){var o=numberRe.exec(t.slice(n));return o?(e.Q=+o[0],n+o[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var o=numberRe.exec(t.slice(n));return o?(e.s=+o[0],n+o[0].length):-1}function formatDayOfMonth(e,t){return pad$1(e.getDate(),t,2)}function formatHour24(e,t){return pad$1(e.getHours(),t,2)}function formatHour12(e,t){return pad$1(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad$1(1+timeDay.count(timeYear(e),e),t,3)}function formatMilliseconds(e,t){return pad$1(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad$1(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad$1(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad$1(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday(e,t){return pad$1(timeSunday.count(timeYear(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||t===0?timeThursday(e):timeThursday.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad$1(timeThursday.count(timeYear(e),e)+(timeYear(e).getDay()===4),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad$1(timeMonday.count(timeYear(e)-1,e),t,2)}function formatYear(e,t){return pad$1(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return e=dISO(e),pad$1(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad$1(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var n=e.getDay();return e=n>=4||n===0?timeThursday(e):timeThursday.ceil(e),pad$1(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad$1(t/60|0,"0",2)+pad$1(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad$1(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad$1(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad$1(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad$1(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad$1(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad$1(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad$1(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad$1(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday(e,t){return pad$1(utcSunday.count(utcYear(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad$1(utcThursday.count(utcYear(e),e)+(utcYear(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad$1(utcMonday.count(utcYear(e)-1,e),t,2)}function formatUTCYear(e,t){return pad$1(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return e=UTCdISO(e),pad$1(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad$1(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var n=e.getUTCDay();return e=n>=4||n===0?utcThursday(e):utcThursday.ceil(e),pad$1(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(e){return locale=formatLocale(e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(e){return new Date(e)}function number$1(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,n,o,l,u,d,A,m,f){var g=continuous(),v=g.invert,b=g.domain,w=f(".%L"),j=f(":%S"),E=f("%I:%M"),R=f("%I %p"),_=f("%a %d"),N=f("%b %d"),B=f("%B"),M=f("%Y");function O(F){return(m(F)<F?w:A(F)<F?j:d(F)<F?E:u(F)<F?R:o(F)<F?l(F)<F?_:N:n(F)<F?B:M)(F)}return g.invert=function(F){return new Date(v(F))},g.domain=function(F){return arguments.length?b(Array.from(F,number$1)):b().map(date)},g.ticks=function(F){var $=b();return e($[0],$[$.length-1],F??10)},g.tickFormat=function(F,$){return $==null?O:f($)},g.nice=function(F){var $=b();return(!F||typeof F.range!="function")&&(F=t($[0],$[$.length-1],F??10)),F?b(nice($,F)):g},g.copy=function(){return copy$1(g,calendar(e,t,n,o,l,u,d,A,m,f))},g}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var e=0,t=1,n,o,l,u,d=identity$6,A=!1,m;function f(v){return v==null||isNaN(v=+v)?m:d(l===0?.5:(v=(u(v)-n)*l,A?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([e,t]=v,n=u(e=+e),o=u(t=+t),l=n===o?0:1/(o-n),f):[e,t]},f.clamp=function(v){return arguments.length?(A=!!v,f):A},f.interpolator=function(v){return arguments.length?(d=v,f):d};function g(v){return function(b){var w,j;return arguments.length?([w,j]=b,d=v(w,j),f):[d(0),d(1)]}}return f.range=g(interpolate$1),f.rangeRound=g(interpolateRound),f.unknown=function(v){return arguments.length?(m=v,f):m},function(v){return u=v,n=v(e),o=v(t),l=n===o?0:1/(o-n),f}}function copy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer$1()(identity$6));return e.copy=function(){return copy(e,sequential())},initInterpolator.apply(e,arguments)}function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var e=[],t=identity$6;function n(o){if(o!=null&&!isNaN(o=+o))return t((bisectRight(e,o,1)-1)/(e.length-1))}return n.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ascending$1),n},n.interpolator=function(o){return arguments.length?(t=o,n):t},n.range=function(){return e.map((o,l)=>t(l/(e.length-1)))},n.quantiles=function(o){return Array.from({length:o+1},(l,u)=>quantile$1(e,u/o))},n.copy=function(){return sequentialQuantile(t).domain(e)},initInterpolator.apply(n,arguments)}function transformer(){var e=0,t=.5,n=1,o=1,l,u,d,A,m,f=identity$6,g,v=!1,b;function w(E){return isNaN(E=+E)?b:(E=.5+((E=+g(E))-u)*(o*E<o*u?A:m),f(v?Math.max(0,Math.min(1,E)):E))}w.domain=function(E){return arguments.length?([e,t,n]=E,l=g(e=+e),u=g(t=+t),d=g(n=+n),A=l===u?0:.5/(u-l),m=u===d?0:.5/(d-u),o=u<l?-1:1,w):[e,t,n]},w.clamp=function(E){return arguments.length?(v=!!E,w):v},w.interpolator=function(E){return arguments.length?(f=E,w):f};function j(E){return function(R){var _,N,B;return arguments.length?([_,N,B]=R,f=piecewise(E,[_,N,B]),w):[f(0),f(.5),f(1)]}}return w.range=j(interpolate$1),w.rangeRound=j(interpolateRound),w.unknown=function(E){return arguments.length?(b=E,w):b},function(E){return g=E,l=E(e),u=E(t),d=E(n),A=l===u?0:.5/(u-l),m=u===d?0:.5/(d-u),o=u<l?-1:1,w}}function diverging(){var e=linearish(transformer()(identity$6));return e.copy=function(){return copy(e,diverging())},initInterpolator.apply(e,arguments)}function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point$3,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var e=requireIsSymbol();function t(n,o,l){for(var u=-1,d=n.length;++u<d;){var A=n[u],m=o(A);if(m!=null&&(f===void 0?m===m&&!e(m):l(m,f)))var f=m,g=A}return g}return _baseExtremum=t,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function e(t,n){return t>n}return _baseGt=e,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var e=require_baseExtremum(),t=require_baseGt(),n=requireIdentity();function o(l){return l&&l.length?e(l,n,t):void 0}return max_1=o,max_1}var maxExports=requireMax();const max=getDefaultExportFromCjs(maxExports);var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function e(t,n){return t<n}return _baseLt=e,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var e=require_baseExtremum(),t=require_baseLt(),n=requireIdentity();function o(l){return l&&l.length?e(l,n,t):void 0}return min_1=o,min_1}var minExports=requireMin();const min=getDefaultExportFromCjs(minExports);var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var e=require_arrayMap(),t=require_baseIteratee(),n=require_baseMap(),o=requireIsArray();function l(u,d){var A=o(u)?e:n;return A(u,t(d,3))}return map_1=l,map_1}var flatMap_1,hasRequiredFlatMap;function requireFlatMap(){if(hasRequiredFlatMap)return flatMap_1;hasRequiredFlatMap=1;var e=require_baseFlatten(),t=requireMap();function n(o,l){return e(t(o,l),1)}return flatMap_1=n,flatMap_1}var flatMapExports=requireFlatMap();const flatMap=getDefaultExportFromCjs(flatMapExports);var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var e=require_baseIsEqual();function t(n,o){return e(n,o)}return isEqual_1=t,isEqual_1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};P.comparedTo=P.cmp=function(e){var t,n,o,l,u=this;if(e=new u.constructor(e),u.s!==e.s)return u.s||-e.s;if(u.e!==e.e)return u.e>e.e^u.s<0?1:-1;for(o=u.d.length,l=e.d.length,t=0,n=o<l?o:l;t<n;++t)if(u.d[t]!==e.d[t])return u.d[t]>e.d[t]^u.s<0?1:-1;return o===l?0:o>l^u.s<0?1:-1};P.decimalPlaces=P.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*LOG_BASE;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(e){return divide(this,new this.constructor(e))};P.dividedToIntegerBy=P.idiv=function(e){var t=this,n=t.constructor;return round(divide(t,new n(e),0,1),n.precision)};P.equals=P.eq=function(e){return!this.cmp(e)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){return this.cmp(e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n=this,o=n.constructor,l=o.precision,u=l+5;if(e===void 0)e=new o(10);else if(e=new o(e),e.s<1||e.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new o(0):(external=!1,t=divide(ln(n,u),ln(e,u),u),external=!0,round(t,l))};P.minus=P.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?subtract(t,e):add(t,(e.s=-e.s,e))};P.modulo=P.mod=function(e){var t,n=this,o=n.constructor,l=o.precision;if(e=new o(e),!e.s)throw Error(decimalError+"NaN");return n.s?(external=!1,t=divide(n,e,0,1).times(e),external=!0,n.minus(t)):round(new o(n),l)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};P.plus=P.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?add(t,e):subtract(t,(e.s=-e.s,e))};P.precision=P.sd=function(e){var t,n,o,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(invalidArgument+e);if(t=getBase10Exponent(l)+1,o=l.d.length-1,n=o*LOG_BASE+1,o=l.d[o],o){for(;o%10==0;o/=10)n--;for(o=l.d[0];o>=10;o/=10)n++}return e&&t>n?t:n};P.squareRoot=P.sqrt=function(){var e,t,n,o,l,u,d,A=this,m=A.constructor;if(A.s<1){if(!A.s)return new m(0);throw Error(decimalError+"NaN")}for(e=getBase10Exponent(A),external=!1,l=Math.sqrt(+A),l==0||l==1/0?(t=digitsToString(A.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=mathfloor((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),o=new m(t)):o=new m(l.toString()),n=m.precision,l=d=n+3;;)if(u=o,o=u.plus(divide(A,u,d+2)).times(.5),digitsToString(u.d).slice(0,d)===(t=digitsToString(o.d)).slice(0,d)){if(t=t.slice(d-3,d+1),l==d&&t=="4999"){if(round(u,n+1,0),u.times(u).eq(A)){o=u;break}}else if(t!="9999")break;d+=4}return external=!0,round(o,n)};P.times=P.mul=function(e){var t,n,o,l,u,d,A,m,f,g=this,v=g.constructor,b=g.d,w=(e=new v(e)).d;if(!g.s||!e.s)return new v(0);for(e.s*=g.s,n=g.e+e.e,m=b.length,f=w.length,m<f&&(u=b,b=w,w=u,d=m,m=f,f=d),u=[],d=m+f,o=d;o--;)u.push(0);for(o=f;--o>=0;){for(t=0,l=m+o;l>o;)A=u[l]+w[o]*b[l-o-1]+t,u[l--]=A%BASE|0,t=A/BASE|0;u[l]=(u[l]+t)%BASE|0}for(;!u[--d];)u.pop();return t?++n:u.shift(),e.d=u,e.e=n,external?round(e,v.precision):e};P.toDecimalPlaces=P.todp=function(e,t){var n=this,o=n.constructor;return n=new o(n),e===void 0?n:(checkInt32(e,0,MAX_DIGITS),t===void 0?t=o.rounding:checkInt32(t,0,8),round(n,e+getBase10Exponent(n)+1,t))};P.toExponential=function(e,t){var n,o=this,l=o.constructor;return e===void 0?n=toString$3(o,!0):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=l.rounding:checkInt32(t,0,8),o=round(new l(o),e+1,t),n=toString$3(o,!0,e+1)),n};P.toFixed=function(e,t){var n,o,l=this,u=l.constructor;return e===void 0?toString$3(l):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=u.rounding:checkInt32(t,0,8),o=round(new u(l),e+getBase10Exponent(l)+1,t),n=toString$3(o.abs(),!1,e+getBase10Exponent(o)+1),l.isneg()&&!l.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var e=this,t=e.constructor;return round(new t(e),getBase10Exponent(e)+1,t.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(e){var t,n,o,l,u,d,A=this,m=A.constructor,f=12,g=+(e=new m(e));if(!e.s)return new m(ONE);if(A=new m(A),!A.s){if(e.s<1)throw Error(decimalError+"Infinity");return A}if(A.eq(ONE))return A;if(o=m.precision,e.eq(ONE))return round(A,o);if(t=e.e,n=e.d.length-1,d=t>=n,u=A.s,d){if((n=g<0?-g:g)<=MAX_SAFE_INTEGER){for(l=new m(ONE),t=Math.ceil(o/LOG_BASE+4),external=!1;n%2&&(l=l.times(A),truncate(l.d,t)),n=mathfloor(n/2),n!==0;)A=A.times(A),truncate(A.d,t);return external=!0,e.s<0?new m(ONE).div(l):round(l,o)}}else if(u<0)throw Error(decimalError+"NaN");return u=u<0&&e.d[Math.max(t,n)]&1?-1:1,A.s=1,external=!1,l=e.times(ln(A,o+f)),external=!0,l=exp(l),l.s=u,l};P.toPrecision=function(e,t){var n,o,l=this,u=l.constructor;return e===void 0?(n=getBase10Exponent(l),o=toString$3(l,n<=u.toExpNeg||n>=u.toExpPos)):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=u.rounding:checkInt32(t,0,8),l=round(new u(l),e,t),n=getBase10Exponent(l),o=toString$3(l,e<=n||n<=u.toExpNeg,e)),o};P.toSignificantDigits=P.tosd=function(e,t){var n=this,o=n.constructor;return e===void 0?(e=o.precision,t=o.rounding):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=o.rounding:checkInt32(t,0,8)),round(new o(n),e,t)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=getBase10Exponent(e),n=e.constructor;return toString$3(e,t<=n.toExpNeg||t>=n.toExpPos)};function add(e,t){var n,o,l,u,d,A,m,f,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),external?round(t,v):t;if(m=e.d,f=t.d,d=e.e,l=t.e,m=m.slice(),u=d-l,u){for(u<0?(o=m,u=-u,A=f.length):(o=f,l=d,A=m.length),d=Math.ceil(v/LOG_BASE),A=d>A?d+1:A+1,u>A&&(u=A,o.length=1),o.reverse();u--;)o.push(0);o.reverse()}for(A=m.length,u=f.length,A-u<0&&(u=A,o=f,f=m,m=o),n=0;u;)n=(m[--u]=m[u]+f[u]+n)/BASE|0,m[u]%=BASE;for(n&&(m.unshift(n),++l),A=m.length;m[--A]==0;)m.pop();return t.d=m,t.e=l,external?round(t,v):t}function checkInt32(e,t,n){if(e!==~~e||e<t||e>n)throw Error(invalidArgument+e)}function digitsToString(e){var t,n,o,l=e.length-1,u="",d=e[0];if(l>0){for(u+=d,t=1;t<l;t++)o=e[t]+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n)),u+=o;d=e[t],o=d+"",n=LOG_BASE-o.length,n&&(u+=getZeroString(n))}else if(d===0)return"0";for(;d%10===0;)d/=10;return u+d}var divide=(function(){function e(o,l){var u,d=0,A=o.length;for(o=o.slice();A--;)u=o[A]*l+d,o[A]=u%BASE|0,d=u/BASE|0;return d&&o.unshift(d),o}function t(o,l,u,d){var A,m;if(u!=d)m=u>d?1:-1;else for(A=m=0;A<u;A++)if(o[A]!=l[A]){m=o[A]>l[A]?1:-1;break}return m}function n(o,l,u){for(var d=0;u--;)o[u]-=d,d=o[u]<l[u]?1:0,o[u]=d*BASE+o[u]-l[u];for(;!o[0]&&o.length>1;)o.shift()}return function(o,l,u,d){var A,m,f,g,v,b,w,j,E,R,_,N,B,M,O,F,$,z,se=o.constructor,ce=o.s==l.s?1:-1,ie=o.d,pe=l.d;if(!o.s)return new se(o);if(!l.s)throw Error(decimalError+"Division by zero");for(m=o.e-l.e,$=pe.length,O=ie.length,w=new se(ce),j=w.d=[],f=0;pe[f]==(ie[f]||0);)++f;if(pe[f]>(ie[f]||0)&&--m,u==null?N=u=se.precision:d?N=u+(getBase10Exponent(o)-getBase10Exponent(l))+1:N=u,N<0)return new se(0);if(N=N/LOG_BASE+2|0,f=0,$==1)for(g=0,pe=pe[0],N++;(f<O||g)&&N--;f++)B=g*BASE+(ie[f]||0),j[f]=B/pe|0,g=B%pe|0;else{for(g=BASE/(pe[0]+1)|0,g>1&&(pe=e(pe,g),ie=e(ie,g),$=pe.length,O=ie.length),M=$,E=ie.slice(0,$),R=E.length;R<$;)E[R++]=0;z=pe.slice(),z.unshift(0),F=pe[0],pe[1]>=BASE/2&&++F;do g=0,A=t(pe,E,$,R),A<0?(_=E[0],$!=R&&(_=_*BASE+(E[1]||0)),g=_/F|0,g>1?(g>=BASE&&(g=BASE-1),v=e(pe,g),b=v.length,R=E.length,A=t(v,E,b,R),A==1&&(g--,n(v,$<b?z:pe,b))):(g==0&&(A=g=1),v=pe.slice()),b=v.length,b<R&&v.unshift(0),n(E,v,R),A==-1&&(R=E.length,A=t(pe,E,$,R),A<1&&(g++,n(E,$<R?z:pe,R))),R=E.length):A===0&&(g++,E=[0]),j[f++]=g,A&&E[0]?E[R++]=ie[M]||0:(E=[ie[M]],R=1);while((M++<O||E[0]!==void 0)&&N--)}return j[0]||j.shift(),w.e=m,round(w,d?u+getBase10Exponent(w)+1:u)}})();function exp(e,t){var n,o,l,u,d,A,m=0,f=0,g=e.constructor,v=g.precision;if(getBase10Exponent(e)>16)throw Error(exponentOutOfRange+getBase10Exponent(e));if(!e.s)return new g(ONE);for(external=!1,A=v,d=new g(.03125);e.abs().gte(.1);)e=e.times(d),f+=5;for(o=Math.log(mathpow(2,f))/Math.LN10*2+5|0,A+=o,n=l=u=new g(ONE),g.precision=A;;){if(l=round(l.times(e),A),n=n.times(++m),d=u.plus(divide(l,n,A)),digitsToString(d.d).slice(0,A)===digitsToString(u.d).slice(0,A)){for(;f--;)u=round(u.times(u),A);return g.precision=v,t==null?(external=!0,round(u,v)):u}u=d}}function getBase10Exponent(e){for(var t=e.e*LOG_BASE,n=e.d[0];n>=10;n/=10)t++;return t}function getLn10(e,t,n){if(t>e.LN10.sd())throw external=!0,n&&(e.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new e(e.LN10),t)}function getZeroString(e){for(var t="";e--;)t+="0";return t}function ln(e,t){var n,o,l,u,d,A,m,f,g,v=1,b=10,w=e,j=w.d,E=w.constructor,R=E.precision;if(w.s<1)throw Error(decimalError+(w.s?"NaN":"-Infinity"));if(w.eq(ONE))return new E(0);if(t==null?(external=!1,f=R):f=t,w.eq(10))return t==null&&(external=!0),getLn10(E,f);if(f+=b,E.precision=f,n=digitsToString(j),o=n.charAt(0),u=getBase10Exponent(w),Math.abs(u)<15e14){for(;o<7&&o!=1||o==1&&n.charAt(1)>3;)w=w.times(e),n=digitsToString(w.d),o=n.charAt(0),v++;u=getBase10Exponent(w),o>1?(w=new E("0."+n),u++):w=new E(o+"."+n.slice(1))}else return m=getLn10(E,f+2,R).times(u+""),w=ln(new E(o+"."+n.slice(1)),f-b).plus(m),E.precision=R,t==null?(external=!0,round(w,R)):w;for(A=d=w=divide(w.minus(ONE),w.plus(ONE),f),g=round(w.times(w),f),l=3;;){if(d=round(d.times(g),f),m=A.plus(divide(d,new E(l),f)),digitsToString(m.d).slice(0,f)===digitsToString(A.d).slice(0,f))return A=A.times(2),u!==0&&(A=A.plus(getLn10(E,f+2,R).times(u+""))),A=divide(A,new E(v),f),E.precision=R,t==null?(external=!0,round(A,R)):A;A=m,l+=2}}function parseDecimal(e,t){var n,o,l;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(n<0&&(n=o),n+=+t.slice(o+1),t=t.substring(0,o)):n<0&&(n=t.length),o=0;t.charCodeAt(o)===48;)++o;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(o,l),t){if(l-=o,n=n-o-1,e.e=mathfloor(n/LOG_BASE),e.d=[],o=(n+1)%LOG_BASE,n<0&&(o+=LOG_BASE),o<l){for(o&&e.d.push(+t.slice(0,o)),l-=LOG_BASE;o<l;)e.d.push(+t.slice(o,o+=LOG_BASE));t=t.slice(o),o=LOG_BASE-t.length}else o-=l;for(;o--;)t+="0";if(e.d.push(+t),external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+n)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,t,n){var o,l,u,d,A,m,f,g,v=e.d;for(d=1,u=v[0];u>=10;u/=10)d++;if(o=t-d,o<0)o+=LOG_BASE,l=t,f=v[g=0];else{if(g=Math.ceil((o+1)/LOG_BASE),u=v.length,g>=u)return e;for(f=u=v[g],d=1;u>=10;u/=10)d++;o%=LOG_BASE,l=o-LOG_BASE+d}if(n!==void 0&&(u=mathpow(10,d-l-1),A=f/u%10|0,m=t<0||v[g+1]!==void 0||f%u,m=n<4?(A||m)&&(n==0||n==(e.s<0?3:2)):A>5||A==5&&(n==4||m||n==6&&(o>0?l>0?f/mathpow(10,d-l):0:v[g-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return m?(u=getBase10Exponent(e),v.length=1,t=t-u-1,v[0]=mathpow(10,(LOG_BASE-t%LOG_BASE)%LOG_BASE),e.e=mathfloor(-t/LOG_BASE)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(o==0?(v.length=g,u=1,g--):(v.length=g+1,u=mathpow(10,LOG_BASE-o),v[g]=l>0?(f/mathpow(10,d-l)%mathpow(10,l)|0)*u:0),m)for(;;)if(g==0){(v[0]+=u)==BASE&&(v[0]=1,++e.e);break}else{if(v[g]+=u,v[g]!=BASE)break;v[g--]=0,u=1}for(o=v.length;v[--o]===0;)v.pop();if(external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(e));return e}function subtract(e,t){var n,o,l,u,d,A,m,f,g,v,b=e.constructor,w=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),external?round(t,w):t;if(m=e.d,v=t.d,o=t.e,f=e.e,m=m.slice(),d=f-o,d){for(g=d<0,g?(n=m,d=-d,A=v.length):(n=v,o=f,A=m.length),l=Math.max(Math.ceil(w/LOG_BASE),A)+2,d>l&&(d=l,n.length=1),n.reverse(),l=d;l--;)n.push(0);n.reverse()}else{for(l=m.length,A=v.length,g=l<A,g&&(A=l),l=0;l<A;l++)if(m[l]!=v[l]){g=m[l]<v[l];break}d=0}for(g&&(n=m,m=v,v=n,t.s=-t.s),A=m.length,l=v.length-A;l>0;--l)m[A++]=0;for(l=v.length;l>d;){if(m[--l]<v[l]){for(u=l;u&&m[--u]===0;)m[u]=BASE-1;--m[u],m[l]+=BASE}m[l]-=v[l]}for(;m[--A]===0;)m.pop();for(;m[0]===0;m.shift())--o;return m[0]?(t.d=m,t.e=o,external?round(t,w):t):new b(0)}function toString$3(e,t,n){var o,l=getBase10Exponent(e),u=digitsToString(e.d),d=u.length;return t?(n&&(o=n-d)>0?u=u.charAt(0)+"."+u.slice(1)+getZeroString(o):d>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(l<0?"e":"e+")+l):l<0?(u="0."+getZeroString(-l-1)+u,n&&(o=n-d)>0&&(u+=getZeroString(o))):l>=d?(u+=getZeroString(l+1-d),n&&(o=n-l-1)>0&&(u=u+"."+getZeroString(o))):((o=l+1)<d&&(u=u.slice(0,o)+"."+u.slice(o)),n&&(o=n-d)>0&&(l+1===d&&(u+="."),u+=getZeroString(o))),e.s<0?"-"+u:u}function truncate(e,t){if(e.length>t)return e.length=t,!0}function clone(e){var t,n,o;function l(u){var d=this;if(!(d instanceof l))return new l(u);if(d.constructor=l,u instanceof l){d.s=u.s,d.e=u.e,d.d=(u=u.d)?u.slice():u;return}if(typeof u=="number"){if(u*0!==0)throw Error(invalidArgument+u);if(u>0)d.s=1;else if(u<0)u=-u,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(u===~~u&&u<1e7){d.e=0,d.d=[u];return}return parseDecimal(d,u.toString())}else if(typeof u!="string")throw Error(invalidArgument+u);if(u.charCodeAt(0)===45?(u=u.slice(1),d.s=-1):d.s=1,isDecimal.test(u))parseDecimal(d,u);else throw Error(invalidArgument+u)}if(l.prototype=P,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=clone,l.config=l.set=config,e===void 0&&(e={}),e)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<o.length;)e.hasOwnProperty(n=o[t++])||(e[n]=this[n]);return l.config(e),l}function config(e){if(!e||typeof e!="object")throw Error(decimalError+"Object expected");var t,n,o,l=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((o=e[n=l[t]])!==void 0)if(mathfloor(o)===o&&o>=l[t+1]&&o<=l[t+2])this[n]=o;else throw Error(invalidArgument+n+": "+o);if((o=e[n="LN10"])!==void 0)if(o==Math.LN10)this[n]=new this(o);else throw Error(invalidArgument+n+": "+o);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(e){return _arrayWithoutHoles$b(e)||_iterableToArray$c(e)||_unsupportedIterableToArray$i(e)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$i(e,t)}}function _iterableToArray$c(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles$b(e){if(Array.isArray(e))return _arrayLikeToArray$i(e)}function _arrayLikeToArray$i(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var identity$3=function(t){return t},PLACE_HOLDER={},isPlaceHolder=function(t){return t===PLACE_HOLDER},curry0=function(t){return function n(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},curryN=function e(t,n){return t===1?n:curry0(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=l.filter(function(A){return A!==PLACE_HOLDER}).length;return d>=t?n.apply(void 0,l):e(t-d,curry0(function(){for(var A=arguments.length,m=new Array(A),f=0;f<A;f++)m[f]=arguments[f];var g=l.map(function(v){return isPlaceHolder(v)?m.shift():v});return n.apply(void 0,_toConsumableArray$b(g).concat(m))}))})},curry=function(t){return curryN(t.length,t)},range$1=function(t,n){for(var o=[],l=t;l<n;++l)o[l-t]=l;return o},map$2=curry(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),compose=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(!n.length)return identity$3;var l=n.reverse(),u=l[0],d=l.slice(1);return function(){return d.reduce(function(A,m){return m(A)},u.apply(void 0,arguments))}},reverse=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},memoize$1=function(t){var n=null,o=null;return function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return n&&u.every(function(A,m){return A===n[m]})||(n=u,o=t.apply(void 0,u)),o}};function getDigitCount(e){var t;return e===0?t=1:t=Math.floor(new Decimal$1(e).abs().log(10).toNumber())+1,t}function rangeStep(e,t,n){for(var o=new Decimal$1(e),l=0,u=[];o.lt(t)&&l<1e5;)u.push(o.toNumber()),o=o.add(n),l++;return u}var interpolateNumber=curry(function(e,t,n){var o=+e,l=+t;return o+n*(l-o)}),uninterpolateNumber=curry(function(e,t,n){var o=t-+e;return o=o||1/0,(n-e)/o}),uninterpolateTruncation=curry(function(e,t,n){var o=t-+e;return o=o||1/0,Math.max(0,Math.min(1,(n-e)/o))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(e){return _arrayWithoutHoles$a(e)||_iterableToArray$b(e)||_unsupportedIterableToArray$h(e)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles$a(e){if(Array.isArray(e))return _arrayLikeToArray$h(e)}function _slicedToArray$9(e,t){return _arrayWithHoles$a(e)||_iterableToArrayLimit$9(e,t)||_unsupportedIterableToArray$h(e,t)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$h(e,t)}}function _arrayLikeToArray$h(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$9(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],o=!0,l=!1,u=void 0;try{for(var d=e[Symbol.iterator](),A;!(o=(A=d.next()).done)&&(n.push(A.value),!(t&&n.length===t));o=!0);}catch(m){l=!0,u=m}finally{try{!o&&d.return!=null&&d.return()}finally{if(l)throw u}}return n}}function _arrayWithHoles$a(e){if(Array.isArray(e))return e}function getValidInterval(e){var t=_slicedToArray$9(e,2),n=t[0],o=t[1],l=n,u=o;return n>o&&(l=o,u=n),[l,u]}function getFormatStep(e,t,n){if(e.lte(0))return new Decimal$1(0);var o=Arithmetic.getDigitCount(e.toNumber()),l=new Decimal$1(10).pow(o),u=e.div(l),d=o!==1?.05:.1,A=new Decimal$1(Math.ceil(u.div(d).toNumber())).add(n).mul(d),m=A.mul(l);return t?m:new Decimal$1(Math.ceil(m))}function getTickOfSingleValue(e,t,n){var o=1,l=new Decimal$1(e);if(!l.isint()&&n){var u=Math.abs(e);u<1?(o=new Decimal$1(10).pow(Arithmetic.getDigitCount(e)-1),l=new Decimal$1(Math.floor(l.div(o).toNumber())).mul(o)):u>1&&(l=new Decimal$1(Math.floor(e)))}else e===0?l=new Decimal$1(Math.floor((t-1)/2)):n||(l=new Decimal$1(Math.floor(e)));var d=Math.floor((t-1)/2),A=compose(map$2(function(m){return l.add(new Decimal$1(m-d).mul(o)).toNumber()}),range$1);return A(0,t)}function calculateStep(e,t,n,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var u=getFormatStep(new Decimal$1(t).sub(e).div(n-1),o,l),d;e<=0&&t>=0?d=new Decimal$1(0):(d=new Decimal$1(e).add(t).div(2),d=d.sub(new Decimal$1(d).mod(u)));var A=Math.ceil(d.sub(e).div(u).toNumber()),m=Math.ceil(new Decimal$1(t).sub(d).div(u).toNumber()),f=A+m+1;return f>n?calculateStep(e,t,n,o,l+1):(f<n&&(m=t>0?m+(n-f):m,A=t>0?A:A+(n-f)),{step:u,tickMin:d.sub(new Decimal$1(A).mul(u)),tickMax:d.add(new Decimal$1(m).mul(u))})}function getNiceTickValuesFn(e){var t=_slicedToArray$9(e,2),n=t[0],o=t[1],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=Math.max(l,2),A=getValidInterval([n,o]),m=_slicedToArray$9(A,2),f=m[0],g=m[1];if(f===-1/0||g===1/0){var v=g===1/0?[f].concat(_toConsumableArray$a(range$1(0,l-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$1(0,l-1).map(function(){return-1/0})),[g]);return n>o?reverse(v):v}if(f===g)return getTickOfSingleValue(f,l,u);var b=calculateStep(f,g,d,u),w=b.step,j=b.tickMin,E=b.tickMax,R=Arithmetic.rangeStep(j,E.add(new Decimal$1(.1).mul(w)),w);return n>o?reverse(R):R}function getTickValuesFixedDomainFn(e,t){var n=_slicedToArray$9(e,2),o=n[0],l=n[1],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=getValidInterval([o,l]),A=_slicedToArray$9(d,2),m=A[0],f=A[1];if(m===-1/0||f===1/0)return[o,l];if(m===f)return[m];var g=Math.max(t,2),v=getFormatStep(new Decimal$1(f).sub(m).div(g-1),u,0),b=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(m),new Decimal$1(f).sub(new Decimal$1(.99).mul(v)),v)),[f]);return o>l?reverse(b):b}var getNiceTickValues=memoize$1(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$1(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(e,t){throw new Error(prefix)}var _excluded$i=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$C(e){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$C(e)}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$r.apply(this,arguments)}function _slicedToArray$8(e,t){return _arrayWithHoles$9(e)||_iterableToArrayLimit$8(e,t)||_unsupportedIterableToArray$g(e,t)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$g(e,t)}}function _arrayLikeToArray$g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$9(e){if(Array.isArray(e))return e}function _objectWithoutProperties$h(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$h(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$h(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _classCallCheck$i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$B(o.key),o)}}function _createClass$i(e,t,n){return t&&_defineProperties$h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$e(e,t,n){return t=_getPrototypeOf$g(t),_possibleConstructorReturn$g(e,_isNativeReflectConstruct$g()?Reflect.construct(t,n||[],_getPrototypeOf$g(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$g(e,t){if(t&&(_typeof$C(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(e)}function _assertThisInitialized$g(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!e})()}function _getPrototypeOf$g(e){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$g(e)}function _inherits$g(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$g(e,t)}function _setPrototypeOf$g(e,t){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$g(e,t)}function _defineProperty$B(e,t,n){return t=_toPropertyKey$B(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$B(e){var t=_toPrimitive$B(e,"string");return _typeof$C(t)=="symbol"?t:t+""}function _toPrimitive$B(e,t){if(_typeof$C(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$C(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ErrorBar=(function(e){function t(){return _classCallCheck$i(this,t),_callSuper$e(this,t,arguments)}return _inherits$g(t,e),_createClass$i(t,[{key:"render",value:function(){var o=this.props,l=o.offset,u=o.layout,d=o.width,A=o.dataKey,m=o.data,f=o.dataPointFormatter,g=o.xAxis,v=o.yAxis,b=_objectWithoutProperties$h(o,_excluded$i),w=filterProps(b,!1);this.props.direction==="x"&&g.type!=="number"&&invariant();var j=m.map(function(E){var R=f(E,A),_=R.x,N=R.y,B=R.value,M=R.errorVal;if(!M)return null;var O=[],F,$;if(Array.isArray(M)){var z=_slicedToArray$8(M,2);F=z[0],$=z[1]}else F=$=M;if(u==="vertical"){var se=g.scale,ce=N+l,ie=ce+d,pe=ce-d,xe=se(B-F),Ae=se(B+$);O.push({x1:Ae,y1:ie,x2:Ae,y2:pe}),O.push({x1:xe,y1:ce,x2:Ae,y2:ce}),O.push({x1:xe,y1:ie,x2:xe,y2:pe})}else if(u==="horizontal"){var ue=v.scale,Y=_+l,fe=Y-d,H=Y+d,le=ue(B-F),de=ue(B+$);O.push({x1:fe,y1:de,x2:H,y2:de}),O.push({x1:Y,y1:le,x2:Y,y2:de}),O.push({x1:fe,y1:le,x2:H,y2:le})}return React.createElement(Layer,_extends$r({className:"recharts-errorBar",key:"bar-".concat(O.map(function(ye){return"".concat(ye.x1,"-").concat(ye.x2,"-").concat(ye.y1,"-").concat(ye.y2)}))},w),O.map(function(ye){return React.createElement("line",_extends$r({},ye,{key:"line-".concat(ye.x1,"-").concat(ye.x2,"-").concat(ye.y1,"-").concat(ye.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},j)}}])})(React.Component);_defineProperty$B(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$B(ErrorBar,"displayName","ErrorBar");function _typeof$B(e){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$B(e)}function ownKeys$x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$x(Object(n),!0).forEach(function(o){_defineProperty$A(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$A(e,t,n){return t=_toPropertyKey$A(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$A(e){var t=_toPrimitive$A(e,"string");return _typeof$B(t)=="symbol"?t:t+""}function _toPrimitive$A(e,t){if(_typeof$B(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$B(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getLegendProps=function(t){var n=t.children,o=t.formattedGraphicalItems,l=t.legendWidth,u=t.legendContent,d=findChildByType(n,Legend);if(!d)return null;var A=Legend.defaultProps,m=A!==void 0?_objectSpread$w(_objectSpread$w({},A),d.props):{},f;return d.props&&d.props.payload?f=d.props&&d.props.payload:u==="children"?f=(o||[]).reduce(function(g,v){var b=v.item,w=v.props,j=w.sectors||w.data||[];return g.concat(j.map(function(E){return{type:d.props.iconType||b.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(o||[]).map(function(g){var v=g.item,b=v.type.defaultProps,w=b!==void 0?_objectSpread$w(_objectSpread$w({},b),v.props):{},j=w.dataKey,E=w.name,R=w.legendType,_=w.hide;return{inactive:_,dataKey:j,type:m.iconType||R||"square",color:getMainColorOfGraphicItem(v),value:E||j,payload:w}}),_objectSpread$w(_objectSpread$w(_objectSpread$w({},m),Legend.getWithHeight(d,l)),{},{payload:f,item:d})};function _typeof$A(e){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$A(e)}function _toConsumableArray$9(e){return _arrayWithoutHoles$9(e)||_iterableToArray$a(e)||_unsupportedIterableToArray$f(e)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$f(e,t)}}function _iterableToArray$a(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$9(e){if(Array.isArray(e))return _arrayLikeToArray$f(e)}function _arrayLikeToArray$f(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ownKeys$w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$w(Object(n),!0).forEach(function(o){_defineProperty$z(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$z(e,t,n){return t=_toPropertyKey$z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$z(e){var t=_toPrimitive$z(e,"string");return _typeof$A(t)=="symbol"?t:t+""}function _toPrimitive$z(e,t){if(_typeof$A(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$A(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getValueByDataKey(e,t,n){return isNil(e)||isNil(t)?n:isNumOrStr(t)?get$2(e,t,n):isFunction(t)?t(e):n}function getDomainOfDataByKey(e,t,n,o){var l=flatMap(e,function(A){return getValueByDataKey(A,t)});if(n==="number"){var u=l.filter(function(A){return isNumber(A)||parseFloat(A)});return u.length?[min(u),max(u)]:[1/0,-1/0]}var d=o?l.filter(function(A){return!isNil(A)}):l;return d.map(function(A){return isNumOrStr(A)||A instanceof Date?A:""})}var calculateActiveTickIndex=function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,d=-1,A=(n=o?.length)!==null&&n!==void 0?n:0;if(A<=1)return 0;if(u&&u.axisType==="angleAxis"&&Math.abs(Math.abs(u.range[1]-u.range[0])-360)<=1e-6)for(var m=u.range,f=0;f<A;f++){var g=f>0?l[f-1].coordinate:l[A-1].coordinate,v=l[f].coordinate,b=f>=A-1?l[0].coordinate:l[f+1].coordinate,w=void 0;if(mathSign(v-g)!==mathSign(b-v)){var j=[];if(mathSign(b-v)===mathSign(m[1]-m[0])){w=b;var E=v+m[1]-m[0];j[0]=Math.min(E,(E+g)/2),j[1]=Math.max(E,(E+g)/2)}else{w=g;var R=b+m[1]-m[0];j[0]=Math.min(v,(R+v)/2),j[1]=Math.max(v,(R+v)/2)}var _=[Math.min(v,(w+v)/2),Math.max(v,(w+v)/2)];if(t>_[0]&&t<=_[1]||t>=j[0]&&t<=j[1]){d=l[f].index;break}}else{var N=Math.min(g,b),B=Math.max(g,b);if(t>(N+v)/2&&t<=(B+v)/2){d=l[f].index;break}}}else for(var M=0;M<A;M++)if(M===0&&t<=(o[M].coordinate+o[M+1].coordinate)/2||M>0&&M<A-1&&t>(o[M].coordinate+o[M-1].coordinate)/2&&t<=(o[M].coordinate+o[M+1].coordinate)/2||M===A-1&&t>(o[M].coordinate+o[M-1].coordinate)/2){d=o[M].index;break}return d},getMainColorOfGraphicItem=function(t){var n,o=t,l=o.type.displayName,u=(n=t.type)!==null&&n!==void 0&&n.defaultProps?_objectSpread$v(_objectSpread$v({},t.type.defaultProps),t.props):t.props,d=u.stroke,A=u.fill,m;switch(l){case"Line":m=d;break;case"Area":case"Radar":m=d&&d!=="none"?d:A;break;default:m=A;break}return m},getBarSizeList=function(t){var n=t.barSize,o=t.totalSize,l=t.stackGroups,u=l===void 0?{}:l;if(!u)return{};for(var d={},A=Object.keys(u),m=0,f=A.length;m<f;m++)for(var g=u[A[m]].stackGroups,v=Object.keys(g),b=0,w=v.length;b<w;b++){var j=g[v[b]],E=j.items,R=j.cateAxisId,_=E.filter(function($){return getDisplayName($.type).indexOf("Bar")>=0});if(_&&_.length){var N=_[0].type.defaultProps,B=N!==void 0?_objectSpread$v(_objectSpread$v({},N),_[0].props):_[0].props,M=B.barSize,O=B[R];d[O]||(d[O]=[]);var F=isNil(M)?n:M;d[O].push({item:_[0],stackList:_.slice(1),barSize:isNil(F)?void 0:getPercentValue(F,o,0)})}}return d},getBarPosition=function(t){var n=t.barGap,o=t.barCategoryGap,l=t.bandSize,u=t.sizeList,d=u===void 0?[]:u,A=t.maxBarSize,m=d.length;if(m<1)return null;var f=getPercentValue(n,l,0,!0),g,v=[];if(d[0].barSize===+d[0].barSize){var b=!1,w=l/m,j=d.reduce(function(M,O){return M+O.barSize||0},0);j+=(m-1)*f,j>=l&&(j-=(m-1)*f,f=0),j>=l&&w>0&&(b=!0,w*=.9,j=m*w);var E=(l-j)/2>>0,R={offset:E-f,size:0};g=d.reduce(function(M,O){var F={item:O.item,position:{offset:R.offset+R.size+f,size:b?w:O.barSize}},$=[].concat(_toConsumableArray$9(M),[F]);return R=$[$.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(z){$.push({item:z,position:R})}),$},v)}else{var _=getPercentValue(o,l,0,!0);l-2*_-(m-1)*f<=0&&(f=0);var N=(l-2*_-(m-1)*f)/m;N>1&&(N>>=0);var B=A===+A?Math.min(N,A):N;g=d.reduce(function(M,O,F){var $=[].concat(_toConsumableArray$9(M),[{item:O.item,position:{offset:_+(N+f)*F+(N-B)/2,size:B}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(z){$.push({item:z,position:$[$.length-1].position})}),$},v)}return g},appendOffsetOfLegend=function(t,n,o,l){var u=o.children,d=o.width,A=o.margin,m=d-(A.left||0)-(A.right||0),f=getLegendProps({children:u,legendWidth:m});if(f){var g=l||{},v=g.width,b=g.height,w=f.align,j=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&j==="middle")&&w!=="center"&&isNumber(t[w]))return _objectSpread$v(_objectSpread$v({},t),{},_defineProperty$z({},w,t[w]+(v||0)));if((E==="horizontal"||E==="vertical"&&w==="center")&&j!=="middle"&&isNumber(t[j]))return _objectSpread$v(_objectSpread$v({},t),{},_defineProperty$z({},j,t[j]+(b||0)))}return t},isErrorBarRelevantForAxis=function(t,n,o){return isNil(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||o==="x"?n==="xAxis":o==="y"?n==="yAxis":!0},getDomainOfErrorBars=function(t,n,o,l,u){var d=n.props.children,A=findAllByType(d,ErrorBar).filter(function(f){return isErrorBarRelevantForAxis(l,u,f.props.direction)});if(A&&A.length){var m=A.map(function(f){return f.props.dataKey});return t.reduce(function(f,g){var v=getValueByDataKey(g,o);if(isNil(v))return f;var b=Array.isArray(v)?[min(v),max(v)]:[v,v],w=m.reduce(function(j,E){var R=getValueByDataKey(g,E,0),_=b[0]-Math.abs(Array.isArray(R)?R[0]:R),N=b[1]+Math.abs(Array.isArray(R)?R[1]:R);return[Math.min(_,j[0]),Math.max(N,j[1])]},[1/0,-1/0]);return[Math.min(w[0],f[0]),Math.max(w[1],f[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function(t,n,o,l,u){var d=n.map(function(A){return getDomainOfErrorBars(t,A,o,u,l)}).filter(function(A){return!isNil(A)});return d&&d.length?d.reduce(function(A,m){return[Math.min(A[0],m[0]),Math.max(A[1],m[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function(t,n,o,l,u){var d=n.map(function(m){var f=m.props.dataKey;return o==="number"&&f&&getDomainOfErrorBars(t,m,f,l)||getDomainOfDataByKey(t,f,o,u)});if(o==="number")return d.reduce(function(m,f){return[Math.min(m[0],f[0]),Math.max(m[1],f[1])]},[1/0,-1/0]);var A={};return d.reduce(function(m,f){for(var g=0,v=f.length;g<v;g++)A[f[g]]||(A[f[g]]=!0,m.push(f[g]));return m},[])},isCategoricalAxis=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},getCoordinatesOfGrid=function(t,n,o,l){if(l)return t.map(function(m){return m.coordinate});var u,d,A=t.map(function(m){return m.coordinate===n&&(u=!0),m.coordinate===o&&(d=!0),m.coordinate});return u||A.push(n),d||A.push(o),A},getTicksOfAxis=function(t,n,o){if(!t)return null;var l=t.scale,u=t.duplicateDomain,d=t.type,A=t.range,m=t.realScaleType==="scaleBand"?l.bandwidth()/2:2,f=(n||o)&&d==="category"&&l.bandwidth?l.bandwidth()/m:0;if(f=t.axisType==="angleAxis"&&A?.length>=2?mathSign(A[0]-A[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(v){var b=u?u.indexOf(v):v;return{coordinate:l(b)+f,value:v,offset:f}});return g.filter(function(v){return!isNan(v.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(v,b){return{coordinate:l(v)+f,value:v,index:b,offset:f}}):l.ticks&&!o?l.ticks(t.tickCount).map(function(v){return{coordinate:l(v)+f,value:v,offset:f}}):l.domain().map(function(v,b){return{coordinate:l(v)+f,value:u?u[v]:v,index:b,offset:f}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(t,n){if(typeof n!="function")return t;handlerWeakMap.has(t)||handlerWeakMap.set(t,new WeakMap);var o=handlerWeakMap.get(t);if(o.has(n))return o.get(n);var l=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return o.set(n,l),l},parseScale=function(t,n,o){var l=t.scale,u=t.type,d=t.layout,A=t.axisType;if(l==="auto")return d==="radial"&&A==="radiusAxis"?{scale:band(),realScaleType:"band"}:d==="radial"&&A==="angleAxis"?{scale:linear(),realScaleType:"linear"}:u==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!o)?{scale:point$3(),realScaleType:"point"}:u==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString(l)){var m="scale".concat(upperFirst(l));return{scale:(d3Scales[m]||point$3)(),realScaleType:d3Scales[m]?m:"point"}}return isFunction(l)?{scale:l}:{scale:point$3(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function(t){var n=t.domain();if(!(!n||n.length<=2)){var o=n.length,l=t.range(),u=Math.min(l[0],l[1])-EPS,d=Math.max(l[0],l[1])+EPS,A=t(n[0]),m=t(n[o-1]);(A<u||A>d||m<u||m>d)&&t.domain([n[0],n[o-1]])}},findPositionOfBar=function(t,n){if(!t)return null;for(var o=0,l=t.length;o<l;o++)if(t[o].item===n)return t[o].position;return null},truncateByDomain=function(t,n){if(!n||n.length!==2||!isNumber(n[0])||!isNumber(n[1]))return t;var o=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]),u=[t[0],t[1]];return(!isNumber(t[0])||t[0]<o)&&(u[0]=o),(!isNumber(t[1])||t[1]>l)&&(u[1]=l),u[0]>l&&(u[0]=l),u[1]<o&&(u[1]=o),u},offsetSign=function(t){var n=t.length;if(!(n<=0))for(var o=0,l=t[0].length;o<l;++o)for(var u=0,d=0,A=0;A<n;++A){var m=isNan(t[A][o][1])?t[A][o][0]:t[A][o][1];m>=0?(t[A][o][0]=u,t[A][o][1]=u+m,u=t[A][o][1]):(t[A][o][0]=d,t[A][o][1]=d+m,d=t[A][o][1])}},offsetPositive=function(t){var n=t.length;if(!(n<=0))for(var o=0,l=t[0].length;o<l;++o)for(var u=0,d=0;d<n;++d){var A=isNan(t[d][o][1])?t[d][o][0]:t[d][o][1];A>=0?(t[d][o][0]=u,t[d][o][1]=u+A,u=t[d][o][1]):(t[d][o][0]=0,t[d][o][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function(t,n,o){var l=n.map(function(A){return A.props.dataKey}),u=STACK_OFFSET_MAP[o],d=shapeStack().keys(l).value(function(A,m){return+getValueByDataKey(A,m,0)}).order(stackOrderNone).offset(u);return d(t)},getStackGroupsByAxisId=function(t,n,o,l,u,d){if(!t)return null;var A=d?n.reverse():n,m={},f=A.reduce(function(v,b){var w,j=(w=b.type)!==null&&w!==void 0&&w.defaultProps?_objectSpread$v(_objectSpread$v({},b.type.defaultProps),b.props):b.props,E=j.stackId,R=j.hide;if(R)return v;var _=j[o],N=v[_]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(E)){var B=N.stackGroups[E]||{numericAxisId:o,cateAxisId:l,items:[]};B.items.push(b),N.hasStack=!0,N.stackGroups[E]=B}else N.stackGroups[uniqueId("_stackId_")]={numericAxisId:o,cateAxisId:l,items:[b]};return _objectSpread$v(_objectSpread$v({},v),{},_defineProperty$z({},_,N))},m),g={};return Object.keys(f).reduce(function(v,b){var w=f[b];if(w.hasStack){var j={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(E,R){var _=w.stackGroups[R];return _objectSpread$v(_objectSpread$v({},E),{},_defineProperty$z({},R,{numericAxisId:o,cateAxisId:l,items:_.items,stackedData:getStackedData(t,_.items,u)}))},j)}return _objectSpread$v(_objectSpread$v({},v),{},_defineProperty$z({},b,w))},g)},getTicksOfScale=function(t,n){var o=n.realScaleType,l=n.type,u=n.tickCount,d=n.originalDomain,A=n.allowDecimals,m=o||n.scale;if(m!=="auto"&&m!=="linear")return null;if(u&&l==="number"&&d&&(d[0]==="auto"||d[1]==="auto")){var f=t.domain();if(!f.length)return null;var g=getNiceTickValues(f,u,A);return t.domain([min(g),max(g)]),{niceTicks:g}}if(u&&l==="number"){var v=t.domain(),b=getTickValuesFixedDomain(v,u,A);return{niceTicks:b}}return null};function getCateCoordinateOfLine(e){var t=e.axis,n=e.ticks,o=e.bandSize,l=e.entry,u=e.index,d=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!isNil(l[t.dataKey])){var A=findEntryInArray(n,"value",l[t.dataKey]);if(A)return A.coordinate+o/2}return n[u]?n[u].coordinate+o/2:null}var m=getValueByDataKey(l,isNil(d)?t.dataKey:d);return isNil(m)?null:t.scale(m)}var getCateCoordinateOfBar=function(t){var n=t.axis,o=t.ticks,l=t.offset,u=t.bandSize,d=t.entry,A=t.index;if(n.type==="category")return o[A]?o[A].coordinate+l:null;var m=getValueByDataKey(d,n.dataKey,n.domain[A]);return isNil(m)?null:n.scale(m)-u/2+l},getBaseValueOfBar=function(t){var n=t.numericAxis,o=n.scale.domain();if(n.type==="number"){var l=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]);return l<=0&&u>=0?0:u<0?u:l}return o[0]},getStackedDataOfItem=function(t,n){var o,l=(o=t.type)!==null&&o!==void 0&&o.defaultProps?_objectSpread$v(_objectSpread$v({},t.type.defaultProps),t.props):t.props,u=l.stackId;if(isNumOrStr(u)){var d=n[u];if(d){var A=d.items.indexOf(t);return A>=0?d.stackedData[A]:null}}return null},getDomainOfSingle=function(t){return t.reduce(function(n,o){return[min(o.concat([n[0]]).filter(isNumber)),max(o.concat([n[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function(t,n,o){return Object.keys(t).reduce(function(l,u){var d=t[u],A=d.stackedData,m=A.reduce(function(f,g){var v=getDomainOfSingle(g.slice(n,o+1));return[Math.min(f[0],v[0]),Math.max(f[1],v[1])]},[1/0,-1/0]);return[Math.min(m[0],l[0]),Math.max(m[1],l[1])]},[1/0,-1/0]).map(function(l){return l===1/0||l===-1/0?0:l})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(t,n,o){if(isFunction(t))return t(n,o);if(!Array.isArray(t))return n;var l=[];if(isNumber(t[0]))l[0]=o?t[0]:Math.min(t[0],n[0]);else if(MIN_VALUE_REG.test(t[0])){var u=+MIN_VALUE_REG.exec(t[0])[1];l[0]=n[0]-u}else isFunction(t[0])?l[0]=t[0](n[0]):l[0]=n[0];if(isNumber(t[1]))l[1]=o?t[1]:Math.max(t[1],n[1]);else if(MAX_VALUE_REG.test(t[1])){var d=+MAX_VALUE_REG.exec(t[1])[1];l[1]=n[1]+d}else isFunction(t[1])?l[1]=t[1](n[1]):l[1]=n[1];return l},getBandSizeOfAxis=function(t,n,o){if(t&&t.scale&&t.scale.bandwidth){var l=t.scale.bandwidth();if(!o||l>0)return l}if(t&&n&&n.length>=2){for(var u=sortBy(n,function(v){return v.coordinate}),d=1/0,A=1,m=u.length;A<m;A++){var f=u[A],g=u[A-1];d=Math.min((f.coordinate||0)-(g.coordinate||0),d)}return d===1/0?0:d}return o?void 0:0},parseDomainOfCategoryAxis=function(t,n,o){return!t||!t.length||isEqual(t,get$2(o,"type.defaultProps.domain"))?n:t},getTooltipItem=function(t,n){var o=t.type.defaultProps?_objectSpread$v(_objectSpread$v({},t.type.defaultProps),t.props):t.props,l=o.dataKey,u=o.name,d=o.unit,A=o.formatter,m=o.tooltipType,f=o.chartType,g=o.hide;return _objectSpread$v(_objectSpread$v({},filterProps(t,!1)),{},{dataKey:l,unit:d,formatter:A,name:u||l,color:getMainColorOfGraphicItem(t),value:getValueByDataKey(n,l),type:m,payload:n,chartType:f,hide:g})};function _typeof$z(e){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$z(e)}function ownKeys$v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$v(Object(n),!0).forEach(function(o){_defineProperty$y(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$y(e,t,n){return t=_toPropertyKey$y(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$y(e){var t=_toPrimitive$y(e,"string");return _typeof$z(t)=="symbol"?t:t+""}function _toPrimitive$y(e,t){if(_typeof$z(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$z(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _slicedToArray$7(e,t){return _arrayWithHoles$8(e)||_iterableToArrayLimit$7(e,t)||_unsupportedIterableToArray$e(e,t)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$e(e,t)}}function _arrayLikeToArray$e(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$8(e){if(Array.isArray(e))return e}var RADIAN$1=Math.PI/180,radianToDegree=function(t){return t*180/Math.PI},polarToCartesian=function(t,n,o,l){return{x:t+Math.cos(-RADIAN$1*l)*o,y:n+Math.sin(-RADIAN$1*l)*o}},getMaxRadius=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(o.left||0)-(o.right||0)),Math.abs(n-(o.top||0)-(o.bottom||0)))/2},formatAxisMap$1=function(t,n,o,l,u){var d=t.width,A=t.height,m=t.startAngle,f=t.endAngle,g=getPercentValue(t.cx,d,d/2),v=getPercentValue(t.cy,A,A/2),b=getMaxRadius(d,A,o),w=getPercentValue(t.innerRadius,b,0),j=getPercentValue(t.outerRadius,b,b*.8),E=Object.keys(n);return E.reduce(function(R,_){var N=n[_],B=N.domain,M=N.reversed,O;if(isNil(N.range))l==="angleAxis"?O=[m,f]:l==="radiusAxis"&&(O=[w,j]),M&&(O=[O[1],O[0]]);else{O=N.range;var F=O,$=_slicedToArray$7(F,2);m=$[0],f=$[1]}var z=parseScale(N,u),se=z.realScaleType,ce=z.scale;ce.domain(B).range(O),checkDomainOfScale(ce);var ie=getTicksOfScale(ce,_objectSpread$u(_objectSpread$u({},N),{},{realScaleType:se})),pe=_objectSpread$u(_objectSpread$u(_objectSpread$u({},N),ie),{},{range:O,radius:j,realScaleType:se,scale:ce,cx:g,cy:v,innerRadius:w,outerRadius:j,startAngle:m,endAngle:f});return _objectSpread$u(_objectSpread$u({},R),{},_defineProperty$y({},_,pe))},{})},distanceBetweenPoints=function(t,n){var o=t.x,l=t.y,u=n.x,d=n.y;return Math.sqrt(Math.pow(o-u,2)+Math.pow(l-d,2))},getAngleOfPoint=function(t,n){var o=t.x,l=t.y,u=n.cx,d=n.cy,A=distanceBetweenPoints({x:o,y:l},{x:u,y:d});if(A<=0)return{radius:A};var m=(o-u)/A,f=Math.acos(m);return l>d&&(f=2*Math.PI-f),{radius:A,angle:radianToDegree(f),angleInRadian:f}},formatAngleOfSector=function(t){var n=t.startAngle,o=t.endAngle,l=Math.floor(n/360),u=Math.floor(o/360),d=Math.min(l,u);return{startAngle:n-d*360,endAngle:o-d*360}},reverseFormatAngleOfSetor=function(t,n){var o=n.startAngle,l=n.endAngle,u=Math.floor(o/360),d=Math.floor(l/360),A=Math.min(u,d);return t+A*360},inRangeOfSector=function(t,n){var o=t.x,l=t.y,u=getAngleOfPoint({x:o,y:l},n),d=u.radius,A=u.angle,m=n.innerRadius,f=n.outerRadius;if(d<m||d>f)return!1;if(d===0)return!0;var g=formatAngleOfSector(n),v=g.startAngle,b=g.endAngle,w=A,j;if(v<=b){for(;w>b;)w-=360;for(;w<v;)w+=360;j=w>=v&&w<=b}else{for(;w>v;)w-=360;for(;w<b;)w+=360;j=w>=b&&w<=v}return j?_objectSpread$u(_objectSpread$u({},n),{},{radius:d,angle:reverseFormatAngleOfSetor(w,n)}):null},getTickClassName=function(t){return!reactExports.isValidElement(t)&&!isFunction(t)&&typeof t!="boolean"?t.className:""};function _typeof$y(e){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$y(e)}var _excluded$h=["offset"];function _toConsumableArray$8(e){return _arrayWithoutHoles$8(e)||_iterableToArray$9(e)||_unsupportedIterableToArray$d(e)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$d(e,t)}}function _iterableToArray$9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$8(e){if(Array.isArray(e))return _arrayLikeToArray$d(e)}function _arrayLikeToArray$d(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _objectWithoutProperties$g(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$g(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$g(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function ownKeys$u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$u(Object(n),!0).forEach(function(o){_defineProperty$x(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$x(e,t,n){return t=_toPropertyKey$x(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$x(e){var t=_toPrimitive$x(e,"string");return _typeof$y(t)=="symbol"?t:t+""}function _toPrimitive$x(e,t){if(_typeof$y(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$y(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$q.apply(this,arguments)}var getLabel=function(t){var n=t.value,o=t.formatter,l=isNil(t.children)?n:t.children;return isFunction(o)?o(l):l},getDeltaAngle$1=function(t,n){var o=mathSign(n-t),l=Math.min(Math.abs(n-t),360);return o*l},renderRadialLabel=function(t,n,o){var l=t.position,u=t.viewBox,d=t.offset,A=t.className,m=u,f=m.cx,g=m.cy,v=m.innerRadius,b=m.outerRadius,w=m.startAngle,j=m.endAngle,E=m.clockWise,R=(v+b)/2,_=getDeltaAngle$1(w,j),N=_>=0?1:-1,B,M;l==="insideStart"?(B=w+N*d,M=E):l==="insideEnd"?(B=j-N*d,M=!E):l==="end"&&(B=j+N*d,M=E),M=_<=0?M:!M;var O=polarToCartesian(f,g,R,B),F=polarToCartesian(f,g,R,B+(M?1:-1)*359),$="M".concat(O.x,",").concat(O.y,`
    A`).concat(R,",").concat(R,",0,1,").concat(M?0:1,`,
    `).concat(F.x,",").concat(F.y),z=isNil(t.id)?uniqueId("recharts-radial-line-"):t.id;return React.createElement("text",_extends$q({},o,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",A)}),React.createElement("defs",null,React.createElement("path",{id:z,d:$})),React.createElement("textPath",{xlinkHref:"#".concat(z)},n))},getAttrsOfPolarLabel=function(t){var n=t.viewBox,o=t.offset,l=t.position,u=n,d=u.cx,A=u.cy,m=u.innerRadius,f=u.outerRadius,g=u.startAngle,v=u.endAngle,b=(g+v)/2;if(l==="outside"){var w=polarToCartesian(d,A,f+o,b),j=w.x,E=w.y;return{x:j,y:E,textAnchor:j>=d?"start":"end",verticalAnchor:"middle"}}if(l==="center")return{x:d,y:A,textAnchor:"middle",verticalAnchor:"middle"};if(l==="centerTop")return{x:d,y:A,textAnchor:"middle",verticalAnchor:"start"};if(l==="centerBottom")return{x:d,y:A,textAnchor:"middle",verticalAnchor:"end"};var R=(m+f)/2,_=polarToCartesian(d,A,R,b),N=_.x,B=_.y;return{x:N,y:B,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function(t){var n=t.viewBox,o=t.parentViewBox,l=t.offset,u=t.position,d=n,A=d.x,m=d.y,f=d.width,g=d.height,v=g>=0?1:-1,b=v*l,w=v>0?"end":"start",j=v>0?"start":"end",E=f>=0?1:-1,R=E*l,_=E>0?"end":"start",N=E>0?"start":"end";if(u==="top"){var B={x:A+f/2,y:m-v*l,textAnchor:"middle",verticalAnchor:w};return _objectSpread$t(_objectSpread$t({},B),o?{height:Math.max(m-o.y,0),width:f}:{})}if(u==="bottom"){var M={x:A+f/2,y:m+g+b,textAnchor:"middle",verticalAnchor:j};return _objectSpread$t(_objectSpread$t({},M),o?{height:Math.max(o.y+o.height-(m+g),0),width:f}:{})}if(u==="left"){var O={x:A-R,y:m+g/2,textAnchor:_,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},O),o?{width:Math.max(O.x-o.x,0),height:g}:{})}if(u==="right"){var F={x:A+f+R,y:m+g/2,textAnchor:N,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},F),o?{width:Math.max(o.x+o.width-F.x,0),height:g}:{})}var $=o?{width:f,height:g}:{};return u==="insideLeft"?_objectSpread$t({x:A+R,y:m+g/2,textAnchor:N,verticalAnchor:"middle"},$):u==="insideRight"?_objectSpread$t({x:A+f-R,y:m+g/2,textAnchor:_,verticalAnchor:"middle"},$):u==="insideTop"?_objectSpread$t({x:A+f/2,y:m+b,textAnchor:"middle",verticalAnchor:j},$):u==="insideBottom"?_objectSpread$t({x:A+f/2,y:m+g-b,textAnchor:"middle",verticalAnchor:w},$):u==="insideTopLeft"?_objectSpread$t({x:A+R,y:m+b,textAnchor:N,verticalAnchor:j},$):u==="insideTopRight"?_objectSpread$t({x:A+f-R,y:m+b,textAnchor:_,verticalAnchor:j},$):u==="insideBottomLeft"?_objectSpread$t({x:A+R,y:m+g-b,textAnchor:N,verticalAnchor:w},$):u==="insideBottomRight"?_objectSpread$t({x:A+f-R,y:m+g-b,textAnchor:_,verticalAnchor:w},$):isObject(u)&&(isNumber(u.x)||isPercent(u.x))&&(isNumber(u.y)||isPercent(u.y))?_objectSpread$t({x:A+getPercentValue(u.x,f),y:m+getPercentValue(u.y,g),textAnchor:"end",verticalAnchor:"end"},$):_objectSpread$t({x:A+f/2,y:m+g/2,textAnchor:"middle",verticalAnchor:"middle"},$)},isPolar=function(t){return"cx"in t&&isNumber(t.cx)};function Label(e){var t=e.offset,n=t===void 0?5:t,o=_objectWithoutProperties$g(e,_excluded$h),l=_objectSpread$t({offset:n},o),u=l.viewBox,d=l.position,A=l.value,m=l.children,f=l.content,g=l.className,v=g===void 0?"":g,b=l.textBreakAll;if(!u||isNil(A)&&isNil(m)&&!reactExports.isValidElement(f)&&!isFunction(f))return null;if(reactExports.isValidElement(f))return reactExports.cloneElement(f,l);var w;if(isFunction(f)){if(w=reactExports.createElement(f,l),reactExports.isValidElement(w))return w}else w=getLabel(l);var j=isPolar(u),E=filterProps(l,!0);if(j&&(d==="insideStart"||d==="insideEnd"||d==="end"))return renderRadialLabel(l,w,E);var R=j?getAttrsOfPolarLabel(l):getAttrsOfCartesianLabel(l);return React.createElement(Text,_extends$q({className:clsx("recharts-label",v)},E,R,{breakAll:b}),w)}Label.displayName="Label";var parseViewBox=function(t){var n=t.cx,o=t.cy,l=t.angle,u=t.startAngle,d=t.endAngle,A=t.r,m=t.radius,f=t.innerRadius,g=t.outerRadius,v=t.x,b=t.y,w=t.top,j=t.left,E=t.width,R=t.height,_=t.clockWise,N=t.labelViewBox;if(N)return N;if(isNumber(E)&&isNumber(R)){if(isNumber(v)&&isNumber(b))return{x:v,y:b,width:E,height:R};if(isNumber(w)&&isNumber(j))return{x:w,y:j,width:E,height:R}}return isNumber(v)&&isNumber(b)?{x:v,y:b,width:0,height:0}:isNumber(n)&&isNumber(o)?{cx:n,cy:o,startAngle:u||l||0,endAngle:d||l||0,innerRadius:f||0,outerRadius:g||m||A||0,clockWise:_}:t.viewBox?t.viewBox:{}},parseLabel=function(t,n){return t?t===!0?React.createElement(Label,{key:"label-implicit",viewBox:n}):isNumOrStr(t)?React.createElement(Label,{key:"label-implicit",viewBox:n,value:t}):reactExports.isValidElement(t)?t.type===Label?reactExports.cloneElement(t,{key:"label-implicit",viewBox:n}):React.createElement(Label,{key:"label-implicit",content:t,viewBox:n}):isFunction(t)?React.createElement(Label,{key:"label-implicit",content:t,viewBox:n}):isObject(t)?React.createElement(Label,_extends$q({viewBox:n},t,{key:"label-implicit"})):null:null},renderCallByParent$1=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&o&&!t.label)return null;var l=t.children,u=parseViewBox(t),d=findAllByType(l,Label).map(function(m,f){return reactExports.cloneElement(m,{viewBox:n||u,key:"label-".concat(f)})});if(!o)return d;var A=parseLabel(t.label,n||u);return[A].concat(_toConsumableArray$8(d))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return last_1=e,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);function _typeof$x(e){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$x(e)}var _excluded$g=["valueAccessor"],_excluded2$5=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(e){return _arrayWithoutHoles$7(e)||_iterableToArray$8(e)||_unsupportedIterableToArray$c(e)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$c(e,t)}}function _iterableToArray$8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$7(e){if(Array.isArray(e))return _arrayLikeToArray$c(e)}function _arrayLikeToArray$c(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$p.apply(this,arguments)}function ownKeys$t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$t(Object(n),!0).forEach(function(o){_defineProperty$w(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$w(e,t,n){return t=_toPropertyKey$w(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$w(e){var t=_toPrimitive$w(e,"string");return _typeof$x(t)=="symbol"?t:t+""}function _toPrimitive$w(e,t){if(_typeof$x(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$x(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$f(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$f(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$f(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}var defaultAccessor=function(t){return Array.isArray(t.value)?last(t.value):t.value};function LabelList(e){var t=e.valueAccessor,n=t===void 0?defaultAccessor:t,o=_objectWithoutProperties$f(e,_excluded$g),l=o.data,u=o.dataKey,d=o.clockWise,A=o.id,m=o.textBreakAll,f=_objectWithoutProperties$f(o,_excluded2$5);return!l||!l.length?null:React.createElement(Layer,{className:"recharts-label-list"},l.map(function(g,v){var b=isNil(u)?n(g,v):getValueByDataKey(g&&g.payload,u),w=isNil(A)?{}:{id:"".concat(A,"-").concat(v)};return React.createElement(Label,_extends$p({},filterProps(g,!0),f,w,{parentViewBox:g.parentViewBox,value:b,textBreakAll:m,viewBox:Label.parseViewBox(isNil(d)?g:_objectSpread$s(_objectSpread$s({},g),{},{clockWise:d})),key:"label-".concat(v),index:v}))}))}LabelList.displayName="LabelList";function parseLabelList(e,t){return e?e===!0?React.createElement(LabelList,{key:"labelList-implicit",data:t}):React.isValidElement(e)||isFunction(e)?React.createElement(LabelList,{key:"labelList-implicit",data:t,content:e}):isObject(e)?React.createElement(LabelList,_extends$p({data:t},e,{key:"labelList-implicit"})):null:null}function renderCallByParent(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var o=e.children,l=findAllByType(o,LabelList).map(function(d,A){return reactExports.cloneElement(d,{data:t,key:"labelList-".concat(A)})});if(!n)return l;var u=parseLabelList(e.label,t);return[u].concat(_toConsumableArray$7(l))}LabelList.renderCallByParent=renderCallByParent;function _typeof$w(e){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$w(e)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$o.apply(this,arguments)}function ownKeys$s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$s(Object(n),!0).forEach(function(o){_defineProperty$v(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$v(e,t,n){return t=_toPropertyKey$v(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$v(e){var t=_toPrimitive$v(e,"string");return _typeof$w(t)=="symbol"?t:t+""}function _toPrimitive$v(e,t){if(_typeof$w(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$w(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getDeltaAngle=function(t,n){var o=mathSign(n-t),l=Math.min(Math.abs(n-t),359.999);return o*l},getTangentCircle=function(t){var n=t.cx,o=t.cy,l=t.radius,u=t.angle,d=t.sign,A=t.isExternal,m=t.cornerRadius,f=t.cornerIsExternal,g=m*(A?1:-1)+l,v=Math.asin(m/g)/RADIAN$1,b=f?u:u+d*v,w=polarToCartesian(n,o,g,b),j=polarToCartesian(n,o,l,b),E=f?u-d*v:u,R=polarToCartesian(n,o,g*Math.cos(v*RADIAN$1),E);return{center:w,circleTangency:j,lineTangency:R,theta:v}},getSectorPath=function(t){var n=t.cx,o=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.startAngle,A=t.endAngle,m=getDeltaAngle(d,A),f=d+m,g=polarToCartesian(n,o,u,d),v=polarToCartesian(n,o,u,f),b="M ".concat(g.x,",").concat(g.y,`
    A `).concat(u,",").concat(u,`,0,
    `).concat(+(Math.abs(m)>180),",").concat(+(d>f),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(l>0){var w=polarToCartesian(n,o,l,d),j=polarToCartesian(n,o,l,f);b+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(l,",").concat(l,`,0,
            `).concat(+(Math.abs(m)>180),",").concat(+(d<=f),`,
            `).concat(w.x,",").concat(w.y," Z")}else b+="L ".concat(n,",").concat(o," Z");return b},getSectorWithCorner=function(t){var n=t.cx,o=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.cornerRadius,A=t.forceCornerRadius,m=t.cornerIsExternal,f=t.startAngle,g=t.endAngle,v=mathSign(g-f),b=getTangentCircle({cx:n,cy:o,radius:u,angle:f,sign:v,cornerRadius:d,cornerIsExternal:m}),w=b.circleTangency,j=b.lineTangency,E=b.theta,R=getTangentCircle({cx:n,cy:o,radius:u,angle:g,sign:-v,cornerRadius:d,cornerIsExternal:m}),_=R.circleTangency,N=R.lineTangency,B=R.theta,M=m?Math.abs(f-g):Math.abs(f-g)-E-B;if(M<0)return A?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(d,",").concat(d,",0,0,1,").concat(d*2,`,0
        a`).concat(d,",").concat(d,",0,0,1,").concat(-d*2,`,0
      `):getSectorPath({cx:n,cy:o,innerRadius:l,outerRadius:u,startAngle:f,endAngle:g});var O="M ".concat(j.x,",").concat(j.y,`
    A`).concat(d,",").concat(d,",0,0,").concat(+(v<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(u,",").concat(u,",0,").concat(+(M>180),",").concat(+(v<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(d,",").concat(d,",0,0,").concat(+(v<0),",").concat(N.x,",").concat(N.y,`
  `);if(l>0){var F=getTangentCircle({cx:n,cy:o,radius:l,angle:f,sign:v,isExternal:!0,cornerRadius:d,cornerIsExternal:m}),$=F.circleTangency,z=F.lineTangency,se=F.theta,ce=getTangentCircle({cx:n,cy:o,radius:l,angle:g,sign:-v,isExternal:!0,cornerRadius:d,cornerIsExternal:m}),ie=ce.circleTangency,pe=ce.lineTangency,xe=ce.theta,Ae=m?Math.abs(f-g):Math.abs(f-g)-se-xe;if(Ae<0&&d===0)return"".concat(O,"L").concat(n,",").concat(o,"Z");O+="L".concat(pe.x,",").concat(pe.y,`
      A`).concat(d,",").concat(d,",0,0,").concat(+(v<0),",").concat(ie.x,",").concat(ie.y,`
      A`).concat(l,",").concat(l,",0,").concat(+(Ae>180),",").concat(+(v>0),",").concat($.x,",").concat($.y,`
      A`).concat(d,",").concat(d,",0,0,").concat(+(v<0),",").concat(z.x,",").concat(z.y,"Z")}else O+="L".concat(n,",").concat(o,"Z");return O},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(t){var n=_objectSpread$r(_objectSpread$r({},defaultProps$3),t),o=n.cx,l=n.cy,u=n.innerRadius,d=n.outerRadius,A=n.cornerRadius,m=n.forceCornerRadius,f=n.cornerIsExternal,g=n.startAngle,v=n.endAngle,b=n.className;if(d<u||g===v)return null;var w=clsx("recharts-sector",b),j=d-u,E=getPercentValue(A,j,0,!0),R;return E>0&&Math.abs(g-v)<360?R=getSectorWithCorner({cx:o,cy:l,innerRadius:u,outerRadius:d,cornerRadius:Math.min(E,j/2),forceCornerRadius:m,cornerIsExternal:f,startAngle:g,endAngle:v}):R=getSectorPath({cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:g,endAngle:v}),React.createElement("path",_extends$o({},filterProps(n,!0),{className:w,d:R,role:"img"}))};function _typeof$v(e){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$v(e)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$n.apply(this,arguments)}function ownKeys$r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$r(Object(n),!0).forEach(function(o){_defineProperty$u(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$u(e,t,n){return t=_toPropertyKey$u(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$u(e){var t=_toPrimitive$u(e,"string");return _typeof$v(t)=="symbol"?t:t+""}function _toPrimitive$u(e,t){if(_typeof$v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$v(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function(t){return t.x===+t.x&&t.y===+t.y},getX=function(t){return t.x},getY=function(t){return t.y},getCurveFactory=function(t,n){if(isFunction(t))return t;var o="curve".concat(upperFirst(t));return(o==="curveMonotone"||o==="curveBump")&&n?CURVE_FACTORIES["".concat(o).concat(n==="vertical"?"Y":"X")]:CURVE_FACTORIES[o]||curveLinear},getPath$1=function(t){var n=t.type,o=n===void 0?"linear":n,l=t.points,u=l===void 0?[]:l,d=t.baseLine,A=t.layout,m=t.connectNulls,f=m===void 0?!1:m,g=getCurveFactory(o,A),v=f?u.filter(function(E){return defined(E)}):u,b;if(Array.isArray(d)){var w=f?d.filter(function(E){return defined(E)}):d,j=v.map(function(E,R){return _objectSpread$q(_objectSpread$q({},E),{},{base:w[R]})});return A==="vertical"?b=shapeArea().y(getY).x1(getX).x0(function(E){return E.base.x}):b=shapeArea().x(getX).y1(getY).y0(function(E){return E.base.y}),b.defined(defined).curve(g),b(j)}return A==="vertical"&&isNumber(d)?b=shapeArea().y(getY).x1(getX).x0(d):isNumber(d)?b=shapeArea().x(getX).y1(getY).y0(d):b=line().x(getX).y(getY),b.defined(defined).curve(g),b(v)},Curve=function(t){var n=t.className,o=t.points,l=t.path,u=t.pathRef;if((!o||!o.length)&&!l)return null;var d=o&&o.length?getPath$1(t):l;return reactExports.createElement("path",_extends$n({},filterProps(t,!1),adaptEventHandlers(t),{className:clsx("recharts-curve",n),d,ref:u}))},propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=e,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var e=requireReactPropTypesSecret();function t(){}function n(){}return n.resetWarningCache=t,factoryWithThrowingShims=function(){function o(d,A,m,f,g,v){if(v!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty:hasOwnProperty$1}=Object.prototype;function combineComparators(e,t){return function(o,l,u){return e(o,l,u)&&t(o,l,u)}}function createIsCircular(e){return function(n,o,l){if(!n||!o||typeof n!="object"||typeof o!="object")return e(n,o,l);const{cache:u}=l,d=u.get(n),A=u.get(o);if(d&&A)return d===o&&A===n;u.set(n,o),u.set(o,n);const m=e(n,o,l);return u.delete(n),u.delete(o),m}}function getShortTag(e){return e?.[Symbol.toStringTag]}function getStrictProperties(e){return getOwnPropertyNames(e).concat(getOwnPropertySymbols(e))}const hasOwn=Object.hasOwn||((e,t)=>hasOwnProperty$1.call(e,t));function sameValueZeroEqual(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor,keys:keys$1}=Object;function areArrayBuffersEqual(e,t){return e.byteLength===t.byteLength&&areTypedArraysEqual(new Uint8Array(e),new Uint8Array(t))}function areArraysEqual(e,t,n){let o=e.length;if(t.length!==o)return!1;for(;o-- >0;)if(!n.equals(e[o],t[o],o,o,e,t,n))return!1;return!0}function areDataViewsEqual(e,t){return e.byteLength===t.byteLength&&areTypedArraysEqual(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function areDatesEqual(e,t){return sameValueZeroEqual(e.getTime(),t.getTime())}function areErrorsEqual(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function areFunctionsEqual(e,t){return e===t}function areMapsEqual(e,t,n){const o=e.size;if(o!==t.size)return!1;if(!o)return!0;const l=new Array(o),u=e.entries();let d,A,m=0;for(;(d=u.next())&&!d.done;){const f=t.entries();let g=!1,v=0;for(;(A=f.next())&&!A.done;){if(l[v]){v++;continue}const b=d.value,w=A.value;if(n.equals(b[0],w[0],m,v,e,t,n)&&n.equals(b[1],w[1],b[0],w[0],e,t,n)){g=l[v]=!0;break}v++}if(!g)return!1;m++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(e,t,n){const o=keys$1(e);let l=o.length;if(keys$1(t).length!==l)return!1;for(;l-- >0;)if(!isPropertyEqual(e,t,n,o[l]))return!1;return!0}function areObjectsEqualStrict(e,t,n){const o=getStrictProperties(e);let l=o.length;if(getStrictProperties(t).length!==l)return!1;let u,d,A;for(;l-- >0;)if(u=o[l],!isPropertyEqual(e,t,n,u)||(d=getOwnPropertyDescriptor(e,u),A=getOwnPropertyDescriptor(t,u),(d||A)&&(!d||!A||d.configurable!==A.configurable||d.enumerable!==A.enumerable||d.writable!==A.writable)))return!1;return!0}function arePrimitiveWrappersEqual(e,t){return sameValueZeroEqual(e.valueOf(),t.valueOf())}function areRegExpsEqual(e,t){return e.source===t.source&&e.flags===t.flags}function areSetsEqual$1(e,t,n){const o=e.size;if(o!==t.size)return!1;if(!o)return!0;const l=new Array(o),u=e.values();let d,A;for(;(d=u.next())&&!d.done;){const m=t.values();let f=!1,g=0;for(;(A=m.next())&&!A.done;){if(!l[g]&&n.equals(d.value,A.value,d.value,A.value,e,t,n)){f=l[g]=!0;break}g++}if(!f)return!1}return!0}function areTypedArraysEqual(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function areUrlsEqual(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function isPropertyEqual(e,t,n,o){return(o===REACT_OWNER||o===PREACT_OWNER||o===PREACT_VNODE)&&(e.$$typeof||t.$$typeof)?!0:hasOwn(t,o)&&n.equals(e[o],t[o],o,o,e,t,n)}const ARRAY_BUFFER_TAG="[object ArrayBuffer]",ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATA_VIEW_TAG="[object DataView]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",TYPED_ARRAY_TAGS={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},URL_TAG="[object URL]",toString$2=Object.prototype.toString;function createEqualityComparator({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:o,areErrorsEqual:l,areFunctionsEqual:u,areMapsEqual:d,areNumbersEqual:A,areObjectsEqual:m,arePrimitiveWrappersEqual:f,areRegExpsEqual:g,areSetsEqual:v,areTypedArraysEqual:b,areUrlsEqual:w,unknownTagComparators:j}){return function(R,_,N){if(R===_)return!0;if(R==null||_==null)return!1;const B=typeof R;if(B!==typeof _)return!1;if(B!=="object")return B==="number"?A(R,_,N):B==="function"?u(R,_,N):!1;const M=R.constructor;if(M!==_.constructor)return!1;if(M===Object)return m(R,_,N);if(Array.isArray(R))return t(R,_,N);if(M===Date)return o(R,_,N);if(M===RegExp)return g(R,_,N);if(M===Map)return d(R,_,N);if(M===Set)return v(R,_,N);const O=toString$2.call(R);if(O===DATE_TAG)return o(R,_,N);if(O===REG_EXP_TAG)return g(R,_,N);if(O===MAP_TAG)return d(R,_,N);if(O===SET_TAG)return v(R,_,N);if(O===OBJECT_TAG)return typeof R.then!="function"&&typeof _.then!="function"&&m(R,_,N);if(O===URL_TAG)return w(R,_,N);if(O===ERROR_TAG)return l(R,_,N);if(O===ARGUMENTS_TAG)return m(R,_,N);if(TYPED_ARRAY_TAGS[O])return b(R,_,N);if(O===ARRAY_BUFFER_TAG)return e(R,_,N);if(O===DATA_VIEW_TAG)return n(R,_,N);if(O===BOOLEAN_TAG||O===NUMBER_TAG||O===STRING_TAG)return f(R,_,N);if(j){let F=j[O];if(!F){const $=getShortTag(R);$&&(F=j[$])}if(F)return F(R,_,N)}return!1}}function createEqualityComparatorConfig({circular:e,createCustomConfig:t,strict:n}){let o={areArrayBuffersEqual,areArraysEqual:n?areObjectsEqualStrict:areArraysEqual,areDataViewsEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:n?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:n?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:n?combineComparators(areSetsEqual$1,areObjectsEqualStrict):areSetsEqual$1,areTypedArraysEqual:n?combineComparators(areTypedArraysEqual,areObjectsEqualStrict):areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(t&&(o=Object.assign({},o,t(o))),e){const l=createIsCircular(o.areArraysEqual),u=createIsCircular(o.areMapsEqual),d=createIsCircular(o.areObjectsEqual),A=createIsCircular(o.areSetsEqual);o=Object.assign({},o,{areArraysEqual:l,areMapsEqual:u,areObjectsEqual:d,areSetsEqual:A})}return o}function createInternalEqualityComparator(e){return function(t,n,o,l,u,d,A){return e(t,n,A)}}function createIsEqual({circular:e,comparator:t,createState:n,equals:o,strict:l}){if(n)return function(A,m){const{cache:f=e?new WeakMap:void 0,meta:g}=n();return t(A,m,{cache:f,equals:o,meta:g,strict:l})};if(e)return function(A,m){return t(A,m,{cache:new WeakMap,equals:o,meta:void 0,strict:l})};const u={cache:void 0,equals:o,meta:void 0,strict:l};return function(A,m){return t(A,m,u)}}const deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual(e={}){const{circular:t=!1,createInternalComparator:n,createState:o,strict:l=!1}=e,u=createEqualityComparatorConfig(e),d=createEqualityComparator(u),A=n?n(d):createInternalEqualityComparator(d);return createIsEqual({circular:t,comparator:d,createState:o,equals:A,strict:l})}function safeRequestAnimationFrame(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function setRafTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,o=function l(u){n<0&&(n=u),u-n>t?(e(u),n=-1):safeRequestAnimationFrame(l)};requestAnimationFrame(o)}function _typeof$u(e){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$u(e)}function _toArray(e){return _arrayWithHoles$7(e)||_iterableToArray$7(e)||_unsupportedIterableToArray$b(e)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$b(e,t)}}function _arrayLikeToArray$b(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArray$7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithHoles$7(e){if(Array.isArray(e))return e}function createAnimateManager(){var e={},t=function(){return null},n=!1,o=function l(u){if(!n){if(Array.isArray(u)){if(!u.length)return;var d=u,A=_toArray(d),m=A[0],f=A.slice(1);if(typeof m=="number"){setRafTimeout(l.bind(null,f),m);return}l(m),setRafTimeout(l.bind(null,f));return}_typeof$u(u)==="object"&&(e=u,t(e)),typeof u=="function"&&u()}};return{stop:function(){n=!0},start:function(u){n=!1,o(u)},subscribe:function(u){return t=u,function(){t=function(){return null}}}}}function _typeof$t(e){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$t(e)}function ownKeys$q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$q(Object(n),!0).forEach(function(o){_defineProperty$t(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$t(e,t,n){return t=_toPropertyKey$t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$t(e){var t=_toPrimitive$t(e,"string");return _typeof$t(t)==="symbol"?t:String(t)}function _toPrimitive$t(e,t){if(_typeof$t(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$t(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getIntersectionKeys=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(o,l){return o.filter(function(u){return l.includes(u)})})},identity$2=function(t){return t},getDashCase=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mapObject=function(t,n){return Object.keys(n).reduce(function(o,l){return _objectSpread$p(_objectSpread$p({},o),{},_defineProperty$t({},l,t(l,n[l])))},{})},getTransitionVal=function(t,n,o){return t.map(function(l){return"".concat(getDashCase(l)," ").concat(n,"ms ").concat(o)}).join(",")};function _slicedToArray$6(e,t){return _arrayWithHoles$6(e)||_iterableToArrayLimit$6(e,t)||_unsupportedIterableToArray$a(e,t)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$6(e){if(Array.isArray(e))return e}function _toConsumableArray$6(e){return _arrayWithoutHoles$6(e)||_iterableToArray$6(e)||_unsupportedIterableToArray$a(e)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$a(e,t)}}function _iterableToArray$6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$6(e){if(Array.isArray(e))return _arrayLikeToArray$a(e)}function _arrayLikeToArray$a(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var ACCURACY=1e-4,cubicBezierFactor=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},multyTime=function(t,n){return t.map(function(o,l){return o*Math.pow(n,l)}).reduce(function(o,l){return o+l})},cubicBezier=function(t,n){return function(o){var l=cubicBezierFactor(t,n);return multyTime(l,o)}},derivativeCubicBezier=function(t,n){return function(o){var l=cubicBezierFactor(t,n),u=[].concat(_toConsumableArray$6(l.map(function(d,A){return d*A}).slice(1)),[0]);return multyTime(u,o)}},configBezier=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var l=n[0],u=n[1],d=n[2],A=n[3];if(n.length===1)switch(n[0]){case"linear":l=0,u=0,d=1,A=1;break;case"ease":l=.25,u=.1,d=.25,A=1;break;case"ease-in":l=.42,u=0,d=1,A=1;break;case"ease-out":l=.42,u=0,d=.58,A=1;break;case"ease-in-out":l=0,u=0,d=.58,A=1;break;default:{var m=n[0].split("(");if(m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4){var f=m[1].split(")")[0].split(",").map(function(R){return parseFloat(R)}),g=_slicedToArray$6(f,4);l=g[0],u=g[1],d=g[2],A=g[3]}}}var v=cubicBezier(l,d),b=cubicBezier(u,A),w=derivativeCubicBezier(l,d),j=function(_){return _>1?1:_<0?0:_},E=function(_){for(var N=_>1?1:_,B=N,M=0;M<8;++M){var O=v(B)-N,F=w(B);if(Math.abs(O-N)<ACCURACY||F<ACCURACY)return b(B);B=j(B-O/F)}return b(B)};return E.isStepper=!1,E},configSpring=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,o=n===void 0?100:n,l=t.damping,u=l===void 0?8:l,d=t.dt,A=d===void 0?17:d,m=function(g,v,b){var w=-(g-v)*o,j=b*u,E=b+(w-j)*A/1e3,R=b*A/1e3+g;return Math.abs(R-v)<ACCURACY&&Math.abs(E)<ACCURACY?[v,0]:[R,E]};return m.isStepper=!0,m.dt=A,m},configEasing=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var l=n[0];if(typeof l=="string")switch(l){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(l);case"spring":return configSpring();default:if(l.split("(")[0]==="cubic-bezier")return configBezier(l)}return typeof l=="function"?l:null};function _typeof$s(e){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$s(e)}function _toConsumableArray$5(e){return _arrayWithoutHoles$5(e)||_iterableToArray$5(e)||_unsupportedIterableToArray$9(e)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$5(e){if(Array.isArray(e))return _arrayLikeToArray$9(e)}function ownKeys$p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$p(Object(n),!0).forEach(function(o){_defineProperty$s(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$s(e,t,n){return t=_toPropertyKey$s(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$s(e){var t=_toPrimitive$s(e,"string");return _typeof$s(t)==="symbol"?t:String(t)}function _toPrimitive$s(e,t){if(_typeof$s(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$s(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _slicedToArray$5(e,t){return _arrayWithHoles$5(e)||_iterableToArrayLimit$5(e,t)||_unsupportedIterableToArray$9(e,t)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$9(e,t)}}function _arrayLikeToArray$9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$5(e){if(Array.isArray(e))return e}var alpha=function(t,n,o){return t+(n-t)*o},needContinue=function(t){var n=t.from,o=t.to;return n!==o},calStepperVals=function e(t,n,o){var l=mapObject(function(u,d){if(needContinue(d)){var A=t(d.from,d.to,d.velocity),m=_slicedToArray$5(A,2),f=m[0],g=m[1];return _objectSpread$o(_objectSpread$o({},d),{},{from:f,velocity:g})}return d},n);return o<1?mapObject(function(u,d){return needContinue(d)?_objectSpread$o(_objectSpread$o({},d),{},{velocity:alpha(d.velocity,l[u].velocity,o),from:alpha(d.from,l[u].from,o)}):d},n):e(t,l,o-1)};const configUpdate=(function(e,t,n,o,l){var u=getIntersectionKeys(e,t),d=u.reduce(function(R,_){return _objectSpread$o(_objectSpread$o({},R),{},_defineProperty$s({},_,[e[_],t[_]]))},{}),A=u.reduce(function(R,_){return _objectSpread$o(_objectSpread$o({},R),{},_defineProperty$s({},_,{from:e[_],velocity:0,to:t[_]}))},{}),m=-1,f,g,v=function(){return null},b=function(){return mapObject(function(_,N){return N.from},A)},w=function(){return!Object.values(A).filter(needContinue).length},j=function(_){f||(f=_);var N=_-f,B=N/n.dt;A=calStepperVals(n,A,B),l(_objectSpread$o(_objectSpread$o(_objectSpread$o({},e),t),b())),f=_,w()||(m=requestAnimationFrame(v))},E=function(_){g||(g=_);var N=(_-g)/o,B=mapObject(function(O,F){return alpha.apply(void 0,_toConsumableArray$5(F).concat([n(N)]))},d);if(l(_objectSpread$o(_objectSpread$o(_objectSpread$o({},e),t),B)),N<1)m=requestAnimationFrame(v);else{var M=mapObject(function(O,F){return alpha.apply(void 0,_toConsumableArray$5(F).concat([n(1)]))},d);l(_objectSpread$o(_objectSpread$o(_objectSpread$o({},e),t),M))}};return v=n.isStepper?j:E,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(m)}}});function _typeof$r(e){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$r(e)}var _excluded$f=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$e(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$e(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$e(e,t){if(e==null)return{};var n={},o=Object.keys(e),l,u;for(u=0;u<o.length;u++)l=o[u],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function _toConsumableArray$4(e){return _arrayWithoutHoles$4(e)||_iterableToArray$4(e)||_unsupportedIterableToArray$8(e)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$8(e,t)}}function _iterableToArray$4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$4(e){if(Array.isArray(e))return _arrayLikeToArray$8(e)}function _arrayLikeToArray$8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ownKeys$o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$o(Object(n),!0).forEach(function(o){_defineProperty$r(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$r(e,t,n){return t=_toPropertyKey$r(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck$h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$r(o.key),o)}}function _createClass$h(e,t,n){return t&&_defineProperties$g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey$r(e){var t=_toPrimitive$r(e,"string");return _typeof$r(t)==="symbol"?t:String(t)}function _toPrimitive$r(e,t){if(_typeof$r(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$r(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _inherits$f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$f(e,t)}function _setPrototypeOf$f(e,t){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$f(e,t)}function _createSuper$1(e){var t=_isNativeReflectConstruct$f();return function(){var o=_getPrototypeOf$f(e),l;if(t){var u=_getPrototypeOf$f(this).constructor;l=Reflect.construct(o,arguments,u)}else l=o.apply(this,arguments);return _possibleConstructorReturn$f(this,l)}}function _possibleConstructorReturn$f(e,t){if(t&&(_typeof$r(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(e)}function _assertThisInitialized$f(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$f(e){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$f(e)}var Animate=(function(e){_inherits$f(n,e);var t=_createSuper$1(n);function n(o,l){var u;_classCallCheck$h(this,n),u=t.call(this,o,l);var d=u.props,A=d.isActive,m=d.attributeName,f=d.from,g=d.to,v=d.steps,b=d.children,w=d.duration;if(u.handleStyleChange=u.handleStyleChange.bind(_assertThisInitialized$f(u)),u.changeStyle=u.changeStyle.bind(_assertThisInitialized$f(u)),!A||w<=0)return u.state={style:{}},typeof b=="function"&&(u.state={style:g}),_possibleConstructorReturn$f(u);if(v&&v.length)u.state={style:v[0].style};else if(f){if(typeof b=="function")return u.state={style:f},_possibleConstructorReturn$f(u);u.state={style:m?_defineProperty$r({},m,f):f}}else u.state={style:{}};return u}return _createClass$h(n,[{key:"componentDidMount",value:function(){var l=this.props,u=l.isActive,d=l.canBegin;this.mounted=!0,!(!u||!d)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(l){var u=this.props,d=u.isActive,A=u.canBegin,m=u.attributeName,f=u.shouldReAnimate,g=u.to,v=u.from,b=this.state.style;if(A){if(!d){var w={style:m?_defineProperty$r({},m,g):g};this.state&&b&&(m&&b[m]!==g||!m&&b!==g)&&this.setState(w);return}if(!(deepEqual(l.to,g)&&l.canBegin&&l.isActive)){var j=!l.canBegin||!l.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=j||f?v:l.to;if(this.state&&b){var R={style:m?_defineProperty$r({},m,E):E};(m&&b[m]!==E||!m&&b!==E)&&this.setState(R)}this.runAnimation(_objectSpread$n(_objectSpread$n({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var l=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),l&&l()}},{key:"handleStyleChange",value:function(l){this.changeStyle(l)}},{key:"changeStyle",value:function(l){this.mounted&&this.setState({style:l})}},{key:"runJSAnimation",value:function(l){var u=this,d=l.from,A=l.to,m=l.duration,f=l.easing,g=l.begin,v=l.onAnimationEnd,b=l.onAnimationStart,w=configUpdate(d,A,configEasing(f),m,this.changeStyle),j=function(){u.stopJSAnimation=w()};this.manager.start([b,g,j,m,v])}},{key:"runStepAnimation",value:function(l){var u=this,d=l.steps,A=l.begin,m=l.onAnimationStart,f=d[0],g=f.style,v=f.duration,b=v===void 0?0:v,w=function(E,R,_){if(_===0)return E;var N=R.duration,B=R.easing,M=B===void 0?"ease":B,O=R.style,F=R.properties,$=R.onAnimationEnd,z=_>0?d[_-1]:R,se=F||Object.keys(O);if(typeof M=="function"||M==="spring")return[].concat(_toConsumableArray$4(E),[u.runJSAnimation.bind(u,{from:z.style,to:O,duration:N,easing:M}),N]);var ce=getTransitionVal(se,N,M),ie=_objectSpread$n(_objectSpread$n(_objectSpread$n({},z.style),O),{},{transition:ce});return[].concat(_toConsumableArray$4(E),[ie,N,$]).filter(identity$2)};return this.manager.start([m].concat(_toConsumableArray$4(d.reduce(w,[g,Math.max(b,A)])),[l.onAnimationEnd]))}},{key:"runAnimation",value:function(l){this.manager||(this.manager=createAnimateManager());var u=l.begin,d=l.duration,A=l.attributeName,m=l.to,f=l.easing,g=l.onAnimationStart,v=l.onAnimationEnd,b=l.steps,w=l.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof w=="function"||f==="spring"){this.runJSAnimation(l);return}if(b.length>1){this.runStepAnimation(l);return}var E=A?_defineProperty$r({},A,m):m,R=getTransitionVal(Object.keys(E),d,f);j.start([g,u,_objectSpread$n(_objectSpread$n({},E),{},{transition:R}),d,v])}},{key:"render",value:function(){var l=this.props,u=l.children;l.begin;var d=l.duration;l.attributeName,l.easing;var A=l.isActive;l.steps,l.from,l.to,l.canBegin,l.onAnimationEnd,l.shouldReAnimate,l.onAnimationReStart;var m=_objectWithoutProperties$e(l,_excluded$f),f=reactExports.Children.count(u),g=this.state.style;if(typeof u=="function")return u(g);if(!A||f===0||d<=0)return u;var v=function(w){var j=w.props,E=j.style,R=E===void 0?{}:E,_=j.className,N=reactExports.cloneElement(w,_objectSpread$n(_objectSpread$n({},m),{},{style:_objectSpread$n(_objectSpread$n({},R),g),className:_}));return N};return f===1?v(reactExports.Children.only(u)):React.createElement("div",null,reactExports.Children.map(u,function(b){return v(b)}))}}]),n})(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$m.apply(null,arguments)}function _objectWithoutPropertiesLoose$d(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue;n[o]=e[o]}return n}function _setPrototypeOf$e(e,t){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf$e(e,t)}function _assertThisInitialized$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _typeof$q(e){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$q(e)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$l.apply(this,arguments)}function _slicedToArray$4(e,t){return _arrayWithHoles$4(e)||_iterableToArrayLimit$4(e,t)||_unsupportedIterableToArray$7(e,t)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$7(e,t)}}function _arrayLikeToArray$7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$4(e){if(Array.isArray(e))return e}function ownKeys$n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$n(Object(n),!0).forEach(function(o){_defineProperty$q(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$q(e,t,n){return t=_toPropertyKey$q(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$q(e){var t=_toPrimitive$q(e,"string");return _typeof$q(t)=="symbol"?t:t+""}function _toPrimitive$q(e,t){if(_typeof$q(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$q(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getRectanglePath=function(t,n,o,l,u){var d=Math.min(Math.abs(o)/2,Math.abs(l)/2),A=l>=0?1:-1,m=o>=0?1:-1,f=l>=0&&o>=0||l<0&&o<0?1:0,g;if(d>0&&u instanceof Array){for(var v=[0,0,0,0],b=0,w=4;b<w;b++)v[b]=u[b]>d?d:u[b];g="M".concat(t,",").concat(n+A*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(f,",").concat(t+m*v[0],",").concat(n)),g+="L ".concat(t+o-m*v[1],",").concat(n),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(f,`,
        `).concat(t+o,",").concat(n+A*v[1])),g+="L ".concat(t+o,",").concat(n+l-A*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(f,`,
        `).concat(t+o-m*v[2],",").concat(n+l)),g+="L ".concat(t+m*v[3],",").concat(n+l),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+l-A*v[3])),g+="Z"}else if(d>0&&u===+u&&u>0){var j=Math.min(d,u);g="M ".concat(t,",").concat(n+A*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+m*j,",").concat(n,`
            L `).concat(t+o-m*j,",").concat(n,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+o,",").concat(n+A*j,`
            L `).concat(t+o,",").concat(n+l-A*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+o-m*j,",").concat(n+l,`
            L `).concat(t+m*j,",").concat(n+l,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(n+l-A*j," Z")}else g="M ".concat(t,",").concat(n," h ").concat(o," v ").concat(l," h ").concat(-o," Z");return g},isInRectangle=function(t,n){if(!t||!n)return!1;var o=t.x,l=t.y,u=n.x,d=n.y,A=n.width,m=n.height;if(Math.abs(A)>0&&Math.abs(m)>0){var f=Math.min(u,u+A),g=Math.max(u,u+A),v=Math.min(d,d+m),b=Math.max(d,d+m);return o>=f&&o<=g&&l>=v&&l<=b}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(t){var n=_objectSpread$m(_objectSpread$m({},defaultProps$2),t),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$4(l,2),d=u[0],A=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var M=o.current.getTotalLength();M&&A(M)}catch{}},[]);var m=n.x,f=n.y,g=n.width,v=n.height,b=n.radius,w=n.className,j=n.animationEasing,E=n.animationDuration,R=n.animationBegin,_=n.isAnimationActive,N=n.isUpdateAnimationActive;if(m!==+m||f!==+f||g!==+g||v!==+v||g===0||v===0)return null;var B=clsx("recharts-rectangle",w);return N?React.createElement(Animate,{canBegin:d>0,from:{width:g,height:v,x:m,y:f},to:{width:g,height:v,x:m,y:f},duration:E,animationEasing:j,isActive:N},function(M){var O=M.width,F=M.height,$=M.x,z=M.y;return React.createElement(Animate,{canBegin:d>0,from:"0px ".concat(d===-1?1:d,"px"),to:"".concat(d,"px 0px"),attributeName:"strokeDasharray",begin:R,duration:E,isActive:_,easing:j},React.createElement("path",_extends$l({},filterProps(n,!0),{className:B,d:getRectanglePath($,z,O,F,b),ref:o})))}):React.createElement("path",_extends$l({},filterProps(n,!0),{className:B,d:getRectanglePath(m,f,g,v,b)}))},_excluded$e=["points","className","baseLinePoints","connectNulls"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$k.apply(this,arguments)}function _objectWithoutProperties$d(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$c(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$c(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _toConsumableArray$3(e){return _arrayWithoutHoles$3(e)||_iterableToArray$3(e)||_unsupportedIterableToArray$6(e)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$6(e,t)}}function _iterableToArray$3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$3(e){if(Array.isArray(e))return _arrayLikeToArray$6(e)}function _arrayLikeToArray$6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var isValidatePoint=function(t){return t&&t.x===+t.x&&t.y===+t.y},getParsedPoints=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(o){isValidatePoint(o)?n[n.length-1].push(o):n[n.length-1].length>0&&n.push([])}),isValidatePoint(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},getSinglePolygonPath=function(t,n){var o=getParsedPoints(t);n&&(o=[o.reduce(function(u,d){return[].concat(_toConsumableArray$3(u),_toConsumableArray$3(d))},[])]);var l=o.map(function(u){return u.reduce(function(d,A,m){return"".concat(d).concat(m===0?"M":"L").concat(A.x,",").concat(A.y)},"")}).join("");return o.length===1?"".concat(l,"Z"):l},getRanglePath=function(t,n,o){var l=getSinglePolygonPath(t,o);return"".concat(l.slice(-1)==="Z"?l.slice(0,-1):l,"L").concat(getSinglePolygonPath(n.reverse(),o).slice(1))},Polygon=function(t){var n=t.points,o=t.className,l=t.baseLinePoints,u=t.connectNulls,d=_objectWithoutProperties$d(t,_excluded$e);if(!n||!n.length)return null;var A=clsx("recharts-polygon",o);if(l&&l.length){var m=d.stroke&&d.stroke!=="none",f=getRanglePath(n,l,u);return React.createElement("g",{className:A},React.createElement("path",_extends$k({},filterProps(d,!0),{fill:f.slice(-1)==="Z"?d.fill:"none",stroke:"none",d:f})),m?React.createElement("path",_extends$k({},filterProps(d,!0),{fill:"none",d:getSinglePolygonPath(n,u)})):null,m?React.createElement("path",_extends$k({},filterProps(d,!0),{fill:"none",d:getSinglePolygonPath(l,u)})):null)}var g=getSinglePolygonPath(n,u);return React.createElement("path",_extends$k({},filterProps(d,!0),{fill:g.slice(-1)==="Z"?d.fill:"none",className:A,d:g}))};function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$j.apply(this,arguments)}var Dot=function(t){var n=t.cx,o=t.cy,l=t.r,u=t.className,d=clsx("recharts-dot",u);return n===+n&&o===+o&&l===+l?reactExports.createElement("circle",_extends$j({},filterProps(t,!1),adaptEventHandlers(t),{className:d,cx:n,cy:o,r:l})):null};function _typeof$p(e){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$p(e)}var _excluded$d=["x","y","top","left","width","height","className"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$i.apply(this,arguments)}function ownKeys$m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$m(Object(n),!0).forEach(function(o){_defineProperty$p(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$p(e,t,n){return t=_toPropertyKey$p(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$p(e){var t=_toPrimitive$p(e,"string");return _typeof$p(t)=="symbol"?t:t+""}function _toPrimitive$p(e,t){if(_typeof$p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$p(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$c(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$b(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$b(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}var getPath=function(t,n,o,l,u,d){return"M".concat(t,",").concat(u,"v").concat(l,"M").concat(d,",").concat(n,"h").concat(o)},Cross=function(t){var n=t.x,o=n===void 0?0:n,l=t.y,u=l===void 0?0:l,d=t.top,A=d===void 0?0:d,m=t.left,f=m===void 0?0:m,g=t.width,v=g===void 0?0:g,b=t.height,w=b===void 0?0:b,j=t.className,E=_objectWithoutProperties$c(t,_excluded$d),R=_objectSpread$l({x:o,y:u,top:A,left:f,width:v,height:w},E);return!isNumber(o)||!isNumber(u)||!isNumber(v)||!isNumber(w)||!isNumber(A)||!isNumber(f)?null:React.createElement("path",_extends$i({},filterProps(R,!0),{className:clsx("recharts-cross",j),d:getPath(o,u,v,w,A,f)}))},_excluded$c=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function _typeof$o(e){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$o(e)}function _objectWithoutProperties$b(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$a(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$a(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$h.apply(this,arguments)}function ownKeys$l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$l(Object(n),!0).forEach(function(o){_defineProperty$o(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$o(e,t,n){return t=_toPropertyKey$o(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$o(e){var t=_toPrimitive$o(e,"string");return _typeof$o(t)=="symbol"?t:t+""}function _toPrimitive$o(e,t){if(_typeof$o(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$o(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getPolygonPath=function(t,n,o,l){var u="";return l.forEach(function(d,A){var m=polarToCartesian(n,o,t,d);A?u+="L ".concat(m.x,",").concat(m.y):u+="M ".concat(m.x,",").concat(m.y)}),u+="Z",u},PolarAngles=function(t){var n=t.cx,o=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.polarAngles,A=t.radialLines;if(!d||!d.length||!A)return null;var m=_objectSpread$k({stroke:"#ccc"},filterProps(t,!1));return React.createElement("g",{className:"recharts-polar-grid-angle"},d.map(function(f){var g=polarToCartesian(n,o,l,f),v=polarToCartesian(n,o,u,f);return React.createElement("line",_extends$h({},m,{key:"line-".concat(f),x1:g.x,y1:g.y,x2:v.x,y2:v.y}))}))},ConcentricCircle=function(t){var n=t.cx,o=t.cy,l=t.radius,u=t.index,d=_objectSpread$k(_objectSpread$k({stroke:"#ccc"},filterProps(t,!1)),{},{fill:"none"});return React.createElement("circle",_extends$h({},d,{className:clsx("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(u),cx:n,cy:o,r:l}))},ConcentricPolygon=function(t){var n=t.radius,o=t.index,l=_objectSpread$k(_objectSpread$k({stroke:"#ccc"},filterProps(t,!1)),{},{fill:"none"});return React.createElement("path",_extends$h({},l,{className:clsx("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(o),d:getPolygonPath(n,t.cx,t.cy,t.polarAngles)}))},ConcentricPath=function(t){var n=t.polarRadius,o=t.gridType;return!n||!n.length?null:React.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(l,u){var d=u;return o==="circle"?React.createElement(ConcentricCircle,_extends$h({key:d},t,{radius:l,index:u})):React.createElement(ConcentricPolygon,_extends$h({key:d},t,{radius:l,index:u}))}))},PolarGrid=function(t){var n=t.cx,o=n===void 0?0:n,l=t.cy,u=l===void 0?0:l,d=t.innerRadius,A=d===void 0?0:d,m=t.outerRadius,f=m===void 0?0:m,g=t.gridType,v=g===void 0?"polygon":g,b=t.radialLines,w=b===void 0?!0:b,j=_objectWithoutProperties$b(t,_excluded$c);return f<=0?null:React.createElement("g",{className:"recharts-polar-grid"},React.createElement(PolarAngles,_extends$h({cx:o,cy:u,innerRadius:A,outerRadius:f,gridType:v,radialLines:w},j)),React.createElement(ConcentricPath,_extends$h({cx:o,cy:u,innerRadius:A,outerRadius:f,gridType:v,radialLines:w},j)))};PolarGrid.displayName="PolarGrid";var maxBy_1,hasRequiredMaxBy;function requireMaxBy(){if(hasRequiredMaxBy)return maxBy_1;hasRequiredMaxBy=1;var e=require_baseExtremum(),t=require_baseGt(),n=require_baseIteratee();function o(l,u){return l&&l.length?e(l,n(u,2),t):void 0}return maxBy_1=o,maxBy_1}var maxByExports=requireMaxBy();const maxBy=getDefaultExportFromCjs(maxByExports);var minBy_1,hasRequiredMinBy;function requireMinBy(){if(hasRequiredMinBy)return minBy_1;hasRequiredMinBy=1;var e=require_baseExtremum(),t=require_baseIteratee(),n=require_baseLt();function o(l,u){return l&&l.length?e(l,t(u,2),n):void 0}return minBy_1=o,minBy_1}var minByExports=requireMinBy();const minBy=getDefaultExportFromCjs(minByExports);var _excluded$b=["cx","cy","angle","ticks","axisLine"],_excluded2$4=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$n(e){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$n(e)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$g.apply(this,arguments)}function ownKeys$k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$k(Object(n),!0).forEach(function(o){_defineProperty$n(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _objectWithoutProperties$a(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$9(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$9(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _classCallCheck$g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$n(o.key),o)}}function _createClass$g(e,t,n){return t&&_defineProperties$f(e.prototype,t),n&&_defineProperties$f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$d(e,t,n){return t=_getPrototypeOf$e(t),_possibleConstructorReturn$e(e,_isNativeReflectConstruct$e()?Reflect.construct(t,n||[],_getPrototypeOf$e(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$e(e,t){if(t&&(_typeof$n(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(e)}function _assertThisInitialized$d(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!e})()}function _getPrototypeOf$e(e){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$e(e)}function _inherits$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$d(e,t)}function _setPrototypeOf$d(e,t){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$d(e,t)}function _defineProperty$n(e,t,n){return t=_toPropertyKey$n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$n(e){var t=_toPrimitive$n(e,"string");return _typeof$n(t)=="symbol"?t:t+""}function _toPrimitive$n(e,t){if(_typeof$n(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$n(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PolarRadiusAxis=(function(e){function t(){return _classCallCheck$g(this,t),_callSuper$d(this,t,arguments)}return _inherits$e(t,e),_createClass$g(t,[{key:"getTickValueCoord",value:function(o){var l=o.coordinate,u=this.props,d=u.angle,A=u.cx,m=u.cy;return polarToCartesian(A,m,l,d)}},{key:"getTickTextAnchor",value:function(){var o=this.props.orientation,l;switch(o){case"left":l="end";break;case"right":l="start";break;default:l="middle";break}return l}},{key:"getViewBox",value:function(){var o=this.props,l=o.cx,u=o.cy,d=o.angle,A=o.ticks,m=maxBy(A,function(g){return g.coordinate||0}),f=minBy(A,function(g){return g.coordinate||0});return{cx:l,cy:u,startAngle:d,endAngle:d,innerRadius:f.coordinate||0,outerRadius:m.coordinate||0}}},{key:"renderAxisLine",value:function(){var o=this.props,l=o.cx,u=o.cy,d=o.angle,A=o.ticks,m=o.axisLine,f=_objectWithoutProperties$a(o,_excluded$b),g=A.reduce(function(j,E){return[Math.min(j[0],E.coordinate),Math.max(j[1],E.coordinate)]},[1/0,-1/0]),v=polarToCartesian(l,u,g[0],d),b=polarToCartesian(l,u,g[1],d),w=_objectSpread$j(_objectSpread$j(_objectSpread$j({},filterProps(f,!1)),{},{fill:"none"},filterProps(m,!1)),{},{x1:v.x,y1:v.y,x2:b.x,y2:b.y});return React.createElement("line",_extends$g({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var o=this,l=this.props,u=l.ticks,d=l.tick,A=l.angle,m=l.tickFormatter,f=l.stroke,g=_objectWithoutProperties$a(l,_excluded2$4),v=this.getTickTextAnchor(),b=filterProps(g,!1),w=filterProps(d,!1),j=u.map(function(E,R){var _=o.getTickValueCoord(E),N=_objectSpread$j(_objectSpread$j(_objectSpread$j(_objectSpread$j({textAnchor:v,transform:"rotate(".concat(90-A,", ").concat(_.x,", ").concat(_.y,")")},b),{},{stroke:"none",fill:f},w),{},{index:R},_),{},{payload:E});return React.createElement(Layer,_extends$g({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(d)),key:"tick-".concat(E.coordinate)},adaptEventsOfChild(o.props,E,R)),t.renderTickItem(d,N,m?m(E.value,R):E.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var o=this.props,l=o.ticks,u=o.axisLine,d=o.tick;return!l||!l.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},u&&this.renderAxisLine(),d&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(o,l,u){var d;return React.isValidElement(o)?d=React.cloneElement(o,l):isFunction(o)?d=o(l):d=React.createElement(Text,_extends$g({},l,{className:"recharts-polar-radius-axis-tick-value"}),u),d}}])})(reactExports.PureComponent);_defineProperty$n(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$n(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$n(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$m(e){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$m(e)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$f.apply(this,arguments)}function ownKeys$j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$j(Object(n),!0).forEach(function(o){_defineProperty$m(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$m(o.key),o)}}function _createClass$f(e,t,n){return t&&_defineProperties$e(e.prototype,t),n&&_defineProperties$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$c(e,t,n){return t=_getPrototypeOf$d(t),_possibleConstructorReturn$d(e,_isNativeReflectConstruct$d()?Reflect.construct(t,n||[],_getPrototypeOf$d(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$d(e,t){if(t&&(_typeof$m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(e)}function _assertThisInitialized$c(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!e})()}function _getPrototypeOf$d(e){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$d(e)}function _inherits$d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$c(e,t)}function _setPrototypeOf$c(e,t){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$c(e,t)}function _defineProperty$m(e,t,n){return t=_toPropertyKey$m(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$m(e){var t=_toPrimitive$m(e,"string");return _typeof$m(t)=="symbol"?t:t+""}function _toPrimitive$m(e,t){if(_typeof$m(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$m(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=(function(e){function t(){return _classCallCheck$f(this,t),_callSuper$c(this,t,arguments)}return _inherits$d(t,e),_createClass$f(t,[{key:"getTickLineCoord",value:function(o){var l=this.props,u=l.cx,d=l.cy,A=l.radius,m=l.orientation,f=l.tickSize,g=f||8,v=polarToCartesian(u,d,A,o.coordinate),b=polarToCartesian(u,d,A+(m==="inner"?-1:1)*g,o.coordinate);return{x1:v.x,y1:v.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(o){var l=this.props.orientation,u=Math.cos(-o.coordinate*RADIAN),d;return u>eps?d=l==="outer"?"start":"end":u<-eps?d=l==="outer"?"end":"start":d="middle",d}},{key:"renderAxisLine",value:function(){var o=this.props,l=o.cx,u=o.cy,d=o.radius,A=o.axisLine,m=o.axisLineType,f=_objectSpread$i(_objectSpread$i({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(A,!1));if(m==="circle")return React.createElement(Dot,_extends$f({className:"recharts-polar-angle-axis-line"},f,{cx:l,cy:u,r:d}));var g=this.props.ticks,v=g.map(function(b){return polarToCartesian(l,u,d,b.coordinate)});return React.createElement(Polygon,_extends$f({className:"recharts-polar-angle-axis-line"},f,{points:v}))}},{key:"renderTicks",value:function(){var o=this,l=this.props,u=l.ticks,d=l.tick,A=l.tickLine,m=l.tickFormatter,f=l.stroke,g=filterProps(this.props,!1),v=filterProps(d,!1),b=_objectSpread$i(_objectSpread$i({},g),{},{fill:"none"},filterProps(A,!1)),w=u.map(function(j,E){var R=o.getTickLineCoord(j),_=o.getTickTextAnchor(j),N=_objectSpread$i(_objectSpread$i(_objectSpread$i({textAnchor:_},g),{},{stroke:"none",fill:f},v),{},{index:E,payload:j,x:R.x2,y:R.y2});return React.createElement(Layer,_extends$f({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(d)),key:"tick-".concat(j.coordinate)},adaptEventsOfChild(o.props,j,E)),A&&React.createElement("line",_extends$f({className:"recharts-polar-angle-axis-tick-line"},b,R)),d&&t.renderTickItem(d,N,m?m(j.value,E):j.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var o=this.props,l=o.ticks,u=o.radius,d=o.axisLine;return u<=0||!l||!l.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},d&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(o,l,u){var d;return React.isValidElement(o)?d=React.cloneElement(o,l):isFunction(o)?d=o(l):d=React.createElement(Text,_extends$f({},l,{className:"recharts-polar-angle-axis-tick-value"}),u),d}}])})(reactExports.PureComponent);_defineProperty$m(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$m(PolarAngleAxis,"axisType","angleAxis");_defineProperty$m(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var e=require_overArg(),t=e(Object.getPrototypeOf,Object);return _getPrototype=t,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var e=require_baseGetTag(),t=require_getPrototype(),n=requireIsObjectLike(),o="[object Object]",l=Function.prototype,u=Object.prototype,d=l.toString,A=u.hasOwnProperty,m=d.call(Object);function f(g){if(!n(g)||e(g)!=o)return!1;var v=t(g);if(v===null)return!0;var b=A.call(v,"constructor")&&v.constructor;return typeof b=="function"&&b instanceof b&&d.call(b)==m}return isPlainObject_1=f,isPlainObject_1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject$1=getDefaultExportFromCjs(isPlainObjectExports);var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var e=require_baseGetTag(),t=requireIsObjectLike(),n="[object Boolean]";function o(l){return l===!0||l===!1||t(l)&&e(l)==n}return isBoolean_1=o,isBoolean_1}var isBooleanExports=requireIsBoolean();const isBoolean=getDefaultExportFromCjs(isBooleanExports);function _typeof$l(e){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$l(e)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$e.apply(this,arguments)}function _slicedToArray$3(e,t){return _arrayWithHoles$3(e)||_iterableToArrayLimit$3(e,t)||_unsupportedIterableToArray$5(e,t)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$5(e,t)}}function _arrayLikeToArray$5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$3(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$3(e){if(Array.isArray(e))return e}function ownKeys$i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$i(Object(n),!0).forEach(function(o){_defineProperty$l(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$l(e,t,n){return t=_toPropertyKey$l(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$l(e){var t=_toPrimitive$l(e,"string");return _typeof$l(t)=="symbol"?t:t+""}function _toPrimitive$l(e,t){if(_typeof$l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$l(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getTrapezoidPath=function(t,n,o,l,u){var d=o-l,A;return A="M ".concat(t,",").concat(n),A+="L ".concat(t+o,",").concat(n),A+="L ".concat(t+o-d/2,",").concat(n+u),A+="L ".concat(t+o-d/2-l,",").concat(n+u),A+="L ".concat(t,",").concat(n," Z"),A},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(t){var n=_objectSpread$h(_objectSpread$h({},defaultProps$1),t),o=reactExports.useRef(),l=reactExports.useState(-1),u=_slicedToArray$3(l,2),d=u[0],A=u[1];reactExports.useEffect(function(){if(o.current&&o.current.getTotalLength)try{var B=o.current.getTotalLength();B&&A(B)}catch{}},[]);var m=n.x,f=n.y,g=n.upperWidth,v=n.lowerWidth,b=n.height,w=n.className,j=n.animationEasing,E=n.animationDuration,R=n.animationBegin,_=n.isUpdateAnimationActive;if(m!==+m||f!==+f||g!==+g||v!==+v||b!==+b||g===0&&v===0||b===0)return null;var N=clsx("recharts-trapezoid",w);return _?React.createElement(Animate,{canBegin:d>0,from:{upperWidth:0,lowerWidth:0,height:b,x:m,y:f},to:{upperWidth:g,lowerWidth:v,height:b,x:m,y:f},duration:E,animationEasing:j,isActive:_},function(B){var M=B.upperWidth,O=B.lowerWidth,F=B.height,$=B.x,z=B.y;return React.createElement(Animate,{canBegin:d>0,from:"0px ".concat(d===-1?1:d,"px"),to:"".concat(d,"px 0px"),attributeName:"strokeDasharray",begin:R,duration:E,easing:j},React.createElement("path",_extends$e({},filterProps(n,!0),{className:N,d:getTrapezoidPath($,z,M,O,F),ref:o})))}):React.createElement("g",null,React.createElement("path",_extends$e({},filterProps(n,!0),{className:N,d:getTrapezoidPath(m,f,g,v,b)})))},_excluded$a=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$k(e){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$k(e)}function _objectWithoutProperties$9(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$8(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$8(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function ownKeys$h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$h(Object(n),!0).forEach(function(o){_defineProperty$k(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$k(e,t,n){return t=_toPropertyKey$k(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$k(e){var t=_toPrimitive$k(e,"string");return _typeof$k(t)=="symbol"?t:t+""}function _toPrimitive$k(e,t){if(_typeof$k(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$k(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultPropTransformer(e,t){return _objectSpread$g(_objectSpread$g({},t),e)}function isSymbolsProps(e,t){return e==="symbols"}function ShapeSelector(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return React.createElement(Rectangle,n);case"trapezoid":return React.createElement(Trapezoid,n);case"sector":return React.createElement(Sector,n);case"symbols":if(isSymbolsProps(t))return React.createElement(Symbols,n);break;default:return null}}function getPropsFromShapeOption(e){return reactExports.isValidElement(e)?e.props:e}function Shape(e){var t=e.option,n=e.shapeType,o=e.propTransformer,l=o===void 0?defaultPropTransformer:o,u=e.activeClassName,d=u===void 0?"recharts-active-shape":u,A=e.isActive,m=_objectWithoutProperties$9(e,_excluded$a),f;if(reactExports.isValidElement(t))f=reactExports.cloneElement(t,_objectSpread$g(_objectSpread$g({},m),getPropsFromShapeOption(t)));else if(isFunction(t))f=t(m);else if(isPlainObject$1(t)&&!isBoolean(t)){var g=l(t,m);f=React.createElement(ShapeSelector,{shapeType:n,elementProps:g})}else{var v=m;f=React.createElement(ShapeSelector,{shapeType:n,elementProps:v})}return A?React.createElement(Layer,{className:d},f):f}function isFunnel(e,t){return t!=null&&"trapezoids"in e.props}function isPie(e,t){return t!=null&&"sectors"in e.props}function isScatter(e,t){return t!=null&&"points"in e.props}function compareFunnel(e,t){var n,o,l=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,u=e.y===(t==null||(o=t.labelViewBox)===null||o===void 0?void 0:o.y)||e.y===t.y;return l&&u}function comparePie(e,t){var n=e.endAngle===t.endAngle,o=e.startAngle===t.startAngle;return n&&o}function compareScatter(e,t){var n=e.x===t.x,o=e.y===t.y,l=e.z===t.z;return n&&o&&l}function getComparisonFn(e,t){var n;return isFunnel(e,t)?n=compareFunnel:isPie(e,t)?n=comparePie:isScatter(e,t)&&(n=compareScatter),n}function getShapeDataKey(e,t){var n;return isFunnel(e,t)?n="trapezoids":isPie(e,t)?n="sectors":isScatter(e,t)&&(n="points"),n}function getActiveShapeTooltipPayload(e,t){if(isFunnel(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(isPie(e,t)){var o;return(o=t.tooltipPayload)===null||o===void 0||(o=o[0])===null||o===void 0||(o=o.payload)===null||o===void 0?void 0:o.payload}return isScatter(e,t)?t.payload:{}}function getActiveShapeIndexForTooltip(e){var t=e.activeTooltipItem,n=e.graphicalItem,o=e.itemData,l=getShapeDataKey(n,t),u=getActiveShapeTooltipPayload(n,t),d=o.filter(function(m,f){var g=isEqual(u,m),v=n.props[l].filter(function(j){var E=getComparisonFn(n,t);return E(j,t)}),b=n.props[l].indexOf(v[v.length-1]),w=f===b;return g&&w}),A=o.indexOf(d[d.length-1]);return A}var _Pie;function _typeof$j(e){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$j(e)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$d.apply(this,arguments)}function ownKeys$g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$g(Object(n),!0).forEach(function(o){_defineProperty$j(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$j(o.key),o)}}function _createClass$e(e,t,n){return t&&_defineProperties$d(e.prototype,t),n&&_defineProperties$d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$b(e,t,n){return t=_getPrototypeOf$c(t),_possibleConstructorReturn$c(e,_isNativeReflectConstruct$c()?Reflect.construct(t,n||[],_getPrototypeOf$c(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$c(e,t){if(t&&(_typeof$j(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(e)}function _assertThisInitialized$b(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!e})()}function _getPrototypeOf$c(e){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$c(e)}function _inherits$c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$b(e,t)}function _setPrototypeOf$b(e,t){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$b(e,t)}function _defineProperty$j(e,t,n){return t=_toPropertyKey$j(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$j(e){var t=_toPrimitive$j(e,"string");return _typeof$j(t)=="symbol"?t:t+""}function _toPrimitive$j(e,t){if(_typeof$j(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$j(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pie=(function(e){function t(n){var o;return _classCallCheck$e(this,t),o=_callSuper$b(this,t,[n]),_defineProperty$j(o,"pieRef",null),_defineProperty$j(o,"sectorRefs",[]),_defineProperty$j(o,"id",uniqueId("recharts-pie-")),_defineProperty$j(o,"handleAnimationEnd",function(){var l=o.props.onAnimationEnd;o.setState({isAnimationFinished:!0}),isFunction(l)&&l()}),_defineProperty$j(o,"handleAnimationStart",function(){var l=o.props.onAnimationStart;o.setState({isAnimationFinished:!1}),isFunction(l)&&l()}),o.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},o}return _inherits$c(t,e),_createClass$e(t,[{key:"isActiveIndex",value:function(o){var l=this.props.activeIndex;return Array.isArray(l)?l.indexOf(o)!==-1:o===l}},{key:"hasActiveIndex",value:function(){var o=this.props.activeIndex;return Array.isArray(o)?o.length!==0:o||o===0}},{key:"renderLabels",value:function(o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.label,A=u.labelLine,m=u.dataKey,f=u.valueKey,g=filterProps(this.props,!1),v=filterProps(d,!1),b=filterProps(A,!1),w=d&&d.offsetRadius||20,j=o.map(function(E,R){var _=(E.startAngle+E.endAngle)/2,N=polarToCartesian(E.cx,E.cy,E.outerRadius+w,_),B=_objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f({},g),E),{},{stroke:"none"},v),{},{index:R,textAnchor:t.getTextAnchor(N.x,E.cx)},N),M=_objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f({},g),E),{},{fill:"none",stroke:E.fill},b),{},{index:R,points:[polarToCartesian(E.cx,E.cy,E.outerRadius,_),N]}),O=m;return isNil(m)&&isNil(f)?O="value":isNil(m)&&(O=f),React.createElement(Layer,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(R)},A&&t.renderLabelLineItem(A,M,"line"),t.renderLabelItem(d,B,getValueByDataKey(E,O)))});return React.createElement(Layer,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(o){var l=this,u=this.props,d=u.activeShape,A=u.blendStroke,m=u.inactiveShape;return o.map(function(f,g){if(f?.startAngle===0&&f?.endAngle===0&&o.length!==1)return null;var v=l.isActiveIndex(g),b=m&&l.hasActiveIndex()?m:null,w=v?d:b,j=_objectSpread$f(_objectSpread$f({},f),{},{stroke:A?f.fill:f.stroke,tabIndex:-1});return React.createElement(Layer,_extends$d({ref:function(R){R&&!l.sectorRefs.includes(R)&&l.sectorRefs.push(R)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(l.props,f,g),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(g)}),React.createElement(Shape,_extends$d({option:w,isActive:v,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var o=this,l=this.props,u=l.sectors,d=l.isAnimationActive,A=l.animationBegin,m=l.animationDuration,f=l.animationEasing,g=l.animationId,v=this.state,b=v.prevSectors,w=v.prevIsAnimationActive;return React.createElement(Animate,{begin:A,duration:m,isActive:d,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var E=j.t,R=[],_=u&&u[0],N=_.startAngle;return u.forEach(function(B,M){var O=b&&b[M],F=M>0?get$2(B,"paddingAngle",0):0;if(O){var $=interpolateNumber$2(O.endAngle-O.startAngle,B.endAngle-B.startAngle),z=_objectSpread$f(_objectSpread$f({},B),{},{startAngle:N+F,endAngle:N+$(E)+F});R.push(z),N=z.endAngle}else{var se=B.endAngle,ce=B.startAngle,ie=interpolateNumber$2(0,se-ce),pe=ie(E),xe=_objectSpread$f(_objectSpread$f({},B),{},{startAngle:N+F,endAngle:N+pe+F});R.push(xe),N=xe.endAngle}}),React.createElement(Layer,null,o.renderSectorsStatically(R))})}},{key:"attachKeyboardHandlers",value:function(o){var l=this;o.onkeydown=function(u){if(!u.altKey)switch(u.key){case"ArrowLeft":{var d=++l.state.sectorToFocus%l.sectorRefs.length;l.sectorRefs[d].focus(),l.setState({sectorToFocus:d});break}case"ArrowRight":{var A=--l.state.sectorToFocus<0?l.sectorRefs.length-1:l.state.sectorToFocus%l.sectorRefs.length;l.sectorRefs[A].focus(),l.setState({sectorToFocus:A});break}case"Escape":{l.sectorRefs[l.state.sectorToFocus].blur(),l.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var o=this.props,l=o.sectors,u=o.isAnimationActive,d=this.state.prevSectors;return u&&l&&l.length&&(!d||!isEqual(d,l))?this.renderSectorsWithAnimation():this.renderSectorsStatically(l)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var o=this,l=this.props,u=l.hide,d=l.sectors,A=l.className,m=l.label,f=l.cx,g=l.cy,v=l.innerRadius,b=l.outerRadius,w=l.isAnimationActive,j=this.state.isAnimationFinished;if(u||!d||!d.length||!isNumber(f)||!isNumber(g)||!isNumber(v)||!isNumber(b))return null;var E=clsx("recharts-pie",A);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:E,ref:function(_){o.pieRef=_}},this.renderSectors(),m&&this.renderLabels(d),Label.renderCallByParent(this.props,null,!1),(!w||j)&&LabelList.renderCallByParent(this.props,d,!1))}}],[{key:"getDerivedStateFromProps",value:function(o,l){return l.prevIsAnimationActive!==o.isAnimationActive?{prevIsAnimationActive:o.isAnimationActive,prevAnimationId:o.animationId,curSectors:o.sectors,prevSectors:[],isAnimationFinished:!0}:o.isAnimationActive&&o.animationId!==l.prevAnimationId?{prevAnimationId:o.animationId,curSectors:o.sectors,prevSectors:l.curSectors,isAnimationFinished:!0}:o.sectors!==l.curSectors?{curSectors:o.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(o,l){return o>l?"start":o<l?"end":"middle"}},{key:"renderLabelLineItem",value:function(o,l,u){if(React.isValidElement(o))return React.cloneElement(o,l);if(isFunction(o))return o(l);var d=clsx("recharts-pie-label-line",typeof o!="boolean"?o.className:"");return React.createElement(Curve,_extends$d({},l,{key:u,type:"linear",className:d}))}},{key:"renderLabelItem",value:function(o,l,u){if(React.isValidElement(o))return React.cloneElement(o,l);var d=u;if(isFunction(o)&&(d=o(l),React.isValidElement(d)))return d;var A=clsx("recharts-pie-label-text",typeof o!="boolean"&&!isFunction(o)?o.className:"");return React.createElement(Text,_extends$d({},l,{alignmentBaseline:"middle",className:A}),d)}}])})(reactExports.PureComponent);_Pie=Pie;_defineProperty$j(Pie,"displayName","Pie");_defineProperty$j(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$j(Pie,"parseDeltaAngle",function(e,t){var n=mathSign(t-e),o=Math.min(Math.abs(t-e),360);return n*o});_defineProperty$j(Pie,"getRealPieData",function(e){var t=e.data,n=e.children,o=filterProps(e,!1),l=findAllByType(n,Cell);return t&&t.length?t.map(function(u,d){return _objectSpread$f(_objectSpread$f(_objectSpread$f({payload:u},o),u),l&&l[d]&&l[d].props)}):l&&l.length?l.map(function(u){return _objectSpread$f(_objectSpread$f({},o),u.props)}):[]});_defineProperty$j(Pie,"parseCoordinateOfPie",function(e,t){var n=t.top,o=t.left,l=t.width,u=t.height,d=getMaxRadius(l,u),A=o+getPercentValue(e.cx,l,l/2),m=n+getPercentValue(e.cy,u,u/2),f=getPercentValue(e.innerRadius,d,0),g=getPercentValue(e.outerRadius,d,d*.8),v=e.maxRadius||Math.sqrt(l*l+u*u)/2;return{cx:A,cy:m,innerRadius:f,outerRadius:g,maxRadius:v}});_defineProperty$j(Pie,"getComposedData",function(e){var t=e.item,n=e.offset,o=t.type.defaultProps!==void 0?_objectSpread$f(_objectSpread$f({},t.type.defaultProps),t.props):t.props,l=_Pie.getRealPieData(o);if(!l||!l.length)return null;var u=o.cornerRadius,d=o.startAngle,A=o.endAngle,m=o.paddingAngle,f=o.dataKey,g=o.nameKey,v=o.valueKey,b=o.tooltipType,w=Math.abs(o.minAngle),j=_Pie.parseCoordinateOfPie(o,n),E=_Pie.parseDeltaAngle(d,A),R=Math.abs(E),_=f;isNil(f)&&isNil(v)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):isNil(f)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=v);var N=l.filter(function(z){return getValueByDataKey(z,_,0)!==0}).length,B=(R>=360?N:N-1)*m,M=R-N*w-B,O=l.reduce(function(z,se){var ce=getValueByDataKey(se,_,0);return z+(isNumber(ce)?ce:0)},0),F;if(O>0){var $;F=l.map(function(z,se){var ce=getValueByDataKey(z,_,0),ie=getValueByDataKey(z,g,se),pe=(isNumber(ce)?ce:0)/O,xe;se?xe=$.endAngle+mathSign(E)*m*(ce!==0?1:0):xe=d;var Ae=xe+mathSign(E)*((ce!==0?w:0)+pe*M),ue=(xe+Ae)/2,Y=(j.innerRadius+j.outerRadius)/2,fe=[{name:ie,value:ce,payload:z,dataKey:_,type:b}],H=polarToCartesian(j.cx,j.cy,Y,ue);return $=_objectSpread$f(_objectSpread$f(_objectSpread$f({percent:pe,cornerRadius:u,name:ie,tooltipPayload:fe,midAngle:ue,middleRadius:Y,tooltipPosition:H},z),j),{},{value:getValueByDataKey(z,_),startAngle:xe,endAngle:Ae,payload:z,paddingAngle:mathSign(E)*m}),$})}return _objectSpread$f(_objectSpread$f({},j),{},{sectors:F,data:l})});var head_1,hasRequiredHead;function requireHead(){if(hasRequiredHead)return head_1;hasRequiredHead=1;function e(t){return t&&t.length?t[0]:void 0}return head_1=e,head_1}var first$1,hasRequiredFirst;function requireFirst(){return hasRequiredFirst||(hasRequiredFirst=1,first$1=requireHead()),first$1}var firstExports=requireFirst();const first=getDefaultExportFromCjs(firstExports);var _excluded$9=["key"];function _typeof$i(e){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$i(e)}function _objectWithoutProperties$8(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$7(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$7(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$c.apply(this,arguments)}function ownKeys$f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$f(Object(n),!0).forEach(function(o){_defineProperty$i(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$i(o.key),o)}}function _createClass$d(e,t,n){return t&&_defineProperties$c(e.prototype,t),n&&_defineProperties$c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$a(e,t,n){return t=_getPrototypeOf$b(t),_possibleConstructorReturn$b(e,_isNativeReflectConstruct$b()?Reflect.construct(t,n||[],_getPrototypeOf$b(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$b(e,t){if(t&&(_typeof$i(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(e)}function _assertThisInitialized$a(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!e})()}function _getPrototypeOf$b(e){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$b(e)}function _inherits$b(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$a(e,t)}function _setPrototypeOf$a(e,t){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$a(e,t)}function _defineProperty$i(e,t,n){return t=_toPropertyKey$i(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$i(e){var t=_toPrimitive$i(e,"string");return _typeof$i(t)=="symbol"?t:t+""}function _toPrimitive$i(e,t){if(_typeof$i(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$i(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Radar=(function(e){function t(){var n;_classCallCheck$d(this,t);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$a(this,t,[].concat(l)),_defineProperty$i(n,"state",{isAnimationFinished:!1}),_defineProperty$i(n,"handleAnimationEnd",function(){var d=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),isFunction(d)&&d()}),_defineProperty$i(n,"handleAnimationStart",function(){var d=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),isFunction(d)&&d()}),_defineProperty$i(n,"handleMouseEnter",function(d){var A=n.props.onMouseEnter;A&&A(n.props,d)}),_defineProperty$i(n,"handleMouseLeave",function(d){var A=n.props.onMouseLeave;A&&A(n.props,d)}),n}return _inherits$b(t,e),_createClass$d(t,[{key:"renderDots",value:function(o){var l=this.props,u=l.dot,d=l.dataKey,A=filterProps(this.props,!1),m=filterProps(u,!0),f=o.map(function(g,v){var b=_objectSpread$e(_objectSpread$e(_objectSpread$e({key:"dot-".concat(v),r:3},A),m),{},{dataKey:d,cx:g.x,cy:g.y,index:v,payload:g});return t.renderDotItem(u,b)});return React.createElement(Layer,{className:"recharts-radar-dots"},f)}},{key:"renderPolygonStatically",value:function(o){var l=this.props,u=l.shape,d=l.dot,A=l.isRange,m=l.baseLinePoints,f=l.connectNulls,g;return React.isValidElement(u)?g=React.cloneElement(u,_objectSpread$e(_objectSpread$e({},this.props),{},{points:o})):isFunction(u)?g=u(_objectSpread$e(_objectSpread$e({},this.props),{},{points:o})):g=React.createElement(Polygon,_extends$c({},filterProps(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:o,baseLinePoints:A?m:null,connectNulls:f})),React.createElement(Layer,{className:"recharts-radar-polygon"},g,d?this.renderDots(o):null)}},{key:"renderPolygonWithAnimation",value:function(){var o=this,l=this.props,u=l.points,d=l.isAnimationActive,A=l.animationBegin,m=l.animationDuration,f=l.animationEasing,g=l.animationId,v=this.state.prevPoints;return React.createElement(Animate,{begin:A,duration:m,isActive:d,easing:f,from:{t:0},to:{t:1},key:"radar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,j=v&&v.length/u.length,E=u.map(function(R,_){var N=v&&v[Math.floor(_*j)];if(N){var B=interpolateNumber$2(N.x,R.x),M=interpolateNumber$2(N.y,R.y);return _objectSpread$e(_objectSpread$e({},R),{},{x:B(w),y:M(w)})}var O=interpolateNumber$2(R.cx,R.x),F=interpolateNumber$2(R.cy,R.y);return _objectSpread$e(_objectSpread$e({},R),{},{x:O(w),y:F(w)})});return o.renderPolygonStatically(E)})}},{key:"renderPolygon",value:function(){var o=this.props,l=o.points,u=o.isAnimationActive,d=o.isRange,A=this.state.prevPoints;return u&&l&&l.length&&!d&&(!A||!isEqual(A,l))?this.renderPolygonWithAnimation():this.renderPolygonStatically(l)}},{key:"render",value:function(){var o=this.props,l=o.hide,u=o.className,d=o.points,A=o.isAnimationActive;if(l||!d||!d.length)return null;var m=this.state.isAnimationFinished,f=clsx("recharts-radar",u);return React.createElement(Layer,{className:f},this.renderPolygon(),(!A||m)&&LabelList.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(o,l){return o.animationId!==l.prevAnimationId?{prevAnimationId:o.animationId,curPoints:o.points,prevPoints:l.curPoints}:o.points!==l.curPoints?{curPoints:o.points}:null}},{key:"renderDotItem",value:function(o,l){var u;if(React.isValidElement(o))u=React.cloneElement(o,l);else if(isFunction(o))u=o(l);else{var d=l.key,A=_objectWithoutProperties$8(l,_excluded$9);u=React.createElement(Dot,_extends$c({},A,{key:d,className:clsx("recharts-radar-dot",typeof o!="boolean"?o.className:"")}))}return u}}])})(reactExports.PureComponent);_defineProperty$i(Radar,"displayName","Radar");_defineProperty$i(Radar,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_defineProperty$i(Radar,"getComposedData",function(e){var t=e.radiusAxis,n=e.angleAxis,o=e.displayedData,l=e.dataKey,u=e.bandSize,d=n.cx,A=n.cy,m=!1,f=[],g=n.type!=="number"?u??0:0;o.forEach(function(b,w){var j=getValueByDataKey(b,n.dataKey,w),E=getValueByDataKey(b,l),R=n.scale(j)+g,_=Array.isArray(E)?last(E):E,N=isNil(_)?void 0:t.scale(_);Array.isArray(E)&&E.length>=2&&(m=!0),f.push(_objectSpread$e(_objectSpread$e({},polarToCartesian(d,A,N,R)),{},{name:j,value:E,cx:d,cy:A,radius:N,angle:R,payload:b}))});var v=[];return m&&f.forEach(function(b){if(Array.isArray(b.value)){var w=first(b.value),j=isNil(w)?void 0:t.scale(w);v.push(_objectSpread$e(_objectSpread$e({},b),{},{radius:j},polarToCartesian(d,A,j,b.angle)))}else v.push(b)}),{points:f,isRange:m,baseLinePoints:v}});var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var e=Math.ceil,t=Math.max;function n(o,l,u,d){for(var A=-1,m=t(e((l-o)/(u||1)),0),f=Array(m);m--;)f[d?m:++A]=o,o+=u;return f}return _baseRange=n,_baseRange}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var e=requireToNumber(),t=1/0,n=17976931348623157e292;function o(l){if(!l)return l===0?l:0;if(l=e(l),l===t||l===-t){var u=l<0?-1:1;return u*n}return l===l?l:0}return toFinite_1=o,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var e=require_baseRange(),t=require_isIterateeCall(),n=requireToFinite();function o(l){return function(u,d,A){return A&&typeof A!="number"&&t(u,d,A)&&(d=A=void 0),u=n(u),d===void 0?(d=u,u=0):d=n(d),A=A===void 0?u<d?1:-1:n(A),e(u,d,A,l)}}return _createRange=o,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var e=require_createRange(),t=e();return range_1=t,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports);function _typeof$h(e){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$h(e)}function ownKeys$e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$e(Object(n),!0).forEach(function(o){_defineProperty$h(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$h(e,t,n){return t=_toPropertyKey$h(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$h(e){var t=_toPrimitive$h(e,"string");return _typeof$h(t)=="symbol"?t:t+""}function _toPrimitive$h(e,t){if(_typeof$h(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$h(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function(t,n){var o=t.replace(/(\w)/,function(u){return u.toUpperCase()}),l=PREFIX_LIST.reduce(function(u,d){return _objectSpread$d(_objectSpread$d({},u),{},_defineProperty$h({},d+o,n))},{});return l[t]=n,l};function _typeof$g(e){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$g(e)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$b.apply(this,arguments)}function ownKeys$d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$d(Object(n),!0).forEach(function(o){_defineProperty$g(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$g(o.key),o)}}function _createClass$c(e,t,n){return t&&_defineProperties$b(e.prototype,t),n&&_defineProperties$b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$9(e,t,n){return t=_getPrototypeOf$a(t),_possibleConstructorReturn$a(e,_isNativeReflectConstruct$a()?Reflect.construct(t,n||[],_getPrototypeOf$a(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$a(e,t){if(t&&(_typeof$g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(e)}function _assertThisInitialized$9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!e})()}function _getPrototypeOf$a(e){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$a(e)}function _inherits$a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$9(e,t)}function _setPrototypeOf$9(e,t){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$9(e,t)}function _defineProperty$g(e,t,n){return t=_toPropertyKey$g(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$g(e){var t=_toPrimitive$g(e,"string");return _typeof$g(t)=="symbol"?t:t+""}function _toPrimitive$g(e,t){if(_typeof$g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$g(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var createScale=function(t){var n=t.data,o=t.startIndex,l=t.endIndex,u=t.x,d=t.width,A=t.travellerWidth;if(!n||!n.length)return{};var m=n.length,f=point$3().domain(range(0,m)).range([u,u+d-A]),g=f.domain().map(function(v){return f(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(o),endX:f(l),scale:f,scaleValues:g}},isTouch=function(t){return t.changedTouches&&!!t.changedTouches.length},Brush=(function(e){function t(n){var o;return _classCallCheck$c(this,t),o=_callSuper$9(this,t,[n]),_defineProperty$g(o,"handleDrag",function(l){o.leaveTimer&&(clearTimeout(o.leaveTimer),o.leaveTimer=null),o.state.isTravellerMoving?o.handleTravellerMove(l):o.state.isSlideMoving&&o.handleSlideDrag(l)}),_defineProperty$g(o,"handleTouchMove",function(l){l.changedTouches!=null&&l.changedTouches.length>0&&o.handleDrag(l.changedTouches[0])}),_defineProperty$g(o,"handleDragEnd",function(){o.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var l=o.props,u=l.endIndex,d=l.onDragEnd,A=l.startIndex;d?.({endIndex:u,startIndex:A})}),o.detachDragEndListener()}),_defineProperty$g(o,"handleLeaveWrapper",function(){(o.state.isTravellerMoving||o.state.isSlideMoving)&&(o.leaveTimer=window.setTimeout(o.handleDragEnd,o.props.leaveTimeOut))}),_defineProperty$g(o,"handleEnterSlideOrTraveller",function(){o.setState({isTextActive:!0})}),_defineProperty$g(o,"handleLeaveSlideOrTraveller",function(){o.setState({isTextActive:!1})}),_defineProperty$g(o,"handleSlideDragStart",function(l){var u=isTouch(l)?l.changedTouches[0]:l;o.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:u.pageX}),o.attachDragEndListener()}),o.travellerDragStartHandlers={startX:o.handleTravellerDragStart.bind(o,"startX"),endX:o.handleTravellerDragStart.bind(o,"endX")},o.state={},o}return _inherits$a(t,e),_createClass$c(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(o){var l=o.startX,u=o.endX,d=this.state.scaleValues,A=this.props,m=A.gap,f=A.data,g=f.length-1,v=Math.min(l,u),b=Math.max(l,u),w=t.getIndexInRange(d,v),j=t.getIndexInRange(d,b);return{startIndex:w-w%m,endIndex:j===g?g:j-j%m}}},{key:"getTextOfTick",value:function(o){var l=this.props,u=l.data,d=l.tickFormatter,A=l.dataKey,m=getValueByDataKey(u[o],A,o);return isFunction(d)?d(m,o):m}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(o){var l=this.state,u=l.slideMoveStartX,d=l.startX,A=l.endX,m=this.props,f=m.x,g=m.width,v=m.travellerWidth,b=m.startIndex,w=m.endIndex,j=m.onChange,E=o.pageX-u;E>0?E=Math.min(E,f+g-v-A,f+g-v-d):E<0&&(E=Math.max(E,f-d,f-A));var R=this.getIndex({startX:d+E,endX:A+E});(R.startIndex!==b||R.endIndex!==w)&&j&&j(R),this.setState({startX:d+E,endX:A+E,slideMoveStartX:o.pageX})}},{key:"handleTravellerDragStart",value:function(o,l){var u=isTouch(l)?l.changedTouches[0]:l;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:o,brushMoveStartX:u.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(o){var l=this.state,u=l.brushMoveStartX,d=l.movingTravellerId,A=l.endX,m=l.startX,f=this.state[d],g=this.props,v=g.x,b=g.width,w=g.travellerWidth,j=g.onChange,E=g.gap,R=g.data,_={startX:this.state.startX,endX:this.state.endX},N=o.pageX-u;N>0?N=Math.min(N,v+b-w-f):N<0&&(N=Math.max(N,v-f)),_[d]=f+N;var B=this.getIndex(_),M=B.startIndex,O=B.endIndex,F=function(){var z=R.length-1;return d==="startX"&&(A>m?M%E===0:O%E===0)||A<m&&O===z||d==="endX"&&(A>m?O%E===0:M%E===0)||A>m&&O===z};this.setState(_defineProperty$g(_defineProperty$g({},d,f+N),"brushMoveStartX",o.pageX),function(){j&&F()&&j(B)})}},{key:"handleTravellerMoveKeyboard",value:function(o,l){var u=this,d=this.state,A=d.scaleValues,m=d.startX,f=d.endX,g=this.state[l],v=A.indexOf(g);if(v!==-1){var b=v+o;if(!(b===-1||b>=A.length)){var w=A[b];l==="startX"&&w>=f||l==="endX"&&w<=m||this.setState(_defineProperty$g({},l,w),function(){u.props.onChange(u.getIndex({startX:u.state.startX,endX:u.state.endX}))})}}}},{key:"renderBackground",value:function(){var o=this.props,l=o.x,u=o.y,d=o.width,A=o.height,m=o.fill,f=o.stroke;return React.createElement("rect",{stroke:f,fill:m,x:l,y:u,width:d,height:A})}},{key:"renderPanorama",value:function(){var o=this.props,l=o.x,u=o.y,d=o.width,A=o.height,m=o.data,f=o.children,g=o.padding,v=reactExports.Children.only(f);return v?React.cloneElement(v,{x:l,y:u,width:d,height:A,margin:g,compact:!0,data:m}):null}},{key:"renderTravellerLayer",value:function(o,l){var u,d,A=this,m=this.props,f=m.y,g=m.travellerWidth,v=m.height,b=m.traveller,w=m.ariaLabel,j=m.data,E=m.startIndex,R=m.endIndex,_=Math.max(o,this.props.x),N=_objectSpread$c(_objectSpread$c({},filterProps(this.props,!1)),{},{x:_,y:f,width:g,height:v}),B=w||"Min value: ".concat((u=j[E])===null||u===void 0?void 0:u.name,", Max value: ").concat((d=j[R])===null||d===void 0?void 0:d.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":B,"aria-valuenow":o,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[l],onTouchStart:this.travellerDragStartHandlers[l],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),A.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,l))},onFocus:function(){A.setState({isTravellerFocused:!0})},onBlur:function(){A.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(b,N))}},{key:"renderSlide",value:function(o,l){var u=this.props,d=u.y,A=u.height,m=u.stroke,f=u.travellerWidth,g=Math.min(o,l)+f,v=Math.max(Math.abs(l-o)-f,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:m,fillOpacity:.2,x:g,y:d,width:v,height:A})}},{key:"renderText",value:function(){var o=this.props,l=o.startIndex,u=o.endIndex,d=o.y,A=o.height,m=o.travellerWidth,f=o.stroke,g=this.state,v=g.startX,b=g.endX,w=5,j={pointerEvents:"none",fill:f};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,b)-w,y:d+A/2},j),this.getTextOfTick(l)),React.createElement(Text,_extends$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,b)+m+w,y:d+A/2},j),this.getTextOfTick(u)))}},{key:"render",value:function(){var o=this.props,l=o.data,u=o.className,d=o.children,A=o.x,m=o.y,f=o.width,g=o.height,v=o.alwaysShowText,b=this.state,w=b.startX,j=b.endX,E=b.isTextActive,R=b.isSlideMoving,_=b.isTravellerMoving,N=b.isTravellerFocused;if(!l||!l.length||!isNumber(A)||!isNumber(m)||!isNumber(f)||!isNumber(g)||f<=0||g<=0)return null;var B=clsx("recharts-brush",u),M=React.Children.count(d)===1,O=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:B,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(w,j),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(j,"endX"),(E||R||_||N||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(o){var l=o.x,u=o.y,d=o.width,A=o.height,m=o.stroke,f=Math.floor(u+A/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:l,y:u,width:d,height:A,fill:m,stroke:"none"}),React.createElement("line",{x1:l+1,y1:f,x2:l+d-1,y2:f,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:l+1,y1:f+2,x2:l+d-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(o,l){var u;return React.isValidElement(o)?u=React.cloneElement(o,l):isFunction(o)?u=o(l):u=t.renderDefaultTraveller(l),u}},{key:"getDerivedStateFromProps",value:function(o,l){var u=o.data,d=o.width,A=o.x,m=o.travellerWidth,f=o.updateId,g=o.startIndex,v=o.endIndex;if(u!==l.prevData||f!==l.prevUpdateId)return _objectSpread$c({prevData:u,prevTravellerWidth:m,prevUpdateId:f,prevX:A,prevWidth:d},u&&u.length?createScale({data:u,width:d,x:A,travellerWidth:m,startIndex:g,endIndex:v}):{scale:null,scaleValues:null});if(l.scale&&(d!==l.prevWidth||A!==l.prevX||m!==l.prevTravellerWidth)){l.scale.range([A,A+d-m]);var b=l.scale.domain().map(function(w){return l.scale(w)});return{prevData:u,prevTravellerWidth:m,prevUpdateId:f,prevX:A,prevWidth:d,startX:l.scale(o.startIndex),endX:l.scale(o.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(o,l){for(var u=o.length,d=0,A=u-1;A-d>1;){var m=Math.floor((d+A)/2);o[m]>l?A=m:d=m}return l>=o[A]?A:d}}])})(reactExports.PureComponent);_defineProperty$g(Brush,"displayName","Brush");_defineProperty$g(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _baseSome,hasRequired_baseSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var e=require_baseEach();function t(n,o){var l;return e(n,function(u,d,A){return l=o(u,d,A),!l}),!!l}return _baseSome=t,_baseSome}var some_1,hasRequiredSome;function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var e=require_arraySome(),t=require_baseIteratee(),n=require_baseSome(),o=requireIsArray(),l=require_isIterateeCall();function u(d,A,m){var f=o(d)?e:n;return m&&l(d,A,m)&&(A=void 0),f(d,t(A,3))}return some_1=u,some_1}var someExports=requireSome();const some=getDefaultExportFromCjs(someExports);var ifOverflowMatches=function(t,n){var o=t.alwaysShow,l=t.ifOverflow;return o&&(l="extendDomain"),l===n},_baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var e=require_defineProperty();function t(n,o,l){o=="__proto__"&&e?e(n,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[o]=l}return _baseAssignValue=t,_baseAssignValue}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var e=require_baseAssignValue(),t=require_baseForOwn(),n=require_baseIteratee();function o(l,u){var d={};return u=n(u,3),t(l,function(A,m,f){e(d,m,u(A,m,f))}),d}return mapValues_1=o,mapValues_1}var mapValuesExports=requireMapValues();const mapValues=getDefaultExportFromCjs(mapValuesExports);var _arrayEvery,hasRequired_arrayEvery;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;hasRequired_arrayEvery=1;function e(t,n){for(var o=-1,l=t==null?0:t.length;++o<l;)if(!n(t[o],o,t))return!1;return!0}return _arrayEvery=e,_arrayEvery}var _baseEvery,hasRequired_baseEvery;function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var e=require_baseEach();function t(n,o){var l=!0;return e(n,function(u,d,A){return l=!!o(u,d,A),l}),l}return _baseEvery=t,_baseEvery}var every_1,hasRequiredEvery;function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var e=require_arrayEvery(),t=require_baseEvery(),n=require_baseIteratee(),o=requireIsArray(),l=require_isIterateeCall();function u(d,A,m){var f=o(d)?e:t;return m&&l(d,A,m)&&(A=void 0),f(d,n(A,3))}return every_1=u,every_1}var everyExports=requireEvery();const every=getDefaultExportFromCjs(everyExports);var _excluded$8=["x","y"];function _typeof$f(e){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$f(e)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$a.apply(this,arguments)}function ownKeys$c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$c(Object(n),!0).forEach(function(o){_defineProperty$f(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$f(e,t,n){return t=_toPropertyKey$f(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$f(e){var t=_toPrimitive$f(e,"string");return _typeof$f(t)=="symbol"?t:t+""}function _toPrimitive$f(e,t){if(_typeof$f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$f(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$7(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$6(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$6(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function typeguardBarRectangleProps(e,t){var n=e.x,o=e.y,l=_objectWithoutProperties$7(e,_excluded$8),u="".concat(n),d=parseInt(u,10),A="".concat(o),m=parseInt(A,10),f="".concat(t.height||l.height),g=parseInt(f,10),v="".concat(t.width||l.width),b=parseInt(v,10);return _objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},t),l),d?{x:d}:{}),m?{y:m}:{}),{},{height:g,width:b,name:t.name,radius:t.radius})}function BarRectangle(e){return React.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},e))}var minPointSizeCallback=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(o,l){if(typeof t=="number")return t;var u=isNumber(o)||isNullish(o);return u?t(o,l):(u||invariant(),n)}},_excluded$7=["value","background"],_Bar;function _typeof$e(e){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$e(e)}function _objectWithoutProperties$6(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$5(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$5(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$9.apply(this,arguments)}function ownKeys$b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$b(Object(n),!0).forEach(function(o){_defineProperty$e(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$e(o.key),o)}}function _createClass$b(e,t,n){return t&&_defineProperties$a(e.prototype,t),n&&_defineProperties$a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$8(e,t,n){return t=_getPrototypeOf$9(t),_possibleConstructorReturn$9(e,_isNativeReflectConstruct$9()?Reflect.construct(t,n||[],_getPrototypeOf$9(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$9(e,t){if(t&&(_typeof$e(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(e)}function _assertThisInitialized$8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!e})()}function _getPrototypeOf$9(e){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$9(e)}function _inherits$9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$8(e,t)}function _setPrototypeOf$8(e,t){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$8(e,t)}function _defineProperty$e(e,t,n){return t=_toPropertyKey$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$e(e){var t=_toPrimitive$e(e,"string");return _typeof$e(t)=="symbol"?t:t+""}function _toPrimitive$e(e,t){if(_typeof$e(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bar=(function(e){function t(){var n;_classCallCheck$b(this,t);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$8(this,t,[].concat(l)),_defineProperty$e(n,"state",{isAnimationFinished:!1}),_defineProperty$e(n,"id",uniqueId("recharts-bar-")),_defineProperty$e(n,"handleAnimationEnd",function(){var d=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),d&&d()}),_defineProperty$e(n,"handleAnimationStart",function(){var d=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),d&&d()}),n}return _inherits$9(t,e),_createClass$b(t,[{key:"renderRectanglesStatically",value:function(o){var l=this,u=this.props,d=u.shape,A=u.dataKey,m=u.activeIndex,f=u.activeBar,g=filterProps(this.props,!1);return o&&o.map(function(v,b){var w=b===m,j=w?f:d,E=_objectSpread$a(_objectSpread$a(_objectSpread$a({},g),v),{},{isActive:w,option:j,index:b,dataKey:A,onAnimationStart:l.handleAnimationStart,onAnimationEnd:l.handleAnimationEnd});return React.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(l.props,v,b),{key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(b)}),React.createElement(BarRectangle,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var o=this,l=this.props,u=l.data,d=l.layout,A=l.isAnimationActive,m=l.animationBegin,f=l.animationDuration,g=l.animationEasing,v=l.animationId,b=this.state.prevData;return React.createElement(Animate,{begin:m,duration:f,isActive:A,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t,E=u.map(function(R,_){var N=b&&b[_];if(N){var B=interpolateNumber$2(N.x,R.x),M=interpolateNumber$2(N.y,R.y),O=interpolateNumber$2(N.width,R.width),F=interpolateNumber$2(N.height,R.height);return _objectSpread$a(_objectSpread$a({},R),{},{x:B(j),y:M(j),width:O(j),height:F(j)})}if(d==="horizontal"){var $=interpolateNumber$2(0,R.height),z=$(j);return _objectSpread$a(_objectSpread$a({},R),{},{y:R.y+R.height-z,height:z})}var se=interpolateNumber$2(0,R.width),ce=se(j);return _objectSpread$a(_objectSpread$a({},R),{},{width:ce})});return React.createElement(Layer,null,o.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var o=this.props,l=o.data,u=o.isAnimationActive,d=this.state.prevData;return u&&l&&l.length&&(!d||!isEqual(d,l))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(l)}},{key:"renderBackground",value:function(){var o=this,l=this.props,u=l.data,d=l.dataKey,A=l.activeIndex,m=filterProps(this.props.background,!1);return u.map(function(f,g){f.value;var v=f.background,b=_objectWithoutProperties$6(f,_excluded$7);if(!v)return null;var w=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},b),{},{fill:"#eee"},v),m),adaptEventsOfChild(o.props,f,g)),{},{onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd,dataKey:d,index:g,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(g),option:o.props.background,isActive:g===A},w))})}},{key:"renderErrorBar",value:function(o,l){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.data,A=u.xAxis,m=u.yAxis,f=u.layout,g=u.children,v=findAllByType(g,ErrorBar);if(!v)return null;var b=f==="vertical"?d[0].height/2:d[0].width/2,w=function(R,_){var N=Array.isArray(R.value)?R.value[1]:R.value;return{x:R.x,y:R.y,value:N,errorVal:getValueByDataKey(R,_)}},j={clipPath:o?"url(#clipPath-".concat(l,")"):null};return React.createElement(Layer,j,v.map(function(E){return React.cloneElement(E,{key:"error-bar-".concat(l,"-").concat(E.props.dataKey),data:d,xAxis:A,yAxis:m,layout:f,offset:b,dataPointFormatter:w})}))}},{key:"render",value:function(){var o=this.props,l=o.hide,u=o.data,d=o.className,A=o.xAxis,m=o.yAxis,f=o.left,g=o.top,v=o.width,b=o.height,w=o.isAnimationActive,j=o.background,E=o.id;if(l||!u||!u.length)return null;var R=this.state.isAnimationFinished,_=clsx("recharts-bar",d),N=A&&A.allowDataOverflow,B=m&&m.allowDataOverflow,M=N||B,O=isNil(E)?this.id:E;return React.createElement(Layer,{className:_},N||B?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(O)},React.createElement("rect",{x:N?f:f-v/2,y:B?g:g-b/2,width:N?v:v*2,height:B?b:b*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(O,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,O),(!w||R)&&LabelList.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(o,l){return o.animationId!==l.prevAnimationId?{prevAnimationId:o.animationId,curData:o.data,prevData:l.curData}:o.data!==l.curData?{curData:o.data}:null}}])})(reactExports.PureComponent);_Bar=Bar;_defineProperty$e(Bar,"displayName","Bar");_defineProperty$e(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$e(Bar,"getComposedData",function(e){var t=e.props,n=e.item,o=e.barPosition,l=e.bandSize,u=e.xAxis,d=e.yAxis,A=e.xAxisTicks,m=e.yAxisTicks,f=e.stackedData,g=e.dataStartIndex,v=e.displayedData,b=e.offset,w=findPositionOfBar(o,n);if(!w)return null;var j=t.layout,E=n.type.defaultProps,R=E!==void 0?_objectSpread$a(_objectSpread$a({},E),n.props):n.props,_=R.dataKey,N=R.children,B=R.minPointSize,M=j==="horizontal"?d:u,O=f?M.scale.domain():null,F=getBaseValueOfBar({numericAxis:M}),$=findAllByType(N,Cell),z=v.map(function(se,ce){var ie,pe,xe,Ae,ue,Y;f?ie=truncateByDomain(f[g+ce],O):(ie=getValueByDataKey(se,_),Array.isArray(ie)||(ie=[F,ie]));var fe=minPointSizeCallback(B,_Bar.defaultProps.minPointSize)(ie[1],ce);if(j==="horizontal"){var H,le=[d.scale(ie[0]),d.scale(ie[1])],de=le[0],ye=le[1];pe=getCateCoordinateOfBar({axis:u,ticks:A,bandSize:l,offset:w.offset,entry:se,index:ce}),xe=(H=ye??de)!==null&&H!==void 0?H:void 0,Ae=w.size;var ge=de-ye;if(ue=Number.isNaN(ge)?0:ge,Y={x:pe,y:d.y,width:Ae,height:d.height},Math.abs(fe)>0&&Math.abs(ue)<Math.abs(fe)){var je=mathSign(ue||fe)*(Math.abs(fe)-Math.abs(ue));xe-=je,ue+=je}}else{var Me=[u.scale(ie[0]),u.scale(ie[1])],He=Me[0],Qe=Me[1];if(pe=He,xe=getCateCoordinateOfBar({axis:d,ticks:m,bandSize:l,offset:w.offset,entry:se,index:ce}),Ae=Qe-He,ue=w.size,Y={x:u.x,y:xe,width:u.width,height:ue},Math.abs(fe)>0&&Math.abs(Ae)<Math.abs(fe)){var ze=mathSign(Ae||fe)*(Math.abs(fe)-Math.abs(Ae));Ae+=ze}}return _objectSpread$a(_objectSpread$a(_objectSpread$a({},se),{},{x:pe,y:xe,width:Ae,height:ue,value:f?ie:ie[1],payload:se,background:Y},$&&$[ce]&&$[ce].props),{},{tooltipPayload:[getTooltipItem(n,se)],tooltipPosition:{x:pe+Ae/2,y:xe+ue/2}})});return _objectSpread$a({data:z,layout:j},b)});function _typeof$d(e){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$d(e)}function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$d(o.key),o)}}function _createClass$a(e,t,n){return t&&_defineProperties$9(e.prototype,t),n&&_defineProperties$9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ownKeys$a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$a(Object(n),!0).forEach(function(o){_defineProperty$d(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$d(e,t,n){return t=_toPropertyKey$d(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$d(e){var t=_toPrimitive$d(e,"string");return _typeof$d(t)=="symbol"?t:t+""}function _toPrimitive$d(e,t){if(_typeof$d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$d(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var formatAxisMap=function(t,n,o,l,u){var d=t.width,A=t.height,m=t.layout,f=t.children,g=Object.keys(n),v={left:o.left,leftMirror:o.left,right:d-o.right,rightMirror:d-o.right,top:o.top,topMirror:o.top,bottom:A-o.bottom,bottomMirror:A-o.bottom},b=!!findChildByType(f,Bar);return g.reduce(function(w,j){var E=n[j],R=E.orientation,_=E.domain,N=E.padding,B=N===void 0?{}:N,M=E.mirror,O=E.reversed,F="".concat(R).concat(M?"Mirror":""),$,z,se,ce,ie;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var pe=_[1]-_[0],xe=1/0,Ae=E.categoricalDomain.sort(compareValues);if(Ae.forEach(function(Me,He){He>0&&(xe=Math.min((Me||0)-(Ae[He-1]||0),xe))}),Number.isFinite(xe)){var ue=xe/pe,Y=E.layout==="vertical"?o.height:o.width;if(E.padding==="gap"&&($=ue*Y/2),E.padding==="no-gap"){var fe=getPercentValue(t.barCategoryGap,ue*Y),H=ue*Y/2;$=H-fe-(H-fe)/Y*fe}}}l==="xAxis"?z=[o.left+(B.left||0)+($||0),o.left+o.width-(B.right||0)-($||0)]:l==="yAxis"?z=m==="horizontal"?[o.top+o.height-(B.bottom||0),o.top+(B.top||0)]:[o.top+(B.top||0)+($||0),o.top+o.height-(B.bottom||0)-($||0)]:z=E.range,O&&(z=[z[1],z[0]]);var le=parseScale(E,u,b),de=le.scale,ye=le.realScaleType;de.domain(_).range(z),checkDomainOfScale(de);var ge=getTicksOfScale(de,_objectSpread$9(_objectSpread$9({},E),{},{realScaleType:ye}));l==="xAxis"?(ie=R==="top"&&!M||R==="bottom"&&M,se=o.left,ce=v[F]-ie*E.height):l==="yAxis"&&(ie=R==="left"&&!M||R==="right"&&M,se=v[F]-ie*E.width,ce=o.top);var je=_objectSpread$9(_objectSpread$9(_objectSpread$9({},E),ge),{},{realScaleType:ye,x:se,y:ce,scale:de,width:l==="xAxis"?o.width:E.width,height:l==="yAxis"?o.height:E.height});return je.bandSize=getBandSizeOfAxis(je,ge),!E.hide&&l==="xAxis"?v[F]+=(ie?-1:1)*je.height:E.hide||(v[F]+=(ie?-1:1)*je.width),_objectSpread$9(_objectSpread$9({},w),{},_defineProperty$d({},j,je))},{})},rectWithPoints=function(t,n){var o=t.x,l=t.y,u=n.x,d=n.y;return{x:Math.min(o,u),y:Math.min(l,d),width:Math.abs(u-o),height:Math.abs(d-l)}},rectWithCoords=function(t){var n=t.x1,o=t.y1,l=t.x2,u=t.y2;return rectWithPoints({x:n,y:o},{x:l,y:u})},ScaleHelper=(function(){function e(t){_classCallCheck$a(this,e),this.scale=t}return _createClass$a(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;if(n!==void 0){if(u)switch(u){case"start":return this.scale(n);case"middle":{var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}case"end":{var A=this.bandwidth?this.bandwidth():0;return this.scale(n)+A}default:return this.scale(n)}if(l){var m=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+m}return this.scale(n)}}},{key:"isInRange",value:function(n){var o=this.range(),l=o[0],u=o[o.length-1];return l<=u?n>=l&&n<=u:n>=u&&n<=l}}],[{key:"create",value:function(n){return new e(n)}}])})();_defineProperty$d(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(t){var n=Object.keys(t).reduce(function(o,l){return _objectSpread$9(_objectSpread$9({},o),{},_defineProperty$d({},l,ScaleHelper.create(t[l])))},{});return _objectSpread$9(_objectSpread$9({},n),{},{apply:function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=u.bandAware,A=u.position;return mapValues(l,function(m,f){return n[f].apply(m,{bandAware:d,position:A})})},isInRange:function(l){return every(l,function(u,d){return n[d].isInRange(u)})}})};function normalizeAngle(e){return(e%180+180)%180}var getAngledRectangleWidth=function(t){var n=t.width,o=t.height,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=normalizeAngle(l),d=u*Math.PI/180,A=Math.atan(o/n),m=d>A&&d<Math.PI-A?o/Math.sin(d):n/Math.cos(d);return Math.abs(m)},_createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var e=require_baseIteratee(),t=requireIsArrayLike(),n=requireKeys();function o(l){return function(u,d,A){var m=Object(u);if(!t(u)){var f=e(d,3);u=n(u),d=function(v){return f(m[v],v,m)}}var g=l(u,d,A);return g>-1?m[f?u[g]:g]:void 0}}return _createFind=o,_createFind}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var e=requireToFinite();function t(n){var o=e(n),l=o%1;return o===o?l?o-l:o:0}return toInteger_1=t,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var e=require_baseFindIndex(),t=require_baseIteratee(),n=requireToInteger(),o=Math.max;function l(u,d,A){var m=u==null?0:u.length;if(!m)return-1;var f=A==null?0:n(A);return f<0&&(f=o(m+f,0)),e(u,t(d,3),f)}return findIndex_1=l,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var e=require_createFind(),t=requireFindIndex(),n=e(t);return find_1=n,find_1}var findExports=requireFind();const find$2=getDefaultExportFromCjs(findExports);var memoizeExports=requireMemoize();const memoize=getDefaultExportFromCjs(memoizeExports);var calculateViewBox=memoize(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(t){var n=t.state,o=n.xAxisMap,l=n.yAxisMap,u=n.offset,d=t.clipPathId,A=t.children,m=t.width,f=t.height,g=calculateViewBox(u);return React.createElement(XAxisContext.Provider,{value:o},React.createElement(YAxisContext.Provider,{value:l},React.createElement(OffsetContext.Provider,{value:u},React.createElement(ViewBoxContext.Provider,{value:g},React.createElement(ClipPathIdContext.Provider,{value:d},React.createElement(ChartHeightContext.Provider,{value:f},React.createElement(ChartWidthContext.Provider,{value:m},A)))))))},useClipPathId=function(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function(t){var n=reactExports.useContext(XAxisContext);n==null&&invariant();var o=n[t];return o==null&&invariant(),o},useArbitraryXAxis=function(){var t=reactExports.useContext(XAxisContext);return getAnyElementOfObject(t)},useYAxisWithFiniteDomainOrRandom=function(){var t=reactExports.useContext(YAxisContext),n=find$2(t,function(o){return every(o.domain,Number.isFinite)});return n||getAnyElementOfObject(t)},useYAxisOrThrow=function(t){var n=reactExports.useContext(YAxisContext);n==null&&invariant();var o=n[t];return o==null&&invariant(),o},useViewBox=function(){var t=reactExports.useContext(ViewBoxContext);return t},useOffset=function(){return reactExports.useContext(OffsetContext)},useChartWidth=function(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function(){return reactExports.useContext(ChartHeightContext)};function _typeof$c(e){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$c(e)}function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$c(o.key),o)}}function _createClass$9(e,t,n){return t&&_defineProperties$8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$7(e,t,n){return t=_getPrototypeOf$8(t),_possibleConstructorReturn$8(e,_isNativeReflectConstruct$8()?Reflect.construct(t,n||[],_getPrototypeOf$8(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$8(e,t){if(t&&(_typeof$c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(e)}function _assertThisInitialized$7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!e})()}function _getPrototypeOf$8(e){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$8(e)}function _inherits$8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$7(e,t)}function _setPrototypeOf$7(e,t){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$7(e,t)}function ownKeys$9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$9(Object(n),!0).forEach(function(o){_defineProperty$c(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$c(e,t,n){return t=_toPropertyKey$c(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$c(e){var t=_toPrimitive$c(e,"string");return _typeof$c(t)=="symbol"?t:t+""}function _toPrimitive$c(e,t){if(_typeof$c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$c(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _slicedToArray$2(e,t){return _arrayWithHoles$2(e)||_iterableToArrayLimit$2(e,t)||_unsupportedIterableToArray$4(e,t)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$4(e,t)}}function _arrayLikeToArray$4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit$2(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$2(e){if(Array.isArray(e))return e}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$8.apply(this,arguments)}var renderLine=function(t,n){var o;return React.isValidElement(t)?o=React.cloneElement(t,n):isFunction(t)?o=t(n):o=React.createElement("line",_extends$8({},n,{className:"recharts-reference-line-line"})),o},getEndPoints=function(t,n,o,l,u,d,A,m,f){var g=u.x,v=u.y,b=u.width,w=u.height;if(o){var j=f.y,E=t.y.apply(j,{position:d});if(ifOverflowMatches(f,"discard")&&!t.y.isInRange(E))return null;var R=[{x:g+b,y:E},{x:g,y:E}];return m==="left"?R.reverse():R}if(n){var _=f.x,N=t.x.apply(_,{position:d});if(ifOverflowMatches(f,"discard")&&!t.x.isInRange(N))return null;var B=[{x:N,y:v+w},{x:N,y:v}];return A==="top"?B.reverse():B}if(l){var M=f.segment,O=M.map(function(F){return t.apply(F,{position:d})});return ifOverflowMatches(f,"discard")&&some(O,function(F){return!t.isInRange(F)})?null:O}return null};function ReferenceLineImpl(e){var t=e.x,n=e.y,o=e.segment,l=e.xAxisId,u=e.yAxisId,d=e.shape,A=e.className,m=e.alwaysShow,f=useClipPathId(),g=useXAxisOrThrow(l),v=useYAxisOrThrow(u),b=useViewBox();if(!f||!b)return null;warn(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=createLabeledScales({x:g.scale,y:v.scale}),j=isNumOrStr(t),E=isNumOrStr(n),R=o&&o.length===2,_=getEndPoints(w,j,E,R,b,e.position,g.orientation,v.orientation,e);if(!_)return null;var N=_slicedToArray$2(_,2),B=N[0],M=B.x,O=B.y,F=N[1],$=F.x,z=F.y,se=ifOverflowMatches(e,"hidden")?"url(#".concat(f,")"):void 0,ce=_objectSpread$8(_objectSpread$8({clipPath:se},filterProps(e,!0)),{},{x1:M,y1:O,x2:$,y2:z});return React.createElement(Layer,{className:clsx("recharts-reference-line",A)},renderLine(d,ce),Label.renderCallByParent(e,rectWithCoords({x1:M,y1:O,x2:$,y2:z})))}var ReferenceLine=(function(e){function t(){return _classCallCheck$9(this,t),_callSuper$7(this,t,arguments)}return _inherits$8(t,e),_createClass$9(t,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])})(React.Component);_defineProperty$c(ReferenceLine,"displayName","ReferenceLine");_defineProperty$c(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$7.apply(this,arguments)}function _typeof$b(e){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$b(e)}function ownKeys$8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$8(Object(n),!0).forEach(function(o){_defineProperty$b(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$b(o.key),o)}}function _createClass$8(e,t,n){return t&&_defineProperties$7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$6(e,t,n){return t=_getPrototypeOf$7(t),_possibleConstructorReturn$7(e,_isNativeReflectConstruct$7()?Reflect.construct(t,n||[],_getPrototypeOf$7(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$7(e,t){if(t&&(_typeof$b(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(e)}function _assertThisInitialized$6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!e})()}function _getPrototypeOf$7(e){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$7(e)}function _inherits$7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$6(e,t)}function _setPrototypeOf$6(e,t){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$6(e,t)}function _defineProperty$b(e,t,n){return t=_toPropertyKey$b(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$b(e){var t=_toPrimitive$b(e,"string");return _typeof$b(t)=="symbol"?t:t+""}function _toPrimitive$b(e,t){if(_typeof$b(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$b(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var getCoordinate=function(t){var n=t.x,o=t.y,l=t.xAxis,u=t.yAxis,d=createLabeledScales({x:l.scale,y:u.scale}),A=d.apply({x:n,y:o},{bandAware:!0});return ifOverflowMatches(t,"discard")&&!d.isInRange(A)?null:A},ReferenceDot=(function(e){function t(){return _classCallCheck$8(this,t),_callSuper$6(this,t,arguments)}return _inherits$7(t,e),_createClass$8(t,[{key:"render",value:function(){var o=this.props,l=o.x,u=o.y,d=o.r,A=o.alwaysShow,m=o.clipPathId,f=isNumOrStr(l),g=isNumOrStr(u);if(warn(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!g)return null;var v=getCoordinate(this.props);if(!v)return null;var b=v.x,w=v.y,j=this.props,E=j.shape,R=j.className,_=ifOverflowMatches(this.props,"hidden")?"url(#".concat(m,")"):void 0,N=_objectSpread$7(_objectSpread$7({clipPath:_},filterProps(this.props,!0)),{},{cx:b,cy:w});return React.createElement(Layer,{className:clsx("recharts-reference-dot",R)},t.renderDot(E,N),Label.renderCallByParent(this.props,{x:b-d,y:w-d,width:2*d,height:2*d}))}}])})(React.Component);_defineProperty$b(ReferenceDot,"displayName","ReferenceDot");_defineProperty$b(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$b(ReferenceDot,"renderDot",function(e,t){var n;return React.isValidElement(e)?n=React.cloneElement(e,t):isFunction(e)?n=e(t):n=React.createElement(Dot,_extends$7({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$6.apply(this,arguments)}function _typeof$a(e){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$a(e)}function ownKeys$7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$7(Object(n),!0).forEach(function(o){_defineProperty$a(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$a(o.key),o)}}function _createClass$7(e,t,n){return t&&_defineProperties$6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$5(e,t,n){return t=_getPrototypeOf$6(t),_possibleConstructorReturn$6(e,_isNativeReflectConstruct$6()?Reflect.construct(t,n||[],_getPrototypeOf$6(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$6(e,t){if(t&&(_typeof$a(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(e)}function _assertThisInitialized$5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!e})()}function _getPrototypeOf$6(e){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$6(e)}function _inherits$6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$5(e,t)}function _setPrototypeOf$5(e,t){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$5(e,t)}function _defineProperty$a(e,t,n){return t=_toPropertyKey$a(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$a(e){var t=_toPrimitive$a(e,"string");return _typeof$a(t)=="symbol"?t:t+""}function _toPrimitive$a(e,t){if(_typeof$a(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$a(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var getRect=function(t,n,o,l,u){var d=u.x1,A=u.x2,m=u.y1,f=u.y2,g=u.xAxis,v=u.yAxis;if(!g||!v)return null;var b=createLabeledScales({x:g.scale,y:v.scale}),w={x:t?b.x.apply(d,{position:"start"}):b.x.rangeMin,y:o?b.y.apply(m,{position:"start"}):b.y.rangeMin},j={x:n?b.x.apply(A,{position:"end"}):b.x.rangeMax,y:l?b.y.apply(f,{position:"end"}):b.y.rangeMax};return ifOverflowMatches(u,"discard")&&(!b.isInRange(w)||!b.isInRange(j))?null:rectWithPoints(w,j)},ReferenceArea=(function(e){function t(){return _classCallCheck$7(this,t),_callSuper$5(this,t,arguments)}return _inherits$6(t,e),_createClass$7(t,[{key:"render",value:function(){var o=this.props,l=o.x1,u=o.x2,d=o.y1,A=o.y2,m=o.className,f=o.alwaysShow,g=o.clipPathId;warn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=isNumOrStr(l),b=isNumOrStr(u),w=isNumOrStr(d),j=isNumOrStr(A),E=this.props.shape;if(!v&&!b&&!w&&!j&&!E)return null;var R=getRect(v,b,w,j,this.props);if(!R&&!E)return null;var _=ifOverflowMatches(this.props,"hidden")?"url(#".concat(g,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",m)},t.renderRect(E,_objectSpread$6(_objectSpread$6({clipPath:_},filterProps(this.props,!0)),R)),Label.renderCallByParent(this.props,R))}}])})(React.Component);_defineProperty$a(ReferenceArea,"displayName","ReferenceArea");_defineProperty$a(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$a(ReferenceArea,"renderRect",function(e,t){var n;return React.isValidElement(e)?n=React.cloneElement(e,t):isFunction(e)?n=e(t):n=React.createElement(Rectangle,_extends$6({},t,{className:"recharts-reference-area-rect"})),n});function getEveryNthWithCondition(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var o=[],l=0;l<e.length;l+=t)o.push(e[l]);return o}function getAngledTickWidth(e,t,n){var o={width:e.width+t.width,height:e.height+t.height};return getAngledRectangleWidth(o,n)}function getTickBoundaries(e,t,n){var o=n==="width",l=e.x,u=e.y,d=e.width,A=e.height;return t===1?{start:o?l:u,end:o?l+d:u+A}:{start:o?l+d:u+A,end:o?l:u}}function isVisible(e,t,n,o,l){if(e*t<e*o||e*t>e*l)return!1;var u=n();return e*(t-e*u/2-o)>=0&&e*(t+e*u/2-l)<=0}function getNumberIntervalTicks(e,t){return getEveryNthWithCondition(e,t+1)}function getEquidistantTicks(e,t,n,o,l){for(var u=(o||[]).slice(),d=t.start,A=t.end,m=0,f=1,g=d,v=function(){var j=o?.[m];if(j===void 0)return{v:getEveryNthWithCondition(o,f)};var E=m,R,_=function(){return R===void 0&&(R=n(j,E)),R},N=j.coordinate,B=m===0||isVisible(e,N,_,g,A);B||(m=0,g=d,f+=1),B&&(g=N+e*(_()/2+l),m+=f)},b;f<=u.length;)if(b=v(),b)return b.v;return[]}function _typeof$9(e){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$9(e)}function ownKeys$6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$6(Object(n),!0).forEach(function(o){_defineProperty$9(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$9(e,t,n){return t=_toPropertyKey$9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$9(e){var t=_toPrimitive$9(e,"string");return _typeof$9(t)=="symbol"?t:t+""}function _toPrimitive$9(e,t){if(_typeof$9(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$9(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getTicksEnd(e,t,n,o,l){for(var u=(o||[]).slice(),d=u.length,A=t.start,m=t.end,f=function(b){var w=u[b],j,E=function(){return j===void 0&&(j=n(w,b)),j};if(b===d-1){var R=e*(w.coordinate+e*E()/2-m);u[b]=w=_objectSpread$5(_objectSpread$5({},w),{},{tickCoord:R>0?w.coordinate-R*e:w.coordinate})}else u[b]=w=_objectSpread$5(_objectSpread$5({},w),{},{tickCoord:w.coordinate});var _=isVisible(e,w.tickCoord,E,A,m);_&&(m=w.tickCoord-e*(E()/2+l),u[b]=_objectSpread$5(_objectSpread$5({},w),{},{isShow:!0}))},g=d-1;g>=0;g--)f(g);return u}function getTicksStart(e,t,n,o,l,u){var d=(o||[]).slice(),A=d.length,m=t.start,f=t.end;if(u){var g=o[A-1],v=n(g,A-1),b=e*(g.coordinate+e*v/2-f);d[A-1]=g=_objectSpread$5(_objectSpread$5({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate});var w=isVisible(e,g.tickCoord,function(){return v},m,f);w&&(f=g.tickCoord-e*(v/2+l),d[A-1]=_objectSpread$5(_objectSpread$5({},g),{},{isShow:!0}))}for(var j=u?A-1:A,E=function(N){var B=d[N],M,O=function(){return M===void 0&&(M=n(B,N)),M};if(N===0){var F=e*(B.coordinate-e*O()/2-m);d[N]=B=_objectSpread$5(_objectSpread$5({},B),{},{tickCoord:F<0?B.coordinate-F*e:B.coordinate})}else d[N]=B=_objectSpread$5(_objectSpread$5({},B),{},{tickCoord:B.coordinate});var $=isVisible(e,B.tickCoord,O,m,f);$&&(m=B.tickCoord+e*(O()/2+l),d[N]=_objectSpread$5(_objectSpread$5({},B),{},{isShow:!0}))},R=0;R<j;R++)E(R);return d}function getTicks(e,t,n){var o=e.tick,l=e.ticks,u=e.viewBox,d=e.minTickGap,A=e.orientation,m=e.interval,f=e.tickFormatter,g=e.unit,v=e.angle;if(!l||!l.length||!o)return[];if(isNumber(m)||Global.isSsr)return getNumberIntervalTicks(l,typeof m=="number"&&isNumber(m)?m:0);var b=[],w=A==="top"||A==="bottom"?"width":"height",j=g&&w==="width"?getStringSize(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=function(B,M){var O=isFunction(f)?f(B.value,M):B.value;return w==="width"?getAngledTickWidth(getStringSize(O,{fontSize:t,letterSpacing:n}),j,v):getStringSize(O,{fontSize:t,letterSpacing:n})[w]},R=l.length>=2?mathSign(l[1].coordinate-l[0].coordinate):1,_=getTickBoundaries(u,R,w);return m==="equidistantPreserveStart"?getEquidistantTicks(R,_,E,l,d):(m==="preserveStart"||m==="preserveStartEnd"?b=getTicksStart(R,_,E,l,d,m==="preserveStartEnd"):b=getTicksEnd(R,_,E,l,d),b.filter(function(N){return N.isShow}))}var _excluded$6=["viewBox"],_excluded2$3=["viewBox"],_excluded3=["ticks"];function _typeof$8(e){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$8(e)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$5.apply(this,arguments)}function ownKeys$5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$5(Object(n),!0).forEach(function(o){_defineProperty$8(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _objectWithoutProperties$5(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$4(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$4(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$8(o.key),o)}}function _createClass$6(e,t,n){return t&&_defineProperties$5(e.prototype,t),n&&_defineProperties$5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$4(e,t,n){return t=_getPrototypeOf$5(t),_possibleConstructorReturn$5(e,_isNativeReflectConstruct$5()?Reflect.construct(t,n||[],_getPrototypeOf$5(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$5(e,t){if(t&&(_typeof$8(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(e)}function _assertThisInitialized$4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!e})()}function _getPrototypeOf$5(e){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$5(e)}function _inherits$5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$4(e,t)}function _setPrototypeOf$4(e,t){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$4(e,t)}function _defineProperty$8(e,t,n){return t=_toPropertyKey$8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$8(e){var t=_toPrimitive$8(e,"string");return _typeof$8(t)=="symbol"?t:t+""}function _toPrimitive$8(e,t){if(_typeof$8(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$8(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CartesianAxis=(function(e){function t(n){var o;return _classCallCheck$6(this,t),o=_callSuper$4(this,t,[n]),o.state={fontSize:"",letterSpacing:""},o}return _inherits$5(t,e),_createClass$6(t,[{key:"shouldComponentUpdate",value:function(o,l){var u=o.viewBox,d=_objectWithoutProperties$5(o,_excluded$6),A=this.props,m=A.viewBox,f=_objectWithoutProperties$5(A,_excluded2$3);return!shallowEqual(u,m)||!shallowEqual(d,f)||!shallowEqual(l,this.state)}},{key:"componentDidMount",value:function(){var o=this.layerReference;if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];l&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}},{key:"getTickLineCoord",value:function(o){var l=this.props,u=l.x,d=l.y,A=l.width,m=l.height,f=l.orientation,g=l.tickSize,v=l.mirror,b=l.tickMargin,w,j,E,R,_,N,B=v?-1:1,M=o.tickSize||g,O=isNumber(o.tickCoord)?o.tickCoord:o.coordinate;switch(f){case"top":w=j=o.coordinate,R=d+ +!v*m,E=R-B*M,N=E-B*b,_=O;break;case"left":E=R=o.coordinate,j=u+ +!v*A,w=j-B*M,_=w-B*b,N=O;break;case"right":E=R=o.coordinate,j=u+ +v*A,w=j+B*M,_=w+B*b,N=O;break;default:w=j=o.coordinate,R=d+ +v*m,E=R+B*M,N=E+B*b,_=O;break}return{line:{x1:w,y1:E,x2:j,y2:R},tick:{x:_,y:N}}}},{key:"getTickTextAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,d;switch(l){case"left":d=u?"start":"end";break;case"right":d=u?"end":"start";break;default:d="middle";break}return d}},{key:"getTickVerticalAnchor",value:function(){var o=this.props,l=o.orientation,u=o.mirror,d="end";switch(l){case"left":case"right":d="middle";break;case"top":d=u?"start":"end";break;default:d=u?"end":"start";break}return d}},{key:"renderAxisLine",value:function(){var o=this.props,l=o.x,u=o.y,d=o.width,A=o.height,m=o.orientation,f=o.mirror,g=o.axisLine,v=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(this.props,!1)),filterProps(g,!1)),{},{fill:"none"});if(m==="top"||m==="bottom"){var b=+(m==="top"&&!f||m==="bottom"&&f);v=_objectSpread$4(_objectSpread$4({},v),{},{x1:l,y1:u+b*A,x2:l+d,y2:u+b*A})}else{var w=+(m==="left"&&!f||m==="right"&&f);v=_objectSpread$4(_objectSpread$4({},v),{},{x1:l+w*d,y1:u,x2:l+w*d,y2:u+A})}return React.createElement("line",_extends$5({},v,{className:clsx("recharts-cartesian-axis-line",get$2(g,"className"))}))}},{key:"renderTicks",value:function(o,l,u){var d=this,A=this.props,m=A.tickLine,f=A.stroke,g=A.tick,v=A.tickFormatter,b=A.unit,w=getTicks(_objectSpread$4(_objectSpread$4({},this.props),{},{ticks:o}),l,u),j=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),R=filterProps(this.props,!1),_=filterProps(g,!1),N=_objectSpread$4(_objectSpread$4({},R),{},{fill:"none"},filterProps(m,!1)),B=w.map(function(M,O){var F=d.getTickLineCoord(M),$=F.line,z=F.tick,se=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:j,verticalAnchor:E},R),{},{stroke:"none",fill:f},_),z),{},{index:O,payload:M,visibleTicksCount:w.length,tickFormatter:v});return React.createElement(Layer,_extends$5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},adaptEventsOfChild(d.props,M,O)),m&&React.createElement("line",_extends$5({},N,$,{className:clsx("recharts-cartesian-axis-tick-line",get$2(m,"className"))})),g&&t.renderTickItem(g,se,"".concat(isFunction(v)?v(M.value,O):M.value).concat(b||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},B)}},{key:"render",value:function(){var o=this,l=this.props,u=l.axisLine,d=l.width,A=l.height,m=l.ticksGenerator,f=l.className,g=l.hide;if(g)return null;var v=this.props,b=v.ticks,w=_objectWithoutProperties$5(v,_excluded3),j=b;return isFunction(m)&&(j=b&&b.length>0?m(this.props):m(w)),d<=0||A<=0||!j||!j.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",f),ref:function(R){o.layerReference=R}},u&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(o,l,u){var d,A=clsx(l.className,"recharts-cartesian-axis-tick-value");return React.isValidElement(o)?d=React.cloneElement(o,_objectSpread$4(_objectSpread$4({},l),{},{className:A})):isFunction(o)?d=o(_objectSpread$4(_objectSpread$4({},l),{},{className:A})):d=React.createElement(Text,_extends$5({},l,{className:"recharts-cartesian-axis-tick-value"}),u),d}}])})(reactExports.Component);_defineProperty$8(CartesianAxis,"displayName","CartesianAxis");_defineProperty$8(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$5=["x1","y1","x2","y2","key"],_excluded2$2=["offset"];function _typeof$7(e){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$7(e)}function ownKeys$4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$4(Object(n),!0).forEach(function(o){_defineProperty$7(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$7(e,t,n){return t=_toPropertyKey$7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$7(e){var t=_toPrimitive$7(e,"string");return _typeof$7(t)=="symbol"?t:t+""}function _toPrimitive$7(e,t){if(_typeof$7(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$7(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$4.apply(this,arguments)}function _objectWithoutProperties$4(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$3(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$3(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}var Background$1=function(t){var n=t.fill;if(!n||n==="none")return null;var o=t.fillOpacity,l=t.x,u=t.y,d=t.width,A=t.height,m=t.ry;return React.createElement("rect",{x:l,y:u,ry:m,width:d,height:A,stroke:"none",fill:n,fillOpacity:o,className:"recharts-cartesian-grid-bg"})};function renderLineItem(e,t){var n;if(React.isValidElement(e))n=React.cloneElement(e,t);else if(isFunction(e))n=e(t);else{var o=t.x1,l=t.y1,u=t.x2,d=t.y2,A=t.key,m=_objectWithoutProperties$4(t,_excluded$5),f=filterProps(m,!1);f.offset;var g=_objectWithoutProperties$4(f,_excluded2$2);n=React.createElement("line",_extends$4({},g,{x1:o,y1:l,x2:u,y2:d,fill:"none",key:A}))}return n}function HorizontalGridLines(e){var t=e.x,n=e.width,o=e.horizontal,l=o===void 0?!0:o,u=e.horizontalPoints;if(!l||!u||!u.length)return null;var d=u.map(function(A,m){var f=_objectSpread$3(_objectSpread$3({},e),{},{x1:t,y1:A,x2:t+n,y2:A,key:"line-".concat(m),index:m});return renderLineItem(l,f)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function VerticalGridLines(e){var t=e.y,n=e.height,o=e.vertical,l=o===void 0?!0:o,u=e.verticalPoints;if(!l||!u||!u.length)return null;var d=u.map(function(A,m){var f=_objectSpread$3(_objectSpread$3({},e),{},{x1:A,y1:t,x2:A,y2:t+n,key:"line-".concat(m),index:m});return renderLineItem(l,f)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function HorizontalStripes(e){var t=e.horizontalFill,n=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,A=e.horizontalPoints,m=e.horizontal,f=m===void 0?!0:m;if(!f||!t||!t.length)return null;var g=A.map(function(b){return Math.round(b+l-l)}).sort(function(b,w){return b-w});l!==g[0]&&g.unshift(0);var v=g.map(function(b,w){var j=!g[w+1],E=j?l+d-b:g[w+1]-b;if(E<=0)return null;var R=w%t.length;return React.createElement("rect",{key:"react-".concat(w),y:b,x:o,height:E,width:u,stroke:"none",fill:t[R],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function VerticalStripes(e){var t=e.vertical,n=t===void 0?!0:t,o=e.verticalFill,l=e.fillOpacity,u=e.x,d=e.y,A=e.width,m=e.height,f=e.verticalPoints;if(!n||!o||!o.length)return null;var g=f.map(function(b){return Math.round(b+u-u)}).sort(function(b,w){return b-w});u!==g[0]&&g.unshift(0);var v=g.map(function(b,w){var j=!g[w+1],E=j?u+A-b:g[w+1]-b;if(E<=0)return null;var R=w%o.length;return React.createElement("rect",{key:"react-".concat(w),x:b,y:d,width:E,height:m,stroke:"none",fill:o[R],fillOpacity:l,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var defaultVerticalCoordinatesGenerator=function(t,n){var o=t.xAxis,l=t.width,u=t.height,d=t.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),o),{},{ticks:getTicksOfAxis(o,!0),viewBox:{x:0,y:0,width:l,height:u}})),d.left,d.left+d.width,n)},defaultHorizontalCoordinatesGenerator=function(t,n){var o=t.yAxis,l=t.width,u=t.height,d=t.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),o),{},{ticks:getTicksOfAxis(o,!0),viewBox:{x:0,y:0,width:l,height:u}})),d.top,d.top+d.height,n)},defaultProps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(e){var t,n,o,l,u,d,A=useChartWidth(),m=useChartHeight(),f=useOffset(),g=_objectSpread$3(_objectSpread$3({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:defaultProps.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:defaultProps.fill,horizontal:(o=e.horizontal)!==null&&o!==void 0?o:defaultProps.horizontal,horizontalFill:(l=e.horizontalFill)!==null&&l!==void 0?l:defaultProps.horizontalFill,vertical:(u=e.vertical)!==null&&u!==void 0?u:defaultProps.vertical,verticalFill:(d=e.verticalFill)!==null&&d!==void 0?d:defaultProps.verticalFill,x:isNumber(e.x)?e.x:f.left,y:isNumber(e.y)?e.y:f.top,width:isNumber(e.width)?e.width:f.width,height:isNumber(e.height)?e.height:f.height}),v=g.x,b=g.y,w=g.width,j=g.height,E=g.syncWithTicks,R=g.horizontalValues,_=g.verticalValues,N=useArbitraryXAxis(),B=useYAxisWithFiniteDomainOrRandom();if(!isNumber(w)||w<=0||!isNumber(j)||j<=0||!isNumber(v)||v!==+v||!isNumber(b)||b!==+b)return null;var M=g.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,O=g.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,F=g.horizontalPoints,$=g.verticalPoints;if((!F||!F.length)&&isFunction(O)){var z=R&&R.length,se=O({yAxis:B?_objectSpread$3(_objectSpread$3({},B),{},{ticks:z?R:B.ticks}):void 0,width:A,height:m,offset:f},z?!0:E);warn(Array.isArray(se),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$7(se),"]")),Array.isArray(se)&&(F=se)}if((!$||!$.length)&&isFunction(M)){var ce=_&&_.length,ie=M({xAxis:N?_objectSpread$3(_objectSpread$3({},N),{},{ticks:ce?_:N.ticks}):void 0,width:A,height:m,offset:f},ce?!0:E);warn(Array.isArray(ie),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$7(ie),"]")),Array.isArray(ie)&&($=ie)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background$1,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),React.createElement(HorizontalGridLines,_extends$4({},g,{offset:f,horizontalPoints:F,xAxis:N,yAxis:B})),React.createElement(VerticalGridLines,_extends$4({},g,{offset:f,verticalPoints:$,xAxis:N,yAxis:B})),React.createElement(HorizontalStripes,_extends$4({},g,{horizontalPoints:F})),React.createElement(VerticalStripes,_extends$4({},g,{verticalPoints:$})))}CartesianGrid.displayName="CartesianGrid";var _excluded$4=["type","layout","connectNulls","ref"],_excluded2$1=["key"];function _typeof$6(e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(e)}function _objectWithoutProperties$3(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$2(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$2(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$3.apply(this,arguments)}function ownKeys$3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$3(Object(n),!0).forEach(function(o){_defineProperty$6(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _toConsumableArray$2(e){return _arrayWithoutHoles$2(e)||_iterableToArray$2(e)||_unsupportedIterableToArray$3(e)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(e,t)}}function _iterableToArray$2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$2(e){if(Array.isArray(e))return _arrayLikeToArray$3(e)}function _arrayLikeToArray$3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$6(o.key),o)}}function _createClass$5(e,t,n){return t&&_defineProperties$4(e.prototype,t),n&&_defineProperties$4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$3(e,t,n){return t=_getPrototypeOf$4(t),_possibleConstructorReturn$4(e,_isNativeReflectConstruct$4()?Reflect.construct(t,n||[],_getPrototypeOf$4(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$4(e,t){if(t&&(_typeof$6(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(e)}function _assertThisInitialized$3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!e})()}function _getPrototypeOf$4(e){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$4(e)}function _inherits$4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$3(e,t)}function _setPrototypeOf$3(e,t){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$3(e,t)}function _defineProperty$6(e,t,n){return t=_toPropertyKey$6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$6(e){var t=_toPrimitive$6(e,"string");return _typeof$6(t)=="symbol"?t:t+""}function _toPrimitive$6(e,t){if(_typeof$6(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$6(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Line=(function(e){function t(){var n;_classCallCheck$5(this,t);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=_callSuper$3(this,t,[].concat(l)),_defineProperty$6(n,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$6(n,"generateSimpleStrokeDasharray",function(d,A){return"".concat(A,"px ").concat(d-A,"px")}),_defineProperty$6(n,"getStrokeDasharray",function(d,A,m){var f=m.reduce(function(_,N){return _+N});if(!f)return n.generateSimpleStrokeDasharray(A,d);for(var g=Math.floor(d/f),v=d%f,b=A-d,w=[],j=0,E=0;j<m.length;E+=m[j],++j)if(E+m[j]>v){w=[].concat(_toConsumableArray$2(m.slice(0,j)),[v-E]);break}var R=w.length%2===0?[0,b]:[b];return[].concat(_toConsumableArray$2(t.repeat(m,g)),_toConsumableArray$2(w),R).map(function(_){return"".concat(_,"px")}).join(", ")}),_defineProperty$6(n,"id",uniqueId("recharts-line-")),_defineProperty$6(n,"pathRef",function(d){n.mainCurve=d}),_defineProperty$6(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_defineProperty$6(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return _inherits$4(t,e),_createClass$5(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var o=this.getTotalLength();this.setState({totalLength:o})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var o=this.getTotalLength();o!==this.state.totalLength&&this.setState({totalLength:o})}}},{key:"getTotalLength",value:function(){var o=this.mainCurve;try{return o&&o.getTotalLength&&o.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(o,l){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.points,A=u.xAxis,m=u.yAxis,f=u.layout,g=u.children,v=findAllByType(g,ErrorBar);if(!v)return null;var b=function(E,R){return{x:E.x,y:E.y,value:E.value,errorVal:getValueByDataKey(E.payload,R)}},w={clipPath:o?"url(#clipPath-".concat(l,")"):null};return React.createElement(Layer,w,v.map(function(j){return React.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:d,xAxis:A,yAxis:m,layout:f,dataPointFormatter:b})}))}},{key:"renderDots",value:function(o,l,u){var d=this.props.isAnimationActive;if(d&&!this.state.isAnimationFinished)return null;var A=this.props,m=A.dot,f=A.points,g=A.dataKey,v=filterProps(this.props,!1),b=filterProps(m,!0),w=f.map(function(E,R){var _=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(R),r:3},v),b),{},{index:R,cx:E.x,cy:E.y,value:E.value,dataKey:g,payload:E.payload,points:f});return t.renderDotItem(m,_)}),j={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(u,")"):null};return React.createElement(Layer,_extends$3({className:"recharts-line-dots",key:"dots"},j),w)}},{key:"renderCurveStatically",value:function(o,l,u,d){var A=this.props,m=A.type,f=A.layout,g=A.connectNulls;A.ref;var v=_objectWithoutProperties$3(A,_excluded$4),b=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:l?"url(#clipPath-".concat(u,")"):null,points:o},d),{},{type:m,layout:f,connectNulls:g});return React.createElement(Curve,_extends$3({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(o,l){var u=this,d=this.props,A=d.points,m=d.strokeDasharray,f=d.isAnimationActive,g=d.animationBegin,v=d.animationDuration,b=d.animationEasing,w=d.animationId,j=d.animateNewValues,E=d.width,R=d.height,_=this.state,N=_.prevPoints,B=_.totalLength;return React.createElement(Animate,{begin:g,duration:v,isActive:f,easing:b,from:{t:0},to:{t:1},key:"line-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var O=M.t;if(N){var F=N.length/A.length,$=A.map(function(pe,xe){var Ae=Math.floor(xe*F);if(N[Ae]){var ue=N[Ae],Y=interpolateNumber$2(ue.x,pe.x),fe=interpolateNumber$2(ue.y,pe.y);return _objectSpread$2(_objectSpread$2({},pe),{},{x:Y(O),y:fe(O)})}if(j){var H=interpolateNumber$2(E*2,pe.x),le=interpolateNumber$2(R/2,pe.y);return _objectSpread$2(_objectSpread$2({},pe),{},{x:H(O),y:le(O)})}return _objectSpread$2(_objectSpread$2({},pe),{},{x:pe.x,y:pe.y})});return u.renderCurveStatically($,o,l)}var z=interpolateNumber$2(0,B),se=z(O),ce;if(m){var ie="".concat(m).split(/[,\s]+/gim).map(function(pe){return parseFloat(pe)});ce=u.getStrokeDasharray(se,B,ie)}else ce=u.generateSimpleStrokeDasharray(B,se);return u.renderCurveStatically(A,o,l,{strokeDasharray:ce})})}},{key:"renderCurve",value:function(o,l){var u=this.props,d=u.points,A=u.isAnimationActive,m=this.state,f=m.prevPoints,g=m.totalLength;return A&&d&&d.length&&(!f&&g>0||!isEqual(f,d))?this.renderCurveWithAnimation(o,l):this.renderCurveStatically(d,o,l)}},{key:"render",value:function(){var o,l=this.props,u=l.hide,d=l.dot,A=l.points,m=l.className,f=l.xAxis,g=l.yAxis,v=l.top,b=l.left,w=l.width,j=l.height,E=l.isAnimationActive,R=l.id;if(u||!A||!A.length)return null;var _=this.state.isAnimationFinished,N=A.length===1,B=clsx("recharts-line",m),M=f&&f.allowDataOverflow,O=g&&g.allowDataOverflow,F=M||O,$=isNil(R)?this.id:R,z=(o=filterProps(d,!1))!==null&&o!==void 0?o:{r:3,strokeWidth:2},se=z.r,ce=se===void 0?3:se,ie=z.strokeWidth,pe=ie===void 0?2:ie,xe=hasClipDot(d)?d:{},Ae=xe.clipDot,ue=Ae===void 0?!0:Ae,Y=ce*2+pe;return React.createElement(Layer,{className:B},M||O?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat($)},React.createElement("rect",{x:M?b:b-w/2,y:O?v:v-j/2,width:M?w:w*2,height:O?j:j*2})),!ue&&React.createElement("clipPath",{id:"clipPath-dots-".concat($)},React.createElement("rect",{x:b-Y/2,y:v-Y/2,width:w+Y,height:j+Y}))):null,!N&&this.renderCurve(F,$),this.renderErrorBar(F,$),(N||d)&&this.renderDots(F,ue,$),(!E||_)&&LabelList.renderCallByParent(this.props,A))}}],[{key:"getDerivedStateFromProps",value:function(o,l){return o.animationId!==l.prevAnimationId?{prevAnimationId:o.animationId,curPoints:o.points,prevPoints:l.curPoints}:o.points!==l.curPoints?{curPoints:o.points}:null}},{key:"repeat",value:function(o,l){for(var u=o.length%2!==0?[].concat(_toConsumableArray$2(o),[0]):o,d=[],A=0;A<l;++A)d=[].concat(_toConsumableArray$2(d),_toConsumableArray$2(u));return d}},{key:"renderDotItem",value:function(o,l){var u;if(React.isValidElement(o))u=React.cloneElement(o,l);else if(isFunction(o))u=o(l);else{var d=l.key,A=_objectWithoutProperties$3(l,_excluded2$1),m=clsx("recharts-line-dot",typeof o!="boolean"?o.className:"");u=React.createElement(Dot,_extends$3({key:d},A,{className:m}))}return u}}])})(reactExports.PureComponent);_defineProperty$6(Line,"displayName","Line");_defineProperty$6(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$6(Line,"getComposedData",function(e){var t=e.props,n=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,d=e.dataKey,A=e.bandSize,m=e.displayedData,f=e.offset,g=t.layout,v=m.map(function(b,w){var j=getValueByDataKey(b,d);return g==="horizontal"?{x:getCateCoordinateOfLine({axis:n,ticks:l,bandSize:A,entry:b,index:w}),y:isNil(j)?null:o.scale(j),value:j,payload:b}:{x:isNil(j)?null:n.scale(j),y:getCateCoordinateOfLine({axis:o,ticks:u,bandSize:A,entry:b,index:w}),value:j,payload:b}});return _objectSpread$2({points:v,layout:g},f)});function _typeof$5(e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(e)}function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$5(o.key),o)}}function _createClass$4(e,t,n){return t&&_defineProperties$3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$2(e,t,n){return t=_getPrototypeOf$3(t),_possibleConstructorReturn$3(e,_isNativeReflectConstruct$3()?Reflect.construct(t,n||[],_getPrototypeOf$3(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$3(e,t){if(t&&(_typeof$5(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(e)}function _assertThisInitialized$2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!e})()}function _getPrototypeOf$3(e){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$3(e)}function _inherits$3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$2(e,t)}function _setPrototypeOf$2(e,t){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$2(e,t)}function _defineProperty$5(e,t,n){return t=_toPropertyKey$5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$5(e){var t=_toPrimitive$5(e,"string");return _typeof$5(t)=="symbol"?t:t+""}function _toPrimitive$5(e,t){if(_typeof$5(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$5(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$2.apply(this,arguments)}function XAxisImpl(e){var t=e.xAxisId,n=useChartWidth(),o=useChartHeight(),l=useXAxisOrThrow(t);return l==null?null:reactExports.createElement(CartesianAxis,_extends$2({},l,{className:clsx("recharts-".concat(l.axisType," ").concat(l.axisType),l.className),viewBox:{x:0,y:0,width:n,height:o},ticksGenerator:function(d){return getTicksOfAxis(d,!0)}}))}var XAxis=(function(e){function t(){return _classCallCheck$4(this,t),_callSuper$2(this,t,arguments)}return _inherits$3(t,e),_createClass$4(t,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])})(reactExports.Component);_defineProperty$5(XAxis,"displayName","XAxis");_defineProperty$5(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$4(e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(e)}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$4(o.key),o)}}function _createClass$3(e,t,n){return t&&_defineProperties$2(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper$1(e,t,n){return t=_getPrototypeOf$2(t),_possibleConstructorReturn$2(e,_isNativeReflectConstruct$2()?Reflect.construct(t,n||[],_getPrototypeOf$2(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$2(e,t){if(t&&(_typeof$4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(e)}function _assertThisInitialized$1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!e})()}function _getPrototypeOf$2(e){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$2(e)}function _inherits$2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$1(e,t)}function _setPrototypeOf$1(e,t){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf$1(e,t)}function _defineProperty$4(e,t,n){return t=_toPropertyKey$4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$4(e){var t=_toPrimitive$4(e,"string");return _typeof$4(t)=="symbol"?t:t+""}function _toPrimitive$4(e,t){if(_typeof$4(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$4(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends$1.apply(this,arguments)}var YAxisImpl=function(t){var n=t.yAxisId,o=useChartWidth(),l=useChartHeight(),u=useYAxisOrThrow(n);return u==null?null:reactExports.createElement(CartesianAxis,_extends$1({},u,{className:clsx("recharts-".concat(u.axisType," ").concat(u.axisType),u.className),viewBox:{x:0,y:0,width:o,height:l},ticksGenerator:function(A){return getTicksOfAxis(A,!0)}}))},YAxis=(function(e){function t(){return _classCallCheck$3(this,t),_callSuper$1(this,t,arguments)}return _inherits$2(t,e),_createClass$3(t,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])})(reactExports.Component);_defineProperty$4(YAxis,"displayName","YAxis");_defineProperty$4(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(e){return _arrayWithoutHoles$1(e)||_iterableToArray$1(e)||_unsupportedIterableToArray$2(e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(e,t)}}function _iterableToArray$1(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$1(e){if(Array.isArray(e))return _arrayLikeToArray$2(e)}function _arrayLikeToArray$2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var detectReferenceElementsDomain=function(t,n,o,l,u){var d=findAllByType(t,ReferenceLine),A=findAllByType(t,ReferenceDot),m=[].concat(_toConsumableArray$1(d),_toConsumableArray$1(A)),f=findAllByType(t,ReferenceArea),g="".concat(l,"Id"),v=l[0],b=n;if(m.length&&(b=m.reduce(function(E,R){if(R.props[g]===o&&ifOverflowMatches(R.props,"extendDomain")&&isNumber(R.props[v])){var _=R.props[v];return[Math.min(E[0],_),Math.max(E[1],_)]}return E},b)),f.length){var w="".concat(v,"1"),j="".concat(v,"2");b=f.reduce(function(E,R){if(R.props[g]===o&&ifOverflowMatches(R.props,"extendDomain")&&isNumber(R.props[w])&&isNumber(R.props[j])){var _=R.props[w],N=R.props[j];return[Math.min(E[0],_,N),Math.max(E[1],_,N)]}return E},b)}return u&&u.length&&(b=u.reduce(function(E,R){return isNumber(R)?[Math.min(E[0],R),Math.max(E[1],R)]:E},b)),b},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function l(m,f,g){this.fn=m,this.context=f,this.once=g||!1}function u(m,f,g,v,b){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new l(g,v||m,b),j=n?n+f:f;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],w]:m._events[j].push(w):(m._events[j]=w,m._eventsCount++),m}function d(m,f){--m._eventsCount===0?m._events=new o:delete m._events[f]}function A(){this._events=new o,this._eventsCount=0}A.prototype.eventNames=function(){var f=[],g,v;if(this._eventsCount===0)return f;for(v in g=this._events)t.call(g,v)&&f.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},A.prototype.listeners=function(f){var g=n?n+f:f,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,w=v.length,j=new Array(w);b<w;b++)j[b]=v[b].fn;return j},A.prototype.listenerCount=function(f){var g=n?n+f:f,v=this._events[g];return v?v.fn?1:v.length:0},A.prototype.emit=function(f,g,v,b,w,j){var E=n?n+f:f;if(!this._events[E])return!1;var R=this._events[E],_=arguments.length,N,B;if(R.fn){switch(R.once&&this.removeListener(f,R.fn,void 0,!0),_){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,g),!0;case 3:return R.fn.call(R.context,g,v),!0;case 4:return R.fn.call(R.context,g,v,b),!0;case 5:return R.fn.call(R.context,g,v,b,w),!0;case 6:return R.fn.call(R.context,g,v,b,w,j),!0}for(B=1,N=new Array(_-1);B<_;B++)N[B-1]=arguments[B];R.fn.apply(R.context,N)}else{var M=R.length,O;for(B=0;B<M;B++)switch(R[B].once&&this.removeListener(f,R[B].fn,void 0,!0),_){case 1:R[B].fn.call(R[B].context);break;case 2:R[B].fn.call(R[B].context,g);break;case 3:R[B].fn.call(R[B].context,g,v);break;case 4:R[B].fn.call(R[B].context,g,v,b);break;default:if(!N)for(O=1,N=new Array(_-1);O<_;O++)N[O-1]=arguments[O];R[B].fn.apply(R[B].context,N)}}return!0},A.prototype.on=function(f,g,v){return u(this,f,g,v,!1)},A.prototype.once=function(f,g,v){return u(this,f,g,v,!0)},A.prototype.removeListener=function(f,g,v,b){var w=n?n+f:f;if(!this._events[w])return this;if(!g)return d(this,w),this;var j=this._events[w];if(j.fn)j.fn===g&&(!b||j.once)&&(!v||j.context===v)&&d(this,w);else{for(var E=0,R=[],_=j.length;E<_;E++)(j[E].fn!==g||b&&!j[E].once||v&&j[E].context!==v)&&R.push(j[E]);R.length?this._events[w]=R.length===1?R[0]:R:d(this,w)}return this},A.prototype.removeAllListeners=function(f){var g;return f?(g=n?n+f:f,this._events[g]&&d(this,g)):(this._events=new o,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=n,A.EventEmitter=A,e.exports=A})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$3(e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(e)}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$3(o.key),o)}}function _createClass$2(e,t,n){return t&&_defineProperties$1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty$3(e,t,n){return t=_toPropertyKey$3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$3(e){var t=_toPrimitive$3(e,"string");return _typeof$3(t)=="symbol"?t:t+""}function _toPrimitive$3(e,t){if(_typeof$3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$3(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AccessibilityManager=(function(){function e(){_classCallCheck$2(this,e),_defineProperty$3(this,"activeIndex",0),_defineProperty$3(this,"coordinateList",[]),_defineProperty$3(this,"layout","horizontal")}return _createClass$2(e,[{key:"setDetails",value:function(n){var o,l=n.coordinateList,u=l===void 0?null:l,d=n.container,A=d===void 0?null:d,m=n.layout,f=m===void 0?null:m,g=n.offset,v=g===void 0?null:g,b=n.mouseHandlerCallback,w=b===void 0?null:b;this.coordinateList=(o=u??this.coordinateList)!==null&&o!==void 0?o:[],this.container=A??this.container,this.layout=f??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,o;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var l=this.container.getBoundingClientRect(),u=l.x,d=l.y,A=l.height,m=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((o=window)===null||o===void 0?void 0:o.scrollY)||0,v=u+m+f,b=d+this.offset.top+A/2+g;this.mouseHandlerCallback({pageX:v,pageY:b})}}}])})();function isDomainSpecifiedByUser(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var o=e?.[0],l=e?.[1];if(o&&l&&isNumber(o)&&isNumber(l))return!0}return!1}function getCursorRectangle(e,t,n,o){var l=o/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-l,width:e==="horizontal"?o:n.width-1,height:e==="horizontal"?n.height-1:o}}function getRadialCursorPoints(e){var t=e.cx,n=e.cy,o=e.radius,l=e.startAngle,u=e.endAngle,d=polarToCartesian(t,n,o,l),A=polarToCartesian(t,n,o,u);return{points:[d,A],cx:t,cy:n,radius:o,startAngle:l,endAngle:u}}function getCursorPoints(e,t,n){var o,l,u,d;if(e==="horizontal")o=t.x,u=o,l=n.top,d=n.top+n.height;else if(e==="vertical")l=t.y,d=l,o=n.left,u=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var A=t.cx,m=t.cy,f=t.innerRadius,g=t.outerRadius,v=t.angle,b=polarToCartesian(A,m,f,v),w=polarToCartesian(A,m,g,v);o=b.x,l=b.y,u=w.x,d=w.y}else return getRadialCursorPoints(t);return[{x:o,y:l},{x:u,y:d}]}function _typeof$2(e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(e)}function ownKeys$2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$2(Object(n),!0).forEach(function(o){_defineProperty$2(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$2(e,t,n){return t=_toPropertyKey$2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$2(e){var t=_toPrimitive$2(e,"string");return _typeof$2(t)=="symbol"?t:t+""}function _toPrimitive$2(e,t){if(_typeof$2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$2(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cursor(e){var t,n,o=e.element,l=e.tooltipEventType,u=e.isActive,d=e.activeCoordinate,A=e.activePayload,m=e.offset,f=e.activeTooltipIndex,g=e.tooltipAxisBandSize,v=e.layout,b=e.chartName,w=(t=o.props.cursor)!==null&&t!==void 0?t:(n=o.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!o||!w||!u||!d||b!=="ScatterChart"&&l!=="axis")return null;var j,E=Curve;if(b==="ScatterChart")j=d,E=Cross;else if(b==="BarChart")j=getCursorRectangle(v,d,m,g),E=Rectangle;else if(v==="radial"){var R=getRadialCursorPoints(d),_=R.cx,N=R.cy,B=R.radius,M=R.startAngle,O=R.endAngle;j={cx:_,cy:N,startAngle:M,endAngle:O,innerRadius:B,outerRadius:B},E=Sector}else j={points:getCursorPoints(v,d,m)},E=Curve;var F=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},m),j),filterProps(w,!1)),{},{payload:A,payloadIndex:f,className:clsx("recharts-tooltip-cursor",w.className)});return reactExports.isValidElement(w)?reactExports.cloneElement(w,F):reactExports.createElement(E,F)}var _excluded$3=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends.apply(this,arguments)}function _slicedToArray$1(e,t){return _arrayWithHoles$1(e)||_iterableToArrayLimit$1(e,t)||_unsupportedIterableToArray$1(e,t)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$1(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _arrayWithHoles$1(e){if(Array.isArray(e))return e}function _objectWithoutProperties$2(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose$1(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function _objectWithoutPropertiesLoose$1(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey$1(o.key),o)}}function _createClass$1(e,t,n){return t&&_defineProperties(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _callSuper(e,t,n){return t=_getPrototypeOf$1(t),_possibleConstructorReturn$1(e,_isNativeReflectConstruct$1()?Reflect.construct(t,n||[],_getPrototypeOf$1(e).constructor):t.apply(e,n))}function _possibleConstructorReturn$1(e,t){if(t&&(_typeof$1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!e})()}function _getPrototypeOf$1(e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf$1(e)}function _inherits$1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray$1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(e,t)}}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}function _arrayLikeToArray$1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(o){_defineProperty$1(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _defineProperty$1(e,t,n){return t=_toPropertyKey$1(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return _typeof$1(t)=="symbol"?t:t+""}function _toPrimitive$1(e,t){if(_typeof$1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(_typeof$1(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(e){return e}var calculateTooltipPos=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},getActiveCoordinate=function(t,n,o,l){var u=n.find(function(g){return g&&g.index===o});if(u){if(t==="horizontal")return{x:u.coordinate,y:l.y};if(t==="vertical")return{x:l.x,y:u.coordinate};if(t==="centric"){var d=u.coordinate,A=l.radius;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,A,d)),{},{angle:d,radius:A})}var m=u.coordinate,f=l.angle;return _objectSpread(_objectSpread(_objectSpread({},l),polarToCartesian(l.cx,l.cy,m,f)),{},{angle:f,radius:m})}return originCoordinate},getDisplayedData=function(t,n){var o=n.graphicalItems,l=n.dataStartIndex,u=n.dataEndIndex,d=(o??[]).reduce(function(A,m){var f=m.props.data;return f&&f.length?[].concat(_toConsumableArray(A),_toConsumableArray(f)):A},[]);return d.length>0?d:t&&t.length&&isNumber(l)&&isNumber(u)?t.slice(l,u+1):[]};function getDefaultDomainByAxisType(e){return e==="number"?[0,"auto"]:void 0}var getTooltipContent=function(t,n,o,l){var u=t.graphicalItems,d=t.tooltipAxis,A=getDisplayedData(n,t);return o<0||!u||!u.length||o>=A.length?null:u.reduce(function(m,f){var g,v=(g=f.props.data)!==null&&g!==void 0?g:n;v&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=o&&(v=v.slice(t.dataStartIndex,t.dataEndIndex+1));var b;if(d.dataKey&&!d.allowDuplicatedCategory){var w=v===void 0?A:v;b=findEntryInArray(w,d.dataKey,l)}else b=v&&v[o]||A[o];return b?[].concat(_toConsumableArray(m),[getTooltipItem(f,b)]):m},[])},getTooltipData=function(t,n,o,l){var u=l||{x:t.chartX,y:t.chartY},d=calculateTooltipPos(u,o),A=t.orderedTooltipTicks,m=t.tooltipAxis,f=t.tooltipTicks,g=calculateActiveTickIndex(d,A,f,m);if(g>=0&&f){var v=f[g]&&f[g].value,b=getTooltipContent(t,n,g,v),w=getActiveCoordinate(o,A,g,u);return{activeTooltipIndex:g,activeLabel:v,activePayload:b,activeCoordinate:w}}return null},getAxisMapByAxes=function(t,n){var o=n.axes,l=n.graphicalItems,u=n.axisType,d=n.axisIdKey,A=n.stackGroups,m=n.dataStartIndex,f=n.dataEndIndex,g=t.layout,v=t.children,b=t.stackOffset,w=isCategoricalAxis(g,u);return o.reduce(function(j,E){var R,_=E.type.defaultProps!==void 0?_objectSpread(_objectSpread({},E.type.defaultProps),E.props):E.props,N=_.type,B=_.dataKey,M=_.allowDataOverflow,O=_.allowDuplicatedCategory,F=_.scale,$=_.ticks,z=_.includeHidden,se=_[d];if(j[se])return j;var ce=getDisplayedData(t.data,{graphicalItems:l.filter(function(ge){var je,Me=d in ge.props?ge.props[d]:(je=ge.type.defaultProps)===null||je===void 0?void 0:je[d];return Me===se}),dataStartIndex:m,dataEndIndex:f}),ie=ce.length,pe,xe,Ae;isDomainSpecifiedByUser(_.domain,M,N)&&(pe=parseSpecifiedDomain(_.domain,null,M),w&&(N==="number"||F!=="auto")&&(Ae=getDomainOfDataByKey(ce,B,"category")));var ue=getDefaultDomainByAxisType(N);if(!pe||pe.length===0){var Y,fe=(Y=_.domain)!==null&&Y!==void 0?Y:ue;if(B){if(pe=getDomainOfDataByKey(ce,B,N),N==="category"&&w){var H=hasDuplicate(pe);O&&H?(xe=pe,pe=range(0,ie)):O||(pe=parseDomainOfCategoryAxis(fe,pe,E).reduce(function(ge,je){return ge.indexOf(je)>=0?ge:[].concat(_toConsumableArray(ge),[je])},[]))}else if(N==="category")O?pe=pe.filter(function(ge){return ge!==""&&!isNil(ge)}):pe=parseDomainOfCategoryAxis(fe,pe,E).reduce(function(ge,je){return ge.indexOf(je)>=0||je===""||isNil(je)?ge:[].concat(_toConsumableArray(ge),[je])},[]);else if(N==="number"){var le=parseErrorBarsOfAxis(ce,l.filter(function(ge){var je,Me,He=d in ge.props?ge.props[d]:(je=ge.type.defaultProps)===null||je===void 0?void 0:je[d],Qe="hide"in ge.props?ge.props.hide:(Me=ge.type.defaultProps)===null||Me===void 0?void 0:Me.hide;return He===se&&(z||!Qe)}),B,u,g);le&&(pe=le)}w&&(N==="number"||F!=="auto")&&(Ae=getDomainOfDataByKey(ce,B,"category"))}else w?pe=range(0,ie):A&&A[se]&&A[se].hasStack&&N==="number"?pe=b==="expand"?[0,1]:getDomainOfStackGroups(A[se].stackGroups,m,f):pe=getDomainOfItemsWithSameAxis(ce,l.filter(function(ge){var je=d in ge.props?ge.props[d]:ge.type.defaultProps[d],Me="hide"in ge.props?ge.props.hide:ge.type.defaultProps.hide;return je===se&&(z||!Me)}),N,g,!0);if(N==="number")pe=detectReferenceElementsDomain(v,pe,se,u,$),fe&&(pe=parseSpecifiedDomain(fe,pe,M));else if(N==="category"&&fe){var de=fe,ye=pe.every(function(ge){return de.indexOf(ge)>=0});ye&&(pe=de)}}return _objectSpread(_objectSpread({},j),{},_defineProperty$1({},se,_objectSpread(_objectSpread({},_),{},{axisType:u,domain:pe,categoricalDomain:Ae,duplicateDomain:xe,originalDomain:(R=_.domain)!==null&&R!==void 0?R:ue,isCategorical:w,layout:g})))},{})},getAxisMapByItems=function(t,n){var o=n.graphicalItems,l=n.Axis,u=n.axisType,d=n.axisIdKey,A=n.stackGroups,m=n.dataStartIndex,f=n.dataEndIndex,g=t.layout,v=t.children,b=getDisplayedData(t.data,{graphicalItems:o,dataStartIndex:m,dataEndIndex:f}),w=b.length,j=isCategoricalAxis(g,u),E=-1;return o.reduce(function(R,_){var N=_.type.defaultProps!==void 0?_objectSpread(_objectSpread({},_.type.defaultProps),_.props):_.props,B=N[d],M=getDefaultDomainByAxisType("number");if(!R[B]){E++;var O;return j?O=range(0,w):A&&A[B]&&A[B].hasStack?(O=getDomainOfStackGroups(A[B].stackGroups,m,f),O=detectReferenceElementsDomain(v,O,B,u)):(O=parseSpecifiedDomain(M,getDomainOfItemsWithSameAxis(b,o.filter(function(F){var $,z,se=d in F.props?F.props[d]:($=F.type.defaultProps)===null||$===void 0?void 0:$[d],ce="hide"in F.props?F.props.hide:(z=F.type.defaultProps)===null||z===void 0?void 0:z.hide;return se===B&&!ce}),"number",g),l.defaultProps.allowDataOverflow),O=detectReferenceElementsDomain(v,O,B,u)),_objectSpread(_objectSpread({},R),{},_defineProperty$1({},B,_objectSpread(_objectSpread({axisType:u},l.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(u,".").concat(E%2),null),domain:O,originalDomain:M,isCategorical:j,layout:g})))}return R},{})},getAxisMap=function(t,n){var o=n.axisType,l=o===void 0?"xAxis":o,u=n.AxisComp,d=n.graphicalItems,A=n.stackGroups,m=n.dataStartIndex,f=n.dataEndIndex,g=t.children,v="".concat(l,"Id"),b=findAllByType(g,u),w={};return b&&b.length?w=getAxisMapByAxes(t,{axes:b,graphicalItems:d,axisType:l,axisIdKey:v,stackGroups:A,dataStartIndex:m,dataEndIndex:f}):d&&d.length&&(w=getAxisMapByItems(t,{Axis:u,graphicalItems:d,axisType:l,axisIdKey:v,stackGroups:A,dataStartIndex:m,dataEndIndex:f})),w},tooltipTicksGenerator=function(t){var n=getAnyElementOfObject(t),o=getTicksOfAxis(n,!1,!0);return{tooltipTicks:o,orderedTooltipTicks:sortBy(o,function(l){return l.coordinate}),tooltipAxis:n,tooltipAxisBandSize:getBandSizeOfAxis(n,o)}},createDefaultState=function(t){var n=t.children,o=t.defaultShowTooltip,l=findChildByType(n,Brush),u=0,d=0;return t.data&&t.data.length!==0&&(d=t.data.length-1),l&&l.props&&(l.props.startIndex>=0&&(u=l.props.startIndex),l.props.endIndex>=0&&(d=l.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:u,dataEndIndex:d,activeTooltipIndex:-1,isTooltipActive:!!o}},hasGraphicalBarItem=function(t){return!t||!t.length?!1:t.some(function(n){var o=getDisplayName(n&&n.type);return o&&o.indexOf("Bar")>=0})},getAxisNameByLayout=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(t,n){var o=t.props,l=t.graphicalItems,u=t.xAxisMap,d=u===void 0?{}:u,A=t.yAxisMap,m=A===void 0?{}:A,f=o.width,g=o.height,v=o.children,b=o.margin||{},w=findChildByType(v,Brush),j=findChildByType(v,Legend),E=Object.keys(m).reduce(function(O,F){var $=m[F],z=$.orientation;return!$.mirror&&!$.hide?_objectSpread(_objectSpread({},O),{},_defineProperty$1({},z,O[z]+$.width)):O},{left:b.left||0,right:b.right||0}),R=Object.keys(d).reduce(function(O,F){var $=d[F],z=$.orientation;return!$.mirror&&!$.hide?_objectSpread(_objectSpread({},O),{},_defineProperty$1({},z,get$2(O,"".concat(z))+$.height)):O},{top:b.top||0,bottom:b.bottom||0}),_=_objectSpread(_objectSpread({},R),E),N=_.bottom;w&&(_.bottom+=w.props.height||Brush.defaultProps.height),j&&n&&(_=appendOffsetOfLegend(_,l,o,n));var B=f-_.left-_.right,M=g-_.top-_.bottom;return _objectSpread(_objectSpread({brushBottom:N},_),{},{width:Math.max(B,0),height:Math.max(M,0)})},getCartesianAxisSize=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},generateCategoricalChart=function(t){var n=t.chartName,o=t.GraphicalChild,l=t.defaultTooltipEventType,u=l===void 0?"axis":l,d=t.validateTooltipEventTypes,A=d===void 0?["axis"]:d,m=t.axisComponents,f=t.legendContent,g=t.formatAxisMap,v=t.defaultProps,b=function(_,N){var B=N.graphicalItems,M=N.stackGroups,O=N.offset,F=N.updateId,$=N.dataStartIndex,z=N.dataEndIndex,se=_.barSize,ce=_.layout,ie=_.barGap,pe=_.barCategoryGap,xe=_.maxBarSize,Ae=getAxisNameByLayout(ce),ue=Ae.numericAxisName,Y=Ae.cateAxisName,fe=hasGraphicalBarItem(B),H=[];return B.forEach(function(le,de){var ye=getDisplayedData(_.data,{graphicalItems:[le],dataStartIndex:$,dataEndIndex:z}),ge=le.type.defaultProps!==void 0?_objectSpread(_objectSpread({},le.type.defaultProps),le.props):le.props,je=ge.dataKey,Me=ge.maxBarSize,He=ge["".concat(ue,"Id")],Qe=ge["".concat(Y,"Id")],ze={},Ve=m.reduce(function($r,on){var wn=N["".concat(on.axisType,"Map")],En=ge["".concat(on.axisType,"Id")];wn&&wn[En]||on.axisType==="zAxis"||invariant();var en=wn[En];return _objectSpread(_objectSpread({},$r),{},_defineProperty$1(_defineProperty$1({},on.axisType,en),"".concat(on.axisType,"Ticks"),getTicksOfAxis(en)))},ze),tt=Ve[Y],nt=Ve["".concat(Y,"Ticks")],Ye=M&&M[He]&&M[He].hasStack&&getStackedDataOfItem(le,M[He].stackGroups),ut=getDisplayName(le.type).indexOf("Bar")>=0,mt=getBandSizeOfAxis(tt,nt),St=[],or=fe&&getBarSizeList({barSize:se,stackGroups:M,totalSize:getCartesianAxisSize(Ve,Y)});if(ut){var Zt,Bt,ur=isNil(Me)?xe:Me,Nr=(Zt=(Bt=getBandSizeOfAxis(tt,nt,!0))!==null&&Bt!==void 0?Bt:ur)!==null&&Zt!==void 0?Zt:0;St=getBarPosition({barGap:ie,barCategoryGap:pe,bandSize:Nr!==mt?Nr:mt,sizeList:or[Qe],maxBarSize:ur}),Nr!==mt&&(St=St.map(function($r){return _objectSpread(_objectSpread({},$r),{},{position:_objectSpread(_objectSpread({},$r.position),{},{offset:$r.position.offset-Nr/2})})}))}var Qr=le&&le.type&&le.type.getComposedData;Qr&&H.push({props:_objectSpread(_objectSpread({},Qr(_objectSpread(_objectSpread({},Ve),{},{displayedData:ye,props:_,dataKey:je,item:le,bandSize:mt,barPosition:St,offset:O,stackedData:Ye,layout:ce,dataStartIndex:$,dataEndIndex:z}))),{},_defineProperty$1(_defineProperty$1(_defineProperty$1({key:le.key||"item-".concat(de)},ue,Ve[ue]),Y,Ve[Y]),"animationId",F)),childIndex:parseChildIndex(le,_.children),item:le})}),H},w=function(_,N){var B=_.props,M=_.dataStartIndex,O=_.dataEndIndex,F=_.updateId;if(!validateWidthHeight({props:B}))return null;var $=B.children,z=B.layout,se=B.stackOffset,ce=B.data,ie=B.reverseStackOrder,pe=getAxisNameByLayout(z),xe=pe.numericAxisName,Ae=pe.cateAxisName,ue=findAllByType($,o),Y=getStackGroupsByAxisId(ce,ue,"".concat(xe,"Id"),"".concat(Ae,"Id"),se,ie),fe=m.reduce(function(ge,je){var Me="".concat(je.axisType,"Map");return _objectSpread(_objectSpread({},ge),{},_defineProperty$1({},Me,getAxisMap(B,_objectSpread(_objectSpread({},je),{},{graphicalItems:ue,stackGroups:je.axisType===xe&&Y,dataStartIndex:M,dataEndIndex:O}))))},{}),H=calculateOffset(_objectSpread(_objectSpread({},fe),{},{props:B,graphicalItems:ue}),N?.legendBBox);Object.keys(fe).forEach(function(ge){fe[ge]=g(B,fe[ge],H,ge.replace("Map",""),n)});var le=fe["".concat(Ae,"Map")],de=tooltipTicksGenerator(le),ye=b(B,_objectSpread(_objectSpread({},fe),{},{dataStartIndex:M,dataEndIndex:O,updateId:F,graphicalItems:ue,stackGroups:Y,offset:H}));return _objectSpread(_objectSpread({formattedGraphicalItems:ye,graphicalItems:ue,offset:H,stackGroups:Y},de),fe)},j=(function(R){function _(N){var B,M,O;return _classCallCheck$1(this,_),O=_callSuper(this,_,[N]),_defineProperty$1(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty$1(O,"accessibilityManager",new AccessibilityManager),_defineProperty$1(O,"handleLegendBBoxUpdate",function(F){if(F){var $=O.state,z=$.dataStartIndex,se=$.dataEndIndex,ce=$.updateId;O.setState(_objectSpread({legendBBox:F},w({props:O.props,dataStartIndex:z,dataEndIndex:se,updateId:ce},_objectSpread(_objectSpread({},O.state),{},{legendBBox:F}))))}}),_defineProperty$1(O,"handleReceiveSyncEvent",function(F,$,z){if(O.props.syncId===F){if(z===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent($)}}),_defineProperty$1(O,"handleBrushChange",function(F){var $=F.startIndex,z=F.endIndex;if($!==O.state.dataStartIndex||z!==O.state.dataEndIndex){var se=O.state.updateId;O.setState(function(){return _objectSpread({dataStartIndex:$,dataEndIndex:z},w({props:O.props,dataStartIndex:$,dataEndIndex:z,updateId:se},O.state))}),O.triggerSyncEvent({dataStartIndex:$,dataEndIndex:z})}}),_defineProperty$1(O,"handleMouseEnter",function(F){var $=O.getMouseInfo(F);if($){var z=_objectSpread(_objectSpread({},$),{},{isTooltipActive:!0});O.setState(z),O.triggerSyncEvent(z);var se=O.props.onMouseEnter;isFunction(se)&&se(z,F)}}),_defineProperty$1(O,"triggeredAfterMouseMove",function(F){var $=O.getMouseInfo(F),z=$?_objectSpread(_objectSpread({},$),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(z),O.triggerSyncEvent(z);var se=O.props.onMouseMove;isFunction(se)&&se(z,F)}),_defineProperty$1(O,"handleItemMouseEnter",function(F){O.setState(function(){return{isTooltipActive:!0,activeItem:F,activePayload:F.tooltipPayload,activeCoordinate:F.tooltipPosition||{x:F.cx,y:F.cy}}})}),_defineProperty$1(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),_defineProperty$1(O,"handleMouseMove",function(F){F.persist(),O.throttleTriggeredAfterMouseMove(F)}),_defineProperty$1(O,"handleMouseLeave",function(F){O.throttleTriggeredAfterMouseMove.cancel();var $={isTooltipActive:!1};O.setState($),O.triggerSyncEvent($);var z=O.props.onMouseLeave;isFunction(z)&&z($,F)}),_defineProperty$1(O,"handleOuterEvent",function(F){var $=getReactEventByType(F),z=get$2(O.props,"".concat($));if($&&isFunction(z)){var se,ce;/.*touch.*/i.test($)?ce=O.getMouseInfo(F.changedTouches[0]):ce=O.getMouseInfo(F),z((se=ce)!==null&&se!==void 0?se:{},F)}}),_defineProperty$1(O,"handleClick",function(F){var $=O.getMouseInfo(F);if($){var z=_objectSpread(_objectSpread({},$),{},{isTooltipActive:!0});O.setState(z),O.triggerSyncEvent(z);var se=O.props.onClick;isFunction(se)&&se(z,F)}}),_defineProperty$1(O,"handleMouseDown",function(F){var $=O.props.onMouseDown;if(isFunction($)){var z=O.getMouseInfo(F);$(z,F)}}),_defineProperty$1(O,"handleMouseUp",function(F){var $=O.props.onMouseUp;if(isFunction($)){var z=O.getMouseInfo(F);$(z,F)}}),_defineProperty$1(O,"handleTouchMove",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(F.changedTouches[0])}),_defineProperty$1(O,"handleTouchStart",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&O.handleMouseDown(F.changedTouches[0])}),_defineProperty$1(O,"handleTouchEnd",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&O.handleMouseUp(F.changedTouches[0])}),_defineProperty$1(O,"handleDoubleClick",function(F){var $=O.props.onDoubleClick;if(isFunction($)){var z=O.getMouseInfo(F);$(z,F)}}),_defineProperty$1(O,"handleContextMenu",function(F){var $=O.props.onContextMenu;if(isFunction($)){var z=O.getMouseInfo(F);$(z,F)}}),_defineProperty$1(O,"triggerSyncEvent",function(F){O.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,O.props.syncId,F,O.eventEmitterSymbol)}),_defineProperty$1(O,"applySyncEvent",function(F){var $=O.props,z=$.layout,se=$.syncMethod,ce=O.state.updateId,ie=F.dataStartIndex,pe=F.dataEndIndex;if(F.dataStartIndex!==void 0||F.dataEndIndex!==void 0)O.setState(_objectSpread({dataStartIndex:ie,dataEndIndex:pe},w({props:O.props,dataStartIndex:ie,dataEndIndex:pe,updateId:ce},O.state)));else if(F.activeTooltipIndex!==void 0){var xe=F.chartX,Ae=F.chartY,ue=F.activeTooltipIndex,Y=O.state,fe=Y.offset,H=Y.tooltipTicks;if(!fe)return;if(typeof se=="function")ue=se(H,F);else if(se==="value"){ue=-1;for(var le=0;le<H.length;le++)if(H[le].value===F.activeLabel){ue=le;break}}var de=_objectSpread(_objectSpread({},fe),{},{x:fe.left,y:fe.top}),ye=Math.min(xe,de.x+de.width),ge=Math.min(Ae,de.y+de.height),je=H[ue]&&H[ue].value,Me=getTooltipContent(O.state,O.props.data,ue),He=H[ue]?{x:z==="horizontal"?H[ue].coordinate:ye,y:z==="horizontal"?ge:H[ue].coordinate}:originCoordinate;O.setState(_objectSpread(_objectSpread({},F),{},{activeLabel:je,activeCoordinate:He,activePayload:Me,activeTooltipIndex:ue}))}else O.setState(F)}),_defineProperty$1(O,"renderCursor",function(F){var $,z=O.state,se=z.isTooltipActive,ce=z.activeCoordinate,ie=z.activePayload,pe=z.offset,xe=z.activeTooltipIndex,Ae=z.tooltipAxisBandSize,ue=O.getTooltipEventType(),Y=($=F.props.active)!==null&&$!==void 0?$:se,fe=O.props.layout,H=F.key||"_recharts-cursor";return React.createElement(Cursor,{key:H,activeCoordinate:ce,activePayload:ie,activeTooltipIndex:xe,chartName:n,element:F,isActive:Y,layout:fe,offset:pe,tooltipAxisBandSize:Ae,tooltipEventType:ue})}),_defineProperty$1(O,"renderPolarAxis",function(F,$,z){var se=get$2(F,"type.axisType"),ce=get$2(O.state,"".concat(se,"Map")),ie=F.type.defaultProps,pe=ie!==void 0?_objectSpread(_objectSpread({},ie),F.props):F.props,xe=ce&&ce[pe["".concat(se,"Id")]];return reactExports.cloneElement(F,_objectSpread(_objectSpread({},xe),{},{className:clsx(se,xe.className),key:F.key||"".concat($,"-").concat(z),ticks:getTicksOfAxis(xe,!0)}))}),_defineProperty$1(O,"renderPolarGrid",function(F){var $=F.props,z=$.radialLines,se=$.polarAngles,ce=$.polarRadius,ie=O.state,pe=ie.radiusAxisMap,xe=ie.angleAxisMap,Ae=getAnyElementOfObject(pe),ue=getAnyElementOfObject(xe),Y=ue.cx,fe=ue.cy,H=ue.innerRadius,le=ue.outerRadius;return reactExports.cloneElement(F,{polarAngles:Array.isArray(se)?se:getTicksOfAxis(ue,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(ce)?ce:getTicksOfAxis(Ae,!0).map(function(de){return de.coordinate}),cx:Y,cy:fe,innerRadius:H,outerRadius:le,key:F.key||"polar-grid",radialLines:z})}),_defineProperty$1(O,"renderLegend",function(){var F=O.state.formattedGraphicalItems,$=O.props,z=$.children,se=$.width,ce=$.height,ie=O.props.margin||{},pe=se-(ie.left||0)-(ie.right||0),xe=getLegendProps({children:z,formattedGraphicalItems:F,legendWidth:pe,legendContent:f});if(!xe)return null;var Ae=xe.item,ue=_objectWithoutProperties$2(xe,_excluded$3);return reactExports.cloneElement(Ae,_objectSpread(_objectSpread({},ue),{},{chartWidth:se,chartHeight:ce,margin:ie,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),_defineProperty$1(O,"renderTooltip",function(){var F,$=O.props,z=$.children,se=$.accessibilityLayer,ce=findChildByType(z,Tooltip);if(!ce)return null;var ie=O.state,pe=ie.isTooltipActive,xe=ie.activeCoordinate,Ae=ie.activePayload,ue=ie.activeLabel,Y=ie.offset,fe=(F=ce.props.active)!==null&&F!==void 0?F:pe;return reactExports.cloneElement(ce,{viewBox:_objectSpread(_objectSpread({},Y),{},{x:Y.left,y:Y.top}),active:fe,label:ue,payload:fe?Ae:[],coordinate:xe,accessibilityLayer:se})}),_defineProperty$1(O,"renderBrush",function(F){var $=O.props,z=$.margin,se=$.data,ce=O.state,ie=ce.offset,pe=ce.dataStartIndex,xe=ce.dataEndIndex,Ae=ce.updateId;return reactExports.cloneElement(F,{key:F.key||"_recharts-brush",onChange:combineEventHandlers(O.handleBrushChange,F.props.onChange),data:se,x:isNumber(F.props.x)?F.props.x:ie.left,y:isNumber(F.props.y)?F.props.y:ie.top+ie.height+ie.brushBottom-(z.bottom||0),width:isNumber(F.props.width)?F.props.width:ie.width,startIndex:pe,endIndex:xe,updateId:"brush-".concat(Ae)})}),_defineProperty$1(O,"renderReferenceElement",function(F,$,z){if(!F)return null;var se=O,ce=se.clipPathId,ie=O.state,pe=ie.xAxisMap,xe=ie.yAxisMap,Ae=ie.offset,ue=F.type.defaultProps||{},Y=F.props,fe=Y.xAxisId,H=fe===void 0?ue.xAxisId:fe,le=Y.yAxisId,de=le===void 0?ue.yAxisId:le;return reactExports.cloneElement(F,{key:F.key||"".concat($,"-").concat(z),xAxis:pe[H],yAxis:xe[de],viewBox:{x:Ae.left,y:Ae.top,width:Ae.width,height:Ae.height},clipPathId:ce})}),_defineProperty$1(O,"renderActivePoints",function(F){var $=F.item,z=F.activePoint,se=F.basePoint,ce=F.childIndex,ie=F.isRange,pe=[],xe=$.props.key,Ae=$.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},$.item.type.defaultProps),$.item.props):$.item.props,ue=Ae.activeDot,Y=Ae.dataKey,fe=_objectSpread(_objectSpread({index:ce,dataKey:Y,cx:z.x,cy:z.y,r:4,fill:getMainColorOfGraphicItem($.item),strokeWidth:2,stroke:"#fff",payload:z.payload,value:z.value},filterProps(ue,!1)),adaptEventHandlers(ue));return pe.push(_.renderActiveDot(ue,fe,"".concat(xe,"-activePoint-").concat(ce))),se?pe.push(_.renderActiveDot(ue,_objectSpread(_objectSpread({},fe),{},{cx:se.x,cy:se.y}),"".concat(xe,"-basePoint-").concat(ce))):ie&&pe.push(null),pe}),_defineProperty$1(O,"renderGraphicChild",function(F,$,z){var se=O.filterFormatItem(F,$,z);if(!se)return null;var ce=O.getTooltipEventType(),ie=O.state,pe=ie.isTooltipActive,xe=ie.tooltipAxis,Ae=ie.activeTooltipIndex,ue=ie.activeLabel,Y=O.props.children,fe=findChildByType(Y,Tooltip),H=se.props,le=H.points,de=H.isRange,ye=H.baseLine,ge=se.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},se.item.type.defaultProps),se.item.props):se.item.props,je=ge.activeDot,Me=ge.hide,He=ge.activeBar,Qe=ge.activeShape,ze=!!(!Me&&pe&&fe&&(je||He||Qe)),Ve={};ce!=="axis"&&fe&&fe.props.trigger==="click"?Ve={onClick:combineEventHandlers(O.handleItemMouseEnter,F.props.onClick)}:ce!=="axis"&&(Ve={onMouseLeave:combineEventHandlers(O.handleItemMouseLeave,F.props.onMouseLeave),onMouseEnter:combineEventHandlers(O.handleItemMouseEnter,F.props.onMouseEnter)});var tt=reactExports.cloneElement(F,_objectSpread(_objectSpread({},se.props),Ve));function nt(on){return typeof xe.dataKey=="function"?xe.dataKey(on.payload):null}if(ze)if(Ae>=0){var Ye,ut;if(xe.dataKey&&!xe.allowDuplicatedCategory){var mt=typeof xe.dataKey=="function"?nt:"payload.".concat(xe.dataKey.toString());Ye=findEntryInArray(le,mt,ue),ut=de&&ye&&findEntryInArray(ye,mt,ue)}else Ye=le?.[Ae],ut=de&&ye&&ye[Ae];if(Qe||He){var St=F.props.activeIndex!==void 0?F.props.activeIndex:Ae;return[reactExports.cloneElement(F,_objectSpread(_objectSpread(_objectSpread({},se.props),Ve),{},{activeIndex:St})),null,null]}if(!isNil(Ye))return[tt].concat(_toConsumableArray(O.renderActivePoints({item:se,activePoint:Ye,basePoint:ut,childIndex:Ae,isRange:de})))}else{var or,Zt=(or=O.getItemByXY(O.state.activeCoordinate))!==null&&or!==void 0?or:{graphicalItem:tt},Bt=Zt.graphicalItem,ur=Bt.item,Nr=ur===void 0?F:ur,Qr=Bt.childIndex,$r=_objectSpread(_objectSpread(_objectSpread({},se.props),Ve),{},{activeIndex:Qr});return[reactExports.cloneElement(Nr,$r),null,null]}return de?[tt,null,null]:[tt,null]}),_defineProperty$1(O,"renderCustomized",function(F,$,z){return reactExports.cloneElement(F,_objectSpread(_objectSpread({key:"recharts-customized-".concat(z)},O.props),O.state))}),_defineProperty$1(O,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((B=N.id)!==null&&B!==void 0?B:uniqueId("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=throttle$1(O.triggeredAfterMouseMove,(M=N.throttleDelay)!==null&&M!==void 0?M:1e3/60),O.state={},O}return _inherits$1(_,R),_createClass$1(_,[{key:"componentDidMount",value:function(){var B,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(B=this.props.margin.left)!==null&&B!==void 0?B:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var B=this.props,M=B.children,O=B.data,F=B.height,$=B.layout,z=findChildByType(M,Tooltip);if(z){var se=z.props.defaultIndex;if(!(typeof se!="number"||se<0||se>this.state.tooltipTicks.length-1)){var ce=this.state.tooltipTicks[se]&&this.state.tooltipTicks[se].value,ie=getTooltipContent(this.state,O,se,ce),pe=this.state.tooltipTicks[se].coordinate,xe=(this.state.offset.top+F)/2,Ae=$==="horizontal",ue=Ae?{x:pe,y:xe}:{y:pe,x:xe},Y=this.state.formattedGraphicalItems.find(function(H){var le=H.item;return le.type.name==="Scatter"});Y&&(ue=_objectSpread(_objectSpread({},ue),Y.props.points[se].tooltipPosition),ie=Y.props.points[se].tooltipPayload);var fe={activeTooltipIndex:se,isTooltipActive:!0,activeLabel:ce,activePayload:ie,activeCoordinate:ue};this.setState(fe),this.renderCursor(z),this.accessibilityManager.setIndex(se)}}}},{key:"getSnapshotBeforeUpdate",value:function(B,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==B.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==B.margin){var O,F;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0}})}return null}},{key:"componentDidUpdate",value:function(B){isChildrenEqual([findChildByType(B.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var B=findChildByType(this.props.children,Tooltip);if(B&&typeof B.props.shared=="boolean"){var M=B.props.shared?"axis":"item";return A.indexOf(M)>=0?M:u}return u}},{key:"getMouseInfo",value:function(B){if(!this.container)return null;var M=this.container,O=M.getBoundingClientRect(),F=getOffset(O),$={chartX:Math.round(B.pageX-F.left),chartY:Math.round(B.pageY-F.top)},z=O.width/M.offsetWidth||1,se=this.inRange($.chartX,$.chartY,z);if(!se)return null;var ce=this.state,ie=ce.xAxisMap,pe=ce.yAxisMap,xe=this.getTooltipEventType(),Ae=getTooltipData(this.state,this.props.data,this.props.layout,se);if(xe!=="axis"&&ie&&pe){var ue=getAnyElementOfObject(ie).scale,Y=getAnyElementOfObject(pe).scale,fe=ue&&ue.invert?ue.invert($.chartX):null,H=Y&&Y.invert?Y.invert($.chartY):null;return _objectSpread(_objectSpread({},$),{},{xValue:fe,yValue:H},Ae)}return Ae?_objectSpread(_objectSpread({},$),Ae):null}},{key:"inRange",value:function(B,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=this.props.layout,$=B/O,z=M/O;if(F==="horizontal"||F==="vertical"){var se=this.state.offset,ce=$>=se.left&&$<=se.left+se.width&&z>=se.top&&z<=se.top+se.height;return ce?{x:$,y:z}:null}var ie=this.state,pe=ie.angleAxisMap,xe=ie.radiusAxisMap;if(pe&&xe){var Ae=getAnyElementOfObject(pe);return inRangeOfSector({x:$,y:z},Ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var B=this.props.children,M=this.getTooltipEventType(),O=findChildByType(B,Tooltip),F={};O&&M==="axis"&&(O.props.trigger==="click"?F={onClick:this.handleClick}:F={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var $=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},$),F)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(B,M,O){for(var F=this.state.formattedGraphicalItems,$=0,z=F.length;$<z;$++){var se=F[$];if(se.item===B||se.props.key===B.key||M===getDisplayName(se.item.type)&&O===se.childIndex)return se}return null}},{key:"renderClipPath",value:function(){var B=this.clipPathId,M=this.state.offset,O=M.left,F=M.top,$=M.height,z=M.width;return React.createElement("defs",null,React.createElement("clipPath",{id:B},React.createElement("rect",{x:O,y:F,height:$,width:z})))}},{key:"getXScales",value:function(){var B=this.state.xAxisMap;return B?Object.entries(B).reduce(function(M,O){var F=_slicedToArray$1(O,2),$=F[0],z=F[1];return _objectSpread(_objectSpread({},M),{},_defineProperty$1({},$,z.scale))},{}):null}},{key:"getYScales",value:function(){var B=this.state.yAxisMap;return B?Object.entries(B).reduce(function(M,O){var F=_slicedToArray$1(O,2),$=F[0],z=F[1];return _objectSpread(_objectSpread({},M),{},_defineProperty$1({},$,z.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(B){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[B])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(B){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[B])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(B){var M=this.state,O=M.formattedGraphicalItems,F=M.activeItem;if(O&&O.length)for(var $=0,z=O.length;$<z;$++){var se=O[$],ce=se.props,ie=se.item,pe=ie.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ie.type.defaultProps),ie.props):ie.props,xe=getDisplayName(ie.type);if(xe==="Bar"){var Ae=(ce.data||[]).find(function(H){return isInRectangle(B,H)});if(Ae)return{graphicalItem:se,payload:Ae}}else if(xe==="RadialBar"){var ue=(ce.data||[]).find(function(H){return inRangeOfSector(B,H)});if(ue)return{graphicalItem:se,payload:ue}}else if(isFunnel(se,F)||isPie(se,F)||isScatter(se,F)){var Y=getActiveShapeIndexForTooltip({graphicalItem:se,activeTooltipItem:F,itemData:pe.data}),fe=pe.activeIndex===void 0?Y:pe.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},se),{},{childIndex:fe}),payload:isScatter(se,F)?pe.data[Y]:se.props.data[Y]}}}return null}},{key:"render",value:function(){var B=this;if(!validateWidthHeight(this))return null;var M=this.props,O=M.children,F=M.className,$=M.width,z=M.height,se=M.style,ce=M.compact,ie=M.title,pe=M.desc,xe=_objectWithoutProperties$2(M,_excluded2),Ae=filterProps(xe,!1);if(ce)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},Ae,{width:$,height:z,title:ie,desc:pe}),this.renderClipPath(),renderByOrder(O,this.renderMap)));if(this.props.accessibilityLayer){var ue,Y;Ae.tabIndex=(ue=this.props.tabIndex)!==null&&ue!==void 0?ue:0,Ae.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",Ae.onKeyDown=function(H){B.accessibilityManager.keyboardEvent(H)},Ae.onFocus=function(){B.accessibilityManager.focus()}}var fe=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",F),style:_objectSpread({position:"relative",cursor:"default",width:$,height:z},se)},fe,{ref:function(le){B.container=le}}),React.createElement(Surface,_extends({},Ae,{width:$,height:z,title:ie,desc:pe,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(reactExports.Component);_defineProperty$1(j,"displayName",n),_defineProperty$1(j,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),_defineProperty$1(j,"getDerivedStateFromProps",function(R,_){var N=R.dataKey,B=R.data,M=R.children,O=R.width,F=R.height,$=R.layout,z=R.stackOffset,se=R.margin,ce=_.dataStartIndex,ie=_.dataEndIndex;if(_.updateId===void 0){var pe=createDefaultState(R);return _objectSpread(_objectSpread(_objectSpread({},pe),{},{updateId:0},w(_objectSpread(_objectSpread({props:R},pe),{},{updateId:0}),_)),{},{prevDataKey:N,prevData:B,prevWidth:O,prevHeight:F,prevLayout:$,prevStackOffset:z,prevMargin:se,prevChildren:M})}if(N!==_.prevDataKey||B!==_.prevData||O!==_.prevWidth||F!==_.prevHeight||$!==_.prevLayout||z!==_.prevStackOffset||!shallowEqual(se,_.prevMargin)){var xe=createDefaultState(R),Ae={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},ue=_objectSpread(_objectSpread({},getTooltipData(_,B,$)),{},{updateId:_.updateId+1}),Y=_objectSpread(_objectSpread(_objectSpread({},xe),Ae),ue);return _objectSpread(_objectSpread(_objectSpread({},Y),w(_objectSpread({props:R},Y),_)),{},{prevDataKey:N,prevData:B,prevWidth:O,prevHeight:F,prevLayout:$,prevStackOffset:z,prevMargin:se,prevChildren:M})}if(!isChildrenEqual(M,_.prevChildren)){var fe,H,le,de,ye=findChildByType(M,Brush),ge=ye&&(fe=(H=ye.props)===null||H===void 0?void 0:H.startIndex)!==null&&fe!==void 0?fe:ce,je=ye&&(le=(de=ye.props)===null||de===void 0?void 0:de.endIndex)!==null&&le!==void 0?le:ie,Me=ge!==ce||je!==ie,He=!isNil(B),Qe=He&&!Me?_.updateId:_.updateId+1;return _objectSpread(_objectSpread({updateId:Qe},w(_objectSpread(_objectSpread({props:R},_),{},{updateId:Qe,dataStartIndex:ge,dataEndIndex:je}),_)),{},{prevChildren:M,dataStartIndex:ge,dataEndIndex:je})}return null}),_defineProperty$1(j,"renderActiveDot",function(R,_,N){var B;return reactExports.isValidElement(R)?B=reactExports.cloneElement(R,_):isFunction(R)?B=R(_):B=React.createElement(Dot,_),React.createElement(Layer,{className:"recharts-active-dot",key:N},B)});var E=reactExports.forwardRef(function(_,N){return React.createElement(j,_extends({},_,{ref:N}))});return E.displayName=j.displayName,E},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),RadarChart=generateCategoricalChart({chartName:"RadarChart",GraphicalChild:Radar,axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const weeklyProgressData=[{day:"å‘¨ä¸€",hours:2.5,completed:3},{day:"å‘¨äºŒ",hours:1.8,completed:2},{day:"å‘¨ä¸‰",hours:3.2,completed:4},{day:"å‘¨å››",hours:2.1,completed:2},{day:"å‘¨äº”",hours:2.8,completed:3},{day:"å‘¨å…­",hours:4.1,completed:5},{day:"å‘¨æ—¥",hours:3.5,completed:4}],subjectPerformanceData=[{subject:"æ•°å­¦",accuracy:85,completed:12,total:15},{subject:"è¯­æ–‡",accuracy:92,completed:8,total:10},{subject:"è‹±è¯­",accuracy:78,completed:10,total:12},{subject:"ç§‘å­¦",accuracy:88,completed:6,total:8}],mistakeAnalysisData=[{category:"åˆ†æ•°è¿ç®—",mistakes:8,color:"#EF4444"},{category:"å‡ ä½•å›¾å½¢",mistakes:5,color:"#F59E0B"},{category:"ä»£æ•°åŸºç¡€",mistakes:3,color:"#10B981"},{category:"åº”ç”¨é¢˜",mistakes:12,color:"#3B82F6"}],monthlyTrendData=[{month:"9æœˆ",score:75,time:45},{month:"10æœˆ",score:82,time:52},{month:"11æœˆ",score:78,time:48},{month:"12æœˆ",score:88,time:58},{month:"1æœˆ",score:85,time:55}],achievements=[{name:"è¿žç»­å­¦ä¹ 7å¤©",description:"ä¿æŒå­¦ä¹ ä¹ æƒ¯",earned:!0,date:"2024-01-15"},{name:"æ•°å­¦å°èƒ½æ‰‹",description:"æ•°å­¦æµ‹éªŒè¿žç»­3æ¬¡æ»¡åˆ†",earned:!0,date:"2024-01-20"},{name:"é˜…è¯»è¾¾äºº",description:"å®Œæˆ20ç¯‡é˜…è¯»ç†è§£",earned:!1,progress:75},{name:"å…¨èƒ½å­¦éœ¸",description:"æ‰€æœ‰ç§‘ç›®è¾¾åˆ°85åˆ†ä»¥ä¸Š",earned:!1,progress:60}],xuebaTraitsData=[{trait:"è‡ªé©±åŠ›",score:85,fullMark:100,icon:Zap,color:"#4285F4",description:"ä¸»åŠ¨è®¾å®šç›®æ ‡å¹¶åšæŒå®Œæˆ",metrics:[{name:"ä¸»åŠ¨å­¦ä¹ å¤©æ•°",value:24,total:30,unit:"å¤©"},{name:"ç›®æ ‡å®ŒæˆçŽ‡",value:88,total:100,unit:"%"},{name:"è‡ªä¸»è§„åˆ’é¢‘çŽ‡",value:15,total:20,unit:"æ¬¡"}],strengths:["èƒ½å¤Ÿè‡ªä¸»è®¾å®šå­¦ä¹ ç›®æ ‡","å­¦ä¹ ä¹ æƒ¯è‰¯å¥½"],improvements:["å¯ä»¥å°è¯•è®¾å®šæ›´å…·æŒ‘æˆ˜æ€§çš„ç›®æ ‡","å¢žåŠ é•¿æœŸç›®æ ‡è§„åˆ’"]},{trait:"ä¸“æ³¨åŠ›",score:78,fullMark:100,icon:Eye,color:"#34A853",description:"æŠµå¾¡å¹²æ‰°ï¼Œä¿æŒæ³¨æ„åŠ›é›†ä¸­",metrics:[{name:"å¹³å‡ä¸“æ³¨æ—¶é•¿",value:35,total:50,unit:"åˆ†é’Ÿ"},{name:"å¿ƒæµçŠ¶æ€æ¬¡æ•°",value:12,total:20,unit:"æ¬¡"},{name:"å¹²æ‰°æŠµå¾¡çŽ‡",value:72,total:100,unit:"%"}],strengths:["èƒ½å¤Ÿè¿›å…¥æ·±åº¦å­¦ä¹ çŠ¶æ€","å­¦ä¹ æ•ˆçŽ‡è¾ƒé«˜"],improvements:["å‡å°‘å­¦ä¹ çŽ¯å¢ƒä¸­çš„å¹²æ‰°å› ç´ ","å°è¯•ç•ªèŒ„å·¥ä½œæ³•æå‡ä¸“æ³¨"]},{trait:"äº«å—æ€è€ƒ",score:92,fullMark:100,icon:Brain,color:"#FBBC05",description:"ä¹äºŽåŠ¨è„‘ç­‹ï¼Œå–œæ¬¢æé—®å’ŒæŽ¢è®¨",metrics:[{name:"ä¸»åŠ¨æé—®æ¬¡æ•°",value:28,total:30,unit:"æ¬¡"},{name:"æ·±åº¦æ€è€ƒé¢˜å®Œæˆ",value:18,total:20,unit:"é¢˜"},{name:"æŽ¢ç´¢æ€§å­¦ä¹ ",value:85,total:100,unit:"%"}],strengths:["å–„äºŽæå‡ºé—®é¢˜","æ€è€ƒæ·±åº¦ä¼˜ç§€","å­¦ä¹ ä¸»åŠ¨æ€§å¼º"],improvements:["å¯ä»¥å°è¯•æ›´å¤šè·¨å­¦ç§‘æ€è€ƒ"]},{trait:"ç—´è¿·æ”¹è¿›",score:88,fullMark:100,icon:Repeat,color:"#EA4335",description:"å¯¹è‡ªèº«å­¦ä¹ çš„åæ€ä¸Žä¼˜åŒ–",metrics:[{name:"é”™é¢˜å¤ä¹ çŽ‡",value:92,total:100,unit:"%"},{name:"å­¦ä¹ åæ€æ¬¡æ•°",value:16,total:20,unit:"æ¬¡"},{name:"æ–¹æ³•ä¼˜åŒ–é¢‘çŽ‡",value:14,total:15,unit:"æ¬¡"}],strengths:["å–„äºŽä»Žé”™è¯¯ä¸­å­¦ä¹ ","æŒç»­ä¼˜åŒ–å­¦ä¹ æ–¹æ³•","åæ€èƒ½åŠ›å¼º"],improvements:["å»ºç«‹æ›´ç³»ç»Ÿçš„é”™é¢˜æœ¬","å®šæœŸæ€»ç»“å­¦ä¹ æ–¹æ³•"]}],radarData=xuebaTraitsData.map(e=>({subject:e.trait,score:e.score,fullMark:e.fullMark})),traitTrendData=[{month:"9æœˆ",è‡ªé©±åŠ›:75,ä¸“æ³¨åŠ›:68,äº«å—æ€è€ƒ:85,ç—´è¿·æ”¹è¿›:78},{month:"10æœˆ",è‡ªé©±åŠ›:78,ä¸“æ³¨åŠ›:72,äº«å—æ€è€ƒ:88,ç—´è¿·æ”¹è¿›:82},{month:"11æœˆ",è‡ªé©±åŠ›:80,ä¸“æ³¨åŠ›:75,äº«å—æ€è€ƒ:90,ç—´è¿·æ”¹è¿›:85},{month:"12æœˆ",è‡ªé©±åŠ›:82,ä¸“æ³¨åŠ›:76,äº«å—æ€è€ƒ:91,ç—´è¿·æ”¹è¿›:86},{month:"1æœˆ",è‡ªé©±åŠ›:85,ä¸“æ³¨åŠ›:78,äº«å—æ€è€ƒ:92,ç—´è¿·æ”¹è¿›:88}];function ReportsPage(){const[e,t]=reactExports.useState("week"),[n,o]=reactExports.useState("all"),{analytics:l,loading:u,refresh:d}=useAnalytics();return u?jsxRuntimeExports.jsx("div",{className:"p-4 md:p-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-[#4F46E5] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"åŠ è½½å­¦ä¹ æŠ¥å‘Šä¸­..."})]})})}):jsxRuntimeExports.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-medium",children:"å­¦ä¹ æŠ¥å‘Š"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"æŸ¥çœ‹æ‚¨çš„å­¦ä¹ è¿›å±•å’Œè¡¨çŽ°åˆ†æž"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:d,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2"}),"åˆ·æ–°"]}),jsxRuntimeExports.jsxs(Select,{value:e,onValueChange:t,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-28 md:w-32",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"week",children:"æœ¬å‘¨"}),jsxRuntimeExports.jsx(SelectItem,{value:"month",children:"æœ¬æœˆ"}),jsxRuntimeExports.jsx(SelectItem,{value:"quarter",children:"æœ¬å­£åº¦"})]})]}),jsxRuntimeExports.jsxs(Select,{value:n,onValueChange:o,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-28 md:w-32",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"å…¨éƒ¨ç§‘ç›®"}),jsxRuntimeExports.jsx(SelectItem,{value:"math",children:"æ•°å­¦"}),jsxRuntimeExports.jsx(SelectItem,{value:"chinese",children:"è¯­æ–‡"}),jsxRuntimeExports.jsx(SelectItem,{value:"english",children:"è‹±è¯­"}),jsxRuntimeExports.jsx(SelectItem,{value:"science",children:"ç§‘å­¦"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"æ€»å­¦ä¹ æ—¶é•¿"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:l?`${Math.round(l.totalTimeSpent/3600*10)/10}å°æ—¶`:"0å°æ—¶"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:"æŒç»­å­¦ä¹ ä¸­"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#4F46E5]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6 text-[#4F46E5]"})})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"å®Œæˆç« èŠ‚"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:l?`${l.completedChapters}/${l.totalChapters}ç« `:"0/5ç« "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:"æŒç»­è¿›æ­¥"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#22C55E]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-[#22C55E]"})})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"å¹³å‡æ­£ç¡®çŽ‡"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:l?`${Math.round(l.averageScore)}%`:"0%"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:"æŒç»­æå‡"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#FACC15]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-6 h-6 text-[#FACC15]"})})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"èŽ·å¾—å¾½ç« "}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-medium",children:"12ä¸ª"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#22C55E]",children:"+2ä¸ª vs ä¸Šå‘¨"})]}),jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#EF4444]/10 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Trophy,{className:"w-6 h-6 text-[#EF4444]"})})]})})})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"overview",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"å­¦ä¹ æ¦‚è§ˆ"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"xueba-traits",children:"å­¦éœ¸ç‰¹è´¨"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"performance",children:"å­¦ç§‘è¡¨çŽ°"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"mistakes",children:"é”™é¢˜åˆ†æž"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"achievements",children:"æˆå°±å¾½ç« "})]}),jsxRuntimeExports.jsx(TabsContent,{value:"overview",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"æœ¬å‘¨å­¦ä¹ è¿›åº¦"}),jsxRuntimeExports.jsx(CardDescription,{children:"æ¯æ—¥å­¦ä¹ æ—¶é•¿å’Œå®Œæˆç« èŠ‚æ•°"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(BarChart,{data:weeklyProgressData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#E0E0E0"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"day",tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(YAxis,{tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"hours",fill:"#4285F4",name:"å­¦ä¹ æ—¶é•¿(å°æ—¶)"}),jsxRuntimeExports.jsx(Bar,{dataKey:"completed",fill:"#34A853",name:"å®Œæˆç« èŠ‚"})]})})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"æœˆåº¦è¶‹åŠ¿"}),jsxRuntimeExports.jsx(CardDescription,{children:"å­¦ä¹ æˆç»©å’Œæ—¶é•¿å˜åŒ–è¶‹åŠ¿"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:monthlyTrendData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"score",stroke:"#4F46E5",name:"å¹³å‡åˆ†"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"time",stroke:"#22C55E",name:"å­¦ä¹ ï¿½ï¿½ï¿½é•¿"})]})})})]})]})}),jsxRuntimeExports.jsxs(TabsContent,{value:"xueba-traits",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-6 h-6 text-primary"}),jsxRuntimeExports.jsx("span",{children:"å­¦éœ¸å››ç‰¹è´¨è¯„ä¼°"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"å­¦éœ¸çš„æ ¸å¿ƒç´ å…»ä½“çŽ°åœ¨è‡ªé©±åŠ›ã€ä¸“æ³¨åŠ›ã€äº«å—æ€è€ƒå’Œç—´è¿·æ”¹è¿›å››ä¸ªæ–¹é¢"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:xuebaTraitsData.map(A=>{const m=A.icon,f=A.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":A.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":A.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",g=A.color==="#4285F4"?"text-[#4285F4]":A.color==="#34A853"?"text-[#34A853]":A.color==="#FBBC05"?"text-[#FBBC05]":"text-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"text-center p-3 md:p-4 bg-background rounded-lg border",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 mx-auto mb-2 md:mb-3 rounded-full flex items-center justify-center ${f}`,children:jsxRuntimeExports.jsx(m,{className:"w-5 h-5 md:w-6 md:h-6"})}),jsxRuntimeExports.jsx("h3",{className:"font-medium mb-1 text-sm md:text-base",children:A.trait}),jsxRuntimeExports.jsx("div",{className:`text-xl md:text-2xl font-medium mb-1 ${g}`,children:A.score}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["æ»¡åˆ† ",A.fullMark]})]},A.trait)})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"å››ç‰¹è´¨é›·è¾¾å›¾"}),jsxRuntimeExports.jsx(CardDescription,{children:"å…¨æ–¹ä½å±•ç¤ºæ‚¨çš„å­¦éœ¸ç‰¹è´¨åˆ†å¸ƒ"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(RadarChart,{data:radarData,children:[jsxRuntimeExports.jsx(PolarGrid,{stroke:"#E0E0E0"}),jsxRuntimeExports.jsx(PolarAngleAxis,{dataKey:"subject",tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(PolarRadiusAxis,{angle:90,domain:[0,100],tick:{fill:"#5F6368",fontSize:10}}),jsxRuntimeExports.jsx(Radar,{name:"å½“å‰æ°´å¹³",dataKey:"score",stroke:"#1A73E8",fill:"#1A73E8",fillOpacity:.6,strokeWidth:2}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}})]})})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"ç‰¹è´¨å‘å±•è¶‹åŠ¿"}),jsxRuntimeExports.jsx(CardDescription,{children:"è¿‡åŽ»5ä¸ªæœˆçš„å››ç‰¹è´¨å˜åŒ–"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(LineChart,{data:traitTrendData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#E0E0E0"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month",tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(YAxis,{domain:[60,100],tick:{fill:"#5F6368",fontSize:12}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{fontSize:"12px"}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"è‡ªé©±åŠ›",stroke:"#4285F4",strokeWidth:2,dot:{fill:"#4285F4",r:4}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"ä¸“æ³¨åŠ›",stroke:"#34A853",strokeWidth:2,dot:{fill:"#34A853",r:4}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"äº«å—æ€è€ƒ",stroke:"#FBBC05",strokeWidth:2,dot:{fill:"#FBBC05",r:4}}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"ç—´è¿·æ”¹è¿›",stroke:"#EA4335",strokeWidth:2,dot:{fill:"#EA4335",r:4}})]})})})})]})]}),jsxRuntimeExports.jsx("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:xuebaTraitsData.map(A=>{const m=A.icon,f=A.color==="#4285F4"?"border-l-[#4285F4]":A.color==="#34A853"?"border-l-[#34A853]":A.color==="#FBBC05"?"border-l-[#FBBC05]":"border-l-[#EA4335]",g=A.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":A.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":A.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",v=A.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":A.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":A.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]";return jsxRuntimeExports.jsxs(Card,{className:`border-l-4 ${f}`,children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center ${g}`,children:jsxRuntimeExports.jsx(m,{className:"w-4 h-4 md:w-5 md:h-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-base md:text-lg",children:A.trait}),jsxRuntimeExports.jsx(CardDescription,{className:"text-xs md:text-sm",children:A.description})]})]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:`text-base md:text-lg ${v}`,children:[A.score,"åˆ†"]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3 md:space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 md:space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium flex items-center space-x-2 text-sm md:text-base",children:[jsxRuntimeExports.jsx(Target,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsx("span",{children:"å…³é”®æŒ‡æ ‡"})]}),A.metrics.map((b,w)=>{const j=A.color==="#4285F4"?"[&>div]:bg-[#4285F4]":A.color==="#34A853"?"[&>div]:bg-[#34A853]":A.color==="#FBBC05"?"[&>div]:bg-[#FBBC05]":"[&>div]:bg-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:b.name}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[b.value,b.unit," / ",b.total,b.unit]})]}),jsxRuntimeExports.jsx(Progress,{value:b.value/b.total*100,className:`h-1.5 md:h-2 ${j}`})]},w)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium flex items-center space-x-2 text-[#34A853] text-sm md:text-base",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsx("span",{children:"ä¼˜åŠ¿è¡¨çŽ°"})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:A.strengths.map((b,w)=>jsxRuntimeExports.jsxs("li",{className:"text-xs md:text-sm text-muted-foreground flex items-start space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[#34A853] mt-0.5 flex-shrink-0",children:"âœ“"}),jsxRuntimeExports.jsx("span",{children:b})]},w))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium flex items-center space-x-2 text-[#FBBC05] text-sm md:text-base",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsx("span",{children:"æ”¹è¿›å»ºè®®"})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:A.improvements.map((b,w)=>jsxRuntimeExports.jsxs("li",{className:"text-xs md:text-sm text-muted-foreground flex items-start space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[#FBBC05] mt-0.5 flex-shrink-0",children:"â†’"}),jsxRuntimeExports.jsx("span",{children:b})]},w))})]})]})]},A.trait)})}),jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2 text-base md:text-lg",children:[jsxRuntimeExports.jsx(Award,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),jsxRuntimeExports.jsx("span",{children:"ç»¼åˆè¯„ä»·"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3 md:space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium mb-2 md:mb-3 flex items-center space-x-2 text-sm md:text-base",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 md:w-4 md:h-4 text-[#34A853]"}),jsxRuntimeExports.jsx("span",{children:"çªå‡ºç‰¹è´¨"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:xuebaTraitsData.sort((A,m)=>m.score-A.score).slice(0,2).map(A=>{const m=A.icon,f=A.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":A.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":A.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",g=A.color==="#4285F4"?"text-[#4285F4]":A.color==="#34A853"?"text-[#34A853]":A.color==="#FBBC05"?"text-[#FBBC05]":"text-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"p-2.5 md:p-3 rounded-lg border bg-background flex items-center space-x-2 md:space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center flex-shrink-0 ${f}`,children:jsxRuntimeExports.jsx(m,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:A.trait}),jsxRuntimeExports.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:A.description})]}),jsxRuntimeExports.jsx("div",{className:`text-base md:text-lg font-medium flex-shrink-0 ${g}`,children:A.score})]},A.trait)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium mb-2 md:mb-3 flex items-center space-x-2 text-sm md:text-base",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"w-3 h-3 md:w-4 md:h-4 text-[#FBBC05]"}),jsxRuntimeExports.jsx("span",{children:"æå‡ç©ºé—´"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:xuebaTraitsData.sort((A,m)=>A.score-m.score).slice(0,2).map(A=>{const m=A.icon,f=A.color==="#4285F4"?"bg-[#4285F4]/10 text-[#4285F4]":A.color==="#34A853"?"bg-[#34A853]/10 text-[#34A853]":A.color==="#FBBC05"?"bg-[#FBBC05]/10 text-[#FBBC05]":"bg-[#EA4335]/10 text-[#EA4335]",g=A.color==="#4285F4"?"text-[#4285F4]":A.color==="#34A853"?"text-[#34A853]":A.color==="#FBBC05"?"text-[#FBBC05]":"text-[#EA4335]";return jsxRuntimeExports.jsxs("div",{className:"p-2.5 md:p-3 rounded-lg border bg-background flex items-center space-x-2 md:space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center flex-shrink-0 ${f}`,children:jsxRuntimeExports.jsx(m,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:A.trait}),jsxRuntimeExports.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:"è¿˜æœ‰è¿›æ­¥ç©ºé—´"})]}),jsxRuntimeExports.jsx("div",{className:`text-base md:text-lg font-medium flex-shrink-0 ${g}`,children:A.score})]},A.trait)})})]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 md:p-4 bg-background rounded-lg border",children:jsxRuntimeExports.jsxs("p",{className:"text-xs md:text-sm leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-primary",children:"æ€»ä½“è¯„ä»·ï¼š"}),'æ‚¨åœ¨"äº«å—æ€è€ƒ"å’Œ"ç—´è¿·æ”¹è¿›"æ–¹é¢è¡¨çŽ°ä¼˜å¼‚ï¼Œå±•çŽ°å‡ºäº†å­¦éœ¸çš„æ ¸å¿ƒç´ å…»ã€‚ åŒæ—¶ï¼Œåœ¨"è‡ªé©±åŠ›"å’Œ"ä¸“æ³¨åŠ›"æ–¹é¢ä¹Ÿæœ‰ä¸é”™çš„è¡¨çŽ°ã€‚ å»ºè®®ç»§ç»­ä¿æŒå¯¹å­¦ä¹ çš„çƒ­æƒ…ï¼ŒåŒæ—¶é€šè¿‡æ”¹å–„å­¦ä¹ çŽ¯å¢ƒå’Œæ–¹æ³•æ¥è¿›ä¸€æ­¥æå‡ä¸“æ³¨åŠ›ã€‚ ç›¸ä¿¡é€šè¿‡æŒç»­åŠªåŠ›ï¼Œå››å¤§ç‰¹è´¨å°†å¾—åˆ°å…¨é¢å‘å±•ï¼ŒåŠ©åŠ›æ‚¨åœ¨å­¦ä¸šä¸Šå–å¾—æ›´å¤§çš„æˆåŠŸï¼']})})]})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"performance",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"å„ç§‘ç›®è¡¨çŽ°"}),jsxRuntimeExports.jsx(CardDescription,{children:"æŸ¥çœ‹ä¸åŒç§‘ç›®çš„å­¦ä¹ è¿›åº¦å’Œæ­£ç¡®çŽ‡"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4 md:space-y-6",children:subjectPerformanceData.map(A=>jsxRuntimeExports.jsxs("div",{className:"space-y-2 md:space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm md:text-base",children:A.subject}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs md:text-sm",children:["æ­£ç¡®çŽ‡ ",A.accuracy,"%"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs md:text-sm text-gray-600",children:[A.completed,"/",A.total," ç« èŠ‚"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:"å®Œæˆè¿›åº¦"}),jsxRuntimeExports.jsxs("span",{children:[Math.round(A.completed/A.total*100),"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:A.completed/A.total*100,className:"h-1.5 md:h-2 [&>div]:bg-[#4285F4]"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:"æŽŒæ¡ç¨‹åº¦"}),jsxRuntimeExports.jsxs("span",{children:[A.accuracy,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:A.accuracy,className:`h-1.5 md:h-2 ${A.accuracy>=85?"[&>div]:bg-[#34A853]":A.accuracy>=70?"[&>div]:bg-[#FBBC05]":"[&>div]:bg-[#EA4335]"}`})]})]},A.subject))})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"mistakes",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"é”™é¢˜åˆ†å¸ƒ"}),jsxRuntimeExports.jsx(CardDescription,{children:"æŒ‰çŸ¥è¯†ç‚¹åˆ†ç±»çš„é”™é¢˜ç»Ÿè®¡"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,minWidth:280,children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:mistakeAnalysisData,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,value:m})=>`${A}: ${m}`,outerRadius:80,fill:"#8884d8",dataKey:"mistakes",children:mistakeAnalysisData.map((A,m)=>jsxRuntimeExports.jsx(Cell,{fill:A.color},`cell-${m}`))}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:"8px",color:"#202124"}})]})})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"é‡ç‚¹å…³æ³¨"}),jsxRuntimeExports.jsx(CardDescription,{children:"éœ€è¦åŠ å¼ºç»ƒä¹ çš„çŸ¥è¯†ç‚¹"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-3 md:space-y-4",children:mistakeAnalysisData.sort((A,m)=>m.mistakes-A.mistakes).map(A=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2.5 md:p-3 border rounded-lg gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 min-w-0 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4 rounded-full flex-shrink-0",style:{backgroundColor:A.color}}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:A.category}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] md:text-sm text-gray-600",children:[A.mistakes," é“é”™é¢˜"]})]})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"flex-shrink-0 text-xs md:text-sm",children:"ä¸“é¡¹ç»ƒä¹ "})]},A.category))})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"achievements",className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:achievements.map((A,m)=>jsxRuntimeExports.jsx(Card,{className:`${A.earned?"border-[#34A853]":"border-gray-200"}`,children:jsxRuntimeExports.jsx(CardContent,{className:"p-4 md:p-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 mb-2",children:[jsxRuntimeExports.jsx("div",{className:`text-xl md:text-2xl ${!A.earned&&"grayscale"}`,children:A.earned?"ðŸ†":"ðŸŽ¯"}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-sm md:text-base",children:A.name}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:A.description})]})]}),A.earned?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-xs md:text-sm text-[#34A853]",children:[jsxRuntimeExports.jsx(Award,{className:"w-3 h-3 md:w-4 md:h-4"}),jsxRuntimeExports.jsxs("span",{children:["å·²èŽ·å¾— - ",A.date]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs md:text-sm",children:[jsxRuntimeExports.jsx("span",{children:"è¿›åº¦"}),jsxRuntimeExports.jsxs("span",{children:[A.progress,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:A.progress,className:"h-1.5 md:h-2 [&>div]:bg-[#4285F4]"})]})]})})})},m))})})]})]})}const mockPaths=[{id:"math-foundation",title:"æ•°å­¦åŸºç¡€å¼ºåŒ–",description:"æ ¹æ®ä½ çš„æµ‹éªŒç»“æžœï¼Œä¸ºä½ é‡èº«å®šåˆ¶çš„æ•°å­¦åŸºç¡€å¼ºåŒ–è·¯å¾„ï¼Œé‡ç‚¹åŠ å¼ºåˆ†æ•°è¿ç®—å’Œæ–¹ç¨‹è§£æ³•",difficulty:"intermediate",duration:"4-6å‘¨",subjects:["æ•°å­¦","ä»£æ•°"],chapters:15,enrollments:2341,rating:4.8,completion:35,personalizedMatch:98,prerequisites:["åŸºç¡€ç®—æœ¯"],outcomes:["æŽŒæ¡åˆ†æ•°è¿ç®—","ç†è§£ä¸€å…ƒæ–¹ç¨‹","æå‡æ•°å­¦æ€ç»´"],badges:["åˆ†æ•°ä¸“å®¶","æ–¹ç¨‹æ±‚è§£è€…"],type:"recommended"},{id:"science-explorer",title:"ç§‘å­¦æŽ¢ç´¢ä¹‹æ—…",description:"ç»“åˆä½ å¯¹å®žéªŒå’Œè§‚å¯Ÿçš„å…´è¶£ï¼Œé€šè¿‡åŠ¨æ‰‹å®žéªŒå­¦ä¹ ç‰©ç†å’ŒåŒ–å­¦åŸºç¡€çŸ¥è¯†",difficulty:"beginner",duration:"6-8å‘¨",subjects:["ç‰©ç†","åŒ–å­¦","ç§‘å­¦"],chapters:20,enrollments:1876,rating:4.7,completion:0,personalizedMatch:92,prerequisites:["åŸºç¡€ç§‘å­¦çŸ¥è¯†"],outcomes:["ç†è§£ç‰©ç†çŽ°è±¡","æŽŒæ¡å®žéªŒæ–¹æ³•","åŸ¹å…»ç§‘å­¦æ€ç»´"],badges:["å°ç§‘å­¦å®¶","å®žéªŒè¾¾äºº"],type:"recommended"},{id:"language-skills",title:"è‹±è¯­é˜…è¯»æå‡",description:"åŸºäºŽä½ çš„è‹±è¯­æ°´å¹³ï¼Œé€šè¿‡åˆ†çº§é˜…è¯»å’Œè¯­éŸ³ç»ƒä¹ æå‡è¯­è¨€èƒ½åŠ›",difficulty:"intermediate",duration:"8-10å‘¨",subjects:["è‹±è¯­","è¯­è¨€"],chapters:25,enrollments:3210,rating:4.6,completion:12,personalizedMatch:85,prerequisites:["åŸºç¡€è‹±è¯­è¯­æ³•"],outcomes:["æå‡é˜…è¯»ç†è§£","æ‰©å¤§è¯æ±‡é‡","æ”¹å–„å‘éŸ³"],badges:["é˜…è¯»è¾¾äºº","è¯æ±‡ä¸“å®¶"],type:"trending"},{id:"creative-thinking",title:"åˆ›æ„æ€ç»´è®­ç»ƒ",description:"å‘æŒ¥ä½ çš„åˆ›é€ åŠ›ï¼Œé€šè¿‡è‰ºæœ¯å’Œè®¾è®¡é¡¹ç›®åŸ¹å…»åˆ›æ–°æ€ç»´èƒ½åŠ›",difficulty:"beginner",duration:"5-7å‘¨",subjects:["è‰ºæœ¯","è®¾è®¡","åˆ›æ–°"],chapters:18,enrollments:1543,rating:4.9,completion:0,personalizedMatch:78,prerequisites:["æ— "],outcomes:["åŸ¹å…»åˆ›é€ åŠ›","æå‡è®¾è®¡èƒ½åŠ›","å‘å±•è‰ºæœ¯é‰´èµ"],badges:["åˆ›æ„å¤§å¸ˆ","è®¾è®¡æ–°æ˜Ÿ"],type:"custom"},{id:"math-remedial",title:"æ•°å­¦å¼±é¡¹çªç ´",description:"é’ˆå¯¹ä½ åœ¨å‡ ä½•å’Œç»Ÿè®¡æ–¹é¢çš„è–„å¼±çŽ¯èŠ‚ï¼Œä¸“é—¨è®¾è®¡çš„å¼ºåŒ–è®­ç»ƒè·¯å¾„",difficulty:"intermediate",duration:"3-4å‘¨",subjects:["æ•°å­¦","å‡ ä½•","ç»Ÿè®¡"],chapters:12,enrollments:892,rating:4.5,completion:0,personalizedMatch:88,prerequisites:["åŸºç¡€æ•°å­¦"],outcomes:["æŽŒæ¡å‡ ä½•åŽŸç†","ç†è§£ç»Ÿè®¡æ–¹æ³•","æå‡ç©ºé—´æƒ³è±¡"],badges:["å‡ ä½•é«˜æ‰‹","æ•°æ®åˆ†æžå¸ˆ"],type:"remedial"}];function LearningPathsPage({onStartPath:e}){const{user:t}=useAuth(),[n,o]=reactExports.useState("all"),[l,u]=reactExports.useState("all"),d=()=>mockPaths.filter(g=>{const v=n==="all"||g.type===n,b=l==="all"||g.difficulty===l;return v&&b}).sort((g,v)=>v.personalizedMatch-g.personalizedMatch),A=g=>{switch(g){case"beginner":return"bg-[#34A853] text-white";case"intermediate":return"bg-[#FBBC05] text-[#202124]";case"advanced":return"bg-[#EA4335] text-white";default:return"bg-[#5F6368] text-white"}},m=g=>{switch(g){case"recommended":return"bg-[#1A73E8] text-white";case"trending":return"bg-[#4285F4] text-white";case"custom":return"bg-[#34A853] text-white";case"remedial":return"bg-[#EA4335] text-white";default:return"bg-[#5F6368] text-white"}},f=g=>{switch(g){case"recommended":return"AIæŽ¨è";case"trending":return"çƒ­é—¨è·¯å¾„";case"custom":return"ä¸ªæ€§å®šåˆ¶";case"remedial":return"å¼±é¡¹å¼ºåŒ–";default:return g}};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl text-[#202124] mb-2",children:"ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„"}),jsxRuntimeExports.jsx("p",{className:"text-[#5F6368]",children:"åŸºäºŽä½ çš„å­¦ä¹ è¡¨çŽ°å’Œå…´è¶£åå¥½ï¼ŒAIä¸ºä½ æŽ¨èæœ€é€‚åˆçš„å­¦ä¹ è·¯å¾„"})]}),t&&jsxRuntimeExports.jsx(Card,{className:"mb-8 border-[#1A73E8]/20 bg-gradient-to-r from-[#1A73E8]/5 to-[#4285F4]/5",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-medium text-[#202124] mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-[#1A73E8]"}),"å­¦ä¹ ç”»åƒåˆ†æž"]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"å¹´çº§æ°´å¹³ï¼š"}),t.grade?.replace("grade",""),"å¹´çº§"]}),jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"å…´è¶£é¢†åŸŸï¼š"}),t.interests?.join("ã€")||"å¾…å®Œå–„"]}),jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"å­¦ä¹ é£Žæ ¼ï¼š"}),"è§†è§‰åž‹å­¦ä¹ è€…"]}),jsxRuntimeExports.jsxs("p",{className:"text-[#5F6368]",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"å¼ºé¡¹ç§‘ç›®ï¼š"}),"æ•°å­¦ã€ç§‘å­¦"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#1A73E8] rounded-full flex items-center justify-center text-white font-medium text-lg mb-2",children:"85"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368]",children:"ç»¼åˆèƒ½åŠ›"})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"mb-8 flex flex-wrap gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Funnel,{className:"w-4 h-4 text-[#5F6368]"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-[#5F6368]",children:"ç­›é€‰ï¼š"})]}),jsxRuntimeExports.jsxs("select",{value:n,onChange:g=>o(g.target.value),className:"px-3 py-2 border border-[#E0E0E0] rounded-lg text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"æ‰€æœ‰ç±»åž‹"}),jsxRuntimeExports.jsx("option",{value:"recommended",children:"AIæŽ¨è"}),jsxRuntimeExports.jsx("option",{value:"trending",children:"çƒ­é—¨è·¯å¾„"}),jsxRuntimeExports.jsx("option",{value:"custom",children:"ä¸ªæ€§å®šåˆ¶"}),jsxRuntimeExports.jsx("option",{value:"remedial",children:"å¼±é¡¹å¼ºåŒ–"})]}),jsxRuntimeExports.jsxs("select",{value:l,onChange:g=>u(g.target.value),className:"px-3 py-2 border border-[#E0E0E0] rounded-lg text-sm bg-white",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"æ‰€æœ‰éš¾åº¦"}),jsxRuntimeExports.jsx("option",{value:"beginner",children:"åˆçº§"}),jsxRuntimeExports.jsx("option",{value:"intermediate",children:"ä¸­çº§"}),jsxRuntimeExports.jsx("option",{value:"advanced",children:"é«˜çº§"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:d().map(g=>jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow group",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{className:m(g.type),children:f(g.type)}),jsxRuntimeExports.jsx(Badge,{className:A(g.difficulty),children:g.difficulty==="beginner"?"åˆçº§":g.difficulty==="intermediate"?"ä¸­çº§":"é«˜çº§"}),g.personalizedMatch>=90&&jsxRuntimeExports.jsxs(Badge,{className:"bg-[#FBBC05] text-[#202124]",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 mr-1"}),"æœ€ä½³åŒ¹é…"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-medium text-[#1A73E8]",children:[g.personalizedMatch,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-[#5F6368]",children:"åŒ¹é…åº¦"})]})]}),jsxRuntimeExports.jsx(CardTitle,{className:"group-hover:text-[#1A73E8] transition-colors",children:g.title}),jsxRuntimeExports.jsx(CardDescription,{className:"text-[#5F6368] leading-relaxed",children:g.description})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:g.duration})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[g.chapters," ç« èŠ‚"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 fill-[#FBBC05] text-[#FBBC05]"}),jsxRuntimeExports.jsx("span",{children:g.rating})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[#5F6368]",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:g.enrollments.toLocaleString()})]})]}),g.completion>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-[#5F6368]",children:"å­¦ä¹ è¿›åº¦"}),jsxRuntimeExports.jsxs("span",{className:"text-[#1A73E8] font-medium",children:[g.completion,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:g.completion,className:"h-2"})]}),g.prerequisites.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-[#202124] mb-2",children:"å‰ç½®è¦æ±‚"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:g.prerequisites.map((v,b)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:v},b))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-[#202124] mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4"}),"å­¦ä¹ ç›®æ ‡"]}),jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:g.outcomes.slice(0,3).map((v,b)=>jsxRuntimeExports.jsxs("li",{className:"text-sm text-[#5F6368] flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 text-[#34A853]"}),v]},b))})]}),g.badges.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-medium text-[#202124] mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Award,{className:"w-4 h-4"}),"å¯èŽ·å¾—å¾½ç« "]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:g.badges.map((v,b)=>jsxRuntimeExports.jsx(Badge,{className:"bg-[#FBBC05] text-[#202124] text-xs",children:v},b))})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>e(g.id),className:"w-full bg-[#1A73E8] hover:bg-[#1557B0] text-white",children:[g.completion>0?"ç»§ç»­å­¦ä¹ ":"å¼€å§‹è·¯å¾„",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 ml-2"})]})]})]},g.id))}),jsxRuntimeExports.jsxs(Card,{className:"mt-12 border-[#4285F4]/20",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-[#4285F4]"}),"AI æ™ºèƒ½æŽ¨è"]}),jsxRuntimeExports.jsx(CardDescription,{children:"åŸºäºŽä½ çš„å­¦ä¹ æ•°æ®å’Œè¡¨çŽ°ï¼ŒAIå»ºè®®ä½ ä¼˜å…ˆå…³æ³¨ä»¥ä¸‹è·¯å¾„"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[#E3F2FD] rounded-lg border border-[#1A73E8]/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#1A73E8] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-[#202124] mb-1",children:"ä¼˜å…ˆæŽ¨è"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368] mb-2",children:"æ•°å­¦åŸºç¡€å¼ºåŒ–è·¯å¾„æœ€é€‚åˆä½ å½“å‰çš„å­¦ä¹ æ°´å¹³ï¼Œå»ºè®®ä¼˜å…ˆå®Œæˆ"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:"ç«‹å³å¼€å§‹"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[#FFF3E0] rounded-lg border border-[#FBBC05]/20",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#FBBC05] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6 text-[#202124]"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-[#202124] mb-1",children:"å¼±é¡¹æå‡"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-[#5F6368] mb-2",children:"æ£€æµ‹åˆ°å‡ ä½•å’Œç»Ÿè®¡æ˜¯ä½ çš„è–„å¼±çŽ¯èŠ‚ï¼Œå»ºè®®å‚åŠ ä¸“é¡¹å¼ºåŒ–è®­ç»ƒ"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:"æŸ¥çœ‹è¯¦æƒ…"})]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"mt-6",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-5 h-5 text-[#34A853]"}),"åˆ›å»ºè‡ªå®šä¹‰è·¯å¾„"]}),jsxRuntimeExports.jsx(CardDescription,{children:"æ ¹æ®ä½ çš„ç‰¹å®šéœ€æ±‚å’Œå…´è¶£ï¼Œåˆ›å»ºä¸“å±žçš„å­¦ä¹ è·¯å¾„"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#5F6368] mb-2",children:"å‘Šè¯‰æˆ‘ä»¬ä½ æƒ³è¦å­¦ä¹ çš„å†…å®¹å’Œç›®æ ‡ï¼Œæˆ‘ä»¬å°†ä¸ºä½ é‡èº«å®šåˆ¶å­¦ä¹ è·¯å¾„"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"è‡ªå®šä¹‰å†…å®¹"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"çµæ´»å®‰æŽ’"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"ä¸ªäººå¯¼å¸ˆ"})]})]}),jsxRuntimeExports.jsx(Button,{className:"bg-[#34A853] hover:bg-[#2E7D32] text-white",children:"å¼€å§‹å®šåˆ¶"})]})})]})]})}function PDFUploadFlow({onComplete:e,onPersonalize:t,onBack:n}){const[o,l]=reactExports.useState("upload"),[u,d]=reactExports.useState(null),{user:A}=useAuth(),m=w=>{const j=w.target.files?.[0];console.log("File selected:",j),j&&j.type==="application/pdf"?(console.log("Valid PDF file, proceeding to uploaded state"),d(j),l("uploaded")):j&&(console.log("Invalid file type:",j.type),alert("è¯·é€‰æ‹©PDFæ ¼å¼çš„æ–‡ä»¶"))},f=()=>{l("summary")},g=()=>{A&&t({fileName:u?.name||"Unknown file",grade:A.grade,interests:A.interests})},v=w=>({grade1:"ä¸€å¹´çº§",grade2:"äºŒå¹´çº§",grade3:"ä¸‰å¹´çº§",grade4:"å››å¹´çº§",grade5:"äº”å¹´çº§",grade6:"å…­å¹´çº§",grade7:"ä¸ƒå¹´çº§",grade8:"å…«å¹´çº§",grade9:"ä¹å¹´çº§",grade10:"åå¹´çº§",grade11:"åä¸€å¹´çº§",grade12:"åäºŒå¹´çº§"})[w]||w,b=w=>{const j={basketball:"ç¯®çƒ",music:"éŸ³ä¹",art:"ç¾Žæœ¯",reading:"é˜…è¯»",games:"æ¸¸æˆ",photography:"æ‘„å½±",science:"ç§‘å­¦",geography:"åœ°ç†",math:"æ•°å­¦"};return w.map(E=>j[E]||E)};return o==="summary"?A?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F5F3F0] flex items-center justify-center p-6 relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>l("uploaded"),className:"absolute top-6 left-6 text-gray-600 hover:text-gray-800",children:"â† è¿”å›ž"}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#81C784] rounded-full flex items-center justify-center text-white font-medium text-lg",children:v(A.grade).replace("å¹´çº§","")}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 bg-white px-6 py-3 rounded-full",children:v(A.grade)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#E1BEE7] rounded-full flex items-center justify-center text-2xl",children:"ðŸŽ¨"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-600 bg-white px-6 py-3 rounded-full",children:["å…´è¶£çˆ±å¥½ (",A.interests.length,")"]})]})]}),A.interests.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-md mx-auto",children:b(A.interests).map((w,j)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:w},j))}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:["ä¿¡æ¯æœ‰è¯¯ï¼Ÿå¯åœ¨",jsxRuntimeExports.jsx("span",{className:"text-primary font-medium",children:"è®¾ç½®"}),"ä¸­ä¿®æ”¹å¹´çº§å’Œå…´è¶£åå¥½"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-4 bg-white rounded-2xl px-8 py-4 mx-auto w-fit",children:[jsxRuntimeExports.jsx("div",{className:"bg-[#EA4335] text-white px-3 py-1 rounded text-sm font-medium",children:"PDF"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 text-lg",children:u?.name||"Newton's Third Law of Motion.pdf"})]}),jsxRuntimeExports.jsxs(Button,{onClick:g,className:"bg-[#FF8A65] hover:bg-[#FF7043] text-black px-12 py-4 rounded-full text-lg font-medium flex items-center space-x-3 mx-auto",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("path",{d:"M12 3l-1.912 5.813a2 2 0 01-1.275 1.275L3 12l5.813 1.912a2 2 0 011.275 1.275L12 21l1.912-5.813a2 2 0 011.275-1.275L21 12l-5.813-1.912a2 2 0 01-1.275-1.275L12 3z"})}),jsxRuntimeExports.jsx("span",{children:"å¼€å§‹ä¸ªæ€§åŒ–å­¦ä¹ "})]})]})]}):null:o==="uploaded"?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#F5F3F0] flex items-center justify-center p-6 relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>l("upload"),className:"absolute top-6 left-6 text-gray-600 hover:text-gray-800",children:"â† è¿”å›ž"}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-2xl",children:jsxRuntimeExports.jsx(Card,{className:"bg-white border-2 border-[#FF6B6B] rounded-3xl overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-12",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-[#EA4335] text-white px-3 py-1 rounded text-sm font-medium",children:"PDF"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 text-lg",children:u?.name||"Newton's Third Law of Motion.pdf"})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[A&&jsxRuntimeExports.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["åŸºäºŽæ‚¨è®¾ç½®çš„",v(A.grade),"å’Œå…´è¶£åå¥½ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ å†…å®¹"]}),jsxRuntimeExports.jsx(Button,{onClick:f,className:"bg-[#FF8A65] hover:bg-[#FF7043] text-gray-800 px-8 py-3 rounded-full text-lg font-medium transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),jsxRuntimeExports.jsx("span",{children:"å¼€å§‹å­¦ä¹ "})]})})]})]})})})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#E8E4DC] flex items-center justify-center p-8 relative",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:n,className:"absolute top-6 left-6 text-gray-600 hover:text-gray-800",children:"â† è¿”å›ž AIéšå¿ƒå­¦"}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-4xl",children:jsxRuntimeExports.jsxs("div",{className:"bg-white border-2 border-[#FF6B6B] rounded-[2rem] p-16",children:[jsxRuntimeExports.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-[2rem] p-20 relative",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-[#E1BEE7] rounded-xl mb-6 relative",children:[jsxRuntimeExports.jsx(FileText,{className:"w-10 h-10 text-white"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-3 -right-3 w-10 h-10 bg-[#FF6B35] rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 text-white"})})]}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:m,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-8",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",disabled:!0,className:"bg-[#D1D5DB] text-[#9CA3AF] px-12 py-4 rounded-full text-lg font-medium cursor-not-allowed flex items-center space-x-3",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:jsxRuntimeExports.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),jsxRuntimeExports.jsx("span",{children:"Start learning"})]})})]})})]})}const subjects$1=[{id:"all",name:"å…¨éƒ¨",icon:Globe},{id:"astronomy",name:"å¤©æ–‡å­¦",icon:Globe},{id:"biology",name:"ç”Ÿç‰©å­¦",icon:Microscope},{id:"chemistry",name:"åŒ–å­¦",icon:FlaskConical},{id:"physics",name:"ç‰©ç†",icon:FlaskConical},{id:"computer-science",name:"è®¡ç®—æœºç§‘å­¦",icon:Computer},{id:"language",name:"è¯­è¨€æ–‡å­¦",icon:PenTool},{id:"economics",name:"ç»æµŽå­¦",icon:TrendingUp},{id:"health",name:"å¥åº·æ•™è‚²",icon:Heart},{id:"history",name:"åŽ†å²",icon:Clock},{id:"philosophy",name:"å“²å­¦",icon:Lightbulb},{id:"psychology",name:"å¿ƒç†å­¦",icon:Brain},{id:"sociology",name:"ç¤¾ä¼šå­¦",icon:Users}],learningModes=[{id:"audio-lesson",name:"éŸ³é¢‘è¯¾ç¨‹",icon:Volume2,color:"bg-green-100 text-green-700"},{id:"visual",name:"å¯è§†åŒ–å­¦ä¹ ",icon:ChartColumn,color:"bg-blue-100 text-blue-700"},{id:"immersive-text",name:"æ²‰æµ¸å¼æ–‡æœ¬",icon:FileText,color:"bg-purple-100 text-purple-700"},{id:"slides-narration",name:"å¹»ç¯ç‰‡å’Œæ—ç™½",icon:Play,color:"bg-purple-100 text-purple-700"},{id:"mindmap",name:"æ€ç»´å¯¼å›¾",icon:Map$1,color:"bg-orange-100 text-orange-700"},{id:"game",name:"äº’åŠ¨ä½“éªŒ",icon:Gamepad2,color:"bg-pink-100 text-pink-700"},{id:"video",name:"è§†é¢‘åŠ¨ç”»",icon:Video,color:"bg-indigo-100 text-indigo-700"}],sampleCourses=[{id:1,subject:"physics",title:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹",description:"ä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›çš„æŽ¢ç´¢ä¸Žåº”ç”¨",color:"bg-gradient-to-br from-blue-500 to-purple-600",icon:FlaskConical,modes:["immersive-text","slides-narration","audio-lesson","video","mindmap","game"],isDemo:!0},{id:2,subject:"history",title:"æ—©æœŸäººç±»è¿›åŒ–ä¸Žè¿ç§»",description:"æŽ¢ç´¢äººç±»ç¥–å…ˆçš„è¿›åŒ–åŽ†ç¨‹å’Œå…¨çƒè¿ç§»æ¨¡å¼",color:"bg-gradient-to-br from-orange-400 to-red-500",icon:Clock,modes:["audio-lesson","visual","video","mindmap"]},{id:3,subject:"sociology",title:"ä»€ä¹ˆæ˜¯ç¤¾ä¼šå­¦ï¼Ÿ",description:"ç†è§£ç¤¾ä¼šå­¦çš„åŸºæœ¬æ¦‚å¿µå’Œç ”ç©¶æ–¹æ³•",color:"bg-gradient-to-br from-blue-400 to-cyan-500",icon:Users,modes:["immersive-text","audio-lesson","game","visual"]},{id:4,subject:"biology",title:"å…ç–«ç³»ç»Ÿçš„å¹²æ‰°",description:"äº†è§£å…ç–«ç³»ç»Ÿå¦‚ä½•ä¿æŠ¤æˆ‘ä»¬å…å—ç–¾ç—…ä¾µå®³",color:"bg-gradient-to-br from-purple-400 to-indigo-500",icon:Microscope,modes:["visual","immersive-text","video","game"]},{id:5,subject:"language",title:"é˜…è¯»ç†è§£ä¸Žå›žåº”",description:"æå‡é˜…è¯»ç†è§£èƒ½åŠ›å’Œæ‰¹åˆ¤æ€§æ€ç»´",color:"bg-gradient-to-br from-green-400 to-teal-500",icon:PenTool,modes:["immersive-text","audio-lesson","game"]},{id:6,subject:"chemistry",title:"åŽŸå­ä¸Žåˆ†å­",description:"æŽ¢ç´¢ç‰©è´¨çš„åŸºæœ¬æž„æˆå•ä½",color:"bg-gradient-to-br from-yellow-400 to-orange-500",icon:FlaskConical,modes:["visual","video","game","immersive-text"]},{id:7,subject:"chemistry",title:"ç¢³å…ƒç´ åŒ–å­¦",description:"æ·±å…¥äº†è§£ç¢³åŒ–åˆç‰©çš„ç‰¹æ€§å’Œåº”ç”¨",color:"bg-gradient-to-br from-gray-400 to-slate-500",icon:FlaskConical,modes:["visual","immersive-text","audio-lesson"]},{id:8,subject:"astronomy",title:"åœ°çƒä¸Žå¤©ç©º",description:"è§‚å¯Ÿå’Œç†è§£æˆ‘ä»¬çš„æ˜Ÿçƒä¸Žå®‡å®™çš„å…³ç³»",color:"bg-gradient-to-br from-indigo-400 to-purple-500",icon:Globe,modes:["visual","audio-lesson","mindmap"]}];function LearnYourWayPage({onStartPDFLearning:e,onPersonalizePDF:t}){const{user:n}=useAuth();useNavigate();const[o,l]=reactExports.useState("all"),[u,d]=reactExports.useState(!1);reactExports.useEffect(()=>{const E=()=>{d(!0)};return window.addEventListener("triggerPDFUpload",E),()=>{window.removeEventListener("triggerPDFUpload",E)}},[]);const A=o==="all"?sampleCourses:sampleCourses.filter(E=>E.subject===o),m=E=>{const R=learningModes.find(_=>_.id===E);return R?R.icon:FileText},f=E=>{const R=learningModes.find(_=>_.id===E);return R?R.color:"bg-gray-100 text-gray-700"},g=E=>{const R=learningModes.find(_=>_.id===E);return R?R.name:"é»˜è®¤æ¨¡å¼"},v=E=>{d(!1),e&&e(E)},b=E=>{d(!1),t&&t(E)},w=()=>{d(!1)},j=E=>{E.isDemo&&E.id===1&&t&&t({fileName:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼šä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›.pdf",grade:"grade9",interests:["science","physics"]})};return u?jsxRuntimeExports.jsx(PDFUploadFlow,{onComplete:v,onPersonalize:b,onBack:w}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-200 via-orange-300 to-orange-400 opacity-80"}),jsxRuntimeExports.jsxs("div",{className:"absolute top-0 right-0 w-1/2 h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-8 right-8 w-80 h-80 bg-white/30 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-16 right-16 w-60 h-60 bg-white/40 rounded-full blur-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["ä¸ºæ¯ä½å­¦ä¹ è€…",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-primary",children:"é‡å¡‘"}),jsxRuntimeExports.jsx("br",{}),"è‡ªå­¦ä½“éªŒ"]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-700 max-w-lg leading-relaxed",children:"AIéšå¿ƒå­¦å°†æ•™æå’Œå­¦ä¹ èµ„æ–™è½¬åŒ–ä¸ºå¼•äººå…¥èƒœçš„å¤šåª’ä½“å­¦ä¹ ä½“éªŒï¼Œä¸ºä½ é‡èº«å®šåˆ¶ã€‚"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white shadow-lg",onClick:()=>d(!0),children:[jsxRuntimeExports.jsx(Upload,{className:"w-5 h-5 mr-2"}),"ç«‹å³ä½“éªŒAIéšå¿ƒå­¦ï¼šä¸Šä¼ ä½ çš„PDF"]})})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white/50",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"å­¦ä¹ æ–¹å¼"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-orange-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"æ²‰æµ¸å¼æ–‡æœ¬"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-purple-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Play,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"å¹»ç¯ç‰‡å’Œæ—ç™½"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-green-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Volume2,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"éŸ³é¢‘è¯¾ç¨‹"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-blue-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Map$1,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"æ€ç»´å¯¼å›¾"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-pink-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-pink-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Gamepad2,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"äº’åŠ¨ä½“éªŒ"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border-2 border-indigo-300",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Video,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-800",children:"è§†é¢‘åŠ¨ç”»"})]})]})]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:subjects$1.map(E=>{const R=E.icon,_=o===E.id;return jsxRuntimeExports.jsxs(Button,{variant:_?"default":"outline",className:`h-12 px-4 ${_?"bg-primary text-primary-foreground":"hover:bg-secondary"}`,onClick:()=>l(E.id),children:[jsxRuntimeExports.jsx(R,{className:"w-4 h-4 mr-2"}),E.name]},E.id)})})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:A.map(E=>{const R=E.icon;return jsxRuntimeExports.jsxs(Card,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer border-0 overflow-hidden",onClick:()=>j(E),children:[jsxRuntimeExports.jsxs("div",{className:`${E.color} p-6 text-white relative`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsx(Badge,{className:"bg-white/20 text-white border-white/30",children:subjects$1.find(_=>_.id===E.subject)?.name}),E.isDemo&&jsxRuntimeExports.jsx(Badge,{className:"bg-green-500 text-white border-0 text-xs",children:"ç«‹å³ä½“éªŒ"})]}),jsxRuntimeExports.jsx(R,{className:"w-6 h-6"})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 bg-white/10 rounded-tl-full"})]}),jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 group-hover:text-primary transition-colors",children:E.title}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:E.description})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:E.modes.map(_=>{const N=m(_);return jsxRuntimeExports.jsxs(Badge,{className:`${f(_)} border-0`,children:[jsxRuntimeExports.jsx(N,{className:"w-3 h-3 mr-1"}),g(_)]},_)})})]})})]},E.id)})})})]})]})}const modes=[{id:"immersive-text",name:"æ²‰æµ¸å¼æ–‡æœ¬",icon:FileText,color:"#FF8A65"},{id:"slides-narration",name:"å¹»ç¯ç‰‡å’Œæ—ç™½",icon:Play,color:"#9C27B0"},{id:"audio-lesson",name:"éŸ³é¢‘è¯¾ç¨‹",icon:Volume2,color:"#4CAF50"},{id:"mindmap",name:"æ€ç»´å¯¼å›¾",icon:Map$1,color:"#2196F3"},{id:"game",name:"äº’åŠ¨ä½“éªŒ",icon:Gamepad2,color:"#E91E63"},{id:"video",name:"è§†é¢‘åŠ¨ç”»",icon:Video,color:"#3F51B5"}];function LearningHeader({pdfData:e,currentMode:t,onModeSelect:n,onOpenPDF:o,onBack:l}){const{user:u}=useAuth(),d=m=>({grade1:"ä¸€å¹´çº§",grade2:"äºŒå¹´çº§",grade3:"ä¸‰å¹´çº§",grade4:"å››å¹´çº§",grade5:"äº”å¹´çº§",grade6:"å…­å¹´çº§",grade7:"ä¸ƒå¹´çº§",grade8:"å…«å¹´çº§",grade9:"ä¹å¹´çº§",grade10:"åå¹´çº§",grade11:"åä¸€å¹´çº§",grade12:"åäºŒå¹´çº§"})[m]||m,A=m=>{const f={basketball:"ç¯®çƒ",music:"éŸ³ä¹",art:"ç¾Žæœ¯",reading:"é˜…è¯»",games:"æ¸¸æˆ",photography:"æ‘„å½±",science:"ç§‘å­¦",physics:"ç‰©ç†",geography:"åœ°ç†",math:"æ•°å­¦"};return m.map(g=>f[g]||g)};return jsxRuntimeExports.jsxs("div",{className:"bg-[#F5F3F0] px-6 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[l&&jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:l,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"è¿”å›ž"})]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-medium text-gray-800",children:"éšå¿ƒå­¦"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-600",children:"â—"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["å…´è¶£ï¼š",u?A(u.interests).join("ï¼Œ"):"æœªè®¾ç½®"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["å¹´çº§ï¼š",u?d(u.grade):"æœªè®¾ç½®"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx("span",{className:"text-lg",children:"?"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:o,className:"flex flex-col items-center p-3 min-w-[80px] h-auto bg-white hover:bg-gray-50 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 mb-1 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-amber-600 rounded text-white text-xs font-bold flex items-center justify-center",children:"PDF"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600",children:"èµ„æº"})]}),modes.map(m=>{const f=m.icon,g=t===m.id;return jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>n?.(m.id),className:`flex flex-col items-center p-3 min-w-[80px] h-auto rounded-lg border transition-all ${g?"bg-white border-2 shadow-sm":"bg-transparent border border-transparent hover:bg-white/50"}`,style:{borderColor:g?m.color:"transparent"},children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 mb-1 rounded-lg flex items-center justify-center",style:{backgroundColor:m.color},children:jsxRuntimeExports.jsx(f,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight",children:m.name})]},m.id)})]})]})}function LearningModeSelection({pdfData:e,onSelectMode:t,onBack:n}){const o=[{id:"immersive-text",name:"æ²‰æµ¸å¼æ–‡æœ¬",icon:jsxRuntimeExports.jsxs("div",{className:"w-16 h-16 flex items-center justify-center relative",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#FF8A65] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"w-7 h-5 bg-white rounded-sm flex flex-col justify-center space-y-0.5 px-1",children:[jsxRuntimeExports.jsx("div",{className:"h-0.5 bg-gray-400 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-0.5 bg-gray-400 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-0.5 bg-gray-400 rounded"})]})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-[#FF8A65] rounded-full flex items-center justify-center text-white text-xs font-bold",children:"?"})]}),borderColor:"border-[#FF8A65]",bgColor:"bg-orange-50"},{id:"slides-narration",name:"å¹»ç¯ç‰‡å’Œæ—ç™½",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#9C27B0] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-white border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent ml-1"})})}),borderColor:"border-[#9C27B0]",bgColor:"bg-purple-50"},{id:"audio-lesson",name:"éŸ³é¢‘è¯¾ç¨‹",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#4CAF50] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-end space-x-0.5",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-2 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-4 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-3 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-2 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-4 bg-white rounded-full"})]})})}),borderColor:"border-[#4CAF50]",bgColor:"bg-green-50"},{id:"mindmap",name:"æ€ç»´å¯¼å›¾",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#2196F3] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-3 w-2 h-2 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2.5 left-5 w-2 h-0.5 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2.5 left-1 w-2 h-0.5 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-3.5 w-0.5 h-2 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0.5 left-3.5 w-0.5 h-1.5 bg-white"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-3 w-1.5 h-1.5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-0 w-1.5 h-1.5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-6 w-1.5 h-1.5 bg-white rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4.5 left-3 w-1.5 h-1.5 bg-white rounded-full"})]})})}),borderColor:"border-[#2196F3]",bgColor:"bg-blue-50"},{id:"game",name:"äº’åŠ¨ä½“éªŒ",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#E91E63] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1 left-1 w-6 h-3 bg-white rounded-lg"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1.5 left-1.5 w-1 h-1 bg-[#E91E63] rounded-sm"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1.5 right-1.5 w-1 h-1 bg-[#E91E63] rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2.5 right-1.5 w-1 h-1 bg-[#E91E63] rounded-full"})]})})}),borderColor:"border-[#E91E63]",bgColor:"bg-pink-50"},{id:"video",name:"è§†é¢‘åŠ¨ç”»",icon:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-9 bg-[#3F51B5] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0.5 left-1 w-5 h-4 bg-white rounded-sm"}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-3 w-0 h-0 border-l-[6px] border-l-[#3F51B5] border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent"})]})})}),borderColor:"border-[#3F51B5]",bgColor:"bg-indigo-50"}],l=()=>{console.log("Opening PDF:",e.fileName),alert(`æ‰“å¼€PDFæ–‡ä»¶: ${e.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:e,onModeSelect:t,onOpenPDF:l,onBack:n}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center p-12",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl text-gray-800 mb-12",children:"é€‰æ‹©å­¦ä¹ æ–¹å¼"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-8",children:o.map(u=>jsxRuntimeExports.jsx(Card,{className:`w-48 h-48 ${u.bgColor} ${u.borderColor} border-4 rounded-3xl cursor-pointer hover:scale-105 transition-transform`,onClick:()=>t(u.id),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8 flex flex-col items-center justify-center h-full space-y-4",children:[u.icon,jsxRuntimeExports.jsx("h3",{className:"text-lg text-gray-700 text-center leading-tight",children:u.name})]})},u.id))})]})})]})}function TextSelectionHelper({onAskTutor:e,containerRef:t}){const[n,o]=reactExports.useState(""),[l,u]=reactExports.useState(!1),[d,A]=reactExports.useState({x:0,y:0}),[m,f]=reactExports.useState(""),g=j=>{if(!j.rangeCount)return"";const R=j.getRangeAt(0).commonAncestorContainer;let _=null;for(R.nodeType===Node.TEXT_NODE?_=R.parentElement:_=R;_&&!["P","DIV","SECTION","ARTICLE"].includes(_.tagName);)_=_.parentElement;return _&&_.textContent||""},v=()=>{const j=window.getSelection();if(!j||j.isCollapsed){u(!1);return}const E=j.toString().trim();if(E.length>0){o(E),f(g(j));const _=j.getRangeAt(0).getBoundingClientRect(),N=_.left+_.width/2,B=_.top-60;A({x:N,y:B}),u(!0)}else u(!1)},b=()=>{n&&(e(n,m),u(!1),window.getSelection()?.removeAllRanges())},w=j=>{j.target.closest(".selection-helper-button")||u(!1)};return reactExports.useEffect(()=>{const j=t?.current||document,E=()=>{setTimeout(v,10)},R=_=>{(_.key==="ArrowLeft"||_.key==="ArrowRight"||_.key==="ArrowUp"||_.key==="ArrowDown"||_.shiftKey)&&setTimeout(v,10)};return j.addEventListener("mouseup",E),j.addEventListener("keyup",R),document.addEventListener("mousedown",w),()=>{j.removeEventListener("mouseup",E),j.removeEventListener("keyup",R),document.removeEventListener("mousedown",w)}},[t]),reactExports.useEffect(()=>{if(l){const j=()=>{u(!1)};return window.addEventListener("scroll",j,!0),()=>{window.removeEventListener("scroll",j,!0)}}},[l]),l?jsxRuntimeExports.jsx("div",{className:"fixed z-50 selection-helper-button",style:{left:`${d.x}px`,top:`${d.y}px`,transform:"translateX(-50%)"},children:jsxRuntimeExports.jsxs(Button,{onClick:b,size:"sm",className:"bg-[#1A73E8] hover:bg-[#1557B0] text-white shadow-lg animate-in fade-in-0 zoom-in-95 duration-200",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4 mr-1"}),"é—®å¯¼å¸ˆ"]})}):null}function ImmersiveTextPage({pdfData:e,onBack:t,onSwitchMode:n,onAskTutor:o}){const[l,u]=reactExports.useState(0),[d,A]=reactExports.useState(!1),[m,f]=reactExports.useState(null),[g,v]=reactExports.useState(""),[b,w]=reactExports.useState(""),[j,E]=reactExports.useState(!0),[R,_]=reactExports.useState(!1),[N,B]=reactExports.useState(!1),[M,O]=reactExports.useState(0),[F,$]=reactExports.useState(""),[z,se]=reactExports.useState(!1),[ce,ie]=reactExports.useState(!1),[pe,xe]=reactExports.useState(new Set),[Ae,ue]=reactExports.useState({}),Y=reactExports.useRef(null),fe=[{id:"q1",question:"æ ¹æ®ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼Œå½“ä½ æŽ¨å¢™æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ",options:[{label:"A",text:"å¢™ä¼šç”¨ç›¸åŒå¤§å°çš„åŠ›æŽ¨ä½ ã€‚"},{label:"B",text:"å¢™ä¸ä¼šäº§ç”Ÿä»»ä½•åä½œç”¨åŠ›ã€‚"},{label:"C",text:"å¢™ä¼šç”¨æ›´å¤§çš„åŠ›æŽ¨ä½ ã€‚"},{label:"D",text:"å¢™ä¼šç”¨æ›´å°çš„åŠ›æŽ¨ä½ ã€‚"}],correctAnswer:"A"},{id:"q2",question:"æ ¹æ®å›¾3.5ä¸­çš„ç«ç®­å‘å°„ä¾‹å­ï¼Œç«ç®­æ˜¯å¦‚ä½•å‘ä¸Šè¿åŠ¨çš„ï¼Ÿ",options:[{label:"A",text:"é€šè¿‡ç©ºæ°”çš„æµ®åŠ›ä½œç”¨ã€‚"},{label:"B",text:"é€šè¿‡å‘ä¸‹å–·å°„æ°”ä½“äº§ç”Ÿçš„åä½œç”¨åŠ›ã€‚"},{label:"C",text:"é€šè¿‡é‡åŠ›çš„ä½œç”¨ã€‚"},{label:"D",text:"é€šè¿‡ç£åŠ›çš„ä½œç”¨ã€‚"}],correctAnswer:"B"}],H=[{id:"quiz1",question:"æ ¹æ®æ–‡æœ¬å†…å®¹ï¼Œç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„æ ¸å¿ƒç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿ",options:[{label:"A",text:"ä½œç”¨åŠ›æ€»æ˜¯å¤§äºŽåä½œç”¨åŠ›"},{label:"B",text:"æ¯ä¸€ä¸ªä½œç”¨åŠ›éƒ½æœ‰å¤§å°ç›¸ç­‰ã€æ–¹å‘ç›¸åçš„åä½œç”¨åŠ›"},{label:"C",text:"åªæœ‰è¿åŠ¨çš„ç‰©ä½“æ‰ä¼šäº§ç”Ÿåä½œç”¨åŠ›"},{label:"D",text:"åä½œç”¨åŠ›åªå­˜åœ¨äºŽæŽ¥è§¦çš„ç‰©ä½“ä¹‹é—´"}],correctAnswer:"B",explanation:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æŒ‡å‡ºï¼šæ¯ä¸€ä¸ªä½œç”¨åŠ›éƒ½æœ‰ä¸€ä¸ªå¤§å°ç›¸ç­‰ã€æ–¹å‘ç›¸åçš„åä½œç”¨åŠ›ã€‚è¿™æ˜¯è¯¥å®šå¾‹çš„æ ¸å¿ƒç‰¹å¾ã€‚"},{id:"quiz2",question:"åœ¨ç«ç®­å‘å°„çš„ä¾‹å­ä¸­ï¼Œç«ç®­å‘ä¸Šè¿åŠ¨çš„åŽŸç†æ˜¯ä»€ä¹ˆï¼Ÿ",options:[{label:"A",text:"ç«ç®­ç‡ƒæ–™çš„é‡é‡å‡è½»ä½¿å…¶ä¸Šå‡"},{label:"B",text:"ç«ç®­å‘ä¸‹å–·å°„æ°”ä½“ï¼Œæ°”ä½“å‘ä¸ŠæŽ¨ç«ç®­"},{label:"C",text:"ç«ç®­åˆ©ç”¨ç©ºæ°”é˜»åŠ›å‘ä¸Šè¿åŠ¨"},{label:"D",text:"ç«ç®­é€šè¿‡ç£åŠ›ä½œç”¨å‘ä¸Šé£žè¡Œ"}],correctAnswer:"B",explanation:"æ ¹æ®ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼Œå½“ç«ç®­å‘ä¸‹å–·å°„é«˜æ¸©æ°”ä½“æ—¶ï¼Œæ°”ä½“ä¼šå¯¹ç«ç®­äº§ç”Ÿå‘ä¸Šçš„åä½œç”¨åŠ›ï¼ŒæŽ¨åŠ¨ç«ç®­ä¸Šå‡ã€‚"},{id:"quiz3",question:"æ»‘æ¿è¿åŠ¨å‘˜æŽ¨åœ°é¢çš„ä¾‹å­è¯´æ˜Žäº†ä»€ä¹ˆç‰©ç†åŽŸç†ï¼Ÿ",options:[{label:"A",text:"æ‘©æ“¦åŠ›çš„ä½œç”¨"},{label:"B",text:"é‡åŠ›çš„å½±å“"},{label:"C",text:"ä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›æˆå¯¹å‡ºçŽ°"},{label:"D",text:"åŠ¨é‡å®ˆæ’å®šå¾‹"}],correctAnswer:"C",explanation:"æ»‘æ¿è¿åŠ¨å‘˜æŽ¨åœ°é¢æ—¶ï¼Œåœ°é¢åŒæ—¶å‘ç›¸åæ–¹å‘æŽ¨æ»‘æ¿è¿åŠ¨å‘˜ï¼Œè¿™æ¸…æ¥šåœ°å±•ç¤ºäº†åŠ›æ€»æ˜¯æˆå¯¹å‡ºçŽ°çš„ç‰¹æ€§ã€‚"},{id:"quiz4",question:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹é€‚ç”¨äºŽå“ªäº›æƒ…å†µï¼Ÿ",options:[{label:"A",text:"åªé€‚ç”¨äºŽè¿åŠ¨çš„ç‰©ä½“"},{label:"B",text:"åªé€‚ç”¨äºŽé™æ­¢çš„ç‰©ä½“"},{label:"C",text:"é€‚ç”¨äºŽæ‰€æœ‰åŠ›çš„ç›¸äº’ä½œç”¨ï¼Œæ— è®ºç‰©ä½“æ˜¯å¦è¿åŠ¨"},{label:"D",text:"åªé€‚ç”¨äºŽå¤§è´¨é‡çš„ç‰©ä½“"}],correctAnswer:"C",explanation:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹é€‚ç”¨äºŽæ‰€æœ‰çš„åŠ›çš„ç›¸äº’ä½œç”¨ï¼Œæ— è®ºç‰©ä½“æ˜¯å¦åœ¨è¿åŠ¨ã€‚è¿™æ˜¯ä¸€ä¸ªæ™®éé€‚ç”¨çš„ç‰©ç†å®šå¾‹ã€‚"}],le=mt=>{const St=fe.find(or=>or.id===mt);St&&(f(St),A(!0),v(""),w(""))},de=()=>{A(!1),f(null),v(""),w("")},ye=mt=>{w(mt),v(mt)},ge=()=>{console.log("User answer:",g),de()},je=()=>{console.log("Opening PDF:",e.fileName),alert(`æ‰“å¼€PDFæ–‡ä»¶: ${e.fileName}`)},Me=()=>{B(!0),O(0),$(""),se(!1),ie(!1),xe(new Set),ue({})},He=mt=>{$(mt),ue(St=>({...St,[M]:mt}))},Qe=()=>{F&&(xe(mt=>new Set([...mt,M])),se(!0))},ze=()=>{M<H.length-1&&(O(M+1),$(Ae[M+1]||""),se(!1),ie(!1))},Ve=()=>{M>0&&(O(M-1),$(Ae[M-1]||""),se(pe.has(M-1)),ie(!1))},tt=()=>{ze()},nt=()=>{O(0),$(""),se(!1),ie(!1),xe(new Set),ue({})},Ye=()=>{B(!1)},ut=mt=>["æƒ³æƒ³å®šå¾‹åç§°æœ¬èº«ï¼ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹å¼ºè°ƒçš„æ˜¯ä½œç”¨åŠ›å’Œåä½œç”¨åŠ›çš„å…³ç³»ã€‚å®ƒä»¬åœ¨å¤§å°å’Œæ–¹å‘ä¸Šæœ‰ä»€ä¹ˆç‰¹æ®Šçš„å…³ç³»å‘¢ï¼Ÿ","ç«ç®­å‘å°„çš„å…³é”®åœ¨äºŽç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ã€‚å½“ç«ç®­å‘ä¸€ä¸ªæ–¹å‘å–·å°„ä»€ä¹ˆä¸œè¥¿æ—¶ï¼Œæ ¹æ®è¿™ä¸ªå®šå¾‹ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆåå‘çš„ä½œç”¨å‘¢ï¼Ÿ","æ³¨æ„çœ‹æ»‘æ¿è¿åŠ¨å‘˜çš„åŠ¨ä½œï¼å½“ä»–æŽ¨åœ°é¢æ—¶ï¼Œæ ¹æ®ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼Œåœ°é¢ä¼šå¦‚ä½•å›žåº”ï¼Ÿè¿™å±•ç¤ºäº†åŠ›çš„ä»€ä¹ˆç‰¹æ€§ï¼Ÿ","ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æ˜¯ä¸€ä¸ªæ™®éé€‚ç”¨çš„ç‰©ç†å®šå¾‹ã€‚æƒ³æƒ³å®ƒæ˜¯å¦åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰æˆç«‹ï¼Œè¿˜æ˜¯åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æœ‰æ•ˆï¼Ÿ"][mt]||"ä»”ç»†å›žé¡¾æ–‡æœ¬ä¸­çš„ç›¸å…³å†…å®¹ï¼Œæ€è€ƒç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„æ ¸å¿ƒæ¦‚å¿µã€‚";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:e,currentMode:"immersive-text",onModeSelect:n,onOpenPDF:je,onBack:t}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",ref:Y,children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼šä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:"â†’"})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:j,onChange:mt=>E(mt.target.checked),className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼šåŸºç¡€æ¦‚å¿µ"})]}),jsxRuntimeExports.jsx("div",{className:"ml-6 space-y-2",children:jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs",children:"å½“å‰é˜…è¯»å†…å®¹"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:R,onChange:mt=>_(mt.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"å®žé™…åº”ç”¨å’Œä¾‹å­"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:N?jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-3 py-2 rounded-lg text-xs",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"æµ‹éªŒè¿›è¡Œä¸­"}),jsxRuntimeExports.jsxs("span",{children:[M+1,"/",H.length]})]})}):jsxRuntimeExports.jsxs(Button,{onClick:Me,className:"w-full bg-orange-100 hover:bg-orange-200 text-orange-700 text-sm py-2 px-3 rounded-lg border-0",variant:"outline",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),"å¼€å§‹æµ‹éªŒå·©å›º"]})})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"prose max-w-none relative",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-700 leading-relaxed pr-12",children:[jsxRuntimeExports.jsx("strong",{children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹"}),"æŒ‡å‡ºï¼šæ¯ä¸€ä¸ªä½œç”¨åŠ›éƒ½æœ‰ä¸€ä¸ªå¤§å°ç›¸ç­‰ã€æ–¹å‘ç›¸åçš„åä½œç”¨åŠ›ã€‚è¿™æ„å‘³ç€å½“ä¸€ä¸ªç‰©ä½“å¯¹å¦ä¸€ä¸ªç‰©ä½“æ–½åŠ åŠ›æ—¶ï¼Œç¬¬äºŒä¸ªç‰©ä½“ä¼šå¯¹ç¬¬ä¸€ä¸ªç‰©ä½“æ–½åŠ ç›¸ç­‰ä½†æ–¹å‘ç›¸åçš„åŠ›ã€‚ä¾‹å¦‚ï¼Œå½“ä½ æŽ¨å¢™æ—¶ï¼Œå¢™ä¹Ÿåœ¨ç”¨ç›¸åŒå¤§å°çš„åŠ›æŽ¨ä½ ã€‚è¿™ä¸ªå®šå¾‹é€‚ç”¨äºŽæ‰€æœ‰çš„åŠ›çš„ç›¸äº’ä½œç”¨ï¼Œæ— è®ºç‰©ä½“æ˜¯å¦åœ¨è¿åŠ¨ï¼ˆå›¾3.5ï¼‰ã€‚ç†è§£è¿™ä¸ªæ¦‚å¿µå¯¹äºŽåˆ†æžå„ç§ç‰©ç†çŽ°è±¡è‡³å…³é‡è¦ã€‚"]}),jsxRuntimeExports.jsx("button",{onClick:()=>le("q1"),className:"absolute top-0 right-0 w-8 h-8 bg-[#FF8A65] hover:bg-[#FF7043] rounded-full flex items-center justify-center transition-colors shadow-sm",title:"ç‚¹å‡»è¿›è¡Œç›¸å…³æµ‹éªŒ",children:jsxRuntimeExports.jsx("span",{className:"text-black text-sm font-bold",children:"?"})})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6 my-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(ImageWithFallback,{src:"https://images.unsplash.com/photo-1728520509654-d37de68da7a9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxza2F0ZWJvYXJkJTIwcGh5c2ljcyUyMGFjdGlvbiUyMHJlYWN0aW9ufGVufDF8fHx8MTc1ODcyNDQyM3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"æ»‘æ¿è¿åŠ¨å±•ç¤ºä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›",className:"w-full h-48 object-cover rounded-lg"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 text-center",children:"(a)"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(ImageWithFallback,{src:"https://cdn.pixabay.com/photo/2012/11/28/10/37/rocket-launch-67649_1280.jpg",alt:"ç«ç®­å‘å°„æ¼”ç¤ºç‰›é¡¿ç¬¬ä¸‰å®šå¾‹",className:"w-full h-48 object-cover rounded-lg"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 text-center",children:"(b)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg relative",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 pr-12",children:"å›¾3.5 (a) æ»‘æ¿è¿åŠ¨å‘˜æŽ¨åœ°é¢æ—¶ï¼Œåœ°é¢ä¼šå‘ç›¸åæ–¹å‘æŽ¨æ»‘æ¿è¿åŠ¨å‘˜ï¼Œè¿™æ˜¯ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„ç»å…¸ç¤ºä¾‹ã€‚(b) ç«ç®­å‘å°„æ—¶ï¼Œç«ç®­å‘ä¸‹å–·å°„é«˜æ¸©æ°”ä½“ï¼Œæ°”ä½“å‘ä¸ŠæŽ¨ç«ç®­ï¼Œå±•ç¤ºäº†ä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›çš„åŽŸç†ã€‚è¿™ä¸¤ä¸ªä¾‹å­éƒ½æ¸…æ¥šåœ°å±•ç¤ºäº†åŠ›æ€»æ˜¯æˆå¯¹å‡ºçŽ°çš„ç‰¹æ€§ã€‚"}),jsxRuntimeExports.jsx("button",{onClick:()=>le("q2"),className:"absolute top-4 right-4 w-8 h-8 bg-[#FF8A65] hover:bg-[#FF7043] rounded-full flex items-center justify-center transition-colors shadow-sm",title:"ç‚¹å‡»è¿›è¡Œç›¸å…³æµ‹éªŒ",children:jsxRuntimeExports.jsx("span",{className:"text-black text-sm font-bold",children:"?"})})]}),N&&jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx(Card,{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-orange-600 text-lg",children:"ðŸ“"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Take a quiz to check your understanding"})})]}),jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx(Progress,{value:(M+1)/H.length*100,className:"flex-1 mr-4"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:[M+1," / ",H.length]})]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-900 mb-6",children:[jsxRuntimeExports.jsxs("strong",{children:["Question ",M+1,":"]})," ",H[M].question]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 mb-6",children:H[M].options.map(mt=>{const St=F===H[M].correctAnswer;return jsxRuntimeExports.jsxs("button",{onClick:()=>He(mt.label),disabled:z,className:`w-full p-4 rounded-lg text-left transition-colors border ${F===mt.label?z?St?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800":"bg-orange-50 border-orange-200 text-orange-800":z&&mt.label===H[M].correctAnswer?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[mt.label,")"]})," ",mt.text,z&&mt.label===H[M].correctAnswer&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-600 float-right mt-0.5"})]},mt.label)})}),z&&jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg mb-6 ${F===H[M].correctAnswer?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[jsxRuntimeExports.jsx("p",{className:`font-medium mb-2 ${F===H[M].correctAnswer?"text-green-800":"text-red-800"}`,children:F===H[M].correctAnswer?"æ­£ç¡®ï¼":"ä¸å¤ªå¯¹ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ "+H[M].correctAnswer+"ã€‚"}),H[M].explanation&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700",children:H[M].explanation})]}),ce&&!z&&jsxRuntimeExports.jsx("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-orange-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-orange-800 text-sm mb-2",children:jsxRuntimeExports.jsx("strong",{children:"I need a hint"})}),jsxRuntimeExports.jsx("p",{className:"text-orange-700 text-sm",children:ut(M)})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>ie(!ce),className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 mr-2"}),"Hint"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>se(!0),disabled:z,className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-2"}),"Show the answer"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:tt,className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(SkipForward,{className:"w-4 h-4 mr-2"}),"Skip"]})]}),!z&&jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx(Button,{onClick:Qe,disabled:!F,className:"bg-orange-500 hover:bg-orange-600 text-white px-8",children:"æäº¤ç­”æ¡ˆ"})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:Ve,disabled:M===0,className:"text-gray-600",children:"ä¸Šä¸€é¢˜"}),M<H.length-1?jsxRuntimeExports.jsx(Button,{onClick:ze,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"ä¸‹ä¸€é¢˜"}):jsxRuntimeExports.jsx(Button,{onClick:Ye,className:"bg-green-600 hover:bg-green-700 text-white",children:"å®Œæˆæµ‹éªŒ"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:nt,className:"text-gray-600 border-gray-300",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 mr-2"}),"Restart quiz"]})})]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{window.dispatchEvent(new CustomEvent("askTutor",{detail:{question:"æˆ‘æƒ³äº†è§£æ›´å¤šå…³äºŽç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„å†…å®¹",context:"ç”¨æˆ·æ­£åœ¨é˜…è¯»æ²‰æµ¸å¼æ–‡æœ¬"}}))},children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),"å‘å¯¼å¸ˆæé—®"]}),jsxRuntimeExports.jsxs(Button,{onClick:Me,className:"bg-orange-100 hover:bg-orange-200 text-orange-700 border border-orange-200",variant:"outline",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),"å¼€å§‹æµ‹éªŒå·©å›º"]})]})]})]})]})})}),d&&m&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/10 flex items-center justify-end pr-6 z-50",children:jsxRuntimeExports.jsx(Card,{className:"bg-white rounded-2xl w-full max-w-md relative shadow-2xl",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:de,className:"absolute top-3 right-3 w-6 h-6 p-0 hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 mb-6 pr-6",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-[#FF8A65] rounded-full flex items-center justify-center mt-1 flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-black text-sm font-bold",children:"?"})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:m.question})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 mb-6",children:m.options.map(mt=>jsxRuntimeExports.jsxs("button",{onClick:()=>ye(mt.label),className:`w-full p-3 rounded-lg text-left text-sm transition-colors ${b===mt.label?"bg-[#FF8A65] text-black":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,children:[jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[mt.label,"."]})," ",mt.text]},mt.label))}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsx(Button,{onClick:ge,disabled:!b,className:"w-full bg-[#FF8A65] hover:bg-[#FF7043] text-black disabled:opacity-50 h-10 text-sm font-medium",children:"æäº¤ç­”æ¡ˆ"})})]})})}),o&&jsxRuntimeExports.jsx(TextSelectionHelper,{onAskTutor:o,containerRef:Y})]})}function SlidesNarrationPage({pdfData:e,onBack:t,onSwitchMode:n,onAskTutor:o}){const[l,u]=reactExports.useState(0),[d,A]=reactExports.useState(!1),[m,f]=reactExports.useState(0),[g,v]=reactExports.useState(75),b=reactExports.useRef(null),[w,j]=reactExports.useState(!0),[E,R]=reactExports.useState(!1),_=[{id:1,title:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æ˜¯ä»€ä¹ˆï¼Ÿ",content:["æ¯ä¸€ä¸ªä½œç”¨åŠ›éƒ½æœ‰ä¸€ä¸ªå¤§å°ç›¸ç­‰ã€æ–¹å‘ç›¸åçš„åä½œç”¨åŠ›ã€‚","å½“ä½ æŽ¨ä¸€ä¸ªç‰©ä½“æ—¶ï¼Œå®ƒä¹Ÿä¼šç”¨ç›¸åŒçš„åŠ›æŽ¨ä½ ã€‚","è¿™ç§æƒ…å†µåœ¨æ¯æ¬¡æŽ¨æ‹‰ä¸­éƒ½ä¼šå‘ç”Ÿã€‚"],image:"https://images.unsplash.com/photo-1728520509654-d37de68da7a9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxza2F0ZWJvYXJkJTIwYWN0aW9uJTIwcmVhY3Rpb24lMjBwaHlzaWNzfGVufDF8fHx8MTc1ODcwMjE0OHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",duration:180},{id:2,title:"æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ä¾‹å­",content:["èµ°è·¯ï¼šä½ å‘åŽæŽ¨åœ°é¢ï¼Œåœ°é¢å‘å‰æŽ¨ä½ ã€‚","æ¸¸æ³³ï¼šä½ å‘åŽæŽ¨æ°´ï¼Œæ°´å‘å‰æŽ¨ä½ ã€‚","ç«ç®­æŽ¨è¿›ï¼šçƒ­æ°”å‘ä¸‹æŽ’å‡ºï¼Œç«ç®­å‘ä¸Šç§»åŠ¨ã€‚"],duration:200},{id:3,title:"ä½œç”¨åŠ›å’Œåä½œç”¨åŠ›",content:["ä½œç”¨åŠ›å’Œåä½œç”¨åŠ›æ€»æ˜¯å¤§å°ç›¸ç­‰ã€‚","å®ƒä»¬çš„æ–¹å‘ç›¸åã€‚","å®ƒä»¬ä½œç”¨åœ¨ä¸åŒçš„ç‰©ä½“ä¸Šã€‚","å®ƒä»¬åŒæ—¶å‘ç”Ÿã€‚"],duration:190},{id:4,title:"ç†è§£åŠ›çš„é…å¯¹",content:["åŠ›æ€»æ˜¯æˆå¯¹å‡ºçŽ°çš„â€”â€”ä½ ä¸èƒ½åªæœ‰å…¶ä¸­ä¸€ä¸ªã€‚","è¿™äº›åŠ›å¯¹è¢«ç§°ä¸ºä½œç”¨-åä½œç”¨å¯¹ã€‚","è¿™äº›åŠ›å¤§å°ç›¸ç­‰ä½†æ–¹å‘ç›¸åã€‚"],duration:170}],N=_.length,B=_[l],M=B?.duration||180;reactExports.useEffect(()=>{d&&m>=M&&(l<N-1?(u(pe=>pe+1),f(0)):(A(!1),f(0)))},[m,M,l,N,d]),reactExports.useEffect(()=>(d?b.current=setInterval(()=>{f(pe=>pe+1)},1e3):b.current&&clearInterval(b.current),()=>{b.current&&clearInterval(b.current)}),[d]);const O=()=>{A(!d)},F=pe=>{f(pe[0])},$=pe=>{v(pe[0])},z=()=>{l>0&&(u(pe=>pe-1),f(0),A(!1))},se=()=>{l<N-1&&(u(pe=>pe+1),f(0),A(!1))},ce=pe=>{const xe=Math.floor(pe/60),Ae=pe%60;return`${xe}:${Ae.toString().padStart(2,"0")}`},ie=()=>{console.log("Opening PDF:",e.fileName),alert(`æ‰“å¼€PDFæ–‡ä»¶: ${e.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:e,currentMode:"slides-narration",onModeSelect:n,onOpenPDF:ie,onBack:t}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼šä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:"â†’"})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:w,onChange:pe=>j(pe.target.checked),className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"å¹»ç¯ç‰‡æ¼”ç¤º"})]}),jsxRuntimeExports.jsxs("div",{className:"ml-6 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs",children:"å½“å‰æ¼”ç¤ºå†…å®¹"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["å¹»ç¯ç‰‡ ",l+1," / ",N]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:E,onChange:pe=>R(pe.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"è¯¾åŽç»ƒä¹ "})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-5 gap-10 min-h-[450px]",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 flex items-center justify-center",children:B?.image&&jsxRuntimeExports.jsx("div",{className:"relative bg-gray-100 rounded-2xl overflow-hidden shadow-lg",children:jsxRuntimeExports.jsx(ImageWithFallback,{src:B.image,alt:"ç‰©ç†æ¼”ç¤º",className:"w-full h-72 object-cover"})})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 flex flex-col justify-center space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-medium text-gray-900 mb-6",children:B?.title}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:B?.content.map((pe,xe)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-3 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:pe})]},xe))})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsx(Button,{onClick:O,className:"w-10 h-10 rounded-full bg-[#9C27B0] hover:bg-[#7B1FA2] text-white p-0 flex items-center justify-center",children:d?jsxRuntimeExports.jsx(Pause,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 ml-0.5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-10 text-right",children:ce(m)}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Slider,{value:[m],max:M,step:1,onValueChange:F,className:"w-full"})}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-10",children:ce(M)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("div",{className:"w-16",children:jsxRuntimeExports.jsx(Slider,{value:[g],max:100,step:1,onValueChange:$,className:"w-full"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:z,disabled:l===0,className:"p-2",children:jsxRuntimeExports.jsx(SkipBack,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:se,disabled:l===N-1,className:"p-2",children:jsxRuntimeExports.jsx(SkipForward,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center pt-2",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["å¹»ç¯ç‰‡ ",l+1," / ",N]})})]}),o&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>o("å¹»ç¯ç‰‡å­¦ä¹ ","ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹å¹»ç¯ç‰‡å†…å®¹"),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),"å‘å¯¼å¸ˆæé—®"]})})]})]})]})})})]})}function AudioLessonPage({pdfData:e,onBack:t,onSwitchMode:n,onAskTutor:o}){const[l,u]=reactExports.useState(!1),[d,A]=reactExports.useState(0),[m,f]=reactExports.useState(75),g=reactExports.useRef(null),[v,b]=reactExports.useState(!0),[w,j]=reactExports.useState(!1),E=324,R=32,[_]=reactExports.useState(()=>Array.from({length:R},()=>Math.random()*80+20));reactExports.useEffect(()=>(l?g.current=setInterval(()=>{A(se=>se>=E?(u(!1),0):se+1)},1e3):g.current&&clearInterval(g.current),()=>{g.current&&clearInterval(g.current)}),[l,E]);const N=()=>{u(!l)},B=se=>{A(se[0])},M=se=>{f(se[0])},O=se=>{const ce=Math.floor(se/60),ie=se%60;return`${ce}:${ie.toString().padStart(2,"0")}`},F=se=>{const ce=d/E,ie=Math.floor(ce*R);return l&&se<=ie?_[se]+Math.sin(Date.now()/100+se)*10:_[se]},$=se=>{const ce=d/E,ie=Math.floor(ce*R);return se<=ie?1:.3},z=()=>{console.log("Opening PDF:",e.fileName),alert(`æ‰“å¼€PDFæ–‡ä»¶: ${e.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:e,currentMode:"audio-lesson",onModeSelect:n,onOpenPDF:z,onBack:t}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼šä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:"â†’"})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:v,onChange:se=>b(se.target.checked),className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700",children:"éŸ³é¢‘è¯¾ç¨‹"})]}),jsxRuntimeExports.jsxs("div",{className:"ml-6 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs",children:"å½“å‰æ’­æ”¾å†…å®¹"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[O(d)," / ",O(E)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:w,onChange:se=>j(se.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"è¯¾åŽç»ƒä¹ "})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"min-h-[400px] flex flex-col justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-4xl mx-auto",children:jsxRuntimeExports.jsx("div",{className:"flex items-end justify-center space-x-2 h-64 mb-12",children:Array.from({length:R},(se,ce)=>jsxRuntimeExports.jsx("div",{className:"bg-[#4CAF50] rounded-full transition-all duration-100 ease-out",style:{width:"12px",height:`${F(ce)}px`,opacity:$(ce),transform:l&&ce<=Math.floor(d/E*R)?"scaleY(1.1)":"scaleY(1)"}},ce))})})}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsx(Button,{onClick:N,className:"w-12 h-12 rounded-full bg-[#4CAF50] hover:bg-[#45a049] text-white p-0 flex items-center justify-center",children:l?jsxRuntimeExports.jsx(Pause,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Play,{className:"w-5 h-5 ml-0.5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-12 text-right",children:O(d)}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(Slider,{value:[d],max:E,step:1,onValueChange:B,className:"w-full"})}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 w-12",children:O(E)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("div",{className:"w-20",children:jsxRuntimeExports.jsx(Slider,{value:[m],max:100,step:1,onValueChange:M,className:"w-full"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center pt-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-800 mb-2",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼šä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"ä¸€å ‚å…³äºŽåŠ›å’Œè¿åŠ¨çš„äº’åŠ¨éŸ³é¢‘è¯¾ç¨‹"})]})]}),o&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>o("éŸ³é¢‘è¯¾ç¨‹å­¦ä¹ ","ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹éŸ³é¢‘å†…å®¹"),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),"å‘å¯¼å¸ˆæé—®"]})})]})]})]})})})]})}function MindmapPage({pdfData:e,onBack:t,onSwitchMode:n,onAskTutor:o}){const[l,u]=reactExports.useState(""),[d,A]=reactExports.useState(0),[m,f]=reactExports.useState([{id:"step1",question:'è®©æˆ‘ä»¬ä¸€èµ·æŽ¢ç´¢ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼é¦–å…ˆï¼Œä½ èƒ½ç”¨è‡ªå·±çš„è¯è¯´è¯´ï¼Œä»€ä¹ˆæ˜¯"ä½œç”¨åŠ›"å—ï¼ŸðŸ¤”',hint:"æç¤ºï¼šæƒ³æƒ³ä½ æŽ¨é—¨çš„æ—¶å€™ï¼Œä½ çš„æ‰‹å¯¹é—¨åšäº†ä»€ä¹ˆï¼Ÿ",expectedKeywords:["åŠ›","æŽ¨","æ–½åŠ ","ä½œç”¨"],nodeToReveal:"action-force",followUpQuestion:"å¾ˆå¥½ï¼é‚£ä¹ˆï¼Œå½“ä½ æŽ¨é—¨æ—¶ï¼Œé—¨ä¼šå¯¹ä½ çš„æ‰‹äº§ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ",completed:!1},{id:"step2",question:'å½“ä½ æŽ¨é—¨æ—¶ï¼Œé—¨ä¼šå¯¹ä½ çš„æ‰‹äº§ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿè¿™å°±æ˜¯"åä½œç”¨åŠ›"ï¼ä½ èƒ½æè¿°ä¸€ä¸‹å—ï¼Ÿ',hint:"æç¤ºï¼šæƒ³æƒ³ä¸ºä»€ä¹ˆæŽ¨å¢™çš„æ—¶å€™æ‰‹ä¼šæ„Ÿåˆ°ç–¼ï¼Ÿ",expectedKeywords:["å","åŠ›","æŽ¨å›ž","ç›¸å"],nodeToReveal:"reaction-force",followUpQuestion:"éžå¸¸æ£’ï¼é‚£è¿™ä¸¤ä¸ªåŠ›çš„å¤§å°å…³ç³»æ˜¯æ€Žæ ·çš„ï¼Ÿ",completed:!1},{id:"step3",question:"ä½œç”¨åŠ›å’Œåä½œç”¨åŠ›çš„å¤§å°æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿæ–¹å‘å‘¢ï¼Ÿ",hint:"æç¤ºï¼šç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„æ ¸å¿ƒå°±åœ¨è¿™é‡Œï¼",expectedKeywords:["ç›¸ç­‰","ç›¸å","å¤§å°","æ–¹å‘"],nodeToReveal:"equal-opposite",followUpQuestion:"å¤ªæ£’äº†ï¼è®©æˆ‘ä»¬é€šè¿‡ä¸€äº›ç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥åŠ æ·±ç†è§£ã€‚",completed:!1},{id:"step4",question:"ä½ èƒ½æƒ³åˆ°æ»‘æ¿è¿åŠ¨ä¸­æœ‰å“ªäº›ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„ä¾‹å­å—ï¼Ÿæ¯”å¦‚æ€Žä¹ˆè®©æ»‘æ¿åŠ¨èµ·æ¥ï¼ŸðŸ›¹",hint:"æç¤ºï¼šæƒ³æƒ³æ»‘æ¿æ‰‹æ˜¯æ€Žä¹ˆè¹¬åœ°çš„...",expectedKeywords:["è¹¬","åœ°","æŽ¨","å‘å‰"],nodeToReveal:"skateboarding",followUpQuestion:"è¯´å¾—å¾ˆå¥½ï¼æ»‘æ¿æ‰‹è¿˜å¯ä»¥æ€Žä¹ˆåˆ©ç”¨ä½œç”¨åŠ›å’Œåä½œç”¨åŠ›å‘¢ï¼Ÿ",completed:!1},{id:"step5",question:"é™¤äº†æ»‘æ¿ï¼Œä½ è¿˜èƒ½æƒ³åˆ°å…¶ä»–è¿åŠ¨ä¸­çš„ä¾‹å­å—ï¼Ÿæ¯”å¦‚æ¸¸æ³³ã€é£žè¡Œã€åˆ’èˆ¹...",hint:"æç¤ºï¼šæƒ³æƒ³ç›´å‡æœºã€é¸Ÿç±»ã€æ‘©æ‰˜è‰‡æ˜¯æ€Žä¹ˆç§»åŠ¨çš„",expectedKeywords:["æ¸¸æ³³","é£ž","åˆ’","æŽ¨æ°´","æŽ¨ç©ºæ°”"],nodeToReveal:"other-examples",followUpQuestion:"æ­å–œä½ ï¼ä½ å·²ç»æŽŒæ¡äº†ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„æ ¸å¿ƒæ¦‚å¿µï¼",completed:!1}]),[g,v]=reactExports.useState([{id:"center",text:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹",x:400,y:250,color:"bg-blue-500 text-white border-blue-600",width:180,height:70,fontSize:"text-base",isVisible:!0,isUserCreated:!1},{id:"action-force",text:"ä½œç”¨åŠ›",x:250,y:150,color:"bg-green-100 border-green-400 text-green-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"reaction-force",text:"åä½œç”¨åŠ›",x:550,y:150,color:"bg-purple-100 border-purple-400 text-purple-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"equal-opposite",text:`å¤§å°ç›¸ç­‰
æ–¹å‘ç›¸å`,x:400,y:80,color:"bg-orange-100 border-orange-400 text-orange-800",width:140,height:60,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"skateboarding",text:"æ»‘æ¿è¿åŠ¨",x:200,y:350,color:"bg-yellow-100 border-yellow-400 text-yellow-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1},{id:"other-examples",text:"å…¶ä»–ä¾‹å­",x:600,y:350,color:"bg-pink-100 border-pink-400 text-pink-800",width:120,height:50,fontSize:"text-sm",isVisible:!1,isUserCreated:!1}]),[b,w]=reactExports.useState([{from:"center",to:"action-force",color:"stroke-green-400",isVisible:!1},{from:"center",to:"reaction-force",color:"stroke-purple-400",isVisible:!1},{from:"center",to:"equal-opposite",color:"stroke-orange-400",isVisible:!1},{from:"center",to:"skateboarding",color:"stroke-yellow-400",isVisible:!1},{from:"center",to:"other-examples",color:"stroke-pink-400",isVisible:!1}]),[j,E]=reactExports.useState([]),[R,_]=reactExports.useState(!1),[N,B]=reactExports.useState(""),[M,O]=reactExports.useState(null),[F,$]=reactExports.useState(!1),z=m[d],se=fe=>{if(!z)return!1;const H=fe.toLowerCase();return z.expectedKeywords?.some(de=>H.includes(de))||fe.length>10},ce=()=>{if(!l.trim())return;const fe=se(l);if(O(fe),E([...j,l]),fe){const H=["å¤ªæ£’äº†ï¼ä½ ç†è§£å¾—å¾ˆå¥½ï¼âœ¨","è¯´å¾—éžå¸¸å¥½ï¼ç»§ç»­ä¿æŒï¼ðŸŒŸ","å®Œå…¨æ­£ç¡®ï¼ä½ çœŸèªæ˜Žï¼ðŸ‘","å¾ˆæ£’çš„æ€è€ƒï¼ä½ æŽŒæ¡äº†ï¼ðŸ’¡"];B(H[Math.floor(Math.random()*H.length)]),z.nodeToReveal&&setTimeout(()=>{pe(z.nodeToReveal)},500),setTimeout(()=>{const le=[...m];le[d].completed=!0,f(le),d<m.length-1?($(!0),B(z.followUpQuestion||"å‡†å¤‡å¥½ç»§ç»­äº†å—ï¼Ÿç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥ï¼")):setTimeout(()=>{A(d+1)},2e3)},1500)}else B('å†æƒ³æƒ³çœ‹ï¼Œæˆ–è€…ç‚¹å‡»"ðŸ’¡ æç¤º"æŒ‰é’®èŽ·å¾—å¸®åŠ©ï¼');u(""),_(!1)},ie=()=>{$(!1),O(null),B(""),A(d+1)},pe=fe=>{v(H=>H.map(le=>le.id===fe?{...le,isVisible:!0}:le)),w(H=>H.map(le=>le.to===fe||le.from===fe?{...le,isVisible:!0}:le))},xe=(fe,H)=>{const le=fe.x+(fe.width||80)/2,de=fe.y+(fe.height||40)/2,ye=H.x+(H.width||80)/2,ge=H.y+(H.height||40)/2,je=(le+ye)/2,Me=(de+ge)/2,He=je+(de-ge)*.2,Qe=Me+(ye-le)*.2;return`M ${le} ${de} Q ${He} ${Qe} ${ye} ${ge}`},Ae=()=>{console.log("Opening PDF:",e.fileName),alert(`æ‰“å¼€PDFæ–‡ä»¶: ${e.fileName}`)},ue=m.filter(fe=>fe.completed).length/m.length*100,Y=d>=m.length;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:e,currentMode:"mindmap",onModeSelect:n,onOpenPDF:Ae,onBack:t}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"æ€ç»´å¯¼å›¾æž„å»ºè¿›åº¦"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-blue-600",children:[Math.round(ue),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:`${ue}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"border-2 border-blue-200 bg-white/80 backdrop-blur",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"AIå¯¼å¸ˆå¼•å¯¼"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"è·Ÿæˆ‘ä¸€èµ·æž„å»ºæ€ç»´å¯¼å›¾"})]})]}),Y?jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border-2 border-green-400 p-6 rounded-lg text-center space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto",children:jsxRuntimeExports.jsx(Check,{className:"w-10 h-10 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-green-800",children:"ðŸŽ‰ å¤ªæ£’äº†ï¼"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700",children:"ä½ å·²ç»æˆåŠŸæž„å»ºäº†ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„æ€ç»´å¯¼å›¾ï¼çŽ°åœ¨ä½ å¯ä»¥æŸ¥çœ‹å®Œæ•´çš„çŸ¥è¯†ç»“æž„ï¼Œæˆ–ç»§ç»­æ·±å…¥å­¦ä¹ ã€‚"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:z?.question})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Input,{value:l,onChange:fe=>u(fe.target.value),onKeyPress:fe=>fe.key==="Enter"&&ce(),placeholder:"åœ¨è¿™é‡Œè¾“å…¥ä½ çš„æƒ³æ³•...",className:"w-full border-2 border-gray-300 focus:border-blue-500"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:ce,disabled:!l.trim(),className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["æäº¤ç­”æ¡ˆ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-2"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>_(!R),className:"border-orange-300 text-orange-600 hover:bg-orange-50",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4"})})]})]}),R&&z?.hint&&jsxRuntimeExports.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-3 rounded animate-in slide-in-from-top",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-800",children:z.hint})}),N&&jsxRuntimeExports.jsx("div",{className:`border-l-4 p-3 rounded animate-in slide-in-from-bottom ${M?"bg-green-50 border-green-400":"bg-yellow-50 border-yellow-400"}`,children:jsxRuntimeExports.jsx("p",{className:`text-sm ${M?"text-green-800":"text-yellow-800"}`,children:N})}),F&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs(Button,{onClick:ie,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["ç»§ç»­ä¸‹ä¸€æ­¥",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-2"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs text-gray-500 mb-3",children:"å­¦ä¹ æ­¥éª¤"}),m.map((fe,H)=>jsxRuntimeExports.jsxs("div",{className:`flex items-center space-x-2 text-xs ${H===d?"text-blue-600 font-medium":fe.completed?"text-green-600":"text-gray-400"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${fe.completed?"bg-green-500":H===d?"bg-blue-500 animate-pulse":"bg-gray-300"}`,children:fe.completed?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"}):jsxRuntimeExports.jsx("span",{className:"text-white text-xs",children:H+1})}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:fe.completed?"å·²å®Œæˆ":H===d?"è¿›è¡Œä¸­":"å¾…å®Œæˆ"})]},fe.id))]})]})}),j.length>0&&jsxRuntimeExports.jsx(Card,{className:"border border-gray-200 bg-white/60",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"ä½ çš„æ€è€ƒè®°å½•"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:j.map((fe,H)=>jsxRuntimeExports.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-200",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:["#",H+1,":"]})," ",fe]},H))})]})})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-2",children:jsxRuntimeExports.jsx(Card,{className:"border-2 border-purple-200 bg-white/80 backdrop-blur",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"ä½ çš„æ€ç»´å¯¼å›¾"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"å›žç­”é—®é¢˜è§£é”æ–°çš„æ¦‚å¿µèŠ‚ç‚¹"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 border-2 border-dashed border-gray-300 rounded-xl p-8 min-h-[600px] relative overflow-hidden",children:[jsxRuntimeExports.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:1},children:b.filter(fe=>fe.isVisible).map((fe,H)=>{const le=g.find(ye=>ye.id===fe.from),de=g.find(ye=>ye.id===fe.to);return!le||!de?null:jsxRuntimeExports.jsx("g",{children:jsxRuntimeExports.jsx("path",{d:xe(le,de),className:`${fe.color} fill-none animate-in fade-in`,strokeWidth:"3",strokeDasharray:"5,5",children:jsxRuntimeExports.jsx("animate",{attributeName:"stroke-dashoffset",from:"10",to:"0",dur:"1s",repeatCount:"indefinite"})})},H)})}),jsxRuntimeExports.jsx("div",{className:"relative",style:{zIndex:2},children:g.filter(fe=>fe.isVisible).map(fe=>jsxRuntimeExports.jsxs("div",{className:`absolute border-3 rounded-xl p-3 shadow-lg transition-all duration-500 hover:scale-105 cursor-pointer ${fe.color} ${fe.fontSize||"text-sm"} animate-in zoom-in`,style:{left:`${fe.x}px`,top:`${fe.y}px`,width:`${fe.width||120}px`,height:`${fe.height||50}px`,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",lineHeight:"1.3",whiteSpace:"pre-line"},children:[fe.text,fe.id==="center"&&jsxRuntimeExports.jsx(Badge,{className:"absolute -top-2 -right-2 bg-blue-500",children:"æ ¸å¿ƒ"})]},fe.id))}),g.filter(fe=>fe.isVisible).length<=1&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-400 space-y-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-12 h-12 mx-auto opacity-30"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"å›žç­”å·¦ä¾§é—®é¢˜ï¼Œè§£é”æ€ç»´å¯¼å›¾èŠ‚ç‚¹"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 justify-center text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"æ ¸å¿ƒæ¦‚å¿µ"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-green-100 border-2 border-green-400 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"ä½œç”¨åŠ›"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-purple-100 border-2 border-purple-400 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"åä½œç”¨åŠ›"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-yellow-100 border-2 border-yellow-400 rounded"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"å®žä¾‹åº”ç”¨"})]})]})]})})})]})]})]})}function GamePage({pdfData:e,onBack:t,onSwitchMode:n,onAskTutor:o}){const l=()=>{console.log("Opening PDF:",e.fileName),alert(`æ‰“å¼€PDFæ–‡ä»¶: ${e.fileName}`)},u=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-medium text-gray-900 mb-3",children:"PhETé‡åŠ›å®žéªŒå®¤"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:"é€šè¿‡äº’åŠ¨æ¨¡æ‹Ÿå®žéªŒæŽ¢ç´¢ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ä¸­çš„ä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›"})]}),jsxRuntimeExports.jsxs(Card,{className:"shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{className:"text-center",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-center space-x-3 text-xl",children:[jsxRuntimeExports.jsx(Microscope,{className:"w-6 h-6 text-blue-600"}),jsxRuntimeExports.jsx("span",{children:"é‡åŠ›å’ŒåŠ›çš„ç›¸äº’ä½œç”¨æ¨¡æ‹Ÿå™¨"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"å®žéªŒæŒ‡å¯¼ï¼š"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"â€¢ æ‹–åŠ¨ä¸¤ä¸ªç‰©ä½“ï¼Œè§‚å¯Ÿå®ƒä»¬ä¹‹é—´çš„å¼•åŠ›"}),jsxRuntimeExports.jsx("li",{children:"â€¢ æ”¹å˜ç‰©ä½“çš„è´¨é‡ï¼Œçœ‹çœ‹åŠ›çš„å¤§å°å¦‚ä½•å˜åŒ–"}),jsxRuntimeExports.jsx("li",{children:"â€¢ è°ƒæ•´ç‰©ä½“é—´çš„è·ç¦»ï¼Œè§‚å¯ŸåŠ›çš„å˜åŒ–"}),jsxRuntimeExports.jsx("li",{children:"â€¢ æ³¨æ„ä¸¤ä¸ªç‰©ä½“ä¹‹é—´çš„åŠ›æ€»æ˜¯å¤§å°ç›¸ç­‰ã€æ–¹å‘ç›¸å"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"æ€è€ƒé—®é¢˜ï¼š"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[jsxRuntimeExports.jsx("p",{children:"1. å½“ä½ å¢žåŠ å…¶ä¸­ä¸€ä¸ªç‰©ä½“çš„è´¨é‡æ—¶ï¼Œä¸¤ä¸ªç‰©ä½“ä¹‹é—´çš„å¼•åŠ›å¦‚ä½•å˜åŒ–ï¼Ÿ"}),jsxRuntimeExports.jsx("p",{children:"2. ä¸¤ä¸ªç‰©ä½“æ–½åŠ ç»™å¯¹æ–¹çš„åŠ›æ˜¯å¦æ€»æ˜¯ç›¸ç­‰çš„ï¼Ÿè¿™ä½“çŽ°äº†ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„å“ªä¸ªæ–¹é¢ï¼Ÿ"}),jsxRuntimeExports.jsx("p",{children:"3. å¦‚æžœå°†è·ç¦»å¢žåŠ ä¸€å€ï¼Œå¼•åŠ›ä¼šå¦‚ä½•å˜åŒ–ï¼Ÿ"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden shadow-md",children:jsxRuntimeExports.jsx("iframe",{src:"https://phet.colorado.edu/sims/html/gravity-force-lab-basics/latest/gravity-force-lab-basics_all.html?locale=zh_CN",width:"100%",height:"700",className:"w-full",title:"PhETé‡åŠ›å®žéªŒå®¤æ¨¡æ‹Ÿå™¨",allowFullScreen:!0})})]})]})]});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:e,currentMode:"game",onModeSelect:n,onOpenPDF:l,onBack:t}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-gray-900",children:"äº’åŠ¨ä½“éªŒå­¦ä¹ "}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-gray-400",children:"â†’"})]}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto",children:jsxRuntimeExports.jsx(u,{})}),o&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>o("äº’åŠ¨æ¸¸æˆå­¦ä¹ ","ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æ¨¡æ‹Ÿå™¨ä½“éªŒ"),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),"å‘å¯¼å¸ˆæé—®"]})})]})})})]})}function VideoPage({pdfData:e,onBack:t,onSwitchMode:n,onAskTutor:o}){const[l,u]=reactExports.useState(!1),[d,A]=reactExports.useState(0),[m,f]=reactExports.useState(300),[g,v]=reactExports.useState(1),[b,w]=reactExports.useState(!1),[j,E]=reactExports.useState(1),[R,_]=reactExports.useState(0),N=reactExports.useRef(null),[B,M]=reactExports.useState(!0),[O,F]=reactExports.useState(!1),$="By-ggTfeuJU",z=`https://www.youtube.com/embed/${$}?enablejsapi=1&origin=${window.location.origin}`,se=[{id:0,title:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ä»‹ç»",startTime:0,duration:180,description:"äº†è§£ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„åŸºæœ¬æ¦‚å¿µå’Œé‡è¦æ€§",completed:!0},{id:1,title:"ä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›",startTime:180,duration:240,description:"æ·±å…¥ç†è§£ä½œç”¨åŠ›å’Œåä½œç”¨åŠ›çš„ç›¸äº’å…³ç³»",completed:!1},{id:2,title:"å®žé™…åº”ç”¨æ¡ˆä¾‹",startTime:420,duration:200,description:"æŽ¢ç´¢ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­çš„åº”ç”¨",completed:!1},{id:3,title:"æ€»ç»“ä¸Žæ€è€ƒ",startTime:620,duration:120,description:"å›žé¡¾å­¦ä¹ è¦ç‚¹å¹¶è¿›è¡Œæ·±å…¥æ€è€ƒ",completed:!1}],ce=xe=>{const Ae=Math.floor(xe/60),ue=Math.floor(xe%60);return`${Ae}:${ue.toString().padStart(2,"0")}`},ie=xe=>{_(xe),A(se[xe].startTime)},pe=()=>{console.log("Opening PDF:",e.fileName),alert(`æ‰“å¼€PDFæ–‡ä»¶: ${e.fileName}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(LearningHeader,{pdfData:e,currentMode:"video",onModeSelect:n,onOpenPDF:pe,onBack:t}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-background rounded-lg shadow-sm border border-border",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-medium text-foreground",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼šä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:"â†’"})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:B,onChange:xe=>M(xe.target.checked),className:"w-4 h-4 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"è§†é¢‘åŠ¨ç”»"})]}),jsxRuntimeExports.jsxs("div",{className:"ml-6 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-accent/10 text-accent-foreground px-2 py-1 rounded text-xs",children:"YouTubeè§†é¢‘æ’­æ”¾ä¸­"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æ•™å­¦è§†é¢‘"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:O,onChange:xe=>F(xe.target.checked),className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"è¯¾åŽç»ƒä¹ "})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm mb-3 text-foreground",children:"ç« èŠ‚ç›®å½•"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:se.map((xe,Ae)=>jsxRuntimeExports.jsx("button",{onClick:()=>ie(Ae),className:`w-full text-left p-2 rounded-lg border transition-all text-xs ${R===Ae?"bg-primary/10 border-primary text-foreground":"hover:bg-muted border-border"}`,children:jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:xe.title}),xe.completed&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 text-primary"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 text-muted-foreground",children:[jsxRuntimeExports.jsx(Clock,{className:"w-2 h-2"}),jsxRuntimeExports.jsx("span",{children:ce(xe.duration)})]})]})})},xe.id))})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-foreground rounded-lg aspect-video overflow-hidden",children:jsxRuntimeExports.jsx("iframe",{ref:N,src:z,title:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ - æ•™å­¦è§†é¢‘",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),jsxRuntimeExports.jsx("div",{className:"bg-muted rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Video,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹æ•™å­¦è§†é¢‘"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-primary/10 text-primary",children:"é«˜è´¨é‡è§†é¢‘"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>window.open(`https://youtu.be/${$}`,"_blank"),children:[jsxRuntimeExports.jsx(Maximize,{className:"w-4 h-4 mr-2"}),"åœ¨YouTubeä¸­è§‚çœ‹"]})})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-foreground mb-2",children:"è§†é¢‘ä»‹ç»"}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground mb-4",children:["è¿™æ˜¯ä¸€ä¸ªå…³äºŽç‰›é¡¿ç¬¬ä¸‰å®šå¾‹çš„é«˜è´¨é‡æ•™å­¦è§†é¢‘ï¼Œç»“åˆæ‚¨ä¸Šä¼ çš„PDFã€Š",e.fileName,"ã€‹ä¸­çš„çŸ¥è¯†ç‚¹ï¼Œé€šè¿‡è§†è§‰åŒ–çš„æ–¹å¼å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£ä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›çš„æ¦‚å¿µã€‚"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-primary/10 text-primary",children:"ç‰©ç†å­¦"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-primary/10 text-primary",children:"ç‰›é¡¿å®šå¾‹"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-secondary/10 text-secondary-foreground",children:"æ•™å­¦è§†é¢‘"}),e.interests.map((xe,Ae)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:xe},Ae))]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[jsxRuntimeExports.jsx("p",{children:"ðŸ“º æ¥æºï¼šYouTubeæ•™è‚²è§†é¢‘"}),jsxRuntimeExports.jsxs("p",{children:["ðŸŽ¯ é€‚åˆå¹´çº§ï¼š",e.grade]}),jsxRuntimeExports.jsx("p",{children:"â±ï¸ å»ºè®®å­¦ä¹ æ—¶é—´ï¼š15-20åˆ†é’Ÿ"})]})]}),o&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-primary text-primary hover:bg-primary/10",onClick:()=>o("è§†é¢‘åŠ¨ç”»å­¦ä¹ ","ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹è§†é¢‘å†…å®¹"),children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4 mr-2"}),"å‘å¯¼å¸ˆæé—®"]})})]})]})]})})})]})}var SWITCH_NAME="Switch",[createSwitchContext]=createContextScope$2(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((e,t)=>{const{__scopeSwitch:n,name:o,checked:l,defaultChecked:u,required:d,disabled:A,value:m="on",onCheckedChange:f,form:g,...v}=e,[b,w]=reactExports.useState(null),j=useComposedRefs(t,B=>w(B)),E=reactExports.useRef(!1),R=b?g||!!b.closest("form"):!0,[_,N]=useControllableState({prop:l,defaultProp:u??!1,onChange:f,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:n,checked:_,disabled:A,children:[jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",role:"switch","aria-checked":_,"aria-required":d,"data-state":getState$3(_),"data-disabled":A?"":void 0,disabled:A,value:m,...v,ref:j,onClick:composeEventHandlers(e.onClick,B=>{N(M=>!M),R&&(E.current=B.isPropagationStopped(),E.current||B.stopPropagation())})}),R&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:b,bubbles:!E.current,name:o,value:m,checked:_,required:d,disabled:A,form:g,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((e,t)=>{const{__scopeSwitch:n,...o}=e,l=useSwitchContext(THUMB_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.span,{"data-state":getState$3(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t})});SwitchThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:o=!0,...l},u)=>{const d=reactExports.useRef(null),A=useComposedRefs(d,u),m=usePrevious(n),f=useSize(t);return reactExports.useEffect(()=>{const g=d.current;if(!g)return;const v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==n&&w){const j=new Event("click",{bubbles:o});w.call(g,n),g.dispatchEvent(j)}},[m,n,o]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...l,tabIndex:-1,ref:A,style:{...l.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME;function getState$3(e){return e?"checked":"unchecked"}var Root$2=Switch$1,Thumb=SwitchThumb;function Switch({className:e,...t}){return jsxRuntimeExports.jsx(Root$2,{"data-slot":"switch",className:cn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:jsxRuntimeExports.jsx(Thumb,{"data-slot":"switch-thumb",className:cn("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function AccountInfoCard({userId:e,roleLabel:t}){const[n,o]=reactExports.useState(!1),l=()=>{navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(IdCard,{className:"w-5 h-5"}),"è´¦æˆ·ä¿¡æ¯"]}),jsxRuntimeExports.jsxs(CardDescription,{children:[t," ID å¯ç”¨äºŽæŠ€æœ¯æ”¯æŒæˆ–é—®é¢˜åé¦ˆ"]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{value:e,readOnly:!0,className:"font-mono text-sm"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:l,title:"å¤åˆ¶",children:n?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-600"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})})]})}function ChangePasswordCard({onChangePassword:e}){const[t,n]=reactExports.useState(""),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(!1),[A,m]=reactExports.useState(""),[f,g]=reactExports.useState(!1),v=async()=>{if(m(""),g(!1),t.length<6){m("æ–°å¯†ç è‡³å°‘ 6 ä¸ªå­—ç¬¦");return}if(t!==o){m("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´");return}d(!0);try{await e(t),g(!0),n(""),l(""),setTimeout(()=>g(!1),3e3)}catch(b){m(b.message||"ä¿®æ”¹å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{d(!1)}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5"}),"ä¿®æ”¹å¯†ç "]}),jsxRuntimeExports.jsx(CardDescription,{children:"å®šæœŸæ›´æ¢å¯†ç å¯æé«˜è´¦æˆ·å®‰å…¨æ€§"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"æ–°å¯†ç "}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"è‡³å°‘ 6 ä¸ªå­—ç¬¦",value:t,onChange:b=>n(b.target.value),autoComplete:"new-password"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"ç¡®è®¤æ–°å¯†ç "}),jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"å†æ¬¡è¾“å…¥æ–°å¯†ç ",value:o,onChange:b=>l(b.target.value),autoComplete:"new-password"})]}),A&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:A}),f&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600",children:"å¯†ç å·²æ›´æ–°"}),jsxRuntimeExports.jsx(Button,{onClick:v,disabled:u||!t||!o,children:u?"æ›´æ–°ä¸­â€¦":"ä¿®æ”¹å¯†ç "})]})]})}const defaultNotifications={newCourseAssigned:!0,deadlineReminder:!1},interests=[{id:"basketball",name:"ç¯®çƒ",icon:"ðŸ€"},{id:"music",name:"éŸ³ä¹",icon:"ðŸŽµ"},{id:"art",name:"ç¾Žæœ¯",icon:"ðŸŽ¨"},{id:"reading",name:"é˜…è¯»",icon:"ðŸ“š"},{id:"games",name:"æ¸¸æˆ",icon:"ðŸŽ®"},{id:"photography",name:"æ‘„å½±",icon:"ðŸ“¸"},{id:"science",name:"ç§‘å­¦",icon:"ðŸ”¬"},{id:"geography",name:"åœ°ç†",icon:"ðŸŒ"},{id:"math",name:"æ•°å­¦",icon:"ðŸ§®"}],grades=[{id:"grade1",name:"ä¸€å¹´çº§"},{id:"grade2",name:"äºŒå¹´çº§"},{id:"grade3",name:"ä¸‰å¹´çº§"},{id:"grade4",name:"å››å¹´çº§"},{id:"grade5",name:"äº”å¹´çº§"},{id:"grade6",name:"å…­å¹´çº§"},{id:"grade7",name:"ä¸ƒå¹´çº§"},{id:"grade8",name:"å…«å¹´çº§"},{id:"grade9",name:"ä¹å¹´çº§"},{id:"grade10",name:"åå¹´çº§"},{id:"grade11",name:"åä¸€å¹´çº§"},{id:"grade12",name:"åäºŒå¹´çº§"}];function SettingsPage(){const{user:e,preferences:t,updateProfilePreferences:n,changePassword:o}=useAuth(),[l,u]=reactExports.useState(e?.grade||""),[d,A]=reactExports.useState(e?.interests||[]),[m,f]=reactExports.useState({newCourseAssigned:defaultNotifications.newCourseAssigned,deadlineReminder:defaultNotifications.deadlineReminder});reactExports.useEffect(()=>{f({newCourseAssigned:t.notifications?.newCourseAssigned??defaultNotifications.newCourseAssigned,deadlineReminder:t.notifications?.deadlineReminder??defaultNotifications.deadlineReminder})},[t.notifications?.newCourseAssigned,t.notifications?.deadlineReminder]);const[g,v]=reactExports.useState(!1),[b,w]=reactExports.useState(!1),[j,E]=reactExports.useState(""),R=O=>{A(F=>F.includes(O)?F.filter($=>$!==O):[...F,O])},_=O=>{u(O)},N=async()=>{if(e){v(!0),E("");try{await n({grade:l,interests:d,notifications:{...t.notifications,newCourseAssigned:m.newCourseAssigned,deadlineReminder:m.deadlineReminder}}),w(!0),setTimeout(()=>w(!1),3e3)}catch(O){E(O.message||"ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{v(!1)}}},B=l!==e?.grade||JSON.stringify([...d].sort())!==JSON.stringify([...e?.interests||[]].sort())||m.newCourseAssigned!==(t.notifications?.newCourseAssigned??defaultNotifications.newCourseAssigned)||m.deadlineReminder!==(t.notifications?.deadlineReminder??defaultNotifications.deadlineReminder);if(!e)return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-muted-foreground",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{children:"è¯·å…ˆç™»å½•"})]})});const M=e.role==="student"?"å­¦ç”Ÿ":e.role==="teacher"?"æ•™å¸ˆ":"å®¶é•¿";return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted/30 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-8 h-8 text-primary"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"å­¦ä¹ åå¥½è®¾ç½®"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"ä¿®æ”¹æ‚¨çš„å¹´çº§å’Œå…´è¶£è®¾ç½®ï¼Œä»¥èŽ·å¾—æ›´ä¸ªæ€§åŒ–çš„å­¦ä¹ ä½“éªŒ"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),"ä¸ªäººèµ„æ–™"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"å§“å"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:e.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"é‚®ç®±"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:e.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"è§’è‰²"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:M})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5"}),"å¹´çº§è®¾ç½®"]}),jsxRuntimeExports.jsx(CardDescription,{children:"é€‰æ‹©æ‚¨å½“å‰çš„å¹´çº§ï¼Œæˆ‘ä»¬ä¼šä¸ºæ‚¨æŽ¨èé€‚åˆçš„å­¦ä¹ å†…å®¹"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Select,{value:l,onValueChange:_,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"è¯·é€‰æ‹©å¹´çº§"})}),jsxRuntimeExports.jsx(SelectContent,{children:grades.map(O=>jsxRuntimeExports.jsx(SelectItem,{value:O.id,children:O.name},O.id))})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5"}),"å…´è¶£çˆ±å¥½"]}),jsxRuntimeExports.jsx(CardDescription,{children:"é€‰æ‹©æ‚¨æ„Ÿå…´è¶£çš„é¢†åŸŸï¼Œæˆ‘ä»¬ä¼šæ®æ­¤ä¸ªæ€§åŒ–æ‚¨çš„å­¦ä¹ å†…å®¹ï¼ˆå¯å¤šé€‰ï¼‰"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:interests.map(O=>jsxRuntimeExports.jsx(Card,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${d.includes(O.id)?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>R(O.id),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-2",children:O.icon}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:O.name})]})},O.id))}),d.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground mb-2 block",children:"å·²é€‰æ‹©çš„å…´è¶£ï¼š"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(O=>{const F=interests.find($=>$.id===O);return F?jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[F.icon," ",F.name]},O):null})})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5"}),"é€šçŸ¥è®¾ç½®"]}),jsxRuntimeExports.jsx(CardDescription,{children:"é€‰æ‹©æ‚¨å¸Œæœ›æ”¶åˆ°çš„é€šçŸ¥ç±»åž‹"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"æ–°è¯¾ç¨‹/ä»»åŠ¡åˆ†é…"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"å½“æ•™å¸ˆä¸ºæ‚¨åˆ†é…æ–°è¯¾ç¨‹æˆ–ä»»åŠ¡æ—¶é€šçŸ¥"})]}),jsxRuntimeExports.jsx(Switch,{checked:m.newCourseAssigned,onCheckedChange:O=>f(F=>({...F,newCourseAssigned:O}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"æˆªæ­¢æ—¥æœŸæé†’"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"ä»»åŠ¡æˆªæ­¢æ—¥æœŸä¸´è¿‘æ—¶é€šçŸ¥"})]}),jsxRuntimeExports.jsx(Switch,{checked:m.deadlineReminder,onCheckedChange:O=>f(F=>({...F,deadlineReminder:O}))})]})]})]}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[j&&jsxRuntimeExports.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:j})}),b&&jsxRuntimeExports.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4 mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"è®¾ç½®å·²ä¿å­˜ï¼"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:B?"æ‚¨æœ‰æœªä¿å­˜çš„æ›´æ”¹":"æ‰€æœ‰æ›´æ”¹å·²ä¿å­˜"}),jsxRuntimeExports.jsx(Button,{onClick:N,disabled:!B||g||d.length===0||!l,children:g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"ä¿å­˜ä¸­..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4 mr-2"}),"ä¿å­˜è®¾ç½®"]})})]})]})}),jsxRuntimeExports.jsx(AccountInfoCard,{userId:e.id,roleLabel:M}),jsxRuntimeExports.jsx(ChangePasswordCard,{onChangePassword:o})]})]})})}const GRADE_OPTIONS=["ä¸€å¹´çº§","äºŒå¹´çº§","ä¸‰å¹´çº§","å››å¹´çº§","äº”å¹´çº§","å…­å¹´çº§","åˆä¸€","åˆäºŒ","åˆä¸‰","é«˜ä¸€","é«˜äºŒ","é«˜ä¸‰"],defaultTeacherPreferences={defaultGrade:"",defaultSubject:"",notifications:{studentJoinedClass:!0,taskSubmission:!1}},OLD_GRADE_ID_TO_DISPLAY={grade1:"ä¸€å¹´çº§",grade2:"äºŒå¹´çº§",grade3:"ä¸‰å¹´çº§",grade4:"å››å¹´çº§",grade5:"äº”å¹´çº§",grade6:"å…­å¹´çº§",grade7:"åˆä¸€",grade8:"åˆäºŒ",grade9:"åˆä¸‰",grade10:"é«˜ä¸€",grade11:"é«˜äºŒ",grade12:"é«˜ä¸‰"},PREF_SUBJECT_ID_TO_DISPLAY={math:"æ•°å­¦",chinese:"è¯­æ–‡",english:"è‹±è¯­",physics:"ç‰©ç†",chemistry:"åŒ–å­¦",biology:"ç”Ÿç‰©",history:"åŽ†å²",geography:"åœ°ç†",other:"å…¶ä»–"};function prefSubjectIdToDisplay(e){return e?PREF_SUBJECT_ID_TO_DISPLAY[e]??"":""}function getTeacherPreferencesFromProfile(e){if(!e)return defaultTeacherPreferences;const t=e.defaultGrade??defaultTeacherPreferences.defaultGrade;return{defaultGrade:t?OLD_GRADE_ID_TO_DISPLAY[t]??t:"",defaultSubject:e.defaultSubject??defaultTeacherPreferences.defaultSubject,notifications:{studentJoinedClass:e.notifications?.studentJoinedClass??defaultTeacherPreferences.notifications.studentJoinedClass,taskSubmission:e.notifications?.taskSubmission??defaultTeacherPreferences.notifications.taskSubmission}}}function TeacherTwinChatOnboardingPage({teacherId:e,initialTwinId:t,onCancel:n,onCompleted:o}){const[l,u]=reactExports.useState(t??""),[d,A]=reactExports.useState(""),[m,f]=reactExports.useState([{role:"assistant",text:"ä½ å¥½ï¼Œæˆ‘ä¼šé€šè¿‡å¯¹è¯ä¸ºä½ ç”Ÿæˆ Teacher Twinã€‚å…ˆå‘Šè¯‰æˆ‘ï¼šä½ ä¸»è¦æ•™ä»€ä¹ˆå­¦ç§‘ã€å“ªä¸ªå¹´çº§æ®µï¼Ÿ",timestamp:Date.now()}]),[g,v]=reactExports.useState(null),[b,w]=reactExports.useState(!1),[j,E]=reactExports.useState(!1),[R,_]=reactExports.useState(""),N=reactExports.useMemo(()=>!!d.trim()&&!j,[d,j]),B=async()=>{if(l)return l;const F=await createTeacherTwin({teacherId:e,name:`Teacher Twin ${new Date().toLocaleDateString()}`});return u(F.id),F.id},M=async()=>{if(N){E(!0),_("");try{const F=d.trim();A("");const $=await B();f(se=>[...se,{role:"teacher",text:F,timestamp:Date.now()}]);const z=await sendTeacherTwinOnboardingMessage({twinId:$,teacherId:e,message:F});f(z.messages),v(z.profilePreview),w(z.isReadyForExtract)}catch(F){_(F instanceof Error?F.message:"å‘é€å¤±è´¥")}finally{E(!1)}}},O=async()=>{if(l){E(!0),_("");try{await compileTeacherTwin({twinId:l,teacherId:e}),await publishTeacherTwin(l,e),o()}catch(F){_(F instanceof Error?F.message:"ç”Ÿæˆå¤±è´¥")}finally{E(!1)}}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"å¯¹è¯å¼åˆ›å»º Teacher Twin"}),jsxRuntimeExports.jsx(CardDescription,{children:"ä½ åªéœ€è¦è‡ªç„¶èŠå¤©ï¼ŒAI ä¼šè¢«åŠ¨å¼•å¯¼å¹¶è‡ªåŠ¨æŠ½å– persona / skillsã€‚"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"border rounded-md p-3 space-y-2 max-h-[420px] overflow-y-auto",children:m.map((F,$)=>jsxRuntimeExports.jsx("div",{className:F.role==="assistant"?"text-sm":"text-sm text-right",children:jsxRuntimeExports.jsxs("p",{className:F.role==="assistant"?"text-muted-foreground":"",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[F.role==="assistant"?"AI":"ä½ ","ï¼š"]}),F.text]})},`${F.timestamp}-${$}`))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:d,onChange:F=>A(F.target.value),placeholder:"ç›´æŽ¥å›žç­” AI é—®é¢˜ï¼Œä¾‹å¦‚ï¼šæˆ‘æ•™ G8 ç‰©ç†ï¼Œè®²è§£åè‹æ ¼æ‹‰åº•å¼...",onKeyDown:F=>{F.key==="Enter"&&N&&(F.preventDefault(),M().catch(()=>null))}}),jsxRuntimeExports.jsx(Button,{onClick:M,disabled:!N,children:j?"å‘é€ä¸­â€¦":"å‘é€"})]}),g?jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"å®žæ—¶æŠ½å–é¢„è§ˆï¼ˆå¢žé‡ï¼‰"}),jsxRuntimeExports.jsx("textarea",{readOnly:!0,value:JSON.stringify(g,null,2),rows:10,className:"mt-2 w-full rounded-md border px-3 py-2 bg-background font-mono text-xs"})]}):null,R?jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:R}):null,jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:n,disabled:j,children:"å–æ¶ˆ"}),jsxRuntimeExports.jsx(Button,{onClick:O,disabled:j||!l||!b,children:"ä¸€é”®ç”Ÿæˆå¹¶å‘å¸ƒ"})]})]})]})}function TeacherDigitalTwinList(){const{user:e}=useAuth(),[t,n]=reactExports.useState("list"),[o,l]=reactExports.useState(!1),[u,d]=reactExports.useState([]),[A,m]=reactExports.useState(null),[f,g]=reactExports.useState(null),v=async()=>{if(e?.id){l(!0);try{const{twins:j}=await listTeacherTwins(e.id);d(j??[])}finally{l(!1)}}},b=async j=>{if(e?.id){m(j);try{const E=await listTeacherTwinDashboard(j.id,e.id);g(E)}catch{g(null)}}},w=async j=>{e?.id&&(await patchTeacherTwin(j.id,{teacherId:e.id,status:j.status==="archived"?"draft":"archived"}),await v(),A?.id===j.id&&m({...A,status:j.status==="archived"?"draft":"archived"}))};return reactExports.useEffect(()=>{v().catch(console.error)},[e?.id]),e?.id?t==="create"?jsxRuntimeExports.jsx(TeacherTwinChatOnboardingPage,{teacherId:e.id,onCancel:()=>n("list"),onCompleted:async()=>{n("list"),await v()}}):t==="edit"&&A?jsxRuntimeExports.jsx(TeacherTwinChatOnboardingPage,{teacherId:e.id,initialTwinId:A.id,onCancel:()=>n("list"),onCompleted:async()=>{n("list"),await v()}}):jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"æˆ‘çš„ Teacher Twin"}),jsxRuntimeExports.jsx(CardDescription,{children:"é€šè¿‡ AI å¯¹è¯å¼•å¯¼åˆ›å»º/æ ¡å‡†/å‘å¸ƒï¼Œæ›¿ä»£æ—§ç‰ˆç®€å•è¡¨å•ã€‚"})]}),jsxRuntimeExports.jsx(Button,{onClick:()=>n("create"),children:"åˆ›å»º Teacher Twin"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[o?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"åŠ è½½ä¸­â€¦"}):null,u.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"æš‚æ— åˆ†èº«ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªå§ã€‚"}):null,jsxRuntimeExports.jsx("div",{className:"space-y-2",children:u.map(j=>jsxRuntimeExports.jsx("div",{className:"border rounded-md p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:j.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.subject||"-"," Â· ",j.gradeBand||"-"," Â· autonomy ",j.autonomyLevel]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:j.status==="published"?"default":"secondary",children:j.status}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>b(j),children:"è¯¦æƒ…"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>{m(j),n("edit")},children:"ç¼–è¾‘"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>w(j),children:j.status==="archived"?"æ¢å¤":"å½’æ¡£"})]})]})},j.id))}),A?jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-4 space-y-3",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium",children:["å½“å‰åˆ†èº«ï¼š",A.name]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["çŠ¶æ€ï¼š",A.status]}),f?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-2",children:["Runs: ",f.totalRuns]}),jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-2",children:["Grade Approval: ",(f.approvalRate*100).toFixed(0),"%"]}),jsxRuntimeExports.jsxs("div",{className:"border rounded-md p-2",children:["Citation Missing: ",(f.citationMissingRate*100).toFixed(0),"%"]})]}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"æš‚æ— è¿è¡ŒæŒ‡æ ‡"})]}):null]})]}):null}const subjects=[{id:"math",name:"æ•°å­¦"},{id:"chinese",name:"è¯­æ–‡"},{id:"english",name:"è‹±è¯­"},{id:"physics",name:"ç‰©ç†"},{id:"chemistry",name:"åŒ–å­¦"},{id:"biology",name:"ç”Ÿç‰©"},{id:"history",name:"åŽ†å²"},{id:"geography",name:"åœ°ç†"},{id:"other",name:"å…¶ä»–"}];function TeacherSettingsPage(){const{user:e,preferences:t,updateProfilePreferences:n,changePassword:o}=useAuth(),[l,u]=reactExports.useState(defaultTeacherPreferences),[d,A]=reactExports.useState(defaultTeacherPreferences),[m,f]=reactExports.useState(!1),[g,v]=reactExports.useState(""),[b,w]=reactExports.useState(!1);reactExports.useEffect(()=>{const R=getTeacherPreferencesFromProfile(t);u(R),A(R)},[t.defaultGrade,t.defaultSubject,t.notifications?.studentJoinedClass,t.notifications?.taskSubmission]);const j=async()=>{if(e?.id){w(!0),v("");try{await n({defaultGrade:l.defaultGrade,defaultSubject:l.defaultSubject,notifications:{...t.notifications,studentJoinedClass:l.notifications.studentJoinedClass,taskSubmission:l.notifications.taskSubmission}}),A(l),f(!0),setTimeout(()=>f(!1),3e3)}catch(R){v(R.message||"ä¿å­˜å¤±è´¥")}finally{w(!1)}}},E=l.defaultGrade!==d.defaultGrade||l.defaultSubject!==d.defaultSubject||l.notifications.studentJoinedClass!==d.notifications.studentJoinedClass||l.notifications.taskSubmission!==d.notifications.taskSubmission;return e?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted/30 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx(Settings$1,{className:"w-8 h-8 text-primary"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"æ•™å¸ˆè®¾ç½®"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"ç®¡ç†æ‚¨çš„ä¸ªäººèµ„æ–™ã€æ•™å­¦åå¥½ä¸Žè´¦æˆ·å®‰å…¨"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),"ä¸ªäººèµ„æ–™"]}),jsxRuntimeExports.jsx(CardDescription,{children:"æ‚¨çš„è´¦æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆä»…å±•ç¤ºï¼‰"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"å§“å"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:e.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"é‚®ç®±"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:e.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"è§’è‰²"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"æ•™å¸ˆ"})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5"}),"æ•™å­¦åå¥½"]}),jsxRuntimeExports.jsx(CardDescription,{children:"åˆ›å»ºä»»åŠ¡æˆ–è¯¾ç¨‹æ—¶è‡ªåŠ¨é¢„å¡«çš„é»˜è®¤å€¼"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"é»˜è®¤å¹´çº§"}),jsxRuntimeExports.jsxs(Select,{value:l.defaultGrade,onValueChange:R=>u(_=>({..._,defaultGrade:R})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"è¯·é€‰æ‹©"})}),jsxRuntimeExports.jsx(SelectContent,{children:GRADE_OPTIONS.map(R=>jsxRuntimeExports.jsx(SelectItem,{value:R,children:R},R))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"é»˜è®¤ç§‘ç›®"}),jsxRuntimeExports.jsxs(Select,{value:l.defaultSubject,onValueChange:R=>u(_=>({..._,defaultSubject:R})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"è¯·é€‰æ‹©"})}),jsxRuntimeExports.jsx(SelectContent,{children:subjects.map(R=>jsxRuntimeExports.jsx(SelectItem,{value:R.id,children:R.name},R.id))})]})]}),g&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:g}),m&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600",children:"åå¥½å·²ä¿å­˜"}),jsxRuntimeExports.jsx(Button,{onClick:j,disabled:!E||b,children:b?"ä¿å­˜ä¸­â€¦":jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4 mr-2"}),"ä¿å­˜åå¥½"]})})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5"}),"é€šçŸ¥è®¾ç½®"]}),jsxRuntimeExports.jsx(CardDescription,{children:"é€‰æ‹©æ‚¨å¸Œæœ›æ”¶åˆ°çš„é€šçŸ¥ç±»åž‹"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"å­¦ç”ŸåŠ å…¥ç­çº§"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"å½“å­¦ç”Ÿè¢«æ·»åŠ åˆ°æ‚¨çš„ç­çº§æ—¶é€šçŸ¥"})]}),jsxRuntimeExports.jsx(Switch,{checked:l.notifications.studentJoinedClass,onCheckedChange:R=>u(_=>({..._,notifications:{..._.notifications,studentJoinedClass:R}}))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"ä»»åŠ¡æäº¤"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"å½“å­¦ç”Ÿæäº¤ä»»åŠ¡æ—¶é€šçŸ¥"})]}),jsxRuntimeExports.jsx(Switch,{checked:l.notifications.taskSubmission,onCheckedChange:R=>u(_=>({..._,notifications:{..._.notifications,taskSubmission:R}}))})]}),jsxRuntimeExports.jsx(Button,{onClick:j,disabled:!E||b,children:"ä¿å­˜é€šçŸ¥è®¾ç½®"})]})]}),jsxRuntimeExports.jsx(AccountInfoCard,{userId:e.id,roleLabel:"æ•™å¸ˆ"}),jsxRuntimeExports.jsx(TeacherDigitalTwinList,{}),jsxRuntimeExports.jsx(ChangePasswordCard,{onChangePassword:o})]})]})}):jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-muted-foreground",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-12 h-12 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{children:"è¯·å…ˆç™»å½•"})]})})}const capybaraAvatar="/assets/94018c5955f97df26a866764d147f41da1b25ec2-CNF9J5hc.png";function AITutor({subject:e="ç‰©ç†",context:t,onActionClick:n,className:o="",isFixedSidebar:l=!1,onAskQuestion:u,tutorQuestionTrigger:d}){const[A,m]=reactExports.useState(!1),[f,g]=reactExports.useState(!1),[v,b]=reactExports.useState([{id:"1",type:"tutor",content:"ä½ å¥½ï¼æˆ‘æ˜¯Capybaraå¯¼å¸ˆðŸ§ï¼Œä¸“é—¨å¸®åŠ©ä½ å­¦ä¹ ç‰©ç†çŸ¥è¯†ã€‚æœ‰ä»€ä¹ˆé—®é¢˜éšæ—¶é—®æˆ‘å“¦ï¼",timestamp:new Date}]),[w,j]=reactExports.useState(""),[E,R]=reactExports.useState(!1),_=reactExports.useRef(null),N=reactExports.useRef(null),B=()=>{_.current?.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{B()},[v]);const M=(ce,ie)=>{A||m(!0);const pe={id:Date.now().toString(),type:"student",content:`å…³äºŽ"${ce}"ï¼Œæˆ‘æƒ³äº†è§£æ›´å¤šã€‚`,timestamp:new Date};b(xe=>[...xe,pe]),setTimeout(()=>{const xe=F(ce);b(Ae=>[...Ae,xe])},1e3)};reactExports.useEffect(()=>{d&&M(d.selectedText,d.context)},[d]),reactExports.useEffect(()=>{const ce=pe=>{const{question:xe,context:Ae}=pe.detail,ue={id:Date.now().toString(),type:"student",content:xe,timestamp:new Date};b(Y=>[...Y,ue]),setTimeout(()=>{const Y=O();b(fe=>[...fe,Y])},1e3)},ie=pe=>{const xe={id:Date.now().toString(),type:"tutor",content:"æˆ‘æ³¨æ„åˆ°ä½ ç­”é”™äº†è¿™é“é¢˜ã€‚è®©æˆ‘æ¥å¸®ä½ ç†è§£è¿™ä¸ªæ¦‚å¿µã€‚",timestamp:new Date,buttons:[{label:"é‡æ–°è§£é‡Š",action:"explain-again",variant:"default"},{label:"çœ‹ä¾‹å­",action:"show-example",variant:"outline"}]};b(Ae=>[...Ae,xe]),g(!0)};return window.addEventListener("askTutor",ce),window.addEventListener("wrongAnswer",ie),()=>{window.removeEventListener("askTutor",ce),window.removeEventListener("wrongAnswer",ie)}},[]),reactExports.useEffect(()=>{!A&&v.length>1&&v[v.length-1].type==="tutor"&&g(!0)},[v,A]),reactExports.useEffect(()=>{A&&g(!1)},[A]);const O=ce=>{const ie=[{content:"å¾ˆå¥½çš„é—®é¢˜ï¼è®©æˆ‘æ¥å¸®ä½ è§£ç­”ã€‚æ ¹æ®ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼Œä½œç”¨åŠ›å’Œåä½œç”¨åŠ›æ€»æ˜¯æˆå¯¹å‡ºçŽ°çš„ã€‚",buttons:[{label:"çœ‹ä¾‹å­",action:"show-example",variant:"default"},{label:"å†è¯•ä¸€æ¬¡",action:"retry",variant:"outline"}]},{content:"æˆ‘æ³¨æ„åˆ°ä½ å¯èƒ½å¯¹è¿™ä¸ªæ¦‚å¿µè¿˜ä¸å¤ªæ¸…æ¥šã€‚è¦ä¸è¦æˆ‘ä»¬æ¢ä¸ªè§’åº¦æ¥ç†è§£ï¼Ÿ",buttons:[{label:"æ¢ä¸ªæ–¹å¼",action:"change-method",variant:"default"},{label:"æŸ¥çœ‹æç¤º",action:"show-hint",variant:"outline"}]},{content:"å¤ªæ£’äº†ï¼ä½ å·²ç»æŽŒæ¡äº†è¿™ä¸ªæ¦‚å¿µçš„æ ¸å¿ƒã€‚è®©æˆ‘ä»¬ç»§ç»­æ·±å…¥å­¦ä¹ å§ï¼",buttons:[{label:"ä¸‹ä¸€æ­¥",action:"next-step",variant:"default"}]}],pe=ie[Math.floor(Math.random()*ie.length)];return{id:Date.now().toString(),type:"tutor",content:pe.content,timestamp:new Date,buttons:pe.buttons}},F=(ce,ie)=>{const pe={æ–¹å‘ç›¸å:{content:"è¿™ä¸ªå¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æŽ¨å¢™ï¼Œå¢™ä¹Ÿåœ¨æŽ¨ä½ ã€‚ä½ èƒ½æƒ³åˆ°ç”Ÿæ´»é‡Œç±»ä¼¼çš„æƒ…å†µå—ï¼Ÿ",buttons:[{label:"ä¸¾ä¸ªä¾‹å­",action:"show-example",variant:"default"},{label:"æˆ‘æƒ³æƒ³",action:"think-more",variant:"outline"}]},ä½œç”¨åŠ›:{content:"ä½œç”¨åŠ›æ˜¯ç‰©ä½“å¯¹å¦ä¸€ä¸ªç‰©ä½“æ–½åŠ çš„åŠ›ã€‚æ¯”å¦‚ä½ ç”¨æ‰‹æŽ¨æ¡Œå­ï¼Œä½ çš„æ‰‹å¯¹æ¡Œå­çš„åŠ›å°±æ˜¯ä½œç”¨åŠ›ã€‚",buttons:[{label:"åä½œç”¨åŠ›å‘¢ï¼Ÿ",action:"explain-reaction",variant:"default"},{label:"çœ‹åŠ¨ç”»æ¼”ç¤º",action:"show-animation",variant:"outline"}]},åä½œç”¨åŠ›:{content:"åä½œç”¨åŠ›æ˜¯è¢«æŽ¨ç‰©ä½“å¯¹æ–½åŠ›ç‰©ä½“çš„åå‘ä½œç”¨åŠ›ã€‚æ¡Œå­ä¹Ÿä¼šå¯¹ä½ çš„æ‰‹äº§ç”Ÿä¸€ä¸ªå‘åŽçš„åŠ›ï¼",buttons:[{label:"ä¸ºä»€ä¹ˆæ„Ÿå—ä¸åˆ°ï¼Ÿ",action:"why-not-feel",variant:"default"},{label:"åšä¸ªå®žéªŒ",action:"do-experiment",variant:"outline"}]},å¤§å°ç›¸ç­‰:{content:"å¯¹ï¼ä½œç”¨åŠ›å’Œåä½œç”¨åŠ›å¤§å°æ€»æ˜¯ç›¸ç­‰çš„ã€‚è¿™å°±åƒè··è··æ¿ä¸¤ç«¯çš„åŠ›ä¸€æ ·å¹³è¡¡ã€‚",buttons:[{label:"é‚£ä¸ºä»€ä¹ˆç‰©ä½“ä¼šç§»åŠ¨ï¼Ÿ",action:"why-move",variant:"default"},{label:"æ›´å¤šä¾‹å­",action:"more-examples",variant:"outline"}]}};let xe=null;for(const Ae in pe)if(ce.includes(Ae)){xe=pe[Ae];break}return xe||(xe={content:`å…³äºŽ"${ce}"ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼è®©æˆ‘æ¥å¸®ä½ ç†è§£è¿™ä¸ªæ¦‚å¿µã€‚`,buttons:[{label:"è¯¦ç»†è§£é‡Š",action:"explain-detail",variant:"default"},{label:"ä¸¾ä¾‹è¯´æ˜Ž",action:"show-example",variant:"outline"}]}),{id:Date.now().toString(),type:"tutor",content:xe.content,timestamp:new Date,buttons:xe.buttons}},$=()=>{if(!w.trim())return;const ce={id:Date.now().toString(),type:"student",content:w,timestamp:new Date};b(ie=>[...ie,ce]),j(""),setTimeout(()=>{const ie=O();b(pe=>[...pe,ie])},1e3)},z=ce=>{ce.key==="Enter"&&!ce.shiftKey&&(ce.preventDefault(),$())},se=ce=>{n&&n(ce);const ie={id:Date.now().toString(),type:"tutor",content:`å¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ ${ce==="show-example"?"å±•ç¤ºä¾‹å­":ce==="retry"?"é‡æ–°å¼€å§‹":ce==="change-method"?"æ¢ä¸ªæ–¹å¼è§£é‡Š":ce==="show-hint"?"æä¾›æç¤º":"ç»§ç»­å­¦ä¹ "}ï¼`,timestamp:new Date};b(pe=>[...pe,ie])};return l&&(A||m(!0)),!A&&!l?jsxRuntimeExports.jsx("div",{className:`fixed top-4 right-4 z-50 ${o}`,children:jsxRuntimeExports.jsxs(Button,{onClick:()=>m(!0),className:"relative w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg border-0 p-0 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:capybaraAvatar,alt:"Capybaraå¯¼å¸ˆ",className:"w-12 h-12 object-contain"}),f&&jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse",children:jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-1 left-1"})})]})}):jsxRuntimeExports.jsxs("div",{className:`${l?"h-full w-full":"fixed inset-y-0 right-0 w-[30%] min-w-[400px] z-40"} ${o}`,children:[!l&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20 -left-[70%]",onClick:()=>m(!1)}),jsxRuntimeExports.jsxs(Card,{className:`h-full ${l?"rounded-none":"rounded-none rounded-l-2xl"} shadow-2xl bg-gradient-to-br from-blue-50 via-orange-50 to-blue-50 border-0 flex flex-col`,children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-4 border-b border-blue-200/50 bg-white/60 backdrop-blur-sm ${l?"rounded-none":"rounded-tl-2xl"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center p-1",children:jsxRuntimeExports.jsx("img",{src:capybaraAvatar,alt:"Capybaraå¯¼å¸ˆ",className:"w-8 h-8 object-contain"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:"Capybaraå¯¼å¸ˆ"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[e,"å­¦ä¹ åŠ©æ‰‹"]})]})]}),!l&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"hover:bg-white/60",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[v.map(ce=>jsxRuntimeExports.jsx("div",{className:`flex ${ce.type==="student"?"justify-start":"justify-end"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] ${ce.type==="student"?"order-2":"order-1"}`,children:[jsxRuntimeExports.jsx("div",{className:`px-4 py-3 rounded-2xl ${ce.type==="student"?"bg-blue-500 text-white rounded-bl-sm":"bg-white/80 text-gray-900 rounded-br-sm shadow-sm"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed",children:ce.content})}),ce.type==="tutor"&&ce.buttons&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ce.buttons.map((ie,pe)=>jsxRuntimeExports.jsxs(Button,{size:"sm",variant:ie.variant||"default",onClick:()=>se(ie.action),className:`text-xs ${ie.variant==="outline"?"border-blue-300 text-blue-700 hover:bg-blue-50":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[ie.label,jsxRuntimeExports.jsx(ChevronRight,{className:"w-3 h-3 ml-1"})]},pe))}),ce.type==="tutor"&&jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center mt-2 order-1 mr-3 p-1",children:jsxRuntimeExports.jsx("img",{src:capybaraAvatar,alt:"Capybaraå¯¼å¸ˆ",className:"w-6 h-6 object-contain"})})]})},ce.id)),jsxRuntimeExports.jsx("div",{ref:_})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-blue-200/50 bg-white/60 backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 relative",children:jsxRuntimeExports.jsx("input",{ref:N,type:"text",value:w,onChange:ce=>j(ce.target.value),onKeyPress:z,placeholder:"é—®å¯¼å¸ˆé—®é¢˜...",className:"w-full px-4 py-3 bg-white/80 rounded-2xl border border-blue-200/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent text-sm"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>R(!E),className:`w-10 h-10 rounded-full ${E?"bg-red-500 text-white hover:bg-red-600":"hover:bg-white/60"}`,children:jsxRuntimeExports.jsx(Mic,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{onClick:$,disabled:!w.trim(),className:"w-10 h-10 rounded-full bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"æ”¯æŒæ–‡å­—å’Œè¯­éŸ³è¾“å…¥ â€¢ æŒ‰Enterå‘é€"})]})]})]})}function ParentDashboard({activeSection:e,languageSpace:t}){const n=t==="zh";if(e==="settings")return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:n?"å®¶é•¿è®¾ç½®":"Parent Settings"})}),jsxRuntimeExports.jsx(CardContent,{className:"text-muted-foreground",children:n?"å¯åœ¨æ­¤é…ç½®é€šçŸ¥åå¥½ã€å­©å­å¯è§èŒƒå›´ä»¥åŠè¯­è¨€ç©ºé—´é»˜è®¤è¿‡æ»¤ã€‚":"Configure notifications, child visibility, and default language-space filters here."})]})});const o=e==="progress"?n?"å­¦ä¹ è¿›åº¦":"Learning Progress":e==="rewards"?n?"ç§¯åˆ†å¥–åŠ±":"Rewards":n?"å­©å­æ¦‚è§ˆ":"Child Overview";return jsxRuntimeExports.jsx("div",{className:"p-6 space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:o})}),jsxRuntimeExports.jsx(CardContent,{className:"text-muted-foreground",children:n?"è¯¥æ¨¡å—å·²æŽ¥å…¥è¯­è¨€ç©ºé—´è¿‡æ»¤ï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰ã€‚åŽç»­å¯ç»§ç»­å¯¹æŽ¥å­©å­æ¡£æ¡ˆã€åˆ†è¯­è¨€è¿›åº¦ä¸Žå¥–åŠ±åˆ†è´¦ã€‚":"This module is language-space aware (Chinese/English). Next steps can connect child profiles, progress-by-language, and reward ledgers."})]})})}function applyThemeTokens(e){if(typeof document>"u")return;const t=document.documentElement;Object.entries(e).forEach(([n,o])=>{t.style.setProperty(n,o)})}function useTheme(e){reactExports.useEffect(()=>{applyThemeTokens(e)},[e])}function BaseLayout({sidebar:e,children:t}){return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-muted",children:[e,jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:t})]})}function RoleBasedLayout({sidebar:e,content:t}){return jsxRuntimeExports.jsx(BaseLayout,{sidebar:e,children:t})}function useRuntimePolicy(){const{user:e}=useAuth(),[t,n]=reactExports.useState(null),[o,l]=reactExports.useState(!1);return reactExports.useEffect(()=>{let u=!0;return(async()=>{l(!0);try{const A=e?.role==="teacher"||e?.role==="student"||e?.role==="parent"||e?.role==="admin"?e.role:void 0,m=await getRuntimePolicy({role:A});u&&n(m.policy)}catch{u&&n(null)}finally{u&&l(!1)}})(),()=>{u=!1}},[e?.role]),{policy:t,loading:o}}const ACTION_LABELS={course_created:"è¯¾ç¨‹åˆ›å»º",course_published:"æ–°è¯¾ç¨‹å‘å¸ƒ",course_assigned:"è¯¾ç¨‹åˆ†é…",class_created:"ç­çº§åˆ›å»º",student_completed:"å­¦ç”Ÿå®Œæˆè¯¾ç¨‹"};function formatRelativeTime(e){const t=new Date(e),o=new Date().getTime()-t.getTime(),l=Math.floor(o/6e4),u=Math.floor(o/36e5),d=Math.floor(o/864e5);return l<1?"åˆšåˆš":l<60?`${l}åˆ†é’Ÿå‰`:u<24?`${u}å°æ—¶å‰`:d<2?"æ˜¨å¤©":d<7?`${d}å¤©å‰`:t.toLocaleDateString()}function TeacherOverview(){const{user:e}=useAuth(),[t,n]=reactExports.useState(null),[o,l]=reactExports.useState([]),[u,d]=reactExports.useState([]),[A,m]=reactExports.useState(!0);reactExports.useEffect(()=>{if(!e?.id||e.role!=="teacher"){m(!1);return}Promise.all([getTeacherStats(e.id),listTeacherCoursesWithStats(e.id),getTeacherActivities(e.id,8)]).then(([g,v,b])=>{n(g);const w=v.courses.filter(j=>j.assignmentStatus==="assigned"||j.status==="published").sort((j,E)=>E.students-j.students).slice(0,4).map(j=>({name:j.title,students:j.students,completion:j.completion}));l(w),d(b.activities)}).catch(g=>console.error("[TeacherOverview] Failed to load:",g)).finally(()=>m(!1))},[e?.id,e?.role]);const f=t?[{title:"å·²åˆ†é…è¯¾ç¨‹",value:String(t.assignedCount??t.publishedCount),icon:BookOpen,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"æ´»è·ƒå­¦ç”Ÿ",value:String(t.totalStudents),icon:Users,color:"text-green-600",bgColor:"bg-green-50"},{title:"ä»»åŠ¡è®¾è®¡",value:String(t.totalCourses),icon:FileText,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"å¹³å‡å®ŒæˆçŽ‡",value:`${t.avgCompletion}%`,icon:TrendingUp,color:"text-orange-600",bgColor:"bg-orange-50"}]:[{title:"å·²åˆ†é…è¯¾ç¨‹",value:"â€”",icon:BookOpen,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"æ´»è·ƒå­¦ç”Ÿ",value:"â€”",icon:Users,color:"text-green-600",bgColor:"bg-green-50"},{title:"ä»»åŠ¡è®¾è®¡",value:"â€”",icon:FileText,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"å¹³å‡å®ŒæˆçŽ‡",value:"â€”",icon:TrendingUp,color:"text-orange-600",bgColor:"bg-orange-50"}];return jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"æ•™å¸ˆå·¥ä½œå°"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:"æ¬¢è¿Žå›žæ¥ï¼è¿™é‡Œæ˜¯æ‚¨çš„æ•™å­¦æ¦‚è§ˆ"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(g=>{const v=g.icon;return jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:g.title}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold mt-2",children:A?"â€¦":g.value})]}),jsxRuntimeExports.jsx("div",{className:`w-12 h-12 ${g.bgColor} rounded-lg flex items-center justify-center`,children:jsxRuntimeExports.jsx(v,{className:`w-6 h-6 ${g.color}`})})]})})},g.title)})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 mr-2"}),"æœ€è¿‘æ´»åŠ¨"]}),jsxRuntimeExports.jsx(CardDescription,{children:"æ‚¨çš„æœ€æ–°æ•™å­¦åŠ¨æ€"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:A?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"åŠ è½½ä¸­â€¦"}):u.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"æš‚æ— æ´»åŠ¨è®°å½•"}):u.map((g,v)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 pb-4 border-b last:border-0",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:ACTION_LABELS[g.action_type]??g.action_type}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:g.target_title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:formatRelativeTime(g.occurred_at)})]})]},`${g.occurred_at}-${v}`))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Award,{className:"w-5 h-5 mr-2"}),"çƒ­é—¨è¯¾ç¨‹"]}),jsxRuntimeExports.jsx(CardDescription,{children:"å­¦ç”Ÿå‚ä¸Žåº¦æœ€é«˜çš„è¯¾ç¨‹"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:(o.length>0?o:[{name:"æš‚æ— æ•°æ®",students:0,completion:0}]).map((g,v)=>jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:g.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.students,"äºº"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${g.completion}%`}})}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium",children:[g.completion,"%"]})]})]},v))})})]})]})]})}function Textarea({className:e,...t}){return jsxRuntimeExports.jsx("textarea",{"data-slot":"textarea",className:cn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const alertVariants=cva("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Alert({className:e,variant:t,...n}){return jsxRuntimeExports.jsx("div",{"data-slot":"alert",role:"alert",className:cn(alertVariants({variant:t}),e),...n})}function AlertTitle({className:e,...t}){return jsxRuntimeExports.jsx("div",{"data-slot":"alert-title",className:cn("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function AlertDescription({className:e,...t}){return jsxRuntimeExports.jsx("div",{"data-slot":"alert-description",className:cn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope$2(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:o,defaultOpen:l,disabled:u,onOpenChange:d,...A}=e,[m,f]=useControllableState({prop:o,defaultProp:l??!1,onChange:d,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:n,disabled:u,contentId:useId(),open:m,onOpenToggle:reactExports.useCallback(()=>f(g=>!g),[f]),children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$2(m),"data-disabled":u?"":void 0,...A,ref:t})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$2="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((e,t)=>{const{__scopeCollapsible:n,...o}=e,l=useCollapsibleContext(TRIGGER_NAME$2,n);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":getState$2(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...o,ref:t,onClick:composeEventHandlers(e.onClick,l.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$2;var CONTENT_NAME$2="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((e,t)=>{const{forceMount:n,...o}=e,l=useCollapsibleContext(CONTENT_NAME$2,e.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:n||l.open,children:({present:u})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...o,ref:t,present:u})})});CollapsibleContent.displayName=CONTENT_NAME$2;var CollapsibleContentImpl=reactExports.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:o,children:l,...u}=e,d=useCollapsibleContext(CONTENT_NAME$2,n),[A,m]=reactExports.useState(o),f=reactExports.useRef(null),g=useComposedRefs(t,f),v=reactExports.useRef(0),b=v.current,w=reactExports.useRef(0),j=w.current,E=d.open||A,R=reactExports.useRef(E),_=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const N=requestAnimationFrame(()=>R.current=!1);return()=>cancelAnimationFrame(N)},[]),useLayoutEffect2(()=>{const N=f.current;if(N){_.current=_.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const B=N.getBoundingClientRect();v.current=B.height,w.current=B.width,R.current||(N.style.transitionDuration=_.current.transitionDuration,N.style.animationName=_.current.animationName),m(o)}},[d.open,o]),jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState$2(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!E,...u,ref:g,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:E&&l})});function getState$2(e){return e?"open":"closed"}var Root$1=Collapsible,Trigger=CollapsibleTrigger,Content$1=CollapsibleContent,ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection,useCollection,createCollectionScope]=createCollection(ACCORDION_NAME),[createAccordionContext]=createContextScope$2(ACCORDION_NAME,[createCollectionScope,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion$1=React.forwardRef((e,t)=>{const{type:n,...o}=e,l=o,u=o;return jsxRuntimeExports.jsx(Collection.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{...u,ref:t}):jsxRuntimeExports.jsx(AccordionImplSingle,{...l,ref:t})})});Accordion$1.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React.forwardRef((e,t)=>{const{value:n,defaultValue:o,onValueChange:l=()=>{},collapsible:u=!1,...d}=e,[A,m]=useControllableState({prop:n,defaultProp:o??"",onChange:l,caller:ACCORDION_NAME});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:e.__scopeAccordion,value:React.useMemo(()=>A?[A]:[],[A]),onItemOpen:m,onItemClose:React.useCallback(()=>u&&m(""),[u,m]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:e.__scopeAccordion,collapsible:u,children:jsxRuntimeExports.jsx(AccordionImpl,{...d,ref:t})})})}),AccordionImplMultiple=React.forwardRef((e,t)=>{const{value:n,defaultValue:o,onValueChange:l=()=>{},...u}=e,[d,A]=useControllableState({prop:n,defaultProp:o??[],onChange:l,caller:ACCORDION_NAME}),m=React.useCallback(g=>A((v=[])=>[...v,g]),[A]),f=React.useCallback(g=>A((v=[])=>v.filter(b=>b!==g)),[A]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:e.__scopeAccordion,value:d,onItemOpen:m,onItemClose:f,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:e.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{...u,ref:t})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:o,dir:l,orientation:u="vertical",...d}=e,A=React.useRef(null),m=useComposedRefs(A,t),f=useCollection(n),v=useDirection(l)==="ltr",b=composeEventHandlers(e.onKeyDown,w=>{if(!ACCORDION_KEYS.includes(w.key))return;const j=w.target,E=f().filter(z=>!z.ref.current?.disabled),R=E.findIndex(z=>z.ref.current===j),_=E.length;if(R===-1)return;w.preventDefault();let N=R;const B=0,M=_-1,O=()=>{N=R+1,N>M&&(N=B)},F=()=>{N=R-1,N<B&&(N=M)};switch(w.key){case"Home":N=B;break;case"End":N=M;break;case"ArrowRight":u==="horizontal"&&(v?O():F());break;case"ArrowDown":u==="vertical"&&O();break;case"ArrowLeft":u==="horizontal"&&(v?F():O());break;case"ArrowUp":u==="vertical"&&F();break}const $=N%_;E[$].ref.current?.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:n,disabled:o,direction:l,orientation:u,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:n,children:jsxRuntimeExports.jsx(Primitive$2.div,{...d,"data-orientation":u,ref:m,onKeyDown:o?void 0:b})})})}),ITEM_NAME="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME),AccordionItem$1=React.forwardRef((e,t)=>{const{__scopeAccordion:n,value:o,...l}=e,u=useAccordionContext(ITEM_NAME,n),d=useAccordionValueContext(ITEM_NAME,n),A=useCollapsibleScope(n),m=useId(),f=o&&d.value.includes(o)||!1,g=u.disabled||e.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:n,open:f,disabled:g,triggerId:m,children:jsxRuntimeExports.jsx(Root$1,{"data-orientation":u.orientation,"data-state":getState$1(f),...A,...l,ref:t,disabled:g,open:f,onOpenChange:v=>{v?d.onItemOpen(o):d.onItemClose(o)}})})});AccordionItem$1.displayName=ITEM_NAME;var HEADER_NAME="AccordionHeader",AccordionHeader=React.forwardRef((e,t)=>{const{__scopeAccordion:n,...o}=e,l=useAccordionContext(ACCORDION_NAME,n),u=useAccordionItemContext(HEADER_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.h3,{"data-orientation":l.orientation,"data-state":getState$1(u.open),"data-disabled":u.disabled?"":void 0,...o,ref:t})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME$1="AccordionTrigger",AccordionTrigger$1=React.forwardRef((e,t)=>{const{__scopeAccordion:n,...o}=e,l=useAccordionContext(ACCORDION_NAME,n),u=useAccordionItemContext(TRIGGER_NAME$1,n),d=useAccordionCollapsibleContext(TRIGGER_NAME$1,n),A=useCollapsibleScope(n);return jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:n,children:jsxRuntimeExports.jsx(Trigger,{"aria-disabled":u.open&&!d.collapsible||void 0,"data-orientation":l.orientation,id:u.triggerId,...A,...o,ref:t})})});AccordionTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="AccordionContent",AccordionContent$1=React.forwardRef((e,t)=>{const{__scopeAccordion:n,...o}=e,l=useAccordionContext(ACCORDION_NAME,n),u=useAccordionItemContext(CONTENT_NAME$1,n),d=useCollapsibleScope(n);return jsxRuntimeExports.jsx(Content$1,{role:"region","aria-labelledby":u.triggerId,"data-orientation":l.orientation,...d,...o,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});AccordionContent$1.displayName=CONTENT_NAME$1;function getState$1(e){return e?"open":"closed"}var Root2=Accordion$1,Item=AccordionItem$1,Header=AccordionHeader,Trigger2=AccordionTrigger$1,Content2=AccordionContent$1;function Accordion({...e}){return jsxRuntimeExports.jsx(Root2,{"data-slot":"accordion",...e})}function AccordionItem({className:e,...t}){return jsxRuntimeExports.jsx(Item,{"data-slot":"accordion-item",className:cn("border-b last:border-b-0",e),...t})}function AccordionTrigger({className:e,children:t,...n}){return jsxRuntimeExports.jsx(Header,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{"data-slot":"accordion-trigger",className:cn("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,jsxRuntimeExports.jsx(ChevronDown,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function AccordionContent({className:e,children:t,...n}){return jsxRuntimeExports.jsx(Content2,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:jsxRuntimeExports.jsx("div",{className:cn("pt-0 pb-4",e),children:t})})}function ok$1(){}function unreachable(){}function parse$2(e){const t=[],n=String(e||"");let o=n.indexOf(","),l=0,u=!1;for(;!u;){o===-1&&(o=n.length,u=!0);const d=n.slice(l,o).trim();(d||!u)&&t.push(d),l=o+1,o=n.indexOf(",",l)}return t}function stringify$1(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name(e,t){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$2(e.value):!1:empty$2(e)}function empty$2(e){return e.replace(re,"")===""}class Schema{constructor(t,n,o){this.normal=n,this.property=t,o&&(this.space=o)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(e,t){const n={},o={};for(const l of e)Object.assign(n,l.property),Object.assign(o,l.normal);return new Schema(n,o,t)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(t,n){this.attribute=n,this.property=t}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(t,n,o,l){let u=-1;if(super(t,n),mark(this,"space",l),typeof o=="number")for(;++u<checks.length;){const d=checks[u];mark(this,checks[u],(o&types[d])===types[d])}}}DefinedInfo.prototype.defined=!0;function mark(e,t,n){n&&(e[t]=n)}function create$1(e){const t={},n={};for(const[o,l]of Object.entries(e.properties)){const u=new DefinedInfo(o,e.transform(e.attributes||{},o),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(u.mustUseProperty=!0),t[o]=u,n[normalize$1(o)]=o,n[normalize$1(u.attribute)]=o}return new Schema(t,n,e.space)}const aria=create$1({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function caseSensitiveTransform(e,t){return t in e?e[t]:t}function caseInsensitiveTransform(e,t){return caseSensitiveTransform(e,t.toLowerCase())}const html$3=create$1({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create$1({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create$1({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xmlns=create$1({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create$1({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find$1(e,t){const n=normalize$1(t);let o=t,l=Info;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&valid.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(dash,camelcase);o="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!dash.test(u)){let d=u.replace(cap$1,kebab);d.charAt(0)!=="-"&&(d="-"+d),t="data"+d}}l=DefinedInfo}return new l(o,t)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$1(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function stringify(e){return e.join(" ").trim()}var cjs$2={},cjs$1,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$1;hasRequiredCjs$2=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,A=/^\s+|\s+$/g,m=`
`,f="/",g="*",v="",b="comment",w="declaration";function j(R,_){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];_=_||{};var N=1,B=1;function M(Ae){var ue=Ae.match(t);ue&&(N+=ue.length);var Y=Ae.lastIndexOf(m);B=~Y?Ae.length-Y:B+Ae.length}function O(){var Ae={line:N,column:B};return function(ue){return ue.position=new F(Ae),se(),ue}}function F(Ae){this.start=Ae,this.end={line:N,column:B},this.source=_.source}F.prototype.content=R;function $(Ae){var ue=new Error(_.source+":"+N+":"+B+": "+Ae);if(ue.reason=Ae,ue.filename=_.source,ue.line=N,ue.column=B,ue.source=R,!_.silent)throw ue}function z(Ae){var ue=Ae.exec(R);if(ue){var Y=ue[0];return M(Y),R=R.slice(Y.length),ue}}function se(){z(n)}function ce(Ae){var ue;for(Ae=Ae||[];ue=ie();)ue!==!1&&Ae.push(ue);return Ae}function ie(){var Ae=O();if(!(f!=R.charAt(0)||g!=R.charAt(1))){for(var ue=2;v!=R.charAt(ue)&&(g!=R.charAt(ue)||f!=R.charAt(ue+1));)++ue;if(ue+=2,v===R.charAt(ue-1))return $("End of comment missing");var Y=R.slice(2,ue-2);return B+=2,M(Y),R=R.slice(ue),B+=2,Ae({type:b,comment:Y})}}function pe(){var Ae=O(),ue=z(o);if(ue){if(ie(),!z(l))return $("property missing ':'");var Y=z(u),fe=Ae({type:w,property:E(ue[0].replace(e,v)),value:Y?E(Y[0].replace(e,v)):v});return z(d),fe}}function xe(){var Ae=[];ce(Ae);for(var ue;ue=pe();)ue!==!1&&(Ae.push(ue),ce(Ae));return Ae}return se(),xe()}function E(R){return R?R.replace(A,v):v}return cjs$1=j,cjs$1}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$2;hasRequiredCjs$1=1;var e=cjs$2&&cjs$2.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.default=n;const t=e(requireCjs$2());function n(o,l){let u=null;if(!o||typeof o!="string")return u;const d=(0,t.default)(o),A=typeof l=="function";return d.forEach(m=>{if(m.type!=="declaration")return;const{property:f,value:g}=m;A?l(f,g,m):g&&(u=u||{},u[f]=g)}),u}return cjs$2}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,u=function(f){return!f||n.test(f)||e.test(f)},d=function(f,g){return g.toUpperCase()},A=function(f,g){return"".concat(g,"-")},m=function(f,g){return g===void 0&&(g={}),u(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(l,A):f=f.replace(o,A),f.replace(t,d))};return utilities.camelCase=m,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var e=cjs&&cjs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},t=e(requireCjs$1()),n=requireUtilities();function o(l,u){var d={};return!l||typeof l!="string"||(0,t.default)(l,function(A,m){A&&m&&(d[(0,n.camelCase)(A,u)]=m)}),d}return o.default=o,cjs=o,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(e){return t;function t(n){const o=n&&n.position&&n.position[e]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function position$1(e){const t=pointStart(e),n=pointEnd(e);if(t&&n)return{start:t,end:n}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point$1(e):""}function point$1(e){return index$1(e&&e.line)+":"+index$1(e&&e.column)}function position(e){return point$1(e&&e.start)+"-"+point$1(e&&e.end)}function index$1(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(t,n,o){super(),typeof n=="string"&&(o=n,n=void 0);let l="",u={},d=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof t=="string"?l=t:!u.cause&&t&&(d=!0,l=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof o=="string"){const m=o.indexOf(":");m===-1?u.ruleId=o:(u.source=o.slice(0,m),u.ruleId=o.slice(m+1))}if(!u.place&&u.ancestors&&u.ancestors){const m=u.ancestors[u.ancestors.length-1];m&&(u.place=m.position)}const A=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=A?A.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=A?A.line:void 0,this.name=stringifyPosition(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=d&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let o;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=developmentCreate(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=productionCreate(n,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:o,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?svg:html$2,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=one$2(l,e,void 0);return u&&typeof u!="string"?u:l.create(e,l.Fragment,{children:u||void 0},void 0)}function one$2(e,t,n){if(t.type==="element")return element$3(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mdxExpression(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mdxJsxElement(e,t,n);if(t.type==="mdxjsEsm")return mdxEsm(e,t);if(t.type==="root")return root$4(e,t,n);if(t.type==="text")return text$8(e,t)}function element$3(e,t,n){const o=e.schema;let l=o;t.tagName.toLowerCase()==="svg"&&o.space==="html"&&(l=svg,e.schema=l),e.ancestors.push(t);const u=findComponentFromName(e,t.tagName,!1),d=createElementProps(e,t);let A=createChildren(e,t);return tableElements.has(t.tagName)&&(A=A.filter(function(m){return typeof m=="string"?!whitespace(m):!0})),addNode(e,d,u,t),addChildren(d,A),e.ancestors.pop(),e.schema=o,e.create(t,u,d,n)}function mdxExpression(e,t){if(t.data&&t.data.estree&&e.evaluater){const o=t.data.estree.body[0];return o.type,e.evaluater.evaluateExpression(o.expression)}crashEstree(e,t.position)}function mdxEsm(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);crashEstree(e,t.position)}function mdxJsxElement(e,t,n){const o=e.schema;let l=o;t.name==="svg"&&o.space==="html"&&(l=svg,e.schema=l),e.ancestors.push(t);const u=t.name===null?e.Fragment:findComponentFromName(e,t.name,!0),d=createJsxElementProps(e,t),A=createChildren(e,t);return addNode(e,d,u,t),addChildren(d,A),e.ancestors.pop(),e.schema=o,e.create(t,u,d,n)}function root$4(e,t,n){const o={};return addChildren(o,createChildren(e,t)),e.create(t,e.Fragment,o,n)}function text$8(e,t){return t.value}function addNode(e,t,n,o){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=o)}function addChildren(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function productionCreate(e,t,n){return o;function o(l,u,d,A){const f=Array.isArray(d.children)?n:t;return A?f(u,d,A):f(u,d)}}function developmentCreate(e,t){return n;function n(o,l,u,d){const A=Array.isArray(u.children),m=pointStart(o);return t(l,u,d,A,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function createElementProps(e,t){const n={};let o,l;for(l in t.properties)if(l!=="children"&&own$3.call(t.properties,l)){const u=createProperty(e,l,t.properties[l]);if(u){const[d,A]=u;e.tableCellAlignToStyle&&d==="align"&&typeof A=="string"&&tableCellElement.has(t.tagName)?o=A:n[d]=A}}if(o){const u=n.style||(n.style={});u[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return n}function createJsxElementProps(e,t){const n={};for(const o of t.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&e.evaluater){const u=o.data.estree.body[0];u.type;const d=u.expression;d.type;const A=d.properties[0];A.type,Object.assign(n,e.evaluater.evaluateExpression(A.argument))}else crashEstree(e,t.position);else{const l=o.name;let u;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&e.evaluater){const A=o.value.data.estree.body[0];A.type,u=e.evaluater.evaluateExpression(A.expression)}else crashEstree(e,t.position);else u=o.value===null?!0:o.value;n[l]=u}return n}function createChildren(e,t){const n=[];let o=-1;const l=e.passKeys?new Map:emptyMap;for(;++o<t.children.length;){const u=t.children[o];let d;if(e.passKeys){const m=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(m){const f=l.get(m)||0;d=m+"-"+f,l.set(m,f+1)}}const A=one$2(e,u,d);A!==void 0&&n.push(A)}return n}function createProperty(e,t,n){const o=find$1(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=o.commaSeparated?stringify$1(n):stringify(n)),o.property==="style"){let l=typeof n=="object"?n:parseStyle(e,String(n));return e.stylePropertyNameCase==="css"&&(l=transformStylesToCssCasing(l)),["style",l]}return[e.elementAttributeNameCase==="react"&&o.space?hastToReact[o.property]||o.property:o.attribute,n]}}function parseStyle(e,t){try{return styleToJs(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const o=n,l=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=docs+"#cannot-parse-style-attribute",l}}function findComponentFromName(e,t,n){let o;if(!n)o={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let u=-1,d;for(;++u<l.length;){const A=name(l[u])?{type:"Identifier",name:l[u]}:{type:"Literal",value:l[u]};d=d?{type:"MemberExpression",object:d,property:A,computed:!!(u&&A.type==="Literal"),optional:!1}:A}o=d}else o=name(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(o.type==="Literal"){const l=o.value;return own$3.call(e.components,l)?e.components[l]:l}if(e.evaluater)return e.evaluater.evaluateExpression(o);crashEstree(e)}function crashEstree(e,t){const n=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",n}function transformStylesToCssCasing(e){const t={};let n;for(n in e)own$3.call(e,n)&&(t[transformStyleToCssCasing(n)]=e[n]);return t}function transformStyleToCssCasing(e){let t=e.replace(cap,toDash);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$1(e,t){const n=emptyOptions$4,o=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,l=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return one$1(e,o,l)}function one$1(e,t,n){if(node(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all$1(e.children,t,n)}return Array.isArray(e)?all$1(e,t,n):""}function all$1(e,t,n){const o=[];let l=-1;for(;++l<e.length;)o[l]=one$1(e[l],t,n);return o.join("")}function node(e){return!!(e&&typeof e=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(e){const t="&"+e+";";element$2.innerHTML=t;const n=element$2.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function splice(e,t,n,o){const l=e.length;let u=0,d;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,n=n>0?n:0,o.length<1e4)d=Array.from(o),d.unshift(t,n),e.splice(...d);else for(n&&e.splice(t,n);u<o.length;)d=o.slice(u,u+1e4),d.unshift(t,0),e.splice(...d),u+=1e4,t+=1e4}function push(e,t){return e.length>0?(splice(e,e.length,0,t),e):t}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const t={};let n=-1;for(;++n<e.length;)syntaxExtension(t,e[n]);return t}function syntaxExtension(e,t){let n;for(n in t){const l=(hasOwnProperty.call(e,n)?e[n]:void 0)||(e[n]={}),u=t[n];let d;if(u)for(d in u){hasOwnProperty.call(l,d)||(l[d]=[]);const A=u[d];constructs(l[d],Array.isArray(A)?A:A?[A]:[])}}}function constructs(e,t){let n=-1;const o=[];for(;++n<t.length;)(t[n].add==="after"?e:o).push(t[n]);splice(e,0,0,o)}function decodeNumericCharacterReference(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(/\p{P}|\p{S}/u),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function normalizeUri(e){const t=[];let n=-1,o=0,l=0;for(;++n<e.length;){const u=e.charCodeAt(n);let d="";if(u===37&&asciiAlphanumeric(e.charCodeAt(n+1))&&asciiAlphanumeric(e.charCodeAt(n+2)))l=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(d=String.fromCharCode(u));else if(u>55295&&u<57344){const A=e.charCodeAt(n+1);u<56320&&A>56319&&A<57344?(d=String.fromCharCode(u,A),l=1):d="ï¿½"}else d=String.fromCharCode(u);d&&(t.push(e.slice(o,n),encodeURIComponent(d)),o=n+l+1,d=""),l&&(n+=l,l=0)}return t.join("")+e.slice(o)}function factorySpace(e,t,n,o){const l=o?o-1:Number.POSITIVE_INFINITY;let u=0;return d;function d(m){return markdownSpace(m)?(e.enter(n),A(m)):t(m)}function A(m){return markdownSpace(m)&&u++<l?(e.consume(m),A):(e.exit(n),t(m))}}const content$1={tokenize:initializeContent};function initializeContent(e){const t=e.attempt(this.parser.constructs.contentInitial,o,l);let n;return t;function o(A){if(A===null){e.consume(A);return}return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),factorySpace(e,t,"linePrefix")}function l(A){return e.enter("paragraph"),u(A)}function u(A){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,d(A)}function d(A){if(A===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(A);return}return markdownLineEnding(A)?(e.consume(A),e.exit("chunkText"),u):(e.consume(A),d)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const t=this,n=[];let o=0,l,u,d;return A;function A(B){if(o<n.length){const M=n[o];return t.containerState=M[1],e.attempt(M[0].continuation,m,f)(B)}return f(B)}function m(B){if(o++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&N();const M=t.events.length;let O=M,F;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){F=t.events[O][1].end;break}_(o);let $=M;for(;$<t.events.length;)t.events[$][1].end={...F},$++;return splice(t.events,O+1,0,t.events.slice(M)),t.events.length=$,f(B)}return A(B)}function f(B){if(o===n.length){if(!l)return b(B);if(l.currentConstruct&&l.currentConstruct.concrete)return j(B);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(containerConstruct,g,v)(B)}function g(B){return l&&N(),_(o),b(B)}function v(B){return t.parser.lazy[t.now().line]=o!==n.length,d=t.now().offset,j(B)}function b(B){return t.containerState={},e.attempt(containerConstruct,w,j)(B)}function w(B){return o++,n.push([t.currentConstruct,t.containerState]),b(B)}function j(B){if(B===null){l&&N(),_(0),e.consume(B);return}return l=l||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:u}),E(B)}function E(B){if(B===null){R(e.exit("chunkFlow"),!0),_(0),e.consume(B);return}return markdownLineEnding(B)?(e.consume(B),R(e.exit("chunkFlow")),o=0,t.interrupt=void 0,A):(e.consume(B),E)}function R(B,M){const O=t.sliceStream(B);if(M&&O.push(null),B.previous=u,u&&(u.next=B),u=B,l.defineSkip(B.start),l.write(O),t.parser.lazy[B.start.line]){let F=l.events.length;for(;F--;)if(l.events[F][1].start.offset<d&&(!l.events[F][1].end||l.events[F][1].end.offset>d))return;const $=t.events.length;let z=$,se,ce;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(se){ce=t.events[z][1].end;break}se=!0}for(_(o),F=$;F<t.events.length;)t.events[F][1].end={...ce},F++;splice(t.events,z+1,0,t.events.slice($)),t.events.length=F}}function _(B){let M=n.length;for(;M-- >B;){const O=n[M];t.containerState=O[1],O[0].exit.call(t,e)}n.length=B}function N(){l.write([null]),u=void 0,l=void 0,t.containerState._closeFlow=void 0}}function tokenizeContainer(e,t,n){return factorySpace(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll(e,t,n){const o=[];let l=-1;for(;++l<e.length;){const u=e[l].resolveAll;u&&!o.includes(u)&&(t=u(t,n),o.push(u))}return t}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,t){let n=-1,o,l,u,d,A,m,f,g;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(o=n;o--;)if(e[o][0]==="exit"&&e[o][1].type==="attentionSequence"&&e[o][1]._open&&t.sliceSerialize(e[o][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[o][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[o][1].end.offset-e[o][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[o][1].end.offset-e[o][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const v={...e[o][1].end},b={...e[n][1].start};movePoint(v,-m),movePoint(b,m),d={type:m>1?"strongSequence":"emphasisSequence",start:v,end:{...e[o][1].end}},A={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:b},u={type:m>1?"strongText":"emphasisText",start:{...e[o][1].end},end:{...e[n][1].start}},l={type:m>1?"strong":"emphasis",start:{...d.start},end:{...A.end}},e[o][1].end={...d.start},e[n][1].start={...A.end},f=[],e[o][1].end.offset-e[o][1].start.offset&&(f=push(f,[["enter",e[o][1],t],["exit",e[o][1],t]])),f=push(f,[["enter",l,t],["enter",d,t],["exit",d,t],["enter",u,t]]),f=push(f,resolveAll(t.parser.constructs.insideSpan.null,e.slice(o+1,n),t)),f=push(f,[["exit",u,t],["enter",A,t],["exit",A,t],["exit",l,t]]),e[n][1].end.offset-e[n][1].start.offset?(g=2,f=push(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):g=0,splice(e,o-1,n-o+3,f),n=o+f.length-g-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function tokenizeAttention(e,t){const n=this.parser.constructs.attentionMarkers.null,o=this.previous,l=classifyCharacter(o);let u;return d;function d(m){return u=m,e.enter("attentionSequence"),A(m)}function A(m){if(m===u)return e.consume(m),A;const f=e.exit("attentionSequence"),g=classifyCharacter(m),v=!g||g===2&&l||n.includes(m),b=!l||l===2&&g||n.includes(o);return f._open=!!(u===42?v:v&&(l||!b)),f._close=!!(u===42?b:b&&(g||!v)),t(m)}}function movePoint(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,t,n){let o=0;return l;function l(w){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(w){return asciiAlpha(w)?(e.consume(w),d):w===64?n(w):f(w)}function d(w){return w===43||w===45||w===46||asciiAlphanumeric(w)?(o=1,A(w)):f(w)}function A(w){return w===58?(e.consume(w),o=0,m):(w===43||w===45||w===46||asciiAlphanumeric(w))&&o++<32?(e.consume(w),A):(o=0,f(w))}function m(w){return w===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):w===null||w===32||w===60||asciiControl(w)?n(w):(e.consume(w),m)}function f(w){return w===64?(e.consume(w),g):asciiAtext(w)?(e.consume(w),f):n(w)}function g(w){return asciiAlphanumeric(w)?v(w):n(w)}function v(w){return w===46?(e.consume(w),o=0,g):w===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),t):b(w)}function b(w){if((w===45||asciiAlphanumeric(w))&&o++<63){const j=w===45?b:v;return e.consume(w),j}return n(w)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(e,t,n){return o;function o(u){return markdownSpace(u)?factorySpace(e,l,"linePrefix")(u):l(u)}function l(u){return u===null||markdownLineEnding(u)?t(u):n(u)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,t,n){const o=this;return l;function l(d){if(d===62){const A=o.containerState;return A.open||(e.enter("blockQuote",{_container:!0}),A.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(d),e.exit("blockQuoteMarker"),u}return n(d)}function u(d){return markdownSpace(d)?(e.enter("blockQuotePrefixWhitespace"),e.consume(d),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(d))}}function tokenizeBlockQuoteContinuation(e,t,n){const o=this;return l;function l(d){return markdownSpace(d)?factorySpace(e,u,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):u(d)}function u(d){return e.attempt(blockQuote,t,n)(d)}}function exit$1(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,t,n){return o;function o(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),l}function l(u){return asciiPunctuation(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(u)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,t,n){const o=this;let l=0,u,d;return A;function A(v){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),m}function m(v){return v===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(v),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),u=31,d=asciiAlphanumeric,g(v))}function f(v){return v===88||v===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(v),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,d=asciiHexDigit,g):(e.enter("characterReferenceValue"),u=7,d=asciiDigit,g(v))}function g(v){if(v===59&&l){const b=e.exit("characterReferenceValue");return d===asciiAlphanumeric&&!decodeNamedCharacterReference(o.sliceSerialize(b))?n(v):(e.enter("characterReferenceMarker"),e.consume(v),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return d(v)&&l++<u?(e.consume(v),g):n(v)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,t,n){const o=this,l={partial:!0,tokenize:O};let u=0,d=0,A;return m;function m(F){return f(F)}function f(F){const $=o.events[o.events.length-1];return u=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,A=F,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(F)}function g(F){return F===A?(d++,e.consume(F),g):d<3?n(F):(e.exit("codeFencedFenceSequence"),markdownSpace(F)?factorySpace(e,v,"whitespace")(F):v(F))}function v(F){return F===null||markdownLineEnding(F)?(e.exit("codeFencedFence"),o.interrupt?t(F):e.check(nonLazyContinuation$1,E,M)(F)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(F))}function b(F){return F===null||markdownLineEnding(F)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),v(F)):markdownSpace(F)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace(e,w,"whitespace")(F)):F===96&&F===A?n(F):(e.consume(F),b)}function w(F){return F===null||markdownLineEnding(F)?v(F):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),j(F))}function j(F){return F===null||markdownLineEnding(F)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(F)):F===96&&F===A?n(F):(e.consume(F),j)}function E(F){return e.attempt(l,M,R)(F)}function R(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),_}function _(F){return u>0&&markdownSpace(F)?factorySpace(e,N,"linePrefix",u+1)(F):N(F)}function N(F){return F===null||markdownLineEnding(F)?e.check(nonLazyContinuation$1,E,M)(F):(e.enter("codeFlowValue"),B(F))}function B(F){return F===null||markdownLineEnding(F)?(e.exit("codeFlowValue"),N(F)):(e.consume(F),B)}function M(F){return e.exit("codeFenced"),t(F)}function O(F,$,z){let se=0;return ce;function ce(ue){return F.enter("lineEnding"),F.consume(ue),F.exit("lineEnding"),ie}function ie(ue){return F.enter("codeFencedFence"),markdownSpace(ue)?factorySpace(F,pe,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):pe(ue)}function pe(ue){return ue===A?(F.enter("codeFencedFenceSequence"),xe(ue)):z(ue)}function xe(ue){return ue===A?(se++,F.consume(ue),xe):se>=d?(F.exit("codeFencedFenceSequence"),markdownSpace(ue)?factorySpace(F,Ae,"whitespace")(ue):Ae(ue)):z(ue)}function Ae(ue){return ue===null||markdownLineEnding(ue)?(F.exit("codeFencedFence"),$(ue)):z(ue)}}}function tokenizeNonLazyContinuation$1(e,t,n){const o=this;return l;function l(d){return d===null?n(d):(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u)}function u(d){return o.parser.lazy[o.now().line]?n(d):t(d)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,t,n){const o=this;return l;function l(f){return e.enter("codeIndented"),factorySpace(e,u,"linePrefix",5)(f)}function u(f){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?d(f):n(f)}function d(f){return f===null?m(f):markdownLineEnding(f)?e.attempt(furtherStart,d,m)(f):(e.enter("codeFlowValue"),A(f))}function A(f){return f===null||markdownLineEnding(f)?(e.exit("codeFlowValue"),d(f)):(e.consume(f),A)}function m(f){return e.exit("codeIndented"),t(f)}}function tokenizeFurtherStart(e,t,n){const o=this;return l;function l(d){return o.parser.lazy[o.now().line]?n(d):markdownLineEnding(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):factorySpace(e,u,"linePrefix",5)(d)}function u(d){const A=o.events[o.events.length-1];return A&&A[1].type==="linePrefix"&&A[2].sliceSerialize(A[1],!0).length>=4?t(d):markdownLineEnding(d)?l(d):n(d)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let t=e.length-4,n=3,o,l;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(o=n;++o<t;)if(e[o][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(o=n-1,t++;++o<=t;)l===void 0?o!==t&&e[o][1].type!=="lineEnding"&&(l=o):(o===t||e[o][1].type==="lineEnding")&&(e[l][1].type="codeTextData",o!==l+2&&(e[l][1].end=e[o-1][1].end,e.splice(l+2,o-l-2),t-=o-l-2,o=l+2),l=void 0);return e}function previous$2(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,t,n){let o=0,l,u;return d;function d(v){return e.enter("codeText"),e.enter("codeTextSequence"),A(v)}function A(v){return v===96?(e.consume(v),o++,A):(e.exit("codeTextSequence"),m(v))}function m(v){return v===null?n(v):v===32?(e.enter("space"),e.consume(v),e.exit("space"),m):v===96?(u=e.enter("codeTextSequence"),l=0,g(v)):markdownLineEnding(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),m):(e.enter("codeTextData"),f(v))}function f(v){return v===null||v===32||v===96||markdownLineEnding(v)?(e.exit("codeTextData"),m(v)):(e.consume(v),f)}function g(v){return v===96?(e.consume(v),l++,g):l===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(v)):(u.type="codeTextData",f(v))}}class SpliceBuffer{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const o=n??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(t,o):t>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(t,n,o){const l=n||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return o&&chunkedPush(this.left,o),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),chunkedPush(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);chunkedPush(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);chunkedPush(this.left,n.reverse())}}}function chunkedPush(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function subtokenize(e){const t={};let n=-1,o,l,u,d,A,m,f;const g=new SpliceBuffer(e);for(;++n<g.length;){for(;n in t;)n=t[n];if(o=g.get(n),n&&o[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(m=o[1]._tokenizer.events,u=0,u<m.length&&m[u][1].type==="lineEndingBlank"&&(u+=2),u<m.length&&m[u][1].type==="content"))for(;++u<m.length&&m[u][1].type!=="content";)m[u][1].type==="chunkText"&&(m[u][1]._isInFirstContentOfListItem=!0,u++);if(o[0]==="enter")o[1].contentType&&(Object.assign(t,subcontent(g,n)),n=t[n],f=!0);else if(o[1]._container){for(u=n,l=void 0;u--;)if(d=g.get(u),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(l&&(g.get(l)[1].type="lineEndingBlank"),d[1].type="lineEnding",l=u);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;l&&(o[1].end={...g.get(l)[1].start},A=g.slice(l,n),A.unshift(o),g.splice(l,n-l+1,A))}}return splice(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function subcontent(e,t){const n=e.get(t)[1],o=e.get(t)[2];let l=t-1;const u=[];let d=n._tokenizer;d||(d=o.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const A=d.events,m=[],f={};let g,v,b=-1,w=n,j=0,E=0;const R=[E];for(;w;){for(;e.get(++l)[1]!==w;);u.push(l),w._tokenizer||(g=o.sliceStream(w),w.next||g.push(null),v&&d.defineSkip(w.start),w._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(g),w._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),v=w,w=w.next}for(w=n;++b<A.length;)A[b][0]==="exit"&&A[b-1][0]==="enter"&&A[b][1].type===A[b-1][1].type&&A[b][1].start.line!==A[b][1].end.line&&(E=b+1,R.push(E),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(d.events=[],w?(w._tokenizer=void 0,w.previous=void 0):R.pop(),b=R.length;b--;){const _=A.slice(R[b],R[b+1]),N=u.pop();m.push([N,N+_.length-1]),e.splice(N,2,_)}for(m.reverse(),b=-1;++b<m.length;)f[j+m[b][0]]=j+m[b][1],j+=m[b][1]-m[b][0]-1;return f}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,t){let n;return o;function o(A){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),l(A)}function l(A){return A===null?u(A):markdownLineEnding(A)?e.check(continuationConstruct,d,u)(A):(e.consume(A),l)}function u(A){return e.exit("chunkContent"),e.exit("content"),t(A)}function d(A){return e.consume(A),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,l}}function tokenizeContinuation(e,t,n){const o=this;return l;function l(d){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),factorySpace(e,u,"linePrefix")}function u(d){if(d===null||markdownLineEnding(d))return n(d);const A=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&A&&A[1].type==="linePrefix"&&A[2].sliceSerialize(A[1],!0).length>=4?t(d):e.interrupt(o.parser.constructs.flow,n,t)(d)}}function factoryDestination(e,t,n,o,l,u,d,A,m){const f=m||Number.POSITIVE_INFINITY;let g=0;return v;function v(_){return _===60?(e.enter(o),e.enter(l),e.enter(u),e.consume(_),e.exit(u),b):_===null||_===32||_===41||asciiControl(_)?n(_):(e.enter(o),e.enter(d),e.enter(A),e.enter("chunkString",{contentType:"string"}),E(_))}function b(_){return _===62?(e.enter(u),e.consume(_),e.exit(u),e.exit(l),e.exit(o),t):(e.enter(A),e.enter("chunkString",{contentType:"string"}),w(_))}function w(_){return _===62?(e.exit("chunkString"),e.exit(A),b(_)):_===null||_===60||markdownLineEnding(_)?n(_):(e.consume(_),_===92?j:w)}function j(_){return _===60||_===62||_===92?(e.consume(_),w):w(_)}function E(_){return!g&&(_===null||_===41||markdownLineEndingOrSpace(_))?(e.exit("chunkString"),e.exit(A),e.exit(d),e.exit(o),t(_)):g<f&&_===40?(e.consume(_),g++,E):_===41?(e.consume(_),g--,E):_===null||_===32||_===40||asciiControl(_)?n(_):(e.consume(_),_===92?R:E)}function R(_){return _===40||_===41||_===92?(e.consume(_),E):E(_)}}function factoryLabel(e,t,n,o,l,u){const d=this;let A=0,m;return f;function f(w){return e.enter(o),e.enter(l),e.consume(w),e.exit(l),e.enter(u),g}function g(w){return A>999||w===null||w===91||w===93&&!m||w===94&&!A&&"_hiddenFootnoteSupport"in d.parser.constructs?n(w):w===93?(e.exit(u),e.enter(l),e.consume(w),e.exit(l),e.exit(o),t):markdownLineEnding(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),v(w))}function v(w){return w===null||w===91||w===93||markdownLineEnding(w)||A++>999?(e.exit("chunkString"),g(w)):(e.consume(w),m||(m=!markdownSpace(w)),w===92?b:v)}function b(w){return w===91||w===92||w===93?(e.consume(w),A++,v):v(w)}}function factoryTitle(e,t,n,o,l,u){let d;return A;function A(b){return b===34||b===39||b===40?(e.enter(o),e.enter(l),e.consume(b),e.exit(l),d=b===40?41:b,m):n(b)}function m(b){return b===d?(e.enter(l),e.consume(b),e.exit(l),e.exit(o),t):(e.enter(u),f(b))}function f(b){return b===d?(e.exit(u),m(d)):b===null?n(b):markdownLineEnding(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),factorySpace(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===d||b===null||markdownLineEnding(b)?(e.exit("chunkString"),f(b)):(e.consume(b),b===92?v:g)}function v(b){return b===d||b===92?(e.consume(b),g):g(b)}}function factoryWhitespace(e,t){let n;return o;function o(l){return markdownLineEnding(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),n=!0,o):markdownSpace(l)?factorySpace(e,o,n?"linePrefix":"lineSuffix")(l):t(l)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,t,n){const o=this;let l;return u;function u(w){return e.enter("definition"),d(w)}function d(w){return factoryLabel.call(o,e,A,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function A(w){return l=normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),m):n(w)}function m(w){return markdownLineEndingOrSpace(w)?factoryWhitespace(e,f)(w):f(w)}function f(w){return factoryDestination(e,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function g(w){return e.attempt(titleBefore,v,v)(w)}function v(w){return markdownSpace(w)?factorySpace(e,b,"whitespace")(w):b(w)}function b(w){return w===null||markdownLineEnding(w)?(e.exit("definition"),o.parser.defined.push(l),t(w)):n(w)}}function tokenizeTitleBefore(e,t,n){return o;function o(A){return markdownLineEndingOrSpace(A)?factoryWhitespace(e,l)(A):n(A)}function l(A){return factoryTitle(e,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(A)}function u(A){return markdownSpace(A)?factorySpace(e,d,"whitespace")(A):d(A)}function d(A){return A===null||markdownLineEnding(A)?t(A):n(A)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,t,n){return o;function o(u){return e.enter("hardBreakEscape"),e.consume(u),l}function l(u){return markdownLineEnding(u)?(e.exit("hardBreakEscape"),t(u)):n(u)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,t){let n=e.length-2,o=3,l,u;return e[o][1].type==="whitespace"&&(o+=2),n-2>o&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(o===n-1||n-4>o&&e[n-2][1].type==="whitespace")&&(n-=o+1===n?2:4),n>o&&(l={type:"atxHeadingText",start:e[o][1].start,end:e[n][1].end},u={type:"chunkText",start:e[o][1].start,end:e[n][1].end,contentType:"text"},splice(e,o,n-o+1,[["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t]])),e}function tokenizeHeadingAtx(e,t,n){let o=0;return l;function l(g){return e.enter("atxHeading"),u(g)}function u(g){return e.enter("atxHeadingSequence"),d(g)}function d(g){return g===35&&o++<6?(e.consume(g),d):g===null||markdownLineEndingOrSpace(g)?(e.exit("atxHeadingSequence"),A(g)):n(g)}function A(g){return g===35?(e.enter("atxHeadingSequence"),m(g)):g===null||markdownLineEnding(g)?(e.exit("atxHeading"),t(g)):markdownSpace(g)?factorySpace(e,A,"whitespace")(g):(e.enter("atxHeadingText"),f(g))}function m(g){return g===35?(e.consume(g),m):(e.exit("atxHeadingSequence"),A(g))}function f(g){return g===null||g===35||markdownLineEndingOrSpace(g)?(e.exit("atxHeadingText"),A(g)):(e.consume(g),f)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function tokenizeHtmlFlow(e,t,n){const o=this;let l,u,d,A,m;return f;function f(je){return g(je)}function g(je){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(je),v}function v(je){return je===33?(e.consume(je),b):je===47?(e.consume(je),u=!0,E):je===63?(e.consume(je),l=3,o.interrupt?t:de):asciiAlpha(je)?(e.consume(je),d=String.fromCharCode(je),R):n(je)}function b(je){return je===45?(e.consume(je),l=2,w):je===91?(e.consume(je),l=5,A=0,j):asciiAlpha(je)?(e.consume(je),l=4,o.interrupt?t:de):n(je)}function w(je){return je===45?(e.consume(je),o.interrupt?t:de):n(je)}function j(je){const Me="CDATA[";return je===Me.charCodeAt(A++)?(e.consume(je),A===Me.length?o.interrupt?t:pe:j):n(je)}function E(je){return asciiAlpha(je)?(e.consume(je),d=String.fromCharCode(je),R):n(je)}function R(je){if(je===null||je===47||je===62||markdownLineEndingOrSpace(je)){const Me=je===47,He=d.toLowerCase();return!Me&&!u&&htmlRawNames.includes(He)?(l=1,o.interrupt?t(je):pe(je)):htmlBlockNames.includes(d.toLowerCase())?(l=6,Me?(e.consume(je),_):o.interrupt?t(je):pe(je)):(l=7,o.interrupt&&!o.parser.lazy[o.now().line]?n(je):u?N(je):B(je))}return je===45||asciiAlphanumeric(je)?(e.consume(je),d+=String.fromCharCode(je),R):n(je)}function _(je){return je===62?(e.consume(je),o.interrupt?t:pe):n(je)}function N(je){return markdownSpace(je)?(e.consume(je),N):ce(je)}function B(je){return je===47?(e.consume(je),ce):je===58||je===95||asciiAlpha(je)?(e.consume(je),M):markdownSpace(je)?(e.consume(je),B):ce(je)}function M(je){return je===45||je===46||je===58||je===95||asciiAlphanumeric(je)?(e.consume(je),M):O(je)}function O(je){return je===61?(e.consume(je),F):markdownSpace(je)?(e.consume(je),O):B(je)}function F(je){return je===null||je===60||je===61||je===62||je===96?n(je):je===34||je===39?(e.consume(je),m=je,$):markdownSpace(je)?(e.consume(je),F):z(je)}function $(je){return je===m?(e.consume(je),m=null,se):je===null||markdownLineEnding(je)?n(je):(e.consume(je),$)}function z(je){return je===null||je===34||je===39||je===47||je===60||je===61||je===62||je===96||markdownLineEndingOrSpace(je)?O(je):(e.consume(je),z)}function se(je){return je===47||je===62||markdownSpace(je)?B(je):n(je)}function ce(je){return je===62?(e.consume(je),ie):n(je)}function ie(je){return je===null||markdownLineEnding(je)?pe(je):markdownSpace(je)?(e.consume(je),ie):n(je)}function pe(je){return je===45&&l===2?(e.consume(je),Y):je===60&&l===1?(e.consume(je),fe):je===62&&l===4?(e.consume(je),ye):je===63&&l===3?(e.consume(je),de):je===93&&l===5?(e.consume(je),le):markdownLineEnding(je)&&(l===6||l===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,ge,xe)(je)):je===null||markdownLineEnding(je)?(e.exit("htmlFlowData"),xe(je)):(e.consume(je),pe)}function xe(je){return e.check(nonLazyContinuationStart,Ae,ge)(je)}function Ae(je){return e.enter("lineEnding"),e.consume(je),e.exit("lineEnding"),ue}function ue(je){return je===null||markdownLineEnding(je)?xe(je):(e.enter("htmlFlowData"),pe(je))}function Y(je){return je===45?(e.consume(je),de):pe(je)}function fe(je){return je===47?(e.consume(je),d="",H):pe(je)}function H(je){if(je===62){const Me=d.toLowerCase();return htmlRawNames.includes(Me)?(e.consume(je),ye):pe(je)}return asciiAlpha(je)&&d.length<8?(e.consume(je),d+=String.fromCharCode(je),H):pe(je)}function le(je){return je===93?(e.consume(je),de):pe(je)}function de(je){return je===62?(e.consume(je),ye):je===45&&l===2?(e.consume(je),de):pe(je)}function ye(je){return je===null||markdownLineEnding(je)?(e.exit("htmlFlowData"),ge(je)):(e.consume(je),ye)}function ge(je){return e.exit("htmlFlow"),t(je)}}function tokenizeNonLazyContinuationStart(e,t,n){const o=this;return l;function l(d){return markdownLineEnding(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):n(d)}function u(d){return o.parser.lazy[o.now().line]?n(d):t(d)}}function tokenizeBlankLineBefore(e,t,n){return o;function o(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),e.attempt(blankLine,t,n)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,t,n){const o=this;let l,u,d;return A;function A(de){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(de),m}function m(de){return de===33?(e.consume(de),f):de===47?(e.consume(de),O):de===63?(e.consume(de),B):asciiAlpha(de)?(e.consume(de),z):n(de)}function f(de){return de===45?(e.consume(de),g):de===91?(e.consume(de),u=0,j):asciiAlpha(de)?(e.consume(de),N):n(de)}function g(de){return de===45?(e.consume(de),w):n(de)}function v(de){return de===null?n(de):de===45?(e.consume(de),b):markdownLineEnding(de)?(d=v,fe(de)):(e.consume(de),v)}function b(de){return de===45?(e.consume(de),w):v(de)}function w(de){return de===62?Y(de):de===45?b(de):v(de)}function j(de){const ye="CDATA[";return de===ye.charCodeAt(u++)?(e.consume(de),u===ye.length?E:j):n(de)}function E(de){return de===null?n(de):de===93?(e.consume(de),R):markdownLineEnding(de)?(d=E,fe(de)):(e.consume(de),E)}function R(de){return de===93?(e.consume(de),_):E(de)}function _(de){return de===62?Y(de):de===93?(e.consume(de),_):E(de)}function N(de){return de===null||de===62?Y(de):markdownLineEnding(de)?(d=N,fe(de)):(e.consume(de),N)}function B(de){return de===null?n(de):de===63?(e.consume(de),M):markdownLineEnding(de)?(d=B,fe(de)):(e.consume(de),B)}function M(de){return de===62?Y(de):B(de)}function O(de){return asciiAlpha(de)?(e.consume(de),F):n(de)}function F(de){return de===45||asciiAlphanumeric(de)?(e.consume(de),F):$(de)}function $(de){return markdownLineEnding(de)?(d=$,fe(de)):markdownSpace(de)?(e.consume(de),$):Y(de)}function z(de){return de===45||asciiAlphanumeric(de)?(e.consume(de),z):de===47||de===62||markdownLineEndingOrSpace(de)?se(de):n(de)}function se(de){return de===47?(e.consume(de),Y):de===58||de===95||asciiAlpha(de)?(e.consume(de),ce):markdownLineEnding(de)?(d=se,fe(de)):markdownSpace(de)?(e.consume(de),se):Y(de)}function ce(de){return de===45||de===46||de===58||de===95||asciiAlphanumeric(de)?(e.consume(de),ce):ie(de)}function ie(de){return de===61?(e.consume(de),pe):markdownLineEnding(de)?(d=ie,fe(de)):markdownSpace(de)?(e.consume(de),ie):se(de)}function pe(de){return de===null||de===60||de===61||de===62||de===96?n(de):de===34||de===39?(e.consume(de),l=de,xe):markdownLineEnding(de)?(d=pe,fe(de)):markdownSpace(de)?(e.consume(de),pe):(e.consume(de),Ae)}function xe(de){return de===l?(e.consume(de),l=void 0,ue):de===null?n(de):markdownLineEnding(de)?(d=xe,fe(de)):(e.consume(de),xe)}function Ae(de){return de===null||de===34||de===39||de===60||de===61||de===96?n(de):de===47||de===62||markdownLineEndingOrSpace(de)?se(de):(e.consume(de),Ae)}function ue(de){return de===47||de===62||markdownLineEndingOrSpace(de)?se(de):n(de)}function Y(de){return de===62?(e.consume(de),e.exit("htmlTextData"),e.exit("htmlText"),t):n(de)}function fe(de){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(de),e.exit("lineEnding"),H}function H(de){return markdownSpace(de)?factorySpace(e,le,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):le(de)}function le(de){return e.enter("htmlTextData"),d(de)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let t=-1;const n=[];for(;++t<e.length;){const o=e[t][1];if(n.push(e[t]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const l=o.type==="labelImage"?4:2;o.type="data",t+=l}}return e.length!==n.length&&splice(e,0,e.length,n),e}function resolveToLabelEnd(e,t){let n=e.length,o=0,l,u,d,A;for(;n--;)if(l=e[n][1],u){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;e[n][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(d){if(e[n][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(u=n,l.type!=="labelLink")){o=2;break}}else l.type==="labelEnd"&&(d=n);const m={type:e[u][1].type==="labelLink"?"link":"image",start:{...e[u][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[u][1].start},end:{...e[d][1].end}},g={type:"labelText",start:{...e[u+o+2][1].end},end:{...e[d-2][1].start}};return A=[["enter",m,t],["enter",f,t]],A=push(A,e.slice(u+1,u+o+3)),A=push(A,[["enter",g,t]]),A=push(A,resolveAll(t.parser.constructs.insideSpan.null,e.slice(u+o+4,d-3),t)),A=push(A,[["exit",g,t],e[d-2],e[d-1],["exit",f,t]]),A=push(A,e.slice(d+1)),A=push(A,[["exit",m,t]]),splice(e,u,e.length,A),e}function tokenizeLabelEnd(e,t,n){const o=this;let l=o.events.length,u,d;for(;l--;)if((o.events[l][1].type==="labelImage"||o.events[l][1].type==="labelLink")&&!o.events[l][1]._balanced){u=o.events[l][1];break}return A;function A(b){return u?u._inactive?v(b):(d=o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize({start:u.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),m):n(b)}function m(b){return b===40?e.attempt(resourceConstruct,g,d?g:v)(b):b===91?e.attempt(referenceFullConstruct,g,d?f:v)(b):d?g(b):v(b)}function f(b){return e.attempt(referenceCollapsedConstruct,g,v)(b)}function g(b){return t(b)}function v(b){return u._balanced=!0,n(b)}}function tokenizeResource(e,t,n){return o;function o(v){return e.enter("resource"),e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),l}function l(v){return markdownLineEndingOrSpace(v)?factoryWhitespace(e,u)(v):u(v)}function u(v){return v===41?g(v):factoryDestination(e,d,A,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function d(v){return markdownLineEndingOrSpace(v)?factoryWhitespace(e,m)(v):g(v)}function A(v){return n(v)}function m(v){return v===34||v===39||v===40?factoryTitle(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function f(v){return markdownLineEndingOrSpace(v)?factoryWhitespace(e,g)(v):g(v)}function g(v){return v===41?(e.enter("resourceMarker"),e.consume(v),e.exit("resourceMarker"),e.exit("resource"),t):n(v)}}function tokenizeReferenceFull(e,t,n){const o=this;return l;function l(A){return factoryLabel.call(o,e,u,d,"reference","referenceMarker","referenceString")(A)}function u(A){return o.parser.defined.includes(normalizeIdentifier(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?t(A):n(A)}function d(A){return n(A)}}function tokenizeReferenceCollapsed(e,t,n){return o;function o(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),l}function l(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),t):n(u)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,t,n){const o=this;return l;function l(A){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(A),e.exit("labelImageMarker"),u}function u(A){return A===91?(e.enter("labelMarker"),e.consume(A),e.exit("labelMarker"),e.exit("labelImage"),d):n(A)}function d(A){return A===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(A):t(A)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,t,n){const o=this;return l;function l(d){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelLink"),u}function u(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):t(d)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,t){return n;function n(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),factorySpace(e,t,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,t,n){let o=0,l;return u;function u(f){return e.enter("thematicBreak"),d(f)}function d(f){return l=f,A(f)}function A(f){return f===l?(e.enter("thematicBreakSequence"),m(f)):o>=3&&(f===null||markdownLineEnding(f))?(e.exit("thematicBreak"),t(f)):n(f)}function m(f){return f===l?(e.consume(f),o++,m):(e.exit("thematicBreakSequence"),markdownSpace(f)?factorySpace(e,A,"whitespace")(f):A(f))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(e,t,n){const o=this,l=o.events[o.events.length-1];let u=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,d=0;return A;function A(w){const j=o.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!o.containerState.marker||w===o.containerState.marker:asciiDigit(w)){if(o.containerState.type||(o.containerState.type=j,e.enter(j,{_container:!0})),j==="listUnordered")return e.enter("listItemPrefix"),w===42||w===45?e.check(thematicBreak$2,n,f)(w):f(w);if(!o.interrupt||w===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(w)}return n(w)}function m(w){return asciiDigit(w)&&++d<10?(e.consume(w),m):(!o.interrupt||d<2)&&(o.containerState.marker?w===o.containerState.marker:w===41||w===46)?(e.exit("listItemValue"),f(w)):n(w)}function f(w){return e.enter("listItemMarker"),e.consume(w),e.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||w,e.check(blankLine,o.interrupt?n:g,e.attempt(listItemPrefixWhitespaceConstruct,b,v))}function g(w){return o.containerState.initialBlankLine=!0,u++,b(w)}function v(w){return markdownSpace(w)?(e.enter("listItemPrefixWhitespace"),e.consume(w),e.exit("listItemPrefixWhitespace"),b):n(w)}function b(w){return o.containerState.size=u+o.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(w)}}function tokenizeListContinuation(e,t,n){const o=this;return o.containerState._closeFlow=void 0,e.check(blankLine,l,u);function l(A){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,factorySpace(e,t,"listItemIndent",o.containerState.size+1)(A)}function u(A){return o.containerState.furtherBlankLines||!markdownSpace(A)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(A)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,t,d)(A))}function d(A){return o.containerState._closeFlow=!0,o.interrupt=void 0,factorySpace(e,e.attempt(list$2,t,n),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A)}}function tokenizeIndent$1(e,t,n){const o=this;return factorySpace(e,l,"listItemIndent",o.containerState.size+1);function l(u){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?t(u):n(u)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,t,n){const o=this;return factorySpace(e,l,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(u){const d=o.events[o.events.length-1];return!markdownSpace(u)&&d&&d[1].type==="listItemPrefixWhitespace"?t(u):n(u)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,t){let n=e.length,o,l,u;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){o=n;break}e[n][1].type==="paragraph"&&(l=n)}else e[n][1].type==="content"&&e.splice(n,1),!u&&e[n][1].type==="definition"&&(u=n);const d={type:"setextHeading",start:{...e[o][1].start},end:{...e[e.length-1][1].end}};return e[l][1].type="setextHeadingText",u?(e.splice(l,0,["enter",d,t]),e.splice(u+1,0,["exit",e[o][1],t]),e[o][1].end={...e[u][1].end}):e[o][1]=d,e.push(["exit",d,t]),e}function tokenizeSetextUnderline(e,t,n){const o=this;let l;return u;function u(f){let g=o.events.length,v;for(;g--;)if(o.events[g][1].type!=="lineEnding"&&o.events[g][1].type!=="linePrefix"&&o.events[g][1].type!=="content"){v=o.events[g][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||v)?(e.enter("setextHeadingLine"),l=f,d(f)):n(f)}function d(f){return e.enter("setextHeadingLineSequence"),A(f)}function A(f){return f===l?(e.consume(f),A):(e.exit("setextHeadingLineSequence"),markdownSpace(f)?factorySpace(e,m,"lineSuffix")(f):m(f))}function m(f){return f===null||markdownLineEnding(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const t=this,n=e.attempt(blankLine,o,e.attempt(this.parser.constructs.flowInitial,l,factorySpace(e,e.attempt(this.parser.constructs.flow,l,e.attempt(content,l)),"linePrefix")));return n;function o(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function l(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$7=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:t};function t(n){const o=this,l=this.parser.constructs[e],u=n.attempt(l,d,A);return d;function d(g){return f(g)?u(g):A(g)}function A(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),m}function m(g){return f(g)?(n.exit("data"),u(g)):(n.consume(g),m)}function f(g){if(g===null)return!0;const v=l[g];let b=-1;if(v)for(;++b<v.length;){const w=v[b];if(!w.previous||w.previous.call(o,o.previous))return!0}return!1}}}function createResolver(e){return t;function t(n,o){let l=-1,u;for(;++l<=n.length;)u===void 0?n[l]&&n[l][1].type==="data"&&(u=l,l++):(!n[l]||n[l][1].type!=="data")&&(l!==u+2&&(n[u][1].end=n[l-1][1].end,n.splice(u+2,l-u-2),l=u+2),u=void 0);return e?e(n,o):n}}function resolveAllLineSuffixes(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const o=e[n-1][1],l=t.sliceStream(o);let u=l.length,d=-1,A=0,m;for(;u--;){const f=l[u];if(typeof f=="string"){for(d=f.length;f.charCodeAt(d-1)===32;)A++,d--;if(d)break;d=-1}else if(f===-2)m=!0,A++;else if(f!==-1){u++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(A=0),A){const f={type:n===e.length||m||A<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?d:o.start._bufferIndex+d,_index:o.start._index+u,line:o.end.line,column:o.end.column-A,offset:o.end.offset-A},end:{...o.end}};o.end={...f.start},o.start.offset===o.end.offset?Object.assign(o,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$6={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$6},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,t,n){let o={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const l={},u=[];let d=[],A=[];const m={attempt:$(O),check:$(F),consume:N,enter:B,exit:M,interrupt:$(F,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:j,parser:e,previous:null,sliceSerialize:b,sliceStream:w,write:v};let g=t.tokenize.call(f,m);return t.resolveAll&&u.push(t),f;function v(ie){return d=push(d,ie),R(),d[d.length-1]!==null?[]:(z(t,0),f.events=resolveAll(u,f.events,f),f.events)}function b(ie,pe){return serializeChunks(w(ie),pe)}function w(ie){return sliceChunks(d,ie)}function j(){const{_bufferIndex:ie,_index:pe,line:xe,column:Ae,offset:ue}=o;return{_bufferIndex:ie,_index:pe,line:xe,column:Ae,offset:ue}}function E(ie){l[ie.line]=ie.column,ce()}function R(){let ie;for(;o._index<d.length;){const pe=d[o._index];if(typeof pe=="string")for(ie=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===ie&&o._bufferIndex<pe.length;)_(pe.charCodeAt(o._bufferIndex));else _(pe)}}function _(ie){g=g(ie)}function N(ie){markdownLineEnding(ie)?(o.line++,o.column=1,o.offset+=ie===-3?2:1,ce()):ie!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),f.previous=ie}function B(ie,pe){const xe=pe||{};return xe.type=ie,xe.start=j(),f.events.push(["enter",xe,f]),A.push(xe),xe}function M(ie){const pe=A.pop();return pe.end=j(),f.events.push(["exit",pe,f]),pe}function O(ie,pe){z(ie,pe.from)}function F(ie,pe){pe.restore()}function $(ie,pe){return xe;function xe(Ae,ue,Y){let fe,H,le,de;return Array.isArray(Ae)?ge(Ae):"tokenize"in Ae?ge([Ae]):ye(Ae);function ye(Qe){return ze;function ze(Ve){const tt=Ve!==null&&Qe[Ve],nt=Ve!==null&&Qe.null,Ye=[...Array.isArray(tt)?tt:tt?[tt]:[],...Array.isArray(nt)?nt:nt?[nt]:[]];return ge(Ye)(Ve)}}function ge(Qe){return fe=Qe,H=0,Qe.length===0?Y:je(Qe[H])}function je(Qe){return ze;function ze(Ve){return de=se(),le=Qe,Qe.partial||(f.currentConstruct=Qe),Qe.name&&f.parser.constructs.disable.null.includes(Qe.name)?He():Qe.tokenize.call(pe?Object.assign(Object.create(f),pe):f,m,Me,He)(Ve)}}function Me(Qe){return ie(le,de),ue}function He(Qe){return de.restore(),++H<fe.length?je(fe[H]):Y}}}function z(ie,pe){ie.resolveAll&&!u.includes(ie)&&u.push(ie),ie.resolve&&splice(f.events,pe,f.events.length-pe,ie.resolve(f.events.slice(pe),f)),ie.resolveTo&&(f.events=ie.resolveTo(f.events,f))}function se(){const ie=j(),pe=f.previous,xe=f.currentConstruct,Ae=f.events.length,ue=Array.from(A);return{from:Ae,restore:Y};function Y(){o=ie,f.previous=pe,f.currentConstruct=xe,f.events.length=Ae,A=ue,ce()}}function ce(){o.line in l&&o.column<2&&(o.column=l[o.line],o.offset+=l[o.line]-1)}}function sliceChunks(e,t){const n=t.start._index,o=t.start._bufferIndex,l=t.end._index,u=t.end._bufferIndex;let d;if(n===l)d=[e[n].slice(o,u)];else{if(d=e.slice(n,l),o>-1){const A=d[0];typeof A=="string"?d[0]=A.slice(o):d.shift()}u>0&&d.push(e[l].slice(0,u))}return d}function serializeChunks(e,t){let n=-1;const o=[];let l;for(;++n<e.length;){const u=e[n];let d;if(typeof u=="string")d=u;else switch(u){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=t?" ":"	";break}case-1:{if(!t&&l)continue;d=" ";break}default:d=String.fromCharCode(u)}l=u===-2,o.push(d)}return o.join("")}function parse(e){const o={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:l(content$1),defined:[],document:l(document$2),flow:l(flow$1),lazy:{},string:l(string$1),text:l(text$7)};return o;function l(u){return d;function d(A){return createTokenizer(o,u,A)}}}function postprocess(e){for(;!subtokenize(e););return e}const search$1=/[\0\t\n\r]/g;function preprocess(){let e=1,t="",n=!0,o;return l;function l(u,d,A){const m=[];let f,g,v,b,w;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(d||void 0).decode(u)),v=0,t="",n&&(u.charCodeAt(0)===65279&&v++,n=void 0);v<u.length;){if(search$1.lastIndex=v,f=search$1.exec(u),b=f&&f.index!==void 0?f.index:u.length,w=u.charCodeAt(b),!f){t=u.slice(v);break}if(w===10&&v===b&&o)m.push(-3),o=void 0;else switch(o&&(m.push(-5),o=void 0),v<b&&(m.push(u.slice(v,b)),e+=b-v),w){case 0:{m.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,m.push(-2);e++<g;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:o=!0,e=1}v=b+1}return A&&(o&&m.push(-5),t&&m.push(t),m.push(null)),m}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const l=n.charCodeAt(1),u=l===120||l===88;return decodeNumericCharacterReference(n.slice(u?2:1),u?16:10)}return decodeNamedCharacterReference(n)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,t,n){return typeof t!="string"&&(n=t,t=void 0),compiler(n)(postprocess(parse(n).document().write(preprocess()(e,t,!0))))}function compiler(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Nr),autolinkProtocol:se,autolinkEmail:se,atxHeading:u(or),blockQuote:u(nt),characterEscape:se,characterReference:se,codeFenced:u(Ye),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:u(Ye,d),codeText:u(ut,d),codeTextData:se,data:se,codeFlowValue:se,definition:u(mt),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:u(St),hardBreakEscape:u(Zt),hardBreakTrailing:u(Zt),htmlFlow:u(Bt,d),htmlFlowData:se,htmlText:u(Bt,d),htmlTextData:se,image:u(ur),label:d,link:u(Nr),listItem:u($r),listItemValue:b,listOrdered:u(Qr,v),listUnordered:u(Qr),paragraph:u(on),reference:je,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:u(or),strong:u(wn),thematicBreak:u(en)},exit:{atxHeading:m(),atxHeadingSequence:O,autolink:m(),autolinkEmail:tt,autolinkProtocol:Ve,blockQuote:m(),characterEscapeValue:ce,characterReferenceMarkerHexadecimal:He,characterReferenceMarkerNumeric:He,characterReferenceValue:Qe,characterReference:ze,codeFenced:m(R),codeFencedFence:E,codeFencedFenceInfo:w,codeFencedFenceMeta:j,codeFlowValue:ce,codeIndented:m(_),codeText:m(ue),codeTextData:ce,data:ce,definition:m(),definitionDestinationString:M,definitionLabelString:N,definitionTitleString:B,emphasis:m(),hardBreakEscape:m(pe),hardBreakTrailing:m(pe),htmlFlow:m(xe),htmlFlowData:ce,htmlText:m(Ae),htmlTextData:ce,image:m(fe),label:le,labelText:H,lineEnding:ie,link:m(Y),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:Me,resourceDestinationString:de,resourceTitleString:ye,resource:ge,setextHeading:m(z),setextHeadingLineSequence:$,setextHeadingText:F,strong:m(),thematicBreak:m()}};configure(t,(e||{}).mdastExtensions||[]);const n={};return o;function o(Pt){let ar={type:"root",children:[]};const Xr={stack:[ar],tokenStack:[],config:t,enter:A,exit:f,buffer:d,resume:g,data:n},Cn=[];let tn=-1;for(;++tn<Pt.length;)if(Pt[tn][1].type==="listOrdered"||Pt[tn][1].type==="listUnordered")if(Pt[tn][0]==="enter")Cn.push(tn);else{const vn=Cn.pop();tn=l(Pt,vn,tn)}for(tn=-1;++tn<Pt.length;){const vn=t[Pt[tn][0]];own$2.call(vn,Pt[tn][1].type)&&vn[Pt[tn][1].type].call(Object.assign({sliceSerialize:Pt[tn][2].sliceSerialize},Xr),Pt[tn][1])}if(Xr.tokenStack.length>0){const vn=Xr.tokenStack[Xr.tokenStack.length-1];(vn[1]||defaultOnError).call(Xr,void 0,vn[0])}for(ar.position={start:point(Pt.length>0?Pt[0][1].start:{line:1,column:1,offset:0}),end:point(Pt.length>0?Pt[Pt.length-2][1].end:{line:1,column:1,offset:0})},tn=-1;++tn<t.transforms.length;)ar=t.transforms[tn](ar)||ar;return ar}function l(Pt,ar,Xr){let Cn=ar-1,tn=-1,vn=!1,bn,Br,Dt,Tr;for(;++Cn<=Xr;){const qr=Pt[Cn];switch(qr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qr[0]==="enter"?tn++:tn--,Tr=void 0;break}case"lineEndingBlank":{qr[0]==="enter"&&(bn&&!Tr&&!tn&&!Dt&&(Dt=Cn),Tr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tr=void 0}if(!tn&&qr[0]==="enter"&&qr[1].type==="listItemPrefix"||tn===-1&&qr[0]==="exit"&&(qr[1].type==="listUnordered"||qr[1].type==="listOrdered")){if(bn){let Zr=Cn;for(Br=void 0;Zr--;){const jn=Pt[Zr];if(jn[1].type==="lineEnding"||jn[1].type==="lineEndingBlank"){if(jn[0]==="exit")continue;Br&&(Pt[Br][1].type="lineEndingBlank",vn=!0),jn[1].type="lineEnding",Br=Zr}else if(!(jn[1].type==="linePrefix"||jn[1].type==="blockQuotePrefix"||jn[1].type==="blockQuotePrefixWhitespace"||jn[1].type==="blockQuoteMarker"||jn[1].type==="listItemIndent"))break}Dt&&(!Br||Dt<Br)&&(bn._spread=!0),bn.end=Object.assign({},Br?Pt[Br][1].start:qr[1].end),Pt.splice(Br||Cn,0,["exit",bn,qr[2]]),Cn++,Xr++}if(qr[1].type==="listItemPrefix"){const Zr={type:"listItem",_spread:!1,start:Object.assign({},qr[1].start),end:void 0};bn=Zr,Pt.splice(Cn,0,["enter",Zr,qr[2]]),Cn++,Xr++,Dt=void 0,Tr=!0}}}return Pt[ar][1]._spread=vn,Xr}function u(Pt,ar){return Xr;function Xr(Cn){A.call(this,Pt(Cn),Cn),ar&&ar.call(this,Cn)}}function d(){this.stack.push({type:"fragment",children:[]})}function A(Pt,ar,Xr){this.stack[this.stack.length-1].children.push(Pt),this.stack.push(Pt),this.tokenStack.push([ar,Xr||void 0]),Pt.position={start:point(ar.start),end:void 0}}function m(Pt){return ar;function ar(Xr){Pt&&Pt.call(this,Xr),f.call(this,Xr)}}function f(Pt,ar){const Xr=this.stack.pop(),Cn=this.tokenStack.pop();if(Cn)Cn[0].type!==Pt.type&&(ar?ar.call(this,Pt,Cn[0]):(Cn[1]||defaultOnError).call(this,Pt,Cn[0]));else throw new Error("Cannot close `"+Pt.type+"` ("+stringifyPosition({start:Pt.start,end:Pt.end})+"): itâ€™s not open");Xr.position.end=point(Pt.end)}function g(){return toString$1(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function b(Pt){if(this.data.expectingFirstListItemValue){const ar=this.stack[this.stack.length-2];ar.start=Number.parseInt(this.sliceSerialize(Pt),10),this.data.expectingFirstListItemValue=void 0}}function w(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.lang=Pt}function j(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.meta=Pt}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.value=Pt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.value=Pt.replace(/(\r?\n|\r)$/g,"")}function N(Pt){const ar=this.resume(),Xr=this.stack[this.stack.length-1];Xr.label=ar,Xr.identifier=normalizeIdentifier(this.sliceSerialize(Pt)).toLowerCase()}function B(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.title=Pt}function M(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.url=Pt}function O(Pt){const ar=this.stack[this.stack.length-1];if(!ar.depth){const Xr=this.sliceSerialize(Pt).length;ar.depth=Xr}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function $(Pt){const ar=this.stack[this.stack.length-1];ar.depth=this.sliceSerialize(Pt).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function se(Pt){const Xr=this.stack[this.stack.length-1].children;let Cn=Xr[Xr.length-1];(!Cn||Cn.type!=="text")&&(Cn=En(),Cn.position={start:point(Pt.start),end:void 0},Xr.push(Cn)),this.stack.push(Cn)}function ce(Pt){const ar=this.stack.pop();ar.value+=this.sliceSerialize(Pt),ar.position.end=point(Pt.end)}function ie(Pt){const ar=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Xr=ar.children[ar.children.length-1];Xr.position.end=point(Pt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ar.type)&&(se.call(this,Pt),ce.call(this,Pt))}function pe(){this.data.atHardBreak=!0}function xe(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.value=Pt}function Ae(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.value=Pt}function ue(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.value=Pt}function Y(){const Pt=this.stack[this.stack.length-1];if(this.data.inReference){const ar=this.data.referenceType||"shortcut";Pt.type+="Reference",Pt.referenceType=ar,delete Pt.url,delete Pt.title}else delete Pt.identifier,delete Pt.label;this.data.referenceType=void 0}function fe(){const Pt=this.stack[this.stack.length-1];if(this.data.inReference){const ar=this.data.referenceType||"shortcut";Pt.type+="Reference",Pt.referenceType=ar,delete Pt.url,delete Pt.title}else delete Pt.identifier,delete Pt.label;this.data.referenceType=void 0}function H(Pt){const ar=this.sliceSerialize(Pt),Xr=this.stack[this.stack.length-2];Xr.label=decodeString(ar),Xr.identifier=normalizeIdentifier(ar).toLowerCase()}function le(){const Pt=this.stack[this.stack.length-1],ar=this.resume(),Xr=this.stack[this.stack.length-1];if(this.data.inReference=!0,Xr.type==="link"){const Cn=Pt.children;Xr.children=Cn}else Xr.alt=ar}function de(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.url=Pt}function ye(){const Pt=this.resume(),ar=this.stack[this.stack.length-1];ar.title=Pt}function ge(){this.data.inReference=void 0}function je(){this.data.referenceType="collapsed"}function Me(Pt){const ar=this.resume(),Xr=this.stack[this.stack.length-1];Xr.label=ar,Xr.identifier=normalizeIdentifier(this.sliceSerialize(Pt)).toLowerCase(),this.data.referenceType="full"}function He(Pt){this.data.characterReferenceType=Pt.type}function Qe(Pt){const ar=this.sliceSerialize(Pt),Xr=this.data.characterReferenceType;let Cn;Xr?(Cn=decodeNumericCharacterReference(ar,Xr==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Cn=decodeNamedCharacterReference(ar);const tn=this.stack[this.stack.length-1];tn.value+=Cn}function ze(Pt){const ar=this.stack.pop();ar.position.end=point(Pt.end)}function Ve(Pt){ce.call(this,Pt);const ar=this.stack[this.stack.length-1];ar.url=this.sliceSerialize(Pt)}function tt(Pt){ce.call(this,Pt);const ar=this.stack[this.stack.length-1];ar.url="mailto:"+this.sliceSerialize(Pt)}function nt(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function ut(){return{type:"inlineCode",value:""}}function mt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function St(){return{type:"emphasis",children:[]}}function or(){return{type:"heading",depth:0,children:[]}}function Zt(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function ur(){return{type:"image",title:null,url:"",alt:null}}function Nr(){return{type:"link",title:null,url:"",children:[]}}function Qr(Pt){return{type:"list",ordered:Pt.type==="listOrdered",start:null,spread:Pt._spread,children:[]}}function $r(Pt){return{type:"listItem",spread:Pt._spread,checked:null,children:[]}}function on(){return{type:"paragraph",children:[]}}function wn(){return{type:"strong",children:[]}}function En(){return{type:"text",value:""}}function en(){return{type:"thematicBreak"}}}function point(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,t){let n=-1;for(;++n<t.length;){const o=t[n];Array.isArray(o)?configure(e,o):extension(e,o)}}function extension(e,t){let n;for(n in t)if(own$2.call(t,n))switch(n){case"canContainEols":{const o=t[n];o&&e[n].push(...o);break}case"transforms":{const o=t[n];o&&e[n].push(...o);break}case"enter":case"exit":{const o=t[n];o&&Object.assign(e[n],o);break}}}function defaultOnError(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+stringifyPosition({start:t.start,end:t.end})+") is still open")}function remarkParse(e){const t=this;t.parser=n;function n(o){return fromMarkdown(o,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function blockquote$1(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function hardBreak$1(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function code$2(e,t){const n=t.value?t.value+`
`:"",o={},l=t.lang?t.lang.split(/\s+/):[];l.length>0&&(o.className=["language-"+l[0]]);let u={type:"element",tagName:"code",properties:o,children:[{type:"text",value:n}]};return t.meta&&(u.data={meta:t.meta}),e.patch(t,u),u=e.applyData(t,u),u={type:"element",tagName:"pre",properties:{},children:[u]},e.patch(t,u),u}function strikethrough(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function emphasis$1(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function footnoteReference$1(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",o=String(t.identifier).toUpperCase(),l=normalizeUri(o.toLowerCase()),u=e.footnoteOrder.indexOf(o);let d,A=e.footnoteCounts.get(o);A===void 0?(A=0,e.footnoteOrder.push(o),d=e.footnoteOrder.length):d=u+1,A+=1,e.footnoteCounts.set(o,A);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+l,id:n+"fnref-"+l+(A>1?"-"+A:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};e.patch(t,m);const f={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,f),e.applyData(t,f)}function heading$1(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function html$1(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function revert(e,t){const n=t.referenceType;let o="]";if(n==="collapsed"?o+="[]":n==="full"&&(o+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+o}];const l=e.all(t),u=l[0];u&&u.type==="text"?u.value="["+u.value:l.unshift({type:"text",value:"["});const d=l[l.length-1];return d&&d.type==="text"?d.value+=o:l.push({type:"text",value:o}),l}function imageReference$1(e,t){const n=String(t.identifier).toUpperCase(),o=e.definitionById.get(n);if(!o)return revert(e,t);const l={src:normalizeUri(o.url||""),alt:t.alt};o.title!==null&&o.title!==void 0&&(l.title=o.title);const u={type:"element",tagName:"img",properties:l,children:[]};return e.patch(t,u),e.applyData(t,u)}function image$1(e,t){const n={src:normalizeUri(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const o={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,o),e.applyData(t,o)}function inlineCode$1(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const o={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,o),e.applyData(t,o)}function linkReference$1(e,t){const n=String(t.identifier).toUpperCase(),o=e.definitionById.get(n);if(!o)return revert(e,t);const l={href:normalizeUri(o.url||"")};o.title!==null&&o.title!==void 0&&(l.title=o.title);const u={type:"element",tagName:"a",properties:l,children:e.all(t)};return e.patch(t,u),e.applyData(t,u)}function link$1(e,t){const n={href:normalizeUri(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const o={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function listItem$1(e,t,n){const o=e.all(t),l=n?listLoose(n):listItemLoose(t),u={},d=[];if(typeof t.checked=="boolean"){const g=o[0];let v;g&&g.type==="element"&&g.tagName==="p"?v=g:(v={type:"element",tagName:"p",properties:{},children:[]},o.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let A=-1;for(;++A<o.length;){const g=o[A];(l||A!==0||g.type!=="element"||g.tagName!=="p")&&d.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!l?d.push(...g.children):d.push(g)}const m=o[o.length-1];m&&(l||m.type!=="element"||m.tagName!=="p")&&d.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:u,children:d};return e.patch(t,f),e.applyData(t,f)}function listLoose(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let o=-1;for(;!t&&++o<n.length;)t=listItemLoose(n[o])}return t}function listItemLoose(e){const t=e.spread;return t??e.children.length>1}function list$1(e,t){const n={},o=e.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++l<o.length;){const d=o[l];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(o,!0)};return e.patch(t,u),e.applyData(t,u)}function paragraph$1(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function root$3(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function strong$1(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function table(e,t){const n=e.all(t),o=n.shift(),l=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:e.wrap([o],!0)};e.patch(t.children[0],d),l.push(d)}if(n.length>0){const d={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},A=pointStart(t.children[1]),m=pointEnd(t.children[t.children.length-1]);A&&m&&(d.position={start:A,end:m}),l.push(d)}const u={type:"element",tagName:"table",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)}function tableRow(e,t,n){const o=n?n.children:void 0,u=(o?o.indexOf(t):1)===0?"th":"td",d=n&&n.type==="table"?n.align:void 0,A=d?d.length:t.children.length;let m=-1;const f=[];for(;++m<A;){const v=t.children[m],b={},w=d?d[m]:void 0;w&&(b.align=w);let j={type:"element",tagName:u,properties:b,children:[]};v&&(j.children=e.all(v),e.patch(v,j),j=e.applyData(v,j)),f.push(j)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,g),e.applyData(t,g)}function tableCell(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const tab=9,space=32;function trimLines(e){const t=String(e),n=/\r?\n|\r/g;let o=n.exec(t),l=0;const u=[];for(;o;)u.push(trimLine(t.slice(l,o.index),l>0,!0),o[0]),l=o.index+o[0].length,o=n.exec(t);return u.push(trimLine(t.slice(l),l>0,!1)),u.join("")}function trimLine(e,t,n){let o=0,l=e.length;if(t){let u=e.codePointAt(o);for(;u===tab||u===space;)o++,u=e.codePointAt(o)}if(n){let u=e.codePointAt(l-1);for(;u===tab||u===space;)l--,u=e.codePointAt(l-1)}return l>o?e.slice(o,l):""}function text$5(e,t){const n={type:"text",value:trimLines(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function thematicBreak$1(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$3,strong:strong$1,table,tableCell,tableRow,text:text$5,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,t)=>{const n=(l,u)=>(e.set(u,l),l),o=l=>{if(e.has(l))return e.get(l);const[u,d]=t[l];switch(u){case PRIMITIVE:case VOID:return n(d,l);case ARRAY:{const A=n([],l);for(const m of d)A.push(o(m));return A}case OBJECT:{const A=n({},l);for(const[m,f]of d)A[o(m)]=o(f);return A}case DATE:return n(new Date(d),l);case REGEXP:{const{source:A,flags:m}=d;return n(new RegExp(A,m),l)}case MAP:{const A=n(new Map,l);for(const[m,f]of d)A.set(o(m),o(f));return A}case SET:{const A=n(new Set,l);for(const m of d)A.add(o(m));return A}case ERROR:{const{name:A,message:m}=d;return n(new env[A](m),l)}case BIGINT:return n(BigInt(d),l);case"BigInt":return n(Object(BigInt(d)),l);case"ArrayBuffer":return n(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:A}=new Uint8Array(d);return n(new DataView(A),d)}}return n(new env[u](d),l)};return o},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=e=>{const t=typeof e;if(t!=="object"||!e)return[PRIMITIVE,t];const n=toString.call(e).slice(8,-1);switch(n){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,n]}return n.includes("Array")?[ARRAY,n]:n.includes("Error")?[ERROR,n]:[OBJECT,n]},shouldSkip=([e,t])=>e===PRIMITIVE&&(t==="function"||t==="symbol"),serializer=(e,t,n,o)=>{const l=(d,A)=>{const m=o.push(d)-1;return n.set(A,m),m},u=d=>{if(n.has(d))return n.get(d);let[A,m]=typeOf(d);switch(A){case PRIMITIVE:{let g=d;switch(m){case"bigint":A=BIGINT,g=d.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);g=null;break;case"undefined":return l([VOID],d)}return l([A,g],d)}case ARRAY:{if(m){let b=d;return m==="DataView"?b=new Uint8Array(d.buffer):m==="ArrayBuffer"&&(b=new Uint8Array(d)),l([m,[...b]],d)}const g=[],v=l([A,g],d);for(const b of d)g.push(u(b));return v}case OBJECT:{if(m)switch(m){case"BigInt":return l([m,d.toString()],d);case"Boolean":case"Number":case"String":return l([m,d.valueOf()],d)}if(t&&"toJSON"in d)return u(d.toJSON());const g=[],v=l([A,g],d);for(const b of keys(d))(e||!shouldSkip(typeOf(d[b])))&&g.push([u(b),u(d[b])]);return v}case DATE:return l([A,d.toISOString()],d);case REGEXP:{const{source:g,flags:v}=d;return l([A,{source:g,flags:v}],d)}case MAP:{const g=[],v=l([A,g],d);for(const[b,w]of d)(e||!(shouldSkip(typeOf(b))||shouldSkip(typeOf(w))))&&g.push([u(b),u(w)]);return v}case SET:{const g=[],v=l([A,g],d);for(const b of d)(e||!shouldSkip(typeOf(b)))&&g.push(u(b));return v}}const{message:f}=d;return l([A,{name:m,message:f}],d)};return u},serialize$1=(e,{json:t,lossy:n}={})=>{const o=[];return serializer(!(t||n),!!t,new Map,o)(e),o},structuredClone$1=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?deserialize(serialize$1(e,t)):structuredClone(e):(e,t)=>deserialize(serialize$1(e,t));function defaultFootnoteBackContent(e,t){const n=[{type:"text",value:"â†©"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function defaultFootnoteBackLabel(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function footer(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||defaultFootnoteBackContent,o=e.options.footnoteBackLabel||defaultFootnoteBackLabel,l=e.options.footnoteLabel||"Footnotes",u=e.options.footnoteLabelTagName||"h2",d=e.options.footnoteLabelProperties||{className:["sr-only"]},A=[];let m=-1;for(;++m<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[m]);if(!f)continue;const g=e.all(f),v=String(f.identifier).toUpperCase(),b=normalizeUri(v.toLowerCase());let w=0;const j=[],E=e.footnoteCounts.get(v);for(;E!==void 0&&++w<=E;){j.length>0&&j.push({type:"text",value:" "});let N=typeof n=="string"?n:n(m,w);typeof N=="string"&&(N={type:"text",value:N}),j.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(m,w),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const R=g[g.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const N=R.children[R.children.length-1];N&&N.type==="text"?N.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...j)}else g.push(...j);const _={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(g,!0)};e.patch(f,_),A.push(_)}if(A.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...structuredClone$1(d),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(A,!0)},{type:"text",value:`
`}]}}const convert=(function(e){if(e==null)return ok;if(typeof e=="function")return castFactory$1(e);if(typeof e=="object")return Array.isArray(e)?anyFactory$1(e):propertiesFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")});function anyFactory$1(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=convert(e[n]);return castFactory$1(o);function o(...l){let u=-1;for(;++u<t.length;)if(t[u].apply(this,l))return!0;return!1}}function propertiesFactory(e){const t=e;return castFactory$1(n);function n(o){const l=o;let u;for(u in e)if(l[u]!==t[u])return!1;return!0}}function typeFactory(e){return castFactory$1(t);function t(n){return n&&n.type===e}}function castFactory$1(e){return t;function t(n,o,l){return!!(looksLikeANode(n)&&e.call(this,n,typeof o=="number"?o:void 0,l||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty$1=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,t,n,o){let l;typeof t=="function"&&typeof n!="function"?(o=n,n=t):l=t;const u=convert(l),d=o?-1:1;A(e,void 0,[])();function A(m,f,g){const v=m&&typeof m=="object"?m:{};if(typeof v.type=="string"){const w=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return b;function b(){let w=empty$1,j,E,R;if((!t||u(m,f,g[g.length-1]||void 0))&&(w=toResult(n(m,g)),w[0]===EXIT))return w;if("children"in m&&m.children){const _=m;if(_.children&&w[0]!==SKIP)for(E=(o?_.children.length:-1)+d,R=g.concat(_);E>-1&&E<_.children.length;){const N=_.children[E];if(j=A(N,E,R)(),j[0]===EXIT)return j;E=typeof j[1]=="number"?j[1]:E+d}}return w}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty$1:[e]}function visit(e,t,n,o){let l,u,d;typeof t=="function"&&typeof n!="function"?(u=void 0,d=t,l=n):(u=t,d=n,l=o),visitParents(e,u,A,l);function A(m,f){const g=f[f.length-1],v=g?g.children.indexOf(m):void 0;return d(m,v,g)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(e,t){const n=t||emptyOptions$3,o=new Map,l=new Map,u=new Map,d={...handlers,...n.handlers},A={all:f,applyData,definitionById:o,footnoteById:l,footnoteCounts:u,footnoteOrder:[],handlers:d,one:m,options:n,patch,wrap:wrap$1};return visit(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const v=g.type==="definition"?o:l,b=String(g.identifier).toUpperCase();v.has(b)||v.set(b,g)}}),A;function m(g,v){const b=g.type,w=A.handlers[b];if(own$1.call(A.handlers,b)&&w)return w(A,g,v);if(A.options.passThrough&&A.options.passThrough.includes(b)){if("children"in g){const{children:E,...R}=g,_=structuredClone$1(R);return _.children=A.all(g),_}return structuredClone$1(g)}return(A.options.unknownHandler||defaultUnknownHandler)(A,g,v)}function f(g){const v=[];if("children"in g){const b=g.children;let w=-1;for(;++w<b.length;){const j=A.one(b[w],g);if(j){if(w&&b[w-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=trimMarkdownSpaceStart(j.value)),!Array.isArray(j)&&j.type==="element")){const E=j.children[0];E&&E.type==="text"&&(E.value=trimMarkdownSpaceStart(E.value))}Array.isArray(j)?v.push(...j):v.push(j)}}}return v}}function patch(e,t){e.position&&(t.position=position$1(e))}function applyData(e,t){let n=t;if(e&&e.data){const o=e.data.hName,l=e.data.hChildren,u=e.data.hProperties;if(typeof o=="string")if(n.type==="element")n.tagName=o;else{const d="children"in n?n.children:[n];n={type:"element",tagName:o,properties:{},children:d}}n.type==="element"&&u&&Object.assign(n.properties,structuredClone$1(u)),"children"in n&&n.children&&l!==null&&l!==void 0&&(n.children=l)}return n}function defaultUnknownHandler(e,t){const n=t.data||{},o="value"in t&&!(own$1.call(n,"hProperties")||own$1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function wrap$1(e,t){const n=[];let o=-1;for(t&&n.push({type:"text",value:`
`});++o<e.length;)o&&n.push({type:"text",value:`
`}),n.push(e[o]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function trimMarkdownSpaceStart(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function toHast(e,t){const n=createState(e,t),o=n.one(e,void 0),l=footer(n),u=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return l&&u.children.push({type:"text",value:`
`},l),u}function remarkRehype(e,t){return e&&"run"in e?async function(n,o){const l=toHast(n,{file:o,...t});await e.run(l,o)}:function(n,o){return toHast(n,{file:o,...e||t})}}function bail(e){if(e)throw e}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},u=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var g=e.call(f,"constructor"),v=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!v)return!1;var b;for(b in f);return typeof b>"u"||e.call(f,b)},d=function(f,g){n&&g.name==="__proto__"?n(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},A=function(f,g){if(g==="__proto__")if(e.call(f,g)){if(o)return o(f,g).value}else return;return f[g]};return extend$1=function m(){var f,g,v,b,w,j,E=arguments[0],R=1,_=arguments.length,N=!1;for(typeof E=="boolean"&&(N=E,E=arguments[1]||{},R=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});R<_;++R)if(f=arguments[R],f!=null)for(g in f)v=A(E,g),b=A(f,g),E!==b&&(N&&b&&(u(b)||(w=l(b)))?(w?(w=!1,j=v&&l(v)?v:[]):j=v&&u(v)?v:{},d(E,{name:g,newValue:m(N,j,b)})):typeof b<"u"&&d(E,{name:g,newValue:b}));return E},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],t={run:n,use:o};return t;function n(...l){let u=-1;const d=l.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);A(null,...l);function A(m,...f){const g=e[++u];let v=-1;if(m){d(m);return}for(;++v<l.length;)(f[v]===null||f[v]===void 0)&&(f[v]=l[v]);l=f,g?wrap(g,A)(...f):d(null,...f)}}function o(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return e.push(l),t}}function wrap(e,t){let n;return o;function o(...d){const A=e.length>d.length;let m;A&&d.push(l);try{m=e.apply(this,d)}catch(f){const g=f;if(A&&n)throw g;return l(g)}A||(m&&m.then&&typeof m.then=="function"?m.then(u,l):m instanceof Error?l(m):u(m))}function l(d,...A){n||(n=!0,t(d,...A))}function u(d){l(null,d)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let n=0,o=-1,l=e.length,u;if(t===void 0||t.length===0||t.length>e.length){for(;l--;)if(e.codePointAt(l)===47){if(u){n=l+1;break}}else o<0&&(u=!0,o=l+1);return o<0?"":e.slice(n,o)}if(t===e)return"";let d=-1,A=t.length-1;for(;l--;)if(e.codePointAt(l)===47){if(u){n=l+1;break}}else d<0&&(u=!0,d=l+1),A>-1&&(e.codePointAt(l)===t.codePointAt(A--)?A<0&&(o=l):(A=-1,o=d));return n===o?o=d:o<0&&(o=e.length),e.slice(n,o)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let t=-1,n=e.length,o;for(;--n;)if(e.codePointAt(n)===47){if(o){t=n;break}}else o||(o=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function extname(e){assertPath$1(e);let t=e.length,n=-1,o=0,l=-1,u=0,d;for(;t--;){const A=e.codePointAt(t);if(A===47){if(d){o=t+1;break}continue}n<0&&(d=!0,n=t+1),A===46?l<0?l=t:u!==1&&(u=1):l>-1&&(u=-1)}return l<0||n<0||u===0||u===1&&l===n-1&&l===o+1?"":e.slice(l,n)}function join(...e){let t=-1,n;for(;++t<e.length;)assertPath$1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":normalize(n)}function normalize(e){assertPath$1(e);const t=e.codePointAt(0)===47;let n=normalizeString(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function normalizeString(e,t){let n="",o=0,l=-1,u=0,d=-1,A,m;for(;++d<=e.length;){if(d<e.length)A=e.codePointAt(d);else{if(A===47)break;A=47}if(A===47){if(!(l===d-1||u===1))if(l!==d-1&&u===2){if(n.length<2||o!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",o=0):(n=n.slice(0,m),o=n.length-1-n.lastIndexOf("/")),l=d,u=0;continue}}else if(n.length>0){n="",o=0,l=d,u=0;continue}}t&&(n=n.length>0?n+"/..":"..",o=2)}else n.length>0?n+="/"+e.slice(l+1,d):n=e.slice(l+1,d),o=d-l-1;l=d,u=0}else A===46&&u>-1?u++:u=-1}return n}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const o=t.codePointAt(n+2);if(o===70||o===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(t){let n;t?isUrl(t)?n={path:t}:typeof t=="string"||isUint8Array$1(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<order.length;){const u=order[o];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let l;for(l in n)order.includes(l)||(this[l]=n[l])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(t){assertNonEmpty(t,"basename"),assertPart(t,"basename"),this.path=minpath.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(t){assertPath(this.basename,"dirname"),this.path=minpath.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(t){if(assertPart(t,"extname"),assertPath(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){isUrl(t)&&(t=urlToPath(t)),assertNonEmpty(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(t){assertNonEmpty(t,"stem"),assertPart(t,"stem"),this.path=minpath.join(this.dirname||"",t+(this.extname||""))}fail(t,n,o){const l=this.message(t,n,o);throw l.fatal=!0,l}info(t,n,o){const l=this.message(t,n,o);return l.fatal=void 0,l}message(t,n,o){const l=new VFileMessage(t,n,o);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function assertPart(e,t){if(e&&e.includes(minpath.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function assertPath(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=(function(e){const o=this.constructor.prototype,l=o[e],u=function(){return l.apply(u,arguments)};return Object.setPrototypeOf(u,o),u}),own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const t=new Processor;let n=-1;for(;++n<this.attachers.length;){const o=this.attachers[n];t.use(...o)}return t.data(extend(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[t]=n,this):own.call(this.namespace,t)&&this.namespace[t]||void 0:t?(assertUnfrozen("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const l=n.call(t,...o);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=vfile(t),o=this.parser||this.Parser;return assertParser("parse",o),o(String(n),n)}process(t,n){const o=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),n?l(void 0,n):new Promise(l);function l(u,d){const A=vfile(t),m=o.parse(A);o.run(m,A,function(g,v,b){if(g||!v||!b)return f(g);const w=v,j=o.stringify(w,b);looksLikeAValue(j)?b.value=j:b.result=j,f(g,b)});function f(g,v){g||!v?d(g):u?u(v):n(void 0,v)}}}processSync(t){let n=!1,o;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(t,l),assertDone("processSync","process",n),o;function l(u,d){n=!0,bail(u),o=d}}run(t,n,o){assertNode(t),this.freeze();const l=this.transformers;return!o&&typeof n=="function"&&(o=n,n=void 0),o?u(void 0,o):new Promise(u);function u(d,A){const m=vfile(n);l.run(t,m,f);function f(g,v,b){const w=v||t;g?A(g):d?d(w):o(void 0,w,b)}}}runSync(t,n){let o=!1,l;return this.run(t,n,u),assertDone("runSync","run",o),l;function u(d,A){bail(d),l=A,o=!0}}stringify(t,n){this.freeze();const o=vfile(n),l=this.compiler||this.Compiler;return assertCompiler("stringify",l),assertNode(t),l(t,o)}use(t,...n){const o=this.attachers,l=this.namespace;if(assertUnfrozen("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?A(t):d(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(f){if(typeof f=="function")m(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,...v]=f;m(g,v)}else d(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function d(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");A(f.plugins),f.settings&&(l.settings=extend(!0,l.settings,f.settings))}function A(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const v=f[g];u(v)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function m(f,g){let v=-1,b=-1;for(;++v<o.length;)if(o[v][0]===f){b=v;break}if(b===-1)o.push([f,...g]);else if(g.length>0){let[w,...j]=g;const E=o[b][1];isPlainObject(E)&&isPlainObject(w)&&(w=extend(!0,E,w)),o[b]=[f,w,...j]}}}}const unified=new Processor().freeze();function assertParser(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const t=createProcessor(e),n=createFile(e);return post(t.runSync(t.parse(n),n),e)}function createProcessor(e){const t=e.rehypePlugins||emptyPlugins,n=e.remarkPlugins||emptyPlugins,o=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(n).use(remarkRehype,o).use(t)}function createFile(e){const t=e.children||"",n=new VFile;return typeof t=="string"&&(n.value=t),n}function post(e,t){const n=t.allowedElements,o=t.allowElement,l=t.components,u=t.disallowedElements,d=t.skipHtml,A=t.unwrapDisallowed,m=t.urlTransform||defaultUrlTransform;for(const g of deprecations)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+changelog+g.id,void 0);return visit(e,f),toJsxRuntime(e,{Fragment:jsxRuntimeExports.Fragment,components:l,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function f(g,v,b){if(g.type==="raw"&&b&&typeof v=="number")return d?b.children.splice(v,1):b.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let w;for(w in urlAttributes)if(Object.hasOwn(urlAttributes,w)&&Object.hasOwn(g.properties,w)){const j=g.properties[w],E=urlAttributes[w];(E===null||E.includes(g.tagName))&&(g.properties[w]=m(String(j||""),w,g))}}if(g.type==="element"){let w=n?!n.includes(g.tagName):u?u.includes(g.tagName):!1;if(!w&&o&&typeof v=="number"&&(w=!o(g,v,b)),w&&b&&typeof v=="number")return A&&g.children?b.children.splice(v,1,...g.children):b.children.splice(v,1),v}}}function defaultUrlTransform(e){const t=e.indexOf(":"),n=e.indexOf("?"),o=e.indexOf("#"),l=e.indexOf("/");return t===-1||l!==-1&&t>l||n!==-1&&t>n||o!==-1&&t>o||safeProtocol.test(e.slice(0,t))?e:""}function ccount(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let o=0,l=n.indexOf(t);for(;l!==-1;)o++,l=n.indexOf(t,l+t.length);return o}function escapeStringRegexp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(e,t,n){const l=convert((n||{}).ignore||[]),u=toPairs(t);let d=-1;for(;++d<u.length;)visitParents(e,"text",A);function A(f,g){let v=-1,b;for(;++v<g.length;){const w=g[v],j=b?b.children:void 0;if(l(w,j?j.indexOf(w):void 0,b))return;b=w}if(b)return m(f,g)}function m(f,g){const v=g[g.length-1],b=u[d][0],w=u[d][1];let j=0;const R=v.children.indexOf(f);let _=!1,N=[];b.lastIndex=0;let B=b.exec(f.value);for(;B;){const M=B.index,O={index:B.index,input:B.input,stack:[...g,f]};let F=w(...B,O);if(typeof F=="string"&&(F=F.length>0?{type:"text",value:F}:void 0),F===!1?b.lastIndex=M+1:(j!==M&&N.push({type:"text",value:f.value.slice(j,M)}),Array.isArray(F)?N.push(...F):F&&N.push(F),j=M+B[0].length,_=!0),!b.global)break;B=b.exec(f.value)}return _?(j<f.value.length&&N.push({type:"text",value:f.value.slice(j)}),v.children.splice(R,1,...N)):N=[f],R+N.length}}function toPairs(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let o=-1;for(;++o<n.length;){const l=n[o];t.push([toExpression(l[0]),toFunction(l[1])])}return t}function toExpression(e){return typeof e=="string"?new RegExp(escapeStringRegexp(e),"g"):e}function toFunction(e){return typeof e=="function"?e:function(){return e}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function enterLiteralAutolinkValue(e){this.config.enter.autolinkProtocol.call(this,e)}function exitLiteralAutolinkHttp(e){this.config.exit.autolinkProtocol.call(this,e)}function exitLiteralAutolinkWww(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function exitLiteralAutolinkEmail(e){this.config.exit.autolinkEmail.call(this,e)}function exitLiteralAutolink(e){this.exit(e)}function transformGfmAutolinkLiterals(e){findAndReplace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,findEmail]],{ignore:["link","linkReference"]})}function findUrl(e,t,n,o,l){let u="";if(!previous$1(l)||(/^w/i.test(t)&&(n=t+n,t="",u="http://"),!isCorrectDomain(n)))return!1;const d=splitUrl(n+o);if(!d[0])return!1;const A={type:"link",title:null,url:u+t+d[0],children:[{type:"text",value:t+d[0]}]};return d[1]?[A,{type:"text",value:d[1]}]:A}function findEmail(e,t,n,o){return!previous$1(o,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function isCorrectDomain(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function splitUrl(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],o=n.indexOf(")");const l=ccount(e,"(");let u=ccount(e,")");for(;o!==-1&&l>u;)e+=n.slice(0,o+1),n=n.slice(o+1),o=n.indexOf(")"),u++;return[e,n]}function previous$1(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||unicodeWhitespace(n)||unicodePunctuation(n))&&(!t||n!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function exitFootnoteCallString(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),n.label=t}function exitFootnoteCall(e){this.exit(e)}function exitFootnoteDefinitionLabelString(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase(),n.label=t}function exitFootnoteDefinition(e){this.exit(e)}function footnoteReferencePeek(){return"["}function footnoteReference(e,t,n,o){const l=n.createTracker(o);let u=l.move("[^");const d=n.enter("footnoteReference"),A=n.enter("reference");return u+=l.move(n.safe(n.associationId(e),{after:"]",before:u})),A(),d(),u+=l.move("]"),u}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(o,l,u,d){const A=u.createTracker(d);let m=A.move("[^");const f=u.enter("footnoteDefinition"),g=u.enter("label");return m+=A.move(u.safe(u.associationId(o),{before:m,after:"]"})),g(),m+=A.move("]:"),o.children&&o.children.length>0&&(A.shift(4),m+=A.move((t?`
`:" ")+u.indentLines(u.containerFlow(o,A.current()),t?mapAll:mapExceptFirst))),f(),m}}function mapExceptFirst(e,t,n){return t===0?e:mapAll(e,t,n)}function mapAll(e,t,n){return(n?"":"    ")+e}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(e){this.enter({type:"delete",children:[]},e)}function exitStrikethrough(e){this.exit(e)}function handleDelete(e,t,n,o){const l=n.createTracker(o),u=n.enter("strikethrough");let d=l.move("~~");return d+=n.containerPhrasing(e,{...l.current(),before:d,after:"~"}),d+=l.move("~~"),u(),d}function peekDelete(){return"~"}function defaultStringLength(e){return e.length}function markdownTable(e,t){const n=t||{},o=(n.align||[]).concat(),l=n.stringLength||defaultStringLength,u=[],d=[],A=[],m=[];let f=0,g=-1;for(;++g<e.length;){const E=[],R=[];let _=-1;for(e[g].length>f&&(f=e[g].length);++_<e[g].length;){const N=serialize(e[g][_]);if(n.alignDelimiters!==!1){const B=l(N);R[_]=B,(m[_]===void 0||B>m[_])&&(m[_]=B)}E.push(N)}d[g]=E,A[g]=R}let v=-1;if(typeof o=="object"&&"length"in o)for(;++v<f;)u[v]=toAlignment(o[v]);else{const E=toAlignment(o);for(;++v<f;)u[v]=E}v=-1;const b=[],w=[];for(;++v<f;){const E=u[v];let R="",_="";E===99?(R=":",_=":"):E===108?R=":":E===114&&(_=":");let N=n.alignDelimiters===!1?1:Math.max(1,m[v]-R.length-_.length);const B=R+"-".repeat(N)+_;n.alignDelimiters!==!1&&(N=R.length+N+_.length,N>m[v]&&(m[v]=N),w[v]=N),b[v]=B}d.splice(1,0,b),A.splice(1,0,w),g=-1;const j=[];for(;++g<d.length;){const E=d[g],R=A[g];v=-1;const _=[];for(;++v<f;){const N=E[v]||"";let B="",M="";if(n.alignDelimiters!==!1){const O=m[v]-(R[v]||0),F=u[v];F===114?B=" ".repeat(O):F===99?O%2?(B=" ".repeat(O/2+.5),M=" ".repeat(O/2-.5)):(B=" ".repeat(O/2),M=B):M=" ".repeat(O)}n.delimiterStart!==!1&&!v&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||v)&&_.push(" "),n.alignDelimiters!==!1&&_.push(B),_.push(N),n.alignDelimiters!==!1&&_.push(M),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||v!==f-1)&&_.push("|")}j.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return j.join(`
`)}function serialize(e){return e==null?"":String(e)}function toAlignment(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function blockquote(e,t,n,o){const l=n.enter("blockquote"),u=n.createTracker(o);u.move("> "),u.shift(2);const d=n.indentLines(n.containerFlow(e,u.current()),map$1);return l(),d}function map$1(e,t,n){return">"+(n?"":" ")+e}function patternInScope(e,t){return listInScope(e,t.inConstruct,!0)&&!listInScope(e,t.notInConstruct,!1)}function listInScope(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let o=-1;for(;++o<t.length;)if(e.includes(t[o]))return!0;return!1}function hardBreak(e,t,n,o){let l=-1;for(;++l<n.unsafe.length;)if(n.unsafe[l].character===`
`&&patternInScope(n.stack,n.unsafe[l]))return/[ \t]/.test(o.before)?"":" ";return`\\
`}function longestStreak(e,t){const n=String(e);let o=n.indexOf(t),l=o,u=0,d=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;o!==-1;)o===l?++u>d&&(d=u):u=1,l=o+t.length,o=n.indexOf(t,l);return d}function formatCodeAsIndented(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function checkFence(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function code$1(e,t,n,o){const l=checkFence(n),u=e.value||"",d=l==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(e,n)){const v=n.enter("codeIndented"),b=n.indentLines(u,map);return v(),b}const A=n.createTracker(o),m=l.repeat(Math.max(longestStreak(u,l)+1,3)),f=n.enter("codeFenced");let g=A.move(m);if(e.lang){const v=n.enter(`codeFencedLang${d}`);g+=A.move(n.safe(e.lang,{before:g,after:" ",encode:["`"],...A.current()})),v()}if(e.lang&&e.meta){const v=n.enter(`codeFencedMeta${d}`);g+=A.move(" "),g+=A.move(n.safe(e.meta,{before:g,after:`
`,encode:["`"],...A.current()})),v()}return g+=A.move(`
`),u&&(g+=A.move(u+`
`)),g+=A.move(m),f(),g}function map(e,t,n){return(n?"":"    ")+e}function checkQuote(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function definition(e,t,n,o){const l=checkQuote(n),u=l==='"'?"Quote":"Apostrophe",d=n.enter("definition");let A=n.enter("label");const m=n.createTracker(o);let f=m.move("[");return f+=m.move(n.safe(n.associationId(e),{before:f,after:"]",...m.current()})),f+=m.move("]: "),A(),!e.url||/[\0- \u007F]/.test(e.url)?(A=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(e.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(A=n.enter("destinationRaw"),f+=m.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...m.current()}))),A(),e.title&&(A=n.enter(`title${u}`),f+=m.move(" "+l),f+=m.move(n.safe(e.title,{before:f,after:l,...m.current()})),f+=m.move(l),A()),d(),f}function checkEmphasis(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function encodeCharacterReference(e){return"&#x"+e.toString(16).toUpperCase()+";"}function encodeInfo(e,t,n){const o=classifyCharacter(e),l=classifyCharacter(t);return o===void 0?l===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:o===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(e,t,n,o){const l=checkEmphasis(n),u=n.enter("emphasis"),d=n.createTracker(o),A=d.move(l);let m=d.move(n.containerPhrasing(e,{after:l,before:A,...d.current()}));const f=m.charCodeAt(0),g=encodeInfo(o.before.charCodeAt(o.before.length-1),f,l);g.inside&&(m=encodeCharacterReference(f)+m.slice(1));const v=m.charCodeAt(m.length-1),b=encodeInfo(o.after.charCodeAt(0),v,l);b.inside&&(m=m.slice(0,-1)+encodeCharacterReference(v));const w=d.move(l);return u(),n.attentionEncodeSurroundingInfo={after:b.outside,before:g.outside},A+m+w}function emphasisPeek(e,t,n){return n.options.emphasis||"*"}function formatHeadingAsSetext(e,t){let n=!1;return visit(e,function(o){if("value"in o&&/\r?\n|\r/.test(o.value)||o.type==="break")return n=!0,EXIT}),!!((!e.depth||e.depth<3)&&toString$1(e)&&(t.options.setext||n))}function heading(e,t,n,o){const l=Math.max(Math.min(6,e.depth||1),1),u=n.createTracker(o);if(formatHeadingAsSetext(e,n)){const g=n.enter("headingSetext"),v=n.enter("phrasing"),b=n.containerPhrasing(e,{...u.current(),before:`
`,after:`
`});return v(),g(),b+`
`+(l===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const d="#".repeat(l),A=n.enter("headingAtx"),m=n.enter("phrasing");u.move(d+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(f)&&(f=encodeCharacterReference(f.charCodeAt(0))+f.slice(1)),f=f?d+" "+f:d,n.options.closeAtx&&(f+=" "+d),m(),A(),f}html.peek=htmlPeek;function html(e){return e.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(e,t,n,o){const l=checkQuote(n),u=l==='"'?"Quote":"Apostrophe",d=n.enter("image");let A=n.enter("label");const m=n.createTracker(o);let f=m.move("![");return f+=m.move(n.safe(e.alt,{before:f,after:"]",...m.current()})),f+=m.move("]("),A(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(A=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(e.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(A=n.enter("destinationRaw"),f+=m.move(n.safe(e.url,{before:f,after:e.title?" ":")",...m.current()}))),A(),e.title&&(A=n.enter(`title${u}`),f+=m.move(" "+l),f+=m.move(n.safe(e.title,{before:f,after:l,...m.current()})),f+=m.move(l),A()),f+=m.move(")"),d(),f}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(e,t,n,o){const l=e.referenceType,u=n.enter("imageReference");let d=n.enter("label");const A=n.createTracker(o);let m=A.move("![");const f=n.safe(e.alt,{before:m,after:"]",...A.current()});m+=A.move(f+"]["),d();const g=n.stack;n.stack=[],d=n.enter("reference");const v=n.safe(n.associationId(e),{before:m,after:"]",...A.current()});return d(),n.stack=g,u(),l==="full"||!f||f!==v?m+=A.move(v+"]"):l==="shortcut"?m=m.slice(0,-1):m+=A.move("]"),m}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(e,t,n){let o=e.value||"",l="`",u=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(o);)l+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++u<n.unsafe.length;){const d=n.unsafe[u],A=n.compilePattern(d);let m;if(d.atBreak)for(;m=A.exec(o);){let f=m.index;o.charCodeAt(f)===10&&o.charCodeAt(f-1)===13&&f--,o=o.slice(0,f)+" "+o.slice(m.index+1)}}return l+o+l}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(e,t){const n=toString$1(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}link.peek=linkPeek;function link(e,t,n,o){const l=checkQuote(n),u=l==='"'?"Quote":"Apostrophe",d=n.createTracker(o);let A,m;if(formatLinkAsAutolink(e,n)){const g=n.stack;n.stack=[],A=n.enter("autolink");let v=d.move("<");return v+=d.move(n.containerPhrasing(e,{before:v,after:">",...d.current()})),v+=d.move(">"),A(),n.stack=g,v}A=n.enter("link"),m=n.enter("label");let f=d.move("[");return f+=d.move(n.containerPhrasing(e,{before:f,after:"](",...d.current()})),f+=d.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(m=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),m(),e.title&&(m=n.enter(`title${u}`),f+=d.move(" "+l),f+=d.move(n.safe(e.title,{before:f,after:l,...d.current()})),f+=d.move(l),m()),f+=d.move(")"),A(),f}function linkPeek(e,t,n){return formatLinkAsAutolink(e,n)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(e,t,n,o){const l=e.referenceType,u=n.enter("linkReference");let d=n.enter("label");const A=n.createTracker(o);let m=A.move("[");const f=n.containerPhrasing(e,{before:m,after:"]",...A.current()});m+=A.move(f+"]["),d();const g=n.stack;n.stack=[],d=n.enter("reference");const v=n.safe(n.associationId(e),{before:m,after:"]",...A.current()});return d(),n.stack=g,u(),l==="full"||!f||f!==v?m+=A.move(v+"]"):l==="shortcut"?m=m.slice(0,-1):m+=A.move("]"),m}function linkReferencePeek(){return"["}function checkBullet(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function checkBulletOther(e){const t=checkBullet(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function checkBulletOrdered(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function checkRule(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function list(e,t,n,o){const l=n.enter("list"),u=n.bulletCurrent;let d=e.ordered?checkBulletOrdered(n):checkBullet(n);const A=e.ordered?d==="."?")":".":checkBulletOther(n);let m=t&&n.bulletLastUsed?d===n.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((d==="*"||d==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),checkRule(n)===d&&g){let v=-1;for(;++v<e.children.length;){const b=e.children[v];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(d=A),n.bulletCurrent=d;const f=n.containerFlow(e,o);return n.bulletLastUsed=d,n.bulletCurrent=u,l(),f}function checkListItemIndent(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function listItem(e,t,n,o){const l=checkListItemIndent(n);let u=n.bulletCurrent||checkBullet(n);t&&t.type==="list"&&t.ordered&&(u=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+u);let d=u.length+1;(l==="tab"||l==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(d=Math.ceil(d/4)*4);const A=n.createTracker(o);A.move(u+" ".repeat(d-u.length)),A.shift(d);const m=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,A.current()),g);return m(),f;function g(v,b,w){return b?(w?"":" ".repeat(d))+v:(w?u:u+" ".repeat(d-u.length))+v}}function paragraph(e,t,n,o){const l=n.enter("paragraph"),u=n.enter("phrasing"),d=n.containerPhrasing(e,o);return u(),l(),d}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root$2(e,t,n,o){return(e.children.some(function(d){return phrasing(d)})?n.containerPhrasing:n.containerFlow).call(n,e,o)}function checkStrong(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}strong.peek=strongPeek;function strong(e,t,n,o){const l=checkStrong(n),u=n.enter("strong"),d=n.createTracker(o),A=d.move(l+l);let m=d.move(n.containerPhrasing(e,{after:l,before:A,...d.current()}));const f=m.charCodeAt(0),g=encodeInfo(o.before.charCodeAt(o.before.length-1),f,l);g.inside&&(m=encodeCharacterReference(f)+m.slice(1));const v=m.charCodeAt(m.length-1),b=encodeInfo(o.after.charCodeAt(0),v,l);b.inside&&(m=m.slice(0,-1)+encodeCharacterReference(v));const w=d.move(l+l);return u(),n.attentionEncodeSurroundingInfo={after:b.outside,before:g.outside},A+m+w}function strongPeek(e,t,n){return n.options.strong||"*"}function text$4(e,t,n,o){return n.safe(e.value,o)}function checkRuleRepetition(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function thematicBreak(e,t,n){const o=(checkRule(n)+(n.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(n));return n.options.ruleSpaces?o.slice(0,-1):o}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root:root$2,strong,text:text$4,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function exitTable(e){this.exit(e),this.data.inTable=void 0}function enterRow(e){this.enter({type:"tableRow",children:[]},e)}function exit(e){this.exit(e)}function enterCell(e){this.enter({type:"tableCell",children:[]},e)}function exitCodeText(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,replace));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function replace(e,t){return t==="|"?t:e}function gfmTableToMarkdown(e){const t=e||{},n=t.tableCellPadding,o=t.tablePipeAlign,l=t.stringLength,u=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:d,tableCell:m,tableRow:A}};function d(w,j,E,R){return f(g(w,E,R),w.align)}function A(w,j,E,R){const _=v(w,E,R),N=f([_]);return N.slice(0,N.indexOf(`
`))}function m(w,j,E,R){const _=E.enter("tableCell"),N=E.enter("phrasing"),B=E.containerPhrasing(w,{...R,before:u,after:u});return N(),_(),B}function f(w,j){return markdownTable(w,{align:j,alignDelimiters:o,padding:n,stringLength:l})}function g(w,j,E){const R=w.children;let _=-1;const N=[],B=j.enter("table");for(;++_<R.length;)N[_]=v(R[_],j,E);return B(),N}function v(w,j,E){const R=w.children;let _=-1;const N=[],B=j.enter("tableRow");for(;++_<R.length;)N[_]=m(R[_],w,j,E);return B(),N}function b(w,j,E){let R=handle.inlineCode(w,j,E);return E.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const o=n.children[0];if(o&&o.type==="text"){const l=t.children;let u=-1,d;for(;++u<l.length;){const A=l[u];if(A.type==="paragraph"){d=A;break}}d===n&&(o.value=o.value.slice(1),o.value.length===0?n.children.shift():n.position&&o.position&&typeof o.position.start.offset=="number"&&(o.position.start.column++,o.position.start.offset++,n.position.start=Object.assign({},o.position.start)))}}this.exit(e)}function listItemWithTaskListItem(e,t,n,o){const l=e.children[0],u=typeof e.checked=="boolean"&&l&&l.type==="paragraph",d="["+(e.checked?"x":" ")+"] ",A=n.createTracker(o);u&&A.move(d);let m=handle.listItem(e,t,n,{...o,...A.current()});return u&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),m;function f(g){return g+d}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(e){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(e),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(e),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path$1={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text$3={};function gfmAutolinkLiteral(){return{text:text$3}}let code=48;for(;code<123;)text$3[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text$3[43]=emailAutolink;text$3[45]=emailAutolink;text$3[46]=emailAutolink;text$3[95]=emailAutolink;text$3[72]=[emailAutolink,protocolAutolink];text$3[104]=[emailAutolink,protocolAutolink];text$3[87]=[emailAutolink,wwwAutolink];text$3[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(e,t,n){const o=this;let l,u;return d;function d(v){return!gfmAtext(v)||!previousEmail.call(o,o.previous)||previousUnbalanced(o.events)?n(v):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),A(v))}function A(v){return gfmAtext(v)?(e.consume(v),A):v===64?(e.consume(v),m):n(v)}function m(v){return v===46?e.check(emailDomainDotTrail,g,f)(v):v===45||v===95||asciiAlphanumeric(v)?(u=!0,e.consume(v),m):g(v)}function f(v){return e.consume(v),l=!0,m}function g(v){return u&&l&&asciiAlpha(o.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(v)):n(v)}}function tokenizeWwwAutolink(e,t,n){const o=this;return l;function l(d){return d!==87&&d!==119||!previousWww.call(o,o.previous)||previousUnbalanced(o.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wwwPrefix,e.attempt(domain,e.attempt(path$1,u),n),n)(d))}function u(d){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(d)}}function tokenizeProtocolAutolink(e,t,n){const o=this;let l="",u=!1;return d;function d(v){return(v===72||v===104)&&previousProtocol.call(o,o.previous)&&!previousUnbalanced(o.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),l+=String.fromCodePoint(v),e.consume(v),A):n(v)}function A(v){if(asciiAlpha(v)&&l.length<5)return l+=String.fromCodePoint(v),e.consume(v),A;if(v===58){const b=l.toLowerCase();if(b==="http"||b==="https")return e.consume(v),m}return n(v)}function m(v){return v===47?(e.consume(v),u?f:(u=!0,m)):n(v)}function f(v){return v===null||asciiControl(v)||markdownLineEndingOrSpace(v)||unicodeWhitespace(v)||unicodePunctuation(v)?n(v):e.attempt(domain,e.attempt(path$1,g),n)(v)}function g(v){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(v)}}function tokenizeWwwPrefix(e,t,n){let o=0;return l;function l(d){return(d===87||d===119)&&o<3?(o++,e.consume(d),l):d===46&&o===3?(e.consume(d),u):n(d)}function u(d){return d===null?n(d):t(d)}}function tokenizeDomain(e,t,n){let o,l,u;return d;function d(f){return f===46||f===95?e.check(trail,m,A)(f):f===null||markdownLineEndingOrSpace(f)||unicodeWhitespace(f)||f!==45&&unicodePunctuation(f)?m(f):(u=!0,e.consume(f),d)}function A(f){return f===95?o=!0:(l=o,o=void 0),e.consume(f),d}function m(f){return l||o||!u?n(f):t(f)}}function tokenizePath(e,t){let n=0,o=0;return l;function l(d){return d===40?(n++,e.consume(d),l):d===41&&o<n?u(d):d===33||d===34||d===38||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===60||d===63||d===93||d===95||d===126?e.check(trail,t,u)(d):d===null||markdownLineEndingOrSpace(d)||unicodeWhitespace(d)?t(d):(e.consume(d),l)}function u(d){return d===41&&o++,e.consume(d),l}}function tokenizeTrail(e,t,n){return o;function o(A){return A===33||A===34||A===39||A===41||A===42||A===44||A===46||A===58||A===59||A===63||A===95||A===126?(e.consume(A),o):A===38?(e.consume(A),u):A===93?(e.consume(A),l):A===60||A===null||markdownLineEndingOrSpace(A)||unicodeWhitespace(A)?t(A):n(A)}function l(A){return A===null||A===40||A===91||markdownLineEndingOrSpace(A)||unicodeWhitespace(A)?t(A):o(A)}function u(A){return asciiAlpha(A)?d(A):n(A)}function d(A){return A===59?(e.consume(A),o):asciiAlpha(A)?(e.consume(A),d):n(A)}}function tokenizeEmailDomainDotTrail(e,t,n){return o;function o(u){return e.consume(u),l}function l(u){return asciiAlphanumeric(u)?n(u):t(u)}}function previousWww(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||markdownLineEndingOrSpace(e)}function previousProtocol(e){return!asciiAlpha(e)}function previousEmail(e){return!(e===47||gfmAtext(e))}function gfmAtext(e){return e===43||e===45||e===46||e===95||asciiAlphanumeric(e)}function previousUnbalanced(e){let t=e.length,n=!1;for(;t--;){const o=e[t][1];if((o.type==="labelLink"||o.type==="labelImage")&&!o._balanced){n=!0;break}if(o._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(e,t,n){const o=this;let l=o.events.length;const u=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let d;for(;l--;){const m=o.events[l][1];if(m.type==="labelImage"){d=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return A;function A(m){if(!d||!d._balanced)return n(m);const f=normalizeIdentifier(o.sliceSerialize({start:d.end,end:o.now()}));return f.codePointAt(0)!==94||!u.includes(f.slice(1))?n(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),t(m))}}function resolveToPotentialGfmFootnoteCall(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},e[e.length-1][1].start)},d={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},A=[e[n+1],e[n+2],["enter",o,t],e[n+3],e[n+4],["enter",l,t],["exit",l,t],["enter",u,t],["enter",d,t],["exit",d,t],["exit",u,t],e[e.length-2],e[e.length-1],["exit",o,t]];return e.splice(n,e.length-n+1,...A),e}function tokenizeGfmFootnoteCall(e,t,n){const o=this,l=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let u=0,d;return A;function A(v){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(v),e.exit("gfmFootnoteCallLabelMarker"),m}function m(v){return v!==94?n(v):(e.enter("gfmFootnoteCallMarker"),e.consume(v),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(v){if(u>999||v===93&&!d||v===null||v===91||markdownLineEndingOrSpace(v))return n(v);if(v===93){e.exit("chunkString");const b=e.exit("gfmFootnoteCallString");return l.includes(normalizeIdentifier(o.sliceSerialize(b)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(v),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(v)}return markdownLineEndingOrSpace(v)||(d=!0),u++,e.consume(v),v===92?g:f}function g(v){return v===91||v===92||v===93?(e.consume(v),u++,f):f(v)}}function tokenizeDefinitionStart(e,t,n){const o=this,l=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let u,d=0,A;return m;function m(j){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(j),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(j){return j===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(j),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):n(j)}function g(j){if(d>999||j===93&&!A||j===null||j===91||markdownLineEndingOrSpace(j))return n(j);if(j===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return u=normalizeIdentifier(o.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(j),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),b}return markdownLineEndingOrSpace(j)||(A=!0),d++,e.consume(j),j===92?v:g}function v(j){return j===91||j===92||j===93?(e.consume(j),d++,g):g(j)}function b(j){return j===58?(e.enter("definitionMarker"),e.consume(j),e.exit("definitionMarker"),l.includes(u)||l.push(u),factorySpace(e,w,"gfmFootnoteDefinitionWhitespace")):n(j)}function w(j){return t(j)}}function tokenizeDefinitionContinuation(e,t,n){return e.check(blankLine,t,e.attempt(indent,t,n))}function gfmFootnoteDefinitionEnd(e){e.exit("gfmFootnoteDefinition")}function tokenizeIndent(e,t,n){const o=this;return factorySpace(e,l,"gfmFootnoteDefinitionIndent",5);function l(u){const d=o.events[o.events.length-1];return d&&d[1].type==="gfmFootnoteDefinitionIndent"&&d[2].sliceSerialize(d[1],!0).length===4?t(u):n(u)}}function gfmStrikethrough(e){let n=(e||{}).singleTilde;const o={name:"strikethrough",tokenize:u,resolveAll:l};return n==null&&(n=!0),{text:{126:o},insideSpan:{null:[o]},attentionMarkers:{null:[126]}};function l(d,A){let m=-1;for(;++m<d.length;)if(d[m][0]==="enter"&&d[m][1].type==="strikethroughSequenceTemporary"&&d[m][1]._close){let f=m;for(;f--;)if(d[f][0]==="exit"&&d[f][1].type==="strikethroughSequenceTemporary"&&d[f][1]._open&&d[m][1].end.offset-d[m][1].start.offset===d[f][1].end.offset-d[f][1].start.offset){d[m][1].type="strikethroughSequence",d[f][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},d[f][1].start),end:Object.assign({},d[m][1].end)},v={type:"strikethroughText",start:Object.assign({},d[f][1].end),end:Object.assign({},d[m][1].start)},b=[["enter",g,A],["enter",d[f][1],A],["exit",d[f][1],A],["enter",v,A]],w=A.parser.constructs.insideSpan.null;w&&splice(b,b.length,0,resolveAll(w,d.slice(f+1,m),A)),splice(b,b.length,0,[["exit",v,A],["enter",d[m][1],A],["exit",d[m][1],A],["exit",g,A]]),splice(d,f-1,m-f+3,b),m=f+b.length-2;break}}for(m=-1;++m<d.length;)d[m][1].type==="strikethroughSequenceTemporary"&&(d[m][1].type="data");return d}function u(d,A,m){const f=this.previous,g=this.events;let v=0;return b;function b(j){return f===126&&g[g.length-1][1].type!=="characterEscape"?m(j):(d.enter("strikethroughSequenceTemporary"),w(j))}function w(j){const E=classifyCharacter(f);if(j===126)return v>1?m(j):(d.consume(j),v++,w);if(v<2&&!n)return m(j);const R=d.exit("strikethroughSequenceTemporary"),_=classifyCharacter(j);return R._open=!_||_===2&&!!E,R._close=!E||E===2&&!!_,A(j)}}}class EditMap{constructor(){this.map=[]}add(t,n,o){addImplementation(this,t,n,o)}consume(t){if(this.map.sort(function(u,d){return u[0]-d[0]}),this.map.length===0)return;let n=this.map.length;const o=[];for(;n>0;)n-=1,o.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];o.push(t.slice()),t.length=0;let l=o.pop();for(;l;){for(const u of l)t.push(u);l=o.pop()}this.map.length=0}}function addImplementation(e,t,n,o){let l=0;if(!(n===0&&o.length===0)){for(;l<e.map.length;){if(e.map[l][0]===t){e.map[l][1]+=n,e.map[l][2].push(...o);return}l+=1}e.map.push([t,n,o])}}function gfmTableAlign(e,t){let n=!1;const o=[];for(;t<e.length;){const l=e[t];if(n){if(l[0]==="enter")l[1].type==="tableContent"&&o.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const u=o.length-1;o[u]=o[u]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return o}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(e,t,n){const o=this;let l=0,u=0,d;return A;function A(ce){let ie=o.events.length-1;for(;ie>-1;){const Ae=o.events[ie][1].type;if(Ae==="lineEnding"||Ae==="linePrefix")ie--;else break}const pe=ie>-1?o.events[ie][1].type:null,xe=pe==="tableHead"||pe==="tableRow"?F:m;return xe===F&&o.parser.lazy[o.now().line]?n(ce):xe(ce)}function m(ce){return e.enter("tableHead"),e.enter("tableRow"),f(ce)}function f(ce){return ce===124||(d=!0,u+=1),g(ce)}function g(ce){return ce===null?n(ce):markdownLineEnding(ce)?u>1?(u=0,o.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(ce),e.exit("lineEnding"),w):n(ce):markdownSpace(ce)?factorySpace(e,g,"whitespace")(ce):(u+=1,d&&(d=!1,l+=1),ce===124?(e.enter("tableCellDivider"),e.consume(ce),e.exit("tableCellDivider"),d=!0,g):(e.enter("data"),v(ce)))}function v(ce){return ce===null||ce===124||markdownLineEndingOrSpace(ce)?(e.exit("data"),g(ce)):(e.consume(ce),ce===92?b:v)}function b(ce){return ce===92||ce===124?(e.consume(ce),v):v(ce)}function w(ce){return o.interrupt=!1,o.parser.lazy[o.now().line]?n(ce):(e.enter("tableDelimiterRow"),d=!1,markdownSpace(ce)?factorySpace(e,j,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):j(ce))}function j(ce){return ce===45||ce===58?R(ce):ce===124?(d=!0,e.enter("tableCellDivider"),e.consume(ce),e.exit("tableCellDivider"),E):O(ce)}function E(ce){return markdownSpace(ce)?factorySpace(e,R,"whitespace")(ce):R(ce)}function R(ce){return ce===58?(u+=1,d=!0,e.enter("tableDelimiterMarker"),e.consume(ce),e.exit("tableDelimiterMarker"),_):ce===45?(u+=1,_(ce)):ce===null||markdownLineEnding(ce)?M(ce):O(ce)}function _(ce){return ce===45?(e.enter("tableDelimiterFiller"),N(ce)):O(ce)}function N(ce){return ce===45?(e.consume(ce),N):ce===58?(d=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(ce),e.exit("tableDelimiterMarker"),B):(e.exit("tableDelimiterFiller"),B(ce))}function B(ce){return markdownSpace(ce)?factorySpace(e,M,"whitespace")(ce):M(ce)}function M(ce){return ce===124?j(ce):ce===null||markdownLineEnding(ce)?!d||l!==u?O(ce):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(ce)):O(ce)}function O(ce){return n(ce)}function F(ce){return e.enter("tableRow"),$(ce)}function $(ce){return ce===124?(e.enter("tableCellDivider"),e.consume(ce),e.exit("tableCellDivider"),$):ce===null||markdownLineEnding(ce)?(e.exit("tableRow"),t(ce)):markdownSpace(ce)?factorySpace(e,$,"whitespace")(ce):(e.enter("data"),z(ce))}function z(ce){return ce===null||ce===124||markdownLineEndingOrSpace(ce)?(e.exit("data"),$(ce)):(e.consume(ce),ce===92?se:z)}function se(ce){return ce===92||ce===124?(e.consume(ce),z):z(ce)}}function resolveTable(e,t){let n=-1,o=!0,l=0,u=[0,0,0,0],d=[0,0,0,0],A=!1,m=0,f,g,v;const b=new EditMap;for(;++n<e.length;){const w=e[n],j=w[1];w[0]==="enter"?j.type==="tableHead"?(A=!1,m!==0&&(flushTableEnd(b,t,m,f,g),g=void 0,m=0),f={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},b.add(n,0,[["enter",f,t]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(o=!0,v=void 0,u=[0,0,0,0],d=[0,n+1,0,0],A&&(A=!1,g={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},b.add(n,0,[["enter",g,t]])),l=j.type==="tableDelimiterRow"?2:g?3:1):l&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(o=!1,d[2]===0&&(u[1]!==0&&(d[0]=d[1],v=flushCell(b,t,u,l,void 0,v),u=[0,0,0,0]),d[2]=n)):j.type==="tableCellDivider"&&(o?o=!1:(u[1]!==0&&(d[0]=d[1],v=flushCell(b,t,u,l,void 0,v)),u=d,d=[u[1],n,0,0])):j.type==="tableHead"?(A=!0,m=n):j.type==="tableRow"||j.type==="tableDelimiterRow"?(m=n,u[1]!==0?(d[0]=d[1],v=flushCell(b,t,u,l,n,v)):d[1]!==0&&(v=flushCell(b,t,d,l,n,v)),l=0):l&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(d[3]=n)}for(m!==0&&flushTableEnd(b,t,m,f,g),b.consume(t.events),n=-1;++n<t.events.length;){const w=t.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=gfmTableAlign(t.events,n))}return e}function flushCell(e,t,n,o,l,u){const d=o===1?"tableHeader":o===2?"tableDelimiter":"tableData",A="tableContent";n[0]!==0&&(u.end=Object.assign({},getPoint(t.events,n[0])),e.add(n[0],0,[["exit",u,t]]));const m=getPoint(t.events,n[1]);if(u={type:d,start:Object.assign({},m),end:Object.assign({},m)},e.add(n[1],0,[["enter",u,t]]),n[2]!==0){const f=getPoint(t.events,n[2]),g=getPoint(t.events,n[3]),v={type:A,start:Object.assign({},f),end:Object.assign({},g)};if(e.add(n[2],0,[["enter",v,t]]),o!==2){const b=t.events[n[2]],w=t.events[n[3]];if(b[1].end=Object.assign({},w[1].end),b[1].type="chunkText",b[1].contentType="text",n[3]>n[2]+1){const j=n[2]+1,E=n[3]-n[2]-1;e.add(j,E,[])}}e.add(n[3]+1,0,[["exit",v,t]])}return l!==void 0&&(u.end=Object.assign({},getPoint(t.events,l)),e.add(l,0,[["exit",u,t]]),u=void 0),u}function flushTableEnd(e,t,n,o,l){const u=[],d=getPoint(t.events,n);l&&(l.end=Object.assign({},d),u.push(["exit",l,t])),o.end=Object.assign({},d),u.push(["exit",o,t]),e.add(n+1,0,u)}function getPoint(e,t){const n=e[t],o=n[0]==="enter"?"start":"end";return n[1][o]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(e,t,n){const o=this;return l;function l(m){return o.previous!==null||!o._gfmTasklistFirstContentOfListItem?n(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),u)}function u(m){return markdownLineEndingOrSpace(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),d):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),d):n(m)}function d(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),A):n(m)}function A(m){return markdownLineEnding(m)?t(m):markdownSpace(m)?e.check({tokenize:spaceThenNonSpace},t,n)(m):n(m)}}function spaceThenNonSpace(e,t,n){return factorySpace(e,o,"whitespace");function o(l){return l===null?n(l):t(l)}}function gfm(e){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(e),gfmTable(),gfmTaskListItem()])}const emptyOptions$2={};function remarkGfm(e){const t=this,n=e||emptyOptions$2,o=t.data(),l=o.micromarkExtensions||(o.micromarkExtensions=[]),u=o.fromMarkdownExtensions||(o.fromMarkdownExtensions=[]),d=o.toMarkdownExtensions||(o.toMarkdownExtensions=[]);l.push(gfm(n)),u.push(gfmFromMarkdown()),d.push(gfmToMarkdown(n))}function mathFromMarkdown(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:u},exit:{mathFlow:l,mathFlowFence:o,mathFlowFenceMeta:n,mathFlowValue:A,mathText:d,mathTextData:A}};function e(m){const f={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[f]}},m)}function t(){this.buffer()}function n(){const m=this.resume(),f=this.stack[this.stack.length-1];f.type,f.meta=m}function o(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function l(m){const f=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),g=this.stack[this.stack.length-1];g.type,this.exit(m),g.value=f;const v=g.data.hChildren[0];v.type,v.tagName,v.children.push({type:"text",value:f}),this.data.mathFlowInside=void 0}function u(m){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},m),this.buffer()}function d(m){const f=this.resume(),g=this.stack[this.stack.length-1];g.type,this.exit(m),g.value=f,g.data.hChildren.push({type:"text",value:f})}function A(m){this.config.enter.data.call(this,m),this.config.exit.data.call(this,m)}}function mathToMarkdown(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),o.peek=l,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:o}};function n(u,d,A,m){const f=u.value||"",g=A.createTracker(m),v="$".repeat(Math.max(longestStreak(f,"$")+1,2)),b=A.enter("mathFlow");let w=g.move(v);if(u.meta){const j=A.enter("mathFlowMeta");w+=g.move(A.safe(u.meta,{after:`
`,before:w,encode:["$"],...g.current()})),j()}return w+=g.move(`
`),f&&(w+=g.move(f+`
`)),w+=g.move(v),b(),w}function o(u,d,A){let m=u.value||"",f=1;for(t||f++;new RegExp("(^|[^$])"+"\\$".repeat(f)+"([^$]|$)").test(m);)f++;const g="$".repeat(f);/[^ \r\n]/.test(m)&&(/^[ \r\n]/.test(m)&&/[ \r\n]$/.test(m)||/^\$|\$$/.test(m))&&(m=" "+m+" ");let v=-1;for(;++v<A.unsafe.length;){const b=A.unsafe[v];if(!b.atBreak)continue;const w=A.compilePattern(b);let j;for(;j=w.exec(m);){let E=j.index;m.codePointAt(E)===10&&m.codePointAt(E-1)===13&&E--,m=m.slice(0,E)+" "+m.slice(j.index+1)}}return g+m+g}function l(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(e,t,n){const o=this,l=o.events[o.events.length-1],u=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0;let d=0;return A;function A(N){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),m(N)}function m(N){return N===36?(e.consume(N),d++,m):d<2?n(N):(e.exit("mathFlowFenceSequence"),factorySpace(e,f,"whitespace")(N))}function f(N){return N===null||markdownLineEnding(N)?v(N):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(N))}function g(N){return N===null||markdownLineEnding(N)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),v(N)):N===36?n(N):(e.consume(N),g)}function v(N){return e.exit("mathFlowFence"),o.interrupt?t(N):e.attempt(nonLazyContinuation,b,R)(N)}function b(N){return e.attempt({tokenize:_,partial:!0},R,w)(N)}function w(N){return(u?factorySpace(e,j,"linePrefix",u+1):j)(N)}function j(N){return N===null?R(N):markdownLineEnding(N)?e.attempt(nonLazyContinuation,b,R)(N):(e.enter("mathFlowValue"),E(N))}function E(N){return N===null||markdownLineEnding(N)?(e.exit("mathFlowValue"),j(N)):(e.consume(N),E)}function R(N){return e.exit("mathFlow"),t(N)}function _(N,B,M){let O=0;return factorySpace(N,F,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function F(se){return N.enter("mathFlowFence"),N.enter("mathFlowFenceSequence"),$(se)}function $(se){return se===36?(O++,N.consume(se),$):O<d?M(se):(N.exit("mathFlowFenceSequence"),factorySpace(N,z,"whitespace")(se))}function z(se){return se===null||markdownLineEnding(se)?(N.exit("mathFlowFence"),B(se)):M(se)}}}function tokenizeNonLazyContinuation(e,t,n){const o=this;return l;function l(d){return d===null?t(d):(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u)}function u(d){return o.parser.lazy[o.now().line]?n(d):t(d)}}function mathText(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:o,resolve:resolveMathText,previous,name:"mathText"};function o(l,u,d){let A=0,m,f;return g;function g(E){return l.enter("mathText"),l.enter("mathTextSequence"),v(E)}function v(E){return E===36?(l.consume(E),A++,v):A<2&&!n?d(E):(l.exit("mathTextSequence"),b(E))}function b(E){return E===null?d(E):E===36?(f=l.enter("mathTextSequence"),m=0,j(E)):E===32?(l.enter("space"),l.consume(E),l.exit("space"),b):markdownLineEnding(E)?(l.enter("lineEnding"),l.consume(E),l.exit("lineEnding"),b):(l.enter("mathTextData"),w(E))}function w(E){return E===null||E===32||E===36||markdownLineEnding(E)?(l.exit("mathTextData"),b(E)):(l.consume(E),w)}function j(E){return E===36?(l.consume(E),m++,j):m===A?(l.exit("mathTextSequence"),l.exit("mathText"),u(E)):(f.type="mathTextData",w(E))}}}function resolveMathText(e){let t=e.length-4,n=3,o,l;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(o=n;++o<t;)if(e[o][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(o=n-1,t++;++o<=t;)l===void 0?o!==t&&e[o][1].type!=="lineEnding"&&(l=o):(o===t||e[o][1].type==="lineEnding")&&(e[l][1].type="mathTextData",o!==l+2&&(e[l][1].end=e[o-1][1].end,e.splice(l+2,o-l-2),t-=o-l-2,o=l+2),l=void 0);return e}function previous(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(e){return{flow:{36:mathFlow},text:{36:mathText(e)}}}class SourceLocation{constructor(t,n,o){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=o}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new SourceLocation(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Token{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Token(n,SourceLocation.range(this,t))}}class ParseError{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var o="KaTeX parse error: "+t,l,u,d=n&&n.loc;if(d&&d.start<=d.end){var A=d.lexer.input;l=d.start,u=d.end,l===A.length?o+=" at end of input: ":o+=" at position "+(l+1)+": ";var m=A.slice(l,u).replace(/[^]/g,"$&Ì²"),f;l>15?f="â€¦"+A.slice(l-15,l):f=A.slice(0,l);var g;u+15<A.length?g=A.slice(u,u+15)+"â€¦":g=A.slice(u),o+=f+m+g}var v=new Error(o);return v.name="ParseError",v.__proto__=ParseError.prototype,v.position=l,l!=null&&u!=null&&(v.length=u-l),v.rawMessage=t,v}}ParseError.prototype.__proto__=Error.prototype;var deflt=function(t,n){return t===void 0?n:t},uppercase=/([A-Z])/g,hyphenate=function(t){return t.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(e){return String(e).replace(ESCAPE_REGEX,t=>ESCAPE_LOOKUP[t])}var getBaseElem=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},isCharacterBox=function(t){var n=getBaseElem(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},assert=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},protocolFromUrl=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},utils={deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(n)){var o=SETTINGS_SCHEMA[n];this[n]=t[n]!==void 0?o.processor?o.processor(t[n]):t[n]:getDefaultValue(o)}}reportNonstrict(t,n,o){var l=this.strict;if(typeof l=="function"&&(l=l(t,n,o)),!(!l||l==="ignore")){if(l===!0||l==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),o);l==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+l+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,o){var l=this.strict;if(typeof l=="function")try{l=l(t,n,o)}catch{l="error"}return!l||l==="ignore"?!1:l===!0||l==="error"?!0:l==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+l+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=utils.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var o=typeof this.trust=="function"?this.trust(t):this.trust;return!!o}}class Style{constructor(t,n,o){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=o}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(e){for(var t=0;t<scriptData.length;t++)for(var n=scriptData[t],o=0;o<n.blocks.length;o++){var l=n.blocks[o];if(e>=l[0]&&e<=l[1])return n.name}return null}var allBlocks=[];scriptData.forEach(e=>e.blocks.forEach(t=>allBlocks.push(...t)));function supportedCodepoint(e){for(var t=0;t<allBlocks.length;t+=2)if(e>=allBlocks[t]&&e<=allBlocks[t+1])return!0;return!1}var hLinePad=80,sqrtMain=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sqrtSize1=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sqrtSize2=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sqrtSize3=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},sqrtSize4=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},phasePath=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},sqrtTall=function(t,n,o){var l=o-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+l+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},sqrtPath=function(t,n,o){n=1e3*n;var l="";switch(t){case"sqrtMain":l=sqrtMain(n,hLinePad);break;case"sqrtSize1":l=sqrtSize1(n,hLinePad);break;case"sqrtSize2":l=sqrtSize2(n,hLinePad);break;case"sqrtSize3":l=sqrtSize3(n,hLinePad);break;case"sqrtSize4":l=sqrtSize4(n,hLinePad);break;case"sqrtTall":l=sqrtTall(n,hLinePad,o)}return l},innerPath=function(t,n){switch(t){case"âŽœ":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"âˆ£":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"âˆ¥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"âŽŸ":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"âŽ¢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"âŽ¥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"âŽª":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"â":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"â€–":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let DocumentFragment$1=class{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}};var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={Ã…:"A",Ã:"D",Ãž:"o",Ã¥:"a",Ã°:"d",Ã¾:"o",Ð:"A",Ð‘:"B",Ð’:"B",Ð“:"F",Ð”:"A",Ð•:"E",Ð–:"K",Ð—:"3",Ð˜:"N",Ð™:"N",Ðš:"K",Ð›:"N",Ðœ:"M",Ð:"H",Ðž:"O",ÐŸ:"N",Ð :"P",Ð¡:"C",Ð¢:"T",Ð£:"y",Ð¤:"O",Ð¥:"X",Ð¦:"U",Ð§:"h",Ð¨:"W",Ð©:"W",Ðª:"B",Ð«:"X",Ð¬:"B",Ð­:"3",Ð®:"X",Ð¯:"R",Ð°:"a",Ð±:"b",Ð²:"a",Ð³:"r",Ð´:"y",Ðµ:"e",Ð¶:"m",Ð·:"e",Ð¸:"n",Ð¹:"n",Ðº:"n",Ð»:"n",Ð¼:"m",Ð½:"n",Ð¾:"o",Ð¿:"n",Ñ€:"p",Ñ:"c",Ñ‚:"o",Ñƒ:"y",Ñ„:"b",Ñ…:"x",Ñ†:"n",Ñ‡:"n",Ñˆ:"w",Ñ‰:"w",ÑŠ:"a",Ñ‹:"m",ÑŒ:"a",Ñ:"e",ÑŽ:"m",Ñ:"r"};function setFontMetrics(e,t){fontMetricsData[e]=t}function getCharacterMetrics(e,t,n){if(!fontMetricsData[t])throw new Error("Font metrics not found for font: "+t+".");var o=e.charCodeAt(0),l=fontMetricsData[t][o];if(!l&&e[0]in extraCharacterMap&&(o=extraCharacterMap[e[0]].charCodeAt(0),l=fontMetricsData[t][o]),!l&&n==="text"&&supportedCodepoint(o)&&(l=fontMetricsData[t][77]),l)return{depth:l[0],height:l[1],italic:l[2],skew:l[3],width:l[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!fontMetricsBySizeIndex[t]){var n=fontMetricsBySizeIndex[t]={cssEmPerMu:sigmasAndXis.quad[t]/18};for(var o in sigmasAndXis)sigmasAndXis.hasOwnProperty(o)&&(n[o]=sigmasAndXis[o][t])}return fontMetricsBySizeIndex[t]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function(t,n){return n.size<2?t:sizeStyleMap[t-1][n.size-1]};class Options{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Options.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);return new Options(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:sizeAtStyle(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:sizeMultipliers[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=sizeAtStyle(Options.BASESIZE,t);return this.size===n&&this.textSize===Options.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function(t){return typeof t!="string"&&(t=t.unit),t in ptPerUnit||t in relativeUnit||t==="ex"},calculateSize=function(t,n){var o;if(t.unit in ptPerUnit)o=ptPerUnit[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")o=n.fontMetrics().cssEmPerMu;else{var l;if(n.style.isTight()?l=n.havingStyle(n.style.text()):l=n,t.unit==="ex")o=l.fontMetrics().xHeight;else if(t.unit==="em")o=l.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+t.unit+"'");l!==n&&(o*=l.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*o,n.maxSize)},makeEm=function(t){return+t.toFixed(4)+"em"},createClass=function(t){return t.filter(n=>n).join(" ")},initNode=function(t,n,o){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=o||{},n){n.style.isTight()&&this.classes.push("mtight");var l=n.getColor();l&&(this.style.color=l)}},toNode=function(t){var n=document.createElement(t);n.className=createClass(this.classes);for(var o in this.style)this.style.hasOwnProperty(o)&&(n.style[o]=this.style[o]);for(var l in this.attributes)this.attributes.hasOwnProperty(l)&&n.setAttribute(l,this.attributes[l]);for(var u=0;u<this.children.length;u++)n.appendChild(this.children[u].toNode());return n},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+utils.escape(createClass(this.classes))+'"');var o="";for(var l in this.style)this.style.hasOwnProperty(l)&&(o+=utils.hyphenate(l)+":"+this.style[l]+";");o&&(n+=' style="'+utils.escape(o)+'"');for(var u in this.attributes)if(this.attributes.hasOwnProperty(u)){if(invalidAttributeNameRegex.test(u))throw new ParseError("Invalid attribute name '"+u+"'");n+=" "+u+'="'+utils.escape(this.attributes[u])+'"'}n+=">";for(var d=0;d<this.children.length;d++)n+=this.children[d].toMarkup();return n+="</"+t+">",n};class Span{constructor(t,n,o,l){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,t,o,l),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(t,n,o,l){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,n,l),this.children=o||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(t,n,o){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=o}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),n="";for(var o in this.style)this.style.hasOwnProperty(o)&&(n+=utils.hyphenate(o)+":"+this.style[o]+";");return n&&(t+=' style="'+utils.escape(n)+'"'),t+="'/>",t}}var iCombinations={Ã®:"Ä±Ì‚",Ã¯:"Ä±Ìˆ",Ã­:"Ä±Ì",Ã¬:"Ä±Ì€"};class SymbolNode{constructor(t,n,o,l,u,d,A,m){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=o||0,this.italic=l||0,this.skew=u||0,this.width=d||0,this.classes=A||[],this.style=m||{},this.maxFontSize=0;var f=scriptFromCodepoint(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[Ã®Ã¯Ã­Ã¬]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=createClass(this.classes));for(var o in this.style)this.style.hasOwnProperty(o)&&(n=n||document.createElement("span"),n.style[o]=this.style[o]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=utils.escape(createClass(this.classes)),n+='"');var o="";this.italic>0&&(o+="margin-right:"+this.italic+"em;");for(var l in this.style)this.style.hasOwnProperty(l)&&(o+=utils.hyphenate(l)+":"+this.style[l]+";");o&&(t=!0,n+=' style="'+utils.escape(o)+'"');var u=utils.escape(this.text);return t?(n+=">",n+=u,n+="</span>",n):u}}class SvgNode{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&n.setAttribute(o,this.attributes[o]);for(var l=0;l<this.children.length;l++)n.appendChild(this.children[l].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+utils.escape(this.attributes[n])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</svg>",t}}class PathNode{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",path[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&n.setAttribute(o,this.attributes[o]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+utils.escape(this.attributes[n])+'"');return t+="/>",t}}function assertSymbolDomNode(e){if(e instanceof SymbolNode)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function assertSpan(e){if(e instanceof Span)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(e,t,n,o,l,u){symbols[e][l]={font:t,group:n,replace:o},u&&o&&(symbols[e][o]=symbols[e][l])}var math="math",text$2="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open$1="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"â‰¡","\\equiv",!0);defineSymbol(math,main,rel,"â‰º","\\prec",!0);defineSymbol(math,main,rel,"â‰»","\\succ",!0);defineSymbol(math,main,rel,"âˆ¼","\\sim",!0);defineSymbol(math,main,rel,"âŠ¥","\\perp");defineSymbol(math,main,rel,"âª¯","\\preceq",!0);defineSymbol(math,main,rel,"âª°","\\succeq",!0);defineSymbol(math,main,rel,"â‰ƒ","\\simeq",!0);defineSymbol(math,main,rel,"âˆ£","\\mid",!0);defineSymbol(math,main,rel,"â‰ª","\\ll",!0);defineSymbol(math,main,rel,"â‰«","\\gg",!0);defineSymbol(math,main,rel,"â‰","\\asymp",!0);defineSymbol(math,main,rel,"âˆ¥","\\parallel");defineSymbol(math,main,rel,"â‹ˆ","\\bowtie",!0);defineSymbol(math,main,rel,"âŒ£","\\smile",!0);defineSymbol(math,main,rel,"âŠ‘","\\sqsubseteq",!0);defineSymbol(math,main,rel,"âŠ’","\\sqsupseteq",!0);defineSymbol(math,main,rel,"â‰","\\doteq",!0);defineSymbol(math,main,rel,"âŒ¢","\\frown",!0);defineSymbol(math,main,rel,"âˆ‹","\\ni",!0);defineSymbol(math,main,rel,"âˆ","\\propto",!0);defineSymbol(math,main,rel,"âŠ¢","\\vdash",!0);defineSymbol(math,main,rel,"âŠ£","\\dashv",!0);defineSymbol(math,main,rel,"âˆ‹","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"â‹…","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$2,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$2,main,textord,"&","\\&");defineSymbol(math,main,textord,"â„µ","\\aleph",!0);defineSymbol(math,main,textord,"âˆ€","\\forall",!0);defineSymbol(math,main,textord,"â„","\\hbar",!0);defineSymbol(math,main,textord,"âˆƒ","\\exists",!0);defineSymbol(math,main,textord,"âˆ‡","\\nabla",!0);defineSymbol(math,main,textord,"â™­","\\flat",!0);defineSymbol(math,main,textord,"â„“","\\ell",!0);defineSymbol(math,main,textord,"â™®","\\natural",!0);defineSymbol(math,main,textord,"â™£","\\clubsuit",!0);defineSymbol(math,main,textord,"â„˜","\\wp",!0);defineSymbol(math,main,textord,"â™¯","\\sharp",!0);defineSymbol(math,main,textord,"â™¢","\\diamondsuit",!0);defineSymbol(math,main,textord,"â„œ","\\Re",!0);defineSymbol(math,main,textord,"â™¡","\\heartsuit",!0);defineSymbol(math,main,textord,"â„‘","\\Im",!0);defineSymbol(math,main,textord,"â™ ","\\spadesuit",!0);defineSymbol(math,main,textord,"Â§","\\S",!0);defineSymbol(text$2,main,textord,"Â§","\\S");defineSymbol(math,main,textord,"Â¶","\\P",!0);defineSymbol(text$2,main,textord,"Â¶","\\P");defineSymbol(math,main,textord,"â€ ","\\dag");defineSymbol(text$2,main,textord,"â€ ","\\dag");defineSymbol(text$2,main,textord,"â€ ","\\textdagger");defineSymbol(math,main,textord,"â€¡","\\ddag");defineSymbol(text$2,main,textord,"â€¡","\\ddag");defineSymbol(text$2,main,textord,"â€¡","\\textdaggerdbl");defineSymbol(math,main,close,"âŽ±","\\rmoustache",!0);defineSymbol(math,main,open$1,"âŽ°","\\lmoustache",!0);defineSymbol(math,main,close,"âŸ¯","\\rgroup",!0);defineSymbol(math,main,open$1,"âŸ®","\\lgroup",!0);defineSymbol(math,main,bin,"âˆ“","\\mp",!0);defineSymbol(math,main,bin,"âŠ–","\\ominus",!0);defineSymbol(math,main,bin,"âŠŽ","\\uplus",!0);defineSymbol(math,main,bin,"âŠ“","\\sqcap",!0);defineSymbol(math,main,bin,"âˆ—","\\ast");defineSymbol(math,main,bin,"âŠ”","\\sqcup",!0);defineSymbol(math,main,bin,"â—¯","\\bigcirc",!0);defineSymbol(math,main,bin,"âˆ™","\\bullet",!0);defineSymbol(math,main,bin,"â€¡","\\ddagger");defineSymbol(math,main,bin,"â‰€","\\wr",!0);defineSymbol(math,main,bin,"â¨¿","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"âŸµ","\\longleftarrow",!0);defineSymbol(math,main,rel,"â‡","\\Leftarrow",!0);defineSymbol(math,main,rel,"âŸ¸","\\Longleftarrow",!0);defineSymbol(math,main,rel,"âŸ¶","\\longrightarrow",!0);defineSymbol(math,main,rel,"â‡’","\\Rightarrow",!0);defineSymbol(math,main,rel,"âŸ¹","\\Longrightarrow",!0);defineSymbol(math,main,rel,"â†”","\\leftrightarrow",!0);defineSymbol(math,main,rel,"âŸ·","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"â‡”","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"âŸº","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"â†¦","\\mapsto",!0);defineSymbol(math,main,rel,"âŸ¼","\\longmapsto",!0);defineSymbol(math,main,rel,"â†—","\\nearrow",!0);defineSymbol(math,main,rel,"â†©","\\hookleftarrow",!0);defineSymbol(math,main,rel,"â†ª","\\hookrightarrow",!0);defineSymbol(math,main,rel,"â†˜","\\searrow",!0);defineSymbol(math,main,rel,"â†¼","\\leftharpoonup",!0);defineSymbol(math,main,rel,"â‡€","\\rightharpoonup",!0);defineSymbol(math,main,rel,"â†™","\\swarrow",!0);defineSymbol(math,main,rel,"â†½","\\leftharpoondown",!0);defineSymbol(math,main,rel,"â‡","\\rightharpoondown",!0);defineSymbol(math,main,rel,"â†–","\\nwarrow",!0);defineSymbol(math,main,rel,"â‡Œ","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"â‰®","\\nless",!0);defineSymbol(math,ams,rel,"î€","\\@nleqslant");defineSymbol(math,ams,rel,"î€‘","\\@nleqq");defineSymbol(math,ams,rel,"âª‡","\\lneq",!0);defineSymbol(math,ams,rel,"â‰¨","\\lneqq",!0);defineSymbol(math,ams,rel,"î€Œ","\\@lvertneqq");defineSymbol(math,ams,rel,"â‹¦","\\lnsim",!0);defineSymbol(math,ams,rel,"âª‰","\\lnapprox",!0);defineSymbol(math,ams,rel,"âŠ€","\\nprec",!0);defineSymbol(math,ams,rel,"â‹ ","\\npreceq",!0);defineSymbol(math,ams,rel,"â‹¨","\\precnsim",!0);defineSymbol(math,ams,rel,"âª¹","\\precnapprox",!0);defineSymbol(math,ams,rel,"â‰","\\nsim",!0);defineSymbol(math,ams,rel,"î€†","\\@nshortmid");defineSymbol(math,ams,rel,"âˆ¤","\\nmid",!0);defineSymbol(math,ams,rel,"âŠ¬","\\nvdash",!0);defineSymbol(math,ams,rel,"âŠ­","\\nvDash",!0);defineSymbol(math,ams,rel,"â‹ª","\\ntriangleleft");defineSymbol(math,ams,rel,"â‹¬","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"âŠŠ","\\subsetneq",!0);defineSymbol(math,ams,rel,"î€š","\\@varsubsetneq");defineSymbol(math,ams,rel,"â«‹","\\subsetneqq",!0);defineSymbol(math,ams,rel,"î€—","\\@varsubsetneqq");defineSymbol(math,ams,rel,"â‰¯","\\ngtr",!0);defineSymbol(math,ams,rel,"î€","\\@ngeqslant");defineSymbol(math,ams,rel,"î€Ž","\\@ngeqq");defineSymbol(math,ams,rel,"âªˆ","\\gneq",!0);defineSymbol(math,ams,rel,"â‰©","\\gneqq",!0);defineSymbol(math,ams,rel,"î€","\\@gvertneqq");defineSymbol(math,ams,rel,"â‹§","\\gnsim",!0);defineSymbol(math,ams,rel,"âªŠ","\\gnapprox",!0);defineSymbol(math,ams,rel,"âŠ","\\nsucc",!0);defineSymbol(math,ams,rel,"â‹¡","\\nsucceq",!0);defineSymbol(math,ams,rel,"â‹©","\\succnsim",!0);defineSymbol(math,ams,rel,"âªº","\\succnapprox",!0);defineSymbol(math,ams,rel,"â‰†","\\ncong",!0);defineSymbol(math,ams,rel,"î€‡","\\@nshortparallel");defineSymbol(math,ams,rel,"âˆ¦","\\nparallel",!0);defineSymbol(math,ams,rel,"âŠ¯","\\nVDash",!0);defineSymbol(math,ams,rel,"â‹«","\\ntriangleright");defineSymbol(math,ams,rel,"â‹­","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"î€˜","\\@nsupseteqq");defineSymbol(math,ams,rel,"âŠ‹","\\supsetneq",!0);defineSymbol(math,ams,rel,"î€›","\\@varsupsetneq");defineSymbol(math,ams,rel,"â«Œ","\\supsetneqq",!0);defineSymbol(math,ams,rel,"î€™","\\@varsupsetneqq");defineSymbol(math,ams,rel,"âŠ®","\\nVdash",!0);defineSymbol(math,ams,rel,"âªµ","\\precneqq",!0);defineSymbol(math,ams,rel,"âª¶","\\succneqq",!0);defineSymbol(math,ams,rel,"î€–","\\@nsubseteqq");defineSymbol(math,ams,bin,"âŠ´","\\unlhd");defineSymbol(math,ams,bin,"âŠµ","\\unrhd");defineSymbol(math,ams,rel,"â†š","\\nleftarrow",!0);defineSymbol(math,ams,rel,"â†›","\\nrightarrow",!0);defineSymbol(math,ams,rel,"â‡","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"â‡","\\nRightarrow",!0);defineSymbol(math,ams,rel,"â†®","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"â‡Ž","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"â–³","\\vartriangle");defineSymbol(math,ams,textord,"â„","\\hslash");defineSymbol(math,ams,textord,"â–½","\\triangledown");defineSymbol(math,ams,textord,"â—Š","\\lozenge");defineSymbol(math,ams,textord,"â“ˆ","\\circledS");defineSymbol(math,ams,textord,"Â®","\\circledR");defineSymbol(text$2,ams,textord,"Â®","\\circledR");defineSymbol(math,ams,textord,"âˆ¡","\\measuredangle",!0);defineSymbol(math,ams,textord,"âˆ„","\\nexists");defineSymbol(math,ams,textord,"â„§","\\mho");defineSymbol(math,ams,textord,"â„²","\\Finv",!0);defineSymbol(math,ams,textord,"â…","\\Game",!0);defineSymbol(math,ams,textord,"â€µ","\\backprime");defineSymbol(math,ams,textord,"â–²","\\blacktriangle");defineSymbol(math,ams,textord,"â–¼","\\blacktriangledown");defineSymbol(math,ams,textord,"â– ","\\blacksquare");defineSymbol(math,ams,textord,"â§«","\\blacklozenge");defineSymbol(math,ams,textord,"â˜…","\\bigstar");defineSymbol(math,ams,textord,"âˆ¢","\\sphericalangle",!0);defineSymbol(math,ams,textord,"âˆ","\\complement",!0);defineSymbol(math,ams,textord,"Ã°","\\eth",!0);defineSymbol(text$2,main,textord,"Ã°","Ã°");defineSymbol(math,ams,textord,"â•±","\\diagup");defineSymbol(math,ams,textord,"â•²","\\diagdown");defineSymbol(math,ams,textord,"â–¡","\\square");defineSymbol(math,ams,textord,"â–¡","\\Box");defineSymbol(math,ams,textord,"â—Š","\\Diamond");defineSymbol(math,ams,textord,"Â¥","\\yen",!0);defineSymbol(text$2,ams,textord,"Â¥","\\yen",!0);defineSymbol(math,ams,textord,"âœ“","\\checkmark",!0);defineSymbol(text$2,ams,textord,"âœ“","\\checkmark");defineSymbol(math,ams,textord,"â„¶","\\beth",!0);defineSymbol(math,ams,textord,"â„¸","\\daleth",!0);defineSymbol(math,ams,textord,"â„·","\\gimel",!0);defineSymbol(math,ams,textord,"Ï","\\digamma",!0);defineSymbol(math,ams,textord,"Ï°","\\varkappa");defineSymbol(math,ams,open$1,"â”Œ","\\@ulcorner",!0);defineSymbol(math,ams,close,"â”","\\@urcorner",!0);defineSymbol(math,ams,open$1,"â””","\\@llcorner",!0);defineSymbol(math,ams,close,"â”˜","\\@lrcorner",!0);defineSymbol(math,ams,rel,"â‰¦","\\leqq",!0);defineSymbol(math,ams,rel,"â©½","\\leqslant",!0);defineSymbol(math,ams,rel,"âª•","\\eqslantless",!0);defineSymbol(math,ams,rel,"â‰²","\\lesssim",!0);defineSymbol(math,ams,rel,"âª…","\\lessapprox",!0);defineSymbol(math,ams,rel,"â‰Š","\\approxeq",!0);defineSymbol(math,ams,bin,"â‹–","\\lessdot");defineSymbol(math,ams,rel,"â‹˜","\\lll",!0);defineSymbol(math,ams,rel,"â‰¶","\\lessgtr",!0);defineSymbol(math,ams,rel,"â‹š","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"âª‹","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"â‰‘","\\doteqdot");defineSymbol(math,ams,rel,"â‰“","\\risingdotseq",!0);defineSymbol(math,ams,rel,"â‰’","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"âˆ½","\\backsim",!0);defineSymbol(math,ams,rel,"â‹","\\backsimeq",!0);defineSymbol(math,ams,rel,"â«…","\\subseteqq",!0);defineSymbol(math,ams,rel,"â‹","\\Subset",!0);defineSymbol(math,ams,rel,"âŠ","\\sqsubset",!0);defineSymbol(math,ams,rel,"â‰¼","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"â‹ž","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"â‰¾","\\precsim",!0);defineSymbol(math,ams,rel,"âª·","\\precapprox",!0);defineSymbol(math,ams,rel,"âŠ²","\\vartriangleleft");defineSymbol(math,ams,rel,"âŠ´","\\trianglelefteq");defineSymbol(math,ams,rel,"âŠ¨","\\vDash",!0);defineSymbol(math,ams,rel,"âŠª","\\Vvdash",!0);defineSymbol(math,ams,rel,"âŒ£","\\smallsmile");defineSymbol(math,ams,rel,"âŒ¢","\\smallfrown");defineSymbol(math,ams,rel,"â‰","\\bumpeq",!0);defineSymbol(math,ams,rel,"â‰Ž","\\Bumpeq",!0);defineSymbol(math,ams,rel,"â‰§","\\geqq",!0);defineSymbol(math,ams,rel,"â©¾","\\geqslant",!0);defineSymbol(math,ams,rel,"âª–","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"â‰³","\\gtrsim",!0);defineSymbol(math,ams,rel,"âª†","\\gtrapprox",!0);defineSymbol(math,ams,bin,"â‹—","\\gtrdot");defineSymbol(math,ams,rel,"â‹™","\\ggg",!0);defineSymbol(math,ams,rel,"â‰·","\\gtrless",!0);defineSymbol(math,ams,rel,"â‹›","\\gtreqless",!0);defineSymbol(math,ams,rel,"âªŒ","\\gtreqqless",!0);defineSymbol(math,ams,rel,"â‰–","\\eqcirc",!0);defineSymbol(math,ams,rel,"â‰—","\\circeq",!0);defineSymbol(math,ams,rel,"â‰œ","\\triangleq",!0);defineSymbol(math,ams,rel,"âˆ¼","\\thicksim");defineSymbol(math,ams,rel,"â‰ˆ","\\thickapprox");defineSymbol(math,ams,rel,"â«†","\\supseteqq",!0);defineSymbol(math,ams,rel,"â‹‘","\\Supset",!0);defineSymbol(math,ams,rel,"âŠ","\\sqsupset",!0);defineSymbol(math,ams,rel,"â‰½","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"â‹Ÿ","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"â‰¿","\\succsim",!0);defineSymbol(math,ams,rel,"âª¸","\\succapprox",!0);defineSymbol(math,ams,rel,"âŠ³","\\vartriangleright");defineSymbol(math,ams,rel,"âŠµ","\\trianglerighteq");defineSymbol(math,ams,rel,"âŠ©","\\Vdash",!0);defineSymbol(math,ams,rel,"âˆ£","\\shortmid");defineSymbol(math,ams,rel,"âˆ¥","\\shortparallel");defineSymbol(math,ams,rel,"â‰¬","\\between",!0);defineSymbol(math,ams,rel,"â‹”","\\pitchfork",!0);defineSymbol(math,ams,rel,"âˆ","\\varpropto");defineSymbol(math,ams,rel,"â—€","\\blacktriangleleft");defineSymbol(math,ams,rel,"âˆ´","\\therefore",!0);defineSymbol(math,ams,rel,"âˆ","\\backepsilon");defineSymbol(math,ams,rel,"â–¶","\\blacktriangleright");defineSymbol(math,ams,rel,"âˆµ","\\because",!0);defineSymbol(math,ams,rel,"â‹˜","\\llless");defineSymbol(math,ams,rel,"â‹™","\\gggtr");defineSymbol(math,ams,bin,"âŠ²","\\lhd");defineSymbol(math,ams,bin,"âŠ³","\\rhd");defineSymbol(math,ams,rel,"â‰‚","\\eqsim",!0);defineSymbol(math,main,rel,"â‹ˆ","\\Join");defineSymbol(math,ams,rel,"â‰‘","\\Doteq",!0);defineSymbol(math,ams,bin,"âˆ”","\\dotplus",!0);defineSymbol(math,ams,bin,"âˆ–","\\smallsetminus");defineSymbol(math,ams,bin,"â‹’","\\Cap",!0);defineSymbol(math,ams,bin,"â‹“","\\Cup",!0);defineSymbol(math,ams,bin,"â©ž","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"âŠŸ","\\boxminus",!0);defineSymbol(math,ams,bin,"âŠž","\\boxplus",!0);defineSymbol(math,ams,bin,"â‹‡","\\divideontimes",!0);defineSymbol(math,ams,bin,"â‹‰","\\ltimes",!0);defineSymbol(math,ams,bin,"â‹Š","\\rtimes",!0);defineSymbol(math,ams,bin,"â‹‹","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"â‹Œ","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"â‹","\\curlywedge",!0);defineSymbol(math,ams,bin,"â‹Ž","\\curlyvee",!0);defineSymbol(math,ams,bin,"âŠ","\\circleddash",!0);defineSymbol(math,ams,bin,"âŠ›","\\circledast",!0);defineSymbol(math,ams,bin,"â‹…","\\centerdot");defineSymbol(math,ams,bin,"âŠº","\\intercal",!0);defineSymbol(math,ams,bin,"â‹’","\\doublecap");defineSymbol(math,ams,bin,"â‹“","\\doublecup");defineSymbol(math,ams,bin,"âŠ ","\\boxtimes",!0);defineSymbol(math,ams,rel,"â‡¢","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"â‡ ","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"â‡‡","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"â‡†","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"â‡š","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"â†ž","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"â†¢","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"â†«","\\looparrowleft",!0);defineSymbol(math,ams,rel,"â‡‹","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"â†¶","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"â†º","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"â†°","\\Lsh",!0);defineSymbol(math,ams,rel,"â‡ˆ","\\upuparrows",!0);defineSymbol(math,ams,rel,"â†¿","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"â‡ƒ","\\downharpoonleft",!0);defineSymbol(math,main,rel,"âŠ¶","\\origof",!0);defineSymbol(math,main,rel,"âŠ·","\\imageof",!0);defineSymbol(math,ams,rel,"âŠ¸","\\multimap",!0);defineSymbol(math,ams,rel,"â†­","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"â‡‰","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"â‡„","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"â† ","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"â†£","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"â†¬","\\looparrowright",!0);defineSymbol(math,ams,rel,"â†·","\\curvearrowright",!0);defineSymbol(math,ams,rel,"â†»","\\circlearrowright",!0);defineSymbol(math,ams,rel,"â†±","\\Rsh",!0);defineSymbol(math,ams,rel,"â‡Š","\\downdownarrows",!0);defineSymbol(math,ams,rel,"â†¾","\\upharpoonright",!0);defineSymbol(math,ams,rel,"â‡‚","\\downharpoonright",!0);defineSymbol(math,ams,rel,"â‡","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"â‡","\\leadsto");defineSymbol(math,ams,rel,"â‡›","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"â†¾","\\restriction");defineSymbol(math,main,textord,"â€˜","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\$");defineSymbol(text$2,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$2,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\_");defineSymbol(text$2,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"âˆ ","\\angle",!0);defineSymbol(math,main,textord,"âˆž","\\infty",!0);defineSymbol(math,main,textord,"â€²","\\prime");defineSymbol(math,main,textord,"â–³","\\triangle");defineSymbol(math,main,textord,"Î“","\\Gamma",!0);defineSymbol(math,main,textord,"Î”","\\Delta",!0);defineSymbol(math,main,textord,"Î˜","\\Theta",!0);defineSymbol(math,main,textord,"Î›","\\Lambda",!0);defineSymbol(math,main,textord,"Îž","\\Xi",!0);defineSymbol(math,main,textord,"Î ","\\Pi",!0);defineSymbol(math,main,textord,"Î£","\\Sigma",!0);defineSymbol(math,main,textord,"Î¥","\\Upsilon",!0);defineSymbol(math,main,textord,"Î¦","\\Phi",!0);defineSymbol(math,main,textord,"Î¨","\\Psi",!0);defineSymbol(math,main,textord,"Î©","\\Omega",!0);defineSymbol(math,main,textord,"A","Î‘");defineSymbol(math,main,textord,"B","Î’");defineSymbol(math,main,textord,"E","Î•");defineSymbol(math,main,textord,"Z","Î–");defineSymbol(math,main,textord,"H","Î—");defineSymbol(math,main,textord,"I","Î™");defineSymbol(math,main,textord,"K","Îš");defineSymbol(math,main,textord,"M","Îœ");defineSymbol(math,main,textord,"N","Î");defineSymbol(math,main,textord,"O","ÎŸ");defineSymbol(math,main,textord,"P","Î¡");defineSymbol(math,main,textord,"T","Î¤");defineSymbol(math,main,textord,"X","Î§");defineSymbol(math,main,textord,"Â¬","\\neg",!0);defineSymbol(math,main,textord,"Â¬","\\lnot");defineSymbol(math,main,textord,"âŠ¤","\\top");defineSymbol(math,main,textord,"âŠ¥","\\bot");defineSymbol(math,main,textord,"âˆ…","\\emptyset");defineSymbol(math,ams,textord,"âˆ…","\\varnothing");defineSymbol(math,main,mathord,"Î±","\\alpha",!0);defineSymbol(math,main,mathord,"Î²","\\beta",!0);defineSymbol(math,main,mathord,"Î³","\\gamma",!0);defineSymbol(math,main,mathord,"Î´","\\delta",!0);defineSymbol(math,main,mathord,"Ïµ","\\epsilon",!0);defineSymbol(math,main,mathord,"Î¶","\\zeta",!0);defineSymbol(math,main,mathord,"Î·","\\eta",!0);defineSymbol(math,main,mathord,"Î¸","\\theta",!0);defineSymbol(math,main,mathord,"Î¹","\\iota",!0);defineSymbol(math,main,mathord,"Îº","\\kappa",!0);defineSymbol(math,main,mathord,"Î»","\\lambda",!0);defineSymbol(math,main,mathord,"Î¼","\\mu",!0);defineSymbol(math,main,mathord,"Î½","\\nu",!0);defineSymbol(math,main,mathord,"Î¾","\\xi",!0);defineSymbol(math,main,mathord,"Î¿","\\omicron",!0);defineSymbol(math,main,mathord,"Ï€","\\pi",!0);defineSymbol(math,main,mathord,"Ï","\\rho",!0);defineSymbol(math,main,mathord,"Ïƒ","\\sigma",!0);defineSymbol(math,main,mathord,"Ï„","\\tau",!0);defineSymbol(math,main,mathord,"Ï…","\\upsilon",!0);defineSymbol(math,main,mathord,"Ï•","\\phi",!0);defineSymbol(math,main,mathord,"Ï‡","\\chi",!0);defineSymbol(math,main,mathord,"Ïˆ","\\psi",!0);defineSymbol(math,main,mathord,"Ï‰","\\omega",!0);defineSymbol(math,main,mathord,"Îµ","\\varepsilon",!0);defineSymbol(math,main,mathord,"Ï‘","\\vartheta",!0);defineSymbol(math,main,mathord,"Ï–","\\varpi",!0);defineSymbol(math,main,mathord,"Ï±","\\varrho",!0);defineSymbol(math,main,mathord,"Ï‚","\\varsigma",!0);defineSymbol(math,main,mathord,"Ï†","\\varphi",!0);defineSymbol(math,main,bin,"âˆ—","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"âˆ’","-",!0);defineSymbol(math,main,bin,"â‹…","\\cdot",!0);defineSymbol(math,main,bin,"âˆ˜","\\circ",!0);defineSymbol(math,main,bin,"Ã·","\\div",!0);defineSymbol(math,main,bin,"Â±","\\pm",!0);defineSymbol(math,main,bin,"Ã—","\\times",!0);defineSymbol(math,main,bin,"âˆ©","\\cap",!0);defineSymbol(math,main,bin,"âˆª","\\cup",!0);defineSymbol(math,main,bin,"âˆ–","\\setminus",!0);defineSymbol(math,main,bin,"âˆ§","\\land");defineSymbol(math,main,bin,"âˆ¨","\\lor");defineSymbol(math,main,bin,"âˆ§","\\wedge",!0);defineSymbol(math,main,bin,"âˆ¨","\\vee",!0);defineSymbol(math,main,textord,"âˆš","\\surd");defineSymbol(math,main,open$1,"âŸ¨","\\langle",!0);defineSymbol(math,main,open$1,"âˆ£","\\lvert");defineSymbol(math,main,open$1,"âˆ¥","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"âŸ©","\\rangle",!0);defineSymbol(math,main,close,"âˆ£","\\rvert");defineSymbol(math,main,close,"âˆ¥","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"â‰ˆ","\\approx",!0);defineSymbol(math,main,rel,"â‰…","\\cong",!0);defineSymbol(math,main,rel,"â‰¥","\\ge");defineSymbol(math,main,rel,"â‰¥","\\geq",!0);defineSymbol(math,main,rel,"â†","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"âˆˆ","\\in",!0);defineSymbol(math,main,rel,"î€ ","\\@not");defineSymbol(math,main,rel,"âŠ‚","\\subset",!0);defineSymbol(math,main,rel,"âŠƒ","\\supset",!0);defineSymbol(math,main,rel,"âŠ†","\\subseteq",!0);defineSymbol(math,main,rel,"âŠ‡","\\supseteq",!0);defineSymbol(math,ams,rel,"âŠˆ","\\nsubseteq",!0);defineSymbol(math,ams,rel,"âŠ‰","\\nsupseteq",!0);defineSymbol(math,main,rel,"âŠ¨","\\models");defineSymbol(math,main,rel,"â†","\\leftarrow",!0);defineSymbol(math,main,rel,"â‰¤","\\le");defineSymbol(math,main,rel,"â‰¤","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"â†’","\\rightarrow",!0);defineSymbol(math,main,rel,"â†’","\\to");defineSymbol(math,ams,rel,"â‰±","\\ngeq",!0);defineSymbol(math,ams,rel,"â‰°","\\nleq",!0);defineSymbol(math,main,spacing,"Â ","\\ ");defineSymbol(math,main,spacing,"Â ","\\space");defineSymbol(math,main,spacing,"Â ","\\nobreakspace");defineSymbol(text$2,main,spacing,"Â ","\\ ");defineSymbol(text$2,main,spacing,"Â "," ");defineSymbol(text$2,main,spacing,"Â ","\\space");defineSymbol(text$2,main,spacing,"Â ","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"âŠ¼","\\barwedge",!0);defineSymbol(math,ams,bin,"âŠ»","\\veebar",!0);defineSymbol(math,main,bin,"âŠ™","\\odot",!0);defineSymbol(math,main,bin,"âŠ•","\\oplus",!0);defineSymbol(math,main,bin,"âŠ—","\\otimes",!0);defineSymbol(math,main,textord,"âˆ‚","\\partial",!0);defineSymbol(math,main,bin,"âŠ˜","\\oslash",!0);defineSymbol(math,ams,bin,"âŠš","\\circledcirc",!0);defineSymbol(math,ams,bin,"âŠ¡","\\boxdot",!0);defineSymbol(math,main,bin,"â–³","\\bigtriangleup");defineSymbol(math,main,bin,"â–½","\\bigtriangledown");defineSymbol(math,main,bin,"â€ ","\\dagger");defineSymbol(math,main,bin,"â‹„","\\diamond");defineSymbol(math,main,bin,"â‹†","\\star");defineSymbol(math,main,bin,"â—ƒ","\\triangleleft");defineSymbol(math,main,bin,"â–¹","\\triangleright");defineSymbol(math,main,open$1,"{","\\{");defineSymbol(text$2,main,textord,"{","\\{");defineSymbol(text$2,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$2,main,textord,"}","\\}");defineSymbol(text$2,main,textord,"}","\\textbraceright");defineSymbol(math,main,open$1,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open$1,"[","\\lbrack",!0);defineSymbol(text$2,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$2,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open$1,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$2,main,textord,"<","\\textless",!0);defineSymbol(text$2,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open$1,"âŒŠ","\\lfloor",!0);defineSymbol(math,main,close,"âŒ‹","\\rfloor",!0);defineSymbol(math,main,open$1,"âŒˆ","\\lceil",!0);defineSymbol(math,main,close,"âŒ‰","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"âˆ£","|");defineSymbol(math,main,textord,"âˆ£","\\vert");defineSymbol(text$2,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"âˆ¥","\\|");defineSymbol(math,main,textord,"âˆ¥","\\Vert");defineSymbol(text$2,main,textord,"âˆ¥","\\textbardbl");defineSymbol(text$2,main,textord,"~","\\textasciitilde");defineSymbol(text$2,main,textord,"\\","\\textbackslash");defineSymbol(text$2,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"â†‘","\\uparrow",!0);defineSymbol(math,main,rel,"â‡‘","\\Uparrow",!0);defineSymbol(math,main,rel,"â†“","\\downarrow",!0);defineSymbol(math,main,rel,"â‡“","\\Downarrow",!0);defineSymbol(math,main,rel,"â†•","\\updownarrow",!0);defineSymbol(math,main,rel,"â‡•","\\Updownarrow",!0);defineSymbol(math,main,op,"âˆ","\\coprod");defineSymbol(math,main,op,"â‹","\\bigvee");defineSymbol(math,main,op,"â‹€","\\bigwedge");defineSymbol(math,main,op,"â¨„","\\biguplus");defineSymbol(math,main,op,"â‹‚","\\bigcap");defineSymbol(math,main,op,"â‹ƒ","\\bigcup");defineSymbol(math,main,op,"âˆ«","\\int");defineSymbol(math,main,op,"âˆ«","\\intop");defineSymbol(math,main,op,"âˆ¬","\\iint");defineSymbol(math,main,op,"âˆ­","\\iiint");defineSymbol(math,main,op,"âˆ","\\prod");defineSymbol(math,main,op,"âˆ‘","\\sum");defineSymbol(math,main,op,"â¨‚","\\bigotimes");defineSymbol(math,main,op,"â¨","\\bigoplus");defineSymbol(math,main,op,"â¨€","\\bigodot");defineSymbol(math,main,op,"âˆ®","\\oint");defineSymbol(math,main,op,"âˆ¯","\\oiint");defineSymbol(math,main,op,"âˆ°","\\oiiint");defineSymbol(math,main,op,"â¨†","\\bigsqcup");defineSymbol(math,main,op,"âˆ«","\\smallint");defineSymbol(text$2,main,inner,"â€¦","\\textellipsis");defineSymbol(math,main,inner,"â€¦","\\mathellipsis");defineSymbol(text$2,main,inner,"â€¦","\\ldots",!0);defineSymbol(math,main,inner,"â€¦","\\ldots",!0);defineSymbol(math,main,inner,"â‹¯","\\@cdots",!0);defineSymbol(math,main,inner,"â‹±","\\ddots",!0);defineSymbol(math,main,textord,"â‹®","\\varvdots");defineSymbol(text$2,main,textord,"â‹®","\\varvdots");defineSymbol(math,main,accent,"ËŠ","\\acute");defineSymbol(math,main,accent,"Ë‹","\\grave");defineSymbol(math,main,accent,"Â¨","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"Ë‰","\\bar");defineSymbol(math,main,accent,"Ë˜","\\breve");defineSymbol(math,main,accent,"Ë‡","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"âƒ—","\\vec");defineSymbol(math,main,accent,"Ë™","\\dot");defineSymbol(math,main,accent,"Ëš","\\mathring");defineSymbol(math,main,mathord,"î„±","\\@imath");defineSymbol(math,main,mathord,"îˆ·","\\@jmath");defineSymbol(math,main,textord,"Ä±","Ä±");defineSymbol(math,main,textord,"È·","È·");defineSymbol(text$2,main,textord,"Ä±","\\i",!0);defineSymbol(text$2,main,textord,"È·","\\j",!0);defineSymbol(text$2,main,textord,"ÃŸ","\\ss",!0);defineSymbol(text$2,main,textord,"Ã¦","\\ae",!0);defineSymbol(text$2,main,textord,"Å“","\\oe",!0);defineSymbol(text$2,main,textord,"Ã¸","\\o",!0);defineSymbol(text$2,main,textord,"Ã†","\\AE",!0);defineSymbol(text$2,main,textord,"Å’","\\OE",!0);defineSymbol(text$2,main,textord,"Ã˜","\\O",!0);defineSymbol(text$2,main,accent,"ËŠ","\\'");defineSymbol(text$2,main,accent,"Ë‹","\\`");defineSymbol(text$2,main,accent,"Ë†","\\^");defineSymbol(text$2,main,accent,"Ëœ","\\~");defineSymbol(text$2,main,accent,"Ë‰","\\=");defineSymbol(text$2,main,accent,"Ë˜","\\u");defineSymbol(text$2,main,accent,"Ë™","\\.");defineSymbol(text$2,main,accent,"Â¸","\\c");defineSymbol(text$2,main,accent,"Ëš","\\r");defineSymbol(text$2,main,accent,"Ë‡","\\v");defineSymbol(text$2,main,accent,"Â¨",'\\"');defineSymbol(text$2,main,accent,"Ë","\\H");defineSymbol(text$2,main,accent,"â—¯","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$2,main,textord,"â€“","--",!0);defineSymbol(text$2,main,textord,"â€“","\\textendash");defineSymbol(text$2,main,textord,"â€”","---",!0);defineSymbol(text$2,main,textord,"â€”","\\textemdash");defineSymbol(text$2,main,textord,"â€˜","`",!0);defineSymbol(text$2,main,textord,"â€˜","\\textquoteleft");defineSymbol(text$2,main,textord,"â€™","'",!0);defineSymbol(text$2,main,textord,"â€™","\\textquoteright");defineSymbol(text$2,main,textord,"â€œ","``",!0);defineSymbol(text$2,main,textord,"â€œ","\\textquotedblleft");defineSymbol(text$2,main,textord,"â€","''",!0);defineSymbol(text$2,main,textord,"â€","\\textquotedblright");defineSymbol(math,main,textord,"Â°","\\degree",!0);defineSymbol(text$2,main,textord,"Â°","\\degree");defineSymbol(text$2,main,textord,"Â°","\\textdegree",!0);defineSymbol(math,main,textord,"Â£","\\pounds");defineSymbol(math,main,textord,"Â£","\\mathsterling",!0);defineSymbol(text$2,main,textord,"Â£","\\pounds");defineSymbol(text$2,main,textord,"Â£","\\textsterling",!0);defineSymbol(math,ams,textord,"âœ ","\\maltese");defineSymbol(text$2,ams,textord,"âœ ","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$2,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$2,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","â„‚");defineSymbol(text$2,ams,textord,"C","â„‚");defineSymbol(math,ams,textord,"H","â„");defineSymbol(text$2,ams,textord,"H","â„");defineSymbol(math,ams,textord,"N","â„•");defineSymbol(text$2,ams,textord,"N","â„•");defineSymbol(math,ams,textord,"P","â„™");defineSymbol(text$2,ams,textord,"P","â„™");defineSymbol(math,ams,textord,"Q","â„š");defineSymbol(text$2,ams,textord,"Q","â„š");defineSymbol(math,ams,textord,"R","â„");defineSymbol(text$2,ams,textord,"R","â„");defineSymbol(math,ams,textord,"Z","â„¤");defineSymbol(text$2,ams,textord,"Z","â„¤");defineSymbol(math,main,mathord,"h","â„Ž");defineSymbol(text$2,main,mathord,"h","â„Ž");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$2,main,textord,_ch3,wideChar))}wideChar="ð•œ";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$2,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$2,main,textord,_ch4,wideChar)}var extraLatin="ÃÃžÃ¾";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$2,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function(t,n){var o=t.charCodeAt(0),l=t.charCodeAt(1),u=(o-55296)*1024+(l-56320)+65536,d=n==="math"?0:1;if(119808<=u&&u<120484){var A=Math.floor((u-119808)/26);return[wideLatinLetterData[A][2],wideLatinLetterData[A][d]]}else if(120782<=u&&u<=120831){var m=Math.floor((u-120782)/10);return[wideNumeralData[m][2],wideNumeralData[m][d]]}else{if(u===120485||u===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][d]];if(120486<u&&u<120782)return["",""];throw new ParseError("Unsupported character: "+t)}},lookupSymbol=function(t,n,o){return symbols[o][t]&&symbols[o][t].replace&&(t=symbols[o][t].replace),{value:t,metrics:getCharacterMetrics(t,n,o)}},makeSymbol=function(t,n,o,l,u){var d=lookupSymbol(t,n,o),A=d.metrics;t=d.value;var m;if(A){var f=A.italic;(o==="text"||l&&l.font==="mathit")&&(f=0),m=new SymbolNode(t,A.height,A.depth,f,A.skew,A.width,u)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+o+"'")),m=new SymbolNode(t,0,0,0,0,0,u);if(l){m.maxFontSize=l.sizeMultiplier,l.style.isTight()&&m.classes.push("mtight");var g=l.getColor();g&&(m.style.color=g)}return m},mathsym=function(t,n,o,l){return l===void 0&&(l=[]),o.font==="boldsymbol"&&lookupSymbol(t,"Main-Bold",n).metrics?makeSymbol(t,"Main-Bold",n,o,l.concat(["mathbf"])):t==="\\"||symbols[n][t].font==="main"?makeSymbol(t,"Main-Regular",n,o,l):makeSymbol(t,"AMS-Regular",n,o,l.concat(["amsrm"]))},boldsymbol=function(t,n,o,l,u){return u!=="textord"&&lookupSymbol(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function(t,n,o){var l=t.mode,u=t.text,d=["mord"],A=l==="math"||l==="text"&&n.font,m=A?n.font:n.fontFamily,f="",g="";if(u.charCodeAt(0)===55349&&([f,g]=wideCharacterFont(u,l)),f.length>0)return makeSymbol(u,f,l,n,d.concat(g));if(m){var v,b;if(m==="boldsymbol"){var w=boldsymbol(u,l,n,d,o);v=w.fontName,b=[w.fontClass]}else A?(v=fontMap[m].fontName,b=[m]):(v=retrieveTextFontName(m,n.fontWeight,n.fontShape),b=[m,n.fontWeight,n.fontShape]);if(lookupSymbol(u,v,l).metrics)return makeSymbol(u,v,l,n,d.concat(b));if(ligatures.hasOwnProperty(u)&&v.slice(0,10)==="Typewriter"){for(var j=[],E=0;E<u.length;E++)j.push(makeSymbol(u[E],v,l,n,d.concat(b)));return makeFragment(j)}}if(o==="mathord")return makeSymbol(u,"Math-Italic",l,n,d.concat(["mathnormal"]));if(o==="textord"){var R=symbols[l][u]&&symbols[l][u].font;if(R==="ams"){var _=retrieveTextFontName("amsrm",n.fontWeight,n.fontShape);return makeSymbol(u,_,l,n,d.concat("amsrm",n.fontWeight,n.fontShape))}else if(R==="main"||!R){var N=retrieveTextFontName("textrm",n.fontWeight,n.fontShape);return makeSymbol(u,N,l,n,d.concat(n.fontWeight,n.fontShape))}else{var B=retrieveTextFontName(R,n.fontWeight,n.fontShape);return makeSymbol(u,B,l,n,d.concat(B,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+o+" in makeOrd")},canCombine=(e,t)=>{if(createClass(e.classes)!==createClass(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var o in e.style)if(e.style.hasOwnProperty(o)&&e.style[o]!==t.style[o])return!1;for(var l in t.style)if(t.style.hasOwnProperty(l)&&e.style[l]!==t.style[l])return!1;return!0},tryCombineChars=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],o=e[t+1];n instanceof SymbolNode&&o instanceof SymbolNode&&canCombine(n,o)&&(n.text+=o.text,n.height=Math.max(n.height,o.height),n.depth=Math.max(n.depth,o.depth),n.italic=o.italic,e.splice(t+1,1),t--)}return e},sizeElementFromChildren=function(t){for(var n=0,o=0,l=0,u=0;u<t.children.length;u++){var d=t.children[u];d.height>n&&(n=d.height),d.depth>o&&(o=d.depth),d.maxFontSize>l&&(l=d.maxFontSize)}t.height=n,t.depth=o,t.maxFontSize=l},makeSpan$2=function(t,n,o,l){var u=new Span(t,n,o,l);return sizeElementFromChildren(u),u},makeSvgSpan=(e,t,n,o)=>new Span(e,t,n,o),makeLineSpan=function(t,n,o){var l=makeSpan$2([t],[],n);return l.height=Math.max(o||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),l.style.borderBottomWidth=makeEm(l.height),l.maxFontSize=1,l},makeAnchor=function(t,n,o,l){var u=new Anchor(t,n,o,l);return sizeElementFromChildren(u),u},makeFragment=function(t){var n=new DocumentFragment$1(t);return sizeElementFromChildren(n),n},wrapFragment=function(t,n){return t instanceof DocumentFragment$1?makeSpan$2([],[t],n):t},getVListChildrenAndDepth=function(t){if(t.positionType==="individualShift"){for(var n=t.children,o=[n[0]],l=-n[0].shift-n[0].elem.depth,u=l,d=1;d<n.length;d++){var A=-n[d].shift-u-n[d].elem.depth,m=A-(n[d-1].elem.height+n[d-1].elem.depth);u=u+A,o.push({type:"kern",size:m}),o.push(n[d])}return{children:o,depth:l}}var f;if(t.positionType==="top"){for(var g=t.positionData,v=0;v<t.children.length;v++){var b=t.children[v];g-=b.type==="kern"?b.size:b.elem.height+b.elem.depth}f=g}else if(t.positionType==="bottom")f=-t.positionData;else{var w=t.children[0];if(w.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")f=-w.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")f=-w.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:f}},makeVList=function(t,n){for(var{children:o,depth:l}=getVListChildrenAndDepth(t),u=0,d=0;d<o.length;d++){var A=o[d];if(A.type==="elem"){var m=A.elem;u=Math.max(u,m.maxFontSize,m.height)}}u+=2;var f=makeSpan$2(["pstrut"],[]);f.style.height=makeEm(u);for(var g=[],v=l,b=l,w=l,j=0;j<o.length;j++){var E=o[j];if(E.type==="kern")w+=E.size;else{var R=E.elem,_=E.wrapperClasses||[],N=E.wrapperStyle||{},B=makeSpan$2(_,[f,R],void 0,N);B.style.top=makeEm(-u-w-R.depth),E.marginLeft&&(B.style.marginLeft=E.marginLeft),E.marginRight&&(B.style.marginRight=E.marginRight),g.push(B),w+=R.height+R.depth}v=Math.min(v,w),b=Math.max(b,w)}var M=makeSpan$2(["vlist"],g);M.style.height=makeEm(b);var O;if(v<0){var F=makeSpan$2([],[]),$=makeSpan$2(["vlist"],[F]);$.style.height=makeEm(-v);var z=makeSpan$2(["vlist-s"],[new SymbolNode("â€‹")]);O=[makeSpan$2(["vlist-r"],[M,z]),makeSpan$2(["vlist-r"],[$])]}else O=[makeSpan$2(["vlist-r"],[M])];var se=makeSpan$2(["vlist-t"],O);return O.length===2&&se.classes.push("vlist-t2"),se.height=b,se.depth=-v,se},makeGlue=(e,t)=>{var n=makeSpan$2(["mspace"],[],t),o=calculateSize(e,t);return n.style.marginRight=makeEm(o),n},retrieveTextFontName=function(t,n,o){var l="";switch(t){case"amsrm":l="AMS";break;case"textrm":l="Main";break;case"textsf":l="SansSerif";break;case"texttt":l="Typewriter";break;default:l=t}var u;return n==="textbf"&&o==="textit"?u="BoldItalic":n==="textbf"?u="Bold":n==="textit"?u="Italic":u="Regular",l+"-"+u},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function(t,n){var[o,l,u]=svgData[t],d=new PathNode(o),A=new SvgNode([d],{width:makeEm(l),height:makeEm(u),style:"width:"+makeEm(l),viewBox:"0 0 "+1e3*l+" "+1e3*u,preserveAspectRatio:"xMinYMin"}),m=makeSvgSpan(["overlay"],[A],n);return m.height=u,m.style.height=makeEm(u),m.style.width=makeEm(l),m},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(e){for(var{type:t,names:n,props:o,handler:l,htmlBuilder:u,mathmlBuilder:d}=e,A={type:t,numArgs:o.numArgs,argTypes:o.argTypes,allowedInArgument:!!o.allowedInArgument,allowedInText:!!o.allowedInText,allowedInMath:o.allowedInMath===void 0?!0:o.allowedInMath,numOptionalArgs:o.numOptionalArgs||0,infix:!!o.infix,primitive:!!o.primitive,handler:l},m=0;m<n.length;++m)_functions[n[m]]=A;t&&(u&&(_htmlGroupBuilders[t]=u),d&&(_mathmlGroupBuilders[t]=d))}function defineFunctionBuilders(e){var{type:t,htmlBuilder:n,mathmlBuilder:o}=e;defineFunction({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:o})}var normalizeArgument=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ordargument=function(t){return t.type==="ordgroup"?t.body:[t]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function(t,n,o,l){l===void 0&&(l=[null,null]);for(var u=[],d=0;d<t.length;d++){var A=buildGroup$1(t[d],n);if(A instanceof DocumentFragment$1){var m=A.children;u.push(...m)}else u.push(A)}if(buildCommon.tryCombineChars(u),!o)return u;var f=n;if(t.length===1){var g=t[0];g.type==="sizing"?f=n.havingSize(g.size):g.type==="styling"&&(f=n.havingStyle(styleMap$1[g.style]))}var v=makeSpan$1([l[0]||"leftmost"],[],n),b=makeSpan$1([l[1]||"rightmost"],[],n),w=o==="root";return traverseNonSpaceNodes(u,(j,E)=>{var R=E.classes[0],_=j.classes[0];R==="mbin"&&binRightCanceller.includes(_)?E.classes[0]="mord":_==="mbin"&&binLeftCanceller.includes(R)&&(j.classes[0]="mord")},{node:v},b,w),traverseNonSpaceNodes(u,(j,E)=>{var R=getTypeOfDomTree(E),_=getTypeOfDomTree(j),N=R&&_?j.hasClass("mtight")?tightSpacings[R][_]:spacings[R][_]:null;if(N)return buildCommon.makeGlue(N,f)},{node:v},b,w),u},traverseNonSpaceNodes=function e(t,n,o,l,u){l&&t.push(l);for(var d=0;d<t.length;d++){var A=t[d],m=checkPartialGroup(A);if(m){e(m.children,n,o,null,u);continue}var f=!A.hasClass("mspace");if(f){var g=n(A,o.node);g&&(o.insertAfter?o.insertAfter(g):(t.unshift(g),d++))}f?o.node=A:u&&A.hasClass("newline")&&(o.node=makeSpan$1(["leftmost"])),o.insertAfter=(v=>b=>{t.splice(v+1,0,b),d++})(d)}l&&t.pop()},checkPartialGroup=function(t){return t instanceof DocumentFragment$1||t instanceof Anchor||t instanceof Span&&t.hasClass("enclosing")?t:null},getOutermostNode=function e(t,n){var o=checkPartialGroup(t);if(o){var l=o.children;if(l.length){if(n==="right")return e(l[l.length-1],"right");if(n==="left")return e(l[0],"left")}}return t},getTypeOfDomTree=function(t,n){return t?(n&&(t=getOutermostNode(t,n)),DomEnum[t.classes[0]]||null):null},makeNullDelimiter=function(t,n){var o=["nulldelimiter"].concat(t.baseSizingClasses());return makeSpan$1(n.concat(o))},buildGroup$1=function(t,n,o){if(!t)return makeSpan$1();if(_htmlGroupBuilders[t.type]){var l=_htmlGroupBuilders[t.type](t,n);if(o&&n.size!==o.size){l=makeSpan$1(n.sizingClasses(o),[l],n);var u=n.sizeMultiplier/o.sizeMultiplier;l.height*=u,l.depth*=u}return l}else throw new ParseError("Got group of unknown type: '"+t.type+"'")};function buildHTMLUnbreakable(e,t){var n=makeSpan$1(["base"],e,t),o=makeSpan$1(["strut"]);return o.style.height=makeEm(n.height+n.depth),n.depth&&(o.style.verticalAlign=makeEm(-n.depth)),n.children.unshift(o),n}function buildHTML(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var o=buildExpression$1(e,t,"root"),l;o.length===2&&o[1].hasClass("tag")&&(l=o.pop());for(var u=[],d=[],A=0;A<o.length;A++)if(d.push(o[A]),o[A].hasClass("mbin")||o[A].hasClass("mrel")||o[A].hasClass("allowbreak")){for(var m=!1;A<o.length-1&&o[A+1].hasClass("mspace")&&!o[A+1].hasClass("newline");)A++,d.push(o[A]),o[A].hasClass("nobreak")&&(m=!0);m||(u.push(buildHTMLUnbreakable(d,t)),d=[])}else o[A].hasClass("newline")&&(d.pop(),d.length>0&&(u.push(buildHTMLUnbreakable(d,t)),d=[]),u.push(o[A]));d.length>0&&u.push(buildHTMLUnbreakable(d,t));var f;n?(f=buildHTMLUnbreakable(buildExpression$1(n,t,!0)),f.classes=["tag"],u.push(f)):l&&u.push(l);var g=makeSpan$1(["katex-html"],u);if(g.setAttribute("aria-hidden","true"),f){var v=f.children[0];v.style.height=makeEm(g.height+g.depth),g.depth&&(v.style.verticalAlign=makeEm(-g.depth))}return g}function newDocumentFragment(e){return new DocumentFragment$1(e)}class MathNode{constructor(t,n,o){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=o||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=createClass(this.classes));for(var o=0;o<this.children.length;o++)if(this.children[o]instanceof TextNode&&this.children[o+1]instanceof TextNode){for(var l=this.children[o].toText()+this.children[++o].toText();this.children[o+1]instanceof TextNode;)l+=this.children[++o].toText();t.appendChild(new TextNode(l).toNode())}else t.appendChild(this.children[o].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=utils.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+utils.escape(createClass(this.classes))+'"'),t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class TextNode{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="â€Š":t>=.1666&&t<=.1667?this.character="â€‰":t>=.2222&&t<=.2223?this.character="â€…":t>=.2777&&t<=.2778?this.character="â€…â€Š":t>=-.05556&&t<=-.05555?this.character="â€Šâ£":t>=-.1667&&t<=-.1666?this.character="â€‰â£":t>=-.2223&&t<=-.2222?this.character="âŸâ£":t>=-.2778&&t<=-.2777?this.character="â€…â£":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",makeEm(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function(t,n,o){return symbols[n][t]&&symbols[n][t].replace&&t.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(t)&&o&&(o.fontFamily&&o.fontFamily.slice(4,6)==="tt"||o.font&&o.font.slice(4,6)==="tt"))&&(t=symbols[n][t].replace),new mathMLTree.TextNode(t)},makeRow=function(t){return t.length===1?t[0]:new mathMLTree.MathNode("mrow",t)},getVariant=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var o=n.font;if(!o||o==="mathnormal")return null;var l=t.mode;if(o==="mathit")return"italic";if(o==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(o==="mathbf")return"bold";if(o==="mathbb")return"double-struck";if(o==="mathsfit")return"sans-serif-italic";if(o==="mathfrak")return"fraktur";if(o==="mathscr"||o==="mathcal")return"script";if(o==="mathsf")return"sans-serif";if(o==="mathtt")return"monospace";var u=t.text;if(["\\imath","\\jmath"].includes(u))return null;symbols[l][u]&&symbols[l][u].replace&&(u=symbols[l][u].replace);var d=buildCommon.fontMap[o].fontName;return getCharacterMetrics(u,d,l)?buildCommon.fontMap[o].variant:null};function isNumberPunctuation(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof TextNode&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof TextNode&&n.text===","}else return!1}var buildExpression=function(t,n,o){if(t.length===1){var l=buildGroup(t[0],n);return o&&l instanceof MathNode&&l.type==="mo"&&(l.setAttribute("lspace","0em"),l.setAttribute("rspace","0em")),[l]}for(var u=[],d,A=0;A<t.length;A++){var m=buildGroup(t[A],n);if(m instanceof MathNode&&d instanceof MathNode){if(m.type==="mtext"&&d.type==="mtext"&&m.getAttribute("mathvariant")===d.getAttribute("mathvariant")){d.children.push(...m.children);continue}else if(m.type==="mn"&&d.type==="mn"){d.children.push(...m.children);continue}else if(isNumberPunctuation(m)&&d.type==="mn"){d.children.push(...m.children);continue}else if(m.type==="mn"&&isNumberPunctuation(d))m.children=[...d.children,...m.children],u.pop();else if((m.type==="msup"||m.type==="msub")&&m.children.length>=1&&(d.type==="mn"||isNumberPunctuation(d))){var f=m.children[0];f instanceof MathNode&&f.type==="mn"&&(f.children=[...d.children,...f.children],u.pop())}else if(d.type==="mi"&&d.children.length===1){var g=d.children[0];if(g instanceof TextNode&&g.text==="Ì¸"&&(m.type==="mo"||m.type==="mi"||m.type==="mn")){var v=m.children[0];v instanceof TextNode&&v.text.length>0&&(v.text=v.text.slice(0,1)+"Ì¸"+v.text.slice(1),u.pop())}}}u.push(m),d=m}return u},buildExpressionRow=function(t,n,o){return makeRow(buildExpression(t,n,o))},buildGroup=function(t,n){if(!t)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[t.type]){var o=_mathmlGroupBuilders[t.type](t,n);return o}else throw new ParseError("Got group of unknown type: '"+t.type+"'")};function buildMathML(e,t,n,o,l){var u=buildExpression(e,n),d;u.length===1&&u[0]instanceof MathNode&&["mrow","mtable"].includes(u[0].type)?d=u[0]:d=new mathMLTree.MathNode("mrow",u);var A=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(t)]);A.setAttribute("encoding","application/x-tex");var m=new mathMLTree.MathNode("semantics",[d,A]),f=new mathMLTree.MathNode("math",[m]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),o&&f.setAttribute("display","block");var g=l?"katex":"katex-mathml";return buildCommon.makeSpan([g],[f])}var optionsFromSettings=function(t){return new Options({style:t.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},displayWrap=function(t,n){if(n.displayMode){var o=["katex-display"];n.leqno&&o.push("leqno"),n.fleqn&&o.push("fleqn"),t=buildCommon.makeSpan(o,[t])}return t},buildTree=function(t,n,o){var l=optionsFromSettings(o),u;if(o.output==="mathml")return buildMathML(t,n,l,o.displayMode,!0);if(o.output==="html"){var d=buildHTML(t,l);u=buildCommon.makeSpan(["katex"],[d])}else{var A=buildMathML(t,n,l,o.displayMode,!1),m=buildHTML(t,l);u=buildCommon.makeSpan(["katex"],[A,m])}return displayWrap(u,o)},buildHTMLTree=function(t,n,o){var l=optionsFromSettings(o),u=buildHTML(t,l),d=buildCommon.makeSpan(["katex"],[u]);return displayWrap(d,o)},stretchyCodePoint={widehat:"^",widecheck:"Ë‡",widetilde:"~",utilde:"~",overleftarrow:"â†",underleftarrow:"â†",xleftarrow:"â†",overrightarrow:"â†’",underrightarrow:"â†’",xrightarrow:"â†’",underbrace:"âŸ",overbrace:"âž",overgroup:"â ",undergroup:"â¡",overleftrightarrow:"â†”",underleftrightarrow:"â†”",xleftrightarrow:"â†”",Overrightarrow:"â‡’",xRightarrow:"â‡’",overleftharpoon:"â†¼",xleftharpoonup:"â†¼",overrightharpoon:"â‡€",xrightharpoonup:"â‡€",xLeftarrow:"â‡",xLeftrightarrow:"â‡”",xhookleftarrow:"â†©",xhookrightarrow:"â†ª",xmapsto:"â†¦",xrightharpoondown:"â‡",xleftharpoondown:"â†½",xrightleftharpoons:"â‡Œ",xleftrightharpoons:"â‡‹",xtwoheadleftarrow:"â†ž",xtwoheadrightarrow:"â† ",xlongequal:"=",xtofrom:"â‡„",xrightleftarrows:"â‡„",xrightequilibrium:"â‡Œ",xleftequilibrium:"â‡‹","\\cdrightarrow":"â†’","\\cdleftarrow":"â†","\\cdlongequal":"="},mathMLnode=function(t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function(t){return t.type==="ordgroup"?t.body.length:1},svgSpan=function(t,n){function o(){var A=4e5,m=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(m)){var f=t,g=groupLength(f.base),v,b,w;if(g>5)m==="widehat"||m==="widecheck"?(v=420,A=2364,w=.42,b=m+"4"):(v=312,A=2340,w=.34,b="tilde4");else{var j=[1,1,2,2,3,3][g];m==="widehat"||m==="widecheck"?(A=[0,1062,2364,2364,2364][j],v=[0,239,300,360,420][j],w=[0,.24,.3,.3,.36,.42][j],b=m+j):(A=[0,600,1033,2339,2340][j],v=[0,260,286,306,312][j],w=[0,.26,.286,.3,.306,.34][j],b="tilde"+j)}var E=new PathNode(b),R=new SvgNode([E],{width:"100%",height:makeEm(w),viewBox:"0 0 "+A+" "+v,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[R],n),minWidth:0,height:w}}else{var _=[],N=katexImagesData[m],[B,M,O]=N,F=O/1e3,$=B.length,z,se;if($===1){var ce=N[3];z=["hide-tail"],se=[ce]}else if($===2)z=["halfarrow-left","halfarrow-right"],se=["xMinYMin","xMaxYMin"];else if($===3)z=["brace-left","brace-center","brace-right"],se=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+$+" children.");for(var ie=0;ie<$;ie++){var pe=new PathNode(B[ie]),xe=new SvgNode([pe],{width:"400em",height:makeEm(F),viewBox:"0 0 "+A+" "+O,preserveAspectRatio:se[ie]+" slice"}),Ae=buildCommon.makeSvgSpan([z[ie]],[xe],n);if($===1)return{span:Ae,minWidth:M,height:F};Ae.style.height=makeEm(F),_.push(Ae)}return{span:buildCommon.makeSpan(["stretchy"],_,n),minWidth:M,height:F}}}var{span:l,minWidth:u,height:d}=o();return l.height=d,l.style.height=makeEm(d),u>0&&(l.style.minWidth=makeEm(u)),l},encloseSpan=function(t,n,o,l,u){var d,A=t.height+t.depth+o+l;if(/fbox|color|angl/.test(n)){if(d=buildCommon.makeSpan(["stretchy",n],[],u),n==="fbox"){var m=u.color&&u.getColor();m&&(d.style.borderColor=m)}}else{var f=[];/^[bx]cancel$/.test(n)&&f.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&f.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var g=new SvgNode(f,{width:"100%",height:makeEm(A)});d=buildCommon.makeSvgSpan([],[g],u)}return d.height=A,d.style.height=makeEm(A),d},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function assertSymbolNodeType(e){var t=checkSymbolNodeType(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function checkSymbolNodeType(e){return e&&(e.type==="atom"||NON_ATOMS.hasOwnProperty(e.type))?e:null}var htmlBuilder$a=(e,t)=>{var n,o,l;e&&e.type==="supsub"?(o=assertNodeType(e.base,"accent"),n=o.base,e.base=n,l=assertSpan(buildGroup$1(e,t)),e.base=o):(o=assertNodeType(e,"accent"),n=o.base);var u=buildGroup$1(n,t.havingCrampedStyle()),d=o.isShifty&&utils.isCharacterBox(n),A=0;if(d){var m=utils.getBaseElem(n),f=buildGroup$1(m,t.havingCrampedStyle());A=assertSymbolDomNode(f).skew}var g=o.label==="\\c",v=g?u.height+u.depth:Math.min(u.height,t.fontMetrics().xHeight),b;if(o.isStretchy)b=stretchy.svgSpan(o,t),b=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"elem",elem:b,wrapperClasses:["svg-align"],wrapperStyle:A>0?{width:"calc(100% - "+makeEm(2*A)+")",marginLeft:makeEm(2*A)}:void 0}]},t);else{var w,j;o.label==="\\vec"?(w=buildCommon.staticSvg("vec",t),j=buildCommon.svgData.vec[1]):(w=buildCommon.makeOrd({mode:o.mode,text:o.label},t,"textord"),w=assertSymbolDomNode(w),w.italic=0,j=w.width,g&&(v+=w.depth)),b=buildCommon.makeSpan(["accent-body"],[w]);var E=o.label==="\\textcircled";E&&(b.classes.push("accent-full"),v=u.height);var R=A;E||(R-=j/2),b.style.left=makeEm(R),o.label==="\\textcircled"&&(b.style.top=".2em"),b=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:-v},{type:"elem",elem:b}]},t)}var _=buildCommon.makeSpan(["mord","accent"],[b],t);return l?(l.children[0]=_,l.height=Math.max(_.height,l.height),l.classes[0]="mord",l):_},mathmlBuilder$9=(e,t)=>{var n=e.isStretchy?stretchy.mathMLnode(e.label):new mathMLTree.MathNode("mo",[makeText(e.label,e.mode)]),o=new mathMLTree.MathNode("mover",[buildGroup(e.base,t),n]);return o.setAttribute("accent","true"),o},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=normalizeArgument(t[0]),o=!NON_STRETCHY_ACCENT_REGEX.test(e.funcName),l=!o||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:o,isShifty:l,base:n}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],o=e.parser.mode;return o==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),o="text"),{type:"accent",mode:o,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=t[0];return{type:"accentUnder",mode:n.mode,label:o,base:l}},htmlBuilder:(e,t)=>{var n=buildGroup$1(e.base,t),o=stretchy.svgSpan(e,t),l=e.label==="\\utilde"?.12:0,u=buildCommon.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:o,wrapperClasses:["svg-align"]},{type:"kern",size:l},{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord","accentunder"],[u],t)},mathmlBuilder:(e,t)=>{var n=stretchy.mathMLnode(e.label),o=new mathMLTree.MathNode("munder",[buildGroup(e.base,t),n]);return o.setAttribute("accentunder","true"),o}});var paddedNode=e=>{var t=new mathMLTree.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:o,funcName:l}=e;return{type:"xArrow",mode:o.mode,label:l,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,o=t.havingStyle(n.sup()),l=buildCommon.wrapFragment(buildGroup$1(e.body,o,t),t),u=e.label.slice(0,2)==="\\x"?"x":"cd";l.classes.push(u+"-arrow-pad");var d;e.below&&(o=t.havingStyle(n.sub()),d=buildCommon.wrapFragment(buildGroup$1(e.below,o,t),t),d.classes.push(u+"-arrow-pad"));var A=stretchy.svgSpan(e,t),m=-t.fontMetrics().axisHeight+.5*A.height,f=-t.fontMetrics().axisHeight-.5*A.height-.111;(l.depth>.25||e.label==="\\xleftequilibrium")&&(f-=l.depth);var g;if(d){var v=-t.fontMetrics().axisHeight+d.height+.5*A.height+.111;g=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:f},{type:"elem",elem:A,shift:m},{type:"elem",elem:d,shift:v}]},t)}else g=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:f},{type:"elem",elem:A,shift:m}]},t);return g.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[g],t)},mathmlBuilder(e,t){var n=stretchy.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var o;if(e.body){var l=paddedNode(buildGroup(e.body,t));if(e.below){var u=paddedNode(buildGroup(e.below,t));o=new mathMLTree.MathNode("munderover",[n,u,l])}else o=new mathMLTree.MathNode("mover",[n,l])}else if(e.below){var d=paddedNode(buildGroup(e.below,t));o=new mathMLTree.MathNode("munder",[n,d])}else o=paddedNode(),o=new mathMLTree.MathNode("mover",[n,o]);return o}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(e,t){var n=buildExpression$1(e.body,t,!0);return makeSpan([e.mclass],n,t)}function mathmlBuilder$8(e,t){var n,o=buildExpression(e.body,t);return e.mclass==="minner"?n=new mathMLTree.MathNode("mpadded",o):e.mclass==="mord"?e.isCharacterBox?(n=o[0],n.type="mi"):n=new mathMLTree.MathNode("mi",o):(e.isCharacterBox?(n=o[0],n.type="mo"):n=new mathMLTree.MathNode("mo",o),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:o}=e,l=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+o.slice(5),body:ordargument(l),isCharacterBox:utils.isCharacterBox(l)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:binrelClass(t[0]),body:ordargument(t[1]),isCharacterBox:utils.isCharacterBox(t[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:o}=e,l=t[1],u=t[0],d;o!=="\\stackrel"?d=binrelClass(l):d="mrel";var A={type:"op",mode:l.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:o!=="\\stackrel",body:ordargument(l)},m={type:"supsub",mode:u.mode,base:A,sup:o==="\\underset"?null:u,sub:o==="\\underset"?u:null};return{type:"mclass",mode:n.mode,mclass:d,body:[m],isCharacterBox:utils.isCharacterBox(m)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:binrelClass(t[0]),body:ordargument(t[0])}},htmlBuilder(e,t){var n=buildExpression$1(e.body,t,!0),o=buildCommon.makeSpan([e.mclass],n,t);return o.style.textShadow="0.02em 0.01em 0.04px",o},mathmlBuilder(e,t){var n=buildExpression(e.body,t),o=new mathMLTree.MathNode("mstyle",n);return o.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),o}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=e=>e.type==="textord"&&e.text==="@",isLabelEnd=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function cdArrow(e,t,n){var o=cdArrowFunctionName[e];switch(o){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(o,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var l=n.callFunction("\\\\cdleft",[t[0]],[]),u={type:"atom",text:o,mode:"math",family:"rel"},d=n.callFunction("\\Big",[u],[]),A=n.callFunction("\\\\cdright",[t[1]],[]),m={type:"ordgroup",mode:"math",body:[l,d,A]};return n.callFunction("\\\\cdparent",[m],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var o=[],l=[o],u=0;u<t.length;u++){for(var d=t[u],A=newCell(),m=0;m<d.length;m++)if(!isStartOfArrow(d[m]))A.body.push(d[m]);else{o.push(A),m+=1;var f=assertSymbolNodeType(d[m]).text,g=new Array(2);if(g[0]={type:"ordgroup",mode:"math",body:[]},g[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var v=0;v<2;v++){for(var b=!0,w=m+1;w<d.length;w++){if(isLabelEnd(d[w],f)){b=!1,m=w;break}if(isStartOfArrow(d[w]))throw new ParseError("Missing a "+f+" character to complete a CD arrow.",d[w]);g[v].body.push(d[w])}if(b)throw new ParseError("Missing a "+f+" character to complete a CD arrow.",d[m])}else throw new ParseError('Expected one of "<>AV=|." after @',d[m]);var j=cdArrow(f,g,e),E={type:"styling",body:[j],mode:"math",style:"display"};o.push(E),A=newCell()}u%2===0?o.push(A):o.shift(),o=[],l.push(o)}e.gullet.endGroup(),e.gullet.endGroup();var R=new Array(l[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:l,arraystretch:1,addJot:!0,rowGaps:[null],cols:R,colSeparationType:"CD",hLinesBeforeRow:new Array(l.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:o}=e;return{type:"cdlabel",mode:n.mode,side:o.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),o=buildCommon.wrapFragment(buildGroup$1(e.label,n,t),t);return o.classes.push("cd-label-"+e.side),o.style.bottom=makeEm(.8-o.depth),o.height=0,o.depth=0,o},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mrow",[buildGroup(e.label,t)]);return n=new mathMLTree.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new mathMLTree.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=buildCommon.wrapFragment(buildGroup$1(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new mathMLTree.MathNode("mrow",[buildGroup(e.fragment,t)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,o=assertNodeType(t[0],"ordgroup"),l=o.body,u="",d=0;d<l.length;d++){var A=assertNodeType(l[d],"textord");u+=A.text}var m=parseInt(u),f;if(isNaN(m))throw new ParseError("\\@char has non-numeric argument "+u);if(m<0||m>=1114111)throw new ParseError("\\@char with invalid code point "+u);return m<=65535?f=String.fromCharCode(m):(m-=65536,f=String.fromCharCode((m>>10)+55296,(m&1023)+56320)),{type:"textord",mode:n.mode,text:f}}});var htmlBuilder$8=(e,t)=>{var n=buildExpression$1(e.body,t.withColor(e.color),!1);return buildCommon.makeFragment(n)},mathmlBuilder$7=(e,t)=>{var n=buildExpression(e.body,t.withColor(e.color)),o=new mathMLTree.MathNode("mstyle",n);return o.setAttribute("mathcolor",e.color),o};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,o=assertNodeType(t[0],"color-token").color,l=t[1];return{type:"color",mode:n.mode,color:o,body:ordargument(l)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:o}=e,l=assertNodeType(t[0],"color-token").color;n.gullet.macros.set("\\current@color",l);var u=n.parseExpression(!0,o);return{type:"color",mode:n.mode,color:l,body:u}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:o}=e,l=o.gullet.future().text==="["?o.parseSizeGroup(!0):null,u=!o.settings.displayMode||!o.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:o.mode,newLine:u,size:l&&assertNodeType(l,"size").value}},htmlBuilder(e,t){var n=buildCommon.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=makeEm(calculateSize(e.size,t)))),n},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",makeEm(calculateSize(e.size,t)))),n}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ParseError("Expected a control sequence",e);return t},getRHS=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},letCommand=(e,t,n,o)=>{var l=e.gullet.macros.get(n.text);l==null&&(n.noexpand=!0,l={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,l,o)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var o=t.fetch();if(globalMap[o.text])return(n==="\\global"||n==="\\\\globallong")&&(o.text=globalMap[o.text]),assertNodeType(t.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",o)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,o=t.gullet.popToken(),l=o.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(l))throw new ParseError("Expected a control sequence",o);for(var u=0,d,A=[[]];t.gullet.future().text!=="{";)if(o=t.gullet.popToken(),o.text==="#"){if(t.gullet.future().text==="{"){d=t.gullet.future(),A[u].push("{");break}if(o=t.gullet.popToken(),!/^[1-9]$/.test(o.text))throw new ParseError('Invalid argument number "'+o.text+'"');if(parseInt(o.text)!==u+1)throw new ParseError('Argument number "'+o.text+'" out of order');u++,A.push([])}else{if(o.text==="EOF")throw new ParseError("Expected a macro definition");A[u].push(o.text)}var{tokens:m}=t.gullet.consumeArg();return d&&m.unshift(d),(n==="\\edef"||n==="\\xdef")&&(m=t.gullet.expandTokens(m),m.reverse()),t.gullet.macros.set(l,{tokens:m,numArgs:u,delimiters:A},n===globalMap[n]),{type:"internal",mode:t.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,o=checkControlSequence(t.gullet.popToken());t.gullet.consumeSpaces();var l=getRHS(t);return letCommand(t,o,l,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,o=checkControlSequence(t.gullet.popToken()),l=t.gullet.popToken(),u=t.gullet.popToken();return letCommand(t,o,u,n==="\\\\globalfuture"),t.gullet.pushToken(u),t.gullet.pushToken(l),{type:"internal",mode:t.mode}}});var getMetrics=function(t,n,o){var l=symbols.math[t]&&symbols.math[t].replace,u=getCharacterMetrics(l||t,n,o);if(!u)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return u},styleWrap=function(t,n,o,l){var u=o.havingBaseStyle(n),d=buildCommon.makeSpan(l.concat(u.sizingClasses(o)),[t],o),A=u.sizeMultiplier/o.sizeMultiplier;return d.height*=A,d.depth*=A,d.maxFontSize=u.sizeMultiplier,d},centerSpan=function(t,n,o){var l=n.havingBaseStyle(o),u=(1-n.sizeMultiplier/l.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=makeEm(u),t.height-=u,t.depth+=u},makeSmallDelim=function(t,n,o,l,u,d){var A=buildCommon.makeSymbol(t,"Main-Regular",u,l),m=styleWrap(A,n,l,d);return o&&centerSpan(m,l,n),m},mathrmSize=function(t,n,o,l){return buildCommon.makeSymbol(t,"Size"+n+"-Regular",o,l)},makeLargeDelim=function(t,n,o,l,u,d){var A=mathrmSize(t,n,u,l),m=styleWrap(buildCommon.makeSpan(["delimsizing","size"+n],[A],l),Style$1.TEXT,l,d);return o&&centerSpan(m,l,Style$1.TEXT),m},makeGlyphSpan=function(t,n,o){var l;n==="Size1-Regular"?l="delim-size1":l="delim-size4";var u=buildCommon.makeSpan(["delimsizinginner",l],[buildCommon.makeSpan([],[buildCommon.makeSymbol(t,n,o)])]);return{type:"elem",elem:u}},makeInner=function(t,n,o){var l=fontMetricsData["Size4-Regular"][t.charCodeAt(0)]?fontMetricsData["Size4-Regular"][t.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][t.charCodeAt(0)][4],u=new PathNode("inner",innerPath(t,Math.round(1e3*n))),d=new SvgNode([u],{width:makeEm(l),height:makeEm(n),style:"width:"+makeEm(l),viewBox:"0 0 "+1e3*l+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),A=buildCommon.makeSvgSpan([],[d],o);return A.height=n,A.style.height=makeEm(n),A.style.width=makeEm(l),{type:"elem",elem:A}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function(t,n,o,l,u,d){var A,m,f,g,v="",b=0;A=f=g=t,m=null;var w="Size1-Regular";t==="\\uparrow"?f=g="â":t==="\\Uparrow"?f=g="â€–":t==="\\downarrow"?A=f="â":t==="\\Downarrow"?A=f="â€–":t==="\\updownarrow"?(A="\\uparrow",f="â",g="\\downarrow"):t==="\\Updownarrow"?(A="\\Uparrow",f="â€–",g="\\Downarrow"):verts.includes(t)?(f="âˆ£",v="vert",b=333):doubleVerts.includes(t)?(f="âˆ¥",v="doublevert",b=556):t==="["||t==="\\lbrack"?(A="âŽ¡",f="âŽ¢",g="âŽ£",w="Size4-Regular",v="lbrack",b=667):t==="]"||t==="\\rbrack"?(A="âŽ¤",f="âŽ¥",g="âŽ¦",w="Size4-Regular",v="rbrack",b=667):t==="\\lfloor"||t==="âŒŠ"?(f=A="âŽ¢",g="âŽ£",w="Size4-Regular",v="lfloor",b=667):t==="\\lceil"||t==="âŒˆ"?(A="âŽ¡",f=g="âŽ¢",w="Size4-Regular",v="lceil",b=667):t==="\\rfloor"||t==="âŒ‹"?(f=A="âŽ¥",g="âŽ¦",w="Size4-Regular",v="rfloor",b=667):t==="\\rceil"||t==="âŒ‰"?(A="âŽ¤",f=g="âŽ¥",w="Size4-Regular",v="rceil",b=667):t==="("||t==="\\lparen"?(A="âŽ›",f="âŽœ",g="âŽ",w="Size4-Regular",v="lparen",b=875):t===")"||t==="\\rparen"?(A="âŽž",f="âŽŸ",g="âŽ ",w="Size4-Regular",v="rparen",b=875):t==="\\{"||t==="\\lbrace"?(A="âŽ§",m="âŽ¨",g="âŽ©",f="âŽª",w="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(A="âŽ«",m="âŽ¬",g="âŽ­",f="âŽª",w="Size4-Regular"):t==="\\lgroup"||t==="âŸ®"?(A="âŽ§",g="âŽ©",f="âŽª",w="Size4-Regular"):t==="\\rgroup"||t==="âŸ¯"?(A="âŽ«",g="âŽ­",f="âŽª",w="Size4-Regular"):t==="\\lmoustache"||t==="âŽ°"?(A="âŽ§",g="âŽ­",f="âŽª",w="Size4-Regular"):(t==="\\rmoustache"||t==="âŽ±")&&(A="âŽ«",g="âŽ©",f="âŽª",w="Size4-Regular");var j=getMetrics(A,w,u),E=j.height+j.depth,R=getMetrics(f,w,u),_=R.height+R.depth,N=getMetrics(g,w,u),B=N.height+N.depth,M=0,O=1;if(m!==null){var F=getMetrics(m,w,u);M=F.height+F.depth,O=2}var $=E+B+M,z=Math.max(0,Math.ceil((n-$)/(O*_))),se=$+z*O*_,ce=l.fontMetrics().axisHeight;o&&(ce*=l.sizeMultiplier);var ie=se/2-ce,pe=[];if(v.length>0){var xe=se-E-B,Ae=Math.round(se*1e3),ue=tallDelim(v,Math.round(xe*1e3)),Y=new PathNode(v,ue),fe=(b/1e3).toFixed(3)+"em",H=(Ae/1e3).toFixed(3)+"em",le=new SvgNode([Y],{width:fe,height:H,viewBox:"0 0 "+b+" "+Ae}),de=buildCommon.makeSvgSpan([],[le],l);de.height=Ae/1e3,de.style.width=fe,de.style.height=H,pe.push({type:"elem",elem:de})}else{if(pe.push(makeGlyphSpan(g,w,u)),pe.push(lap),m===null){var ye=se-E-B+2*lapInEms;pe.push(makeInner(f,ye,l))}else{var ge=(se-E-B-M)/2+2*lapInEms;pe.push(makeInner(f,ge,l)),pe.push(lap),pe.push(makeGlyphSpan(m,w,u)),pe.push(lap),pe.push(makeInner(f,ge,l))}pe.push(lap),pe.push(makeGlyphSpan(A,w,u))}var je=l.havingBaseStyle(Style$1.TEXT),Me=buildCommon.makeVList({positionType:"bottom",positionData:ie,children:pe},je);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[Me],je),Style$1.TEXT,l,d)},vbPad=80,emPad=.08,sqrtSvg=function(t,n,o,l,u){var d=sqrtPath(t,l,o),A=new PathNode(t,d),m=new SvgNode([A],{width:"400em",height:makeEm(n),viewBox:"0 0 400000 "+o,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[m],u)},makeSqrtImage=function(t,n){var o=n.havingBaseSizing(),l=traverseSequence("\\surd",t*o.sizeMultiplier,stackLargeDelimiterSequence,o),u=o.sizeMultiplier,d=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),A,m=0,f=0,g=0,v;return l.type==="small"?(g=1e3+1e3*d+vbPad,t<1?u=1:t<1.4&&(u=.7),m=(1+d+emPad)/u,f=(1+d)/u,A=sqrtSvg("sqrtMain",m,g,d,n),A.style.minWidth="0.853em",v=.833/u):l.type==="large"?(g=(1e3+vbPad)*sizeToMaxHeight[l.size],f=(sizeToMaxHeight[l.size]+d)/u,m=(sizeToMaxHeight[l.size]+d+emPad)/u,A=sqrtSvg("sqrtSize"+l.size,m,g,d,n),A.style.minWidth="1.02em",v=1/u):(m=t+d+emPad,f=t+d,g=Math.floor(1e3*t+d)+vbPad,A=sqrtSvg("sqrtTall",m,g,d,n),A.style.minWidth="0.742em",v=1.056),A.height=f,A.style.height=makeEm(m),{span:A,advanceWidth:v,ruleWidth:(n.fontMetrics().sqrtRuleThickness+d)*u}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","âŒŠ","âŒ‹","\\lceil","\\rceil","âŒˆ","âŒ‰","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","âŸ®","âŸ¯","\\lmoustache","\\rmoustache","âŽ°","âŽ±"],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function(t,n,o,l,u){if(t==="<"||t==="\\lt"||t==="âŸ¨"?t="\\langle":(t===">"||t==="\\gt"||t==="âŸ©")&&(t="\\rangle"),stackLargeDelimiters.includes(t)||stackNeverDelimiters.includes(t))return makeLargeDelim(t,n,!1,o,l,u);if(stackAlwaysDelimiters.includes(t))return makeStackedDelim(t,sizeToMaxHeight[n],!1,o,l,u);throw new ParseError("Illegal delimiter: '"+t+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},traverseSequence=function(t,n,o,l){for(var u=Math.min(2,3-l.style.size),d=u;d<o.length&&o[d].type!=="stack";d++){var A=getMetrics(t,delimTypeToFont(o[d]),"math"),m=A.height+A.depth;if(o[d].type==="small"){var f=l.havingBaseStyle(o[d].style);m*=f.sizeMultiplier}if(m>n)return o[d]}return o[o.length-1]},makeCustomSizedDelim=function(t,n,o,l,u,d){t==="<"||t==="\\lt"||t==="âŸ¨"?t="\\langle":(t===">"||t==="\\gt"||t==="âŸ©")&&(t="\\rangle");var A;stackNeverDelimiters.includes(t)?A=stackNeverDelimiterSequence:stackLargeDelimiters.includes(t)?A=stackLargeDelimiterSequence:A=stackAlwaysDelimiterSequence;var m=traverseSequence(t,n,A,l);return m.type==="small"?makeSmallDelim(t,m.style,o,l,u,d):m.type==="large"?makeLargeDelim(t,m.size,o,l,u,d):makeStackedDelim(t,n,o,l,u,d)},makeLeftRightDelim=function(t,n,o,l,u,d){var A=l.fontMetrics().axisHeight*l.sizeMultiplier,m=901,f=5/l.fontMetrics().ptPerEm,g=Math.max(n-A,o+A),v=Math.max(g/500*m,2*g-f);return makeCustomSizedDelim(t,v,!0,l,u,d)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","âŒŠ","âŒ‹","\\lceil","\\rceil","âŒˆ","âŒ‰","<",">","\\langle","âŸ¨","\\rangle","âŸ©","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","âŸ®","âŸ¯","\\lmoustache","\\rmoustache","âŽ°","âŽ±","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(e,t){var n=checkSymbolNodeType(e);if(n&&delimiters.includes(n.text))return n;throw n?new ParseError("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ParseError("Invalid delimiter type '"+e.type+"'",e)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=checkDelimiter(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:delimiterSizes[e.funcName].size,mclass:delimiterSizes[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?buildCommon.makeSpan([e.mclass]):delimiter.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(makeText(e.delim,e.mode));var n=new mathMLTree.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var o=makeEm(delimiter.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",o),n.setAttribute("maxsize",o),n}});function assertParsed(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:checkDelimiter(t[0],e).text,color:n}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=checkDelimiter(t[0],e),o=e.parser;++o.leftrightDepth;var l=o.parseExpression(!1);--o.leftrightDepth,o.expect("\\right",!1);var u=assertNodeType(o.parseFunction(),"leftright-right");return{type:"leftright",mode:o.mode,body:l,left:n.text,right:u.delim,rightColor:u.color}},htmlBuilder:(e,t)=>{assertParsed(e);for(var n=buildExpression$1(e.body,t,!0,["mopen","mclose"]),o=0,l=0,u=!1,d=0;d<n.length;d++)n[d].isMiddle?u=!0:(o=Math.max(n[d].height,o),l=Math.max(n[d].depth,l));o*=t.sizeMultiplier,l*=t.sizeMultiplier;var A;if(e.left==="."?A=makeNullDelimiter(t,["mopen"]):A=delimiter.leftRightDelim(e.left,o,l,t,e.mode,["mopen"]),n.unshift(A),u)for(var m=1;m<n.length;m++){var f=n[m],g=f.isMiddle;g&&(n[m]=delimiter.leftRightDelim(g.delim,o,l,g.options,e.mode,[]))}var v;if(e.right===".")v=makeNullDelimiter(t,["mclose"]);else{var b=e.rightColor?t.withColor(e.rightColor):t;v=delimiter.leftRightDelim(e.right,o,l,b,e.mode,["mclose"])}return n.push(v),buildCommon.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{assertParsed(e);var n=buildExpression(e.body,t);if(e.left!=="."){var o=new mathMLTree.MathNode("mo",[makeText(e.left,e.mode)]);o.setAttribute("fence","true"),n.unshift(o)}if(e.right!=="."){var l=new mathMLTree.MathNode("mo",[makeText(e.right,e.mode)]);l.setAttribute("fence","true"),e.rightColor&&l.setAttribute("mathcolor",e.rightColor),n.push(l)}return makeRow(n)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=checkDelimiter(t[0],e);if(!e.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=makeNullDelimiter(t,[]);else{n=delimiter.sizedDelim(e.delim,1,t,e.mode,[]);var o={delim:e.delim,options:t};n.isMiddle=o}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?makeText("|","text"):makeText(e.delim,e.mode),o=new mathMLTree.MathNode("mo",[n]);return o.setAttribute("fence","true"),o.setAttribute("lspace","0.05em"),o.setAttribute("rspace","0.05em"),o}});var htmlBuilder$7=(e,t)=>{var n=buildCommon.wrapFragment(buildGroup$1(e.body,t),t),o=e.label.slice(1),l=t.sizeMultiplier,u,d=0,A=utils.isCharacterBox(e.body);if(o==="sout")u=buildCommon.makeSpan(["stretchy","sout"]),u.height=t.fontMetrics().defaultRuleThickness/l,d=-.5*t.fontMetrics().xHeight;else if(o==="phase"){var m=calculateSize({number:.6,unit:"pt"},t),f=calculateSize({number:.35,unit:"ex"},t),g=t.havingBaseSizing();l=l/g.sizeMultiplier;var v=n.height+n.depth+m+f;n.style.paddingLeft=makeEm(v/2+m);var b=Math.floor(1e3*v*l),w=phasePath(b),j=new SvgNode([new PathNode("phase",w)],{width:"400em",height:makeEm(b/1e3),viewBox:"0 0 400000 "+b,preserveAspectRatio:"xMinYMin slice"});u=buildCommon.makeSvgSpan(["hide-tail"],[j],t),u.style.height=makeEm(v),d=n.depth+m+f}else{/cancel/.test(o)?A||n.classes.push("cancel-pad"):o==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var E=0,R=0,_=0;/box/.test(o)?(_=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),E=t.fontMetrics().fboxsep+(o==="colorbox"?0:_),R=E):o==="angl"?(_=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),E=4*_,R=Math.max(0,.25-n.depth)):(E=A?.2:0,R=E),u=stretchy.encloseSpan(n,o,E,R,t),/fbox|boxed|fcolorbox/.test(o)?(u.style.borderStyle="solid",u.style.borderWidth=makeEm(_)):o==="angl"&&_!==.049&&(u.style.borderTopWidth=makeEm(_),u.style.borderRightWidth=makeEm(_)),d=n.depth+R,e.backgroundColor&&(u.style.backgroundColor=e.backgroundColor,e.borderColor&&(u.style.borderColor=e.borderColor))}var N;if(e.backgroundColor)N=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:d},{type:"elem",elem:n,shift:0}]},t);else{var B=/cancel|phase/.test(o)?["svg-align"]:[];N=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:u,shift:d,wrapperClasses:B}]},t)}return/cancel/.test(o)&&(N.height=n.height,N.depth=n.depth),/cancel/.test(o)&&!A?buildCommon.makeSpan(["mord","cancel-lap"],[N],t):buildCommon.makeSpan(["mord"],[N],t)},mathmlBuilder$6=(e,t)=>{var n=0,o=new mathMLTree.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(e.body,t)]);switch(e.label){case"\\cancel":o.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":o.setAttribute("notation","downdiagonalstrike");break;case"\\phase":o.setAttribute("notation","phasorangle");break;case"\\sout":o.setAttribute("notation","horizontalstrike");break;case"\\fbox":o.setAttribute("notation","box");break;case"\\angl":o.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,o.setAttribute("width","+"+2*n+"pt"),o.setAttribute("height","+"+2*n+"pt"),o.setAttribute("lspace",n+"pt"),o.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var l=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);o.setAttribute("style","border: "+l+"em solid "+String(e.borderColor))}break;case"\\xcancel":o.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&o.setAttribute("mathbackground",e.backgroundColor),o};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:o,funcName:l}=e,u=assertNodeType(t[0],"color-token").color,d=t[1];return{type:"enclose",mode:o.mode,label:l,backgroundColor:u,body:d}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:o,funcName:l}=e,u=assertNodeType(t[0],"color-token").color,d=assertNodeType(t[1],"color-token").color,A=t[2];return{type:"enclose",mode:o.mode,label:l,backgroundColor:d,borderColor:u,body:A}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:o}=e,l=t[0];return{type:"enclose",mode:n.mode,label:o,body:l}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var _environments={};function defineEnvironment(e){for(var{type:t,names:n,props:o,handler:l,htmlBuilder:u,mathmlBuilder:d}=e,A={type:t,numArgs:o.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:l},m=0;m<n.length;++m)_environments[n[m]]=A;u&&(_htmlGroupBuilders[t]=u),d&&(_mathmlGroupBuilders[t]=d)}var _macros={};function defineMacro(e,t){_macros[e]=t}function getHLines(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var validateAmsEnvironmentContext=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ParseError("{"+e.envName+"} can be used only in display mode.")};function getAutoTag(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function parseArray(e,t,n){var{hskipBeforeAndAfter:o,addJot:l,cols:u,arraystretch:d,colSeparationType:A,autoTag:m,singleRow:f,emptySingleRow:g,maxNumCols:v,leqno:b}=t;if(e.gullet.beginGroup(),f||e.gullet.macros.set("\\cr","\\\\\\relax"),!d){var w=e.gullet.expandMacroAsText("\\arraystretch");if(w==null)d=1;else if(d=parseFloat(w),!d||d<0)throw new ParseError("Invalid \\arraystretch: "+w)}e.gullet.beginGroup();var j=[],E=[j],R=[],_=[],N=m!=null?[]:void 0;function B(){m&&e.gullet.macros.set("\\@eqnsw","1",!0)}function M(){N&&(e.gullet.macros.get("\\df@tag")?(N.push(e.subparse([new Token("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!m&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(B(),_.push(getHLines(e));;){var O=e.parseExpression(!1,f?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),O={type:"ordgroup",mode:e.mode,body:O},n&&(O={type:"styling",mode:e.mode,style:n,body:[O]}),j.push(O);var F=e.fetch().text;if(F==="&"){if(v&&j.length===v){if(f||A)throw new ParseError("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(F==="\\end"){M(),j.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(E.length>1||!g)&&E.pop(),_.length<E.length+1&&_.push([]);break}else if(F==="\\\\"){e.consume();var $=void 0;e.gullet.future().text!==" "&&($=e.parseSizeGroup(!0)),R.push($?$.value:null),M(),_.push(getHLines(e)),j=[],E.push(j),B()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:l,arraystretch:d,body:E,cols:u,rowGaps:R,hskipBeforeAndAfter:o,hLinesBeforeRow:_,colSeparationType:A,tags:N,leqno:b}}function dCellStyle(e){return e.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function(t,n){var o,l,u=t.body.length,d=t.hLinesBeforeRow,A=0,m=new Array(u),f=[],g=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),v=1/n.fontMetrics().ptPerEm,b=5*v;if(t.colSeparationType&&t.colSeparationType==="small"){var w=n.havingStyle(Style$1.SCRIPT).sizeMultiplier;b=.2778*(w/n.sizeMultiplier)}var j=t.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},n):12*v,E=3*v,R=t.arraystretch*j,_=.7*R,N=.3*R,B=0;function M(ur){for(var Nr=0;Nr<ur.length;++Nr)Nr>0&&(B+=.25),f.push({pos:B,isDashed:ur[Nr]})}for(M(d[0]),o=0;o<t.body.length;++o){var O=t.body[o],F=_,$=N;A<O.length&&(A=O.length);var z=new Array(O.length);for(l=0;l<O.length;++l){var se=buildGroup$1(O[l],n);$<se.depth&&($=se.depth),F<se.height&&(F=se.height),z[l]=se}var ce=t.rowGaps[o],ie=0;ce&&(ie=calculateSize(ce,n),ie>0&&(ie+=N,$<ie&&($=ie),ie=0)),t.addJot&&($+=E),z.height=F,z.depth=$,B+=F,z.pos=B,B+=$+ie,m[o]=z,M(d[o+1])}var pe=B/2+n.fontMetrics().axisHeight,xe=t.cols||[],Ae=[],ue,Y,fe=[];if(t.tags&&t.tags.some(ur=>ur))for(o=0;o<u;++o){var H=m[o],le=H.pos-pe,de=t.tags[o],ye=void 0;de===!0?ye=buildCommon.makeSpan(["eqn-num"],[],n):de===!1?ye=buildCommon.makeSpan([],[],n):ye=buildCommon.makeSpan([],buildExpression$1(de,n,!0),n),ye.depth=H.depth,ye.height=H.height,fe.push({type:"elem",elem:ye,shift:le})}for(l=0,Y=0;l<A||Y<xe.length;++l,++Y){for(var ge=xe[Y]||{},je=!0;ge.type==="separator";){if(je||(ue=buildCommon.makeSpan(["arraycolsep"],[]),ue.style.width=makeEm(n.fontMetrics().doubleRuleSep),Ae.push(ue)),ge.separator==="|"||ge.separator===":"){var Me=ge.separator==="|"?"solid":"dashed",He=buildCommon.makeSpan(["vertical-separator"],[],n);He.style.height=makeEm(B),He.style.borderRightWidth=makeEm(g),He.style.borderRightStyle=Me,He.style.margin="0 "+makeEm(-g/2);var Qe=B-pe;Qe&&(He.style.verticalAlign=makeEm(-Qe)),Ae.push(He)}else throw new ParseError("Invalid separator type: "+ge.separator);Y++,ge=xe[Y]||{},je=!1}if(!(l>=A)){var ze=void 0;(l>0||t.hskipBeforeAndAfter)&&(ze=utils.deflt(ge.pregap,b),ze!==0&&(ue=buildCommon.makeSpan(["arraycolsep"],[]),ue.style.width=makeEm(ze),Ae.push(ue)));var Ve=[];for(o=0;o<u;++o){var tt=m[o],nt=tt[l];if(nt){var Ye=tt.pos-pe;nt.depth=tt.depth,nt.height=tt.height,Ve.push({type:"elem",elem:nt,shift:Ye})}}Ve=buildCommon.makeVList({positionType:"individualShift",children:Ve},n),Ve=buildCommon.makeSpan(["col-align-"+(ge.align||"c")],[Ve]),Ae.push(Ve),(l<A-1||t.hskipBeforeAndAfter)&&(ze=utils.deflt(ge.postgap,b),ze!==0&&(ue=buildCommon.makeSpan(["arraycolsep"],[]),ue.style.width=makeEm(ze),Ae.push(ue)))}}if(m=buildCommon.makeSpan(["mtable"],Ae),f.length>0){for(var ut=buildCommon.makeLineSpan("hline",n,g),mt=buildCommon.makeLineSpan("hdashline",n,g),St=[{type:"elem",elem:m,shift:0}];f.length>0;){var or=f.pop(),Zt=or.pos-pe;or.isDashed?St.push({type:"elem",elem:mt,shift:Zt}):St.push({type:"elem",elem:ut,shift:Zt})}m=buildCommon.makeVList({positionType:"individualShift",children:St},n)}if(fe.length===0)return buildCommon.makeSpan(["mord"],[m],n);var Bt=buildCommon.makeVList({positionType:"individualShift",children:fe},n);return Bt=buildCommon.makeSpan(["tag"],[Bt],n),buildCommon.makeFragment([m,Bt])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function(t,n){for(var o=[],l=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),u=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),d=0;d<t.body.length;d++){for(var A=t.body[d],m=[],f=0;f<A.length;f++)m.push(new mathMLTree.MathNode("mtd",[buildGroup(A[f],n)]));t.tags&&t.tags[d]&&(m.unshift(l),m.push(l),t.leqno?m.unshift(u):m.push(u)),o.push(new mathMLTree.MathNode("mtr",m))}var g=new mathMLTree.MathNode("mtable",o),v=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);g.setAttribute("rowspacing",makeEm(v));var b="",w="";if(t.cols&&t.cols.length>0){var j=t.cols,E="",R=!1,_=0,N=j.length;j[0].type==="separator"&&(b+="top ",_=1),j[j.length-1].type==="separator"&&(b+="bottom ",N-=1);for(var B=_;B<N;B++)j[B].type==="align"?(w+=alignMap[j[B].align],R&&(E+="none "),R=!0):j[B].type==="separator"&&R&&(E+=j[B].separator==="|"?"solid ":"dashed ",R=!1);g.setAttribute("columnalign",w.trim()),/[sd]/.test(E)&&g.setAttribute("columnlines",E.trim())}if(t.colSeparationType==="align"){for(var M=t.cols||[],O="",F=1;F<M.length;F++)O+=F%2?"0em ":"1em ";g.setAttribute("columnspacing",O.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?g.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?g.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?g.setAttribute("columnspacing","0.5em"):g.setAttribute("columnspacing","1em");var $="",z=t.hLinesBeforeRow;b+=z[0].length>0?"left ":"",b+=z[z.length-1].length>0?"right ":"";for(var se=1;se<z.length-1;se++)$+=z[se].length===0?"none ":z[se][0]?"dashed ":"solid ";return/[sd]/.test($)&&g.setAttribute("rowlines",$.trim()),b!==""&&(g=new mathMLTree.MathNode("menclose",[g]),g.setAttribute("notation",b.trim())),t.arraystretch&&t.arraystretch<1&&(g=new mathMLTree.MathNode("mstyle",[g]),g.setAttribute("scriptlevel","1")),g},alignedHandler=function(t,n){t.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(t);var o=[],l=t.envName.indexOf("at")>-1?"alignat":"align",u=t.envName==="split",d=parseArray(t.parser,{cols:o,addJot:!0,autoTag:u?void 0:getAutoTag(t.envName),emptySingleRow:!0,colSeparationType:l,maxNumCols:u?2:void 0,leqno:t.parser.settings.leqno},"display"),A,m=0,f={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var g="",v=0;v<n[0].body.length;v++){var b=assertNodeType(n[0].body[v],"textord");g+=b.text}A=Number(g),m=A*2}var w=!m;d.body.forEach(function(_){for(var N=1;N<_.length;N+=2){var B=assertNodeType(_[N],"styling"),M=assertNodeType(B.body[0],"ordgroup");M.body.unshift(f)}if(w)m<_.length&&(m=_.length);else{var O=_.length/2;if(A<O)throw new ParseError("Too many math in a row: "+("expected "+A+", but got "+O),_[0])}});for(var j=0;j<m;++j){var E="r",R=0;j%2===1?E="l":j>0&&w&&(R=1),o[j]={type:"align",align:E,pregap:R,postgap:0}}return d.colSeparationType=w?"align":"alignat",d};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=checkSymbolNodeType(t[0]),o=n?[t[0]]:assertNodeType(t[0],"ordgroup").body,l=o.map(function(d){var A=assertSymbolNodeType(d),m=A.text;if("lcr".indexOf(m)!==-1)return{type:"align",align:m};if(m==="|")return{type:"separator",separator:"|"};if(m===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+m,d)}),u={cols:l,hskipBeforeAndAfter:!0,maxNumCols:l.length};return parseArray(e.parser,u,dCellStyle(e.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",o={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var l=e.parser;if(l.consumeSpaces(),l.fetch().text==="["){if(l.consume(),l.consumeSpaces(),n=l.fetch().text,"lcr".indexOf(n)===-1)throw new ParseError("Expected l or c or r",l.nextToken);l.consume(),l.consumeSpaces(),l.expect("]"),l.consume(),o.cols=[{type:"align",align:n}]}}var u=parseArray(e.parser,o,dCellStyle(e.envName)),d=Math.max(0,...u.body.map(A=>A.length));return u.cols=new Array(d).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[u],left:t[0],right:t[1],rightColor:void 0}:u},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=parseArray(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=checkSymbolNodeType(t[0]),o=n?[t[0]]:assertNodeType(t[0],"ordgroup").body,l=o.map(function(d){var A=assertSymbolNodeType(d),m=A.text;if("lc".indexOf(m)!==-1)return{type:"align",align:m};throw new ParseError("Unknown column alignment: "+m,d)});if(l.length>1)throw new ParseError("{subarray} can contain only one column");var u={cols:l,hskipBeforeAndAfter:!1,arraystretch:.5};if(u=parseArray(e.parser,u,"script"),u.body.length>0&&u.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return u},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=parseArray(e.parser,t,dCellStyle(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&validateAmsEnvironmentContext(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){validateAmsEnvironmentContext(e);var t={autoTag:getAutoTag(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return parseArray(e.parser,t,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(e){return validateAmsEnvironmentContext(e),parseCD(e.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ParseError(e.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:o}=e,l=t[0];if(l.type!=="ordgroup")throw new ParseError("Invalid environment name",l);for(var u="",d=0;d<l.body.length;++d)u+=assertNodeType(l.body[d],"textord").text;if(o==="\\begin"){if(!environments.hasOwnProperty(u))throw new ParseError("No such environment: "+u,l);var A=environments[u],{args:m,optArgs:f}=n.parseArguments("\\begin{"+u+"}",A),g={mode:n.mode,envName:u,parser:n},v=A.handler(g,m,f);n.expect("\\end",!1);var b=n.nextToken,w=assertNodeType(n.parseFunction(),"environment");if(w.name!==u)throw new ParseError("Mismatch: \\begin{"+u+"} matched by \\end{"+w.name+"}",b);return v}return{type:"environment",mode:n.mode,name:u,nameGroup:l}}});var htmlBuilder$5=(e,t)=>{var n=e.font,o=t.withFont(n);return buildGroup$1(e.body,o)},mathmlBuilder$4=(e,t)=>{var n=e.font,o=t.withFont(n);return buildGroup(e.body,o)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=normalizeArgument(t[0]),u=o;return u in fontAliases&&(u=fontAliases[u]),{type:"font",mode:n.mode,font:u.slice(1),body:l}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,o=t[0],l=utils.isCharacterBox(o);return{type:"mclass",mode:n.mode,mclass:binrelClass(o),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:o}],isCharacterBox:l}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:o,breakOnTokenText:l}=e,{mode:u}=n,d=n.parseExpression(!0,l),A="math"+o.slice(1);return{type:"font",mode:u,font:A,body:{type:"ordgroup",mode:n.mode,body:d}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(e,t)=>{var n=t;return e==="display"?n=n.id>=Style$1.SCRIPT.id?n.text():Style$1.DISPLAY:e==="text"&&n.size===Style$1.DISPLAY.size?n=Style$1.TEXT:e==="script"?n=Style$1.SCRIPT:e==="scriptscript"&&(n=Style$1.SCRIPTSCRIPT),n},htmlBuilder$4=(e,t)=>{var n=adjustStyle(e.size,t.style),o=n.fracNum(),l=n.fracDen(),u;u=t.havingStyle(o);var d=buildGroup$1(e.numer,u,t);if(e.continued){var A=8.5/t.fontMetrics().ptPerEm,m=3.5/t.fontMetrics().ptPerEm;d.height=d.height<A?A:d.height,d.depth=d.depth<m?m:d.depth}u=t.havingStyle(l);var f=buildGroup$1(e.denom,u,t),g,v,b;e.hasBarLine?(e.barSize?(v=calculateSize(e.barSize,t),g=buildCommon.makeLineSpan("frac-line",t,v)):g=buildCommon.makeLineSpan("frac-line",t),v=g.height,b=g.height):(g=null,v=0,b=t.fontMetrics().defaultRuleThickness);var w,j,E;n.size===Style$1.DISPLAY.size||e.size==="display"?(w=t.fontMetrics().num1,v>0?j=3*b:j=7*b,E=t.fontMetrics().denom1):(v>0?(w=t.fontMetrics().num2,j=b):(w=t.fontMetrics().num3,j=3*b),E=t.fontMetrics().denom2);var R;if(g){var N=t.fontMetrics().axisHeight;w-d.depth-(N+.5*v)<j&&(w+=j-(w-d.depth-(N+.5*v))),N-.5*v-(f.height-E)<j&&(E+=j-(N-.5*v-(f.height-E)));var B=-(N-.5*v);R=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:E},{type:"elem",elem:g,shift:B},{type:"elem",elem:d,shift:-w}]},t)}else{var _=w-d.depth-(f.height-E);_<j&&(w+=.5*(j-_),E+=.5*(j-_)),R=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:E},{type:"elem",elem:d,shift:-w}]},t)}u=t.havingStyle(n),R.height*=u.sizeMultiplier/t.sizeMultiplier,R.depth*=u.sizeMultiplier/t.sizeMultiplier;var M;n.size===Style$1.DISPLAY.size?M=t.fontMetrics().delim1:n.size===Style$1.SCRIPTSCRIPT.size?M=t.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:M=t.fontMetrics().delim2;var O,F;return e.leftDelim==null?O=makeNullDelimiter(t,["mopen"]):O=delimiter.customSizedDelim(e.leftDelim,M,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?F=buildCommon.makeSpan([]):e.rightDelim==null?F=makeNullDelimiter(t,["mclose"]):F=delimiter.customSizedDelim(e.rightDelim,M,!0,t.havingStyle(n),e.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(u.sizingClasses(t)),[O,buildCommon.makeSpan(["mfrac"],[R]),F],t)},mathmlBuilder$3=(e,t)=>{var n=new mathMLTree.MathNode("mfrac",[buildGroup(e.numer,t),buildGroup(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var o=calculateSize(e.barSize,t);n.setAttribute("linethickness",makeEm(o))}var l=adjustStyle(e.size,t.style);if(l.size!==t.style.size){n=new mathMLTree.MathNode("mstyle",[n]);var u=l.size===Style$1.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",u),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var d=[];if(e.leftDelim!=null){var A=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.leftDelim.replace("\\",""))]);A.setAttribute("fence","true"),d.push(A)}if(d.push(n),e.rightDelim!=null){var m=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.rightDelim.replace("\\",""))]);m.setAttribute("fence","true"),d.push(m)}return makeRow(d)}return n};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=t[0],u=t[1],d,A=null,m=null,f="auto";switch(o){case"\\dfrac":case"\\frac":case"\\tfrac":d=!0;break;case"\\\\atopfrac":d=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":d=!1,A="(",m=")";break;case"\\\\bracefrac":d=!1,A="\\{",m="\\}";break;case"\\\\brackfrac":d=!1,A="[",m="]";break;default:throw new Error("Unrecognized genfrac command")}switch(o){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:l,denom:u,hasBarLine:d,leftDelim:A,rightDelim:m,size:f,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=t[0],u=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:l,denom:u,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:o}=e,l;switch(n){case"\\over":l="\\frac";break;case"\\choose":l="\\binom";break;case"\\atop":l="\\\\atopfrac";break;case"\\brace":l="\\\\bracefrac";break;case"\\brack":l="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:l,token:o}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,o=t[4],l=t[5],u=normalizeArgument(t[0]),d=u.type==="atom"&&u.family==="open"?delimFromValue(u.text):null,A=normalizeArgument(t[1]),m=A.type==="atom"&&A.family==="close"?delimFromValue(A.text):null,f=assertNodeType(t[2],"size"),g,v=null;f.isBlank?g=!0:(v=f.value,g=v.number>0);var b="auto",w=t[3];if(w.type==="ordgroup"){if(w.body.length>0){var j=assertNodeType(w.body[0],"textord");b=stylArray[Number(j.text)]}}else w=assertNodeType(w,"textord"),b=stylArray[Number(w.text)];return{type:"genfrac",mode:n.mode,numer:o,denom:l,continued:!1,hasBarLine:g,barSize:v,leftDelim:d,rightDelim:m,size:b}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:o,token:l}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(t[0],"size").value,token:l}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=t[0],u=assert(assertNodeType(t[1],"infix").size),d=t[2],A=u.number>0;return{type:"genfrac",mode:n.mode,numer:l,denom:d,continued:!1,hasBarLine:A,barSize:u,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(e,t)=>{var n=t.style,o,l;e.type==="supsub"?(o=e.sup?buildGroup$1(e.sup,t.havingStyle(n.sup()),t):buildGroup$1(e.sub,t.havingStyle(n.sub()),t),l=assertNodeType(e.base,"horizBrace")):l=assertNodeType(e,"horizBrace");var u=buildGroup$1(l.base,t.havingBaseStyle(Style$1.DISPLAY)),d=stretchy.svgSpan(l,t),A;if(l.isOver?(A=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.1},{type:"elem",elem:d}]},t),A.children[0].children[0].children[1].classes.push("svg-align")):(A=buildCommon.makeVList({positionType:"bottom",positionData:u.depth+.1+d.height,children:[{type:"elem",elem:d},{type:"kern",size:.1},{type:"elem",elem:u}]},t),A.children[0].children[0].children[0].classes.push("svg-align")),o){var m=buildCommon.makeSpan(["mord",l.isOver?"mover":"munder"],[A],t);l.isOver?A=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:.2},{type:"elem",elem:o}]},t):A=buildCommon.makeVList({positionType:"bottom",positionData:m.depth+.2+o.height+o.depth,children:[{type:"elem",elem:o},{type:"kern",size:.2},{type:"elem",elem:m}]},t)}return buildCommon.makeSpan(["mord",l.isOver?"mover":"munder"],[A],t)},mathmlBuilder$2=(e,t)=>{var n=stretchy.mathMLnode(e.label);return new mathMLTree.MathNode(e.isOver?"mover":"munder",[buildGroup(e.base,t),n])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:o}=e;return{type:"horizBrace",mode:n.mode,label:o,isOver:/^\\over/.test(o),base:t[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,o=t[1],l=assertNodeType(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:l})?{type:"href",mode:n.mode,href:l,body:ordargument(o)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t,!1);return buildCommon.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=buildExpressionRow(e.body,t);return n instanceof MathNode||(n=new MathNode("mrow",[n])),n.setAttribute("href",e.href),n}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,o=assertNodeType(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:o}))return n.formatUnsupportedCmd("\\url");for(var l=[],u=0;u<o.length;u++){var d=o[u];d==="~"&&(d="\\textasciitilde"),l.push({type:"textord",mode:"text",text:d})}var A={type:"text",mode:n.mode,font:"\\texttt",body:l};return{type:"href",mode:n.mode,href:o,body:ordargument(A)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ordargument(t[0])}},htmlBuilder(e,t){var n=buildExpression$1(e.body,t,!1);return buildCommon.makeFragment(n)},mathmlBuilder(e,t){return new mathMLTree.MathNode("mrow",buildExpression(e.body,t))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:o,token:l}=e,u=assertNodeType(t[0],"raw").string,d=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var A,m={};switch(o){case"\\htmlClass":m.class=u,A={command:"\\htmlClass",class:u};break;case"\\htmlId":m.id=u,A={command:"\\htmlId",id:u};break;case"\\htmlStyle":m.style=u,A={command:"\\htmlStyle",style:u};break;case"\\htmlData":{for(var f=u.split(","),g=0;g<f.length;g++){var v=f[g],b=v.indexOf("=");if(b<0)throw new ParseError("\\htmlData key/value '"+v+"' missing equals sign");var w=v.slice(0,b),j=v.slice(b+1);m["data-"+w.trim()]=j}A={command:"\\htmlData",attributes:m};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(A)?{type:"html",mode:n.mode,attributes:m,body:ordargument(d)}:n.formatUnsupportedCmd(o)},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t,!1),o=["enclosing"];e.attributes.class&&o.push(...e.attributes.class.trim().split(/\s+/));var l=buildCommon.makeSpan(o,n,t);for(var u in e.attributes)u!=="class"&&e.attributes.hasOwnProperty(u)&&l.setAttribute(u,e.attributes[u]);return l},mathmlBuilder:(e,t)=>buildExpressionRow(e.body,t)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ordargument(t[0]),mathml:ordargument(t[1])}},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.html,t,!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>buildExpressionRow(e.mathml,t)});var sizeData=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ParseError("Invalid size: '"+t+"' in \\includegraphics");var o={number:+(n[1]+n[2]),unit:n[3]};if(!validUnit(o))throw new ParseError("Invalid unit: '"+o.unit+"' in \\includegraphics.");return o};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:o}=e,l={number:0,unit:"em"},u={number:.9,unit:"em"},d={number:0,unit:"em"},A="";if(n[0])for(var m=assertNodeType(n[0],"raw").string,f=m.split(","),g=0;g<f.length;g++){var v=f[g].split("=");if(v.length===2){var b=v[1].trim();switch(v[0].trim()){case"alt":A=b;break;case"width":l=sizeData(b);break;case"height":u=sizeData(b);break;case"totalheight":d=sizeData(b);break;default:throw new ParseError("Invalid key: '"+v[0]+"' in \\includegraphics.")}}}var w=assertNodeType(t[0],"url").url;return A===""&&(A=w,A=A.replace(/^.*[\\/]/,""),A=A.substring(0,A.lastIndexOf("."))),o.settings.isTrusted({command:"\\includegraphics",url:w})?{type:"includegraphics",mode:o.mode,alt:A,width:l,height:u,totalheight:d,src:w}:o.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=calculateSize(e.height,t),o=0;e.totalheight.number>0&&(o=calculateSize(e.totalheight,t)-n);var l=0;e.width.number>0&&(l=calculateSize(e.width,t));var u={height:makeEm(n+o)};l>0&&(u.width=makeEm(l)),o>0&&(u.verticalAlign=makeEm(-o));var d=new Img(e.src,e.alt,u);return d.height=n,d.depth=o,d},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var o=calculateSize(e.height,t),l=0;if(e.totalheight.number>0&&(l=calculateSize(e.totalheight,t)-o,n.setAttribute("valign",makeEm(-l))),n.setAttribute("height",makeEm(o+l)),e.width.number>0){var u=calculateSize(e.width,t);n.setAttribute("width",makeEm(u))}return n.setAttribute("src",e.src),n}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:o}=e,l=assertNodeType(t[0],"size");if(n.settings.strict){var u=o[1]==="m",d=l.value.unit==="mu";u?(d||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+o+" supports only mu units, "+("not "+l.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+o+" works only in math mode")):d&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+o+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:l.value}},htmlBuilder(e,t){return buildCommon.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=calculateSize(e.dimension,t);return new mathMLTree.SpaceNode(n)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=t[0];return{type:"lap",mode:n.mode,alignment:o.slice(5),body:l}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]),n=buildCommon.makeSpan(["inner"],[n],t)):n=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t)]);var o=buildCommon.makeSpan(["fix"],[]),l=buildCommon.makeSpan([e.alignment],[n,o],t),u=buildCommon.makeSpan(["strut"]);return u.style.height=makeEm(l.height+l.depth),l.depth&&(u.style.verticalAlign=makeEm(-l.depth)),l.children.unshift(u),l=buildCommon.makeSpan(["thinbox"],[l],t),buildCommon.makeSpan(["mord","vbox"],[l],t)},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);if(e.alignment!=="rlap"){var o=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",o+"width")}return n.setAttribute("width","0px"),n}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:o}=e,l=o.mode;o.switchMode("math");var u=n==="\\("?"\\)":"$",d=o.parseExpression(!1,u);return o.expect(u),o.switchMode(l),{type:"styling",mode:o.mode,style:"text",body:d}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ParseError("Mismatched "+e.funcName)}});var chooseMathStyle=(e,t)=>{switch(t.style.size){case Style$1.DISPLAY.size:return e.display;case Style$1.TEXT.size:return e.text;case Style$1.SCRIPT.size:return e.script;case Style$1.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ordargument(t[0]),text:ordargument(t[1]),script:ordargument(t[2]),scriptscript:ordargument(t[3])}},htmlBuilder:(e,t)=>{var n=chooseMathStyle(e,t),o=buildExpression$1(n,t,!1);return buildCommon.makeFragment(o)},mathmlBuilder:(e,t)=>{var n=chooseMathStyle(e,t);return buildExpressionRow(n,t)}});var assembleSupSub=(e,t,n,o,l,u,d)=>{e=buildCommon.makeSpan([],[e]);var A=n&&utils.isCharacterBox(n),m,f;if(t){var g=buildGroup$1(t,o.havingStyle(l.sup()),o);f={elem:g,kern:Math.max(o.fontMetrics().bigOpSpacing1,o.fontMetrics().bigOpSpacing3-g.depth)}}if(n){var v=buildGroup$1(n,o.havingStyle(l.sub()),o);m={elem:v,kern:Math.max(o.fontMetrics().bigOpSpacing2,o.fontMetrics().bigOpSpacing4-v.height)}}var b;if(f&&m){var w=o.fontMetrics().bigOpSpacing5+m.elem.height+m.elem.depth+m.kern+e.depth+d;b=buildCommon.makeVList({positionType:"bottom",positionData:w,children:[{type:"kern",size:o.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:makeEm(-u)},{type:"kern",size:m.kern},{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:makeEm(u)},{type:"kern",size:o.fontMetrics().bigOpSpacing5}]},o)}else if(m){var j=e.height-d;b=buildCommon.makeVList({positionType:"top",positionData:j,children:[{type:"kern",size:o.fontMetrics().bigOpSpacing5},{type:"elem",elem:m.elem,marginLeft:makeEm(-u)},{type:"kern",size:m.kern},{type:"elem",elem:e}]},o)}else if(f){var E=e.depth+d;b=buildCommon.makeVList({positionType:"bottom",positionData:E,children:[{type:"elem",elem:e},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:makeEm(u)},{type:"kern",size:o.fontMetrics().bigOpSpacing5}]},o)}else return e;var R=[b];if(m&&u!==0&&!A){var _=buildCommon.makeSpan(["mspace"],[],o);_.style.marginRight=makeEm(u),R.unshift(_)}return buildCommon.makeSpan(["mop","op-limits"],R,o)},noSuccessor=["\\smallint"],htmlBuilder$2=(e,t)=>{var n,o,l=!1,u;e.type==="supsub"?(n=e.sup,o=e.sub,u=assertNodeType(e.base,"op"),l=!0):u=assertNodeType(e,"op");var d=t.style,A=!1;d.size===Style$1.DISPLAY.size&&u.symbol&&!noSuccessor.includes(u.name)&&(A=!0);var m;if(u.symbol){var f=A?"Size2-Regular":"Size1-Regular",g="";if((u.name==="\\oiint"||u.name==="\\oiiint")&&(g=u.name.slice(1),u.name=g==="oiint"?"\\iint":"\\iiint"),m=buildCommon.makeSymbol(u.name,f,"math",t,["mop","op-symbol",A?"large-op":"small-op"]),g.length>0){var v=m.italic,b=buildCommon.staticSvg(g+"Size"+(A?"2":"1"),t);m=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:0},{type:"elem",elem:b,shift:A?.08:0}]},t),u.name="\\"+g,m.classes.unshift("mop"),m.italic=v}}else if(u.body){var w=buildExpression$1(u.body,t,!0);w.length===1&&w[0]instanceof SymbolNode?(m=w[0],m.classes[0]="mop"):m=buildCommon.makeSpan(["mop"],w,t)}else{for(var j=[],E=1;E<u.name.length;E++)j.push(buildCommon.mathsym(u.name[E],u.mode,t));m=buildCommon.makeSpan(["mop"],j,t)}var R=0,_=0;return(m instanceof SymbolNode||u.name==="\\oiint"||u.name==="\\oiiint")&&!u.suppressBaseShift&&(R=(m.height-m.depth)/2-t.fontMetrics().axisHeight,_=m.italic),l?assembleSupSub(m,n,o,t,d,_,R):(R&&(m.style.position="relative",m.style.top=makeEm(R)),m)},mathmlBuilder$1=(e,t)=>{var n;if(e.symbol)n=new MathNode("mo",[makeText(e.name,e.mode)]),noSuccessor.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new MathNode("mo",buildExpression(e.body,t));else{n=new MathNode("mi",[new TextNode(e.name.slice(1))]);var o=new MathNode("mo",[makeText("â¡","text")]);e.parentIsSupSub?n=new MathNode("mrow",[n,o]):n=newDocumentFragment([n,o])}return n},singleCharBigOps={"âˆ":"\\prod","âˆ":"\\coprod","âˆ‘":"\\sum","â‹€":"\\bigwedge","â‹":"\\bigvee","â‹‚":"\\bigcap","â‹ƒ":"\\bigcup","â¨€":"\\bigodot","â¨":"\\bigoplus","â¨‚":"\\bigotimes","â¨„":"\\biguplus","â¨†":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","âˆ","âˆ","âˆ‘","â‹€","â‹","â‹‚","â‹ƒ","â¨€","â¨","â¨‚","â¨„","â¨†"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=o;return l.length===1&&(l=singleCharBigOps[l]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:l}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,o=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(o)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"âˆ«":"\\int","âˆ¬":"\\iint","âˆ­":"\\iiint","âˆ®":"\\oint","âˆ¯":"\\oiint","âˆ°":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","âˆ«","âˆ¬","âˆ­","âˆ®","âˆ¯","âˆ°"],props:{numArgs:0,allowedInArgument:!0},handler(e){var{parser:t,funcName:n}=e,o=n;return o.length===1&&(o=singleCharIntegrals[o]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(e,t)=>{var n,o,l=!1,u;e.type==="supsub"?(n=e.sup,o=e.sub,u=assertNodeType(e.base,"operatorname"),l=!0):u=assertNodeType(e,"operatorname");var d;if(u.body.length>0){for(var A=u.body.map(v=>{var b=v.text;return typeof b=="string"?{type:"textord",mode:v.mode,text:b}:v}),m=buildExpression$1(A,t.withFont("mathrm"),!0),f=0;f<m.length;f++){var g=m[f];g instanceof SymbolNode&&(g.text=g.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}d=buildCommon.makeSpan(["mop"],m,t)}else d=buildCommon.makeSpan(["mop"],[],t);return l?assembleSupSub(d,n,o,t,t.style,0,0):d},mathmlBuilder=(e,t)=>{for(var n=buildExpression(e.body,t.withFont("mathrm")),o=!0,l=0;l<n.length;l++){var u=n[l];if(!(u instanceof mathMLTree.SpaceNode))if(u instanceof mathMLTree.MathNode)switch(u.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var d=u.children[0];u.children.length===1&&d instanceof mathMLTree.TextNode?d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):o=!1;break}default:o=!1}else o=!1}if(o){var A=n.map(g=>g.toText()).join("");n=[new mathMLTree.TextNode(A)]}var m=new mathMLTree.MathNode("mi",n);m.setAttribute("mathvariant","normal");var f=new mathMLTree.MathNode("mo",[makeText("â¡","text")]);return e.parentIsSupSub?new mathMLTree.MathNode("mrow",[m,f]):mathMLTree.newDocumentFragment([m,f])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:o}=e,l=t[0];return{type:"operatorname",mode:n.mode,body:ordargument(l),alwaysHandleSupSub:o==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?buildCommon.makeFragment(buildExpression$1(e.body,t,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(e.body,t,!0),t)},mathmlBuilder(e,t){return buildExpressionRow(e.body,t,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,o=t[0];return{type:"overline",mode:n.mode,body:o}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t.havingCrampedStyle()),o=buildCommon.makeLineSpan("overline-line",t),l=t.fontMetrics().defaultRuleThickness,u=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*l},{type:"elem",elem:o},{type:"kern",size:l}]},t);return buildCommon.makeSpan(["mord","overline"],[u],t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("â€¾")]);n.setAttribute("stretchy","true");var o=new mathMLTree.MathNode("mover",[buildGroup(e.body,t),n]);return o.setAttribute("accent","true"),o}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,o=t[0];return{type:"phantom",mode:n.mode,body:ordargument(o)}},htmlBuilder:(e,t)=>{var n=buildExpression$1(e.body,t.withPhantom(),!1);return buildCommon.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=buildExpression(e.body,t);return new mathMLTree.MathNode("mphantom",n)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,o=t[0];return{type:"hphantom",mode:n.mode,body:o}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan([],[buildGroup$1(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var o=0;o<n.children.length;o++)n.children[o].height=0,n.children[o].depth=0;return n=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),buildCommon.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=buildExpression(ordargument(e.body),t),o=new mathMLTree.MathNode("mphantom",n),l=new mathMLTree.MathNode("mpadded",[o]);return l.setAttribute("height","0px"),l.setAttribute("depth","0px"),l}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,o=t[0];return{type:"vphantom",mode:n.mode,body:o}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,t.withPhantom())]),o=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[n,o],t)},mathmlBuilder:(e,t)=>{var n=buildExpression(ordargument(e.body),t),o=new mathMLTree.MathNode("mphantom",n),l=new mathMLTree.MathNode("mpadded",[o]);return l.setAttribute("width","0px"),l}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,o=assertNodeType(t[0],"size").value,l=t[1];return{type:"raisebox",mode:n.mode,dy:o,body:l}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),o=calculateSize(e.dy,t);return buildCommon.makeVList({positionType:"shift",positionData:-o,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]),o=e.dy.number+e.dy.unit;return n.setAttribute("voffset",o),n}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:o}=e,l=n[0],u=assertNodeType(t[0],"size"),d=assertNodeType(t[1],"size");return{type:"rule",mode:o.mode,shift:l&&assertNodeType(l,"size").value,width:u.value,height:d.value}},htmlBuilder(e,t){var n=buildCommon.makeSpan(["mord","rule"],[],t),o=calculateSize(e.width,t),l=calculateSize(e.height,t),u=e.shift?calculateSize(e.shift,t):0;return n.style.borderRightWidth=makeEm(o),n.style.borderTopWidth=makeEm(l),n.style.bottom=makeEm(u),n.width=o,n.height=l+u,n.depth=-u,n.maxFontSize=l*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=calculateSize(e.width,t),o=calculateSize(e.height,t),l=e.shift?calculateSize(e.shift,t):0,u=t.color&&t.getColor()||"black",d=new mathMLTree.MathNode("mspace");d.setAttribute("mathbackground",u),d.setAttribute("width",makeEm(n)),d.setAttribute("height",makeEm(o));var A=new mathMLTree.MathNode("mpadded",[d]);return l>=0?A.setAttribute("height",makeEm(l)):(A.setAttribute("height",makeEm(l)),A.setAttribute("depth",makeEm(-l))),A.setAttribute("voffset",makeEm(l)),A}});function sizingGroup(e,t,n){for(var o=buildExpression$1(e,t,!1),l=t.sizeMultiplier/n.sizeMultiplier,u=0;u<o.length;u++){var d=o[u].classes.indexOf("sizing");d<0?Array.prototype.push.apply(o[u].classes,t.sizingClasses(n)):o[u].classes[d+1]==="reset-size"+t.size&&(o[u].classes[d+1]="reset-size"+n.size),o[u].height*=l,o[u].depth*=l}return buildCommon.makeFragment(o)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(e,t)=>{var n=t.havingSize(e.size);return sizingGroup(e.body,n,t)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:o,parser:l}=e,u=l.parseExpression(!1,n);return{type:"sizing",mode:l.mode,size:sizeFuncs.indexOf(o)+1,body:u}},htmlBuilder,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),o=buildExpression(e.body,n),l=new mathMLTree.MathNode("mstyle",o);return l.setAttribute("mathsize",makeEm(n.sizeMultiplier)),l}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:o}=e,l=!1,u=!1,d=n[0]&&assertNodeType(n[0],"ordgroup");if(d)for(var A="",m=0;m<d.body.length;++m){var f=d.body[m];if(A=f.text,A==="t")l=!0;else if(A==="b")u=!0;else{l=!1,u=!1;break}}else l=!0,u=!0;var g=t[0];return{type:"smash",mode:o.mode,body:g,smashHeight:l,smashDepth:u}},htmlBuilder:(e,t)=>{var n=buildCommon.makeSpan([],[buildGroup$1(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var l=0;l<n.children.length;l++)n.children[l].depth=0;var u=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord"],[u],t)},mathmlBuilder:(e,t)=>{var n=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:o}=e,l=n[0],u=t[0];return{type:"sqrt",mode:o.mode,body:u,index:l}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=buildCommon.wrapFragment(n,t);var o=t.fontMetrics(),l=o.defaultRuleThickness,u=l;t.style.id<Style$1.TEXT.id&&(u=t.fontMetrics().xHeight);var d=l+u/4,A=n.height+n.depth+d+l,{span:m,ruleWidth:f,advanceWidth:g}=delimiter.sqrtImage(A,t),v=m.height-f;v>n.height+n.depth+d&&(d=(d+v-n.height-n.depth)/2);var b=m.height-n.height-d-f;n.style.paddingLeft=makeEm(g);var w=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+b)},{type:"elem",elem:m},{type:"kern",size:f}]},t);if(e.index){var j=t.havingStyle(Style$1.SCRIPTSCRIPT),E=buildGroup$1(e.index,j,t),R=.6*(w.height-w.depth),_=buildCommon.makeVList({positionType:"shift",positionData:-R,children:[{type:"elem",elem:E}]},t),N=buildCommon.makeSpan(["root"],[_]);return buildCommon.makeSpan(["mord","sqrt"],[N,w],t)}else return buildCommon.makeSpan(["mord","sqrt"],[w],t)},mathmlBuilder(e,t){var{body:n,index:o}=e;return o?new mathMLTree.MathNode("mroot",[buildGroup(n,t),buildGroup(o,t)]):new mathMLTree.MathNode("msqrt",[buildGroup(n,t)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:o,parser:l}=e,u=l.parseExpression(!0,n),d=o.slice(1,o.length-5);return{type:"styling",mode:l.mode,style:d,body:u}},htmlBuilder(e,t){var n=styleMap[e.style],o=t.havingStyle(n).withFont("");return sizingGroup(e.body,o,t)},mathmlBuilder(e,t){var n=styleMap[e.style],o=t.havingStyle(n),l=buildExpression(e.body,o),u=new mathMLTree.MathNode("mstyle",l),d={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},A=d[e.style];return u.setAttribute("scriptlevel",A[0]),u.setAttribute("displaystyle",A[1]),u}});var htmlBuilderDelegate=function(t,n){var o=t.base;if(o)if(o.type==="op"){var l=o.limits&&(n.style.size===Style$1.DISPLAY.size||o.alwaysHandleSupSub);return l?htmlBuilder$2:null}else if(o.type==="operatorname"){var u=o.alwaysHandleSupSub&&(n.style.size===Style$1.DISPLAY.size||o.limits);return u?htmlBuilder$1:null}else{if(o.type==="accent")return utils.isCharacterBox(o.base)?htmlBuilder$a:null;if(o.type==="horizBrace"){var d=!t.sub;return d===o.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(e,t){var n=htmlBuilderDelegate(e,t);if(n)return n(e,t);var{base:o,sup:l,sub:u}=e,d=buildGroup$1(o,t),A,m,f=t.fontMetrics(),g=0,v=0,b=o&&utils.isCharacterBox(o);if(l){var w=t.havingStyle(t.style.sup());A=buildGroup$1(l,w,t),b||(g=d.height-w.fontMetrics().supDrop*w.sizeMultiplier/t.sizeMultiplier)}if(u){var j=t.havingStyle(t.style.sub());m=buildGroup$1(u,j,t),b||(v=d.depth+j.fontMetrics().subDrop*j.sizeMultiplier/t.sizeMultiplier)}var E;t.style===Style$1.DISPLAY?E=f.sup1:t.style.cramped?E=f.sup3:E=f.sup2;var R=t.sizeMultiplier,_=makeEm(.5/f.ptPerEm/R),N=null;if(m){var B=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(d instanceof SymbolNode||B)&&(N=makeEm(-d.italic))}var M;if(A&&m){g=Math.max(g,E,A.depth+.25*f.xHeight),v=Math.max(v,f.sub2);var O=f.defaultRuleThickness,F=4*O;if(g-A.depth-(m.height-v)<F){v=F-(g-A.depth)+m.height;var $=.8*f.xHeight-(g-A.depth);$>0&&(g+=$,v-=$)}var z=[{type:"elem",elem:m,shift:v,marginRight:_,marginLeft:N},{type:"elem",elem:A,shift:-g,marginRight:_}];M=buildCommon.makeVList({positionType:"individualShift",children:z},t)}else if(m){v=Math.max(v,f.sub1,m.height-.8*f.xHeight);var se=[{type:"elem",elem:m,marginLeft:N,marginRight:_}];M=buildCommon.makeVList({positionType:"shift",positionData:v,children:se},t)}else if(A)g=Math.max(g,E,A.depth+.25*f.xHeight),M=buildCommon.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:A,marginRight:_}]},t);else throw new Error("supsub must have either sup or sub.");var ce=getTypeOfDomTree(d,"right")||"mord";return buildCommon.makeSpan([ce],[d,buildCommon.makeSpan(["msupsub"],[M])],t)},mathmlBuilder(e,t){var n=!1,o,l;e.base&&e.base.type==="horizBrace"&&(l=!!e.sup,l===e.base.isOver&&(n=!0,o=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var u=[buildGroup(e.base,t)];e.sub&&u.push(buildGroup(e.sub,t)),e.sup&&u.push(buildGroup(e.sup,t));var d;if(n)d=o?"mover":"munder";else if(e.sub)if(e.sup){var f=e.base;f&&f.type==="op"&&f.limits&&t.style===Style$1.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(t.style===Style$1.DISPLAY||f.limits)?d="munderover":d="msubsup"}else{var m=e.base;m&&m.type==="op"&&m.limits&&(t.style===Style$1.DISPLAY||m.alwaysHandleSupSub)||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(m.limits||t.style===Style$1.DISPLAY)?d="munder":d="msub"}else{var A=e.base;A&&A.type==="op"&&A.limits&&(t.style===Style$1.DISPLAY||A.alwaysHandleSupSub)||A&&A.type==="operatorname"&&A.alwaysHandleSupSub&&(A.limits||t.style===Style$1.DISPLAY)?d="mover":d="msup"}return new mathMLTree.MathNode(d,u)}});defineFunctionBuilders({type:"atom",htmlBuilder(e,t){return buildCommon.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[makeText(e.text,e.mode)]);if(e.family==="bin"){var o=getVariant(e,t);o==="bold-italic"&&n.setAttribute("mathvariant",o)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(e,t){return buildCommon.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mi",[makeText(e.text,e.mode,t)]),o=getVariant(e,t)||"italic";return o!==defaultVariant[n.type]&&n.setAttribute("mathvariant",o),n}});defineFunctionBuilders({type:"textord",htmlBuilder(e,t){return buildCommon.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=makeText(e.text,e.mode,t),o=getVariant(e,t)||"normal",l;return e.mode==="text"?l=new mathMLTree.MathNode("mtext",[n]):/[0-9]/.test(e.text)?l=new mathMLTree.MathNode("mn",[n]):e.text==="\\prime"?l=new mathMLTree.MathNode("mo",[n]):l=new mathMLTree.MathNode("mi",[n]),o!==defaultVariant[l.type]&&l.setAttribute("mathvariant",o),l}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(e,t){if(regularSpace.hasOwnProperty(e.text)){var n=regularSpace[e.text].className||"";if(e.mode==="text"){var o=buildCommon.makeOrd(e,t,"textord");return o.classes.push(n),o}else return buildCommon.makeSpan(["mspace",n],[buildCommon.mathsym(e.text,e.mode,t)],t)}else{if(cssSpace.hasOwnProperty(e.text))return buildCommon.makeSpan(["mspace",cssSpace[e.text]],[],t);throw new ParseError('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(regularSpace.hasOwnProperty(e.text))n=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("Â ")]);else{if(cssSpace.hasOwnProperty(e.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+e.text+'"')}return n}});var pad=()=>{var e=new mathMLTree.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};defineFunctionBuilders({type:"tag",mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.body,t)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(e,t)=>{var n=e.font;if(n){if(textFontFamilies[n])return t.withTextFontFamily(textFontFamilies[n]);if(textFontWeights[n])return t.withTextFontWeight(textFontWeights[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(textFontShapes[n])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:o}=e,l=t[0];return{type:"text",mode:n.mode,body:ordargument(l),font:o}},htmlBuilder(e,t){var n=optionsWithFont(e,t),o=buildExpression$1(e.body,n,!0);return buildCommon.makeSpan(["mord","text"],o,n)},mathmlBuilder(e,t){var n=optionsWithFont(e,t);return buildExpressionRow(e.body,n)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),o=buildCommon.makeLineSpan("underline-line",t),l=t.fontMetrics().defaultRuleThickness,u=buildCommon.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:l},{type:"elem",elem:o},{type:"kern",size:3*l},{type:"elem",elem:n}]},t);return buildCommon.makeSpan(["mord","underline"],[u],t)},mathmlBuilder(e,t){var n=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("â€¾")]);n.setAttribute("stretchy","true");var o=new mathMLTree.MathNode("munder",[buildGroup(e.body,t),n]);return o.setAttribute("accentunder","true"),o}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=buildGroup$1(e.body,t),o=t.fontMetrics().axisHeight,l=.5*(n.height-o-(n.depth+o));return buildCommon.makeVList({positionType:"shift",positionData:l,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new mathMLTree.MathNode("mpadded",[buildGroup(e.body,t)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=makeVerb(e),o=[],l=t.havingStyle(t.style.text()),u=0;u<n.length;u++){var d=n[u];d==="~"&&(d="\\textasciitilde"),o.push(buildCommon.makeSymbol(d,"Typewriter-Regular",e.mode,l,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(l.sizingClasses(t)),buildCommon.tryCombineChars(o),l)},mathmlBuilder(e,t){var n=new mathMLTree.TextNode(makeVerb(e)),o=new mathMLTree.MathNode("mtext",[n]);return o.setAttribute("mathvariant","monospace"),o}});var makeVerb=e=>e.body.replace(/ /g,e.star?"â£":"Â "),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[Ì€-Í¯]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]-â€§â€ª-íŸ¿ï¤€-ï¿¿]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Token("EOF",new SourceLocation(this,n,n));var o=this.tokenRegex.exec(t);if(o===null||o.index!==n)throw new ParseError("Unexpected character: '"+t[n]+"'",new Token(t[n],new SourceLocation(this,n,n+1)));var l=o[6]||o[3]||(o[2]?"\\ ":" ");if(this.catcodes[l]===14){var u=t.indexOf(`
`,this.tokenRegex.lastIndex);return u===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=u+1,this.lex()}return new Token(l,new SourceLocation(this,n,this.tokenRegex.lastIndex))}}class Namespace{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,o){if(o===void 0&&(o=!1),o){for(var l=0;l<this.undefStack.length;l++)delete this.undefStack[l][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var u=this.undefStack[this.undefStack.length-1];u&&!u.hasOwnProperty(t)&&(u[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var macros=_macros;defineMacro("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});defineMacro("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});defineMacro("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});defineMacro("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});defineMacro("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(e){var t=e.popToken(),n,o="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")o=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ParseError("\\char` missing argument");o=t.text.charCodeAt(0)}else n=10;if(n){if(o=digitToNumber[t.text],o==null||o>=n)throw new ParseError("Invalid base-"+n+" digit "+t.text);for(var l;(l=digitToNumber[e.future().text])!=null&&l<n;)o*=n,o+=l,e.popToken()}return"\\@char{"+o+"}"});var newcommand=(e,t,n,o)=>{var l=e.consumeArg().tokens;if(l.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var u=l[0].text,d=e.isDefined(u);if(d&&!t)throw new ParseError("\\newcommand{"+u+"} attempting to redefine "+(u+"; use \\renewcommand"));if(!d&&!n)throw new ParseError("\\renewcommand{"+u+"} when command "+u+" does not yet exist; use \\newcommand");var A=0;if(l=e.consumeArg().tokens,l.length===1&&l[0].text==="["){for(var m="",f=e.expandNextToken();f.text!=="]"&&f.text!=="EOF";)m+=f.text,f=e.expandNextToken();if(!m.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+m);A=parseInt(m),l=e.consumeArg().tokens}return d&&o||e.macros.set(u,{tokens:l,numArgs:A}),""};defineMacro("\\newcommand",e=>newcommand(e,!1,!0,!1));defineMacro("\\renewcommand",e=>newcommand(e,!0,!1,!1));defineMacro("\\providecommand",e=>newcommand(e,!0,!0,!0));defineMacro("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});defineMacro("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});defineMacro("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),functions[n],symbols.math[n],symbols.text[n]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`Â©}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`Â®}");defineMacro("â„¬","\\mathscr{B}");defineMacro("â„°","\\mathscr{E}");defineMacro("â„±","\\mathscr{F}");defineMacro("â„‹","\\mathscr{H}");defineMacro("â„","\\mathscr{I}");defineMacro("â„’","\\mathscr{L}");defineMacro("â„³","\\mathscr{M}");defineMacro("â„›","\\mathscr{R}");defineMacro("â„­","\\mathfrak{C}");defineMacro("â„Œ","\\mathfrak{H}");defineMacro("â„¨","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("Â·","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`â‰ }}");defineMacro("\\ne","\\neq");defineMacro("â‰ ","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`âˆ‰}}");defineMacro("âˆ‰","\\notin");defineMacro("â‰˜","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`â‰˜}}");defineMacro("â‰™","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`â‰˜}}");defineMacro("â‰š","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`â‰š}}");defineMacro("â‰›","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`â‰›}}");defineMacro("â‰","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`â‰}}");defineMacro("â‰ž","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`â‰ž}}");defineMacro("â‰Ÿ","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`â‰Ÿ}}");defineMacro("âŸ‚","\\perp");defineMacro("â€¼","\\mathclose{!\\mkern-0.8mu!}");defineMacro("âˆŒ","\\notni");defineMacro("âŒœ","\\ulcorner");defineMacro("âŒ","\\urcorner");defineMacro("âŒž","\\llcorner");defineMacro("âŒŸ","\\lrcorner");defineMacro("Â©","\\copyright");defineMacro("Â®","\\textregistered");defineMacro("ï¸","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("â‹®","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in dotsByToken?t=dotsByToken[n]:(n.slice(0,4)==="\\not"||n in symbols.math&&["bin","rel"].includes(symbols.math[n].group))&&(t="\\dotsb"),t});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(e){var t=e.future().text;return t in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(e){var t=e.future().text;return t in spaceAfterDots&&t!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(e){var t=e.future().text;return t in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("âˆ·","\\dblcolon");defineMacro("âˆ¹","\\eqcolon");defineMacro("â‰”","\\coloneqq");defineMacro("â‰•","\\eqqcolon");defineMacro("â©´","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`âˆŒ}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{â‰©}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{â‰¨}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{â‰±}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{â‰±}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{â‰°}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{â‰°}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{âˆ¤}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{âˆ¦}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{âŠˆ}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{âŠ‰}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{âŠŠ}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{â«‹}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{âŠ‹}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{â«Œ}");defineMacro("\\imath","\\html@mathml{\\@imath}{Ä±}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{È·}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`âŸ¦}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`âŸ§}}");defineMacro("âŸ¦","\\llbracket");defineMacro("âŸ§","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`â¦ƒ}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`â¦„}}");defineMacro("â¦ƒ","\\lBrace");defineMacro("â¦„","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`â¦µ}}");defineMacro("â¦µ","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=e=>t=>{var n=t.consumeArg().tokens,o=t.consumeArg().tokens,l=t.consumeArg().tokens,u=t.consumeArg().tokens,d=t.macros.get("|"),A=t.macros.get("\\|");t.macros.beginGroup();var m=v=>b=>{e&&(b.macros.set("|",d),l.length&&b.macros.set("\\|",A));var w=v;if(!v&&l.length){var j=b.future();j.text==="|"&&(b.popToken(),w=!0)}return{tokens:w?l:o,numArgs:0}};t.macros.set("|",m(!1)),l.length&&t.macros.set("\\|",m(!0));var f=t.consumeArg().tokens,g=t.expandTokens([...u,...f,...n]);return t.macros.endGroup(),{tokens:g.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(t,n,o){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new Namespace(macros,n.macros),this.mode=o,this.stack=[]}feed(t){this.lexer=new Lexer(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,o,l;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:l,end:o}=this.consumeArg(["]"])}else({tokens:l,start:n,end:o}=this.consumeArg());return this.pushToken(new Token("EOF",o.loc)),this.pushTokens(l),new Token("",SourceLocation.range(n,o))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],o=t&&t.length>0;o||this.consumeSpaces();var l=this.future(),u,d=0,A=0;do{if(u=this.popToken(),n.push(u),u.text==="{")++d;else if(u.text==="}"){if(--d,d===-1)throw new ParseError("Extra }",u)}else if(u.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(t&&o?t[A]:"}")+"'",u);if(t&&o)if((d===0||d===1&&t[A]==="{")&&u.text===t[A]){if(++A,A===t.length){n.splice(-A,A);break}}else A=0}while(d!==0||o);return l.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:l,end:u}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var o=n[0],l=0;l<o.length;l++){var u=this.popToken();if(o[l]!==u.text)throw new ParseError("Use of the macro doesn't match its definition",u)}}for(var d=[],A=0;A<t;A++)d.push(this.consumeArg(n&&n[A+1]).tokens);return d}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),o=n.text,l=n.noexpand?null:this._getExpansion(o);if(l==null||t&&l.unexpandable){if(t&&l==null&&o[0]==="\\"&&!this.isDefined(o))throw new ParseError("Undefined control sequence: "+o);return this.pushToken(n),!1}this.countExpansion(1);var u=l.tokens,d=this.consumeArgs(l.numArgs,l.delimiters);if(l.numArgs){u=u.slice();for(var A=u.length-1;A>=0;--A){var m=u[A];if(m.text==="#"){if(A===0)throw new ParseError("Incomplete placeholder at end of macro body",m);if(m=u[--A],m.text==="#")u.splice(A+1,1);else if(/^[1-9]$/.test(m.text))u.splice(A,2,...d[+m.text-1]);else throw new ParseError("Not a valid argument number",m)}}}return this.pushTokens(u),u.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Token(t)]):void 0}expandTokens(t){var n=[],o=this.stack.length;for(this.pushTokens(t);this.stack.length>o;)if(this.expandOnce(!0)===!1){var l=this.stack.pop();l.treatAsRelax&&(l.noexpand=!1,l.treatAsRelax=!1),n.push(l)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(o=>o.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var o=this.lexer.catcodes[t];if(o!=null&&o!==13)return}var l=typeof n=="function"?n(this):n;if(typeof l=="string"){var u=0;if(l.indexOf("#")!==-1)for(var d=l.replace(/##/g,"");d.indexOf("#"+(u+1))!==-1;)++u;for(var A=new Lexer(l,this.settings),m=[],f=A.lex();f.text!=="EOF";)m.push(f),f=A.lex();m.reverse();var g={tokens:m,numArgs:u};return g}return l}isDefined(t){return this.macros.has(t)||functions.hasOwnProperty(t)||symbols.math.hasOwnProperty(t)||symbols.text.hasOwnProperty(t)||implicitCommands.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:functions.hasOwnProperty(t)&&!functions[t].primitive}}var unicodeSubRegEx=/^[â‚Šâ‚‹â‚Œâ‚â‚Žâ‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚â‚‘â‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šáµ£â‚›â‚œáµ¤áµ¥â‚“áµ¦áµ§áµ¨áµ©áµª]/,uSubsAndSups=Object.freeze({"â‚Š":"+","â‚‹":"-","â‚Œ":"=","â‚":"(","â‚Ž":")","â‚€":"0","â‚":"1","â‚‚":"2","â‚ƒ":"3","â‚„":"4","â‚…":"5","â‚†":"6","â‚‡":"7","â‚ˆ":"8","â‚‰":"9","â‚":"a","â‚‘":"e","â‚•":"h","áµ¢":"i","â±¼":"j","â‚–":"k","â‚—":"l","â‚˜":"m","â‚™":"n","â‚’":"o","â‚š":"p","áµ£":"r","â‚›":"s","â‚œ":"t","áµ¤":"u","áµ¥":"v","â‚“":"x","áµ¦":"Î²","áµ§":"Î³","áµ¨":"Ï","áµ©":"Ï•","áµª":"Ï‡","âº":"+","â»":"-","â¼":"=","â½":"(","â¾":")","â°":"0","Â¹":"1","Â²":"2","Â³":"3","â´":"4","âµ":"5","â¶":"6","â·":"7","â¸":"8","â¹":"9","á´¬":"A","á´®":"B","á´°":"D","á´±":"E","á´³":"G","á´´":"H","á´µ":"I","á´¶":"J","á´·":"K","á´¸":"L","á´¹":"M","á´º":"N","á´¼":"O","á´¾":"P","á´¿":"R","áµ€":"T","áµ":"U","â±½":"V","áµ‚":"W","áµƒ":"a","áµ‡":"b","á¶œ":"c","áµˆ":"d","áµ‰":"e","á¶ ":"f","áµ":"g",Ê°:"h","â±":"i",Ê²:"j","áµ":"k",Ë¡:"l","áµ":"m",â¿:"n","áµ’":"o","áµ–":"p",Ê³:"r",Ë¢:"s","áµ—":"t","áµ˜":"u","áµ›":"v",Ê·:"w",Ë£:"x",Ê¸:"y","á¶»":"z","áµ":"Î²","áµž":"Î³","áµŸ":"Î´","áµ ":"Ï•","áµ¡":"Ï‡","á¶¿":"Î¸"}),unicodeAccents={"Ì":{text:"\\'",math:"\\acute"},"Ì€":{text:"\\`",math:"\\grave"},"Ìˆ":{text:'\\"',math:"\\ddot"},"Ìƒ":{text:"\\~",math:"\\tilde"},"Ì„":{text:"\\=",math:"\\bar"},"Ì†":{text:"\\u",math:"\\breve"},"ÌŒ":{text:"\\v",math:"\\check"},"Ì‚":{text:"\\^",math:"\\hat"},"Ì‡":{text:"\\.",math:"\\dot"},"ÌŠ":{text:"\\r",math:"\\mathring"},"Ì‹":{text:"\\H"},"Ì§":{text:"\\c"}},unicodeSymbols={Ã¡:"aÌ",Ã :"aÌ€",Ã¤:"aÌˆ",ÇŸ:"aÌˆÌ„",Ã£:"aÌƒ",Ä:"aÌ„",Äƒ:"aÌ†",áº¯:"aÌ†Ì",áº±:"aÌ†Ì€",áºµ:"aÌ†Ìƒ",ÇŽ:"aÌŒ",Ã¢:"aÌ‚",áº¥:"aÌ‚Ì",áº§:"aÌ‚Ì€",áº«:"aÌ‚Ìƒ",È§:"aÌ‡",Ç¡:"aÌ‡Ì„",Ã¥:"aÌŠ",Ç»:"aÌŠÌ",á¸ƒ:"bÌ‡",Ä‡:"cÌ",á¸‰:"cÌ§Ì",Ä:"cÌŒ",Ä‰:"cÌ‚",Ä‹:"cÌ‡",Ã§:"cÌ§",Ä:"dÌŒ",á¸‹:"dÌ‡",á¸‘:"dÌ§",Ã©:"eÌ",Ã¨:"eÌ€",Ã«:"eÌˆ",áº½:"eÌƒ",Ä“:"eÌ„",á¸—:"eÌ„Ì",á¸•:"eÌ„Ì€",Ä•:"eÌ†",á¸:"eÌ§Ì†",Ä›:"eÌŒ",Ãª:"eÌ‚",áº¿:"eÌ‚Ì",á»:"eÌ‚Ì€",á»…:"eÌ‚Ìƒ",Ä—:"eÌ‡",È©:"eÌ§",á¸Ÿ:"fÌ‡",Çµ:"gÌ",á¸¡:"gÌ„",ÄŸ:"gÌ†",Ç§:"gÌŒ",Ä:"gÌ‚",Ä¡:"gÌ‡",Ä£:"gÌ§",á¸§:"hÌˆ",ÈŸ:"hÌŒ",Ä¥:"hÌ‚",á¸£:"hÌ‡",á¸©:"hÌ§",Ã­:"iÌ",Ã¬:"iÌ€",Ã¯:"iÌˆ",á¸¯:"iÌˆÌ",Ä©:"iÌƒ",Ä«:"iÌ„",Ä­:"iÌ†",Ç:"iÌŒ",Ã®:"iÌ‚",Ç°:"jÌŒ",Äµ:"jÌ‚",á¸±:"kÌ",Ç©:"kÌŒ",Ä·:"kÌ§",Äº:"lÌ",Ä¾:"lÌŒ",Ä¼:"lÌ§",á¸¿:"mÌ",á¹:"mÌ‡",Å„:"nÌ",Ç¹:"nÌ€",Ã±:"nÌƒ",Åˆ:"nÌŒ",á¹…:"nÌ‡",Å†:"nÌ§",Ã³:"oÌ",Ã²:"oÌ€",Ã¶:"oÌˆ",È«:"oÌˆÌ„",Ãµ:"oÌƒ",á¹:"oÌƒÌ",á¹:"oÌƒÌˆ",È­:"oÌƒÌ„",Å:"oÌ„",á¹“:"oÌ„Ì",á¹‘:"oÌ„Ì€",Å:"oÌ†",Ç’:"oÌŒ",Ã´:"oÌ‚",á»‘:"oÌ‚Ì",á»“:"oÌ‚Ì€",á»—:"oÌ‚Ìƒ",È¯:"oÌ‡",È±:"oÌ‡Ì„",Å‘:"oÌ‹",á¹•:"pÌ",á¹—:"pÌ‡",Å•:"rÌ",Å™:"rÌŒ",á¹™:"rÌ‡",Å—:"rÌ§",Å›:"sÌ",á¹¥:"sÌÌ‡",Å¡:"sÌŒ",á¹§:"sÌŒÌ‡",Å:"sÌ‚",á¹¡:"sÌ‡",ÅŸ:"sÌ§",áº—:"tÌˆ",Å¥:"tÌŒ",á¹«:"tÌ‡",Å£:"tÌ§",Ãº:"uÌ",Ã¹:"uÌ€",Ã¼:"uÌˆ",Ç˜:"uÌˆÌ",Çœ:"uÌˆÌ€",Ç–:"uÌˆÌ„",Çš:"uÌˆÌŒ",Å©:"uÌƒ",á¹¹:"uÌƒÌ",Å«:"uÌ„",á¹»:"uÌ„Ìˆ",Å­:"uÌ†",Ç”:"uÌŒ",Ã»:"uÌ‚",Å¯:"uÌŠ",Å±:"uÌ‹",á¹½:"vÌƒ",áºƒ:"wÌ",áº:"wÌ€",áº…:"wÌˆ",Åµ:"wÌ‚",áº‡:"wÌ‡",áº˜:"wÌŠ",áº:"xÌˆ",áº‹:"xÌ‡",Ã½:"yÌ",á»³:"yÌ€",Ã¿:"yÌˆ",á»¹:"yÌƒ",È³:"yÌ„",Å·:"yÌ‚",áº:"yÌ‡",áº™:"yÌŠ",Åº:"zÌ",Å¾:"zÌŒ",áº‘:"zÌ‚",Å¼:"zÌ‡",Ã:"AÌ",Ã€:"AÌ€",Ã„:"AÌˆ",Çž:"AÌˆÌ„",Ãƒ:"AÌƒ",Ä€:"AÌ„",Ä‚:"AÌ†",áº®:"AÌ†Ì",áº°:"AÌ†Ì€",áº´:"AÌ†Ìƒ",Ç:"AÌŒ",Ã‚:"AÌ‚",áº¤:"AÌ‚Ì",áº¦:"AÌ‚Ì€",áºª:"AÌ‚Ìƒ",È¦:"AÌ‡",Ç :"AÌ‡Ì„",Ã…:"AÌŠ",Çº:"AÌŠÌ",á¸‚:"BÌ‡",Ä†:"CÌ",á¸ˆ:"CÌ§Ì",ÄŒ:"CÌŒ",Äˆ:"CÌ‚",ÄŠ:"CÌ‡",Ã‡:"CÌ§",ÄŽ:"DÌŒ",á¸Š:"DÌ‡",á¸:"DÌ§",Ã‰:"EÌ",Ãˆ:"EÌ€",Ã‹:"EÌˆ",áº¼:"EÌƒ",Ä’:"EÌ„",á¸–:"EÌ„Ì",á¸”:"EÌ„Ì€",Ä”:"EÌ†",á¸œ:"EÌ§Ì†",Äš:"EÌŒ",ÃŠ:"EÌ‚",áº¾:"EÌ‚Ì",á»€:"EÌ‚Ì€",á»„:"EÌ‚Ìƒ",Ä–:"EÌ‡",È¨:"EÌ§",á¸ž:"FÌ‡",Ç´:"GÌ",á¸ :"GÌ„",Äž:"GÌ†",Ç¦:"GÌŒ",Äœ:"GÌ‚",Ä :"GÌ‡",Ä¢:"GÌ§",á¸¦:"HÌˆ",Èž:"HÌŒ",Ä¤:"HÌ‚",á¸¢:"HÌ‡",á¸¨:"HÌ§",Ã:"IÌ",ÃŒ:"IÌ€",Ã:"IÌˆ",á¸®:"IÌˆÌ",Ä¨:"IÌƒ",Äª:"IÌ„",Ä¬:"IÌ†",Ç:"IÌŒ",ÃŽ:"IÌ‚",Ä°:"IÌ‡",Ä´:"JÌ‚",á¸°:"KÌ",Ç¨:"KÌŒ",Ä¶:"KÌ§",Ä¹:"LÌ",Ä½:"LÌŒ",Ä»:"LÌ§",á¸¾:"MÌ",á¹€:"MÌ‡",Åƒ:"NÌ",Ç¸:"NÌ€",Ã‘:"NÌƒ",Å‡:"NÌŒ",á¹„:"NÌ‡",Å…:"NÌ§",Ã“:"OÌ",Ã’:"OÌ€",Ã–:"OÌˆ",Èª:"OÌˆÌ„",Ã•:"OÌƒ",á¹Œ:"OÌƒÌ",á¹Ž:"OÌƒÌˆ",È¬:"OÌƒÌ„",ÅŒ:"OÌ„",á¹’:"OÌ„Ì",á¹:"OÌ„Ì€",ÅŽ:"OÌ†",Ç‘:"OÌŒ",Ã”:"OÌ‚",á»:"OÌ‚Ì",á»’:"OÌ‚Ì€",á»–:"OÌ‚Ìƒ",È®:"OÌ‡",È°:"OÌ‡Ì„",Å:"OÌ‹",á¹”:"PÌ",á¹–:"PÌ‡",Å”:"RÌ",Å˜:"RÌŒ",á¹˜:"RÌ‡",Å–:"RÌ§",Åš:"SÌ",á¹¤:"SÌÌ‡",Å :"SÌŒ",á¹¦:"SÌŒÌ‡",Åœ:"SÌ‚",á¹ :"SÌ‡",Åž:"SÌ§",Å¤:"TÌŒ",á¹ª:"TÌ‡",Å¢:"TÌ§",Ãš:"UÌ",Ã™:"UÌ€",Ãœ:"UÌˆ",Ç—:"UÌˆÌ",Ç›:"UÌˆÌ€",Ç•:"UÌˆÌ„",Ç™:"UÌˆÌŒ",Å¨:"UÌƒ",á¹¸:"UÌƒÌ",Åª:"UÌ„",á¹º:"UÌ„Ìˆ",Å¬:"UÌ†",Ç“:"UÌŒ",Ã›:"UÌ‚",Å®:"UÌŠ",Å°:"UÌ‹",á¹¼:"VÌƒ",áº‚:"WÌ",áº€:"WÌ€",áº„:"WÌˆ",Å´:"WÌ‚",áº†:"WÌ‡",áºŒ:"XÌˆ",áºŠ:"XÌ‡",Ã:"YÌ",á»²:"YÌ€",Å¸:"YÌˆ",á»¸:"YÌƒ",È²:"YÌ„",Å¶:"YÌ‚",áºŽ:"YÌ‡",Å¹:"ZÌ",Å½:"ZÌŒ",áº:"ZÌ‚",Å»:"ZÌ‡",Î¬:"Î±Ì",á½°:"Î±Ì€",á¾±:"Î±Ì„",á¾°:"Î±Ì†",Î­:"ÎµÌ",á½²:"ÎµÌ€",Î®:"Î·Ì",á½´:"Î·Ì€",Î¯:"Î¹Ì",á½¶:"Î¹Ì€",ÏŠ:"Î¹Ìˆ",Î:"Î¹ÌˆÌ",á¿’:"Î¹ÌˆÌ€",á¿‘:"Î¹Ì„",á¿:"Î¹Ì†",ÏŒ:"Î¿Ì",á½¸:"Î¿Ì€",Ï:"Ï…Ì",á½º:"Ï…Ì€",Ï‹:"Ï…Ìˆ",Î°:"Ï…ÌˆÌ",á¿¢:"Ï…ÌˆÌ€",á¿¡:"Ï…Ì„",á¿ :"Ï…Ì†",ÏŽ:"Ï‰Ì",á½¼:"Ï‰Ì€",ÎŽ:"Î¥Ì",á¿ª:"Î¥Ì€",Î«:"Î¥Ìˆ",á¿©:"Î¥Ì„",á¿¨:"Î¥Ì†",Î:"Î©Ì",á¿º:"Î©Ì€"};class Parser{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ParseError("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(t);var o=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,o}parseExpression(t,n){for(var o=[];;){this.mode==="math"&&this.consumeSpaces();var l=this.fetch();if(Parser.endOfExpression.indexOf(l.text)!==-1||n&&l.text===n||t&&functions[l.text]&&functions[l.text].infix)break;var u=this.parseAtom(n);if(u){if(u.type==="internal")continue}else break;o.push(u)}return this.mode==="text"&&this.formLigatures(o),this.handleInfixNodes(o)}handleInfixNodes(t){for(var n=-1,o,l=0;l<t.length;l++)if(t[l].type==="infix"){if(n!==-1)throw new ParseError("only one infix operator per group",t[l].token);n=l,o=t[l].replaceWith}if(n!==-1&&o){var u,d,A=t.slice(0,n),m=t.slice(n+1);A.length===1&&A[0].type==="ordgroup"?u=A[0]:u={type:"ordgroup",mode:this.mode,body:A},m.length===1&&m[0].type==="ordgroup"?d=m[0]:d={type:"ordgroup",mode:this.mode,body:m};var f;return o==="\\\\abovefrac"?f=this.callFunction(o,[u,t[n],d],[]):f=this.callFunction(o,[u,d],[]),[f]}else return t}handleSupSubscript(t){var n=this.fetch(),o=n.text;this.consume(),this.consumeSpaces();var l;do{var u;l=this.parseGroup(t)}while(((u=l)==null?void 0:u.type)==="internal");if(!l)throw new ParseError("Expected group after '"+o+"'",n);return l}formatUnsupportedCmd(t){for(var n=[],o=0;o<t.length;o++)n.push({type:"textord",mode:"text",text:t[o]});var l={type:"text",mode:this.mode,body:n},u={type:"color",mode:this.mode,color:this.settings.errorColor,body:[l]};return u}parseAtom(t){var n=this.parseGroup("atom",t);if(n?.type==="internal"||this.mode==="text")return n;for(var o,l;;){this.consumeSpaces();var u=this.fetch();if(u.text==="\\limits"||u.text==="\\nolimits"){if(n&&n.type==="op"){var d=u.text==="\\limits";n.limits=d,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=u.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",u);this.consume()}else if(u.text==="^"){if(o)throw new ParseError("Double superscript",u);o=this.handleSupSubscript("superscript")}else if(u.text==="_"){if(l)throw new ParseError("Double subscript",u);l=this.handleSupSubscript("subscript")}else if(u.text==="'"){if(o)throw new ParseError("Double superscript",u);var A={type:"textord",mode:this.mode,text:"\\prime"},m=[A];for(this.consume();this.fetch().text==="'";)m.push(A),this.consume();this.fetch().text==="^"&&m.push(this.handleSupSubscript("superscript")),o={type:"ordgroup",mode:this.mode,body:m}}else if(uSubsAndSups[u.text]){var f=unicodeSubRegEx.test(u.text),g=[];for(g.push(new Token(uSubsAndSups[u.text])),this.consume();;){var v=this.fetch().text;if(!uSubsAndSups[v]||unicodeSubRegEx.test(v)!==f)break;g.unshift(new Token(uSubsAndSups[v])),this.consume()}var b=this.subparse(g);f?l={type:"ordgroup",mode:"math",body:b}:o={type:"ordgroup",mode:"math",body:b}}else break}return o||l?{type:"supsub",mode:this.mode,base:n,sup:o,sub:l}:n}parseFunction(t,n){var o=this.fetch(),l=o.text,u=functions[l];if(!u)return null;if(this.consume(),n&&n!=="atom"&&!u.allowedInArgument)throw new ParseError("Got function '"+l+"' with no arguments"+(n?" as "+n:""),o);if(this.mode==="text"&&!u.allowedInText)throw new ParseError("Can't use function '"+l+"' in text mode",o);if(this.mode==="math"&&u.allowedInMath===!1)throw new ParseError("Can't use function '"+l+"' in math mode",o);var{args:d,optArgs:A}=this.parseArguments(l,u);return this.callFunction(l,d,A,o,t)}callFunction(t,n,o,l,u){var d={funcName:t,parser:this,token:l,breakOnTokenText:u},A=functions[t];if(A&&A.handler)return A.handler(d,n,o);throw new ParseError("No function handler for "+t)}parseArguments(t,n){var o=n.numArgs+n.numOptionalArgs;if(o===0)return{args:[],optArgs:[]};for(var l=[],u=[],d=0;d<o;d++){var A=n.argTypes&&n.argTypes[d],m=d<n.numOptionalArgs;(n.primitive&&A==null||n.type==="sqrt"&&d===1&&u[0]==null)&&(A="primitive");var f=this.parseGroupOfType("argument to '"+t+"'",A,m);if(m)u.push(f);else if(f!=null)l.push(f);else throw new ParseError("Null argument, please report this as a bug")}return{args:l,optArgs:u}}parseGroupOfType(t,n,o){switch(n){case"color":return this.parseColorGroup(o);case"size":return this.parseSizeGroup(o);case"url":return this.parseUrlGroup(o);case"math":case"text":return this.parseArgumentGroup(o,n);case"hbox":{var l=this.parseArgumentGroup(o,"text");return l!=null?{type:"styling",mode:l.mode,body:[l],style:"text"}:null}case"raw":{var u=this.parseStringGroup("raw",o);return u!=null?{type:"raw",mode:"text",string:u.text}:null}case"primitive":{if(o)throw new ParseError("A primitive argument cannot be optional");var d=this.parseGroup(t);if(d==null)throw new ParseError("Expected group as "+t,this.fetch());return d}case"original":case null:case void 0:return this.parseArgumentGroup(o);default:throw new ParseError("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var o=this.gullet.scanArgument(n);if(o==null)return null;for(var l="",u;(u=this.fetch()).text!=="EOF";)l+=u.text,this.consume();return this.consume(),o.text=l,o}parseRegexGroup(t,n){for(var o=this.fetch(),l=o,u="",d;(d=this.fetch()).text!=="EOF"&&t.test(u+d.text);)l=d,u+=l.text,this.consume();if(u==="")throw new ParseError("Invalid "+n+": '"+o.text+"'",o);return o.range(l,u)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var o=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!o)throw new ParseError("Invalid color: '"+n.text+"'",n);var l=o[0];return/^[0-9a-f]{6}$/i.test(l)&&(l="#"+l),{type:"color-token",mode:this.mode,color:l}}parseSizeGroup(t){var n,o=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",o=!0);var l=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!l)throw new ParseError("Invalid size: '"+n.text+"'",n);var u={number:+(l[1]+l[2]),unit:l[3]};if(!validUnit(u))throw new ParseError("Invalid unit: '"+u.unit+"'",n);return{type:"size",mode:this.mode,value:u,isBlank:o}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var o=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:o}}parseArgumentGroup(t,n){var o=this.gullet.scanArgument(t);if(o==null)return null;var l=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var u=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var d={type:"ordgroup",mode:this.mode,loc:o.loc,body:u};return n&&this.switchMode(l),d}parseGroup(t,n){var o=this.fetch(),l=o.text,u;if(l==="{"||l==="\\begingroup"){this.consume();var d=l==="{"?"}":"\\endgroup";this.gullet.beginGroup();var A=this.parseExpression(!1,d),m=this.fetch();this.expect(d),this.gullet.endGroup(),u={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(o,m),body:A,semisimple:l==="\\begingroup"||void 0}}else if(u=this.parseFunction(n,t)||this.parseSymbol(),u==null&&l[0]==="\\"&&!implicitCommands.hasOwnProperty(l)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+l,o);u=this.formatUnsupportedCmd(l),this.consume()}return u}formLigatures(t){for(var n=t.length-1,o=0;o<n;++o){var l=t[o],u=l.text;u==="-"&&t[o+1].text==="-"&&(o+1<n&&t[o+2].text==="-"?(t.splice(o,3,{type:"textord",mode:"text",loc:SourceLocation.range(l,t[o+2]),text:"---"}),n-=2):(t.splice(o,2,{type:"textord",mode:"text",loc:SourceLocation.range(l,t[o+1]),text:"--"}),n-=1)),(u==="'"||u==="`")&&t[o+1].text===u&&(t.splice(o,2,{type:"textord",mode:"text",loc:SourceLocation.range(l,t[o+1]),text:u+u}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var o=n.slice(5),l=o.charAt(0)==="*";if(l&&(o=o.slice(1)),o.length<2||o.charAt(0)!==o.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return o=o.slice(1,-1),{type:"verb",mode:"text",body:o,star:l}}unicodeSymbols.hasOwnProperty(n[0])&&!symbols[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=unicodeSymbols[n[0]]+n.slice(1));var u=combiningDiacriticalMarksEndRegex.exec(n);u&&(n=n.substring(0,u.index),n==="i"?n="Ä±":n==="j"&&(n="È·"));var d;if(symbols[this.mode][n]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var A=symbols[this.mode][n].group,m=SourceLocation.range(t),f;if(ATOMS.hasOwnProperty(A)){var g=A;f={type:"atom",mode:this.mode,family:g,loc:m,text:n}}else f={type:A,mode:this.mode,loc:m,text:n};d=f}else if(n.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),d={type:"textord",mode:"text",loc:SourceLocation.range(t),text:n};else return null;if(this.consume(),u)for(var v=0;v<u[0].length;v++){var b=u[0][v];if(!unicodeAccents[b])throw new ParseError("Unknown accent ' "+b+"'",t);var w=unicodeAccents[b][this.mode]||unicodeAccents[b].text;if(!w)throw new ParseError("Accent "+b+" unsupported in "+this.mode+" mode",t);d={type:"accent",mode:this.mode,loc:SourceLocation.range(t),label:w,isStretchy:!1,isShifty:!0,base:d}}return d}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var o=new Parser(t,n);delete o.gullet.macros.current["\\df@tag"];var l=o.parse();if(delete o.gullet.macros.current["\\current@color"],delete o.gullet.macros.current["\\color"],o.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ParseError("\\tag works only in display equations");l=[{type:"tag",mode:"text",body:l,tag:o.subparse([new Token("\\df@tag")])}]}return l},render=function(t,n,o){n.textContent="";var l=renderToDomTree(t,o).toNode();n.appendChild(l)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function(t,n){var o=renderToDomTree(t,n).toMarkup();return o},generateParseTree=function(t,n){var o=new Settings(n);return parseTree(t,o)},renderError=function(t,n,o){if(o.throwOnError||!(t instanceof ParseError))throw t;var l=buildCommon.makeSpan(["katex-error"],[new SymbolNode(n)]);return l.setAttribute("title",t.toString()),l.setAttribute("style","color:"+o.errorColor),l},renderToDomTree=function(t,n){var o=new Settings(n);try{var l=parseTree(t,o);return buildTree(l,t,o)}catch(u){return renderError(u,t,o)}},renderToHTMLTree=function(t,n){var o=new Settings(n);try{var l=parseTree(t,o);return buildHTMLTree(l,t,o)}catch(u){return renderError(u,t,o)}},version="0.16.28",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const katex$1=Object.freeze(Object.defineProperty({__proto__:null,ParseError,SETTINGS_SCHEMA,__defineFunction:defineFunction,__defineMacro:defineMacro,__defineSymbol:defineSymbol,__domTree,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,default:katex,get render(){return render},renderToString,version},Symbol.toStringTag,{value:"Module"})),emptyOptions$1={};function remarkMath(e){const t=this,n=e||emptyOptions$1,o=t.data(),l=o.micromarkExtensions||(o.micromarkExtensions=[]),u=o.fromMarkdownExtensions||(o.fromMarkdownExtensions=[]),d=o.toMarkdownExtensions||(o.toMarkdownExtensions=[]);l.push(math$1(n)),u.push(mathFromMarkdown()),d.push(mathToMarkdown(n))}const search=/[#.]/g;function parseSelector(e,t){const n=e||"",o={};let l=0,u,d;for(;l<n.length;){search.lastIndex=l;const A=search.exec(n),m=n.slice(l,A?A.index:n.length);m&&(u?u==="#"?o.id=m:Array.isArray(o.className)?o.className.push(m):o.className=[m]:d=m,l+=m.length),A&&(u=A[0],l++)}return{type:"element",tagName:d||t||"div",properties:o,children:[]}}function createH(e,t,n){const o=n?createAdjustMap(n):void 0;function l(u,d,...A){let m;if(u==null){m={type:"root",children:[]};const f=d;A.unshift(f)}else{m=parseSelector(u,t);const f=m.tagName.toLowerCase(),g=o?o.get(f):void 0;if(m.tagName=g||f,isChild(d))A.unshift(d);else for(const[v,b]of Object.entries(d))addProperty(e,m.properties,v,b)}for(const f of A)addChild(m.children,f);return m.type==="element"&&m.tagName==="template"&&(m.content={type:"root",children:m.children},m.children=[]),m}return l}function isChild(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const o of n){const l=t[o];if(l&&typeof l=="object"){if(!Array.isArray(l))return!0;const u=l;for(const d of u)if(typeof d!="number"&&typeof d!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function addProperty(e,t,n,o){const l=find$1(e,n);let u;if(o!=null){if(typeof o=="number"){if(Number.isNaN(o))return;u=o}else typeof o=="boolean"?u=o:typeof o=="string"?l.spaceSeparated?u=parse$1(o):l.commaSeparated?u=parse$2(o):l.commaOrSpaceSeparated?u=parse$1(parse$2(o).join(" ")):u=parsePrimitive(l,l.property,o):Array.isArray(o)?u=[...o]:u=l.property==="style"?style$1(o):String(o);if(Array.isArray(u)){const d=[];for(const A of u)d.push(parsePrimitive(l,l.property,A));u=d}l.property==="className"&&Array.isArray(t.className)&&(u=t.className.concat(u)),t[l.property]=u}}function addChild(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)addChild(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?addChild(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function parsePrimitive(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||normalize$1(n)===normalize$1(t)))return!0}return n}function style$1(e){const t=[];for(const[n,o]of Object.entries(e))t.push([n,o].join(": "));return t.join("; ")}function createAdjustMap(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$2,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(e,t){return transform$1(e,{})||{type:"root",children:[]}}function transform$1(e,t){const n=one(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function one(e,t){switch(e.nodeType){case 1:return element$1(e,t);case 3:return text(e);case 8:return comment(e);case 9:return root$1(e,t);case 10:return doctype();case 11:return root$1(e,t);default:return}}function root$1(e,t){return{type:"root",children:all(e,t)}}function doctype(){return{type:"doctype"}}function text(e){return{type:"text",value:e.nodeValue||""}}function comment(e){return{type:"comment",value:e.nodeValue||""}}function element$1(e,t){const n=e.namespaceURI,o=n===webNamespaces.svg?s:h,l=n===webNamespaces.html?e.tagName.toLowerCase():e.tagName,u=n===webNamespaces.html&&l==="template"?e.content:e,d=e.getAttributeNames(),A={};let m=-1;for(;++m<d.length;)A[d[m]]=e.getAttribute(d[m])||"";return o(l,A,all(u,t))}function all(e,t){const n=e.childNodes,o=[];let l=-1;for(;++l<n.length;){const u=transform$1(n[l],t);u!==void 0&&o.push(u)}return o}new DOMParser;function fromHtmlIsomorphic(e,t){const n=parseFragment(e);return fromDom(n)}function parseFragment(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const findAfter=(function(e,t,n){const o=convert(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(o(e.children[t],t,e))return e.children[t]}),convertElement=(function(e){if(e==null)return element;if(typeof e=="string")return tagNameFactory(e);if(typeof e=="object")return anyFactory(e);if(typeof e=="function")return castFactory(e);throw new Error("Expected function, string, or array as `test`")});function anyFactory(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=convertElement(e[n]);return castFactory(o);function o(...l){let u=-1;for(;++u<t.length;)if(t[u].apply(this,l))return!0;return!1}}function tagNameFactory(e){return castFactory(t);function t(n){return n.tagName===e}}function castFactory(e){return t;function t(n,o,l){return!!(looksLikeAnElement(n)&&e.call(this,n,typeof o=="number"?o:void 0,l||void 0))}}function element(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function looksLikeAnElement(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(e,t){const n=t||{},o="children"in e?e.children:[],l=blockOrCaption(e),u=inferWhitespace(e,{whitespace:n.whitespace||"normal"}),d=[];(e.type==="text"||e.type==="comment")&&d.push(...collectText(e,{breakBefore:!0,breakAfter:!0}));let A=-1;for(;++A<o.length;)d.push(...renderedTextCollection(o[A],e,{whitespace:u,breakBefore:A?void 0:l,breakAfter:A<o.length-1?br(o[A+1]):l}));const m=[];let f;for(A=-1;++A<d.length;){const g=d[A];typeof g=="number"?f!==void 0&&g>f&&(f=g):g&&(f!==void 0&&f>-1&&m.push(`
`.repeat(f)||" "),f=-1,m.push(g))}return m.join("")}function renderedTextCollection(e,t,n){return e.type==="element"?collectElement(e,t,n):e.type==="text"?n.whitespace==="normal"?collectText(e,n):collectPreText(e):[]}function collectElement(e,t,n){const o=inferWhitespace(e,n),l=e.children||[];let u=-1,d=[];if(notRendered(e))return d;let A,m;for(br(e)||row(e)&&findAfter(t,e,row)?m=`
`:p(e)?(A=2,m=2):blockOrCaption(e)&&(A=1,m=1);++u<l.length;)d=d.concat(renderedTextCollection(l[u],e,{whitespace:o,breakBefore:u?void 0:A,breakAfter:u<l.length-1?br(l[u+1]):m}));return cell(e)&&findAfter(t,e,cell)&&d.push("	"),A&&d.unshift(A),m&&d.push(m),d}function collectText(e,t){const n=String(e.value),o=[],l=[];let u=0;for(;u<=n.length;){searchLineFeeds.lastIndex=u;const m=searchLineFeeds.exec(n),f=m&&"index"in m?m.index:n.length;o.push(trimAndCollapseSpacesAndTabs(n.slice(u,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),u===0?t.breakBefore:!0,f===n.length?t.breakAfter:!0)),u=f+1}let d=-1,A;for(;++d<o.length;)o[d].charCodeAt(o[d].length-1)===8203||d<o.length-1&&o[d+1].charCodeAt(0)===8203?(l.push(o[d]),A=void 0):o[d]?(typeof A=="number"&&l.push(A),l.push(o[d]),A=0):(d===0||d===o.length-1)&&l.push(0);return l}function collectPreText(e){return[String(e.value)]}function trimAndCollapseSpacesAndTabs(e,t,n){const o=[];let l=0,u;for(;l<e.length;){searchTabOrSpaces.lastIndex=l;const d=searchTabOrSpaces.exec(e);u=d?d.index:e.length,!l&&!u&&d&&!t&&o.push(""),l!==u&&o.push(e.slice(l,u)),l=d?u+d[0].length:u}return l!==u&&!n&&o.push(""),o.join(" ")}function inferWhitespace(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function hidden(e){return!!(e.properties||{}).hidden}function isCell(e){return e.tagName==="td"||e.tagName==="th"}function closedDialog(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const emptyOptions={},emptyClasses=[];function rehypeKatex(e){const t=e||emptyOptions;return function(n,o){visitParents(n,"element",function(l,u){const d=Array.isArray(l.properties.className)?l.properties.className:emptyClasses,A=d.includes("language-math"),m=d.includes("math-display"),f=d.includes("math-inline");let g=m;if(!A&&!m&&!f)return;let v=u[u.length-1],b=l;if(l.tagName==="code"&&A&&v&&v.type==="element"&&v.tagName==="pre"&&(b=v,v=u[u.length-2],g=!0),!v)return;const w=toText(b,{whitespace:"pre"});let j;try{j=katex.renderToString(w,{...t,displayMode:g,throwOnError:!0})}catch(R){const _=R,N=_.name.toLowerCase();o.message("Could not render math with KaTeX",{ancestors:[...u,l],cause:_,place:l.position,ruleId:N,source:"rehype-katex"});try{j=katex.renderToString(w,{...t,displayMode:g,strict:"ignore",throwOnError:!1})}catch{j=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(R)},children:[{type:"text",value:w}]}]}}typeof j=="string"&&(j=fromHtmlIsomorphic(j).children);const E=v.children.indexOf(b);return v.children.splice(E,1,...j),SKIP})}}async function saveCourseMetaToSupabase({publicId:e,teacherId:t,subject:n,grade:o,topic:l,textbook:u}){const d=n.trim(),A=o.trim(),m=l.trim(),f=u?.trim()||null;if(!e||!t){console.warn("[coursesRepository] Missing publicId or teacherId, skip saving meta.");return}const{error:g}=await supabase.from("course_plans").update({teacher_id:t,subject:d||null,grade:A||null,topic:m||null,textbook:f,updated_at:new Date().toISOString()}).eq("public_id",e);if(g)throw console.error("[coursesRepository] Failed to save course meta to Supabase:",g),new Error(g.message||"ä¿å­˜è¯¾ç¨‹ä¿¡æ¯åˆ° Supabase å¤±è´¥")}var html2pdf$1={exports:{}},html2canvas$1={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var html2canvas=html2canvas$1.exports,hasRequiredHtml2canvas;function requireHtml2canvas(){return hasRequiredHtml2canvas||(hasRequiredHtml2canvas=1,(function(e,t){(function(n,o){e.exports=o()})(html2canvas,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(q,Q){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,te){Z.__proto__=te}||function(Z,te){for(var Pe in te)Object.prototype.hasOwnProperty.call(te,Pe)&&(Z[Pe]=te[Pe])},n(q,Q)};function o(q,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");n(q,Q);function Z(){this.constructor=q}q.prototype=Q===null?Object.create(Q):(Z.prototype=Q.prototype,new Z)}var l=function(){return l=Object.assign||function(Q){for(var Z,te=1,Pe=arguments.length;te<Pe;te++){Z=arguments[te];for(var De in Z)Object.prototype.hasOwnProperty.call(Z,De)&&(Q[De]=Z[De])}return Q},l.apply(this,arguments)};function u(q,Q,Z,te){function Pe(De){return De instanceof Z?De:new Z(function(Xe){Xe(De)})}return new(Z||(Z=Promise))(function(De,Xe){function vt(Jt){try{qt(te.next(Jt))}catch(gr){Xe(gr)}}function xt(Jt){try{qt(te.throw(Jt))}catch(gr){Xe(gr)}}function qt(Jt){Jt.done?De(Jt.value):Pe(Jt.value).then(vt,xt)}qt((te=te.apply(q,[])).next())})}function d(q,Q){var Z={label:0,sent:function(){if(De[0]&1)throw De[1];return De[1]},trys:[],ops:[]},te,Pe,De,Xe;return Xe={next:vt(0),throw:vt(1),return:vt(2)},typeof Symbol=="function"&&(Xe[Symbol.iterator]=function(){return this}),Xe;function vt(qt){return function(Jt){return xt([qt,Jt])}}function xt(qt){if(te)throw new TypeError("Generator is already executing.");for(;Z;)try{if(te=1,Pe&&(De=qt[0]&2?Pe.return:qt[0]?Pe.throw||((De=Pe.return)&&De.call(Pe),0):Pe.next)&&!(De=De.call(Pe,qt[1])).done)return De;switch(Pe=0,De&&(qt=[qt[0]&2,De.value]),qt[0]){case 0:case 1:De=qt;break;case 4:return Z.label++,{value:qt[1],done:!1};case 5:Z.label++,Pe=qt[1],qt=[0];continue;case 7:qt=Z.ops.pop(),Z.trys.pop();continue;default:if(De=Z.trys,!(De=De.length>0&&De[De.length-1])&&(qt[0]===6||qt[0]===2)){Z=0;continue}if(qt[0]===3&&(!De||qt[1]>De[0]&&qt[1]<De[3])){Z.label=qt[1];break}if(qt[0]===6&&Z.label<De[1]){Z.label=De[1],De=qt;break}if(De&&Z.label<De[2]){Z.label=De[2],Z.ops.push(qt);break}De[2]&&Z.ops.pop(),Z.trys.pop();continue}qt=Q.call(q,Z)}catch(Jt){qt=[6,Jt],Pe=0}finally{te=De=0}if(qt[0]&5)throw qt[1];return{value:qt[0]?qt[1]:void 0,done:!0}}}function A(q,Q,Z){if(arguments.length===2)for(var te=0,Pe=Q.length,De;te<Pe;te++)(De||!(te in Q))&&(De||(De=Array.prototype.slice.call(Q,0,te)),De[te]=Q[te]);return q.concat(De||Q)}for(var m=(function(){function q(Q,Z,te,Pe){this.left=Q,this.top=Z,this.width=te,this.height=Pe}return q.prototype.add=function(Q,Z,te,Pe){return new q(this.left+Q,this.top+Z,this.width+te,this.height+Pe)},q.fromClientRect=function(Q,Z){return new q(Z.left+Q.windowBounds.left,Z.top+Q.windowBounds.top,Z.width,Z.height)},q.fromDOMRectList=function(Q,Z){var te=Array.from(Z).find(function(Pe){return Pe.width!==0});return te?new q(te.left+Q.windowBounds.left,te.top+Q.windowBounds.top,te.width,te.height):q.EMPTY},q.EMPTY=new q(0,0,0,0),q})(),f=function(q,Q){return m.fromClientRect(q,Q.getBoundingClientRect())},g=function(q){var Q=q.body,Z=q.documentElement;if(!Q||!Z)throw new Error("Unable to get document size");var te=Math.max(Math.max(Q.scrollWidth,Z.scrollWidth),Math.max(Q.offsetWidth,Z.offsetWidth),Math.max(Q.clientWidth,Z.clientWidth)),Pe=Math.max(Math.max(Q.scrollHeight,Z.scrollHeight),Math.max(Q.offsetHeight,Z.offsetHeight),Math.max(Q.clientHeight,Z.clientHeight));return new m(0,0,te,Pe)},v=function(q){for(var Q=[],Z=0,te=q.length;Z<te;){var Pe=q.charCodeAt(Z++);if(Pe>=55296&&Pe<=56319&&Z<te){var De=q.charCodeAt(Z++);(De&64512)===56320?Q.push(((Pe&1023)<<10)+(De&1023)+65536):(Q.push(Pe),Z--)}else Q.push(Pe)}return Q},b=function(){for(var q=[],Q=0;Q<arguments.length;Q++)q[Q]=arguments[Q];if(String.fromCodePoint)return String.fromCodePoint.apply(String,q);var Z=q.length;if(!Z)return"";for(var te=[],Pe=-1,De="";++Pe<Z;){var Xe=q[Pe];Xe<=65535?te.push(Xe):(Xe-=65536,te.push((Xe>>10)+55296,Xe%1024+56320)),(Pe+1===Z||te.length>16384)&&(De+=String.fromCharCode.apply(String,te),te.length=0)}return De},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<w.length;E++)j[w.charCodeAt(E)]=E;for(var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=typeof Uint8Array>"u"?[]:new Uint8Array(256),N=0;N<R.length;N++)_[R.charCodeAt(N)]=N;for(var B=function(q){var Q=q.length*.75,Z=q.length,te,Pe=0,De,Xe,vt,xt;q[q.length-1]==="="&&(Q--,q[q.length-2]==="="&&Q--);var qt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Q):new Array(Q),Jt=Array.isArray(qt)?qt:new Uint8Array(qt);for(te=0;te<Z;te+=4)De=_[q.charCodeAt(te)],Xe=_[q.charCodeAt(te+1)],vt=_[q.charCodeAt(te+2)],xt=_[q.charCodeAt(te+3)],Jt[Pe++]=De<<2|Xe>>4,Jt[Pe++]=(Xe&15)<<4|vt>>2,Jt[Pe++]=(vt&3)<<6|xt&63;return qt},M=function(q){for(var Q=q.length,Z=[],te=0;te<Q;te+=2)Z.push(q[te+1]<<8|q[te]);return Z},O=function(q){for(var Q=q.length,Z=[],te=0;te<Q;te+=4)Z.push(q[te+3]<<24|q[te+2]<<16|q[te+1]<<8|q[te]);return Z},F=5,$=11,z=2,se=$-F,ce=65536>>F,ie=1<<F,pe=ie-1,xe=1024>>F,Ae=ce+xe,ue=Ae,Y=32,fe=ue+Y,H=65536>>$,le=1<<se,de=le-1,ye=function(q,Q,Z){return q.slice?q.slice(Q,Z):new Uint16Array(Array.prototype.slice.call(q,Q,Z))},ge=function(q,Q,Z){return q.slice?q.slice(Q,Z):new Uint32Array(Array.prototype.slice.call(q,Q,Z))},je=function(q,Q){var Z=B(q),te=Array.isArray(Z)?O(Z):new Uint32Array(Z),Pe=Array.isArray(Z)?M(Z):new Uint16Array(Z),De=24,Xe=ye(Pe,De/2,te[4]/2),vt=te[5]===2?ye(Pe,(De+te[4])/2):ge(te,Math.ceil((De+te[4])/4));return new Me(te[0],te[1],te[2],te[3],Xe,vt)},Me=(function(){function q(Q,Z,te,Pe,De,Xe){this.initialValue=Q,this.errorValue=Z,this.highStart=te,this.highValueIndex=Pe,this.index=De,this.data=Xe}return q.prototype.get=function(Q){var Z;if(Q>=0){if(Q<55296||Q>56319&&Q<=65535)return Z=this.index[Q>>F],Z=(Z<<z)+(Q&pe),this.data[Z];if(Q<=65535)return Z=this.index[ce+(Q-55296>>F)],Z=(Z<<z)+(Q&pe),this.data[Z];if(Q<this.highStart)return Z=fe-H+(Q>>$),Z=this.index[Z],Z+=Q>>F&de,Z=this.index[Z],Z=(Z<<z)+(Q&pe),this.data[Z];if(Q<=1114111)return this.data[this.highValueIndex]}return this.errorValue},q})(),He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qe=typeof Uint8Array>"u"?[]:new Uint8Array(256),ze=0;ze<He.length;ze++)Qe[He.charCodeAt(ze)]=ze;var Ve="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",tt=50,nt=1,Ye=2,ut=3,mt=4,St=5,or=7,Zt=8,Bt=9,ur=10,Nr=11,Qr=12,$r=13,on=14,wn=15,En=16,en=17,Pt=18,ar=19,Xr=20,Cn=21,tn=22,vn=23,bn=24,Br=25,Dt=26,Tr=27,qr=28,Zr=29,jn=30,rn=31,Kn=32,an=33,Dr=34,Hn=35,Tn=36,es=37,ps=38,Ti=39,ui=40,vi=41,fs=42,Sn=43,Vs=[9001,65288],zi="!",zn="Ã—",wi="Ã·",mi=je(Ve),gi=[jn,Tn],Ni=[nt,Ye,ut,St],Hs=[ur,Zt],Xi=[Tr,Dt],Bs=Ni.concat(Hs),Gi=[ps,Ti,ui,Dr,Hn],Ss=[wn,$r],La=function(q,Q){Q===void 0&&(Q="strict");var Z=[],te=[],Pe=[];return q.forEach(function(De,Xe){var vt=mi.get(De);if(vt>tt?(Pe.push(!0),vt-=tt):Pe.push(!1),["normal","auto","loose"].indexOf(Q)!==-1&&[8208,8211,12316,12448].indexOf(De)!==-1)return te.push(Xe),Z.push(En);if(vt===mt||vt===Nr){if(Xe===0)return te.push(Xe),Z.push(jn);var xt=Z[Xe-1];return Bs.indexOf(xt)===-1?(te.push(te[Xe-1]),Z.push(xt)):(te.push(Xe),Z.push(jn))}if(te.push(Xe),vt===rn)return Z.push(Q==="strict"?Cn:es);if(vt===fs||vt===Zr)return Z.push(jn);if(vt===Sn)return De>=131072&&De<=196605||De>=196608&&De<=262141?Z.push(es):Z.push(jn);Z.push(vt)}),[te,Z,Pe]},Qi=function(q,Q,Z,te){var Pe=te[Z];if(Array.isArray(q)?q.indexOf(Pe)!==-1:q===Pe)for(var De=Z;De<=te.length;){De++;var Xe=te[De];if(Xe===Q)return!0;if(Xe!==ur)break}if(Pe===ur)for(var De=Z;De>0;){De--;var vt=te[De];if(Array.isArray(q)?q.indexOf(vt)!==-1:q===vt)for(var xt=Z;xt<=te.length;){xt++;var Xe=te[xt];if(Xe===Q)return!0;if(Xe!==ur)break}if(vt!==ur)break}return!1},Pi=function(q,Q){for(var Z=q;Z>=0;){var te=Q[Z];if(te===ur)Z--;else return te}return 0},Ot=function(q,Q,Z,te,Pe){if(Z[te]===0)return zn;var De=te-1;if(Array.isArray(Pe)&&Pe[De]===!0)return zn;var Xe=De-1,vt=De+1,xt=Q[De],qt=Xe>=0?Q[Xe]:0,Jt=Q[vt];if(xt===Ye&&Jt===ut)return zn;if(Ni.indexOf(xt)!==-1)return zi;if(Ni.indexOf(Jt)!==-1||Hs.indexOf(Jt)!==-1)return zn;if(Pi(De,Q)===Zt)return wi;if(mi.get(q[De])===Nr||(xt===Kn||xt===an)&&mi.get(q[vt])===Nr||xt===or||Jt===or||xt===Bt||[ur,$r,wn].indexOf(xt)===-1&&Jt===Bt||[en,Pt,ar,bn,qr].indexOf(Jt)!==-1||Pi(De,Q)===tn||Qi(vn,tn,De,Q)||Qi([en,Pt],Cn,De,Q)||Qi(Qr,Qr,De,Q))return zn;if(xt===ur)return wi;if(xt===vn||Jt===vn)return zn;if(Jt===En||xt===En)return wi;if([$r,wn,Cn].indexOf(Jt)!==-1||xt===on||qt===Tn&&Ss.indexOf(xt)!==-1||xt===qr&&Jt===Tn||Jt===Xr||gi.indexOf(Jt)!==-1&&xt===Br||gi.indexOf(xt)!==-1&&Jt===Br||xt===Tr&&[es,Kn,an].indexOf(Jt)!==-1||[es,Kn,an].indexOf(xt)!==-1&&Jt===Dt||gi.indexOf(xt)!==-1&&Xi.indexOf(Jt)!==-1||Xi.indexOf(xt)!==-1&&gi.indexOf(Jt)!==-1||[Tr,Dt].indexOf(xt)!==-1&&(Jt===Br||[tn,wn].indexOf(Jt)!==-1&&Q[vt+1]===Br)||[tn,wn].indexOf(xt)!==-1&&Jt===Br||xt===Br&&[Br,qr,bn].indexOf(Jt)!==-1)return zn;if([Br,qr,bn,en,Pt].indexOf(Jt)!==-1)for(var gr=De;gr>=0;){var Vr=Q[gr];if(Vr===Br)return zn;if([qr,bn].indexOf(Vr)!==-1)gr--;else break}if([Tr,Dt].indexOf(Jt)!==-1)for(var gr=[en,Pt].indexOf(xt)!==-1?Xe:De;gr>=0;){var Vr=Q[gr];if(Vr===Br)return zn;if([qr,bn].indexOf(Vr)!==-1)gr--;else break}if(ps===xt&&[ps,Ti,Dr,Hn].indexOf(Jt)!==-1||[Ti,Dr].indexOf(xt)!==-1&&[Ti,ui].indexOf(Jt)!==-1||[ui,Hn].indexOf(xt)!==-1&&Jt===ui||Gi.indexOf(xt)!==-1&&[Xr,Dt].indexOf(Jt)!==-1||Gi.indexOf(Jt)!==-1&&xt===Tr||gi.indexOf(xt)!==-1&&gi.indexOf(Jt)!==-1||xt===bn&&gi.indexOf(Jt)!==-1||gi.concat(Br).indexOf(xt)!==-1&&Jt===tn&&Vs.indexOf(q[vt])===-1||gi.concat(Br).indexOf(Jt)!==-1&&xt===Pt)return zn;if(xt===vi&&Jt===vi){for(var Zn=Z[De],Mn=1;Zn>0&&(Zn--,Q[Zn]===vi);)Mn++;if(Mn%2!==0)return zn}return xt===Kn&&Jt===an?zn:wi},sn=function(q,Q){Q||(Q={lineBreak:"normal",wordBreak:"normal"});var Z=La(q,Q.lineBreak),te=Z[0],Pe=Z[1],De=Z[2];(Q.wordBreak==="break-all"||Q.wordBreak==="break-word")&&(Pe=Pe.map(function(vt){return[Br,jn,fs].indexOf(vt)!==-1?es:vt}));var Xe=Q.wordBreak==="keep-all"?De.map(function(vt,xt){return vt&&q[xt]>=19968&&q[xt]<=40959}):void 0;return[te,Pe,Xe]},mn=(function(){function q(Q,Z,te,Pe){this.codePoints=Q,this.required=Z===zi,this.start=te,this.end=Pe}return q.prototype.slice=function(){return b.apply(void 0,this.codePoints.slice(this.start,this.end))},q})(),ji=function(q,Q){var Z=v(q),te=sn(Z,Q),Pe=te[0],De=te[1],Xe=te[2],vt=Z.length,xt=0,qt=0;return{next:function(){if(qt>=vt)return{done:!0,value:null};for(var Jt=zn;qt<vt&&(Jt=Ot(Z,De,Pe,++qt,Xe))===zn;);if(Jt!==zn||qt===vt){var gr=new mn(Z,Jt,xt,qt);return xt=qt,{value:gr,done:!1}}return{done:!0,value:null}}}},As=1,Ji=2,si=4,Ra=8,aa=10,wa=47,oa=92,Gt=9,Ar=32,hn=34,Yr=61,Gs=35,Xs=36,Si=37,$s=39,Wn=40,Ks=41,xi=95,Cs=45,yi=33,Js=60,fa=62,ki=64,Bi=91,Ki=93,za=61,_s=123,Zi=63,ra=125,Ta=124,Ea=126,Qa=128,Wt=65533,ne=42,Ee=43,Se=44,J=58,ee=59,be=46,ke=0,Le=8,Ze=11,ht=14,V=31,U=127,W=-1,ae=48,me=97,we=101,Be=102,Re=117,Te=122,$e=65,qe=69,at=70,pt=85,Ie=90,wt=function(q){return q>=ae&&q<=57},At=function(q){return q>=55296&&q<=57343},Nt=function(q){return wt(q)||q>=$e&&q<=at||q>=me&&q<=Be},lt=function(q){return q>=me&&q<=Te},Ut=function(q){return q>=$e&&q<=Ie},tr=function(q){return lt(q)||Ut(q)},Ft=function(q){return q>=Qa},it=function(q){return q===aa||q===Gt||q===Ar},Yt=function(q){return tr(q)||Ft(q)||q===xi},Er=function(q){return Yt(q)||wt(q)||q===Cs},lr=function(q){return q>=ke&&q<=Le||q===Ze||q>=ht&&q<=V||q===U},Lt=function(q,Q){return q!==oa?!1:Q!==aa},vr=function(q,Q,Z){return q===Cs?Yt(Q)||Lt(Q,Z):Yt(q)?!0:!!(q===oa&&Lt(q,Q))},ft=function(q,Q,Z){return q===Ee||q===Cs?wt(Q)?!0:Q===be&&wt(Z):wt(q===be?Q:q)},yt=function(q){var Q=0,Z=1;(q[Q]===Ee||q[Q]===Cs)&&(q[Q]===Cs&&(Z=-1),Q++);for(var te=[];wt(q[Q]);)te.push(q[Q++]);var Pe=te.length?parseInt(b.apply(void 0,te),10):0;q[Q]===be&&Q++;for(var De=[];wt(q[Q]);)De.push(q[Q++]);var Xe=De.length,vt=Xe?parseInt(b.apply(void 0,De),10):0;(q[Q]===qe||q[Q]===we)&&Q++;var xt=1;(q[Q]===Ee||q[Q]===Cs)&&(q[Q]===Cs&&(xt=-1),Q++);for(var qt=[];wt(q[Q]);)qt.push(q[Q++]);var Jt=qt.length?parseInt(b.apply(void 0,qt),10):0;return Z*(Pe+vt*Math.pow(10,-Xe))*Math.pow(10,xt*Jt)},$t={type:2},Mt={type:3},jr={type:4},Pr={type:13},Mr={type:8},hr={type:21},Ir={type:9},Nn={type:10},gn={type:11},st={type:12},Tt={type:14},It={type:23},er={type:1},nr={type:25},mr={type:24},Or={type:26},Fr={type:27},Jr={type:28},Pn={type:29},Xn={type:31},ts={type:32},ws=(function(){function q(){this._value=[]}return q.prototype.write=function(Q){this._value=this._value.concat(v(Q))},q.prototype.read=function(){for(var Q=[],Z=this.consumeToken();Z!==ts;)Q.push(Z),Z=this.consumeToken();return Q},q.prototype.consumeToken=function(){var Q=this.consumeCodePoint();switch(Q){case hn:return this.consumeStringToken(hn);case Gs:var Z=this.peekCodePoint(0),te=this.peekCodePoint(1),Pe=this.peekCodePoint(2);if(Er(Z)||Lt(te,Pe)){var De=vr(Z,te,Pe)?Ji:As,Xe=this.consumeName();return{type:5,value:Xe,flags:De}}break;case Xs:if(this.peekCodePoint(0)===Yr)return this.consumeCodePoint(),Pr;break;case $s:return this.consumeStringToken($s);case Wn:return $t;case Ks:return Mt;case ne:if(this.peekCodePoint(0)===Yr)return this.consumeCodePoint(),Tt;break;case Ee:if(ft(Q,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Q),this.consumeNumericToken();break;case Se:return jr;case Cs:var vt=Q,xt=this.peekCodePoint(0),qt=this.peekCodePoint(1);if(ft(vt,xt,qt))return this.reconsumeCodePoint(Q),this.consumeNumericToken();if(vr(vt,xt,qt))return this.reconsumeCodePoint(Q),this.consumeIdentLikeToken();if(xt===Cs&&qt===fa)return this.consumeCodePoint(),this.consumeCodePoint(),mr;break;case be:if(ft(Q,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Q),this.consumeNumericToken();break;case wa:if(this.peekCodePoint(0)===ne)for(this.consumeCodePoint();;){var Jt=this.consumeCodePoint();if(Jt===ne&&(Jt=this.consumeCodePoint(),Jt===wa))return this.consumeToken();if(Jt===W)return this.consumeToken()}break;case J:return Or;case ee:return Fr;case Js:if(this.peekCodePoint(0)===yi&&this.peekCodePoint(1)===Cs&&this.peekCodePoint(2)===Cs)return this.consumeCodePoint(),this.consumeCodePoint(),nr;break;case ki:var gr=this.peekCodePoint(0),Vr=this.peekCodePoint(1),Zn=this.peekCodePoint(2);if(vr(gr,Vr,Zn)){var Xe=this.consumeName();return{type:7,value:Xe}}break;case Bi:return Jr;case oa:if(Lt(Q,this.peekCodePoint(0)))return this.reconsumeCodePoint(Q),this.consumeIdentLikeToken();break;case Ki:return Pn;case za:if(this.peekCodePoint(0)===Yr)return this.consumeCodePoint(),Mr;break;case _s:return gn;case ra:return st;case Re:case pt:var Mn=this.peekCodePoint(0),Gn=this.peekCodePoint(1);return Mn===Ee&&(Nt(Gn)||Gn===Zi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(Q),this.consumeIdentLikeToken();case Ta:if(this.peekCodePoint(0)===Yr)return this.consumeCodePoint(),Ir;if(this.peekCodePoint(0)===Ta)return this.consumeCodePoint(),hr;break;case Ea:if(this.peekCodePoint(0)===Yr)return this.consumeCodePoint(),Nn;break;case W:return ts}return it(Q)?(this.consumeWhiteSpace(),Xn):wt(Q)?(this.reconsumeCodePoint(Q),this.consumeNumericToken()):Yt(Q)?(this.reconsumeCodePoint(Q),this.consumeIdentLikeToken()):{type:6,value:b(Q)}},q.prototype.consumeCodePoint=function(){var Q=this._value.shift();return typeof Q>"u"?-1:Q},q.prototype.reconsumeCodePoint=function(Q){this._value.unshift(Q)},q.prototype.peekCodePoint=function(Q){return Q>=this._value.length?-1:this._value[Q]},q.prototype.consumeUnicodeRangeToken=function(){for(var Q=[],Z=this.consumeCodePoint();Nt(Z)&&Q.length<6;)Q.push(Z),Z=this.consumeCodePoint();for(var te=!1;Z===Zi&&Q.length<6;)Q.push(Z),Z=this.consumeCodePoint(),te=!0;if(te){var Pe=parseInt(b.apply(void 0,Q.map(function(xt){return xt===Zi?ae:xt})),16),De=parseInt(b.apply(void 0,Q.map(function(xt){return xt===Zi?at:xt})),16);return{type:30,start:Pe,end:De}}var Xe=parseInt(b.apply(void 0,Q),16);if(this.peekCodePoint(0)===Cs&&Nt(this.peekCodePoint(1))){this.consumeCodePoint(),Z=this.consumeCodePoint();for(var vt=[];Nt(Z)&&vt.length<6;)vt.push(Z),Z=this.consumeCodePoint();var De=parseInt(b.apply(void 0,vt),16);return{type:30,start:Xe,end:De}}else return{type:30,start:Xe,end:Xe}},q.prototype.consumeIdentLikeToken=function(){var Q=this.consumeName();return Q.toLowerCase()==="url"&&this.peekCodePoint(0)===Wn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wn?(this.consumeCodePoint(),{type:19,value:Q}):{type:20,value:Q}},q.prototype.consumeUrlToken=function(){var Q=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===W)return{type:22,value:""};var Z=this.peekCodePoint(0);if(Z===$s||Z===hn){var te=this.consumeStringToken(this.consumeCodePoint());return te.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===W||this.peekCodePoint(0)===Ks)?(this.consumeCodePoint(),{type:22,value:te.value}):(this.consumeBadUrlRemnants(),It)}for(;;){var Pe=this.consumeCodePoint();if(Pe===W||Pe===Ks)return{type:22,value:b.apply(void 0,Q)};if(it(Pe))return this.consumeWhiteSpace(),this.peekCodePoint(0)===W||this.peekCodePoint(0)===Ks?(this.consumeCodePoint(),{type:22,value:b.apply(void 0,Q)}):(this.consumeBadUrlRemnants(),It);if(Pe===hn||Pe===$s||Pe===Wn||lr(Pe))return this.consumeBadUrlRemnants(),It;if(Pe===oa)if(Lt(Pe,this.peekCodePoint(0)))Q.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),It;else Q.push(Pe)}},q.prototype.consumeWhiteSpace=function(){for(;it(this.peekCodePoint(0));)this.consumeCodePoint()},q.prototype.consumeBadUrlRemnants=function(){for(;;){var Q=this.consumeCodePoint();if(Q===Ks||Q===W)return;Lt(Q,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},q.prototype.consumeStringSlice=function(Q){for(var Z=5e4,te="";Q>0;){var Pe=Math.min(Z,Q);te+=b.apply(void 0,this._value.splice(0,Pe)),Q-=Pe}return this._value.shift(),te},q.prototype.consumeStringToken=function(Q){var Z="",te=0;do{var Pe=this._value[te];if(Pe===W||Pe===void 0||Pe===Q)return Z+=this.consumeStringSlice(te),{type:0,value:Z};if(Pe===aa)return this._value.splice(0,te),er;if(Pe===oa){var De=this._value[te+1];De!==W&&De!==void 0&&(De===aa?(Z+=this.consumeStringSlice(te),te=-1,this._value.shift()):Lt(Pe,De)&&(Z+=this.consumeStringSlice(te),Z+=b(this.consumeEscapedCodePoint()),te=-1))}te++}while(!0)},q.prototype.consumeNumber=function(){var Q=[],Z=si,te=this.peekCodePoint(0);for((te===Ee||te===Cs)&&Q.push(this.consumeCodePoint());wt(this.peekCodePoint(0));)Q.push(this.consumeCodePoint());te=this.peekCodePoint(0);var Pe=this.peekCodePoint(1);if(te===be&&wt(Pe))for(Q.push(this.consumeCodePoint(),this.consumeCodePoint()),Z=Ra;wt(this.peekCodePoint(0));)Q.push(this.consumeCodePoint());te=this.peekCodePoint(0),Pe=this.peekCodePoint(1);var De=this.peekCodePoint(2);if((te===qe||te===we)&&((Pe===Ee||Pe===Cs)&&wt(De)||wt(Pe)))for(Q.push(this.consumeCodePoint(),this.consumeCodePoint()),Z=Ra;wt(this.peekCodePoint(0));)Q.push(this.consumeCodePoint());return[yt(Q),Z]},q.prototype.consumeNumericToken=function(){var Q=this.consumeNumber(),Z=Q[0],te=Q[1],Pe=this.peekCodePoint(0),De=this.peekCodePoint(1),Xe=this.peekCodePoint(2);if(vr(Pe,De,Xe)){var vt=this.consumeName();return{type:15,number:Z,flags:te,unit:vt}}return Pe===Si?(this.consumeCodePoint(),{type:16,number:Z,flags:te}):{type:17,number:Z,flags:te}},q.prototype.consumeEscapedCodePoint=function(){var Q=this.consumeCodePoint();if(Nt(Q)){for(var Z=b(Q);Nt(this.peekCodePoint(0))&&Z.length<6;)Z+=b(this.consumeCodePoint());it(this.peekCodePoint(0))&&this.consumeCodePoint();var te=parseInt(Z,16);return te===0||At(te)||te>1114111?Wt:te}return Q===W?Wt:Q},q.prototype.consumeName=function(){for(var Q="";;){var Z=this.consumeCodePoint();if(Er(Z))Q+=b(Z);else if(Lt(Z,this.peekCodePoint(0)))Q+=b(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(Z),Q}},q})(),bt=(function(){function q(Q){this._tokens=Q}return q.create=function(Q){var Z=new ws;return Z.write(Q),new q(Z.read())},q.parseValue=function(Q){return q.create(Q).parseComponentValue()},q.parseValues=function(Q){return q.create(Q).parseComponentValues()},q.prototype.parseComponentValue=function(){for(var Q=this.consumeToken();Q.type===31;)Q=this.consumeToken();if(Q.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(Q);var Z=this.consumeComponentValue();do Q=this.consumeToken();while(Q.type===31);if(Q.type===32)return Z;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},q.prototype.parseComponentValues=function(){for(var Q=[];;){var Z=this.consumeComponentValue();if(Z.type===32)return Q;Q.push(Z),Q.push()}},q.prototype.consumeComponentValue=function(){var Q=this.consumeToken();switch(Q.type){case 11:case 28:case 2:return this.consumeSimpleBlock(Q.type);case 19:return this.consumeFunction(Q)}return Q},q.prototype.consumeSimpleBlock=function(Q){for(var Z={type:Q,values:[]},te=this.consumeToken();;){if(te.type===32||fn(te,Q))return Z;this.reconsumeToken(te),Z.values.push(this.consumeComponentValue()),te=this.consumeToken()}},q.prototype.consumeFunction=function(Q){for(var Z={name:Q.value,values:[],type:18};;){var te=this.consumeToken();if(te.type===32||te.type===3)return Z;this.reconsumeToken(te),Z.values.push(this.consumeComponentValue())}},q.prototype.consumeToken=function(){var Q=this._tokens.shift();return typeof Q>"u"?ts:Q},q.prototype.reconsumeToken=function(Q){this._tokens.unshift(Q)},q})(),Dn=function(q){return q.type===15},Is=function(q){return q.type===17},dt=function(q){return q.type===20},Rt=function(q){return q.type===0},ir=function(q,Q){return dt(q)&&q.value===Q},Xt=function(q){return q.type!==31},_r=function(q){return q.type!==31&&q.type!==4},Lr=function(q){var Q=[],Z=[];return q.forEach(function(te){if(te.type===4){if(Z.length===0)throw new Error("Error parsing function args, zero tokens for arg");Q.push(Z),Z=[];return}te.type!==31&&Z.push(te)}),Z.length&&Q.push(Z),Q},fn=function(q,Q){return Q===11&&q.type===12||Q===28&&q.type===29?!0:Q===2&&q.type===3},dn=function(q){return q.type===17||q.type===15},fr=function(q){return q.type===16||dn(q)},xn=function(q){return q.length>1?[q[0],q[1]]:[q[0]]},Bn={type:17,number:0,flags:si},un={type:16,number:50,flags:si},qn={type:16,number:100,flags:si},Fn=function(q,Q,Z){var te=q[0],Pe=q[1];return[Es(te,Q),Es(typeof Pe<"u"?Pe:te,Z)]},Es=function(q,Q){if(q.type===16)return q.number/100*Q;if(Dn(q))switch(q.unit){case"rem":case"em":return 16*q.number;case"px":default:return q.number}return q.number},Jn="deg",ms="grad",Ps="rad",Vi="turn",as={name:"angle",parse:function(q,Q){if(Q.type===15)switch(Q.unit){case Jn:return Math.PI*Q.number/180;case ms:return Math.PI/200*Q.number;case Ps:return Q.number;case Vi:return Math.PI*2*Q.number}throw new Error("Unsupported angle type")}},Mi=function(q){return q.type===15&&(q.unit===Jn||q.unit===ms||q.unit===Ps||q.unit===Vi)},ks=function(q){var Q=q.filter(dt).map(function(Z){return Z.value}).join(" ");switch(Q){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Bn,Bn];case"to top":case"bottom":return ls(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Bn,qn];case"to right":case"left":return ls(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qn,qn];case"to bottom":case"top":return ls(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qn,Bn];case"to left":case"right":return ls(270)}return 0},ls=function(q){return Math.PI*q/180},$i={name:"color",parse:function(q,Q){if(Q.type===18){var Z=Ms[Q.name];if(typeof Z>"u")throw new Error('Attempting to parse an unsupported color function "'+Q.name+'"');return Z(q,Q.values)}if(Q.type===5){if(Q.value.length===3){var te=Q.value.substring(0,1),Pe=Q.value.substring(1,2),De=Q.value.substring(2,3);return ai(parseInt(te+te,16),parseInt(Pe+Pe,16),parseInt(De+De,16),1)}if(Q.value.length===4){var te=Q.value.substring(0,1),Pe=Q.value.substring(1,2),De=Q.value.substring(2,3),Xe=Q.value.substring(3,4);return ai(parseInt(te+te,16),parseInt(Pe+Pe,16),parseInt(De+De,16),parseInt(Xe+Xe,16)/255)}if(Q.value.length===6){var te=Q.value.substring(0,2),Pe=Q.value.substring(2,4),De=Q.value.substring(4,6);return ai(parseInt(te,16),parseInt(Pe,16),parseInt(De,16),1)}if(Q.value.length===8){var te=Q.value.substring(0,2),Pe=Q.value.substring(2,4),De=Q.value.substring(4,6),Xe=Q.value.substring(6,8);return ai(parseInt(te,16),parseInt(Pe,16),parseInt(De,16),parseInt(Xe,16)/255)}}if(Q.type===20){var vt=ro[Q.value.toUpperCase()];if(typeof vt<"u")return vt}return ro.TRANSPARENT}},pn=function(q){return(255&q)===0},In=function(q){var Q=255&q,Z=255&q>>8,te=255&q>>16,Pe=255&q>>24;return Q<255?"rgba("+Pe+","+te+","+Z+","+Q/255+")":"rgb("+Pe+","+te+","+Z+")"},ai=function(q,Q,Z,te){return(q<<24|Q<<16|Z<<8|Math.round(te*255)<<0)>>>0},rl=function(q,Q){if(q.type===17)return q.number;if(q.type===16){var Z=Q===3?1:255;return Q===3?q.number/100*Z:Math.round(q.number/100*Z)}return 0},ja=function(q,Q){var Z=Q.filter(_r);if(Z.length===3){var te=Z.map(rl),Pe=te[0],De=te[1],Xe=te[2];return ai(Pe,De,Xe,1)}if(Z.length===4){var vt=Z.map(rl),Pe=vt[0],De=vt[1],Xe=vt[2],xt=vt[3];return ai(Pe,De,Xe,xt)}return 0};function $a(q,Q,Z){return Z<0&&(Z+=1),Z>=1&&(Z-=1),Z<1/6?(Q-q)*Z*6+q:Z<1/2?Q:Z<2/3?(Q-q)*6*(2/3-Z)+q:q}var yl=function(q,Q){var Z=Q.filter(_r),te=Z[0],Pe=Z[1],De=Z[2],Xe=Z[3],vt=(te.type===17?ls(te.number):as.parse(q,te))/(Math.PI*2),xt=fr(Pe)?Pe.number/100:0,qt=fr(De)?De.number/100:0,Jt=typeof Xe<"u"&&fr(Xe)?Es(Xe,1):1;if(xt===0)return ai(qt*255,qt*255,qt*255,1);var gr=qt<=.5?qt*(xt+1):qt+xt-qt*xt,Vr=qt*2-gr,Zn=$a(Vr,gr,vt+1/3),Mn=$a(Vr,gr,vt),Gn=$a(Vr,gr,vt-1/3);return ai(Zn*255,Mn*255,Gn*255,Jt)},Ms={hsl:yl,hsla:yl,rgb:ja,rgba:ja},Sa=function(q,Q){return $i.parse(q,bt.create(Q).parseComponentValue())},ro={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zo={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(q,Q){return Q.map(function(Z){if(dt(Z))switch(Z.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ba={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ea=function(q,Q){var Z=$i.parse(q,Q[0]),te=Q[1];return te&&fr(te)?{color:Z,stop:te}:{color:Z,stop:null}},Na=function(q,Q){var Z=q[0],te=q[q.length-1];Z.stop===null&&(Z.stop=Bn),te.stop===null&&(te.stop=qn);for(var Pe=[],De=0,Xe=0;Xe<q.length;Xe++){var vt=q[Xe].stop;if(vt!==null){var xt=Es(vt,Q);xt>De?Pe.push(xt):Pe.push(De),De=xt}else Pe.push(null)}for(var qt=null,Xe=0;Xe<Pe.length;Xe++){var Jt=Pe[Xe];if(Jt===null)qt===null&&(qt=Xe);else if(qt!==null){for(var gr=Xe-qt,Vr=Pe[qt-1],Zn=(Jt-Vr)/(gr+1),Mn=1;Mn<=gr;Mn++)Pe[qt+Mn-1]=Zn*Mn;qt=null}}return q.map(function(Gn,Ai){var xs=Gn.color;return{color:xs,stop:Math.max(Math.min(1,Pe[Ai]/Q),0)}})},Ya=function(q,Q,Z){var te=Q/2,Pe=Z/2,De=Es(q[0],Q)-te,Xe=Pe-Es(q[1],Z);return(Math.atan2(Xe,De)+Math.PI*2)%(Math.PI*2)},Dl=function(q,Q,Z){var te=typeof q=="number"?q:Ya(q,Q,Z),Pe=Math.abs(Q*Math.sin(te))+Math.abs(Z*Math.cos(te)),De=Q/2,Xe=Z/2,vt=Pe/2,xt=Math.sin(te-Math.PI/2)*vt,qt=Math.cos(te-Math.PI/2)*vt;return[Pe,De-qt,De+qt,Xe-xt,Xe+xt]},Va=function(q,Q){return Math.sqrt(q*q+Q*Q)},So=function(q,Q,Z,te,Pe){var De=[[0,0],[0,Q],[q,0],[q,Q]];return De.reduce(function(Xe,vt){var xt=vt[0],qt=vt[1],Jt=Va(Z-xt,te-qt);return(Pe?Jt<Xe.optimumDistance:Jt>Xe.optimumDistance)?{optimumCorner:vt,optimumDistance:Jt}:Xe},{optimumDistance:Pe?1/0:-1/0,optimumCorner:null}).optimumCorner},bl=function(q,Q,Z,te,Pe){var De=0,Xe=0;switch(q.size){case 0:q.shape===0?De=Xe=Math.min(Math.abs(Q),Math.abs(Q-te),Math.abs(Z),Math.abs(Z-Pe)):q.shape===1&&(De=Math.min(Math.abs(Q),Math.abs(Q-te)),Xe=Math.min(Math.abs(Z),Math.abs(Z-Pe)));break;case 2:if(q.shape===0)De=Xe=Math.min(Va(Q,Z),Va(Q,Z-Pe),Va(Q-te,Z),Va(Q-te,Z-Pe));else if(q.shape===1){var vt=Math.min(Math.abs(Z),Math.abs(Z-Pe))/Math.min(Math.abs(Q),Math.abs(Q-te)),xt=So(te,Pe,Q,Z,!0),qt=xt[0],Jt=xt[1];De=Va(qt-Q,(Jt-Z)/vt),Xe=vt*De}break;case 1:q.shape===0?De=Xe=Math.max(Math.abs(Q),Math.abs(Q-te),Math.abs(Z),Math.abs(Z-Pe)):q.shape===1&&(De=Math.max(Math.abs(Q),Math.abs(Q-te)),Xe=Math.max(Math.abs(Z),Math.abs(Z-Pe)));break;case 3:if(q.shape===0)De=Xe=Math.max(Va(Q,Z),Va(Q,Z-Pe),Va(Q-te,Z),Va(Q-te,Z-Pe));else if(q.shape===1){var vt=Math.max(Math.abs(Z),Math.abs(Z-Pe))/Math.max(Math.abs(Q),Math.abs(Q-te)),gr=So(te,Pe,Q,Z,!1),qt=gr[0],Jt=gr[1];De=Va(qt-Q,(Jt-Z)/vt),Xe=vt*De}break}return Array.isArray(q.size)&&(De=Es(q.size[0],te),Xe=q.size.length===2?Es(q.size[1],Pe):De),[De,Xe]},nl=function(q,Q){var Z=ls(180),te=[];return Lr(Q).forEach(function(Pe,De){if(De===0){var Xe=Pe[0];if(Xe.type===20&&Xe.value==="to"){Z=ks(Pe);return}else if(Mi(Xe)){Z=as.parse(q,Xe);return}}var vt=ea(q,Pe);te.push(vt)}),{angle:Z,stops:te,type:1}},Ga=function(q,Q){var Z=ls(180),te=[];return Lr(Q).forEach(function(Pe,De){if(De===0){var Xe=Pe[0];if(Xe.type===20&&["top","left","right","bottom"].indexOf(Xe.value)!==-1){Z=ks(Pe);return}else if(Mi(Xe)){Z=(as.parse(q,Xe)+ls(270))%ls(360);return}}var vt=ea(q,Pe);te.push(vt)}),{angle:Z,stops:te,type:1}},Co=function(q,Q){var Z=ls(180),te=[],Pe=1,De=0,Xe=3,vt=[];return Lr(Q).forEach(function(xt,qt){var Jt=xt[0];if(qt===0){if(dt(Jt)&&Jt.value==="linear"){Pe=1;return}else if(dt(Jt)&&Jt.value==="radial"){Pe=2;return}}if(Jt.type===18){if(Jt.name==="from"){var gr=$i.parse(q,Jt.values[0]);te.push({stop:Bn,color:gr})}else if(Jt.name==="to"){var gr=$i.parse(q,Jt.values[0]);te.push({stop:qn,color:gr})}else if(Jt.name==="color-stop"){var Vr=Jt.values.filter(_r);if(Vr.length===2){var gr=$i.parse(q,Vr[1]),Zn=Vr[0];Is(Zn)&&te.push({stop:{type:16,number:Zn.number*100,flags:Zn.flags},color:gr})}}}}),Pe===1?{angle:(Z+ls(180))%ls(360),stops:te,type:Pe}:{size:Xe,shape:De,stops:te,position:vt,type:Pe}},Qo="closest-side",go="farthest-side",lo="closest-corner",sl="farthest-corner",Vo="circle",wl="ellipse",Cc="cover",Nl="contain",_c=function(q,Q){var Z=0,te=3,Pe=[],De=[];return Lr(Q).forEach(function(Xe,vt){var xt=!0;if(vt===0){var qt=!1;xt=Xe.reduce(function(gr,Vr){if(qt)if(dt(Vr))switch(Vr.value){case"center":return De.push(un),gr;case"top":case"left":return De.push(Bn),gr;case"right":case"bottom":return De.push(qn),gr}else(fr(Vr)||dn(Vr))&&De.push(Vr);else if(dt(Vr))switch(Vr.value){case Vo:return Z=0,!1;case wl:return Z=1,!1;case"at":return qt=!0,!1;case Qo:return te=0,!1;case Cc:case go:return te=1,!1;case Nl:case lo:return te=2,!1;case sl:return te=3,!1}else if(dn(Vr)||fr(Vr))return Array.isArray(te)||(te=[]),te.push(Vr),!1;return gr},xt)}if(xt){var Jt=ea(q,Xe);Pe.push(Jt)}}),{size:te,shape:Z,stops:Pe,position:De,type:2}},Ul=function(q,Q){var Z=0,te=3,Pe=[],De=[];return Lr(Q).forEach(function(Xe,vt){var xt=!0;if(vt===0?xt=Xe.reduce(function(Jt,gr){if(dt(gr))switch(gr.value){case"center":return De.push(un),!1;case"top":case"left":return De.push(Bn),!1;case"right":case"bottom":return De.push(qn),!1}else if(fr(gr)||dn(gr))return De.push(gr),!1;return Jt},xt):vt===1&&(xt=Xe.reduce(function(Jt,gr){if(dt(gr))switch(gr.value){case Vo:return Z=0,!1;case wl:return Z=1,!1;case Nl:case Qo:return te=0,!1;case go:return te=1,!1;case lo:return te=2,!1;case Cc:case sl:return te=3,!1}else if(dn(gr)||fr(gr))return Array.isArray(te)||(te=[]),te.push(gr),!1;return Jt},xt)),xt){var qt=ea(q,Xe);Pe.push(qt)}}),{size:te,shape:Z,stops:Pe,position:De,type:2}},xo=function(q){return q.type===1},Hl=function(q){return q.type===2},Jl={name:"image",parse:function(q,Q){if(Q.type===22){var Z={url:Q.value,type:0};return q.cache.addImage(Q.value),Z}if(Q.type===18){var te=Go[Q.name];if(typeof te>"u")throw new Error('Attempting to parse an unsupported image function "'+Q.name+'"');return te(q,Q.values)}throw new Error("Unsupported image type "+Q.type)}};function dc(q){return!(q.type===20&&q.value==="none")&&(q.type!==18||!!Go[q.name])}var Go={"linear-gradient":nl,"-moz-linear-gradient":Ga,"-ms-linear-gradient":Ga,"-o-linear-gradient":Ga,"-webkit-linear-gradient":Ga,"radial-gradient":_c,"-moz-radial-gradient":Ul,"-ms-radial-gradient":Ul,"-o-radial-gradient":Ul,"-webkit-radial-gradient":Ul,"-webkit-gradient":Co},fc={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(q,Q){if(Q.length===0)return[];var Z=Q[0];return Z.type===20&&Z.value==="none"?[]:Q.filter(function(te){return _r(te)&&dc(te)}).map(function(te){return Jl.parse(q,te)})}},hc={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(q,Q){return Q.map(function(Z){if(dt(Z))switch(Z.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},il={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(q,Q){return Lr(Q).map(function(Z){return Z.filter(fr)}).map(xn)}},pc={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(q,Q){return Lr(Q).map(function(Z){return Z.filter(dt).map(function(te){return te.value}).join(" ")}).map(Zl)}},Zl=function(q){switch(q){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ds;(function(q){q.AUTO="auto",q.CONTAIN="contain",q.COVER="cover"})(Ds||(Ds={}));var Rc={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(q,Q){return Lr(Q).map(function(Z){return Z.filter(al)})}},al=function(q){return dt(q)||fr(q)},Di=function(q){return{name:"border-"+q+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Nc=Di("top"),Oo=Di("right"),Pa=Di("bottom"),El=Di("left"),zl=function(q){return{name:"border-radius-"+q,initialValue:"0 0",prefix:!1,type:1,parse:function(Q,Z){return xn(Z.filter(fr))}}},Ko=zl("top-left"),Ac=zl("top-right"),vo=zl("bottom-right"),Pc=zl("bottom-left"),ec=function(q){return{name:"border-"+q+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(Q,Z){switch(Z){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},kc=ec("top"),Ql=ec("right"),tc=ec("bottom"),rc=ec("left"),nc=function(q){return{name:"border-"+q+"-width",initialValue:"0",type:0,prefix:!1,parse:function(Q,Z){return Dn(Z)?Z.number:0}}},sc=nc("top"),Bc=nc("right"),qo=nc("bottom"),bu=nc("left"),ic={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xc={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"rtl":return 1;case"ltr":default:return 0}}},wu={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(q,Q){return Q.filter(dt).reduce(function(Z,te){return Z|zs(te.value)},0)}},zs=function(q){switch(q){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Pl={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},uu={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(q,Q){return Q.type===20&&Q.value==="normal"?0:Q.type===17||Q.type===15?Q.number:0}},jl;(function(q){q.NORMAL="normal",q.STRICT="strict"})(jl||(jl={}));var no={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"strict":return jl.STRICT;case"normal":default:return jl.NORMAL}}},Wo={name:"line-height",initialValue:"normal",prefix:!1,type:4},ol=function(q,Q){return dt(q)&&q.value==="normal"?1.2*Q:q.type===17?Q*q.number:fr(q)?Es(q,Q):Q},Jc={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(q,Q){return Q.type===20&&Q.value==="none"?null:Jl.parse(q,Q)}},Mo={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"inside":return 0;case"outside":default:return 1}}},mc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},yo=function(q){return{name:"margin-"+q,initialValue:"0",prefix:!1,type:4}},ac=yo("top"),Fo=yo("right"),Ic=yo("bottom"),Sl=yo("left"),ll={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(q,Q){return Q.filter(dt).map(function(Z){switch(Z.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Yo={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ci=function(q){return{name:"padding-"+q,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},qi=Ci("top"),Xo=Ci("right"),Ca=Ci("bottom"),Ia=Ci("left"),Cl={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Vl={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},co={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(q,Q){return Q.length===1&&ir(Q[0],"none")?[]:Lr(Q).map(function(Z){for(var te={color:ro.TRANSPARENT,offsetX:Bn,offsetY:Bn,blur:Bn},Pe=0,De=0;De<Z.length;De++){var Xe=Z[De];dn(Xe)?(Pe===0?te.offsetX=Xe:Pe===1?te.offsetY=Xe:te.blur=Xe,Pe++):te.color=$i.parse(q,Xe)}return te})}},cl={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},kl={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(q,Q){if(Q.type===20&&Q.value==="none")return null;if(Q.type===18){var Z=eu[Q.name];if(typeof Z>"u")throw new Error('Attempting to parse an unsupported transform function "'+Q.name+'"');return Z(Q.values)}return null}},Zc=function(q){var Q=q.filter(function(Z){return Z.type===17}).map(function(Z){return Z.number});return Q.length===6?Q:null},Bl=function(q){var Q=q.filter(function(xt){return xt.type===17}).map(function(xt){return xt.number}),Z=Q[0],te=Q[1];Q[2],Q[3];var Pe=Q[4],De=Q[5];Q[6],Q[7],Q[8],Q[9],Q[10],Q[11];var Xe=Q[12],vt=Q[13];return Q[14],Q[15],Q.length===16?[Z,te,Pe,De,Xe,vt]:null},eu={matrix:Zc,matrix3d:Bl},Ce={type:16,number:50,flags:si},Ge=[Ce,Ce],_t={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(q,Q){var Z=Q.filter(fr);return Z.length!==2?Ge:[Z[0],Z[1]]}},Ht={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},cr;(function(q){q.NORMAL="normal",q.BREAK_ALL="break-all",q.KEEP_ALL="keep-all"})(cr||(cr={}));for(var Ur={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"break-all":return cr.BREAK_ALL;case"keep-all":return cr.KEEP_ALL;case"normal":default:return cr.NORMAL}}},nn={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(q,Q){if(Q.type===20)return{auto:!0,order:0};if(Is(Q))return{auto:!1,order:Q.number};throw new Error("Invalid z-index number parsed")}},ns={name:"time",parse:function(q,Q){if(Q.type===15)switch(Q.unit.toLowerCase()){case"s":return 1e3*Q.number;case"ms":return Q.number}throw new Error("Unsupported time type")}},cs={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(q,Q){return Is(Q)?Q.number:1}},Fs={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Rs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(q,Q){return Q.filter(dt).map(function(Z){switch(Z.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(Z){return Z!==0})}},Zs={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(q,Q){var Z=[],te=[];return Q.forEach(function(Pe){switch(Pe.type){case 20:case 0:Z.push(Pe.value);break;case 17:Z.push(Pe.number.toString());break;case 4:te.push(Z.join(" ")),Z.length=0;break}}),Z.length&&te.push(Z.join(" ")),te.map(function(Pe){return Pe.indexOf(" ")===-1?Pe:"'"+Pe+"'"})}},ta={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},na={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(q,Q){if(Is(Q))return Q.number;if(dt(Q))switch(Q.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ii={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(q,Q){return Q.filter(dt).map(function(Z){return Z.value})}},ga={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(q,Q){switch(Q){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},G=function(q,Q){return(q&Q)!==0},Ue={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(q,Q){if(Q.length===0)return[];var Z=Q[0];return Z.type===20&&Z.value==="none"?[]:Q}},ve={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(q,Q){if(Q.length===0)return null;var Z=Q[0];if(Z.type===20&&Z.value==="none")return null;for(var te=[],Pe=Q.filter(Xt),De=0;De<Pe.length;De++){var Xe=Pe[De],vt=Pe[De+1];if(Xe.type===20){var xt=vt&&Is(vt)?vt.number:1;te.push({counter:Xe.value,increment:xt})}}return te}},rt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(q,Q){if(Q.length===0)return[];for(var Z=[],te=Q.filter(Xt),Pe=0;Pe<te.length;Pe++){var De=te[Pe],Xe=te[Pe+1];if(dt(De)&&De.value!=="none"){var vt=Xe&&Is(Xe)?Xe.number:0;Z.push({counter:De.value,reset:vt})}}return Z}},Et={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(q,Q){return Q.filter(Dn).map(function(Z){return ns.parse(q,Z)})}},gt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(q,Q){if(Q.length===0)return null;var Z=Q[0];if(Z.type===20&&Z.value==="none")return null;var te=[],Pe=Q.filter(Rt);if(Pe.length%2!==0)return null;for(var De=0;De<Pe.length;De+=2){var Xe=Pe[De].value,vt=Pe[De+1].value;te.push({open:Xe,close:vt})}return te}},pr=function(q,Q,Z){if(!q)return"";var te=q[Math.min(Q,q.length-1)];return te?Z?te.open:te.close:""},rr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(q,Q){return Q.length===1&&ir(Q[0],"none")?[]:Lr(Q).map(function(Z){for(var te={color:255,offsetX:Bn,offsetY:Bn,blur:Bn,spread:Bn,inset:!1},Pe=0,De=0;De<Z.length;De++){var Xe=Z[De];ir(Xe,"inset")?te.inset=!0:dn(Xe)?(Pe===0?te.offsetX=Xe:Pe===1?te.offsetY=Xe:Pe===2?te.blur=Xe:te.spread=Xe,Pe++):te.color=$i.parse(q,Xe)}return te})}},rs={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(q,Q){var Z=[0,1,2],te=[];return Q.filter(dt).forEach(function(Pe){switch(Pe.value){case"stroke":te.push(1);break;case"fill":te.push(0);break;case"markers":te.push(2);break}}),Z.forEach(function(Pe){te.indexOf(Pe)===-1&&te.push(Pe)}),te}},zt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},wr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(q,Q){return Dn(Q)?Q.number:0}},Ls=(function(){function q(Q,Z){var te,Pe;this.animationDuration=Hr(Q,Et,Z.animationDuration),this.backgroundClip=Hr(Q,zo,Z.backgroundClip),this.backgroundColor=Hr(Q,Ba,Z.backgroundColor),this.backgroundImage=Hr(Q,fc,Z.backgroundImage),this.backgroundOrigin=Hr(Q,hc,Z.backgroundOrigin),this.backgroundPosition=Hr(Q,il,Z.backgroundPosition),this.backgroundRepeat=Hr(Q,pc,Z.backgroundRepeat),this.backgroundSize=Hr(Q,Rc,Z.backgroundSize),this.borderTopColor=Hr(Q,Nc,Z.borderTopColor),this.borderRightColor=Hr(Q,Oo,Z.borderRightColor),this.borderBottomColor=Hr(Q,Pa,Z.borderBottomColor),this.borderLeftColor=Hr(Q,El,Z.borderLeftColor),this.borderTopLeftRadius=Hr(Q,Ko,Z.borderTopLeftRadius),this.borderTopRightRadius=Hr(Q,Ac,Z.borderTopRightRadius),this.borderBottomRightRadius=Hr(Q,vo,Z.borderBottomRightRadius),this.borderBottomLeftRadius=Hr(Q,Pc,Z.borderBottomLeftRadius),this.borderTopStyle=Hr(Q,kc,Z.borderTopStyle),this.borderRightStyle=Hr(Q,Ql,Z.borderRightStyle),this.borderBottomStyle=Hr(Q,tc,Z.borderBottomStyle),this.borderLeftStyle=Hr(Q,rc,Z.borderLeftStyle),this.borderTopWidth=Hr(Q,sc,Z.borderTopWidth),this.borderRightWidth=Hr(Q,Bc,Z.borderRightWidth),this.borderBottomWidth=Hr(Q,qo,Z.borderBottomWidth),this.borderLeftWidth=Hr(Q,bu,Z.borderLeftWidth),this.boxShadow=Hr(Q,rr,Z.boxShadow),this.color=Hr(Q,ic,Z.color),this.direction=Hr(Q,Xc,Z.direction),this.display=Hr(Q,wu,Z.display),this.float=Hr(Q,Pl,Z.cssFloat),this.fontFamily=Hr(Q,Zs,Z.fontFamily),this.fontSize=Hr(Q,ta,Z.fontSize),this.fontStyle=Hr(Q,ga,Z.fontStyle),this.fontVariant=Hr(Q,Ii,Z.fontVariant),this.fontWeight=Hr(Q,na,Z.fontWeight),this.letterSpacing=Hr(Q,uu,Z.letterSpacing),this.lineBreak=Hr(Q,no,Z.lineBreak),this.lineHeight=Hr(Q,Wo,Z.lineHeight),this.listStyleImage=Hr(Q,Jc,Z.listStyleImage),this.listStylePosition=Hr(Q,Mo,Z.listStylePosition),this.listStyleType=Hr(Q,mc,Z.listStyleType),this.marginTop=Hr(Q,ac,Z.marginTop),this.marginRight=Hr(Q,Fo,Z.marginRight),this.marginBottom=Hr(Q,Ic,Z.marginBottom),this.marginLeft=Hr(Q,Sl,Z.marginLeft),this.opacity=Hr(Q,cs,Z.opacity);var De=Hr(Q,ll,Z.overflow);this.overflowX=De[0],this.overflowY=De[De.length>1?1:0],this.overflowWrap=Hr(Q,Yo,Z.overflowWrap),this.paddingTop=Hr(Q,qi,Z.paddingTop),this.paddingRight=Hr(Q,Xo,Z.paddingRight),this.paddingBottom=Hr(Q,Ca,Z.paddingBottom),this.paddingLeft=Hr(Q,Ia,Z.paddingLeft),this.paintOrder=Hr(Q,rs,Z.paintOrder),this.position=Hr(Q,Vl,Z.position),this.textAlign=Hr(Q,Cl,Z.textAlign),this.textDecorationColor=Hr(Q,Fs,(te=Z.textDecorationColor)!==null&&te!==void 0?te:Z.color),this.textDecorationLine=Hr(Q,Rs,(Pe=Z.textDecorationLine)!==null&&Pe!==void 0?Pe:Z.textDecoration),this.textShadow=Hr(Q,co,Z.textShadow),this.textTransform=Hr(Q,cl,Z.textTransform),this.transform=Hr(Q,kl,Z.transform),this.transformOrigin=Hr(Q,_t,Z.transformOrigin),this.visibility=Hr(Q,Ht,Z.visibility),this.webkitTextStrokeColor=Hr(Q,zt,Z.webkitTextStrokeColor),this.webkitTextStrokeWidth=Hr(Q,wr,Z.webkitTextStrokeWidth),this.wordBreak=Hr(Q,Ur,Z.wordBreak),this.zIndex=Hr(Q,nn,Z.zIndex)}return q.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},q.prototype.isTransparent=function(){return pn(this.backgroundColor)},q.prototype.isTransformed=function(){return this.transform!==null},q.prototype.isPositioned=function(){return this.position!==0},q.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},q.prototype.isFloating=function(){return this.float!==0},q.prototype.isInlineLevel=function(){return G(this.display,4)||G(this.display,33554432)||G(this.display,268435456)||G(this.display,536870912)||G(this.display,67108864)||G(this.display,134217728)},q})(),Qn=(function(){function q(Q,Z){this.content=Hr(Q,Ue,Z.content),this.quotes=Hr(Q,gt,Z.quotes)}return q})(),An=(function(){function q(Q,Z){this.counterIncrement=Hr(Q,ve,Z.counterIncrement),this.counterReset=Hr(Q,rt,Z.counterReset)}return q})(),Hr=function(q,Q,Z){var te=new ws,Pe=Z!==null&&typeof Z<"u"?Z.toString():Q.initialValue;te.write(Pe);var De=new bt(te.read());switch(Q.type){case 2:var Xe=De.parseComponentValue();return Q.parse(q,dt(Xe)?Xe.value:Q.initialValue);case 0:return Q.parse(q,De.parseComponentValue());case 1:return Q.parse(q,De.parseComponentValues());case 4:return De.parseComponentValue();case 3:switch(Q.format){case"angle":return as.parse(q,De.parseComponentValue());case"color":return $i.parse(q,De.parseComponentValue());case"image":return Jl.parse(q,De.parseComponentValue());case"length":var vt=De.parseComponentValue();return dn(vt)?vt:Bn;case"length-percentage":var xt=De.parseComponentValue();return fr(xt)?xt:Bn;case"time":return ns.parse(q,De.parseComponentValue())}break}},sa="data-html2canvas-debug",Us=function(q){var Q=q.getAttribute(sa);switch(Q){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ts=function(q,Q){var Z=Us(q);return Z===1||Q===Z},Qs=(function(){function q(Q,Z){if(this.context=Q,this.textNodes=[],this.elements=[],this.flags=0,Ts(Z,3))debugger;this.styles=new Ls(Q,window.getComputedStyle(Z,null)),Hc(Z)&&(this.styles.animationDuration.some(function(te){return te>0})&&(Z.style.animationDuration="0s"),this.styles.transform!==null&&(Z.style.transform="none")),this.bounds=f(this.context,Z),Ts(Z,4)&&(this.flags|=16)}return q})(),hi="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qs=typeof Uint8Array>"u"?[]:new Uint8Array(256),ha=0;ha<Ln.length;ha++)qs[Ln.charCodeAt(ha)]=ha;for(var ys=function(q){var Q=q.length*.75,Z=q.length,te,Pe=0,De,Xe,vt,xt;q[q.length-1]==="="&&(Q--,q[q.length-2]==="="&&Q--);var qt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Q):new Array(Q),Jt=Array.isArray(qt)?qt:new Uint8Array(qt);for(te=0;te<Z;te+=4)De=qs[q.charCodeAt(te)],Xe=qs[q.charCodeAt(te+1)],vt=qs[q.charCodeAt(te+2)],xt=qs[q.charCodeAt(te+3)],Jt[Pe++]=De<<2|Xe>>4,Jt[Pe++]=(Xe&15)<<4|vt>>2,Jt[Pe++]=(vt&3)<<6|xt&63;return qt},Ei=function(q){for(var Q=q.length,Z=[],te=0;te<Q;te+=2)Z.push(q[te+1]<<8|q[te]);return Z},ei=function(q){for(var Q=q.length,Z=[],te=0;te<Q;te+=4)Z.push(q[te+3]<<24|q[te+2]<<16|q[te+1]<<8|q[te]);return Z},us=5,Os=11,so=2,ul=Os-us,uo=65536>>us,Xa=1<<us,dl=Xa-1,Da=1024>>us,Eu=uo+Da,bo=Eu,_o=32,tu=bo+_o,du=65536>>Os,_l=1<<ul,Il=_l-1,Ol=function(q,Q,Z){return q.slice?q.slice(Q,Z):new Uint16Array(Array.prototype.slice.call(q,Q,Z))},gc=function(q,Q,Z){return q.slice?q.slice(Q,Z):new Uint32Array(Array.prototype.slice.call(q,Q,Z))},Gl=function(q,Q){var Z=ys(q),te=Array.isArray(Z)?ei(Z):new Uint32Array(Z),Pe=Array.isArray(Z)?Ei(Z):new Uint16Array(Z),De=24,Xe=Ol(Pe,De/2,te[4]/2),vt=te[5]===2?Ol(Pe,(De+te[4])/2):gc(te,Math.ceil((De+te[4])/4));return new Oc(te[0],te[1],te[2],te[3],Xe,vt)},Oc=(function(){function q(Q,Z,te,Pe,De,Xe){this.initialValue=Q,this.errorValue=Z,this.highStart=te,this.highValueIndex=Pe,this.index=De,this.data=Xe}return q.prototype.get=function(Q){var Z;if(Q>=0){if(Q<55296||Q>56319&&Q<=65535)return Z=this.index[Q>>us],Z=(Z<<so)+(Q&dl),this.data[Z];if(Q<=65535)return Z=this.index[uo+(Q-55296>>us)],Z=(Z<<so)+(Q&dl),this.data[Z];if(Q<this.highStart)return Z=tu-du+(Q>>Os),Z=this.index[Z],Z+=Q>>us&Il,Z=this.index[Z],Z=(Z<<so)+(Q&dl),this.data[Z];if(Q<=1114111)return this.data[this.highValueIndex]}return this.errorValue},q})(),Rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lo=typeof Uint8Array>"u"?[]:new Uint8Array(256),fo=0;fo<Rl.length;fo++)Lo[Rl.charCodeAt(fo)]=fo;var fl=1,Ri=2,ia=3,xa=4,Ja=5,Kl=7,pa=8,ql=9,Mc=10,ju=11,fu=12,Su=13,xc=14,_a=15,io=function(q){for(var Q=[],Z=0,te=q.length;Z<te;){var Pe=q.charCodeAt(Z++);if(Pe>=55296&&Pe<=56319&&Z<te){var De=q.charCodeAt(Z++);(De&64512)===56320?Q.push(((Pe&1023)<<10)+(De&1023)+65536):(Q.push(Pe),Z--)}else Q.push(Pe)}return Q},Ka=function(){for(var q=[],Q=0;Q<arguments.length;Q++)q[Q]=arguments[Q];if(String.fromCodePoint)return String.fromCodePoint.apply(String,q);var Z=q.length;if(!Z)return"";for(var te=[],Pe=-1,De="";++Pe<Z;){var Xe=q[Pe];Xe<=65535?te.push(Xe):(Xe-=65536,te.push((Xe>>10)+55296,Xe%1024+56320)),(Pe+1===Z||te.length>16384)&&(De+=String.fromCharCode.apply(String,te),te.length=0)}return De},Cu=Gl(hi),Ro="Ã—",Fc="Ã·",Sd=function(q){return Cu.get(q)},To=function(q,Q,Z){var te=Z-2,Pe=Q[te],De=Q[Z-1],Xe=Q[Z];if(De===Ri&&Xe===ia)return Ro;if(De===Ri||De===ia||De===xa||Xe===Ri||Xe===ia||Xe===xa)return Fc;if(De===pa&&[pa,ql,ju,fu].indexOf(Xe)!==-1||(De===ju||De===ql)&&(Xe===ql||Xe===Mc)||(De===fu||De===Mc)&&Xe===Mc||Xe===Su||Xe===Ja||Xe===Kl||De===fl)return Ro;if(De===Su&&Xe===xc){for(;Pe===Ja;)Pe=Q[--te];if(Pe===xc)return Ro}if(De===_a&&Xe===_a){for(var vt=0;Pe===_a;)vt++,Pe=Q[--te];if(vt%2===0)return Ro}return Fc},Du=function(q){var Q=io(q),Z=Q.length,te=0,Pe=0,De=Q.map(Sd);return{next:function(){if(te>=Z)return{done:!0,value:null};for(var Xe=Ro;te<Z&&(Xe=To(Q,De,++te))===Ro;);if(Xe!==Ro||te===Z){var vt=Ka.apply(null,Q.slice(Pe,te));return Pe=te,{value:vt,done:!1}}return{done:!0,value:null}}}},Uu=function(q){for(var Q=Du(q),Z=[],te;!(te=Q.next()).done;)te.value&&Z.push(te.value.slice());return Z},Hu=function(q){var Q=123;if(q.createRange){var Z=q.createRange();if(Z.getBoundingClientRect){var te=q.createElement("boundtest");te.style.height=Q+"px",te.style.display="block",q.body.appendChild(te),Z.selectNode(te);var Pe=Z.getBoundingClientRect(),De=Math.round(Pe.height);if(q.body.removeChild(te),De===Q)return!0}}return!1},Ml=function(q){var Q=q.createElement("boundtest");Q.style.width="50px",Q.style.display="block",Q.style.fontSize="12px",Q.style.letterSpacing="0px",Q.style.wordSpacing="0px",q.body.appendChild(Q);var Z=q.createRange();Q.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var te=Q.firstChild,Pe=v(te.data).map(function(xt){return b(xt)}),De=0,Xe={},vt=Pe.every(function(xt,qt){Z.setStart(te,De),Z.setEnd(te,De+xt.length);var Jt=Z.getBoundingClientRect();De+=xt.length;var gr=Jt.x>Xe.x||Jt.y>Xe.y;return Xe=Jt,qt===0?!0:gr});return q.body.removeChild(Q),vt},Jo=function(){return typeof new Image().crossOrigin<"u"},No=function(){return typeof new XMLHttpRequest().responseType=="string"},hl=function(q){var Q=new Image,Z=q.createElement("canvas"),te=Z.getContext("2d");if(!te)return!1;Q.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{te.drawImage(Q,0,0),Z.toDataURL()}catch{return!1}return!0},ru=function(q){return q[0]===0&&q[1]===255&&q[2]===0&&q[3]===255},_u=function(q){var Q=q.createElement("canvas"),Z=100;Q.width=Z,Q.height=Z;var te=Q.getContext("2d");if(!te)return Promise.reject(!1);te.fillStyle="rgb(0, 255, 0)",te.fillRect(0,0,Z,Z);var Pe=new Image,De=Q.toDataURL();Pe.src=De;var Xe=Ru(Z,Z,0,0,Pe);return te.fillStyle="red",te.fillRect(0,0,Z,Z),hu(Xe).then(function(vt){te.drawImage(vt,0,0);var xt=te.getImageData(0,0,Z,Z).data;te.fillStyle="red",te.fillRect(0,0,Z,Z);var qt=q.createElement("div");return qt.style.backgroundImage="url("+De+")",qt.style.height=Z+"px",ru(xt)?hu(Ru(Z,Z,0,0,qt)):Promise.reject(!1)}).then(function(vt){return te.drawImage(vt,0,0),ru(te.getImageData(0,0,Z,Z).data)}).catch(function(){return!1})},Ru=function(q,Q,Z,te,Pe){var De="http://www.w3.org/2000/svg",Xe=document.createElementNS(De,"svg"),vt=document.createElementNS(De,"foreignObject");return Xe.setAttributeNS(null,"width",q.toString()),Xe.setAttributeNS(null,"height",Q.toString()),vt.setAttributeNS(null,"width","100%"),vt.setAttributeNS(null,"height","100%"),vt.setAttributeNS(null,"x",Z.toString()),vt.setAttributeNS(null,"y",te.toString()),vt.setAttributeNS(null,"externalResourcesRequired","true"),Xe.appendChild(vt),vt.appendChild(Pe),Xe},hu=function(q){return new Promise(function(Q,Z){var te=new Image;te.onload=function(){return Q(te)},te.onerror=Z,te.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(q))})},Za={get SUPPORT_RANGE_BOUNDS(){var q=Hu(document);return Object.defineProperty(Za,"SUPPORT_RANGE_BOUNDS",{value:q}),q},get SUPPORT_WORD_BREAKING(){var q=Za.SUPPORT_RANGE_BOUNDS&&Ml(document);return Object.defineProperty(Za,"SUPPORT_WORD_BREAKING",{value:q}),q},get SUPPORT_SVG_DRAWING(){var q=hl(document);return Object.defineProperty(Za,"SUPPORT_SVG_DRAWING",{value:q}),q},get SUPPORT_FOREIGNOBJECT_DRAWING(){var q=typeof Array.from=="function"&&typeof window.fetch=="function"?_u(document):Promise.resolve(!1);return Object.defineProperty(Za,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:q}),q},get SUPPORT_CORS_IMAGES(){var q=Jo();return Object.defineProperty(Za,"SUPPORT_CORS_IMAGES",{value:q}),q},get SUPPORT_RESPONSE_TYPE(){var q=No();return Object.defineProperty(Za,"SUPPORT_RESPONSE_TYPE",{value:q}),q},get SUPPORT_CORS_XHR(){var q="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Za,"SUPPORT_CORS_XHR",{value:q}),q},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var q=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Za,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:q}),q}},Lc=(function(){function q(Q,Z){this.text=Q,this.bounds=Z}return q})(),cd=function(q,Q,Z,te){var Pe=Vu(Q,Z),De=[],Xe=0;return Pe.forEach(function(vt){if(Z.textDecorationLine.length||vt.trim().length>0)if(Za.SUPPORT_RANGE_BOUNDS){var xt=Tu(te,Xe,vt.length).getClientRects();if(xt.length>1){var qt=oc(vt),Jt=0;qt.forEach(function(Vr){De.push(new Lc(Vr,m.fromDOMRectList(q,Tu(te,Jt+Xe,Vr.length).getClientRects()))),Jt+=Vr.length})}else De.push(new Lc(vt,m.fromDOMRectList(q,xt)))}else{var gr=te.splitText(vt.length);De.push(new Lc(vt,zu(q,te))),te=gr}else Za.SUPPORT_RANGE_BOUNDS||(te=te.splitText(vt.length));Xe+=vt.length}),De},zu=function(q,Q){var Z=Q.ownerDocument;if(Z){var te=Z.createElement("html2canvaswrapper");te.appendChild(Q.cloneNode(!0));var Pe=Q.parentNode;if(Pe){Pe.replaceChild(te,Q);var De=f(q,te);return te.firstChild&&Pe.replaceChild(te.firstChild,te),De}}return m.EMPTY},Tu=function(q,Q,Z){var te=q.ownerDocument;if(!te)throw new Error("Node has no owner document");var Pe=te.createRange();return Pe.setStart(q,Q),Pe.setEnd(q,Q+Z),Pe},oc=function(q){if(Za.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Q=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(Q.segment(q)).map(function(Z){return Z.segment})}return Uu(q)},Qu=function(q,Q){if(Za.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Z=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(Z.segment(q)).map(function(te){return te.segment})}return ud(q,Q)},Vu=function(q,Q){return Q.letterSpacing!==0?oc(q):Qu(q,Q)},Gu=[32,160,4961,65792,65793,4153,4241],ud=function(q,Q){for(var Z=ji(q,{lineBreak:Q.lineBreak,wordBreak:Q.overflowWrap==="break-word"?"break-word":Q.wordBreak}),te=[],Pe,De=function(){if(Pe.value){var Xe=Pe.value.slice(),vt=v(Xe),xt="";vt.forEach(function(qt){Gu.indexOf(qt)===-1?xt+=b(qt):(xt.length&&te.push(xt),te.push(b(qt)),xt="")}),xt.length&&te.push(xt)}};!(Pe=Z.next()).done;)De();return te},dd=(function(){function q(Q,Z,te){this.text=Cd(Z.data,te.textTransform),this.textBounds=cd(Q,this.text,te,Z)}return q})(),Cd=function(q,Q){switch(Q){case 1:return q.toLowerCase();case 3:return q.replace(_d,Rd);case 2:return q.toUpperCase();default:return q}},_d=/(^|\s|:|-|\(|\))([a-z])/g,Rd=function(q,Q,Z){return q.length>0?Q+Z.toUpperCase():q},fd=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;return Pe.src=te.currentSrc||te.src,Pe.intrinsicWidth=te.naturalWidth,Pe.intrinsicHeight=te.naturalHeight,Pe.context.cache.addImage(Pe.src),Pe}return Q})(Qs),pu=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;return Pe.canvas=te,Pe.intrinsicWidth=te.width,Pe.intrinsicHeight=te.height,Pe}return Q})(Qs),Nu=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this,De=new XMLSerializer,Xe=f(Z,te);return te.setAttribute("width",Xe.width+"px"),te.setAttribute("height",Xe.height+"px"),Pe.svg="data:image/svg+xml,"+encodeURIComponent(De.serializeToString(te)),Pe.intrinsicWidth=te.width.baseVal.value,Pe.intrinsicHeight=te.height.baseVal.value,Pe.context.cache.addImage(Pe.svg),Pe}return Q})(Qs),nu=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;return Pe.value=te.value,Pe}return Q})(Qs),Ku=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;return Pe.start=te.start,Pe.reversed=typeof te.reversed=="boolean"&&te.reversed===!0,Pe}return Q})(Qs),Pd=[{type:15,flags:0,unit:"px",number:3}],hd=[{type:16,flags:0,number:50}],kd=function(q){return q.width>q.height?new m(q.left+(q.width-q.height)/2,q.top,q.height,q.height):q.width<q.height?new m(q.left,q.top+(q.height-q.width)/2,q.width,q.width):q},Bd=function(q){var Q=q.type===vc?new Array(q.value.length+1).join("â€¢"):q.value;return Q.length===0?q.placeholder||"":Q},Pu="checkbox",ku="radio",vc="password",Zo=707406591,Wl=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;switch(Pe.type=te.type.toLowerCase(),Pe.checked=te.checked,Pe.value=Bd(te),(Pe.type===Pu||Pe.type===ku)&&(Pe.styles.backgroundColor=3739148031,Pe.styles.borderTopColor=Pe.styles.borderRightColor=Pe.styles.borderBottomColor=Pe.styles.borderLeftColor=2779096575,Pe.styles.borderTopWidth=Pe.styles.borderRightWidth=Pe.styles.borderBottomWidth=Pe.styles.borderLeftWidth=1,Pe.styles.borderTopStyle=Pe.styles.borderRightStyle=Pe.styles.borderBottomStyle=Pe.styles.borderLeftStyle=1,Pe.styles.backgroundClip=[0],Pe.styles.backgroundOrigin=[0],Pe.bounds=kd(Pe.bounds)),Pe.type){case Pu:Pe.styles.borderTopRightRadius=Pe.styles.borderTopLeftRadius=Pe.styles.borderBottomRightRadius=Pe.styles.borderBottomLeftRadius=Pd;break;case ku:Pe.styles.borderTopRightRadius=Pe.styles.borderTopLeftRadius=Pe.styles.borderBottomRightRadius=Pe.styles.borderBottomLeftRadius=hd;break}return Pe}return Q})(Qs),Td=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this,De=te.options[te.selectedIndex||0];return Pe.value=De&&De.text||"",Pe}return Q})(Qs),pd=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;return Pe.value=te.value,Pe}return Q})(Qs),ho=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;Pe.src=te.src,Pe.width=parseInt(te.width,10)||0,Pe.height=parseInt(te.height,10)||0,Pe.backgroundColor=Pe.styles.backgroundColor;try{if(te.contentWindow&&te.contentWindow.document&&te.contentWindow.document.documentElement){Pe.tree=qu(Z,te.contentWindow.document.documentElement);var De=te.contentWindow.document.documentElement?Sa(Z,getComputedStyle(te.contentWindow.document.documentElement).backgroundColor):ro.TRANSPARENT,Xe=te.contentWindow.document.body?Sa(Z,getComputedStyle(te.contentWindow.document.body).backgroundColor):ro.TRANSPARENT;Pe.backgroundColor=pn(De)?pn(Xe)?Pe.styles.backgroundColor:Xe:De}}catch{}return Pe}return Q})(Qs),pl=["OL","UL","MENU"],su=function(q,Q,Z,te){for(var Pe=Q.firstChild,De=void 0;Pe;Pe=De)if(De=Pe.nextSibling,$c(Pe)&&Pe.data.trim().length>0)Z.textNodes.push(new dd(q,Pe,Z.styles));else if(Uc(Pe))if(Zu(Pe)&&Pe.assignedNodes)Pe.assignedNodes().forEach(function(vt){return su(q,vt,Z,te)});else{var Xe=Ad(q,Pe);Xe.styles.isVisible()&&(md(Pe,Xe,te)?Xe.flags|=4:Wu(Xe.styles)&&(Xe.flags|=2),pl.indexOf(Pe.tagName)!==-1&&(Xe.flags|=8),Z.elements.push(Xe),Pe.slot,Pe.shadowRoot?su(q,Pe.shadowRoot,Xe,te):!Iu(Pe)&&!xd(Pe)&&!mu(Pe)&&su(q,Pe,Xe,te))}},Ad=function(q,Q){return Xu(Q)?new fd(q,Q):el(Q)?new pu(q,Q):xd(Q)?new Nu(q,Q):Au(Q)?new nu(q,Q):Yu(Q)?new Ku(q,Q):Nd(Q)?new Wl(q,Q):mu(Q)?new Td(q,Q):Iu(Q)?new pd(q,Q):yd(Q)?new ho(q,Q):new Qs(q,Q)},qu=function(q,Q){var Z=Ad(q,Q);return Z.flags|=4,su(q,Q,Z,Z),Z},md=function(q,Q,Z){return Q.styles.isPositionedWithZIndex()||Q.styles.opacity<1||Q.styles.isTransformed()||vd(q)&&Z.styles.isTransparent()},Wu=function(q){return q.isPositioned()||q.isFloating()},$c=function(q){return q.nodeType===Node.TEXT_NODE},Uc=function(q){return q.nodeType===Node.ELEMENT_NODE},Hc=function(q){return Uc(q)&&typeof q.style<"u"&&!iu(q)},iu=function(q){return typeof q.className=="object"},Au=function(q){return q.tagName==="LI"},Yu=function(q){return q.tagName==="OL"},Nd=function(q){return q.tagName==="INPUT"},gd=function(q){return q.tagName==="HTML"},xd=function(q){return q.tagName==="svg"},vd=function(q){return q.tagName==="BODY"},el=function(q){return q.tagName==="CANVAS"},$o=function(q){return q.tagName==="VIDEO"},Xu=function(q){return q.tagName==="IMG"},yd=function(q){return q.tagName==="IFRAME"},Ju=function(q){return q.tagName==="STYLE"},Bu=function(q){return q.tagName==="SCRIPT"},Iu=function(q){return q.tagName==="TEXTAREA"},mu=function(q){return q.tagName==="SELECT"},Zu=function(q){return q.tagName==="SLOT"},K=function(q){return q.tagName.indexOf("-")>0},he=(function(){function q(){this.counters={}}return q.prototype.getCounterValue=function(Q){var Z=this.counters[Q];return Z&&Z.length?Z[Z.length-1]:1},q.prototype.getCounterValues=function(Q){var Z=this.counters[Q];return Z||[]},q.prototype.pop=function(Q){var Z=this;Q.forEach(function(te){return Z.counters[te].pop()})},q.prototype.parse=function(Q){var Z=this,te=Q.counterIncrement,Pe=Q.counterReset,De=!0;te!==null&&te.forEach(function(vt){var xt=Z.counters[vt.counter];xt&&vt.increment!==0&&(De=!1,xt.length||xt.push(1),xt[Math.max(0,xt.length-1)]+=vt.increment)});var Xe=[];return De&&Pe.forEach(function(vt){var xt=Z.counters[vt.counter];Xe.push(vt.counter),xt||(xt=Z.counters[vt.counter]=[]),xt.push(vt.reset)}),Xe},q})(),Ne={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fe={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ”","Õ“","Õ’","Õ‘","Õ","Õ","ÕŽ","Õ","ÕŒ","Õ‹","ÕŠ","Õ‰","Õˆ","Õ‡","Õ†","Õ…","Õ„","Õƒ","Õ‚","Õ","Õ€","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},Ke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["×™×³","×˜×³","×—×³","×–×³","×•×³","×”×³","×“×³","×’×³","×‘×³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×ž","×œ","×›","×™×˜","×™×—","×™×–","×˜×–","×˜×•","×™","×˜","×—","×–","×•","×”","×“","×’","×‘","×"]},Je={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áƒµ","áƒ°","áƒ¯","áƒ´","áƒ®","áƒ­","áƒ¬","áƒ«","áƒª","áƒ©","áƒ¨","áƒ§","áƒ¦","áƒ¥","áƒ¤","áƒ³","áƒ¢","áƒ¡","áƒ ","áƒŸ","áƒž","áƒ","áƒ²","áƒœ","áƒ›","áƒš","áƒ™","áƒ˜","áƒ—","áƒ±","áƒ–","áƒ•","áƒ”","áƒ“","áƒ’","áƒ‘","áƒ"]},et=function(q,Q,Z,te,Pe,De){return q<Q||q>Z?yn(q,Pe,De.length>0):te.integers.reduce(function(Xe,vt,xt){for(;q>=vt;)q-=vt,Xe+=te.values[xt];return Xe},"")+De},ot=function(q,Q,Z,te){var Pe="";do Z||q--,Pe=te(q)+Pe,q/=Q;while(q*Q>=Q);return Pe},ct=function(q,Q,Z,te,Pe){var De=Z-Q+1;return(q<0?"-":"")+(ot(Math.abs(q),De,te,function(Xe){return b(Math.floor(Xe%De)+Q)})+Pe)},Ct=function(q,Q,Z){Z===void 0&&(Z=". ");var te=Q.length;return ot(Math.abs(q),te,!1,function(Pe){return Q[Math.floor(Pe%te)]})+Z},Qt=1,xr=2,jt=4,Kt=8,dr=function(q,Q,Z,te,Pe,De){if(q<-9999||q>9999)return yn(q,4,Pe.length>0);var Xe=Math.abs(q),vt=Pe;if(Xe===0)return Q[0]+vt;for(var xt=0;Xe>0&&xt<=4;xt++){var qt=Xe%10;qt===0&&G(De,Qt)&&vt!==""?vt=Q[qt]+vt:qt>1||qt===1&&xt===0||qt===1&&xt===1&&G(De,xr)||qt===1&&xt===1&&G(De,jt)&&q>100||qt===1&&xt>1&&G(De,Kt)?vt=Q[qt]+(xt>0?Z[xt-1]:"")+vt:qt===1&&xt>0&&(vt=Z[xt-1]+vt),Xe=Math.floor(Xe/10)}return(q<0?te:"")+vt},zr="åç™¾åƒè¬",yr="æ‹¾ä½°ä»Ÿè¬",Gr="ãƒžã‚¤ãƒŠã‚¹",Kr="ë§ˆì´ë„ˆìŠ¤",yn=function(q,Q,Z){var te=Z?". ":"",Pe=Z?"ã€":"",De=Z?", ":"",Xe=Z?" ":"";switch(Q){case 0:return"â€¢"+Xe;case 1:return"â—¦"+Xe;case 2:return"â—¾"+Xe;case 5:var vt=ct(q,48,57,!0,te);return vt.length<4?"0"+vt:vt;case 4:return Ct(q,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",Pe);case 6:return et(q,1,3999,Ne,3,te).toLowerCase();case 7:return et(q,1,3999,Ne,3,te);case 8:return ct(q,945,969,!1,te);case 9:return ct(q,97,122,!1,te);case 10:return ct(q,65,90,!1,te);case 11:return ct(q,1632,1641,!0,te);case 12:case 49:return et(q,1,9999,Fe,3,te);case 35:return et(q,1,9999,Fe,3,te).toLowerCase();case 13:return ct(q,2534,2543,!0,te);case 14:case 30:return ct(q,6112,6121,!0,te);case 15:return Ct(q,"å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥",Pe);case 16:return Ct(q,"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸",Pe);case 17:case 48:return dr(q,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",zr,"è² ",Pe,xr|jt|Kt);case 47:return dr(q,"é›¶å£¹è²³åƒè‚†ä¼é™¸æŸ’æŒçŽ–",yr,"è² ",Pe,Qt|xr|jt|Kt);case 42:return dr(q,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",zr,"è´Ÿ",Pe,xr|jt|Kt);case 41:return dr(q,"é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒçŽ–",yr,"è´Ÿ",Pe,Qt|xr|jt|Kt);case 26:return dr(q,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒä¸‡",Gr,Pe,0);case 25:return dr(q,"é›¶å£±å¼å‚å››ä¼å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒä¸‡",Gr,Pe,Qt|xr|jt);case 31:return dr(q,"ì˜ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬","ì‹­ë°±ì²œë§Œ",Kr,De,Qt|xr|jt);case 33:return dr(q,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬",Kr,De,0);case 32:return dr(q,"é›¶å£¹è²³åƒå››äº”å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒ",Kr,De,Qt|xr|jt);case 18:return ct(q,2406,2415,!0,te);case 20:return et(q,1,19999,Je,3,te);case 21:return ct(q,2790,2799,!0,te);case 22:return ct(q,2662,2671,!0,te);case 22:return et(q,1,10999,Ke,3,te);case 23:return Ct(q,"ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚ã‚‘ã‚’ã‚“");case 24:return Ct(q,"ã„ã‚ã¯ã«ã»ã¸ã¨ã¡ã‚Šã¬ã‚‹ã‚’ã‚ã‹ã‚ˆãŸã‚Œãã¤ã­ãªã‚‰ã‚€ã†ã‚ã®ãŠãã‚„ã¾ã‘ãµã“ãˆã¦ã‚ã•ãã‚†ã‚ã¿ã—ã‚‘ã²ã‚‚ã›ã™");case 27:return ct(q,3302,3311,!0,te);case 28:return Ct(q,"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒŽãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒžãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ°ãƒ±ãƒ²ãƒ³",Pe);case 29:return Ct(q,"ã‚¤ãƒ­ãƒãƒ‹ãƒ›ãƒ˜ãƒˆãƒãƒªãƒŒãƒ«ãƒ²ãƒ¯ã‚«ãƒ¨ã‚¿ãƒ¬ã‚½ãƒ„ãƒãƒŠãƒ©ãƒ ã‚¦ãƒ°ãƒŽã‚ªã‚¯ãƒ¤ãƒžã‚±ãƒ•ã‚³ã‚¨ãƒ†ã‚¢ã‚µã‚­ãƒ¦ãƒ¡ãƒŸã‚·ãƒ±ãƒ’ãƒ¢ã‚»ã‚¹",Pe);case 34:return ct(q,3792,3801,!0,te);case 37:return ct(q,6160,6169,!0,te);case 38:return ct(q,4160,4169,!0,te);case 39:return ct(q,2918,2927,!0,te);case 40:return ct(q,1776,1785,!0,te);case 43:return ct(q,3046,3055,!0,te);case 44:return ct(q,3174,3183,!0,te);case 45:return ct(q,3664,3673,!0,te);case 46:return ct(q,3872,3881,!0,te);case 3:default:return ct(q,48,57,!0,te)}},Wr="data-html2canvas-ignore",bs=(function(){function q(Q,Z,te){if(this.context=Q,this.options=te,this.scrolledElements=[],this.referenceElement=Z,this.counters=new he,this.quoteDepth=0,!Z.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(Z.ownerDocument.documentElement,!1)}return q.prototype.toIFrame=function(Q,Z){var te=this,Pe=ci(Q,Z);if(!Pe.contentWindow)return Promise.reject("Unable to find iframe window");var De=Q.defaultView.pageXOffset,Xe=Q.defaultView.pageYOffset,vt=Pe.contentWindow,xt=vt.document,qt=Un(Pe).then(function(){return u(te,void 0,void 0,function(){var Jt,gr;return d(this,function(Vr){switch(Vr.label){case 0:return this.scrolledElements.forEach(ti),vt&&(vt.scrollTo(Z.left,Z.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(vt.scrollY!==Z.top||vt.scrollX!==Z.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(vt.scrollX-Z.left,vt.scrollY-Z.top,0,0))),Jt=this.options.onclone,gr=this.clonedReferenceElement,typeof gr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:xt.fonts&&xt.fonts.ready?[4,xt.fonts.ready]:[3,2];case 1:Vr.sent(),Vr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ui(xt)]:[3,4];case 3:Vr.sent(),Vr.label=4;case 4:return typeof Jt=="function"?[2,Promise.resolve().then(function(){return Jt(xt,gr)}).then(function(){return Pe})]:[2,Pe]}})})});return xt.open(),xt.write(Vn(document.doctype)+"<html></html>"),eo(this.referenceElement.ownerDocument,De,Xe),xt.replaceChild(xt.adoptNode(this.documentElement),xt.documentElement),xt.close(),qt},q.prototype.createElementClone=function(Q){if(Ts(Q,2))debugger;if(el(Q))return this.createCanvasClone(Q);if($o(Q))return this.createVideoClone(Q);if(Ju(Q))return this.createStyleClone(Q);var Z=Q.cloneNode(!1);return Xu(Z)&&(Xu(Q)&&Q.currentSrc&&Q.currentSrc!==Q.src&&(Z.src=Q.currentSrc,Z.srcset=""),Z.loading==="lazy"&&(Z.loading="eager")),K(Z)?this.createCustomElementClone(Z):Z},q.prototype.createCustomElementClone=function(Q){var Z=document.createElement("html2canvascustomelement");return ds(Q.style,Z),Z},q.prototype.createStyleClone=function(Q){try{var Z=Q.sheet;if(Z&&Z.cssRules){var te=[].slice.call(Z.cssRules,0).reduce(function(De,Xe){return Xe&&typeof Xe.cssText=="string"?De+Xe.cssText:De},""),Pe=Q.cloneNode(!1);return Pe.textContent=te,Pe}}catch(De){if(this.context.logger.error("Unable to access cssRules property",De),De.name!=="SecurityError")throw De}return Q.cloneNode(!1)},q.prototype.createCanvasClone=function(Q){var Z;if(this.options.inlineImages&&Q.ownerDocument){var te=Q.ownerDocument.createElement("img");try{return te.src=Q.toDataURL(),te}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",Q)}}var Pe=Q.cloneNode(!1);try{Pe.width=Q.width,Pe.height=Q.height;var De=Q.getContext("2d"),Xe=Pe.getContext("2d");if(Xe)if(!this.options.allowTaint&&De)Xe.putImageData(De.getImageData(0,0,Q.width,Q.height),0,0);else{var vt=(Z=Q.getContext("webgl2"))!==null&&Z!==void 0?Z:Q.getContext("webgl");if(vt){var xt=vt.getContextAttributes();xt?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",Q)}Xe.drawImage(Q,0,0)}return Pe}catch{this.context.logger.info("Unable to clone canvas as it is tainted",Q)}return Pe},q.prototype.createVideoClone=function(Q){var Z=Q.ownerDocument.createElement("canvas");Z.width=Q.offsetWidth,Z.height=Q.offsetHeight;var te=Z.getContext("2d");try{return te&&(te.drawImage(Q,0,0,Z.width,Z.height),this.options.allowTaint||te.getImageData(0,0,Z.width,Z.height)),Z}catch{this.context.logger.info("Unable to clone video as it is tainted",Q)}var Pe=Q.ownerDocument.createElement("canvas");return Pe.width=Q.offsetWidth,Pe.height=Q.offsetHeight,Pe},q.prototype.appendChildNode=function(Q,Z,te){(!Uc(Z)||!Bu(Z)&&!Z.hasAttribute(Wr)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(Z)))&&(!this.options.copyStyles||!Uc(Z)||!Ju(Z))&&Q.appendChild(this.cloneNode(Z,te))},q.prototype.cloneChildNodes=function(Q,Z,te){for(var Pe=this,De=Q.shadowRoot?Q.shadowRoot.firstChild:Q.firstChild;De;De=De.nextSibling)if(Uc(De)&&Zu(De)&&typeof De.assignedNodes=="function"){var Xe=De.assignedNodes();Xe.length&&Xe.forEach(function(vt){return Pe.appendChildNode(Z,vt,te)})}else this.appendChildNode(Z,De,te)},q.prototype.cloneNode=function(Q,Z){if($c(Q))return document.createTextNode(Q.data);if(!Q.ownerDocument)return Q.cloneNode(!1);var te=Q.ownerDocument.defaultView;if(te&&Uc(Q)&&(Hc(Q)||iu(Q))){var Pe=this.createElementClone(Q);Pe.style.transitionProperty="none";var De=te.getComputedStyle(Q),Xe=te.getComputedStyle(Q,":before"),vt=te.getComputedStyle(Q,":after");this.referenceElement===Q&&Hc(Pe)&&(this.clonedReferenceElement=Pe),vd(Pe)&&Eo(Pe);var xt=this.counters.parse(new An(this.context,De)),qt=this.resolvePseudoContent(Q,Pe,Xe,is.BEFORE);K(Q)&&(Z=!0),$o(Q)||this.cloneChildNodes(Q,Pe,Z),qt&&Pe.insertBefore(qt,Pe.firstChild);var Jt=this.resolvePseudoContent(Q,Pe,vt,is.AFTER);return Jt&&Pe.appendChild(Jt),this.counters.pop(xt),(De&&(this.options.copyStyles||iu(Q))&&!yd(Q)||Z)&&ds(De,Pe),(Q.scrollTop!==0||Q.scrollLeft!==0)&&this.scrolledElements.push([Pe,Q.scrollLeft,Q.scrollTop]),(Iu(Q)||mu(Q))&&(Iu(Pe)||mu(Pe))&&(Pe.value=Q.value),Pe}return Q.cloneNode(!1)},q.prototype.resolvePseudoContent=function(Q,Z,te,Pe){var De=this;if(te){var Xe=te.content,vt=Z.ownerDocument;if(!(!vt||!Xe||Xe==="none"||Xe==="-moz-alt-content"||te.display==="none")){this.counters.parse(new An(this.context,te));var xt=new Qn(this.context,te),qt=vt.createElement("html2canvaspseudoelement");ds(te,qt),xt.content.forEach(function(gr){if(gr.type===0)qt.appendChild(vt.createTextNode(gr.value));else if(gr.type===22){var Vr=vt.createElement("img");Vr.src=gr.value,Vr.style.opacity="1",qt.appendChild(Vr)}else if(gr.type===18){if(gr.name==="attr"){var Zn=gr.values.filter(dt);Zn.length&&qt.appendChild(vt.createTextNode(Q.getAttribute(Zn[0].value)||""))}else if(gr.name==="counter"){var Mn=gr.values.filter(_r),Gn=Mn[0],Ai=Mn[1];if(Gn&&dt(Gn)){var xs=De.counters.getCounterValue(Gn.value),hs=Ai&&dt(Ai)?mc.parse(De.context,Ai.value):3;qt.appendChild(vt.createTextNode(yn(xs,hs,!1)))}}else if(gr.name==="counters"){var da=gr.values.filter(_r),Gn=da[0],bi=da[1],Ai=da[2];if(Gn&&dt(Gn)){var li=De.counters.getCounterValues(Gn.value),ss=Ai&&dt(Ai)?mc.parse(De.context,Ai.value):3,Yi=bi&&bi.type===0?bi.value:"",Hi=li.map(function(gl){return yn(gl,ss,!1)}).join(Yi);qt.appendChild(vt.createTextNode(Hi))}}}else if(gr.type===20)switch(gr.value){case"open-quote":qt.appendChild(vt.createTextNode(pr(xt.quotes,De.quoteDepth++,!0)));break;case"close-quote":qt.appendChild(vt.createTextNode(pr(xt.quotes,--De.quoteDepth,!1)));break;default:qt.appendChild(vt.createTextNode(gr.value))}}),qt.className=ao+" "+wo;var Jt=Pe===is.BEFORE?" "+ao:" "+wo;return iu(Z)?Z.className.baseValue+=Jt:Z.className+=Jt,qt}}},q.destroy=function(Q){return Q.parentNode?(Q.parentNode.removeChild(Q),!0):!1},q})(),is;(function(q){q[q.BEFORE=0]="BEFORE",q[q.AFTER=1]="AFTER"})(is||(is={}));var ci=function(q,Q){var Z=q.createElement("iframe");return Z.className="html2canvas-container",Z.style.visibility="hidden",Z.style.position="fixed",Z.style.left="-10000px",Z.style.top="0px",Z.style.border="0",Z.width=Q.width.toString(),Z.height=Q.height.toString(),Z.scrolling="no",Z.setAttribute(Wr,"true"),q.body.appendChild(Z),Z},Yn=function(q){return new Promise(function(Q){if(q.complete){Q();return}if(!q.src){Q();return}q.onload=Q,q.onerror=Q})},Ui=function(q){return Promise.all([].slice.call(q.images,0).map(Yn))},Un=function(q){return new Promise(function(Q,Z){var te=q.contentWindow;if(!te)return Z("No window assigned for iframe");var Pe=te.document;te.onload=q.onload=function(){te.onload=q.onload=null;var De=setInterval(function(){Pe.body.childNodes.length>0&&Pe.readyState==="complete"&&(clearInterval(De),Q(q))},50)}})},ii=["all","d","content"],ds=function(q,Q){for(var Z=q.length-1;Z>=0;Z--){var te=q.item(Z);ii.indexOf(te)===-1&&Q.style.setProperty(te,q.getPropertyValue(te))}return Q},Vn=function(q){var Q="";return q&&(Q+="<!DOCTYPE ",q.name&&(Q+=q.name),q.internalSubset&&(Q+=q.internalSubset),q.publicId&&(Q+='"'+q.publicId+'"'),q.systemId&&(Q+='"'+q.systemId+'"'),Q+=">"),Q},eo=function(q,Q,Z){q&&q.defaultView&&(Q!==q.defaultView.pageXOffset||Z!==q.defaultView.pageYOffset)&&q.defaultView.scrollTo(Q,Z)},ti=function(q){var Q=q[0],Z=q[1],te=q[2];Q.scrollLeft=Z,Q.scrollTop=te},Oi=":before",va=":after",ao="___html2canvas___pseudoelement_before",wo="___html2canvas___pseudoelement_after",Oa=`{
    content: "" !important;
    display: none !important;
}`,Eo=function(q){Po(q,"."+ao+Oi+Oa+`
         .`+wo+va+Oa)},Po=function(q,Q){var Z=q.ownerDocument;if(Z){var te=Z.createElement("style");te.textContent=Q,q.appendChild(te)}},Fi=(function(){function q(){}return q.getOrigin=function(Q){var Z=q._link;return Z?(Z.href=Q,Z.href=Z.href,Z.protocol+Z.hostname+Z.port):"about:blank"},q.isSameOrigin=function(Q){return q.getOrigin(Q)===q._origin},q.setContext=function(Q){q._link=Q.document.createElement("a"),q._origin=q.getOrigin(Q.location.href)},q._origin="about:blank",q})(),di=(function(){function q(Q,Z){this.context=Q,this._options=Z,this._cache={}}return q.prototype.addImage=function(Q){var Z=Promise.resolve();return this.has(Q)||(Do(Q)||ya(Q))&&(this._cache[Q]=this.loadImage(Q)).catch(function(){}),Z},q.prototype.match=function(Q){return this._cache[Q]},q.prototype.loadImage=function(Q){return u(this,void 0,void 0,function(){var Z,te,Pe,De,Xe=this;return d(this,function(vt){switch(vt.label){case 0:return Z=Fi.isSameOrigin(Q),te=!Al(Q)&&this._options.useCORS===!0&&Za.SUPPORT_CORS_IMAGES&&!Z,Pe=!Al(Q)&&!Z&&!Do(Q)&&typeof this._options.proxy=="string"&&Za.SUPPORT_CORS_XHR&&!te,!Z&&this._options.allowTaint===!1&&!Al(Q)&&!Do(Q)&&!Pe&&!te?[2]:(De=Q,Pe?[4,this.proxy(De)]:[3,2]);case 1:De=vt.sent(),vt.label=2;case 2:return this.context.logger.debug("Added image "+Q.substring(0,256)),[4,new Promise(function(xt,qt){var Jt=new Image;Jt.onload=function(){return xt(Jt)},Jt.onerror=qt,(ca(De)||te)&&(Jt.crossOrigin="anonymous"),Jt.src=De,Jt.complete===!0&&setTimeout(function(){return xt(Jt)},500),Xe._options.imageTimeout>0&&setTimeout(function(){return qt("Timed out ("+Xe._options.imageTimeout+"ms) loading image")},Xe._options.imageTimeout)})];case 3:return[2,vt.sent()]}})})},q.prototype.has=function(Q){return typeof this._cache[Q]<"u"},q.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},q.prototype.proxy=function(Q){var Z=this,te=this._options.proxy;if(!te)throw new Error("No proxy defined");var Pe=Q.substring(0,256);return new Promise(function(De,Xe){var vt=Za.SUPPORT_RESPONSE_TYPE?"blob":"text",xt=new XMLHttpRequest;xt.onload=function(){if(xt.status===200)if(vt==="text")De(xt.response);else{var gr=new FileReader;gr.addEventListener("load",function(){return De(gr.result)},!1),gr.addEventListener("error",function(Vr){return Xe(Vr)},!1),gr.readAsDataURL(xt.response)}else Xe("Failed to proxy resource "+Pe+" with status code "+xt.status)},xt.onerror=Xe;var qt=te.indexOf("?")>-1?"&":"?";if(xt.open("GET",""+te+qt+"url="+encodeURIComponent(Q)+"&responseType="+vt),vt!=="text"&&xt instanceof XMLHttpRequest&&(xt.responseType=vt),Z._options.imageTimeout){var Jt=Z._options.imageTimeout;xt.timeout=Jt,xt.ontimeout=function(){return Xe("Timed out ("+Jt+"ms) proxying "+Pe)}}xt.send()})},q})(),Li=/^data:image\/svg\+xml/i,Ua=/^data:image\/.*;base64,/i,la=/^data:image\/.*/i,ya=function(q){return Za.SUPPORT_SVG_DRAWING||!Aa(q)},Al=function(q){return la.test(q)},ca=function(q){return Ua.test(q)},Do=function(q){return q.substr(0,4)==="blob"},Aa=function(q){return q.substr(-3).toLowerCase()==="svg"||Li.test(q)},On=(function(){function q(Q,Z){this.type=0,this.x=Q,this.y=Z}return q.prototype.add=function(Q,Z){return new q(this.x+Q,this.y+Z)},q})(),po=function(q,Q,Z){return new On(q.x+(Q.x-q.x)*Z,q.y+(Q.y-q.y)*Z)},Ao=(function(){function q(Q,Z,te,Pe){this.type=1,this.start=Q,this.startControl=Z,this.endControl=te,this.end=Pe}return q.prototype.subdivide=function(Q,Z){var te=po(this.start,this.startControl,Q),Pe=po(this.startControl,this.endControl,Q),De=po(this.endControl,this.end,Q),Xe=po(te,Pe,Q),vt=po(Pe,De,Q),xt=po(Xe,vt,Q);return Z?new q(this.start,te,Xe,xt):new q(xt,vt,De,this.end)},q.prototype.add=function(Q,Z){return new q(this.start.add(Q,Z),this.startControl.add(Q,Z),this.endControl.add(Q,Z),this.end.add(Q,Z))},q.prototype.reverse=function(){return new q(this.end,this.endControl,this.startControl,this.start)},q})(),Ma=function(q){return q.type===1},Uo=(function(){function q(Q){var Z=Q.styles,te=Q.bounds,Pe=Fn(Z.borderTopLeftRadius,te.width,te.height),De=Pe[0],Xe=Pe[1],vt=Fn(Z.borderTopRightRadius,te.width,te.height),xt=vt[0],qt=vt[1],Jt=Fn(Z.borderBottomRightRadius,te.width,te.height),gr=Jt[0],Vr=Jt[1],Zn=Fn(Z.borderBottomLeftRadius,te.width,te.height),Mn=Zn[0],Gn=Zn[1],Ai=[];Ai.push((De+xt)/te.width),Ai.push((Mn+gr)/te.width),Ai.push((Xe+Gn)/te.height),Ai.push((qt+Vr)/te.height);var xs=Math.max.apply(Math,Ai);xs>1&&(De/=xs,Xe/=xs,xt/=xs,qt/=xs,gr/=xs,Vr/=xs,Mn/=xs,Gn/=xs);var hs=te.width-xt,da=te.height-Vr,bi=te.width-gr,li=te.height-Gn,ss=Z.borderTopWidth,Yi=Z.borderRightWidth,Hi=Z.borderBottomWidth,ni=Z.borderLeftWidth,mo=Es(Z.paddingTop,Q.bounds.width),gl=Es(Z.paddingRight,Q.bounds.width),Xl=Es(Z.paddingBottom,Q.bounds.width),ba=Es(Z.paddingLeft,Q.bounds.width);this.topLeftBorderDoubleOuterBox=De>0||Xe>0?ri(te.left+ni/3,te.top+ss/3,De-ni/3,Xe-ss/3,oi.TOP_LEFT):new On(te.left+ni/3,te.top+ss/3),this.topRightBorderDoubleOuterBox=De>0||Xe>0?ri(te.left+hs,te.top+ss/3,xt-Yi/3,qt-ss/3,oi.TOP_RIGHT):new On(te.left+te.width-Yi/3,te.top+ss/3),this.bottomRightBorderDoubleOuterBox=gr>0||Vr>0?ri(te.left+bi,te.top+da,gr-Yi/3,Vr-Hi/3,oi.BOTTOM_RIGHT):new On(te.left+te.width-Yi/3,te.top+te.height-Hi/3),this.bottomLeftBorderDoubleOuterBox=Mn>0||Gn>0?ri(te.left+ni/3,te.top+li,Mn-ni/3,Gn-Hi/3,oi.BOTTOM_LEFT):new On(te.left+ni/3,te.top+te.height-Hi/3),this.topLeftBorderDoubleInnerBox=De>0||Xe>0?ri(te.left+ni*2/3,te.top+ss*2/3,De-ni*2/3,Xe-ss*2/3,oi.TOP_LEFT):new On(te.left+ni*2/3,te.top+ss*2/3),this.topRightBorderDoubleInnerBox=De>0||Xe>0?ri(te.left+hs,te.top+ss*2/3,xt-Yi*2/3,qt-ss*2/3,oi.TOP_RIGHT):new On(te.left+te.width-Yi*2/3,te.top+ss*2/3),this.bottomRightBorderDoubleInnerBox=gr>0||Vr>0?ri(te.left+bi,te.top+da,gr-Yi*2/3,Vr-Hi*2/3,oi.BOTTOM_RIGHT):new On(te.left+te.width-Yi*2/3,te.top+te.height-Hi*2/3),this.bottomLeftBorderDoubleInnerBox=Mn>0||Gn>0?ri(te.left+ni*2/3,te.top+li,Mn-ni*2/3,Gn-Hi*2/3,oi.BOTTOM_LEFT):new On(te.left+ni*2/3,te.top+te.height-Hi*2/3),this.topLeftBorderStroke=De>0||Xe>0?ri(te.left+ni/2,te.top+ss/2,De-ni/2,Xe-ss/2,oi.TOP_LEFT):new On(te.left+ni/2,te.top+ss/2),this.topRightBorderStroke=De>0||Xe>0?ri(te.left+hs,te.top+ss/2,xt-Yi/2,qt-ss/2,oi.TOP_RIGHT):new On(te.left+te.width-Yi/2,te.top+ss/2),this.bottomRightBorderStroke=gr>0||Vr>0?ri(te.left+bi,te.top+da,gr-Yi/2,Vr-Hi/2,oi.BOTTOM_RIGHT):new On(te.left+te.width-Yi/2,te.top+te.height-Hi/2),this.bottomLeftBorderStroke=Mn>0||Gn>0?ri(te.left+ni/2,te.top+li,Mn-ni/2,Gn-Hi/2,oi.BOTTOM_LEFT):new On(te.left+ni/2,te.top+te.height-Hi/2),this.topLeftBorderBox=De>0||Xe>0?ri(te.left,te.top,De,Xe,oi.TOP_LEFT):new On(te.left,te.top),this.topRightBorderBox=xt>0||qt>0?ri(te.left+hs,te.top,xt,qt,oi.TOP_RIGHT):new On(te.left+te.width,te.top),this.bottomRightBorderBox=gr>0||Vr>0?ri(te.left+bi,te.top+da,gr,Vr,oi.BOTTOM_RIGHT):new On(te.left+te.width,te.top+te.height),this.bottomLeftBorderBox=Mn>0||Gn>0?ri(te.left,te.top+li,Mn,Gn,oi.BOTTOM_LEFT):new On(te.left,te.top+te.height),this.topLeftPaddingBox=De>0||Xe>0?ri(te.left+ni,te.top+ss,Math.max(0,De-ni),Math.max(0,Xe-ss),oi.TOP_LEFT):new On(te.left+ni,te.top+ss),this.topRightPaddingBox=xt>0||qt>0?ri(te.left+Math.min(hs,te.width-Yi),te.top+ss,hs>te.width+Yi?0:Math.max(0,xt-Yi),Math.max(0,qt-ss),oi.TOP_RIGHT):new On(te.left+te.width-Yi,te.top+ss),this.bottomRightPaddingBox=gr>0||Vr>0?ri(te.left+Math.min(bi,te.width-ni),te.top+Math.min(da,te.height-Hi),Math.max(0,gr-Yi),Math.max(0,Vr-Hi),oi.BOTTOM_RIGHT):new On(te.left+te.width-Yi,te.top+te.height-Hi),this.bottomLeftPaddingBox=Mn>0||Gn>0?ri(te.left+ni,te.top+Math.min(li,te.height-Hi),Math.max(0,Mn-ni),Math.max(0,Gn-Hi),oi.BOTTOM_LEFT):new On(te.left+ni,te.top+te.height-Hi),this.topLeftContentBox=De>0||Xe>0?ri(te.left+ni+ba,te.top+ss+mo,Math.max(0,De-(ni+ba)),Math.max(0,Xe-(ss+mo)),oi.TOP_LEFT):new On(te.left+ni+ba,te.top+ss+mo),this.topRightContentBox=xt>0||qt>0?ri(te.left+Math.min(hs,te.width+ni+ba),te.top+ss+mo,hs>te.width+ni+ba?0:xt-ni+ba,qt-(ss+mo),oi.TOP_RIGHT):new On(te.left+te.width-(Yi+gl),te.top+ss+mo),this.bottomRightContentBox=gr>0||Vr>0?ri(te.left+Math.min(bi,te.width-(ni+ba)),te.top+Math.min(da,te.height+ss+mo),Math.max(0,gr-(Yi+gl)),Vr-(Hi+Xl),oi.BOTTOM_RIGHT):new On(te.left+te.width-(Yi+gl),te.top+te.height-(Hi+Xl)),this.bottomLeftContentBox=Mn>0||Gn>0?ri(te.left+ni+ba,te.top+li,Math.max(0,Mn-(ni+ba)),Gn-(Hi+Xl),oi.BOTTOM_LEFT):new On(te.left+ni+ba,te.top+te.height-(Hi+Xl))}return q})(),oi;(function(q){q[q.TOP_LEFT=0]="TOP_LEFT",q[q.TOP_RIGHT=1]="TOP_RIGHT",q[q.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",q[q.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(oi||(oi={}));var ri=function(q,Q,Z,te,Pe){var De=4*((Math.sqrt(2)-1)/3),Xe=Z*De,vt=te*De,xt=q+Z,qt=Q+te;switch(Pe){case oi.TOP_LEFT:return new Ao(new On(q,qt),new On(q,qt-vt),new On(xt-Xe,Q),new On(xt,Q));case oi.TOP_RIGHT:return new Ao(new On(q,Q),new On(q+Xe,Q),new On(xt,qt-vt),new On(xt,qt));case oi.BOTTOM_RIGHT:return new Ao(new On(xt,Q),new On(xt,Q+vt),new On(q+Xe,qt),new On(q,qt));case oi.BOTTOM_LEFT:default:return new Ao(new On(xt,qt),new On(xt-Xe,qt),new On(q,Q+vt),new On(q,Q))}},gs=function(q){return[q.topLeftBorderBox,q.topRightBorderBox,q.bottomRightBorderBox,q.bottomLeftBorderBox]},ua=function(q){return[q.topLeftContentBox,q.topRightContentBox,q.bottomRightContentBox,q.bottomLeftContentBox]},Wi=function(q){return[q.topLeftPaddingBox,q.topRightPaddingBox,q.bottomRightPaddingBox,q.bottomLeftPaddingBox]},Ha=(function(){function q(Q,Z,te){this.offsetX=Q,this.offsetY=Z,this.matrix=te,this.type=0,this.target=6}return q})(),Fa=(function(){function q(Q,Z){this.path=Q,this.target=Z,this.type=1}return q})(),qa=(function(){function q(Q){this.opacity=Q,this.type=2,this.target=6}return q})(),Wa=function(q){return q.type===0},zc=function(q){return q.type===1},lc=function(q){return q.type===2},yc=function(q,Q){return q.length===Q.length?q.some(function(Z,te){return Z===Q[te]}):!1},bd=function(q,Q,Z,te,Pe){return q.map(function(De,Xe){switch(Xe){case 0:return De.add(Q,Z);case 1:return De.add(Q+te,Z);case 2:return De.add(Q+te,Z+Pe);case 3:return De.add(Q,Z+Pe)}return De})},gu=(function(){function q(Q){this.element=Q,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return q})(),ko=(function(){function q(Q,Z){if(this.container=Q,this.parent=Z,this.effects=[],this.curves=new Uo(this.container),this.container.styles.opacity<1&&this.effects.push(new qa(this.container.styles.opacity)),this.container.styles.transform!==null){var te=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Pe=this.container.bounds.top+this.container.styles.transformOrigin[1].number,De=this.container.styles.transform;this.effects.push(new Ha(te,Pe,De))}if(this.container.styles.overflowX!==0){var Xe=gs(this.curves),vt=Wi(this.curves);yc(Xe,vt)?this.effects.push(new Fa(Xe,6)):(this.effects.push(new Fa(Xe,2)),this.effects.push(new Fa(vt,4)))}}return q.prototype.getEffects=function(Q){for(var Z=[2,3].indexOf(this.container.styles.position)===-1,te=this.parent,Pe=this.effects.slice(0);te;){var De=te.effects.filter(function(xt){return!zc(xt)});if(Z||te.container.styles.position!==0||!te.parent){if(Pe.unshift.apply(Pe,De),Z=[2,3].indexOf(te.container.styles.position)===-1,te.container.styles.overflowX!==0){var Xe=gs(te.curves),vt=Wi(te.curves);yc(Xe,vt)||Pe.unshift(new Fa(vt,6))}}else Pe.unshift.apply(Pe,De);te=te.parent}return Pe.filter(function(xt){return G(xt.target,Q)})},q})(),Fl=function(q,Q,Z,te){q.container.elements.forEach(function(Pe){var De=G(Pe.flags,4),Xe=G(Pe.flags,2),vt=new ko(Pe,q);G(Pe.styles.display,2048)&&te.push(vt);var xt=G(Pe.flags,8)?[]:te;if(De||Xe){var qt=De||Pe.styles.isPositioned()?Z:Q,Jt=new gu(vt);if(Pe.styles.isPositioned()||Pe.styles.opacity<1||Pe.styles.isTransformed()){var gr=Pe.styles.zIndex.order;if(gr<0){var Vr=0;qt.negativeZIndex.some(function(Mn,Gn){return gr>Mn.element.container.styles.zIndex.order?(Vr=Gn,!1):Vr>0}),qt.negativeZIndex.splice(Vr,0,Jt)}else if(gr>0){var Zn=0;qt.positiveZIndex.some(function(Mn,Gn){return gr>=Mn.element.container.styles.zIndex.order?(Zn=Gn+1,!1):Zn>0}),qt.positiveZIndex.splice(Zn,0,Jt)}else qt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Jt)}else Pe.styles.isFloating()?qt.nonPositionedFloats.push(Jt):qt.nonPositionedInlineLevel.push(Jt);Fl(vt,Jt,De?Jt:Z,xt)}else Pe.styles.isInlineLevel()?Q.inlineLevel.push(vt):Q.nonInlineLevel.push(vt),Fl(vt,Q,Z,xt);G(Pe.flags,8)&&au(Pe,xt)})},au=function(q,Q){for(var Z=q instanceof Ku?q.start:1,te=q instanceof Ku?q.reversed:!1,Pe=0;Pe<Q.length;Pe++){var De=Q[Pe];De.container instanceof nu&&typeof De.container.value=="number"&&De.container.value!==0&&(Z=De.container.value),De.listValue=yn(Z,De.container.styles.listStyleType,!0),Z+=te?-1:1}},bc=function(q){var Q=new ko(q,null),Z=new gu(Q),te=[];return Fl(Q,Z,Z,te),au(Q.container,te),Z},Ou=function(q,Q){switch(Q){case 0:return jo(q.topLeftBorderBox,q.topLeftPaddingBox,q.topRightBorderBox,q.topRightPaddingBox);case 1:return jo(q.topRightBorderBox,q.topRightPaddingBox,q.bottomRightBorderBox,q.bottomRightPaddingBox);case 2:return jo(q.bottomRightBorderBox,q.bottomRightPaddingBox,q.bottomLeftBorderBox,q.bottomLeftPaddingBox);case 3:default:return jo(q.bottomLeftBorderBox,q.bottomLeftPaddingBox,q.topLeftBorderBox,q.topLeftPaddingBox)}},ed=function(q,Q){switch(Q){case 0:return jo(q.topLeftBorderBox,q.topLeftBorderDoubleOuterBox,q.topRightBorderBox,q.topRightBorderDoubleOuterBox);case 1:return jo(q.topRightBorderBox,q.topRightBorderDoubleOuterBox,q.bottomRightBorderBox,q.bottomRightBorderDoubleOuterBox);case 2:return jo(q.bottomRightBorderBox,q.bottomRightBorderDoubleOuterBox,q.bottomLeftBorderBox,q.bottomLeftBorderDoubleOuterBox);case 3:default:return jo(q.bottomLeftBorderBox,q.bottomLeftBorderDoubleOuterBox,q.topLeftBorderBox,q.topLeftBorderDoubleOuterBox)}},Yl=function(q,Q){switch(Q){case 0:return jo(q.topLeftBorderDoubleInnerBox,q.topLeftPaddingBox,q.topRightBorderDoubleInnerBox,q.topRightPaddingBox);case 1:return jo(q.topRightBorderDoubleInnerBox,q.topRightPaddingBox,q.bottomRightBorderDoubleInnerBox,q.bottomRightPaddingBox);case 2:return jo(q.bottomRightBorderDoubleInnerBox,q.bottomRightPaddingBox,q.bottomLeftBorderDoubleInnerBox,q.bottomLeftPaddingBox);case 3:default:return jo(q.bottomLeftBorderDoubleInnerBox,q.bottomLeftPaddingBox,q.topLeftBorderDoubleInnerBox,q.topLeftPaddingBox)}},Mu=function(q,Q){switch(Q){case 0:return Ll(q.topLeftBorderStroke,q.topRightBorderStroke);case 1:return Ll(q.topRightBorderStroke,q.bottomRightBorderStroke);case 2:return Ll(q.bottomRightBorderStroke,q.bottomLeftBorderStroke);case 3:default:return Ll(q.bottomLeftBorderStroke,q.topLeftBorderStroke)}},Ll=function(q,Q){var Z=[];return Ma(q)?Z.push(q.subdivide(.5,!1)):Z.push(q),Ma(Q)?Z.push(Q.subdivide(.5,!0)):Z.push(Q),Z},jo=function(q,Q,Z,te){var Pe=[];return Ma(q)?Pe.push(q.subdivide(.5,!1)):Pe.push(q),Ma(Z)?Pe.push(Z.subdivide(.5,!0)):Pe.push(Z),Ma(te)?Pe.push(te.subdivide(.5,!0).reverse()):Pe.push(te),Ma(Q)?Pe.push(Q.subdivide(.5,!1).reverse()):Pe.push(Q),Pe},Qc=function(q){var Q=q.bounds,Z=q.styles;return Q.add(Z.borderLeftWidth,Z.borderTopWidth,-(Z.borderRightWidth+Z.borderLeftWidth),-(Z.borderTopWidth+Z.borderBottomWidth))},uc=function(q){var Q=q.styles,Z=q.bounds,te=Es(Q.paddingLeft,Z.width),Pe=Es(Q.paddingRight,Z.width),De=Es(Q.paddingTop,Z.width),Xe=Es(Q.paddingBottom,Z.width);return Z.add(te+Q.borderLeftWidth,De+Q.borderTopWidth,-(Q.borderRightWidth+Q.borderLeftWidth+te+Pe),-(Q.borderTopWidth+Q.borderBottomWidth+De+Xe))},Fu=function(q,Q){return q===0?Q.bounds:q===2?uc(Q):Qc(Q)},td=function(q,Q){return q===0?Q.bounds:q===2?uc(Q):Qc(Q)},oo=function(q,Q,Z){var te=Fu(Vc(q.styles.backgroundOrigin,Q),q),Pe=td(Vc(q.styles.backgroundClip,Q),q),De=to(Vc(q.styles.backgroundSize,Q),Z,te),Xe=De[0],vt=De[1],xt=Fn(Vc(q.styles.backgroundPosition,Q),te.width-Xe,te.height-vt),qt=rd(Vc(q.styles.backgroundRepeat,Q),xt,De,te,Pe),Jt=Math.round(te.left+xt[0]),gr=Math.round(te.top+xt[1]);return[qt,Jt,gr,Xe,vt]},ml=function(q){return dt(q)&&q.value===Ds.AUTO},Ho=function(q){return typeof q=="number"},to=function(q,Q,Z){var te=Q[0],Pe=Q[1],De=Q[2],Xe=q[0],vt=q[1];if(!Xe)return[0,0];if(fr(Xe)&&vt&&fr(vt))return[Es(Xe,Z.width),Es(vt,Z.height)];var xt=Ho(De);if(dt(Xe)&&(Xe.value===Ds.CONTAIN||Xe.value===Ds.COVER)){if(Ho(De)){var qt=Z.width/Z.height;return qt<De!=(Xe.value===Ds.COVER)?[Z.width,Z.width/De]:[Z.height*De,Z.height]}return[Z.width,Z.height]}var Jt=Ho(te),gr=Ho(Pe),Vr=Jt||gr;if(ml(Xe)&&(!vt||ml(vt))){if(Jt&&gr)return[te,Pe];if(!xt&&!Vr)return[Z.width,Z.height];if(Vr&&xt){var Zn=Jt?te:Pe*De,Mn=gr?Pe:te/De;return[Zn,Mn]}var Gn=Jt?te:Z.width,Ai=gr?Pe:Z.height;return[Gn,Ai]}if(xt){var xs=0,hs=0;return fr(Xe)?xs=Es(Xe,Z.width):fr(vt)&&(hs=Es(vt,Z.height)),ml(Xe)?xs=hs*De:(!vt||ml(vt))&&(hs=xs/De),[xs,hs]}var da=null,bi=null;if(fr(Xe)?da=Es(Xe,Z.width):vt&&fr(vt)&&(bi=Es(vt,Z.height)),da!==null&&(!vt||ml(vt))&&(bi=Jt&&gr?da/te*Pe:Z.height),bi!==null&&ml(Xe)&&(da=Jt&&gr?bi/Pe*te:Z.width),da!==null&&bi!==null)return[da,bi];throw new Error("Unable to calculate background-size for element")},Vc=function(q,Q){var Z=q[Q];return typeof Z>"u"?q[0]:Z},rd=function(q,Q,Z,te,Pe){var De=Q[0],Xe=Q[1],vt=Z[0],xt=Z[1];switch(q){case 2:return[new On(Math.round(te.left),Math.round(te.top+Xe)),new On(Math.round(te.left+te.width),Math.round(te.top+Xe)),new On(Math.round(te.left+te.width),Math.round(xt+te.top+Xe)),new On(Math.round(te.left),Math.round(xt+te.top+Xe))];case 3:return[new On(Math.round(te.left+De),Math.round(te.top)),new On(Math.round(te.left+De+vt),Math.round(te.top)),new On(Math.round(te.left+De+vt),Math.round(te.height+te.top)),new On(Math.round(te.left+De),Math.round(te.height+te.top))];case 1:return[new On(Math.round(te.left+De),Math.round(te.top+Xe)),new On(Math.round(te.left+De+vt),Math.round(te.top+Xe)),new On(Math.round(te.left+De+vt),Math.round(te.top+Xe+xt)),new On(Math.round(te.left+De),Math.round(te.top+Xe+xt))];default:return[new On(Math.round(Pe.left),Math.round(Pe.top)),new On(Math.round(Pe.left+Pe.width),Math.round(Pe.top)),new On(Math.round(Pe.left+Pe.width),Math.round(Pe.height+Pe.top)),new On(Math.round(Pe.left),Math.round(Pe.height+Pe.top))]}},wd="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ed="Hidden Text",Tl=(function(){function q(Q){this._data={},this._document=Q}return q.prototype.parseMetrics=function(Q,Z){var te=this._document.createElement("div"),Pe=this._document.createElement("img"),De=this._document.createElement("span"),Xe=this._document.body;te.style.visibility="hidden",te.style.fontFamily=Q,te.style.fontSize=Z,te.style.margin="0",te.style.padding="0",te.style.whiteSpace="nowrap",Xe.appendChild(te),Pe.src=wd,Pe.width=1,Pe.height=1,Pe.style.margin="0",Pe.style.padding="0",Pe.style.verticalAlign="baseline",De.style.fontFamily=Q,De.style.fontSize=Z,De.style.margin="0",De.style.padding="0",De.appendChild(this._document.createTextNode(Ed)),te.appendChild(De),te.appendChild(Pe);var vt=Pe.offsetTop-De.offsetTop+2;te.removeChild(De),te.appendChild(this._document.createTextNode(Ed)),te.style.lineHeight="normal",Pe.style.verticalAlign="super";var xt=Pe.offsetTop-te.offsetTop+2;return Xe.removeChild(te),{baseline:vt,middle:xt}},q.prototype.getMetrics=function(Q,Z){var te=Q+" "+Z;return typeof this._data[te]>"u"&&(this._data[te]=this.parseMetrics(Q,Z)),this._data[te]},q})(),jd=(function(){function q(Q,Z){this.context=Q,this.options=Z}return q})(),nd=1e4,ou=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;return Pe._activeEffects=[],Pe.canvas=te.canvas?te.canvas:document.createElement("canvas"),Pe.ctx=Pe.canvas.getContext("2d"),te.canvas||(Pe.canvas.width=Math.floor(te.width*te.scale),Pe.canvas.height=Math.floor(te.height*te.scale),Pe.canvas.style.width=te.width+"px",Pe.canvas.style.height=te.height+"px"),Pe.fontMetrics=new Tl(document),Pe.ctx.scale(Pe.options.scale,Pe.options.scale),Pe.ctx.translate(-te.x,-te.y),Pe.ctx.textBaseline="bottom",Pe._activeEffects=[],Pe.context.logger.debug("Canvas renderer initialized ("+te.width+"x"+te.height+") with scale "+te.scale),Pe}return Q.prototype.applyEffects=function(Z){for(var te=this;this._activeEffects.length;)this.popEffect();Z.forEach(function(Pe){return te.applyEffect(Pe)})},Q.prototype.applyEffect=function(Z){this.ctx.save(),lc(Z)&&(this.ctx.globalAlpha=Z.opacity),Wa(Z)&&(this.ctx.translate(Z.offsetX,Z.offsetY),this.ctx.transform(Z.matrix[0],Z.matrix[1],Z.matrix[2],Z.matrix[3],Z.matrix[4],Z.matrix[5]),this.ctx.translate(-Z.offsetX,-Z.offsetY)),zc(Z)&&(this.path(Z.path),this.ctx.clip()),this._activeEffects.push(Z)},Q.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Q.prototype.renderStack=function(Z){return u(this,void 0,void 0,function(){var te;return d(this,function(Pe){switch(Pe.label){case 0:return te=Z.element.container.styles,te.isVisible()?[4,this.renderStackContent(Z)]:[3,2];case 1:Pe.sent(),Pe.label=2;case 2:return[2]}})})},Q.prototype.renderNode=function(Z){return u(this,void 0,void 0,function(){return d(this,function(te){switch(te.label){case 0:if(G(Z.container.flags,16))debugger;return Z.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(Z)]:[3,3];case 1:return te.sent(),[4,this.renderNodeContent(Z)];case 2:te.sent(),te.label=3;case 3:return[2]}})})},Q.prototype.renderTextWithLetterSpacing=function(Z,te,Pe){var De=this;if(te===0)this.ctx.fillText(Z.text,Z.bounds.left,Z.bounds.top+Pe);else{var Xe=oc(Z.text);Xe.reduce(function(vt,xt){return De.ctx.fillText(xt,vt,Z.bounds.top+Pe),vt+De.ctx.measureText(xt).width},Z.bounds.left)}},Q.prototype.createFontStyle=function(Z){var te=Z.fontVariant.filter(function(Xe){return Xe==="normal"||Xe==="small-caps"}).join(""),Pe=vu(Z.fontFamily).join(", "),De=Dn(Z.fontSize)?""+Z.fontSize.number+Z.fontSize.unit:Z.fontSize.number+"px";return[[Z.fontStyle,te,Z.fontWeight,De,Pe].join(" "),Pe,De]},Q.prototype.renderTextNode=function(Z,te){return u(this,void 0,void 0,function(){var Pe,De,Xe,vt,xt,qt,Jt,gr,Vr=this;return d(this,function(Zn){return Pe=this.createFontStyle(te),De=Pe[0],Xe=Pe[1],vt=Pe[2],this.ctx.font=De,this.ctx.direction=te.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",xt=this.fontMetrics.getMetrics(Xe,vt),qt=xt.baseline,Jt=xt.middle,gr=te.paintOrder,Z.textBounds.forEach(function(Mn){gr.forEach(function(Gn){switch(Gn){case 0:Vr.ctx.fillStyle=In(te.color),Vr.renderTextWithLetterSpacing(Mn,te.letterSpacing,qt);var Ai=te.textShadow;Ai.length&&Mn.text.trim().length&&(Ai.slice(0).reverse().forEach(function(xs){Vr.ctx.shadowColor=In(xs.color),Vr.ctx.shadowOffsetX=xs.offsetX.number*Vr.options.scale,Vr.ctx.shadowOffsetY=xs.offsetY.number*Vr.options.scale,Vr.ctx.shadowBlur=xs.blur.number,Vr.renderTextWithLetterSpacing(Mn,te.letterSpacing,qt)}),Vr.ctx.shadowColor="",Vr.ctx.shadowOffsetX=0,Vr.ctx.shadowOffsetY=0,Vr.ctx.shadowBlur=0),te.textDecorationLine.length&&(Vr.ctx.fillStyle=In(te.textDecorationColor||te.color),te.textDecorationLine.forEach(function(xs){switch(xs){case 1:Vr.ctx.fillRect(Mn.bounds.left,Math.round(Mn.bounds.top+qt),Mn.bounds.width,1);break;case 2:Vr.ctx.fillRect(Mn.bounds.left,Math.round(Mn.bounds.top),Mn.bounds.width,1);break;case 3:Vr.ctx.fillRect(Mn.bounds.left,Math.ceil(Mn.bounds.top+Jt),Mn.bounds.width,1);break}}));break;case 1:te.webkitTextStrokeWidth&&Mn.text.trim().length&&(Vr.ctx.strokeStyle=In(te.webkitTextStrokeColor),Vr.ctx.lineWidth=te.webkitTextStrokeWidth,Vr.ctx.lineJoin=window.chrome?"miter":"round",Vr.ctx.strokeText(Mn.text,Mn.bounds.left,Mn.bounds.top+qt)),Vr.ctx.strokeStyle="",Vr.ctx.lineWidth=0,Vr.ctx.lineJoin="miter";break}})}),[2]})})},Q.prototype.renderReplacedElement=function(Z,te,Pe){if(Pe&&Z.intrinsicWidth>0&&Z.intrinsicHeight>0){var De=uc(Z),Xe=Wi(te);this.path(Xe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Pe,0,0,Z.intrinsicWidth,Z.intrinsicHeight,De.left,De.top,De.width,De.height),this.ctx.restore()}},Q.prototype.renderNodeContent=function(Z){return u(this,void 0,void 0,function(){var te,Pe,De,Xe,vt,xt,hs,hs,qt,Jt,gr,Vr,bi,Zn,Mn,li,Gn,Ai,xs,hs,da,bi,li;return d(this,function(ss){switch(ss.label){case 0:this.applyEffects(Z.getEffects(4)),te=Z.container,Pe=Z.curves,De=te.styles,Xe=0,vt=te.textNodes,ss.label=1;case 1:return Xe<vt.length?(xt=vt[Xe],[4,this.renderTextNode(xt,De)]):[3,4];case 2:ss.sent(),ss.label=3;case 3:return Xe++,[3,1];case 4:if(!(te instanceof fd))return[3,8];ss.label=5;case 5:return ss.trys.push([5,7,,8]),[4,this.context.cache.match(te.src)];case 6:return hs=ss.sent(),this.renderReplacedElement(te,Pe,hs),[3,8];case 7:return ss.sent(),this.context.logger.error("Error loading image "+te.src),[3,8];case 8:if(te instanceof pu&&this.renderReplacedElement(te,Pe,te.canvas),!(te instanceof Nu))return[3,12];ss.label=9;case 9:return ss.trys.push([9,11,,12]),[4,this.context.cache.match(te.svg)];case 10:return hs=ss.sent(),this.renderReplacedElement(te,Pe,hs),[3,12];case 11:return ss.sent(),this.context.logger.error("Error loading svg "+te.svg.substring(0,255)),[3,12];case 12:return te instanceof ho&&te.tree?(qt=new Q(this.context,{scale:this.options.scale,backgroundColor:te.backgroundColor,x:0,y:0,width:te.width,height:te.height}),[4,qt.render(te.tree)]):[3,14];case 13:Jt=ss.sent(),te.width&&te.height&&this.ctx.drawImage(Jt,0,0,te.width,te.height,te.bounds.left,te.bounds.top,te.bounds.width,te.bounds.height),ss.label=14;case 14:if(te instanceof Wl&&(gr=Math.min(te.bounds.width,te.bounds.height),te.type===Pu?te.checked&&(this.ctx.save(),this.path([new On(te.bounds.left+gr*.39363,te.bounds.top+gr*.79),new On(te.bounds.left+gr*.16,te.bounds.top+gr*.5549),new On(te.bounds.left+gr*.27347,te.bounds.top+gr*.44071),new On(te.bounds.left+gr*.39694,te.bounds.top+gr*.5649),new On(te.bounds.left+gr*.72983,te.bounds.top+gr*.23),new On(te.bounds.left+gr*.84,te.bounds.top+gr*.34085),new On(te.bounds.left+gr*.39363,te.bounds.top+gr*.79)]),this.ctx.fillStyle=In(Zo),this.ctx.fill(),this.ctx.restore()):te.type===ku&&te.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(te.bounds.left+gr/2,te.bounds.top+gr/2,gr/4,0,Math.PI*2,!0),this.ctx.fillStyle=In(Zo),this.ctx.fill(),this.ctx.restore())),sd(te)&&te.value.length){switch(Vr=this.createFontStyle(De),bi=Vr[0],Zn=Vr[1],Mn=this.fontMetrics.getMetrics(bi,Zn).baseline,this.ctx.font=bi,this.ctx.fillStyle=In(De.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=xu(te.styles.textAlign),li=uc(te),Gn=0,te.styles.textAlign){case 1:Gn+=li.width/2;break;case 2:Gn+=li.width;break}Ai=li.add(Gn,0,0,-li.height/2+1),this.ctx.save(),this.path([new On(li.left,li.top),new On(li.left+li.width,li.top),new On(li.left+li.width,li.top+li.height),new On(li.left,li.top+li.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Lc(te.value,Ai),De.letterSpacing,Mn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!G(te.styles.display,2048))return[3,20];if(te.styles.listStyleImage===null)return[3,19];if(xs=te.styles.listStyleImage,xs.type!==0)return[3,18];hs=void 0,da=xs.url,ss.label=15;case 15:return ss.trys.push([15,17,,18]),[4,this.context.cache.match(da)];case 16:return hs=ss.sent(),this.ctx.drawImage(hs,te.bounds.left-(hs.width+10),te.bounds.top),[3,18];case 17:return ss.sent(),this.context.logger.error("Error loading list-style-image "+da),[3,18];case 18:return[3,20];case 19:Z.listValue&&te.styles.listStyleType!==-1&&(bi=this.createFontStyle(De)[0],this.ctx.font=bi,this.ctx.fillStyle=In(De.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",li=new m(te.bounds.left,te.bounds.top+Es(te.styles.paddingTop,te.bounds.width),te.bounds.width,ol(De.lineHeight,De.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Lc(Z.listValue,li),De.letterSpacing,ol(De.lineHeight,De.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ss.label=20;case 20:return[2]}})})},Q.prototype.renderStackContent=function(Z){return u(this,void 0,void 0,function(){var te,Pe,xs,De,Xe,xs,vt,xt,xs,qt,Jt,xs,gr,Vr,xs,Zn,Mn,xs,Gn,Ai,xs;return d(this,function(hs){switch(hs.label){case 0:if(G(Z.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(Z.element)];case 1:hs.sent(),te=0,Pe=Z.negativeZIndex,hs.label=2;case 2:return te<Pe.length?(xs=Pe[te],[4,this.renderStack(xs)]):[3,5];case 3:hs.sent(),hs.label=4;case 4:return te++,[3,2];case 5:return[4,this.renderNodeContent(Z.element)];case 6:hs.sent(),De=0,Xe=Z.nonInlineLevel,hs.label=7;case 7:return De<Xe.length?(xs=Xe[De],[4,this.renderNode(xs)]):[3,10];case 8:hs.sent(),hs.label=9;case 9:return De++,[3,7];case 10:vt=0,xt=Z.nonPositionedFloats,hs.label=11;case 11:return vt<xt.length?(xs=xt[vt],[4,this.renderStack(xs)]):[3,14];case 12:hs.sent(),hs.label=13;case 13:return vt++,[3,11];case 14:qt=0,Jt=Z.nonPositionedInlineLevel,hs.label=15;case 15:return qt<Jt.length?(xs=Jt[qt],[4,this.renderStack(xs)]):[3,18];case 16:hs.sent(),hs.label=17;case 17:return qt++,[3,15];case 18:gr=0,Vr=Z.inlineLevel,hs.label=19;case 19:return gr<Vr.length?(xs=Vr[gr],[4,this.renderNode(xs)]):[3,22];case 20:hs.sent(),hs.label=21;case 21:return gr++,[3,19];case 22:Zn=0,Mn=Z.zeroOrAutoZIndexOrTransformedOrOpacity,hs.label=23;case 23:return Zn<Mn.length?(xs=Mn[Zn],[4,this.renderStack(xs)]):[3,26];case 24:hs.sent(),hs.label=25;case 25:return Zn++,[3,23];case 26:Gn=0,Ai=Z.positiveZIndex,hs.label=27;case 27:return Gn<Ai.length?(xs=Ai[Gn],[4,this.renderStack(xs)]):[3,30];case 28:hs.sent(),hs.label=29;case 29:return Gn++,[3,27];case 30:return[2]}})})},Q.prototype.mask=function(Z){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(Z.slice(0).reverse()),this.ctx.closePath()},Q.prototype.path=function(Z){this.ctx.beginPath(),this.formatPath(Z),this.ctx.closePath()},Q.prototype.formatPath=function(Z){var te=this;Z.forEach(function(Pe,De){var Xe=Ma(Pe)?Pe.start:Pe;De===0?te.ctx.moveTo(Xe.x,Xe.y):te.ctx.lineTo(Xe.x,Xe.y),Ma(Pe)&&te.ctx.bezierCurveTo(Pe.startControl.x,Pe.startControl.y,Pe.endControl.x,Pe.endControl.y,Pe.end.x,Pe.end.y)})},Q.prototype.renderRepeat=function(Z,te,Pe,De){this.path(Z),this.ctx.fillStyle=te,this.ctx.translate(Pe,De),this.ctx.fill(),this.ctx.translate(-Pe,-De)},Q.prototype.resizeImage=function(Z,te,Pe){var De;if(Z.width===te&&Z.height===Pe)return Z;var Xe=(De=this.canvas.ownerDocument)!==null&&De!==void 0?De:document,vt=Xe.createElement("canvas");vt.width=Math.max(1,te),vt.height=Math.max(1,Pe);var xt=vt.getContext("2d");return xt.drawImage(Z,0,0,Z.width,Z.height,0,0,te,Pe),vt},Q.prototype.renderBackgroundImage=function(Z){return u(this,void 0,void 0,function(){var te,Pe,De,Xe,vt,xt;return d(this,function(qt){switch(qt.label){case 0:te=Z.styles.backgroundImage.length-1,Pe=function(Jt){var gr,Vr,Zn,mo,xl,tl,ba,Bo,Hi,Mn,mo,xl,tl,ba,Bo,Gn,Ai,xs,hs,da,bi,li,ss,Yi,Hi,ni,mo,gl,Xl,ba,Bo,wc,xl,tl,yu,Wc,Ec,$u,jc,cu,Yc,C;return d(this,function(I){switch(I.label){case 0:if(Jt.type!==0)return[3,5];gr=void 0,Vr=Jt.url,I.label=1;case 1:return I.trys.push([1,3,,4]),[4,De.context.cache.match(Vr)];case 2:return gr=I.sent(),[3,4];case 3:return I.sent(),De.context.logger.error("Error loading background-image "+Vr),[3,4];case 4:return gr&&(Zn=oo(Z,te,[gr.width,gr.height,gr.width/gr.height]),mo=Zn[0],xl=Zn[1],tl=Zn[2],ba=Zn[3],Bo=Zn[4],Hi=De.ctx.createPattern(De.resizeImage(gr,ba,Bo),"repeat"),De.renderRepeat(mo,Hi,xl,tl)),[3,6];case 5:xo(Jt)?(Mn=oo(Z,te,[null,null,null]),mo=Mn[0],xl=Mn[1],tl=Mn[2],ba=Mn[3],Bo=Mn[4],Gn=Dl(Jt.angle,ba,Bo),Ai=Gn[0],xs=Gn[1],hs=Gn[2],da=Gn[3],bi=Gn[4],li=document.createElement("canvas"),li.width=ba,li.height=Bo,ss=li.getContext("2d"),Yi=ss.createLinearGradient(xs,da,hs,bi),Na(Jt.stops,Ai).forEach(function(L){return Yi.addColorStop(L.stop,In(L.color))}),ss.fillStyle=Yi,ss.fillRect(0,0,ba,Bo),ba>0&&Bo>0&&(Hi=De.ctx.createPattern(li,"repeat"),De.renderRepeat(mo,Hi,xl,tl))):Hl(Jt)&&(ni=oo(Z,te,[null,null,null]),mo=ni[0],gl=ni[1],Xl=ni[2],ba=ni[3],Bo=ni[4],wc=Jt.position.length===0?[un]:Jt.position,xl=Es(wc[0],ba),tl=Es(wc[wc.length-1],Bo),yu=bl(Jt,xl,tl,ba,Bo),Wc=yu[0],Ec=yu[1],Wc>0&&Ec>0&&($u=De.ctx.createRadialGradient(gl+xl,Xl+tl,0,gl+xl,Xl+tl,Wc),Na(Jt.stops,Wc*2).forEach(function(L){return $u.addColorStop(L.stop,In(L.color))}),De.path(mo),De.ctx.fillStyle=$u,Wc!==Ec?(jc=Z.bounds.left+.5*Z.bounds.width,cu=Z.bounds.top+.5*Z.bounds.height,Yc=Ec/Wc,C=1/Yc,De.ctx.save(),De.ctx.translate(jc,cu),De.ctx.transform(1,0,0,Yc,0,0),De.ctx.translate(-jc,-cu),De.ctx.fillRect(gl,C*(Xl-cu)+cu,ba,Bo*C),De.ctx.restore()):De.ctx.fill())),I.label=6;case 6:return te--,[2]}})},De=this,Xe=0,vt=Z.styles.backgroundImage.slice(0).reverse(),qt.label=1;case 1:return Xe<vt.length?(xt=vt[Xe],[5,Pe(xt)]):[3,4];case 2:qt.sent(),qt.label=3;case 3:return Xe++,[3,1];case 4:return[2]}})})},Q.prototype.renderSolidBorder=function(Z,te,Pe){return u(this,void 0,void 0,function(){return d(this,function(De){return this.path(Ou(Pe,te)),this.ctx.fillStyle=In(Z),this.ctx.fill(),[2]})})},Q.prototype.renderDoubleBorder=function(Z,te,Pe,De){return u(this,void 0,void 0,function(){var Xe,vt;return d(this,function(xt){switch(xt.label){case 0:return te<3?[4,this.renderSolidBorder(Z,Pe,De)]:[3,2];case 1:return xt.sent(),[2];case 2:return Xe=ed(De,Pe),this.path(Xe),this.ctx.fillStyle=In(Z),this.ctx.fill(),vt=Yl(De,Pe),this.path(vt),this.ctx.fill(),[2]}})})},Q.prototype.renderNodeBackgroundAndBorders=function(Z){return u(this,void 0,void 0,function(){var te,Pe,De,Xe,vt,xt,qt,Jt,gr=this;return d(this,function(Vr){switch(Vr.label){case 0:return this.applyEffects(Z.getEffects(2)),te=Z.container.styles,Pe=!pn(te.backgroundColor)||te.backgroundImage.length,De=[{style:te.borderTopStyle,color:te.borderTopColor,width:te.borderTopWidth},{style:te.borderRightStyle,color:te.borderRightColor,width:te.borderRightWidth},{style:te.borderBottomStyle,color:te.borderBottomColor,width:te.borderBottomWidth},{style:te.borderLeftStyle,color:te.borderLeftColor,width:te.borderLeftWidth}],Xe=lu(Vc(te.backgroundClip,0),Z.curves),Pe||te.boxShadow.length?(this.ctx.save(),this.path(Xe),this.ctx.clip(),pn(te.backgroundColor)||(this.ctx.fillStyle=In(te.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(Z.container)]):[3,2];case 1:Vr.sent(),this.ctx.restore(),te.boxShadow.slice(0).reverse().forEach(function(Zn){gr.ctx.save();var Mn=gs(Z.curves),Gn=Zn.inset?0:nd,Ai=bd(Mn,-Gn+(Zn.inset?1:-1)*Zn.spread.number,(Zn.inset?1:-1)*Zn.spread.number,Zn.spread.number*(Zn.inset?-2:2),Zn.spread.number*(Zn.inset?-2:2));Zn.inset?(gr.path(Mn),gr.ctx.clip(),gr.mask(Ai)):(gr.mask(Mn),gr.ctx.clip(),gr.path(Ai)),gr.ctx.shadowOffsetX=Zn.offsetX.number+Gn,gr.ctx.shadowOffsetY=Zn.offsetY.number,gr.ctx.shadowColor=In(Zn.color),gr.ctx.shadowBlur=Zn.blur.number,gr.ctx.fillStyle=Zn.inset?In(Zn.color):"rgba(0,0,0,1)",gr.ctx.fill(),gr.ctx.restore()}),Vr.label=2;case 2:vt=0,xt=0,qt=De,Vr.label=3;case 3:return xt<qt.length?(Jt=qt[xt],Jt.style!==0&&!pn(Jt.color)&&Jt.width>0?Jt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Jt.color,Jt.width,vt,Z.curves,2)]:[3,11]):[3,13];case 4:return Vr.sent(),[3,11];case 5:return Jt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Jt.color,Jt.width,vt,Z.curves,3)];case 6:return Vr.sent(),[3,11];case 7:return Jt.style!==4?[3,9]:[4,this.renderDoubleBorder(Jt.color,Jt.width,vt,Z.curves)];case 8:return Vr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Jt.color,vt,Z.curves)];case 10:Vr.sent(),Vr.label=11;case 11:vt++,Vr.label=12;case 12:return xt++,[3,3];case 13:return[2]}})})},Q.prototype.renderDashedDottedBorder=function(Z,te,Pe,De,Xe){return u(this,void 0,void 0,function(){var vt,xt,qt,Jt,gr,Vr,Zn,Mn,Gn,Ai,xs,hs,da,bi,li,ss,li,ss;return d(this,function(Yi){return this.ctx.save(),vt=Mu(De,Pe),xt=Ou(De,Pe),Xe===2&&(this.path(xt),this.ctx.clip()),Ma(xt[0])?(qt=xt[0].start.x,Jt=xt[0].start.y):(qt=xt[0].x,Jt=xt[0].y),Ma(xt[1])?(gr=xt[1].end.x,Vr=xt[1].end.y):(gr=xt[1].x,Vr=xt[1].y),Pe===0||Pe===2?Zn=Math.abs(qt-gr):Zn=Math.abs(Jt-Vr),this.ctx.beginPath(),Xe===3?this.formatPath(vt):this.formatPath(xt.slice(0,2)),Mn=te<3?te*3:te*2,Gn=te<3?te*2:te,Xe===3&&(Mn=te,Gn=te),Ai=!0,Zn<=Mn*2?Ai=!1:Zn<=Mn*2+Gn?(xs=Zn/(2*Mn+Gn),Mn*=xs,Gn*=xs):(hs=Math.floor((Zn+Gn)/(Mn+Gn)),da=(Zn-hs*Mn)/(hs-1),bi=(Zn-(hs+1)*Mn)/hs,Gn=bi<=0||Math.abs(Gn-da)<Math.abs(Gn-bi)?da:bi),Ai&&(Xe===3?this.ctx.setLineDash([0,Mn+Gn]):this.ctx.setLineDash([Mn,Gn])),Xe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=te):this.ctx.lineWidth=te*2+1.1,this.ctx.strokeStyle=In(Z),this.ctx.stroke(),this.ctx.setLineDash([]),Xe===2&&(Ma(xt[0])&&(li=xt[3],ss=xt[0],this.ctx.beginPath(),this.formatPath([new On(li.end.x,li.end.y),new On(ss.start.x,ss.start.y)]),this.ctx.stroke()),Ma(xt[1])&&(li=xt[1],ss=xt[2],this.ctx.beginPath(),this.formatPath([new On(li.end.x,li.end.y),new On(ss.start.x,ss.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},Q.prototype.render=function(Z){return u(this,void 0,void 0,function(){var te;return d(this,function(Pe){switch(Pe.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=In(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),te=bc(Z),[4,this.renderStack(te)];case 1:return Pe.sent(),this.applyEffects([]),[2,this.canvas]}})})},Q})(jd),sd=function(q){return q instanceof pd||q instanceof Td?!0:q instanceof Wl&&q.type!==ku&&q.type!==Pu},lu=function(q,Q){switch(q){case 0:return gs(Q);case 2:return ua(Q);case 1:default:return Wi(Q)}},xu=function(q){switch(q){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ad=["-apple-system","system-ui"],vu=function(q){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?q.filter(function(Q){return ad.indexOf(Q)===-1}):q},$l=(function(q){o(Q,q);function Q(Z,te){var Pe=q.call(this,Z,te)||this;return Pe.canvas=te.canvas?te.canvas:document.createElement("canvas"),Pe.ctx=Pe.canvas.getContext("2d"),Pe.options=te,Pe.canvas.width=Math.floor(te.width*te.scale),Pe.canvas.height=Math.floor(te.height*te.scale),Pe.canvas.style.width=te.width+"px",Pe.canvas.style.height=te.height+"px",Pe.ctx.scale(Pe.options.scale,Pe.options.scale),Pe.ctx.translate(-te.x,-te.y),Pe.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+te.width+"x"+te.height+" at "+te.x+","+te.y+") with scale "+te.scale),Pe}return Q.prototype.render=function(Z){return u(this,void 0,void 0,function(){var te,Pe;return d(this,function(De){switch(De.label){case 0:return te=Ru(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,Z),[4,Gc(te)];case 1:return Pe=De.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=In(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Pe,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},Q})(jd),Gc=function(q){return new Promise(function(Q,Z){var te=new Image;te.onload=function(){Q(te)},te.onerror=Z,te.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(q))})},Kc=(function(){function q(Q){var Z=Q.id,te=Q.enabled;this.id=Z,this.enabled=te,this.start=Date.now()}return q.prototype.debug=function(){for(var Q=[],Z=0;Z<arguments.length;Z++)Q[Z]=arguments[Z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,A([this.id,this.getTime()+"ms"],Q)):this.info.apply(this,Q))},q.prototype.getTime=function(){return Date.now()-this.start},q.prototype.info=function(){for(var Q=[],Z=0;Z<arguments.length;Z++)Q[Z]=arguments[Z];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,A([this.id,this.getTime()+"ms"],Q))},q.prototype.warn=function(){for(var Q=[],Z=0;Z<arguments.length;Z++)Q[Z]=arguments[Z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,A([this.id,this.getTime()+"ms"],Q)):this.info.apply(this,Q))},q.prototype.error=function(){for(var Q=[],Z=0;Z<arguments.length;Z++)Q[Z]=arguments[Z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,A([this.id,this.getTime()+"ms"],Q)):this.info.apply(this,Q))},q.instances={},q})(),Lu=(function(){function q(Q,Z){var te;this.windowBounds=Z,this.instanceName="#"+q.instanceCount++,this.logger=new Kc({id:this.instanceName,enabled:Q.logging}),this.cache=(te=Q.cache)!==null&&te!==void 0?te:new di(this,Q)}return q.instanceCount=1,q})(),od=function(q,Q){return Q===void 0&&(Q={}),qc(q,Q)};typeof window<"u"&&Fi.setContext(window);var qc=function(q,Q){return u(void 0,void 0,void 0,function(){var Z,te,Pe,De,Xe,vt,xt,qt,Jt,gr,Vr,Zn,Mn,Gn,Ai,xs,hs,da,bi,li,Yi,ss,Yi,Hi,ni,mo,gl,Xl,ba,Bo,wc,xl,tl,yu,Wc,Ec,$u,jc,cu,Yc;return d(this,function(C){switch(C.label){case 0:if(!q||typeof q!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(Z=q.ownerDocument,!Z)throw new Error("Element is not attached to a Document");if(te=Z.defaultView,!te)throw new Error("Document is not attached to a Window");return Pe={allowTaint:(Hi=Q.allowTaint)!==null&&Hi!==void 0?Hi:!1,imageTimeout:(ni=Q.imageTimeout)!==null&&ni!==void 0?ni:15e3,proxy:Q.proxy,useCORS:(mo=Q.useCORS)!==null&&mo!==void 0?mo:!1},De=l({logging:(gl=Q.logging)!==null&&gl!==void 0?gl:!0,cache:Q.cache},Pe),Xe={windowWidth:(Xl=Q.windowWidth)!==null&&Xl!==void 0?Xl:te.innerWidth,windowHeight:(ba=Q.windowHeight)!==null&&ba!==void 0?ba:te.innerHeight,scrollX:(Bo=Q.scrollX)!==null&&Bo!==void 0?Bo:te.pageXOffset,scrollY:(wc=Q.scrollY)!==null&&wc!==void 0?wc:te.pageYOffset},vt=new m(Xe.scrollX,Xe.scrollY,Xe.windowWidth,Xe.windowHeight),xt=new Lu(De,vt),qt=(xl=Q.foreignObjectRendering)!==null&&xl!==void 0?xl:!1,Jt={allowTaint:(tl=Q.allowTaint)!==null&&tl!==void 0?tl:!1,onclone:Q.onclone,ignoreElements:Q.ignoreElements,inlineImages:qt,copyStyles:qt},xt.logger.debug("Starting document clone with size "+vt.width+"x"+vt.height+" scrolled to "+-vt.left+","+-vt.top),gr=new bs(xt,q,Jt),Vr=gr.clonedReferenceElement,Vr?[4,gr.toIFrame(Z,vt)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Zn=C.sent(),Mn=vd(Vr)||gd(Vr)?g(Vr.ownerDocument):f(xt,Vr),Gn=Mn.width,Ai=Mn.height,xs=Mn.left,hs=Mn.top,da=Id(xt,Vr,Q.backgroundColor),bi={canvas:Q.canvas,backgroundColor:da,scale:(Wc=(yu=Q.scale)!==null&&yu!==void 0?yu:te.devicePixelRatio)!==null&&Wc!==void 0?Wc:1,x:((Ec=Q.x)!==null&&Ec!==void 0?Ec:0)+xs,y:(($u=Q.y)!==null&&$u!==void 0?$u:0)+hs,width:(jc=Q.width)!==null&&jc!==void 0?jc:Math.ceil(Gn),height:(cu=Q.height)!==null&&cu!==void 0?cu:Math.ceil(Ai)},qt?(xt.logger.debug("Document cloned, using foreign object rendering"),Yi=new $l(xt,bi),[4,Yi.render(Vr)]):[3,3];case 2:return li=C.sent(),[3,5];case 3:return xt.logger.debug("Document cloned, element located at "+xs+","+hs+" with size "+Gn+"x"+Ai+" using computed rendering"),xt.logger.debug("Starting DOM parsing"),ss=qu(xt,Vr),da===ss.styles.backgroundColor&&(ss.styles.backgroundColor=ro.TRANSPARENT),xt.logger.debug("Starting renderer for element at "+bi.x+","+bi.y+" with size "+bi.width+"x"+bi.height),Yi=new ou(xt,bi),[4,Yi.render(ss)];case 4:li=C.sent(),C.label=5;case 5:return(!((Yc=Q.removeContainer)!==null&&Yc!==void 0)||Yc)&&(bs.destroy(Zn)||xt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),xt.logger.debug("Finished rendering"),[2,li]}})})},Id=function(q,Q,Z){var te=Q.ownerDocument,Pe=te.documentElement?Sa(q,getComputedStyle(te.documentElement).backgroundColor):ro.TRANSPARENT,De=te.body?Sa(q,getComputedStyle(te.body).backgroundColor):ro.TRANSPARENT,Xe=typeof Z=="string"?Sa(q,Z):Z===null?ro.TRANSPARENT:4294967295;return Q===te.documentElement?pn(Pe)?pn(De)?Xe:De:Pe:Xe};return od}))})(html2canvas$1)),html2canvas$1.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var hasRequiredHtml2pdf;function requireHtml2pdf(){return hasRequiredHtml2pdf||(hasRequiredHtml2pdf=1,(function(e,t){(function(o,l){e.exports=l(requireHtml2canvas())})(self,function(n){return(function(){var o={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return g}});function g(v,b){(b==null||b>v.length)&&(b=v.length);for(var w=0,j=Array(b);w<b;w++)j[w]=v[w];return j}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return g}});function g(v){if(Array.isArray(v))return v}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return v}});function g(b,w,j,E,R,_,N){try{var B=b[_](N),M=B.value}catch(O){return void j(O)}B.done?w(M):Promise.resolve(M).then(E,R)}function v(b){return function(){var w=this,j=arguments;return new Promise(function(E,R){var _=b.apply(w,j);function N(M){g(_,E,R,N,B,"next",M)}function B(M){g(_,E,R,N,B,"throw",M)}N(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return v}});var g=f("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function v(b,w,j){return(w=(0,g.default)(w))in b?Object.defineProperty(b,w,{value:j,enumerable:!0,configurable:!0,writable:!0}):b[w]=j,b}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return g}});function g(v,b){var w=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(w!=null){var j,E,R,_,N=[],B=!0,M=!1;try{if(R=(w=w.call(v)).next,b===0){if(Object(w)!==w)return;B=!1}else for(;!(B=(j=R.call(w)).done)&&(N.push(j.value),N.length!==b);B=!0);}catch(O){M=!0,E=O}finally{try{if(!B&&w.return!=null&&(_=w.return(),Object(_)!==_))return}finally{if(M)throw E}}return N}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return g}});function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return j}});var g=f("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),v=f("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),b=f("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),w=f("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function j(E,R){return(0,g.default)(E)||(0,v.default)(E,R)||(0,b.default)(E,R)||(0,w.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return v}});var g=f("./node_modules/@babel/runtime/helpers/esm/typeof.js");function v(b,w){if((0,g.default)(b)!="object"||!b)return b;var j=b[Symbol.toPrimitive];if(j!==void 0){var E=j.call(b,w||"default");if((0,g.default)(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(b)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return b}});var g=f("./node_modules/@babel/runtime/helpers/esm/typeof.js"),v=f("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function b(w){var j=(0,v.default)(w,"string");return(0,g.default)(j)=="symbol"?j:j+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return g}});function g(v){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},g(v)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return v}});var g=f("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function v(b,w){if(b){if(typeof b=="string")return(0,g.default)(b,w);var j={}.toString.call(b).slice(8,-1);return j==="Object"&&b.constructor&&(j=b.constructor.name),j==="Map"||j==="Set"?Array.from(b):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?(0,g.default)(b,w):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(A,m,f){f.r(m),f.d(m,{AElement:function(){return sn},AnimateColorElement:function(){return Gi},AnimateElement:function(){return Bs},AnimateTransformElement:function(){return Ss},BoundingBox:function(){return jn},CB1:function(){return Me},CB2:function(){return He},CB3:function(){return Qe},CB4:function(){return ze},Canvg:function(){return Qa},CircleElement:function(){return ui},ClipPathElement:function(){return $s},DefsElement:function(){return wi},DescElement:function(){return fa},Document:function(){return ra},Element:function(){return vn},EllipseElement:function(){return vi},FeColorMatrixElement:function(){return Gs},FeCompositeElement:function(){return Cs},FeDropShadowElement:function(){return Ks},FeGaussianBlurElement:function(){return yi},FeMorphologyElement:function(){return xi},FilterElement:function(){return Wn},Font:function(){return Zr},FontElement:function(){return La},FontFaceElement:function(){return Qi},GElement:function(){return mi},GlyphElement:function(){return Dr},GradientElement:function(){return gi},ImageElement:function(){return si},LineElement:function(){return fs},LinearGradientElement:function(){return Ni},MarkerElement:function(){return zn},MaskElement:function(){return Xs},Matrix:function(){return En},MissingGlyphElement:function(){return Pi},Mouse:function(){return St},PSEUDO_ZERO:function(){return de},Parser:function(){return Qr},PathElement:function(){return an},PathParser:function(){return rn},PatternElement:function(){return zi},Point:function(){return mt},PolygonElement:function(){return Vs},PolylineElement:function(){return Sn},Property:function(){return Ye},QB1:function(){return Ve},QB2:function(){return tt},QB3:function(){return nt},RadialGradientElement:function(){return Hs},RectElement:function(){return Ti},RenderedElement:function(){return Kn},Rotate:function(){return on},SVGElement:function(){return ps},SVGFontLoader:function(){return aa},Scale:function(){return wn},Screen:function(){return Bt},Skew:function(){return en},SkewX:function(){return Pt},SkewY:function(){return ar},StopElement:function(){return Xi},StyleElement:function(){return wa},SymbolElement:function(){return Ra},TRefElement:function(){return Ot},TSpanElement:function(){return Tn},TextElement:function(){return Hn},TextPathElement:function(){return As},TitleElement:function(){return Js},Transform:function(){return tn},Translate:function(){return $r},UnknownElement:function(){return bn},UseElement:function(){return oa},ViewPort:function(){return ut},compressSpaces:function(){return B},default:function(){return Qa},getSelectorSpecificity:function(){return le},normalizeAttributeName:function(){return z},normalizeColor:function(){return ce},parseExternalUrl:function(){return se},presets:function(){return N},toNumbers:function(){return F},trimLeft:function(){return M},trimRight:function(){return O},vectorMagnitude:function(){return ye},vectorsAngle:function(){return je},vectorsRatio:function(){return ge}}),f("./node_modules/core-js/modules/es.promise.js");var g=f("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");f("./node_modules/core-js/modules/es.string.match.js"),f("./node_modules/core-js/modules/es.string.replace.js"),f("./node_modules/core-js/modules/es.string.starts-with.js"),f("./node_modules/core-js/modules/es.array.iterator.js"),f("./node_modules/core-js/modules/web.dom-collections.iterator.js");var v=f("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");f("./node_modules/core-js/modules/es.array.reduce.js"),f("./node_modules/core-js/modules/es.string.ends-with.js"),f("./node_modules/core-js/modules/es.string.split.js");var b=f("./node_modules/raf/index.js");f("./node_modules/core-js/modules/es.string.trim.js");var w=f("./node_modules/rgbcolor/index.js");f("./node_modules/core-js/modules/es.array.index-of.js"),f("./node_modules/core-js/modules/es.string.includes.js"),f("./node_modules/core-js/modules/es.array.reverse.js");var j=f("./node_modules/svg-pathdata/lib/SVGPathData.module.js");f("./node_modules/core-js/modules/es.regexp.to-string.js");var E=f("./node_modules/stackblur-canvas/dist/stackblur-es.js");function R(){var{DOMParser:Wt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Wt,createCanvas(Ee,Se){return new OffscreenCanvas(Ee,Se)},createImage(Ee){return(0,g.default)(function*(){var Se=yield fetch(Ee),J=yield Se.blob(),ee=yield createImageBitmap(J);return ee})()}};return(typeof DOMParser<"u"||typeof Wt>"u")&&Reflect.deleteProperty(ne,"DOMParser"),ne}function _(Wt){var{DOMParser:ne,canvas:Ee,fetch:Se}=Wt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:ne,fetch:Se,createCanvas:Ee.createCanvas,createImage:Ee.loadImage}}var N=Object.freeze({__proto__:null,offscreen:R,node:_});function B(Wt){return Wt.replace(/(?!\u3000)\s+/gm," ")}function M(Wt){return Wt.replace(/^[\n \t]+/,"")}function O(Wt){return Wt.replace(/[\n \t]+$/,"")}function F(Wt){var ne=(Wt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return ne.map(parseFloat)}var $=/^[A-Z-]+$/;function z(Wt){return $.test(Wt)?Wt.toLowerCase():Wt}function se(Wt){var ne=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Wt)||[];return ne[2]||ne[3]||ne[4]}function ce(Wt){if(!Wt.startsWith("rgb"))return Wt;var ne=3,Ee=Wt.replace(/\d+(\.\d+)?/g,(Se,J)=>ne--&&J?String(Math.round(parseFloat(Se))):Se);return Ee}var ie=/(\[[^\]]+\])/g,pe=/(#[^\s+>~.[:]+)/g,xe=/(\.[^\s+>~.[:]+)/g,Ae=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,ue=/(:[\w-]+\([^)]*\))/gi,Y=/(:[^\s+>~.[:]+)/g,fe=/([^\s+>~.[:]+)/g;function H(Wt,ne){var Ee=ne.exec(Wt);return Ee?[Wt.replace(ne," "),Ee.length]:[Wt,0]}function le(Wt){var ne=[0,0,0],Ee=Wt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),Se=0;return[Ee,Se]=H(Ee,ie),ne[1]+=Se,[Ee,Se]=H(Ee,pe),ne[0]+=Se,[Ee,Se]=H(Ee,xe),ne[1]+=Se,[Ee,Se]=H(Ee,Ae),ne[2]+=Se,[Ee,Se]=H(Ee,ue),ne[1]+=Se,[Ee,Se]=H(Ee,Y),ne[1]+=Se,Ee=Ee.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[Ee,Se]=H(Ee,fe),ne[2]+=Se,ne.join("")}var de=1e-8;function ye(Wt){return Math.sqrt(Math.pow(Wt[0],2)+Math.pow(Wt[1],2))}function ge(Wt,ne){return(Wt[0]*ne[0]+Wt[1]*ne[1])/(ye(Wt)*ye(ne))}function je(Wt,ne){return(Wt[0]*ne[1]<Wt[1]*ne[0]?-1:1)*Math.acos(ge(Wt,ne))}function Me(Wt){return Wt*Wt*Wt}function He(Wt){return 3*Wt*Wt*(1-Wt)}function Qe(Wt){return 3*Wt*(1-Wt)*(1-Wt)}function ze(Wt){return(1-Wt)*(1-Wt)*(1-Wt)}function Ve(Wt){return Wt*Wt}function tt(Wt){return 2*Wt*(1-Wt)}function nt(Wt){return(1-Wt)*(1-Wt)}class Ye{constructor(ne,Ee,Se){this.document=ne,this.name=Ee,this.value=Se,this.isNormalizedColor=!1}static empty(ne){return new Ye(ne,"EMPTY","")}split(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:Ee,name:Se}=this;return B(this.getString()).trim().split(ne).map(J=>new Ye(Ee,Se,J))}hasValue(ne){var{value:Ee}=this;return Ee!==null&&Ee!==""&&(ne||Ee!==0)&&typeof Ee<"u"}isString(ne){var{value:Ee}=this,Se=typeof Ee=="string";return!Se||!ne?Se:ne.test(Ee)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var ne=this.getString();switch(!0){case ne.endsWith("px"):case/^[0-9]+$/.test(ne):return!0;default:return!1}}setValue(ne){return this.value=ne,this}getValue(ne){return typeof ne>"u"||this.hasValue()?this.value:ne}getNumber(ne){if(!this.hasValue())return typeof ne>"u"?0:parseFloat(ne);var{value:Ee}=this,Se=parseFloat(Ee);return this.isString(/%$/)&&(Se/=100),Se}getString(ne){return typeof ne>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(ne)}getColor(ne){var Ee=this.getString(ne);return this.isNormalizedColor||(this.isNormalizedColor=!0,Ee=ce(Ee),this.value=Ee),Ee}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[Se,J]=typeof ne=="boolean"?[void 0,ne]:[ne],{viewPort:ee}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(ee.computeSize("x"),ee.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(ee.computeSize("x"),ee.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*ee.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*ee.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&J):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*ee.computeSize(Se);default:{var be=this.getNumber();return Ee&&be<1?be*ee.computeSize(Se):be}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var ne=this.getString(),Ee=/#([^)'"]+)/.exec(ne);return Ee&&(Ee=Ee[1]),Ee||(Ee=ne),this.document.definitions[Ee]}getFillStyleDefinition(ne,Ee){var Se=this.getDefinition();if(!Se)return null;if(typeof Se.createGradient=="function")return Se.createGradient(this.document.ctx,ne,Ee);if(typeof Se.createPattern=="function"){if(Se.getHrefAttribute().hasValue()){var J=Se.getAttribute("patternTransform");Se=Se.getHrefAttribute().getDefinition(),J.hasValue()&&Se.getAttribute("patternTransform",!0).setValue(J.value)}return Se.createPattern(this.document.ctx,ne,Ee)}return null}getTextBaseline(){return this.hasValue()?Ye.textBaselineMapping[this.getString()]:null}addOpacity(ne){for(var Ee=this.getColor(),Se=Ee.length,J=0,ee=0;ee<Se&&(Ee[ee]===","&&J++,J!==3);ee++);if(ne.hasValue()&&this.isString()&&J!==3){var be=new w(Ee);be.ok&&(be.alpha=ne.getNumber(),Ee=be.toRGBA())}return new Ye(this.document,this.name,Ee)}}Ye.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class ut{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(ne,Ee){this.viewPorts.push({width:ne,height:Ee})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:ne}=this;return ne[ne.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(ne){return typeof ne=="number"?ne:ne==="x"?this.width:ne==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class mt{constructor(ne,Ee){this.x=ne,this.y=Ee}static parse(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[Se=Ee,J=Ee]=F(ne);return new mt(Se,J)}static parseScale(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[Se=Ee,J=Se]=F(ne);return new mt(Se,J)}static parsePath(ne){for(var Ee=F(ne),Se=Ee.length,J=[],ee=0;ee<Se;ee+=2)J.push(new mt(Ee[ee],Ee[ee+1]));return J}angleTo(ne){return Math.atan2(ne.y-this.y,ne.x-this.x)}applyTransform(ne){var{x:Ee,y:Se}=this,J=Ee*ne[0]+Se*ne[2]+ne[4],ee=Ee*ne[1]+Se*ne[3]+ne[5];this.x=J,this.y=ee}}class St{constructor(ne){this.screen=ne,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:ne,onClick:Ee,onMouseMove:Se}=this,J=ne.ctx.canvas;J.onclick=Ee,J.onmousemove=Se,this.working=!0}}stop(){if(this.working){var ne=this.screen.ctx.canvas;this.working=!1,ne.onclick=null,ne.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:ne,events:Ee,eventElements:Se}=this,{style:J}=ne.ctx.canvas;J&&(J.cursor=""),Ee.forEach((ee,be)=>{for(var{run:ke}=ee,Le=Se[be];Le;)ke(Le),Le=Le.parent}),this.events=[],this.eventElements=[]}}checkPath(ne,Ee){if(!(!this.working||!Ee)){var{events:Se,eventElements:J}=this;Se.forEach((ee,be)=>{var{x:ke,y:Le}=ee;!J[be]&&Ee.isPointInPath&&Ee.isPointInPath(ke,Le)&&(J[be]=ne)})}}checkBoundingBox(ne,Ee){if(!(!this.working||!Ee)){var{events:Se,eventElements:J}=this;Se.forEach((ee,be)=>{var{x:ke,y:Le}=ee;!J[be]&&Ee.isPointInBox(ke,Le)&&(J[be]=ne)})}}mapXY(ne,Ee){for(var{window:Se,ctx:J}=this.screen,ee=new mt(ne,Ee),be=J.canvas;be;)ee.x-=be.offsetLeft,ee.y-=be.offsetTop,be=be.offsetParent;return Se.scrollX&&(ee.x+=Se.scrollX),Se.scrollY&&(ee.y+=Se.scrollY),ee}onClick(ne){var{x:Ee,y:Se}=this.mapXY(ne.clientX,ne.clientY);this.events.push({type:"onclick",x:Ee,y:Se,run(J){J.onClick&&J.onClick()}})}onMouseMove(ne){var{x:Ee,y:Se}=this.mapXY(ne.clientX,ne.clientY);this.events.push({type:"onmousemove",x:Ee,y:Se,run(J){J.onMouseMove&&J.onMouseMove()}})}}var or=typeof window<"u"?window:null,Zt=typeof fetch<"u"?fetch.bind(void 0):null;class Bt{constructor(ne){var{fetch:Ee=Zt,window:Se=or}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=ne,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new ut,this.mouse=new St(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=Se,this.fetch=Ee}wait(ne){this.waits.push(ne)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var ne=this.waits.every(Ee=>Ee());return ne&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=ne,ne}setDefaults(ne){ne.strokeStyle="rgba(0,0,0,0)",ne.lineCap="butt",ne.lineJoin="miter",ne.miterLimit=4}setViewBox(ne){var{document:Ee,ctx:Se,aspectRatio:J,width:ee,desiredWidth:be,height:ke,desiredHeight:Le,minX:Ze=0,minY:ht=0,refX:V,refY:U,clip:W=!1,clipX:ae=0,clipY:me=0}=ne,we=B(J).replace(/^defer\s/,""),[Be,Re]=we.split(" "),Te=Be||"xMidYMid",$e=Re||"meet",qe=ee/be,at=ke/Le,pt=Math.min(qe,at),Ie=Math.max(qe,at),wt=be,At=Le;$e==="meet"&&(wt*=pt,At*=pt),$e==="slice"&&(wt*=Ie,At*=Ie);var Nt=new Ye(Ee,"refX",V),lt=new Ye(Ee,"refY",U),Ut=Nt.hasValue()&&lt.hasValue();if(Ut&&Se.translate(-pt*Nt.getPixels("x"),-pt*lt.getPixels("y")),W){var tr=pt*ae,Ft=pt*me;Se.beginPath(),Se.moveTo(tr,Ft),Se.lineTo(ee,Ft),Se.lineTo(ee,ke),Se.lineTo(tr,ke),Se.closePath(),Se.clip()}if(!Ut){var it=$e==="meet"&&pt===at,Yt=$e==="slice"&&Ie===at,Er=$e==="meet"&&pt===qe,lr=$e==="slice"&&Ie===qe;Te.startsWith("xMid")&&(it||Yt)&&Se.translate(ee/2-wt/2,0),Te.endsWith("YMid")&&(Er||lr)&&Se.translate(0,ke/2-At/2),Te.startsWith("xMax")&&(it||Yt)&&Se.translate(ee-wt,0),Te.endsWith("YMax")&&(Er||lr)&&Se.translate(0,ke-At)}switch(!0){case Te==="none":Se.scale(qe,at);break;case $e==="meet":Se.scale(pt,pt);break;case $e==="slice":Se.scale(Ie,Ie);break}Se.translate(-Ze,-ht)}start(ne){var{enableRedraw:Ee=!1,ignoreMouse:Se=!1,ignoreAnimation:J=!1,ignoreDimensions:ee=!1,ignoreClear:be=!1,forceRedraw:ke,scaleWidth:Le,scaleHeight:Ze,offsetX:ht,offsetY:V}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:U,mouse:W}=this,ae=1e3/U;if(this.frameDuration=ae,this.readyPromise=new Promise(Te=>{this.resolveReady=Te}),this.isReady()&&this.render(ne,ee,be,Le,Ze,ht,V),!!Ee){var me=Date.now(),we=me,Be=0,Re=()=>{me=Date.now(),Be=me-we,Be>=ae&&(we=me-Be%ae,this.shouldUpdate(J,ke)&&(this.render(ne,ee,be,Le,Ze,ht,V),W.runEvents())),this.intervalId=b(Re)};Se||W.start(),this.intervalId=b(Re)}}stop(){this.intervalId&&(b.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(ne,Ee){if(!ne){var{frameDuration:Se}=this,J=this.animations.reduce((ee,be)=>be.update(Se)||ee,!1);if(J)return!0}return!!(typeof Ee=="function"&&Ee()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(ne,Ee,Se,J,ee,be,ke){var{CLIENT_WIDTH:Le,CLIENT_HEIGHT:Ze,viewPort:ht,ctx:V,isFirstRender:U}=this,W=V.canvas;ht.clear(),W.width&&W.height?ht.setCurrent(W.width,W.height):ht.setCurrent(Le,Ze);var ae=ne.getStyle("width"),me=ne.getStyle("height");!Ee&&(U||typeof J!="number"&&typeof ee!="number")&&(ae.hasValue()&&(W.width=ae.getPixels("x"),W.style&&(W.style.width="".concat(W.width,"px"))),me.hasValue()&&(W.height=me.getPixels("y"),W.style&&(W.style.height="".concat(W.height,"px"))));var we=W.clientWidth||W.width,Be=W.clientHeight||W.height;if(Ee&&ae.hasValue()&&me.hasValue()&&(we=ae.getPixels("x"),Be=me.getPixels("y")),ht.setCurrent(we,Be),typeof be=="number"&&ne.getAttribute("x",!0).setValue(be),typeof ke=="number"&&ne.getAttribute("y",!0).setValue(ke),typeof J=="number"||typeof ee=="number"){var Re=F(ne.getAttribute("viewBox").getString()),Te=0,$e=0;if(typeof J=="number"){var qe=ne.getStyle("width");qe.hasValue()?Te=qe.getPixels("x")/J:isNaN(Re[2])||(Te=Re[2]/J)}if(typeof ee=="number"){var at=ne.getStyle("height");at.hasValue()?$e=at.getPixels("y")/ee:isNaN(Re[3])||($e=Re[3]/ee)}Te||(Te=$e),$e||($e=Te),ne.getAttribute("width",!0).setValue(J),ne.getAttribute("height",!0).setValue(ee);var pt=ne.getStyle("transform",!0,!0);pt.setValue("".concat(pt.getString()," scale(").concat(1/Te,", ").concat(1/$e,")"))}Se||V.clearRect(0,0,we,Be),ne.render(V),U&&(this.isFirstRender=!1)}}Bt.defaultWindow=or,Bt.defaultFetch=Zt;var{defaultFetch:ur}=Bt,Nr=typeof DOMParser<"u"?DOMParser:null;class Qr{constructor(){var{fetch:ne=ur,DOMParser:Ee=Nr}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=ne,this.DOMParser=Ee}parse(ne){var Ee=this;return(0,g.default)(function*(){return ne.startsWith("<")?Ee.parseFromString(ne):Ee.load(ne)})()}parseFromString(ne){var Ee=new this.DOMParser;try{return this.checkDocument(Ee.parseFromString(ne,"image/svg+xml"))}catch{return this.checkDocument(Ee.parseFromString(ne,"text/xml"))}}checkDocument(ne){var Ee=ne.getElementsByTagName("parsererror")[0];if(Ee)throw new Error(Ee.textContent);return ne}load(ne){var Ee=this;return(0,g.default)(function*(){var Se=yield Ee.fetch(ne),J=yield Se.text();return Ee.parseFromString(J)})()}}class $r{constructor(ne,Ee){this.type="translate",this.point=null,this.point=mt.parse(Ee)}apply(ne){var{x:Ee,y:Se}=this.point;ne.translate(Ee||0,Se||0)}unapply(ne){var{x:Ee,y:Se}=this.point;ne.translate(-1*Ee||0,-1*Se||0)}applyToPoint(ne){var{x:Ee,y:Se}=this.point;ne.applyTransform([1,0,0,1,Ee||0,Se||0])}}class on{constructor(ne,Ee,Se){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var J=F(Ee);this.angle=new Ye(ne,"angle",J[0]),this.originX=Se[0],this.originY=Se[1],this.cx=J[1]||0,this.cy=J[2]||0}apply(ne){var{cx:Ee,cy:Se,originX:J,originY:ee,angle:be}=this,ke=Ee+J.getPixels("x"),Le=Se+ee.getPixels("y");ne.translate(ke,Le),ne.rotate(be.getRadians()),ne.translate(-ke,-Le)}unapply(ne){var{cx:Ee,cy:Se,originX:J,originY:ee,angle:be}=this,ke=Ee+J.getPixels("x"),Le=Se+ee.getPixels("y");ne.translate(ke,Le),ne.rotate(-1*be.getRadians()),ne.translate(-ke,-Le)}applyToPoint(ne){var{cx:Ee,cy:Se,angle:J}=this,ee=J.getRadians();ne.applyTransform([1,0,0,1,Ee||0,Se||0]),ne.applyTransform([Math.cos(ee),Math.sin(ee),-Math.sin(ee),Math.cos(ee),0,0]),ne.applyTransform([1,0,0,1,-Ee||0,-Se||0])}}class wn{constructor(ne,Ee,Se){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var J=mt.parseScale(Ee);(J.x===0||J.y===0)&&(J.x=de,J.y=de),this.scale=J,this.originX=Se[0],this.originY=Se[1]}apply(ne){var{scale:{x:Ee,y:Se},originX:J,originY:ee}=this,be=J.getPixels("x"),ke=ee.getPixels("y");ne.translate(be,ke),ne.scale(Ee,Se||Ee),ne.translate(-be,-ke)}unapply(ne){var{scale:{x:Ee,y:Se},originX:J,originY:ee}=this,be=J.getPixels("x"),ke=ee.getPixels("y");ne.translate(be,ke),ne.scale(1/Ee,1/Se||Ee),ne.translate(-be,-ke)}applyToPoint(ne){var{x:Ee,y:Se}=this.scale;ne.applyTransform([Ee||0,0,0,Se||0,0,0])}}class En{constructor(ne,Ee,Se){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=F(Ee),this.originX=Se[0],this.originY=Se[1]}apply(ne){var{originX:Ee,originY:Se,matrix:J}=this,ee=Ee.getPixels("x"),be=Se.getPixels("y");ne.translate(ee,be),ne.transform(J[0],J[1],J[2],J[3],J[4],J[5]),ne.translate(-ee,-be)}unapply(ne){var{originX:Ee,originY:Se,matrix:J}=this,ee=J[0],be=J[2],ke=J[4],Le=J[1],Ze=J[3],ht=J[5],V=0,U=0,W=1,ae=1/(ee*(Ze*W-ht*U)-be*(Le*W-ht*V)+ke*(Le*U-Ze*V)),me=Ee.getPixels("x"),we=Se.getPixels("y");ne.translate(me,we),ne.transform(ae*(Ze*W-ht*U),ae*(ht*V-Le*W),ae*(ke*U-be*W),ae*(ee*W-ke*V),ae*(be*ht-ke*Ze),ae*(ke*Le-ee*ht)),ne.translate(-me,-we)}applyToPoint(ne){ne.applyTransform(this.matrix)}}class en extends En{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="skew",this.angle=null,this.angle=new Ye(ne,"angle",Ee)}}class Pt extends en{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class ar extends en{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function Xr(Wt){return B(Wt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function Cn(Wt){var[ne,Ee]=Wt.split("(");return[ne.trim(),Ee.trim().replace(")","")]}class tn{constructor(ne,Ee,Se){this.document=ne,this.transforms=[];var J=Xr(Ee);J.forEach(ee=>{if(ee!=="none"){var[be,ke]=Cn(ee),Le=tn.transformTypes[be];typeof Le<"u"&&this.transforms.push(new Le(this.document,ke,Se))}})}static fromElement(ne,Ee){var Se=Ee.getStyle("transform",!1,!0),[J,ee=J]=Ee.getStyle("transform-origin",!1,!0).split(),be=[J,ee];return Se.hasValue()?new tn(ne,Se.getString(),be):null}apply(ne){for(var{transforms:Ee}=this,Se=Ee.length,J=0;J<Se;J++)Ee[J].apply(ne)}unapply(ne){for(var{transforms:Ee}=this,Se=Ee.length,J=Se-1;J>=0;J--)Ee[J].unapply(ne)}applyToPoint(ne){for(var{transforms:Ee}=this,Se=Ee.length,J=0;J<Se;J++)Ee[J].applyToPoint(ne)}}tn.transformTypes={translate:$r,rotate:on,scale:wn,matrix:En,skewX:Pt,skewY:ar};class vn{constructor(ne,Ee){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=ne,this.node=Ee,this.captureTextNodes=Se,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!Ee||Ee.nodeType!==1)){if(Array.from(Ee.attributes).forEach(ke=>{var Le=z(ke.nodeName);this.attributes[Le]=new Ye(ne,Le,ke.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var J=this.getAttribute("style").getString().split(";").map(ke=>ke.trim());J.forEach(ke=>{if(ke){var[Le,Ze]=ke.split(":").map(ht=>ht.trim());this.styles[Le]=new Ye(ne,Le,Ze)}})}var{definitions:ee}=ne,be=this.getAttribute("id");be.hasValue()&&(ee[be.getString()]||(ee[be.getString()]=this)),Array.from(Ee.childNodes).forEach(ke=>{if(ke.nodeType===1)this.addChild(ke);else if(Se&&(ke.nodeType===3||ke.nodeType===4)){var Le=ne.createTextNode(ke);Le.getText().length>0&&this.addChild(Le)}})}}getAttribute(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Se=this.attributes[ne];if(!Se&&Ee){var J=new Ye(this.document,ne,"");return this.attributes[ne]=J,J}return Se||Ye.empty(this.document)}getHrefAttribute(){for(var ne in this.attributes)if(ne==="href"||ne.endsWith(":href"))return this.attributes[ne];return Ye.empty(this.document)}getStyle(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,J=this.styles[ne];if(J)return J;var ee=this.getAttribute(ne);if(ee!=null&&ee.hasValue())return this.styles[ne]=ee,ee;if(!Se){var{parent:be}=this;if(be){var ke=be.getStyle(ne);if(ke!=null&&ke.hasValue())return ke}}if(Ee){var Le=new Ye(this.document,ne,"");return this.styles[ne]=Le,Le}return J||Ye.empty(this.document)}render(ne){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(ne.save(),this.getStyle("mask").hasValue()){var Ee=this.getStyle("mask").getDefinition();Ee&&(this.applyEffects(ne),Ee.apply(ne,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var Se=this.getStyle("filter").getDefinition();Se&&(this.applyEffects(ne),Se.apply(ne,this))}else this.setContext(ne),this.renderChildren(ne),this.clearContext(ne);ne.restore()}}setContext(ne){}applyEffects(ne){var Ee=tn.fromElement(this.document,this);Ee&&Ee.apply(ne);var Se=this.getStyle("clip-path",!1,!0);if(Se.hasValue()){var J=Se.getDefinition();J&&J.apply(ne)}}clearContext(ne){}renderChildren(ne){this.children.forEach(Ee=>{Ee.render(ne)})}addChild(ne){var Ee=ne instanceof vn?ne:this.document.createElement(ne);Ee.parent=this,vn.ignoreChildTypes.includes(Ee.type)||this.children.push(Ee)}matchesSelector(ne){var Ee,{node:Se}=this;if(typeof Se.matches=="function")return Se.matches(ne);var J=(Ee=Se.getAttribute)===null||Ee===void 0?void 0:Ee.call(Se,"class");return!J||J===""?!1:J.split(" ").some(ee=>".".concat(ee)===ne)}addStylesFromStyleDefinition(){var{styles:ne,stylesSpecificity:Ee}=this.document;for(var Se in ne)if(!Se.startsWith("@")&&this.matchesSelector(Se)){var J=ne[Se],ee=Ee[Se];if(J)for(var be in J){var ke=this.stylesSpecificity[be];typeof ke>"u"&&(ke="000"),ee>=ke&&(this.styles[be]=J[be],this.stylesSpecificity[be]=ee)}}}removeStyles(ne,Ee){var Se=Ee.reduce((J,ee)=>{var be=ne.getStyle(ee);if(!be.hasValue())return J;var ke=be.getString();return be.setValue(""),[...J,[ee,ke]]},[]);return Se}restoreStyles(ne,Ee){Ee.forEach(Se=>{var[J,ee]=Se;ne.getStyle(J,!0).setValue(ee)})}isFirstChild(){var ne;return((ne=this.parent)===null||ne===void 0?void 0:ne.children.indexOf(this))===0}}vn.ignoreChildTypes=["title"];class bn extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se)}}function Br(Wt){var ne=Wt.trim();return/^('|")/.test(ne)?ne:'"'.concat(ne,'"')}function Dt(Wt){return typeof process>"u"?Wt:Wt.trim().split(",").map(Br).join(",")}function Tr(Wt){if(!Wt)return"";var ne=Wt.trim().toLowerCase();switch(ne){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return ne;default:return/^oblique\s+(-|)\d+deg$/.test(ne)?ne:""}}function qr(Wt){if(!Wt)return"";var ne=Wt.trim().toLowerCase();switch(ne){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return ne;default:return/^[\d.]+$/.test(ne)?ne:""}}class Zr{constructor(ne,Ee,Se,J,ee,be){var ke=be?typeof be=="string"?Zr.parse(be):be:{};this.fontFamily=ee||ke.fontFamily,this.fontSize=J||ke.fontSize,this.fontStyle=ne||ke.fontStyle,this.fontWeight=Se||ke.fontWeight,this.fontVariant=Ee||ke.fontVariant}static parse(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Ee=arguments.length>1?arguments[1]:void 0,Se="",J="",ee="",be="",ke="",Le=B(ne).trim().split(" "),Ze={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return Le.forEach(ht=>{switch(!0){case(!Ze.fontStyle&&Zr.styles.includes(ht)):ht!=="inherit"&&(Se=ht),Ze.fontStyle=!0;break;case(!Ze.fontVariant&&Zr.variants.includes(ht)):ht!=="inherit"&&(J=ht),Ze.fontStyle=!0,Ze.fontVariant=!0;break;case(!Ze.fontWeight&&Zr.weights.includes(ht)):ht!=="inherit"&&(ee=ht),Ze.fontStyle=!0,Ze.fontVariant=!0,Ze.fontWeight=!0;break;case!Ze.fontSize:ht!=="inherit"&&([be]=ht.split("/")),Ze.fontStyle=!0,Ze.fontVariant=!0,Ze.fontWeight=!0,Ze.fontSize=!0;break;default:ht!=="inherit"&&(ke+=ht)}}),new Zr(Se,J,ee,be,ke,Ee)}toString(){return[Tr(this.fontStyle),this.fontVariant,qr(this.fontWeight),this.fontSize,Dt(this.fontFamily)].join(" ").trim()}}Zr.styles="normal|italic|oblique|inherit",Zr.variants="normal|small-caps|inherit",Zr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class jn{constructor(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=ne,this.y1=Ee,this.x2=Se,this.y2=J,this.addPoint(ne,Ee),this.addPoint(Se,J)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(ne,Ee){typeof ne<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=ne,this.x2=ne),ne<this.x1&&(this.x1=ne),ne>this.x2&&(this.x2=ne)),typeof Ee<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=Ee,this.y2=Ee),Ee<this.y1&&(this.y1=Ee),Ee>this.y2&&(this.y2=Ee))}addX(ne){this.addPoint(ne,null)}addY(ne){this.addPoint(null,ne)}addBoundingBox(ne){if(ne){var{x1:Ee,y1:Se,x2:J,y2:ee}=ne;this.addPoint(Ee,Se),this.addPoint(J,ee)}}sumCubic(ne,Ee,Se,J,ee){return Math.pow(1-ne,3)*Ee+3*Math.pow(1-ne,2)*ne*Se+3*(1-ne)*Math.pow(ne,2)*J+Math.pow(ne,3)*ee}bezierCurveAdd(ne,Ee,Se,J,ee){var be=6*Ee-12*Se+6*J,ke=-3*Ee+9*Se-9*J+3*ee,Le=3*Se-3*Ee;if(ke===0){if(be===0)return;var Ze=-Le/be;0<Ze&&Ze<1&&(ne?this.addX(this.sumCubic(Ze,Ee,Se,J,ee)):this.addY(this.sumCubic(Ze,Ee,Se,J,ee)));return}var ht=Math.pow(be,2)-4*Le*ke;if(!(ht<0)){var V=(-be+Math.sqrt(ht))/(2*ke);0<V&&V<1&&(ne?this.addX(this.sumCubic(V,Ee,Se,J,ee)):this.addY(this.sumCubic(V,Ee,Se,J,ee)));var U=(-be-Math.sqrt(ht))/(2*ke);0<U&&U<1&&(ne?this.addX(this.sumCubic(U,Ee,Se,J,ee)):this.addY(this.sumCubic(U,Ee,Se,J,ee)))}}addBezierCurve(ne,Ee,Se,J,ee,be,ke,Le){this.addPoint(ne,Ee),this.addPoint(ke,Le),this.bezierCurveAdd(!0,ne,Se,ee,ke),this.bezierCurveAdd(!1,Ee,J,be,Le)}addQuadraticCurve(ne,Ee,Se,J,ee,be){var ke=ne+.6666666666666666*(Se-ne),Le=Ee+2/3*(J-Ee),Ze=ke+1/3*(ee-ne),ht=Le+1/3*(be-Ee);this.addBezierCurve(ne,Ee,ke,Ze,Le,ht,ee,be)}isPointInBox(ne,Ee){var{x1:Se,y1:J,x2:ee,y2:be}=this;return Se<=ne&&ne<=ee&&J<=Ee&&Ee<=be}}class rn extends j.SVGPathData{constructor(ne){super(ne.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new mt(0,0),this.control=new mt(0,0),this.current=new mt(0,0),this.points=[],this.angles=[]}isEnd(){var{i:ne,commands:Ee}=this;return ne>=Ee.length-1}next(){var ne=this.commands[++this.i];return this.previousCommand=this.command,this.command=ne,ne}getPoint(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",Se=new mt(this.command[ne],this.command[Ee]);return this.makeAbsolute(Se)}getAsControlPoint(ne,Ee){var Se=this.getPoint(ne,Ee);return this.control=Se,Se}getAsCurrentPoint(ne,Ee){var Se=this.getPoint(ne,Ee);return this.current=Se,Se}getReflectedControlPoint(){var ne=this.previousCommand.type;if(ne!==j.SVGPathData.CURVE_TO&&ne!==j.SVGPathData.SMOOTH_CURVE_TO&&ne!==j.SVGPathData.QUAD_TO&&ne!==j.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:Ee,y:Se},control:{x:J,y:ee}}=this,be=new mt(2*Ee-J,2*Se-ee);return be}makeAbsolute(ne){if(this.command.relative){var{x:Ee,y:Se}=this.current;ne.x+=Ee,ne.y+=Se}return ne}addMarker(ne,Ee,Se){var{points:J,angles:ee}=this;Se&&ee.length>0&&!ee[ee.length-1]&&(ee[ee.length-1]=J[J.length-1].angleTo(Se)),this.addMarkerAngle(ne,Ee?Ee.angleTo(ne):null)}addMarkerAngle(ne,Ee){this.points.push(ne),this.angles.push(Ee)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:ne}=this,Ee=ne.length,Se=0;Se<Ee;Se++)if(!ne[Se]){for(var J=Se+1;J<Ee;J++)if(ne[J]){ne[Se]=ne[J];break}}return ne}}class Kn extends vn{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var ne=1,Ee=this;Ee;){var Se=Ee.getStyle("opacity",!1,!0);Se.hasValue(!0)&&(ne*=Se.getNumber()),Ee=Ee.parent}return ne}setContext(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Ee){var Se=this.getStyle("fill"),J=this.getStyle("fill-opacity"),ee=this.getStyle("stroke"),be=this.getStyle("stroke-opacity");if(Se.isUrlDefinition()){var ke=Se.getFillStyleDefinition(this,J);ke&&(ne.fillStyle=ke)}else if(Se.hasValue()){Se.getString()==="currentColor"&&Se.setValue(this.getStyle("color").getColor());var Le=Se.getColor();Le!=="inherit"&&(ne.fillStyle=Le==="none"?"rgba(0,0,0,0)":Le)}if(J.hasValue()){var Ze=new Ye(this.document,"fill",ne.fillStyle).addOpacity(J).getColor();ne.fillStyle=Ze}if(ee.isUrlDefinition()){var ht=ee.getFillStyleDefinition(this,be);ht&&(ne.strokeStyle=ht)}else if(ee.hasValue()){ee.getString()==="currentColor"&&ee.setValue(this.getStyle("color").getColor());var V=ee.getString();V!=="inherit"&&(ne.strokeStyle=V==="none"?"rgba(0,0,0,0)":V)}if(be.hasValue()){var U=new Ye(this.document,"stroke",ne.strokeStyle).addOpacity(be).getString();ne.strokeStyle=U}var W=this.getStyle("stroke-width");if(W.hasValue()){var ae=W.getPixels();ne.lineWidth=ae||de}var me=this.getStyle("stroke-linecap"),we=this.getStyle("stroke-linejoin"),Be=this.getStyle("stroke-miterlimit"),Re=this.getStyle("stroke-dasharray"),Te=this.getStyle("stroke-dashoffset");if(me.hasValue()&&(ne.lineCap=me.getString()),we.hasValue()&&(ne.lineJoin=we.getString()),Be.hasValue()&&(ne.miterLimit=Be.getNumber()),Re.hasValue()&&Re.getString()!=="none"){var $e=F(Re.getString());typeof ne.setLineDash<"u"?ne.setLineDash($e):typeof ne.webkitLineDash<"u"?ne.webkitLineDash=$e:typeof ne.mozDash<"u"&&!($e.length===1&&$e[0]===0)&&(ne.mozDash=$e);var qe=Te.getPixels();typeof ne.lineDashOffset<"u"?ne.lineDashOffset=qe:typeof ne.webkitLineDashOffset<"u"?ne.webkitLineDashOffset=qe:typeof ne.mozDashOffset<"u"&&(ne.mozDashOffset=qe)}}if(this.modifiedEmSizeStack=!1,typeof ne.font<"u"){var at=this.getStyle("font"),pt=this.getStyle("font-style"),Ie=this.getStyle("font-variant"),wt=this.getStyle("font-weight"),At=this.getStyle("font-size"),Nt=this.getStyle("font-family"),lt=new Zr(pt.getString(),Ie.getString(),wt.getString(),At.hasValue()?"".concat(At.getPixels(!0),"px"):"",Nt.getString(),Zr.parse(at.getString(),ne.font));pt.setValue(lt.fontStyle),Ie.setValue(lt.fontVariant),wt.setValue(lt.fontWeight),At.setValue(lt.fontSize),Nt.setValue(lt.fontFamily),ne.font=lt.toString(),At.isPixels()&&(this.document.emSize=At.getPixels(),this.modifiedEmSizeStack=!0)}Ee||(this.applyEffects(ne),ne.globalAlpha=this.calculateOpacity())}clearContext(ne){super.clearContext(ne),this.modifiedEmSizeStack&&this.document.popEmSize()}}class an extends Kn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="path",this.pathParser=null,this.pathParser=new rn(this.getAttribute("d").getString())}path(ne){var{pathParser:Ee}=this,Se=new jn;for(Ee.reset(),ne&&ne.beginPath();!Ee.isEnd();)switch(Ee.next().type){case rn.MOVE_TO:this.pathM(ne,Se);break;case rn.LINE_TO:this.pathL(ne,Se);break;case rn.HORIZ_LINE_TO:this.pathH(ne,Se);break;case rn.VERT_LINE_TO:this.pathV(ne,Se);break;case rn.CURVE_TO:this.pathC(ne,Se);break;case rn.SMOOTH_CURVE_TO:this.pathS(ne,Se);break;case rn.QUAD_TO:this.pathQ(ne,Se);break;case rn.SMOOTH_QUAD_TO:this.pathT(ne,Se);break;case rn.ARC:this.pathA(ne,Se);break;case rn.CLOSE_PATH:this.pathZ(ne,Se);break}return Se}getBoundingBox(ne){return this.path()}getMarkers(){var{pathParser:ne}=this,Ee=ne.getMarkerPoints(),Se=ne.getMarkerAngles(),J=Ee.map((ee,be)=>[ee,Se[be]]);return J}renderChildren(ne){this.path(ne),this.document.screen.mouse.checkPath(this,ne);var Ee=this.getStyle("fill-rule");ne.fillStyle!==""&&(Ee.getString("inherit")!=="inherit"?ne.fill(Ee.getString()):ne.fill()),ne.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(ne.save(),ne.setTransform(1,0,0,1,0,0),ne.stroke(),ne.restore()):ne.stroke());var Se=this.getMarkers();if(Se){var J=Se.length-1,ee=this.getStyle("marker-start"),be=this.getStyle("marker-mid"),ke=this.getStyle("marker-end");if(ee.isUrlDefinition()){var Le=ee.getDefinition(),[Ze,ht]=Se[0];Le.render(ne,Ze,ht)}if(be.isUrlDefinition())for(var V=be.getDefinition(),U=1;U<J;U++){var[W,ae]=Se[U];V.render(ne,W,ae)}if(ke.isUrlDefinition()){var me=ke.getDefinition(),[we,Be]=Se[J];me.render(ne,we,Be)}}}static pathM(ne){var Ee=ne.getAsCurrentPoint();return ne.start=ne.current,{point:Ee}}pathM(ne,Ee){var{pathParser:Se}=this,{point:J}=an.pathM(Se),{x:ee,y:be}=J;Se.addMarker(J),Ee.addPoint(ee,be),ne&&ne.moveTo(ee,be)}static pathL(ne){var{current:Ee}=ne,Se=ne.getAsCurrentPoint();return{current:Ee,point:Se}}pathL(ne,Ee){var{pathParser:Se}=this,{current:J,point:ee}=an.pathL(Se),{x:be,y:ke}=ee;Se.addMarker(ee,J),Ee.addPoint(be,ke),ne&&ne.lineTo(be,ke)}static pathH(ne){var{current:Ee,command:Se}=ne,J=new mt((Se.relative?Ee.x:0)+Se.x,Ee.y);return ne.current=J,{current:Ee,point:J}}pathH(ne,Ee){var{pathParser:Se}=this,{current:J,point:ee}=an.pathH(Se),{x:be,y:ke}=ee;Se.addMarker(ee,J),Ee.addPoint(be,ke),ne&&ne.lineTo(be,ke)}static pathV(ne){var{current:Ee,command:Se}=ne,J=new mt(Ee.x,(Se.relative?Ee.y:0)+Se.y);return ne.current=J,{current:Ee,point:J}}pathV(ne,Ee){var{pathParser:Se}=this,{current:J,point:ee}=an.pathV(Se),{x:be,y:ke}=ee;Se.addMarker(ee,J),Ee.addPoint(be,ke),ne&&ne.lineTo(be,ke)}static pathC(ne){var{current:Ee}=ne,Se=ne.getPoint("x1","y1"),J=ne.getAsControlPoint("x2","y2"),ee=ne.getAsCurrentPoint();return{current:Ee,point:Se,controlPoint:J,currentPoint:ee}}pathC(ne,Ee){var{pathParser:Se}=this,{current:J,point:ee,controlPoint:be,currentPoint:ke}=an.pathC(Se);Se.addMarker(ke,be,ee),Ee.addBezierCurve(J.x,J.y,ee.x,ee.y,be.x,be.y,ke.x,ke.y),ne&&ne.bezierCurveTo(ee.x,ee.y,be.x,be.y,ke.x,ke.y)}static pathS(ne){var{current:Ee}=ne,Se=ne.getReflectedControlPoint(),J=ne.getAsControlPoint("x2","y2"),ee=ne.getAsCurrentPoint();return{current:Ee,point:Se,controlPoint:J,currentPoint:ee}}pathS(ne,Ee){var{pathParser:Se}=this,{current:J,point:ee,controlPoint:be,currentPoint:ke}=an.pathS(Se);Se.addMarker(ke,be,ee),Ee.addBezierCurve(J.x,J.y,ee.x,ee.y,be.x,be.y,ke.x,ke.y),ne&&ne.bezierCurveTo(ee.x,ee.y,be.x,be.y,ke.x,ke.y)}static pathQ(ne){var{current:Ee}=ne,Se=ne.getAsControlPoint("x1","y1"),J=ne.getAsCurrentPoint();return{current:Ee,controlPoint:Se,currentPoint:J}}pathQ(ne,Ee){var{pathParser:Se}=this,{current:J,controlPoint:ee,currentPoint:be}=an.pathQ(Se);Se.addMarker(be,ee,ee),Ee.addQuadraticCurve(J.x,J.y,ee.x,ee.y,be.x,be.y),ne&&ne.quadraticCurveTo(ee.x,ee.y,be.x,be.y)}static pathT(ne){var{current:Ee}=ne,Se=ne.getReflectedControlPoint();ne.control=Se;var J=ne.getAsCurrentPoint();return{current:Ee,controlPoint:Se,currentPoint:J}}pathT(ne,Ee){var{pathParser:Se}=this,{current:J,controlPoint:ee,currentPoint:be}=an.pathT(Se);Se.addMarker(be,ee,ee),Ee.addQuadraticCurve(J.x,J.y,ee.x,ee.y,be.x,be.y),ne&&ne.quadraticCurveTo(ee.x,ee.y,be.x,be.y)}static pathA(ne){var{current:Ee,command:Se}=ne,{rX:J,rY:ee,xRot:be,lArcFlag:ke,sweepFlag:Le}=Se,Ze=be*(Math.PI/180),ht=ne.getAsCurrentPoint(),V=new mt(Math.cos(Ze)*(Ee.x-ht.x)/2+Math.sin(Ze)*(Ee.y-ht.y)/2,-Math.sin(Ze)*(Ee.x-ht.x)/2+Math.cos(Ze)*(Ee.y-ht.y)/2),U=Math.pow(V.x,2)/Math.pow(J,2)+Math.pow(V.y,2)/Math.pow(ee,2);U>1&&(J*=Math.sqrt(U),ee*=Math.sqrt(U));var W=(ke===Le?-1:1)*Math.sqrt((Math.pow(J,2)*Math.pow(ee,2)-Math.pow(J,2)*Math.pow(V.y,2)-Math.pow(ee,2)*Math.pow(V.x,2))/(Math.pow(J,2)*Math.pow(V.y,2)+Math.pow(ee,2)*Math.pow(V.x,2)));isNaN(W)&&(W=0);var ae=new mt(W*J*V.y/ee,W*-ee*V.x/J),me=new mt((Ee.x+ht.x)/2+Math.cos(Ze)*ae.x-Math.sin(Ze)*ae.y,(Ee.y+ht.y)/2+Math.sin(Ze)*ae.x+Math.cos(Ze)*ae.y),we=je([1,0],[(V.x-ae.x)/J,(V.y-ae.y)/ee]),Be=[(V.x-ae.x)/J,(V.y-ae.y)/ee],Re=[(-V.x-ae.x)/J,(-V.y-ae.y)/ee],Te=je(Be,Re);return ge(Be,Re)<=-1&&(Te=Math.PI),ge(Be,Re)>=1&&(Te=0),{currentPoint:ht,rX:J,rY:ee,sweepFlag:Le,xAxisRotation:Ze,centp:me,a1:we,ad:Te}}pathA(ne,Ee){var{pathParser:Se}=this,{currentPoint:J,rX:ee,rY:be,sweepFlag:ke,xAxisRotation:Le,centp:Ze,a1:ht,ad:V}=an.pathA(Se),U=1-ke?1:-1,W=ht+U*(V/2),ae=new mt(Ze.x+ee*Math.cos(W),Ze.y+be*Math.sin(W));if(Se.addMarkerAngle(ae,W-U*Math.PI/2),Se.addMarkerAngle(J,W-U*Math.PI),Ee.addPoint(J.x,J.y),ne&&!isNaN(ht)&&!isNaN(V)){var me=ee>be?ee:be,we=ee>be?1:ee/be,Be=ee>be?be/ee:1;ne.translate(Ze.x,Ze.y),ne.rotate(Le),ne.scale(we,Be),ne.arc(0,0,me,ht,ht+V,!!(1-ke)),ne.scale(1/we,1/Be),ne.rotate(-Le),ne.translate(-Ze.x,-Ze.y)}}static pathZ(ne){ne.current=ne.start}pathZ(ne,Ee){an.pathZ(this.pathParser),ne&&Ee.x1!==Ee.x2&&Ee.y1!==Ee.y2&&ne.closePath()}}class Dr extends an{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Hn extends Kn{constructor(ne,Ee,Se){super(ne,Ee,new.target===Hn?!0:Se),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(ne,Ee);var Se=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();Se&&(ne.textBaseline=Se)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(ne){if(this.type!=="text")return this.getTElementBoundingBox(ne);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(ne);var Ee=null;return this.children.forEach((Se,J)=>{var ee=this.getChildBoundingBox(ne,this,this,J);Ee?Ee.addBoundingBox(ee):Ee=ee}),Ee}getFontSize(){var{document:ne,parent:Ee}=this,Se=Zr.parse(ne.ctx.font).fontSize,J=Ee.getStyle("font-size").getNumber(Se);return J}getTElementBoundingBox(ne){var Ee=this.getFontSize();return new jn(this.x,this.y-Ee,this.x+this.measureText(ne),this.y)}getGlyph(ne,Ee,Se){var J=Ee[Se],ee=null;if(ne.isArabic){var be=Ee.length,ke=Ee[Se-1],Le=Ee[Se+1],Ze="isolated";if((Se===0||ke===" ")&&Se<be-1&&Le!==" "&&(Ze="terminal"),Se>0&&ke!==" "&&Se<be-1&&Le!==" "&&(Ze="medial"),Se>0&&ke!==" "&&(Se===be-1||Le===" ")&&(Ze="initial"),typeof ne.glyphs[J]<"u"){var ht=ne.glyphs[J];ee=ht instanceof Dr?ht:ht[Ze]}}else ee=ne.glyphs[J];return ee||(ee=ne.missingGlyph),ee}getText(){return""}getTextFromNode(ne){var Ee=ne||this.node,Se=Array.from(Ee.parentNode.childNodes),J=Se.indexOf(Ee),ee=Se.length-1,be=B(Ee.textContent||"");return J===0&&(be=M(be)),J===ee&&(be=O(be)),be}renderChildren(ne){if(this.type!=="text"){this.renderTElementChildren(ne);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(ne),this.children.forEach((Se,J)=>{this.renderChild(ne,this,this,J)});var{mouse:Ee}=this.document.screen;Ee.isWorking()&&Ee.checkBoundingBox(this,this.getBoundingBox(ne))}renderTElementChildren(ne){var{document:Ee,parent:Se}=this,J=this.getText(),ee=Se.getStyle("font-family").getDefinition();if(ee){for(var{unitsPerEm:be}=ee.fontFace,ke=Zr.parse(Ee.ctx.font),Le=Se.getStyle("font-size").getNumber(ke.fontSize),Ze=Se.getStyle("font-style").getString(ke.fontStyle),ht=Le/be,V=ee.isRTL?J.split("").reverse().join(""):J,U=F(Se.getAttribute("dx").getString()),W=V.length,ae=0;ae<W;ae++){var me=this.getGlyph(ee,V,ae);ne.translate(this.x,this.y),ne.scale(ht,-ht);var we=ne.lineWidth;ne.lineWidth=ne.lineWidth*be/Le,Ze==="italic"&&ne.transform(1,0,.4,1,0,0),me.render(ne),Ze==="italic"&&ne.transform(1,0,-.4,1,0,0),ne.lineWidth=we,ne.scale(1/ht,-1/ht),ne.translate(-this.x,-this.y),this.x+=Le*(me.horizAdvX||ee.horizAdvX)/be,typeof U[ae]<"u"&&!isNaN(U[ae])&&(this.x+=U[ae])}return}var{x:Be,y:Re}=this;ne.fillStyle&&ne.fillText(J,Be,Re),ne.strokeStyle&&ne.strokeText(J,Be,Re)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var ne=this.leafTexts[this.textChunkStart],Ee=ne.getStyle("text-anchor").getString("start"),Se=!1,J=0;Ee==="start"&&!Se||Ee==="end"&&Se?J=ne.x-this.minX:Ee==="end"&&!Se||Ee==="start"&&Se?J=ne.x-this.maxX:J=ne.x-(this.minX+this.maxX)/2;for(var ee=this.textChunkStart;ee<this.leafTexts.length;ee++)this.leafTexts[ee].x+=J;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(ne){this.children.forEach((Ee,Se)=>{this.adjustChildCoordinatesRecursiveCore(ne,this,this,Se)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(ne,Ee,Se,J){var ee=Se.children[J];ee.children.length>0?ee.children.forEach((be,ke)=>{Ee.adjustChildCoordinatesRecursiveCore(ne,Ee,ee,ke)}):this.adjustChildCoordinates(ne,Ee,Se,J)}adjustChildCoordinates(ne,Ee,Se,J){var ee=Se.children[J];if(typeof ee.measureText!="function")return ee;ne.save(),ee.setContext(ne,!0);var be=ee.getAttribute("x"),ke=ee.getAttribute("y"),Le=ee.getAttribute("dx"),Ze=ee.getAttribute("dy"),ht=ee.getStyle("font-family").getDefinition(),V=!!ht&&ht.isRTL;J===0&&(be.hasValue()||be.setValue(ee.getInheritedAttribute("x")),ke.hasValue()||ke.setValue(ee.getInheritedAttribute("y")),Le.hasValue()||Le.setValue(ee.getInheritedAttribute("dx")),Ze.hasValue()||Ze.setValue(ee.getInheritedAttribute("dy")));var U=ee.measureText(ne);return V&&(Ee.x-=U),be.hasValue()?(Ee.applyAnchoring(),ee.x=be.getPixels("x"),Le.hasValue()&&(ee.x+=Le.getPixels("x"))):(Le.hasValue()&&(Ee.x+=Le.getPixels("x")),ee.x=Ee.x),Ee.x=ee.x,V||(Ee.x+=U),ke.hasValue()?(ee.y=ke.getPixels("y"),Ze.hasValue()&&(ee.y+=Ze.getPixels("y"))):(Ze.hasValue()&&(Ee.y+=Ze.getPixels("y")),ee.y=Ee.y),Ee.y=ee.y,Ee.leafTexts.push(ee),Ee.minX=Math.min(Ee.minX,ee.x,ee.x+U),Ee.maxX=Math.max(Ee.maxX,ee.x,ee.x+U),ee.clearContext(ne),ne.restore(),ee}getChildBoundingBox(ne,Ee,Se,J){var ee=Se.children[J];if(typeof ee.getBoundingBox!="function")return null;var be=ee.getBoundingBox(ne);return be?(ee.children.forEach((ke,Le)=>{var Ze=Ee.getChildBoundingBox(ne,Ee,ee,Le);be.addBoundingBox(Ze)}),be):null}renderChild(ne,Ee,Se,J){var ee=Se.children[J];ee.render(ne),ee.children.forEach((be,ke)=>{Ee.renderChild(ne,Ee,ee,ke)})}measureText(ne){var{measureCache:Ee}=this;if(~Ee)return Ee;var Se=this.getText(),J=this.measureTargetText(ne,Se);return this.measureCache=J,J}measureTargetText(ne,Ee){if(!Ee.length)return 0;var{parent:Se}=this,J=Se.getStyle("font-family").getDefinition();if(J){for(var ee=this.getFontSize(),be=J.isRTL?Ee.split("").reverse().join(""):Ee,ke=F(Se.getAttribute("dx").getString()),Le=be.length,Ze=0,ht=0;ht<Le;ht++){var V=this.getGlyph(J,be,ht);Ze+=(V.horizAdvX||J.horizAdvX)*ee/J.fontFace.unitsPerEm,typeof ke[ht]<"u"&&!isNaN(ke[ht])&&(Ze+=ke[ht])}return Ze}if(!ne.measureText)return Ee.length*10;ne.save(),this.setContext(ne,!0);var{width:U}=ne.measureText(Ee);return this.clearContext(ne),ne.restore(),U}getInheritedAttribute(ne){for(var Ee=this;Ee instanceof Hn&&Ee.isFirstChild();){var Se=Ee.parent.getAttribute(ne);if(Se.hasValue(!0))return Se.getValue("0");Ee=Ee.parent}return null}}class Tn extends Hn{constructor(ne,Ee,Se){super(ne,Ee,new.target===Tn?!0:Se),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class es extends Tn{constructor(){super(...arguments),this.type="textNode"}}class ps extends Kn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(ne){var Ee,{document:Se}=this,{screen:J,window:ee}=Se,be=ne.canvas;if(J.setDefaults(ne),be.style&&typeof ne.font<"u"&&ee&&typeof ee.getComputedStyle<"u"){ne.font=ee.getComputedStyle(be).getPropertyValue("font");var ke=new Ye(Se,"fontSize",Zr.parse(ne.font).fontSize);ke.hasValue()&&(Se.rootEmSize=ke.getPixels("y"),Se.emSize=Se.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:Le,height:Ze}=J.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var ht=this.getAttribute("refX"),V=this.getAttribute("refY"),U=this.getAttribute("viewBox"),W=U.hasValue()?F(U.getString()):null,ae=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",me=0,we=0,Be=0,Re=0;W&&(me=W[0],we=W[1]),this.root||(Le=this.getStyle("width").getPixels("x"),Ze=this.getStyle("height").getPixels("y"),this.type==="marker"&&(Be=me,Re=we,me=0,we=0)),J.viewPort.setCurrent(Le,Ze),this.node&&(!this.parent||((Ee=this.node.parentNode)===null||Ee===void 0?void 0:Ee.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(ne),ne.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),W&&(Le=W[2],Ze=W[3]),Se.setViewBox({ctx:ne,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:J.viewPort.width,desiredWidth:Le,height:J.viewPort.height,desiredHeight:Ze,minX:me,minY:we,refX:ht.getValue(),refY:V.getValue(),clip:ae,clipX:Be,clipY:Re}),W&&(J.viewPort.removeCurrent(),J.viewPort.setCurrent(Le,Ze))}clearContext(ne){super.clearContext(ne),this.document.screen.viewPort.removeCurrent()}resize(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ne,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,J=this.getAttribute("width",!0),ee=this.getAttribute("height",!0),be=this.getAttribute("viewBox"),ke=this.getAttribute("style"),Le=J.getNumber(0),Ze=ee.getNumber(0);if(Se)if(typeof Se=="string")this.getAttribute("preserveAspectRatio",!0).setValue(Se);else{var ht=this.getAttribute("preserveAspectRatio");ht.hasValue()&&ht.setValue(ht.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(J.setValue(ne),ee.setValue(Ee),be.hasValue()||be.setValue("0 0 ".concat(Le||ne," ").concat(Ze||Ee)),ke.hasValue()){var V=this.getStyle("width"),U=this.getStyle("height");V.hasValue()&&V.setValue("".concat(ne,"px")),U.hasValue()&&U.setValue("".concat(Ee,"px"))}}}class Ti extends an{constructor(){super(...arguments),this.type="rect"}path(ne){var Ee=this.getAttribute("x").getPixels("x"),Se=this.getAttribute("y").getPixels("y"),J=this.getStyle("width",!1,!0).getPixels("x"),ee=this.getStyle("height",!1,!0).getPixels("y"),be=this.getAttribute("rx"),ke=this.getAttribute("ry"),Le=be.getPixels("x"),Ze=ke.getPixels("y");if(be.hasValue()&&!ke.hasValue()&&(Ze=Le),ke.hasValue()&&!be.hasValue()&&(Le=Ze),Le=Math.min(Le,J/2),Ze=Math.min(Ze,ee/2),ne){var ht=4*((Math.sqrt(2)-1)/3);ne.beginPath(),ee>0&&J>0&&(ne.moveTo(Ee+Le,Se),ne.lineTo(Ee+J-Le,Se),ne.bezierCurveTo(Ee+J-Le+ht*Le,Se,Ee+J,Se+Ze-ht*Ze,Ee+J,Se+Ze),ne.lineTo(Ee+J,Se+ee-Ze),ne.bezierCurveTo(Ee+J,Se+ee-Ze+ht*Ze,Ee+J-Le+ht*Le,Se+ee,Ee+J-Le,Se+ee),ne.lineTo(Ee+Le,Se+ee),ne.bezierCurveTo(Ee+Le-ht*Le,Se+ee,Ee,Se+ee-Ze+ht*Ze,Ee,Se+ee-Ze),ne.lineTo(Ee,Se+Ze),ne.bezierCurveTo(Ee,Se+Ze-ht*Ze,Ee+Le-ht*Le,Se,Ee+Le,Se),ne.closePath())}return new jn(Ee,Se,Ee+J,Se+ee)}getMarkers(){return null}}class ui extends an{constructor(){super(...arguments),this.type="circle"}path(ne){var Ee=this.getAttribute("cx").getPixels("x"),Se=this.getAttribute("cy").getPixels("y"),J=this.getAttribute("r").getPixels();return ne&&J>0&&(ne.beginPath(),ne.arc(Ee,Se,J,0,Math.PI*2,!1),ne.closePath()),new jn(Ee-J,Se-J,Ee+J,Se+J)}getMarkers(){return null}}class vi extends an{constructor(){super(...arguments),this.type="ellipse"}path(ne){var Ee=4*((Math.sqrt(2)-1)/3),Se=this.getAttribute("rx").getPixels("x"),J=this.getAttribute("ry").getPixels("y"),ee=this.getAttribute("cx").getPixels("x"),be=this.getAttribute("cy").getPixels("y");return ne&&Se>0&&J>0&&(ne.beginPath(),ne.moveTo(ee+Se,be),ne.bezierCurveTo(ee+Se,be+Ee*J,ee+Ee*Se,be+J,ee,be+J),ne.bezierCurveTo(ee-Ee*Se,be+J,ee-Se,be+Ee*J,ee-Se,be),ne.bezierCurveTo(ee-Se,be-Ee*J,ee-Ee*Se,be-J,ee,be-J),ne.bezierCurveTo(ee+Ee*Se,be-J,ee+Se,be-Ee*J,ee+Se,be),ne.closePath()),new jn(ee-Se,be-J,ee+Se,be+J)}getMarkers(){return null}}class fs extends an{constructor(){super(...arguments),this.type="line"}getPoints(){return[new mt(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new mt(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(ne){var[{x:Ee,y:Se},{x:J,y:ee}]=this.getPoints();return ne&&(ne.beginPath(),ne.moveTo(Ee,Se),ne.lineTo(J,ee)),new jn(Ee,Se,J,ee)}getMarkers(){var[ne,Ee]=this.getPoints(),Se=ne.angleTo(Ee);return[[ne,Se],[Ee,Se]]}}class Sn extends an{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="polyline",this.points=[],this.points=mt.parsePath(this.getAttribute("points").getString())}path(ne){var{points:Ee}=this,[{x:Se,y:J}]=Ee,ee=new jn(Se,J);return ne&&(ne.beginPath(),ne.moveTo(Se,J)),Ee.forEach(be=>{var{x:ke,y:Le}=be;ee.addPoint(ke,Le),ne&&ne.lineTo(ke,Le)}),ee}getMarkers(){var{points:ne}=this,Ee=ne.length-1,Se=[];return ne.forEach((J,ee)=>{ee!==Ee&&Se.push([J,J.angleTo(ne[ee+1])])}),Se.length>0&&Se.push([ne[ne.length-1],Se[Se.length-1][1]]),Se}}class Vs extends Sn{constructor(){super(...arguments),this.type="polygon"}path(ne){var Ee=super.path(ne),[{x:Se,y:J}]=this.points;return ne&&(ne.lineTo(Se,J),ne.closePath()),Ee}}class zi extends vn{constructor(){super(...arguments),this.type="pattern"}createPattern(ne,Ee,Se){var J=this.getStyle("width").getPixels("x",!0),ee=this.getStyle("height").getPixels("y",!0),be=new ps(this.document,null);be.attributes.viewBox=new Ye(this.document,"viewBox",this.getAttribute("viewBox").getValue()),be.attributes.width=new Ye(this.document,"width","".concat(J,"px")),be.attributes.height=new Ye(this.document,"height","".concat(ee,"px")),be.attributes.transform=new Ye(this.document,"transform",this.getAttribute("patternTransform").getValue()),be.children=this.children;var ke=this.document.createCanvas(J,ee),Le=ke.getContext("2d"),Ze=this.getAttribute("x"),ht=this.getAttribute("y");Ze.hasValue()&&ht.hasValue()&&Le.translate(Ze.getPixels("x",!0),ht.getPixels("y",!0)),Se.hasValue()?this.styles["fill-opacity"]=Se:Reflect.deleteProperty(this.styles,"fill-opacity");for(var V=-1;V<=1;V++)for(var U=-1;U<=1;U++)Le.save(),be.attributes.x=new Ye(this.document,"x",V*ke.width),be.attributes.y=new Ye(this.document,"y",U*ke.height),be.render(Le),Le.restore();var W=ne.createPattern(ke,"repeat");return W}}class zn extends vn{constructor(){super(...arguments),this.type="marker"}render(ne,Ee,Se){if(Ee){var{x:J,y:ee}=Ee,be=this.getAttribute("orient").getString("auto"),ke=this.getAttribute("markerUnits").getString("strokeWidth");ne.translate(J,ee),be==="auto"&&ne.rotate(Se),ke==="strokeWidth"&&ne.scale(ne.lineWidth,ne.lineWidth),ne.save();var Le=new ps(this.document,null);Le.type=this.type,Le.attributes.viewBox=new Ye(this.document,"viewBox",this.getAttribute("viewBox").getValue()),Le.attributes.refX=new Ye(this.document,"refX",this.getAttribute("refX").getValue()),Le.attributes.refY=new Ye(this.document,"refY",this.getAttribute("refY").getValue()),Le.attributes.width=new Ye(this.document,"width",this.getAttribute("markerWidth").getValue()),Le.attributes.height=new Ye(this.document,"height",this.getAttribute("markerHeight").getValue()),Le.attributes.overflow=new Ye(this.document,"overflow",this.getAttribute("overflow").getValue()),Le.attributes.fill=new Ye(this.document,"fill",this.getAttribute("fill").getColor("black")),Le.attributes.stroke=new Ye(this.document,"stroke",this.getAttribute("stroke").getValue("none")),Le.children=this.children,Le.render(ne),ne.restore(),ke==="strokeWidth"&&ne.scale(1/ne.lineWidth,1/ne.lineWidth),be==="auto"&&ne.rotate(-Se),ne.translate(-J,-ee)}}}class wi extends vn{constructor(){super(...arguments),this.type="defs"}render(){}}class mi extends Kn{constructor(){super(...arguments),this.type="g"}getBoundingBox(ne){var Ee=new jn;return this.children.forEach(Se=>{Ee.addBoundingBox(Se.getBoundingBox(ne))}),Ee}}class gi extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:J,children:ee}=this;ee.forEach(be=>{be.type==="stop"&&J.push(be)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(ne,Ee,Se){var J=this;this.getHrefAttribute().hasValue()&&(J=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(J));var{stops:ee}=J,be=this.getGradient(ne,Ee);if(!be)return this.addParentOpacity(Se,ee[ee.length-1].color);if(ee.forEach(we=>{be.addColorStop(we.offset,this.addParentOpacity(Se,we.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:ke}=this,{MAX_VIRTUAL_PIXELS:Le,viewPort:Ze}=ke.screen,[ht]=Ze.viewPorts,V=new Ti(ke,null);V.attributes.x=new Ye(ke,"x",-Le/3),V.attributes.y=new Ye(ke,"y",-Le/3),V.attributes.width=new Ye(ke,"width",Le),V.attributes.height=new Ye(ke,"height",Le);var U=new mi(ke,null);U.attributes.transform=new Ye(ke,"transform",this.getAttribute("gradientTransform").getValue()),U.children=[V];var W=new ps(ke,null);W.attributes.x=new Ye(ke,"x",0),W.attributes.y=new Ye(ke,"y",0),W.attributes.width=new Ye(ke,"width",ht.width),W.attributes.height=new Ye(ke,"height",ht.height),W.children=[U];var ae=ke.createCanvas(ht.width,ht.height),me=ae.getContext("2d");return me.fillStyle=be,W.render(me),me.createPattern(ae,"no-repeat")}return be}inheritStopContainer(ne){this.attributesToInherit.forEach(Ee=>{!this.getAttribute(Ee).hasValue()&&ne.getAttribute(Ee).hasValue()&&this.getAttribute(Ee,!0).setValue(ne.getAttribute(Ee).getValue())})}addParentOpacity(ne,Ee){if(ne.hasValue()){var Se=new Ye(this.document,"color",Ee);return Se.addOpacity(ne).getColor()}return Ee}}class Ni extends gi{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(ne,Ee){var Se=this.getGradientUnits()==="objectBoundingBox",J=Se?Ee.getBoundingBox(ne):null;if(Se&&!J)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var ee=Se?J.x+J.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),be=Se?J.y+J.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),ke=Se?J.x+J.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),Le=Se?J.y+J.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return ee===ke&&be===Le?null:ne.createLinearGradient(ee,be,ke,Le)}}class Hs extends gi{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(ne,Ee){var Se=this.getGradientUnits()==="objectBoundingBox",J=Ee.getBoundingBox(ne);if(Se&&!J)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var ee=Se?J.x+J.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),be=Se?J.y+J.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),ke=ee,Le=be;this.getAttribute("fx").hasValue()&&(ke=Se?J.x+J.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(Le=Se?J.y+J.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Ze=Se?(J.width+J.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),ht=this.getAttribute("fr").getPixels();return ne.createRadialGradient(ke,Le,ht,ee,be,Ze)}}class Xi extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="stop";var J=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),ee=this.getStyle("stop-opacity"),be=this.getStyle("stop-color",!0);be.getString()===""&&be.setValue("#000"),ee.hasValue()&&(be=be.addOpacity(ee)),this.offset=J,this.color=be.getColor()}}class Bs extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,ne.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Ye(ne,"values",null);var J=this.getAttribute("values");J.hasValue()&&this.values.setValue(J.getString().split(";"))}getProperty(){var ne=this.getAttribute("attributeType").getString(),Ee=this.getAttribute("attributeName").getString();return ne==="CSS"?this.parent.getStyle(Ee,!0):this.parent.getAttribute(Ee,!0)}calcValue(){var{initialUnits:ne}=this,{progress:Ee,from:Se,to:J}=this.getProgress(),ee=Se.getNumber()+(J.getNumber()-Se.getNumber())*Ee;return ne==="%"&&(ee*=100),"".concat(ee).concat(ne)}update(ne){var{parent:Ee}=this,Se=this.getProperty();if(this.initialValue||(this.initialValue=Se.getString(),this.initialUnits=Se.getUnits()),this.duration>this.maxDuration){var J=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(J==="freeze"&&!this.frozen)this.frozen=!0,Ee.animationFrozen=!0,Ee.animationFrozenValue=Se.getString();else if(J==="remove"&&!this.removed)return this.removed=!0,Se.setValue(Ee.animationFrozen?Ee.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=ne;var ee=!1;if(this.begin<this.duration){var be=this.calcValue(),ke=this.getAttribute("type");if(ke.hasValue()){var Le=ke.getString();be="".concat(Le,"(").concat(be,")")}Se.setValue(be),ee=!0}return ee}getProgress(){var{document:ne,values:Ee}=this,Se={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(Ee.hasValue()){var J=Se.progress*(Ee.getValue().length-1),ee=Math.floor(J),be=Math.ceil(J);Se.from=new Ye(ne,"from",parseFloat(Ee.getValue()[ee])),Se.to=new Ye(ne,"to",parseFloat(Ee.getValue()[be])),Se.progress=(J-ee)/(be-ee)}else Se.from=this.from,Se.to=this.to;return Se}}class Gi extends Bs{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:ne,from:Ee,to:Se}=this.getProgress(),J=new w(Ee.getColor()),ee=new w(Se.getColor());if(J.ok&&ee.ok){var be=J.r+(ee.r-J.r)*ne,ke=J.g+(ee.g-J.g)*ne,Le=J.b+(ee.b-J.b)*ne;return"rgb(".concat(Math.floor(be),", ").concat(Math.floor(ke),", ").concat(Math.floor(Le),")")}return this.getAttribute("from").getColor()}}class Ss extends Bs{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:ne,from:Ee,to:Se}=this.getProgress(),J=F(Ee.getString()),ee=F(Se.getString()),be=J.map((ke,Le)=>{var Ze=ee[Le];return ke+(Ze-ke)*ne}).join(" ");return be}}class La extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:J}=ne,{children:ee}=this;for(var be of ee)switch(be.type){case"font-face":{this.fontFace=be;var ke=be.getStyle("font-family");ke.hasValue()&&(J[ke.getString()]=this);break}case"missing-glyph":this.missingGlyph=be;break;case"glyph":{var Le=be;Le.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[Le.unicode]>"u"&&(this.glyphs[Le.unicode]=Object.create(null)),this.glyphs[Le.unicode][Le.arabicForm]=Le):this.glyphs[Le.unicode]=Le;break}}}render(){}}class Qi extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Pi extends an{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Ot extends Hn{constructor(){super(...arguments),this.type="tref"}getText(){var ne=this.getHrefAttribute().getDefinition();if(ne){var Ee=ne.children[0];if(Ee)return Ee.getText()}return""}}class sn extends Hn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="a";var{childNodes:J}=Ee,ee=J[0],be=J.length>0&&Array.from(J).every(ke=>ke.nodeType===3);this.hasText=be,this.text=be?this.getTextFromNode(ee):""}getText(){return this.text}renderChildren(ne){if(this.hasText){super.renderChildren(ne);var{document:Ee,x:Se,y:J}=this,{mouse:ee}=Ee.screen,be=new Ye(Ee,"fontSize",Zr.parse(Ee.ctx.font).fontSize);ee.isWorking()&&ee.checkBoundingBox(this,new jn(Se,J-be.getPixels("y"),Se+this.measureText(ne),J))}else if(this.children.length>0){var ke=new mi(this.document,null);ke.children=this.children,ke.parent=this,ke.render(ne)}}onClick(){var{window:ne}=this.document;ne&&ne.open(this.getHrefAttribute().getString())}onMouseMove(){var ne=this.document.ctx;ne.canvas.style.cursor="pointer"}}function mn(Wt,ne){var Ee=Object.keys(Wt);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(Wt);ne&&(Se=Se.filter(function(J){return Object.getOwnPropertyDescriptor(Wt,J).enumerable})),Ee.push.apply(Ee,Se)}return Ee}function ji(Wt){for(var ne=1;ne<arguments.length;ne++){var Ee=arguments[ne]!=null?arguments[ne]:{};ne%2?mn(Object(Ee),!0).forEach(function(Se){(0,v.default)(Wt,Se,Ee[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wt,Object.getOwnPropertyDescriptors(Ee)):mn(Object(Ee)).forEach(function(Se){Object.defineProperty(Wt,Se,Object.getOwnPropertyDescriptor(Ee,Se))})}return Wt}class As extends Hn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var J=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(J)}getText(){return this.text}path(ne){var{dataArray:Ee}=this;ne&&ne.beginPath(),Ee.forEach(Se=>{var{type:J,points:ee}=Se;switch(J){case rn.LINE_TO:ne&&ne.lineTo(ee[0],ee[1]);break;case rn.MOVE_TO:ne&&ne.moveTo(ee[0],ee[1]);break;case rn.CURVE_TO:ne&&ne.bezierCurveTo(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]);break;case rn.QUAD_TO:ne&&ne.quadraticCurveTo(ee[0],ee[1],ee[2],ee[3]);break;case rn.ARC:{var[be,ke,Le,Ze,ht,V,U,W]=ee,ae=Le>Ze?Le:Ze,me=Le>Ze?1:Le/Ze,we=Le>Ze?Ze/Le:1;ne&&(ne.translate(be,ke),ne.rotate(U),ne.scale(me,we),ne.arc(0,0,ae,ht,ht+V,!!(1-W)),ne.scale(1/me,1/we),ne.rotate(-U),ne.translate(-be,-ke));break}case rn.CLOSE_PATH:ne&&ne.closePath();break}})}renderChildren(ne){this.setTextData(ne),ne.save();var Ee=this.parent.getStyle("text-decoration").getString(),Se=this.getFontSize(),{glyphInfo:J}=this,ee=ne.fillStyle;Ee==="underline"&&ne.beginPath(),J.forEach((be,ke)=>{var{p0:Le,p1:Ze,rotation:ht,text:V}=be;ne.save(),ne.translate(Le.x,Le.y),ne.rotate(ht),ne.fillStyle&&ne.fillText(V,0,0),ne.strokeStyle&&ne.strokeText(V,0,0),ne.restore(),Ee==="underline"&&(ke===0&&ne.moveTo(Le.x,Le.y+Se/8),ne.lineTo(Ze.x,Ze.y+Se/5))}),Ee==="underline"&&(ne.lineWidth=Se/20,ne.strokeStyle=ee,ne.stroke(),ne.closePath()),ne.restore()}getLetterSpacingAt(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[ne]||0}findSegmentToFitChar(ne,Ee,Se,J,ee,be,ke,Le,Ze){var ht=be,V=this.measureText(ne,Le);Le===" "&&Ee==="justify"&&Se<J&&(V+=(J-Se)/ee),Ze>-1&&(ht+=this.getLetterSpacingAt(Ze));var U=this.textHeight/20,W=this.getEquidistantPointOnPath(ht,U,0),ae=this.getEquidistantPointOnPath(ht+V,U,0),me={p0:W,p1:ae},we=W&&ae?Math.atan2(ae.y-W.y,ae.x-W.x):0;if(ke){var Be=Math.cos(Math.PI/2+we)*ke,Re=Math.cos(-we)*ke;me.p0=ji(ji({},W),{},{x:W.x+Be,y:W.y+Re}),me.p1=ji(ji({},ae),{},{x:ae.x+Be,y:ae.y+Re})}return ht+=V,{offset:ht,segment:me,rotation:we}}measureText(ne,Ee){var{measuresCache:Se}=this,J=Ee||this.getText();if(Se.has(J))return Se.get(J);var ee=this.measureTargetText(ne,J);return Se.set(J,ee),ee}setTextData(ne){if(!this.glyphInfo){var Ee=this.getText(),Se=Ee.split(""),J=Ee.split(" ").length-1,ee=this.parent.getAttribute("dx").split().map($e=>$e.getPixels("x")),be=this.parent.getAttribute("dy").getPixels("y"),ke=this.parent.getStyle("text-anchor").getString("start"),Le=this.getStyle("letter-spacing"),Ze=this.parent.getStyle("letter-spacing"),ht=0;!Le.hasValue()||Le.getValue()==="inherit"?ht=Ze.getPixels():Le.hasValue()&&Le.getValue()!=="initial"&&Le.getValue()!=="unset"&&(ht=Le.getPixels());var V=[],U=Ee.length;this.letterSpacingCache=V;for(var W=0;W<U;W++)V.push(typeof ee[W]<"u"?ee[W]:ht);var ae=V.reduce(($e,qe,at)=>at===0?0:$e+qe||0,0),me=this.measureText(ne),we=Math.max(me+ae,0);this.textWidth=me,this.textHeight=this.getFontSize(),this.glyphInfo=[];var Be=this.getPathLength(),Re=this.getStyle("startOffset").getNumber(0)*Be,Te=0;(ke==="middle"||ke==="center")&&(Te=-we/2),(ke==="end"||ke==="right")&&(Te=-we),Te+=Re,Se.forEach(($e,qe)=>{var{offset:at,segment:pt,rotation:Ie}=this.findSegmentToFitChar(ne,ke,we,Be,J,Te,be,$e,qe);Te=at,!(!pt.p0||!pt.p1)&&this.glyphInfo.push({text:Se[qe],p0:pt.p0,p1:pt.p1,rotation:Ie})})}}parsePathData(ne){if(this.pathLength=-1,!ne)return[];var Ee=[],{pathParser:Se}=ne;for(Se.reset();!Se.isEnd();){var{current:J}=Se,ee=J?J.x:0,be=J?J.y:0,ke=Se.next(),Le=ke.type,Ze=[];switch(ke.type){case rn.MOVE_TO:this.pathM(Se,Ze);break;case rn.LINE_TO:Le=this.pathL(Se,Ze);break;case rn.HORIZ_LINE_TO:Le=this.pathH(Se,Ze);break;case rn.VERT_LINE_TO:Le=this.pathV(Se,Ze);break;case rn.CURVE_TO:this.pathC(Se,Ze);break;case rn.SMOOTH_CURVE_TO:Le=this.pathS(Se,Ze);break;case rn.QUAD_TO:this.pathQ(Se,Ze);break;case rn.SMOOTH_QUAD_TO:Le=this.pathT(Se,Ze);break;case rn.ARC:Ze=this.pathA(Se);break;case rn.CLOSE_PATH:an.pathZ(Se);break}ke.type!==rn.CLOSE_PATH?Ee.push({type:Le,points:Ze,start:{x:ee,y:be},pathLength:this.calcLength(ee,be,Le,Ze)}):Ee.push({type:rn.CLOSE_PATH,points:[],pathLength:0})}return Ee}pathM(ne,Ee){var{x:Se,y:J}=an.pathM(ne).point;Ee.push(Se,J)}pathL(ne,Ee){var{x:Se,y:J}=an.pathL(ne).point;return Ee.push(Se,J),rn.LINE_TO}pathH(ne,Ee){var{x:Se,y:J}=an.pathH(ne).point;return Ee.push(Se,J),rn.LINE_TO}pathV(ne,Ee){var{x:Se,y:J}=an.pathV(ne).point;return Ee.push(Se,J),rn.LINE_TO}pathC(ne,Ee){var{point:Se,controlPoint:J,currentPoint:ee}=an.pathC(ne);Ee.push(Se.x,Se.y,J.x,J.y,ee.x,ee.y)}pathS(ne,Ee){var{point:Se,controlPoint:J,currentPoint:ee}=an.pathS(ne);return Ee.push(Se.x,Se.y,J.x,J.y,ee.x,ee.y),rn.CURVE_TO}pathQ(ne,Ee){var{controlPoint:Se,currentPoint:J}=an.pathQ(ne);Ee.push(Se.x,Se.y,J.x,J.y)}pathT(ne,Ee){var{controlPoint:Se,currentPoint:J}=an.pathT(ne);return Ee.push(Se.x,Se.y,J.x,J.y),rn.QUAD_TO}pathA(ne){var{rX:Ee,rY:Se,sweepFlag:J,xAxisRotation:ee,centp:be,a1:ke,ad:Le}=an.pathA(ne);return J===0&&Le>0&&(Le-=2*Math.PI),J===1&&Le<0&&(Le+=2*Math.PI),[be.x,be.y,Ee,Se,ke,Le,ee,J]}calcLength(ne,Ee,Se,J){var ee=0,be=null,ke=null,Le=0;switch(Se){case rn.LINE_TO:return this.getLineLength(ne,Ee,J[0],J[1]);case rn.CURVE_TO:for(ee=0,be=this.getPointOnCubicBezier(0,ne,Ee,J[0],J[1],J[2],J[3],J[4],J[5]),Le=.01;Le<=1;Le+=.01)ke=this.getPointOnCubicBezier(Le,ne,Ee,J[0],J[1],J[2],J[3],J[4],J[5]),ee+=this.getLineLength(be.x,be.y,ke.x,ke.y),be=ke;return ee;case rn.QUAD_TO:for(ee=0,be=this.getPointOnQuadraticBezier(0,ne,Ee,J[0],J[1],J[2],J[3]),Le=.01;Le<=1;Le+=.01)ke=this.getPointOnQuadraticBezier(Le,ne,Ee,J[0],J[1],J[2],J[3]),ee+=this.getLineLength(be.x,be.y,ke.x,ke.y),be=ke;return ee;case rn.ARC:{ee=0;var Ze=J[4],ht=J[5],V=J[4]+ht,U=Math.PI/180;if(Math.abs(Ze-V)<U&&(U=Math.abs(Ze-V)),be=this.getPointOnEllipticalArc(J[0],J[1],J[2],J[3],Ze,0),ht<0)for(Le=Ze-U;Le>V;Le-=U)ke=this.getPointOnEllipticalArc(J[0],J[1],J[2],J[3],Le,0),ee+=this.getLineLength(be.x,be.y,ke.x,ke.y),be=ke;else for(Le=Ze+U;Le<V;Le+=U)ke=this.getPointOnEllipticalArc(J[0],J[1],J[2],J[3],Le,0),ee+=this.getLineLength(be.x,be.y,ke.x,ke.y),be=ke;return ke=this.getPointOnEllipticalArc(J[0],J[1],J[2],J[3],V,0),ee+=this.getLineLength(be.x,be.y,ke.x,ke.y),ee}}return 0}getPointOnLine(ne,Ee,Se,J,ee){var be=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Ee,ke=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Se,Le=(ee-Se)/(J-Ee+de),Ze=Math.sqrt(ne*ne/(1+Le*Le));J<Ee&&(Ze*=-1);var ht=Le*Ze,V=null;if(J===Ee)V={x:be,y:ke+ht};else if((ke-Se)/(be-Ee+de)===Le)V={x:be+Ze,y:ke+ht};else{var U=0,W=0,ae=this.getLineLength(Ee,Se,J,ee);if(ae<de)return null;var me=(be-Ee)*(J-Ee)+(ke-Se)*(ee-Se);me/=ae*ae,U=Ee+me*(J-Ee),W=Se+me*(ee-Se);var we=this.getLineLength(be,ke,U,W),Be=Math.sqrt(ne*ne-we*we);Ze=Math.sqrt(Be*Be/(1+Le*Le)),J<Ee&&(Ze*=-1),ht=Le*Ze,V={x:U+Ze,y:W+ht}}return V}getPointOnPath(ne){var Ee=this.getPathLength(),Se=0,J=null;if(ne<-5e-5||ne-5e-5>Ee)return null;var{dataArray:ee}=this;for(var be of ee){if(be&&(be.pathLength<5e-5||Se+be.pathLength+5e-5<ne)){Se+=be.pathLength;continue}var ke=ne-Se,Le=0;switch(be.type){case rn.LINE_TO:J=this.getPointOnLine(ke,be.start.x,be.start.y,be.points[0],be.points[1],be.start.x,be.start.y);break;case rn.ARC:{var Ze=be.points[4],ht=be.points[5],V=be.points[4]+ht;if(Le=Ze+ke/be.pathLength*ht,ht<0&&Le<V||ht>=0&&Le>V)break;J=this.getPointOnEllipticalArc(be.points[0],be.points[1],be.points[2],be.points[3],Le,be.points[6]);break}case rn.CURVE_TO:Le=ke/be.pathLength,Le>1&&(Le=1),J=this.getPointOnCubicBezier(Le,be.start.x,be.start.y,be.points[0],be.points[1],be.points[2],be.points[3],be.points[4],be.points[5]);break;case rn.QUAD_TO:Le=ke/be.pathLength,Le>1&&(Le=1),J=this.getPointOnQuadraticBezier(Le,be.start.x,be.start.y,be.points[0],be.points[1],be.points[2],be.points[3]);break}if(J)return J;break}return null}getLineLength(ne,Ee,Se,J){return Math.sqrt((Se-ne)*(Se-ne)+(J-Ee)*(J-Ee))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((ne,Ee)=>Ee.pathLength>0?ne+Ee.pathLength:ne,0)),this.pathLength}getPointOnCubicBezier(ne,Ee,Se,J,ee,be,ke,Le,Ze){var ht=Le*Me(ne)+be*He(ne)+J*Qe(ne)+Ee*ze(ne),V=Ze*Me(ne)+ke*He(ne)+ee*Qe(ne)+Se*ze(ne);return{x:ht,y:V}}getPointOnQuadraticBezier(ne,Ee,Se,J,ee,be,ke){var Le=be*Ve(ne)+J*tt(ne)+Ee*nt(ne),Ze=ke*Ve(ne)+ee*tt(ne)+Se*nt(ne);return{x:Le,y:Ze}}getPointOnEllipticalArc(ne,Ee,Se,J,ee,be){var ke=Math.cos(be),Le=Math.sin(be),Ze={x:Se*Math.cos(ee),y:J*Math.sin(ee)};return{x:ne+(Ze.x*ke-Ze.y*Le),y:Ee+(Ze.x*Le+Ze.y*ke)}}buildEquidistantCache(ne,Ee){var Se=this.getPathLength(),J=Ee||.25,ee=ne||Se/100;if(!this.equidistantCache||this.equidistantCache.step!==ee||this.equidistantCache.precision!==J){this.equidistantCache={step:ee,precision:J,points:[]};for(var be=0,ke=0;ke<=Se;ke+=J){var Le=this.getPointOnPath(ke),Ze=this.getPointOnPath(ke+J);!Le||!Ze||(be+=this.getLineLength(Le.x,Le.y,Ze.x,Ze.y),be>=ee&&(this.equidistantCache.points.push({x:Le.x,y:Le.y,distance:ke}),be-=ee))}}}getEquidistantPointOnPath(ne,Ee,Se){if(this.buildEquidistantCache(Ee,Se),ne<0||ne-this.getPathLength()>5e-5)return null;var J=Math.round(ne/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[J]||null}}var Ji=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class si extends Kn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="image",this.loaded=!1;var J=this.getHrefAttribute().getString();if(J){var ee=J.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(J);ne.images.push(this),ee?this.loadSvg(J):this.loadImage(J),this.isSvg=ee}}loadImage(ne){var Ee=this;return(0,g.default)(function*(){try{var Se=yield Ee.document.createImage(ne);Ee.image=Se}catch(J){console.error('Error while loading image "'.concat(ne,'":'),J)}Ee.loaded=!0})()}loadSvg(ne){var Ee=this;return(0,g.default)(function*(){var Se=Ji.exec(ne);if(Se){var J=Se[5];Se[4]==="base64"?Ee.image=atob(J):Ee.image=decodeURIComponent(J)}else try{var ee=yield Ee.document.fetch(ne),be=yield ee.text();Ee.image=be}catch(ke){console.error('Error while loading image "'.concat(ne,'":'),ke)}Ee.loaded=!0})()}renderChildren(ne){var{document:Ee,image:Se,loaded:J}=this,ee=this.getAttribute("x").getPixels("x"),be=this.getAttribute("y").getPixels("y"),ke=this.getStyle("width").getPixels("x"),Le=this.getStyle("height").getPixels("y");if(!(!J||!Se||!ke||!Le)){if(ne.save(),ne.translate(ee,be),this.isSvg){var Ze=Ee.canvg.forkString(ne,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:ke,scaleHeight:Le});Ze.document.documentElement.parent=this,Ze.render()}else{var ht=this.image;Ee.setViewBox({ctx:ne,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:ke,desiredWidth:ht.width,height:Le,desiredHeight:ht.height}),this.loaded&&(typeof ht.complete>"u"||ht.complete)&&ne.drawImage(ht,0,0)}ne.restore()}}getBoundingBox(){var ne=this.getAttribute("x").getPixels("x"),Ee=this.getAttribute("y").getPixels("y"),Se=this.getStyle("width").getPixels("x"),J=this.getStyle("height").getPixels("y");return new jn(ne,Ee,ne+Se,Ee+J)}}class Ra extends Kn{constructor(){super(...arguments),this.type="symbol"}render(ne){}}class aa{constructor(ne){this.document=ne,this.loaded=!1,ne.fonts.push(this)}load(ne,Ee){var Se=this;return(0,g.default)(function*(){try{var{document:J}=Se,ee=yield J.canvg.parser.load(Ee),be=ee.getElementsByTagName("font");Array.from(be).forEach(ke=>{var Le=J.createElement(ke);J.definitions[ne]=Le})}catch(ke){console.error('Error while loading font "'.concat(Ee,'":'),ke)}Se.loaded=!0})()}}class wa extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="style";var J=B(Array.from(Ee.childNodes).map(be=>be.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),ee=J.split("}");ee.forEach(be=>{var ke=be.trim();if(ke){var Le=ke.split("{"),Ze=Le[0].split(","),ht=Le[1].split(";");Ze.forEach(V=>{var U=V.trim();if(U){var W=ne.styles[U]||{};if(ht.forEach(we=>{var Be=we.indexOf(":"),Re=we.substr(0,Be).trim(),Te=we.substr(Be+1,we.length-Be).trim();Re&&Te&&(W[Re]=new Ye(ne,Re,Te))}),ne.styles[U]=W,ne.stylesSpecificity[U]=le(U),U==="@font-face"){var ae=W["font-family"].getString().replace(/"|'/g,""),me=W.src.getString().split(",");me.forEach(we=>{if(we.indexOf('format("svg")')>0){var Be=se(we);Be&&new aa(ne).load(ae,Be)}})}}})}})}}wa.parseExternalUrl=se;class oa extends Kn{constructor(){super(...arguments),this.type="use"}setContext(ne){super.setContext(ne);var Ee=this.getAttribute("x"),Se=this.getAttribute("y");Ee.hasValue()&&ne.translate(Ee.getPixels("x"),0),Se.hasValue()&&ne.translate(0,Se.getPixels("y"))}path(ne){var{element:Ee}=this;Ee&&Ee.path(ne)}renderChildren(ne){var{document:Ee,element:Se}=this;if(Se){var J=Se;if(Se.type==="symbol"&&(J=new ps(Ee,null),J.attributes.viewBox=new Ye(Ee,"viewBox",Se.getAttribute("viewBox").getString()),J.attributes.preserveAspectRatio=new Ye(Ee,"preserveAspectRatio",Se.getAttribute("preserveAspectRatio").getString()),J.attributes.overflow=new Ye(Ee,"overflow",Se.getAttribute("overflow").getString()),J.children=Se.children,Se.styles.opacity=new Ye(Ee,"opacity",this.calculateOpacity())),J.type==="svg"){var ee=this.getStyle("width",!1,!0),be=this.getStyle("height",!1,!0);ee.hasValue()&&(J.attributes.width=new Ye(Ee,"width",ee.getString())),be.hasValue()&&(J.attributes.height=new Ye(Ee,"height",be.getString()))}var ke=J.parent;J.parent=this,J.render(ne),J.parent=ke}}getBoundingBox(ne){var{element:Ee}=this;return Ee?Ee.getBoundingBox(ne):null}elementTransform(){var{document:ne,element:Ee}=this;return tn.fromElement(ne,Ee)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Gt(Wt,ne,Ee,Se,J,ee){return Wt[Ee*Se*4+ne*4+ee]}function Ar(Wt,ne,Ee,Se,J,ee,be){Wt[Ee*Se*4+ne*4+ee]=be}function hn(Wt,ne,Ee){var Se=Wt[ne];return Se*Ee}function Yr(Wt,ne,Ee,Se){return ne+Math.cos(Wt)*Ee+Math.sin(Wt)*Se}class Gs extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="feColorMatrix";var J=F(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var ee=J[0];J=[.213+.787*ee,.715-.715*ee,.072-.072*ee,0,0,.213-.213*ee,.715+.285*ee,.072-.072*ee,0,0,.213-.213*ee,.715-.715*ee,.072+.928*ee,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var be=J[0]*Math.PI/180;J=[Yr(be,.213,.787,-.213),Yr(be,.715,-.715,-.715),Yr(be,.072,-.072,.928),0,0,Yr(be,.213,-.213,.143),Yr(be,.715,.285,.14),Yr(be,.072,-.072,-.283),0,0,Yr(be,.213,-.213,-.787),Yr(be,.715,-.715,.715),Yr(be,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=J,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(ne,Ee,Se,J,ee){for(var{includeOpacity:be,matrix:ke}=this,Le=ne.getImageData(0,0,J,ee),Ze=0;Ze<ee;Ze++)for(var ht=0;ht<J;ht++){var V=Gt(Le.data,ht,Ze,J,ee,0),U=Gt(Le.data,ht,Ze,J,ee,1),W=Gt(Le.data,ht,Ze,J,ee,2),ae=Gt(Le.data,ht,Ze,J,ee,3),me=hn(ke,0,V)+hn(ke,1,U)+hn(ke,2,W)+hn(ke,3,ae)+hn(ke,4,1),we=hn(ke,5,V)+hn(ke,6,U)+hn(ke,7,W)+hn(ke,8,ae)+hn(ke,9,1),Be=hn(ke,10,V)+hn(ke,11,U)+hn(ke,12,W)+hn(ke,13,ae)+hn(ke,14,1),Re=hn(ke,15,V)+hn(ke,16,U)+hn(ke,17,W)+hn(ke,18,ae)+hn(ke,19,1);be&&(me=0,we=0,Be=0,Re*=ae/255),Ar(Le.data,ht,Ze,J,ee,0,me),Ar(Le.data,ht,Ze,J,ee,1,we),Ar(Le.data,ht,Ze,J,ee,2,Be),Ar(Le.data,ht,Ze,J,ee,3,Re)}ne.clearRect(0,0,J,ee),ne.putImageData(Le,0,0)}}class Xs extends vn{constructor(){super(...arguments),this.type="mask"}apply(ne,Ee){var{document:Se}=this,J=this.getAttribute("x").getPixels("x"),ee=this.getAttribute("y").getPixels("y"),be=this.getStyle("width").getPixels("x"),ke=this.getStyle("height").getPixels("y");if(!be&&!ke){var Le=new jn;this.children.forEach(ae=>{Le.addBoundingBox(ae.getBoundingBox(ne))}),J=Math.floor(Le.x1),ee=Math.floor(Le.y1),be=Math.floor(Le.width),ke=Math.floor(Le.height)}var Ze=this.removeStyles(Ee,Xs.ignoreStyles),ht=Se.createCanvas(J+be,ee+ke),V=ht.getContext("2d");Se.screen.setDefaults(V),this.renderChildren(V),new Gs(Se,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(V,0,0,J+be,ee+ke);var U=Se.createCanvas(J+be,ee+ke),W=U.getContext("2d");Se.screen.setDefaults(W),Ee.render(W),W.globalCompositeOperation="destination-in",W.fillStyle=V.createPattern(ht,"no-repeat"),W.fillRect(0,0,J+be,ee+ke),ne.fillStyle=W.createPattern(U,"no-repeat"),ne.fillRect(0,0,J+be,ee+ke),this.restoreStyles(Ee,Ze)}render(ne){}}Xs.ignoreStyles=["mask","transform","clip-path"];var Si=()=>{};class $s extends vn{constructor(){super(...arguments),this.type="clipPath"}apply(ne){var{document:Ee}=this,Se=Reflect.getPrototypeOf(ne),{beginPath:J,closePath:ee}=ne;Se&&(Se.beginPath=Si,Se.closePath=Si),Reflect.apply(J,ne,[]),this.children.forEach(be=>{if(!(typeof be.path>"u")){var ke=typeof be.elementTransform<"u"?be.elementTransform():null;ke||(ke=tn.fromElement(Ee,be)),ke&&ke.apply(ne),be.path(ne),Se&&(Se.closePath=ee),ke&&ke.unapply(ne)}}),Reflect.apply(ee,ne,[]),ne.clip(),Se&&(Se.beginPath=J,Se.closePath=ee)}render(ne){}}class Wn extends vn{constructor(){super(...arguments),this.type="filter"}apply(ne,Ee){var{document:Se,children:J}=this,ee=Ee.getBoundingBox(ne);if(ee){var be=0,ke=0;J.forEach(Be=>{var Re=Be.extraFilterDistance||0;be=Math.max(be,Re),ke=Math.max(ke,Re)});var Le=Math.floor(ee.width),Ze=Math.floor(ee.height),ht=Le+2*be,V=Ze+2*ke;if(!(ht<1||V<1)){var U=Math.floor(ee.x),W=Math.floor(ee.y),ae=this.removeStyles(Ee,Wn.ignoreStyles),me=Se.createCanvas(ht,V),we=me.getContext("2d");Se.screen.setDefaults(we),we.translate(-U+be,-W+ke),Ee.render(we),J.forEach(Be=>{typeof Be.apply=="function"&&Be.apply(we,0,0,ht,V)}),ne.drawImage(me,0,0,ht,V,U-be,W-ke,ht,V),this.restoreStyles(Ee,ae)}}}render(ne){}}Wn.ignoreStyles=["filter","transform","clip-path"];class Ks extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(ne,Ee,Se,J,ee){}}class xi extends vn{constructor(){super(...arguments),this.type="feMorphology"}apply(ne,Ee,Se,J,ee){}}class Cs extends vn{constructor(){super(...arguments),this.type="feComposite"}apply(ne,Ee,Se,J,ee){}}class yi extends vn{constructor(ne,Ee,Se){super(ne,Ee,Se),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(ne,Ee,Se,J,ee){var{document:be,blurRadius:ke}=this,Le=be.window?be.window.document.body:null,Ze=ne.canvas;Ze.id=be.getUniqueId(),Le&&(Ze.style.display="none",Le.appendChild(Ze)),(0,E.canvasRGBA)(Ze,Ee,Se,J,ee,ke),Le&&Le.removeChild(Ze)}}class Js extends vn{constructor(){super(...arguments),this.type="title"}}class fa extends vn{constructor(){super(...arguments),this.type="desc"}}var ki={svg:ps,rect:Ti,circle:ui,ellipse:vi,line:fs,polyline:Sn,polygon:Vs,path:an,pattern:zi,marker:zn,defs:wi,linearGradient:Ni,radialGradient:Hs,stop:Xi,animate:Bs,animateColor:Gi,animateTransform:Ss,font:La,"font-face":Qi,"missing-glyph":Pi,glyph:Dr,text:Hn,tspan:Tn,tref:Ot,a:sn,textPath:As,image:si,g:mi,symbol:Ra,style:wa,use:oa,mask:Xs,clipPath:$s,filter:Wn,feDropShadow:Ks,feMorphology:xi,feComposite:Cs,feColorMatrix:Gs,feGaussianBlur:yi,title:Js,desc:fa};function Bi(Wt,ne){var Ee=Object.keys(Wt);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(Wt);ne&&(Se=Se.filter(function(J){return Object.getOwnPropertyDescriptor(Wt,J).enumerable})),Ee.push.apply(Ee,Se)}return Ee}function Ki(Wt){for(var ne=1;ne<arguments.length;ne++){var Ee=arguments[ne]!=null?arguments[ne]:{};ne%2?Bi(Object(Ee),!0).forEach(function(Se){(0,v.default)(Wt,Se,Ee[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wt,Object.getOwnPropertyDescriptors(Ee)):Bi(Object(Ee)).forEach(function(Se){Object.defineProperty(Wt,Se,Object.getOwnPropertyDescriptor(Ee,Se))})}return Wt}function za(Wt,ne){var Ee=document.createElement("canvas");return Ee.width=Wt,Ee.height=ne,Ee}function _s(Wt){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,g.default)(function*(Wt){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ee=document.createElement("img");return ne&&(Ee.crossOrigin="Anonymous"),new Promise((Se,J)=>{Ee.onload=()=>{Se(Ee)},Ee.onerror=(ee,be,ke,Le,Ze)=>{J(Ze)},Ee.src=Wt})}),Zi.apply(this,arguments)}class ra{constructor(ne){var{rootEmSize:Ee=12,emSize:Se=12,createCanvas:J=ra.createCanvas,createImage:ee=ra.createImage,anonymousCrossOrigin:be}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=ne,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=ne.screen,this.rootEmSize=Ee,this.emSize=Se,this.createCanvas=J,this.createImage=this.bindCreateImage(ee,be),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(ne,Ee){return typeof Ee=="boolean"?(Se,J)=>ne(Se,typeof J=="boolean"?J:Ee):ne}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:ne}=this;return ne[ne.length-1]}set emSize(ne){var{emSizeStack:Ee}=this;Ee.push(ne)}popEmSize(){var{emSizeStack:ne}=this;ne.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(ne=>ne.loaded)}isFontsLoaded(){return this.fonts.every(ne=>ne.loaded)}createDocumentElement(ne){var Ee=this.createElement(ne.documentElement);return Ee.root=!0,Ee.addStylesFromStyleDefinition(),this.documentElement=Ee,Ee}createElement(ne){var Ee=ne.nodeName.replace(/^[^:]+:/,""),Se=ra.elementTypes[Ee];return typeof Se<"u"?new Se(this,ne):new bn(this,ne)}createTextNode(ne){return new es(this,ne)}setViewBox(ne){this.screen.setViewBox(Ki({document:this},ne))}}ra.createCanvas=za,ra.createImage=_s,ra.elementTypes=ki;function Ta(Wt,ne){var Ee=Object.keys(Wt);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(Wt);ne&&(Se=Se.filter(function(J){return Object.getOwnPropertyDescriptor(Wt,J).enumerable})),Ee.push.apply(Ee,Se)}return Ee}function Ea(Wt){for(var ne=1;ne<arguments.length;ne++){var Ee=arguments[ne]!=null?arguments[ne]:{};ne%2?Ta(Object(Ee),!0).forEach(function(Se){(0,v.default)(Wt,Se,Ee[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wt,Object.getOwnPropertyDescriptors(Ee)):Ta(Object(Ee)).forEach(function(Se){Object.defineProperty(Wt,Se,Object.getOwnPropertyDescriptor(Ee,Se))})}return Wt}class Qa{constructor(ne,Ee){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Qr(Se),this.screen=new Bt(ne,Se),this.options=Se;var J=new ra(this,Se),ee=J.createDocumentElement(Ee);this.document=J,this.documentElement=ee}static from(ne,Ee){var Se=arguments;return(0,g.default)(function*(){var J=Se.length>2&&Se[2]!==void 0?Se[2]:{},ee=new Qr(J),be=yield ee.parse(Ee);return new Qa(ne,be,J)})()}static fromString(ne,Ee){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},J=new Qr(Se),ee=J.parseFromString(Ee);return new Qa(ne,ee,Se)}fork(ne,Ee){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Qa.from(ne,Ee,Ea(Ea({},this.options),Se))}forkString(ne,Ee){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Qa.fromString(ne,Ee,Ea(Ea({},this.options),Se))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var ne=arguments,Ee=this;return(0,g.default)(function*(){var Se=ne.length>0&&ne[0]!==void 0?ne[0]:{};Ee.start(Ea({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},Se)),yield Ee.ready(),Ee.stop()})()}start(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:Ee,screen:Se,options:J}=this;Se.start(Ee,Ea(Ea({enableRedraw:!0},J),ne))}stop(){this.screen.stop()}resize(ne){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ne,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(ne,Ee,Se)}}}),"./node_modules/core-js/internals/a-callable.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-callable.js"),v=f("./node_modules/core-js/internals/try-to-string.js"),b=TypeError;A.exports=function(w){if(g(w))return w;throw new b(v(w)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-constructor.js"),v=f("./node_modules/core-js/internals/try-to-string.js"),b=TypeError;A.exports=function(w){if(g(w))return w;throw new b(v(w)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-possible-prototype.js"),v=String,b=TypeError;A.exports=function(w){if(g(w))return w;throw new b("Can't set "+v(w)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/set-helpers.js").has;A.exports=function(v){return g(v),v}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/well-known-symbol.js"),v=f("./node_modules/core-js/internals/object-create.js"),b=f("./node_modules/core-js/internals/object-define-property.js").f,w=g("unscopables"),j=Array.prototype;j[w]===void 0&&b(j,w,{configurable:!0,value:v(null)}),A.exports=function(E){j[w][E]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/string-multibyte.js").charAt;A.exports=function(v,b,w){return b+(w?g(v,b).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/object-is-prototype-of.js"),v=TypeError;A.exports=function(b,w){if(g(w,b))return b;throw new v("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-object.js"),v=String,b=TypeError;A.exports=function(w){if(g(w))return w;throw new b(v(w)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=g(function(){if(typeof ArrayBuffer=="function"){var v=new ArrayBuffer(8);Object.isExtensible(v)&&Object.defineProperty(v,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/array-iteration.js").forEach,v=f("./node_modules/core-js/internals/array-method-is-strict.js"),b=v("forEach");A.exports=b?[].forEach:function(j){return g(this,j,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-bind-context.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-object.js"),w=f("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),j=f("./node_modules/core-js/internals/is-array-iterator-method.js"),E=f("./node_modules/core-js/internals/is-constructor.js"),R=f("./node_modules/core-js/internals/length-of-array-like.js"),_=f("./node_modules/core-js/internals/create-property.js"),N=f("./node_modules/core-js/internals/get-iterator.js"),B=f("./node_modules/core-js/internals/get-iterator-method.js"),M=Array;A.exports=function(F){var $=b(F),z=E(this),se=arguments.length,ce=se>1?arguments[1]:void 0,ie=ce!==void 0;ie&&(ce=g(ce,se>2?arguments[2]:void 0));var pe=B($),xe=0,Ae,ue,Y,fe,H,le;if(pe&&!(this===M&&j(pe)))for(ue=z?new this:[],fe=N($,pe),H=fe.next;!(Y=v(H,fe)).done;xe++)le=ie?w(fe,ce,[Y.value,xe],!0):Y.value,_(ue,xe,le);else for(Ae=R($),ue=z?new this(Ae):M(Ae);Ae>xe;xe++)le=ie?ce($[xe],xe):$[xe],_(ue,xe,le);return ue.length=xe,ue}}),"./node_modules/core-js/internals/array-includes.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-indexed-object.js"),v=f("./node_modules/core-js/internals/to-absolute-index.js"),b=f("./node_modules/core-js/internals/length-of-array-like.js"),w=function(j){return function(E,R,_){var N=g(E),B=b(N);if(B===0)return!j&&-1;var M=v(_,B),O;if(j&&R!==R){for(;B>M;)if(O=N[M++],O!==O)return!0}else for(;B>M;M++)if((j||M in N)&&N[M]===R)return j||M||0;return!j&&-1}};A.exports={includes:w(!0),indexOf:w(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-bind-context.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/indexed-object.js"),w=f("./node_modules/core-js/internals/to-object.js"),j=f("./node_modules/core-js/internals/length-of-array-like.js"),E=f("./node_modules/core-js/internals/array-species-create.js"),R=v([].push),_=function(N){var B=N===1,M=N===2,O=N===3,F=N===4,$=N===6,z=N===7,se=N===5||$;return function(ce,ie,pe,xe){for(var Ae=w(ce),ue=b(Ae),Y=j(ue),fe=g(ie,pe),H=0,le=xe||E,de=B?le(ce,Y):M||z?le(ce,0):void 0,ye,ge;Y>H;H++)if((se||H in ue)&&(ye=ue[H],ge=fe(ye,H,Ae),N))if(B)de[H]=ge;else if(ge)switch(N){case 3:return!0;case 5:return ye;case 6:return H;case 2:R(de,ye)}else switch(N){case 4:return!1;case 7:R(de,ye)}return $?-1:O||F?F:de}};A.exports={forEach:_(0),map:_(1),filter:_(2),some:_(3),every:_(4),find:_(5),findIndex:_(6),filterReject:_(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js"),v=f("./node_modules/core-js/internals/well-known-symbol.js"),b=f("./node_modules/core-js/internals/environment-v8-version.js"),w=v("species");A.exports=function(j){return b>=51||!g(function(){var E=[],R=E.constructor={};return R[w]=function(){return{foo:1}},E[j](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=function(v,b){var w=[][v];return!!w&&g(function(){w.call(null,b||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-callable.js"),v=f("./node_modules/core-js/internals/to-object.js"),b=f("./node_modules/core-js/internals/indexed-object.js"),w=f("./node_modules/core-js/internals/length-of-array-like.js"),j=TypeError,E="Reduce of empty array with no initial value",R=function(_){return function(N,B,M,O){var F=v(N),$=b(F),z=w(F);if(g(B),z===0&&M<2)throw new j(E);var se=_?z-1:0,ce=_?-1:1;if(M<2)for(;;){if(se in $){O=$[se],se+=ce;break}if(se+=ce,_?se<0:z<=se)throw new j(E)}for(;_?se>=0:z>se;se+=ce)se in $&&(O=B(O,$[se],se,F));return O}};A.exports={left:R(!1),right:R(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js");A.exports=g([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-array.js"),v=f("./node_modules/core-js/internals/is-constructor.js"),b=f("./node_modules/core-js/internals/is-object.js"),w=f("./node_modules/core-js/internals/well-known-symbol.js"),j=w("species"),E=Array;A.exports=function(R){var _;return g(R)&&(_=R.constructor,v(_)&&(_===E||g(_.prototype))?_=void 0:b(_)&&(_=_[j],_===null&&(_=void 0))),_===void 0?E:_}}),"./node_modules/core-js/internals/array-species-create.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/array-species-constructor.js");A.exports=function(v,b){return new(g(v))(b===0?0:b)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/an-object.js"),v=f("./node_modules/core-js/internals/iterator-close.js");A.exports=function(b,w,j,E){try{return E?w(g(j)[0],j[1]):w(j)}catch(R){v(b,"throw",R)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/well-known-symbol.js"),v=g("iterator"),b=!1;try{var w=0,j={next:function(){return{done:!!w++}},return:function(){b=!0}};j[v]=function(){return this},Array.from(j,function(){throw 2})}catch{}A.exports=function(E,R){try{if(!R&&!b)return!1}catch{return!1}var _=!1;try{var N={};N[v]=function(){return{next:function(){return{done:_=!0}}}},E(N)}catch{}return _}}),"./node_modules/core-js/internals/classof-raw.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=g({}.toString),b=g("".slice);A.exports=function(w){return b(v(w),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-string-tag-support.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=f("./node_modules/core-js/internals/classof-raw.js"),w=f("./node_modules/core-js/internals/well-known-symbol.js"),j=w("toStringTag"),E=Object,R=b((function(){return arguments})())==="Arguments",_=function(N,B){try{return N[B]}catch{}};A.exports=g?b:function(N){var B,M,O;return N===void 0?"Undefined":N===null?"Null":typeof(M=_(B=E(N),j))=="string"?M:R?b(B):(O=b(B))==="Object"&&v(B.callee)?"Arguments":O}}),"./node_modules/core-js/internals/collection-strong.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/object-create.js"),v=f("./node_modules/core-js/internals/define-built-in-accessor.js"),b=f("./node_modules/core-js/internals/define-built-ins.js"),w=f("./node_modules/core-js/internals/function-bind-context.js"),j=f("./node_modules/core-js/internals/an-instance.js"),E=f("./node_modules/core-js/internals/is-null-or-undefined.js"),R=f("./node_modules/core-js/internals/iterate.js"),_=f("./node_modules/core-js/internals/iterator-define.js"),N=f("./node_modules/core-js/internals/create-iter-result-object.js"),B=f("./node_modules/core-js/internals/set-species.js"),M=f("./node_modules/core-js/internals/descriptors.js"),O=f("./node_modules/core-js/internals/internal-metadata.js").fastKey,F=f("./node_modules/core-js/internals/internal-state.js"),$=F.set,z=F.getterFor;A.exports={getConstructor:function(se,ce,ie,pe){var xe=se(function(H,le){j(H,Ae),$(H,{type:ce,index:g(null),first:null,last:null,size:0}),M||(H.size=0),E(le)||R(le,H[pe],{that:H,AS_ENTRIES:ie})}),Ae=xe.prototype,ue=z(ce),Y=function(H,le,de){var ye=ue(H),ge=fe(H,le),je,Me;return ge?ge.value=de:(ye.last=ge={index:Me=O(le,!0),key:le,value:de,previous:je=ye.last,next:null,removed:!1},ye.first||(ye.first=ge),je&&(je.next=ge),M?ye.size++:H.size++,Me!=="F"&&(ye.index[Me]=ge)),H},fe=function(H,le){var de=ue(H),ye=O(le),ge;if(ye!=="F")return de.index[ye];for(ge=de.first;ge;ge=ge.next)if(ge.key===le)return ge};return b(Ae,{clear:function(){for(var le=this,de=ue(le),ye=de.first;ye;)ye.removed=!0,ye.previous&&(ye.previous=ye.previous.next=null),ye=ye.next;de.first=de.last=null,de.index=g(null),M?de.size=0:le.size=0},delete:function(H){var le=this,de=ue(le),ye=fe(le,H);if(ye){var ge=ye.next,je=ye.previous;delete de.index[ye.index],ye.removed=!0,je&&(je.next=ge),ge&&(ge.previous=je),de.first===ye&&(de.first=ge),de.last===ye&&(de.last=je),M?de.size--:le.size--}return!!ye},forEach:function(le){for(var de=ue(this),ye=w(le,arguments.length>1?arguments[1]:void 0),ge;ge=ge?ge.next:de.first;)for(ye(ge.value,ge.key,this);ge&&ge.removed;)ge=ge.previous},has:function(le){return!!fe(this,le)}}),b(Ae,ie?{get:function(le){var de=fe(this,le);return de&&de.value},set:function(le,de){return Y(this,le===0?0:le,de)}}:{add:function(le){return Y(this,le=le===0?0:le,le)}}),M&&v(Ae,"size",{configurable:!0,get:function(){return ue(this).size}}),xe},setStrong:function(se,ce,ie){var pe=ce+" Iterator",xe=z(ce),Ae=z(pe);_(se,ce,function(ue,Y){$(this,{type:pe,target:ue,state:xe(ue),kind:Y,last:null})},function(){for(var ue=Ae(this),Y=ue.kind,fe=ue.last;fe&&fe.removed;)fe=fe.previous;return!ue.target||!(ue.last=fe=fe?fe.next:ue.state.first)?(ue.target=null,N(void 0,!0)):N(Y==="keys"?fe.key:Y==="values"?fe.value:[fe.key,fe.value],!1)},ie?"entries":"values",!ie,!0),B(ce)}}}),"./node_modules/core-js/internals/collection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=f("./node_modules/core-js/internals/function-uncurry-this.js"),w=f("./node_modules/core-js/internals/is-forced.js"),j=f("./node_modules/core-js/internals/define-built-in.js"),E=f("./node_modules/core-js/internals/internal-metadata.js"),R=f("./node_modules/core-js/internals/iterate.js"),_=f("./node_modules/core-js/internals/an-instance.js"),N=f("./node_modules/core-js/internals/is-callable.js"),B=f("./node_modules/core-js/internals/is-null-or-undefined.js"),M=f("./node_modules/core-js/internals/is-object.js"),O=f("./node_modules/core-js/internals/fails.js"),F=f("./node_modules/core-js/internals/check-correctness-of-iteration.js"),$=f("./node_modules/core-js/internals/set-to-string-tag.js"),z=f("./node_modules/core-js/internals/inherit-if-required.js");A.exports=function(se,ce,ie){var pe=se.indexOf("Map")!==-1,xe=se.indexOf("Weak")!==-1,Ae=pe?"set":"add",ue=v[se],Y=ue&&ue.prototype,fe=ue,H={},le=function(Qe){var ze=b(Y[Qe]);j(Y,Qe,Qe==="add"?function(tt){return ze(this,tt===0?0:tt),this}:Qe==="delete"?function(Ve){return xe&&!M(Ve)?!1:ze(this,Ve===0?0:Ve)}:Qe==="get"?function(tt){return xe&&!M(tt)?void 0:ze(this,tt===0?0:tt)}:Qe==="has"?function(tt){return xe&&!M(tt)?!1:ze(this,tt===0?0:tt)}:function(tt,nt){return ze(this,tt===0?0:tt,nt),this})},de=w(se,!N(ue)||!(xe||Y.forEach&&!O(function(){new ue().entries().next()})));if(de)fe=ie.getConstructor(ce,se,pe,Ae),E.enable();else if(w(se,!0)){var ye=new fe,ge=ye[Ae](xe?{}:-0,1)!==ye,je=O(function(){ye.has(1)}),Me=F(function(Qe){new ue(Qe)}),He=!xe&&O(function(){for(var Qe=new ue,ze=5;ze--;)Qe[Ae](ze,ze);return!Qe.has(-0)});Me||(fe=ce(function(Qe,ze){_(Qe,Y);var Ve=z(new ue,Qe,fe);return B(ze)||R(ze,Ve[Ae],{that:Ve,AS_ENTRIES:pe}),Ve}),fe.prototype=Y,Y.constructor=fe),(je||He)&&(le("delete"),le("has"),pe&&le("get")),(He||ge)&&le(Ae),xe&&Y.clear&&delete Y.clear}return H[se]=fe,g({global:!0,constructor:!0,forced:fe!==ue},H),$(fe,se),xe||ie.setStrong(fe,se,pe),fe}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/has-own-property.js"),v=f("./node_modules/core-js/internals/own-keys.js"),b=f("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),w=f("./node_modules/core-js/internals/object-define-property.js");A.exports=function(j,E,R){for(var _=v(E),N=w.f,B=b.f,M=0;M<_.length;M++){var O=_[M];!g(j,O)&&!(R&&g(R,O))&&N(j,O,B(E,O))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/well-known-symbol.js"),v=g("match");A.exports=function(b){var w=/./;try{"/./"[b](w)}catch{try{return w[v]=!1,"/./"[b](w)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=!g(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/require-object-coercible.js"),b=f("./node_modules/core-js/internals/to-string.js"),w=/"/g,j=g("".replace);A.exports=function(E,R,_,N){var B=b(v(E)),M="<"+R;return _!==""&&(M+=" "+_+'="'+j(b(N),w,"&quot;")+'"'),M+">"+B+"</"+R+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(A){A.exports=function(m,f){return{value:m,done:f}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/object-define-property.js"),b=f("./node_modules/core-js/internals/create-property-descriptor.js");A.exports=g?function(w,j,E){return v.f(w,j,b(1,E))}:function(w,j,E){return w[j]=E,w}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(A){A.exports=function(m,f){return{enumerable:!(m&1),configurable:!(m&2),writable:!(m&4),value:f}}}),"./node_modules/core-js/internals/create-property.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/object-define-property.js"),b=f("./node_modules/core-js/internals/create-property-descriptor.js");A.exports=function(w,j,E){g?v.f(w,j,b(0,E)):w[j]=E}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/make-built-in.js"),v=f("./node_modules/core-js/internals/object-define-property.js");A.exports=function(b,w,j){return j.get&&g(j.get,w,{getter:!0}),j.set&&g(j.set,w,{setter:!0}),v.f(b,w,j)}}),"./node_modules/core-js/internals/define-built-in.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-callable.js"),v=f("./node_modules/core-js/internals/object-define-property.js"),b=f("./node_modules/core-js/internals/make-built-in.js"),w=f("./node_modules/core-js/internals/define-global-property.js");A.exports=function(j,E,R,_){_||(_={});var N=_.enumerable,B=_.name!==void 0?_.name:E;if(g(R)&&b(R,B,_),_.global)N?j[E]=R:w(E,R);else{try{_.unsafe?j[E]&&(N=!0):delete j[E]}catch{}N?j[E]=R:v.f(j,E,{value:R,enumerable:!1,configurable:!_.nonConfigurable,writable:!_.nonWritable})}return j}}),"./node_modules/core-js/internals/define-built-ins.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/define-built-in.js");A.exports=function(v,b,w){for(var j in b)g(v,j,b[j],w);return v}}),"./node_modules/core-js/internals/define-global-property.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=Object.defineProperty;A.exports=function(b,w){try{v(g,b,{value:w,configurable:!0,writable:!0})}catch{g[b]=w}return w}}),"./node_modules/core-js/internals/descriptors.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=!g(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/is-object.js"),b=g.document,w=v(b)&&v(b.createElement);A.exports=function(j){return w?b.createElement(j):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(A){var m=TypeError,f=9007199254740991;A.exports=function(g){if(g>f)throw m("Maximum allowed index exceeded");return g}}),"./node_modules/core-js/internals/dom-iterables.js":(function(A){A.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/document-create-element.js"),v=g("span").classList,b=v&&v.constructor&&v.constructor.prototype;A.exports=b===Object.prototype?void 0:b}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(A){A.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/environment-user-agent.js");A.exports=/ipad|iphone|ipod/i.test(g)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/environment-user-agent.js");A.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(g)}),"./node_modules/core-js/internals/environment-is-node.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/environment.js");A.exports=g==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/environment-user-agent.js");A.exports=/web0s(?!.*chrome)/i.test(g)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=g.navigator,b=v&&v.userAgent;A.exports=b?String(b):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/environment-user-agent.js"),b=g.process,w=g.Deno,j=b&&b.versions||w&&w.version,E=j&&j.v8,R,_;E&&(R=E.split("."),_=R[0]>0&&R[0]<4?1:+(R[0]+R[1])),!_&&v&&(R=v.match(/Edge\/(\d+)/),(!R||R[1]>=74)&&(R=v.match(/Chrome\/(\d+)/),R&&(_=+R[1]))),A.exports=_}),"./node_modules/core-js/internals/environment.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/environment-user-agent.js"),b=f("./node_modules/core-js/internals/classof-raw.js"),w=function(j){return v.slice(0,j.length)===j};A.exports=(function(){return w("Bun/")?"BUN":w("Cloudflare-Workers")?"CLOUDFLARE":w("Deno/")?"DENO":w("Node.js/")?"NODE":g.Bun&&typeof Bun.version=="string"?"BUN":g.Deno&&typeof Deno.version=="object"?"DENO":b(g.process)==="process"?"NODE":g.window&&g.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,b=f("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=f("./node_modules/core-js/internals/define-built-in.js"),j=f("./node_modules/core-js/internals/define-global-property.js"),E=f("./node_modules/core-js/internals/copy-constructor-properties.js"),R=f("./node_modules/core-js/internals/is-forced.js");A.exports=function(_,N){var B=_.target,M=_.global,O=_.stat,F,$,z,se,ce,ie;if(M?$=g:O?$=g[B]||j(B,{}):$=g[B]&&g[B].prototype,$)for(z in N){if(ce=N[z],_.dontCallGetSet?(ie=v($,z),se=ie&&ie.value):se=$[z],F=R(M?z:B+(O?".":"#")+z,_.forced),!F&&se!==void 0){if(typeof ce==typeof se)continue;E(ce,se)}(_.sham||se&&se.sham)&&b(ce,"sham",!0),w($,z,ce,_)}}}),"./node_modules/core-js/internals/fails.js":(function(A){A.exports=function(m){try{return!!m()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(A,m,f){f("./node_modules/core-js/modules/es.regexp.exec.js");var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/define-built-in.js"),b=f("./node_modules/core-js/internals/regexp-exec.js"),w=f("./node_modules/core-js/internals/fails.js"),j=f("./node_modules/core-js/internals/well-known-symbol.js"),E=f("./node_modules/core-js/internals/create-non-enumerable-property.js"),R=j("species"),_=RegExp.prototype;A.exports=function(N,B,M,O){var F=j(N),$=!w(function(){var ie={};return ie[F]=function(){return 7},""[N](ie)!==7}),z=$&&!w(function(){var ie=!1,pe=/a/;if(N==="split"){var xe={};xe[R]=function(){return pe},pe={constructor:xe,flags:""},pe[F]=/./[F]}return pe.exec=function(){return ie=!0,null},pe[F](""),!ie});if(!$||!z||M){var se=/./[F],ce=B(F,""[N],function(ie,pe,xe,Ae,ue){var Y=pe.exec;return Y===b||Y===_.exec?$&&!ue?{done:!0,value:g(se,pe,xe,Ae)}:{done:!0,value:g(ie,xe,pe,Ae)}:{done:!1}});v(String.prototype,N,ce[0]),v(_,F,ce[1])}O&&E(_[F],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=!g(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,b=v.apply,w=v.call;A.exports=typeof Reflect=="object"&&Reflect.apply||(g?w.bind(b):function(){return w.apply(b,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this-clause.js"),v=f("./node_modules/core-js/internals/a-callable.js"),b=f("./node_modules/core-js/internals/function-bind-native.js"),w=g(g.bind);A.exports=function(j,E){return v(j),E===void 0?j:b?w(j,E):function(){return j.apply(E,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=!g(function(){var v=(function(){}).bind();return typeof v!="function"||v.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype.call;A.exports=g?v.bind(v):function(){return v.apply(v,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/has-own-property.js"),b=Function.prototype,w=g&&Object.getOwnPropertyDescriptor,j=v(b,"name"),E=j&&(function(){}).name==="something",R=j&&(!g||g&&w(b,"name").configurable);A.exports={EXISTS:j,PROPER:E,CONFIGURABLE:R}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/a-callable.js");A.exports=function(b,w,j){try{return g(v(Object.getOwnPropertyDescriptor(b,w)[j]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/classof-raw.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js");A.exports=function(b){if(g(b)==="Function")return v(b)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,b=v.call,w=g&&v.bind.bind(b,b);A.exports=g?w:function(j){return function(){return b.apply(j,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=function(w){return v(w)?w:void 0};A.exports=function(w,j){return arguments.length<2?b(g[w]):g[w]&&g[w][j]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(A){A.exports=function(m){return{iterator:m,next:m.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/classof.js"),v=f("./node_modules/core-js/internals/get-method.js"),b=f("./node_modules/core-js/internals/is-null-or-undefined.js"),w=f("./node_modules/core-js/internals/iterators.js"),j=f("./node_modules/core-js/internals/well-known-symbol.js"),E=j("iterator");A.exports=function(R){if(!b(R))return v(R,E)||v(R,"@@iterator")||w[g(R)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/a-callable.js"),b=f("./node_modules/core-js/internals/an-object.js"),w=f("./node_modules/core-js/internals/try-to-string.js"),j=f("./node_modules/core-js/internals/get-iterator-method.js"),E=TypeError;A.exports=function(R,_){var N=arguments.length<2?j(R):_;if(v(N))return b(g(N,R));throw new E(w(R)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-callable.js"),v=f("./node_modules/core-js/internals/is-null-or-undefined.js");A.exports=function(b,w){var j=b[w];return v(j)?void 0:g(j)}}),"./node_modules/core-js/internals/get-set-record.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-callable.js"),v=f("./node_modules/core-js/internals/an-object.js"),b=f("./node_modules/core-js/internals/function-call.js"),w=f("./node_modules/core-js/internals/to-integer-or-infinity.js"),j=f("./node_modules/core-js/internals/get-iterator-direct.js"),E="Invalid size",R=RangeError,_=TypeError,N=Math.max,B=function(M,O){this.set=M,this.size=N(O,0),this.has=g(M.has),this.keys=g(M.keys)};B.prototype={getIterator:function(){return j(v(b(this.keys,this.set)))},includes:function(M){return b(this.has,this.set,M)}},A.exports=function(M){v(M);var O=+M.size;if(O!==O)throw new _(E);var F=w(O);if(F<0)throw new R(E);return new B(M,F)}}),"./node_modules/core-js/internals/get-substitution.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/to-object.js"),b=Math.floor,w=g("".charAt),j=g("".replace),E=g("".slice),R=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_=/\$([$&'`]|\d{1,2})/g;A.exports=function(N,B,M,O,F,$){var z=M+N.length,se=O.length,ce=_;return F!==void 0&&(F=v(F),ce=R),j($,ce,function(ie,pe){var xe;switch(w(pe,0)){case"$":return"$";case"&":return N;case"`":return E(B,0,M);case"'":return E(B,z);case"<":xe=F[E(pe,1,-1)];break;default:var Ae=+pe;if(Ae===0)return ie;if(Ae>se){var ue=b(Ae/10);return ue===0?ie:ue<=se?O[ue-1]===void 0?w(pe,1):O[ue-1]+w(pe,1):ie}xe=O[Ae-1]}return xe===void 0?"":xe})}}),"./node_modules/core-js/internals/global-this.js":(function(A){var m=function(f){return f&&f.Math===Math&&f};A.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof commonjsGlobal=="object"&&commonjsGlobal)||m(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/to-object.js"),b=g({}.hasOwnProperty);A.exports=Object.hasOwn||function(j,E){return b(v(j),E)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(A){A.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(A){A.exports=function(m,f){try{arguments.length===1?console.error(m):console.error(m,f)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/get-built-in.js");A.exports=g("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/fails.js"),b=f("./node_modules/core-js/internals/document-create-element.js");A.exports=!g&&!v(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/fails.js"),b=f("./node_modules/core-js/internals/classof-raw.js"),w=Object,j=g("".split);A.exports=v(function(){return!w("z").propertyIsEnumerable(0)})?function(E){return b(E)==="String"?j(E,""):w(E)}:w}),"./node_modules/core-js/internals/inherit-if-required.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-callable.js"),v=f("./node_modules/core-js/internals/is-object.js"),b=f("./node_modules/core-js/internals/object-set-prototype-of.js");A.exports=function(w,j,E){var R,_;return b&&g(R=j.constructor)&&R!==E&&v(_=R.prototype)&&_!==E.prototype&&b(w,_),w}}),"./node_modules/core-js/internals/inspect-source.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=f("./node_modules/core-js/internals/shared-store.js"),w=g(Function.toString);v(b.inspectSource)||(b.inspectSource=function(j){return w(j)}),A.exports=b.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/hidden-keys.js"),w=f("./node_modules/core-js/internals/is-object.js"),j=f("./node_modules/core-js/internals/has-own-property.js"),E=f("./node_modules/core-js/internals/object-define-property.js").f,R=f("./node_modules/core-js/internals/object-get-own-property-names.js"),_=f("./node_modules/core-js/internals/object-get-own-property-names-external.js"),N=f("./node_modules/core-js/internals/object-is-extensible.js"),B=f("./node_modules/core-js/internals/uid.js"),M=f("./node_modules/core-js/internals/freezing.js"),O=!1,F=B("meta"),$=0,z=function(Ae){E(Ae,F,{value:{objectID:"O"+$++,weakData:{}}})},se=function(Ae,ue){if(!w(Ae))return typeof Ae=="symbol"?Ae:(typeof Ae=="string"?"S":"P")+Ae;if(!j(Ae,F)){if(!N(Ae))return"F";if(!ue)return"E";z(Ae)}return Ae[F].objectID},ce=function(Ae,ue){if(!j(Ae,F)){if(!N(Ae))return!0;if(!ue)return!1;z(Ae)}return Ae[F].weakData},ie=function(Ae){return M&&O&&N(Ae)&&!j(Ae,F)&&z(Ae),Ae},pe=function(){xe.enable=function(){},O=!0;var Ae=R.f,ue=v([].splice),Y={};Y[F]=1,Ae(Y).length&&(R.f=function(fe){for(var H=Ae(fe),le=0,de=H.length;le<de;le++)if(H[le]===F){ue(H,le,1);break}return H},g({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:_.f}))},xe=A.exports={enable:pe,fastKey:se,getWeakData:ce,onFreeze:ie};b[F]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/weak-map-basic-detection.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=f("./node_modules/core-js/internals/is-object.js"),w=f("./node_modules/core-js/internals/create-non-enumerable-property.js"),j=f("./node_modules/core-js/internals/has-own-property.js"),E=f("./node_modules/core-js/internals/shared-store.js"),R=f("./node_modules/core-js/internals/shared-key.js"),_=f("./node_modules/core-js/internals/hidden-keys.js"),N="Object already initialized",B=v.TypeError,M=v.WeakMap,O,F,$,z=function(pe){return $(pe)?F(pe):O(pe,{})},se=function(pe){return function(xe){var Ae;if(!b(xe)||(Ae=F(xe)).type!==pe)throw new B("Incompatible receiver, "+pe+" required");return Ae}};if(g||E.state){var ce=E.state||(E.state=new M);ce.get=ce.get,ce.has=ce.has,ce.set=ce.set,O=function(pe,xe){if(ce.has(pe))throw new B(N);return xe.facade=pe,ce.set(pe,xe),xe},F=function(pe){return ce.get(pe)||{}},$=function(pe){return ce.has(pe)}}else{var ie=R("state");_[ie]=!0,O=function(pe,xe){if(j(pe,ie))throw new B(N);return xe.facade=pe,w(pe,ie,xe),xe},F=function(pe){return j(pe,ie)?pe[ie]:{}},$=function(pe){return j(pe,ie)}}A.exports={set:O,get:F,has:$,enforce:z,getterFor:se}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/well-known-symbol.js"),v=f("./node_modules/core-js/internals/iterators.js"),b=g("iterator"),w=Array.prototype;A.exports=function(j){return j!==void 0&&(v.Array===j||w[b]===j)}}),"./node_modules/core-js/internals/is-array.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/classof-raw.js");A.exports=Array.isArray||function(b){return g(b)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(A){var m=typeof document=="object"&&document.all;A.exports=typeof m>"u"&&m!==void 0?function(f){return typeof f=="function"||f===m}:function(f){return typeof f=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/fails.js"),b=f("./node_modules/core-js/internals/is-callable.js"),w=f("./node_modules/core-js/internals/classof.js"),j=f("./node_modules/core-js/internals/get-built-in.js"),E=f("./node_modules/core-js/internals/inspect-source.js"),R=function(){},_=j("Reflect","construct"),N=/^\s*(?:class|function)\b/,B=g(N.exec),M=!N.test(R),O=function(z){if(!b(z))return!1;try{return _(R,[],z),!0}catch{return!1}},F=function(z){if(!b(z))return!1;switch(w(z)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return M||!!B(N,E(z))}catch{return!0}};F.sham=!0,A.exports=!_||v(function(){var $;return O(O.call)||!O(Object)||!O(function(){$=!0})||$})?F:O}),"./node_modules/core-js/internals/is-forced.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=/#|\.prototype\./,w=function(N,B){var M=E[j(N)];return M===_?!0:M===R?!1:v(B)?g(B):!!B},j=w.normalize=function(N){return String(N).replace(b,".").toLowerCase()},E=w.data={},R=w.NATIVE="N",_=w.POLYFILL="P";A.exports=w}),"./node_modules/core-js/internals/is-iterable.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/classof.js"),v=f("./node_modules/core-js/internals/has-own-property.js"),b=f("./node_modules/core-js/internals/is-null-or-undefined.js"),w=f("./node_modules/core-js/internals/well-known-symbol.js"),j=f("./node_modules/core-js/internals/iterators.js"),E=w("iterator"),R=Object;A.exports=function(_){if(b(_))return!1;var N=R(_);return N[E]!==void 0||"@@iterator"in N||v(j,g(N))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(A){A.exports=function(m){return m==null}}),"./node_modules/core-js/internals/is-object.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-callable.js");A.exports=function(v){return typeof v=="object"?v!==null:g(v)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-object.js");A.exports=function(v){return g(v)||v===null}}),"./node_modules/core-js/internals/is-pure.js":(function(A){A.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-object.js"),v=f("./node_modules/core-js/internals/internal-state.js").get;A.exports=function(w){if(!g(w))return!1;var j=v(w);return!!j&&j.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-object.js"),v=f("./node_modules/core-js/internals/classof-raw.js"),b=f("./node_modules/core-js/internals/well-known-symbol.js"),w=b("match");A.exports=function(j){var E;return g(j)&&((E=j[w])!==void 0?!!E:v(j)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/get-built-in.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=f("./node_modules/core-js/internals/object-is-prototype-of.js"),w=f("./node_modules/core-js/internals/use-symbol-as-uid.js"),j=Object;A.exports=w?function(E){return typeof E=="symbol"}:function(E){var R=g("Symbol");return v(R)&&b(R.prototype,j(E))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js");A.exports=function(v,b,w){for(var j=w?v:v.iterator,E=v.next,R,_;!(R=g(E,j)).done;)if(_=b(R.value),_!==void 0)return _}}),"./node_modules/core-js/internals/iterate.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-bind-context.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/an-object.js"),w=f("./node_modules/core-js/internals/try-to-string.js"),j=f("./node_modules/core-js/internals/is-array-iterator-method.js"),E=f("./node_modules/core-js/internals/length-of-array-like.js"),R=f("./node_modules/core-js/internals/object-is-prototype-of.js"),_=f("./node_modules/core-js/internals/get-iterator.js"),N=f("./node_modules/core-js/internals/get-iterator-method.js"),B=f("./node_modules/core-js/internals/iterator-close.js"),M=TypeError,O=function($,z){this.stopped=$,this.result=z},F=O.prototype;A.exports=function($,z,se){var ce=se&&se.that,ie=!!(se&&se.AS_ENTRIES),pe=!!(se&&se.IS_RECORD),xe=!!(se&&se.IS_ITERATOR),Ae=!!(se&&se.INTERRUPTED),ue=g(z,ce),Y,fe,H,le,de,ye,ge,je=function(He){return Y&&B(Y,"normal"),new O(!0,He)},Me=function(He){return ie?(b(He),Ae?ue(He[0],He[1],je):ue(He[0],He[1])):Ae?ue(He,je):ue(He)};if(pe)Y=$.iterator;else if(xe)Y=$;else{if(fe=N($),!fe)throw new M(w($)+" is not iterable");if(j(fe)){for(H=0,le=E($);le>H;H++)if(de=Me($[H]),de&&R(F,de))return de;return new O(!1)}Y=_($,fe)}for(ye=pe?$.next:Y.next;!(ge=v(ye,Y)).done;){try{de=Me(ge.value)}catch(He){B(Y,"throw",He)}if(typeof de=="object"&&de&&R(F,de))return de}return new O(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/iterator-close.js");A.exports=function(v,b,w){for(var j=v.length-1;j>=0;j--)if(v[j]!==void 0)try{w=g(v[j].iterator,b,w)}catch(E){b="throw",w=E}if(b==="throw")throw w;return w}}),"./node_modules/core-js/internals/iterator-close.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/an-object.js"),b=f("./node_modules/core-js/internals/get-method.js");A.exports=function(w,j,E){var R,_;v(w);try{if(R=b(w,"return"),!R){if(j==="throw")throw E;return E}R=g(R,w)}catch(N){_=!0,R=N}if(j==="throw")throw E;if(_)throw R;return v(R),E}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,v=f("./node_modules/core-js/internals/object-create.js"),b=f("./node_modules/core-js/internals/create-property-descriptor.js"),w=f("./node_modules/core-js/internals/set-to-string-tag.js"),j=f("./node_modules/core-js/internals/iterators.js"),E=function(){return this};A.exports=function(R,_,N,B){var M=_+" Iterator";return R.prototype=v(g,{next:b(+!B,N)}),w(R,M,!1,!0),j[M]=E,R}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/object-create.js"),b=f("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=f("./node_modules/core-js/internals/define-built-ins.js"),j=f("./node_modules/core-js/internals/well-known-symbol.js"),E=f("./node_modules/core-js/internals/internal-state.js"),R=f("./node_modules/core-js/internals/get-method.js"),_=f("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,N=f("./node_modules/core-js/internals/create-iter-result-object.js"),B=f("./node_modules/core-js/internals/iterator-close.js"),M=f("./node_modules/core-js/internals/iterator-close-all.js"),O=j("toStringTag"),F="IteratorHelper",$="WrapForValidIterator",z="normal",se="throw",ce=E.set,ie=function(Ae){var ue=E.getterFor(Ae?$:F);return w(v(_),{next:function(){var fe=ue(this);if(Ae)return fe.nextHandler();if(fe.done)return N(void 0,!0);try{var H=fe.nextHandler();return fe.returnHandlerResult?H:N(H,fe.done)}catch(le){throw fe.done=!0,le}},return:function(){var Y=ue(this),fe=Y.iterator;if(Y.done=!0,Ae){var H=R(fe,"return");return H?g(H,fe):N(void 0,!0)}if(Y.inner)try{B(Y.inner.iterator,z)}catch(le){return B(fe,se,le)}if(Y.openIters)try{M(Y.openIters,z)}catch(le){return B(fe,se,le)}return fe&&B(fe,z),N(void 0,!0)}})},pe=ie(!0),xe=ie(!1);b(xe,O,"Iterator Helper"),A.exports=function(Ae,ue,Y){var fe=function(le,de){de?(de.iterator=le.iterator,de.next=le.next):de=le,de.type=ue?$:F,de.returnHandlerResult=!!Y,de.nextHandler=Ae,de.counter=0,de.done=!1,ce(this,de)};return fe.prototype=ue?pe:xe,fe}}),"./node_modules/core-js/internals/iterator-define.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/is-pure.js"),w=f("./node_modules/core-js/internals/function-name.js"),j=f("./node_modules/core-js/internals/is-callable.js"),E=f("./node_modules/core-js/internals/iterator-create-constructor.js"),R=f("./node_modules/core-js/internals/object-get-prototype-of.js"),_=f("./node_modules/core-js/internals/object-set-prototype-of.js"),N=f("./node_modules/core-js/internals/set-to-string-tag.js"),B=f("./node_modules/core-js/internals/create-non-enumerable-property.js"),M=f("./node_modules/core-js/internals/define-built-in.js"),O=f("./node_modules/core-js/internals/well-known-symbol.js"),F=f("./node_modules/core-js/internals/iterators.js"),$=f("./node_modules/core-js/internals/iterators-core.js"),z=w.PROPER,se=w.CONFIGURABLE,ce=$.IteratorPrototype,ie=$.BUGGY_SAFARI_ITERATORS,pe=O("iterator"),xe="keys",Ae="values",ue="entries",Y=function(){return this};A.exports=function(fe,H,le,de,ye,ge,je){E(le,H,de);var Me=function(St){if(St===ye&&tt)return tt;if(!ie&&St&&St in ze)return ze[St];switch(St){case xe:return function(){return new le(this,St)};case Ae:return function(){return new le(this,St)};case ue:return function(){return new le(this,St)}}return function(){return new le(this)}},He=H+" Iterator",Qe=!1,ze=fe.prototype,Ve=ze[pe]||ze["@@iterator"]||ye&&ze[ye],tt=!ie&&Ve||Me(ye),nt=H==="Array"&&ze.entries||Ve,Ye,ut,mt;if(nt&&(Ye=R(nt.call(new fe)),Ye!==Object.prototype&&Ye.next&&(!b&&R(Ye)!==ce&&(_?_(Ye,ce):j(Ye[pe])||M(Ye,pe,Y)),N(Ye,He,!0,!0),b&&(F[He]=Y))),z&&ye===Ae&&Ve&&Ve.name!==Ae&&(!b&&se?B(ze,"name",Ae):(Qe=!0,tt=function(){return v(Ve,this)})),ye)if(ut={values:Me(Ae),keys:ge?tt:Me(xe),entries:Me(ue)},je)for(mt in ut)(ie||Qe||!(mt in ze))&&M(ze,mt,ut[mt]);else g({target:H,proto:!0,forced:ie||Qe},ut);return(!b||je)&&ze[pe]!==tt&&M(ze,pe,tt,{name:ye}),F[H]=tt,ut}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(A){A.exports=function(m,f){var g=typeof Iterator=="function"&&Iterator.prototype[m];if(g)try{g.call({next:null},f).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js");A.exports=function(v,b){var w=g.Iterator,j=w&&w.prototype,E=j&&j[v],R=!1;if(E)try{E.call({next:function(){return{done:!0}},return:function(){R=!0}},-1)}catch(_){_ instanceof b||(R=!1)}if(!R)return E}}),"./node_modules/core-js/internals/iterators-core.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=f("./node_modules/core-js/internals/is-object.js"),w=f("./node_modules/core-js/internals/object-create.js"),j=f("./node_modules/core-js/internals/object-get-prototype-of.js"),E=f("./node_modules/core-js/internals/define-built-in.js"),R=f("./node_modules/core-js/internals/well-known-symbol.js"),_=f("./node_modules/core-js/internals/is-pure.js"),N=R("iterator"),B=!1,M,O,F;[].keys&&(F=[].keys(),"next"in F?(O=j(j(F)),O!==Object.prototype&&(M=O)):B=!0);var $=!b(M)||g(function(){var z={};return M[N].call(z)!==z});$?M={}:_&&(M=w(M)),v(M[N])||E(M,N,function(){return this}),A.exports={IteratorPrototype:M,BUGGY_SAFARI_ITERATORS:B}}),"./node_modules/core-js/internals/iterators.js":(function(A){A.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-length.js");A.exports=function(v){return g(v.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/fails.js"),b=f("./node_modules/core-js/internals/is-callable.js"),w=f("./node_modules/core-js/internals/has-own-property.js"),j=f("./node_modules/core-js/internals/descriptors.js"),E=f("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,R=f("./node_modules/core-js/internals/inspect-source.js"),_=f("./node_modules/core-js/internals/internal-state.js"),N=_.enforce,B=_.get,M=String,O=Object.defineProperty,F=g("".slice),$=g("".replace),z=g([].join),se=j&&!v(function(){return O(function(){},"length",{value:8}).length!==8}),ce=String(String).split("String"),ie=A.exports=function(pe,xe,Ae){F(M(xe),0,7)==="Symbol("&&(xe="["+$(M(xe),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),Ae&&Ae.getter&&(xe="get "+xe),Ae&&Ae.setter&&(xe="set "+xe),(!w(pe,"name")||E&&pe.name!==xe)&&(j?O(pe,"name",{value:xe,configurable:!0}):pe.name=xe),se&&Ae&&w(Ae,"arity")&&pe.length!==Ae.arity&&O(pe,"length",{value:Ae.arity});try{Ae&&w(Ae,"constructor")&&Ae.constructor?j&&O(pe,"prototype",{writable:!1}):pe.prototype&&(pe.prototype=void 0)}catch{}var ue=N(pe);return w(ue,"source")||(ue.source=z(ce,typeof xe=="string"?xe:"")),pe};Function.prototype.toString=ie(function(){return b(this)&&B(this).source||R(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(A){var m=Math.ceil,f=Math.floor;A.exports=Math.trunc||function(v){var b=+v;return(b>0?f:m)(b)}}),"./node_modules/core-js/internals/microtask.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/safe-get-built-in.js"),b=f("./node_modules/core-js/internals/function-bind-context.js"),w=f("./node_modules/core-js/internals/task.js").set,j=f("./node_modules/core-js/internals/queue.js"),E=f("./node_modules/core-js/internals/environment-is-ios.js"),R=f("./node_modules/core-js/internals/environment-is-ios-pebble.js"),_=f("./node_modules/core-js/internals/environment-is-webos-webkit.js"),N=f("./node_modules/core-js/internals/environment-is-node.js"),B=g.MutationObserver||g.WebKitMutationObserver,M=g.document,O=g.process,F=g.Promise,$=v("queueMicrotask"),z,se,ce,ie,pe;if(!$){var xe=new j,Ae=function(){var ue,Y;for(N&&(ue=O.domain)&&ue.exit();Y=xe.get();)try{Y()}catch(fe){throw xe.head&&z(),fe}ue&&ue.enter()};!E&&!N&&!_&&B&&M?(se=!0,ce=M.createTextNode(""),new B(Ae).observe(ce,{characterData:!0}),z=function(){ce.data=se=!se}):!R&&F&&F.resolve?(ie=F.resolve(void 0),ie.constructor=F,pe=b(ie.then,ie),z=function(){pe(Ae)}):N?z=function(){O.nextTick(Ae)}:(w=b(w,g),z=function(){w(Ae)}),$=function(ue){xe.head||z(),xe.add(ue)}}A.exports=$}),"./node_modules/core-js/internals/native-raw-json.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=!g(function(){var v="9007199254740993",b=JSON.rawJSON(v);return!JSON.isRawJSON(b)||JSON.stringify(b)!==v})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-callable.js"),v=TypeError,b=function(w){var j,E;this.promise=new w(function(R,_){if(j!==void 0||E!==void 0)throw new v("Bad Promise constructor");j=R,E=_}),this.resolve=g(j),this.reject=g(E)};A.exports.f=function(w){return new b(w)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-regexp.js"),v=TypeError;A.exports=function(b){if(g(b))throw new v("The method doesn't accept regular expressions");return b}}),"./node_modules/core-js/internals/object-assign.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/function-call.js"),w=f("./node_modules/core-js/internals/fails.js"),j=f("./node_modules/core-js/internals/object-keys.js"),E=f("./node_modules/core-js/internals/object-get-own-property-symbols.js"),R=f("./node_modules/core-js/internals/object-property-is-enumerable.js"),_=f("./node_modules/core-js/internals/to-object.js"),N=f("./node_modules/core-js/internals/indexed-object.js"),B=Object.assign,M=Object.defineProperty,O=v([].concat);A.exports=!B||w(function(){if(g&&B({b:1},B(M({},"a",{enumerable:!0,get:function(){M(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var F={},$={},z=Symbol("assign detection"),se="abcdefghijklmnopqrst";return F[z]=7,se.split("").forEach(function(ce){$[ce]=ce}),B({},F)[z]!==7||j(B({},$)).join("")!==se})?function($,z){for(var se=_($),ce=arguments.length,ie=1,pe=E.f,xe=R.f;ce>ie;)for(var Ae=N(arguments[ie++]),ue=pe?O(j(Ae),pe(Ae)):j(Ae),Y=ue.length,fe=0,H;Y>fe;)H=ue[fe++],(!g||b(xe,Ae,H))&&(se[H]=Ae[H]);return se}:B}),"./node_modules/core-js/internals/object-create.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/an-object.js"),v=f("./node_modules/core-js/internals/object-define-properties.js"),b=f("./node_modules/core-js/internals/enum-bug-keys.js"),w=f("./node_modules/core-js/internals/hidden-keys.js"),j=f("./node_modules/core-js/internals/html.js"),E=f("./node_modules/core-js/internals/document-create-element.js"),R=f("./node_modules/core-js/internals/shared-key.js"),_=">",N="<",B="prototype",M="script",O=R("IE_PROTO"),F=function(){},$=function(pe){return N+M+_+pe+N+"/"+M+_},z=function(pe){pe.write($("")),pe.close();var xe=pe.parentWindow.Object;return pe=null,xe},se=function(){var pe=E("iframe"),xe="java"+M+":",Ae;return pe.style.display="none",j.appendChild(pe),pe.src=String(xe),Ae=pe.contentWindow.document,Ae.open(),Ae.write($("document.F=Object")),Ae.close(),Ae.F},ce,ie=function(){try{ce=new ActiveXObject("htmlfile")}catch{}ie=typeof document<"u"?document.domain&&ce?z(ce):se():z(ce);for(var pe=b.length;pe--;)delete ie[B][b[pe]];return ie()};w[O]=!0,A.exports=Object.create||function(xe,Ae){var ue;return xe!==null?(F[B]=g(xe),ue=new F,F[B]=null,ue[O]=xe):ue=ie(),Ae===void 0?ue:v.f(ue,Ae)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/v8-prototype-define-bug.js"),b=f("./node_modules/core-js/internals/object-define-property.js"),w=f("./node_modules/core-js/internals/an-object.js"),j=f("./node_modules/core-js/internals/to-indexed-object.js"),E=f("./node_modules/core-js/internals/object-keys.js");m.f=g&&!v?Object.defineProperties:function(_,N){w(_);for(var B=j(N),M=E(N),O=M.length,F=0,$;O>F;)b.f(_,$=M[F++],B[$]);return _}}),"./node_modules/core-js/internals/object-define-property.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/ie8-dom-define.js"),b=f("./node_modules/core-js/internals/v8-prototype-define-bug.js"),w=f("./node_modules/core-js/internals/an-object.js"),j=f("./node_modules/core-js/internals/to-property-key.js"),E=TypeError,R=Object.defineProperty,_=Object.getOwnPropertyDescriptor,N="enumerable",B="configurable",M="writable";m.f=g?b?function(F,$,z){if(w(F),$=j($),w(z),typeof F=="function"&&$==="prototype"&&"value"in z&&M in z&&!z[M]){var se=_(F,$);se&&se[M]&&(F[$]=z.value,z={configurable:B in z?z[B]:se[B],enumerable:N in z?z[N]:se[N],writable:!1})}return R(F,$,z)}:R:function(F,$,z){if(w(F),$=j($),w(z),v)try{return R(F,$,z)}catch{}if("get"in z||"set"in z)throw new E("Accessors not supported");return"value"in z&&(F[$]=z.value),F}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/object-property-is-enumerable.js"),w=f("./node_modules/core-js/internals/create-property-descriptor.js"),j=f("./node_modules/core-js/internals/to-indexed-object.js"),E=f("./node_modules/core-js/internals/to-property-key.js"),R=f("./node_modules/core-js/internals/has-own-property.js"),_=f("./node_modules/core-js/internals/ie8-dom-define.js"),N=Object.getOwnPropertyDescriptor;m.f=g?N:function(M,O){if(M=j(M),O=E(O),_)try{return N(M,O)}catch{}if(R(M,O))return w(!v(b.f,M,O),M[O])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/classof-raw.js"),v=f("./node_modules/core-js/internals/to-indexed-object.js"),b=f("./node_modules/core-js/internals/object-get-own-property-names.js").f,w=f("./node_modules/core-js/internals/array-slice.js"),j=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],E=function(R){try{return b(R)}catch{return w(j)}};A.exports.f=function(_){return j&&g(_)==="Window"?E(_):b(v(_))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/object-keys-internal.js"),v=f("./node_modules/core-js/internals/enum-bug-keys.js"),b=v.concat("length","prototype");m.f=Object.getOwnPropertyNames||function(j){return g(j,b)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(A,m){m.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/has-own-property.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=f("./node_modules/core-js/internals/to-object.js"),w=f("./node_modules/core-js/internals/shared-key.js"),j=f("./node_modules/core-js/internals/correct-prototype-getter.js"),E=w("IE_PROTO"),R=Object,_=R.prototype;A.exports=j?R.getPrototypeOf:function(N){var B=b(N);if(g(B,E))return B[E];var M=B.constructor;return v(M)&&B instanceof M?M.prototype:B instanceof R?_:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js"),v=f("./node_modules/core-js/internals/is-object.js"),b=f("./node_modules/core-js/internals/classof-raw.js"),w=f("./node_modules/core-js/internals/array-buffer-non-extensible.js"),j=Object.isExtensible,E=g(function(){});A.exports=E||w?function(_){return!v(_)||w&&b(_)==="ArrayBuffer"?!1:j?j(_):!0}:j}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js");A.exports=g({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/has-own-property.js"),b=f("./node_modules/core-js/internals/to-indexed-object.js"),w=f("./node_modules/core-js/internals/array-includes.js").indexOf,j=f("./node_modules/core-js/internals/hidden-keys.js"),E=g([].push);A.exports=function(R,_){var N=b(R),B=0,M=[],O;for(O in N)!v(j,O)&&v(N,O)&&E(M,O);for(;_.length>B;)v(N,O=_[B++])&&(~w(M,O)||E(M,O));return M}}),"./node_modules/core-js/internals/object-keys.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/object-keys-internal.js"),v=f("./node_modules/core-js/internals/enum-bug-keys.js");A.exports=Object.keys||function(w){return g(w,v)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(A,m){var f={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,v=g&&!f.call({1:2},1);m.f=v?function(w){var j=g(this,w);return!!j&&j.enumerable}:f}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=f("./node_modules/core-js/internals/is-object.js"),b=f("./node_modules/core-js/internals/require-object-coercible.js"),w=f("./node_modules/core-js/internals/a-possible-prototype.js");A.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var j=!1,E={},R;try{R=g(Object.prototype,"__proto__","set"),R(E,[]),j=E instanceof Array}catch{}return function(N,B){return b(N),w(B),v(N)&&(j?R(N,B):N.__proto__=B),N}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-string-tag-support.js"),v=f("./node_modules/core-js/internals/classof.js");A.exports=g?{}.toString:function(){return"[object "+v(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=f("./node_modules/core-js/internals/is-object.js"),w=TypeError;A.exports=function(j,E){var R,_;if(E==="string"&&v(R=j.toString)&&!b(_=g(R,j))||v(R=j.valueOf)&&!b(_=g(R,j))||E!=="string"&&v(R=j.toString)&&!b(_=g(R,j)))return _;throw new w("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/get-built-in.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/object-get-own-property-names.js"),w=f("./node_modules/core-js/internals/object-get-own-property-symbols.js"),j=f("./node_modules/core-js/internals/an-object.js"),E=v([].concat);A.exports=g("Reflect","ownKeys")||function(_){var N=b.f(j(_)),B=w.f;return B?E(N,B(_)):N}}),"./node_modules/core-js/internals/parse-json-string.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/has-own-property.js"),b=SyntaxError,w=parseInt,j=String.fromCharCode,E=g("".charAt),R=g("".slice),_=g(/./.exec),N={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},B=/^[\da-f]{4}$/i,M=/^[\u0000-\u001F]$/;A.exports=function(O,F){for(var $=!0,z="";F<O.length;){var se=E(O,F);if(se==="\\"){var ce=R(O,F,F+2);if(v(N,ce))z+=N[ce],F+=2;else if(ce==="\\u"){F+=2;var ie=R(O,F,F+4);if(!_(B,ie))throw new b("Bad Unicode escape at: "+F);z+=j(w(ie,16)),F+=4}else throw new b('Unknown escape sequence: "'+ce+'"')}else if(se==='"'){$=!1,F++;break}else{if(_(M,se))throw new b("Bad control character in string literal at: "+F);z+=se,F++}}if($)throw new b("Unterminated string at: "+F);return{value:z,end:F}}}),"./node_modules/core-js/internals/path.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js");A.exports=g}),"./node_modules/core-js/internals/perform.js":(function(A){A.exports=function(m){try{return{error:!1,value:m()}}catch(f){return{error:!0,value:f}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/promise-native-constructor.js"),b=f("./node_modules/core-js/internals/is-callable.js"),w=f("./node_modules/core-js/internals/is-forced.js"),j=f("./node_modules/core-js/internals/inspect-source.js"),E=f("./node_modules/core-js/internals/well-known-symbol.js"),R=f("./node_modules/core-js/internals/environment.js"),_=f("./node_modules/core-js/internals/is-pure.js"),N=f("./node_modules/core-js/internals/environment-v8-version.js"),B=v&&v.prototype,M=E("species"),O=!1,F=b(g.PromiseRejectionEvent),$=w("Promise",function(){var z=j(v),se=z!==String(v);if(!se&&N===66||_&&!(B.catch&&B.finally))return!0;if(!N||N<51||!/native code/.test(z)){var ce=new v(function(xe){xe(1)}),ie=function(xe){xe(function(){},function(){})},pe=ce.constructor={};if(pe[M]=ie,O=ce.then(function(){})instanceof ie,!O)return!0}return!se&&(R==="BROWSER"||R==="DENO")&&!F});A.exports={CONSTRUCTOR:$,REJECTION_EVENT:F,SUBCLASSING:O}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js");A.exports=g.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/an-object.js"),v=f("./node_modules/core-js/internals/is-object.js"),b=f("./node_modules/core-js/internals/new-promise-capability.js");A.exports=function(w,j){if(g(w),v(j)&&j.constructor===w)return j;var E=b.f(w),R=E.resolve;return R(j),E.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/promise-native-constructor.js"),v=f("./node_modules/core-js/internals/check-correctness-of-iteration.js"),b=f("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;A.exports=b||!v(function(w){g.all(w).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(A){var m=function(){this.head=null,this.tail=null};m.prototype={add:function(f){var g={item:f,next:null},v=this.tail;v?v.next=g:this.head=g,this.tail=g},get:function(){var f=this.head;if(f){var g=this.head=f.next;return g===null&&(this.tail=null),f.item}}},A.exports=m}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/an-object.js"),b=f("./node_modules/core-js/internals/is-callable.js"),w=f("./node_modules/core-js/internals/classof-raw.js"),j=f("./node_modules/core-js/internals/regexp-exec.js"),E=TypeError;A.exports=function(R,_){var N=R.exec;if(b(N)){var B=g(N,R,_);return B!==null&&v(B),B}if(w(R)==="RegExp")return g(j,R,_);throw new E("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/to-string.js"),w=f("./node_modules/core-js/internals/regexp-flags.js"),j=f("./node_modules/core-js/internals/regexp-sticky-helpers.js"),E=f("./node_modules/core-js/internals/shared.js"),R=f("./node_modules/core-js/internals/object-create.js"),_=f("./node_modules/core-js/internals/internal-state.js").get,N=f("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),B=f("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),M=E("native-string-replace",String.prototype.replace),O=RegExp.prototype.exec,F=O,$=v("".charAt),z=v("".indexOf),se=v("".replace),ce=v("".slice),ie=(function(){var ue=/a/,Y=/b*/g;return g(O,ue,"a"),g(O,Y,"a"),ue.lastIndex!==0||Y.lastIndex!==0})(),pe=j.BROKEN_CARET,xe=/()??/.exec("")[1]!==void 0,Ae=ie||xe||pe||N||B;Ae&&(F=function(Y){var fe=this,H=_(fe),le=b(Y),de=H.raw,ye,ge,je,Me,He,Qe,ze;if(de)return de.lastIndex=fe.lastIndex,ye=g(F,de,le),fe.lastIndex=de.lastIndex,ye;var Ve=H.groups,tt=pe&&fe.sticky,nt=g(w,fe),Ye=fe.source,ut=0,mt=le;if(tt&&(nt=se(nt,"y",""),z(nt,"g")===-1&&(nt+="g"),mt=ce(le,fe.lastIndex),fe.lastIndex>0&&(!fe.multiline||fe.multiline&&$(le,fe.lastIndex-1)!==`
`)&&(Ye="(?: "+Ye+")",mt=" "+mt,ut++),ge=new RegExp("^(?:"+Ye+")",nt)),xe&&(ge=new RegExp("^"+Ye+"$(?!\\s)",nt)),ie&&(je=fe.lastIndex),Me=g(O,tt?ge:fe,mt),tt?Me?(Me.input=ce(Me.input,ut),Me[0]=ce(Me[0],ut),Me.index=fe.lastIndex,fe.lastIndex+=Me[0].length):fe.lastIndex=0:ie&&Me&&(fe.lastIndex=fe.global?Me.index+Me[0].length:je),xe&&Me&&Me.length>1&&g(M,Me[0],ge,function(){for(He=1;He<arguments.length-2;He++)arguments[He]===void 0&&(Me[He]=void 0)}),Me&&Ve)for(Me.groups=Qe=R(null),He=0;He<Ve.length;He++)ze=Ve[He],Qe[ze[0]]=Me[ze[1]];return Me}),A.exports=F}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/fails.js"),b=g.RegExp,w=!v(function(){var j=!0;try{b(".","d")}catch{j=!1}var E={},R="",_=j?"dgimsy":"gimsy",N=function(F,$){Object.defineProperty(E,F,{get:function(){return R+=$,!0}})},B={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};j&&(B.hasIndices="d");for(var M in B)N(M,B[M]);var O=Object.getOwnPropertyDescriptor(b.prototype,"flags").get.call(E);return O!==_||R!==_});A.exports={correct:w}}),"./node_modules/core-js/internals/regexp-flags.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/an-object.js");A.exports=function(){var v=g(this),b="";return v.hasIndices&&(b+="d"),v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),v.dotAll&&(b+="s"),v.unicode&&(b+="u"),v.unicodeSets&&(b+="v"),v.sticky&&(b+="y"),b}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/has-own-property.js"),b=f("./node_modules/core-js/internals/object-is-prototype-of.js"),w=f("./node_modules/core-js/internals/regexp-flags-detection.js"),j=f("./node_modules/core-js/internals/regexp-flags.js"),E=RegExp.prototype;A.exports=w.correct?function(R){return R.flags}:function(R){return!w.correct&&b(E,R)&&!v(R,"flags")?g(j,R):R.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=v.RegExp,w=g(function(){var R=b("a","y");return R.lastIndex=2,R.exec("abcd")!==null}),j=w||g(function(){return!b("a","y").sticky}),E=w||g(function(){var R=b("^r","gy");return R.lastIndex=2,R.exec("str")!==null});A.exports={BROKEN_CARET:E,MISSED_STICKY:j,UNSUPPORTED_Y:w}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=v.RegExp;A.exports=g(function(){var w=b(".","s");return!(w.dotAll&&w.test(`
`)&&w.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=v.RegExp;A.exports=g(function(){var w=b("(?<a>b)","g");return w.exec("b").groups.a!=="b"||"b".replace(w,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-null-or-undefined.js"),v=TypeError;A.exports=function(b){if(g(b))throw new v("Can't call method on "+b);return b}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/descriptors.js"),b=Object.getOwnPropertyDescriptor;A.exports=function(w){if(!v)return g[w];var j=b(g,w);return j&&j.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/function-apply.js"),b=f("./node_modules/core-js/internals/is-callable.js"),w=f("./node_modules/core-js/internals/environment.js"),j=f("./node_modules/core-js/internals/environment-user-agent.js"),E=f("./node_modules/core-js/internals/array-slice.js"),R=f("./node_modules/core-js/internals/validate-arguments-length.js"),_=g.Function,N=/MSIE .\./.test(j)||w==="BUN"&&(function(){var B=g.Bun.version.split(".");return B.length<3||B[0]==="0"&&(B[1]<3||B[1]==="3"&&B[2]==="0")})();A.exports=function(B,M){var O=M?2:1;return N?function(F,$){var z=R(arguments.length,1)>O,se=b(F)?F:_(F),ce=z?E(arguments,O):[],ie=z?function(){v(se,this,ce)}:se;return M?B(ie,$):B(ie)}:B}}),"./node_modules/core-js/internals/set-clone.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/set-helpers.js"),v=f("./node_modules/core-js/internals/set-iterate.js"),b=g.Set,w=g.add;A.exports=function(j){var E=new b;return v(j,function(R){w(E,R)}),E}}),"./node_modules/core-js/internals/set-difference.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-set.js"),v=f("./node_modules/core-js/internals/set-helpers.js"),b=f("./node_modules/core-js/internals/set-clone.js"),w=f("./node_modules/core-js/internals/set-size.js"),j=f("./node_modules/core-js/internals/get-set-record.js"),E=f("./node_modules/core-js/internals/set-iterate.js"),R=f("./node_modules/core-js/internals/iterate-simple.js"),_=v.has,N=v.remove;A.exports=function(M){var O=g(this),F=j(M),$=b(O);return w(O)<=F.size?E(O,function(z){F.includes(z)&&N($,z)}):R(F.getIterator(),function(z){_($,z)&&N($,z)}),$}}),"./node_modules/core-js/internals/set-helpers.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=Set.prototype;A.exports={Set,add:g(v.add),has:g(v.has),remove:g(v.delete),proto:v}}),"./node_modules/core-js/internals/set-intersection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-set.js"),v=f("./node_modules/core-js/internals/set-helpers.js"),b=f("./node_modules/core-js/internals/set-size.js"),w=f("./node_modules/core-js/internals/get-set-record.js"),j=f("./node_modules/core-js/internals/set-iterate.js"),E=f("./node_modules/core-js/internals/iterate-simple.js"),R=v.Set,_=v.add,N=v.has;A.exports=function(M){var O=g(this),F=w(M),$=new R;return b(O)>F.size?E(F.getIterator(),function(z){N(O,z)&&_($,z)}):j(O,function(z){F.includes(z)&&_($,z)}),$}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-set.js"),v=f("./node_modules/core-js/internals/set-helpers.js").has,b=f("./node_modules/core-js/internals/set-size.js"),w=f("./node_modules/core-js/internals/get-set-record.js"),j=f("./node_modules/core-js/internals/set-iterate.js"),E=f("./node_modules/core-js/internals/iterate-simple.js"),R=f("./node_modules/core-js/internals/iterator-close.js");A.exports=function(N){var B=g(this),M=w(N);if(b(B)<=M.size)return j(B,function(F){if(M.includes(F))return!1},!0)!==!1;var O=M.getIterator();return E(O,function(F){if(v(B,F))return R(O,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-set.js"),v=f("./node_modules/core-js/internals/set-size.js"),b=f("./node_modules/core-js/internals/set-iterate.js"),w=f("./node_modules/core-js/internals/get-set-record.js");A.exports=function(E){var R=g(this),_=w(E);return v(R)>_.size?!1:b(R,function(N){if(!_.includes(N))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-set.js"),v=f("./node_modules/core-js/internals/set-helpers.js").has,b=f("./node_modules/core-js/internals/set-size.js"),w=f("./node_modules/core-js/internals/get-set-record.js"),j=f("./node_modules/core-js/internals/iterate-simple.js"),E=f("./node_modules/core-js/internals/iterator-close.js");A.exports=function(_){var N=g(this),B=w(_);if(b(N)<B.size)return!1;var M=B.getIterator();return j(M,function(O){if(!v(N,O))return E(M,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/iterate-simple.js"),b=f("./node_modules/core-js/internals/set-helpers.js"),w=b.Set,j=b.proto,E=g(j.forEach),R=g(j.keys),_=R(new w).next;A.exports=function(N,B,M){return M?v({iterator:R(N),next:_},B):E(N,B)}}),"./node_modules/core-js/internals/set-size.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=f("./node_modules/core-js/internals/set-helpers.js");A.exports=g(v.proto,"size","get")||function(b){return b.size}}),"./node_modules/core-js/internals/set-species.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/get-built-in.js"),v=f("./node_modules/core-js/internals/define-built-in-accessor.js"),b=f("./node_modules/core-js/internals/well-known-symbol.js"),w=f("./node_modules/core-js/internals/descriptors.js"),j=b("species");A.exports=function(E){var R=g(E);w&&R&&!R[j]&&v(R,j,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-set.js"),v=f("./node_modules/core-js/internals/set-helpers.js"),b=f("./node_modules/core-js/internals/set-clone.js"),w=f("./node_modules/core-js/internals/get-set-record.js"),j=f("./node_modules/core-js/internals/iterate-simple.js"),E=v.add,R=v.has,_=v.remove;A.exports=function(B){var M=g(this),O=w(B).getIterator(),F=b(M);return j(O,function($){R(M,$)?_(F,$):E(F,$)}),F}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/object-define-property.js").f,v=f("./node_modules/core-js/internals/has-own-property.js"),b=f("./node_modules/core-js/internals/well-known-symbol.js"),w=b("toStringTag");A.exports=function(j,E,R){j&&!R&&(j=j.prototype),j&&!v(j,w)&&g(j,w,{configurable:!0,value:E})}}),"./node_modules/core-js/internals/set-union.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/a-set.js"),v=f("./node_modules/core-js/internals/set-helpers.js").add,b=f("./node_modules/core-js/internals/set-clone.js"),w=f("./node_modules/core-js/internals/get-set-record.js"),j=f("./node_modules/core-js/internals/iterate-simple.js");A.exports=function(R){var _=g(this),N=w(R).getIterator(),B=b(_);return j(N,function(M){v(B,M)}),B}}),"./node_modules/core-js/internals/shared-key.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/shared.js"),v=f("./node_modules/core-js/internals/uid.js"),b=g("keys");A.exports=function(w){return b[w]||(b[w]=v(w))}}),"./node_modules/core-js/internals/shared-store.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/is-pure.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=f("./node_modules/core-js/internals/define-global-property.js"),w="__core-js_shared__",j=A.exports=v[w]||b(w,{});(j.versions||(j.versions=[])).push({version:"3.47.0",mode:g?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/shared-store.js");A.exports=function(v,b){return g[v]||(g[v]=b||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/an-object.js"),v=f("./node_modules/core-js/internals/a-constructor.js"),b=f("./node_modules/core-js/internals/is-null-or-undefined.js"),w=f("./node_modules/core-js/internals/well-known-symbol.js"),j=w("species");A.exports=function(E,R){var _=g(E).constructor,N;return _===void 0||b(N=g(_)[j])?R:v(N)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/fails.js");A.exports=function(v){return g(function(){var b=""[v]('"');return b!==b.toLowerCase()||b.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/to-integer-or-infinity.js"),b=f("./node_modules/core-js/internals/to-string.js"),w=f("./node_modules/core-js/internals/require-object-coercible.js"),j=g("".charAt),E=g("".charCodeAt),R=g("".slice),_=function(N){return function(B,M){var O=b(w(B)),F=v(M),$=O.length,z,se;return F<0||F>=$?N?"":void 0:(z=E(O,F),z<55296||z>56319||F+1===$||(se=E(O,F+1))<56320||se>57343?N?j(O,F):z:N?R(O,F,F+2):(z-55296<<10)+(se-56320)+65536)}};A.exports={codeAt:_(!1),charAt:_(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-name.js").PROPER,v=f("./node_modules/core-js/internals/fails.js"),b=f("./node_modules/core-js/internals/whitespaces.js"),w="â€‹Â…á Ž";A.exports=function(j){return v(function(){return!!b[j]()||w[j]()!==w||g&&b[j].name!==j})}}),"./node_modules/core-js/internals/string-trim.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=f("./node_modules/core-js/internals/require-object-coercible.js"),b=f("./node_modules/core-js/internals/to-string.js"),w=f("./node_modules/core-js/internals/whitespaces.js"),j=g("".replace),E=RegExp("^["+w+"]+"),R=RegExp("(^|[^"+w+"])["+w+"]+$"),_=function(N){return function(B){var M=b(v(B));return N&1&&(M=j(M,E,"")),N&2&&(M=j(M,R,"$1")),M}};A.exports={start:_(1),end:_(2),trim:_(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/environment-v8-version.js"),v=f("./node_modules/core-js/internals/fails.js"),b=f("./node_modules/core-js/internals/global-this.js"),w=b.String;A.exports=!!Object.getOwnPropertySymbols&&!v(function(){var j=Symbol("symbol detection");return!w(j)||!(Object(j)instanceof Symbol)||!Symbol.sham&&g&&g<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/get-built-in.js"),b=f("./node_modules/core-js/internals/well-known-symbol.js"),w=f("./node_modules/core-js/internals/define-built-in.js");A.exports=function(){var j=v("Symbol"),E=j&&j.prototype,R=E&&E.valueOf,_=b("toPrimitive");E&&!E[_]&&w(E,_,function(N){return g(R,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/symbol-constructor-detection.js");A.exports=g&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/function-apply.js"),b=f("./node_modules/core-js/internals/function-bind-context.js"),w=f("./node_modules/core-js/internals/is-callable.js"),j=f("./node_modules/core-js/internals/has-own-property.js"),E=f("./node_modules/core-js/internals/fails.js"),R=f("./node_modules/core-js/internals/html.js"),_=f("./node_modules/core-js/internals/array-slice.js"),N=f("./node_modules/core-js/internals/document-create-element.js"),B=f("./node_modules/core-js/internals/validate-arguments-length.js"),M=f("./node_modules/core-js/internals/environment-is-ios.js"),O=f("./node_modules/core-js/internals/environment-is-node.js"),F=g.setImmediate,$=g.clearImmediate,z=g.process,se=g.Dispatch,ce=g.Function,ie=g.MessageChannel,pe=g.String,xe=0,Ae={},ue="onreadystatechange",Y,fe,H,le;E(function(){Y=g.location});var de=function(Me){if(j(Ae,Me)){var He=Ae[Me];delete Ae[Me],He()}},ye=function(Me){return function(){de(Me)}},ge=function(Me){de(Me.data)},je=function(Me){g.postMessage(pe(Me),Y.protocol+"//"+Y.host)};(!F||!$)&&(F=function(He){B(arguments.length,1);var Qe=w(He)?He:ce(He),ze=_(arguments,1);return Ae[++xe]=function(){v(Qe,void 0,ze)},fe(xe),xe},$=function(He){delete Ae[He]},O?fe=function(Me){z.nextTick(ye(Me))}:se&&se.now?fe=function(Me){se.now(ye(Me))}:ie&&!M?(H=new ie,le=H.port2,H.port1.onmessage=ge,fe=b(le.postMessage,le)):g.addEventListener&&w(g.postMessage)&&!g.importScripts&&Y&&Y.protocol!=="file:"&&!E(je)?(fe=je,g.addEventListener("message",ge,!1)):ue in N("script")?fe=function(Me){R.appendChild(N("script"))[ue]=function(){R.removeChild(this),de(Me)}}:fe=function(Me){setTimeout(ye(Me),0)}),A.exports={set:F,clear:$}}),"./node_modules/core-js/internals/this-number-value.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js");A.exports=g(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.max,b=Math.min;A.exports=function(w,j){var E=g(w);return E<0?v(E+j,0):b(E,j)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/indexed-object.js"),v=f("./node_modules/core-js/internals/require-object-coercible.js");A.exports=function(b){return g(v(b))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/math-trunc.js");A.exports=function(v){var b=+v;return b!==b||b===0?0:g(b)}}),"./node_modules/core-js/internals/to-length.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.min;A.exports=function(b){var w=g(b);return w>0?v(w,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/require-object-coercible.js"),v=Object;A.exports=function(b){return v(g(b))}}),"./node_modules/core-js/internals/to-primitive.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/is-object.js"),b=f("./node_modules/core-js/internals/is-symbol.js"),w=f("./node_modules/core-js/internals/get-method.js"),j=f("./node_modules/core-js/internals/ordinary-to-primitive.js"),E=f("./node_modules/core-js/internals/well-known-symbol.js"),R=TypeError,_=E("toPrimitive");A.exports=function(N,B){if(!v(N)||b(N))return N;var M=w(N,_),O;if(M){if(B===void 0&&(B="default"),O=g(M,N,B),!v(O)||b(O))return O;throw new R("Can't convert object to primitive value")}return B===void 0&&(B="number"),j(N,B)}}),"./node_modules/core-js/internals/to-property-key.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-primitive.js"),v=f("./node_modules/core-js/internals/is-symbol.js");A.exports=function(b){var w=g(b,"string");return v(w)?w:w+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/get-built-in.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=f("./node_modules/core-js/internals/is-iterable.js"),w=f("./node_modules/core-js/internals/is-object.js"),j=g("Set"),E=function(R){return w(R)&&typeof R.size=="number"&&v(R.has)&&v(R.keys)};A.exports=function(R){return E(R)?R:b(R)?new j(R):R}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/well-known-symbol.js"),v=g("toStringTag"),b={};b[v]="z",A.exports=String(b)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/classof.js"),v=String;A.exports=function(b){if(g(b)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v(b)}}),"./node_modules/core-js/internals/try-to-string.js":(function(A){var m=String;A.exports=function(f){try{return m(f)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-uncurry-this.js"),v=0,b=Math.random(),w=g(1.1.toString);A.exports=function(j){return"Symbol("+(j===void 0?"":j)+")_"+w(++v+b,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/symbol-constructor-detection.js");A.exports=g&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/fails.js");A.exports=g&&v(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(A){var m=TypeError;A.exports=function(f,g){if(f<g)throw new m("Not enough arguments");return f}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/is-callable.js"),b=g.WeakMap;A.exports=v(b)&&/native code/.test(String(b))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/path.js"),v=f("./node_modules/core-js/internals/has-own-property.js"),b=f("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),w=f("./node_modules/core-js/internals/object-define-property.js").f;A.exports=function(j){var E=g.Symbol||(g.Symbol={});v(E,j)||w(E,j,{value:b.f(j)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/well-known-symbol.js");m.f=g}),"./node_modules/core-js/internals/well-known-symbol.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/shared.js"),b=f("./node_modules/core-js/internals/has-own-property.js"),w=f("./node_modules/core-js/internals/uid.js"),j=f("./node_modules/core-js/internals/symbol-constructor-detection.js"),E=f("./node_modules/core-js/internals/use-symbol-as-uid.js"),R=g.Symbol,_=v("wks"),N=E?R.for||R:R&&R.withoutSetter||w;A.exports=function(B){return b(_,B)||(_[B]=j&&b(R,B)?R[B]:N("Symbol."+B)),_[B]}}),"./node_modules/core-js/internals/whitespaces.js":(function(A){A.exports=`	
\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/fails.js"),b=f("./node_modules/core-js/internals/is-array.js"),w=f("./node_modules/core-js/internals/is-object.js"),j=f("./node_modules/core-js/internals/to-object.js"),E=f("./node_modules/core-js/internals/length-of-array-like.js"),R=f("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),_=f("./node_modules/core-js/internals/create-property.js"),N=f("./node_modules/core-js/internals/array-species-create.js"),B=f("./node_modules/core-js/internals/array-method-has-species-support.js"),M=f("./node_modules/core-js/internals/well-known-symbol.js"),O=f("./node_modules/core-js/internals/environment-v8-version.js"),F=M("isConcatSpreadable"),$=O>=51||!v(function(){var ce=[];return ce[F]=!1,ce.concat()[0]!==ce}),z=function(ce){if(!w(ce))return!1;var ie=ce[F];return ie!==void 0?!!ie:b(ce)},se=!$||!B("concat");g({target:"Array",proto:!0,arity:1,forced:se},{concat:function(ie){var pe=j(this),xe=N(pe,0),Ae=0,ue,Y,fe,H,le;for(ue=-1,fe=arguments.length;ue<fe;ue++)if(le=ue===-1?pe:arguments[ue],z(le))for(H=E(le),R(Ae+H),Y=0;Y<H;Y++,Ae++)Y in le&&_(xe,Ae,le[Y]);else R(Ae+1),_(xe,Ae++,le);return xe.length=Ae,xe}})}),"./node_modules/core-js/modules/es.array.from.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/array-from.js"),b=f("./node_modules/core-js/internals/check-correctness-of-iteration.js"),w=!b(function(j){Array.from(j)});g({target:"Array",stat:!0,forced:w},{from:v})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this-clause.js"),b=f("./node_modules/core-js/internals/array-includes.js").indexOf,w=f("./node_modules/core-js/internals/array-method-is-strict.js"),j=v([].indexOf),E=!!j&&1/j([1],1,-0)<0,R=E||!w("indexOf");g({target:"Array",proto:!0,forced:R},{indexOf:function(N){var B=arguments.length>1?arguments[1]:void 0;return E?j(this,N,B)||0:b(this,N,B)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-indexed-object.js"),v=f("./node_modules/core-js/internals/add-to-unscopables.js"),b=f("./node_modules/core-js/internals/iterators.js"),w=f("./node_modules/core-js/internals/internal-state.js"),j=f("./node_modules/core-js/internals/object-define-property.js").f,E=f("./node_modules/core-js/internals/iterator-define.js"),R=f("./node_modules/core-js/internals/create-iter-result-object.js"),_=f("./node_modules/core-js/internals/is-pure.js"),N=f("./node_modules/core-js/internals/descriptors.js"),B="Array Iterator",M=w.set,O=w.getterFor(B);A.exports=E(Array,"Array",function($,z){M(this,{type:B,target:g($),index:0,kind:z})},function(){var $=O(this),z=$.target,se=$.index++;if(!z||se>=z.length)return $.target=null,R(void 0,!0);switch($.kind){case"keys":return R(se,!1);case"values":return R(z[se],!1)}return R([se,z[se]],!1)},"values");var F=b.Arguments=b.Array;if(v("keys"),v("values"),v("entries"),!_&&N&&F.name!=="values")try{j(F,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/indexed-object.js"),w=f("./node_modules/core-js/internals/to-indexed-object.js"),j=f("./node_modules/core-js/internals/array-method-is-strict.js"),E=v([].join),R=b!==Object,_=R||!j("join",",");g({target:"Array",proto:!0,forced:_},{join:function(B){return E(w(this),B===void 0?",":B)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/array-iteration.js").map,b=f("./node_modules/core-js/internals/array-method-has-species-support.js"),w=b("map");g({target:"Array",proto:!0,forced:!w},{map:function(E){return v(this,E,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/array-reduce.js").left,b=f("./node_modules/core-js/internals/array-method-is-strict.js"),w=f("./node_modules/core-js/internals/environment-v8-version.js"),j=f("./node_modules/core-js/internals/environment-is-node.js"),E=!j&&w>79&&w<83,R=E||!b("reduce");g({target:"Array",proto:!0,forced:R},{reduce:function(N){var B=arguments.length;return v(this,N,B,B>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/is-array.js"),w=v([].reverse),j=[1,2];g({target:"Array",proto:!0,forced:String(j)===String(j.reverse())},{reverse:function(){return b(this)&&(this.length=this.length),w(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/is-array.js"),b=f("./node_modules/core-js/internals/is-constructor.js"),w=f("./node_modules/core-js/internals/is-object.js"),j=f("./node_modules/core-js/internals/to-absolute-index.js"),E=f("./node_modules/core-js/internals/length-of-array-like.js"),R=f("./node_modules/core-js/internals/to-indexed-object.js"),_=f("./node_modules/core-js/internals/create-property.js"),N=f("./node_modules/core-js/internals/well-known-symbol.js"),B=f("./node_modules/core-js/internals/array-method-has-species-support.js"),M=f("./node_modules/core-js/internals/array-slice.js"),O=B("slice"),F=N("species"),$=Array,z=Math.max;g({target:"Array",proto:!0,forced:!O},{slice:function(ce,ie){var pe=R(this),xe=E(pe),Ae=j(ce,xe),ue=j(ie===void 0?xe:ie,xe),Y,fe,H;if(v(pe)&&(Y=pe.constructor,b(Y)&&(Y===$||v(Y.prototype))?Y=void 0:w(Y)&&(Y=Y[F],Y===null&&(Y=void 0)),Y===$||Y===void 0))return M(pe,Ae,ue);for(fe=new(Y===void 0?$:Y)(z(ue-Ae,0)),H=0;Ae<ue;Ae++,H++)Ae in pe&&_(fe,H,pe[Ae]);return fe.length=H,fe}})}),"./node_modules/core-js/modules/es.function.name.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/descriptors.js"),v=f("./node_modules/core-js/internals/function-name.js").EXISTS,b=f("./node_modules/core-js/internals/function-uncurry-this.js"),w=f("./node_modules/core-js/internals/define-built-in-accessor.js"),j=Function.prototype,E=b(j.toString),R=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,_=b(R.exec),N="name";g&&!v&&w(j,N,{configurable:!0,get:function(){try{return _(R,E(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=f("./node_modules/core-js/internals/an-instance.js"),w=f("./node_modules/core-js/internals/an-object.js"),j=f("./node_modules/core-js/internals/is-callable.js"),E=f("./node_modules/core-js/internals/object-get-prototype-of.js"),R=f("./node_modules/core-js/internals/define-built-in-accessor.js"),_=f("./node_modules/core-js/internals/create-property.js"),N=f("./node_modules/core-js/internals/fails.js"),B=f("./node_modules/core-js/internals/has-own-property.js"),M=f("./node_modules/core-js/internals/well-known-symbol.js"),O=f("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,F=f("./node_modules/core-js/internals/descriptors.js"),$=f("./node_modules/core-js/internals/is-pure.js"),z="constructor",se="Iterator",ce=M("toStringTag"),ie=TypeError,pe=v[se],xe=$||!j(pe)||pe.prototype!==O||!N(function(){pe({})}),Ae=function(){if(b(this,O),E(this)===O)throw new ie("Abstract class Iterator not directly constructable")},ue=function(Y,fe){F?R(O,Y,{configurable:!0,get:function(){return fe},set:function(H){if(w(this),this===O)throw new ie("You can't redefine this property");B(this,Y)?this[Y]=H:_(this,Y,H)}}):O[Y]=fe};B(O,ce)||ue(ce,se),(xe||!B(O,z)||O[z]===Object)&&ue(z,Ae),Ae.prototype=O,g({global:!0,constructor:!0,forced:xe},{Iterator:Ae})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/iterate.js"),w=f("./node_modules/core-js/internals/a-callable.js"),j=f("./node_modules/core-js/internals/an-object.js"),E=f("./node_modules/core-js/internals/get-iterator-direct.js"),R=f("./node_modules/core-js/internals/iterator-close.js"),_=f("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),N=_("forEach",TypeError);g({target:"Iterator",proto:!0,real:!0,forced:N},{forEach:function(M){j(this);try{w(M)}catch($){R(this,"throw",$)}if(N)return v(N,this,M);var O=E(this),F=0;b(O,function($){M($,F++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/a-callable.js"),w=f("./node_modules/core-js/internals/an-object.js"),j=f("./node_modules/core-js/internals/get-iterator-direct.js"),E=f("./node_modules/core-js/internals/iterator-create-proxy.js"),R=f("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),_=f("./node_modules/core-js/internals/iterator-close.js"),N=f("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),B=f("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),M=f("./node_modules/core-js/internals/is-pure.js"),O=!M&&!N("map",function(){}),F=!M&&!O&&B("map",TypeError),$=M||O||F,z=E(function(){var se=this.iterator,ce=w(v(this.next,se)),ie=this.done=!!ce.done;if(!ie)return R(se,this.mapper,[ce.value,this.counter++],!0)});g({target:"Iterator",proto:!0,real:!0,forced:$},{map:function(ce){w(this);try{b(ce)}catch(ie){_(this,"throw",ie)}return F?v(F,this,ce):new z(j(this),{mapper:ce})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/get-built-in.js"),b=f("./node_modules/core-js/internals/function-apply.js"),w=f("./node_modules/core-js/internals/function-call.js"),j=f("./node_modules/core-js/internals/function-uncurry-this.js"),E=f("./node_modules/core-js/internals/fails.js"),R=f("./node_modules/core-js/internals/is-array.js"),_=f("./node_modules/core-js/internals/is-callable.js"),N=f("./node_modules/core-js/internals/is-raw-json.js"),B=f("./node_modules/core-js/internals/is-symbol.js"),M=f("./node_modules/core-js/internals/classof-raw.js"),O=f("./node_modules/core-js/internals/to-string.js"),F=f("./node_modules/core-js/internals/array-slice.js"),$=f("./node_modules/core-js/internals/parse-json-string.js"),z=f("./node_modules/core-js/internals/uid.js"),se=f("./node_modules/core-js/internals/symbol-constructor-detection.js"),ce=f("./node_modules/core-js/internals/native-raw-json.js"),ie=String,pe=v("JSON","stringify"),xe=j(/./.exec),Ae=j("".charAt),ue=j("".charCodeAt),Y=j("".replace),fe=j("".slice),H=j([].push),le=j(1.1.toString),de=/[\uD800-\uDFFF]/g,ye=/^[\uD800-\uDBFF]$/,ge=/^[\uDC00-\uDFFF]$/,je=z(),Me=je.length,He=!se||E(function(){var nt=v("Symbol")("stringify detection");return pe([nt])!=="[null]"||pe({a:nt})!=="{}"||pe(Object(nt))!=="{}"}),Qe=E(function(){return pe("\uDF06\uD834")!=='"\\udf06\\ud834"'||pe("\uDEAD")!=='"\\udead"'}),ze=He?function(nt,Ye){var ut=F(arguments),mt=tt(Ye);if(!(!_(mt)&&(nt===void 0||B(nt))))return ut[1]=function(St,or){if(_(mt)&&(or=w(mt,this,ie(St),or)),!B(or))return or},b(pe,null,ut)}:pe,Ve=function(nt,Ye,ut){var mt=Ae(ut,Ye-1),St=Ae(ut,Ye+1);return xe(ye,nt)&&!xe(ge,St)||xe(ge,nt)&&!xe(ye,mt)?"\\u"+le(ue(nt,0),16):nt},tt=function(nt){if(_(nt))return nt;if(R(nt)){for(var Ye=nt.length,ut=[],mt=0;mt<Ye;mt++){var St=nt[mt];typeof St=="string"?H(ut,St):(typeof St=="number"||M(St)==="Number"||M(St)==="String")&&H(ut,O(St))}var or=ut.length,Zt=!0;return function(Bt,ur){if(Zt)return Zt=!1,ur;if(R(this))return ur;for(var Nr=0;Nr<or;Nr++)if(ut[Nr]===Bt)return ur}}};pe&&g({target:"JSON",stat:!0,arity:3,forced:He||Qe||!ce},{stringify:function(Ye,ut,mt){var St=tt(ut),or=[],Zt=ze(Ye,function(wn,En){var en=_(St)?w(St,this,ie(wn),En):En;return!ce&&N(en)?je+(H(or,en.rawJSON)-1):en},mt);if(typeof Zt!="string"||(Qe&&(Zt=Y(Zt,de,Ve)),ce))return Zt;for(var Bt="",ur=Zt.length,Nr=0;Nr<ur;Nr++){var Qr=Ae(Zt,Nr);if(Qr==='"'){var $r=$(Zt,++Nr).end-1,on=fe(Zt,Nr,$r);Bt+=fe(on,0,Me)===je?or[fe(on,Me)]:'"'+on+'"',Nr=$r}else Bt+=Qr}return Bt}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/is-pure.js"),b=f("./node_modules/core-js/internals/descriptors.js"),w=f("./node_modules/core-js/internals/global-this.js"),j=f("./node_modules/core-js/internals/path.js"),E=f("./node_modules/core-js/internals/function-uncurry-this.js"),R=f("./node_modules/core-js/internals/is-forced.js"),_=f("./node_modules/core-js/internals/has-own-property.js"),N=f("./node_modules/core-js/internals/inherit-if-required.js"),B=f("./node_modules/core-js/internals/object-is-prototype-of.js"),M=f("./node_modules/core-js/internals/is-symbol.js"),O=f("./node_modules/core-js/internals/to-primitive.js"),F=f("./node_modules/core-js/internals/fails.js"),$=f("./node_modules/core-js/internals/object-get-own-property-names.js").f,z=f("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,se=f("./node_modules/core-js/internals/object-define-property.js").f,ce=f("./node_modules/core-js/internals/this-number-value.js"),ie=f("./node_modules/core-js/internals/string-trim.js").trim,pe="Number",xe=w[pe],Ae=j[pe],ue=xe.prototype,Y=w.TypeError,fe=E("".slice),H=E("".charCodeAt),le=function(He){var Qe=O(He,"number");return typeof Qe=="bigint"?Qe:de(Qe)},de=function(He){var Qe=O(He,"number"),ze,Ve,tt,nt,Ye,ut,mt,St;if(M(Qe))throw new Y("Cannot convert a Symbol value to a number");if(typeof Qe=="string"&&Qe.length>2){if(Qe=ie(Qe),ze=H(Qe,0),ze===43||ze===45){if(Ve=H(Qe,2),Ve===88||Ve===120)return NaN}else if(ze===48){switch(H(Qe,1)){case 66:case 98:tt=2,nt=49;break;case 79:case 111:tt=8,nt=55;break;default:return+Qe}for(Ye=fe(Qe,2),ut=Ye.length,mt=0;mt<ut;mt++)if(St=H(Ye,mt),St<48||St>nt)return NaN;return parseInt(Ye,tt)}}return+Qe},ye=R(pe,!xe(" 0o1")||!xe("0b1")||xe("+0x1")),ge=function(He){return B(ue,He)&&F(function(){ce(He)})},je=function(Qe){var ze=arguments.length<1?0:xe(le(Qe));return ge(this)?N(Object(ze),this,je):ze};je.prototype=ue,ye&&!v&&(ue.constructor=je),g({global:!0,constructor:!0,wrap:!0,forced:ye},{Number:je});var Me=function(He,Qe){for(var ze=b?$(Qe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ve=0,tt;ze.length>Ve;Ve++)_(Qe,tt=ze[Ve])&&!_(He,tt)&&se(He,tt,z(Qe,tt))};v&&Ae&&Me(j[pe],Ae),(ye||v)&&Me(j[pe],xe)}),"./node_modules/core-js/modules/es.object.assign.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/object-assign.js");g({target:"Object",stat:!0,arity:2,forced:Object.assign!==v},{assign:v})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/symbol-constructor-detection.js"),b=f("./node_modules/core-js/internals/fails.js"),w=f("./node_modules/core-js/internals/object-get-own-property-symbols.js"),j=f("./node_modules/core-js/internals/to-object.js"),E=!v||b(function(){w.f(1)});g({target:"Object",stat:!0,forced:E},{getOwnPropertySymbols:function(_){var N=w.f;return N?N(j(_)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/to-object.js"),b=f("./node_modules/core-js/internals/object-keys.js"),w=f("./node_modules/core-js/internals/fails.js"),j=w(function(){b(1)});g({target:"Object",stat:!0,forced:j},{keys:function(R){return b(v(R))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/to-string-tag-support.js"),v=f("./node_modules/core-js/internals/define-built-in.js"),b=f("./node_modules/core-js/internals/object-to-string.js");g||v(Object.prototype,"toString",b,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/a-callable.js"),w=f("./node_modules/core-js/internals/new-promise-capability.js"),j=f("./node_modules/core-js/internals/perform.js"),E=f("./node_modules/core-js/internals/iterate.js"),R=f("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");g({target:"Promise",stat:!0,forced:R},{all:function(N){var B=this,M=w.f(B),O=M.resolve,F=M.reject,$=j(function(){var z=b(B.resolve),se=[],ce=0,ie=1;E(N,function(pe){var xe=ce++,Ae=!1;ie++,v(z,B,pe).then(function(ue){Ae||(Ae=!0,se[xe]=ue,--ie||O(se))},F)}),--ie||O(se)});return $.error&&F($.value),M.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/is-pure.js"),b=f("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,w=f("./node_modules/core-js/internals/promise-native-constructor.js"),j=f("./node_modules/core-js/internals/get-built-in.js"),E=f("./node_modules/core-js/internals/is-callable.js"),R=f("./node_modules/core-js/internals/define-built-in.js"),_=w&&w.prototype;if(g({target:"Promise",proto:!0,forced:b,real:!0},{catch:function(B){return this.then(void 0,B)}}),!v&&E(w)){var N=j("Promise").prototype.catch;_.catch!==N&&R(_,"catch",N,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/is-pure.js"),b=f("./node_modules/core-js/internals/environment-is-node.js"),w=f("./node_modules/core-js/internals/global-this.js"),j=f("./node_modules/core-js/internals/path.js"),E=f("./node_modules/core-js/internals/function-call.js"),R=f("./node_modules/core-js/internals/define-built-in.js"),_=f("./node_modules/core-js/internals/object-set-prototype-of.js"),N=f("./node_modules/core-js/internals/set-to-string-tag.js"),B=f("./node_modules/core-js/internals/set-species.js"),M=f("./node_modules/core-js/internals/a-callable.js"),O=f("./node_modules/core-js/internals/is-callable.js"),F=f("./node_modules/core-js/internals/is-object.js"),$=f("./node_modules/core-js/internals/an-instance.js"),z=f("./node_modules/core-js/internals/species-constructor.js"),se=f("./node_modules/core-js/internals/task.js").set,ce=f("./node_modules/core-js/internals/microtask.js"),ie=f("./node_modules/core-js/internals/host-report-errors.js"),pe=f("./node_modules/core-js/internals/perform.js"),xe=f("./node_modules/core-js/internals/queue.js"),Ae=f("./node_modules/core-js/internals/internal-state.js"),ue=f("./node_modules/core-js/internals/promise-native-constructor.js"),Y=f("./node_modules/core-js/internals/promise-constructor-detection.js"),fe=f("./node_modules/core-js/internals/new-promise-capability.js"),H="Promise",le=Y.CONSTRUCTOR,de=Y.REJECTION_EVENT,ye=Y.SUBCLASSING,ge=Ae.getterFor(H),je=Ae.set,Me=ue&&ue.prototype,He=ue,Qe=Me,ze=w.TypeError,Ve=w.document,tt=w.process,nt=fe.f,Ye=nt,ut=!!(Ve&&Ve.createEvent&&w.dispatchEvent),mt="unhandledrejection",St="rejectionhandled",or=0,Zt=1,Bt=2,ur=1,Nr=2,Qr,$r,on,wn,En=function(Dt){var Tr;return F(Dt)&&O(Tr=Dt.then)?Tr:!1},en=function(Dt,Tr){var qr=Tr.value,Zr=Tr.state===Zt,jn=Zr?Dt.ok:Dt.fail,rn=Dt.resolve,Kn=Dt.reject,an=Dt.domain,Dr,Hn,Tn;try{jn?(Zr||(Tr.rejection===Nr&&tn(Tr),Tr.rejection=ur),jn===!0?Dr=qr:(an&&an.enter(),Dr=jn(qr),an&&(an.exit(),Tn=!0)),Dr===Dt.promise?Kn(new ze("Promise-chain cycle")):(Hn=En(Dr))?E(Hn,Dr,rn,Kn):rn(Dr)):Kn(qr)}catch(es){an&&!Tn&&an.exit(),Kn(es)}},Pt=function(Dt,Tr){Dt.notified||(Dt.notified=!0,ce(function(){for(var qr=Dt.reactions,Zr;Zr=qr.get();)en(Zr,Dt);Dt.notified=!1,Tr&&!Dt.rejection&&Xr(Dt)}))},ar=function(Dt,Tr,qr){var Zr,jn;ut?(Zr=Ve.createEvent("Event"),Zr.promise=Tr,Zr.reason=qr,Zr.initEvent(Dt,!1,!0),w.dispatchEvent(Zr)):Zr={promise:Tr,reason:qr},!de&&(jn=w["on"+Dt])?jn(Zr):Dt===mt&&ie("Unhandled promise rejection",qr)},Xr=function(Dt){E(se,w,function(){var Tr=Dt.facade,qr=Dt.value,Zr=Cn(Dt),jn;if(Zr&&(jn=pe(function(){b?tt.emit("unhandledRejection",qr,Tr):ar(mt,Tr,qr)}),Dt.rejection=b||Cn(Dt)?Nr:ur,jn.error))throw jn.value})},Cn=function(Dt){return Dt.rejection!==ur&&!Dt.parent},tn=function(Dt){E(se,w,function(){var Tr=Dt.facade;b?tt.emit("rejectionHandled",Tr):ar(St,Tr,Dt.value)})},vn=function(Dt,Tr,qr){return function(Zr){Dt(Tr,Zr,qr)}},bn=function(Dt,Tr,qr){Dt.done||(Dt.done=!0,qr&&(Dt=qr),Dt.value=Tr,Dt.state=Bt,Pt(Dt,!0))},Br=function(Dt,Tr,qr){if(!Dt.done){Dt.done=!0,qr&&(Dt=qr);try{if(Dt.facade===Tr)throw new ze("Promise can't be resolved itself");var Zr=En(Tr);Zr?ce(function(){var jn={done:!1};try{E(Zr,Tr,vn(Br,jn,Dt),vn(bn,jn,Dt))}catch(rn){bn(jn,rn,Dt)}}):(Dt.value=Tr,Dt.state=Zt,Pt(Dt,!1))}catch(jn){bn({done:!1},jn,Dt)}}};if(le&&(He=function(Tr){$(this,Qe),M(Tr),E(Qr,this);var qr=ge(this);try{Tr(vn(Br,qr),vn(bn,qr))}catch(Zr){bn(qr,Zr)}},Qe=He.prototype,Qr=function(Tr){je(this,{type:H,done:!1,notified:!1,parent:!1,reactions:new xe,rejection:!1,state:or,value:null})},Qr.prototype=R(Qe,"then",function(Tr,qr){var Zr=ge(this),jn=nt(z(this,He));return Zr.parent=!0,jn.ok=O(Tr)?Tr:!0,jn.fail=O(qr)&&qr,jn.domain=b?tt.domain:void 0,Zr.state===or?Zr.reactions.add(jn):ce(function(){en(jn,Zr)}),jn.promise}),$r=function(){var Dt=new Qr,Tr=ge(Dt);this.promise=Dt,this.resolve=vn(Br,Tr),this.reject=vn(bn,Tr)},fe.f=nt=function(Dt){return Dt===He||Dt===on?new $r(Dt):Ye(Dt)},!v&&O(ue)&&Me!==Object.prototype)){wn=Me.then,ye||R(Me,"then",function(Tr,qr){var Zr=this;return new He(function(jn,rn){E(wn,Zr,jn,rn)}).then(Tr,qr)},{unsafe:!0});try{delete Me.constructor}catch{}_&&_(Me,Qe)}g({global:!0,constructor:!0,wrap:!0,forced:le},{Promise:He}),on=j.Promise,N(He,H,!1,!0),B(H)}),"./node_modules/core-js/modules/es.promise.js":(function(A,m,f){f("./node_modules/core-js/modules/es.promise.constructor.js"),f("./node_modules/core-js/modules/es.promise.all.js"),f("./node_modules/core-js/modules/es.promise.catch.js"),f("./node_modules/core-js/modules/es.promise.race.js"),f("./node_modules/core-js/modules/es.promise.reject.js"),f("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/a-callable.js"),w=f("./node_modules/core-js/internals/new-promise-capability.js"),j=f("./node_modules/core-js/internals/perform.js"),E=f("./node_modules/core-js/internals/iterate.js"),R=f("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");g({target:"Promise",stat:!0,forced:R},{race:function(N){var B=this,M=w.f(B),O=M.reject,F=j(function(){var $=b(B.resolve);E(N,function(z){v($,B,z).then(M.resolve,O)})});return F.error&&O(F.value),M.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/new-promise-capability.js"),b=f("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;g({target:"Promise",stat:!0,forced:b},{reject:function(j){var E=v.f(this),R=E.reject;return R(j),E.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/get-built-in.js"),b=f("./node_modules/core-js/internals/is-pure.js"),w=f("./node_modules/core-js/internals/promise-native-constructor.js"),j=f("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,E=f("./node_modules/core-js/internals/promise-resolve.js"),R=v("Promise"),_=b&&!j;g({target:"Promise",stat:!0,forced:b||j},{resolve:function(B){return E(_&&this===R?w:this,B)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/regexp-exec.js");g({target:"RegExp",proto:!0,forced:/./.exec!==v},{exec:v})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(A,m,f){f("./node_modules/core-js/modules/es.regexp.exec.js");var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/is-callable.js"),w=f("./node_modules/core-js/internals/an-object.js"),j=f("./node_modules/core-js/internals/to-string.js"),E=(function(){var _=!1,N=/[ac]/;return N.exec=function(){return _=!0,/./.exec.apply(this,arguments)},N.test("abc")===!0&&_})(),R=/./.test;g({target:"RegExp",proto:!0,forced:!E},{test:function(_){var N=w(this),B=j(_),M=N.exec;if(!b(M))return v(R,N,B);var O=v(M,N,B);return O===null?!1:(w(O),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-name.js").PROPER,v=f("./node_modules/core-js/internals/define-built-in.js"),b=f("./node_modules/core-js/internals/an-object.js"),w=f("./node_modules/core-js/internals/to-string.js"),j=f("./node_modules/core-js/internals/fails.js"),E=f("./node_modules/core-js/internals/regexp-get-flags.js"),R="toString",_=RegExp.prototype,N=_[R],B=j(function(){return N.call({source:"a",flags:"b"})!=="/a/b"}),M=g&&N.name!==R;(B||M)&&v(_,R,function(){var F=b(this),$=w(F.source),z=w(E(F));return"/"+$+"/"+z},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/collection.js"),v=f("./node_modules/core-js/internals/collection-strong.js");g("Set",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},v)}),"./node_modules/core-js/modules/es.set.js":(function(A,m,f){f("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this-clause.js"),b=f("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,w=f("./node_modules/core-js/internals/to-length.js"),j=f("./node_modules/core-js/internals/to-string.js"),E=f("./node_modules/core-js/internals/not-a-regexp.js"),R=f("./node_modules/core-js/internals/require-object-coercible.js"),_=f("./node_modules/core-js/internals/correct-is-regexp-logic.js"),N=f("./node_modules/core-js/internals/is-pure.js"),B=v("".slice),M=Math.min,O=_("endsWith"),F=!N&&!O&&!!(function(){var $=b(String.prototype,"endsWith");return $&&!$.writable})();g({target:"String",proto:!0,forced:!F&&!O},{endsWith:function(z){var se=j(R(this));E(z);var ce=arguments.length>1?arguments[1]:void 0,ie=se.length,pe=ce===void 0?ie:M(w(ce),ie),xe=j(z);return B(se,pe-xe.length,pe)===xe}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/not-a-regexp.js"),w=f("./node_modules/core-js/internals/require-object-coercible.js"),j=f("./node_modules/core-js/internals/to-string.js"),E=f("./node_modules/core-js/internals/correct-is-regexp-logic.js"),R=v("".indexOf);g({target:"String",proto:!0,forced:!E("includes")},{includes:function(N){return!!~R(j(w(this)),j(b(N)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/string-multibyte.js").charAt,v=f("./node_modules/core-js/internals/to-string.js"),b=f("./node_modules/core-js/internals/internal-state.js"),w=f("./node_modules/core-js/internals/iterator-define.js"),j=f("./node_modules/core-js/internals/create-iter-result-object.js"),E="String Iterator",R=b.set,_=b.getterFor(E);w(String,"String",function(N){R(this,{type:E,string:v(N),index:0})},function(){var B=_(this),M=B.string,O=B.index,F;return O>=M.length?j(void 0,!0):(F=g(M,O),B.index+=F.length,j(F,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/create-html.js"),b=f("./node_modules/core-js/internals/string-html-forced.js");g({target:"String",proto:!0,forced:b("link")},{link:function(j){return v(this,"a","href",j)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),w=f("./node_modules/core-js/internals/an-object.js"),j=f("./node_modules/core-js/internals/is-object.js"),E=f("./node_modules/core-js/internals/to-length.js"),R=f("./node_modules/core-js/internals/to-string.js"),_=f("./node_modules/core-js/internals/require-object-coercible.js"),N=f("./node_modules/core-js/internals/get-method.js"),B=f("./node_modules/core-js/internals/advance-string-index.js"),M=f("./node_modules/core-js/internals/regexp-get-flags.js"),O=f("./node_modules/core-js/internals/regexp-exec-abstract.js"),F=v("".indexOf);b("match",function($,z,se){return[function(ie){var pe=_(this),xe=j(ie)?N(ie,$):void 0;return xe?g(xe,ie,pe):new RegExp(ie)[$](R(pe))},function(ce){var ie=w(this),pe=R(ce),xe=se(z,ie,pe);if(xe.done)return xe.value;var Ae=R(M(ie));if(F(Ae,"g")===-1)return O(ie,pe);var ue=F(Ae,"u")!==-1;ie.lastIndex=0;for(var Y=[],fe=0,H;(H=O(ie,pe))!==null;){var le=R(H[0]);Y[fe]=le,le===""&&(ie.lastIndex=B(pe,E(ie.lastIndex),ue)),fe++}return fe===0?null:Y}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-apply.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/function-uncurry-this.js"),w=f("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),j=f("./node_modules/core-js/internals/fails.js"),E=f("./node_modules/core-js/internals/an-object.js"),R=f("./node_modules/core-js/internals/is-callable.js"),_=f("./node_modules/core-js/internals/is-object.js"),N=f("./node_modules/core-js/internals/to-integer-or-infinity.js"),B=f("./node_modules/core-js/internals/to-length.js"),M=f("./node_modules/core-js/internals/to-string.js"),O=f("./node_modules/core-js/internals/require-object-coercible.js"),F=f("./node_modules/core-js/internals/advance-string-index.js"),$=f("./node_modules/core-js/internals/get-method.js"),z=f("./node_modules/core-js/internals/get-substitution.js"),se=f("./node_modules/core-js/internals/regexp-get-flags.js"),ce=f("./node_modules/core-js/internals/regexp-exec-abstract.js"),ie=f("./node_modules/core-js/internals/well-known-symbol.js"),pe=ie("replace"),xe=Math.max,Ae=Math.min,ue=b([].concat),Y=b([].push),fe=b("".indexOf),H=b("".slice),le=function(je){return je===void 0?je:String(je)},de=(function(){return"a".replace(/./,"$0")==="$0"})(),ye=(function(){return/./[pe]?/./[pe]("a","$0")==="":!1})(),ge=!j(function(){var je=/./;return je.exec=function(){var Me=[];return Me.groups={a:"7"},Me},"".replace(je,"$<a>")!=="7"});w("replace",function(je,Me,He){var Qe=ye?"$":"$0";return[function(Ve,tt){var nt=O(this),Ye=_(Ve)?$(Ve,pe):void 0;return Ye?v(Ye,Ve,nt,tt):v(Me,M(nt),Ve,tt)},function(ze,Ve){var tt=E(this),nt=M(ze);if(typeof Ve=="string"&&fe(Ve,Qe)===-1&&fe(Ve,"$<")===-1){var Ye=He(Me,tt,nt,Ve);if(Ye.done)return Ye.value}var ut=R(Ve);ut||(Ve=M(Ve));var mt=M(se(tt)),St=fe(mt,"g")!==-1,or;St&&(or=fe(mt,"u")!==-1,tt.lastIndex=0);for(var Zt=[],Bt;Bt=ce(tt,nt),!(Bt===null||(Y(Zt,Bt),!St));){var ur=M(Bt[0]);ur===""&&(tt.lastIndex=F(nt,B(tt.lastIndex),or))}for(var Nr="",Qr=0,$r=0;$r<Zt.length;$r++){Bt=Zt[$r];for(var on=M(Bt[0]),wn=xe(Ae(N(Bt.index),nt.length),0),En=[],en,Pt=1;Pt<Bt.length;Pt++)Y(En,le(Bt[Pt]));var ar=Bt.groups;if(ut){var Xr=ue([on],En,wn,nt);ar!==void 0&&Y(Xr,ar),en=M(g(Ve,void 0,Xr))}else en=z(on,nt,wn,En,ar,Ve);wn>=Qr&&(Nr+=H(nt,Qr,wn)+en,Qr=wn+on.length)}return Nr+H(nt,Qr)}]},!ge||!de||ye)}),"./node_modules/core-js/modules/es.string.split.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/function-call.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),w=f("./node_modules/core-js/internals/an-object.js"),j=f("./node_modules/core-js/internals/is-object.js"),E=f("./node_modules/core-js/internals/require-object-coercible.js"),R=f("./node_modules/core-js/internals/species-constructor.js"),_=f("./node_modules/core-js/internals/advance-string-index.js"),N=f("./node_modules/core-js/internals/to-length.js"),B=f("./node_modules/core-js/internals/to-string.js"),M=f("./node_modules/core-js/internals/get-method.js"),O=f("./node_modules/core-js/internals/regexp-exec-abstract.js"),F=f("./node_modules/core-js/internals/regexp-sticky-helpers.js"),$=f("./node_modules/core-js/internals/fails.js"),z=F.UNSUPPORTED_Y,se=4294967295,ce=Math.min,ie=v([].push),pe=v("".slice),xe=!$(function(){var ue=/(?:)/,Y=ue.exec;ue.exec=function(){return Y.apply(this,arguments)};var fe="ab".split(ue);return fe.length!==2||fe[0]!=="a"||fe[1]!=="b"}),Ae="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;b("split",function(ue,Y,fe){var H="0".split(void 0,0).length?function(le,de){return le===void 0&&de===0?[]:g(Y,this,le,de)}:Y;return[function(de,ye){var ge=E(this),je=j(de)?M(de,ue):void 0;return je?g(je,de,ge,ye):g(H,B(ge),de,ye)},function(le,de){var ye=w(this),ge=B(le);if(!Ae){var je=fe(H,ye,ge,de,H!==Y);if(je.done)return je.value}var Me=R(ye,RegExp),He=ye.unicode,Qe=(ye.ignoreCase?"i":"")+(ye.multiline?"m":"")+(ye.unicode?"u":"")+(z?"g":"y"),ze=new Me(z?"^(?:"+ye.source+")":ye,Qe),Ve=de===void 0?se:de>>>0;if(Ve===0)return[];if(ge.length===0)return O(ze,ge)===null?[ge]:[];for(var tt=0,nt=0,Ye=[];nt<ge.length;){ze.lastIndex=z?0:nt;var ut=O(ze,z?pe(ge,nt):ge),mt;if(ut===null||(mt=ce(N(ze.lastIndex+(z?nt:0)),ge.length))===tt)nt=_(ge,nt,He);else{if(ie(Ye,pe(ge,tt,nt)),Ye.length===Ve)return Ye;for(var St=1;St<=ut.length-1;St++)if(ie(Ye,ut[St]),Ye.length===Ve)return Ye;nt=tt=mt}}return ie(Ye,pe(ge,tt)),Ye}]},Ae||!xe,z)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this-clause.js"),b=f("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,w=f("./node_modules/core-js/internals/to-length.js"),j=f("./node_modules/core-js/internals/to-string.js"),E=f("./node_modules/core-js/internals/not-a-regexp.js"),R=f("./node_modules/core-js/internals/require-object-coercible.js"),_=f("./node_modules/core-js/internals/correct-is-regexp-logic.js"),N=f("./node_modules/core-js/internals/is-pure.js"),B=v("".slice),M=Math.min,O=_("startsWith"),F=!N&&!O&&!!(function(){var $=b(String.prototype,"startsWith");return $&&!$.writable})();g({target:"String",proto:!0,forced:!F&&!O},{startsWith:function(z){var se=j(R(this));E(z);var ce=w(M(arguments.length>1?arguments[1]:void 0,se.length)),ie=j(z);return B(se,ce,ce+ie.length)===ie}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/string-trim.js").trim,b=f("./node_modules/core-js/internals/string-trim-forced.js");g({target:"String",proto:!0,forced:b("trim")},{trim:function(){return v(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=f("./node_modules/core-js/internals/function-call.js"),w=f("./node_modules/core-js/internals/function-uncurry-this.js"),j=f("./node_modules/core-js/internals/is-pure.js"),E=f("./node_modules/core-js/internals/descriptors.js"),R=f("./node_modules/core-js/internals/symbol-constructor-detection.js"),_=f("./node_modules/core-js/internals/fails.js"),N=f("./node_modules/core-js/internals/has-own-property.js"),B=f("./node_modules/core-js/internals/object-is-prototype-of.js"),M=f("./node_modules/core-js/internals/an-object.js"),O=f("./node_modules/core-js/internals/to-indexed-object.js"),F=f("./node_modules/core-js/internals/to-property-key.js"),$=f("./node_modules/core-js/internals/to-string.js"),z=f("./node_modules/core-js/internals/create-property-descriptor.js"),se=f("./node_modules/core-js/internals/object-create.js"),ce=f("./node_modules/core-js/internals/object-keys.js"),ie=f("./node_modules/core-js/internals/object-get-own-property-names.js"),pe=f("./node_modules/core-js/internals/object-get-own-property-names-external.js"),xe=f("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ae=f("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),ue=f("./node_modules/core-js/internals/object-define-property.js"),Y=f("./node_modules/core-js/internals/object-define-properties.js"),fe=f("./node_modules/core-js/internals/object-property-is-enumerable.js"),H=f("./node_modules/core-js/internals/define-built-in.js"),le=f("./node_modules/core-js/internals/define-built-in-accessor.js"),de=f("./node_modules/core-js/internals/shared.js"),ye=f("./node_modules/core-js/internals/shared-key.js"),ge=f("./node_modules/core-js/internals/hidden-keys.js"),je=f("./node_modules/core-js/internals/uid.js"),Me=f("./node_modules/core-js/internals/well-known-symbol.js"),He=f("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Qe=f("./node_modules/core-js/internals/well-known-symbol-define.js"),ze=f("./node_modules/core-js/internals/symbol-define-to-primitive.js"),Ve=f("./node_modules/core-js/internals/set-to-string-tag.js"),tt=f("./node_modules/core-js/internals/internal-state.js"),nt=f("./node_modules/core-js/internals/array-iteration.js").forEach,Ye=ye("hidden"),ut="Symbol",mt="prototype",St=tt.set,or=tt.getterFor(ut),Zt=Object[mt],Bt=v.Symbol,ur=Bt&&Bt[mt],Nr=v.RangeError,Qr=v.TypeError,$r=v.QObject,on=Ae.f,wn=ue.f,En=pe.f,en=fe.f,Pt=w([].push),ar=de("symbols"),Xr=de("op-symbols"),Cn=de("wks"),tn=!$r||!$r[mt]||!$r[mt].findChild,vn=function(an,Dr,Hn){var Tn=on(Zt,Dr);Tn&&delete Zt[Dr],wn(an,Dr,Hn),Tn&&an!==Zt&&wn(Zt,Dr,Tn)},bn=E&&_(function(){return se(wn({},"a",{get:function(){return wn(this,"a",{value:7}).a}})).a!==7})?vn:wn,Br=function(an,Dr){var Hn=ar[an]=se(ur);return St(Hn,{type:ut,tag:an,description:Dr}),E||(Hn.description=Dr),Hn},Dt=function(Dr,Hn,Tn){Dr===Zt&&Dt(Xr,Hn,Tn),M(Dr);var es=F(Hn);return M(Tn),N(ar,es)?(Tn.enumerable?(N(Dr,Ye)&&Dr[Ye][es]&&(Dr[Ye][es]=!1),Tn=se(Tn,{enumerable:z(0,!1)})):(N(Dr,Ye)||wn(Dr,Ye,z(1,se(null))),Dr[Ye][es]=!0),bn(Dr,es,Tn)):wn(Dr,es,Tn)},Tr=function(Dr,Hn){M(Dr);var Tn=O(Hn),es=ce(Tn).concat(Kn(Tn));return nt(es,function(ps){(!E||b(Zr,Tn,ps))&&Dt(Dr,ps,Tn[ps])}),Dr},qr=function(Dr,Hn){return Hn===void 0?se(Dr):Tr(se(Dr),Hn)},Zr=function(Dr){var Hn=F(Dr),Tn=b(en,this,Hn);return this===Zt&&N(ar,Hn)&&!N(Xr,Hn)?!1:Tn||!N(this,Hn)||!N(ar,Hn)||N(this,Ye)&&this[Ye][Hn]?Tn:!0},jn=function(Dr,Hn){var Tn=O(Dr),es=F(Hn);if(!(Tn===Zt&&N(ar,es)&&!N(Xr,es))){var ps=on(Tn,es);return ps&&N(ar,es)&&!(N(Tn,Ye)&&Tn[Ye][es])&&(ps.enumerable=!0),ps}},rn=function(Dr){var Hn=En(O(Dr)),Tn=[];return nt(Hn,function(es){!N(ar,es)&&!N(ge,es)&&Pt(Tn,es)}),Tn},Kn=function(an){var Dr=an===Zt,Hn=En(Dr?Xr:O(an)),Tn=[];return nt(Hn,function(es){N(ar,es)&&(!Dr||N(Zt,es))&&Pt(Tn,ar[es])}),Tn};R||(Bt=function(){if(B(ur,this))throw new Qr("Symbol is not a constructor");var Dr=!arguments.length||arguments[0]===void 0?void 0:$(arguments[0]),Hn=je(Dr),Tn=function(es){var ps=this===void 0?v:this;ps===Zt&&b(Tn,Xr,es),N(ps,Ye)&&N(ps[Ye],Hn)&&(ps[Ye][Hn]=!1);var Ti=z(1,es);try{bn(ps,Hn,Ti)}catch(ui){if(!(ui instanceof Nr))throw ui;vn(ps,Hn,Ti)}};return E&&tn&&bn(Zt,Hn,{configurable:!0,set:Tn}),Br(Hn,Dr)},ur=Bt[mt],H(ur,"toString",function(){return or(this).tag}),H(Bt,"withoutSetter",function(an){return Br(je(an),an)}),fe.f=Zr,ue.f=Dt,Y.f=Tr,Ae.f=jn,ie.f=pe.f=rn,xe.f=Kn,He.f=function(an){return Br(Me(an),an)},E&&(le(ur,"description",{configurable:!0,get:function(){return or(this).description}}),j||H(Zt,"propertyIsEnumerable",Zr,{unsafe:!0}))),g({global:!0,constructor:!0,wrap:!0,forced:!R,sham:!R},{Symbol:Bt}),nt(ce(Cn),function(an){Qe(an)}),g({target:ut,stat:!0,forced:!R},{useSetter:function(){tn=!0},useSimple:function(){tn=!1}}),g({target:"Object",stat:!0,forced:!R,sham:!E},{create:qr,defineProperty:Dt,defineProperties:Tr,getOwnPropertyDescriptor:jn}),g({target:"Object",stat:!0,forced:!R},{getOwnPropertyNames:rn}),ze(),Ve(Bt,ut),ge[Ye]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/descriptors.js"),b=f("./node_modules/core-js/internals/global-this.js"),w=f("./node_modules/core-js/internals/function-uncurry-this.js"),j=f("./node_modules/core-js/internals/has-own-property.js"),E=f("./node_modules/core-js/internals/is-callable.js"),R=f("./node_modules/core-js/internals/object-is-prototype-of.js"),_=f("./node_modules/core-js/internals/to-string.js"),N=f("./node_modules/core-js/internals/define-built-in-accessor.js"),B=f("./node_modules/core-js/internals/copy-constructor-properties.js"),M=b.Symbol,O=M&&M.prototype;if(v&&E(M)&&(!("description"in O)||M().description!==void 0)){var F={},$=function(){var ue=arguments.length<1||arguments[0]===void 0?void 0:_(arguments[0]),Y=R(O,this)?new M(ue):ue===void 0?M():M(ue);return ue===""&&(F[Y]=!0),Y};B($,M),$.prototype=O,O.constructor=$;var z=String(M("description detection"))==="Symbol(description detection)",se=w(O.valueOf),ce=w(O.toString),ie=/^Symbol\((.*)\)[^)]+$/,pe=w("".replace),xe=w("".slice);N(O,"description",{configurable:!0,get:function(){var ue=se(this);if(j(F,ue))return"";var Y=ce(ue),fe=z?xe(Y,7,-1):pe(Y,ie,"$1");return fe===""?void 0:fe}}),g({global:!0,constructor:!0,forced:!0},{Symbol:$})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/get-built-in.js"),b=f("./node_modules/core-js/internals/has-own-property.js"),w=f("./node_modules/core-js/internals/to-string.js"),j=f("./node_modules/core-js/internals/shared.js"),E=f("./node_modules/core-js/internals/symbol-registry-detection.js"),R=j("string-to-symbol-registry"),_=j("symbol-to-string-registry");g({target:"Symbol",stat:!0,forced:!E},{for:function(N){var B=w(N);if(b(R,B))return R[B];var M=v("Symbol")(B);return R[B]=M,_[M]=B,M}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/well-known-symbol-define.js");g("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(A,m,f){f("./node_modules/core-js/modules/es.symbol.constructor.js"),f("./node_modules/core-js/modules/es.symbol.for.js"),f("./node_modules/core-js/modules/es.symbol.key-for.js"),f("./node_modules/core-js/modules/es.json.stringify.js"),f("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/has-own-property.js"),b=f("./node_modules/core-js/internals/is-symbol.js"),w=f("./node_modules/core-js/internals/try-to-string.js"),j=f("./node_modules/core-js/internals/shared.js"),E=f("./node_modules/core-js/internals/symbol-registry-detection.js"),R=j("symbol-to-string-registry");g({target:"Symbol",stat:!0,forced:!E},{keyFor:function(N){if(!b(N))throw new TypeError(w(N)+" is not a symbol");if(v(R,N))return R[N]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(A,m,f){f("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(A,m,f){f("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(A,m,f){f("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/a-set.js"),b=f("./node_modules/core-js/internals/set-helpers.js").add;g({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var j=v(this),E=0,R=arguments.length;E<R;E++)b(j,arguments[E]);return j}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/a-set.js"),b=f("./node_modules/core-js/internals/set-helpers.js").remove;g({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var j=v(this),E=!0,R,_=0,N=arguments.length;_<N;_++)R=b(j,arguments[_]),E=E&&R;return!!E}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-set-like.js"),w=f("./node_modules/core-js/internals/set-difference.js");g({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(E){return v(w,this,b(E))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-bind-context.js"),b=f("./node_modules/core-js/internals/a-set.js"),w=f("./node_modules/core-js/internals/set-iterate.js");g({target:"Set",proto:!0,real:!0,forced:!0},{every:function(E){var R=b(this),_=v(E,arguments.length>1?arguments[1]:void 0);return w(R,function(N){if(!_(N,N,R))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-bind-context.js"),b=f("./node_modules/core-js/internals/a-set.js"),w=f("./node_modules/core-js/internals/set-helpers.js"),j=f("./node_modules/core-js/internals/set-iterate.js"),E=w.Set,R=w.add;g({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(N){var B=b(this),M=v(N,arguments.length>1?arguments[1]:void 0),O=new E;return j(B,function(F){M(F,F,B)&&R(O,F)}),O}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-bind-context.js"),b=f("./node_modules/core-js/internals/a-set.js"),w=f("./node_modules/core-js/internals/set-iterate.js");g({target:"Set",proto:!0,real:!0,forced:!0},{find:function(E){var R=b(this),_=v(E,arguments.length>1?arguments[1]:void 0),N=w(R,function(B){if(_(B,B,R))return{value:B}},!0);return N&&N.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-set-like.js"),w=f("./node_modules/core-js/internals/set-intersection.js");g({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(E){return v(w,this,b(E))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-set-like.js"),w=f("./node_modules/core-js/internals/set-is-disjoint-from.js");g({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(E){return v(w,this,b(E))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-set-like.js"),w=f("./node_modules/core-js/internals/set-is-subset-of.js");g({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(E){return v(w,this,b(E))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-set-like.js"),w=f("./node_modules/core-js/internals/set-is-superset-of.js");g({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(E){return v(w,this,b(E))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-uncurry-this.js"),b=f("./node_modules/core-js/internals/a-set.js"),w=f("./node_modules/core-js/internals/set-iterate.js"),j=f("./node_modules/core-js/internals/to-string.js"),E=v([].join),R=v([].push);g({target:"Set",proto:!0,real:!0,forced:!0},{join:function(N){var B=b(this),M=N===void 0?",":j(N),O=[];return w(B,function(F){R(O,F)}),E(O,M)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-bind-context.js"),b=f("./node_modules/core-js/internals/a-set.js"),w=f("./node_modules/core-js/internals/set-helpers.js"),j=f("./node_modules/core-js/internals/set-iterate.js"),E=w.Set,R=w.add;g({target:"Set",proto:!0,real:!0,forced:!0},{map:function(N){var B=b(this),M=v(N,arguments.length>1?arguments[1]:void 0),O=new E;return j(B,function(F){R(O,M(F,F,B))}),O}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/a-callable.js"),b=f("./node_modules/core-js/internals/a-set.js"),w=f("./node_modules/core-js/internals/set-iterate.js"),j=TypeError;g({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(R){var _=b(this),N=arguments.length<2,B=N?void 0:arguments[1];if(v(R),w(_,function(M){N?(N=!1,B=M):B=R(B,M,M,_)}),N)throw new j("Reduce of empty set with no initial value");return B}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-bind-context.js"),b=f("./node_modules/core-js/internals/a-set.js"),w=f("./node_modules/core-js/internals/set-iterate.js");g({target:"Set",proto:!0,real:!0,forced:!0},{some:function(E){var R=b(this),_=v(E,arguments.length>1?arguments[1]:void 0);return w(R,function(N){if(_(N,N,R))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-set-like.js"),w=f("./node_modules/core-js/internals/set-symmetric-difference.js");g({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(E){return v(w,this,b(E))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/function-call.js"),b=f("./node_modules/core-js/internals/to-set-like.js"),w=f("./node_modules/core-js/internals/set-union.js");g({target:"Set",proto:!0,real:!0,forced:!0},{union:function(E){return v(w,this,b(E))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/dom-iterables.js"),b=f("./node_modules/core-js/internals/dom-token-list-prototype.js"),w=f("./node_modules/core-js/internals/array-for-each.js"),j=f("./node_modules/core-js/internals/create-non-enumerable-property.js"),E=function(_){if(_&&_.forEach!==w)try{j(_,"forEach",w)}catch{_.forEach=w}};for(var R in v)v[R]&&E(g[R]&&g[R].prototype);E(b)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/global-this.js"),v=f("./node_modules/core-js/internals/dom-iterables.js"),b=f("./node_modules/core-js/internals/dom-token-list-prototype.js"),w=f("./node_modules/core-js/modules/es.array.iterator.js"),j=f("./node_modules/core-js/internals/create-non-enumerable-property.js"),E=f("./node_modules/core-js/internals/set-to-string-tag.js"),R=f("./node_modules/core-js/internals/well-known-symbol.js"),_=R("iterator"),N=w.values,B=function(O,F){if(O){if(O[_]!==N)try{j(O,_,N)}catch{O[_]=N}if(E(O,F,!0),v[F]){for(var $ in w)if(O[$]!==w[$])try{j(O,$,w[$])}catch{O[$]=w[$]}}}};for(var M in v)B(g[M]&&g[M].prototype,M);B(b,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=f("./node_modules/core-js/internals/schedulers-fix.js"),w=b(v.setInterval,!0);g({global:!0,bind:!0,forced:v.setInterval!==w},{setInterval:w})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(A,m,f){var g=f("./node_modules/core-js/internals/export.js"),v=f("./node_modules/core-js/internals/global-this.js"),b=f("./node_modules/core-js/internals/schedulers-fix.js"),w=b(v.setTimeout,!0);g({global:!0,bind:!0,forced:v.setTimeout!==w},{setTimeout:w})}),"./node_modules/core-js/modules/web.timers.js":(function(A,m,f){f("./node_modules/core-js/modules/web.set-interval.js"),f("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(A,m,f){f.r(m),f.d(m,{default:function(){return vn}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:g,setPrototypeOf:v,isFrozen:b,getPrototypeOf:w,getOwnPropertyDescriptor:j}=Object;let{freeze:E,seal:R,create:_}=Object,{apply:N,construct:B}=typeof Reflect<"u"&&Reflect;E||(E=function(Br){return Br}),R||(R=function(Br){return Br}),N||(N=function(Br,Dt){for(var Tr=arguments.length,qr=new Array(Tr>2?Tr-2:0),Zr=2;Zr<Tr;Zr++)qr[Zr-2]=arguments[Zr];return Br.apply(Dt,qr)}),B||(B=function(Br){for(var Dt=arguments.length,Tr=new Array(Dt>1?Dt-1:0),qr=1;qr<Dt;qr++)Tr[qr-1]=arguments[qr];return new Br(...Tr)});const M=H(Array.prototype.forEach),O=H(Array.prototype.lastIndexOf),F=H(Array.prototype.pop),$=H(Array.prototype.push),z=H(Array.prototype.splice),se=H(String.prototype.toLowerCase),ce=H(String.prototype.toString),ie=H(String.prototype.match),pe=H(String.prototype.replace),xe=H(String.prototype.indexOf),Ae=H(String.prototype.trim),ue=H(Object.prototype.hasOwnProperty),Y=H(RegExp.prototype.test),fe=le(TypeError);function H(bn){return function(Br){Br instanceof RegExp&&(Br.lastIndex=0);for(var Dt=arguments.length,Tr=new Array(Dt>1?Dt-1:0),qr=1;qr<Dt;qr++)Tr[qr-1]=arguments[qr];return N(bn,Br,Tr)}}function le(bn){return function(){for(var Br=arguments.length,Dt=new Array(Br),Tr=0;Tr<Br;Tr++)Dt[Tr]=arguments[Tr];return B(bn,Dt)}}function de(bn,Br){let Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se;v&&v(bn,null);let Tr=Br.length;for(;Tr--;){let qr=Br[Tr];if(typeof qr=="string"){const Zr=Dt(qr);Zr!==qr&&(b(Br)||(Br[Tr]=Zr),qr=Zr)}bn[qr]=!0}return bn}function ye(bn){for(let Br=0;Br<bn.length;Br++)ue(bn,Br)||(bn[Br]=null);return bn}function ge(bn){const Br=_(null);for(const[Dt,Tr]of g(bn))ue(bn,Dt)&&(Array.isArray(Tr)?Br[Dt]=ye(Tr):Tr&&typeof Tr=="object"&&Tr.constructor===Object?Br[Dt]=ge(Tr):Br[Dt]=Tr);return Br}function je(bn,Br){for(;bn!==null;){const Tr=j(bn,Br);if(Tr){if(Tr.get)return H(Tr.get);if(typeof Tr.value=="function")return H(Tr.value)}bn=w(bn)}function Dt(){return null}return Dt}const Me=E(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),He=E(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qe=E(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ze=E(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ve=E(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tt=E(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nt=E(["#text"]),Ye=E(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ut=E(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mt=E(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),St=E(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),or=R(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zt=R(/<%[\w\W]*|[\w\W]*%>/gm),Bt=R(/\$\{[\w\W]*/gm),ur=R(/^data-[\-\w.\u00B7-\uFFFF]+$/),Nr=R(/^aria-[\-\w]+$/),Qr=R(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$r=R(/^(?:\w+script|data):/i),on=R(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wn=R(/^html$/i),En=R(/^[a-z][.\w]*(-[.\w]+)+$/i);var en=Object.freeze({__proto__:null,ARIA_ATTR:Nr,ATTR_WHITESPACE:on,CUSTOM_ELEMENT:En,DATA_ATTR:ur,DOCTYPE_NAME:wn,ERB_EXPR:Zt,IS_ALLOWED_URI:Qr,IS_SCRIPT_OR_DATA:$r,MUSTACHE_EXPR:or,TMPLIT_EXPR:Bt});const Pt={element:1,text:3,progressingInstruction:7,comment:8,document:9},ar=function(){return typeof window>"u"?null:window},Xr=function(Br,Dt){if(typeof Br!="object"||typeof Br.createPolicy!="function")return null;let Tr=null;const qr="data-tt-policy-suffix";Dt&&Dt.hasAttribute(qr)&&(Tr=Dt.getAttribute(qr));const Zr="dompurify"+(Tr?"#"+Tr:"");try{return Br.createPolicy(Zr,{createHTML(jn){return jn},createScriptURL(jn){return jn}})}catch{return console.warn("TrustedTypes policy "+Zr+" could not be created."),null}},Cn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function tn(){let bn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ar();const Br=Ft=>tn(Ft);if(Br.version="3.3.1",Br.removed=[],!bn||!bn.document||bn.document.nodeType!==Pt.document||!bn.Element)return Br.isSupported=!1,Br;let{document:Dt}=bn;const Tr=Dt,qr=Tr.currentScript,{DocumentFragment:Zr,HTMLTemplateElement:jn,Node:rn,Element:Kn,NodeFilter:an,NamedNodeMap:Dr=bn.NamedNodeMap||bn.MozNamedAttrMap,HTMLFormElement:Hn,DOMParser:Tn,trustedTypes:es}=bn,ps=Kn.prototype,Ti=je(ps,"cloneNode"),ui=je(ps,"remove"),vi=je(ps,"nextSibling"),fs=je(ps,"childNodes"),Sn=je(ps,"parentNode");if(typeof jn=="function"){const Ft=Dt.createElement("template");Ft.content&&Ft.content.ownerDocument&&(Dt=Ft.content.ownerDocument)}let Vs,zi="";const{implementation:zn,createNodeIterator:wi,createDocumentFragment:mi,getElementsByTagName:gi}=Dt,{importNode:Ni}=Tr;let Hs=Cn();Br.isSupported=typeof g=="function"&&typeof Sn=="function"&&zn&&zn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Xi,ERB_EXPR:Bs,TMPLIT_EXPR:Gi,DATA_ATTR:Ss,ARIA_ATTR:La,IS_SCRIPT_OR_DATA:Qi,ATTR_WHITESPACE:Pi,CUSTOM_ELEMENT:Ot}=en;let{IS_ALLOWED_URI:sn}=en,mn=null;const ji=de({},[...Me,...He,...Qe,...Ve,...nt]);let As=null;const Ji=de({},[...Ye,...ut,...mt,...St]);let si=Object.seal(_(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ra=null,aa=null;const wa=Object.seal(_(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let oa=!0,Gt=!0,Ar=!1,hn=!0,Yr=!1,Gs=!0,Xs=!1,Si=!1,$s=!1,Wn=!1,Ks=!1,xi=!1,Cs=!0,yi=!1;const Js="user-content-";let fa=!0,ki=!1,Bi={},Ki=null;const za=de({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let _s=null;const Zi=de({},["audio","video","img","source","image","track"]);let ra=null;const Ta=de({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ea="http://www.w3.org/1998/Math/MathML",Qa="http://www.w3.org/2000/svg",Wt="http://www.w3.org/1999/xhtml";let ne=Wt,Ee=!1,Se=null;const J=de({},[Ea,Qa,Wt],ce);let ee=de({},["mi","mo","mn","ms","mtext"]),be=de({},["annotation-xml"]);const ke=de({},["title","style","font","a","script"]);let Le=null;const Ze=["application/xhtml+xml","text/html"],ht="text/html";let V=null,U=null;const W=Dt.createElement("form"),ae=function(it){return it instanceof RegExp||it instanceof Function},me=function(){let it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(U&&U===it)){if((!it||typeof it!="object")&&(it={}),it=ge(it),Le=Ze.indexOf(it.PARSER_MEDIA_TYPE)===-1?ht:it.PARSER_MEDIA_TYPE,V=Le==="application/xhtml+xml"?ce:se,mn=ue(it,"ALLOWED_TAGS")?de({},it.ALLOWED_TAGS,V):ji,As=ue(it,"ALLOWED_ATTR")?de({},it.ALLOWED_ATTR,V):Ji,Se=ue(it,"ALLOWED_NAMESPACES")?de({},it.ALLOWED_NAMESPACES,ce):J,ra=ue(it,"ADD_URI_SAFE_ATTR")?de(ge(Ta),it.ADD_URI_SAFE_ATTR,V):Ta,_s=ue(it,"ADD_DATA_URI_TAGS")?de(ge(Zi),it.ADD_DATA_URI_TAGS,V):Zi,Ki=ue(it,"FORBID_CONTENTS")?de({},it.FORBID_CONTENTS,V):za,Ra=ue(it,"FORBID_TAGS")?de({},it.FORBID_TAGS,V):ge({}),aa=ue(it,"FORBID_ATTR")?de({},it.FORBID_ATTR,V):ge({}),Bi=ue(it,"USE_PROFILES")?it.USE_PROFILES:!1,oa=it.ALLOW_ARIA_ATTR!==!1,Gt=it.ALLOW_DATA_ATTR!==!1,Ar=it.ALLOW_UNKNOWN_PROTOCOLS||!1,hn=it.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Yr=it.SAFE_FOR_TEMPLATES||!1,Gs=it.SAFE_FOR_XML!==!1,Xs=it.WHOLE_DOCUMENT||!1,Wn=it.RETURN_DOM||!1,Ks=it.RETURN_DOM_FRAGMENT||!1,xi=it.RETURN_TRUSTED_TYPE||!1,$s=it.FORCE_BODY||!1,Cs=it.SANITIZE_DOM!==!1,yi=it.SANITIZE_NAMED_PROPS||!1,fa=it.KEEP_CONTENT!==!1,ki=it.IN_PLACE||!1,sn=it.ALLOWED_URI_REGEXP||Qr,ne=it.NAMESPACE||Wt,ee=it.MATHML_TEXT_INTEGRATION_POINTS||ee,be=it.HTML_INTEGRATION_POINTS||be,si=it.CUSTOM_ELEMENT_HANDLING||{},it.CUSTOM_ELEMENT_HANDLING&&ae(it.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(si.tagNameCheck=it.CUSTOM_ELEMENT_HANDLING.tagNameCheck),it.CUSTOM_ELEMENT_HANDLING&&ae(it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(si.attributeNameCheck=it.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),it.CUSTOM_ELEMENT_HANDLING&&typeof it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(si.allowCustomizedBuiltInElements=it.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Yr&&(Gt=!1),Ks&&(Wn=!0),Bi&&(mn=de({},nt),As=[],Bi.html===!0&&(de(mn,Me),de(As,Ye)),Bi.svg===!0&&(de(mn,He),de(As,ut),de(As,St)),Bi.svgFilters===!0&&(de(mn,Qe),de(As,ut),de(As,St)),Bi.mathMl===!0&&(de(mn,Ve),de(As,mt),de(As,St))),it.ADD_TAGS&&(typeof it.ADD_TAGS=="function"?wa.tagCheck=it.ADD_TAGS:(mn===ji&&(mn=ge(mn)),de(mn,it.ADD_TAGS,V))),it.ADD_ATTR&&(typeof it.ADD_ATTR=="function"?wa.attributeCheck=it.ADD_ATTR:(As===Ji&&(As=ge(As)),de(As,it.ADD_ATTR,V))),it.ADD_URI_SAFE_ATTR&&de(ra,it.ADD_URI_SAFE_ATTR,V),it.FORBID_CONTENTS&&(Ki===za&&(Ki=ge(Ki)),de(Ki,it.FORBID_CONTENTS,V)),it.ADD_FORBID_CONTENTS&&(Ki===za&&(Ki=ge(Ki)),de(Ki,it.ADD_FORBID_CONTENTS,V)),fa&&(mn["#text"]=!0),Xs&&de(mn,["html","head","body"]),mn.table&&(de(mn,["tbody"]),delete Ra.tbody),it.TRUSTED_TYPES_POLICY){if(typeof it.TRUSTED_TYPES_POLICY.createHTML!="function")throw fe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof it.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Vs=it.TRUSTED_TYPES_POLICY,zi=Vs.createHTML("")}else Vs===void 0&&(Vs=Xr(es,qr)),Vs!==null&&typeof zi=="string"&&(zi=Vs.createHTML(""));E&&E(it),U=it}},we=de({},[...He,...Qe,...ze]),Be=de({},[...Ve,...tt]),Re=function(it){let Yt=Sn(it);(!Yt||!Yt.tagName)&&(Yt={namespaceURI:ne,tagName:"template"});const Er=se(it.tagName),lr=se(Yt.tagName);return Se[it.namespaceURI]?it.namespaceURI===Qa?Yt.namespaceURI===Wt?Er==="svg":Yt.namespaceURI===Ea?Er==="svg"&&(lr==="annotation-xml"||ee[lr]):!!we[Er]:it.namespaceURI===Ea?Yt.namespaceURI===Wt?Er==="math":Yt.namespaceURI===Qa?Er==="math"&&be[lr]:!!Be[Er]:it.namespaceURI===Wt?Yt.namespaceURI===Qa&&!be[lr]||Yt.namespaceURI===Ea&&!ee[lr]?!1:!Be[Er]&&(ke[Er]||!we[Er]):!!(Le==="application/xhtml+xml"&&Se[it.namespaceURI]):!1},Te=function(it){$(Br.removed,{element:it});try{Sn(it).removeChild(it)}catch{ui(it)}},$e=function(it,Yt){try{$(Br.removed,{attribute:Yt.getAttributeNode(it),from:Yt})}catch{$(Br.removed,{attribute:null,from:Yt})}if(Yt.removeAttribute(it),it==="is")if(Wn||Ks)try{Te(Yt)}catch{}else try{Yt.setAttribute(it,"")}catch{}},qe=function(it){let Yt=null,Er=null;if($s)it="<remove></remove>"+it;else{const vr=ie(it,/^[\r\n\t ]+/);Er=vr&&vr[0]}Le==="application/xhtml+xml"&&ne===Wt&&(it='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+it+"</body></html>");const lr=Vs?Vs.createHTML(it):it;if(ne===Wt)try{Yt=new Tn().parseFromString(lr,Le)}catch{}if(!Yt||!Yt.documentElement){Yt=zn.createDocument(ne,"template",null);try{Yt.documentElement.innerHTML=Ee?zi:lr}catch{}}const Lt=Yt.body||Yt.documentElement;return it&&Er&&Lt.insertBefore(Dt.createTextNode(Er),Lt.childNodes[0]||null),ne===Wt?gi.call(Yt,Xs?"html":"body")[0]:Xs?Yt.documentElement:Lt},at=function(it){return wi.call(it.ownerDocument||it,it,an.SHOW_ELEMENT|an.SHOW_COMMENT|an.SHOW_TEXT|an.SHOW_PROCESSING_INSTRUCTION|an.SHOW_CDATA_SECTION,null)},pt=function(it){return it instanceof Hn&&(typeof it.nodeName!="string"||typeof it.textContent!="string"||typeof it.removeChild!="function"||!(it.attributes instanceof Dr)||typeof it.removeAttribute!="function"||typeof it.setAttribute!="function"||typeof it.namespaceURI!="string"||typeof it.insertBefore!="function"||typeof it.hasChildNodes!="function")},Ie=function(it){return typeof rn=="function"&&it instanceof rn};function wt(Ft,it,Yt){M(Ft,Er=>{Er.call(Br,it,Yt,U)})}const At=function(it){let Yt=null;if(wt(Hs.beforeSanitizeElements,it,null),pt(it))return Te(it),!0;const Er=V(it.nodeName);if(wt(Hs.uponSanitizeElement,it,{tagName:Er,allowedTags:mn}),Gs&&it.hasChildNodes()&&!Ie(it.firstElementChild)&&Y(/<[/\w!]/g,it.innerHTML)&&Y(/<[/\w!]/g,it.textContent)||it.nodeType===Pt.progressingInstruction||Gs&&it.nodeType===Pt.comment&&Y(/<[/\w]/g,it.data))return Te(it),!0;if(!(wa.tagCheck instanceof Function&&wa.tagCheck(Er))&&(!mn[Er]||Ra[Er])){if(!Ra[Er]&&lt(Er)&&(si.tagNameCheck instanceof RegExp&&Y(si.tagNameCheck,Er)||si.tagNameCheck instanceof Function&&si.tagNameCheck(Er)))return!1;if(fa&&!Ki[Er]){const lr=Sn(it)||it.parentNode,Lt=fs(it)||it.childNodes;if(Lt&&lr){const vr=Lt.length;for(let ft=vr-1;ft>=0;--ft){const yt=Ti(Lt[ft],!0);yt.__removalCount=(it.__removalCount||0)+1,lr.insertBefore(yt,vi(it))}}}return Te(it),!0}return it instanceof Kn&&!Re(it)||(Er==="noscript"||Er==="noembed"||Er==="noframes")&&Y(/<\/no(script|embed|frames)/i,it.innerHTML)?(Te(it),!0):(Yr&&it.nodeType===Pt.text&&(Yt=it.textContent,M([Xi,Bs,Gi],lr=>{Yt=pe(Yt,lr," ")}),it.textContent!==Yt&&($(Br.removed,{element:it.cloneNode()}),it.textContent=Yt)),wt(Hs.afterSanitizeElements,it,null),!1)},Nt=function(it,Yt,Er){if(Cs&&(Yt==="id"||Yt==="name")&&(Er in Dt||Er in W))return!1;if(!(Gt&&!aa[Yt]&&Y(Ss,Yt))){if(!(oa&&Y(La,Yt))){if(!(wa.attributeCheck instanceof Function&&wa.attributeCheck(Yt,it))){if(!As[Yt]||aa[Yt]){if(!(lt(it)&&(si.tagNameCheck instanceof RegExp&&Y(si.tagNameCheck,it)||si.tagNameCheck instanceof Function&&si.tagNameCheck(it))&&(si.attributeNameCheck instanceof RegExp&&Y(si.attributeNameCheck,Yt)||si.attributeNameCheck instanceof Function&&si.attributeNameCheck(Yt,it))||Yt==="is"&&si.allowCustomizedBuiltInElements&&(si.tagNameCheck instanceof RegExp&&Y(si.tagNameCheck,Er)||si.tagNameCheck instanceof Function&&si.tagNameCheck(Er))))return!1}else if(!ra[Yt]){if(!Y(sn,pe(Er,Pi,""))){if(!((Yt==="src"||Yt==="xlink:href"||Yt==="href")&&it!=="script"&&xe(Er,"data:")===0&&_s[it])){if(!(Ar&&!Y(Qi,pe(Er,Pi,"")))){if(Er)return!1}}}}}}}return!0},lt=function(it){return it!=="annotation-xml"&&ie(it,Ot)},Ut=function(it){wt(Hs.beforeSanitizeAttributes,it,null);const{attributes:Yt}=it;if(!Yt||pt(it))return;const Er={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:As,forceKeepAttr:void 0};let lr=Yt.length;for(;lr--;){const Lt=Yt[lr],{name:vr,namespaceURI:ft,value:yt}=Lt,$t=V(vr),Mt=yt;let jr=vr==="value"?Mt:Ae(Mt);if(Er.attrName=$t,Er.attrValue=jr,Er.keepAttr=!0,Er.forceKeepAttr=void 0,wt(Hs.uponSanitizeAttribute,it,Er),jr=Er.attrValue,yi&&($t==="id"||$t==="name")&&($e(vr,it),jr=Js+jr),Gs&&Y(/((--!?|])>)|<\/(style|title|textarea)/i,jr)){$e(vr,it);continue}if($t==="attributename"&&ie(jr,"href")){$e(vr,it);continue}if(Er.forceKeepAttr)continue;if(!Er.keepAttr){$e(vr,it);continue}if(!hn&&Y(/\/>/i,jr)){$e(vr,it);continue}Yr&&M([Xi,Bs,Gi],Mr=>{jr=pe(jr,Mr," ")});const Pr=V(it.nodeName);if(!Nt(Pr,$t,jr)){$e(vr,it);continue}if(Vs&&typeof es=="object"&&typeof es.getAttributeType=="function"&&!ft)switch(es.getAttributeType(Pr,$t)){case"TrustedHTML":{jr=Vs.createHTML(jr);break}case"TrustedScriptURL":{jr=Vs.createScriptURL(jr);break}}if(jr!==Mt)try{ft?it.setAttributeNS(ft,vr,jr):it.setAttribute(vr,jr),pt(it)?Te(it):F(Br.removed)}catch{$e(vr,it)}}wt(Hs.afterSanitizeAttributes,it,null)},tr=function Ft(it){let Yt=null;const Er=at(it);for(wt(Hs.beforeSanitizeShadowDOM,it,null);Yt=Er.nextNode();)wt(Hs.uponSanitizeShadowNode,Yt,null),At(Yt),Ut(Yt),Yt.content instanceof Zr&&Ft(Yt.content);wt(Hs.afterSanitizeShadowDOM,it,null)};return Br.sanitize=function(Ft){let it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Yt=null,Er=null,lr=null,Lt=null;if(Ee=!Ft,Ee&&(Ft="<!-->"),typeof Ft!="string"&&!Ie(Ft))if(typeof Ft.toString=="function"){if(Ft=Ft.toString(),typeof Ft!="string")throw fe("dirty is not a string, aborting")}else throw fe("toString is not a function");if(!Br.isSupported)return Ft;if(Si||me(it),Br.removed=[],typeof Ft=="string"&&(ki=!1),ki){if(Ft.nodeName){const yt=V(Ft.nodeName);if(!mn[yt]||Ra[yt])throw fe("root node is forbidden and cannot be sanitized in-place")}}else if(Ft instanceof rn)Yt=qe("<!---->"),Er=Yt.ownerDocument.importNode(Ft,!0),Er.nodeType===Pt.element&&Er.nodeName==="BODY"||Er.nodeName==="HTML"?Yt=Er:Yt.appendChild(Er);else{if(!Wn&&!Yr&&!Xs&&Ft.indexOf("<")===-1)return Vs&&xi?Vs.createHTML(Ft):Ft;if(Yt=qe(Ft),!Yt)return Wn?null:xi?zi:""}Yt&&$s&&Te(Yt.firstChild);const vr=at(ki?Ft:Yt);for(;lr=vr.nextNode();)At(lr),Ut(lr),lr.content instanceof Zr&&tr(lr.content);if(ki)return Ft;if(Wn){if(Ks)for(Lt=mi.call(Yt.ownerDocument);Yt.firstChild;)Lt.appendChild(Yt.firstChild);else Lt=Yt;return(As.shadowroot||As.shadowrootmode)&&(Lt=Ni.call(Tr,Lt,!0)),Lt}let ft=Xs?Yt.outerHTML:Yt.innerHTML;return Xs&&mn["!doctype"]&&Yt.ownerDocument&&Yt.ownerDocument.doctype&&Yt.ownerDocument.doctype.name&&Y(wn,Yt.ownerDocument.doctype.name)&&(ft="<!DOCTYPE "+Yt.ownerDocument.doctype.name+`>
`+ft),Yr&&M([Xi,Bs,Gi],yt=>{ft=pe(ft,yt," ")}),Vs&&xi?Vs.createHTML(ft):ft},Br.setConfig=function(){let Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};me(Ft),Si=!0},Br.clearConfig=function(){U=null,Si=!1},Br.isValidAttribute=function(Ft,it,Yt){U||me({});const Er=V(Ft),lr=V(it);return Nt(Er,lr,Yt)},Br.addHook=function(Ft,it){typeof it=="function"&&$(Hs[Ft],it)},Br.removeHook=function(Ft,it){if(it!==void 0){const Yt=O(Hs[Ft],it);return Yt===-1?void 0:z(Hs[Ft],Yt,1)[0]}return F(Hs[Ft])},Br.removeHooks=function(Ft){Hs[Ft]=[]},Br.removeAllHooks=function(){Hs=Cn()},Br}var vn=tn()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return N}});var g=f("./node_modules/iobuffer/lib-esm/IOBuffer.js"),v=f("./node_modules/pako/dist/pako.esm.mjs"),b=f("./node_modules/fast-png/lib-esm/helpers/crc.js"),w=f("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),j=f("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),E=f("./node_modules/fast-png/lib-esm/helpers/signature.js"),R=f("./node_modules/fast-png/lib-esm/helpers/text.js"),_=f("./node_modules/fast-png/lib-esm/internalTypes.js");class N extends g.IOBuffer{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(O,F={}){super(O);const{checkCrc:$=!1}=F;this._checkCrc=$,this._inflator=new v.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_.CompressionMethod.UNKNOWN,this._filterMethod=_.FilterMethod.UNKNOWN,this._interlaceMethod=_.InterlaceMethod.UNKNOWN,this._colorType=_.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,E.checkSignature)(this);!this._end;){const O=this.readUint32(),F=this.readChars(4);this.decodeChunk(O,F)}return this.decodeImage(),this._png}decodeApng(){for((0,E.checkSignature)(this);!this._end;){const O=this.readUint32(),F=this.readChars(4);this.decodeApngChunk(O,F)}return this.decodeApngImage(),this._apng}decodeChunk(O,F){const $=this.offset;switch(F){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(O);break;case"IDAT":this.decodeIDAT(O);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(O);break;case"iCCP":this.decodeiCCP(O);break;case R.textChunkName:(0,R.decodetEXt)(this._png.text,this,O);break;case"pHYs":this.decodepHYs();break;default:this.skip(O);break}if(this.offset-$!==O)throw new Error(`Length mismatch while decoding chunk ${F}`);this._checkCrc?(0,b.checkCrc)(this,O+4,F):this.skip(4)}decodeApngChunk(O,F){const $=this.offset;switch(F!=="fdAT"&&F!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),F){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(O);break;default:this.decodeChunk(O,F),this.offset=$+O;break}if(this.offset-$!==O)throw new Error(`Length mismatch while decoding chunk ${F}`);this._checkCrc?(0,b.checkCrc)(this,O+4,F):this.skip(4)}decodeIHDR(){const O=this._png;O.width=this.readUint32(),O.height=this.readUint32(),O.depth=B(this.readUint8());const F=this.readUint8();this._colorType=F;let $;switch(F){case _.ColorType.GREYSCALE:$=1;break;case _.ColorType.TRUECOLOUR:$=3;break;case _.ColorType.INDEXED_COLOUR:$=1;break;case _.ColorType.GREYSCALE_ALPHA:$=2;break;case _.ColorType.TRUECOLOUR_ALPHA:$=4;break;case _.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${F}`)}if(this._png.channels=$,this._compressionMethod=this.readUint8(),this._compressionMethod!==_.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const O={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(O)}decodePLTE(O){if(O%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${O}`);const F=O/3;this._hasPalette=!0;const $=[];this._palette=$;for(let z=0;z<F;z++)$.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(O){this._writingDataChunks=!0;const F=O,$=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,$,F)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(O)}decodeFDAT(O){this._writingDataChunks=!0;let F=O,$=this.offset+this.byteOffset;if($+=4,F-=4,this._inflator.push(new Uint8Array(this.buffer,$,F)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(O)}decodetRNS(O){switch(this._colorType){case _.ColorType.GREYSCALE:case _.ColorType.TRUECOLOUR:{if(O%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${O}`);if(O/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${O/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(O/2);for(let F=0;F<O/2;F++)this._transparency[F]=this.readUint16();break}case _.ColorType.INDEXED_COLOUR:{if(O>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${O} vs ${this._palette.length})`);let F=0;for(;F<O;F++){const $=this.readByte();this._palette[F].push($)}for(;F<this._palette.length;F++)this._palette[F].push(255);break}case _.ColorType.UNKNOWN:case _.ColorType.GREYSCALE_ALPHA:case _.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(O){const F=(0,R.readKeyword)(this),$=this.readUint8();if($!==_.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${$}`);const z=this.readBytes(O-F.length-2);this._png.iccEmbeddedProfile={name:F,profile:(0,v.inflate)(z)}}decodepHYs(){const O=this.readUint32(),F=this.readUint32(),$=this.readByte();this._png.resolution={x:O,y:F,unit:$}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let O=0;O<this._numberOfFrames;O++){const F={sequenceNumber:this._frames[O].sequenceNumber,delayNumber:this._frames[O].delayNumber,delayDenominator:this._frames[O].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},$=this._frames.at(O);if($){if($.data=(0,j.decodeInterlaceNull)({data:$.data,width:$.width,height:$.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),O===0||$.xOffset===0&&$.yOffset===0&&$.width===this._png.width&&$.height===this._png.height)F.data=$.data;else{const z=this._apng.frames.at(O-1);this.disposeFrame($,z,F),this.addFrameDataToCanvas(F,$)}this._apng.frames.push(F)}}return this._apng}disposeFrame(O,F,$){switch(O.disposeOp){case _.DisposeOpType.NONE:break;case _.DisposeOpType.BACKGROUND:for(let z=0;z<this._png.height;z++)for(let se=0;se<this._png.width;se++){const ce=(z*O.width+se)*this._png.channels;for(let ie=0;ie<this._png.channels;ie++)$.data[ce+ie]=0}break;case _.DisposeOpType.PREVIOUS:$.data.set(F.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(O,F){const $=1<<this._png.depth,z=(se,ce)=>{const ie=((se+F.yOffset)*this._png.width+F.xOffset+ce)*this._png.channels,pe=(se*F.width+ce)*this._png.channels;return{index:ie,frameIndex:pe}};switch(F.blendOp){case _.BlendOpType.SOURCE:for(let se=0;se<F.height;se++)for(let ce=0;ce<F.width;ce++){const{index:ie,frameIndex:pe}=z(se,ce);for(let xe=0;xe<this._png.channels;xe++)O.data[ie+xe]=F.data[pe+xe]}break;case _.BlendOpType.OVER:for(let se=0;se<F.height;se++)for(let ce=0;ce<F.width;ce++){const{index:ie,frameIndex:pe}=z(se,ce);for(let xe=0;xe<this._png.channels;xe++){const Ae=F.data[pe+this._png.channels-1]/$,ue=xe%(this._png.channels-1)===0?1:F.data[pe+xe],Y=Math.floor(Ae*ue+(1-Ae)*O.data[ie+xe]);O.data[ie+xe]+=Y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const O=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===_.InterlaceMethod.NO_INTERLACE)this._png.data=(0,j.decodeInterlaceNull)({data:O,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===_.InterlaceMethod.ADAM7)this._png.data=(0,w.decodeInterlaceAdam7)({data:O,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const O=this._inflator.result,F=this._frames.at(-1);F?F.data=O:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_.DisposeOpType.NONE,blendOp:_.BlendOpType.SOURCE,data:O}),this._inflator=new v.Inflate,this._writingDataChunks=!1}}function B(M){if(M!==1&&M!==2&&M!==4&&M!==8&&M!==16)throw new Error(`invalid bit depth: ${M}`);return M}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(A,m,f){f.r(m),f.d(m,{default:function(){return _}});var g=f("./node_modules/iobuffer/lib-esm/IOBuffer.js"),v=f("./node_modules/pako/dist/pako.esm.mjs"),b=f("./node_modules/fast-png/lib-esm/helpers/crc.js"),w=f("./node_modules/fast-png/lib-esm/helpers/signature.js"),j=f("./node_modules/fast-png/lib-esm/helpers/text.js"),E=f("./node_modules/fast-png/lib-esm/internalTypes.js");const R={level:3};class _ extends g.IOBuffer{_png;_zlibOptions;_colorType;_interlaceMethod;constructor(z,se={}){super(),this._colorType=E.ColorType.UNKNOWN,this._zlibOptions={...R,...se.zlib},this._png=this._checkData(z),this._interlaceMethod=(se.interlace==="Adam7"?E.InterlaceMethod.ADAM7:E.InterlaceMethod.NO_INTERLACE)??E.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,w.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[z,se]of Object.entries(this._png.text))(0,j.encodetEXt)(this,z,se);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(E.CompressionMethod.DEFLATE),this.writeByte(E.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,b.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,b.writeCrc)(this,4)}encodePLTE(){const z=this._png.palette?.length*3;this.writeUint32(z),this.writeChars("PLTE");for(const se of this._png.palette)this.writeByte(se[0]),this.writeByte(se[1]),this.writeByte(se[2]);(0,b.writeCrc)(this,4+z)}encodeTRNS(){const z=this._png.palette.filter(se=>se.at(-1)!==255);this.writeUint32(z.length),this.writeChars("tRNS");for(const se of z)this.writeByte(se.at(-1));(0,b.writeCrc)(this,4+z.length)}encodeIDAT(z){this.writeUint32(z.length),this.writeChars("IDAT"),this.writeBytes(z),(0,b.writeCrc)(this,z.length+4)}encodeData(){const{width:z,height:se,channels:ce,depth:ie,data:pe}=this._png,xe=ie<=8?Math.ceil(z*ie/8)*ce:Math.ceil(z*ie/8*ce/2),Ae=new g.IOBuffer().setBigEndian();let ue=0;if(this._interlaceMethod===E.InterlaceMethod.NO_INTERLACE)for(let H=0;H<se;H++)Ae.writeByte(0),ie===16?ue=F(pe,Ae,xe,ue):ue=M(pe,Ae,xe,ue);else this._interlaceMethod===E.InterlaceMethod.ADAM7&&(ue=O(this._png,pe,Ae,ue));const Y=Ae.toArray(),fe=(0,v.deflate)(Y,this._zlibOptions);this.encodeIDAT(fe)}_checkData(z){const{colorType:se,channels:ce,depth:ie}=B(z,z.palette),pe={width:N(z.width,"width"),height:N(z.height,"height"),channels:ce,data:z.data,depth:ie,text:z.text,palette:z.palette};this._colorType=se;const xe=ie<8?Math.ceil(pe.width*ie/8)*pe.height*ce:pe.width*pe.height*ce;if(pe.data.length!==xe)throw new RangeError(`wrong data size. Found ${pe.data.length}, expected ${xe}`);return pe}}function N($,z){if(Number.isInteger($)&&$>0)return $;throw new TypeError(`${z} must be a positive integer`)}function B($,z){const{channels:se=4,depth:ce=8}=$;if(se!==4&&se!==3&&se!==2&&se!==1)throw new RangeError(`unsupported number of channels: ${se}`);const ie={channels:se,depth:ce,colorType:E.ColorType.UNKNOWN};switch(se){case 4:ie.colorType=E.ColorType.TRUECOLOUR_ALPHA;break;case 3:ie.colorType=E.ColorType.TRUECOLOUR;break;case 1:z?ie.colorType=E.ColorType.INDEXED_COLOUR:ie.colorType=E.ColorType.GREYSCALE;break;case 2:ie.colorType=E.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return ie}function M($,z,se,ce){for(let ie=0;ie<se;ie++)z.writeByte($[ce++]);return ce}function O($,z,se,ce){const ie=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:pe,height:xe,channels:Ae,depth:ue}=$;let Y=0;ue===16?Y=Ae*ue/8/2:Y=Ae*ue/8;for(let fe=0;fe<7;fe++){const H=ie[fe],le=Math.floor((pe-H.x+H.xStep-1)/H.xStep),de=Math.floor((xe-H.y+H.yStep-1)/H.yStep);if(le<=0||de<=0)continue;const ye=le*Y;for(let ge=0;ge<de;ge++){const je=H.y+ge*H.yStep,Me=ue<=8?new Uint8Array(ye):new Uint16Array(ye);let He=0;for(let Qe=0;Qe<le;Qe++){const ze=H.x+Qe*H.xStep;if(ze<pe&&je<xe){const Ve=(je*pe+ze)*Y;for(let tt=0;tt<Y;tt++)Me[He++]=z[Ve+tt]}}if(se.writeByte(0),ue===8)se.writeBytes(Me);else if(ue===16)for(const Qe of Me)se.writeByte(Qe>>8&255),se.writeByte(Qe&255)}}return ce}function F($,z,se,ce){for(let ie=0;ie<se;ie++)z.writeUint16($[ce++]);return ce}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(A,m,f){f.r(m),f.d(m,{convertIndexedToRgb:function(){return g}});function g(b){const w=b.palette,j=b.depth;if(!w)throw new Error("Color palette is undefined.");v(b);const E=b.width*b.height,R=E*w[0].length,_=new Uint8Array(R);let N=0,B=0;const M=new Uint8Array(E);let O=255;switch(j){case 1:O=128;break;case 2:O=192;break;case 4:O=240;break;case 8:O=255;break;default:throw new Error("Incorrect depth value")}for(const F of b.data){let $=O,z=8;for(;$&&(z-=j,M[N++]=(F&$)>>z,$=$>>j,N%b.width!==0););}if(b.palette)for(const F of M){const $=b.palette.at(F);if(!$)throw new Error("Incorrect index of palette color");_.set($,B),B+=$.length}return _}function v(b){const w=b.depth<8?Math.ceil(b.width*b.depth/8)*b.height*b.channels:b.width*b.height*b.channels;if(b.data.length!==w)throw new RangeError(`wrong data size. Found ${b.data.length}, expected ${w}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(A,m,f){f.r(m),f.d(m,{applyUnfilter:function(){return v}});var g=f("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function v(b,w,j,E,R,_){switch(b){case 0:(0,g.unfilterNone)(w,j,R);break;case 1:(0,g.unfilterSub)(w,j,R,_);break;case 2:(0,g.unfilterUp)(w,j,E,R);break;case 3:(0,g.unfilterAverage)(w,j,E,R,_);break;case 4:(0,g.unfilterPaeth)(w,j,E,R,_);break;default:throw new Error(`Unsupported filter: ${b}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(A,m,f){f.r(m),f.d(m,{checkCrc:function(){return j},writeCrc:function(){return E}});const g=[];for(let R=0;R<256;R++){let _=R;for(let N=0;N<8;N++)_&1?_=3988292384^_>>>1:_=_>>>1;g[R]=_}const v=4294967295;function b(R,_,N){let B=R;for(let M=0;M<N;M++)B=g[(B^_[M])&255]^B>>>8;return B}function w(R,_){return(b(v,R,_)^v)>>>0}function j(R,_,N){const B=R.readUint32(),M=w(new Uint8Array(R.buffer,R.byteOffset+R.offset-_-4,_),_);if(M!==B)throw new Error(`CRC mismatch for chunk ${N}. Expected ${B}, found ${M}`)}function E(R,_){R.writeUint32(w(new Uint8Array(R.buffer,R.byteOffset+R.offset-_,_),_))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(A,m,f){f.r(m),f.d(m,{decodeInterlaceAdam7:function(){return j}});var g=f("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const v=new Uint16Array([255]),w=new Uint8Array(v.buffer)[0]===255;function j(R){const{data:_,width:N,height:B,channels:M,depth:O}=R,F=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],$=Math.ceil(O/8)*M,z=new Uint8Array(B*N*$);let se=0;for(let ce=0;ce<7;ce++){const ie=F[ce],pe=Math.ceil((N-ie.x)/ie.xStep),xe=Math.ceil((B-ie.y)/ie.yStep);if(pe<=0||xe<=0)continue;const Ae=pe*$,ue=new Uint8Array(Ae);for(let Y=0;Y<xe;Y++){const fe=_[se++],H=_.subarray(se,se+Ae);se+=Ae;const le=new Uint8Array(Ae);(0,g.applyUnfilter)(fe,H,le,ue,Ae,$),ue.set(le);for(let de=0;de<pe;de++){const ye=ie.x+de*ie.xStep,ge=ie.y+Y*ie.yStep;if(!(ye>=N||ge>=B))for(let je=0;je<$;je++)z[(ge*N+ye)*$+je]=le[de*$+je]}}}if(O===16){const ce=new Uint16Array(z.buffer);if(w)for(let ie=0;ie<ce.length;ie++)ce[ie]=E(ce[ie]);return ce}else return z}function E(R){return(R&255)<<8|R>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(A,m,f){f.r(m),f.d(m,{decodeInterlaceNull:function(){return E}});var g=f("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const v=new Uint16Array([255]),w=new Uint8Array(v.buffer)[0]===255,j=new Uint8Array(0);function E(_){const{data:N,width:B,height:M,channels:O,depth:F}=_,$=Math.ceil(F/8)*O,z=Math.ceil(F/8*O*B),se=new Uint8Array(M*z);let ce=j,ie=0,pe,xe;for(let Ae=0;Ae<M;Ae++){switch(pe=N.subarray(ie+1,ie+1+z),xe=se.subarray(Ae*z,(Ae+1)*z),N[ie]){case 0:(0,g.unfilterNone)(pe,xe,z);break;case 1:(0,g.unfilterSub)(pe,xe,z,$);break;case 2:(0,g.unfilterUp)(pe,xe,ce,z);break;case 3:(0,g.unfilterAverage)(pe,xe,ce,z,$);break;case 4:(0,g.unfilterPaeth)(pe,xe,ce,z,$);break;default:throw new Error(`Unsupported filter: ${N[ie]}`)}ce=xe,ie+=z+1}if(F===16){const Ae=new Uint16Array(se.buffer);if(w)for(let ue=0;ue<Ae.length;ue++)Ae[ue]=R(Ae[ue]);return Ae}else return se}function R(_){return(_&255)<<8|_>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(A,m,f){f.r(m),f.d(m,{checkSignature:function(){return b},hasPngSignature:function(){return w},writeSignature:function(){return v}});const g=Uint8Array.of(137,80,78,71,13,10,26,10);function v(j){j.writeBytes(g)}function b(j){if(!w(j.readBytes(g.length)))throw new Error("wrong PNG signature")}function w(j){if(j.length<g.length)return!1;for(let E=0;E<g.length;E++)if(j[E]!==g[E])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(A,m,f){f.r(m),f.d(m,{decodetEXt:function(){return _},encodetEXt:function(){return N},readKeyword:function(){return B},readLatin1:function(){return M},textChunkName:function(){return v}});var g=f("./node_modules/fast-png/lib-esm/helpers/crc.js");const v="tEXt",b=0,w=new TextDecoder("latin1");function j(O){if(R(O),O.length===0||O.length>79)throw new Error("keyword length must be between 1 and 79")}const E=/^[\u0000-\u00FF]*$/;function R(O){if(!E.test(O))throw new Error("invalid latin1 text")}function _(O,F,$){const z=B(F);O[z]=M(F,$-z.length-1)}function N(O,F,$){j(F),R($);const z=F.length+1+$.length;O.writeUint32(z),O.writeChars(v),O.writeChars(F),O.writeByte(b),O.writeChars($),(0,g.writeCrc)(O,z+4)}function B(O){for(O.mark();O.readByte()!==b;);const F=O.offset;O.reset();const $=w.decode(O.readBytes(F-O.offset-1));return O.skip(1),j($),$}function M(O,F){return w.decode(O.readBytes(F))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(A,m,f){f.r(m),f.d(m,{unfilterAverage:function(){return w},unfilterNone:function(){return g},unfilterPaeth:function(){return j},unfilterSub:function(){return v},unfilterUp:function(){return b}});function g(R,_,N){for(let B=0;B<N;B++)_[B]=R[B]}function v(R,_,N,B){let M=0;for(;M<B;M++)_[M]=R[M];for(;M<N;M++)_[M]=R[M]+_[M-B]&255}function b(R,_,N,B){let M=0;if(N.length===0)for(;M<B;M++)_[M]=R[M];else for(;M<B;M++)_[M]=R[M]+N[M]&255}function w(R,_,N,B,M){let O=0;if(N.length===0){for(;O<M;O++)_[O]=R[O];for(;O<B;O++)_[O]=R[O]+(_[O-M]>>1)&255}else{for(;O<M;O++)_[O]=R[O]+(N[O]>>1)&255;for(;O<B;O++)_[O]=R[O]+(_[O-M]+N[O]>>1)&255}}function j(R,_,N,B,M){let O=0;if(N.length===0){for(;O<M;O++)_[O]=R[O];for(;O<B;O++)_[O]=R[O]+_[O-M]&255}else{for(;O<M;O++)_[O]=R[O]+N[O]&255;for(;O<B;O++)_[O]=R[O]+E(_[O-M],N[O],N[O-M])&255}}function E(R,_,N){const B=R+_-N,M=Math.abs(B-R),O=Math.abs(B-_),F=Math.abs(B-N);return M<=O&&M<=F?R:O<=F?_:N}}),"./node_modules/fast-png/lib-esm/index.js":(function(A,m,f){f.r(m),f.d(m,{ResolutionUnitSpecifier:function(){return w.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return j.convertIndexedToRgb},decode:function(){return E},decodeApng:function(){return _},encode:function(){return R},hasPngSignature:function(){return b.hasPngSignature}});var g=f("./node_modules/fast-png/lib-esm/PngDecoder.js"),v=f("./node_modules/fast-png/lib-esm/PngEncoder.js"),b=f("./node_modules/fast-png/lib-esm/helpers/signature.js"),w=f("./node_modules/fast-png/lib-esm/types.js"),j=f("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function E(N,B){return new g.default(N,B).decode()}function R(N,B){return new v.default(N,B).encode()}function _(N,B){return new g.default(N,B).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(A,m,f){f.r(m),f.d(m,{BlendOpType:function(){return E},ColorType:function(){return g},CompressionMethod:function(){return v},DisposeOpType:function(){return j},FilterMethod:function(){return b},InterlaceMethod:function(){return w}});const g={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},v={UNKNOWN:-1,DEFLATE:0},b={UNKNOWN:-1,ADAPTIVE:0},w={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},j={NONE:0,BACKGROUND:1,PREVIOUS:2},E={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(A,m,f){f.r(m),f.d(m,{ResolutionUnitSpecifier:function(){return g}});var g;(function(v){v[v.UNKNOWN=0]="UNKNOWN",v[v.METRE=1]="METRE"})(g||(g={}))}),"./node_modules/fflate/esm/browser.js":(function(A,m,f){f.r(m),f.d(m,{AsyncCompress:function(){return Hs},AsyncDecompress:function(){return aa},AsyncDeflate:function(){return Sn},AsyncGunzip:function(){return Ss},AsyncGzip:function(){return Hs},AsyncInflate:function(){return wi},AsyncUnzipInflate:function(){return Qa},AsyncUnzlib:function(){return As},AsyncZipDeflate:function(){return za},AsyncZlib:function(){return Ot},Compress:function(){return Ni},DecodeUTF8:function(){return Xs},Decompress:function(){return Ra},Deflate:function(){return fs},EncodeUTF8:function(){return Si},FlateErrorCode:function(){return Me},Gunzip:function(){return Gi},Gzip:function(){return Ni},Inflate:function(){return zn},Unzip:function(){return Wt},UnzipInflate:function(){return Ea},UnzipPassThrough:function(){return Ta},Unzlib:function(){return ji},Zip:function(){return _s},ZipDeflate:function(){return Ki},ZipPassThrough:function(){return Bi},Zlib:function(){return Pi},compress:function(){return Xi},compressSync:function(){return Bs},decompress:function(){return wa},decompressSync:function(){return oa},deflate:function(){return Vs},deflateSync:function(){return zi},gunzip:function(){return La},gunzipSync:function(){return Qi},gzip:function(){return Xi},gzipSync:function(){return Bs},inflate:function(){return mi},inflateSync:function(){return gi},strFromU8:function(){return Wn},strToU8:function(){return $s},unzip:function(){return Ee},unzipSync:function(){return Se},unzlib:function(){return Ji},unzlibSync:function(){return si},zip:function(){return Zi},zipSync:function(){return ra},zlib:function(){return sn},zlibSync:function(){return mn}});var g={},v=(function(J,ee,be,ke,Le){var Ze=new Worker(g[ee]||(g[ee]=URL.createObjectURL(new Blob([J+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Ze.onmessage=function(ht){var V=ht.data,U=V.$e$;if(U){var W=new Error(U[0]);W.code=U[1],W.stack=U[2],Le(W,null)}else Le(null,V)},Ze.postMessage(be,ke),Ze}),b=Uint8Array,w=Uint16Array,j=Int32Array,E=new b([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R=new b([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_=new b([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N=function(J,ee){for(var be=new w(31),ke=0;ke<31;++ke)be[ke]=ee+=1<<J[ke-1];for(var Le=new j(be[30]),ke=1;ke<30;++ke)for(var Ze=be[ke];Ze<be[ke+1];++Ze)Le[Ze]=Ze-be[ke]<<5|ke;return{b:be,r:Le}},B=N(E,2),M=B.b,O=B.r;M[28]=258,O[258]=28;for(var F=N(R,0),$=F.b,z=F.r,se=new w(32768),ce=0;ce<32768;++ce){var ie=(ce&43690)>>1|(ce&21845)<<1;ie=(ie&52428)>>2|(ie&13107)<<2,ie=(ie&61680)>>4|(ie&3855)<<4,se[ce]=((ie&65280)>>8|(ie&255)<<8)>>1}for(var pe=(function(J,ee,be){for(var ke=J.length,Le=0,Ze=new w(ee);Le<ke;++Le)J[Le]&&++Ze[J[Le]-1];var ht=new w(ee);for(Le=1;Le<ee;++Le)ht[Le]=ht[Le-1]+Ze[Le-1]<<1;var V;if(be){V=new w(1<<ee);var U=15-ee;for(Le=0;Le<ke;++Le)if(J[Le])for(var W=Le<<4|J[Le],ae=ee-J[Le],me=ht[J[Le]-1]++<<ae,we=me|(1<<ae)-1;me<=we;++me)V[se[me]>>U]=W}else for(V=new w(ke),Le=0;Le<ke;++Le)J[Le]&&(V[Le]=se[ht[J[Le]-1]++]>>15-J[Le]);return V}),xe=new b(288),ce=0;ce<144;++ce)xe[ce]=8;for(var ce=144;ce<256;++ce)xe[ce]=9;for(var ce=256;ce<280;++ce)xe[ce]=7;for(var ce=280;ce<288;++ce)xe[ce]=8;for(var Ae=new b(32),ce=0;ce<32;++ce)Ae[ce]=5;var ue=pe(xe,9,0),Y=pe(xe,9,1),fe=pe(Ae,5,0),H=pe(Ae,5,1),le=function(J){for(var ee=J[0],be=1;be<J.length;++be)J[be]>ee&&(ee=J[be]);return ee},de=function(J,ee,be){var ke=ee/8|0;return(J[ke]|J[ke+1]<<8)>>(ee&7)&be},ye=function(J,ee){var be=ee/8|0;return(J[be]|J[be+1]<<8|J[be+2]<<16)>>(ee&7)},ge=function(J){return(J+7)/8|0},je=function(J,ee,be){return(ee==null||ee<0)&&(ee=0),(be==null||be>J.length)&&(be=J.length),new b(J.subarray(ee,be))},Me={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},He=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qe=function(J,ee,be){var ke=new Error(ee||He[J]);if(ke.code=J,Error.captureStackTrace&&Error.captureStackTrace(ke,Qe),!be)throw ke;return ke},ze=function(J,ee,be,ke){var Le=J.length,Ze=ke?ke.length:0;if(!Le||ee.f&&!ee.l)return be||new b(0);var ht=!be,V=ht||ee.i!=2,U=ee.i;ht&&(be=new b(Le*3));var W=function(It){var er=be.length;if(It>er){var nr=new b(Math.max(er*2,It));nr.set(be),be=nr}},ae=ee.f||0,me=ee.p||0,we=ee.b||0,Be=ee.l,Re=ee.d,Te=ee.m,$e=ee.n,qe=Le*8;do{if(!Be){ae=de(J,me,1);var at=de(J,me+1,3);if(me+=3,at)if(at==1)Be=Y,Re=H,Te=9,$e=5;else if(at==2){var At=de(J,me,31)+257,Nt=de(J,me+10,15)+4,lt=At+de(J,me+5,31)+1;me+=14;for(var Ut=new b(lt),tr=new b(19),Ft=0;Ft<Nt;++Ft)tr[_[Ft]]=de(J,me+Ft*3,7);me+=Nt*3;for(var it=le(tr),Yt=(1<<it)-1,Er=pe(tr,it,1),Ft=0;Ft<lt;){var lr=Er[de(J,me,Yt)];me+=lr&15;var pt=lr>>4;if(pt<16)Ut[Ft++]=pt;else{var Lt=0,vr=0;for(pt==16?(vr=3+de(J,me,3),me+=2,Lt=Ut[Ft-1]):pt==17?(vr=3+de(J,me,7),me+=3):pt==18&&(vr=11+de(J,me,127),me+=7);vr--;)Ut[Ft++]=Lt}}var ft=Ut.subarray(0,At),yt=Ut.subarray(At);Te=le(ft),$e=le(yt),Be=pe(ft,Te,1),Re=pe(yt,$e,1)}else Qe(1);else{var pt=ge(me)+4,Ie=J[pt-4]|J[pt-3]<<8,wt=pt+Ie;if(wt>Le){U&&Qe(0);break}V&&W(we+Ie),be.set(J.subarray(pt,wt),we),ee.b=we+=Ie,ee.p=me=wt*8,ee.f=ae;continue}if(me>qe){U&&Qe(0);break}}V&&W(we+131072);for(var $t=(1<<Te)-1,Mt=(1<<$e)-1,jr=me;;jr=me){var Lt=Be[ye(J,me)&$t],Pr=Lt>>4;if(me+=Lt&15,me>qe){U&&Qe(0);break}if(Lt||Qe(2),Pr<256)be[we++]=Pr;else if(Pr==256){jr=me,Be=null;break}else{var Mr=Pr-254;if(Pr>264){var Ft=Pr-257,hr=E[Ft];Mr=de(J,me,(1<<hr)-1)+M[Ft],me+=hr}var Ir=Re[ye(J,me)&Mt],Nn=Ir>>4;Ir||Qe(3),me+=Ir&15;var yt=$[Nn];if(Nn>3){var hr=R[Nn];yt+=ye(J,me)&(1<<hr)-1,me+=hr}if(me>qe){U&&Qe(0);break}V&&W(we+131072);var gn=we+Mr;if(we<yt){var st=Ze-yt,Tt=Math.min(yt,gn);for(st+we<0&&Qe(3);we<Tt;++we)be[we]=ke[st+we]}for(;we<gn;++we)be[we]=be[we-yt]}}ee.l=Be,ee.p=jr,ee.b=we,ee.f=ae,Be&&(ae=1,ee.m=Te,ee.d=Re,ee.n=$e)}while(!ae);return we!=be.length&&ht?je(be,0,we):be.subarray(0,we)},Ve=function(J,ee,be){be<<=ee&7;var ke=ee/8|0;J[ke]|=be,J[ke+1]|=be>>8},tt=function(J,ee,be){be<<=ee&7;var ke=ee/8|0;J[ke]|=be,J[ke+1]|=be>>8,J[ke+2]|=be>>16},nt=function(J,ee){for(var be=[],ke=0;ke<J.length;++ke)J[ke]&&be.push({s:ke,f:J[ke]});var Le=be.length,Ze=be.slice();if(!Le)return{t:Bt,l:0};if(Le==1){var ht=new b(be[0].s+1);return ht[be[0].s]=1,{t:ht,l:1}}be.sort(function(wt,At){return wt.f-At.f}),be.push({s:-1,f:25001});var V=be[0],U=be[1],W=0,ae=1,me=2;for(be[0]={s:-1,f:V.f+U.f,l:V,r:U};ae!=Le-1;)V=be[be[W].f<be[me].f?W++:me++],U=be[W!=ae&&be[W].f<be[me].f?W++:me++],be[ae++]={s:-1,f:V.f+U.f,l:V,r:U};for(var we=Ze[0].s,ke=1;ke<Le;++ke)Ze[ke].s>we&&(we=Ze[ke].s);var Be=new w(we+1),Re=Ye(be[ae-1],Be,0);if(Re>ee){var ke=0,Te=0,$e=Re-ee,qe=1<<$e;for(Ze.sort(function(At,Nt){return Be[Nt.s]-Be[At.s]||At.f-Nt.f});ke<Le;++ke){var at=Ze[ke].s;if(Be[at]>ee)Te+=qe-(1<<Re-Be[at]),Be[at]=ee;else break}for(Te>>=$e;Te>0;){var pt=Ze[ke].s;Be[pt]<ee?Te-=1<<ee-Be[pt]++-1:++ke}for(;ke>=0&&Te;--ke){var Ie=Ze[ke].s;Be[Ie]==ee&&(--Be[Ie],++Te)}Re=ee}return{t:new b(Be),l:Re}},Ye=function(J,ee,be){return J.s==-1?Math.max(Ye(J.l,ee,be+1),Ye(J.r,ee,be+1)):ee[J.s]=be},ut=function(J){for(var ee=J.length;ee&&!J[--ee];);for(var be=new w(++ee),ke=0,Le=J[0],Ze=1,ht=function(U){be[ke++]=U},V=1;V<=ee;++V)if(J[V]==Le&&V!=ee)++Ze;else{if(!Le&&Ze>2){for(;Ze>138;Ze-=138)ht(32754);Ze>2&&(ht(Ze>10?Ze-11<<5|28690:Ze-3<<5|12305),Ze=0)}else if(Ze>3){for(ht(Le),--Ze;Ze>6;Ze-=6)ht(8304);Ze>2&&(ht(Ze-3<<5|8208),Ze=0)}for(;Ze--;)ht(Le);Ze=1,Le=J[V]}return{c:be.subarray(0,ke),n:ee}},mt=function(J,ee){for(var be=0,ke=0;ke<ee.length;++ke)be+=J[ke]*ee[ke];return be},St=function(J,ee,be){var ke=be.length,Le=ge(ee+2);J[Le]=ke&255,J[Le+1]=ke>>8,J[Le+2]=J[Le]^255,J[Le+3]=J[Le+1]^255;for(var Ze=0;Ze<ke;++Ze)J[Le+Ze+4]=be[Ze];return(Le+4+ke)*8},or=function(J,ee,be,ke,Le,Ze,ht,V,U,W,ae){Ve(ee,ae++,be),++Le[256];for(var me=nt(Le,15),we=me.t,Be=me.l,Re=nt(Ze,15),Te=Re.t,$e=Re.l,qe=ut(we),at=qe.c,pt=qe.n,Ie=ut(Te),wt=Ie.c,At=Ie.n,Nt=new w(19),lt=0;lt<at.length;++lt)++Nt[at[lt]&31];for(var lt=0;lt<wt.length;++lt)++Nt[wt[lt]&31];for(var Ut=nt(Nt,7),tr=Ut.t,Ft=Ut.l,it=19;it>4&&!tr[_[it-1]];--it);var Yt=W+5<<3,Er=mt(Le,xe)+mt(Ze,Ae)+ht,lr=mt(Le,we)+mt(Ze,Te)+ht+14+3*it+mt(Nt,tr)+2*Nt[16]+3*Nt[17]+7*Nt[18];if(U>=0&&Yt<=Er&&Yt<=lr)return St(ee,ae,J.subarray(U,U+W));var Lt,vr,ft,yt;if(Ve(ee,ae,1+(lr<Er)),ae+=2,lr<Er){Lt=pe(we,Be,0),vr=we,ft=pe(Te,$e,0),yt=Te;var $t=pe(tr,Ft,0);Ve(ee,ae,pt-257),Ve(ee,ae+5,At-1),Ve(ee,ae+10,it-4),ae+=14;for(var lt=0;lt<it;++lt)Ve(ee,ae+3*lt,tr[_[lt]]);ae+=3*it;for(var Mt=[at,wt],jr=0;jr<2;++jr)for(var Pr=Mt[jr],lt=0;lt<Pr.length;++lt){var Mr=Pr[lt]&31;Ve(ee,ae,$t[Mr]),ae+=tr[Mr],Mr>15&&(Ve(ee,ae,Pr[lt]>>5&127),ae+=Pr[lt]>>12)}}else Lt=ue,vr=xe,ft=fe,yt=Ae;for(var lt=0;lt<V;++lt){var hr=ke[lt];if(hr>255){var Mr=hr>>18&31;tt(ee,ae,Lt[Mr+257]),ae+=vr[Mr+257],Mr>7&&(Ve(ee,ae,hr>>23&31),ae+=E[Mr]);var Ir=hr&31;tt(ee,ae,ft[Ir]),ae+=yt[Ir],Ir>3&&(tt(ee,ae,hr>>5&8191),ae+=R[Ir])}else tt(ee,ae,Lt[hr]),ae+=vr[hr]}return tt(ee,ae,Lt[256]),ae+vr[256]},Zt=new j([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Bt=new b(0),ur=function(J,ee,be,ke,Le,Ze){var ht=Ze.z||J.length,V=new b(ke+ht+5*(1+Math.ceil(ht/7e3))+Le),U=V.subarray(ke,V.length-Le),W=Ze.l,ae=(Ze.r||0)&7;if(ee){ae&&(U[0]=Ze.r>>3);for(var me=Zt[ee-1],we=me>>13,Be=me&8191,Re=(1<<be)-1,Te=Ze.p||new w(32768),$e=Ze.h||new w(Re+1),qe=Math.ceil(be/3),at=2*qe,pt=function(mr){return(J[mr]^J[mr+1]<<qe^J[mr+2]<<at)&Re},Ie=new j(25e3),wt=new w(288),At=new w(32),Nt=0,lt=0,Ut=Ze.i||0,tr=0,Ft=Ze.w||0,it=0;Ut+2<ht;++Ut){var Yt=pt(Ut),Er=Ut&32767,lr=$e[Yt];if(Te[Er]=lr,$e[Yt]=Er,Ft<=Ut){var Lt=ht-Ut;if((Nt>7e3||tr>24576)&&(Lt>423||!W)){ae=or(J,U,0,Ie,wt,At,lt,tr,it,Ut-it,ae),tr=Nt=lt=0,it=Ut;for(var vr=0;vr<286;++vr)wt[vr]=0;for(var vr=0;vr<30;++vr)At[vr]=0}var ft=2,yt=0,$t=Be,Mt=Er-lr&32767;if(Lt>2&&Yt==pt(Ut-Mt))for(var jr=Math.min(we,Lt)-1,Pr=Math.min(32767,Ut),Mr=Math.min(258,Lt);Mt<=Pr&&--$t&&Er!=lr;){if(J[Ut+ft]==J[Ut+ft-Mt]){for(var hr=0;hr<Mr&&J[Ut+hr]==J[Ut+hr-Mt];++hr);if(hr>ft){if(ft=hr,yt=Mt,hr>jr)break;for(var Ir=Math.min(Mt,hr-2),Nn=0,vr=0;vr<Ir;++vr){var gn=Ut-Mt+vr&32767,st=Te[gn],Tt=gn-st&32767;Tt>Nn&&(Nn=Tt,lr=gn)}}}Er=lr,lr=Te[Er],Mt+=Er-lr&32767}if(yt){Ie[tr++]=268435456|O[ft]<<18|z[yt];var It=O[ft]&31,er=z[yt]&31;lt+=E[It]+R[er],++wt[257+It],++At[er],Ft=Ut+ft,++Nt}else Ie[tr++]=J[Ut],++wt[J[Ut]]}}for(Ut=Math.max(Ut,Ft);Ut<ht;++Ut)Ie[tr++]=J[Ut],++wt[J[Ut]];ae=or(J,U,W,Ie,wt,At,lt,tr,it,Ut-it,ae),W||(Ze.r=ae&7|U[ae/8|0]<<3,ae-=7,Ze.h=$e,Ze.p=Te,Ze.i=Ut,Ze.w=Ft)}else{for(var Ut=Ze.w||0;Ut<ht+W;Ut+=65535){var nr=Ut+65535;nr>=ht&&(U[ae/8|0]=W,nr=ht),ae=St(U,ae+1,J.subarray(Ut,nr))}Ze.i=ht}return je(V,0,ke+ge(ae)+Le)},Nr=(function(){for(var J=new Int32Array(256),ee=0;ee<256;++ee){for(var be=ee,ke=9;--ke;)be=(be&1&&-306674912)^be>>>1;J[ee]=be}return J})(),Qr=function(){var J=-1;return{p:function(ee){for(var be=J,ke=0;ke<ee.length;++ke)be=Nr[be&255^ee[ke]]^be>>>8;J=be},d:function(){return~J}}},$r=function(){var J=1,ee=0;return{p:function(be){for(var ke=J,Le=ee,Ze=be.length|0,ht=0;ht!=Ze;){for(var V=Math.min(ht+2655,Ze);ht<V;++ht)Le+=ke+=be[ht];ke=(ke&65535)+15*(ke>>16),Le=(Le&65535)+15*(Le>>16)}J=ke,ee=Le},d:function(){return J%=65521,ee%=65521,(J&255)<<24|(J&65280)<<8|(ee&255)<<8|ee>>8}}},on=function(J,ee,be,ke,Le){if(!Le&&(Le={l:1},ee.dictionary)){var Ze=ee.dictionary.subarray(-32768),ht=new b(Ze.length+J.length);ht.set(Ze),ht.set(J,Ze.length),J=ht,Le.w=Ze.length}return ur(J,ee.level==null?6:ee.level,ee.mem==null?Le.l?Math.ceil(Math.max(8,Math.min(13,Math.log(J.length)))*1.5):20:12+ee.mem,be,ke,Le)},wn=function(J,ee){var be={};for(var ke in J)be[ke]=J[ke];for(var ke in ee)be[ke]=ee[ke];return be},En=function(J,ee,be){for(var ke=J(),Le=J.toString(),Ze=Le.slice(Le.indexOf("[")+1,Le.lastIndexOf("]")).replace(/\s+/g,"").split(","),ht=0;ht<ke.length;++ht){var V=ke[ht],U=Ze[ht];if(typeof V=="function"){ee+=";"+U+"=";var W=V.toString();if(V.prototype)if(W.indexOf("[native code]")!=-1){var ae=W.indexOf(" ",8)+1;ee+=W.slice(ae,W.indexOf("(",ae))}else{ee+=W;for(var me in V.prototype)ee+=";"+U+".prototype."+me+"="+V.prototype[me].toString()}else ee+=W}else be[U]=V}return ee},en=[],Pt=function(J){var ee=[];for(var be in J)J[be].buffer&&ee.push((J[be]=new J[be].constructor(J[be])).buffer);return ee},ar=function(J,ee,be,ke){if(!en[be]){for(var Le="",Ze={},ht=J.length-1,V=0;V<ht;++V)Le=En(J[V],Le,Ze);en[be]={c:En(J[ht],Le,Ze),e:Ze}}var U=wn({},en[be].e);return v(en[be].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+ee.toString()+"}",be,U,Pt(U),ke)},Xr=function(){return[b,w,j,E,R,_,M,$,Y,H,se,He,pe,le,de,ye,ge,je,Qe,ze,gi,Dt,Tr]},Cn=function(){return[b,w,j,E,R,_,O,z,ue,xe,fe,Ae,se,Zt,Bt,pe,Ve,tt,nt,Ye,ut,mt,St,or,ge,je,ur,on,zi,Dt]},tn=function(){return[Hn,ps,Dr,Qr,Nr]},vn=function(){return[Tn,es]},bn=function(){return[Ti,Dr,$r]},Br=function(){return[ui]},Dt=function(J){return postMessage(J,[J.buffer])},Tr=function(J){return J&&{out:J.size&&new b(J.size),dictionary:J.dictionary}},qr=function(J,ee,be,ke,Le,Ze){var ht=ar(be,ke,Le,function(V,U){ht.terminate(),Ze(V,U)});return ht.postMessage([J,ee],ee.consume?[J.buffer]:[]),function(){ht.terminate()}},Zr=function(J){return J.ondata=function(ee,be){return postMessage([ee,be],[ee.buffer])},function(ee){ee.data.length?(J.push(ee.data[0],ee.data[1]),postMessage([ee.data[0].length])):J.flush()}},jn=function(J,ee,be,ke,Le,Ze,ht){var V,U=ar(J,ke,Le,function(W,ae){W?(U.terminate(),ee.ondata.call(ee,W)):Array.isArray(ae)?ae.length==1?(ee.queuedSize-=ae[0],ee.ondrain&&ee.ondrain(ae[0])):(ae[1]&&U.terminate(),ee.ondata.call(ee,W,ae[0],ae[1])):ht(ae)});U.postMessage(be),ee.queuedSize=0,ee.push=function(W,ae){ee.ondata||Qe(5),V&&ee.ondata(Qe(4,0,1),null,!!ae),ee.queuedSize+=W.length,U.postMessage([W,V=ae],[W.buffer])},ee.terminate=function(){U.terminate()},Ze&&(ee.flush=function(){U.postMessage([])})},rn=function(J,ee){return J[ee]|J[ee+1]<<8},Kn=function(J,ee){return(J[ee]|J[ee+1]<<8|J[ee+2]<<16|J[ee+3]<<24)>>>0},an=function(J,ee){return Kn(J,ee)+Kn(J,ee+4)*4294967296},Dr=function(J,ee,be){for(;be;++ee)J[ee]=be,be>>>=8},Hn=function(J,ee){var be=ee.filename;if(J[0]=31,J[1]=139,J[2]=8,J[8]=ee.level<2?4:ee.level==9?2:0,J[9]=3,ee.mtime!=0&&Dr(J,4,Math.floor(new Date(ee.mtime||Date.now())/1e3)),be){J[3]=8;for(var ke=0;ke<=be.length;++ke)J[ke+10]=be.charCodeAt(ke)}},Tn=function(J){(J[0]!=31||J[1]!=139||J[2]!=8)&&Qe(6,"invalid gzip data");var ee=J[3],be=10;ee&4&&(be+=(J[10]|J[11]<<8)+2);for(var ke=(ee>>3&1)+(ee>>4&1);ke>0;ke-=!J[be++]);return be+(ee&2)},es=function(J){var ee=J.length;return(J[ee-4]|J[ee-3]<<8|J[ee-2]<<16|J[ee-1]<<24)>>>0},ps=function(J){return 10+(J.filename?J.filename.length+1:0)},Ti=function(J,ee){var be=ee.level,ke=be==0?0:be<6?1:be==9?3:2;if(J[0]=120,J[1]=ke<<6|(ee.dictionary&&32),J[1]|=31-(J[0]<<8|J[1])%31,ee.dictionary){var Le=$r();Le.p(ee.dictionary),Dr(J,2,Le.d())}},ui=function(J,ee){return((J[0]&15)!=8||J[0]>>4>7||(J[0]<<8|J[1])%31)&&Qe(6,"invalid zlib data"),(J[1]>>5&1)==+!ee&&Qe(6,"invalid zlib data: "+(J[1]&32?"need":"unexpected")+" dictionary"),(J[1]>>3&4)+2};function vi(J,ee){return typeof J=="function"&&(ee=J,J={}),this.ondata=ee,J}var fs=(function(){function J(ee,be){if(typeof ee=="function"&&(be=ee,ee={}),this.ondata=be,this.o=ee||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new b(98304),this.o.dictionary){var ke=this.o.dictionary.subarray(-32768);this.b.set(ke,32768-ke.length),this.s.i=32768-ke.length}}return J.prototype.p=function(ee,be){this.ondata(on(ee,this.o,0,0,this.s),be)},J.prototype.push=function(ee,be){this.ondata||Qe(5),this.s.l&&Qe(4);var ke=ee.length+this.s.z;if(ke>this.b.length){if(ke>2*this.b.length-32768){var Le=new b(ke&-32768);Le.set(this.b.subarray(0,this.s.z)),this.b=Le}var Ze=this.b.length-this.s.z;this.b.set(ee.subarray(0,Ze),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(ee.subarray(Ze),32768),this.s.z=ee.length-Ze+32768,this.s.i=32766,this.s.w=32768}else this.b.set(ee,this.s.z),this.s.z+=ee.length;this.s.l=be&1,(this.s.z>this.s.w+8191||be)&&(this.p(this.b,be||!1),this.s.w=this.s.i,this.s.i-=2)},J.prototype.flush=function(){this.ondata||Qe(5),this.s.l&&Qe(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},J})(),Sn=(function(){function J(ee,be){jn([Cn,function(){return[Zr,fs]}],this,vi.call(this,ee,be),function(ke){var Le=new fs(ke.data);onmessage=Zr(Le)},6,1)}return J})();function Vs(J,ee,be){return be||(be=ee,ee={}),typeof be!="function"&&Qe(7),qr(J,ee,[Cn],function(ke){return Dt(zi(ke.data[0],ke.data[1]))},0,be)}function zi(J,ee){return on(J,ee||{},0,0)}var zn=(function(){function J(ee,be){typeof ee=="function"&&(be=ee,ee={}),this.ondata=be;var ke=ee&&ee.dictionary&&ee.dictionary.subarray(-32768);this.s={i:0,b:ke?ke.length:0},this.o=new b(32768),this.p=new b(0),ke&&this.o.set(ke)}return J.prototype.e=function(ee){if(this.ondata||Qe(5),this.d&&Qe(4),!this.p.length)this.p=ee;else if(ee.length){var be=new b(this.p.length+ee.length);be.set(this.p),be.set(ee,this.p.length),this.p=be}},J.prototype.c=function(ee){this.s.i=+(this.d=ee||!1);var be=this.s.b,ke=ze(this.p,this.s,this.o);this.ondata(je(ke,be,this.s.b),this.d),this.o=je(ke,this.s.b-32768),this.s.b=this.o.length,this.p=je(this.p,this.s.p/8|0),this.s.p&=7},J.prototype.push=function(ee,be){this.e(ee),this.c(be)},J})(),wi=(function(){function J(ee,be){jn([Xr,function(){return[Zr,zn]}],this,vi.call(this,ee,be),function(ke){var Le=new zn(ke.data);onmessage=Zr(Le)},7,0)}return J})();function mi(J,ee,be){return be||(be=ee,ee={}),typeof be!="function"&&Qe(7),qr(J,ee,[Xr],function(ke){return Dt(gi(ke.data[0],Tr(ke.data[1])))},1,be)}function gi(J,ee){return ze(J,{i:2},ee&&ee.out,ee&&ee.dictionary)}var Ni=(function(){function J(ee,be){this.c=Qr(),this.l=0,this.v=1,fs.call(this,ee,be)}return J.prototype.push=function(ee,be){this.c.p(ee),this.l+=ee.length,fs.prototype.push.call(this,ee,be)},J.prototype.p=function(ee,be){var ke=on(ee,this.o,this.v&&ps(this.o),be&&8,this.s);this.v&&(Hn(ke,this.o),this.v=0),be&&(Dr(ke,ke.length-8,this.c.d()),Dr(ke,ke.length-4,this.l)),this.ondata(ke,be)},J.prototype.flush=function(){fs.prototype.flush.call(this)},J})(),Hs=(function(){function J(ee,be){jn([Cn,tn,function(){return[Zr,fs,Ni]}],this,vi.call(this,ee,be),function(ke){var Le=new Ni(ke.data);onmessage=Zr(Le)},8,1)}return J})();function Xi(J,ee,be){return be||(be=ee,ee={}),typeof be!="function"&&Qe(7),qr(J,ee,[Cn,tn,function(){return[Bs]}],function(ke){return Dt(Bs(ke.data[0],ke.data[1]))},2,be)}function Bs(J,ee){ee||(ee={});var be=Qr(),ke=J.length;be.p(J);var Le=on(J,ee,ps(ee),8),Ze=Le.length;return Hn(Le,ee),Dr(Le,Ze-8,be.d()),Dr(Le,Ze-4,ke),Le}var Gi=(function(){function J(ee,be){this.v=1,this.r=0,zn.call(this,ee,be)}return J.prototype.push=function(ee,be){if(zn.prototype.e.call(this,ee),this.r+=ee.length,this.v){var ke=this.p.subarray(this.v-1),Le=ke.length>3?Tn(ke):4;if(Le>ke.length){if(!be)return}else this.v>1&&this.onmember&&this.onmember(this.r-ke.length);this.p=ke.subarray(Le),this.v=0}zn.prototype.c.call(this,be),this.s.f&&!this.s.l&&!be&&(this.v=ge(this.s.p)+9,this.s={i:0},this.o=new b(0),this.push(new b(0),be))},J})(),Ss=(function(){function J(ee,be){var ke=this;jn([Xr,vn,function(){return[Zr,zn,Gi]}],this,vi.call(this,ee,be),function(Le){var Ze=new Gi(Le.data);Ze.onmember=function(ht){return postMessage(ht)},onmessage=Zr(Ze)},9,0,function(Le){return ke.onmember&&ke.onmember(Le)})}return J})();function La(J,ee,be){return be||(be=ee,ee={}),typeof be!="function"&&Qe(7),qr(J,ee,[Xr,vn,function(){return[Qi]}],function(ke){return Dt(Qi(ke.data[0],ke.data[1]))},3,be)}function Qi(J,ee){var be=Tn(J);return be+8>J.length&&Qe(6,"invalid gzip data"),ze(J.subarray(be,-8),{i:2},ee&&ee.out||new b(es(J)),ee&&ee.dictionary)}var Pi=(function(){function J(ee,be){this.c=$r(),this.v=1,fs.call(this,ee,be)}return J.prototype.push=function(ee,be){this.c.p(ee),fs.prototype.push.call(this,ee,be)},J.prototype.p=function(ee,be){var ke=on(ee,this.o,this.v&&(this.o.dictionary?6:2),be&&4,this.s);this.v&&(Ti(ke,this.o),this.v=0),be&&Dr(ke,ke.length-4,this.c.d()),this.ondata(ke,be)},J.prototype.flush=function(){fs.prototype.flush.call(this)},J})(),Ot=(function(){function J(ee,be){jn([Cn,bn,function(){return[Zr,fs,Pi]}],this,vi.call(this,ee,be),function(ke){var Le=new Pi(ke.data);onmessage=Zr(Le)},10,1)}return J})();function sn(J,ee,be){return be||(be=ee,ee={}),typeof be!="function"&&Qe(7),qr(J,ee,[Cn,bn,function(){return[mn]}],function(ke){return Dt(mn(ke.data[0],ke.data[1]))},4,be)}function mn(J,ee){ee||(ee={});var be=$r();be.p(J);var ke=on(J,ee,ee.dictionary?6:2,4);return Ti(ke,ee),Dr(ke,ke.length-4,be.d()),ke}var ji=(function(){function J(ee,be){zn.call(this,ee,be),this.v=ee&&ee.dictionary?2:1}return J.prototype.push=function(ee,be){if(zn.prototype.e.call(this,ee),this.v){if(this.p.length<6&&!be)return;this.p=this.p.subarray(ui(this.p,this.v-1)),this.v=0}be&&(this.p.length<4&&Qe(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),zn.prototype.c.call(this,be)},J})(),As=(function(){function J(ee,be){jn([Xr,Br,function(){return[Zr,zn,ji]}],this,vi.call(this,ee,be),function(ke){var Le=new ji(ke.data);onmessage=Zr(Le)},11,0)}return J})();function Ji(J,ee,be){return be||(be=ee,ee={}),typeof be!="function"&&Qe(7),qr(J,ee,[Xr,Br,function(){return[si]}],function(ke){return Dt(si(ke.data[0],Tr(ke.data[1])))},5,be)}function si(J,ee){return ze(J.subarray(ui(J,ee&&ee.dictionary),-4),{i:2},ee&&ee.out,ee&&ee.dictionary)}var Ra=(function(){function J(ee,be){this.o=vi.call(this,ee,be)||{},this.G=Gi,this.I=zn,this.Z=ji}return J.prototype.i=function(){var ee=this;this.s.ondata=function(be,ke){ee.ondata(be,ke)}},J.prototype.push=function(ee,be){if(this.ondata||Qe(5),this.s)this.s.push(ee,be);else{if(this.p&&this.p.length){var ke=new b(this.p.length+ee.length);ke.set(this.p),ke.set(ee,this.p.length)}else this.p=ee;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,be),this.p=null)}},J})(),aa=(function(){function J(ee,be){Ra.call(this,ee,be),this.queuedSize=0,this.G=Ss,this.I=wi,this.Z=As}return J.prototype.i=function(){var ee=this;this.s.ondata=function(be,ke,Le){ee.ondata(be,ke,Le)},this.s.ondrain=function(be){ee.queuedSize-=be,ee.ondrain&&ee.ondrain(be)}},J.prototype.push=function(ee,be){this.queuedSize+=ee.length,Ra.prototype.push.call(this,ee,be)},J})();function wa(J,ee,be){return be||(be=ee,ee={}),typeof be!="function"&&Qe(7),J[0]==31&&J[1]==139&&J[2]==8?La(J,ee,be):(J[0]&15)!=8||J[0]>>4>7||(J[0]<<8|J[1])%31?mi(J,ee,be):Ji(J,ee,be)}function oa(J,ee){return J[0]==31&&J[1]==139&&J[2]==8?Qi(J,ee):(J[0]&15)!=8||J[0]>>4>7||(J[0]<<8|J[1])%31?gi(J,ee):si(J,ee)}var Gt=function(J,ee,be,ke){for(var Le in J){var Ze=J[Le],ht=ee+Le,V=ke;Array.isArray(Ze)&&(V=wn(ke,Ze[1]),Ze=Ze[0]),Ze instanceof b?be[ht]=[Ze,V]:(be[ht+="/"]=[new b(0),V],Gt(Ze,ht,be,ke))}},Ar=typeof TextEncoder<"u"&&new TextEncoder,hn=typeof TextDecoder<"u"&&new TextDecoder,Yr=0;try{hn.decode(Bt,{stream:!0}),Yr=1}catch{}var Gs=function(J){for(var ee="",be=0;;){var ke=J[be++],Le=(ke>127)+(ke>223)+(ke>239);if(be+Le>J.length)return{s:ee,r:je(J,be-1)};Le?Le==3?(ke=((ke&15)<<18|(J[be++]&63)<<12|(J[be++]&63)<<6|J[be++]&63)-65536,ee+=String.fromCharCode(55296|ke>>10,56320|ke&1023)):Le&1?ee+=String.fromCharCode((ke&31)<<6|J[be++]&63):ee+=String.fromCharCode((ke&15)<<12|(J[be++]&63)<<6|J[be++]&63):ee+=String.fromCharCode(ke)}},Xs=(function(){function J(ee){this.ondata=ee,Yr?this.t=new TextDecoder:this.p=Bt}return J.prototype.push=function(ee,be){if(this.ondata||Qe(5),be=!!be,this.t){this.ondata(this.t.decode(ee,{stream:!0}),be),be&&(this.t.decode().length&&Qe(8),this.t=null);return}this.p||Qe(4);var ke=new b(this.p.length+ee.length);ke.set(this.p),ke.set(ee,this.p.length);var Le=Gs(ke),Ze=Le.s,ht=Le.r;be?(ht.length&&Qe(8),this.p=null):this.p=ht,this.ondata(Ze,be)},J})(),Si=(function(){function J(ee){this.ondata=ee}return J.prototype.push=function(ee,be){this.ondata||Qe(5),this.d&&Qe(4),this.ondata($s(ee),this.d=be||!1)},J})();function $s(J,ee){if(ee){for(var be=new b(J.length),ke=0;ke<J.length;++ke)be[ke]=J.charCodeAt(ke);return be}if(Ar)return Ar.encode(J);for(var Le=J.length,Ze=new b(J.length+(J.length>>1)),ht=0,V=function(ae){Ze[ht++]=ae},ke=0;ke<Le;++ke){if(ht+5>Ze.length){var U=new b(ht+8+(Le-ke<<1));U.set(Ze),Ze=U}var W=J.charCodeAt(ke);W<128||ee?V(W):W<2048?(V(192|W>>6),V(128|W&63)):W>55295&&W<57344?(W=65536+(W&1047552)|J.charCodeAt(++ke)&1023,V(240|W>>18),V(128|W>>12&63),V(128|W>>6&63),V(128|W&63)):(V(224|W>>12),V(128|W>>6&63),V(128|W&63))}return je(Ze,0,ht)}function Wn(J,ee){if(ee){for(var be="",ke=0;ke<J.length;ke+=16384)be+=String.fromCharCode.apply(null,J.subarray(ke,ke+16384));return be}else{if(hn)return hn.decode(J);var Le=Gs(J),Ze=Le.s,be=Le.r;return be.length&&Qe(8),Ze}}var Ks=function(J){return J==1?3:J<6?2:J==9?1:0},xi=function(J,ee){return ee+30+rn(J,ee+26)+rn(J,ee+28)},Cs=function(J,ee,be){var ke=rn(J,ee+28),Le=Wn(J.subarray(ee+46,ee+46+ke),!(rn(J,ee+8)&2048)),Ze=ee+46+ke,ht=Kn(J,ee+20),V=be&&ht==4294967295?yi(J,Ze):[ht,Kn(J,ee+24),Kn(J,ee+42)],U=V[0],W=V[1],ae=V[2];return[rn(J,ee+10),U,W,Le,Ze+rn(J,ee+30)+rn(J,ee+32),ae]},yi=function(J,ee){for(;rn(J,ee)!=1;ee+=4+rn(J,ee+2));return[an(J,ee+12),an(J,ee+4),an(J,ee+20)]},Js=function(J){var ee=0;if(J)for(var be in J){var ke=J[be].length;ke>65535&&Qe(9),ee+=ke+4}return ee},fa=function(J,ee,be,ke,Le,Ze,ht,V){var U=ke.length,W=be.extra,ae=V&&V.length,me=Js(W);Dr(J,ee,ht!=null?33639248:67324752),ee+=4,ht!=null&&(J[ee++]=20,J[ee++]=be.os),J[ee]=20,ee+=2,J[ee++]=be.flag<<1|(Ze<0&&8),J[ee++]=Le&&8,J[ee++]=be.compression&255,J[ee++]=be.compression>>8;var we=new Date(be.mtime==null?Date.now():be.mtime),Be=we.getFullYear()-1980;if((Be<0||Be>119)&&Qe(10),Dr(J,ee,Be<<25|we.getMonth()+1<<21|we.getDate()<<16|we.getHours()<<11|we.getMinutes()<<5|we.getSeconds()>>1),ee+=4,Ze!=-1&&(Dr(J,ee,be.crc),Dr(J,ee+4,Ze<0?-Ze-2:Ze),Dr(J,ee+8,be.size)),Dr(J,ee+12,U),Dr(J,ee+14,me),ee+=16,ht!=null&&(Dr(J,ee,ae),Dr(J,ee+6,be.attrs),Dr(J,ee+10,ht),ee+=14),J.set(ke,ee),ee+=U,me)for(var Re in W){var Te=W[Re],$e=Te.length;Dr(J,ee,+Re),Dr(J,ee+2,$e),J.set(Te,ee+4),ee+=4+$e}return ae&&(J.set(V,ee),ee+=ae),ee},ki=function(J,ee,be,ke,Le){Dr(J,ee,101010256),Dr(J,ee+8,be),Dr(J,ee+10,be),Dr(J,ee+12,ke),Dr(J,ee+16,Le)},Bi=(function(){function J(ee){this.filename=ee,this.c=Qr(),this.size=0,this.compression=0}return J.prototype.process=function(ee,be){this.ondata(null,ee,be)},J.prototype.push=function(ee,be){this.ondata||Qe(5),this.c.p(ee),this.size+=ee.length,be&&(this.crc=this.c.d()),this.process(ee,be||!1)},J})(),Ki=(function(){function J(ee,be){var ke=this;be||(be={}),Bi.call(this,ee),this.d=new fs(be,function(Le,Ze){ke.ondata(null,Le,Ze)}),this.compression=8,this.flag=Ks(be.level)}return J.prototype.process=function(ee,be){try{this.d.push(ee,be)}catch(ke){this.ondata(ke,null,be)}},J.prototype.push=function(ee,be){Bi.prototype.push.call(this,ee,be)},J})(),za=(function(){function J(ee,be){var ke=this;be||(be={}),Bi.call(this,ee),this.d=new Sn(be,function(Le,Ze,ht){ke.ondata(Le,Ze,ht)}),this.compression=8,this.flag=Ks(be.level),this.terminate=this.d.terminate}return J.prototype.process=function(ee,be){this.d.push(ee,be)},J.prototype.push=function(ee,be){Bi.prototype.push.call(this,ee,be)},J})(),_s=(function(){function J(ee){this.ondata=ee,this.u=[],this.d=1}return J.prototype.add=function(ee){var be=this;if(this.ondata||Qe(5),this.d&2)this.ondata(Qe(4+(this.d&1)*8,0,1),null,!1);else{var ke=$s(ee.filename),Le=ke.length,Ze=ee.comment,ht=Ze&&$s(Ze),V=Le!=ee.filename.length||ht&&Ze.length!=ht.length,U=Le+Js(ee.extra)+30;Le>65535&&this.ondata(Qe(11,0,1),null,!1);var W=new b(U);fa(W,0,ee,ke,V,-1);var ae=[W],me=function(){for(var $e=0,qe=ae;$e<qe.length;$e++){var at=qe[$e];be.ondata(null,at,!1)}ae=[]},we=this.d;this.d=0;var Be=this.u.length,Re=wn(ee,{f:ke,u:V,o:ht,t:function(){ee.terminate&&ee.terminate()},r:function(){if(me(),we){var $e=be.u[Be+1];$e?$e.r():be.d=1}we=1}}),Te=0;ee.ondata=function($e,qe,at){if($e)be.ondata($e,qe,at),be.terminate();else if(Te+=qe.length,ae.push(qe),at){var pt=new b(16);Dr(pt,0,134695760),Dr(pt,4,ee.crc),Dr(pt,8,Te),Dr(pt,12,ee.size),ae.push(pt),Re.c=Te,Re.b=U+Te+16,Re.crc=ee.crc,Re.size=ee.size,we&&Re.r(),we=1}else we&&me()},this.u.push(Re)}},J.prototype.end=function(){var ee=this;if(this.d&2){this.ondata(Qe(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){ee.d&1&&(ee.u.splice(-1,1),ee.e())},t:function(){}}),this.d=3},J.prototype.e=function(){for(var ee=0,be=0,ke=0,Le=0,Ze=this.u;Le<Ze.length;Le++){var ht=Ze[Le];ke+=46+ht.f.length+Js(ht.extra)+(ht.o?ht.o.length:0)}for(var V=new b(ke+22),U=0,W=this.u;U<W.length;U++){var ht=W[U];fa(V,ee,ht,ht.f,ht.u,-ht.c-2,be,ht.o),ee+=46+ht.f.length+Js(ht.extra)+(ht.o?ht.o.length:0),be+=ht.b}ki(V,ee,this.u.length,ke,be),this.ondata(null,V,!0),this.d=2},J.prototype.terminate=function(){for(var ee=0,be=this.u;ee<be.length;ee++){var ke=be[ee];ke.t()}this.d=2},J})();function Zi(J,ee,be){be||(be=ee,ee={}),typeof be!="function"&&Qe(7);var ke={};Gt(J,"",ke,ee);var Le=Object.keys(ke),Ze=Le.length,ht=0,V=0,U=Ze,W=new Array(Ze),ae=[],me=function(){for(var $e=0;$e<ae.length;++$e)ae[$e]()},we=function($e,qe){ne(function(){be($e,qe)})};ne(function(){we=be});var Be=function(){var $e=new b(V+22),qe=ht,at=V-ht;V=0;for(var pt=0;pt<U;++pt){var Ie=W[pt];try{var wt=Ie.c.length;fa($e,V,Ie,Ie.f,Ie.u,wt);var At=30+Ie.f.length+Js(Ie.extra),Nt=V+At;$e.set(Ie.c,Nt),fa($e,ht,Ie,Ie.f,Ie.u,wt,V,Ie.m),ht+=16+At+(Ie.m?Ie.m.length:0),V=Nt+wt}catch(lt){return we(lt,null)}}ki($e,ht,W.length,at,qe),we(null,$e)};Ze||Be();for(var Re=function($e){var qe=Le[$e],at=ke[qe],pt=at[0],Ie=at[1],wt=Qr(),At=pt.length;wt.p(pt);var Nt=$s(qe),lt=Nt.length,Ut=Ie.comment,tr=Ut&&$s(Ut),Ft=tr&&tr.length,it=Js(Ie.extra),Yt=Ie.level==0?0:8,Er=function(lr,Lt){if(lr)me(),we(lr,null);else{var vr=Lt.length;W[$e]=wn(Ie,{size:At,crc:wt.d(),c:Lt,f:Nt,m:tr,u:lt!=qe.length||tr&&Ut.length!=Ft,compression:Yt}),ht+=30+lt+it+vr,V+=76+2*(lt+it)+(Ft||0)+vr,--Ze||Be()}};if(lt>65535&&Er(Qe(11,0,1),null),!Yt)Er(null,pt);else if(At<16e4)try{Er(null,zi(pt,Ie))}catch(lr){Er(lr,null)}else ae.push(Vs(pt,Ie,Er))},Te=0;Te<U;++Te)Re(Te);return me}function ra(J,ee){ee||(ee={});var be={},ke=[];Gt(J,"",be,ee);var Le=0,Ze=0;for(var ht in be){var V=be[ht],U=V[0],W=V[1],ae=W.level==0?0:8,me=$s(ht),we=me.length,Be=W.comment,Re=Be&&$s(Be),Te=Re&&Re.length,$e=Js(W.extra);we>65535&&Qe(11);var qe=ae?zi(U,W):U,at=qe.length,pt=Qr();pt.p(U),ke.push(wn(W,{size:U.length,crc:pt.d(),c:qe,f:me,m:Re,u:we!=ht.length||Re&&Be.length!=Te,o:Le,compression:ae})),Le+=30+we+$e+at,Ze+=76+2*(we+$e)+(Te||0)+at}for(var Ie=new b(Ze+22),wt=Le,At=Ze-Le,Nt=0;Nt<ke.length;++Nt){var me=ke[Nt];fa(Ie,me.o,me,me.f,me.u,me.c.length);var lt=30+me.f.length+Js(me.extra);Ie.set(me.c,me.o+lt),fa(Ie,Le,me,me.f,me.u,me.c.length,me.o,me.m),Le+=16+lt+(me.m?me.m.length:0)}return ki(Ie,Le,ke.length,At,wt),Ie}var Ta=(function(){function J(){}return J.prototype.push=function(ee,be){this.ondata(null,ee,be)},J.compression=0,J})(),Ea=(function(){function J(){var ee=this;this.i=new zn(function(be,ke){ee.ondata(null,be,ke)})}return J.prototype.push=function(ee,be){try{this.i.push(ee,be)}catch(ke){this.ondata(ke,null,be)}},J.compression=8,J})(),Qa=(function(){function J(ee,be){var ke=this;be<32e4?this.i=new zn(function(Le,Ze){ke.ondata(null,Le,Ze)}):(this.i=new wi(function(Le,Ze,ht){ke.ondata(Le,Ze,ht)}),this.terminate=this.i.terminate)}return J.prototype.push=function(ee,be){this.i.terminate&&(ee=je(ee,0)),this.i.push(ee,be)},J.compression=8,J})(),Wt=(function(){function J(ee){this.onfile=ee,this.k=[],this.o={0:Ta},this.p=Bt}return J.prototype.push=function(ee,be){var ke=this;if(this.onfile||Qe(5),this.p||Qe(4),this.c>0){var Le=Math.min(this.c,ee.length),Ze=ee.subarray(0,Le);if(this.c-=Le,this.d?this.d.push(Ze,!this.c):this.k[0].push(Ze),ee=ee.subarray(Le),ee.length)return this.push(ee,be)}else{var ht=0,V=0,U=void 0,W=void 0;this.p.length?ee.length?(W=new b(this.p.length+ee.length),W.set(this.p),W.set(ee,this.p.length)):W=this.p:W=ee;for(var ae=W.length,me=this.c,we=me&&this.d,Be=function(){var qe,at=Kn(W,V);if(at==67324752){ht=1,U=V,Re.d=null,Re.c=0;var pt=rn(W,V+6),Ie=rn(W,V+8),wt=pt&2048,At=pt&8,Nt=rn(W,V+26),lt=rn(W,V+28);if(ae>V+30+Nt+lt){var Ut=[];Re.k.unshift(Ut),ht=2;var tr=Kn(W,V+18),Ft=Kn(W,V+22),it=Wn(W.subarray(V+30,V+=30+Nt),!wt);tr==4294967295?(qe=At?[-2]:yi(W,V),tr=qe[0],Ft=qe[1]):At&&(tr=-1),V+=lt,Re.c=tr;var Yt,Er={name:it,compression:Ie,start:function(){if(Er.ondata||Qe(5),!tr)Er.ondata(null,Bt,!0);else{var lr=ke.o[Ie];lr||Er.ondata(Qe(14,"unknown compression type "+Ie,1),null,!1),Yt=tr<0?new lr(it):new lr(it,tr,Ft),Yt.ondata=function(yt,$t,Mt){Er.ondata(yt,$t,Mt)};for(var Lt=0,vr=Ut;Lt<vr.length;Lt++){var ft=vr[Lt];Yt.push(ft,!1)}ke.k[0]==Ut&&ke.c?ke.d=Yt:Yt.push(Bt,!0)}},terminate:function(){Yt&&Yt.terminate&&Yt.terminate()}};tr>=0&&(Er.size=tr,Er.originalSize=Ft),Re.onfile(Er)}return"break"}else if(me){if(at==134695760)return U=V+=12+(me==-2&&8),ht=3,Re.c=0,"break";if(at==33639248)return U=V-=4,ht=3,Re.c=0,"break"}},Re=this;V<ae-4;++V){var Te=Be();if(Te==="break")break}if(this.p=Bt,me<0){var $e=ht?W.subarray(0,U-12-(me==-2&&8)-(Kn(W,U-16)==134695760&&4)):W.subarray(0,V);we?we.push($e,!!ht):this.k[+(ht==2)].push($e)}if(ht&2)return this.push(W.subarray(V),be);this.p=W.subarray(V)}be&&(this.c&&Qe(13),this.p=null)},J.prototype.register=function(ee){this.o[ee.compression]=ee},J})(),ne=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(J){J()};function Ee(J,ee,be){be||(be=ee,ee={}),typeof be!="function"&&Qe(7);var ke=[],Le=function(){for(var $e=0;$e<ke.length;++$e)ke[$e]()},Ze={},ht=function($e,qe){ne(function(){be($e,qe)})};ne(function(){ht=be});for(var V=J.length-22;Kn(J,V)!=101010256;--V)if(!V||J.length-V>65558)return ht(Qe(13,0,1),null),Le;var U=rn(J,V+8);if(U){var W=U,ae=Kn(J,V+16),me=ae==4294967295||W==65535;if(me){var we=Kn(J,V-12);me=Kn(J,we)==101075792,me&&(W=U=Kn(J,we+32),ae=Kn(J,we+48))}for(var Be=ee&&ee.filter,Re=function($e){var qe=Cs(J,ae,me),at=qe[0],pt=qe[1],Ie=qe[2],wt=qe[3],At=qe[4],Nt=qe[5],lt=xi(J,Nt);ae=At;var Ut=function(Ft,it){Ft?(Le(),ht(Ft,null)):(it&&(Ze[wt]=it),--U||ht(null,Ze))};if(!Be||Be({name:wt,size:pt,originalSize:Ie,compression:at}))if(!at)Ut(null,je(J,lt,lt+pt));else if(at==8){var tr=J.subarray(lt,lt+pt);if(Ie<524288||pt>.8*Ie)try{Ut(null,gi(tr,{out:new b(Ie)}))}catch(Ft){Ut(Ft,null)}else ke.push(mi(tr,{size:Ie},Ut))}else Ut(Qe(14,"unknown compression type "+at,1),null);else Ut(null,null)},Te=0;Te<W;++Te)Re(Te)}else ht(null,{});return Le}function Se(J,ee){for(var be={},ke=J.length-22;Kn(J,ke)!=101010256;--ke)(!ke||J.length-ke>65558)&&Qe(13);var Le=rn(J,ke+8);if(!Le)return{};var Ze=Kn(J,ke+16),ht=Ze==4294967295||Le==65535;if(ht){var V=Kn(J,ke-12);ht=Kn(J,V)==101075792,ht&&(Le=Kn(J,V+32),Ze=Kn(J,V+48))}for(var U=ee&&ee.filter,W=0;W<Le;++W){var ae=Cs(J,Ze,ht),me=ae[0],we=ae[1],Be=ae[2],Re=ae[3],Te=ae[4],$e=ae[5],qe=xi(J,$e);Ze=Te,(!U||U({name:Re,size:we,originalSize:Be,compression:me}))&&(me?me==8?be[Re]=gi(J.subarray(qe,qe+we),{out:new b(Be)}):Qe(14,"unknown compression type "+me):be[Re]=je(J,qe,qe+we))}return be}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(A,m,f){f.r(m),f.d(m,{IOBuffer:function(){return j}});var g=f("./node_modules/iobuffer/lib-esm/text.js");const v=1024*8,b=(()=>{const E=new Uint8Array(4),R=new Uint32Array(E.buffer);return!((R[0]=1)&E[0])})(),w={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class j{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(R=v,_={}){let N=!1;typeof R=="number"?R=new ArrayBuffer(R):(N=!0,this.lastWrittenByte=R.byteLength);const B=_.offset?_.offset>>>0:0,M=R.byteLength-B;let O=B;(ArrayBuffer.isView(R)||R instanceof j)&&(R.byteLength!==R.buffer.byteLength&&(O=R.byteOffset+B),R=R.buffer),N?this.lastWrittenByte=M:this.lastWrittenByte=0,this.buffer=R,this.length=M,this.byteLength=M,this.byteOffset=O,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,O,M),this._mark=0,this._marks=[]}available(R=1){return this.offset+R<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(R=1){return this.offset+=R,this}back(R=1){return this.offset-=R,this}seek(R){return this.offset=R,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const R=this._marks.pop();if(R===void 0)throw new Error("Mark stack empty");return this.seek(R),this}rewind(){return this.offset=0,this}ensureAvailable(R=1){if(!this.available(R)){const N=(this.offset+R)*2,B=new Uint8Array(N);B.set(new Uint8Array(this.buffer)),this.buffer=B.buffer,this.length=N,this.byteLength=N,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(R=1){return this.readArray(R,"uint8")}readArray(R,_){const N=w[_].BYTES_PER_ELEMENT*R,B=this.byteOffset+this.offset,M=this.buffer.slice(B,B+N);if(this.littleEndian===b&&_!=="uint8"&&_!=="int8"){const F=new Uint8Array(this.buffer.slice(B,B+N));F.reverse();const $=new w[_](F.buffer);return this.offset+=N,$.reverse(),$}const O=new w[_](M);return this.offset+=N,O}readInt16(){const R=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,R}readUint16(){const R=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,R}readInt32(){const R=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,R}readUint32(){const R=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,R}readFloat32(){const R=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,R}readFloat64(){const R=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,R}readBigInt64(){const R=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,R}readBigUint64(){const R=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,R}readChar(){return String.fromCharCode(this.readInt8())}readChars(R=1){let _="";for(let N=0;N<R;N++)_+=this.readChar();return _}readUtf8(R=1){return(0,g.decode)(this.readBytes(R))}decodeText(R=1,_="utf8"){return(0,g.decode)(this.readBytes(R),_)}writeBoolean(R){return this.writeUint8(R?255:0),this}writeInt8(R){return this.ensureAvailable(1),this._data.setInt8(this.offset++,R),this._updateLastWrittenByte(),this}writeUint8(R){return this.ensureAvailable(1),this._data.setUint8(this.offset++,R),this._updateLastWrittenByte(),this}writeByte(R){return this.writeUint8(R)}writeBytes(R){this.ensureAvailable(R.length);for(let _=0;_<R.length;_++)this._data.setUint8(this.offset++,R[_]);return this._updateLastWrittenByte(),this}writeInt16(R){return this.ensureAvailable(2),this._data.setInt16(this.offset,R,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(R){return this.ensureAvailable(2),this._data.setUint16(this.offset,R,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(R){return this.ensureAvailable(4),this._data.setInt32(this.offset,R,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(R){return this.ensureAvailable(4),this._data.setUint32(this.offset,R,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(R){return this.ensureAvailable(4),this._data.setFloat32(this.offset,R,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(R){return this.ensureAvailable(8),this._data.setFloat64(this.offset,R,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(R){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,R,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(R){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,R,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(R){return this.writeUint8(R.charCodeAt(0))}writeChars(R){for(let _=0;_<R.length;_++)this.writeUint8(R.charCodeAt(_));return this}writeUtf8(R){return this.writeBytes((0,g.encode)(R))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(A,m,f){f.r(m),f.d(m,{decode:function(){return g},encode:function(){return b}});function g(w,j="utf8"){return new TextDecoder(j).decode(w)}const v=new TextEncoder;function b(w){return v.encode(w)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(A,m,f){f.r(m),f.d(m,{AcroForm:function(){return zi},AcroFormAppearance:function(){return Sn},AcroFormButton:function(){return Tn},AcroFormCheckBox:function(){return ui},AcroFormChoiceField:function(){return Kn},AcroFormComboBox:function(){return Dr},AcroFormEditBox:function(){return Hn},AcroFormListBox:function(){return an},AcroFormPasswordField:function(){return fs},AcroFormPushButton:function(){return es},AcroFormRadioButton:function(){return ps},AcroFormTextField:function(){return vi},GState:function(){return ze},ShadingPattern:function(){return tt},TilingPattern:function(){return nt},default:function(){return Ye},jsPDF:function(){return Ye}});var g=f("./node_modules/@babel/runtime/helpers/esm/typeof.js"),v=f("./node_modules/fflate/esm/browser.js"),b=f("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),w=f("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas HollÃ¤nder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var j=(function(){return typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:this})();function E(){j.console&&typeof j.console.log=="function"&&j.console.log.apply(j.console,arguments)}var R={log:E,warn:function(V){j.console&&(typeof j.console.warn=="function"?j.console.warn.apply(j.console,arguments):E.call(null,arguments))},error:function(V){j.console&&(typeof j.console.error=="function"?j.console.error.apply(j.console,arguments):E(V))}};function _(V,U,W){var ae=new XMLHttpRequest;ae.open("GET",V),ae.responseType="blob",ae.onload=function(){M(ae.response,U,W)},ae.onerror=function(){R.error("could not download file")},ae.send()}function N(V){var U=new XMLHttpRequest;U.open("HEAD",V,!1);try{U.send()}catch{}return U.status>=200&&U.status<=299}function B(V){try{V.dispatchEvent(new MouseEvent("click"))}catch{var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),V.dispatchEvent(U)}}var M=j.saveAs||((typeof window>"u"?"undefined":(0,g.default)(window))!=="object"||window!==j?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(V,U,W){var ae=j.URL||j.webkitURL,me=document.createElement("a");U=U||V.name||"download",me.download=U,me.rel="noopener",typeof V=="string"?(me.href=V,me.origin!==location.origin?N(me.href)?_(V,U,W):B(me,me.target="_blank"):B(me)):(me.href=ae.createObjectURL(V),setTimeout(function(){ae.revokeObjectURL(me.href)},4e4),setTimeout(function(){B(me)},0))}:"msSaveOrOpenBlob"in navigator?function(V,U,W){if(U=U||V.name||"download",typeof V=="string")if(N(V))_(V,U,W);else{var ae=document.createElement("a");ae.href=V,ae.target="_blank",setTimeout(function(){B(ae)})}else navigator.msSaveOrOpenBlob((function(me,we){return we===void 0?we={autoBom:!1}:(0,g.default)(we)!=="object"&&(R.warn("Deprecated: Expected third argument to be a object"),we={autoBom:!we}),we.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(me.type)?new Blob(["\uFEFF",me],{type:me.type}):me})(V,W),U)}:function(V,U,W,ae){if((ae=ae||open("","_blank"))&&(ae.document.title=ae.document.body.innerText="downloading..."),typeof V=="string")return _(V,U,W);var me=V.type==="application/octet-stream",we=/constructor/i.test(j.HTMLElement)||j.safari,Be=/CriOS\/[\d]+/.test(navigator.userAgent);if((Be||me&&we)&&(typeof FileReader>"u"?"undefined":(0,g.default)(FileReader))==="object"){var Re=new FileReader;Re.onloadend=function(){var qe=Re.result;qe=Be?qe:qe.replace(/^data:[^;]*;/,"data:attachment/file;"),ae?ae.location.href=qe:location=qe,ae=null},Re.readAsDataURL(V)}else{var Te=j.URL||j.webkitURL,$e=Te.createObjectURL(V);ae?ae.location=$e:location.href=$e,ae=null,setTimeout(function(){Te.revokeObjectURL($e)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function O(V){var U;V=V||"",this.ok=!1,V.charAt(0)=="#"&&(V=V.substr(1,6)),V={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[V=(V=V.replace(/ /g,"")).toLowerCase()]||V;for(var W=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Re){return[parseInt(Re[1]),parseInt(Re[2]),parseInt(Re[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Re){return[parseInt(Re[1],16),parseInt(Re[2],16),parseInt(Re[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Re){return[parseInt(Re[1]+Re[1],16),parseInt(Re[2]+Re[2],16),parseInt(Re[3]+Re[3],16)]}}],ae=0;ae<W.length;ae++){var me=W[ae].re,we=W[ae].process,Be=me.exec(V);Be&&(U=we(Be),this.r=U[0],this.g=U[1],this.b=U[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Re=this.r.toString(16),Te=this.g.toString(16),$e=this.b.toString(16);return Re.length==1&&(Re="0"+Re),Te.length==1&&(Te="0"+Te),$e.length==1&&($e="0"+$e),"#"+Re+Te+$e}}var F=j.atob.bind(j),$=j.btoa.bind(j);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function z(V,U){var W=V[0],ae=V[1],me=V[2],we=V[3];W=ce(W,ae,me,we,U[0],7,-680876936),we=ce(we,W,ae,me,U[1],12,-389564586),me=ce(me,we,W,ae,U[2],17,606105819),ae=ce(ae,me,we,W,U[3],22,-1044525330),W=ce(W,ae,me,we,U[4],7,-176418897),we=ce(we,W,ae,me,U[5],12,1200080426),me=ce(me,we,W,ae,U[6],17,-1473231341),ae=ce(ae,me,we,W,U[7],22,-45705983),W=ce(W,ae,me,we,U[8],7,1770035416),we=ce(we,W,ae,me,U[9],12,-1958414417),me=ce(me,we,W,ae,U[10],17,-42063),ae=ce(ae,me,we,W,U[11],22,-1990404162),W=ce(W,ae,me,we,U[12],7,1804603682),we=ce(we,W,ae,me,U[13],12,-40341101),me=ce(me,we,W,ae,U[14],17,-1502002290),W=ie(W,ae=ce(ae,me,we,W,U[15],22,1236535329),me,we,U[1],5,-165796510),we=ie(we,W,ae,me,U[6],9,-1069501632),me=ie(me,we,W,ae,U[11],14,643717713),ae=ie(ae,me,we,W,U[0],20,-373897302),W=ie(W,ae,me,we,U[5],5,-701558691),we=ie(we,W,ae,me,U[10],9,38016083),me=ie(me,we,W,ae,U[15],14,-660478335),ae=ie(ae,me,we,W,U[4],20,-405537848),W=ie(W,ae,me,we,U[9],5,568446438),we=ie(we,W,ae,me,U[14],9,-1019803690),me=ie(me,we,W,ae,U[3],14,-187363961),ae=ie(ae,me,we,W,U[8],20,1163531501),W=ie(W,ae,me,we,U[13],5,-1444681467),we=ie(we,W,ae,me,U[2],9,-51403784),me=ie(me,we,W,ae,U[7],14,1735328473),W=pe(W,ae=ie(ae,me,we,W,U[12],20,-1926607734),me,we,U[5],4,-378558),we=pe(we,W,ae,me,U[8],11,-2022574463),me=pe(me,we,W,ae,U[11],16,1839030562),ae=pe(ae,me,we,W,U[14],23,-35309556),W=pe(W,ae,me,we,U[1],4,-1530992060),we=pe(we,W,ae,me,U[4],11,1272893353),me=pe(me,we,W,ae,U[7],16,-155497632),ae=pe(ae,me,we,W,U[10],23,-1094730640),W=pe(W,ae,me,we,U[13],4,681279174),we=pe(we,W,ae,me,U[0],11,-358537222),me=pe(me,we,W,ae,U[3],16,-722521979),ae=pe(ae,me,we,W,U[6],23,76029189),W=pe(W,ae,me,we,U[9],4,-640364487),we=pe(we,W,ae,me,U[12],11,-421815835),me=pe(me,we,W,ae,U[15],16,530742520),W=xe(W,ae=pe(ae,me,we,W,U[2],23,-995338651),me,we,U[0],6,-198630844),we=xe(we,W,ae,me,U[7],10,1126891415),me=xe(me,we,W,ae,U[14],15,-1416354905),ae=xe(ae,me,we,W,U[5],21,-57434055),W=xe(W,ae,me,we,U[12],6,1700485571),we=xe(we,W,ae,me,U[3],10,-1894986606),me=xe(me,we,W,ae,U[10],15,-1051523),ae=xe(ae,me,we,W,U[1],21,-2054922799),W=xe(W,ae,me,we,U[8],6,1873313359),we=xe(we,W,ae,me,U[15],10,-30611744),me=xe(me,we,W,ae,U[6],15,-1560198380),ae=xe(ae,me,we,W,U[13],21,1309151649),W=xe(W,ae,me,we,U[4],6,-145523070),we=xe(we,W,ae,me,U[11],10,-1120210379),me=xe(me,we,W,ae,U[2],15,718787259),ae=xe(ae,me,we,W,U[9],21,-343485551),V[0]=ye(W,V[0]),V[1]=ye(ae,V[1]),V[2]=ye(me,V[2]),V[3]=ye(we,V[3])}function se(V,U,W,ae,me,we){return U=ye(ye(U,V),ye(ae,we)),ye(U<<me|U>>>32-me,W)}function ce(V,U,W,ae,me,we,Be){return se(U&W|~U&ae,V,U,me,we,Be)}function ie(V,U,W,ae,me,we,Be){return se(U&ae|W&~ae,V,U,me,we,Be)}function pe(V,U,W,ae,me,we,Be){return se(U^W^ae,V,U,me,we,Be)}function xe(V,U,W,ae,me,we,Be){return se(W^(U|~ae),V,U,me,we,Be)}function Ae(V){var U,W=V.length,ae=[1732584193,-271733879,-1732584194,271733878];for(U=64;U<=V.length;U+=64)z(ae,ue(V.substring(U-64,U)));V=V.substring(U-64);var me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(U=0;U<V.length;U++)me[U>>2]|=V.charCodeAt(U)<<(U%4<<3);if(me[U>>2]|=128<<(U%4<<3),U>55)for(z(ae,me),U=0;U<16;U++)me[U]=0;return me[14]=8*W,z(ae,me),ae}function ue(V){var U,W=[];for(U=0;U<64;U+=4)W[U>>2]=V.charCodeAt(U)+(V.charCodeAt(U+1)<<8)+(V.charCodeAt(U+2)<<16)+(V.charCodeAt(U+3)<<24);return W}var Y="0123456789abcdef".split("");function fe(V){for(var U="",W=0;W<4;W++)U+=Y[V>>8*W+4&15]+Y[V>>8*W&15];return U}function H(V){return String.fromCharCode(255&V,(65280&V)>>8,(16711680&V)>>16,(4278190080&V)>>24)}function le(V){return Ae(V).map(H).join("")}var de=(function(V){for(var U=0;U<V.length;U++)V[U]=fe(V[U]);return V.join("")})(Ae("hello"))!="5d41402abc4b2a76b9719d911017c592";function ye(V,U){if(de){var W=(65535&V)+(65535&U);return(V>>16)+(U>>16)+(W>>16)<<16|65535&W}return V+U&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ge(V,U){var W,ae,me,we;if(V!==W){for(var Be=(me=V,we=1+(256/V.length|0),new Array(we+1).join(me)),Re=[],Te=0;Te<256;Te++)Re[Te]=Te;var $e=0;for(Te=0;Te<256;Te++){var qe=Re[Te];$e=($e+qe+Be.charCodeAt(Te))%256,Re[Te]=Re[$e],Re[$e]=qe}W=V,ae=Re}else Re=ae;var at=U.length,pt=0,Ie=0,wt="";for(Te=0;Te<at;Te++)Ie=(Ie+(qe=Re[pt=(pt+1)%256]))%256,Re[pt]=Re[Ie],Re[Ie]=qe,Be=Re[(Re[pt]+Re[Ie])%256],wt+=String.fromCharCode(U.charCodeAt(Te)^Be);return wt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var je={print:4,modify:8,copy:16,"annot-forms":32};function Me(V,U,W,ae){this.v=1,this.r=2;var me=192;V.forEach(function(Re){if(je.perm!==void 0)throw new Error("Invalid permission: "+Re);me+=je[Re]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var we=(U+this.padding).substr(0,32),Be=(W+this.padding).substr(0,32);this.O=this.processOwnerPassword(we,Be),this.P=-(1+(255^me)),this.encryptionKey=le(we+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(ae)).substr(0,5),this.U=ge(this.encryptionKey,this.padding)}function He(V){if(/[^\u0000-\u00ff]/.test(V))throw new Error("Invalid PDF Name Object: "+V+", Only accept ASCII characters.");for(var U="",W=V.length,ae=0;ae<W;ae++){var me=V.charCodeAt(ae);U+=me<33||me===35||me===37||me===40||me===41||me===47||me===60||me===62||me===91||me===93||me===123||me===125||me>126?"#"+("0"+me.toString(16)).slice(-2):V[ae]}return U}function Qe(V){if((0,g.default)(V)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var U={};this.subscribe=function(W,ae,me){if(me=me||!1,typeof W!="string"||typeof ae!="function"||typeof me!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");U.hasOwnProperty(W)||(U[W]={});var we=Math.random().toString(35);return U[W][we]=[ae,!!me],we},this.unsubscribe=function(W){for(var ae in U)if(U[ae][W])return delete U[ae][W],Object.keys(U[ae]).length===0&&delete U[ae],!0;return!1},this.publish=function(W){if(U.hasOwnProperty(W)){var ae=Array.prototype.slice.call(arguments,1),me=[];for(var we in U[W]){var Be=U[W][we];try{Be[0].apply(V,ae)}catch(Re){j.console&&R.error("jsPDF PubSub Error",Re.message,Re)}Be[1]&&me.push(we)}me.length&&me.forEach(this.unsubscribe)}},this.getTopics=function(){return U}}function ze(V){if(!(this instanceof ze))return new ze(V);var U="opacity,stroke-opacity".split(",");for(var W in V)V.hasOwnProperty(W)&&U.indexOf(W)>=0&&(this[W]=V[W]);this.id="",this.objectNumber=-1}function Ve(V,U){this.gState=V,this.matrix=U,this.id="",this.objectNumber=-1}function tt(V,U,W,ae,me){if(!(this instanceof tt))return new tt(V,U,W,ae,me);this.type=V==="axial"?2:3,this.coords=U,this.colors=W,Ve.call(this,ae,me)}function nt(V,U,W,ae,me){if(!(this instanceof nt))return new nt(V,U,W,ae,me);this.boundingBox=V,this.xStep=U,this.yStep=W,this.stream="",this.cloneIndex=0,Ve.call(this,ae,me)}function Ye(V){var U,W=typeof arguments[0]=="string"?arguments[0]:"p",ae=arguments[1],me=arguments[2],we=arguments[3],Be=[],Re=1,Te=16,$e="S",qe=null;(0,g.default)(V=V||{})==="object"&&(W=V.orientation,ae=V.unit||ae,me=V.format||me,we=V.compress||V.compressPdf||we,(qe=V.encryption||null)!==null&&(qe.userPassword=qe.userPassword||"",qe.ownerPassword=qe.ownerPassword||"",qe.userPermissions=qe.userPermissions||[]),Re=typeof V.userUnit=="number"?Math.abs(V.userUnit):1,V.precision!==void 0&&(U=V.precision),V.floatPrecision!==void 0&&(Te=V.floatPrecision),$e=V.defaultPathOperation||"S"),Be=V.filters||(we===!0?["FlateEncode"]:Be),ae=ae||"mm",W=(""+(W||"P")).toLowerCase();var at=V.putOnlyUsedFonts||!1,pt={},Ie={internal:{},__private__:{}};Ie.__private__.PubSub=Qe;var wt="1.3",At=Ie.__private__.getPdfVersion=function(){return wt};Ie.__private__.setPdfVersion=function(Ce){wt=Ce};var Nt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Ie.__private__.getPageFormats=function(){return Nt};var lt=Ie.__private__.getPageFormat=function(Ce){return Nt[Ce]};me=me||"a4";var Ut="compat",tr="advanced",Ft=Ut;function it(){this.saveGraphicsState(),bt(new Ms(qn,0,0,-qn,0,Bl()*qn).toString()+" cm"),this.setFontSize(this.getFontSize()/qn),$e="n",Ft=tr}function Yt(){this.restoreGraphicsState(),$e="S",Ft=Ut}var Er=Ie.__private__.combineFontStyleAndFontWeight=function(Ce,Ge){if(Ce=="bold"&&Ge=="normal"||Ce=="bold"&&Ge==400||Ce=="normal"&&Ge=="italic"||Ce=="bold"&&Ge=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ge&&(Ce=Ge==400||Ge==="normal"?Ce==="italic"?"italic":"normal":Ge!=700&&Ge!=="bold"||Ce!=="normal"?(Ge==700?"bold":Ge)+""+Ce:"bold"),Ce};Ie.advancedAPI=function(Ce){var Ge=Ft===Ut;return Ge&&it.call(this),typeof Ce!="function"||(Ce(this),Ge&&Yt.call(this)),this},Ie.compatAPI=function(Ce){var Ge=Ft===tr;return Ge&&Yt.call(this),typeof Ce!="function"||(Ce(this),Ge&&it.call(this)),this},Ie.isAdvancedAPI=function(){return Ft===tr};var lr,Lt=function(Ce){if(Ft!==tr)throw new Error(Ce+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},vr=Ie.roundToPrecision=Ie.__private__.roundToPrecision=function(Ce,Ge){var _t=U||Ge;if(isNaN(Ce)||isNaN(_t))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Ce.toFixed(_t).replace(/0+$/,"")};lr=Ie.hpf=Ie.__private__.hpf=typeof Te=="number"?function(Ce){if(isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.hpf");return vr(Ce,Te)}:Te==="smart"?function(Ce){if(isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.hpf");return vr(Ce,Ce>-1&&Ce<1?16:5)}:function(Ce){if(isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.hpf");return vr(Ce,16)};var ft=Ie.f2=Ie.__private__.f2=function(Ce){if(isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.f2");return vr(Ce,2)},yt=Ie.__private__.f3=function(Ce){if(isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.f3");return vr(Ce,3)},$t=Ie.scale=Ie.__private__.scale=function(Ce){if(isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.scale");return Ft===Ut?Ce*qn:Ft===tr?Ce:void 0},Mt=function(Ce){return $t((function(Ge){return Ft===Ut?Bl()-Ge:Ft===tr?Ge:void 0})(Ce))};Ie.__private__.setPrecision=Ie.setPrecision=function(Ce){typeof parseInt(Ce,10)=="number"&&(U=parseInt(Ce,10))};var jr,Pr="00000000000000000000000000000000",Mr=Ie.__private__.getFileId=function(){return Pr},hr=Ie.__private__.setFileId=function(Ce){return Pr=Ce!==void 0&&/^[a-fA-F0-9]{32}$/.test(Ce)?Ce.toUpperCase():Pr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),qe!==null&&(Pa=new Me(qe.userPermissions,qe.userPassword,qe.ownerPassword,Pr)),Pr};Ie.setFileId=function(Ce){return hr(Ce),this},Ie.getFileId=function(){return Mr()};var Ir=Ie.__private__.convertDateToPDFDate=function(Ce){var Ge=Ce.getTimezoneOffset(),_t=Ge<0?"+":"-",Ht=Math.floor(Math.abs(Ge/60)),cr=Math.abs(Ge%60),Ur=[_t,It(Ht),"'",It(cr),"'"].join("");return["D:",Ce.getFullYear(),It(Ce.getMonth()+1),It(Ce.getDate()),It(Ce.getHours()),It(Ce.getMinutes()),It(Ce.getSeconds()),Ur].join("")},Nn=Ie.__private__.convertPDFDateToDate=function(Ce){var Ge=parseInt(Ce.substr(2,4),10),_t=parseInt(Ce.substr(6,2),10)-1,Ht=parseInt(Ce.substr(8,2),10),cr=parseInt(Ce.substr(10,2),10),Ur=parseInt(Ce.substr(12,2),10),nn=parseInt(Ce.substr(14,2),10);return new Date(Ge,_t,Ht,cr,Ur,nn,0)},gn=Ie.__private__.setCreationDate=function(Ce){var Ge;if(Ce===void 0&&(Ce=new Date),Ce instanceof Date)Ge=Ir(Ce);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Ce))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ge=Ce}return jr=Ge},st=Ie.__private__.getCreationDate=function(Ce){var Ge=jr;return Ce==="jsDate"&&(Ge=Nn(jr)),Ge};Ie.setCreationDate=function(Ce){return gn(Ce),this},Ie.getCreationDate=function(Ce){return st(Ce)};var Tt,It=Ie.__private__.padd2=function(Ce){return("0"+parseInt(Ce)).slice(-2)},er=Ie.__private__.padd2Hex=function(Ce){return("00"+(Ce=Ce.toString())).substr(Ce.length)},nr=0,mr=[],Or=[],Fr=0,Jr=[],Pn=[],Xn=!1,ts=Or;Ie.__private__.setCustomOutputDestination=function(Ce){Xn=!0,ts=Ce};var ws=function(Ce){Xn||(ts=Ce)};Ie.__private__.resetCustomOutputDestination=function(){Xn=!1,ts=Or};var bt=Ie.__private__.out=function(Ce){return Ce=Ce.toString(),Fr+=Ce.length+1,ts.push(Ce),ts},Dn=Ie.__private__.write=function(Ce){return bt(arguments.length===1?Ce.toString():Array.prototype.join.call(arguments," "))},Is=Ie.__private__.getArrayBuffer=function(Ce){for(var Ge=Ce.length,_t=new ArrayBuffer(Ge),Ht=new Uint8Array(_t);Ge--;)Ht[Ge]=Ce.charCodeAt(Ge);return _t},dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Ie.__private__.getStandardFonts=function(){return dt};var Rt=V.fontSize||16;Ie.__private__.setFontSize=Ie.setFontSize=function(Ce){return Rt=Ft===tr?Ce/qn:Ce,this};var ir,Xt=Ie.__private__.getFontSize=Ie.getFontSize=function(){return Ft===Ut?Rt:Rt*qn},_r=V.R2L||!1;Ie.__private__.setR2L=Ie.setR2L=function(Ce){return _r=Ce,this},Ie.__private__.getR2L=Ie.getR2L=function(){return _r};var Lr,fn=Ie.__private__.setZoomMode=function(Ce){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Ce))ir=Ce;else if(isNaN(Ce)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Ce)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Ce+'" is not recognized.');ir=Ce}else ir=parseInt(Ce,10)};Ie.__private__.getZoomMode=function(){return ir};var dn,fr=Ie.__private__.setPageMode=function(Ce){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Ce)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Ce+'" is not recognized.');Lr=Ce};Ie.__private__.getPageMode=function(){return Lr};var xn=Ie.__private__.setLayoutMode=function(Ce){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Ce)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Ce+'" is not recognized.');dn=Ce};Ie.__private__.getLayoutMode=function(){return dn},Ie.__private__.setDisplayMode=Ie.setDisplayMode=function(Ce,Ge,_t){return fn(Ce),xn(Ge),fr(_t),this};var Bn={title:"",subject:"",author:"",keywords:"",creator:""};Ie.__private__.getDocumentProperty=function(Ce){if(Object.keys(Bn).indexOf(Ce)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bn[Ce]},Ie.__private__.getDocumentProperties=function(){return Bn},Ie.__private__.setDocumentProperties=Ie.setProperties=Ie.setDocumentProperties=function(Ce){for(var Ge in Bn)Bn.hasOwnProperty(Ge)&&Ce[Ge]&&(Bn[Ge]=Ce[Ge]);return this},Ie.__private__.setDocumentProperty=function(Ce,Ge){if(Object.keys(Bn).indexOf(Ce)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bn[Ce]=Ge};var un,qn,Fn,Es,Jn,ms={},Ps={},Vi=[],as={},Mi={},ks={},ls={},$i=null,pn=0,In=[],ai=new Qe(Ie),rl=V.hotfixes||[],ja={},$a={},yl=[],Ms=function Ce(Ge,_t,Ht,cr,Ur,nn){if(!(this instanceof Ce))return new Ce(Ge,_t,Ht,cr,Ur,nn);isNaN(Ge)&&(Ge=1),isNaN(_t)&&(_t=0),isNaN(Ht)&&(Ht=0),isNaN(cr)&&(cr=1),isNaN(Ur)&&(Ur=0),isNaN(nn)&&(nn=0),this._matrix=[Ge,_t,Ht,cr,Ur,nn]};Object.defineProperty(Ms.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Ce){this._matrix[0]=Ce}}),Object.defineProperty(Ms.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Ce){this._matrix[1]=Ce}}),Object.defineProperty(Ms.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Ce){this._matrix[2]=Ce}}),Object.defineProperty(Ms.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Ce){this._matrix[3]=Ce}}),Object.defineProperty(Ms.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Ce){this._matrix[4]=Ce}}),Object.defineProperty(Ms.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Ce){this._matrix[5]=Ce}}),Object.defineProperty(Ms.prototype,"a",{get:function(){return this._matrix[0]},set:function(Ce){this._matrix[0]=Ce}}),Object.defineProperty(Ms.prototype,"b",{get:function(){return this._matrix[1]},set:function(Ce){this._matrix[1]=Ce}}),Object.defineProperty(Ms.prototype,"c",{get:function(){return this._matrix[2]},set:function(Ce){this._matrix[2]=Ce}}),Object.defineProperty(Ms.prototype,"d",{get:function(){return this._matrix[3]},set:function(Ce){this._matrix[3]=Ce}}),Object.defineProperty(Ms.prototype,"e",{get:function(){return this._matrix[4]},set:function(Ce){this._matrix[4]=Ce}}),Object.defineProperty(Ms.prototype,"f",{get:function(){return this._matrix[5]},set:function(Ce){this._matrix[5]=Ce}}),Object.defineProperty(Ms.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ms.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ms.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ms.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ms.prototype.join=function(Ce){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(lr).join(Ce)},Ms.prototype.multiply=function(Ce){var Ge=Ce.sx*this.sx+Ce.shy*this.shx,_t=Ce.sx*this.shy+Ce.shy*this.sy,Ht=Ce.shx*this.sx+Ce.sy*this.shx,cr=Ce.shx*this.shy+Ce.sy*this.sy,Ur=Ce.tx*this.sx+Ce.ty*this.shx+this.tx,nn=Ce.tx*this.shy+Ce.ty*this.sy+this.ty;return new Ms(Ge,_t,Ht,cr,Ur,nn)},Ms.prototype.decompose=function(){var Ce=this.sx,Ge=this.shy,_t=this.shx,Ht=this.sy,cr=this.tx,Ur=this.ty,nn=Math.sqrt(Ce*Ce+Ge*Ge),ns=(Ce/=nn)*_t+(Ge/=nn)*Ht;_t-=Ce*ns,Ht-=Ge*ns;var cs=Math.sqrt(_t*_t+Ht*Ht);return ns/=cs,Ce*(Ht/=cs)<Ge*(_t/=cs)&&(Ce=-Ce,Ge=-Ge,ns=-ns,nn=-nn),{scale:new Ms(nn,0,0,cs,0,0),translate:new Ms(1,0,0,1,cr,Ur),rotate:new Ms(Ce,Ge,-Ge,Ce,0,0),skew:new Ms(1,0,ns,1,0,0)}},Ms.prototype.toString=function(Ce){return this.join(" ")},Ms.prototype.inversed=function(){var Ce=this.sx,Ge=this.shy,_t=this.shx,Ht=this.sy,cr=this.tx,Ur=this.ty,nn=1/(Ce*Ht-Ge*_t),ns=Ht*nn,cs=-Ge*nn,Fs=-_t*nn,Rs=Ce*nn;return new Ms(ns,cs,Fs,Rs,-ns*cr-Fs*Ur,-cs*cr-Rs*Ur)},Ms.prototype.applyToPoint=function(Ce){var Ge=Ce.x*this.sx+Ce.y*this.shx+this.tx,_t=Ce.x*this.shy+Ce.y*this.sy+this.ty;return new Ci(Ge,_t)},Ms.prototype.applyToRectangle=function(Ce){var Ge=this.applyToPoint(Ce),_t=this.applyToPoint(new Ci(Ce.x+Ce.w,Ce.y+Ce.h));return new qi(Ge.x,Ge.y,_t.x-Ge.x,_t.y-Ge.y)},Ms.prototype.clone=function(){var Ce=this.sx,Ge=this.shy,_t=this.shx,Ht=this.sy,cr=this.tx,Ur=this.ty;return new Ms(Ce,Ge,_t,Ht,cr,Ur)},Ie.Matrix=Ms;var Sa=Ie.matrixMult=function(Ce,Ge){return Ge.multiply(Ce)},ro=new Ms(1,0,0,1,0,0);Ie.unitMatrix=Ie.identityMatrix=ro;var zo=function(Ce,Ge){if(!Mi[Ce]){var _t=(Ge instanceof tt?"Sh":"P")+(Object.keys(as).length+1).toString(10);Ge.id=_t,Mi[Ce]=_t,as[_t]=Ge,ai.publish("addPattern",Ge)}};Ie.ShadingPattern=tt,Ie.TilingPattern=nt,Ie.addShadingPattern=function(Ce,Ge){return Lt("addShadingPattern()"),zo(Ce,Ge),this},Ie.beginTilingPattern=function(Ce){Lt("beginTilingPattern()"),Ca(Ce.boundingBox[0],Ce.boundingBox[1],Ce.boundingBox[2]-Ce.boundingBox[0],Ce.boundingBox[3]-Ce.boundingBox[1],Ce.matrix)},Ie.endTilingPattern=function(Ce,Ge){Lt("endTilingPattern()"),Ge.stream=Pn[Tt].join(`
`),zo(Ce,Ge),ai.publish("endTilingPattern",Ge),yl.pop().restore()};var Ba,ea=Ie.__private__.newObject=function(){var Ce=Na();return Ya(Ce,!0),Ce},Na=Ie.__private__.newObjectDeferred=function(){return nr++,mr[nr]=function(){return Fr},nr},Ya=function(Ce,Ge){return Ge=typeof Ge=="boolean"&&Ge,mr[Ce]=Fr,Ge&&bt(Ce+" 0 obj"),Ce},Dl=Ie.__private__.newAdditionalObject=function(){var Ce={objId:Na(),content:""};return Jr.push(Ce),Ce},Va=Na(),So=Na(),bl=Ie.__private__.decodeColorString=function(Ce){var Ge=Ce.split(" ");if(Ge.length!==2||Ge[1]!=="g"&&Ge[1]!=="G")Ge.length!==5||Ge[4]!=="k"&&Ge[4]!=="K"||(Ge=[(1-Ge[0])*(1-Ge[3]),(1-Ge[1])*(1-Ge[3]),(1-Ge[2])*(1-Ge[3]),"r"]);else{var _t=parseFloat(Ge[0]);Ge=[_t,_t,_t,"r"]}for(var Ht="#",cr=0;cr<3;cr++)Ht+=("0"+Math.floor(255*parseFloat(Ge[cr])).toString(16)).slice(-2);return Ht},nl=Ie.__private__.encodeColorString=function(Ce){var Ge;typeof Ce=="string"&&(Ce={ch1:Ce});var _t=Ce.ch1,Ht=Ce.ch2,cr=Ce.ch3,Ur=Ce.ch4,nn=Ce.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _t=="string"&&_t.charAt(0)!=="#"){var ns=new O(_t);if(ns.ok)_t=ns.toHex();else if(!/^\d*\.?\d*$/.test(_t))throw new Error('Invalid color "'+_t+'" passed to jsPDF.encodeColorString.')}if(typeof _t=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_t)&&(_t="#"+_t[1]+_t[1]+_t[2]+_t[2]+_t[3]+_t[3]),typeof _t=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_t)){var cs=parseInt(_t.substr(1),16);_t=cs>>16&255,Ht=cs>>8&255,cr=255&cs}if(Ht===void 0||Ur===void 0&&_t===Ht&&Ht===cr)Ge=typeof _t=="string"?_t+" "+nn[0]:Ce.precision===2?ft(_t/255)+" "+nn[0]:yt(_t/255)+" "+nn[0];else if(Ur===void 0||(0,g.default)(Ur)==="object"){if(Ur&&!isNaN(Ur.a)&&Ur.a===0)return["1.","1.","1.",nn[1]].join(" ");Ge=typeof _t=="string"?[_t,Ht,cr,nn[1]].join(" "):Ce.precision===2?[ft(_t/255),ft(Ht/255),ft(cr/255),nn[1]].join(" "):[yt(_t/255),yt(Ht/255),yt(cr/255),nn[1]].join(" ")}else Ge=typeof _t=="string"?[_t,Ht,cr,Ur,nn[2]].join(" "):Ce.precision===2?[ft(_t),ft(Ht),ft(cr),ft(Ur),nn[2]].join(" "):[yt(_t),yt(Ht),yt(cr),yt(Ur),nn[2]].join(" ");return Ge},Ga=Ie.__private__.getFilters=function(){return Be},Co=Ie.__private__.putStream=function(Ce){var Ge=(Ce=Ce||{}).data||"",_t=Ce.filters||Ga(),Ht=Ce.alreadyAppliedFilters||[],cr=Ce.addLength1||!1,Ur=Ge.length,nn=Ce.objectId,ns=function(ga){return ga};if(qe!==null&&nn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");qe!==null&&(ns=Pa.encryptor(nn,0));var cs={};_t===!0&&(_t=["FlateEncode"]);var Fs=Ce.additionalKeyValues||[],Rs=(cs=Ye.API.processDataByFilters!==void 0?Ye.API.processDataByFilters(Ge,_t):{data:Ge,reverseChain:[]}).reverseChain+(Array.isArray(Ht)?Ht.join(" "):Ht.toString());if(cs.data.length!==0&&(Fs.push({key:"Length",value:cs.data.length}),cr===!0&&Fs.push({key:"Length1",value:Ur})),Rs.length!=0)if(Rs.split("/").length-1==1)Fs.push({key:"Filter",value:Rs});else{Fs.push({key:"Filter",value:"["+Rs+"]"});for(var Zs=0;Zs<Fs.length;Zs+=1)if(Fs[Zs].key==="DecodeParms"){for(var ta=[],na=0;na<cs.reverseChain.split("/").length-1;na+=1)ta.push("null");ta.push(Fs[Zs].value),Fs[Zs].value="["+ta.join(" ")+"]"}}bt("<<");for(var Ii=0;Ii<Fs.length;Ii++)bt("/"+Fs[Ii].key+" "+Fs[Ii].value);bt(">>"),cs.data.length!==0&&(bt("stream"),bt(ns(cs.data)),bt("endstream"))},Qo=Ie.__private__.putPage=function(Ce){var Ge=Ce.number,_t=Ce.data,Ht=Ce.objId,cr=Ce.contentsObjId;Ya(Ht,!0),bt("<</Type /Page"),bt("/Parent "+Ce.rootDictionaryObjId+" 0 R"),bt("/Resources "+Ce.resourceDictionaryObjId+" 0 R"),bt("/MediaBox ["+parseFloat(lr(Ce.mediaBox.bottomLeftX))+" "+parseFloat(lr(Ce.mediaBox.bottomLeftY))+" "+lr(Ce.mediaBox.topRightX)+" "+lr(Ce.mediaBox.topRightY)+"]"),Ce.cropBox!==null&&bt("/CropBox ["+lr(Ce.cropBox.bottomLeftX)+" "+lr(Ce.cropBox.bottomLeftY)+" "+lr(Ce.cropBox.topRightX)+" "+lr(Ce.cropBox.topRightY)+"]"),Ce.bleedBox!==null&&bt("/BleedBox ["+lr(Ce.bleedBox.bottomLeftX)+" "+lr(Ce.bleedBox.bottomLeftY)+" "+lr(Ce.bleedBox.topRightX)+" "+lr(Ce.bleedBox.topRightY)+"]"),Ce.trimBox!==null&&bt("/TrimBox ["+lr(Ce.trimBox.bottomLeftX)+" "+lr(Ce.trimBox.bottomLeftY)+" "+lr(Ce.trimBox.topRightX)+" "+lr(Ce.trimBox.topRightY)+"]"),Ce.artBox!==null&&bt("/ArtBox ["+lr(Ce.artBox.bottomLeftX)+" "+lr(Ce.artBox.bottomLeftY)+" "+lr(Ce.artBox.topRightX)+" "+lr(Ce.artBox.topRightY)+"]"),typeof Ce.userUnit=="number"&&Ce.userUnit!==1&&bt("/UserUnit "+Ce.userUnit),ai.publish("putPage",{objId:Ht,pageContext:In[Ge],pageNumber:Ge,page:_t}),bt("/Contents "+cr+" 0 R"),bt(">>"),bt("endobj");var Ur=_t.join(`
`);return Ft===tr&&(Ur+=`
Q`),Ya(cr,!0),Co({data:Ur,filters:Ga(),objectId:cr}),bt("endobj"),Ht},go=Ie.__private__.putPages=function(){var Ce,Ge,_t=[];for(Ce=1;Ce<=pn;Ce++)In[Ce].objId=Na(),In[Ce].contentsObjId=Na();for(Ce=1;Ce<=pn;Ce++)_t.push(Qo({number:Ce,data:Pn[Ce],objId:In[Ce].objId,contentsObjId:In[Ce].contentsObjId,mediaBox:In[Ce].mediaBox,cropBox:In[Ce].cropBox,bleedBox:In[Ce].bleedBox,trimBox:In[Ce].trimBox,artBox:In[Ce].artBox,userUnit:In[Ce].userUnit,rootDictionaryObjId:Va,resourceDictionaryObjId:So}));Ya(Va,!0),bt("<</Type /Pages");var Ht="/Kids [";for(Ge=0;Ge<pn;Ge++)Ht+=_t[Ge]+" 0 R ";bt(Ht+"]"),bt("/Count "+pn),bt(">>"),bt("endobj"),ai.publish("postPutPages")},lo=function(Ce){ai.publish("putFont",{font:Ce,out:bt,newObject:ea,putStream:Co}),Ce.isAlreadyPutted!==!0&&(Ce.objectNumber=ea(),bt("<<"),bt("/Type /Font"),bt("/BaseFont /"+He(Ce.postScriptName)),bt("/Subtype /Type1"),typeof Ce.encoding=="string"&&bt("/Encoding /"+Ce.encoding),bt("/FirstChar 32"),bt("/LastChar 255"),bt(">>"),bt("endobj"))},sl=function(Ce){Ce.objectNumber=ea();var Ge=[];Ge.push({key:"Type",value:"/XObject"}),Ge.push({key:"Subtype",value:"/Form"}),Ge.push({key:"BBox",value:"["+[lr(Ce.x),lr(Ce.y),lr(Ce.x+Ce.width),lr(Ce.y+Ce.height)].join(" ")+"]"}),Ge.push({key:"Matrix",value:"["+Ce.matrix.toString()+"]"});var _t=Ce.pages[1].join(`
`);Co({data:_t,additionalKeyValues:Ge,objectId:Ce.objectNumber}),bt("endobj")},Vo=function(Ce,Ge){Ge||(Ge=21);var _t=ea(),Ht=(function(nn,ns){var cs,Fs=[],Rs=1/(ns-1);for(cs=0;cs<1;cs+=Rs)Fs.push(cs);if(Fs.push(1),nn[0].offset!=0){var Zs={offset:0,color:nn[0].color};nn.unshift(Zs)}if(nn[nn.length-1].offset!=1){var ta={offset:1,color:nn[nn.length-1].color};nn.push(ta)}for(var na="",Ii=0,ga=0;ga<Fs.length;ga++){for(cs=Fs[ga];cs>nn[Ii+1].offset;)Ii++;var G=nn[Ii].offset,Ue=(cs-G)/(nn[Ii+1].offset-G),ve=nn[Ii].color,rt=nn[Ii+1].color;na+=er(Math.round((1-Ue)*ve[0]+Ue*rt[0]).toString(16))+er(Math.round((1-Ue)*ve[1]+Ue*rt[1]).toString(16))+er(Math.round((1-Ue)*ve[2]+Ue*rt[2]).toString(16))}return na.trim()})(Ce.colors,Ge),cr=[];cr.push({key:"FunctionType",value:"0"}),cr.push({key:"Domain",value:"[0.0 1.0]"}),cr.push({key:"Size",value:"["+Ge+"]"}),cr.push({key:"BitsPerSample",value:"8"}),cr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Co({data:Ht,additionalKeyValues:cr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_t}),bt("endobj"),Ce.objectNumber=ea(),bt("<< /ShadingType "+Ce.type),bt("/ColorSpace /DeviceRGB");var Ur="/Coords ["+lr(parseFloat(Ce.coords[0]))+" "+lr(parseFloat(Ce.coords[1]))+" ";Ce.type===2?Ur+=lr(parseFloat(Ce.coords[2]))+" "+lr(parseFloat(Ce.coords[3])):Ur+=lr(parseFloat(Ce.coords[2]))+" "+lr(parseFloat(Ce.coords[3]))+" "+lr(parseFloat(Ce.coords[4]))+" "+lr(parseFloat(Ce.coords[5])),bt(Ur+="]"),Ce.matrix&&bt("/Matrix ["+Ce.matrix.toString()+"]"),bt("/Function "+_t+" 0 R"),bt("/Extend [true true]"),bt(">>"),bt("endobj")},wl=function(Ce,Ge){var _t=Na(),Ht=ea();Ge.push({resourcesOid:_t,objectOid:Ht}),Ce.objectNumber=Ht;var cr=[];cr.push({key:"Type",value:"/Pattern"}),cr.push({key:"PatternType",value:"1"}),cr.push({key:"PaintType",value:"1"}),cr.push({key:"TilingType",value:"1"}),cr.push({key:"BBox",value:"["+Ce.boundingBox.map(lr).join(" ")+"]"}),cr.push({key:"XStep",value:lr(Ce.xStep)}),cr.push({key:"YStep",value:lr(Ce.yStep)}),cr.push({key:"Resources",value:_t+" 0 R"}),Ce.matrix&&cr.push({key:"Matrix",value:"["+Ce.matrix.toString()+"]"}),Co({data:Ce.stream,additionalKeyValues:cr,objectId:Ce.objectNumber}),bt("endobj")},Cc=function(Ce){for(var Ge in Ce.objectNumber=ea(),bt("<<"),Ce)switch(Ge){case"opacity":bt("/ca "+ft(Ce[Ge]));break;case"stroke-opacity":bt("/CA "+ft(Ce[Ge]))}bt(">>"),bt("endobj")},Nl=function(Ce){Ya(Ce.resourcesOid,!0),bt("<<"),bt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Ge in bt("/Font <<"),ms)ms.hasOwnProperty(Ge)&&(at===!1||at===!0&&pt.hasOwnProperty(Ge))&&bt("/"+Ge+" "+ms[Ge].objectNumber+" 0 R");bt(">>")})(),(function(){if(Object.keys(as).length>0){for(var Ge in bt("/Shading <<"),as)as.hasOwnProperty(Ge)&&as[Ge]instanceof tt&&as[Ge].objectNumber>=0&&bt("/"+Ge+" "+as[Ge].objectNumber+" 0 R");ai.publish("putShadingPatternDict"),bt(">>")}})(),(function(Ge){if(Object.keys(as).length>0){for(var _t in bt("/Pattern <<"),as)as.hasOwnProperty(_t)&&as[_t]instanceof Ie.TilingPattern&&as[_t].objectNumber>=0&&as[_t].objectNumber<Ge&&bt("/"+_t+" "+as[_t].objectNumber+" 0 R");ai.publish("putTilingPatternDict"),bt(">>")}})(Ce.objectOid),(function(){if(Object.keys(ks).length>0){var Ge;for(Ge in bt("/ExtGState <<"),ks)ks.hasOwnProperty(Ge)&&ks[Ge].objectNumber>=0&&bt("/"+Ge+" "+ks[Ge].objectNumber+" 0 R");ai.publish("putGStateDict"),bt(">>")}})(),(function(){for(var Ge in bt("/XObject <<"),ja)ja.hasOwnProperty(Ge)&&ja[Ge].objectNumber>=0&&bt("/"+Ge+" "+ja[Ge].objectNumber+" 0 R");ai.publish("putXobjectDict"),bt(">>")})(),bt(">>"),bt("endobj")},_c=function(Ce){Ps[Ce.fontName]=Ps[Ce.fontName]||{},Ps[Ce.fontName][Ce.fontStyle]=Ce.id},Ul=function(Ce,Ge,_t,Ht,cr){var Ur={id:"F"+(Object.keys(ms).length+1).toString(10),postScriptName:Ce,fontName:Ge,fontStyle:_t,encoding:Ht,isStandardFont:cr||!1,metadata:{}};return ai.publish("addFont",{font:Ur,instance:this}),ms[Ur.id]=Ur,_c(Ur),Ur.id},xo=Ie.__private__.pdfEscape=Ie.pdfEscape=function(Ce,Ge){return(function(_t,Ht){var cr,Ur,nn,ns,cs,Fs,Rs,Zs,ta;if(nn=(Ht=Ht||{}).sourceEncoding||"Unicode",cs=Ht.outputEncoding,(Ht.autoencode||cs)&&ms[un].metadata&&ms[un].metadata[nn]&&ms[un].metadata[nn].encoding&&(ns=ms[un].metadata[nn].encoding,!cs&&ms[un].encoding&&(cs=ms[un].encoding),!cs&&ns.codePages&&(cs=ns.codePages[0]),typeof cs=="string"&&(cs=ns[cs]),cs)){for(Rs=!1,Fs=[],cr=0,Ur=_t.length;cr<Ur;cr++)(Zs=cs[_t.charCodeAt(cr)])?Fs.push(String.fromCharCode(Zs)):Fs.push(_t[cr]),Fs[cr].charCodeAt(0)>>8&&(Rs=!0);_t=Fs.join("")}for(cr=_t.length;Rs===void 0&&cr!==0;)_t.charCodeAt(cr-1)>>8&&(Rs=!0),cr--;if(!Rs)return _t;for(Fs=Ht.noBOM?[]:[254,255],cr=0,Ur=_t.length;cr<Ur;cr++){if((ta=(Zs=_t.charCodeAt(cr))>>8)>>8)throw new Error("Character at position "+cr+" of string '"+_t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fs.push(ta),Fs.push(Zs-(ta<<8))}return String.fromCharCode.apply(void 0,Fs)})(Ce,Ge).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hl=Ie.__private__.beginPage=function(Ce){Pn[++pn]=[],In[pn]={objId:0,contentsObjId:0,userUnit:Number(Re),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Ce[0]),topRightY:Number(Ce[1])}},Go(pn),ws(Pn[Tt])},Jl=function(Ce,Ge){var _t,Ht,cr;switch(W=Ge||W,typeof Ce=="string"&&(_t=lt(Ce.toLowerCase()),Array.isArray(_t)&&(Ht=_t[0],cr=_t[1])),Array.isArray(Ce)&&(Ht=Ce[0]*qn,cr=Ce[1]*qn),isNaN(Ht)&&(Ht=me[0],cr=me[1]),(Ht>14400||cr>14400)&&(R.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ht=Math.min(14400,Ht),cr=Math.min(14400,cr)),me=[Ht,cr],W.substr(0,1)){case"l":cr>Ht&&(me=[cr,Ht]);break;case"p":Ht>cr&&(me=[cr,Ht])}Hl(me),zs(Xc),bt(Mo),Sl!==0&&bt(Sl+" J"),ll!==0&&bt(ll+" j"),ai.publish("addPage",{pageNumber:pn})},dc=function(Ce){Ce>0&&Ce<=pn&&(Pn.splice(Ce,1),In.splice(Ce,1),pn--,Tt>pn&&(Tt=pn),this.setPage(Tt))},Go=function(Ce){Ce>0&&Ce<=pn&&(Tt=Ce)},fc=Ie.__private__.getNumberOfPages=Ie.getNumberOfPages=function(){return Pn.length-1},hc=function(Ce,Ge,_t){var Ht,cr=void 0;return _t=_t||{},Ce=Ce!==void 0?Ce:ms[un].fontName,Ge=Ge!==void 0?Ge:ms[un].fontStyle,Ht=Ce.toLowerCase(),Ps[Ht]!==void 0&&Ps[Ht][Ge]!==void 0?cr=Ps[Ht][Ge]:Ps[Ce]!==void 0&&Ps[Ce][Ge]!==void 0?cr=Ps[Ce][Ge]:_t.disableWarning===!1&&R.warn("Unable to look up font label for font '"+Ce+"', '"+Ge+"'. Refer to getFontList() for available fonts."),cr||_t.noFallback||(cr=Ps.times[Ge])==null&&(cr=Ps.times.normal),cr},il=Ie.__private__.putInfo=function(){var Ce=ea(),Ge=function(Ht){return Ht};for(var _t in qe!==null&&(Ge=Pa.encryptor(Ce,0)),bt("<<"),bt("/Producer ("+xo(Ge("jsPDF "+Ye.version))+")"),Bn)Bn.hasOwnProperty(_t)&&Bn[_t]&&bt("/"+_t.substr(0,1).toUpperCase()+_t.substr(1)+" ("+xo(Ge(Bn[_t]))+")");bt("/CreationDate ("+xo(Ge(jr))+")"),bt(">>"),bt("endobj")},pc=Ie.__private__.putCatalog=function(Ce){var Ge=(Ce=Ce||{}).rootDictionaryObjId||Va;switch(ea(),bt("<<"),bt("/Type /Catalog"),bt("/Pages "+Ge+" 0 R"),ir||(ir="fullwidth"),ir){case"fullwidth":bt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":bt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":bt("/OpenAction [3 0 R /Fit]");break;case"original":bt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _t=""+ir;_t.substr(_t.length-1)==="%"&&(ir=parseInt(ir)/100),typeof ir=="number"&&bt("/OpenAction [3 0 R /XYZ null null "+ft(ir)+"]")}switch(dn||(dn="continuous"),dn){case"continuous":bt("/PageLayout /OneColumn");break;case"single":bt("/PageLayout /SinglePage");break;case"two":case"twoleft":bt("/PageLayout /TwoColumnLeft");break;case"tworight":bt("/PageLayout /TwoColumnRight")}Lr&&bt("/PageMode /"+Lr),ai.publish("putCatalog"),bt(">>"),bt("endobj")},Zl=Ie.__private__.putTrailer=function(){bt("trailer"),bt("<<"),bt("/Size "+(nr+1)),bt("/Root "+nr+" 0 R"),bt("/Info "+(nr-1)+" 0 R"),qe!==null&&bt("/Encrypt "+Pa.oid+" 0 R"),bt("/ID [ <"+Pr+"> <"+Pr+"> ]"),bt(">>")},Ds=Ie.__private__.putHeader=function(){bt("%PDF-"+wt),bt("%ÂºÃŸÂ¬Ã ")},Rc=Ie.__private__.putXRef=function(){var Ce="0000000000";bt("xref"),bt("0 "+(nr+1)),bt("0000000000 65535 f ");for(var Ge=1;Ge<=nr;Ge++)typeof mr[Ge]=="function"?bt((Ce+mr[Ge]()).slice(-10)+" 00000 n "):mr[Ge]!==void 0?bt((Ce+mr[Ge]).slice(-10)+" 00000 n "):bt("0000000000 00000 n ")},al=Ie.__private__.buildDocument=function(){var Ce;nr=0,Fr=0,Or=[],mr=[],Jr=[],Va=Na(),So=Na(),ws(Or),ai.publish("buildDocument"),Ds(),go(),(function(){ai.publish("putAdditionalObjects");for(var _t=0;_t<Jr.length;_t++){var Ht=Jr[_t];Ya(Ht.objId,!0),bt(Ht.content),bt("endobj")}ai.publish("postPutAdditionalObjects")})(),Ce=[],(function(){for(var _t in ms)ms.hasOwnProperty(_t)&&(at===!1||at===!0&&pt.hasOwnProperty(_t))&&lo(ms[_t])})(),(function(){var _t;for(_t in ks)ks.hasOwnProperty(_t)&&Cc(ks[_t])})(),(function(){for(var _t in ja)ja.hasOwnProperty(_t)&&sl(ja[_t])})(),(function(_t){var Ht;for(Ht in as)as.hasOwnProperty(Ht)&&(as[Ht]instanceof tt?Vo(as[Ht]):as[Ht]instanceof nt&&wl(as[Ht],_t))})(Ce),ai.publish("putResources"),Ce.forEach(Nl),Nl({resourcesOid:So,objectOid:Number.MAX_SAFE_INTEGER}),ai.publish("postPutResources"),qe!==null&&(Pa.oid=ea(),bt("<<"),bt("/Filter /Standard"),bt("/V "+Pa.v),bt("/R "+Pa.r),bt("/U <"+Pa.toHexString(Pa.U)+">"),bt("/O <"+Pa.toHexString(Pa.O)+">"),bt("/P "+Pa.P),bt(">>"),bt("endobj")),il(),pc();var Ge=Fr;return Rc(),Zl(),bt("startxref"),bt(""+Ge),bt("%%EOF"),ws(Pn[Tt]),Or.join(`
`)},Di=Ie.__private__.getBlob=function(Ce){return new Blob([Is(Ce)],{type:"application/pdf"})},Nc=Ie.output=Ie.__private__.output=(Ba=function(Ce,Ge){switch(typeof(Ge=Ge||{})=="string"?Ge={filename:Ge}:Ge.filename=Ge.filename||"generated.pdf",Ce){case void 0:return al();case"save":Ie.save(Ge.filename);break;case"arraybuffer":return Is(al());case"blob":return Di(al());case"bloburi":case"bloburl":if(j.URL!==void 0&&typeof j.URL.createObjectURL=="function")return j.URL&&j.URL.createObjectURL(Di(al()))||void 0;R.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _t="",Ht=al();try{_t=$(Ht)}catch{_t=$(unescape(encodeURIComponent(Ht)))}return"data:application/pdf;filename="+Ge.filename+";base64,"+_t;case"pdfobjectnewwindow":if(Object.prototype.toString.call(j)==="[object Window]"){var cr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ur=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ge.pdfObjectUrl&&(cr=Ge.pdfObjectUrl,Ur="");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+cr+'"'+Ur+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ge)+");<\/script></body></html>",ns=j.open();return ns!==null&&ns.document.write(nn),ns}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(j)==="[object Window]"){var cs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ge.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ge.filename+'" width="500px" height="400px" /></body></html>',Fs=j.open();if(Fs!==null){Fs.document.write(cs);var Rs=this;Fs.document.documentElement.querySelector("#pdfViewer").onload=function(){Fs.document.title=Ge.filename,Fs.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rs.output("bloburl"))}}return Fs}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(j)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Zs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ge)+'"></iframe></body></html>',ta=j.open();if(ta!==null&&(ta.document.write(Zs),ta.document.title=Ge.filename),ta||typeof safari>"u")return ta;break;case"datauri":case"dataurl":return j.document.location.href=this.output("datauristring",Ge);default:return null}},Ba.foo=function(){try{return Ba.apply(this,arguments)}catch(_t){var Ce=_t.stack||"";~Ce.indexOf(" at ")&&(Ce=Ce.split(" at ")[1]);var Ge="Error in function "+Ce.split(`
`)[0].split("<")[0]+": "+_t.message;if(!j.console)throw new Error(Ge);j.console.error(Ge,_t),j.alert&&alert(Ge)}},Ba.foo.bar=Ba,Ba.foo),Oo=function(Ce){return Array.isArray(rl)===!0&&rl.indexOf(Ce)>-1};switch(ae){case"pt":qn=1;break;case"mm":qn=2.834645669291339;break;case"cm":qn=28.346456692913385;break;case"in":qn=72;break;case"px":qn=Oo("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":qn=12;break;case"ex":qn=6;break;default:if(typeof ae!="number")throw new Error("Invalid unit: "+ae);qn=ae}var Pa=null;gn(),hr();var El=Ie.__private__.getPageInfo=Ie.getPageInfo=function(Ce){if(isNaN(Ce)||Ce%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:In[Ce].objId,pageNumber:Ce,pageContext:In[Ce]}},zl=Ie.__private__.getPageInfoByObjId=function(Ce){if(isNaN(Ce)||Ce%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ge in In)if(In[Ge].objId===Ce)break;return El(Ge)},Ko=Ie.__private__.getCurrentPageInfo=Ie.getCurrentPageInfo=function(){return{objId:In[Tt].objId,pageNumber:Tt,pageContext:In[Tt]}};Ie.addPage=function(){return Jl.apply(this,arguments),this},Ie.setPage=function(){return Go.apply(this,arguments),ws.call(this,Pn[Tt]),this},Ie.insertPage=function(Ce){return this.addPage(),this.movePage(Tt,Ce),this},Ie.movePage=function(Ce,Ge){var _t,Ht;if(Ce>Ge){_t=Pn[Ce],Ht=In[Ce];for(var cr=Ce;cr>Ge;cr--)Pn[cr]=Pn[cr-1],In[cr]=In[cr-1];Pn[Ge]=_t,In[Ge]=Ht,this.setPage(Ge)}else if(Ce<Ge){_t=Pn[Ce],Ht=In[Ce];for(var Ur=Ce;Ur<Ge;Ur++)Pn[Ur]=Pn[Ur+1],In[Ur]=In[Ur+1];Pn[Ge]=_t,In[Ge]=Ht,this.setPage(Ge)}return this},Ie.deletePage=function(){return dc.apply(this,arguments),this},Ie.__private__.text=Ie.text=function(Ce,Ge,_t,Ht,cr){var Ur,nn,ns,cs,Fs,Rs,Zs,ta,na,Ii=(Ht=Ht||{}).scope||this;if(typeof Ce=="number"&&typeof Ge=="number"&&(typeof _t=="string"||Array.isArray(_t))){var ga=_t;_t=Ge,Ge=Ce,Ce=ga}if(arguments[3]instanceof Ms==0?(ns=arguments[4],cs=arguments[5],(0,g.default)(Zs=arguments[3])==="object"&&Zs!==null||(typeof ns=="string"&&(cs=ns,ns=null),typeof Zs=="string"&&(cs=Zs,Zs=null),typeof Zs=="number"&&(ns=Zs,Zs=null),Ht={flags:Zs,angle:ns,align:cs})):(Lt("The transform parameter of text() with a Matrix value"),na=cr),isNaN(Ge)||isNaN(_t)||Ce==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Ce.length===0)return Ii;var G,Ue="",ve=typeof Ht.lineHeightFactor=="number"?Ht.lineHeightFactor:ic,rt=Ii.internal.scaleFactor;function Et(Ri){return Ri=Ri.split("	").join(Array(Ht.TabLen||9).join(" ")),xo(Ri,Zs)}function gt(Ri){for(var ia,xa=Ri.concat(),Ja=[],Kl=xa.length;Kl--;)typeof(ia=xa.shift())=="string"?Ja.push(ia):Array.isArray(Ri)&&(ia.length===1||ia[1]===void 0&&ia[2]===void 0)?Ja.push(ia[0]):Ja.push([ia[0],ia[1],ia[2]]);return Ja}function pr(Ri,ia){var xa;if(typeof Ri=="string")xa=ia(Ri)[0];else if(Array.isArray(Ri)){for(var Ja,Kl,pa=Ri.concat(),ql=[],Mc=pa.length;Mc--;)typeof(Ja=pa.shift())=="string"?ql.push(ia(Ja)[0]):Array.isArray(Ja)&&typeof Ja[0]=="string"&&(Kl=ia(Ja[0],Ja[1],Ja[2]),ql.push([Kl[0],Kl[1],Kl[2]]));xa=ql}return xa}var rr=!1,rs=!0;if(typeof Ce=="string")rr=!0;else if(Array.isArray(Ce)){var zt=Ce.concat();nn=[];for(var wr,Ls=zt.length;Ls--;)(typeof(wr=zt.shift())!="string"||Array.isArray(wr)&&typeof wr[0]!="string")&&(rs=!1);rr=rs}if(rr===!1)throw new Error('Type of text must be string or Array. "'+Ce+'" is not recognized.');typeof Ce=="string"&&(Ce=Ce.match(/[\r?\n]/)?Ce.split(/\r\n|\r|\n/g):[Ce]);var Qn=Rt/Ii.internal.scaleFactor,An=Qn*(ve-1);switch(Ht.baseline){case"bottom":_t-=An;break;case"top":_t+=Qn-An;break;case"hanging":_t+=Qn-2*An;break;case"middle":_t+=Qn/2-An}if((Rs=Ht.maxWidth||0)>0&&(typeof Ce=="string"?Ce=Ii.splitTextToSize(Ce,Rs):Object.prototype.toString.call(Ce)==="[object Array]"&&(Ce=Ce.reduce(function(Ri,ia){return Ri.concat(Ii.splitTextToSize(ia,Rs))},[]))),Ur={text:Ce,x:Ge,y:_t,options:Ht,mutex:{pdfEscape:xo,activeFontKey:un,fonts:ms,activeFontSize:Rt}},ai.publish("preProcessText",Ur),Ce=Ur.text,ns=(Ht=Ur.options).angle,na instanceof Ms==0&&ns&&typeof ns=="number"){ns*=Math.PI/180,Ht.rotationDirection===0&&(ns=-ns),Ft===tr&&(ns=-ns);var Hr=Math.cos(ns),sa=Math.sin(ns);na=new Ms(Hr,sa,-sa,Hr,0,0)}else ns&&ns instanceof Ms&&(na=ns);Ft!==tr||na||(na=ro),(Fs=Ht.charSpace||Fo)!==void 0&&(Ue+=lr($t(Fs))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ta=Ht.horizontalScale)!==void 0&&(Ue+=lr(100*ta)+` Tz
`),Ht.lang;var Us=-1,Ts=Ht.renderingMode!==void 0?Ht.renderingMode:Ht.stroke,Qs=Ii.internal.getCurrentPageInfo().pageContext;switch(Ts){case 0:case!1:case"fill":Us=0;break;case 1:case!0:case"stroke":Us=1;break;case 2:case"fillThenStroke":Us=2;break;case 3:case"invisible":Us=3;break;case 4:case"fillAndAddForClipping":Us=4;break;case 5:case"strokeAndAddPathForClipping":Us=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Us=6;break;case 7:case"addToPathForClipping":Us=7}var hi=Qs.usedRenderingMode!==void 0?Qs.usedRenderingMode:-1;Us!==-1?Ue+=Us+` Tr
`:hi!==-1&&(Ue+=`0 Tr
`),Us!==-1&&(Qs.usedRenderingMode=Us),cs=Ht.align||"left";var Ln,qs=Rt*ve,ha=Ii.internal.pageSize.getWidth(),ys=ms[un];Fs=Ht.charSpace||Fo,Rs=Ht.maxWidth||0,Zs=Object.assign({autoencode:!0,noBOM:!0},Ht.flags);var Ei=[],ei=function(Ri){return Ii.getStringUnitWidth(Ri,{font:ys,charSpace:Fs,fontSize:Rt,doKerning:!1})*Rt/rt};if(Object.prototype.toString.call(Ce)==="[object Array]"){var us;nn=gt(Ce),cs!=="left"&&(Ln=nn.map(ei));var Os,so=0;if(cs==="right"){Ge-=Ln[0],Ce=[],Ls=nn.length;for(var ul=0;ul<Ls;ul++)ul===0?(Os=no(Ge),us=Wo(_t)):(Os=$t(so-Ln[ul]),us=-qs),Ce.push([nn[ul],Os,us]),so=Ln[ul]}else if(cs==="center"){Ge-=Ln[0]/2,Ce=[],Ls=nn.length;for(var uo=0;uo<Ls;uo++)uo===0?(Os=no(Ge),us=Wo(_t)):(Os=$t((so-Ln[uo])/2),us=-qs),Ce.push([nn[uo],Os,us]),so=Ln[uo]}else if(cs==="left"){Ce=[],Ls=nn.length;for(var Xa=0;Xa<Ls;Xa++)Ce.push(nn[Xa])}else if(cs==="justify"&&ys.encoding==="Identity-H"){Ce=[],Ls=nn.length,Rs=Rs!==0?Rs:ha;for(var dl=0,Da=0;Da<Ls;Da++)if(us=Da===0?Wo(_t):-qs,Os=Da===0?no(Ge):dl,Da<Ls-1){var Eu=$t((Rs-Ln[Da])/(nn[Da].split(" ").length-1)),bo=nn[Da].split(" ");Ce.push([bo[0]+" ",Os,us]),dl=0;for(var _o=1;_o<bo.length;_o++){var tu=(ei(bo[_o-1]+" "+bo[_o])-ei(bo[_o]))*rt+Eu;_o==bo.length-1?Ce.push([bo[_o],tu,0]):Ce.push([bo[_o]+" ",tu,0]),dl-=tu}}else Ce.push([nn[Da],Os,us]);Ce.push(["",dl,0])}else{if(cs!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Ce=[],Ls=nn.length,Rs=Rs!==0?Rs:ha,Da=0;Da<Ls;Da++){us=Da===0?Wo(_t):-qs,Os=Da===0?no(Ge):0;var du=nn[Da].split(" ").length-1,_l=du>0?(Rs-Ln[Da])/du:0;Da<Ls-1?Ei.push(lr($t(_l))):Ei.push(0),Ce.push([nn[Da],Os,us])}}}(typeof Ht.R2L=="boolean"?Ht.R2L:_r)===!0&&(Ce=pr(Ce,function(Ri,ia,xa){return[Ri.split("").reverse().join(""),ia,xa]})),Ur={text:Ce,x:Ge,y:_t,options:Ht,mutex:{pdfEscape:xo,activeFontKey:un,fonts:ms,activeFontSize:Rt}},ai.publish("postProcessText",Ur),Ce=Ur.text,G=Ur.mutex.isHex||!1;var Il=ms[un].encoding;Il!=="WinAnsiEncoding"&&Il!=="StandardEncoding"||(Ce=pr(Ce,function(Ri,ia,xa){return[Et(Ri),ia,xa]})),nn=gt(Ce),Ce=[];for(var Ol,gc,Gl,Oc=Array.isArray(nn[0])?1:0,Rl="",Lo=function(Ri,ia,xa){var Ja="";return xa instanceof Ms?(xa=typeof Ht.angle=="number"?Sa(xa,new Ms(1,0,0,1,Ri,ia)):Sa(new Ms(1,0,0,1,Ri,ia),xa),Ft===tr&&(xa=Sa(new Ms(1,0,0,-1,0,0),xa)),Ja=xa.join(" ")+` Tm
`):Ja=lr(Ri)+" "+lr(ia)+` Td
`,Ja},fo=0;fo<nn.length;fo++){switch(Rl="",Oc){case 1:Gl=(G?"<":"(")+nn[fo][0]+(G?">":")"),Ol=parseFloat(nn[fo][1]),gc=parseFloat(nn[fo][2]);break;case 0:Gl=(G?"<":"(")+nn[fo]+(G?">":")"),Ol=no(Ge),gc=Wo(_t)}Ei!==void 0&&Ei[fo]!==void 0&&(Rl=Ei[fo]+` Tw
`),fo===0?Ce.push(Rl+Lo(Ol,gc,na)+Gl):Oc===0?Ce.push(Rl+Gl):Oc===1&&Ce.push(Rl+Lo(Ol,gc,na)+Gl)}Ce=Oc===0?Ce.join(` Tj
T* `):Ce.join(` Tj
`),Ce+=` Tj
`;var fl=`BT
/`;return fl+=un+" "+Rt+` Tf
`,fl+=lr(Rt*ve)+` TL
`,fl+=yo+`
`,fl+=Ue,fl+=Ce,bt(fl+="ET"),pt[un]=!0,Ii};var Ac=Ie.__private__.clip=Ie.clip=function(Ce){return bt(Ce==="evenodd"?"W*":"W"),this};Ie.clipEvenOdd=function(){return Ac("evenodd")},Ie.__private__.discardPath=Ie.discardPath=function(){return bt("n"),this};var vo=Ie.__private__.isValidStyle=function(Ce){var Ge=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Ce)!==-1&&(Ge=!0),Ge};Ie.__private__.setDefaultPathOperation=Ie.setDefaultPathOperation=function(Ce){return vo(Ce)&&($e=Ce),this};var Pc=Ie.__private__.getStyle=Ie.getStyle=function(Ce){var Ge=$e;switch(Ce){case"D":case"S":Ge="S";break;case"F":Ge="f";break;case"FD":case"DF":Ge="B";break;case"f":case"f*":case"B":case"B*":Ge=Ce}return Ge},ec=Ie.close=function(){return bt("h"),this};Ie.stroke=function(){return bt("S"),this},Ie.fill=function(Ce){return kc("f",Ce),this},Ie.fillEvenOdd=function(Ce){return kc("f*",Ce),this},Ie.fillStroke=function(Ce){return kc("B",Ce),this},Ie.fillStrokeEvenOdd=function(Ce){return kc("B*",Ce),this};var kc=function(Ce,Ge){(0,g.default)(Ge)==="object"?rc(Ge,Ce):bt(Ce)},Ql=function(Ce){Ce===null||Ft===tr&&Ce===void 0||(Ce=Pc(Ce),bt(Ce))};function tc(Ce,Ge,_t,Ht,cr){var Ur=new nt(Ge||this.boundingBox,_t||this.xStep,Ht||this.yStep,this.gState,cr||this.matrix);Ur.stream=this.stream;var nn=Ce+"$$"+this.cloneIndex+++"$$";return zo(nn,Ur),Ur}var rc=function(Ce,Ge){var _t=Mi[Ce.key],Ht=as[_t];if(Ht instanceof tt)bt("q"),bt(nc(Ge)),Ht.gState&&Ie.setGState(Ht.gState),bt(Ce.matrix.toString()+" cm"),bt("/"+_t+" sh"),bt("Q");else if(Ht instanceof nt){var cr=new Ms(1,0,0,-1,0,Bl());Ce.matrix&&(cr=cr.multiply(Ce.matrix||ro),_t=tc.call(Ht,Ce.key,Ce.boundingBox,Ce.xStep,Ce.yStep,cr).id),bt("q"),bt("/Pattern cs"),bt("/"+_t+" scn"),Ht.gState&&Ie.setGState(Ht.gState),bt(Ge),bt("Q")}},nc=function(Ce){switch(Ce){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},sc=Ie.moveTo=function(Ce,Ge){return bt(lr($t(Ce))+" "+lr(Mt(Ge))+" m"),this},Bc=Ie.lineTo=function(Ce,Ge){return bt(lr($t(Ce))+" "+lr(Mt(Ge))+" l"),this},qo=Ie.curveTo=function(Ce,Ge,_t,Ht,cr,Ur){return bt([lr($t(Ce)),lr(Mt(Ge)),lr($t(_t)),lr(Mt(Ht)),lr($t(cr)),lr(Mt(Ur)),"c"].join(" ")),this};Ie.__private__.line=Ie.line=function(Ce,Ge,_t,Ht,cr){if(isNaN(Ce)||isNaN(Ge)||isNaN(_t)||isNaN(Ht)||!vo(cr))throw new Error("Invalid arguments passed to jsPDF.line");return Ft===Ut?this.lines([[_t-Ce,Ht-Ge]],Ce,Ge,[1,1],cr||"S"):this.lines([[_t-Ce,Ht-Ge]],Ce,Ge,[1,1]).stroke()},Ie.__private__.lines=Ie.lines=function(Ce,Ge,_t,Ht,cr,Ur){var nn,ns,cs,Fs,Rs,Zs,ta,na,Ii,ga,G,Ue;if(typeof Ce=="number"&&(Ue=_t,_t=Ge,Ge=Ce,Ce=Ue),Ht=Ht||[1,1],Ur=Ur||!1,isNaN(Ge)||isNaN(_t)||!Array.isArray(Ce)||!Array.isArray(Ht)||!vo(cr)||typeof Ur!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sc(Ge,_t),nn=Ht[0],ns=Ht[1],Fs=Ce.length,ga=Ge,G=_t,cs=0;cs<Fs;cs++)(Rs=Ce[cs]).length===2?(ga=Rs[0]*nn+ga,G=Rs[1]*ns+G,Bc(ga,G)):(Zs=Rs[0]*nn+ga,ta=Rs[1]*ns+G,na=Rs[2]*nn+ga,Ii=Rs[3]*ns+G,ga=Rs[4]*nn+ga,G=Rs[5]*ns+G,qo(Zs,ta,na,Ii,ga,G));return Ur&&ec(),Ql(cr),this},Ie.path=function(Ce){for(var Ge=0;Ge<Ce.length;Ge++){var _t=Ce[Ge],Ht=_t.c;switch(_t.op){case"m":sc(Ht[0],Ht[1]);break;case"l":Bc(Ht[0],Ht[1]);break;case"c":qo.apply(this,Ht);break;case"h":ec()}}return this},Ie.__private__.rect=Ie.rect=function(Ce,Ge,_t,Ht,cr){if(isNaN(Ce)||isNaN(Ge)||isNaN(_t)||isNaN(Ht)||!vo(cr))throw new Error("Invalid arguments passed to jsPDF.rect");return Ft===Ut&&(Ht=-Ht),bt([lr($t(Ce)),lr(Mt(Ge)),lr($t(_t)),lr($t(Ht)),"re"].join(" ")),Ql(cr),this},Ie.__private__.triangle=Ie.triangle=function(Ce,Ge,_t,Ht,cr,Ur,nn){if(isNaN(Ce)||isNaN(Ge)||isNaN(_t)||isNaN(Ht)||isNaN(cr)||isNaN(Ur)||!vo(nn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_t-Ce,Ht-Ge],[cr-_t,Ur-Ht],[Ce-cr,Ge-Ur]],Ce,Ge,[1,1],nn,!0),this},Ie.__private__.roundedRect=Ie.roundedRect=function(Ce,Ge,_t,Ht,cr,Ur,nn){if(isNaN(Ce)||isNaN(Ge)||isNaN(_t)||isNaN(Ht)||isNaN(cr)||isNaN(Ur)||!vo(nn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ns=4/3*(Math.SQRT2-1);return cr=Math.min(cr,.5*_t),Ur=Math.min(Ur,.5*Ht),this.lines([[_t-2*cr,0],[cr*ns,0,cr,Ur-Ur*ns,cr,Ur],[0,Ht-2*Ur],[0,Ur*ns,-cr*ns,Ur,-cr,Ur],[2*cr-_t,0],[-cr*ns,0,-cr,-Ur*ns,-cr,-Ur],[0,2*Ur-Ht],[0,-Ur*ns,cr*ns,-Ur,cr,-Ur]],Ce+cr,Ge,[1,1],nn,!0),this},Ie.__private__.ellipse=Ie.ellipse=function(Ce,Ge,_t,Ht,cr){if(isNaN(Ce)||isNaN(Ge)||isNaN(_t)||isNaN(Ht)||!vo(cr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ur=4/3*(Math.SQRT2-1)*_t,nn=4/3*(Math.SQRT2-1)*Ht;return sc(Ce+_t,Ge),qo(Ce+_t,Ge-nn,Ce+Ur,Ge-Ht,Ce,Ge-Ht),qo(Ce-Ur,Ge-Ht,Ce-_t,Ge-nn,Ce-_t,Ge),qo(Ce-_t,Ge+nn,Ce-Ur,Ge+Ht,Ce,Ge+Ht),qo(Ce+Ur,Ge+Ht,Ce+_t,Ge+nn,Ce+_t,Ge),Ql(cr),this},Ie.__private__.circle=Ie.circle=function(Ce,Ge,_t,Ht){if(isNaN(Ce)||isNaN(Ge)||isNaN(_t)||!vo(Ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Ce,Ge,_t,_t,Ht)},Ie.setFont=function(Ce,Ge,_t){return _t&&(Ge=Er(Ge,_t)),un=hc(Ce,Ge,{disableWarning:!1}),this};var bu=Ie.__private__.getFont=Ie.getFont=function(){return ms[hc.apply(Ie,arguments)]};Ie.__private__.getFontList=Ie.getFontList=function(){var Ce,Ge,_t={};for(Ce in Ps)if(Ps.hasOwnProperty(Ce))for(Ge in _t[Ce]=[],Ps[Ce])Ps[Ce].hasOwnProperty(Ge)&&_t[Ce].push(Ge);return _t},Ie.addFont=function(Ce,Ge,_t,Ht,cr){var Ur=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ur.indexOf(arguments[3])!==-1?cr=arguments[3]:arguments[3]&&Ur.indexOf(arguments[3])==-1&&(_t=Er(_t,Ht)),Ul.call(this,Ce,Ge,_t,cr=cr||"Identity-H")};var ic,Xc=V.lineWidth||.200025,wu=Ie.__private__.getLineWidth=Ie.getLineWidth=function(){return Xc},zs=Ie.__private__.setLineWidth=Ie.setLineWidth=function(Ce){return Xc=Ce,bt(lr($t(Ce))+" w"),this};Ie.__private__.setLineDash=Ye.API.setLineDash=Ye.API.setLineDashPattern=function(Ce,Ge){if(Ce=Ce||[],Ge=Ge||0,isNaN(Ge)||!Array.isArray(Ce))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Ce=Ce.map(function(_t){return lr($t(_t))}).join(" "),Ge=lr($t(Ge)),bt("["+Ce+"] "+Ge+" d"),this};var Pl=Ie.__private__.getLineHeight=Ie.getLineHeight=function(){return Rt*ic};Ie.__private__.getLineHeight=Ie.getLineHeight=function(){return Rt*ic};var uu=Ie.__private__.setLineHeightFactor=Ie.setLineHeightFactor=function(Ce){return typeof(Ce=Ce||1.15)=="number"&&(ic=Ce),this},jl=Ie.__private__.getLineHeightFactor=Ie.getLineHeightFactor=function(){return ic};uu(V.lineHeight);var no=Ie.__private__.getHorizontalCoordinate=function(Ce){return $t(Ce)},Wo=Ie.__private__.getVerticalCoordinate=function(Ce){return Ft===tr?Ce:In[Tt].mediaBox.topRightY-In[Tt].mediaBox.bottomLeftY-$t(Ce)},ol=Ie.__private__.getHorizontalCoordinateString=Ie.getHorizontalCoordinateString=function(Ce){return lr(no(Ce))},Jc=Ie.__private__.getVerticalCoordinateString=Ie.getVerticalCoordinateString=function(Ce){return lr(Wo(Ce))},Mo=V.strokeColor||"0 G";Ie.__private__.getStrokeColor=Ie.getDrawColor=function(){return bl(Mo)},Ie.__private__.setStrokeColor=Ie.setDrawColor=function(Ce,Ge,_t,Ht){return Mo=nl({ch1:Ce,ch2:Ge,ch3:_t,ch4:Ht,pdfColorType:"draw",precision:2}),bt(Mo),this};var mc=V.fillColor||"0 g";Ie.__private__.getFillColor=Ie.getFillColor=function(){return bl(mc)},Ie.__private__.setFillColor=Ie.setFillColor=function(Ce,Ge,_t,Ht){return mc=nl({ch1:Ce,ch2:Ge,ch3:_t,ch4:Ht,pdfColorType:"fill",precision:2}),bt(mc),this};var yo=V.textColor||"0 g",ac=Ie.__private__.getTextColor=Ie.getTextColor=function(){return bl(yo)};Ie.__private__.setTextColor=Ie.setTextColor=function(Ce,Ge,_t,Ht){return yo=nl({ch1:Ce,ch2:Ge,ch3:_t,ch4:Ht,pdfColorType:"text",precision:3}),this};var Fo=V.charSpace,Ic=Ie.__private__.getCharSpace=Ie.getCharSpace=function(){return parseFloat(Fo||0)};Ie.__private__.setCharSpace=Ie.setCharSpace=function(Ce){if(isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fo=Ce,this};var Sl=0;Ie.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Ie.__private__.setLineCap=Ie.setLineCap=function(Ce){var Ge=Ie.CapJoinStyles[Ce];if(Ge===void 0)throw new Error("Line cap style of '"+Ce+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=Ge,bt(Ge+" J"),this};var ll=0;Ie.__private__.setLineJoin=Ie.setLineJoin=function(Ce){var Ge=Ie.CapJoinStyles[Ce];if(Ge===void 0)throw new Error("Line join style of '"+Ce+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=Ge,bt(Ge+" j"),this},Ie.__private__.setLineMiterLimit=Ie.__private__.setMiterLimit=Ie.setLineMiterLimit=Ie.setMiterLimit=function(Ce){if(Ce=Ce||0,isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return bt(lr($t(Ce))+" M"),this},Ie.GState=ze,Ie.setGState=function(Ce){(Ce=typeof Ce=="string"?ks[ls[Ce]]:Yo(null,Ce)).equals($i)||(bt("/"+Ce.id+" gs"),$i=Ce)};var Yo=function(Ce,Ge){if(!Ce||!ls[Ce]){var _t=!1;for(var Ht in ks)if(ks.hasOwnProperty(Ht)&&ks[Ht].equals(Ge)){_t=!0;break}if(_t)Ge=ks[Ht];else{var cr="GS"+(Object.keys(ks).length+1).toString(10);ks[cr]=Ge,Ge.id=cr}return Ce&&(ls[Ce]=Ge.id),ai.publish("addGState",Ge),Ge}};Ie.addGState=function(Ce,Ge){return Yo(Ce,Ge),this},Ie.saveGraphicsState=function(){return bt("q"),Vi.push({key:un,size:Rt,color:yo}),this},Ie.restoreGraphicsState=function(){bt("Q");var Ce=Vi.pop();return un=Ce.key,Rt=Ce.size,yo=Ce.color,$i=null,this},Ie.setCurrentTransformationMatrix=function(Ce){return bt(Ce.toString()+" cm"),this},Ie.comment=function(Ce){return bt("#"+Ce),this};var Ci=function(Ce,Ge){var _t=Ce||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _t},set:function(Ur){isNaN(Ur)||(_t=parseFloat(Ur))}});var Ht=Ge||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ht},set:function(Ur){isNaN(Ur)||(Ht=parseFloat(Ur))}});var cr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return cr},set:function(Ur){cr=Ur.toString()}}),this},qi=function(Ce,Ge,_t,Ht){Ci.call(this,Ce,Ge),this.type="rect";var cr=_t||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return cr},set:function(nn){isNaN(nn)||(cr=parseFloat(nn))}});var Ur=Ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ur},set:function(nn){isNaN(nn)||(Ur=parseFloat(nn))}}),this},Xo=function(){this.page=pn,this.currentPage=Tt,this.pages=Pn.slice(0),this.pagesContext=In.slice(0),this.x=Fn,this.y=Es,this.matrix=Jn,this.width=Cl(Tt),this.height=co(Tt),this.outputDestination=ts,this.id="",this.objectNumber=-1};Xo.prototype.restore=function(){pn=this.page,Tt=this.currentPage,In=this.pagesContext,Pn=this.pages,Fn=this.x,Es=this.y,Jn=this.matrix,Vl(Tt,this.width),cl(Tt,this.height),ts=this.outputDestination};var Ca=function(Ce,Ge,_t,Ht,cr){yl.push(new Xo),pn=Tt=0,Pn=[],Fn=Ce,Es=Ge,Jn=cr,Hl([_t,Ht])};for(var Ia in Ie.beginFormObject=function(Ce,Ge,_t,Ht,cr){return Ca(Ce,Ge,_t,Ht,cr),this},Ie.endFormObject=function(Ce){return(function(Ge){if($a[Ge])yl.pop().restore();else{var _t=new Xo,Ht="Xo"+(Object.keys(ja).length+1).toString(10);_t.id=Ht,$a[Ge]=Ht,ja[Ht]=_t,ai.publish("addFormObject",_t),yl.pop().restore()}})(Ce),this},Ie.doFormObject=function(Ce,Ge){var _t=ja[$a[Ce]];return bt("q"),bt(Ge.toString()+" cm"),bt("/"+_t.id+" Do"),bt("Q"),this},Ie.getFormObject=function(Ce){var Ge=ja[$a[Ce]];return{x:Ge.x,y:Ge.y,width:Ge.width,height:Ge.height,matrix:Ge.matrix}},Ie.save=function(Ce,Ge){return Ce=Ce||"generated.pdf",(Ge=Ge||{}).returnPromise=Ge.returnPromise||!1,Ge.returnPromise===!1?(M(Di(al()),Ce),typeof M.unload=="function"&&j.setTimeout&&setTimeout(M.unload,911),this):new Promise(function(_t,Ht){try{var cr=M(Di(al()),Ce);typeof M.unload=="function"&&j.setTimeout&&setTimeout(M.unload,911),_t(cr)}catch(Ur){Ht(Ur.message)}})},Ye.API)Ye.API.hasOwnProperty(Ia)&&(Ia==="events"&&Ye.API.events.length?(function(Ce,Ge){var _t,Ht,cr;for(cr=Ge.length-1;cr!==-1;cr--)_t=Ge[cr][0],Ht=Ge[cr][1],Ce.subscribe.apply(Ce,[_t].concat(typeof Ht=="function"?[Ht]:Ht))})(ai,Ye.API.events):Ie[Ia]=Ye.API[Ia]);function Cl(Ce){return In[Ce].mediaBox.topRightX-In[Ce].mediaBox.bottomLeftX}function Vl(Ce,Ge){In[Ce].mediaBox.topRightX=Ge+In[Ce].mediaBox.bottomLeftX}function co(Ce){return In[Ce].mediaBox.topRightY-In[Ce].mediaBox.bottomLeftY}function cl(Ce,Ge){In[Ce].mediaBox.topRightY=Ge+In[Ce].mediaBox.bottomLeftY}var kl=Ie.getPageWidth=function(Ce){return Cl(Ce=Ce||Tt)/qn},Zc=Ie.setPageWidth=function(Ce,Ge){Vl(Ce,Ge*qn)},Bl=Ie.getPageHeight=function(Ce){return co(Ce=Ce||Tt)/qn},eu=Ie.setPageHeight=function(Ce,Ge){cl(Ce,Ge*qn)};return Ie.internal={pdfEscape:xo,getStyle:Pc,getFont:bu,getFontSize:Xt,getCharSpace:Ic,getTextColor:ac,getLineHeight:Pl,getLineHeightFactor:jl,getLineWidth:wu,write:Dn,getHorizontalCoordinate:no,getVerticalCoordinate:Wo,getCoordinateString:ol,getVerticalCoordinateString:Jc,collections:{},newObject:ea,newAdditionalObject:Dl,newObjectDeferred:Na,newObjectDeferredBegin:Ya,getFilters:Ga,putStream:Co,events:ai,scaleFactor:qn,pageSize:{getWidth:function(){return kl(Tt)},setWidth:function(Ce){Zc(Tt,Ce)},getHeight:function(){return Bl(Tt)},setHeight:function(Ce){eu(Tt,Ce)}},encryptionOptions:qe,encryption:Pa,getEncryptor:function(Ce){return qe!==null?Pa.encryptor(Ce,0):function(Ge){return Ge}},output:Nc,getNumberOfPages:fc,get pages(){return Pn},out:bt,f2:ft,f3:yt,getPageInfo:El,getPageInfoByObjId:zl,getCurrentPageInfo:Ko,getPDFVersion:At,Point:Ci,Rectangle:qi,Matrix:Ms,hasHotfix:Oo},Object.defineProperty(Ie.internal.pageSize,"width",{get:function(){return kl(Tt)},set:function(Ce){Zc(Tt,Ce)},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.internal.pageSize,"height",{get:function(){return Bl(Tt)},set:function(Ce){eu(Tt,Ce)},enumerable:!0,configurable:!0}),function(Ce){for(var Ge=0,_t=dt.length;Ge<_t;Ge++){var Ht=Ul.call(this,Ce[Ge][0],Ce[Ge][1],Ce[Ge][2],dt[Ge][3],!0);at===!1&&(pt[Ht]=!0);var cr=Ce[Ge][0].split("-");_c({id:Ht,fontName:cr[0],fontStyle:cr[1]||""})}ai.publish("addFonts",{fonts:ms,dictionary:Ps})}.call(Ie,dt),un="F1",Jl(me,W),ai.publish("initialized"),Ie}Me.prototype.lsbFirstWord=function(V){return String.fromCharCode(255&V,V>>8&255,V>>16&255,V>>24&255)},Me.prototype.toHexString=function(V){return V.split("").map(function(U){return("0"+(255&U.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Me.prototype.hexToBytes=function(V){for(var U=[],W=0;W<V.length;W+=2)U.push(String.fromCharCode(parseInt(V.substr(W,2),16)));return U.join("")},Me.prototype.processOwnerPassword=function(V,U){return ge(le(U).substr(0,5),V)},Me.prototype.encryptor=function(V,U){var W=le(this.encryptionKey+String.fromCharCode(255&V,V>>8&255,V>>16&255,255&U,U>>8&255)).substr(0,10);return function(ae){return ge(W,ae)}},ze.prototype.equals=function(V){var U,W="id,objectNumber,equals";if(!V||(0,g.default)(V)!==(0,g.default)(this))return!1;var ae=0;for(U in this)if(!(W.indexOf(U)>=0)){if(this.hasOwnProperty(U)&&!V.hasOwnProperty(U)||this[U]!==V[U])return!1;ae++}for(U in V)V.hasOwnProperty(U)&&W.indexOf(U)<0&&ae--;return ae===0},Ye.API={events:[]},Ye.version="4.0.0";var ut=Ye.API,mt=1,St=function(V){return V.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},or=function(V){return V.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(V){return V.toFixed(2)},Bt=function(V){return V.toFixed(5)};ut.__acroform__={};var ur=function(V,U){V.prototype=Object.create(U.prototype),V.prototype.constructor=V},Nr=function(V){return V*mt},Qr=function(V){var U=new Zr,W=Sn.internal.getHeight(V)||0,ae=Sn.internal.getWidth(V)||0;return U.BBox=[0,0,Number(Zt(ae)),Number(Zt(W))],U},$r=ut.__acroform__.setBit=function(V,U){if(V=V||0,U=U||0,isNaN(V)||isNaN(U))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return V|1<<U},on=ut.__acroform__.clearBit=function(V,U){if(V=V||0,U=U||0,isNaN(V)||isNaN(U))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return V&~(1<<U)},wn=ut.__acroform__.getBit=function(V,U){if(isNaN(V)||isNaN(U))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return V&1<<U?1:0},En=ut.__acroform__.getBitForPdf=function(V,U){if(isNaN(V)||isNaN(U))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wn(V,U-1)},en=ut.__acroform__.setBitForPdf=function(V,U){if(isNaN(V)||isNaN(U))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $r(V,U-1)},Pt=ut.__acroform__.clearBitForPdf=function(V,U){if(isNaN(V)||isNaN(U))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return on(V,U-1)},ar=ut.__acroform__.calculateCoordinates=function(V,U){var W=U.internal.getHorizontalCoordinate,ae=U.internal.getVerticalCoordinate,me=V[0],we=V[1],Be=V[2],Re=V[3],Te={};return Te.lowerLeft_X=W(me)||0,Te.lowerLeft_Y=ae(we+Re)||0,Te.upperRight_X=W(me+Be)||0,Te.upperRight_Y=ae(we)||0,[Number(Zt(Te.lowerLeft_X)),Number(Zt(Te.lowerLeft_Y)),Number(Zt(Te.upperRight_X)),Number(Zt(Te.upperRight_Y))]},Xr=function(V){if(V.appearanceStreamContent)return V.appearanceStreamContent;if(V.V||V.DV){var U=[],W=V._V||V.DV,ae=Cn(V,W),me=V.scope.internal.getFont(V.fontName,V.fontStyle).id;U.push("/Tx BMC"),U.push("q"),U.push("BT"),U.push(V.scope.__private__.encodeColorString(V.color)),U.push("/"+me+" "+Zt(ae.fontSize)+" Tf"),U.push("1 0 0 1 0 0 Tm"),U.push(ae.text),U.push("ET"),U.push("Q"),U.push("EMC");var we=Qr(V);return we.scope=V.scope,we.stream=U.join(`
`),we}},Cn=function(V,U){var W=V.fontSize===0?V.maxFontSize:V.fontSize,ae={text:"",fontSize:""},me=(U=(U=U.substr(0,1)=="("?U.substr(1):U).substr(U.length-1)==")"?U.substr(0,U.length-1):U).split(" ");me=V.multiline?me.map(function(ft){return ft.split(`
`)}):me.map(function(ft){return[ft]});var we=W,Be=Sn.internal.getHeight(V)||0;Be=Be<0?-Be:Be;var Re=Sn.internal.getWidth(V)||0;Re=Re<0?-Re:Re;var Te=function(ft,yt,$t){if(ft+1<me.length){var Mt=yt+" "+me[ft+1][0];return tn(Mt,V,$t).width<=Re-4}return!1};we++;e:for(;we>0;){U="",we--;var $e,qe,at=tn("3",V,we).height,pt=V.multiline?Be-we:(Be-at)/2,Ie=pt+=2,wt=0,At=0,Nt=0;if(we<=0){U=`(...) Tj
`,U+="% Width of Text: "+tn(U,V,we=12).width+", FieldWidth:"+Re+`
`;break}for(var lt="",Ut=0,tr=0;tr<me.length;tr++)if(me.hasOwnProperty(tr)){var Ft=!1;if(me[tr].length!==1&&Nt!==me[tr].length-1){if((at+2)*(Ut+2)+2>Be)continue e;lt+=me[tr][Nt],Ft=!0,At=tr,tr--}else{lt=(lt+=me[tr][Nt]+" ").substr(lt.length-1)==" "?lt.substr(0,lt.length-1):lt;var it=parseInt(tr),Yt=Te(it,lt,we),Er=tr>=me.length-1;if(Yt&&!Er){lt+=" ",Nt=0;continue}if(Yt||Er){if(Er)At=it;else if(V.multiline&&(at+2)*(Ut+2)+2>Be)continue e}else{if(!V.multiline||(at+2)*(Ut+2)+2>Be)continue e;At=it}}for(var lr="",Lt=wt;Lt<=At;Lt++){var vr=me[Lt];if(V.multiline){if(Lt===At){lr+=vr[Nt]+" ",Nt=(Nt+1)%vr.length;continue}if(Lt===wt){lr+=vr[vr.length-1]+" ";continue}}lr+=vr[0]+" "}switch(lr=lr.substr(lr.length-1)==" "?lr.substr(0,lr.length-1):lr,qe=tn(lr,V,we).width,V.textAlign){case"right":$e=Re-qe-2;break;case"center":$e=(Re-qe)/2;break;default:$e=2}U+=Zt($e)+" "+Zt(Ie)+` Td
`,U+="("+St(lr)+`) Tj
`,U+=-Zt($e)+` 0 Td
`,Ie=-(we+2),qe=0,wt=Ft?At:At+1,Ut++,lt=""}break}return ae.text=U,ae.fontSize=we,ae},tn=function(V,U,W){var ae=U.scope.internal.getFont(U.fontName,U.fontStyle),me=U.scope.getStringUnitWidth(V,{font:ae,fontSize:parseFloat(W),charSpace:0})*parseFloat(W);return{height:U.scope.getStringUnitWidth("3",{font:ae,fontSize:parseFloat(W),charSpace:0})*parseFloat(W)*1.5,width:me}},vn={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bn=function(V,U){var W={type:"reference",object:V};U.internal.getPageInfo(V.page).pageContext.annotations.find(function(ae){return ae.type===W.type&&ae.object===W.object})===void 0&&U.internal.getPageInfo(V.page).pageContext.annotations.push(W)},Br=function(V,U){if(U.scope=V,V.internal!==void 0&&(V.internal.acroformPlugin===void 0||V.internal.acroformPlugin.isInitialized===!1)){if(rn.FieldNum=0,V.internal.acroformPlugin=JSON.parse(JSON.stringify(vn)),V.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mt=V.internal.scaleFactor,V.internal.acroformPlugin.acroFormDictionaryRoot=new jn,V.internal.acroformPlugin.acroFormDictionaryRoot.scope=V,V.internal.acroformPlugin.acroFormDictionaryRoot._eventID=V.internal.events.subscribe("postPutResources",function(){(function(W){W.internal.events.unsubscribe(W.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete W.internal.acroformPlugin.acroFormDictionaryRoot._eventID,W.internal.acroformPlugin.printedOut=!0})(V)}),V.internal.events.subscribe("buildDocument",function(){(function(W){W.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var ae=W.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var me in ae)if(ae.hasOwnProperty(me)){var we=ae[me];we.objId=void 0,we.hasAnnotation&&bn(we,W)}})(V)}),V.internal.events.subscribe("putCatalog",function(){(function(W){if(W.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");W.internal.write("/AcroForm "+W.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(V)}),V.internal.events.subscribe("postPutPages",function(W){(function(ae,me){var we=!ae;for(var Be in ae||(me.internal.newObjectDeferredBegin(me.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),me.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),ae=ae||me.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(ae.hasOwnProperty(Be)){var Re=ae[Be],Te=[],$e=Re.Rect;if(Re.Rect&&(Re.Rect=ar(Re.Rect,me)),me.internal.newObjectDeferredBegin(Re.objId,!0),Re.DA=Sn.createDefaultAppearanceStream(Re),(0,g.default)(Re)==="object"&&typeof Re.getKeyValueListForStream=="function"&&(Te=Re.getKeyValueListForStream()),Re.Rect=$e,Re.hasAppearanceStream&&!Re.appearanceStreamContent){var qe=Xr(Re);Te.push({key:"AP",value:"<</N "+qe+">>"}),me.internal.acroformPlugin.xForms.push(qe)}if(Re.appearanceStreamContent){var at="";for(var pt in Re.appearanceStreamContent)if(Re.appearanceStreamContent.hasOwnProperty(pt)){var Ie=Re.appearanceStreamContent[pt];if(at+="/"+pt+" ",at+="<<",Object.keys(Ie).length>=1||Array.isArray(Ie)){for(var Be in Ie)if(Ie.hasOwnProperty(Be)){var wt=Ie[Be];typeof wt=="function"&&(wt=wt.call(me,Re)),at+="/"+Be+" "+wt+" ",me.internal.acroformPlugin.xForms.indexOf(wt)>=0||me.internal.acroformPlugin.xForms.push(wt)}}else typeof(wt=Ie)=="function"&&(wt=wt.call(me,Re)),at+="/"+Be+" "+wt,me.internal.acroformPlugin.xForms.indexOf(wt)>=0||me.internal.acroformPlugin.xForms.push(wt);at+=">>"}Te.push({key:"AP",value:`<<
`+at+">>"})}me.internal.putStream({additionalKeyValues:Te,objectId:Re.objId}),me.internal.out("endobj")}we&&(function(At,Nt){for(var lt in At)if(At.hasOwnProperty(lt)){var Ut=lt,tr=At[lt];Nt.internal.newObjectDeferredBegin(tr.objId,!0),(0,g.default)(tr)==="object"&&typeof tr.putStream=="function"&&tr.putStream(),delete At[Ut]}})(me.internal.acroformPlugin.xForms,me)})(W,V)}),V.internal.acroformPlugin.isInitialized=!0}},Dt=ut.__acroform__.arrayToPdfArray=function(V,U,W){var ae=function(Be){return Be};if(Array.isArray(V)){for(var me="[",we=0;we<V.length;we++)switch(we!==0&&(me+=" "),(0,g.default)(V[we])){case"boolean":case"number":case"object":me+=V[we].toString();break;case"string":V[we].substr(0,1)!=="/"?(U!==void 0&&W&&(ae=W.internal.getEncryptor(U)),me+="("+St(ae(V[we].toString()))+")"):me+=V[we].toString()}return me+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tr=function(V,U,W){var ae=function(me){return me};return U!==void 0&&W&&(ae=W.internal.getEncryptor(U)),(V=V||"").toString(),"("+St(ae(V))+")"},qr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(V){this._objId=V}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qr.prototype.toString=function(){return this.objId+" 0 R"},qr.prototype.putStream=function(){var V=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:V,objectId:this.objId}),this.scope.internal.out("endobj")},qr.prototype.getKeyValueListForStream=function(){var V=[],U=Object.getOwnPropertyNames(this).filter(function(we){return we!="content"&&we!="appearanceStreamContent"&&we!="scope"&&we!="objId"&&we.substring(0,1)!="_"});for(var W in U)if(Object.getOwnPropertyDescriptor(this,U[W]).configurable===!1){var ae=U[W],me=this[ae];me&&(Array.isArray(me)?V.push({key:ae,value:Dt(me,this.objId,this.scope)}):me instanceof qr?(me.scope=this.scope,V.push({key:ae,value:me.objId+" 0 R"})):typeof me!="function"&&V.push({key:ae,value:me}))}return V};var Zr=function(){qr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var V,U=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return U},set:function(W){U=W}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(W){V=W.trim()},get:function(){return V||null}})};ur(Zr,qr);var jn=function(){qr.call(this);var V,U=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return U.length>0?U:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return U}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(V){var W=function(ae){return ae};return this.scope&&(W=this.scope.internal.getEncryptor(this.objId)),"("+St(W(V))+")"}},set:function(W){V=W}})};ur(jn,qr);var rn=function V(){qr.call(this);var U=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return U},set:function(lt){if(isNaN(lt))throw new Error('Invalid value "'+lt+'" for attribute F supplied.');U=lt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!En(U,3)},set:function(lt){lt?this.F=en(U,3):this.F=Pt(U,3)}});var W=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return W},set:function(lt){if(isNaN(lt))throw new Error('Invalid value "'+lt+'" for attribute Ff supplied.');W=lt}});var ae=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(ae.length!==0)return ae},set:function(lt){ae=lt!==void 0?lt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!ae||isNaN(ae[0])?0:ae[0]},set:function(lt){ae[0]=lt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!ae||isNaN(ae[1])?0:ae[1]},set:function(lt){ae[1]=lt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!ae||isNaN(ae[2])?0:ae[2]},set:function(lt){ae[2]=lt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!ae||isNaN(ae[3])?0:ae[3]},set:function(lt){ae[3]=lt}});var me="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return me},set:function(lt){switch(lt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":me=lt;break;default:throw new Error('Invalid value "'+lt+'" for attribute FT supplied.')}}});var we=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!we||we.length<1){if(this instanceof Ti)return;we="FieldObject"+V.FieldNum++}var lt=function(Ut){return Ut};return this.scope&&(lt=this.scope.internal.getEncryptor(this.objId)),"("+St(lt(we))+")"},set:function(lt){we=lt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return we},set:function(lt){we=lt}});var Be="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Be},set:function(lt){Be=lt}});var Re="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(lt){Re=lt}});var Te=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Te},set:function(lt){Te=lt}});var $e=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return $e===void 0?50/mt:$e},set:function(lt){$e=lt}});var qe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return qe},set:function(lt){qe=lt}});var at="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!at||this instanceof Ti||this instanceof vi))return Tr(at,this.objId,this.scope)},set:function(lt){lt=lt.toString(),at=lt}});var pt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(pt)return this instanceof Tn==0?Tr(pt,this.objId,this.scope):pt},set:function(lt){lt=lt.toString(),pt=this instanceof Tn==0?lt.substr(0,1)==="("?or(lt.substr(1,lt.length-2)):or(lt):lt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?or(pt.substr(1,pt.length-1)):pt},set:function(lt){lt=lt.toString(),pt=this instanceof Tn==1?"/"+lt:lt}});var Ie=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Ie)return Ie},set:function(lt){this.V=lt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Ie)return this instanceof Tn==0?Tr(Ie,this.objId,this.scope):Ie},set:function(lt){lt=lt.toString(),Ie=this instanceof Tn==0?lt.substr(0,1)==="("?or(lt.substr(1,lt.length-2)):or(lt):lt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn==1?or(Ie.substr(1,Ie.length-1)):Ie},set:function(lt){lt=lt.toString(),Ie=this instanceof Tn==1?"/"+lt:lt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var wt,At=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return At},set:function(lt){lt=!!lt,At=lt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(wt)return wt},set:function(lt){wt=lt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,1)},set:function(lt){lt?this.Ff=en(this.Ff,1):this.Ff=Pt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,2)},set:function(lt){lt?this.Ff=en(this.Ff,2):this.Ff=Pt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,3)},set:function(lt){lt?this.Ff=en(this.Ff,3):this.Ff=Pt(this.Ff,3)}});var Nt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Nt!==null)return Nt},set:function(lt){if([0,1,2].indexOf(lt)===-1)throw new Error('Invalid value "'+lt+'" for attribute Q supplied.');Nt=lt}}),Object.defineProperty(this,"textAlign",{get:function(){var lt;switch(Nt){case 0:default:lt="left";break;case 1:lt="center";break;case 2:lt="right"}return lt},configurable:!0,enumerable:!0,set:function(lt){switch(lt){case"right":case 2:Nt=2;break;case"center":case 1:Nt=1;break;default:Nt=0}}})};ur(rn,qr);var Kn=function(){rn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var V=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return V},set:function(W){V=W}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return V},set:function(W){V=W}});var U=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Dt(U,this.objId,this.scope)},set:function(W){var ae,me;me=[],typeof(ae=W)=="string"&&(me=(function(we,Be,Re){Re||(Re=1);for(var Te,$e=[];Te=Be.exec(we);)$e.push(Te[Re]);return $e})(ae,/\((.*?)\)/g)),U=me}}),this.getOptions=function(){return U},this.setOptions=function(W){U=W,this.sort&&U.sort()},this.addOption=function(W){W=(W=W||"").toString(),U.push(W),this.sort&&U.sort()},this.removeOption=function(W,ae){for(ae=ae||!1,W=(W=W||"").toString();U.indexOf(W)!==-1&&(U.splice(U.indexOf(W),1),ae!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,18)},set:function(W){W?this.Ff=en(this.Ff,18):this.Ff=Pt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,19)},set:function(W){this.combo===!0&&(W?this.Ff=en(this.Ff,19):this.Ff=Pt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,20)},set:function(W){W?(this.Ff=en(this.Ff,20),U.sort()):this.Ff=Pt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,22)},set:function(W){W?this.Ff=en(this.Ff,22):this.Ff=Pt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(W){W?this.Ff=en(this.Ff,23):this.Ff=Pt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,27)},set:function(W){W?this.Ff=en(this.Ff,27):this.Ff=Pt(this.Ff,27)}}),this.hasAppearanceStream=!1};ur(Kn,rn);var an=function(){Kn.call(this),this.fontName="helvetica",this.combo=!1};ur(an,Kn);var Dr=function(){an.call(this),this.combo=!0};ur(Dr,an);var Hn=function(){Dr.call(this),this.edit=!0};ur(Hn,Dr);var Tn=function(){rn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,15)},set:function(W){W?this.Ff=en(this.Ff,15):this.Ff=Pt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,16)},set:function(W){W?this.Ff=en(this.Ff,16):this.Ff=Pt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,17)},set:function(W){W?this.Ff=en(this.Ff,17):this.Ff=Pt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(W){W?this.Ff=en(this.Ff,26):this.Ff=Pt(this.Ff,26)}});var V,U={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var W=function(we){return we};if(this.scope&&(W=this.scope.internal.getEncryptor(this.objId)),Object.keys(U).length!==0){var ae,me=[];for(ae in me.push("<<"),U)me.push("/"+ae+" ("+St(W(U[ae]))+")");return me.push(">>"),me.join(`
`)}},set:function(W){(0,g.default)(W)==="object"&&(U=W)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return U.CA||""},set:function(W){typeof W=="string"&&(U.CA=W)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return V},set:function(W){V=W}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return V.substr(1,V.length-1)},set:function(W){V="/"+W}})};ur(Tn,rn);var es=function(){Tn.call(this),this.pushButton=!0};ur(es,Tn);var ps=function(){Tn.call(this),this.radio=!0,this.pushButton=!1;var V=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return V},set:function(U){V=U!==void 0?U:[]}})};ur(ps,Tn);var Ti=function(){var V,U;rn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return V},set:function(me){V=me}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return U},set:function(me){U=me}});var W,ae={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var me=function(Re){return Re};this.scope&&(me=this.scope.internal.getEncryptor(this.objId));var we,Be=[];for(we in Be.push("<<"),ae)Be.push("/"+we+" ("+St(me(ae[we]))+")");return Be.push(">>"),Be.join(`
`)},set:function(me){(0,g.default)(me)==="object"&&(ae=me)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return ae.CA||""},set:function(me){typeof me=="string"&&(ae.CA=me)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return W},set:function(me){W=me}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return W.substr(1,W.length-1)},set:function(me){W="/"+me}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Sn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ur(Ti,rn),ps.prototype.setAppearance=function(V){if(!("createAppearanceStream"in V)||!("getCA"in V))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var U in this.Kids)if(this.Kids.hasOwnProperty(U)){var W=this.Kids[U];W.appearanceStreamContent=V.createAppearanceStream(W.optionName),W.caption=V.getCA()}},ps.prototype.createOption=function(V){var U=new Ti;return U.Parent=this,U.optionName=V,this.Kids.push(U),Vs.call(this.scope,U),U};var ui=function(){Tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Sn.CheckBox.createAppearanceStream()};ur(ui,Tn);var vi=function(){rn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,13)},set:function(U){U?this.Ff=en(this.Ff,13):this.Ff=Pt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,21)},set:function(U){U?this.Ff=en(this.Ff,21):this.Ff=Pt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(U){U?this.Ff=en(this.Ff,23):this.Ff=Pt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,24)},set:function(U){U?this.Ff=en(this.Ff,24):this.Ff=Pt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,25)},set:function(U){U?this.Ff=en(this.Ff,25):this.Ff=Pt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(U){U?this.Ff=en(this.Ff,26):this.Ff=Pt(this.Ff,26)}});var V=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return V},set:function(U){V=U}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return V},set:function(U){Number.isInteger(U)&&(V=U)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ur(vi,rn);var fs=function(){vi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,14)},set:function(V){V?this.Ff=en(this.Ff,14):this.Ff=Pt(this.Ff,14)}}),this.password=!0};ur(fs,vi);var Sn={CheckBox:{createAppearanceStream:function(){return{N:{On:Sn.CheckBox.YesNormal},D:{On:Sn.CheckBox.YesPushDown,Off:Sn.CheckBox.OffPushDown}}},YesPushDown:function(V){var U=Qr(V);U.scope=V.scope;var W=[],ae=V.scope.internal.getFont(V.fontName,V.fontStyle).id,me=V.scope.__private__.encodeColorString(V.color),we=Cn(V,V.caption);return W.push("0.749023 g"),W.push("0 0 "+Zt(Sn.internal.getWidth(V))+" "+Zt(Sn.internal.getHeight(V))+" re"),W.push("f"),W.push("BMC"),W.push("q"),W.push("0 0 1 rg"),W.push("/"+ae+" "+Zt(we.fontSize)+" Tf "+me),W.push("BT"),W.push(we.text),W.push("ET"),W.push("Q"),W.push("EMC"),U.stream=W.join(`
`),U},YesNormal:function(V){var U=Qr(V);U.scope=V.scope;var W=V.scope.internal.getFont(V.fontName,V.fontStyle).id,ae=V.scope.__private__.encodeColorString(V.color),me=[],we=Sn.internal.getHeight(V),Be=Sn.internal.getWidth(V),Re=Cn(V,V.caption);return me.push("1 g"),me.push("0 0 "+Zt(Be)+" "+Zt(we)+" re"),me.push("f"),me.push("q"),me.push("0 0 1 rg"),me.push("0 0 "+Zt(Be-1)+" "+Zt(we-1)+" re"),me.push("W"),me.push("n"),me.push("0 g"),me.push("BT"),me.push("/"+W+" "+Zt(Re.fontSize)+" Tf "+ae),me.push(Re.text),me.push("ET"),me.push("Q"),U.stream=me.join(`
`),U},OffPushDown:function(V){var U=Qr(V);U.scope=V.scope;var W=[];return W.push("0.749023 g"),W.push("0 0 "+Zt(Sn.internal.getWidth(V))+" "+Zt(Sn.internal.getHeight(V))+" re"),W.push("f"),U.stream=W.join(`
`),U}},RadioButton:{Circle:{createAppearanceStream:function(V){var U={D:{Off:Sn.RadioButton.Circle.OffPushDown},N:{}};return U.N[V]=Sn.RadioButton.Circle.YesNormal,U.D[V]=Sn.RadioButton.Circle.YesPushDown,U},getCA:function(){return"l"},YesNormal:function(V){var U=Qr(V);U.scope=V.scope;var W=[],ae=Sn.internal.getWidth(V)<=Sn.internal.getHeight(V)?Sn.internal.getWidth(V)/4:Sn.internal.getHeight(V)/4;ae=Number((.9*ae).toFixed(5));var me=Sn.internal.Bezier_C,we=Number((ae*me).toFixed(5));return W.push("q"),W.push("1 0 0 1 "+Bt(Sn.internal.getWidth(V)/2)+" "+Bt(Sn.internal.getHeight(V)/2)+" cm"),W.push(ae+" 0 m"),W.push(ae+" "+we+" "+we+" "+ae+" 0 "+ae+" c"),W.push("-"+we+" "+ae+" -"+ae+" "+we+" -"+ae+" 0 c"),W.push("-"+ae+" -"+we+" -"+we+" -"+ae+" 0 -"+ae+" c"),W.push(we+" -"+ae+" "+ae+" -"+we+" "+ae+" 0 c"),W.push("f"),W.push("Q"),U.stream=W.join(`
`),U},YesPushDown:function(V){var U=Qr(V);U.scope=V.scope;var W=[],ae=Sn.internal.getWidth(V)<=Sn.internal.getHeight(V)?Sn.internal.getWidth(V)/4:Sn.internal.getHeight(V)/4;ae=Number((.9*ae).toFixed(5));var me=Number((2*ae).toFixed(5)),we=Number((me*Sn.internal.Bezier_C).toFixed(5)),Be=Number((ae*Sn.internal.Bezier_C).toFixed(5));return W.push("0.749023 g"),W.push("q"),W.push("1 0 0 1 "+Bt(Sn.internal.getWidth(V)/2)+" "+Bt(Sn.internal.getHeight(V)/2)+" cm"),W.push(me+" 0 m"),W.push(me+" "+we+" "+we+" "+me+" 0 "+me+" c"),W.push("-"+we+" "+me+" -"+me+" "+we+" -"+me+" 0 c"),W.push("-"+me+" -"+we+" -"+we+" -"+me+" 0 -"+me+" c"),W.push(we+" -"+me+" "+me+" -"+we+" "+me+" 0 c"),W.push("f"),W.push("Q"),W.push("0 g"),W.push("q"),W.push("1 0 0 1 "+Bt(Sn.internal.getWidth(V)/2)+" "+Bt(Sn.internal.getHeight(V)/2)+" cm"),W.push(ae+" 0 m"),W.push(ae+" "+Be+" "+Be+" "+ae+" 0 "+ae+" c"),W.push("-"+Be+" "+ae+" -"+ae+" "+Be+" -"+ae+" 0 c"),W.push("-"+ae+" -"+Be+" -"+Be+" -"+ae+" 0 -"+ae+" c"),W.push(Be+" -"+ae+" "+ae+" -"+Be+" "+ae+" 0 c"),W.push("f"),W.push("Q"),U.stream=W.join(`
`),U},OffPushDown:function(V){var U=Qr(V);U.scope=V.scope;var W=[],ae=Sn.internal.getWidth(V)<=Sn.internal.getHeight(V)?Sn.internal.getWidth(V)/4:Sn.internal.getHeight(V)/4;ae=Number((.9*ae).toFixed(5));var me=Number((2*ae).toFixed(5)),we=Number((me*Sn.internal.Bezier_C).toFixed(5));return W.push("0.749023 g"),W.push("q"),W.push("1 0 0 1 "+Bt(Sn.internal.getWidth(V)/2)+" "+Bt(Sn.internal.getHeight(V)/2)+" cm"),W.push(me+" 0 m"),W.push(me+" "+we+" "+we+" "+me+" 0 "+me+" c"),W.push("-"+we+" "+me+" -"+me+" "+we+" -"+me+" 0 c"),W.push("-"+me+" -"+we+" -"+we+" -"+me+" 0 -"+me+" c"),W.push(we+" -"+me+" "+me+" -"+we+" "+me+" 0 c"),W.push("f"),W.push("Q"),U.stream=W.join(`
`),U}},Cross:{createAppearanceStream:function(V){var U={D:{Off:Sn.RadioButton.Cross.OffPushDown},N:{}};return U.N[V]=Sn.RadioButton.Cross.YesNormal,U.D[V]=Sn.RadioButton.Cross.YesPushDown,U},getCA:function(){return"8"},YesNormal:function(V){var U=Qr(V);U.scope=V.scope;var W=[],ae=Sn.internal.calculateCross(V);return W.push("q"),W.push("1 1 "+Zt(Sn.internal.getWidth(V)-2)+" "+Zt(Sn.internal.getHeight(V)-2)+" re"),W.push("W"),W.push("n"),W.push(Zt(ae.x1.x)+" "+Zt(ae.x1.y)+" m"),W.push(Zt(ae.x2.x)+" "+Zt(ae.x2.y)+" l"),W.push(Zt(ae.x4.x)+" "+Zt(ae.x4.y)+" m"),W.push(Zt(ae.x3.x)+" "+Zt(ae.x3.y)+" l"),W.push("s"),W.push("Q"),U.stream=W.join(`
`),U},YesPushDown:function(V){var U=Qr(V);U.scope=V.scope;var W=Sn.internal.calculateCross(V),ae=[];return ae.push("0.749023 g"),ae.push("0 0 "+Zt(Sn.internal.getWidth(V))+" "+Zt(Sn.internal.getHeight(V))+" re"),ae.push("f"),ae.push("q"),ae.push("1 1 "+Zt(Sn.internal.getWidth(V)-2)+" "+Zt(Sn.internal.getHeight(V)-2)+" re"),ae.push("W"),ae.push("n"),ae.push(Zt(W.x1.x)+" "+Zt(W.x1.y)+" m"),ae.push(Zt(W.x2.x)+" "+Zt(W.x2.y)+" l"),ae.push(Zt(W.x4.x)+" "+Zt(W.x4.y)+" m"),ae.push(Zt(W.x3.x)+" "+Zt(W.x3.y)+" l"),ae.push("s"),ae.push("Q"),U.stream=ae.join(`
`),U},OffPushDown:function(V){var U=Qr(V);U.scope=V.scope;var W=[];return W.push("0.749023 g"),W.push("0 0 "+Zt(Sn.internal.getWidth(V))+" "+Zt(Sn.internal.getHeight(V))+" re"),W.push("f"),U.stream=W.join(`
`),U}}},createDefaultAppearanceStream:function(V){var U=V.scope.internal.getFont(V.fontName,V.fontStyle).id,W=V.scope.__private__.encodeColorString(V.color);return"/"+U+" "+V.fontSize+" Tf "+W}};Sn.internal={Bezier_C:.551915024494,calculateCross:function(V){var U=Sn.internal.getWidth(V),W=Sn.internal.getHeight(V),ae=Math.min(U,W);return{x1:{x:(U-ae)/2,y:(W-ae)/2+ae},x2:{x:(U-ae)/2+ae,y:(W-ae)/2},x3:{x:(U-ae)/2,y:(W-ae)/2},x4:{x:(U-ae)/2+ae,y:(W-ae)/2+ae}}}},Sn.internal.getWidth=function(V){var U=0;return(0,g.default)(V)==="object"&&(U=Nr(V.Rect[2])),U},Sn.internal.getHeight=function(V){var U=0;return(0,g.default)(V)==="object"&&(U=Nr(V.Rect[3])),U};var Vs=ut.addField=function(V){if(Br(this,V),!(V instanceof rn))throw new Error("Invalid argument passed to jsPDF.addField.");var U;return(U=V).scope.internal.acroformPlugin.printedOut&&(U.scope.internal.acroformPlugin.printedOut=!1,U.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),U.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(U),V.page=V.scope.internal.getCurrentPageInfo().pageNumber,this};ut.AcroFormChoiceField=Kn,ut.AcroFormListBox=an,ut.AcroFormComboBox=Dr,ut.AcroFormEditBox=Hn,ut.AcroFormButton=Tn,ut.AcroFormPushButton=es,ut.AcroFormRadioButton=ps,ut.AcroFormCheckBox=ui,ut.AcroFormTextField=vi,ut.AcroFormPasswordField=fs,ut.AcroFormAppearance=Sn,ut.AcroForm={ChoiceField:Kn,ListBox:an,ComboBox:Dr,EditBox:Hn,Button:Tn,PushButton:es,RadioButton:ps,CheckBox:ui,TextField:vi,PasswordField:fs,Appearance:Sn},Ye.AcroForm={ChoiceField:Kn,ListBox:an,ComboBox:Dr,EditBox:Hn,Button:Tn,PushButton:es,RadioButton:ps,CheckBox:ui,TextField:vi,PasswordField:fs,Appearance:Sn};var zi=Ye.AcroForm;function zn(V){return V.reduce(function(U,W,ae){return U[W]=ae,U},{})}(function(V){var U="addImage_";V.__addimage__={};var W="UNKNOWN",ae={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},me=V.__addimage__.getImageFileTypeByImageData=function(ft,yt){var $t,Mt,jr,Pr,Mr,hr=W;if((yt=yt||W)==="RGBA"||ft.data!==void 0&&ft.data instanceof Uint8ClampedArray&&"height"in ft&&"width"in ft)return"RGBA";if(Yt(ft))for(Mr in ae)for(jr=ae[Mr],$t=0;$t<jr.length;$t+=1){for(Pr=!0,Mt=0;Mt<jr[$t].length;Mt+=1)if(jr[$t][Mt]!==void 0&&jr[$t][Mt]!==ft[Mt]){Pr=!1;break}if(Pr===!0){hr=Mr;break}}else for(Mr in ae)for(jr=ae[Mr],$t=0;$t<jr.length;$t+=1){for(Pr=!0,Mt=0;Mt<jr[$t].length;Mt+=1)if(jr[$t][Mt]!==void 0&&jr[$t][Mt]!==ft.charCodeAt(Mt)){Pr=!1;break}if(Pr===!0){hr=Mr;break}}return hr===W&&yt!==W&&(hr=yt),hr},we=function ft(yt){for(var $t=this.internal.write,Mt=this.internal.putStream,jr=(0,this.internal.getFilters)();jr.indexOf("FlateEncode")!==-1;)jr.splice(jr.indexOf("FlateEncode"),1);yt.objectId=this.internal.newObject();var Pr=[];if(Pr.push({key:"Type",value:"/XObject"}),Pr.push({key:"Subtype",value:"/Image"}),Pr.push({key:"Width",value:yt.width}),Pr.push({key:"Height",value:yt.height}),yt.colorSpace===lt.INDEXED?Pr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(yt.palette.length/3-1)+" "+("sMask"in yt&&yt.sMask!==void 0?yt.objectId+2:yt.objectId+1)+" 0 R]"}):(Pr.push({key:"ColorSpace",value:"/"+yt.colorSpace}),yt.colorSpace===lt.DEVICE_CMYK&&Pr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Pr.push({key:"BitsPerComponent",value:yt.bitsPerComponent}),"decodeParameters"in yt&&yt.decodeParameters!==void 0&&Pr.push({key:"DecodeParms",value:"<<"+yt.decodeParameters+">>"}),"transparency"in yt&&Array.isArray(yt.transparency)&&yt.transparency.length>0){for(var Mr="",hr=0,Ir=yt.transparency.length;hr<Ir;hr++)Mr+=yt.transparency[hr]+" "+yt.transparency[hr]+" ";Pr.push({key:"Mask",value:"["+Mr+"]"})}yt.sMask!==void 0&&Pr.push({key:"SMask",value:yt.objectId+1+" 0 R"});var Nn=yt.filter!==void 0?["/"+yt.filter]:void 0;if(Mt({data:yt.data,additionalKeyValues:Pr,alreadyAppliedFilters:Nn,objectId:yt.objectId}),$t("endobj"),"sMask"in yt&&yt.sMask!==void 0){var gn,st=(gn=yt.sMaskBitsPerComponent)!==null&&gn!==void 0?gn:yt.bitsPerComponent,Tt={width:yt.width,height:yt.height,colorSpace:"DeviceGray",bitsPerComponent:st,data:yt.sMask};"filter"in yt&&(Tt.decodeParameters="/Predictor ".concat(yt.predictor," /Colors 1 /BitsPerComponent ").concat(st," /Columns ").concat(yt.width),Tt.filter=yt.filter),ft.call(this,Tt)}if(yt.colorSpace===lt.INDEXED){var It=this.internal.newObject();Mt({data:lr(new Uint8Array(yt.palette)),objectId:It}),$t("endobj")}},Be=function(){var ft=this.internal.collections[U+"images"];for(var yt in ft)we.call(this,ft[yt])},Re=function(){var ft,yt=this.internal.collections[U+"images"],$t=this.internal.write;for(var Mt in yt)$t("/I"+(ft=yt[Mt]).index,ft.objectId,"0","R")},Te=function(){this.internal.collections[U+"images"]||(this.internal.collections[U+"images"]={},this.internal.events.subscribe("putResources",Be),this.internal.events.subscribe("putXobjectDict",Re))},$e=function(){var ft=this.internal.collections[U+"images"];return Te.call(this),ft},qe=function(){return Object.keys(this.internal.collections[U+"images"]).length},at=function(ft){return typeof V["process"+ft.toUpperCase()]=="function"},pt=function(ft){return(0,g.default)(ft)==="object"&&ft.nodeType===1},Ie=function(ft,yt){if(ft.nodeName==="IMG"&&ft.hasAttribute("src")){var $t=""+ft.getAttribute("src");if($t.indexOf("data:image/")===0)return F(unescape($t).split("base64,").pop());var Mt=V.loadFile($t,!0);if(Mt!==void 0)return Mt}if(ft.nodeName==="CANVAS"){if(ft.width===0||ft.height===0)throw new Error("Given canvas must have data. Canvas width: "+ft.width+", height: "+ft.height);var jr;switch(yt){case"PNG":jr="image/png";break;case"WEBP":jr="image/webp";break;default:jr="image/jpeg"}return F(ft.toDataURL(jr,1).split("base64,").pop())}},wt=function(ft){var yt=this.internal.collections[U+"images"];if(yt){for(var $t in yt)if(ft===yt[$t].alias)return yt[$t]}},At=function(ft,yt,$t){return ft||yt||(ft=-96,yt=-96),ft<0&&(ft=-1*$t.width*72/ft/this.internal.scaleFactor),yt<0&&(yt=-1*$t.height*72/yt/this.internal.scaleFactor),ft===0&&(ft=yt*$t.width/$t.height),yt===0&&(yt=ft*$t.height/$t.width),[ft,yt]},Nt=function(ft,yt,$t,Mt,jr,Pr){var Mr=At.call(this,$t,Mt,jr),hr=this.internal.getCoordinateString,Ir=this.internal.getVerticalCoordinateString,Nn=$e.call(this);if($t=Mr[0],Mt=Mr[1],Nn[jr.index]=jr,Pr){Pr*=Math.PI/180;var gn=Math.cos(Pr),st=Math.sin(Pr),Tt=function(er){return er.toFixed(4)},It=[Tt(gn),Tt(st),Tt(-1*st),Tt(gn),0,0,"cm"]}this.internal.write("q"),Pr?(this.internal.write([1,"0","0",1,hr(ft),Ir(yt+Mt),"cm"].join(" ")),this.internal.write(It.join(" ")),this.internal.write([hr($t),"0","0",hr(Mt),"0","0","cm"].join(" "))):this.internal.write([hr($t),"0","0",hr(Mt),hr(ft),Ir(yt+Mt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+jr.index+" Do"),this.internal.write("Q")},lt=V.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};V.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ut=V.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},tr=V.__addimage__.sHashCode=function(ft){var yt,$t,Mt=0;if(typeof ft=="string")for($t=ft.length,yt=0;yt<$t;yt++)Mt=(Mt<<5)-Mt+ft.charCodeAt(yt),Mt|=0;else if(Yt(ft))for($t=ft.byteLength/2,yt=0;yt<$t;yt++)Mt=(Mt<<5)-Mt+ft[yt],Mt|=0;return Mt},Ft=V.__addimage__.validateStringAsBase64=function(ft){(ft=ft||"").toString().trim();var yt=!0;return ft.length===0&&(yt=!1),ft.length%4!=0&&(yt=!1),/^[A-Za-z0-9+/]+$/.test(ft.substr(0,ft.length-2))===!1&&(yt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ft.substr(-2))===!1&&(yt=!1),yt},it=V.__addimage__.extractImageFromDataUrl=function(ft){if(ft==null||!(ft=ft.trim()).startsWith("data:"))return null;var yt=ft.indexOf(",");return yt<0?null:ft.substring(0,yt).trim().endsWith("base64")?ft.substring(yt+1):null};V.__addimage__.isArrayBuffer=function(ft){return ft instanceof ArrayBuffer};var Yt=V.__addimage__.isArrayBufferView=function(ft){return ft instanceof Int8Array||ft instanceof Uint8Array||ft instanceof Uint8ClampedArray||ft instanceof Int16Array||ft instanceof Uint16Array||ft instanceof Int32Array||ft instanceof Uint32Array||ft instanceof Float32Array||ft instanceof Float64Array},Er=V.__addimage__.binaryStringToUint8Array=function(ft){for(var yt=ft.length,$t=new Uint8Array(yt),Mt=0;Mt<yt;Mt++)$t[Mt]=ft.charCodeAt(Mt);return $t},lr=V.__addimage__.arrayBufferToBinaryString=function(ft){for(var yt="",$t=Yt(ft)?ft:new Uint8Array(ft),Mt=0;Mt<$t.length;Mt+=8192)yt+=String.fromCharCode.apply(null,$t.subarray(Mt,Mt+8192));return yt};V.addImage=function(){var ft,yt,$t,Mt,jr,Pr,Mr,hr,Ir;if(typeof arguments[1]=="number"?(yt=W,$t=arguments[1],Mt=arguments[2],jr=arguments[3],Pr=arguments[4],Mr=arguments[5],hr=arguments[6],Ir=arguments[7]):(yt=arguments[1],$t=arguments[2],Mt=arguments[3],jr=arguments[4],Pr=arguments[5],Mr=arguments[6],hr=arguments[7],Ir=arguments[8]),(0,g.default)(ft=arguments[0])==="object"&&!pt(ft)&&"imageData"in ft){var Nn=ft;ft=Nn.imageData,yt=Nn.format||yt||W,$t=Nn.x||$t||0,Mt=Nn.y||Mt||0,jr=Nn.w||Nn.width||jr,Pr=Nn.h||Nn.height||Pr,Mr=Nn.alias||Mr,hr=Nn.compression||hr,Ir=Nn.rotation||Nn.angle||Ir}var gn=this.internal.getFilters();if(hr===void 0&&gn.indexOf("FlateEncode")!==-1&&(hr="SLOW"),isNaN($t)||isNaN(Mt))throw new Error("Invalid coordinates passed to jsPDF.addImage");Te.call(this);var st=Lt.call(this,ft,yt,Mr,hr);return Nt.call(this,$t,Mt,jr,Pr,st,Ir),this};var Lt=function(ft,yt,$t,Mt){var jr,Pr,Mr;if(typeof ft=="string"&&me(ft)===W){ft=unescape(ft);var hr=vr(ft,!1);(hr!==""||(hr=V.loadFile(ft,!0))!==void 0)&&(ft=hr)}if(pt(ft)&&(ft=Ie(ft,yt)),yt=me(ft,yt),!at(yt))throw new Error("addImage does not support files of type '"+yt+"', please ensure that a plugin for '"+yt+"' support is added.");if(((Mr=$t)==null||Mr.length===0)&&($t=(function(Ir){return typeof Ir=="string"||Yt(Ir)?tr(Ir):Yt(Ir.data)?tr(Ir.data):null})(ft)),(jr=wt.call(this,$t))||(ft instanceof Uint8Array||yt==="RGBA"||(Pr=ft,ft=Er(ft)),jr=this["process"+yt.toUpperCase()](ft,qe.call(this),$t,(function(Ir){return Ir&&typeof Ir=="string"&&(Ir=Ir.toUpperCase()),Ir in V.image_compression?Ir:Ut.NONE})(Mt),Pr)),!jr)throw new Error("An unknown error occurred whilst processing the image.");return jr},vr=V.__addimage__.convertBase64ToBinaryString=function(ft,yt){yt=typeof yt!="boolean"||yt;var $t,Mt="";if(typeof ft=="string"){var jr;$t=(jr=it(ft))!==null&&jr!==void 0?jr:ft;try{Mt=F($t)}catch(Pr){if(yt)throw Ft($t)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Pr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Mt};V.getImageProperties=function(ft){var yt,$t,Mt="";if(pt(ft)&&(ft=Ie(ft)),typeof ft=="string"&&me(ft)===W&&((Mt=vr(ft,!1))===""&&(Mt=V.loadFile(ft)||""),ft=Mt),$t=me(ft),!at($t))throw new Error("addImage does not support files of type '"+$t+"', please ensure that a plugin for '"+$t+"' support is added.");if(ft instanceof Uint8Array||(ft=Er(ft)),!(yt=this["process"+$t.toUpperCase()](ft)))throw new Error("An unknown error occurred whilst processing the image");return yt.fileType=$t,yt}})(Ye.API),(function(V){var U=function(W){if(W!==void 0&&W!="")return!0};Ye.API.events.push(["addPage",function(W){this.internal.getPageInfo(W.pageNumber).pageContext.annotations=[]}]),V.events.push(["putPage",function(W){for(var ae,me,we,Be=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString,Te=this.internal.getPageInfoByObjId(W.objId),$e=W.pageContext.annotations,qe=!1,at=0;at<$e.length&&!qe;at++)switch((ae=$e[at]).type){case"link":(U(ae.options.url)||U(ae.options.pageNumber))&&(qe=!0);break;case"reference":case"text":case"freetext":qe=!0}if(qe!=0){this.internal.write("/Annots [");for(var pt=0;pt<$e.length;pt++){ae=$e[pt];var Ie=this.internal.pdfEscape,wt=this.internal.getEncryptor(W.objId);switch(ae.type){case"reference":this.internal.write(" "+ae.object.objId+" 0 R ");break;case"text":var At=this.internal.newAdditionalObject(),Nt=this.internal.newAdditionalObject(),lt=this.internal.getEncryptor(At.objId),Ut=ae.title||"Note";we="<</Type /Annot /Subtype /Text "+(me="/Rect ["+Be(ae.bounds.x)+" "+Re(ae.bounds.y+ae.bounds.h)+" "+Be(ae.bounds.x+ae.bounds.w)+" "+Re(ae.bounds.y)+"] ")+"/Contents ("+Ie(lt(ae.contents))+")",we+=" /Popup "+Nt.objId+" 0 R",we+=" /P "+Te.objId+" 0 R",we+=" /T ("+Ie(lt(Ut))+") >>",At.content=we;var tr=At.objId+" 0 R";we="<</Type /Annot /Subtype /Popup "+(me="/Rect ["+Be(ae.bounds.x+30)+" "+Re(ae.bounds.y+ae.bounds.h)+" "+Be(ae.bounds.x+ae.bounds.w+30)+" "+Re(ae.bounds.y)+"] ")+" /Parent "+tr,ae.open&&(we+=" /Open true"),we+=" >>",Nt.content=we,this.internal.write(At.objId,"0 R",Nt.objId,"0 R");break;case"freetext":me="/Rect ["+Be(ae.bounds.x)+" "+Re(ae.bounds.y)+" "+Be(ae.bounds.x+ae.bounds.w)+" "+Re(ae.bounds.y+ae.bounds.h)+"] ";var Ft=ae.color||"#000000";we="<</Type /Annot /Subtype /FreeText "+me+"/Contents ("+Ie(wt(ae.contents))+")",we+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ft+")",we+=" /Border [0 0 0]",we+=" >>",this.internal.write(we);break;case"link":if(ae.options.name){var it=this.annotations._nameMap[ae.options.name];ae.options.pageNumber=it.page,ae.options.top=it.y}else ae.options.top||(ae.options.top=0);if(me="/Rect ["+ae.finalBounds.x+" "+ae.finalBounds.y+" "+ae.finalBounds.w+" "+ae.finalBounds.h+"] ",we="",ae.options.url)we="<</Type /Annot /Subtype /Link "+me+"/Border [0 0 0] /A <</S /URI /URI ("+Ie(wt(ae.options.url))+") >>";else if(ae.options.pageNumber)switch(we="<</Type /Annot /Subtype /Link "+me+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(ae.options.pageNumber).objId+" 0 R",ae.options.magFactor=ae.options.magFactor||"XYZ",ae.options.magFactor){case"Fit":we+=" /Fit]";break;case"FitH":we+=" /FitH "+ae.options.top+"]";break;case"FitV":ae.options.left=ae.options.left||0,we+=" /FitV "+ae.options.left+"]";break;default:var Yt=Re(ae.options.top);ae.options.left=ae.options.left||0,ae.options.zoom===void 0&&(ae.options.zoom=0),we+=" /XYZ "+ae.options.left+" "+Yt+" "+ae.options.zoom+"]"}we!=""&&(we+=" >>",this.internal.write(we))}}this.internal.write("]")}}]),V.createAnnotation=function(W){var ae=this.internal.getCurrentPageInfo();switch(W.type){case"link":this.link(W.bounds.x,W.bounds.y,W.bounds.w,W.bounds.h,W);break;case"text":case"freetext":ae.pageContext.annotations.push(W)}},V.link=function(W,ae,me,we,Be){var Re=this.internal.getCurrentPageInfo(),Te=this.internal.getCoordinateString,$e=this.internal.getVerticalCoordinateString;Re.pageContext.annotations.push({finalBounds:{x:Te(W),y:$e(ae),w:Te(W+me),h:$e(ae+we)},options:Be,type:"link"})},V.textWithLink=function(W,ae,me,we){var Be,Re,Te=this.getTextWidth(W),$e=this.internal.getLineHeight()/this.internal.scaleFactor;if(we.maxWidth!==void 0){Re=we.maxWidth;var qe=this.splitTextToSize(W,Re).length;Be=Math.ceil($e*qe)}else Re=Te,Be=$e;return this.text(W,ae,me,we),me+=.2*$e,we.align==="center"&&(ae-=Te/2),we.align==="right"&&(ae-=Te),this.link(ae,me-$e,Re,Be,we),Te},V.getTextWidth=function(W){var ae=this.internal.getFontSize();return this.getStringUnitWidth(W)*ae/this.internal.scaleFactor}})(Ye.API),(function(V){var U={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},W={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},ae={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},me=[1570,1571,1573,1575];V.__arabicParser__={};var we=V.__arabicParser__.isInArabicSubstitutionA=function(At){return U[At.charCodeAt(0)]!==void 0},Be=V.__arabicParser__.isArabicLetter=function(At){return typeof At=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(At)},Re=V.__arabicParser__.isArabicEndLetter=function(At){return Be(At)&&we(At)&&U[At.charCodeAt(0)].length<=2},Te=V.__arabicParser__.isArabicAlfLetter=function(At){return Be(At)&&me.indexOf(At.charCodeAt(0))>=0};V.__arabicParser__.arabicLetterHasIsolatedForm=function(At){return Be(At)&&we(At)&&U[At.charCodeAt(0)].length>=1};var $e=V.__arabicParser__.arabicLetterHasFinalForm=function(At){return Be(At)&&we(At)&&U[At.charCodeAt(0)].length>=2};V.__arabicParser__.arabicLetterHasInitialForm=function(At){return Be(At)&&we(At)&&U[At.charCodeAt(0)].length>=3};var qe=V.__arabicParser__.arabicLetterHasMedialForm=function(At){return Be(At)&&we(At)&&U[At.charCodeAt(0)].length==4},at=V.__arabicParser__.resolveLigatures=function(At){var Nt=0,lt=W,Ut="",tr=0;for(Nt=0;Nt<At.length;Nt+=1)lt[At.charCodeAt(Nt)]!==void 0?(tr++,typeof(lt=lt[At.charCodeAt(Nt)])=="number"&&(Ut+=String.fromCharCode(lt),lt=W,tr=0),Nt===At.length-1&&(lt=W,Ut+=At.charAt(Nt-(tr-1)),Nt-=tr-1,tr=0)):(lt=W,Ut+=At.charAt(Nt-tr),Nt-=tr,tr=0);return Ut};V.__arabicParser__.isArabicDiacritic=function(At){return At!==void 0&&ae[At.charCodeAt(0)]!==void 0};var pt=V.__arabicParser__.getCorrectForm=function(At,Nt,lt){return Be(At)?we(At)===!1?-1:!$e(At)||!Be(Nt)&&!Be(lt)||!Be(lt)&&Re(Nt)||Re(At)&&!Be(Nt)||Re(At)&&Te(Nt)||Re(At)&&Re(Nt)?0:qe(At)&&Be(Nt)&&!Re(Nt)&&Be(lt)&&$e(lt)?3:Re(At)||!Be(lt)?1:2:-1},Ie=function(At){var Nt=0,lt=0,Ut=0,tr="",Ft="",it="",Yt=(At=At||"").split("\\s+"),Er=[];for(Nt=0;Nt<Yt.length;Nt+=1){for(Er.push(""),lt=0;lt<Yt[Nt].length;lt+=1)tr=Yt[Nt][lt],Ft=Yt[Nt][lt-1],it=Yt[Nt][lt+1],Be(tr)?(Ut=pt(tr,Ft,it),Er[Nt]+=Ut!==-1?String.fromCharCode(U[tr.charCodeAt(0)][Ut]):tr):Er[Nt]+=tr;Er[Nt]=at(Er[Nt])}return Er.join(" ")},wt=V.__arabicParser__.processArabic=V.processArabic=function(){var At,Nt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,lt=[];if(Array.isArray(Nt)){var Ut=0;for(lt=[],Ut=0;Ut<Nt.length;Ut+=1)Array.isArray(Nt[Ut])?lt.push([Ie(Nt[Ut][0]),Nt[Ut][1],Nt[Ut][2]]):lt.push([Ie(Nt[Ut])]);At=lt}else At=Ie(Nt);return typeof arguments[0]=="string"?At:(arguments[0].text=At,arguments[0])};V.events.push(["preProcessText",wt])})(Ye.API),Ye.API.autoPrint=function(V){var U;return(V=V||{}).variant=V.variant||"non-conform",V.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){U=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+U+" 0 R")})),this},(function(V){var U=function(){var W=void 0;Object.defineProperty(this,"pdf",{get:function(){return W},set:function(Re){W=Re}});var ae=150;Object.defineProperty(this,"width",{get:function(){return ae},set:function(Re){ae=isNaN(Re)||Number.isInteger(Re)===!1||Re<0?150:Re,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=ae+1)}});var me=300;Object.defineProperty(this,"height",{get:function(){return me},set:function(Re){me=isNaN(Re)||Number.isInteger(Re)===!1||Re<0?300:Re,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=me+1)}});var we=[];Object.defineProperty(this,"childNodes",{get:function(){return we},set:function(Re){we=Re}});var Be={};Object.defineProperty(this,"style",{get:function(){return Be},set:function(Re){Be=Re}}),Object.defineProperty(this,"parentNode",{})};U.prototype.getContext=function(W,ae){var me;if((W=W||"2d")!=="2d")return null;for(me in ae)this.pdf.context2d.hasOwnProperty(me)&&(this.pdf.context2d[me]=ae[me]);return this.pdf.context2d._canvas=this,this.pdf.context2d},U.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},V.events.push(["initialized",function(){this.canvas=new U,this.canvas.pdf=this}])})(Ye.API),(function(V){var U={left:0,top:0,bottom:0,right:0},W=!1,ae=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},U),this.internal.__cell__.margins.width=this.getPageWidth(),me.call(this))},me=function(){this.internal.__cell__.lastCell=new we,this.internal.__cell__.pages=1},we=function(){var Te=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(At){Te=At}});var $e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(At){$e=At}});var qe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return qe},set:function(At){qe=At}});var at=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return at},set:function(At){at=At}});var pt=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return pt},set:function(At){pt=At}});var Ie=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Ie},set:function(At){Ie=At}});var wt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return wt},set:function(At){wt=At}}),this};we.prototype.clone=function(){return new we(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},we.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},V.setHeaderFunction=function(Te){return ae.call(this),this.internal.__cell__.headerFunction=typeof Te=="function"?Te:void 0,this},V.getTextDimensions=function(Te,$e){ae.call(this);var qe=($e=$e||{}).fontSize||this.getFontSize(),at=$e.font||this.getFont(),pt=$e.scaleFactor||this.internal.scaleFactor,Ie=0,wt=0,At=0,Nt=this;if(!Array.isArray(Te)&&typeof Te!="string"){if(typeof Te!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Te=String(Te)}var lt=$e.maxWidth;lt>0?typeof Te=="string"?Te=this.splitTextToSize(Te,lt):Object.prototype.toString.call(Te)==="[object Array]"&&(Te=Te.reduce(function(tr,Ft){return tr.concat(Nt.splitTextToSize(Ft,lt))},[])):Te=Array.isArray(Te)?Te:[Te];for(var Ut=0;Ut<Te.length;Ut++)Ie<(At=this.getStringUnitWidth(Te[Ut],{font:at})*qe)&&(Ie=At);return Ie!==0&&(wt=Te.length),{w:Ie/=pt,h:Math.max((wt*qe*this.getLineHeightFactor()-qe*(this.getLineHeightFactor()-1))/pt,0)}},V.cellAddPage=function(){ae.call(this),this.addPage();var Te=this.internal.__cell__.margins||U;return this.internal.__cell__.lastCell=new we(Te.left,Te.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Be=V.cell=function(){var Te;Te=arguments[0]instanceof we?arguments[0]:new we(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),ae.call(this);var $e=this.internal.__cell__.lastCell,qe=this.internal.__cell__.padding,at=this.internal.__cell__.margins||U,pt=this.internal.__cell__.tableHeaderRow,Ie=this.internal.__cell__.printHeaders;return $e.lineNumber!==void 0&&($e.lineNumber===Te.lineNumber?(Te.x=($e.x||0)+($e.width||0),Te.y=$e.y||0):$e.y+$e.height+Te.height+at.bottom>this.getPageHeight()?(this.cellAddPage(),Te.y=at.top,Ie&&pt&&(this.printHeaderRow(Te.lineNumber,!0),Te.y+=pt[0].height)):Te.y=$e.y+$e.height||Te.y),Te.text[0]!==void 0&&(this.rect(Te.x,Te.y,Te.width,Te.height,W===!0?"FD":void 0),Te.align==="right"?this.text(Te.text,Te.x+Te.width-qe,Te.y+qe,{align:"right",baseline:"top"}):Te.align==="center"?this.text(Te.text,Te.x+Te.width/2,Te.y+qe,{align:"center",baseline:"top",maxWidth:Te.width-qe-qe}):this.text(Te.text,Te.x+qe,Te.y+qe,{align:"left",baseline:"top",maxWidth:Te.width-qe-qe})),this.internal.__cell__.lastCell=Te,this};V.table=function(Te,$e,qe,at,pt){if(ae.call(this),!qe)throw new Error("No data for PDF table.");var Ie,wt,At,Nt,lt=[],Ut=[],tr=[],Ft={},it={},Yt=[],Er=[],lr=(pt=pt||{}).autoSize||!1,Lt=pt.printHeaders!==!1,vr=pt.css&&pt.css["font-size"]!==void 0?16*pt.css["font-size"]:pt.fontSize||12,ft=pt.margins||Object.assign({width:this.getPageWidth()},U),yt=typeof pt.padding=="number"?pt.padding:3,$t=pt.headerBackgroundColor||"#c8c8c8",Mt=pt.headerTextColor||"#000";if(me.call(this),this.internal.__cell__.printHeaders=Lt,this.internal.__cell__.margins=ft,this.internal.__cell__.table_font_size=vr,this.internal.__cell__.padding=yt,this.internal.__cell__.headerBackgroundColor=$t,this.internal.__cell__.headerTextColor=Mt,this.setFontSize(vr),at==null)Ut=lt=Object.keys(qe[0]),tr=lt.map(function(){return"left"});else if(Array.isArray(at)&&(0,g.default)(at[0])==="object")for(lt=at.map(function(Nn){return Nn.name}),Ut=at.map(function(Nn){return Nn.prompt||Nn.name||""}),tr=at.map(function(Nn){return Nn.align||"left"}),Ie=0;Ie<at.length;Ie+=1)it[at[Ie].name]=.7499990551181103*at[Ie].width;else Array.isArray(at)&&typeof at[0]=="string"&&(Ut=lt=at,tr=lt.map(function(){return"left"}));if(lr||Array.isArray(at)&&typeof at[0]=="string")for(Ie=0;Ie<lt.length;Ie+=1){for(Ft[Nt=lt[Ie]]=qe.map(function(Nn){return Nn[Nt]}),this.setFont(void 0,"bold"),Yt.push(this.getTextDimensions(Ut[Ie],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),wt=Ft[Nt],this.setFont(void 0,"normal"),At=0;At<wt.length;At+=1)Yt.push(this.getTextDimensions(wt[At],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);it[Nt]=Math.max.apply(null,Yt)+yt+yt,Yt=[]}if(Lt){var jr={};for(Ie=0;Ie<lt.length;Ie+=1)jr[lt[Ie]]={},jr[lt[Ie]].text=Ut[Ie],jr[lt[Ie]].align=tr[Ie];var Pr=Re.call(this,jr,it);Er=lt.map(function(Nn){return new we(Te,$e,it[Nn],Pr,jr[Nn].text,void 0,jr[Nn].align)}),this.setTableHeaderRow(Er),this.printHeaderRow(1,!1)}var Mr=at.reduce(function(Nn,gn){return Nn[gn.name]=gn.align,Nn},{});for(Ie=0;Ie<qe.length;Ie+=1){"rowStart"in pt&&pt.rowStart instanceof Function&&pt.rowStart({row:Ie,data:qe[Ie]},this);var hr=Re.call(this,qe[Ie],it);for(At=0;At<lt.length;At+=1){var Ir=qe[Ie][lt[At]];"cellStart"in pt&&pt.cellStart instanceof Function&&pt.cellStart({row:Ie,col:At,data:Ir},this),Be.call(this,new we(Te,$e,it[lt[At]],hr,Ir,Ie+2,Mr[lt[At]]))}}return this.internal.__cell__.table_x=Te,this.internal.__cell__.table_y=$e,this};var Re=function(Te,$e){var qe=this.internal.__cell__.padding,at=this.internal.__cell__.table_font_size,pt=this.internal.scaleFactor;return Object.keys(Te).map(function(Ie){var wt=Te[Ie];return this.splitTextToSize(wt.hasOwnProperty("text")?wt.text:wt,$e[Ie]-qe-qe)},this).map(function(Ie){return this.getLineHeightFactor()*Ie.length*at/pt+qe+qe},this).reduce(function(Ie,wt){return Math.max(Ie,wt)},0)};V.setTableHeaderRow=function(Te){ae.call(this),this.internal.__cell__.tableHeaderRow=Te},V.printHeaderRow=function(Te,$e){if(ae.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var qe;if(W=!0,typeof this.internal.__cell__.headerFunction=="function"){var at=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new we(at[0],at[1],at[2],at[3],void 0,-1)}this.setFont(void 0,"bold");for(var pt=[],Ie=0;Ie<this.internal.__cell__.tableHeaderRow.length;Ie+=1){qe=this.internal.__cell__.tableHeaderRow[Ie].clone(),$e&&(qe.y=this.internal.__cell__.margins.top||0,pt.push(qe)),qe.lineNumber=Te;var wt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Be.call(this,qe),this.setTextColor(wt)}pt.length>0&&this.setTableHeaderRow(pt),this.setFont(void 0,"normal"),W=!1}})(Ye.API);var wi={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mi=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gi=zn(mi),Ni=[100,200,300,400,500,600,700,800,900],Hs=zn(Ni);function Xi(V){var U=V.family.replace(/"|'/g,"").toLowerCase(),W=(function(we){return wi[we=we||"normal"]?we:"normal"})(V.style),ae=(function(we){return we?typeof we=="number"?we>=100&&we<=900&&we%100==0?we:400:/^\d00$/.test(we)?parseInt(we):we==="bold"?700:400:400})(V.weight),me=(function(we){return typeof gi[we=we||"normal"]=="number"?we:"normal"})(V.stretch);return{family:U,style:W,weight:ae,stretch:me,src:V.src||[],ref:V.ref||{name:U,style:[me,W,ae].join(" ")}}}function Bs(V,U,W,ae){var me;for(me=W;me>=0&&me<U.length;me+=ae)if(V[U[me]])return V[U[me]];for(me=W;me>=0&&me<U.length;me-=ae)if(V[U[me]])return V[U[me]]}var Gi={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ss={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function La(V){return[V.stretch,V.style,V.weight,V.family].join(" ")}function Qi(V){return V.trimLeft()}function Pi(V,U){for(var W=0;W<V.length;){if(V.charAt(W)===U)return[V.substring(0,W),V.substring(W+1)];W+=1}return null}function Ot(V){var U=V.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return U===null?null:[U[0],V.substring(U[0].length)]}var sn,mn,ji,As,Ji,si,Ra,aa,wa=["times"];function oa(V,U,W,ae,me){var we=4,Be=hn;switch(me){case Ye.API.image_compression.FAST:we=1,Be=Ar;break;case Ye.API.image_compression.MEDIUM:we=6,Be=Yr;break;case Ye.API.image_compression.SLOW:we=9,Be=Gs}V=(function(Te,$e,qe,at){for(var pt,Ie=Te.length/$e,wt=new Uint8Array(Te.length+Ie),At=[Gt,Ar,hn,Yr,Gs],Nt=0;Nt<Ie;Nt+=1){var lt=Nt*$e,Ut=Te.subarray(lt,lt+$e);if(at)wt.set(at(Ut,qe,pt),lt+Nt);else{for(var tr=At.length,Ft=[],it=0;it<tr;it+=1)Ft[it]=At[it](Ut,qe,pt);var Yt=Si(Ft.concat());wt.set(Ft[Yt],lt+Nt)}pt=Ut}return wt})(V,U,Math.ceil(W*ae/8),Be);var Re=(0,v.zlibSync)(V,{level:we});return Ye.API.__addimage__.arrayBufferToBinaryString(Re)}function Gt(V){var U=Array.apply([],V);return U.unshift(0),U}function Ar(V,U){var W=V.length,ae=[];ae[0]=1;for(var me=0;me<W;me+=1){var we=V[me-U]||0;ae[me+1]=V[me]-we+256&255}return ae}function hn(V,U,W){var ae=V.length,me=[];me[0]=2;for(var we=0;we<ae;we+=1){var Be=W&&W[we]||0;me[we+1]=V[we]-Be+256&255}return me}function Yr(V,U,W){var ae=V.length,me=[];me[0]=3;for(var we=0;we<ae;we+=1){var Be=V[we-U]||0,Re=W&&W[we]||0;me[we+1]=V[we]+256-(Be+Re>>>1)&255}return me}function Gs(V,U,W){var ae=V.length,me=[];me[0]=4;for(var we=0;we<ae;we+=1){var Be=Xs(V[we-U]||0,W&&W[we]||0,W&&W[we-U]||0);me[we+1]=V[we]-Be+256&255}return me}function Xs(V,U,W){if(V===U&&U===W)return V;var ae=Math.abs(U-W),me=Math.abs(V-W),we=Math.abs(V+U-W-W);return ae<=me&&ae<=we?V:me<=we?U:W}function Si(V){var U=V.map(function(W){return W.reduce(function(ae,me){return ae+Math.abs(me)},0)});return U.indexOf(Math.min.apply(null,U))}function $s(V,U,W){var ae=U*W,me=Math.floor(ae/8),we=16-(ae-8*me+W),Be=(1<<W)-1;return Ks(V,me)>>we&Be}function Wn(V,U,W,ae){var me=W*ae,we=Math.floor(me/8),Be=16-(me-8*we+ae),Re=(1<<ae)-1,Te=(U&Re)<<Be;(function($e,qe,at){if(qe+1<$e.byteLength)$e.setUint16(qe,at,!1);else{var pt=at>>8&255;$e.setUint8(qe,pt)}})(V,we,Ks(V,we)&~(Re<<Be)&65535|Te)}function Ks(V,U){return U+1<V.byteLength?V.getUint16(U,!1):V.getUint8(U)<<8}function xi(V){var U=0;if(V[U++]!==71||V[U++]!==73||V[U++]!==70||V[U++]!==56||(V[U++]+1&253)!=56||V[U++]!==97)throw new Error("Invalid GIF 87a/89a header.");var W=V[U++]|V[U++]<<8,ae=V[U++]|V[U++]<<8,me=V[U++],we=me>>7,Be=1<<1+(7&me);V[U++],V[U++];var Re=null,Te=null;we&&(Re=U,Te=Be,U+=3*Be);var $e=!0,qe=[],at=0,pt=null,Ie=0,wt=null;for(this.width=W,this.height=ae;$e&&U<V.length;)switch(V[U++]){case 33:switch(V[U++]){case 255:if(V[U]!==11||V[U+1]==78&&V[U+2]==69&&V[U+3]==84&&V[U+4]==83&&V[U+5]==67&&V[U+6]==65&&V[U+7]==80&&V[U+8]==69&&V[U+9]==50&&V[U+10]==46&&V[U+11]==48&&V[U+12]==3&&V[U+13]==1&&V[U+16]==0)U+=14,wt=V[U++]|V[U++]<<8,U++;else for(U+=12;;){if(!((ft=V[U++])>=0))throw Error("Invalid block size");if(ft===0)break;U+=ft}break;case 249:if(V[U++]!==4||V[U+4]!==0)throw new Error("Invalid graphics extension block.");var At=V[U++];at=V[U++]|V[U++]<<8,pt=V[U++],1&At||(pt=null),Ie=At>>2&7,U++;break;case 254:for(;;){if(!((ft=V[U++])>=0))throw Error("Invalid block size");if(ft===0)break;U+=ft}break;default:throw new Error("Unknown graphic control label: 0x"+V[U-1].toString(16))}break;case 44:var Nt=V[U++]|V[U++]<<8,lt=V[U++]|V[U++]<<8,Ut=V[U++]|V[U++]<<8,tr=V[U++]|V[U++]<<8,Ft=V[U++],it=Ft>>6&1,Yt=1<<1+(7&Ft),Er=Re,lr=Te,Lt=!1;Ft>>7&&(Lt=!0,Er=U,lr=Yt,U+=3*Yt);var vr=U;for(U++;;){var ft;if(!((ft=V[U++])>=0))throw Error("Invalid block size");if(ft===0)break;U+=ft}qe.push({x:Nt,y:lt,width:Ut,height:tr,has_local_palette:Lt,palette_offset:Er,palette_size:lr,data_offset:vr,data_length:U-vr,transparent_index:pt,interlaced:!!it,delay:at,disposal:Ie});break;case 59:$e=!1;break;default:throw new Error("Unknown gif block: 0x"+V[U-1].toString(16))}this.numFrames=function(){return qe.length},this.loopCount=function(){return wt},this.frameInfo=function(yt){if(yt<0||yt>=qe.length)throw new Error("Frame index out of range.");return qe[yt]},this.decodeAndBlitFrameBGRA=function(yt,$t){var Mt=this.frameInfo(yt),jr=Mt.width*Mt.height,Pr=new Uint8Array(jr);Cs(V,Mt.data_offset,Pr,jr);var Mr=Mt.palette_offset,hr=Mt.transparent_index;hr===null&&(hr=256);var Ir=Mt.width,Nn=W-Ir,gn=Ir,st=4*(Mt.y*W+Mt.x),Tt=4*((Mt.y+Mt.height)*W+Mt.x),It=st,er=4*Nn;Mt.interlaced===!0&&(er+=4*W*7);for(var nr=8,mr=0,Or=Pr.length;mr<Or;++mr){var Fr=Pr[mr];if(gn===0&&(gn=Ir,(It+=er)>=Tt&&(er=4*Nn+4*W*(nr-1),It=st+(Ir+Nn)*(nr<<1),nr>>=1)),Fr===hr)It+=4;else{var Jr=V[Mr+3*Fr],Pn=V[Mr+3*Fr+1],Xn=V[Mr+3*Fr+2];$t[It++]=Xn,$t[It++]=Pn,$t[It++]=Jr,$t[It++]=255}--gn}},this.decodeAndBlitFrameRGBA=function(yt,$t){var Mt=this.frameInfo(yt),jr=Mt.width*Mt.height,Pr=new Uint8Array(jr);Cs(V,Mt.data_offset,Pr,jr);var Mr=Mt.palette_offset,hr=Mt.transparent_index;hr===null&&(hr=256);var Ir=Mt.width,Nn=W-Ir,gn=Ir,st=4*(Mt.y*W+Mt.x),Tt=4*((Mt.y+Mt.height)*W+Mt.x),It=st,er=4*Nn;Mt.interlaced===!0&&(er+=4*W*7);for(var nr=8,mr=0,Or=Pr.length;mr<Or;++mr){var Fr=Pr[mr];if(gn===0&&(gn=Ir,(It+=er)>=Tt&&(er=4*Nn+4*W*(nr-1),It=st+(Ir+Nn)*(nr<<1),nr>>=1)),Fr===hr)It+=4;else{var Jr=V[Mr+3*Fr],Pn=V[Mr+3*Fr+1],Xn=V[Mr+3*Fr+2];$t[It++]=Jr,$t[It++]=Pn,$t[It++]=Xn,$t[It++]=255}--gn}}}function Cs(V,U,W,ae){for(var me=V[U++],we=1<<me,Be=we+1,Re=Be+1,Te=me+1,$e=(1<<Te)-1,qe=0,at=0,pt=0,Ie=V[U++],wt=new Int32Array(4096),At=null;;){for(;qe<16&&Ie!==0;)at|=V[U++]<<qe,qe+=8,Ie===1?Ie=V[U++]:--Ie;if(qe<Te)break;var Nt=at&$e;if(at>>=Te,qe-=Te,Nt!==we){if(Nt===Be)break;for(var lt=Nt<Re?Nt:At,Ut=0,tr=lt;tr>we;)tr=wt[tr]>>8,++Ut;var Ft=tr;if(pt+Ut+(lt!==Nt?1:0)>ae)return void R.log("Warning, gif stream longer than expected.");W[pt++]=Ft;var it=pt+=Ut;for(lt!==Nt&&(W[pt++]=Ft),tr=lt;Ut--;)tr=wt[tr],W[--it]=255&tr,tr>>=8;At!==null&&Re<4096&&(wt[Re++]=At<<8|Ft,Re>=$e+1&&Te<12&&(++Te,$e=$e<<1|1)),At=Nt}else Re=Be+1,$e=(1<<(Te=me+1))-1,At=null}return pt!==ae&&R.log("Warning, gif stream shorter than expected."),W}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function yi(V){var U,W,ae,me,we,Be=Math.floor,Re=new Array(64),Te=new Array(64),$e=new Array(64),qe=new Array(64),at=new Array(65535),pt=new Array(65535),Ie=new Array(64),wt=new Array(64),At=[],Nt=0,lt=7,Ut=new Array(64),tr=new Array(64),Ft=new Array(64),it=new Array(256),Yt=new Array(2048),Er=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],lr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Lt=[0,1,2,3,4,5,6,7,8,9,10,11],vr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ft=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],yt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$t=[0,1,2,3,4,5,6,7,8,9,10,11],Mt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],jr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Pr(st,Tt){for(var It=0,er=0,nr=new Array,mr=1;mr<=16;mr++){for(var Or=1;Or<=st[mr];Or++)nr[Tt[er]]=[],nr[Tt[er]][0]=It,nr[Tt[er]][1]=mr,er++,It++;It*=2}return nr}function Mr(st){for(var Tt=st[0],It=st[1]-1;It>=0;)Tt&1<<It&&(Nt|=1<<lt),It--,--lt<0&&(Nt==255?(hr(255),hr(0)):hr(Nt),lt=7,Nt=0)}function hr(st){At.push(st)}function Ir(st){hr(st>>8&255),hr(255&st)}function Nn(st,Tt,It,er,nr){for(var mr,Or=nr[0],Fr=nr[240],Jr=(function(Rt,ir){var Xt,_r,Lr,fn,dn,fr,xn,Bn,un,qn,Fn=0;for(un=0;un<8;++un){Xt=Rt[Fn],_r=Rt[Fn+1],Lr=Rt[Fn+2],fn=Rt[Fn+3],dn=Rt[Fn+4],fr=Rt[Fn+5],xn=Rt[Fn+6];var Es=Xt+(Bn=Rt[Fn+7]),Jn=Xt-Bn,ms=_r+xn,Ps=_r-xn,Vi=Lr+fr,as=Lr-fr,Mi=fn+dn,ks=fn-dn,ls=Es+Mi,$i=Es-Mi,pn=ms+Vi,In=ms-Vi;Rt[Fn]=ls+pn,Rt[Fn+4]=ls-pn;var ai=.707106781*(In+$i);Rt[Fn+2]=$i+ai,Rt[Fn+6]=$i-ai;var rl=.382683433*((ls=ks+as)-(In=Ps+Jn)),ja=.5411961*ls+rl,$a=1.306562965*In+rl,yl=.707106781*(pn=as+Ps),Ms=Jn+yl,Sa=Jn-yl;Rt[Fn+5]=Sa+ja,Rt[Fn+3]=Sa-ja,Rt[Fn+1]=Ms+$a,Rt[Fn+7]=Ms-$a,Fn+=8}for(Fn=0,un=0;un<8;++un){Xt=Rt[Fn],_r=Rt[Fn+8],Lr=Rt[Fn+16],fn=Rt[Fn+24],dn=Rt[Fn+32],fr=Rt[Fn+40],xn=Rt[Fn+48];var ro=Xt+(Bn=Rt[Fn+56]),zo=Xt-Bn,Ba=_r+xn,ea=_r-xn,Na=Lr+fr,Ya=Lr-fr,Dl=fn+dn,Va=fn-dn,So=ro+Dl,bl=ro-Dl,nl=Ba+Na,Ga=Ba-Na;Rt[Fn]=So+nl,Rt[Fn+32]=So-nl;var Co=.707106781*(Ga+bl);Rt[Fn+16]=bl+Co,Rt[Fn+48]=bl-Co;var Qo=.382683433*((So=Va+Ya)-(Ga=ea+zo)),go=.5411961*So+Qo,lo=1.306562965*Ga+Qo,sl=.707106781*(nl=Ya+ea),Vo=zo+sl,wl=zo-sl;Rt[Fn+40]=wl+go,Rt[Fn+24]=wl-go,Rt[Fn+8]=Vo+lo,Rt[Fn+56]=Vo-lo,Fn++}for(un=0;un<64;++un)qn=Rt[un]*ir[un],Ie[un]=qn>0?qn+.5|0:qn-.5|0;return Ie})(st,Tt),Pn=0;Pn<64;++Pn)wt[Er[Pn]]=Jr[Pn];var Xn=wt[0]-It;It=wt[0],Xn==0?Mr(er[0]):(Mr(er[pt[mr=32767+Xn]]),Mr(at[mr]));for(var ts=63;ts>0&&wt[ts]==0;)ts--;if(ts==0)return Mr(Or),It;for(var ws,bt=1;bt<=ts;){for(var Dn=bt;wt[bt]==0&&bt<=ts;)++bt;var Is=bt-Dn;if(Is>=16){ws=Is>>4;for(var dt=1;dt<=ws;++dt)Mr(Fr);Is&=15}mr=32767+wt[bt],Mr(nr[(Is<<4)+pt[mr]]),Mr(at[mr]),bt++}return ts!=63&&Mr(Or),It}function gn(st){st=Math.min(Math.max(st,1),100),we!=st&&((function(Tt){for(var It=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],er=0;er<64;er++){var nr=Be((It[er]*Tt+50)/100);nr=Math.min(Math.max(nr,1),255),Re[Er[er]]=nr}for(var mr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Or=0;Or<64;Or++){var Fr=Be((mr[Or]*Tt+50)/100);Fr=Math.min(Math.max(Fr,1),255),Te[Er[Or]]=Fr}for(var Jr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pn=0,Xn=0;Xn<8;Xn++)for(var ts=0;ts<8;ts++)$e[Pn]=1/(Re[Er[Pn]]*Jr[Xn]*Jr[ts]*8),qe[Pn]=1/(Te[Er[Pn]]*Jr[Xn]*Jr[ts]*8),Pn++})(st<50?Math.floor(5e3/st):Math.floor(200-2*st)),we=st)}this.encode=function(st,Tt){Tt&&gn(Tt),At=new Array,Nt=0,lt=7,Ir(65496),Ir(65504),Ir(16),hr(74),hr(70),hr(73),hr(70),hr(0),hr(1),hr(1),hr(0),Ir(1),Ir(1),hr(0),hr(0),(function(){Ir(65499),Ir(132),hr(0);for(var _r=0;_r<64;_r++)hr(Re[_r]);hr(1);for(var Lr=0;Lr<64;Lr++)hr(Te[Lr])})(),(function(_r,Lr){Ir(65472),Ir(17),hr(8),Ir(Lr),Ir(_r),hr(3),hr(1),hr(17),hr(0),hr(2),hr(17),hr(1),hr(3),hr(17),hr(1)})(st.width,st.height),(function(){Ir(65476),Ir(418),hr(0);for(var _r=0;_r<16;_r++)hr(lr[_r+1]);for(var Lr=0;Lr<=11;Lr++)hr(Lt[Lr]);hr(16);for(var fn=0;fn<16;fn++)hr(vr[fn+1]);for(var dn=0;dn<=161;dn++)hr(ft[dn]);hr(1);for(var fr=0;fr<16;fr++)hr(yt[fr+1]);for(var xn=0;xn<=11;xn++)hr($t[xn]);hr(17);for(var Bn=0;Bn<16;Bn++)hr(Mt[Bn+1]);for(var un=0;un<=161;un++)hr(jr[un])})(),Ir(65498),Ir(12),hr(3),hr(1),hr(0),hr(2),hr(17),hr(3),hr(17),hr(0),hr(63),hr(0);var It=0,er=0,nr=0;Nt=0,lt=7,this.encode.displayName="_encode_";for(var mr,Or,Fr,Jr,Pn,Xn,ts,ws,bt,Dn=st.data,Is=st.width,dt=st.height,Rt=4*Is,ir=0;ir<dt;){for(mr=0;mr<Rt;){for(Pn=Rt*ir+mr,ts=-1,ws=0,bt=0;bt<64;bt++)Xn=Pn+(ws=bt>>3)*Rt+(ts=4*(7&bt)),ir+ws>=dt&&(Xn-=Rt*(ir+1+ws-dt)),mr+ts>=Rt&&(Xn-=mr+ts-Rt+4),Or=Dn[Xn++],Fr=Dn[Xn++],Jr=Dn[Xn++],Ut[bt]=(Yt[Or]+Yt[Fr+256|0]+Yt[Jr+512|0]>>16)-128,tr[bt]=(Yt[Or+768|0]+Yt[Fr+1024|0]+Yt[Jr+1280|0]>>16)-128,Ft[bt]=(Yt[Or+1280|0]+Yt[Fr+1536|0]+Yt[Jr+1792|0]>>16)-128;It=Nn(Ut,$e,It,U,ae),er=Nn(tr,qe,er,W,me),nr=Nn(Ft,qe,nr,W,me),mr+=32}ir+=8}if(lt>=0){var Xt=[];Xt[1]=lt+1,Xt[0]=(1<<lt+1)-1,Mr(Xt)}return Ir(65497),new Uint8Array(At)},V=V||50,(function(){for(var st=String.fromCharCode,Tt=0;Tt<256;Tt++)it[Tt]=st(Tt)})(),U=Pr(lr,Lt),W=Pr(yt,$t),ae=Pr(vr,ft),me=Pr(Mt,jr),(function(){for(var st=1,Tt=2,It=1;It<=15;It++){for(var er=st;er<Tt;er++)pt[32767+er]=It,at[32767+er]=[],at[32767+er][1]=It,at[32767+er][0]=er;for(var nr=-(Tt-1);nr<=-st;nr++)pt[32767+nr]=It,at[32767+nr]=[],at[32767+nr][1]=It,at[32767+nr][0]=Tt-1+nr;st<<=1,Tt<<=1}})(),(function(){for(var st=0;st<256;st++)Yt[st]=19595*st,Yt[st+256|0]=38470*st,Yt[st+512|0]=7471*st+32768,Yt[st+768|0]=-11059*st,Yt[st+1024|0]=-21709*st,Yt[st+1280|0]=32768*st+8421375,Yt[st+1536|0]=-27439*st,Yt[st+1792|0]=-5329*st})(),gn(V)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Js(V,U){if(this.pos=0,this.buffer=V,this.datav=new DataView(V.buffer),this.is_with_alpha=!!U,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fa(V){function U(Lt){if(!Lt)throw Error("assert :P")}function W(Lt,vr,ft){for(var yt=0;4>yt;yt++)if(Lt[vr+yt]!=ft.charCodeAt(yt))return!0;return!1}function ae(Lt,vr,ft,yt,$t){for(var Mt=0;Mt<$t;Mt++)Lt[vr+Mt]=ft[yt+Mt]}function me(Lt,vr,ft,yt){for(var $t=0;$t<yt;$t++)Lt[vr+$t]=ft}function we(Lt){return new Int32Array(Lt)}function Be(Lt,vr){for(var ft=[],yt=0;yt<Lt;yt++)ft.push(new vr);return ft}function Re(Lt,vr){var ft=[];return(function yt($t,Mt,jr){for(var Pr=jr[Mt],Mr=0;Mr<Pr&&($t.push(jr.length>Mt+1?[]:new vr),!(jr.length<Mt+1));Mr++)yt($t[Mr],Mt+1,jr)})(ft,0,Lt),ft}var Te=function(){var Lt=this;function vr(K,he){for(var Ne=1<<he-1>>>0;K&Ne;)Ne>>>=1;return Ne?(K&Ne-1)+Ne:K}function ft(K,he,Ne,Fe,Ke){U(!(Fe%Ne));do K[he+(Fe-=Ne)]=Ke;while(0<Fe)}function yt(K,he,Ne,Fe,Ke){if(U(2328>=Ke),512>=Ke)var Je=we(512);else if((Je=we(Ke))==null)return 0;return(function(et,ot,ct,Ct,Qt,xr){var jt,Kt,dr=ot,zr=1<<ct,yr=we(16),Gr=we(16);for(U(Qt!=0),U(Ct!=null),U(et!=null),U(0<ct),Kt=0;Kt<Qt;++Kt){if(15<Ct[Kt])return 0;++yr[Ct[Kt]]}if(yr[0]==Qt)return 0;for(Gr[1]=0,jt=1;15>jt;++jt){if(yr[jt]>1<<jt)return 0;Gr[jt+1]=Gr[jt]+yr[jt]}for(Kt=0;Kt<Qt;++Kt)jt=Ct[Kt],0<Ct[Kt]&&(xr[Gr[jt]++]=Kt);if(Gr[15]==1)return(Ct=new $t).g=0,Ct.value=xr[0],ft(et,dr,1,zr,Ct),zr;var Kr,yn=-1,Wr=zr-1,bs=0,is=1,ci=1,Yn=1<<ct;for(Kt=0,jt=1,Qt=2;jt<=ct;++jt,Qt<<=1){if(is+=ci<<=1,0>(ci-=yr[jt]))return 0;for(;0<yr[jt];--yr[jt])(Ct=new $t).g=jt,Ct.value=xr[Kt++],ft(et,dr+bs,Qt,Yn,Ct),bs=vr(bs,jt)}for(jt=ct+1,Qt=2;15>=jt;++jt,Qt<<=1){if(is+=ci<<=1,0>(ci-=yr[jt]))return 0;for(;0<yr[jt];--yr[jt]){if(Ct=new $t,(bs&Wr)!=yn){for(dr+=Yn,Kr=1<<(yn=jt)-ct;15>yn&&!(0>=(Kr-=yr[yn]));)++yn,Kr<<=1;zr+=Yn=1<<(Kr=yn-ct),et[ot+(yn=bs&Wr)].g=Kr+ct,et[ot+yn].value=dr-ot-yn}Ct.g=jt-ct,Ct.value=xr[Kt++],ft(et,dr+(bs>>ct),Qt,Yn,Ct),bs=vr(bs,jt)}}return is!=2*Gr[15]-1?0:zr})(K,he,Ne,Fe,Ke,Je)}function $t(){this.value=this.g=0}function Mt(){this.value=this.g=0}function jr(){this.G=Be(5,$t),this.H=we(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Be(ei,Mt)}function Pr(K,he,Ne,Fe){U(K!=null),U(he!=null),U(2147483648>Fe),K.Ca=254,K.I=0,K.b=-8,K.Ka=0,K.oa=he,K.pa=Ne,K.Jd=he,K.Yc=Ne+Fe,K.Zc=4<=Fe?Ne+Fe-4+1:Ne,Or(K)}function Mr(K,he){for(var Ne=0;0<he--;)Ne|=Jr(K,128)<<he;return Ne}function hr(K,he){var Ne=Mr(K,he);return Fr(K)?-Ne:Ne}function Ir(K,he,Ne,Fe){var Ke,Je=0;for(U(K!=null),U(he!=null),U(4294967288>Fe),K.Sb=Fe,K.Ra=0,K.u=0,K.h=0,4<Fe&&(Fe=4),Ke=0;Ke<Fe;++Ke)Je+=he[Ne+Ke]<<8*Ke;K.Ra=Je,K.bb=Fe,K.oa=he,K.pa=Ne}function Nn(K){for(;8<=K.u&&K.bb<K.Sb;)K.Ra>>>=8,K.Ra+=K.oa[K.pa+K.bb]<<so-8>>>0,++K.bb,K.u-=8;er(K)&&(K.h=1,K.u=0)}function gn(K,he){if(U(0<=he),!K.h&&he<=Os){var Ne=It(K)&us[he];return K.u+=he,Nn(K),Ne}return K.h=1,K.u=0}function st(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Tt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function It(K){return K.Ra>>>(K.u&so-1)>>>0}function er(K){return U(K.bb<=K.Sb),K.h||K.bb==K.Sb&&K.u>so}function nr(K,he){K.u=he,K.h=er(K)}function mr(K){K.u>=ul&&(U(K.u>=ul),Nn(K))}function Or(K){U(K!=null&&K.oa!=null),K.pa<K.Zc?(K.I=(K.oa[K.pa++]|K.I<<8)>>>0,K.b+=8):(U(K!=null&&K.oa!=null),K.pa<K.Yc?(K.b+=8,K.I=K.oa[K.pa++]|K.I<<8):K.Ka?K.b=0:(K.I<<=8,K.b+=8,K.Ka=1))}function Fr(K){return Mr(K,1)}function Jr(K,he){var Ne=K.Ca;0>K.b&&Or(K);var Fe=K.b,Ke=Ne*he>>>8,Je=(K.I>>>Fe>Ke)+0;for(Je?(Ne-=Ke,K.I-=Ke+1<<Fe>>>0):Ne=Ke+1,Fe=Ne,Ke=0;256<=Fe;)Ke+=8,Fe>>=8;return Fe=7^Ke+uo[Fe],K.b-=Fe,K.Ca=(Ne<<Fe)-1,Je}function Pn(K,he,Ne){K[he+0]=Ne>>24&255,K[he+1]=Ne>>16&255,K[he+2]=Ne>>8&255,K[he+3]=255&Ne}function Xn(K,he){return K[he+0]|K[he+1]<<8}function ts(K,he){return Xn(K,he)|K[he+2]<<16}function ws(K,he){return Xn(K,he)|Xn(K,he+2)<<16}function bt(K,he){var Ne=1<<he;return U(K!=null),U(0<he),K.X=we(Ne),K.X==null?0:(K.Mb=32-he,K.Xa=he,1)}function Dn(K,he){U(K!=null),U(he!=null),U(K.Xa==he.Xa),ae(he.X,0,K.X,0,1<<he.Xa)}function Is(){this.X=[],this.Xa=this.Mb=0}function dt(K,he,Ne,Fe){U(Ne!=null),U(Fe!=null);var Ke=Ne[0],Je=Fe[0];return Ke==0&&(Ke=(K*Je+he/2)/he),Je==0&&(Je=(he*Ke+K/2)/K),0>=Ke||0>=Je?0:(Ne[0]=Ke,Fe[0]=Je,1)}function Rt(K,he){return K+(1<<he)-1>>>he}function ir(K,he){return((4278255360&K)+(4278255360&he)>>>0&4278255360)+((16711935&K)+(16711935&he)>>>0&16711935)>>>0}function Xt(K,he){Lt[he]=function(Ne,Fe,Ke,Je,et,ot,ct){var Ct;for(Ct=0;Ct<et;++Ct){var Qt=Lt[K](ot[ct+Ct-1],Ke,Je+Ct);ot[ct+Ct]=ir(Ne[Fe+Ct],Qt)}}}function _r(){this.ud=this.hd=this.jd=0}function Lr(K,he){return((4278124286&(K^he))>>>1)+(K&he)>>>0}function fn(K){return 0<=K&&256>K?K:0>K?0:255<K?255:void 0}function dn(K,he){return fn(K+(K-he+.5>>1))}function fr(K,he,Ne){return Math.abs(he-Ne)-Math.abs(K-Ne)}function xn(K,he,Ne,Fe,Ke,Je,et){for(Fe=Je[et-1],Ne=0;Ne<Ke;++Ne)Je[et+Ne]=Fe=ir(K[he+Ne],Fe)}function Bn(K,he,Ne,Fe,Ke){var Je;for(Je=0;Je<Ne;++Je){var et=K[he+Je],ot=et>>8&255,ct=16711935&(ct=(ct=16711935&et)+((ot<<16)+ot));Fe[Ke+Je]=(4278255360&et)+ct>>>0}}function un(K,he){he.jd=255&K,he.hd=K>>8&255,he.ud=K>>16&255}function qn(K,he,Ne,Fe,Ke,Je){var et;for(et=0;et<Fe;++et){var ot=he[Ne+et],ct=ot>>>8,Ct=ot,Qt=255&(Qt=(Qt=ot>>>16)+((K.jd<<24>>24)*(ct<<24>>24)>>>5));Ct=255&(Ct=(Ct+=(K.hd<<24>>24)*(ct<<24>>24)>>>5)+((K.ud<<24>>24)*(Qt<<24>>24)>>>5)),Ke[Je+et]=(4278255360&ot)+(Qt<<16)+Ct}}function Fn(K,he,Ne,Fe,Ke){Lt[he]=function(Je,et,ot,ct,Ct,Qt,xr,jt,Kt){for(ct=xr;ct<jt;++ct)for(xr=0;xr<Kt;++xr)Ct[Qt++]=Ke(ot[Fe(Je[et++])])},Lt[K]=function(Je,et,ot,ct,Ct,Qt,xr){var jt=8>>Je.b,Kt=Je.Ea,dr=Je.K[0],zr=Je.w;if(8>jt)for(Je=(1<<Je.b)-1,zr=(1<<jt)-1;et<ot;++et){var yr,Gr=0;for(yr=0;yr<Kt;++yr)yr&Je||(Gr=Fe(ct[Ct++])),Qt[xr++]=Ke(dr[Gr&zr]),Gr>>=jt}else Lt["VP8LMapColor"+Ne](ct,Ct,dr,zr,Qt,xr,et,ot,Kt)}}function Es(K,he,Ne,Fe,Ke){for(Ne=he+Ne;he<Ne;){var Je=K[he++];Fe[Ke++]=Je>>16&255,Fe[Ke++]=Je>>8&255,Fe[Ke++]=255&Je}}function Jn(K,he,Ne,Fe,Ke){for(Ne=he+Ne;he<Ne;){var Je=K[he++];Fe[Ke++]=Je>>16&255,Fe[Ke++]=Je>>8&255,Fe[Ke++]=255&Je,Fe[Ke++]=Je>>24&255}}function ms(K,he,Ne,Fe,Ke){for(Ne=he+Ne;he<Ne;){var Je=(et=K[he++])>>16&240|et>>12&15,et=240&et|et>>28&15;Fe[Ke++]=Je,Fe[Ke++]=et}}function Ps(K,he,Ne,Fe,Ke){for(Ne=he+Ne;he<Ne;){var Je=(et=K[he++])>>16&248|et>>13&7,et=et>>5&224|et>>3&31;Fe[Ke++]=Je,Fe[Ke++]=et}}function Vi(K,he,Ne,Fe,Ke){for(Ne=he+Ne;he<Ne;){var Je=K[he++];Fe[Ke++]=255&Je,Fe[Ke++]=Je>>8&255,Fe[Ke++]=Je>>16&255}}function as(K,he,Ne,Fe,Ke,Je){if(Je==0)for(Ne=he+Ne;he<Ne;)Pn(Fe,((Je=K[he++])[0]>>24|Je[1]>>8&65280|Je[2]<<8&16711680|Je[3]<<24)>>>0),Ke+=32;else ae(Fe,Ke,K,he,Ne)}function Mi(K,he){Lt[he][0]=Lt[K+"0"],Lt[he][1]=Lt[K+"1"],Lt[he][2]=Lt[K+"2"],Lt[he][3]=Lt[K+"3"],Lt[he][4]=Lt[K+"4"],Lt[he][5]=Lt[K+"5"],Lt[he][6]=Lt[K+"6"],Lt[he][7]=Lt[K+"7"],Lt[he][8]=Lt[K+"8"],Lt[he][9]=Lt[K+"9"],Lt[he][10]=Lt[K+"10"],Lt[he][11]=Lt[K+"11"],Lt[he][12]=Lt[K+"12"],Lt[he][13]=Lt[K+"13"],Lt[he][14]=Lt[K+"0"],Lt[he][15]=Lt[K+"0"]}function ks(K){return K==zu||K==Tu||K==oc||K==Qu}function ls(){this.eb=[],this.size=this.A=this.fb=0}function $i(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ls,this.f.kb=new $i,this.sd=null}function In(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ai(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rl(K){return alert("todo:WebPSamplerProcessPlane"),K.T}function ja(K,he){var Ne=K.T,Fe=he.ba.f.RGBA,Ke=Fe.eb,Je=Fe.fb+K.ka*Fe.A,et=pl[he.ba.S],ot=K.y,ct=K.O,Ct=K.f,Qt=K.N,xr=K.ea,jt=K.W,Kt=he.cc,dr=he.dc,zr=he.Mc,yr=he.Nc,Gr=K.ka,Kr=K.ka+K.T,yn=K.U,Wr=yn+1>>1;for(Gr==0?et(ot,ct,null,null,Ct,Qt,xr,jt,Ct,Qt,xr,jt,Ke,Je,null,null,yn):(et(he.ec,he.fc,ot,ct,Kt,dr,zr,yr,Ct,Qt,xr,jt,Ke,Je-Fe.A,Ke,Je,yn),++Ne);Gr+2<Kr;Gr+=2)Kt=Ct,dr=Qt,zr=xr,yr=jt,Qt+=K.Rc,jt+=K.Rc,Je+=2*Fe.A,et(ot,(ct+=2*K.fa)-K.fa,ot,ct,Kt,dr,zr,yr,Ct,Qt,xr,jt,Ke,Je-Fe.A,Ke,Je,yn);return ct+=K.fa,K.j+Kr<K.o?(ae(he.ec,he.fc,ot,ct,yn),ae(he.cc,he.dc,Ct,Qt,Wr),ae(he.Mc,he.Nc,xr,jt,Wr),Ne--):1&Kr||et(ot,ct,null,null,Ct,Qt,xr,jt,Ct,Qt,xr,jt,Ke,Je+Fe.A,null,null,yn),Ne}function $a(K,he,Ne){var Fe=K.F,Ke=[K.J];if(Fe!=null){var Je=K.U,et=he.ba.S,ot=et==Za||et==oc;he=he.ba.f.RGBA;var ct=[0],Ct=K.ka;ct[0]=K.T,K.Kb&&(Ct==0?--ct[0]:(--Ct,Ke[0]-=K.width),K.j+K.ka+K.T==K.o&&(ct[0]=K.o-K.j-Ct));var Qt=he.eb;Ct=he.fb+Ct*he.A,K=Ro(Fe,Ke[0],K.width,Je,ct,Qt,Ct+(ot?0:3),he.A),U(Ne==ct),K&&ks(et)&&Ka(Qt,Ct,ot,Je,ct,he.A)}return 0}function yl(K){var he=K.ma,Ne=he.ba.S,Fe=11>Ne,Ke=Ne==_u||Ne==hu||Ne==Za||Ne==Lc||Ne==12||ks(Ne);if(he.memory=null,he.Ib=null,he.Jb=null,he.Nd=null,!ha(he.Oa,K,Ke?11:12))return 0;if(Ke&&ks(Ne)&&gt(),K.da)alert("todo:use_scaling");else{if(Fe){if(he.Ib=rl,K.Kb){if(Ne=K.U+1>>1,he.memory=we(K.U+2*Ne),he.memory==null)return 0;he.ec=he.memory,he.fc=0,he.cc=he.ec,he.dc=he.fc+K.U,he.Mc=he.cc,he.Nc=he.dc+Ne,he.Ib=ja,gt()}}else alert("todo:EmitYUV");Ke&&(he.Jb=$a,Fe&&rt())}if(Fe&&!gd){for(K=0;256>K;++K)xd[K]=89858*(K-128)+iu>>Hc,$o[K]=-22014*(K-128)+iu,el[K]=-45773*(K-128),vd[K]=113618*(K-128)+iu>>Hc;for(K=Au;K<Yu;++K)he=76283*(K-16)+iu>>Hc,Xu[K-Au]=il(he,255),yd[K-Au]=il(he+8>>4,15);gd=1}return 1}function Ms(K){var he=K.ma,Ne=K.U,Fe=K.T;return U(!(1&K.ka)),0>=Ne||0>=Fe?0:(Ne=he.Ib(K,he),he.Jb!=null&&he.Jb(K,he,Ne),he.Dc+=Ne,1)}function Sa(K){K.ma.memory=null}function ro(K,he,Ne,Fe){return gn(K,8)!=47?0:(he[0]=gn(K,14)+1,Ne[0]=gn(K,14)+1,Fe[0]=gn(K,1),gn(K,3)!=0?0:!K.h)}function zo(K,he){if(4>K)return K+1;var Ne=K-2>>1;return(2+(1&K)<<Ne)+gn(he,Ne)+1}function Ba(K,he){return 120<he?he-120:1<=(Ne=((Ne=_d[he-1])>>4)*K+(8-(15&Ne)))?Ne:1;var Ne}function ea(K,he,Ne){var Fe=It(Ne),Ke=K[he+=255&Fe].g-8;return 0<Ke&&(nr(Ne,Ne.u+8),Fe=It(Ne),he+=K[he].value,he+=Fe&(1<<Ke)-1),nr(Ne,Ne.u+K[he].g),K[he].value}function Na(K,he,Ne){return Ne.g+=K.g,Ne.value+=K.value<<he>>>0,U(8>=Ne.g),K.g}function Ya(K,he,Ne){var Fe=K.xc;return U((he=Fe==0?0:K.vc[K.md*(Ne>>Fe)+(he>>Fe)])<K.Wb),K.Ya[he]}function Dl(K,he,Ne,Fe){var Ke=K.ab,Je=K.c*he,et=K.C;he=et+he;var ot=Ne,ct=Fe;for(Fe=K.Ta,Ne=K.Ua;0<Ke--;){var Ct=K.gc[Ke],Qt=et,xr=he,jt=ot,Kt=ct,dr=(ct=Fe,ot=Ne,Ct.Ea);switch(U(Qt<xr),U(xr<=Ct.nc),Ct.hc){case 2:Da(jt,Kt,(xr-Qt)*dr,ct,ot);break;case 0:var zr=Qt,yr=xr,Gr=ct,Kr=ot,yn=(Yn=Ct).Ea;zr==0&&(Xa(jt,Kt,null,null,1,Gr,Kr),xn(jt,Kt+1,0,0,yn-1,Gr,Kr+1),Kt+=yn,Kr+=yn,++zr);for(var Wr=1<<Yn.b,bs=Wr-1,is=Rt(yn,Yn.b),ci=Yn.K,Yn=Yn.w+(zr>>Yn.b)*is;zr<yr;){var Ui=ci,Un=Yn,ii=1;for(dl(jt,Kt,Gr,Kr-yn,1,Gr,Kr);ii<yn;){var ds=(ii&~bs)+Wr;ds>yn&&(ds=yn),(0,du[Ui[Un++]>>8&15])(jt,Kt+ +ii,Gr,Kr+ii-yn,ds-ii,Gr,Kr+ii),ii=ds}Kt+=yn,Kr+=yn,++zr&bs||(Yn+=is)}xr!=Ct.nc&&ae(ct,ot-dr,ct,ot+(xr-Qt-1)*dr,dr);break;case 1:for(dr=jt,yr=Kt,yn=(jt=Ct.Ea)-(Kr=jt&~(Gr=(Kt=1<<Ct.b)-1)),zr=Rt(jt,Ct.b),Wr=Ct.K,Ct=Ct.w+(Qt>>Ct.b)*zr;Qt<xr;){for(bs=Wr,is=Ct,ci=new _r,Yn=yr+Kr,Ui=yr+jt;yr<Yn;)un(bs[is++],ci),_l(ci,dr,yr,Kt,ct,ot),yr+=Kt,ot+=Kt;yr<Ui&&(un(bs[is++],ci),_l(ci,dr,yr,yn,ct,ot),yr+=yn,ot+=yn),++Qt&Gr||(Ct+=zr)}break;case 3:if(jt==ct&&Kt==ot&&0<Ct.b){for(yr=ct,jt=dr=ot+(xr-Qt)*dr-(Kr=(xr-Qt)*Rt(Ct.Ea,Ct.b)),Kt=ct,Gr=ot,zr=[],Kr=(yn=Kr)-1;0<=Kr;--Kr)zr[Kr]=Kt[Gr+Kr];for(Kr=yn-1;0<=Kr;--Kr)yr[jt+Kr]=zr[Kr];Eu(Ct,Qt,xr,ct,dr,ct,ot)}else Eu(Ct,Qt,xr,jt,Kt,ct,ot)}ot=Fe,ct=Ne}ct!=Ne&&ae(Fe,Ne,ot,ct,Je)}function Va(K,he){var Ne=K.V,Fe=K.Ba+K.c*K.C,Ke=he-K.C;if(U(he<=K.l.o),U(16>=Ke),0<Ke){var Je=K.l,et=K.Ta,ot=K.Ua,ct=Je.width;if(Dl(K,Ke,Ne,Fe),Ke=ot=[ot],U((Ne=K.C)<(Fe=he)),U(Je.v<Je.va),Fe>Je.o&&(Fe=Je.o),Ne<Je.j){var Ct=Je.j-Ne;Ne=Je.j,Ke[0]+=Ct*ct}if(Ne>=Fe?Ne=0:(Ke[0]+=4*Je.v,Je.ka=Ne-Je.j,Je.U=Je.va-Je.v,Je.T=Fe-Ne,Ne=1),Ne){if(ot=ot[0],11>(Ne=K.ca).S){var Qt=Ne.f.RGBA,xr=(Fe=Ne.S,Ke=Je.U,Je=Je.T,Ct=Qt.eb,Qt.A),jt=Je;for(Qt=Qt.fb+K.Ma*Qt.A;0<jt--;){var Kt=et,dr=ot,zr=Ke,yr=Ct,Gr=Qt;switch(Fe){case ru:Il(Kt,dr,zr,yr,Gr);break;case _u:Ol(Kt,dr,zr,yr,Gr);break;case zu:Ol(Kt,dr,zr,yr,Gr),Ka(yr,Gr,0,zr,1,0);break;case Ru:Oc(Kt,dr,zr,yr,Gr);break;case hu:as(Kt,dr,zr,yr,Gr,1);break;case Tu:as(Kt,dr,zr,yr,Gr,1),Ka(yr,Gr,0,zr,1,0);break;case Za:as(Kt,dr,zr,yr,Gr,0);break;case oc:as(Kt,dr,zr,yr,Gr,0),Ka(yr,Gr,1,zr,1,0);break;case Lc:gc(Kt,dr,zr,yr,Gr);break;case Qu:gc(Kt,dr,zr,yr,Gr),Cu(yr,Gr,zr,1,0);break;case cd:Gl(Kt,dr,zr,yr,Gr);break;default:U(0)}ot+=ct,Qt+=xr}K.Ma+=Je}else alert("todo:EmitRescaledRowsYUVA");U(K.Ma<=Ne.height)}}K.C=he,U(K.C<=K.i)}function So(K){var he;if(0<K.ua)return 0;for(he=0;he<K.Wb;++he){var Ne=K.Ya[he].G,Fe=K.Ya[he].H;if(0<Ne[1][Fe[1]+0].g||0<Ne[2][Fe[2]+0].g||0<Ne[3][Fe[3]+0].g)return 0}return 1}function bl(K,he,Ne,Fe,Ke,Je){if(K.Z!=0){var et=K.qd,ot=K.rd;for(U(ho[K.Z]!=null);he<Ne;++he)ho[K.Z](et,ot,Fe,Ke,Fe,Ke,Je),et=Fe,ot=Ke,Ke+=Je;K.qd=et,K.rd=ot}}function nl(K,he){var Ne=K.l.ma,Fe=Ne.Z==0||Ne.Z==1?K.l.j:K.C;if(Fe=K.C<Fe?Fe:K.C,U(he<=K.l.o),he>Fe){var Ke=K.l.width,Je=Ne.ca,et=Ne.tb+Ke*Fe,ot=K.V,ct=K.Ba+K.c*Fe,Ct=K.gc;U(K.ab==1),U(Ct[0].hc==3),_o(Ct[0],Fe,he,ot,ct,Je,et),bl(Ne,Fe,he,Je,et,Ke)}K.C=K.Ma=he}function Ga(K,he,Ne,Fe,Ke,Je,et){var ot=K.$/Fe,ct=K.$%Fe,Ct=K.m,Qt=K.s,xr=Ne+K.$,jt=xr;Ke=Ne+Fe*Ke;var Kt=Ne+Fe*Je,dr=280+Qt.ua,zr=K.Pb?ot:16777216,yr=0<Qt.ua?Qt.Wa:null,Gr=Qt.wc,Kr=xr<Kt?Ya(Qt,ct,ot):null;U(K.C<Je),U(Kt<=Ke);var yn=!1;e:for(;;){for(;yn||xr<Kt;){var Wr=0;if(ot>=zr){var bs=xr-Ne;U((zr=K).Pb),zr.wd=zr.m,zr.xd=bs,0<zr.s.ua&&Dn(zr.s.Wa,zr.s.vb),zr=ot+fd}if(ct&Gr||(Kr=Ya(Qt,ct,ot)),U(Kr!=null),Kr.Qb&&(he[xr]=Kr.qb,yn=!0),!yn)if(mr(Ct),Kr.jc){Wr=Ct,bs=he;var is=xr,ci=Kr.pd[It(Wr)&ei-1];U(Kr.jc),256>ci.g?(nr(Wr,Wr.u+ci.g),bs[is]=ci.value,Wr=0):(nr(Wr,Wr.u+ci.g-256),U(256<=ci.value),Wr=ci.value),Wr==0&&(yn=!0)}else Wr=ea(Kr.G[0],Kr.H[0],Ct);if(Ct.h)break;if(yn||256>Wr){if(!yn)if(Kr.nd)he[xr]=(Kr.qb|Wr<<8)>>>0;else{if(mr(Ct),yn=ea(Kr.G[1],Kr.H[1],Ct),mr(Ct),bs=ea(Kr.G[2],Kr.H[2],Ct),is=ea(Kr.G[3],Kr.H[3],Ct),Ct.h)break;he[xr]=(is<<24|yn<<16|Wr<<8|bs)>>>0}if(yn=!1,++xr,++ct>=Fe&&(ct=0,++ot,et!=null&&ot<=Je&&!(ot%16)&&et(K,ot),yr!=null))for(;jt<xr;)Wr=he[jt++],yr.X[(506832829*Wr&4294967295)>>>yr.Mb]=Wr}else if(280>Wr){if(Wr=zo(Wr-256,Ct),bs=ea(Kr.G[4],Kr.H[4],Ct),mr(Ct),bs=Ba(Fe,bs=zo(bs,Ct)),Ct.h)break;if(xr-Ne<bs||Ke-xr<Wr)break e;for(is=0;is<Wr;++is)he[xr+is]=he[xr+is-bs];for(xr+=Wr,ct+=Wr;ct>=Fe;)ct-=Fe,++ot,et!=null&&ot<=Je&&!(ot%16)&&et(K,ot);if(U(xr<=Ke),ct&Gr&&(Kr=Ya(Qt,ct,ot)),yr!=null)for(;jt<xr;)Wr=he[jt++],yr.X[(506832829*Wr&4294967295)>>>yr.Mb]=Wr}else{if(!(Wr<dr))break e;for(yn=Wr-280,U(yr!=null);jt<xr;)Wr=he[jt++],yr.X[(506832829*Wr&4294967295)>>>yr.Mb]=Wr;Wr=xr,U(!(yn>>>(bs=yr).Xa)),he[Wr]=bs.X[yn],yn=!0}yn||U(Ct.h==er(Ct))}if(K.Pb&&Ct.h&&xr<Ke)U(K.m.h),K.a=5,K.m=K.wd,K.$=K.xd,0<K.s.ua&&Dn(K.s.vb,K.s.Wa);else{if(Ct.h)break e;et?.(K,ot>Je?Je:ot),K.a=0,K.$=xr-Ne}return 1}return K.a=3,0}function Co(K){U(K!=null),K.vc=null,K.yc=null,K.Ya=null;var he=K.Wa;he!=null&&(he.X=null),K.vb=null,U(K!=null)}function Qo(){var K=new Fs;return K==null?null:(K.a=0,K.xb=pd,Mi("Predictor","VP8LPredictors"),Mi("Predictor","VP8LPredictors_C"),Mi("PredictorAdd","VP8LPredictorsAdd"),Mi("PredictorAdd","VP8LPredictorsAdd_C"),Da=Bn,_l=qn,Il=Es,Ol=Jn,gc=ms,Gl=Ps,Oc=Vi,Lt.VP8LMapColor32b=bo,Lt.VP8LMapColor8b=tu,K)}function go(K,he,Ne,Fe,Ke){var Je=1,et=[K],ot=[he],ct=Fe.m,Ct=Fe.s,Qt=null,xr=0;e:for(;;){if(Ne)for(;Je&&gn(ct,1);){var jt=et,Kt=ot,dr=Fe,zr=1,yr=dr.m,Gr=dr.gc[dr.ab],Kr=gn(yr,2);if(dr.Oc&1<<Kr)Je=0;else{switch(dr.Oc|=1<<Kr,Gr.hc=Kr,Gr.Ea=jt[0],Gr.nc=Kt[0],Gr.K=[null],++dr.ab,U(4>=dr.ab),Kr){case 0:case 1:Gr.b=gn(yr,3)+2,zr=go(Rt(Gr.Ea,Gr.b),Rt(Gr.nc,Gr.b),0,dr,Gr.K),Gr.K=Gr.K[0];break;case 3:var yn,Wr=gn(yr,8)+1,bs=16<Wr?0:4<Wr?1:2<Wr?2:3;if(jt[0]=Rt(Gr.Ea,bs),Gr.b=bs,yn=zr=go(Wr,1,0,dr,Gr.K)){var is,ci=Wr,Yn=Gr,Ui=1<<(8>>Yn.b),Un=we(Ui);if(Un==null)yn=0;else{var ii=Yn.K[0],ds=Yn.w;for(Un[0]=Yn.K[0][0],is=1;is<1*ci;++is)Un[is]=ir(ii[ds+is],Un[is-1]);for(;is<4*Ui;++is)Un[is]=0;Yn.K[0]=null,Yn.K[0]=Un,yn=1}}zr=yn;break;case 2:break;default:U(0)}Je=zr}}if(et=et[0],ot=ot[0],Je&&gn(ct,1)&&!(Je=1<=(xr=gn(ct,4))&&11>=xr)){Fe.a=3;break e}var Vn;if(Vn=Je)t:{var eo,ti,Oi,va=Fe,ao=et,wo=ot,Oa=xr,Eo=Ne,Po=va.m,Fi=va.s,di=[null],Li=1,Ua=0,la=Rd[Oa];r:for(;;){if(Eo&&gn(Po,1)){var ya=gn(Po,3)+2,Al=Rt(ao,ya),ca=Rt(wo,ya),Do=Al*ca;if(!go(Al,ca,0,va,di))break r;for(di=di[0],Fi.xc=ya,eo=0;eo<Do;++eo){var Aa=di[eo]>>8&65535;di[eo]=Aa,Aa>=Li&&(Li=Aa+1)}}if(Po.h)break r;for(ti=0;5>ti;++ti){var On=ud[ti];!ti&&0<Oa&&(On+=1<<Oa),Ua<On&&(Ua=On)}var po=Be(Li*la,$t),Ao=Li,Ma=Be(Ao,jr);if(Ma==null)var Uo=null;else U(65536>=Ao),Uo=Ma;var oi=we(Ua);if(Uo==null||oi==null||po==null){va.a=1;break r}var ri=po;for(eo=Oi=0;eo<Li;++eo){var gs=Uo[eo],ua=gs.G,Wi=gs.H,Ha=0,Fa=1,qa=0;for(ti=0;5>ti;++ti){On=ud[ti],ua[ti]=ri,Wi[ti]=Oi,!ti&&0<Oa&&(On+=1<<Oa);s:{var Wa,zc=On,lc=va,yc=oi,bd=ri,gu=Oi,ko=0,Fl=lc.m,au=gn(Fl,1);if(me(yc,0,0,zc),au){var bc=gn(Fl,1)+1,Ou=gn(Fl,1),ed=gn(Fl,Ou==0?1:8);yc[ed]=1,bc==2&&(yc[ed=gn(Fl,8)]=1);var Yl=1}else{var Mu=we(19),Ll=gn(Fl,4)+4;if(19<Ll){lc.a=3;var jo=0;break s}for(Wa=0;Wa<Ll;++Wa)Mu[Cd[Wa]]=gn(Fl,3);var Qc=void 0,uc=void 0,Fu=lc,td=Mu,oo=zc,ml=yc,Ho=0,to=Fu.m,Vc=8,rd=Be(128,$t);n:for(;yt(rd,0,7,td,19);){if(gn(to,1)){var wd=2+2*gn(to,3);if((Qc=2+gn(to,wd))>oo)break n}else Qc=oo;for(uc=0;uc<oo&&Qc--;){mr(to);var Ed=rd[0+(127&It(to))];nr(to,to.u+Ed.g);var Tl=Ed.value;if(16>Tl)ml[uc++]=Tl,Tl!=0&&(Vc=Tl);else{var jd=Tl==16,nd=Tl-16,ou=Gu[nd],sd=gn(to,Vu[nd])+ou;if(uc+sd>oo)break n;for(var lu=jd?Vc:0;0<sd--;)ml[uc++]=lu}}Ho=1;break n}Ho||(Fu.a=3),Yl=Ho}(Yl=Yl&&!Fl.h)&&(ko=yt(bd,gu,8,yc,zc)),Yl&&ko!=0?jo=ko:(lc.a=3,jo=0)}if(jo==0)break r;if(Fa&&dd[ti]==1&&(Fa=ri[Oi].g==0),Ha+=ri[Oi].g,Oi+=jo,3>=ti){var xu,ad=oi[0];for(xu=1;xu<On;++xu)oi[xu]>ad&&(ad=oi[xu]);qa+=ad}}if(gs.nd=Fa,gs.Qb=0,Fa&&(gs.qb=(ua[3][Wi[3]+0].value<<24|ua[1][Wi[1]+0].value<<16|ua[2][Wi[2]+0].value)>>>0,Ha==0&&256>ua[0][Wi[0]+0].value&&(gs.Qb=1,gs.qb+=ua[0][Wi[0]+0].value<<8)),gs.jc=!gs.Qb&&6>qa,gs.jc){var vu,$l=gs;for(vu=0;vu<ei;++vu){var Gc=vu,Kc=$l.pd[Gc],Lu=$l.G[0][$l.H[0]+Gc];256<=Lu.value?(Kc.g=Lu.g+256,Kc.value=Lu.value):(Kc.g=0,Kc.value=0,Gc>>=Na(Lu,8,Kc),Gc>>=Na($l.G[1][$l.H[1]+Gc],16,Kc),Gc>>=Na($l.G[2][$l.H[2]+Gc],0,Kc),Na($l.G[3][$l.H[3]+Gc],24,Kc))}}}Fi.vc=di,Fi.Wb=Li,Fi.Ya=Uo,Fi.yc=po,Vn=1;break t}Vn=0}if(!(Je=Vn)){Fe.a=3;break e}if(0<xr){if(Ct.ua=1<<xr,!bt(Ct.Wa,xr)){Fe.a=1,Je=0;break e}}else Ct.ua=0;var od=Fe,qc=et,Id=ot,q=od.s,Q=q.xc;if(od.c=qc,od.i=Id,q.md=Rt(qc,Q),q.wc=Q==0?-1:(1<<Q)-1,Ne){Fe.xb=Td;break e}if((Qt=we(et*ot))==null){Fe.a=1,Je=0;break e}Je=(Je=Ga(Fe,Qt,0,et,ot,ot,null))&&!ct.h;break e}return Je?(Ke!=null?Ke[0]=Qt:(U(Qt==null),U(Ne)),Fe.$=0,Ne||Co(Ct)):Co(Ct),Je}function lo(K,he){var Ne=K.c*K.i,Fe=Ne+he+16*he;return U(K.c<=he),K.V=we(Fe),K.V==null?(K.Ta=null,K.Ua=0,K.a=1,0):(K.Ta=K.V,K.Ua=K.Ba+Ne+he,1)}function sl(K,he){var Ne=K.C,Fe=he-Ne,Ke=K.V,Je=K.Ba+K.c*Ne;for(U(he<=K.l.o);0<Fe;){var et=16<Fe?16:Fe,ot=K.l.ma,ct=K.l.width,Ct=ct*et,Qt=ot.ca,xr=ot.tb+ct*Ne,jt=K.Ta,Kt=K.Ua;Dl(K,et,Ke,Je),Fc(jt,Kt,Qt,xr,Ct),bl(ot,Ne,Ne+et,Qt,xr,ct),Fe-=et,Ke+=et*K.c,Ne+=et}U(Ne==he),K.C=K.Ma=he}function Vo(){this.ub=this.yd=this.td=this.Rb=0}function wl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Cc(){this.Fb=this.Bb=this.Cb=0,this.Zb=we(4),this.Lb=we(4)}function Nl(){this.Yb=(function(){var K=[];return(function he(Ne,Fe,Ke){for(var Je=Ke[Fe],et=0;et<Je&&(Ne.push(Ke.length>Fe+1?[]:0),!(Ke.length<Fe+1));et++)he(Ne[et],Fe+1,Ke)})(K,0,[3,11]),K})()}function _c(){this.jb=we(3),this.Wc=Re([4,8],Nl),this.Xc=Re([4,17],Nl)}function Ul(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new we(4),this.od=new we(4)}function xo(){this.ld=this.La=this.dd=this.tc=0}function Hl(){this.Na=this.la=0}function Jl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function dc(){this.ad=we(384),this.Za=0,this.Ob=we(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Go(){this.uc=this.M=this.Nb=0,this.wa=Array(new xo),this.Y=0,this.ya=Array(new dc),this.aa=0,this.l=new pc}function fc(){this.y=we(16),this.f=we(8),this.ea=we(8)}function hc(){this.cb=this.a=0,this.sc="",this.m=new st,this.Od=new Vo,this.Kc=new wl,this.ed=new Ul,this.Qa=new Cc,this.Ic=this.$c=this.Aa=0,this.D=new Go,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Be(8,st),this.ia=0,this.pb=Be(4,Jl),this.Pa=new _c,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fc),this.Hd=0,this.rb=Array(new Hl),this.sb=0,this.wa=Array(new xo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new dc),this.L=this.aa=0,this.gd=Re([4,2],xo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function il(K,he){return 0>K?0:K>he?he:K}function pc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zl(){var K=new hc;return K!=null&&(K.a=0,K.sc="OK",K.cb=0,K.Xb=0,nu||(nu=Di)),K}function Ds(K,he,Ne){return K.a==0&&(K.a=he,K.sc=Ne,K.cb=0),0}function Rc(K,he,Ne){return 3<=Ne&&K[he+0]==157&&K[he+1]==1&&K[he+2]==42}function al(K,he){if(K==null)return 0;if(K.a=0,K.sc="OK",he==null)return Ds(K,2,"null VP8Io passed to VP8GetHeaders()");var Ne=he.data,Fe=he.w,Ke=he.ha;if(4>Ke)return Ds(K,7,"Truncated header.");var Je=Ne[Fe+0]|Ne[Fe+1]<<8|Ne[Fe+2]<<16,et=K.Od;if(et.Rb=!(1&Je),et.td=Je>>1&7,et.yd=Je>>4&1,et.ub=Je>>5,3<et.td)return Ds(K,3,"Incorrect keyframe parameters.");if(!et.yd)return Ds(K,4,"Frame not displayable.");Fe+=3,Ke-=3;var ot=K.Kc;if(et.Rb){if(7>Ke)return Ds(K,7,"cannot parse picture header");if(!Rc(Ne,Fe,Ke))return Ds(K,3,"Bad code word");ot.c=16383&(Ne[Fe+4]<<8|Ne[Fe+3]),ot.Td=Ne[Fe+4]>>6,ot.i=16383&(Ne[Fe+6]<<8|Ne[Fe+5]),ot.Ud=Ne[Fe+6]>>6,Fe+=7,Ke-=7,K.za=ot.c+15>>4,K.Ub=ot.i+15>>4,he.width=ot.c,he.height=ot.i,he.Da=0,he.j=0,he.v=0,he.va=he.width,he.o=he.height,he.da=0,he.ib=he.width,he.hb=he.height,he.U=he.width,he.T=he.height,me((Je=K.Pa).jb,0,255,Je.jb.length),U((Je=K.Qa)!=null),Je.Cb=0,Je.Bb=0,Je.Fb=1,me(Je.Zb,0,0,Je.Zb.length),me(Je.Lb,0,0,Je.Lb)}if(et.ub>Ke)return Ds(K,7,"bad partition length");Pr(Je=K.m,Ne,Fe,et.ub),Fe+=et.ub,Ke-=et.ub,et.Rb&&(ot.Ld=Fr(Je),ot.Kd=Fr(Je)),ot=K.Qa;var ct,Ct=K.Pa;if(U(Je!=null),U(ot!=null),ot.Cb=Fr(Je),ot.Cb){if(ot.Bb=Fr(Je),Fr(Je)){for(ot.Fb=Fr(Je),ct=0;4>ct;++ct)ot.Zb[ct]=Fr(Je)?hr(Je,7):0;for(ct=0;4>ct;++ct)ot.Lb[ct]=Fr(Je)?hr(Je,6):0}if(ot.Bb)for(ct=0;3>ct;++ct)Ct.jb[ct]=Fr(Je)?Mr(Je,8):255}else ot.Bb=0;if(Je.Ka)return Ds(K,3,"cannot parse segment header");if((ot=K.ed).zd=Fr(Je),ot.Tb=Mr(Je,6),ot.wb=Mr(Je,3),ot.Pc=Fr(Je),ot.Pc&&Fr(Je)){for(Ct=0;4>Ct;++Ct)Fr(Je)&&(ot.vd[Ct]=hr(Je,6));for(Ct=0;4>Ct;++Ct)Fr(Je)&&(ot.od[Ct]=hr(Je,6))}if(K.L=ot.Tb==0?0:ot.zd?1:2,Je.Ka)return Ds(K,3,"cannot parse filter header");var Qt=Ke;if(Ke=ct=Fe,Fe=ct+Qt,ot=Qt,K.Xb=(1<<Mr(K.m,2))-1,Qt<3*(Ct=K.Xb))Ne=7;else{for(ct+=3*Ct,ot-=3*Ct,Qt=0;Qt<Ct;++Qt){var xr=Ne[Ke+0]|Ne[Ke+1]<<8|Ne[Ke+2]<<16;xr>ot&&(xr=ot),Pr(K.Jc[+Qt],Ne,ct,xr),ct+=xr,ot-=xr,Ke+=3}Pr(K.Jc[+Ct],Ne,ct,ot),Ne=ct<Fe?0:5}if(Ne!=0)return Ds(K,Ne,"cannot parse partitions");for(Ne=Mr(ct=K.m,7),Ke=Fr(ct)?hr(ct,4):0,Fe=Fr(ct)?hr(ct,4):0,ot=Fr(ct)?hr(ct,4):0,Ct=Fr(ct)?hr(ct,4):0,ct=Fr(ct)?hr(ct,4):0,Qt=K.Qa,xr=0;4>xr;++xr){if(Qt.Cb){var jt=Qt.Zb[xr];Qt.Fb||(jt+=Ne)}else{if(0<xr){K.pb[xr]=K.pb[0];continue}jt=Ne}var Kt=K.pb[xr];Kt.Sc[0]=pu[il(jt+Ke,127)],Kt.Sc[1]=Nu[il(jt+0,127)],Kt.Eb[0]=2*pu[il(jt+Fe,127)],Kt.Eb[1]=101581*Nu[il(jt+ot,127)]>>16,8>Kt.Eb[1]&&(Kt.Eb[1]=8),Kt.Qc[0]=pu[il(jt+Ct,117)],Kt.Qc[1]=Nu[il(jt+ct,127)],Kt.lc=jt+ct}if(!et.Rb)return Ds(K,4,"Not a key frame.");for(Fr(Je),et=K.Pa,Ne=0;4>Ne;++Ne){for(Ke=0;8>Ke;++Ke)for(Fe=0;3>Fe;++Fe)for(ot=0;11>ot;++ot)Ct=Jr(Je,Pu[Ne][Ke][Fe][ot])?Mr(Je,8):kd[Ne][Ke][Fe][ot],et.Wc[Ne][Ke].Yb[Fe][ot]=Ct;for(Ke=0;17>Ke;++Ke)et.Xc[Ne][Ke]=et.Wc[Ne][ku[Ke]]}return K.kc=Fr(Je),K.kc&&(K.Bd=Mr(Je,8)),K.cb=1}function Di(K,he,Ne,Fe,Ke,Je,et){var ot=he[Ke].Yb[Ne];for(Ne=0;16>Ke;++Ke){if(!Jr(K,ot[Ne+0]))return Ke;for(;!Jr(K,ot[Ne+1]);)if(ot=he[++Ke].Yb[0],Ne=0,Ke==16)return 16;var ct=he[Ke+1].Yb;if(Jr(K,ot[Ne+2])){var Ct=K,Qt=0;if(Jr(Ct,(jt=ot)[(xr=Ne)+3]))if(Jr(Ct,jt[xr+6])){for(ot=0,xr=2*(Qt=Jr(Ct,jt[xr+8]))+(jt=Jr(Ct,jt[xr+9+Qt])),Qt=0,jt=Ku[xr];jt[ot];++ot)Qt+=Qt+Jr(Ct,jt[ot]);Qt+=3+(8<<xr)}else Jr(Ct,jt[xr+7])?(Qt=7+2*Jr(Ct,165),Qt+=Jr(Ct,145)):Qt=5+Jr(Ct,159);else Qt=Jr(Ct,jt[xr+4])?3+Jr(Ct,jt[xr+5]):2;ot=ct[2]}else Qt=1,ot=ct[1];ct=et+Pd[Ke],0>(Ct=K).b&&Or(Ct);var xr,jt=Ct.b,Kt=(xr=Ct.Ca>>1)-(Ct.I>>jt)>>31;--Ct.b,Ct.Ca+=Kt,Ct.Ca|=1,Ct.I-=(xr+1&Kt)<<jt,Je[ct]=((Qt^Kt)-Kt)*Fe[(0<Ke)+0]}return 16}function Nc(K){var he=K.rb[K.sb-1];he.la=0,he.Na=0,me(K.zc,0,0,K.zc.length),K.ja=0}function Oo(K,he,Ne,Fe,Ke){Ke=K[he+Ne+32*Fe]+(Ke>>3),K[he+Ne+32*Fe]=-256&Ke?0>Ke?0:255:Ke}function Pa(K,he,Ne,Fe,Ke,Je){Oo(K,he,0,Ne,Fe+Ke),Oo(K,he,1,Ne,Fe+Je),Oo(K,he,2,Ne,Fe-Je),Oo(K,he,3,Ne,Fe-Ke)}function El(K){return(20091*K>>16)+K}function zl(K,he,Ne,Fe){var Ke,Je=0,et=we(16);for(Ke=0;4>Ke;++Ke){var ot=K[he+0]+K[he+8],ct=K[he+0]-K[he+8],Ct=(35468*K[he+4]>>16)-El(K[he+12]),Qt=El(K[he+4])+(35468*K[he+12]>>16);et[Je+0]=ot+Qt,et[Je+1]=ct+Ct,et[Je+2]=ct-Ct,et[Je+3]=ot-Qt,Je+=4,he++}for(Ke=Je=0;4>Ke;++Ke)ot=(K=et[Je+0]+4)+et[Je+8],ct=K-et[Je+8],Ct=(35468*et[Je+4]>>16)-El(et[Je+12]),Oo(Ne,Fe,0,0,ot+(Qt=El(et[Je+4])+(35468*et[Je+12]>>16))),Oo(Ne,Fe,1,0,ct+Ct),Oo(Ne,Fe,2,0,ct-Ct),Oo(Ne,Fe,3,0,ot-Qt),Je++,Fe+=32}function Ko(K,he,Ne,Fe){var Ke=K[he+0]+4,Je=35468*K[he+4]>>16,et=El(K[he+4]),ot=35468*K[he+1]>>16;Pa(Ne,Fe,0,Ke+et,K=El(K[he+1]),ot),Pa(Ne,Fe,1,Ke+Je,K,ot),Pa(Ne,Fe,2,Ke-Je,K,ot),Pa(Ne,Fe,3,Ke-et,K,ot)}function Ac(K,he,Ne,Fe,Ke){zl(K,he,Ne,Fe),Ke&&zl(K,he+16,Ne,Fe+4)}function vo(K,he,Ne,Fe){Lo(K,he+0,Ne,Fe,1),Lo(K,he+32,Ne,Fe+128,1)}function Pc(K,he,Ne,Fe){var Ke;for(K=K[he+0]+4,Ke=0;4>Ke;++Ke)for(he=0;4>he;++he)Oo(Ne,Fe,he,Ke,K)}function ec(K,he,Ne,Fe){K[he+0]&&Ri(K,he+0,Ne,Fe),K[he+16]&&Ri(K,he+16,Ne,Fe+4),K[he+32]&&Ri(K,he+32,Ne,Fe+128),K[he+48]&&Ri(K,he+48,Ne,Fe+128+4)}function kc(K,he,Ne,Fe){var Ke,Je=we(16);for(Ke=0;4>Ke;++Ke){var et=K[he+0+Ke]+K[he+12+Ke],ot=K[he+4+Ke]+K[he+8+Ke],ct=K[he+4+Ke]-K[he+8+Ke],Ct=K[he+0+Ke]-K[he+12+Ke];Je[0+Ke]=et+ot,Je[8+Ke]=et-ot,Je[4+Ke]=Ct+ct,Je[12+Ke]=Ct-ct}for(Ke=0;4>Ke;++Ke)et=(K=Je[0+4*Ke]+3)+Je[3+4*Ke],ot=Je[1+4*Ke]+Je[2+4*Ke],ct=Je[1+4*Ke]-Je[2+4*Ke],Ct=K-Je[3+4*Ke],Ne[Fe+0]=et+ot>>3,Ne[Fe+16]=Ct+ct>>3,Ne[Fe+32]=et-ot>>3,Ne[Fe+48]=Ct-ct>>3,Fe+=64}function Ql(K,he,Ne){var Fe,Ke=he-32,Je=No,et=255-K[Ke-1];for(Fe=0;Fe<Ne;++Fe){var ot,ct=Je,Ct=et+K[he-1];for(ot=0;ot<Ne;++ot)K[he+ot]=ct[Ct+K[Ke+ot]];he+=32}}function tc(K,he){Ql(K,he,4)}function rc(K,he){Ql(K,he,8)}function nc(K,he){Ql(K,he,16)}function sc(K,he){var Ne;for(Ne=0;16>Ne;++Ne)ae(K,he+32*Ne,K,he-32,16)}function Bc(K,he){var Ne;for(Ne=16;0<Ne;--Ne)me(K,he,K[he-1],16),he+=32}function qo(K,he,Ne){var Fe;for(Fe=0;16>Fe;++Fe)me(he,Ne+32*Fe,K,16)}function bu(K,he){var Ne,Fe=16;for(Ne=0;16>Ne;++Ne)Fe+=K[he-1+32*Ne]+K[he+Ne-32];qo(Fe>>5,K,he)}function ic(K,he){var Ne,Fe=8;for(Ne=0;16>Ne;++Ne)Fe+=K[he-1+32*Ne];qo(Fe>>4,K,he)}function Xc(K,he){var Ne,Fe=8;for(Ne=0;16>Ne;++Ne)Fe+=K[he+Ne-32];qo(Fe>>4,K,he)}function wu(K,he){qo(128,K,he)}function zs(K,he,Ne){return K+2*he+Ne+2>>2}function Pl(K,he){var Ne,Fe=he-32;for(Fe=new Uint8Array([zs(K[Fe-1],K[Fe+0],K[Fe+1]),zs(K[Fe+0],K[Fe+1],K[Fe+2]),zs(K[Fe+1],K[Fe+2],K[Fe+3]),zs(K[Fe+2],K[Fe+3],K[Fe+4])]),Ne=0;4>Ne;++Ne)ae(K,he+32*Ne,Fe,0,Fe.length)}function uu(K,he){var Ne=K[he-1],Fe=K[he-1+32],Ke=K[he-1+64],Je=K[he-1+96];Pn(K,he+0,16843009*zs(K[he-1-32],Ne,Fe)),Pn(K,he+32,16843009*zs(Ne,Fe,Ke)),Pn(K,he+64,16843009*zs(Fe,Ke,Je)),Pn(K,he+96,16843009*zs(Ke,Je,Je))}function jl(K,he){var Ne,Fe=4;for(Ne=0;4>Ne;++Ne)Fe+=K[he+Ne-32]+K[he-1+32*Ne];for(Fe>>=3,Ne=0;4>Ne;++Ne)me(K,he+32*Ne,Fe,4)}function no(K,he){var Ne=K[he-1+0],Fe=K[he-1+32],Ke=K[he-1+64],Je=K[he-1-32],et=K[he+0-32],ot=K[he+1-32],ct=K[he+2-32],Ct=K[he+3-32];K[he+0+96]=zs(Fe,Ke,K[he-1+96]),K[he+1+96]=K[he+0+64]=zs(Ne,Fe,Ke),K[he+2+96]=K[he+1+64]=K[he+0+32]=zs(Je,Ne,Fe),K[he+3+96]=K[he+2+64]=K[he+1+32]=K[he+0+0]=zs(et,Je,Ne),K[he+3+64]=K[he+2+32]=K[he+1+0]=zs(ot,et,Je),K[he+3+32]=K[he+2+0]=zs(ct,ot,et),K[he+3+0]=zs(Ct,ct,ot)}function Wo(K,he){var Ne=K[he+1-32],Fe=K[he+2-32],Ke=K[he+3-32],Je=K[he+4-32],et=K[he+5-32],ot=K[he+6-32],ct=K[he+7-32];K[he+0+0]=zs(K[he+0-32],Ne,Fe),K[he+1+0]=K[he+0+32]=zs(Ne,Fe,Ke),K[he+2+0]=K[he+1+32]=K[he+0+64]=zs(Fe,Ke,Je),K[he+3+0]=K[he+2+32]=K[he+1+64]=K[he+0+96]=zs(Ke,Je,et),K[he+3+32]=K[he+2+64]=K[he+1+96]=zs(Je,et,ot),K[he+3+64]=K[he+2+96]=zs(et,ot,ct),K[he+3+96]=zs(ot,ct,ct)}function ol(K,he){var Ne=K[he-1+0],Fe=K[he-1+32],Ke=K[he-1+64],Je=K[he-1-32],et=K[he+0-32],ot=K[he+1-32],ct=K[he+2-32],Ct=K[he+3-32];K[he+0+0]=K[he+1+64]=Je+et+1>>1,K[he+1+0]=K[he+2+64]=et+ot+1>>1,K[he+2+0]=K[he+3+64]=ot+ct+1>>1,K[he+3+0]=ct+Ct+1>>1,K[he+0+96]=zs(Ke,Fe,Ne),K[he+0+64]=zs(Fe,Ne,Je),K[he+0+32]=K[he+1+96]=zs(Ne,Je,et),K[he+1+32]=K[he+2+96]=zs(Je,et,ot),K[he+2+32]=K[he+3+96]=zs(et,ot,ct),K[he+3+32]=zs(ot,ct,Ct)}function Jc(K,he){var Ne=K[he+0-32],Fe=K[he+1-32],Ke=K[he+2-32],Je=K[he+3-32],et=K[he+4-32],ot=K[he+5-32],ct=K[he+6-32],Ct=K[he+7-32];K[he+0+0]=Ne+Fe+1>>1,K[he+1+0]=K[he+0+64]=Fe+Ke+1>>1,K[he+2+0]=K[he+1+64]=Ke+Je+1>>1,K[he+3+0]=K[he+2+64]=Je+et+1>>1,K[he+0+32]=zs(Ne,Fe,Ke),K[he+1+32]=K[he+0+96]=zs(Fe,Ke,Je),K[he+2+32]=K[he+1+96]=zs(Ke,Je,et),K[he+3+32]=K[he+2+96]=zs(Je,et,ot),K[he+3+64]=zs(et,ot,ct),K[he+3+96]=zs(ot,ct,Ct)}function Mo(K,he){var Ne=K[he-1+0],Fe=K[he-1+32],Ke=K[he-1+64],Je=K[he-1+96];K[he+0+0]=Ne+Fe+1>>1,K[he+2+0]=K[he+0+32]=Fe+Ke+1>>1,K[he+2+32]=K[he+0+64]=Ke+Je+1>>1,K[he+1+0]=zs(Ne,Fe,Ke),K[he+3+0]=K[he+1+32]=zs(Fe,Ke,Je),K[he+3+32]=K[he+1+64]=zs(Ke,Je,Je),K[he+3+64]=K[he+2+64]=K[he+0+96]=K[he+1+96]=K[he+2+96]=K[he+3+96]=Je}function mc(K,he){var Ne=K[he-1+0],Fe=K[he-1+32],Ke=K[he-1+64],Je=K[he-1+96],et=K[he-1-32],ot=K[he+0-32],ct=K[he+1-32],Ct=K[he+2-32];K[he+0+0]=K[he+2+32]=Ne+et+1>>1,K[he+0+32]=K[he+2+64]=Fe+Ne+1>>1,K[he+0+64]=K[he+2+96]=Ke+Fe+1>>1,K[he+0+96]=Je+Ke+1>>1,K[he+3+0]=zs(ot,ct,Ct),K[he+2+0]=zs(et,ot,ct),K[he+1+0]=K[he+3+32]=zs(Ne,et,ot),K[he+1+32]=K[he+3+64]=zs(Fe,Ne,et),K[he+1+64]=K[he+3+96]=zs(Ke,Fe,Ne),K[he+1+96]=zs(Je,Ke,Fe)}function yo(K,he){var Ne;for(Ne=0;8>Ne;++Ne)ae(K,he+32*Ne,K,he-32,8)}function ac(K,he){var Ne;for(Ne=0;8>Ne;++Ne)me(K,he,K[he-1],8),he+=32}function Fo(K,he,Ne){var Fe;for(Fe=0;8>Fe;++Fe)me(he,Ne+32*Fe,K,8)}function Ic(K,he){var Ne,Fe=8;for(Ne=0;8>Ne;++Ne)Fe+=K[he+Ne-32]+K[he-1+32*Ne];Fo(Fe>>4,K,he)}function Sl(K,he){var Ne,Fe=4;for(Ne=0;8>Ne;++Ne)Fe+=K[he+Ne-32];Fo(Fe>>3,K,he)}function ll(K,he){var Ne,Fe=4;for(Ne=0;8>Ne;++Ne)Fe+=K[he-1+32*Ne];Fo(Fe>>3,K,he)}function Yo(K,he){Fo(128,K,he)}function Ci(K,he,Ne){var Fe=K[he-Ne],Ke=K[he+0],Je=3*(Ke-Fe)+Ml[1020+K[he-2*Ne]-K[he+Ne]],et=Jo[112+(Je+4>>3)];K[he-Ne]=No[255+Fe+Jo[112+(Je+3>>3)]],K[he+0]=No[255+Ke-et]}function qi(K,he,Ne,Fe){var Ke=K[he+0],Je=K[he+Ne];return hl[255+K[he-2*Ne]-K[he-Ne]]>Fe||hl[255+Je-Ke]>Fe}function Xo(K,he,Ne,Fe){return 4*hl[255+K[he-Ne]-K[he+0]]+hl[255+K[he-2*Ne]-K[he+Ne]]<=Fe}function Ca(K,he,Ne,Fe,Ke){var Je=K[he-3*Ne],et=K[he-2*Ne],ot=K[he-Ne],ct=K[he+0],Ct=K[he+Ne],Qt=K[he+2*Ne],xr=K[he+3*Ne];return 4*hl[255+ot-ct]+hl[255+et-Ct]>Fe?0:hl[255+K[he-4*Ne]-Je]<=Ke&&hl[255+Je-et]<=Ke&&hl[255+et-ot]<=Ke&&hl[255+xr-Qt]<=Ke&&hl[255+Qt-Ct]<=Ke&&hl[255+Ct-ct]<=Ke}function Ia(K,he,Ne,Fe){var Ke=2*Fe+1;for(Fe=0;16>Fe;++Fe)Xo(K,he+Fe,Ne,Ke)&&Ci(K,he+Fe,Ne)}function Cl(K,he,Ne,Fe){var Ke=2*Fe+1;for(Fe=0;16>Fe;++Fe)Xo(K,he+Fe*Ne,1,Ke)&&Ci(K,he+Fe*Ne,1)}function Vl(K,he,Ne,Fe){var Ke;for(Ke=3;0<Ke;--Ke)Ia(K,he+=4*Ne,Ne,Fe)}function co(K,he,Ne,Fe){var Ke;for(Ke=3;0<Ke;--Ke)Cl(K,he+=4,Ne,Fe)}function cl(K,he,Ne,Fe,Ke,Je,et,ot){for(Je=2*Je+1;0<Ke--;){if(Ca(K,he,Ne,Je,et))if(qi(K,he,Ne,ot))Ci(K,he,Ne);else{var ct=K,Ct=he,Qt=Ne,xr=ct[Ct-2*Qt],jt=ct[Ct-Qt],Kt=ct[Ct+0],dr=ct[Ct+Qt],zr=ct[Ct+2*Qt],yr=27*(Kr=Ml[1020+3*(Kt-jt)+Ml[1020+xr-dr]])+63>>7,Gr=18*Kr+63>>7,Kr=9*Kr+63>>7;ct[Ct-3*Qt]=No[255+ct[Ct-3*Qt]+Kr],ct[Ct-2*Qt]=No[255+xr+Gr],ct[Ct-Qt]=No[255+jt+yr],ct[Ct+0]=No[255+Kt-yr],ct[Ct+Qt]=No[255+dr-Gr],ct[Ct+2*Qt]=No[255+zr-Kr]}he+=Fe}}function kl(K,he,Ne,Fe,Ke,Je,et,ot){for(Je=2*Je+1;0<Ke--;){if(Ca(K,he,Ne,Je,et))if(qi(K,he,Ne,ot))Ci(K,he,Ne);else{var ct=K,Ct=he,Qt=Ne,xr=ct[Ct-Qt],jt=ct[Ct+0],Kt=ct[Ct+Qt],dr=Jo[112+(4+(zr=3*(jt-xr))>>3)],zr=Jo[112+(zr+3>>3)],yr=dr+1>>1;ct[Ct-2*Qt]=No[255+ct[Ct-2*Qt]+yr],ct[Ct-Qt]=No[255+xr+zr],ct[Ct+0]=No[255+jt-dr],ct[Ct+Qt]=No[255+Kt-yr]}he+=Fe}}function Zc(K,he,Ne,Fe,Ke,Je){cl(K,he,Ne,1,16,Fe,Ke,Je)}function Bl(K,he,Ne,Fe,Ke,Je){cl(K,he,1,Ne,16,Fe,Ke,Je)}function eu(K,he,Ne,Fe,Ke,Je){var et;for(et=3;0<et;--et)kl(K,he+=4*Ne,Ne,1,16,Fe,Ke,Je)}function Ce(K,he,Ne,Fe,Ke,Je){var et;for(et=3;0<et;--et)kl(K,he+=4,1,Ne,16,Fe,Ke,Je)}function Ge(K,he,Ne,Fe,Ke,Je,et,ot){cl(K,he,Ke,1,8,Je,et,ot),cl(Ne,Fe,Ke,1,8,Je,et,ot)}function _t(K,he,Ne,Fe,Ke,Je,et,ot){cl(K,he,1,Ke,8,Je,et,ot),cl(Ne,Fe,1,Ke,8,Je,et,ot)}function Ht(K,he,Ne,Fe,Ke,Je,et,ot){kl(K,he+4*Ke,Ke,1,8,Je,et,ot),kl(Ne,Fe+4*Ke,Ke,1,8,Je,et,ot)}function cr(K,he,Ne,Fe,Ke,Je,et,ot){kl(K,he+4,1,Ke,8,Je,et,ot),kl(Ne,Fe+4,1,Ke,8,Je,et,ot)}function Ur(){this.ba=new pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ai,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ns(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cs(){this.ua=0,this.Wa=new Is,this.vb=new Is,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new jr,this.yc=new $t}function Fs(){this.xb=this.a=0,this.l=new pc,this.ca=new pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Tt,this.Pb=0,this.wd=new Tt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cs,this.ab=0,this.gc=Be(4,ns),this.Oc=0}function Rs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zs(K,he,Ne,Fe,Ke,Je,et){for(K=K==null?0:K[he+0],he=0;he<et;++he)Ke[Je+he]=K+Ne[Fe+he]&255,K=Ke[Je+he]}function ta(K,he,Ne,Fe,Ke,Je,et){var ot;if(K==null)Zs(null,null,Ne,Fe,Ke,Je,et);else for(ot=0;ot<et;++ot)Ke[Je+ot]=K[he+ot]+Ne[Fe+ot]&255}function na(K,he,Ne,Fe,Ke,Je,et){if(K==null)Zs(null,null,Ne,Fe,Ke,Je,et);else{var ot,ct=K[he+0],Ct=ct,Qt=ct;for(ot=0;ot<et;++ot)Ct=Qt+(ct=K[he+ot])-Ct,Qt=Ne[Fe+ot]+(-256&Ct?0>Ct?0:255:Ct)&255,Ct=ct,Ke[Je+ot]=Qt}}function Ii(K,he,Ne,Fe){var Ke=he.width,Je=he.o;if(U(K!=null&&he!=null),0>Ne||0>=Fe||Ne+Fe>Je)return null;if(!K.Cc){if(K.ga==null){var et;if(K.ga=new Rs,(et=K.ga==null)||(et=he.width*he.o,U(K.Gb.length==0),K.Gb=we(et),K.Uc=0,K.Gb==null?et=0:(K.mb=K.Gb,K.nb=K.Uc,K.rc=null,et=1),et=!et),!et){et=K.ga;var ot=K.Fa,ct=K.P,Ct=K.qc,Qt=K.mb,xr=K.nb,jt=ct+1,Kt=Ct-1,dr=et.l;if(U(ot!=null&&Qt!=null&&he!=null),ho[0]=null,ho[1]=Zs,ho[2]=ta,ho[3]=na,et.ca=Qt,et.tb=xr,et.c=he.width,et.i=he.height,U(0<et.c&&0<et.i),1>=Ct)he=0;else if(et.$a=3&ot[ct+0],et.Z=ot[ct+0]>>2&3,et.Lc=ot[ct+0]>>4&3,ct=ot[ct+0]>>6&3,0>et.$a||1<et.$a||4<=et.Z||1<et.Lc||ct)he=0;else if(dr.put=Ms,dr.ac=yl,dr.bc=Sa,dr.ma=et,dr.width=he.width,dr.height=he.height,dr.Da=he.Da,dr.v=he.v,dr.va=he.va,dr.j=he.j,dr.o=he.o,et.$a)e:{U(et.$a==1),he=Qo();t:for(;;){if(he==null){he=0;break e}if(U(et!=null),et.mc=he,he.c=et.c,he.i=et.i,he.l=et.l,he.l.ma=et,he.l.width=et.c,he.l.height=et.i,he.a=0,Ir(he.m,ot,jt,Kt),!go(et.c,et.i,1,he,null)||(he.ab==1&&he.gc[0].hc==3&&So(he.s)?(et.ic=1,ot=he.c*he.i,he.Ta=null,he.Ua=0,he.V=we(ot),he.Ba=0,he.V==null?(he.a=1,he=0):he=1):(et.ic=0,he=lo(he,et.c)),!he))break t;he=1;break e}et.mc=null,he=0}else he=Kt>=et.c*et.i;et=!he}if(et)return null;K.ga.Lc!=1?K.Ga=0:Fe=Je-Ne}U(K.ga!=null),U(Ne+Fe<=Je);e:{if(he=(ot=K.ga).c,Je=ot.l.o,ot.$a==0){if(jt=K.rc,Kt=K.Vc,dr=K.Fa,ct=K.P+1+Ne*he,Ct=K.mb,Qt=K.nb+Ne*he,U(ct<=K.P+K.qc),ot.Z!=0)for(U(ho[ot.Z]!=null),et=0;et<Fe;++et)ho[ot.Z](jt,Kt,dr,ct,Ct,Qt,he),jt=Ct,Kt=Qt,Qt+=he,ct+=he;else for(et=0;et<Fe;++et)ae(Ct,Qt,dr,ct,he),jt=Ct,Kt=Qt,Qt+=he,ct+=he;K.rc=jt,K.Vc=Kt}else{if(U(ot.mc!=null),he=Ne+Fe,U((et=ot.mc)!=null),U(he<=et.i),et.C>=he)he=1;else if(ot.ic||rt(),ot.ic){ot=et.V,jt=et.Ba,Kt=et.c;var zr=et.i,yr=(dr=1,ct=et.$/Kt,Ct=et.$%Kt,Qt=et.m,xr=et.s,et.$),Gr=Kt*zr,Kr=Kt*he,yn=xr.wc,Wr=yr<Kr?Ya(xr,Ct,ct):null;U(yr<=Gr),U(he<=zr),U(So(xr));t:for(;;){for(;!Qt.h&&yr<Kr;){if(Ct&yn||(Wr=Ya(xr,Ct,ct)),U(Wr!=null),mr(Qt),256>(zr=ea(Wr.G[0],Wr.H[0],Qt)))ot[jt+yr]=zr,++yr,++Ct>=Kt&&(Ct=0,++ct<=he&&!(ct%16)&&nl(et,ct));else{if(!(280>zr)){dr=0;break t}zr=zo(zr-256,Qt);var bs,is=ea(Wr.G[4],Wr.H[4],Qt);if(mr(Qt),!(yr>=(is=Ba(Kt,is=zo(is,Qt)))&&Gr-yr>=zr)){dr=0;break t}for(bs=0;bs<zr;++bs)ot[jt+yr+bs]=ot[jt+yr+bs-is];for(yr+=zr,Ct+=zr;Ct>=Kt;)Ct-=Kt,++ct<=he&&!(ct%16)&&nl(et,ct);yr<Kr&&Ct&yn&&(Wr=Ya(xr,Ct,ct))}U(Qt.h==er(Qt))}nl(et,ct>he?he:ct);break t}!dr||Qt.h&&yr<Gr?(dr=0,et.a=Qt.h?5:3):et.$=yr,he=dr}else he=Ga(et,et.V,et.Ba,et.c,et.i,he,sl);if(!he){Fe=0;break e}}Ne+Fe>=Je&&(K.Cc=1),Fe=1}if(!Fe)return null;if(K.Cc&&((Fe=K.ga)!=null&&(Fe.mc=null),K.ga=null,0<K.Ga))return alert("todo:WebPDequantizeLevels"),null}return K.nb+Ne*Ke}function ga(K,he,Ne,Fe,Ke,Je){for(;0<Ke--;){var et,ot=K,ct=he+(Ne?1:0),Ct=K,Qt=he+(Ne?0:3);for(et=0;et<Fe;++et){var xr=Ct[Qt+4*et];xr!=255&&(xr*=32897,ot[ct+4*et+0]=ot[ct+4*et+0]*xr>>23,ot[ct+4*et+1]=ot[ct+4*et+1]*xr>>23,ot[ct+4*et+2]=ot[ct+4*et+2]*xr>>23)}he+=Je}}function G(K,he,Ne,Fe,Ke){for(;0<Fe--;){var Je;for(Je=0;Je<Ne;++Je){var et=K[he+2*Je+0],ot=15&(Ct=K[he+2*Je+1]),ct=4369*ot,Ct=(240&Ct|Ct>>4)*ct>>16;K[he+2*Je+0]=(240&et|et>>4)*ct>>16&240|(15&et|et<<4)*ct>>16>>4&15,K[he+2*Je+1]=240&Ct|ot}he+=Ke}}function Ue(K,he,Ne,Fe,Ke,Je,et,ot){var ct,Ct,Qt=255;for(Ct=0;Ct<Ke;++Ct){for(ct=0;ct<Fe;++ct){var xr=K[he+ct];Je[et+4*ct]=xr,Qt&=xr}he+=Ne,et+=ot}return Qt!=255}function ve(K,he,Ne,Fe,Ke){var Je;for(Je=0;Je<Ke;++Je)Ne[Fe+Je]=K[he+Je]>>8}function rt(){Ka=ga,Cu=G,Ro=Ue,Fc=ve}function Et(K,he,Ne){Lt[K]=function(Fe,Ke,Je,et,ot,ct,Ct,Qt,xr,jt,Kt,dr,zr,yr,Gr,Kr,yn){var Wr,bs=yn-1>>1,is=ot[ct+0]|Ct[Qt+0]<<16,ci=xr[jt+0]|Kt[dr+0]<<16;U(Fe!=null);var Yn=3*is+ci+131074>>2;for(he(Fe[Ke+0],255&Yn,Yn>>16,zr,yr),Je!=null&&(Yn=3*ci+is+131074>>2,he(Je[et+0],255&Yn,Yn>>16,Gr,Kr)),Wr=1;Wr<=bs;++Wr){var Ui=ot[ct+Wr]|Ct[Qt+Wr]<<16,Un=xr[jt+Wr]|Kt[dr+Wr]<<16,ii=is+Ui+ci+Un+524296,ds=ii+2*(Ui+ci)>>3;Yn=ds+is>>1,is=(ii=ii+2*(is+Un)>>3)+Ui>>1,he(Fe[Ke+2*Wr-1],255&Yn,Yn>>16,zr,yr+(2*Wr-1)*Ne),he(Fe[Ke+2*Wr-0],255&is,is>>16,zr,yr+(2*Wr-0)*Ne),Je!=null&&(Yn=ii+ci>>1,is=ds+Un>>1,he(Je[et+2*Wr-1],255&Yn,Yn>>16,Gr,Kr+(2*Wr-1)*Ne),he(Je[et+2*Wr+0],255&is,is>>16,Gr,Kr+(2*Wr+0)*Ne)),is=Ui,ci=Un}1&yn||(Yn=3*is+ci+131074>>2,he(Fe[Ke+yn-1],255&Yn,Yn>>16,zr,yr+(yn-1)*Ne),Je!=null&&(Yn=3*ci+is+131074>>2,he(Je[et+yn-1],255&Yn,Yn>>16,Gr,Kr+(yn-1)*Ne)))}}function gt(){pl[ru]=su,pl[_u]=qu,pl[Ru]=Ad,pl[hu]=md,pl[Za]=Wu,pl[Lc]=$c,pl[cd]=Uc,pl[zu]=qu,pl[Tu]=md,pl[oc]=Wu,pl[Qu]=$c}function pr(K){return K&-16384?0>K?0:255:K>>Nd}function rr(K,he){return pr((19077*K>>8)+(26149*he>>8)-14234)}function rs(K,he,Ne){return pr((19077*K>>8)-(6419*he>>8)-(13320*Ne>>8)+8708)}function zt(K,he){return pr((19077*K>>8)+(33050*he>>8)-17685)}function wr(K,he,Ne,Fe,Ke){Fe[Ke+0]=rr(K,Ne),Fe[Ke+1]=rs(K,he,Ne),Fe[Ke+2]=zt(K,he)}function Ls(K,he,Ne,Fe,Ke){Fe[Ke+0]=zt(K,he),Fe[Ke+1]=rs(K,he,Ne),Fe[Ke+2]=rr(K,Ne)}function Qn(K,he,Ne,Fe,Ke){var Je=rs(K,he,Ne);he=Je<<3&224|zt(K,he)>>3,Fe[Ke+0]=248&rr(K,Ne)|Je>>5,Fe[Ke+1]=he}function An(K,he,Ne,Fe,Ke){var Je=240&zt(K,he)|15;Fe[Ke+0]=240&rr(K,Ne)|rs(K,he,Ne)>>4,Fe[Ke+1]=Je}function Hr(K,he,Ne,Fe,Ke){Fe[Ke+0]=255,wr(K,he,Ne,Fe,Ke+1)}function sa(K,he,Ne,Fe,Ke){Ls(K,he,Ne,Fe,Ke),Fe[Ke+3]=255}function Us(K,he,Ne,Fe,Ke){wr(K,he,Ne,Fe,Ke),Fe[Ke+3]=255}function Ts(K,he,Ne){Lt[K]=function(Fe,Ke,Je,et,ot,ct,Ct,Qt,xr){for(var jt=Qt+(-2&xr)*Ne;Qt!=jt;)he(Fe[Ke+0],Je[et+0],ot[ct+0],Ct,Qt),he(Fe[Ke+1],Je[et+0],ot[ct+0],Ct,Qt+Ne),Ke+=2,++et,++ct,Qt+=2*Ne;1&xr&&he(Fe[Ke+0],Je[et+0],ot[ct+0],Ct,Qt)}}function Qs(K,he,Ne){return Ne==0?K==0?he==0?6:5:he==0?4:0:Ne}function hi(K,he,Ne,Fe,Ke){switch(K>>>30){case 3:Lo(he,Ne,Fe,Ke,0);break;case 2:fo(he,Ne,Fe,Ke);break;case 1:Ri(he,Ne,Fe,Ke)}}function Ln(K,he){var Ne,Fe,Ke=he.M,Je=he.Nb,et=K.oc,ot=K.pc+40,ct=K.oc,Ct=K.pc+584,Qt=K.oc,xr=K.pc+600;for(Ne=0;16>Ne;++Ne)et[ot+32*Ne-1]=129;for(Ne=0;8>Ne;++Ne)ct[Ct+32*Ne-1]=129,Qt[xr+32*Ne-1]=129;for(0<Ke?et[ot-1-32]=ct[Ct-1-32]=Qt[xr-1-32]=129:(me(et,ot-32-1,127,21),me(ct,Ct-32-1,127,9),me(Qt,xr-32-1,127,9)),Fe=0;Fe<K.za;++Fe){var jt=he.ya[he.aa+Fe];if(0<Fe){for(Ne=-1;16>Ne;++Ne)ae(et,ot+32*Ne-4,et,ot+32*Ne+12,4);for(Ne=-1;8>Ne;++Ne)ae(ct,Ct+32*Ne-4,ct,Ct+32*Ne+4,4),ae(Qt,xr+32*Ne-4,Qt,xr+32*Ne+4,4)}var Kt=K.Gd,dr=K.Hd+Fe,zr=jt.ad,yr=jt.Hc;if(0<Ke&&(ae(et,ot-32,Kt[dr].y,0,16),ae(ct,Ct-32,Kt[dr].f,0,8),ae(Qt,xr-32,Kt[dr].ea,0,8)),jt.Za){var Gr=et,Kr=ot-32+16;for(0<Ke&&(Fe>=K.za-1?me(Gr,Kr,Kt[dr].y[15],4):ae(Gr,Kr,Kt[dr+1].y,0,4)),Ne=0;4>Ne;Ne++)Gr[Kr+128+Ne]=Gr[Kr+256+Ne]=Gr[Kr+384+Ne]=Gr[Kr+0+Ne];for(Ne=0;16>Ne;++Ne,yr<<=2)Gr=et,Kr=ot+Ju[Ne],Zo[jt.Ob[Ne]](Gr,Kr),hi(yr,zr,16*+Ne,Gr,Kr)}else if(Gr=Qs(Fe,Ke,jt.Ob[0]),vc[Gr](et,ot),yr!=0)for(Ne=0;16>Ne;++Ne,yr<<=2)hi(yr,zr,16*+Ne,et,ot+Ju[Ne]);for(Ne=jt.Gc,Gr=Qs(Fe,Ke,jt.Dd),Wl[Gr](ct,Ct),Wl[Gr](Qt,xr),yr=zr,Gr=ct,Kr=Ct,255&(jt=0|Ne)&&(170&jt?fl(yr,256,Gr,Kr):ia(yr,256,Gr,Kr)),jt=Qt,yr=xr,255&(Ne>>=8)&&(170&Ne?fl(zr,320,jt,yr):ia(zr,320,jt,yr)),Ke<K.Ub-1&&(ae(Kt[dr].y,0,et,ot+480,16),ae(Kt[dr].f,0,ct,Ct+224,8),ae(Kt[dr].ea,0,Qt,xr+224,8)),Ne=8*Je*K.B,Kt=K.sa,dr=K.ta+16*Fe+16*Je*K.R,zr=K.qa,jt=K.ra+8*Fe+Ne,yr=K.Ha,Gr=K.Ia+8*Fe+Ne,Ne=0;16>Ne;++Ne)ae(Kt,dr+Ne*K.R,et,ot+32*Ne,16);for(Ne=0;8>Ne;++Ne)ae(zr,jt+Ne*K.B,ct,Ct+32*Ne,8),ae(yr,Gr+Ne*K.B,Qt,xr+32*Ne,8)}}function qs(K,he,Ne,Fe,Ke,Je,et,ot,ct){var Ct=[0],Qt=[0],xr=0,jt=ct!=null?ct.kd:0,Kt=ct??new nn;if(K==null||12>Ne)return 7;Kt.data=K,Kt.w=he,Kt.ha=Ne,he=[he],Ne=[Ne],Kt.gb=[Kt.gb];e:{var dr=he,zr=Ne,yr=Kt.gb;if(U(K!=null),U(zr!=null),U(yr!=null),yr[0]=0,12<=zr[0]&&!W(K,dr[0],"RIFF")){if(W(K,dr[0]+8,"WEBP")){yr=3;break e}var Gr=ws(K,dr[0]+4);if(12>Gr||4294967286<Gr){yr=3;break e}if(jt&&Gr>zr[0]-8){yr=7;break e}yr[0]=Gr,dr[0]+=12,zr[0]-=12}yr=0}if(yr!=0)return yr;for(Gr=0<Kt.gb[0],Ne=Ne[0];;){e:{var Kr=K;zr=he,yr=Ne;var yn=Ct,Wr=Qt,bs=dr=[0];if((Yn=xr=[xr])[0]=0,8>yr[0])yr=7;else{if(!W(Kr,zr[0],"VP8X")){if(ws(Kr,zr[0]+4)!=10){yr=3;break e}if(18>yr[0]){yr=7;break e}var is=ws(Kr,zr[0]+8),ci=1+ts(Kr,zr[0]+12);if(2147483648<=ci*(Kr=1+ts(Kr,zr[0]+15))){yr=3;break e}bs!=null&&(bs[0]=is),yn!=null&&(yn[0]=ci),Wr!=null&&(Wr[0]=Kr),zr[0]+=18,yr[0]-=18,Yn[0]=1}yr=0}}if(xr=xr[0],dr=dr[0],yr!=0)return yr;if(zr=!!(2&dr),!Gr&&xr)return 3;if(Je!=null&&(Je[0]=!!(16&dr)),et!=null&&(et[0]=zr),ot!=null&&(ot[0]=0),et=Ct[0],dr=Qt[0],xr&&zr&&ct==null){yr=0;break}if(4>Ne){yr=7;break}if(Gr&&xr||!Gr&&!xr&&!W(K,he[0],"ALPH")){Ne=[Ne],Kt.na=[Kt.na],Kt.P=[Kt.P],Kt.Sa=[Kt.Sa];e:{is=K,yr=he,Gr=Ne;var Yn=Kt.gb;yn=Kt.na,Wr=Kt.P,bs=Kt.Sa,ci=22,U(is!=null),U(Gr!=null),Kr=yr[0];var Ui=Gr[0];for(U(yn!=null),U(bs!=null),yn[0]=null,Wr[0]=null,bs[0]=0;;){if(yr[0]=Kr,Gr[0]=Ui,8>Ui){yr=7;break e}var Un=ws(is,Kr+4);if(4294967286<Un){yr=3;break e}var ii=8+Un+1&-2;if(ci+=ii,0<Yn&&ci>Yn){yr=3;break e}if(!W(is,Kr,"VP8 ")||!W(is,Kr,"VP8L")){yr=0;break e}if(Ui[0]<ii){yr=7;break e}W(is,Kr,"ALPH")||(yn[0]=is,Wr[0]=Kr+8,bs[0]=Un),Kr+=ii,Ui-=ii}}if(Ne=Ne[0],Kt.na=Kt.na[0],Kt.P=Kt.P[0],Kt.Sa=Kt.Sa[0],yr!=0)break}Ne=[Ne],Kt.Ja=[Kt.Ja],Kt.xa=[Kt.xa];e:if(Yn=K,yr=he,Gr=Ne,yn=Kt.gb[0],Wr=Kt.Ja,bs=Kt.xa,is=yr[0],Kr=!W(Yn,is,"VP8 "),ci=!W(Yn,is,"VP8L"),U(Yn!=null),U(Gr!=null),U(Wr!=null),U(bs!=null),8>Gr[0])yr=7;else{if(Kr||ci){if(Yn=ws(Yn,is+4),12<=yn&&Yn>yn-12){yr=3;break e}if(jt&&Yn>Gr[0]-8){yr=7;break e}Wr[0]=Yn,yr[0]+=8,Gr[0]-=8,bs[0]=ci}else bs[0]=5<=Gr[0]&&Yn[is+0]==47&&!(Yn[is+4]>>5),Wr[0]=Gr[0];yr=0}if(Ne=Ne[0],Kt.Ja=Kt.Ja[0],Kt.xa=Kt.xa[0],he=he[0],yr!=0)break;if(4294967286<Kt.Ja)return 3;if(ot==null||zr||(ot[0]=Kt.xa?2:1),et=[et],dr=[dr],Kt.xa){if(5>Ne){yr=7;break}ot=et,jt=dr,zr=Je,K==null||5>Ne?K=0:5<=Ne&&K[he+0]==47&&!(K[he+4]>>5)?(Gr=[0],Yn=[0],yn=[0],Ir(Wr=new Tt,K,he,Ne),ro(Wr,Gr,Yn,yn)?(ot!=null&&(ot[0]=Gr[0]),jt!=null&&(jt[0]=Yn[0]),zr!=null&&(zr[0]=yn[0]),K=1):K=0):K=0}else{if(10>Ne){yr=7;break}ot=dr,K==null||10>Ne||!Rc(K,he+3,Ne-3)?K=0:(jt=K[he+0]|K[he+1]<<8|K[he+2]<<16,zr=16383&(K[he+7]<<8|K[he+6]),K=16383&(K[he+9]<<8|K[he+8]),1&jt||3<(jt>>1&7)||!(jt>>4&1)||jt>>5>=Kt.Ja||!zr||!K?K=0:(et&&(et[0]=zr),ot&&(ot[0]=K),K=1))}if(!K||(et=et[0],dr=dr[0],xr&&(Ct[0]!=et||Qt[0]!=dr)))return 3;ct!=null&&(ct[0]=Kt,ct.offset=he-ct.w,U(4294967286>he-ct.w),U(ct.offset==ct.ha-Ne));break}return yr==0||yr==7&&xr&&ct==null?(Je!=null&&(Je[0]|=Kt.na!=null&&0<Kt.na.length),Fe!=null&&(Fe[0]=et),Ke!=null&&(Ke[0]=dr),0):yr}function ha(K,he,Ne){var Fe=he.width,Ke=he.height,Je=0,et=0,ot=Fe,ct=Ke;if(he.Da=K!=null&&0<K.Da,he.Da&&(ot=K.cd,ct=K.bd,Je=K.v,et=K.j,11>Ne||(Je&=-2,et&=-2),0>Je||0>et||0>=ot||0>=ct||Je+ot>Fe||et+ct>Ke))return 0;if(he.v=Je,he.j=et,he.va=Je+ot,he.o=et+ct,he.U=ot,he.T=ct,he.da=K!=null&&0<K.da,he.da){if(!dt(ot,ct,Ne=[K.ib],Je=[K.hb]))return 0;he.ib=Ne[0],he.hb=Je[0]}return he.ob=K!=null&&K.ob,he.Kb=K==null||!K.Sd,he.da&&(he.ob=he.ib<3*Fe/4&&he.hb<3*Ke/4,he.Kb=0),1}function ys(K){if(K==null)return 2;if(11>K.S){var he=K.f.RGBA;he.fb+=(K.height-1)*he.A,he.A=-he.A}else he=K.f.kb,K=K.height,he.O+=(K-1)*he.fa,he.fa=-he.fa,he.N+=(K-1>>1)*he.Ab,he.Ab=-he.Ab,he.W+=(K-1>>1)*he.Db,he.Db=-he.Db,he.F!=null&&(he.J+=(K-1)*he.lb,he.lb=-he.lb);return 0}function Ei(K,he,Ne,Fe){if(Fe==null||0>=K||0>=he)return 2;if(Ne!=null){if(Ne.Da){var Ke=Ne.cd,Je=Ne.bd,et=-2&Ne.v,ot=-2&Ne.j;if(0>et||0>ot||0>=Ke||0>=Je||et+Ke>K||ot+Je>he)return 2;K=Ke,he=Je}if(Ne.da){if(!dt(K,he,Ke=[Ne.ib],Je=[Ne.hb]))return 2;K=Ke[0],he=Je[0]}}Fe.width=K,Fe.height=he;e:{var ct=Fe.width,Ct=Fe.height;if(K=Fe.S,0>=ct||0>=Ct||!(K>=ru&&13>K))K=2;else{if(0>=Fe.Rd&&Fe.sd==null){et=Je=Ke=he=0;var Qt=(ot=ct*Zu[K])*Ct;if(11>K||(Je=(Ct+1)/2*(he=(ct+1)/2),K==12&&(et=(Ke=ct)*Ct)),(Ct=we(Qt+2*Je+et))==null){K=1;break e}Fe.sd=Ct,11>K?((ct=Fe.f.RGBA).eb=Ct,ct.fb=0,ct.A=ot,ct.size=Qt):((ct=Fe.f.kb).y=Ct,ct.O=0,ct.fa=ot,ct.Fd=Qt,ct.f=Ct,ct.N=0+Qt,ct.Ab=he,ct.Cd=Je,ct.ea=Ct,ct.W=0+Qt+Je,ct.Db=he,ct.Ed=Je,K==12&&(ct.F=Ct,ct.J=0+Qt+2*Je),ct.Tc=et,ct.lb=Ke)}if(he=1,Ke=Fe.S,Je=Fe.width,et=Fe.height,Ke>=ru&&13>Ke)if(11>Ke)K=Fe.f.RGBA,he&=(ot=Math.abs(K.A))*(et-1)+Je<=K.size,he&=ot>=Je*Zu[Ke],he&=K.eb!=null;else{K=Fe.f.kb,ot=(Je+1)/2,Qt=(et+1)/2,ct=Math.abs(K.fa),Ct=Math.abs(K.Ab);var xr=Math.abs(K.Db),jt=Math.abs(K.lb),Kt=jt*(et-1)+Je;he&=ct*(et-1)+Je<=K.Fd,he&=Ct*(Qt-1)+ot<=K.Cd,he=(he&=xr*(Qt-1)+ot<=K.Ed)&ct>=Je&Ct>=ot&xr>=ot,he&=K.y!=null,he&=K.f!=null,he&=K.ea!=null,Ke==12&&(he&=jt>=Je,he&=Kt<=K.Tc,he&=K.F!=null)}else he=0;K=he?0:2}}return K!=0||Ne!=null&&Ne.fd&&(K=ys(Fe)),K}var ei=64,us=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Os=24,so=32,ul=8,uo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xt("Predictor0","PredictorAdd0"),Lt.Predictor0=function(){return 4278190080},Lt.Predictor1=function(K){return K},Lt.Predictor2=function(K,he,Ne){return he[Ne+0]},Lt.Predictor3=function(K,he,Ne){return he[Ne+1]},Lt.Predictor4=function(K,he,Ne){return he[Ne-1]},Lt.Predictor5=function(K,he,Ne){return Lr(Lr(K,he[Ne+1]),he[Ne+0])},Lt.Predictor6=function(K,he,Ne){return Lr(K,he[Ne-1])},Lt.Predictor7=function(K,he,Ne){return Lr(K,he[Ne+0])},Lt.Predictor8=function(K,he,Ne){return Lr(he[Ne-1],he[Ne+0])},Lt.Predictor9=function(K,he,Ne){return Lr(he[Ne+0],he[Ne+1])},Lt.Predictor10=function(K,he,Ne){return Lr(Lr(K,he[Ne-1]),Lr(he[Ne+0],he[Ne+1]))},Lt.Predictor11=function(K,he,Ne){var Fe=he[Ne+0];return 0>=fr(Fe>>24&255,K>>24&255,(he=he[Ne-1])>>24&255)+fr(Fe>>16&255,K>>16&255,he>>16&255)+fr(Fe>>8&255,K>>8&255,he>>8&255)+fr(255&Fe,255&K,255&he)?Fe:K},Lt.Predictor12=function(K,he,Ne){var Fe=he[Ne+0];return(fn((K>>24&255)+(Fe>>24&255)-((he=he[Ne-1])>>24&255))<<24|fn((K>>16&255)+(Fe>>16&255)-(he>>16&255))<<16|fn((K>>8&255)+(Fe>>8&255)-(he>>8&255))<<8|fn((255&K)+(255&Fe)-(255&he)))>>>0},Lt.Predictor13=function(K,he,Ne){var Fe=he[Ne-1];return(dn((K=Lr(K,he[Ne+0]))>>24&255,Fe>>24&255)<<24|dn(K>>16&255,Fe>>16&255)<<16|dn(K>>8&255,Fe>>8&255)<<8|dn(255&K,255&Fe))>>>0};var Xa=Lt.PredictorAdd0;Lt.PredictorAdd1=xn,Xt("Predictor2","PredictorAdd2"),Xt("Predictor3","PredictorAdd3"),Xt("Predictor4","PredictorAdd4"),Xt("Predictor5","PredictorAdd5"),Xt("Predictor6","PredictorAdd6"),Xt("Predictor7","PredictorAdd7"),Xt("Predictor8","PredictorAdd8"),Xt("Predictor9","PredictorAdd9"),Xt("Predictor10","PredictorAdd10"),Xt("Predictor11","PredictorAdd11"),Xt("Predictor12","PredictorAdd12"),Xt("Predictor13","PredictorAdd13");var dl=Lt.PredictorAdd2;Fn("ColorIndexInverseTransform","MapARGB","32b",function(K){return K>>8&255},function(K){return K}),Fn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(K){return K},function(K){return K>>8&255});var Da,Eu=Lt.ColorIndexInverseTransform,bo=Lt.MapARGB,_o=Lt.VP8LColorIndexInverseTransformAlpha,tu=Lt.MapAlpha,du=Lt.VP8LPredictorsAdd=[];du.length=16,(Lt.VP8LPredictors=[]).length=16,(Lt.VP8LPredictorsAdd_C=[]).length=16,(Lt.VP8LPredictors_C=[]).length=16;var _l,Il,Ol,gc,Gl,Oc,Rl,Lo,fo,fl,Ri,ia,xa,Ja,Kl,pa,ql,Mc,ju,fu,Su,xc,_a,io,Ka,Cu,Ro,Fc,Sd=we(511),To=we(2041),Du=we(225),Uu=we(767),Hu=0,Ml=To,Jo=Du,No=Uu,hl=Sd,ru=0,_u=1,Ru=2,hu=3,Za=4,Lc=5,cd=6,zu=7,Tu=8,oc=9,Qu=10,Vu=[2,3,7],Gu=[3,3,11],ud=[280,256,256,256,40],dd=[0,1,1,1,0],Cd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_d=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fd=8,pu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nu=null,Ku=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],kd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ku=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vc=[],Zo=[],Wl=[],Td=1,pd=2,ho=[],pl=[];Et("UpsampleRgbLinePair",wr,3),Et("UpsampleBgrLinePair",Ls,3),Et("UpsampleRgbaLinePair",Us,4),Et("UpsampleBgraLinePair",sa,4),Et("UpsampleArgbLinePair",Hr,4),Et("UpsampleRgba4444LinePair",An,2),Et("UpsampleRgb565LinePair",Qn,2);var su=Lt.UpsampleRgbLinePair,Ad=Lt.UpsampleBgrLinePair,qu=Lt.UpsampleRgbaLinePair,md=Lt.UpsampleBgraLinePair,Wu=Lt.UpsampleArgbLinePair,$c=Lt.UpsampleRgba4444LinePair,Uc=Lt.UpsampleRgb565LinePair,Hc=16,iu=1<<Hc-1,Au=-227,Yu=482,Nd=6,gd=0,xd=we(256),vd=we(256),el=we(256),$o=we(256),Xu=we(Yu-Au),yd=we(Yu-Au);Ts("YuvToRgbRow",wr,3),Ts("YuvToBgrRow",Ls,3),Ts("YuvToRgbaRow",Us,4),Ts("YuvToBgraRow",sa,4),Ts("YuvToArgbRow",Hr,4),Ts("YuvToRgba4444Row",An,2),Ts("YuvToRgb565Row",Qn,2);var Ju=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bu=[0,2,8],Iu=[8,7,6,4,4,2,2,2,1,1,1,1],mu=1;this.WebPDecodeRGBA=function(K,he,Ne,Fe,Ke){var Je=_u,et=new Ur,ot=new pn;et.ba=ot,ot.S=Je,ot.width=[ot.width],ot.height=[ot.height];var ct=ot.width,Ct=ot.height,Qt=new In;if(Qt==null||K==null)var xr=2;else U(Qt!=null),xr=qs(K,he,Ne,Qt.width,Qt.height,Qt.Pd,Qt.Qd,Qt.format,null);if(xr!=0?ct=0:(ct!=null&&(ct[0]=Qt.width[0]),Ct!=null&&(Ct[0]=Qt.height[0]),ct=1),ct){ot.width=ot.width[0],ot.height=ot.height[0],Fe!=null&&(Fe[0]=ot.width),Ke!=null&&(Ke[0]=ot.height);e:{if(Fe=new pc,(Ke=new nn).data=K,Ke.w=he,Ke.ha=Ne,Ke.kd=1,he=[0],U(Ke!=null),((K=qs(Ke.data,Ke.w,Ke.ha,null,null,null,he,null,Ke))==0||K==7)&&he[0]&&(K=4),(he=K)==0){if(U(et!=null),Fe.data=Ke.data,Fe.w=Ke.w+Ke.offset,Fe.ha=Ke.ha-Ke.offset,Fe.put=Ms,Fe.ac=yl,Fe.bc=Sa,Fe.ma=et,Ke.xa){if((K=Qo())==null){et=1;break e}if((function(jt,Kt){var dr=[0],zr=[0],yr=[0];t:for(;;){if(jt==null)return 0;if(Kt==null)return jt.a=2,0;if(jt.l=Kt,jt.a=0,Ir(jt.m,Kt.data,Kt.w,Kt.ha),!ro(jt.m,dr,zr,yr)){jt.a=3;break t}if(jt.xb=pd,Kt.width=dr[0],Kt.height=zr[0],!go(dr[0],zr[0],1,jt,null))break t;return 1}return U(jt.a!=0),0})(K,Fe)){if(Fe=(he=Ei(Fe.width,Fe.height,et.Oa,et.ba))==0){t:{Fe=K;r:for(;;){if(Fe==null){Fe=0;break t}if(U(Fe.s.yc!=null),U(Fe.s.Ya!=null),U(0<Fe.s.Wb),U((Ne=Fe.l)!=null),U((Ke=Ne.ma)!=null),Fe.xb!=0){if(Fe.ca=Ke.ba,Fe.tb=Ke.tb,U(Fe.ca!=null),!ha(Ke.Oa,Ne,hu)){Fe.a=2;break r}if(!lo(Fe,Ne.width)||Ne.da)break r;if((Ne.da||ks(Fe.ca.S))&&rt(),11>Fe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Fe.ca.f.kb.F!=null&&rt()),Fe.Pb&&0<Fe.s.ua&&Fe.s.vb.X==null&&!bt(Fe.s.vb,Fe.s.Wa.Xa)){Fe.a=1;break r}Fe.xb=0}if(!Ga(Fe,Fe.V,Fe.Ba,Fe.c,Fe.i,Ne.o,Va))break r;Ke.Dc=Fe.Ma,Fe=1;break t}U(Fe.a!=0),Fe=0}Fe=!Fe}Fe&&(he=K.a)}else he=K.a}else{if((K=new Zl)==null){et=1;break e}if(K.Fa=Ke.na,K.P=Ke.P,K.qc=Ke.Sa,al(K,Fe)){if((he=Ei(Fe.width,Fe.height,et.Oa,et.ba))==0){if(K.Aa=0,Ne=et.Oa,U((Ke=K)!=null),Ne!=null){if(0<(ct=0>(ct=Ne.Md)?0:100<ct?255:255*ct/100)){for(Ct=Qt=0;4>Ct;++Ct)12>(xr=Ke.pb[Ct]).lc&&(xr.ia=ct*Iu[0>xr.lc?0:xr.lc]>>3),Qt|=xr.ia;Qt&&(alert("todo:VP8InitRandom"),Ke.ia=1)}Ke.Ga=Ne.Id,100<Ke.Ga?Ke.Ga=100:0>Ke.Ga&&(Ke.Ga=0)}(function(jt,Kt){if(jt==null)return 0;if(Kt==null)return Ds(jt,2,"NULL VP8Io parameter in VP8Decode().");if(!jt.cb&&!al(jt,Kt))return 0;if(U(jt.cb),Kt.ac==null||Kt.ac(Kt)){Kt.ob&&(jt.L=0);var dr=Bu[jt.L];if(jt.L==2?(jt.yb=0,jt.zb=0):(jt.yb=Kt.v-dr>>4,jt.zb=Kt.j-dr>>4,0>jt.yb&&(jt.yb=0),0>jt.zb&&(jt.zb=0)),jt.Va=Kt.o+15+dr>>4,jt.Hb=Kt.va+15+dr>>4,jt.Hb>jt.za&&(jt.Hb=jt.za),jt.Va>jt.Ub&&(jt.Va=jt.Ub),0<jt.L){var zr=jt.ed;for(dr=0;4>dr;++dr){var yr;if(jt.Qa.Cb){var Gr=jt.Qa.Lb[dr];jt.Qa.Fb||(Gr+=zr.Tb)}else Gr=zr.Tb;for(yr=0;1>=yr;++yr){var Kr=jt.gd[dr][yr],yn=Gr;if(zr.Pc&&(yn+=zr.vd[0],yr&&(yn+=zr.od[0])),0<(yn=0>yn?0:63<yn?63:yn)){var Wr=yn;0<zr.wb&&(Wr=4<zr.wb?Wr>>2:Wr>>1)>9-zr.wb&&(Wr=9-zr.wb),1>Wr&&(Wr=1),Kr.dd=Wr,Kr.tc=2*yn+Wr,Kr.ld=40<=yn?2:15<=yn?1:0}else Kr.tc=0;Kr.La=yr}}}dr=0}else Ds(jt,6,"Frame setup failed"),dr=jt.a;if(dr=dr==0){if(dr){jt.$c=0,0<jt.Aa||(jt.Ic=mu);t:{dr=jt.Ic,zr=4*(Wr=jt.za);var bs=32*Wr,is=Wr+1,ci=0<jt.L?Wr*(0<jt.Aa?2:1):0,Yn=(jt.Aa==2?2:1)*Wr;if((Kr=zr+832+(yr=3*(16*dr+Bu[jt.L])/2*bs)+(Gr=jt.Fa!=null&&0<jt.Fa.length?jt.Kc.c*jt.Kc.i:0))!=Kr)dr=0;else{if(Kr>jt.Vb){if(jt.Vb=0,jt.Ec=we(Kr),jt.Fc=0,jt.Ec==null){dr=Ds(jt,1,"no memory during frame initialization.");break t}jt.Vb=Kr}Kr=jt.Ec,yn=jt.Fc,jt.Ac=Kr,jt.Bc=yn,yn+=zr,jt.Gd=Be(bs,fc),jt.Hd=0,jt.rb=Be(is+1,Hl),jt.sb=1,jt.wa=ci?Be(ci,xo):null,jt.Y=0,jt.D.Nb=0,jt.D.wa=jt.wa,jt.D.Y=jt.Y,0<jt.Aa&&(jt.D.Y+=Wr),U(!0),jt.oc=Kr,jt.pc=yn,yn+=832,jt.ya=Be(Yn,dc),jt.aa=0,jt.D.ya=jt.ya,jt.D.aa=jt.aa,jt.Aa==2&&(jt.D.aa+=Wr),jt.R=16*Wr,jt.B=8*Wr,Wr=(bs=Bu[jt.L])*jt.R,bs=bs/2*jt.B,jt.sa=Kr,jt.ta=yn+Wr,jt.qa=jt.sa,jt.ra=jt.ta+16*dr*jt.R+bs,jt.Ha=jt.qa,jt.Ia=jt.ra+8*dr*jt.B+bs,jt.$c=0,yn+=yr,jt.mb=Gr?Kr:null,jt.nb=Gr?yn:null,U(yn+Gr<=jt.Fc+jt.Vb),Nc(jt),me(jt.Ac,jt.Bc,0,zr),dr=1}}if(dr){if(Kt.ka=0,Kt.y=jt.sa,Kt.O=jt.ta,Kt.f=jt.qa,Kt.N=jt.ra,Kt.ea=jt.Ha,Kt.Vd=jt.Ia,Kt.fa=jt.R,Kt.Rc=jt.B,Kt.F=null,Kt.J=0,!Hu){for(dr=-255;255>=dr;++dr)Sd[255+dr]=0>dr?-dr:dr;for(dr=-1020;1020>=dr;++dr)To[1020+dr]=-128>dr?-128:127<dr?127:dr;for(dr=-112;112>=dr;++dr)Du[112+dr]=-16>dr?-16:15<dr?15:dr;for(dr=-255;510>=dr;++dr)Uu[255+dr]=0>dr?0:255<dr?255:dr;Hu=1}Rl=kc,Lo=Ac,fl=vo,Ri=Pc,ia=ec,fo=Ko,xa=Zc,Ja=Bl,Kl=Ge,pa=_t,ql=eu,Mc=Ce,ju=Ht,fu=cr,Su=Ia,xc=Cl,_a=Vl,io=co,Zo[0]=jl,Zo[1]=tc,Zo[2]=Pl,Zo[3]=uu,Zo[4]=no,Zo[5]=ol,Zo[6]=Wo,Zo[7]=Jc,Zo[8]=mc,Zo[9]=Mo,vc[0]=bu,vc[1]=nc,vc[2]=sc,vc[3]=Bc,vc[4]=ic,vc[5]=Xc,vc[6]=wu,Wl[0]=Ic,Wl[1]=rc,Wl[2]=yo,Wl[3]=ac,Wl[4]=ll,Wl[5]=Sl,Wl[6]=Yo,dr=1}else dr=0}dr&&(dr=(function(Ui,Un){for(Ui.M=0;Ui.M<Ui.Va;++Ui.M){var ii,ds=Ui.Jc[Ui.M&Ui.Xb],Vn=Ui.m,eo=Ui;for(ii=0;ii<eo.za;++ii){var ti=Vn,Oi=eo,va=Oi.Ac,ao=Oi.Bc+4*ii,wo=Oi.zc,Oa=Oi.ya[Oi.aa+ii];if(Oi.Qa.Bb?Oa.$b=Jr(ti,Oi.Pa.jb[0])?2+Jr(ti,Oi.Pa.jb[2]):Jr(ti,Oi.Pa.jb[1]):Oa.$b=0,Oi.kc&&(Oa.Ad=Jr(ti,Oi.Bd)),Oa.Za=!Jr(ti,145)+0,Oa.Za){var Eo=Oa.Ob,Po=0;for(Oi=0;4>Oi;++Oi){var Fi,di=wo[0+Oi];for(Fi=0;4>Fi;++Fi){di=Bd[va[ao+Fi]][di];for(var Li=hd[Jr(ti,di[0])];0<Li;)Li=hd[2*Li+Jr(ti,di[Li])];di=-Li,va[ao+Fi]=di}ae(Eo,Po,va,ao,4),Po+=4,wo[0+Oi]=di}}else di=Jr(ti,156)?Jr(ti,128)?1:3:Jr(ti,163)?2:0,Oa.Ob[0]=di,me(va,ao,di,4),me(wo,0,di,4);Oa.Dd=Jr(ti,142)?Jr(ti,114)?Jr(ti,183)?1:3:2:0}if(eo.m.Ka)return Ds(Ui,7,"Premature end-of-partition0 encountered.");for(;Ui.ja<Ui.za;++Ui.ja){if(eo=ds,ti=(Vn=Ui).rb[Vn.sb-1],va=Vn.rb[Vn.sb+Vn.ja],ii=Vn.ya[Vn.aa+Vn.ja],ao=Vn.kc?ii.Ad:0)ti.la=va.la=0,ii.Za||(ti.Na=va.Na=0),ii.Hc=0,ii.Gc=0,ii.ia=0;else{var Ua,la;if(ti=va,va=eo,ao=Vn.Pa.Xc,wo=Vn.ya[Vn.aa+Vn.ja],Oa=Vn.pb[wo.$b],Oi=wo.ad,Eo=0,Po=Vn.rb[Vn.sb-1],di=Fi=0,me(Oi,Eo,0,384),wo.Za)var ya=0,Al=ao[3];else{Li=we(16);var ca=ti.Na+Po.Na;if(ca=nu(va,ao[1],ca,Oa.Eb,0,Li,0),ti.Na=Po.Na=(0<ca)+0,1<ca)Rl(Li,0,Oi,Eo);else{var Do=Li[0]+3>>3;for(Li=0;256>Li;Li+=16)Oi[Eo+Li]=Do}ya=1,Al=ao[0]}var Aa=15&ti.la,On=15&Po.la;for(Li=0;4>Li;++Li){var po=1&On;for(Do=la=0;4>Do;++Do)Aa=Aa>>1|(po=(ca=nu(va,Al,ca=po+(1&Aa),Oa.Sc,ya,Oi,Eo))>ya)<<7,la=la<<2|(3<ca?3:1<ca?2:Oi[Eo+0]!=0),Eo+=16;Aa>>=4,On=On>>1|po<<7,Fi=(Fi<<8|la)>>>0}for(Al=Aa,ya=On>>4,Ua=0;4>Ua;Ua+=2){for(la=0,Aa=ti.la>>4+Ua,On=Po.la>>4+Ua,Li=0;2>Li;++Li){for(po=1&On,Do=0;2>Do;++Do)ca=po+(1&Aa),Aa=Aa>>1|(po=0<(ca=nu(va,ao[2],ca,Oa.Qc,0,Oi,Eo)))<<3,la=la<<2|(3<ca?3:1<ca?2:Oi[Eo+0]!=0),Eo+=16;Aa>>=2,On=On>>1|po<<5}di|=la<<4*Ua,Al|=Aa<<4<<Ua,ya|=(240&On)<<Ua}ti.la=Al,Po.la=ya,wo.Hc=Fi,wo.Gc=di,wo.ia=43690&di?0:Oa.ia,ao=!(Fi|di)}if(0<Vn.L&&(Vn.wa[Vn.Y+Vn.ja]=Vn.gd[ii.$b][ii.Za],Vn.wa[Vn.Y+Vn.ja].La|=!ao),eo.Ka)return Ds(Ui,7,"Premature end-of-file encountered.")}if(Nc(Ui),Vn=Un,eo=1,ii=(ds=Ui).D,ti=0<ds.L&&ds.M>=ds.zb&&ds.M<=ds.Va,ds.Aa==0)t:{if(ii.M=ds.M,ii.uc=ti,Ln(ds,ii),eo=1,ii=(la=ds.D).Nb,ti=(di=Bu[ds.L])*ds.R,va=di/2*ds.B,Li=16*ii*ds.R,Do=8*ii*ds.B,ao=ds.sa,wo=ds.ta-ti+Li,Oa=ds.qa,Oi=ds.ra-va+Do,Eo=ds.Ha,Po=ds.Ia-va+Do,On=(Aa=la.M)==0,Fi=Aa>=ds.Va-1,ds.Aa==2&&Ln(ds,la),la.uc)for(po=(ca=ds).D.M,U(ca.D.uc),la=ca.yb;la<ca.Hb;++la){ya=la,Al=po;var Ao=(Ma=(qa=ca).D).Nb;Ua=qa.R;var Ma=Ma.wa[Ma.Y+ya],Uo=qa.sa,oi=qa.ta+16*Ao*Ua+16*ya,ri=Ma.dd,gs=Ma.tc;if(gs!=0)if(U(3<=gs),qa.L==1)0<ya&&xc(Uo,oi,Ua,gs+4),Ma.La&&io(Uo,oi,Ua,gs),0<Al&&Su(Uo,oi,Ua,gs+4),Ma.La&&_a(Uo,oi,Ua,gs);else{var ua=qa.B,Wi=qa.qa,Ha=qa.ra+8*Ao*ua+8*ya,Fa=qa.Ha,qa=qa.Ia+8*Ao*ua+8*ya;Ao=Ma.ld,0<ya&&(Ja(Uo,oi,Ua,gs+4,ri,Ao),pa(Wi,Ha,Fa,qa,ua,gs+4,ri,Ao)),Ma.La&&(Mc(Uo,oi,Ua,gs,ri,Ao),fu(Wi,Ha,Fa,qa,ua,gs,ri,Ao)),0<Al&&(xa(Uo,oi,Ua,gs+4,ri,Ao),Kl(Wi,Ha,Fa,qa,ua,gs+4,ri,Ao)),Ma.La&&(ql(Uo,oi,Ua,gs,ri,Ao),ju(Wi,Ha,Fa,qa,ua,gs,ri,Ao))}}if(ds.ia&&alert("todo:DitherRow"),Vn.put!=null){if(la=16*Aa,Aa=16*(Aa+1),On?(Vn.y=ds.sa,Vn.O=ds.ta+Li,Vn.f=ds.qa,Vn.N=ds.ra+Do,Vn.ea=ds.Ha,Vn.W=ds.Ia+Do):(la-=di,Vn.y=ao,Vn.O=wo,Vn.f=Oa,Vn.N=Oi,Vn.ea=Eo,Vn.W=Po),Fi||(Aa-=di),Aa>Vn.o&&(Aa=Vn.o),Vn.F=null,Vn.J=null,ds.Fa!=null&&0<ds.Fa.length&&la<Aa&&(Vn.J=Ii(ds,Vn,la,Aa-la),Vn.F=ds.mb,Vn.F==null&&Vn.F.length==0)){eo=Ds(ds,3,"Could not decode alpha data.");break t}la<Vn.j&&(di=Vn.j-la,la=Vn.j,U(!(1&di)),Vn.O+=ds.R*di,Vn.N+=ds.B*(di>>1),Vn.W+=ds.B*(di>>1),Vn.F!=null&&(Vn.J+=Vn.width*di)),la<Aa&&(Vn.O+=Vn.v,Vn.N+=Vn.v>>1,Vn.W+=Vn.v>>1,Vn.F!=null&&(Vn.J+=Vn.v),Vn.ka=la-Vn.j,Vn.U=Vn.va-Vn.v,Vn.T=Aa-la,eo=Vn.put(Vn))}ii+1!=ds.Ic||Fi||(ae(ds.sa,ds.ta-ti,ao,wo+16*ds.R,ti),ae(ds.qa,ds.ra-va,Oa,Oi+8*ds.B,va),ae(ds.Ha,ds.Ia-va,Eo,Po+8*ds.B,va))}if(!eo)return Ds(Ui,6,"Output aborted.")}return 1})(jt,Kt)),Kt.bc!=null&&Kt.bc(Kt),dr&=1}return dr?(jt.cb=0,dr):0})(K,Fe)||(he=K.a)}}else he=K.a}he==0&&et.Oa!=null&&et.Oa.fd&&(he=ys(et.ba))}et=he}Je=et!=0?null:11>Je?ot.f.RGBA.eb:ot.f.kb.y}else Je=null;return Je};var Zu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function $e(Lt,vr){for(var ft="",yt=0;yt<4;yt++)ft+=String.fromCharCode(Lt[vr++]);return ft}function qe(Lt,vr){return Lt[vr+0]|Lt[vr+1]<<8}function at(Lt,vr){return(Lt[vr+0]|Lt[vr+1]<<8|Lt[vr+2]<<16)>>>0}function pt(Lt,vr){return(Lt[vr+0]|Lt[vr+1]<<8|Lt[vr+2]<<16|Lt[vr+3]<<24)>>>0}new Te;var Ie=[0],wt=[0],At=[],Nt=new Te,lt=V,Ut=(function(Lt,vr){var ft={},yt=0,$t=!1,Mt=0,jr=0;if(ft.frames=[],!(function(st,Tt){for(var It=0;It<4;It++)if(st[Tt+It]!="RIFF".charCodeAt(It))return!0;return!1})(Lt,vr)){for(pt(Lt,vr+=4),vr+=8;vr<Lt.length;){var Pr=$e(Lt,vr),Mr=pt(Lt,vr+=4);vr+=4;var hr=Mr+(1&Mr);switch(Pr){case"VP8 ":case"VP8L":ft.frames[yt]===void 0&&(ft.frames[yt]={}),(gn=ft.frames[yt]).src_off=$t?jr:vr-8,gn.src_size=Mt+Mr+8,yt++,$t&&($t=!1,Mt=0,jr=0);break;case"VP8X":(gn=ft.header={}).feature_flags=Lt[vr];var Ir=vr+4;gn.canvas_width=1+at(Lt,Ir),Ir+=3,gn.canvas_height=1+at(Lt,Ir),Ir+=3;break;case"ALPH":$t=!0,Mt=hr+8,jr=vr-8;break;case"ANIM":(gn=ft.header).bgcolor=pt(Lt,vr),Ir=vr+4,gn.loop_count=qe(Lt,Ir),Ir+=2;break;case"ANMF":var Nn,gn;(gn=ft.frames[yt]={}).offset_x=2*at(Lt,vr),vr+=3,gn.offset_y=2*at(Lt,vr),vr+=3,gn.width=1+at(Lt,vr),vr+=3,gn.height=1+at(Lt,vr),vr+=3,gn.duration=at(Lt,vr),vr+=3,Nn=Lt[vr++],gn.dispose=1&Nn,gn.blend=Nn>>1&1}Pr!="ANMF"&&(vr+=hr)}return ft}})(lt,0);Ut.response=lt,Ut.rgbaoutput=!0,Ut.dataurl=!1;var tr=Ut.header?Ut.header:null,Ft=Ut.frames?Ut.frames:null;if(tr){tr.loop_counter=tr.loop_count,Ie=[tr.canvas_height],wt=[tr.canvas_width];for(var it=0;it<Ft.length&&Ft[it].blend!=0;it++);}var Yt=Ft[0],Er=Nt.WebPDecodeRGBA(lt,Yt.src_off,Yt.src_size,wt,Ie);Yt.rgba=Er,Yt.imgwidth=wt[0],Yt.imgheight=Ie[0];for(var lr=0;lr<wt[0]*Ie[0]*4;lr++)At[lr]=Er[lr];return this.width=wt,this.height=Ie,this.data=At,this}(function(V){var U,W,ae,me,we,Be,Re,Te,$e,qe=function(st){return st=st||{},this.isStrokeTransparent=st.isStrokeTransparent||!1,this.strokeOpacity=st.strokeOpacity||1,this.strokeStyle=st.strokeStyle||"#000000",this.fillStyle=st.fillStyle||"#000000",this.isFillTransparent=st.isFillTransparent||!1,this.fillOpacity=st.fillOpacity||1,this.font=st.font||"10px sans-serif",this.textBaseline=st.textBaseline||"alphabetic",this.textAlign=st.textAlign||"left",this.lineWidth=st.lineWidth||1,this.lineJoin=st.lineJoin||"miter",this.lineCap=st.lineCap||"butt",this.path=st.path||[],this.transform=st.transform!==void 0?st.transform.clone():new Te,this.globalCompositeOperation=st.globalCompositeOperation||"normal",this.globalAlpha=st.globalAlpha||1,this.clip_path=st.clip_path||[],this.currentPoint=st.currentPoint||new Be,this.miterLimit=st.miterLimit||10,this.lastPoint=st.lastPoint||new Be,this.lineDashOffset=st.lineDashOffset||0,this.lineDash=st.lineDash||[],this.margin=st.margin||[0,0,0,0],this.prevPageLastElemOffset=st.prevPageLastElemOffset||0,this.ignoreClearRect=typeof st.ignoreClearRect!="boolean"||st.ignoreClearRect,this};V.events.push(["initialized",function(){this.context2d=new at(this),U=this.internal.f2,W=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,me=this.internal.getHorizontalCoordinate,we=this.internal.getVerticalCoordinate,Be=this.internal.Point,Re=this.internal.Rectangle,Te=this.internal.Matrix,$e=new qe}]);var at=function(st){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Tt=st;Object.defineProperty(this,"pdf",{get:function(){return Tt}});var It=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return It},set:function(bt){It=!!bt}});var er=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return er},set:function(bt){er=!!bt}});var nr=0;Object.defineProperty(this,"posX",{get:function(){return nr},set:function(bt){isNaN(bt)||(nr=bt)}});var mr=0;Object.defineProperty(this,"posY",{get:function(){return mr},set:function(bt){isNaN(bt)||(mr=bt)}}),Object.defineProperty(this,"margin",{get:function(){return $e.margin},set:function(bt){var Dn;typeof bt=="number"?Dn=[bt,bt,bt,bt]:((Dn=new Array(4))[0]=bt[0],Dn[1]=bt.length>=2?bt[1]:Dn[0],Dn[2]=bt.length>=3?bt[2]:Dn[0],Dn[3]=bt.length>=4?bt[3]:Dn[1]),$e.margin=Dn}});var Or=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Or},set:function(bt){Or=bt}});var Fr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Fr},set:function(bt){Fr=bt}});var Jr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Jr},set:function(bt){Jr=bt}}),Object.defineProperty(this,"ctx",{get:function(){return $e},set:function(bt){bt instanceof qe&&($e=bt)}}),Object.defineProperty(this,"path",{get:function(){return $e.path},set:function(bt){$e.path=bt}});var Pn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pn},set:function(bt){Pn=bt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(bt){var Dn;Dn=pt(bt),this.ctx.fillStyle=Dn.style,this.ctx.isFillTransparent=Dn.a===0,this.ctx.fillOpacity=Dn.a,this.pdf.setFillColor(Dn.r,Dn.g,Dn.b,{a:Dn.a}),this.pdf.setTextColor(Dn.r,Dn.g,Dn.b,{a:Dn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(bt){var Dn=pt(bt);this.ctx.strokeStyle=Dn.style,this.ctx.isStrokeTransparent=Dn.a===0,this.ctx.strokeOpacity=Dn.a,Dn.a===0?this.pdf.setDrawColor(255,255,255):(Dn.a,this.pdf.setDrawColor(Dn.r,Dn.g,Dn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(bt){["butt","round","square"].indexOf(bt)!==-1&&(this.ctx.lineCap=bt,this.pdf.setLineCap(bt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(bt){isNaN(bt)||(this.ctx.lineWidth=bt,this.pdf.setLineWidth(bt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(bt){["bevel","round","miter"].indexOf(bt)!==-1&&(this.ctx.lineJoin=bt,this.pdf.setLineJoin(bt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(bt){isNaN(bt)||(this.ctx.miterLimit=bt,this.pdf.setMiterLimit(bt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(bt){this.ctx.textBaseline=bt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(bt){["right","end","center","left","start"].indexOf(bt)!==-1&&(this.ctx.textAlign=bt)}});var Xn=null,ts=null,ws=null;Object.defineProperty(this,"fontFaces",{get:function(){return ws},set:function(bt){Xn=null,ts=null,ws=bt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(bt){var Dn;if(this.ctx.font=bt,(Dn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(bt))!==null){var Is=Dn[1];Dn[2];var dt=Dn[3],Rt=Dn[4];Dn[5];var ir=Dn[6],Xt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Rt)[2];Rt=Math.floor(Xt==="px"?parseFloat(Rt)*this.pdf.internal.scaleFactor:Xt==="em"?parseFloat(Rt)*this.pdf.getFontSize():parseFloat(Rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Rt);var _r=(function(Fn){var Es,Jn,ms=[],Ps=Fn.trim();if(Ps==="")return wa;if(Ps in Ss)return[Ss[Ps]];for(;Ps!=="";){switch(Jn=null,Es=(Ps=Qi(Ps)).charAt(0)){case'"':case"'":Jn=Pi(Ps.substring(1),Es);break;default:Jn=Ot(Ps)}if(Jn===null||(ms.push(Jn[0]),(Ps=Qi(Jn[1]))!==""&&Ps.charAt(0)!==","))return wa;Ps=Ps.replace(/^,/,"")}return ms})(ir);if(this.fontFaces){var Lr=(function(Fn,Es){var Jn=Fn.getFontList(),ms=JSON.stringify(Jn);if(Xn===null||ts!==ms){var Ps=(function(Vi){var as=[];return Object.keys(Vi).forEach(function(Mi){Vi[Mi].forEach(function(ks){var ls=null;switch(ks){case"bold":ls={family:Mi,weight:"bold"};break;case"italic":ls={family:Mi,style:"italic"};break;case"bolditalic":ls={family:Mi,weight:"bold",style:"italic"};break;case"":case"normal":ls={family:Mi}}ls!==null&&(ls.ref={name:Mi,style:ks},as.push(ls))})}),as})(Jn);Xn=(function(Vi){for(var as={},Mi=0;Mi<Vi.length;++Mi){var ks=Xi(Vi[Mi]),ls=ks.family,$i=ks.stretch,pn=ks.style,In=ks.weight;as[ls]=as[ls]||{},as[ls][$i]=as[ls][$i]||{},as[ls][$i][pn]=as[ls][$i][pn]||{},as[ls][$i][pn][In]=ks}return as})(Ps.concat(Es)),ts=ms}return Xn})(this.pdf,this.fontFaces),fn=_r.map(function(Fn){return{family:Fn,stretch:"normal",weight:dt,style:Is}}),dn=(function(Fn,Es,Jn){for(var ms=(Jn=Jn||{}).defaultFontFamily||"times",Ps=Object.assign({},Gi,Jn.genericFontFamilies||{}),Vi=null,as=null,Mi=0;Mi<Es.length;++Mi)if(Ps[(Vi=Xi(Es[Mi])).family]&&(Vi.family=Ps[Vi.family]),Fn.hasOwnProperty(Vi.family)){as=Fn[Vi.family];break}if(!(as=as||Fn[ms]))throw new Error("Could not find a font-family for the rule '"+La(Vi)+"' and default family '"+ms+"'.");if(as=(function(ks,ls){if(ls[ks])return ls[ks];var $i=gi[ks],pn=$i<=gi.normal?-1:1,In=Bs(ls,mi,$i,pn);if(!In)throw new Error("Could not find a matching font-stretch value for "+ks);return In})(Vi.stretch,as),as=(function(ks,ls){if(ls[ks])return ls[ks];for(var $i=wi[ks],pn=0;pn<$i.length;++pn)if(ls[$i[pn]])return ls[$i[pn]];throw new Error("Could not find a matching font-style for "+ks)})(Vi.style,as),!(as=(function(ks,ls){if(ls[ks])return ls[ks];if(ks===400&&ls[500])return ls[500];if(ks===500&&ls[400])return ls[400];var $i=Hs[ks],pn=Bs(ls,Ni,$i,ks<400?-1:1);if(!pn)throw new Error("Could not find a matching font-weight for value "+ks);return pn})(Vi.weight,as)))throw new Error("Failed to resolve a font for the rule '"+La(Vi)+"'.");return as})(Lr,fn);this.pdf.setFont(dn.ref.name,dn.ref.style)}else{var fr="";(dt==="bold"||parseInt(dt,10)>=700||Is==="bold")&&(fr="bold"),Is==="italic"&&(fr+="italic"),fr.length===0&&(fr="normal");for(var xn="",Bn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},un=0;un<_r.length;un++){if(this.pdf.internal.getFont(_r[un],fr,{noFallback:!0,disableWarning:!0})!==void 0){xn=_r[un];break}if(fr==="bolditalic"&&this.pdf.internal.getFont(_r[un],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xn=_r[un],fr="bold";else if(this.pdf.internal.getFont(_r[un],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xn=_r[un],fr="normal";break}}if(xn===""){for(var qn=0;qn<_r.length;qn++)if(Bn[_r[qn]]){xn=Bn[_r[qn]];break}}xn=xn===""?"Times":xn,this.pdf.setFont(xn,fr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(bt){this.ctx.globalCompositeOperation=bt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(bt){this.ctx.globalAlpha=bt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(bt){this.ctx.lineDashOffset=bt,gn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(bt){this.ctx.lineDash=bt,gn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(bt){this.ctx.ignoreClearRect=!!bt}})};at.prototype.setLineDash=function(st){this.lineDash=st},at.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},at.prototype.fill=function(){Ft.call(this,"fill",!1)},at.prototype.stroke=function(){Ft.call(this,"stroke",!1)},at.prototype.beginPath=function(){this.path=[{type:"begin"}]},at.prototype.moveTo=function(st,Tt){if(isNaN(st)||isNaN(Tt))throw R.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var It=this.ctx.transform.applyToPoint(new Be(st,Tt));this.path.push({type:"mt",x:It.x,y:It.y}),this.ctx.lastPoint=new Be(st,Tt)},at.prototype.closePath=function(){var st=new Be(0,0),Tt=0;for(Tt=this.path.length-1;Tt!==-1;Tt--)if(this.path[Tt].type==="begin"&&(0,g.default)(this.path[Tt+1])==="object"&&typeof this.path[Tt+1].x=="number"){st=new Be(this.path[Tt+1].x,this.path[Tt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Be(st.x,st.y)},at.prototype.lineTo=function(st,Tt){if(isNaN(st)||isNaN(Tt))throw R.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var It=this.ctx.transform.applyToPoint(new Be(st,Tt));this.path.push({type:"lt",x:It.x,y:It.y}),this.ctx.lastPoint=new Be(It.x,It.y)},at.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ft.call(this,null,!0)},at.prototype.quadraticCurveTo=function(st,Tt,It,er){if(isNaN(It)||isNaN(er)||isNaN(st)||isNaN(Tt))throw R.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var nr=this.ctx.transform.applyToPoint(new Be(It,er)),mr=this.ctx.transform.applyToPoint(new Be(st,Tt));this.path.push({type:"qct",x1:mr.x,y1:mr.y,x:nr.x,y:nr.y}),this.ctx.lastPoint=new Be(nr.x,nr.y)},at.prototype.bezierCurveTo=function(st,Tt,It,er,nr,mr){if(isNaN(nr)||isNaN(mr)||isNaN(st)||isNaN(Tt)||isNaN(It)||isNaN(er))throw R.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Or=this.ctx.transform.applyToPoint(new Be(nr,mr)),Fr=this.ctx.transform.applyToPoint(new Be(st,Tt)),Jr=this.ctx.transform.applyToPoint(new Be(It,er));this.path.push({type:"bct",x1:Fr.x,y1:Fr.y,x2:Jr.x,y2:Jr.y,x:Or.x,y:Or.y}),this.ctx.lastPoint=new Be(Or.x,Or.y)},at.prototype.arc=function(st,Tt,It,er,nr,mr){if(isNaN(st)||isNaN(Tt)||isNaN(It)||isNaN(er)||isNaN(nr))throw R.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mr=!!mr,!this.ctx.transform.isIdentity){var Or=this.ctx.transform.applyToPoint(new Be(st,Tt));st=Or.x,Tt=Or.y;var Fr=this.ctx.transform.applyToPoint(new Be(0,It)),Jr=this.ctx.transform.applyToPoint(new Be(0,0));It=Math.sqrt(Math.pow(Fr.x-Jr.x,2)+Math.pow(Fr.y-Jr.y,2))}Math.abs(nr-er)>=2*Math.PI&&(er=0,nr=2*Math.PI),this.path.push({type:"arc",x:st,y:Tt,radius:It,startAngle:er,endAngle:nr,counterclockwise:mr})},at.prototype.arcTo=function(st,Tt,It,er,nr){throw new Error("arcTo not implemented.")},at.prototype.rect=function(st,Tt,It,er){if(isNaN(st)||isNaN(Tt)||isNaN(It)||isNaN(er))throw R.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(st,Tt),this.lineTo(st+It,Tt),this.lineTo(st+It,Tt+er),this.lineTo(st,Tt+er),this.lineTo(st,Tt),this.lineTo(st+It,Tt),this.lineTo(st,Tt)},at.prototype.fillRect=function(st,Tt,It,er){if(isNaN(st)||isNaN(Tt)||isNaN(It)||isNaN(er))throw R.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Ie.call(this)){var nr={};this.lineCap!=="butt"&&(nr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(nr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(st,Tt,It,er),this.fill(),nr.hasOwnProperty("lineCap")&&(this.lineCap=nr.lineCap),nr.hasOwnProperty("lineJoin")&&(this.lineJoin=nr.lineJoin)}},at.prototype.strokeRect=function(st,Tt,It,er){if(isNaN(st)||isNaN(Tt)||isNaN(It)||isNaN(er))throw R.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");wt.call(this)||(this.beginPath(),this.rect(st,Tt,It,er),this.stroke())},at.prototype.clearRect=function(st,Tt,It,er){if(isNaN(st)||isNaN(Tt)||isNaN(It)||isNaN(er))throw R.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(st,Tt,It,er))},at.prototype.save=function(st){st=typeof st!="boolean"||st;for(var Tt=this.pdf.internal.getCurrentPageInfo().pageNumber,It=0;It<this.pdf.internal.getNumberOfPages();It++)this.pdf.setPage(It+1),this.pdf.internal.out("q");if(this.pdf.setPage(Tt),st){this.ctx.fontSize=this.pdf.internal.getFontSize();var er=new qe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=er}},at.prototype.restore=function(st){st=typeof st!="boolean"||st;for(var Tt=this.pdf.internal.getCurrentPageInfo().pageNumber,It=0;It<this.pdf.internal.getNumberOfPages();It++)this.pdf.setPage(It+1),this.pdf.internal.out("Q");this.pdf.setPage(Tt),st&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},at.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var pt=function(st){var Tt,It,er,nr;if(st.isCanvasGradient===!0&&(st=st.getColor()),!st)return{r:0,g:0,b:0,a:0,style:st};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(st))Tt=0,It=0,er=0,nr=0;else{var mr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(st);if(mr!==null)Tt=parseInt(mr[1]),It=parseInt(mr[2]),er=parseInt(mr[3]),nr=1;else if((mr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(st))!==null)Tt=parseInt(mr[1]),It=parseInt(mr[2]),er=parseInt(mr[3]),nr=parseFloat(mr[4]);else{if(nr=1,typeof st=="string"&&st.charAt(0)!=="#"){var Or=new O(st);st=Or.ok?Or.toHex():"#000000"}st.length===4?(Tt=st.substring(1,2),Tt+=Tt,It=st.substring(2,3),It+=It,er=st.substring(3,4),er+=er):(Tt=st.substring(1,3),It=st.substring(3,5),er=st.substring(5,7)),Tt=parseInt(Tt,16),It=parseInt(It,16),er=parseInt(er,16)}}return{r:Tt,g:It,b:er,a:nr,style:st}},Ie=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},wt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};at.prototype.fillText=function(st,Tt,It,er){if(isNaN(Tt)||isNaN(It)||typeof st!="string")throw R.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(er=isNaN(er)?void 0:er,!Ie.call(this)){var nr=hr(this.ctx.transform.rotation),mr=this.ctx.transform.scaleX;yt.call(this,{text:st,x:Tt,y:It,scale:mr,angle:nr,align:this.textAlign,maxWidth:er})}},at.prototype.strokeText=function(st,Tt,It,er){if(isNaN(Tt)||isNaN(It)||typeof st!="string")throw R.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!wt.call(this)){er=isNaN(er)?void 0:er;var nr=hr(this.ctx.transform.rotation),mr=this.ctx.transform.scaleX;yt.call(this,{text:st,x:Tt,y:It,scale:mr,renderingMode:"stroke",angle:nr,align:this.textAlign,maxWidth:er})}},at.prototype.measureText=function(st){if(typeof st!="string")throw R.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Tt=this.pdf,It=this.pdf.internal.scaleFactor,er=Tt.internal.getFontSize(),nr=Tt.getStringUnitWidth(st)*er/Tt.internal.scaleFactor;return new function(mr){var Or=(mr=mr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Or}}),this}({width:nr*=Math.round(96*It/72*1e4)/1e4})},at.prototype.scale=function(st,Tt){if(isNaN(st)||isNaN(Tt))throw R.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var It=new Te(st,0,0,Tt,0,0);this.ctx.transform=this.ctx.transform.multiply(It)},at.prototype.rotate=function(st){if(isNaN(st))throw R.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Tt=new Te(Math.cos(st),Math.sin(st),-Math.sin(st),Math.cos(st),0,0);this.ctx.transform=this.ctx.transform.multiply(Tt)},at.prototype.translate=function(st,Tt){if(isNaN(st)||isNaN(Tt))throw R.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var It=new Te(1,0,0,1,st,Tt);this.ctx.transform=this.ctx.transform.multiply(It)},at.prototype.transform=function(st,Tt,It,er,nr,mr){if(isNaN(st)||isNaN(Tt)||isNaN(It)||isNaN(er)||isNaN(nr)||isNaN(mr))throw R.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Or=new Te(st,Tt,It,er,nr,mr);this.ctx.transform=this.ctx.transform.multiply(Or)},at.prototype.setTransform=function(st,Tt,It,er,nr,mr){st=isNaN(st)?1:st,Tt=isNaN(Tt)?0:Tt,It=isNaN(It)?0:It,er=isNaN(er)?1:er,nr=isNaN(nr)?0:nr,mr=isNaN(mr)?0:mr,this.ctx.transform=new Te(st,Tt,It,er,nr,mr)};var At=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};at.prototype.drawImage=function(st,Tt,It,er,nr,mr,Or,Fr,Jr){var Pn=this.pdf.getImageProperties(st),Xn=1,ts=1,ws=1,bt=1;er!==void 0&&Fr!==void 0&&(ws=Fr/er,bt=Jr/nr,Xn=Pn.width/er*Fr/er,ts=Pn.height/nr*Jr/nr),mr===void 0&&(mr=Tt,Or=It,Tt=0,It=0),er!==void 0&&Fr===void 0&&(Fr=er,Jr=nr),er===void 0&&Fr===void 0&&(Fr=Pn.width,Jr=Pn.height);var Dn=this.ctx.transform.decompose(),Is=hr(Dn.rotate.shx),dt=new Te,Rt=(dt=(dt=(dt=dt.multiply(Dn.translate)).multiply(Dn.skew)).multiply(Dn.scale)).applyToRectangle(new Re(mr-Tt*ws,Or-It*bt,er*Xn,nr*ts));if(this.autoPaging){for(var ir,Xt=Nt.call(this,Rt),_r=[],Lr=0;Lr<Xt.length;Lr+=1)_r.indexOf(Xt[Lr])===-1&&_r.push(Xt[Lr]);tr(_r);for(var fn=_r[0],dn=_r[_r.length-1],fr=fn;fr<dn+1;fr++){this.pdf.setPage(fr);var xn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bn=fr===1?this.posY+this.margin[0]:this.margin[0],un=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fn=fr===1?0:un+(fr-2)*qn;if(this.ctx.clip_path.length!==0){var Es=this.path;ir=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ut(ir,this.posX+this.margin[3],-Fn+Bn+this.ctx.prevPageLastElemOffset),it.call(this,"fill",!0),this.path=Es}var Jn=JSON.parse(JSON.stringify(Rt));Jn=Ut([Jn],this.posX+this.margin[3],-Fn+Bn+this.ctx.prevPageLastElemOffset)[0];var ms=(fr>fn||fr<dn)&&At.call(this);ms&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xn,qn,null).clip().discardPath()),this.pdf.addImage(st,"JPEG",Jn.x,Jn.y,Jn.w,Jn.h,null,null,Is),ms&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(st,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,Is)};var Nt=function(st,Tt,It){var er=[];Tt=Tt||this.pdf.internal.pageSize.width,It=It||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var nr=this.posY+this.ctx.prevPageLastElemOffset;switch(st.type){default:case"mt":case"lt":er.push(Math.floor((st.y+nr)/It)+1);break;case"arc":er.push(Math.floor((st.y+nr-st.radius)/It)+1),er.push(Math.floor((st.y+nr+st.radius)/It)+1);break;case"qct":var mr=Ir(this.ctx.lastPoint.x,this.ctx.lastPoint.y,st.x1,st.y1,st.x,st.y);er.push(Math.floor((mr.y+nr)/It)+1),er.push(Math.floor((mr.y+mr.h+nr)/It)+1);break;case"bct":var Or=Nn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,st.x1,st.y1,st.x2,st.y2,st.x,st.y);er.push(Math.floor((Or.y+nr)/It)+1),er.push(Math.floor((Or.y+Or.h+nr)/It)+1);break;case"rect":er.push(Math.floor((st.y+nr)/It)+1),er.push(Math.floor((st.y+st.h+nr)/It)+1)}for(var Fr=0;Fr<er.length;Fr+=1)for(;this.pdf.internal.getNumberOfPages()<er[Fr];)lt.call(this);return er},lt=function(){var st=this.fillStyle,Tt=this.strokeStyle,It=this.font,er=this.lineCap,nr=this.lineWidth,mr=this.lineJoin;this.pdf.addPage(),this.fillStyle=st,this.strokeStyle=Tt,this.font=It,this.lineCap=er,this.lineWidth=nr,this.lineJoin=mr},Ut=function(st,Tt,It){for(var er=0;er<st.length;er++)switch(st[er].type){case"bct":st[er].x2+=Tt,st[er].y2+=It;case"qct":st[er].x1+=Tt,st[er].y1+=It;default:st[er].x+=Tt,st[er].y+=It}return st},tr=function(st){return st.sort(function(Tt,It){return Tt-It})},Ft=function(st,Tt){var It=this.fillStyle,er=this.strokeStyle,nr=this.lineCap,mr=this.lineWidth,Or=Math.abs(mr*this.ctx.transform.scaleX),Fr=this.lineJoin;if(this.autoPaging){for(var Jr,Pn,Xn=JSON.parse(JSON.stringify(this.path)),ts=JSON.parse(JSON.stringify(this.path)),ws=[],bt=0;bt<ts.length;bt++)if(ts[bt].x!==void 0)for(var Dn=Nt.call(this,ts[bt]),Is=0;Is<Dn.length;Is+=1)ws.indexOf(Dn[Is])===-1&&ws.push(Dn[Is]);for(var dt=0;dt<ws.length;dt++)for(;this.pdf.internal.getNumberOfPages()<ws[dt];)lt.call(this);tr(ws);for(var Rt=ws[0],ir=ws[ws.length-1],Xt=Rt;Xt<ir+1;Xt++){this.pdf.setPage(Xt),this.fillStyle=It,this.strokeStyle=er,this.lineCap=nr,this.lineWidth=Or,this.lineJoin=Fr;var _r=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lr=Xt===1?this.posY+this.margin[0]:this.margin[0],fn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],fr=Xt===1?0:fn+(Xt-2)*dn;if(this.ctx.clip_path.length!==0){var xn=this.path;Jr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ut(Jr,this.posX+this.margin[3],-fr+Lr+this.ctx.prevPageLastElemOffset),it.call(this,st,!0),this.path=xn}if(Pn=JSON.parse(JSON.stringify(Xn)),this.path=Ut(Pn,this.posX+this.margin[3],-fr+Lr+this.ctx.prevPageLastElemOffset),Tt===!1||Xt===0){var Bn=(Xt>Rt||Xt<ir)&&At.call(this);Bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_r,dn,null).clip().discardPath()),it.call(this,st,Tt),Bn&&this.pdf.restoreGraphicsState()}this.lineWidth=mr}this.path=Xn}else this.lineWidth=Or,it.call(this,st,Tt),this.lineWidth=mr},it=function(st,Tt){if((st!=="stroke"||Tt||!wt.call(this))&&(st==="stroke"||Tt||!Ie.call(this))){for(var It,er,nr=[],mr=this.path,Or=0;Or<mr.length;Or++){var Fr=mr[Or];switch(Fr.type){case"begin":nr.push({begin:!0});break;case"close":nr.push({close:!0});break;case"mt":nr.push({start:Fr,deltas:[],abs:[]});break;case"lt":var Jr=nr.length;if(mr[Or-1]&&!isNaN(mr[Or-1].x)&&(It=[Fr.x-mr[Or-1].x,Fr.y-mr[Or-1].y],Jr>0)){for(;Jr>=0;Jr--)if(nr[Jr-1].close!==!0&&nr[Jr-1].begin!==!0){nr[Jr-1].deltas.push(It),nr[Jr-1].abs.push(Fr);break}}break;case"bct":It=[Fr.x1-mr[Or-1].x,Fr.y1-mr[Or-1].y,Fr.x2-mr[Or-1].x,Fr.y2-mr[Or-1].y,Fr.x-mr[Or-1].x,Fr.y-mr[Or-1].y],nr[nr.length-1].deltas.push(It);break;case"qct":var Pn=mr[Or-1].x+2/3*(Fr.x1-mr[Or-1].x),Xn=mr[Or-1].y+2/3*(Fr.y1-mr[Or-1].y),ts=Fr.x+2/3*(Fr.x1-Fr.x),ws=Fr.y+2/3*(Fr.y1-Fr.y),bt=Fr.x,Dn=Fr.y;It=[Pn-mr[Or-1].x,Xn-mr[Or-1].y,ts-mr[Or-1].x,ws-mr[Or-1].y,bt-mr[Or-1].x,Dn-mr[Or-1].y],nr[nr.length-1].deltas.push(It);break;case"arc":nr.push({deltas:[],abs:[],arc:!0}),Array.isArray(nr[nr.length-1].abs)&&nr[nr.length-1].abs.push(Fr)}}er=Tt?null:st==="stroke"?"stroke":"fill";for(var Is=!1,dt=0;dt<nr.length;dt++)if(nr[dt].arc)for(var Rt=nr[dt].abs,ir=0;ir<Rt.length;ir++){var Xt=Rt[ir];Xt.type==="arc"?lr.call(this,Xt.x,Xt.y,Xt.radius,Xt.startAngle,Xt.endAngle,Xt.counterclockwise,void 0,Tt,!Is):$t.call(this,Xt.x,Xt.y),Is=!0}else if(nr[dt].close===!0)this.pdf.internal.out("h"),Is=!1;else if(nr[dt].begin!==!0){var _r=nr[dt].start.x,Lr=nr[dt].start.y;Mt.call(this,nr[dt].deltas,_r,Lr),Is=!0}er&&Lt.call(this,er),Tt&&vr.call(this)}},Yt=function(st){var Tt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,It=Tt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return st-It;case"top":return st+Tt-It;case"hanging":return st+Tt-2*It;case"middle":return st+Tt/2-It;default:return st}},Er=function(st){return st+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};at.prototype.createLinearGradient=function(){var st=function(){};return st.colorStops=[],st.addColorStop=function(Tt,It){this.colorStops.push([Tt,It])},st.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},st.isCanvasGradient=!0,st},at.prototype.createPattern=function(){return this.createLinearGradient()},at.prototype.createRadialGradient=function(){return this.createLinearGradient()};var lr=function(st,Tt,It,er,nr,mr,Or,Fr,Jr){for(var Pn=Pr.call(this,It,er,nr,mr),Xn=0;Xn<Pn.length;Xn++){var ts=Pn[Xn];Xn===0&&(Jr?ft.call(this,ts.x1+st,ts.y1+Tt):$t.call(this,ts.x1+st,ts.y1+Tt)),jr.call(this,st,Tt,ts.x2,ts.y2,ts.x3,ts.y3,ts.x4,ts.y4)}Fr?vr.call(this):Lt.call(this,Or)},Lt=function(st){switch(st){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},vr=function(){this.pdf.clip(),this.pdf.discardPath()},ft=function(st,Tt){this.pdf.internal.out(W(st)+" "+ae(Tt)+" m")},yt=function(st){var Tt;switch(st.align){case"right":case"end":Tt="right";break;case"center":Tt="center";break;default:Tt="left"}var It,er,nr,mr=this.pdf.getTextDimensions(st.text),Or=Yt.call(this,st.y),Fr=Er.call(this,Or)-mr.h,Jr=this.ctx.transform.applyToPoint(new Be(st.x,Or));if(this.autoPaging){var Pn=this.ctx.transform.decompose(),Xn=new Te;Xn=(Xn=(Xn=Xn.multiply(Pn.translate)).multiply(Pn.skew)).multiply(Pn.scale);for(var ts=this.ctx.transform.applyToRectangle(new Re(st.x,Or,mr.w,mr.h)),ws=Xn.applyToRectangle(new Re(st.x,Fr,mr.w,mr.h)),bt=Nt.call(this,ws),Dn=[],Is=0;Is<bt.length;Is+=1)Dn.indexOf(bt[Is])===-1&&Dn.push(bt[Is]);tr(Dn);for(var dt=Dn[0],Rt=Dn[Dn.length-1],ir=dt;ir<Rt+1;ir++){this.pdf.setPage(ir);var Xt=ir===1?this.posY+this.margin[0]:this.margin[0],_r=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lr=this.pdf.internal.pageSize.height-this.margin[2],fn=Lr-this.margin[0],dn=this.pdf.internal.pageSize.width-this.margin[1],fr=dn-this.margin[3],xn=ir===1?0:_r+(ir-2)*fn;if(this.ctx.clip_path.length!==0){var Bn=this.path;It=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ut(It,this.posX+this.margin[3],-1*xn+Xt),it.call(this,"fill",!0),this.path=Bn}var un=Ut([JSON.parse(JSON.stringify(ws))],this.posX+this.margin[3],-xn+Xt+this.ctx.prevPageLastElemOffset)[0];st.scale>=.01&&(er=this.pdf.internal.getFontSize(),this.pdf.setFontSize(er*st.scale),nr=this.lineWidth,this.lineWidth=nr*st.scale);var qn=this.autoPaging!=="text";if(qn||un.y+un.h<=Lr){if(qn||un.y>=Xt&&un.x<=dn){var Fn=qn?st.text:this.pdf.splitTextToSize(st.text,st.maxWidth||dn-un.x)[0],Es=Ut([JSON.parse(JSON.stringify(ts))],this.posX+this.margin[3],-xn+Xt+this.ctx.prevPageLastElemOffset)[0],Jn=qn&&(ir>dt||ir<Rt)&&At.call(this);Jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fr,fn,null).clip().discardPath()),this.pdf.text(Fn,Es.x,Es.y,{angle:st.angle,align:Tt,renderingMode:st.renderingMode}),Jn&&this.pdf.restoreGraphicsState()}}else un.y<Lr&&(this.ctx.prevPageLastElemOffset+=Lr-un.y);st.scale>=.01&&(this.pdf.setFontSize(er),this.lineWidth=nr)}}else st.scale>=.01&&(er=this.pdf.internal.getFontSize(),this.pdf.setFontSize(er*st.scale),nr=this.lineWidth,this.lineWidth=nr*st.scale),this.pdf.text(st.text,Jr.x+this.posX,Jr.y+this.posY,{angle:st.angle,align:Tt,renderingMode:st.renderingMode,maxWidth:st.maxWidth}),st.scale>=.01&&(this.pdf.setFontSize(er),this.lineWidth=nr)},$t=function(st,Tt,It,er){It=It||0,er=er||0,this.pdf.internal.out(W(st+It)+" "+ae(Tt+er)+" l")},Mt=function(st,Tt,It){return this.pdf.lines(st,Tt,It,null,null)},jr=function(st,Tt,It,er,nr,mr,Or,Fr){this.pdf.internal.out([U(me(It+st)),U(we(er+Tt)),U(me(nr+st)),U(we(mr+Tt)),U(me(Or+st)),U(we(Fr+Tt)),"c"].join(" "))},Pr=function(st,Tt,It,er){for(var nr=2*Math.PI,mr=Math.PI/2;Tt>It;)Tt-=nr;var Or=Math.abs(It-Tt);Or<nr&&er&&(Or=nr-Or);for(var Fr=[],Jr=er?-1:1,Pn=Tt;Or>1e-5;){var Xn=Pn+Jr*Math.min(Or,mr);Fr.push(Mr.call(this,st,Pn,Xn)),Or-=Math.abs(Xn-Pn),Pn=Xn}return Fr},Mr=function(st,Tt,It){var er=(It-Tt)/2,nr=st*Math.cos(er),mr=st*Math.sin(er),Or=nr,Fr=-mr,Jr=Or*Or+Fr*Fr,Pn=Jr+Or*nr+Fr*mr,Xn=4/3*(Math.sqrt(2*Jr*Pn)-Pn)/(Or*mr-Fr*nr),ts=Or-Xn*Fr,ws=Fr+Xn*Or,bt=ts,Dn=-ws,Is=er+Tt,dt=Math.cos(Is),Rt=Math.sin(Is);return{x1:st*Math.cos(Tt),y1:st*Math.sin(Tt),x2:ts*dt-ws*Rt,y2:ts*Rt+ws*dt,x3:bt*dt-Dn*Rt,y3:bt*Rt+Dn*dt,x4:st*Math.cos(It),y4:st*Math.sin(It)}},hr=function(st){return 180*st/Math.PI},Ir=function(st,Tt,It,er,nr,mr){var Or=st+.5*(It-st),Fr=Tt+.5*(er-Tt),Jr=nr+.5*(It-nr),Pn=mr+.5*(er-mr),Xn=Math.min(st,nr,Or,Jr),ts=Math.max(st,nr,Or,Jr),ws=Math.min(Tt,mr,Fr,Pn),bt=Math.max(Tt,mr,Fr,Pn);return new Re(Xn,ws,ts-Xn,bt-ws)},Nn=function(st,Tt,It,er,nr,mr,Or,Fr){var Jr,Pn,Xn,ts,ws,bt,Dn,Is,dt,Rt,ir,Xt,_r,Lr,fn=It-st,dn=er-Tt,fr=nr-It,xn=mr-er,Bn=Or-nr,un=Fr-mr;for(Pn=0;Pn<41;Pn++)dt=(Dn=(Xn=st+(Jr=Pn/40)*fn)+Jr*((ws=It+Jr*fr)-Xn))+Jr*(ws+Jr*(nr+Jr*Bn-ws)-Dn),Rt=(Is=(ts=Tt+Jr*dn)+Jr*((bt=er+Jr*xn)-ts))+Jr*(bt+Jr*(mr+Jr*un-bt)-Is),Pn==0?(ir=dt,Xt=Rt,_r=dt,Lr=Rt):(ir=Math.min(ir,dt),Xt=Math.min(Xt,Rt),_r=Math.max(_r,dt),Lr=Math.max(Lr,Rt));return new Re(Math.round(ir),Math.round(Xt),Math.round(_r-ir),Math.round(Lr-Xt))},gn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var st,Tt,It=(st=this.ctx.lineDash,Tt=this.ctx.lineDashOffset,JSON.stringify({lineDash:st,lineDashOffset:Tt}));this.prevLineDash!==It&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=It)}}})(Ye.API),(function(V){var U=function(Be){var Re,Te,$e,qe,at,pt,Ie,wt,At,Nt;for(Te=[],$e=0,qe=(Be+=Re="\0\0\0\0".slice(Be.length%4||4)).length;qe>$e;$e+=4)(at=(Be.charCodeAt($e)<<24)+(Be.charCodeAt($e+1)<<16)+(Be.charCodeAt($e+2)<<8)+Be.charCodeAt($e+3))!==0?(pt=(at=((at=((at=((at=(at-(Nt=at%85))/85)-(At=at%85))/85)-(wt=at%85))/85)-(Ie=at%85))/85)%85,Te.push(pt+33,Ie+33,wt+33,At+33,Nt+33)):Te.push(122);return(function(lt,Ut){for(var tr=Ut;tr>0;tr--)lt.pop()})(Te,Re.length),String.fromCharCode.apply(String,Te)+"~>"},W=function(Be){var Re,Te,$e,qe,at,pt=String,Ie="length",wt=255,At="charCodeAt",Nt="slice",lt="replace";for(Be[Nt](-2),Be=Be[Nt](0,-2)[lt](/\s/g,"")[lt]("z","!!!!!"),$e=[],qe=0,at=(Be+=Re="uuuuu"[Nt](Be[Ie]%5||5))[Ie];at>qe;qe+=5)Te=52200625*(Be[At](qe)-33)+614125*(Be[At](qe+1)-33)+7225*(Be[At](qe+2)-33)+85*(Be[At](qe+3)-33)+(Be[At](qe+4)-33),$e.push(wt&Te>>24,wt&Te>>16,wt&Te>>8,wt&Te);return(function(Ut,tr){for(var Ft=tr;Ft>0;Ft--)Ut.pop()})($e,Re[Ie]),pt.fromCharCode.apply(pt,$e)},ae=function(Be){return Be.split("").map(function(Re){return("0"+Re.charCodeAt().toString(16)).slice(-2)}).join("")+">"},me=function(Be){var Re=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Be=Be.replace(/\s/g,"")).indexOf(">")!==-1&&(Be=Be.substr(0,Be.indexOf(">"))),Be.length%2&&(Be+="0"),Re.test(Be)===!1)return"";for(var Te="",$e=0;$e<Be.length;$e+=2)Te+=String.fromCharCode("0x"+(Be[$e]+Be[$e+1]));return Te},we=function(Be){for(var Re=new Uint8Array(Be.length),Te=Be.length;Te--;)Re[Te]=Be.charCodeAt(Te);return(Re=(0,v.zlibSync)(Re)).reduce(function($e,qe){return $e+String.fromCharCode(qe)},"")};V.processDataByFilters=function(Be,Re){var Te=0,$e=Be||"",qe=[];for(typeof(Re=Re||[])=="string"&&(Re=[Re]),Te=0;Te<Re.length;Te+=1)switch(Re[Te]){case"ASCII85Decode":case"/ASCII85Decode":$e=W($e),qe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":$e=U($e),qe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":$e=me($e),qe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":$e=ae($e),qe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":$e=we($e),qe.push("/FlateDecode");break;default:throw new Error('The filter: "'+Re[Te]+'" is not implemented')}return{data:$e,reverseChain:qe.reverse().join(" ")}}})(Ye.API),(function(V){V.loadFile=function(U,W,ae){return(function(me,we,Be){we=we!==!1,Be=typeof Be=="function"?Be:function(){};var Re=void 0;try{Re=(function(Te,$e,qe){var at=new XMLHttpRequest,pt=0,Ie=function(wt){var At=wt.length,Nt=[],lt=String.fromCharCode;for(pt=0;pt<At;pt+=1)Nt.push(lt(255&wt.charCodeAt(pt)));return Nt.join("")};if(at.open("GET",Te,!$e),at.overrideMimeType("text/plain; charset=x-user-defined"),$e===!1&&(at.onload=function(){at.status===200?qe(Ie(this.responseText)):qe(void 0)}),at.send(null),$e&&at.status===200)return Ie(at.responseText)})(me,we,Be)}catch{}return Re})(U,W,ae)},V.allowFsRead=void 0,V.loadImageFile=V.loadFile})(Ye.API),(function(V){function U(){return(j.html2canvas?Promise.resolve(j.html2canvas):Promise.resolve().then(f.t.bind(f,"html2canvas",23))).catch(function(Re){return Promise.reject(new Error("Could not load html2canvas: "+Re))}).then(function(Re){return Re.default?Re.default:Re})}function W(){return(j.DOMPurify?Promise.resolve(j.DOMPurify):Promise.resolve().then(f.bind(f,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(Re){return Promise.reject(new Error("Could not load dompurify: "+Re))}).then(function(Re){return Re.default?Re.default:Re})}var ae=function(Re){var Te=(0,g.default)(Re);return Te==="undefined"?"undefined":Te==="string"||Re instanceof String?"string":Te==="number"||Re instanceof Number?"number":Te==="function"||Re instanceof Function?"function":Re&&Re.constructor===Array?"array":Re&&Re.nodeType===1?"element":Te==="object"?"object":"unknown"},me=function(Re,Te){var $e=document.createElement(Re);for(var qe in Te.className&&($e.className=Te.className),Te.innerHTML&&Te.dompurify&&($e.innerHTML=Te.dompurify.sanitize(Te.innerHTML)),Te.style)$e.style[qe]=Te.style[qe];return $e},we=function Re(Te,$e){for(var qe=Te.nodeType===3?document.createTextNode(Te.nodeValue):Te.cloneNode(!1),at=Te.firstChild;at;at=at.nextSibling)$e!==!0&&at.nodeType===1&&at.nodeName==="SCRIPT"||qe.appendChild(Re(at,$e));return Te.nodeType===1&&(Te.nodeName==="CANVAS"?(qe.width=Te.width,qe.height=Te.height,qe.getContext("2d").drawImage(Te,0,0)):Te.nodeName!=="TEXTAREA"&&Te.nodeName!=="SELECT"||(qe.value=Te.value),qe.addEventListener("load",function(){qe.scrollTop=Te.scrollTop,qe.scrollLeft=Te.scrollLeft},!0)),qe},Be=function Re(Te){var $e=Object.assign(Re.convert(Promise.resolve()),JSON.parse(JSON.stringify(Re.template))),qe=Re.convert(Promise.resolve(),$e);return(qe=qe.setProgress(1,Re,1,[Re])).set(Te)};(Be.prototype=Object.create(Promise.prototype)).constructor=Be,Be.convert=function(Re,Te){return Re.__proto__=Te||Be.prototype,Re},Be.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Be.prototype.from=function(Re,Te){return this.then(function(){switch(Te=Te||(function($e){switch(ae($e)){case"string":return"string";case"element":return $e.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(Re),Te){case"string":return this.then(W).then(function($e){return this.set({src:me("div",{innerHTML:Re,dompurify:$e})})});case"element":return this.set({src:Re});case"canvas":return this.set({canvas:Re});case"img":return this.set({img:Re});default:return this.error("Unknown source type.")}})},Be.prototype.to=function(Re){switch(Re){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Be.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Re={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Te=we(this.prop.src,this.opt.html2canvas.javascriptEnabled);Te.tagName==="BODY"&&(Re.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=me("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=me("div",{className:"html2pdf__container",style:Re}),this.prop.container.appendChild(Te),this.prop.container.firstChild.appendChild(me("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Be.prototype.toCanvas=function(){var Re=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Re).then(U).then(function(Te){var $e=Object.assign({},this.opt.html2canvas);return delete $e.onrendered,Te(this.prop.container,$e)}).then(function(Te){(this.opt.html2canvas.onrendered||function(){})(Te),this.prop.canvas=Te,document.body.removeChild(this.prop.overlay)})},Be.prototype.toContext2d=function(){var Re=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Re).then(U).then(function(Te){var $e=this.opt.jsPDF,qe=this.opt.fontFaces,at=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,pt=Object.assign({async:!0,allowTaint:!0,scale:at,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete pt.onrendered,$e.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,$e.context2d.posX=this.opt.x,$e.context2d.posY=this.opt.y,$e.context2d.margin=this.opt.margin,$e.context2d.fontFaces=qe,qe)for(var Ie=0;Ie<qe.length;++Ie){var wt=qe[Ie],At=wt.src.find(function(Nt){return Nt.format==="truetype"});At&&$e.addFont(At.url,wt.ref.name,wt.ref.style)}return pt.windowHeight=pt.windowHeight||0,pt.windowHeight=pt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):pt.windowHeight,$e.context2d.save(!0),Te(this.prop.container,pt)}).then(function(Te){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Te),this.prop.canvas=Te,document.body.removeChild(this.prop.overlay)})},Be.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Re=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Re})},Be.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Be.prototype.output=function(Re,Te,$e){return($e=$e||"pdf").toLowerCase()==="img"||$e.toLowerCase()==="image"?this.outputImg(Re,Te):this.outputPdf(Re,Te)},Be.prototype.outputPdf=function(Re,Te){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Re,Te)})},Be.prototype.outputImg=function(Re){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Re){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Re+'" is not supported.'}})},Be.prototype.save=function(Re){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Re?{filename:Re}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Be.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Be.prototype.set=function(Re){if(ae(Re)!=="object")return this;var Te=Object.keys(Re||{}).map(function($e){if($e in Be.template.prop)return function(){this.prop[$e]=Re[$e]};switch($e){case"margin":return this.setMargin.bind(this,Re.margin);case"jsPDF":return function(){return this.opt.jsPDF=Re.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Re.pageSize);default:return function(){this.opt[$e]=Re[$e]}}},this);return this.then(function(){return this.thenList(Te)})},Be.prototype.get=function(Re,Te){return this.then(function(){var $e=Re in Be.template.prop?this.prop[Re]:this.opt[Re];return Te?Te($e):$e})},Be.prototype.setMargin=function(Re){return this.then(function(){switch(ae(Re)){case"number":Re=[Re,Re,Re,Re];case"array":if(Re.length===2&&(Re=[Re[0],Re[1],Re[0],Re[1]]),Re.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Re}).then(this.setPageSize)},Be.prototype.setPageSize=function(Re){function Te($e,qe){return Math.floor($e*qe/72*96)}return this.then(function(){(Re=Re||Ye.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Re.inner={width:Re.width-this.opt.margin[1]-this.opt.margin[3],height:Re.height-this.opt.margin[0]-this.opt.margin[2]},Re.inner.px={width:Te(Re.inner.width,Re.k),height:Te(Re.inner.height,Re.k)},Re.inner.ratio=Re.inner.height/Re.inner.width),this.prop.pageSize=Re})},Be.prototype.setProgress=function(Re,Te,$e,qe){return Re!=null&&(this.progress.val=Re),Te!=null&&(this.progress.state=Te),$e!=null&&(this.progress.n=$e),qe!=null&&(this.progress.stack=qe),this.progress.ratio=this.progress.val/this.progress.state,this},Be.prototype.updateProgress=function(Re,Te,$e,qe){return this.setProgress(Re?this.progress.val+Re:null,Te||null,$e?this.progress.n+$e:null,qe?this.progress.stack.concat(qe):null)},Be.prototype.then=function(Re,Te){var $e=this;return this.thenCore(Re,Te,function(qe,at){return $e.updateProgress(null,null,1,[qe]),Promise.prototype.then.call(this,function(pt){return $e.updateProgress(null,qe),pt}).then(qe,at).then(function(pt){return $e.updateProgress(1),pt})})},Be.prototype.thenCore=function(Re,Te,$e){$e=$e||Promise.prototype.then;var qe=this;Re&&(Re=Re.bind(qe)),Te&&(Te=Te.bind(qe));var at=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?qe:Be.convert(Object.assign({},qe),Promise.prototype),pt=$e.call(at,Re,Te);return Be.convert(pt,qe.__proto__)},Be.prototype.thenExternal=function(Re,Te){return Promise.prototype.then.call(this,Re,Te)},Be.prototype.thenList=function(Re){var Te=this;return Re.forEach(function($e){Te=Te.thenCore($e)}),Te},Be.prototype.catch=function(Re){Re&&(Re=Re.bind(this));var Te=Promise.prototype.catch.call(this,Re);return Be.convert(Te,this)},Be.prototype.catchExternal=function(Re){return Promise.prototype.catch.call(this,Re)},Be.prototype.error=function(Re){return this.then(function(){throw new Error(Re)})},Be.prototype.using=Be.prototype.set,Be.prototype.saveAs=Be.prototype.save,Be.prototype.export=Be.prototype.output,Be.prototype.run=Be.prototype.then,Ye.getPageSize=function(Re,Te,$e){if((0,g.default)(Re)==="object"){var qe=Re;Re=qe.orientation,Te=qe.unit||Te,$e=qe.format||$e}Te=Te||"mm",$e=$e||"a4",Re=(""+(Re||"P")).toLowerCase();var at,pt=(""+$e).toLowerCase(),Ie={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Te){case"pt":at=1;break;case"mm":at=2.834645669291339;break;case"cm":at=28.346456692913385;break;case"in":at=72;break;case"px":at=.75;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:throw"Invalid unit: "+Te}var wt,At=0,Nt=0;if(Ie.hasOwnProperty(pt))At=Ie[pt][1]/at,Nt=Ie[pt][0]/at;else try{At=$e[1],Nt=$e[0]}catch{throw new Error("Invalid format: "+$e)}if(Re==="p"||Re==="portrait")Re="p",Nt>At&&(wt=Nt,Nt=At,At=wt);else{if(Re!=="l"&&Re!=="landscape")throw"Invalid orientation: "+Re;Re="l",At>Nt&&(wt=Nt,Nt=At,At=wt)}return{width:Nt,height:At,unit:Te,k:at,orientation:Re}},V.html=function(Re,Te){(Te=Te||{}).callback=Te.callback||function(){},Te.html2canvas=Te.html2canvas||{},Te.html2canvas.canvas=Te.html2canvas.canvas||this.canvas,Te.jsPDF=Te.jsPDF||this,Te.fontFaces=Te.fontFaces?Te.fontFaces.map(Xi):null;var $e=new Be(Te);return Te.worker?$e:$e.from(Re).doCallback()}})(Ye.API),Ye.API.addJS=function(V){return ji=V,this.internal.events.subscribe("postPutResources",function(){sn=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sn+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mn=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ji+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sn!==void 0&&mn!==void 0&&this.internal.out("/Names <</JavaScript "+sn+" 0 R>>")}),this},(function(V){var U;V.events.push(["postPutResources",function(){var W=this,ae=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var me=W.outline.render().split(/\r\n/),we=0;we<me.length;we++){var Be=me[we],Re=ae.exec(Be);if(Re!=null){var Te=Re[1];W.internal.newObjectDeferredBegin(Te,!1)}W.internal.write(Be)}if(this.outline.createNamedDestinations){var $e=this.internal.pages.length,qe=[];for(we=0;we<$e;we++){var at=W.internal.newObject();qe.push(at);var pt=W.internal.getPageInfo(we+1);W.internal.write("<< /D["+pt.objId+" 0 R /XYZ null null null]>> endobj")}var Ie=W.internal.newObject();for(W.internal.write("<< /Names [ "),we=0;we<qe.length;we++)W.internal.write("(page_"+(we+1)+")"+qe[we]+" 0 R");W.internal.write(" ] >>","endobj"),U=W.internal.newObject(),W.internal.write("<< /Dests "+Ie+" 0 R"),W.internal.write(">>","endobj")}}]),V.events.push(["putCatalog",function(){var W=this;W.outline.root.children.length>0&&(W.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&W.internal.write("/Names "+U+" 0 R"))}]),V.events.push(["initialized",function(){var W=this;W.outline={createNamedDestinations:!1,root:{children:[]}},W.outline.add=function(ae,me,we){var Be={title:me,options:we,children:[]};return ae==null&&(ae=this.root),ae.children.push(Be),Be},W.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=W,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},W.outline.genIds_r=function(ae){ae.id=W.internal.newObjectDeferred();for(var me=0;me<ae.children.length;me++)this.genIds_r(ae.children[me])},W.outline.renderRoot=function(ae){this.objStart(ae),this.line("/Type /Outlines"),ae.children.length>0&&(this.line("/First "+this.makeRef(ae.children[0])),this.line("/Last "+this.makeRef(ae.children[ae.children.length-1]))),this.line("/Count "+this.count_r({count:0},ae)),this.objEnd()},W.outline.renderItems=function(ae){for(var me=this.ctx.pdf.internal.getVerticalCoordinateString,we=0;we<ae.children.length;we++){var Be=ae.children[we];this.objStart(Be),this.line("/Title "+this.makeString(Be.title)),this.line("/Parent "+this.makeRef(ae)),we>0&&this.line("/Prev "+this.makeRef(ae.children[we-1])),we<ae.children.length-1&&this.line("/Next "+this.makeRef(ae.children[we+1])),Be.children.length>0&&(this.line("/First "+this.makeRef(Be.children[0])),this.line("/Last "+this.makeRef(Be.children[Be.children.length-1])));var Re=this.count=this.count_r({count:0},Be);if(Re>0&&this.line("/Count "+Re),Be.options&&Be.options.pageNumber){var Te=W.internal.getPageInfo(Be.options.pageNumber);this.line("/Dest ["+Te.objId+" 0 R /XYZ 0 "+me(0)+" 0]")}this.objEnd()}for(var $e=0;$e<ae.children.length;$e++)this.renderItems(ae.children[$e])},W.outline.line=function(ae){this.ctx.val+=ae+`\r
`},W.outline.makeRef=function(ae){return ae.id+" 0 R"},W.outline.makeString=function(ae){return"("+W.internal.pdfEscape(ae)+")"},W.outline.objStart=function(ae){this.ctx.val+=`\r
`+ae.id+` 0 obj\r
<<\r
`},W.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},W.outline.count_r=function(ae,me){for(var we=0;we<me.children.length;we++)ae.count++,this.count_r(ae,me.children[we]);return ae.count}}])})(Ye.API),(function(V){var U=[192,193,194,195,196,197,198,199];V.processJPEG=function(W,ae,me,we,Be,Re){var Te,$e=this.decode.DCT_DECODE,qe=null;if(typeof W=="string"||this.__addimage__.isArrayBuffer(W)||this.__addimage__.isArrayBufferView(W)){switch(W=Be||W,W=this.__addimage__.isArrayBuffer(W)?new Uint8Array(W):W,Te=(function(at){for(var pt,Ie=256*at.charCodeAt(4)+at.charCodeAt(5),wt=at.length,At={width:0,height:0,numcomponents:1},Nt=4;Nt<wt;Nt+=2){if(Nt+=Ie,U.indexOf(at.charCodeAt(Nt+1))!==-1){pt=256*at.charCodeAt(Nt+5)+at.charCodeAt(Nt+6),At={width:256*at.charCodeAt(Nt+7)+at.charCodeAt(Nt+8),height:pt,numcomponents:at.charCodeAt(Nt+9)};break}Ie=256*at.charCodeAt(Nt+2)+at.charCodeAt(Nt+3)}return At})(W=this.__addimage__.isArrayBufferView(W)?this.__addimage__.arrayBufferToBinaryString(W):W),Te.numcomponents){case 1:Re=this.color_spaces.DEVICE_GRAY;break;case 4:Re=this.color_spaces.DEVICE_CMYK;break;case 3:Re=this.color_spaces.DEVICE_RGB}qe={data:W,width:Te.width,height:Te.height,colorSpace:Re,bitsPerComponent:8,filter:$e,index:ae,alias:me}}return qe}})(Ye.API),Ye.API.processPNG=function(V,U,W,ae){if(this.__addimage__.isArrayBuffer(V)&&(V=new Uint8Array(V)),this.__addimage__.isArrayBufferView(V)){var me,we=(0,w.decode)(V,{checkCrc:!0}),Be=we.width,Re=we.height,Te=we.channels,$e=we.palette,qe=we.depth;me=$e&&Te===1?(function(lr){for(var Lt=lr.width,vr=lr.height,ft=lr.data,yt=lr.palette,$t=lr.depth,Mt=!1,jr=[],Pr=[],Mr=void 0,hr=!1,Ir=0,Nn=0;Nn<yt.length;Nn++){var gn=(0,b.default)(yt[Nn],4),st=gn[0],Tt=gn[1],It=gn[2],er=gn[3];jr.push(st,Tt,It),er!=null&&(er===0?(Ir++,Pr.length<1&&Pr.push(Nn)):er<255&&(hr=!0))}if(hr||Ir>1){Mt=!0,Pr=void 0;var nr=Lt*vr;Mr=new Uint8Array(nr);for(var mr=new DataView(ft.buffer),Or=0;Or<nr;Or++){var Fr=$s(mr,Or,$t),Jr=(0,b.default)(yt[Fr],4)[3];Mr[Or]=Jr}}else Ir===0&&(Pr=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Mt?8:void 0,colorBytes:ft,alphaBytes:Mr,needSMask:Mt,palette:jr,mask:Pr}})(we):Te===2||Te===4?(function(lr){for(var Lt=lr.data,vr=lr.width,ft=lr.height,yt=lr.channels,$t=lr.depth,Mt=yt===2?"DeviceGray":"DeviceRGB",jr=yt-1,Pr=vr*ft,Mr=jr,hr=Pr*Mr,Ir=1*Pr,Nn=Math.ceil(hr*$t/8),gn=Math.ceil(Ir*$t/8),st=new Uint8Array(Nn),Tt=new Uint8Array(gn),It=new DataView(Lt.buffer),er=new DataView(st.buffer),nr=new DataView(Tt.buffer),mr=!1,Or=0;Or<Pr;Or++){for(var Fr=Or*yt,Jr=0;Jr<Mr;Jr++)Wn(er,$s(It,Fr+Jr,$t),Or*Mr+Jr,$t);var Pn=$s(It,Fr+Mr,$t);Pn<(1<<$t)-1&&(mr=!0),Wn(nr,Pn,1*Or,$t)}return{colorSpace:Mt,colorsPerPixel:jr,sMaskBitsPerComponent:mr?$t:void 0,colorBytes:st,alphaBytes:Tt,needSMask:mr}})(we):(function(lr){var Lt=lr.data,vr=lr.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:vr,colorsPerPixel:vr==="DeviceGray"?1:3,colorBytes:Lt instanceof Uint16Array?(function(ft){for(var yt=ft.length,$t=new Uint8Array(2*yt),Mt=new DataView($t.buffer,$t.byteOffset,$t.byteLength),jr=0;jr<yt;jr++)Mt.setUint16(2*jr,ft[jr],!1);return $t})(Lt):Lt,needSMask:!1}})(we);var at,pt,Ie,wt=me,At=wt.colorSpace,Nt=wt.colorsPerPixel,lt=wt.sMaskBitsPerComponent,Ut=wt.colorBytes,tr=wt.alphaBytes,Ft=wt.needSMask,it=wt.palette,Yt=wt.mask,Er=null;return ae!==Ye.API.image_compression.NONE&&typeof v.zlibSync=="function"?(Er=(function(lr){var Lt;switch(lr){case Ye.API.image_compression.FAST:Lt=11;break;case Ye.API.image_compression.MEDIUM:Lt=13;break;case Ye.API.image_compression.SLOW:Lt=14;break;default:Lt=12}return Lt})(ae),at=this.decode.FLATE_DECODE,pt="/Predictor ".concat(Er," /Colors ").concat(Nt," /BitsPerComponent ").concat(qe," /Columns ").concat(Be),V=oa(Ut,Math.ceil(Be*Nt*qe/8),Nt,qe,ae),Ft&&(Ie=oa(tr,Math.ceil(Be*lt/8),1,lt,ae))):(at=void 0,pt=void 0,V=Ut,Ft&&(Ie=tr)),(this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),(Ie&&this.__addimage__.isArrayBuffer(Ie)||this.__addimage__.isArrayBufferView(Ie))&&(Ie=this.__addimage__.arrayBufferToBinaryString(Ie)),{alias:W,data:V,index:U,filter:at,decodeParameters:pt,transparency:Yt,palette:it,sMask:Ie,predictor:Er,width:Be,height:Re,bitsPerComponent:qe,sMaskBitsPerComponent:lt,colorSpace:At}}},(function(V){V.processGIF89A=function(U,W,ae,me){var we=new xi(U),Be=we.width,Re=we.height,Te=[];we.decodeAndBlitFrameRGBA(0,Te);var $e={data:Te,width:Be,height:Re},qe=new yi(100).encode($e,100);return V.processJPEG.call(this,qe,W,ae,me)},V.processGIF87A=V.processGIF89A})(Ye.API),Js.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var V=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(V);for(var U=0;U<V;U++){var W=this.datav.getUint8(this.pos++,!0),ae=this.datav.getUint8(this.pos++,!0),me=this.datav.getUint8(this.pos++,!0),we=this.datav.getUint8(this.pos++,!0);this.palette[U]={red:me,green:ae,blue:W,quad:we}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Js.prototype.parseBGR=function(){this.pos=this.offset;try{var V="bit"+this.bitPP,U=this.width*this.height*4;this.data=new Uint8Array(U),this[V]()}catch(W){R.log("bit decode error:"+W)}},Js.prototype.bit1=function(){var V,U=Math.ceil(this.width/8),W=U%4;for(V=this.height-1;V>=0;V--){for(var ae=this.bottom_up?V:this.height-1-V,me=0;me<U;me++)for(var we=this.datav.getUint8(this.pos++,!0),Be=ae*this.width*4+8*me*4,Re=0;Re<8&&8*me+Re<this.width;Re++){var Te=this.palette[we>>7-Re&1];this.data[Be+4*Re]=Te.blue,this.data[Be+4*Re+1]=Te.green,this.data[Be+4*Re+2]=Te.red,this.data[Be+4*Re+3]=255}W!==0&&(this.pos+=4-W)}},Js.prototype.bit4=function(){for(var V=Math.ceil(this.width/2),U=V%4,W=this.height-1;W>=0;W--){for(var ae=this.bottom_up?W:this.height-1-W,me=0;me<V;me++){var we=this.datav.getUint8(this.pos++,!0),Be=ae*this.width*4+2*me*4,Re=we>>4,Te=15&we,$e=this.palette[Re];if(this.data[Be]=$e.blue,this.data[Be+1]=$e.green,this.data[Be+2]=$e.red,this.data[Be+3]=255,2*me+1>=this.width)break;$e=this.palette[Te],this.data[Be+4]=$e.blue,this.data[Be+4+1]=$e.green,this.data[Be+4+2]=$e.red,this.data[Be+4+3]=255}U!==0&&(this.pos+=4-U)}},Js.prototype.bit8=function(){for(var V=this.width%4,U=this.height-1;U>=0;U--){for(var W=this.bottom_up?U:this.height-1-U,ae=0;ae<this.width;ae++){var me=this.datav.getUint8(this.pos++,!0),we=W*this.width*4+4*ae;if(me<this.palette.length){var Be=this.palette[me];this.data[we]=Be.red,this.data[we+1]=Be.green,this.data[we+2]=Be.blue,this.data[we+3]=255}else this.data[we]=255,this.data[we+1]=255,this.data[we+2]=255,this.data[we+3]=255}V!==0&&(this.pos+=4-V)}},Js.prototype.bit15=function(){for(var V=this.width%3,U=parseInt("11111",2),W=this.height-1;W>=0;W--){for(var ae=this.bottom_up?W:this.height-1-W,me=0;me<this.width;me++){var we=this.datav.getUint16(this.pos,!0);this.pos+=2;var Be=(we&U)/U*255|0,Re=(we>>5&U)/U*255|0,Te=(we>>10&U)/U*255|0,$e=we>>15?255:0,qe=ae*this.width*4+4*me;this.data[qe]=Te,this.data[qe+1]=Re,this.data[qe+2]=Be,this.data[qe+3]=$e}this.pos+=V}},Js.prototype.bit16=function(){for(var V=this.width%3,U=parseInt("11111",2),W=parseInt("111111",2),ae=this.height-1;ae>=0;ae--){for(var me=this.bottom_up?ae:this.height-1-ae,we=0;we<this.width;we++){var Be=this.datav.getUint16(this.pos,!0);this.pos+=2;var Re=(Be&U)/U*255|0,Te=(Be>>5&W)/W*255|0,$e=(Be>>11)/U*255|0,qe=me*this.width*4+4*we;this.data[qe]=$e,this.data[qe+1]=Te,this.data[qe+2]=Re,this.data[qe+3]=255}this.pos+=V}},Js.prototype.bit24=function(){for(var V=this.height-1;V>=0;V--){for(var U=this.bottom_up?V:this.height-1-V,W=0;W<this.width;W++){var ae=this.datav.getUint8(this.pos++,!0),me=this.datav.getUint8(this.pos++,!0),we=this.datav.getUint8(this.pos++,!0),Be=U*this.width*4+4*W;this.data[Be]=we,this.data[Be+1]=me,this.data[Be+2]=ae,this.data[Be+3]=255}this.pos+=this.width%4}},Js.prototype.bit32=function(){for(var V=this.height-1;V>=0;V--)for(var U=this.bottom_up?V:this.height-1-V,W=0;W<this.width;W++){var ae=this.datav.getUint8(this.pos++,!0),me=this.datav.getUint8(this.pos++,!0),we=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),Re=U*this.width*4+4*W;this.data[Re]=we,this.data[Re+1]=me,this.data[Re+2]=ae,this.data[Re+3]=Be}},Js.prototype.getData=function(){return this.data},(function(V){V.processBMP=function(U,W,ae,me){var we=new Js(U,!1),Be=we.width,Re=we.height,Te={data:we.getData(),width:Be,height:Re},$e=new yi(100).encode(Te,100);return V.processJPEG.call(this,$e,W,ae,me)}})(Ye.API),fa.prototype.getData=function(){return this.data},(function(V){V.processWEBP=function(U,W,ae,me){var we=new fa(U),Be=we.width,Re=we.height,Te={data:we.getData(),width:Be,height:Re},$e=new yi(100).encode(Te,100);return V.processJPEG.call(this,$e,W,ae,me)}})(Ye.API),Ye.API.processRGBA=function(V,U,W){for(var ae=V.data,me=ae.length,we=new Uint8Array(me/4*3),Be=new Uint8Array(me/4),Re=0,Te=0,$e=0;$e<me;$e+=4){var qe=ae[$e],at=ae[$e+1],pt=ae[$e+2],Ie=ae[$e+3];we[Re++]=qe,we[Re++]=at,we[Re++]=pt,Be[Te++]=Ie}var wt=this.__addimage__.arrayBufferToBinaryString(we);return{alpha:this.__addimage__.arrayBufferToBinaryString(Be),data:wt,index:U,alias:W,colorSpace:"DeviceRGB",bitsPerComponent:8,width:V.width,height:V.height}},Ye.API.setLanguage=function(V){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[V]!==void 0&&(this.internal.languageSettings.languageCode=V,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},As=Ye.API,Ji=As.getCharWidthsArray=function(V,U){var W,ae,me=(U=U||{}).font||this.internal.getFont(),we=U.fontSize||this.internal.getFontSize(),Be=U.charSpace||this.internal.getCharSpace(),Re=U.widths?U.widths:me.metadata.Unicode.widths,Te=Re.fof?Re.fof:1,$e=U.kerning?U.kerning:me.metadata.Unicode.kerning,qe=$e.fof?$e.fof:1,at=U.doKerning!==!1,pt=0,Ie=V.length,wt=0,At=Re[0]||Te,Nt=[];for(W=0;W<Ie;W++)ae=V.charCodeAt(W),typeof me.metadata.widthOfString=="function"?Nt.push((me.metadata.widthOfGlyph(me.metadata.characterToGlyph(ae))+Be*(1e3/we)||0)/1e3):(pt=at&&(0,g.default)($e[ae])==="object"&&!isNaN(parseInt($e[ae][wt],10))?$e[ae][wt]/qe:0,Nt.push((Re[ae]||At)/Te+pt)),wt=ae;return Nt},si=As.getStringUnitWidth=function(V,U){var W=(U=U||{}).fontSize||this.internal.getFontSize(),ae=U.font||this.internal.getFont(),me=U.charSpace||this.internal.getCharSpace();return As.processArabic&&(V=As.processArabic(V)),typeof ae.metadata.widthOfString=="function"?ae.metadata.widthOfString(V,W,me)/W:Ji.apply(this,arguments).reduce(function(we,Be){return we+Be},0)},Ra=function(V,U,W,ae){for(var me=[],we=0,Be=V.length,Re=0;we!==Be&&Re+U[we]<W;)Re+=U[we],we++;me.push(V.slice(0,we));var Te=we;for(Re=0;we!==Be;)Re+U[we]>ae&&(me.push(V.slice(Te,we)),Re=0,Te=we),Re+=U[we],we++;return Te!==we&&me.push(V.slice(Te,we)),me},aa=function(V,U,W){W||(W={});var ae,me,we,Be,Re,Te,$e,qe=[],at=[qe],pt=W.textIndent||0,Ie=0,wt=0,At=V.split(" "),Nt=Ji.apply(this,[" ",W])[0];if(Te=W.lineIndent===-1?At[0].length+2:W.lineIndent||0){var lt=Array(Te).join(" "),Ut=[];At.map(function(Ft){(Ft=Ft.split(/\s*\n/)).length>1?Ut=Ut.concat(Ft.map(function(it,Yt){return(Yt&&it.length?`
`:"")+it})):Ut.push(Ft[0])}),At=Ut,Te=si.apply(this,[lt,W])}for(we=0,Be=At.length;we<Be;we++){var tr=0;if(ae=At[we],Te&&ae[0]==`
`&&(ae=ae.substr(1),tr=1),pt+Ie+(wt=(me=Ji.apply(this,[ae,W])).reduce(function(Ft,it){return Ft+it},0))>U||tr){if(wt>U){for(Re=Ra.apply(this,[ae,me,U-(pt+Ie),U]),qe.push(Re.shift()),qe=[Re.pop()];Re.length;)at.push([Re.shift()]);wt=me.slice(ae.length-(qe[0]?qe[0].length:0)).reduce(function(Ft,it){return Ft+it},0)}else qe=[ae];at.push(qe),pt=wt+Te,Ie=Nt}else qe.push(ae),pt+=Ie+wt,Ie=Nt}return $e=Te?function(Ft,it){return(it?lt:"")+Ft.join(" ")}:function(Ft){return Ft.join(" ")},at.map($e)},As.splitTextToSize=function(V,U,W){var ae,me=(W=W||{}).fontSize||this.internal.getFontSize(),we=function(qe){if(qe.widths&&qe.kerning)return{widths:qe.widths,kerning:qe.kerning};var at=this.internal.getFont(qe.fontName,qe.fontStyle),pt="Unicode";return at.metadata[pt]?{widths:at.metadata[pt].widths||{0:1},kerning:at.metadata[pt].kerning||{}}:{font:at.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,W);ae=Array.isArray(V)?V:String(V).split(/\r?\n/);var Be=1*this.internal.scaleFactor*U/me;we.textIndent=W.textIndent?1*W.textIndent*this.internal.scaleFactor/me:0,we.lineIndent=W.lineIndent;var Re,Te,$e=[];for(Re=0,Te=ae.length;Re<Te;Re++)$e=$e.concat(aa.apply(this,[ae[Re],Be,we]));return $e},(function(V){V.__fontmetrics__=V.__fontmetrics__||{};for(var U="0123456789abcdef",W="klmnopqrstuvwxyz",ae={},me={},we=0;we<16;we++)ae[W[we]]=U[we],me[U[we]]=W[we];var Be=function(pt){return"0x"+parseInt(pt,10).toString(16)},Re=V.__fontmetrics__.compress=function(pt){var Ie,wt,At,Nt,lt=["{"];for(var Ut in pt){if(Ie=pt[Ut],isNaN(parseInt(Ut,10))?wt="'"+Ut+"'":(Ut=parseInt(Ut,10),wt=(wt=Be(Ut).slice(2)).slice(0,-1)+me[wt.slice(-1)]),typeof Ie=="number")Ie<0?(At=Be(Ie).slice(3),Nt="-"):(At=Be(Ie).slice(2),Nt=""),At=Nt+At.slice(0,-1)+me[At.slice(-1)];else{if((0,g.default)(Ie)!=="object")throw new Error("Don't know what to do with value type "+(0,g.default)(Ie)+".");At=Re(Ie)}lt.push(wt+At)}return lt.push("}"),lt.join("")},Te=V.__fontmetrics__.uncompress=function(pt){if(typeof pt!="string")throw new Error("Invalid argument passed to uncompress.");for(var Ie,wt,At,Nt,lt={},Ut=1,tr=lt,Ft=[],it="",Yt="",Er=pt.length-1,lr=1;lr<Er;lr+=1)(Nt=pt[lr])=="'"?Ie?(At=Ie.join(""),Ie=void 0):Ie=[]:Ie?Ie.push(Nt):Nt=="{"?(Ft.push([tr,At]),tr={},At=void 0):Nt=="}"?((wt=Ft.pop())[0][wt[1]]=tr,At=void 0,tr=wt[0]):Nt=="-"?Ut=-1:At===void 0?ae.hasOwnProperty(Nt)?(it+=ae[Nt],At=parseInt(it,16)*Ut,Ut=1,it=""):it+=Nt:ae.hasOwnProperty(Nt)?(Yt+=ae[Nt],tr[At]=parseInt(Yt,16)*Ut,Ut=1,At=void 0,Yt=""):Yt+=Nt;return lt},$e={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Te("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},qe={Unicode:{Courier:$e,"Courier-Bold":$e,"Courier-BoldOblique":$e,"Courier-Oblique":$e,Helvetica:$e,"Helvetica-Bold":$e,"Helvetica-BoldOblique":$e,"Helvetica-Oblique":$e,"Times-Roman":$e,"Times-Bold":$e,"Times-BoldItalic":$e,"Times-Italic":$e}},at={Unicode:{"Courier-Oblique":Te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Te("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Te("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Te("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Te("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Te("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Te("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Te("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Te("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Te("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Te("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Te("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};V.events.push(["addFont",function(pt){var Ie=pt.font,wt=at.Unicode[Ie.postScriptName];wt&&(Ie.metadata.Unicode={},Ie.metadata.Unicode.widths=wt.widths,Ie.metadata.Unicode.kerning=wt.kerning);var At=qe.Unicode[Ie.postScriptName];At&&(Ie.metadata.Unicode.encoding=At,Ie.encoding=At.codePages[0])}])})(Ye.API),(function(V){var U=function(W){for(var ae=W.length,me=new Uint8Array(ae),we=0;we<ae;we++)me[we]=W.charCodeAt(we);return me};V.API.events.push(["addFont",function(W){var ae=void 0,me=W.font,we=W.instance;if(!me.isStandardFont){if(we===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+me.postScriptName+"').");if(typeof(ae=we.existsFileInVFS(me.postScriptName)===!1?we.loadFile(me.postScriptName):we.getFileFromVFS(me.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+me.postScriptName+"').");(function(Be,Re){Re=/^\x00\x01\x00\x00/.test(Re)?U(Re):U(F(Re)),Be.metadata=V.API.TTFFont.open(Re),Be.metadata.Unicode=Be.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Be.metadata.glyIdsUsed=[0]})(me,ae)}}])})(Ye),Ye.API.addSvgAsImage=function(V,U,W,ae,me,we,Be,Re){if(isNaN(U)||isNaN(W))throw R.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ae)||isNaN(me))throw R.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Te=document.createElement("canvas");Te.width=ae,Te.height=me;var $e=Te.getContext("2d");$e.fillStyle="#fff",$e.fillRect(0,0,Te.width,Te.height);var qe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},at=this;return(j.canvg?Promise.resolve(j.canvg):Promise.resolve().then(f.bind(f,"./node_modules/canvg/lib/index.es.js"))).catch(function(pt){return Promise.reject(new Error("Could not load canvg: "+pt))}).then(function(pt){return pt.default?pt.default:pt}).then(function(pt){return pt.fromString($e,V,qe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(pt){return pt.render(qe)}).then(function(){at.addImage(Te.toDataURL("image/jpeg",1),U,W,ae,me,Be,Re)})},Ye.API.putTotalPages=function(V){var U,W=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(U=new RegExp(V,"g"),W=this.internal.getNumberOfPages()):(U=new RegExp(this.pdfEscape16(V,this.internal.getFont()),"g"),W=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var ae=1;ae<=this.internal.getNumberOfPages();ae++)for(var me=0;me<this.internal.pages[ae].length;me++)this.internal.pages[ae][me]=this.internal.pages[ae][me].replace(U,W);return this},Ye.API.viewerPreferences=function(V,U){var W;V=V||{},U=U||!1;var ae,me,we,Be={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Re=Object.keys(Be),Te=[],$e=0,qe=0,at=0;function pt(wt,At){var Nt,lt=!1;for(Nt=0;Nt<wt.length;Nt+=1)wt[Nt]===At&&(lt=!0);return lt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Be)),this.internal.viewerpreferences.isSubscribed=!1),W=this.internal.viewerpreferences.configuration,V==="reset"||U===!0){var Ie=Re.length;for(at=0;at<Ie;at+=1)W[Re[at]].value=W[Re[at]].defaultValue,W[Re[at]].explicitSet=!1}if((0,g.default)(V)==="object"){for(me in V)if(we=V[me],pt(Re,me)&&we!==void 0){if(W[me].type==="boolean"&&typeof we=="boolean")W[me].value=we;else if(W[me].type==="name"&&pt(W[me].valueSet,we))W[me].value=we;else if(W[me].type==="integer"&&Number.isInteger(we))W[me].value=we;else if(W[me].type==="array"){for($e=0;$e<we.length;$e+=1)if(ae=!0,we[$e].length===1&&typeof we[$e][0]=="number")Te.push(String(we[$e]-1));else if(we[$e].length>1){for(qe=0;qe<we[$e].length;qe+=1)typeof we[$e][qe]!="number"&&(ae=!1);ae===!0&&Te.push([we[$e][0]-1,we[$e][1]-1].join(" "))}W[me].value="["+Te.join(" ")+"]"}else W[me].value=W[me].defaultValue;W[me].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var wt,At=[];for(wt in W)W[wt].explicitSet===!0&&(W[wt].type==="name"?At.push("/"+wt+" /"+W[wt].value):At.push("/"+wt+" "+W[wt].value));At.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+At.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=W,this},(function(V){var U=function(){var ae='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',me=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),we=unescape(encodeURIComponent(ae)),Be=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Re=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Te=unescape(encodeURIComponent("</x:xmpmeta>")),$e=we.length+Be.length+Re.length+me.length+Te.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+$e+" >>"),this.internal.write("stream"),this.internal.write(me+we+Be+Re+Te),this.internal.write("endstream"),this.internal.write("endobj")},W=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};V.addMetadata=function(ae,me){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:ae,namespaceuri:me||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",W),this.internal.events.subscribe("postPutResources",U)),this}})(Ye.API),(function(V){var U=V.API,W=U.pdfEscape16=function(we,Be){for(var Re,Te=Be.metadata.Unicode.widths,$e=["","0","00","000","0000"],qe=[""],at=0,pt=we.length;at<pt;++at){if(Re=Be.metadata.characterToGlyph(we.charCodeAt(at)),Be.metadata.glyIdsUsed.push(Re),Be.metadata.toUnicode[Re]=we.charCodeAt(at),Te.indexOf(Re)==-1&&(Te.push(Re),Te.push([parseInt(Be.metadata.widthOfGlyph(Re),10)])),Re=="0")return qe.join("");Re=Re.toString(16),qe.push($e[4-Re.length],Re)}return qe.join("")},ae=function(we){var Be,Re,Te,$e,qe,at,pt;for(qe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Te=[],at=0,pt=(Re=Object.keys(we).sort(function(Ie,wt){return Ie-wt})).length;at<pt;at++)Be=Re[at],Te.length>=100&&(qe+=`
`+Te.length+` beginbfchar
`+Te.join(`
`)+`
endbfchar`,Te=[]),we[Be]!==void 0&&we[Be]!==null&&typeof we[Be].toString=="function"&&($e=("0000"+we[Be].toString(16)).slice(-4),Be=("0000"+(+Be).toString(16)).slice(-4),Te.push("<"+Be+"><"+$e+">"));return Te.length&&(qe+=`
`+Te.length+` beginbfchar
`+Te.join(`
`)+`
endbfchar
`),qe+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};U.events.push(["putFont",function(we){(function(Be){var Re=Be.font,Te=Be.out,$e=Be.newObject,qe=Be.putStream;if(Re.metadata instanceof V.API.TTFFont&&Re.encoding==="Identity-H"){for(var at=Re.metadata.Unicode.widths,pt=Re.metadata.subset.encode(Re.metadata.glyIdsUsed,1),Ie="",wt=0;wt<pt.length;wt++)Ie+=String.fromCharCode(pt[wt]);var At=$e();qe({data:Ie,addLength1:!0,objectId:At}),Te("endobj");var Nt=$e();qe({data:ae(Re.metadata.toUnicode),addLength1:!0,objectId:Nt}),Te("endobj");var lt=$e();Te("<<"),Te("/Type /FontDescriptor"),Te("/FontName /"+He(Re.fontName)),Te("/FontFile2 "+At+" 0 R"),Te("/FontBBox "+V.API.PDFObject.convert(Re.metadata.bbox)),Te("/Flags "+Re.metadata.flags),Te("/StemV "+Re.metadata.stemV),Te("/ItalicAngle "+Re.metadata.italicAngle),Te("/Ascent "+Re.metadata.ascender),Te("/Descent "+Re.metadata.decender),Te("/CapHeight "+Re.metadata.capHeight),Te(">>"),Te("endobj");var Ut=$e();Te("<<"),Te("/Type /Font"),Te("/BaseFont /"+He(Re.fontName)),Te("/FontDescriptor "+lt+" 0 R"),Te("/W "+V.API.PDFObject.convert(at)),Te("/CIDToGIDMap /Identity"),Te("/DW 1000"),Te("/Subtype /CIDFontType2"),Te("/CIDSystemInfo"),Te("<<"),Te("/Supplement 0"),Te("/Registry (Adobe)"),Te("/Ordering ("+Re.encoding+")"),Te(">>"),Te(">>"),Te("endobj"),Re.objectNumber=$e(),Te("<<"),Te("/Type /Font"),Te("/Subtype /Type0"),Te("/ToUnicode "+Nt+" 0 R"),Te("/BaseFont /"+He(Re.fontName)),Te("/Encoding /"+Re.encoding),Te("/DescendantFonts ["+Ut+" 0 R]"),Te(">>"),Te("endobj"),Re.isAlreadyPutted=!0}})(we)}]),U.events.push(["putFont",function(we){(function(Be){var Re=Be.font,Te=Be.out,$e=Be.newObject,qe=Be.putStream;if(Re.metadata instanceof V.API.TTFFont&&Re.encoding==="WinAnsiEncoding"){for(var at=Re.metadata.rawData,pt="",Ie=0;Ie<at.length;Ie++)pt+=String.fromCharCode(at[Ie]);var wt=$e();qe({data:pt,addLength1:!0,objectId:wt}),Te("endobj");var At=$e();qe({data:ae(Re.metadata.toUnicode),addLength1:!0,objectId:At}),Te("endobj");var Nt=$e();Te("<<"),Te("/Descent "+Re.metadata.decender),Te("/CapHeight "+Re.metadata.capHeight),Te("/StemV "+Re.metadata.stemV),Te("/Type /FontDescriptor"),Te("/FontFile2 "+wt+" 0 R"),Te("/Flags 96"),Te("/FontBBox "+V.API.PDFObject.convert(Re.metadata.bbox)),Te("/FontName /"+He(Re.fontName)),Te("/ItalicAngle "+Re.metadata.italicAngle),Te("/Ascent "+Re.metadata.ascender),Te(">>"),Te("endobj"),Re.objectNumber=$e();for(var lt=0;lt<Re.metadata.hmtx.widths.length;lt++)Re.metadata.hmtx.widths[lt]=parseInt(Re.metadata.hmtx.widths[lt]*(1e3/Re.metadata.head.unitsPerEm));Te("<</Subtype/TrueType/Type/Font/ToUnicode "+At+" 0 R/BaseFont/"+He(Re.fontName)+"/FontDescriptor "+Nt+" 0 R/Encoding/"+Re.encoding+" /FirstChar 29 /LastChar 255 /Widths "+V.API.PDFObject.convert(Re.metadata.hmtx.widths)+">>"),Te("endobj"),Re.isAlreadyPutted=!0}})(we)}]);var me=function(we){var Be,Re=we.text||"",Te=we.x,$e=we.y,qe=we.options||{},at=we.mutex||{},pt=at.pdfEscape,Ie=at.activeFontKey,wt=at.fonts,At=Ie,Nt="",lt=0,Ut="",tr=wt[At].encoding;if(wt[At].encoding!=="Identity-H")return{text:Re,x:Te,y:$e,options:qe,mutex:at};for(Ut=Re,At=Ie,Array.isArray(Re)&&(Ut=Re[0]),lt=0;lt<Ut.length;lt+=1)wt[At].metadata.hasOwnProperty("cmap")&&(Be=wt[At].metadata.cmap.unicode.codeMap[Ut[lt].charCodeAt(0)]),Be||Ut[lt].charCodeAt(0)<256&&wt[At].metadata.hasOwnProperty("Unicode")?Nt+=Ut[lt]:Nt+="";var Ft="";return parseInt(At.slice(1))<14||tr==="WinAnsiEncoding"?Ft=pt(Nt,At).split("").map(function(it){return it.charCodeAt(0).toString(16)}).join(""):tr==="Identity-H"&&(Ft=W(Nt,wt[At])),at.isHex=!0,{text:Ft,x:Te,y:$e,options:qe,mutex:at}};U.events.push(["postProcessText",function(we){var Be=we.text||"",Re=[],Te={text:Be,x:we.x,y:we.y,options:we.options,mutex:we.mutex};if(Array.isArray(Be)){var $e=0;for($e=0;$e<Be.length;$e+=1)Array.isArray(Be[$e])&&Be[$e].length===3?Re.push([me(Object.assign({},Te,{text:Be[$e][0]})).text,Be[$e][1],Be[$e][2]]):Re.push(me(Object.assign({},Te,{text:Be[$e]})).text);we.text=Re}else we.text=me(Object.assign({},Te,{text:Be})).text}])})(Ye),(function(V){var U=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};V.existsFileInVFS=function(W){return U.call(this),this.internal.vFS[W]!==void 0},V.addFileToVFS=function(W,ae){return U.call(this),this.internal.vFS[W]=ae,this},V.getFileFromVFS=function(W){return U.call(this),this.internal.vFS[W]!==void 0?this.internal.vFS[W]:null}})(Ye.API),(function(V){V.__bidiEngine__=V.prototype.__bidiEngine__=function(ae){var me,we,Be,Re,Te,$e,qe,at=U,pt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Ie=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],wt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},At={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Nt=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],lt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ut=!1,tr=0;this.__bidiEngine__={};var Ft=function(ft){var yt=ft.charCodeAt(),$t=yt>>8,Mt=At[$t];return Mt!==void 0?at[256*Mt+(255&yt)]:$t===252||$t===253?"AL":lt.test($t)?"L":$t===8?"R":"N"},it=function(ft){for(var yt,$t=0;$t<ft.length;$t++){if((yt=Ft(ft.charAt($t)))==="L")return!1;if(yt==="R")return!0}return!1},Yt=function(ft,yt,$t,Mt){var jr,Pr,Mr,hr,Ir=yt[Mt];switch(Ir){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ut=!1;break;case"N":case"AN":break;case"EN":Ut&&(Ir="AN");break;case"AL":Ut=!0,Ir="R";break;case"WS":case"BN":Ir="N";break;case"CS":Mt<1||Mt+1>=yt.length||(jr=$t[Mt-1])!=="EN"&&jr!=="AN"||(Pr=yt[Mt+1])!=="EN"&&Pr!=="AN"?Ir="N":Ut&&(Pr="AN"),Ir=Pr===jr?Pr:"N";break;case"ES":Ir=(jr=Mt>0?$t[Mt-1]:"B")==="EN"&&Mt+1<yt.length&&yt[Mt+1]==="EN"?"EN":"N";break;case"ET":if(Mt>0&&$t[Mt-1]==="EN"){Ir="EN";break}if(Ut){Ir="N";break}for(Mr=Mt+1,hr=yt.length;Mr<hr&&yt[Mr]==="ET";)Mr++;Ir=Mr<hr&&yt[Mr]==="EN"?"EN":"N";break;case"NSM":if(Be&&!Re){for(hr=yt.length,Mr=Mt+1;Mr<hr&&yt[Mr]==="NSM";)Mr++;if(Mr<hr){var Nn=ft[Mt],gn=Nn>=1425&&Nn<=2303||Nn===64286;if(jr=yt[Mr],gn&&(jr==="R"||jr==="AL")){Ir="R";break}}}Ir=Mt<1||(jr=yt[Mt-1])==="B"?"N":$t[Mt-1];break;case"B":Ut=!1,me=!0,Ir=tr;break;case"S":we=!0,Ir="N"}return Ir},Er=function(ft,yt,$t){var Mt=ft.split("");return $t&&lr(Mt,$t,{hiLevel:tr}),Mt.reverse(),yt&&yt.reverse(),Mt.join("")},lr=function(ft,yt,$t){var Mt,jr,Pr,Mr,hr,Ir=-1,Nn=ft.length,gn=0,st=[],Tt=tr?Ie:pt,It=[];for(Ut=!1,me=!1,we=!1,jr=0;jr<Nn;jr++)It[jr]=Ft(ft[jr]);for(Pr=0;Pr<Nn;Pr++){if(hr=gn,st[Pr]=Yt(ft,It,st,Pr),Mt=240&(gn=Tt[hr][wt[st[Pr]]]),gn&=15,yt[Pr]=Mr=Tt[gn][5],Mt>0)if(Mt===16){for(jr=Ir;jr<Pr;jr++)yt[jr]=1;Ir=-1}else Ir=-1;if(Tt[gn][6])Ir===-1&&(Ir=Pr);else if(Ir>-1){for(jr=Ir;jr<Pr;jr++)yt[jr]=Mr;Ir=-1}It[Pr]==="B"&&(yt[Pr]=0),$t.hiLevel|=Mr}we&&(function(er,nr,mr){for(var Or=0;Or<mr;Or++)if(er[Or]==="S"){nr[Or]=tr;for(var Fr=Or-1;Fr>=0&&er[Fr]==="WS";Fr--)nr[Fr]=tr}})(It,yt,Nn)},Lt=function(ft,yt,$t,Mt,jr){if(!(jr.hiLevel<ft)){if(ft===1&&tr===1&&!me)return yt.reverse(),void($t&&$t.reverse());for(var Pr,Mr,hr,Ir,Nn=yt.length,gn=0;gn<Nn;){if(Mt[gn]>=ft){for(hr=gn+1;hr<Nn&&Mt[hr]>=ft;)hr++;for(Ir=gn,Mr=hr-1;Ir<Mr;Ir++,Mr--)Pr=yt[Ir],yt[Ir]=yt[Mr],yt[Mr]=Pr,$t&&(Pr=$t[Ir],$t[Ir]=$t[Mr],$t[Mr]=Pr);gn=hr}gn++}}},vr=function(ft,yt,$t){var Mt=ft.split(""),jr={hiLevel:tr};return $t||($t=[]),lr(Mt,$t,jr),(function(Pr,Mr,hr){if(hr.hiLevel!==0&&qe)for(var Ir,Nn=0;Nn<Pr.length;Nn++)Mr[Nn]===1&&(Ir=Nt.indexOf(Pr[Nn]))>=0&&(Pr[Nn]=Nt[Ir+1])})(Mt,$t,jr),Lt(2,Mt,yt,$t,jr),Lt(1,Mt,yt,$t,jr),Mt.join("")};return this.__bidiEngine__.doBidiReorder=function(ft,yt,$t){if((function(jr,Pr){if(Pr)for(var Mr=0;Mr<jr.length;Mr++)Pr[Mr]=Mr;Re===void 0&&(Re=it(jr)),$e===void 0&&($e=it(jr))})(ft,yt),Be||!Te||$e)if(Be&&Te&&Re^$e)tr=Re?1:0,ft=Er(ft,yt,$t);else if(!Be&&Te&&$e)tr=Re?1:0,ft=vr(ft,yt,$t),ft=Er(ft,yt);else if(!Be||Re||Te||$e){if(Be&&!Te&&Re^$e)ft=Er(ft,yt),Re?(tr=0,ft=vr(ft,yt,$t)):(tr=1,ft=vr(ft,yt,$t),ft=Er(ft,yt));else if(Be&&Re&&!Te&&$e)tr=1,ft=vr(ft,yt,$t),ft=Er(ft,yt);else if(!Be&&!Te&&Re^$e){var Mt=qe;Re?(tr=1,ft=vr(ft,yt,$t),tr=0,qe=!1,ft=vr(ft,yt,$t),qe=Mt):(tr=0,ft=vr(ft,yt,$t),ft=Er(ft,yt),tr=1,qe=!1,ft=vr(ft,yt,$t),qe=Mt,ft=Er(ft,yt))}}else tr=0,ft=vr(ft,yt,$t);else tr=Re?1:0,ft=vr(ft,yt,$t);return ft},this.__bidiEngine__.setOptions=function(ft){ft&&(Be=ft.isInputVisual,Te=ft.isOutputVisual,Re=ft.isInputRtl,$e=ft.isOutputRtl,qe=ft.isSymmetricSwapping)},this.__bidiEngine__.setOptions(ae),this.__bidiEngine__};var U=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],W=new V.__bidiEngine__({isInputVisual:!0});V.API.events.push(["postProcessText",function(ae){var me=ae.text;ae.x,ae.y;var we=ae.options||{};ae.mutex,we.lang;var Be=[];if(we.isInputVisual=typeof we.isInputVisual!="boolean"||we.isInputVisual,W.setOptions(we),Object.prototype.toString.call(me)==="[object Array]"){var Re=0;for(Be=[],Re=0;Re<me.length;Re+=1)Object.prototype.toString.call(me[Re])==="[object Array]"?Be.push([W.doBidiReorder(me[Re][0]),me[Re][1],me[Re][2]]):Be.push([W.doBidiReorder(me[Re])]);ae.text=Be}else ae.text=W.doBidiReorder(me);W.setOptions({isInputVisual:!0})}])})(Ye),Ye.API.TTFFont=(function(){function V(U){var W;if(this.rawData=U,W=this.contents=new Bi(U),this.contents.pos=4,W.readString(4)==="ttcf")throw new Error("TTCF not supported.");W.pos=0,this.parse(),this.subset=new ht(this),this.registerTTF()}return V.open=function(U){return new V(U)},V.prototype.parse=function(){return this.directory=new Ki(this.contents),this.head=new Zi(this),this.name=new Ee(this),this.cmap=new Ta(this),this.toUnicode={},this.hhea=new Ea(this),this.maxp=new Se(this),this.hmtx=new J(this),this.post=new Wt(this),this.os2=new Qa(this),this.loca=new Ze(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},V.prototype.registerTTF=function(){var U,W,ae,me,we;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var Be,Re,Te,$e;for($e=[],Be=0,Re=(Te=this.bbox).length;Be<Re;Be++)U=Te[Be],$e.push(Math.round(U*this.scaleFactor));return $e}.call(this),this.stemV=0,this.post.exists?(ae=255&(me=this.post.italic_angle),32768&(W=me>>16)&&(W=-(1+(65535^W))),this.italicAngle=+(W+"."+ae)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(we=this.familyClass)===1||we===2||we===3||we===4||we===5||we===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},V.prototype.characterToGlyph=function(U){var W;return((W=this.cmap.unicode)!=null?W.codeMap[U]:void 0)||0},V.prototype.widthOfGlyph=function(U){var W;return W=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(U).advance*W},V.prototype.widthOfString=function(U,W,ae){var me,we,Be,Re;for(Be=0,we=0,Re=(U=""+U).length;0<=Re?we<Re:we>Re;we=0<=Re?++we:--we)me=U.charCodeAt(we),Be+=this.widthOfGlyph(this.characterToGlyph(me))+ae*(1e3/W)||0;return Be*(W/1e3)},V.prototype.lineHeight=function(U,W){var ae;return W==null&&(W=!1),ae=W?this.lineGap:0,(this.ascender+ae-this.decender)/1e3*U},V})();var ki,Bi=(function(){function V(U){this.data=U??[],this.pos=0,this.length=this.data.length}return V.prototype.readByte=function(){return this.data[this.pos++]},V.prototype.writeByte=function(U){return this.data[this.pos++]=U},V.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},V.prototype.writeUInt32=function(U){return this.writeByte(U>>>24&255),this.writeByte(U>>16&255),this.writeByte(U>>8&255),this.writeByte(255&U)},V.prototype.readInt32=function(){var U;return(U=this.readUInt32())>=2147483648?U-4294967296:U},V.prototype.writeInt32=function(U){return U<0&&(U+=4294967296),this.writeUInt32(U)},V.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},V.prototype.writeUInt16=function(U){return this.writeByte(U>>8&255),this.writeByte(255&U)},V.prototype.readInt16=function(){var U;return(U=this.readUInt16())>=32768?U-65536:U},V.prototype.writeInt16=function(U){return U<0&&(U+=65536),this.writeUInt16(U)},V.prototype.readString=function(U){var W,ae;for(ae=[],W=0;0<=U?W<U:W>U;W=0<=U?++W:--W)ae[W]=String.fromCharCode(this.readByte());return ae.join("")},V.prototype.writeString=function(U){var W,ae,me;for(me=[],W=0,ae=U.length;0<=ae?W<ae:W>ae;W=0<=ae?++W:--W)me.push(this.writeByte(U.charCodeAt(W)));return me},V.prototype.readShort=function(){return this.readInt16()},V.prototype.writeShort=function(U){return this.writeInt16(U)},V.prototype.readLongLong=function(){var U,W,ae,me,we,Be,Re,Te;return U=this.readByte(),W=this.readByte(),ae=this.readByte(),me=this.readByte(),we=this.readByte(),Be=this.readByte(),Re=this.readByte(),Te=this.readByte(),128&U?-1*(72057594037927940*(255^U)+281474976710656*(255^W)+1099511627776*(255^ae)+4294967296*(255^me)+16777216*(255^we)+65536*(255^Be)+256*(255^Re)+(255^Te)+1):72057594037927940*U+281474976710656*W+1099511627776*ae+4294967296*me+16777216*we+65536*Be+256*Re+Te},V.prototype.writeLongLong=function(U){var W,ae;return W=Math.floor(U/4294967296),ae=4294967295&U,this.writeByte(W>>24&255),this.writeByte(W>>16&255),this.writeByte(W>>8&255),this.writeByte(255&W),this.writeByte(ae>>24&255),this.writeByte(ae>>16&255),this.writeByte(ae>>8&255),this.writeByte(255&ae)},V.prototype.readInt=function(){return this.readInt32()},V.prototype.writeInt=function(U){return this.writeInt32(U)},V.prototype.read=function(U){var W,ae;for(W=[],ae=0;0<=U?ae<U:ae>U;ae=0<=U?++ae:--ae)W.push(this.readByte());return W},V.prototype.write=function(U){var W,ae,me,we;for(we=[],ae=0,me=U.length;ae<me;ae++)W=U[ae],we.push(this.writeByte(W));return we},V})(),Ki=(function(){var V;function U(W){var ae,me,we;for(this.scalarType=W.readInt(),this.tableCount=W.readShort(),this.searchRange=W.readShort(),this.entrySelector=W.readShort(),this.rangeShift=W.readShort(),this.tables={},me=0,we=this.tableCount;0<=we?me<we:me>we;me=0<=we?++me:--me)ae={tag:W.readString(4),checksum:W.readInt(),offset:W.readInt(),length:W.readInt()},this.tables[ae.tag]=ae}return U.prototype.encode=function(W){var ae,me,we,Be,Re,Te,$e,qe,at,pt,Ie,wt,At;for(At in Ie=Object.keys(W).length,Te=Math.log(2),at=16*Math.floor(Math.log(Ie)/Te),Be=Math.floor(at/Te),qe=16*Ie-at,(me=new Bi).writeInt(this.scalarType),me.writeShort(Ie),me.writeShort(at),me.writeShort(Be),me.writeShort(qe),we=16*Ie,$e=me.pos+we,Re=null,wt=[],W)for(pt=W[At],me.writeString(At),me.writeInt(V(pt)),me.writeInt($e),me.writeInt(pt.length),wt=wt.concat(pt),At==="head"&&(Re=$e),$e+=pt.length;$e%4;)wt.push(0),$e++;return me.write(wt),ae=2981146554-V(me.data),me.pos=Re+8,me.writeUInt32(ae),me.data},V=function(W){var ae,me,we,Be;for(W=ee.call(W);W.length%4;)W.push(0);for(we=new Bi(W),me=0,ae=0,Be=W.length;ae<Be;ae=ae+=4)me+=we.readUInt32();return 4294967295&me},U})(),za={}.hasOwnProperty,_s=function(V,U){for(var W in U)za.call(U,W)&&(V[W]=U[W]);function ae(){this.constructor=V}return ae.prototype=U.prototype,V.prototype=new ae,V.__super__=U.prototype,V};ki=(function(){function V(U){var W;this.file=U,W=this.file.directory.tables[this.tag],this.exists=!!W,W&&(this.offset=W.offset,this.length=W.length,this.parse(this.file.contents))}return V.prototype.parse=function(){},V.prototype.encode=function(){},V.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},V})();var Zi=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="head",V.prototype.parse=function(U){return U.pos=this.offset,this.version=U.readInt(),this.revision=U.readInt(),this.checkSumAdjustment=U.readInt(),this.magicNumber=U.readInt(),this.flags=U.readShort(),this.unitsPerEm=U.readShort(),this.created=U.readLongLong(),this.modified=U.readLongLong(),this.xMin=U.readShort(),this.yMin=U.readShort(),this.xMax=U.readShort(),this.yMax=U.readShort(),this.macStyle=U.readShort(),this.lowestRecPPEM=U.readShort(),this.fontDirectionHint=U.readShort(),this.indexToLocFormat=U.readShort(),this.glyphDataFormat=U.readShort()},V.prototype.encode=function(U){var W;return(W=new Bi).writeInt(this.version),W.writeInt(this.revision),W.writeInt(this.checkSumAdjustment),W.writeInt(this.magicNumber),W.writeShort(this.flags),W.writeShort(this.unitsPerEm),W.writeLongLong(this.created),W.writeLongLong(this.modified),W.writeShort(this.xMin),W.writeShort(this.yMin),W.writeShort(this.xMax),W.writeShort(this.yMax),W.writeShort(this.macStyle),W.writeShort(this.lowestRecPPEM),W.writeShort(this.fontDirectionHint),W.writeShort(U),W.writeShort(this.glyphDataFormat),W.data},V})(),ra=(function(){function V(U,W){var ae,me,we,Be,Re,Te,$e,qe,at,pt,Ie,wt,At,Nt,lt,Ut,tr;switch(this.platformID=U.readUInt16(),this.encodingID=U.readShort(),this.offset=W+U.readInt(),at=U.pos,U.pos=this.offset,this.format=U.readUInt16(),this.length=U.readUInt16(),this.language=U.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Te=0;Te<256;++Te)this.codeMap[Te]=U.readByte();break;case 4:for(Ie=U.readUInt16(),pt=Ie/2,U.pos+=6,we=(function(){var Ft,it;for(it=[],Te=Ft=0;0<=pt?Ft<pt:Ft>pt;Te=0<=pt?++Ft:--Ft)it.push(U.readUInt16());return it})(),U.pos+=2,At=(function(){var Ft,it;for(it=[],Te=Ft=0;0<=pt?Ft<pt:Ft>pt;Te=0<=pt?++Ft:--Ft)it.push(U.readUInt16());return it})(),$e=(function(){var Ft,it;for(it=[],Te=Ft=0;0<=pt?Ft<pt:Ft>pt;Te=0<=pt?++Ft:--Ft)it.push(U.readUInt16());return it})(),qe=(function(){var Ft,it;for(it=[],Te=Ft=0;0<=pt?Ft<pt:Ft>pt;Te=0<=pt?++Ft:--Ft)it.push(U.readUInt16());return it})(),me=(this.length-U.pos+this.offset)/2,Re=(function(){var Ft,it;for(it=[],Te=Ft=0;0<=me?Ft<me:Ft>me;Te=0<=me?++Ft:--Ft)it.push(U.readUInt16());return it})(),Te=lt=0,tr=we.length;lt<tr;Te=++lt)for(Nt=we[Te],ae=Ut=wt=At[Te];wt<=Nt?Ut<=Nt:Ut>=Nt;ae=wt<=Nt?++Ut:--Ut)qe[Te]===0?Be=ae+$e[Te]:(Be=Re[qe[Te]/2+(ae-wt)-(pt-Te)]||0)!==0&&(Be+=$e[Te]),this.codeMap[ae]=65535&Be}U.pos=at}return V.encode=function(U,W){var ae,me,we,Be,Re,Te,$e,qe,at,pt,Ie,wt,At,Nt,lt,Ut,tr,Ft,it,Yt,Er,lr,Lt,vr,ft,yt,$t,Mt,jr,Pr,Mr,hr,Ir,Nn,gn,st,Tt,It,er,nr,mr,Or,Fr,Jr,Pn,Xn;switch(Mt=new Bi,Be=Object.keys(U).sort(function(ts,ws){return ts-ws}),W){case"macroman":for(At=0,Nt=(function(){var ts=[];for(wt=0;wt<256;++wt)ts.push(0);return ts})(),Ut={0:0},we={},jr=0,Ir=Be.length;jr<Ir;jr++)Ut[Fr=U[me=Be[jr]]]==null&&(Ut[Fr]=++At),we[me]={old:U[me],new:Ut[U[me]]},Nt[me]=Ut[U[me]];return Mt.writeUInt16(1),Mt.writeUInt16(0),Mt.writeUInt32(12),Mt.writeUInt16(0),Mt.writeUInt16(262),Mt.writeUInt16(0),Mt.write(Nt),{charMap:we,subtable:Mt.data,maxGlyphID:At+1};case"unicode":for(yt=[],at=[],tr=0,Ut={},ae={},lt=$e=null,Pr=0,Nn=Be.length;Pr<Nn;Pr++)Ut[it=U[me=Be[Pr]]]==null&&(Ut[it]=++tr),ae[me]={old:it,new:Ut[it]},Re=Ut[it]-me,lt!=null&&Re===$e||(lt&&at.push(lt),yt.push(me),$e=Re),lt=me;for(lt&&at.push(lt),at.push(65535),yt.push(65535),vr=2*(Lt=yt.length),lr=2*Math.pow(Math.log(Lt)/Math.LN2,2),pt=Math.log(lr/2)/Math.LN2,Er=2*Lt-lr,Te=[],Yt=[],Ie=[],wt=Mr=0,gn=yt.length;Mr<gn;wt=++Mr){if(ft=yt[wt],qe=at[wt],ft===65535){Te.push(0),Yt.push(0);break}if(ft-($t=ae[ft].new)>=32768)for(Te.push(0),Yt.push(2*(Ie.length+Lt-wt)),me=hr=ft;ft<=qe?hr<=qe:hr>=qe;me=ft<=qe?++hr:--hr)Ie.push(ae[me].new);else Te.push($t-ft),Yt.push(0)}for(Mt.writeUInt16(3),Mt.writeUInt16(1),Mt.writeUInt32(12),Mt.writeUInt16(4),Mt.writeUInt16(16+8*Lt+2*Ie.length),Mt.writeUInt16(0),Mt.writeUInt16(vr),Mt.writeUInt16(lr),Mt.writeUInt16(pt),Mt.writeUInt16(Er),mr=0,st=at.length;mr<st;mr++)me=at[mr],Mt.writeUInt16(me);for(Mt.writeUInt16(0),Or=0,Tt=yt.length;Or<Tt;Or++)me=yt[Or],Mt.writeUInt16(me);for(Jr=0,It=Te.length;Jr<It;Jr++)Re=Te[Jr],Mt.writeUInt16(Re);for(Pn=0,er=Yt.length;Pn<er;Pn++)Ft=Yt[Pn],Mt.writeUInt16(Ft);for(Xn=0,nr=Ie.length;Xn<nr;Xn++)At=Ie[Xn],Mt.writeUInt16(At);return{charMap:ae,subtable:Mt.data,maxGlyphID:tr+1}}},V})(),Ta=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="cmap",V.prototype.parse=function(U){var W,ae,me;for(U.pos=this.offset,this.version=U.readUInt16(),me=U.readUInt16(),this.tables=[],this.unicode=null,ae=0;0<=me?ae<me:ae>me;ae=0<=me?++ae:--ae)W=new ra(U,this.offset),this.tables.push(W),W.isUnicode&&this.unicode==null&&(this.unicode=W);return!0},V.encode=function(U,W){var ae,me;return W==null&&(W="macroman"),ae=ra.encode(U,W),(me=new Bi).writeUInt16(0),me.writeUInt16(1),ae.table=me.data.concat(ae.subtable),ae},V})(),Ea=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="hhea",V.prototype.parse=function(U){return U.pos=this.offset,this.version=U.readInt(),this.ascender=U.readShort(),this.decender=U.readShort(),this.lineGap=U.readShort(),this.advanceWidthMax=U.readShort(),this.minLeftSideBearing=U.readShort(),this.minRightSideBearing=U.readShort(),this.xMaxExtent=U.readShort(),this.caretSlopeRise=U.readShort(),this.caretSlopeRun=U.readShort(),this.caretOffset=U.readShort(),U.pos+=8,this.metricDataFormat=U.readShort(),this.numberOfMetrics=U.readUInt16()},V})(),Qa=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="OS/2",V.prototype.parse=function(U){if(U.pos=this.offset,this.version=U.readUInt16(),this.averageCharWidth=U.readShort(),this.weightClass=U.readUInt16(),this.widthClass=U.readUInt16(),this.type=U.readShort(),this.ySubscriptXSize=U.readShort(),this.ySubscriptYSize=U.readShort(),this.ySubscriptXOffset=U.readShort(),this.ySubscriptYOffset=U.readShort(),this.ySuperscriptXSize=U.readShort(),this.ySuperscriptYSize=U.readShort(),this.ySuperscriptXOffset=U.readShort(),this.ySuperscriptYOffset=U.readShort(),this.yStrikeoutSize=U.readShort(),this.yStrikeoutPosition=U.readShort(),this.familyClass=U.readShort(),this.panose=(function(){var W,ae;for(ae=[],W=0;W<10;++W)ae.push(U.readByte());return ae})(),this.charRange=(function(){var W,ae;for(ae=[],W=0;W<4;++W)ae.push(U.readInt());return ae})(),this.vendorID=U.readString(4),this.selection=U.readShort(),this.firstCharIndex=U.readShort(),this.lastCharIndex=U.readShort(),this.version>0&&(this.ascent=U.readShort(),this.descent=U.readShort(),this.lineGap=U.readShort(),this.winAscent=U.readShort(),this.winDescent=U.readShort(),this.codePageRange=(function(){var W,ae;for(ae=[],W=0;W<2;W=++W)ae.push(U.readInt());return ae})(),this.version>1))return this.xHeight=U.readShort(),this.capHeight=U.readShort(),this.defaultChar=U.readShort(),this.breakChar=U.readShort(),this.maxContext=U.readShort()},V})(),Wt=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="post",V.prototype.parse=function(U){var W,ae,me;switch(U.pos=this.offset,this.format=U.readInt(),this.italicAngle=U.readInt(),this.underlinePosition=U.readShort(),this.underlineThickness=U.readShort(),this.isFixedPitch=U.readInt(),this.minMemType42=U.readInt(),this.maxMemType42=U.readInt(),this.minMemType1=U.readInt(),this.maxMemType1=U.readInt(),this.format){case 65536:case 196608:break;case 131072:var we;for(ae=U.readUInt16(),this.glyphNameIndex=[],we=0;0<=ae?we<ae:we>ae;we=0<=ae?++we:--we)this.glyphNameIndex.push(U.readUInt16());for(this.names=[],me=[];U.pos<this.offset+this.length;)W=U.readByte(),me.push(this.names.push(U.readString(W)));return me;case 151552:return ae=U.readUInt16(),this.offsets=U.read(ae);case 262144:return this.map=function(){var Be,Re,Te;for(Te=[],we=Be=0,Re=this.file.maxp.numGlyphs;0<=Re?Be<Re:Be>Re;we=0<=Re?++Be:--Be)Te.push(U.readUInt32());return Te}.call(this)}},V})(),ne=function(V,U){this.raw=V,this.length=V.length,this.platformID=U.platformID,this.encodingID=U.encodingID,this.languageID=U.languageID},Ee=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="name",V.prototype.parse=function(U){var W,ae,me,we,Be,Re,Te,$e,qe,at,pt;for(U.pos=this.offset,U.readShort(),W=U.readShort(),Re=U.readShort(),ae=[],we=0;0<=W?we<W:we>W;we=0<=W?++we:--we)ae.push({platformID:U.readShort(),encodingID:U.readShort(),languageID:U.readShort(),nameID:U.readShort(),length:U.readShort(),offset:this.offset+Re+U.readShort()});for(Te={},we=qe=0,at=ae.length;qe<at;we=++qe)me=ae[we],U.pos=me.offset,$e=U.readString(me.length),Be=new ne($e,me),Te[pt=me.nameID]==null&&(Te[pt]=[]),Te[me.nameID].push(Be);this.strings=Te,this.copyright=Te[0],this.fontFamily=Te[1],this.fontSubfamily=Te[2],this.uniqueSubfamily=Te[3],this.fontName=Te[4],this.version=Te[5];try{this.postscriptName=Te[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Te[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Te[7],this.manufacturer=Te[8],this.designer=Te[9],this.description=Te[10],this.vendorUrl=Te[11],this.designerUrl=Te[12],this.license=Te[13],this.licenseUrl=Te[14],this.preferredFamily=Te[15],this.preferredSubfamily=Te[17],this.compatibleFull=Te[18],this.sampleText=Te[19]},V})(),Se=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="maxp",V.prototype.parse=function(U){return U.pos=this.offset,this.version=U.readInt(),this.numGlyphs=U.readUInt16(),this.maxPoints=U.readUInt16(),this.maxContours=U.readUInt16(),this.maxCompositePoints=U.readUInt16(),this.maxComponentContours=U.readUInt16(),this.maxZones=U.readUInt16(),this.maxTwilightPoints=U.readUInt16(),this.maxStorage=U.readUInt16(),this.maxFunctionDefs=U.readUInt16(),this.maxInstructionDefs=U.readUInt16(),this.maxStackElements=U.readUInt16(),this.maxSizeOfInstructions=U.readUInt16(),this.maxComponentElements=U.readUInt16(),this.maxComponentDepth=U.readUInt16()},V})(),J=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="hmtx",V.prototype.parse=function(U){var W,ae,me,we,Be,Re,Te;for(U.pos=this.offset,this.metrics=[],W=0,Re=this.file.hhea.numberOfMetrics;0<=Re?W<Re:W>Re;W=0<=Re?++W:--W)this.metrics.push({advance:U.readUInt16(),lsb:U.readInt16()});for(me=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var $e,qe;for(qe=[],W=$e=0;0<=me?$e<me:$e>me;W=0<=me?++$e:--$e)qe.push(U.readInt16());return qe})(),this.widths=function(){var $e,qe,at,pt;for(pt=[],$e=0,qe=(at=this.metrics).length;$e<qe;$e++)we=at[$e],pt.push(we.advance);return pt}.call(this),ae=this.widths[this.widths.length-1],Te=[],W=Be=0;0<=me?Be<me:Be>me;W=0<=me?++Be:--Be)Te.push(this.widths.push(ae));return Te},V.prototype.forGlyph=function(U){return U in this.metrics?this.metrics[U]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[U-this.metrics.length]}},V})(),ee=[].slice,be=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="glyf",V.prototype.parse=function(){return this.cache={}},V.prototype.glyphFor=function(U){var W,ae,me,we,Be,Re,Te,$e,qe,at;return U in this.cache?this.cache[U]:(we=this.file.loca,W=this.file.contents,ae=we.indexOf(U),(me=we.lengthOf(U))===0?this.cache[U]=null:(W.pos=this.offset+ae,Be=(Re=new Bi(W.read(me))).readShort(),$e=Re.readShort(),at=Re.readShort(),Te=Re.readShort(),qe=Re.readShort(),this.cache[U]=Be===-1?new Le(Re,$e,at,Te,qe):new ke(Re,Be,$e,at,Te,qe),this.cache[U]))},V.prototype.encode=function(U,W,ae){var me,we,Be,Re,Te;for(Be=[],we=[],Re=0,Te=W.length;Re<Te;Re++)me=U[W[Re]],we.push(Be.length),me&&(Be=Be.concat(me.encode(ae)));return we.push(Be.length),{table:Be,offsets:we}},V})(),ke=(function(){function V(U,W,ae,me,we,Be){this.raw=U,this.numberOfContours=W,this.xMin=ae,this.yMin=me,this.xMax=we,this.yMax=Be,this.compound=!1}return V.prototype.encode=function(){return this.raw.data},V})(),Le=(function(){function V(U,W,ae,me,we){var Be,Re;for(this.raw=U,this.xMin=W,this.yMin=ae,this.xMax=me,this.yMax=we,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Be=this.raw;Re=Be.readShort(),this.glyphOffsets.push(Be.pos),this.glyphIDs.push(Be.readUInt16()),32&Re;)Be.pos+=1&Re?4:2,128&Re?Be.pos+=8:64&Re?Be.pos+=4:8&Re&&(Be.pos+=2)}return V.prototype.encode=function(){var U,W,ae;for(W=new Bi(ee.call(this.raw.data)),U=0,ae=this.glyphIDs.length;U<ae;++U)W.pos=this.glyphOffsets[U];return W.data},V})(),Ze=(function(){function V(){return V.__super__.constructor.apply(this,arguments)}return _s(V,ki),V.prototype.tag="loca",V.prototype.parse=function(U){var W,ae;return U.pos=this.offset,W=this.file.head.indexToLocFormat,this.offsets=W===0?function(){var me,we;for(we=[],ae=0,me=this.length;ae<me;ae+=2)we.push(2*U.readUInt16());return we}.call(this):function(){var me,we;for(we=[],ae=0,me=this.length;ae<me;ae+=4)we.push(U.readUInt32());return we}.call(this)},V.prototype.indexOf=function(U){return this.offsets[U]},V.prototype.lengthOf=function(U){return this.offsets[U+1]-this.offsets[U]},V.prototype.encode=function(U,W){for(var ae=new Uint32Array(this.offsets.length),me=0,we=0,Be=0;Be<ae.length;++Be)if(ae[Be]=me,we<W.length&&W[we]==Be){++we,ae[Be]=me;var Re=this.offsets[Be],Te=this.offsets[Be+1]-Re;Te>0&&(me+=Te)}for(var $e=new Array(4*ae.length),qe=0;qe<ae.length;++qe)$e[4*qe+3]=255&ae[qe],$e[4*qe+2]=(65280&ae[qe])>>8,$e[4*qe+1]=(16711680&ae[qe])>>16,$e[4*qe]=(4278190080&ae[qe])>>24;return $e},V})(),ht=(function(){function V(U){this.font=U,this.subset={},this.unicodes={},this.next=33}return V.prototype.generateCmap=function(){var U,W,ae,me,we;for(W in me=this.font.cmap.tables[0].codeMap,U={},we=this.subset)ae=we[W],U[W]=me[ae];return U},V.prototype.glyphsFor=function(U){var W,ae,me,we,Be,Re,Te;for(me={},Be=0,Re=U.length;Be<Re;Be++)me[we=U[Be]]=this.font.glyf.glyphFor(we);for(we in W=[],me)(ae=me[we])!=null&&ae.compound&&W.push.apply(W,ae.glyphIDs);if(W.length>0)for(we in Te=this.glyphsFor(W))ae=Te[we],me[we]=ae;return me},V.prototype.encode=function(U,W){var ae,me,we,Be,Re,Te,$e,qe,at,pt,Ie,wt,At,Nt,lt;for(me in ae=Ta.encode(this.generateCmap(),"unicode"),Be=this.glyphsFor(U),Ie={0:0},lt=ae.charMap)Ie[(Te=lt[me]).old]=Te.new;for(wt in pt=ae.maxGlyphID,Be)wt in Ie||(Ie[wt]=pt++);return qe=(function(Ut){var tr,Ft;for(tr in Ft={},Ut)Ft[Ut[tr]]=tr;return Ft})(Ie),at=Object.keys(qe).sort(function(Ut,tr){return Ut-tr}),At=(function(){var Ut,tr,Ft;for(Ft=[],Ut=0,tr=at.length;Ut<tr;Ut++)Re=at[Ut],Ft.push(qe[Re]);return Ft})(),we=this.font.glyf.encode(Be,At,Ie),$e=this.font.loca.encode(we.offsets,At),Nt={cmap:this.font.cmap.raw(),glyf:we.table,loca:$e,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(W)},this.font.os2.exists&&(Nt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Nt)},V})();Ye.API.PDFObject=(function(){var V;function U(){}return V=function(W,ae){return(Array(ae+1).join("0")+W).slice(-ae)},U.convert=function(W){var ae,me,we,Be;if(Array.isArray(W))return"["+(function(){var Re,Te,$e;for($e=[],Re=0,Te=W.length;Re<Te;Re++)ae=W[Re],$e.push(U.convert(ae));return $e})().join(" ")+"]";if(typeof W=="string")return"/"+W;if(W?.isString)return"("+W+")";if(W instanceof Date)return"(D:"+V(W.getUTCFullYear(),4)+V(W.getUTCMonth(),2)+V(W.getUTCDate(),2)+V(W.getUTCHours(),2)+V(W.getUTCMinutes(),2)+V(W.getUTCSeconds(),2)+"Z)";if({}.toString.call(W)==="[object Object]"){for(me in we=["<<"],W)Be=W[me],we.push("/"+me+" "+U.convert(Be));return we.push(">>"),we.join(`
`)}return""+W},U})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(A,m,f){f.r(m),f.d(m,{Deflate:function(){return nn},Inflate:function(){return Rs},constants:function(){return Ii},default:function(){return ga},deflate:function(){return ns},deflateRaw:function(){return cs},gzip:function(){return Fs},inflate:function(){return Zs},inflateRaw:function(){return ta},ungzip:function(){return na}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const g=4,v=0,b=1,w=2;function j(G){let Ue=G.length;for(;--Ue>=0;)G[Ue]=0}const E=0,R=1,_=2,N=3,B=258,M=29,O=256,F=O+1+M,$=30,z=19,se=2*F+1,ce=15,ie=16,pe=7,xe=256,Ae=16,ue=17,Y=18,fe=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),H=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),le=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),de=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ye=512,ge=new Array((F+2)*2);j(ge);const je=new Array($*2);j(je);const Me=new Array(ye);j(Me);const He=new Array(B-N+1);j(He);const Qe=new Array(M);j(Qe);const ze=new Array($);j(ze);function Ve(G,Ue,ve,rt,Et){this.static_tree=G,this.extra_bits=Ue,this.extra_base=ve,this.elems=rt,this.max_length=Et,this.has_stree=G&&G.length}let tt,nt,Ye;function ut(G,Ue){this.dyn_tree=G,this.max_code=0,this.stat_desc=Ue}const mt=G=>G<256?Me[G]:Me[256+(G>>>7)],St=(G,Ue)=>{G.pending_buf[G.pending++]=Ue&255,G.pending_buf[G.pending++]=Ue>>>8&255},or=(G,Ue,ve)=>{G.bi_valid>ie-ve?(G.bi_buf|=Ue<<G.bi_valid&65535,St(G,G.bi_buf),G.bi_buf=Ue>>ie-G.bi_valid,G.bi_valid+=ve-ie):(G.bi_buf|=Ue<<G.bi_valid&65535,G.bi_valid+=ve)},Zt=(G,Ue,ve)=>{or(G,ve[Ue*2],ve[Ue*2+1])},Bt=(G,Ue)=>{let ve=0;do ve|=G&1,G>>>=1,ve<<=1;while(--Ue>0);return ve>>>1},ur=G=>{G.bi_valid===16?(St(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):G.bi_valid>=8&&(G.pending_buf[G.pending++]=G.bi_buf&255,G.bi_buf>>=8,G.bi_valid-=8)},Nr=(G,Ue)=>{const ve=Ue.dyn_tree,rt=Ue.max_code,Et=Ue.stat_desc.static_tree,gt=Ue.stat_desc.has_stree,pr=Ue.stat_desc.extra_bits,rr=Ue.stat_desc.extra_base,rs=Ue.stat_desc.max_length;let zt,wr,Ls,Qn,An,Hr,sa=0;for(Qn=0;Qn<=ce;Qn++)G.bl_count[Qn]=0;for(ve[G.heap[G.heap_max]*2+1]=0,zt=G.heap_max+1;zt<se;zt++)wr=G.heap[zt],Qn=ve[ve[wr*2+1]*2+1]+1,Qn>rs&&(Qn=rs,sa++),ve[wr*2+1]=Qn,!(wr>rt)&&(G.bl_count[Qn]++,An=0,wr>=rr&&(An=pr[wr-rr]),Hr=ve[wr*2],G.opt_len+=Hr*(Qn+An),gt&&(G.static_len+=Hr*(Et[wr*2+1]+An)));if(sa!==0){do{for(Qn=rs-1;G.bl_count[Qn]===0;)Qn--;G.bl_count[Qn]--,G.bl_count[Qn+1]+=2,G.bl_count[rs]--,sa-=2}while(sa>0);for(Qn=rs;Qn!==0;Qn--)for(wr=G.bl_count[Qn];wr!==0;)Ls=G.heap[--zt],!(Ls>rt)&&(ve[Ls*2+1]!==Qn&&(G.opt_len+=(Qn-ve[Ls*2+1])*ve[Ls*2],ve[Ls*2+1]=Qn),wr--)}},Qr=(G,Ue,ve)=>{const rt=new Array(ce+1);let Et=0,gt,pr;for(gt=1;gt<=ce;gt++)Et=Et+ve[gt-1]<<1,rt[gt]=Et;for(pr=0;pr<=Ue;pr++){let rr=G[pr*2+1];rr!==0&&(G[pr*2]=Bt(rt[rr]++,rr))}},$r=()=>{let G,Ue,ve,rt,Et;const gt=new Array(ce+1);for(ve=0,rt=0;rt<M-1;rt++)for(Qe[rt]=ve,G=0;G<1<<fe[rt];G++)He[ve++]=rt;for(He[ve-1]=rt,Et=0,rt=0;rt<16;rt++)for(ze[rt]=Et,G=0;G<1<<H[rt];G++)Me[Et++]=rt;for(Et>>=7;rt<$;rt++)for(ze[rt]=Et<<7,G=0;G<1<<H[rt]-7;G++)Me[256+Et++]=rt;for(Ue=0;Ue<=ce;Ue++)gt[Ue]=0;for(G=0;G<=143;)ge[G*2+1]=8,G++,gt[8]++;for(;G<=255;)ge[G*2+1]=9,G++,gt[9]++;for(;G<=279;)ge[G*2+1]=7,G++,gt[7]++;for(;G<=287;)ge[G*2+1]=8,G++,gt[8]++;for(Qr(ge,F+1,gt),G=0;G<$;G++)je[G*2+1]=5,je[G*2]=Bt(G,5);tt=new Ve(ge,fe,O+1,F,ce),nt=new Ve(je,H,0,$,ce),Ye=new Ve(new Array(0),le,0,z,pe)},on=G=>{let Ue;for(Ue=0;Ue<F;Ue++)G.dyn_ltree[Ue*2]=0;for(Ue=0;Ue<$;Ue++)G.dyn_dtree[Ue*2]=0;for(Ue=0;Ue<z;Ue++)G.bl_tree[Ue*2]=0;G.dyn_ltree[xe*2]=1,G.opt_len=G.static_len=0,G.sym_next=G.matches=0},wn=G=>{G.bi_valid>8?St(G,G.bi_buf):G.bi_valid>0&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0},En=(G,Ue,ve,rt)=>{const Et=Ue*2,gt=ve*2;return G[Et]<G[gt]||G[Et]===G[gt]&&rt[Ue]<=rt[ve]},en=(G,Ue,ve)=>{const rt=G.heap[ve];let Et=ve<<1;for(;Et<=G.heap_len&&(Et<G.heap_len&&En(Ue,G.heap[Et+1],G.heap[Et],G.depth)&&Et++,!En(Ue,rt,G.heap[Et],G.depth));)G.heap[ve]=G.heap[Et],ve=Et,Et<<=1;G.heap[ve]=rt},Pt=(G,Ue,ve)=>{let rt,Et,gt=0,pr,rr;if(G.sym_next!==0)do rt=G.pending_buf[G.sym_buf+gt++]&255,rt+=(G.pending_buf[G.sym_buf+gt++]&255)<<8,Et=G.pending_buf[G.sym_buf+gt++],rt===0?Zt(G,Et,Ue):(pr=He[Et],Zt(G,pr+O+1,Ue),rr=fe[pr],rr!==0&&(Et-=Qe[pr],or(G,Et,rr)),rt--,pr=mt(rt),Zt(G,pr,ve),rr=H[pr],rr!==0&&(rt-=ze[pr],or(G,rt,rr)));while(gt<G.sym_next);Zt(G,xe,Ue)},ar=(G,Ue)=>{const ve=Ue.dyn_tree,rt=Ue.stat_desc.static_tree,Et=Ue.stat_desc.has_stree,gt=Ue.stat_desc.elems;let pr,rr,rs=-1,zt;for(G.heap_len=0,G.heap_max=se,pr=0;pr<gt;pr++)ve[pr*2]!==0?(G.heap[++G.heap_len]=rs=pr,G.depth[pr]=0):ve[pr*2+1]=0;for(;G.heap_len<2;)zt=G.heap[++G.heap_len]=rs<2?++rs:0,ve[zt*2]=1,G.depth[zt]=0,G.opt_len--,Et&&(G.static_len-=rt[zt*2+1]);for(Ue.max_code=rs,pr=G.heap_len>>1;pr>=1;pr--)en(G,ve,pr);zt=gt;do pr=G.heap[1],G.heap[1]=G.heap[G.heap_len--],en(G,ve,1),rr=G.heap[1],G.heap[--G.heap_max]=pr,G.heap[--G.heap_max]=rr,ve[zt*2]=ve[pr*2]+ve[rr*2],G.depth[zt]=(G.depth[pr]>=G.depth[rr]?G.depth[pr]:G.depth[rr])+1,ve[pr*2+1]=ve[rr*2+1]=zt,G.heap[1]=zt++,en(G,ve,1);while(G.heap_len>=2);G.heap[--G.heap_max]=G.heap[1],Nr(G,Ue),Qr(ve,rs,G.bl_count)},Xr=(G,Ue,ve)=>{let rt,Et=-1,gt,pr=Ue[1],rr=0,rs=7,zt=4;for(pr===0&&(rs=138,zt=3),Ue[(ve+1)*2+1]=65535,rt=0;rt<=ve;rt++)gt=pr,pr=Ue[(rt+1)*2+1],!(++rr<rs&&gt===pr)&&(rr<zt?G.bl_tree[gt*2]+=rr:gt!==0?(gt!==Et&&G.bl_tree[gt*2]++,G.bl_tree[Ae*2]++):rr<=10?G.bl_tree[ue*2]++:G.bl_tree[Y*2]++,rr=0,Et=gt,pr===0?(rs=138,zt=3):gt===pr?(rs=6,zt=3):(rs=7,zt=4))},Cn=(G,Ue,ve)=>{let rt,Et=-1,gt,pr=Ue[1],rr=0,rs=7,zt=4;for(pr===0&&(rs=138,zt=3),rt=0;rt<=ve;rt++)if(gt=pr,pr=Ue[(rt+1)*2+1],!(++rr<rs&&gt===pr)){if(rr<zt)do Zt(G,gt,G.bl_tree);while(--rr!==0);else gt!==0?(gt!==Et&&(Zt(G,gt,G.bl_tree),rr--),Zt(G,Ae,G.bl_tree),or(G,rr-3,2)):rr<=10?(Zt(G,ue,G.bl_tree),or(G,rr-3,3)):(Zt(G,Y,G.bl_tree),or(G,rr-11,7));rr=0,Et=gt,pr===0?(rs=138,zt=3):gt===pr?(rs=6,zt=3):(rs=7,zt=4)}},tn=G=>{let Ue;for(Xr(G,G.dyn_ltree,G.l_desc.max_code),Xr(G,G.dyn_dtree,G.d_desc.max_code),ar(G,G.bl_desc),Ue=z-1;Ue>=3&&G.bl_tree[de[Ue]*2+1]===0;Ue--);return G.opt_len+=3*(Ue+1)+5+5+4,Ue},vn=(G,Ue,ve,rt)=>{let Et;for(or(G,Ue-257,5),or(G,ve-1,5),or(G,rt-4,4),Et=0;Et<rt;Et++)or(G,G.bl_tree[de[Et]*2+1],3);Cn(G,G.dyn_ltree,Ue-1),Cn(G,G.dyn_dtree,ve-1)},bn=G=>{let Ue=4093624447,ve;for(ve=0;ve<=31;ve++,Ue>>>=1)if(Ue&1&&G.dyn_ltree[ve*2]!==0)return v;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return b;for(ve=32;ve<O;ve++)if(G.dyn_ltree[ve*2]!==0)return b;return v};let Br=!1;const Dt=G=>{Br||($r(),Br=!0),G.l_desc=new ut(G.dyn_ltree,tt),G.d_desc=new ut(G.dyn_dtree,nt),G.bl_desc=new ut(G.bl_tree,Ye),G.bi_buf=0,G.bi_valid=0,on(G)},Tr=(G,Ue,ve,rt)=>{or(G,(E<<1)+(rt?1:0),3),wn(G),St(G,ve),St(G,~ve),ve&&G.pending_buf.set(G.window.subarray(Ue,Ue+ve),G.pending),G.pending+=ve},qr=G=>{or(G,R<<1,3),Zt(G,xe,ge),ur(G)},Zr=(G,Ue,ve,rt)=>{let Et,gt,pr=0;G.level>0?(G.strm.data_type===w&&(G.strm.data_type=bn(G)),ar(G,G.l_desc),ar(G,G.d_desc),pr=tn(G),Et=G.opt_len+3+7>>>3,gt=G.static_len+3+7>>>3,gt<=Et&&(Et=gt)):Et=gt=ve+5,ve+4<=Et&&Ue!==-1?Tr(G,Ue,ve,rt):G.strategy===g||gt===Et?(or(G,(R<<1)+(rt?1:0),3),Pt(G,ge,je)):(or(G,(_<<1)+(rt?1:0),3),vn(G,G.l_desc.max_code+1,G.d_desc.max_code+1,pr+1),Pt(G,G.dyn_ltree,G.dyn_dtree)),on(G),rt&&wn(G)},jn=(G,Ue,ve)=>(G.pending_buf[G.sym_buf+G.sym_next++]=Ue,G.pending_buf[G.sym_buf+G.sym_next++]=Ue>>8,G.pending_buf[G.sym_buf+G.sym_next++]=ve,Ue===0?G.dyn_ltree[ve*2]++:(G.matches++,Ue--,G.dyn_ltree[(He[ve]+O+1)*2]++,G.dyn_dtree[mt(Ue)*2]++),G.sym_next===G.sym_end);var rn=Dt,Kn=Tr,an=Zr,Dr=jn,Hn=qr,Tn={_tr_init:rn,_tr_stored_block:Kn,_tr_flush_block:an,_tr_tally:Dr,_tr_align:Hn},ps=(G,Ue,ve,rt)=>{let Et=G&65535|0,gt=G>>>16&65535|0,pr=0;for(;ve!==0;){pr=ve>2e3?2e3:ve,ve-=pr;do Et=Et+Ue[rt++]|0,gt=gt+Et|0;while(--pr);Et%=65521,gt%=65521}return Et|gt<<16|0};const Ti=()=>{let G,Ue=[];for(var ve=0;ve<256;ve++){G=ve;for(var rt=0;rt<8;rt++)G=G&1?3988292384^G>>>1:G>>>1;Ue[ve]=G}return Ue},ui=new Uint32Array(Ti());var fs=(G,Ue,ve,rt)=>{const Et=ui,gt=rt+ve;G^=-1;for(let pr=rt;pr<gt;pr++)G=G>>>8^Et[(G^Ue[pr])&255];return G^-1},Sn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vs={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:zi,_tr_stored_block:zn,_tr_flush_block:wi,_tr_tally:mi,_tr_align:gi}=Tn,{Z_NO_FLUSH:Ni,Z_PARTIAL_FLUSH:Hs,Z_FULL_FLUSH:Xi,Z_FINISH:Bs,Z_BLOCK:Gi,Z_OK:Ss,Z_STREAM_END:La,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:Pi,Z_BUF_ERROR:Ot,Z_DEFAULT_COMPRESSION:sn,Z_FILTERED:mn,Z_HUFFMAN_ONLY:ji,Z_RLE:As,Z_FIXED:Ji,Z_DEFAULT_STRATEGY:si,Z_UNKNOWN:Ra,Z_DEFLATED:aa}=Vs,wa=9,oa=15,Gt=8,Yr=256+1+29,Gs=30,Xs=19,Si=2*Yr+1,$s=15,Wn=3,Ks=258,xi=Ks+Wn+1,Cs=32,yi=42,Js=57,fa=69,ki=73,Bi=91,Ki=103,za=113,_s=666,Zi=1,ra=2,Ta=3,Ea=4,Qa=3,Wt=(G,Ue)=>(G.msg=Sn[Ue],Ue),ne=G=>G*2-(G>4?9:0),Ee=G=>{let Ue=G.length;for(;--Ue>=0;)G[Ue]=0},Se=G=>{let Ue,ve,rt,Et=G.w_size;Ue=G.hash_size,rt=Ue;do ve=G.head[--rt],G.head[rt]=ve>=Et?ve-Et:0;while(--Ue);Ue=Et,rt=Ue;do ve=G.prev[--rt],G.prev[rt]=ve>=Et?ve-Et:0;while(--Ue)};let ee=(G,Ue,ve)=>(Ue<<G.hash_shift^ve)&G.hash_mask;const be=G=>{const Ue=G.state;let ve=Ue.pending;ve>G.avail_out&&(ve=G.avail_out),ve!==0&&(G.output.set(Ue.pending_buf.subarray(Ue.pending_out,Ue.pending_out+ve),G.next_out),G.next_out+=ve,Ue.pending_out+=ve,G.total_out+=ve,G.avail_out-=ve,Ue.pending-=ve,Ue.pending===0&&(Ue.pending_out=0))},ke=(G,Ue)=>{wi(G,G.block_start>=0?G.block_start:-1,G.strstart-G.block_start,Ue),G.block_start=G.strstart,be(G.strm)},Le=(G,Ue)=>{G.pending_buf[G.pending++]=Ue},Ze=(G,Ue)=>{G.pending_buf[G.pending++]=Ue>>>8&255,G.pending_buf[G.pending++]=Ue&255},ht=(G,Ue,ve,rt)=>{let Et=G.avail_in;return Et>rt&&(Et=rt),Et===0?0:(G.avail_in-=Et,Ue.set(G.input.subarray(G.next_in,G.next_in+Et),ve),G.state.wrap===1?G.adler=ps(G.adler,Ue,Et,ve):G.state.wrap===2&&(G.adler=fs(G.adler,Ue,Et,ve)),G.next_in+=Et,G.total_in+=Et,Et)},V=(G,Ue)=>{let ve=G.max_chain_length,rt=G.strstart,Et,gt,pr=G.prev_length,rr=G.nice_match;const rs=G.strstart>G.w_size-xi?G.strstart-(G.w_size-xi):0,zt=G.window,wr=G.w_mask,Ls=G.prev,Qn=G.strstart+Ks;let An=zt[rt+pr-1],Hr=zt[rt+pr];G.prev_length>=G.good_match&&(ve>>=2),rr>G.lookahead&&(rr=G.lookahead);do if(Et=Ue,!(zt[Et+pr]!==Hr||zt[Et+pr-1]!==An||zt[Et]!==zt[rt]||zt[++Et]!==zt[rt+1])){rt+=2,Et++;do;while(zt[++rt]===zt[++Et]&&zt[++rt]===zt[++Et]&&zt[++rt]===zt[++Et]&&zt[++rt]===zt[++Et]&&zt[++rt]===zt[++Et]&&zt[++rt]===zt[++Et]&&zt[++rt]===zt[++Et]&&zt[++rt]===zt[++Et]&&rt<Qn);if(gt=Ks-(Qn-rt),rt=Qn-Ks,gt>pr){if(G.match_start=Ue,pr=gt,gt>=rr)break;An=zt[rt+pr-1],Hr=zt[rt+pr]}}while((Ue=Ls[Ue&wr])>rs&&--ve!==0);return pr<=G.lookahead?pr:G.lookahead},U=G=>{const Ue=G.w_size;let ve,rt,Et;do{if(rt=G.window_size-G.lookahead-G.strstart,G.strstart>=Ue+(Ue-xi)&&(G.window.set(G.window.subarray(Ue,Ue+Ue-rt),0),G.match_start-=Ue,G.strstart-=Ue,G.block_start-=Ue,G.insert>G.strstart&&(G.insert=G.strstart),Se(G),rt+=Ue),G.strm.avail_in===0)break;if(ve=ht(G.strm,G.window,G.strstart+G.lookahead,rt),G.lookahead+=ve,G.lookahead+G.insert>=Wn)for(Et=G.strstart-G.insert,G.ins_h=G.window[Et],G.ins_h=ee(G,G.ins_h,G.window[Et+1]);G.insert&&(G.ins_h=ee(G,G.ins_h,G.window[Et+Wn-1]),G.prev[Et&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=Et,Et++,G.insert--,!(G.lookahead+G.insert<Wn)););}while(G.lookahead<xi&&G.strm.avail_in!==0)},W=(G,Ue)=>{let ve=G.pending_buf_size-5>G.w_size?G.w_size:G.pending_buf_size-5,rt,Et,gt,pr=0,rr=G.strm.avail_in;do{if(rt=65535,gt=G.bi_valid+42>>3,G.strm.avail_out<gt||(gt=G.strm.avail_out-gt,Et=G.strstart-G.block_start,rt>Et+G.strm.avail_in&&(rt=Et+G.strm.avail_in),rt>gt&&(rt=gt),rt<ve&&(rt===0&&Ue!==Bs||Ue===Ni||rt!==Et+G.strm.avail_in)))break;pr=Ue===Bs&&rt===Et+G.strm.avail_in?1:0,zn(G,0,0,pr),G.pending_buf[G.pending-4]=rt,G.pending_buf[G.pending-3]=rt>>8,G.pending_buf[G.pending-2]=~rt,G.pending_buf[G.pending-1]=~rt>>8,be(G.strm),Et&&(Et>rt&&(Et=rt),G.strm.output.set(G.window.subarray(G.block_start,G.block_start+Et),G.strm.next_out),G.strm.next_out+=Et,G.strm.avail_out-=Et,G.strm.total_out+=Et,G.block_start+=Et,rt-=Et),rt&&(ht(G.strm,G.strm.output,G.strm.next_out,rt),G.strm.next_out+=rt,G.strm.avail_out-=rt,G.strm.total_out+=rt)}while(pr===0);return rr-=G.strm.avail_in,rr&&(rr>=G.w_size?(G.matches=2,G.window.set(G.strm.input.subarray(G.strm.next_in-G.w_size,G.strm.next_in),0),G.strstart=G.w_size,G.insert=G.strstart):(G.window_size-G.strstart<=rr&&(G.strstart-=G.w_size,G.window.set(G.window.subarray(G.w_size,G.w_size+G.strstart),0),G.matches<2&&G.matches++,G.insert>G.strstart&&(G.insert=G.strstart)),G.window.set(G.strm.input.subarray(G.strm.next_in-rr,G.strm.next_in),G.strstart),G.strstart+=rr,G.insert+=rr>G.w_size-G.insert?G.w_size-G.insert:rr),G.block_start=G.strstart),G.high_water<G.strstart&&(G.high_water=G.strstart),pr?Ea:Ue!==Ni&&Ue!==Bs&&G.strm.avail_in===0&&G.strstart===G.block_start?ra:(gt=G.window_size-G.strstart,G.strm.avail_in>gt&&G.block_start>=G.w_size&&(G.block_start-=G.w_size,G.strstart-=G.w_size,G.window.set(G.window.subarray(G.w_size,G.w_size+G.strstart),0),G.matches<2&&G.matches++,gt+=G.w_size,G.insert>G.strstart&&(G.insert=G.strstart)),gt>G.strm.avail_in&&(gt=G.strm.avail_in),gt&&(ht(G.strm,G.window,G.strstart,gt),G.strstart+=gt,G.insert+=gt>G.w_size-G.insert?G.w_size-G.insert:gt),G.high_water<G.strstart&&(G.high_water=G.strstart),gt=G.bi_valid+42>>3,gt=G.pending_buf_size-gt>65535?65535:G.pending_buf_size-gt,ve=gt>G.w_size?G.w_size:gt,Et=G.strstart-G.block_start,(Et>=ve||(Et||Ue===Bs)&&Ue!==Ni&&G.strm.avail_in===0&&Et<=gt)&&(rt=Et>gt?gt:Et,pr=Ue===Bs&&G.strm.avail_in===0&&rt===Et?1:0,zn(G,G.block_start,rt,pr),G.block_start+=rt,be(G.strm)),pr?Ta:Zi)},ae=(G,Ue)=>{let ve,rt;for(;;){if(G.lookahead<xi){if(U(G),G.lookahead<xi&&Ue===Ni)return Zi;if(G.lookahead===0)break}if(ve=0,G.lookahead>=Wn&&(G.ins_h=ee(G,G.ins_h,G.window[G.strstart+Wn-1]),ve=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),ve!==0&&G.strstart-ve<=G.w_size-xi&&(G.match_length=V(G,ve)),G.match_length>=Wn)if(rt=mi(G,G.strstart-G.match_start,G.match_length-Wn),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=Wn){G.match_length--;do G.strstart++,G.ins_h=ee(G,G.ins_h,G.window[G.strstart+Wn-1]),ve=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart;while(--G.match_length!==0);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=ee(G,G.ins_h,G.window[G.strstart+1]);else rt=mi(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if(rt&&(ke(G,!1),G.strm.avail_out===0))return Zi}return G.insert=G.strstart<Wn-1?G.strstart:Wn-1,Ue===Bs?(ke(G,!0),G.strm.avail_out===0?Ta:Ea):G.sym_next&&(ke(G,!1),G.strm.avail_out===0)?Zi:ra},me=(G,Ue)=>{let ve,rt,Et;for(;;){if(G.lookahead<xi){if(U(G),G.lookahead<xi&&Ue===Ni)return Zi;if(G.lookahead===0)break}if(ve=0,G.lookahead>=Wn&&(G.ins_h=ee(G,G.ins_h,G.window[G.strstart+Wn-1]),ve=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=Wn-1,ve!==0&&G.prev_length<G.max_lazy_match&&G.strstart-ve<=G.w_size-xi&&(G.match_length=V(G,ve),G.match_length<=5&&(G.strategy===mn||G.match_length===Wn&&G.strstart-G.match_start>4096)&&(G.match_length=Wn-1)),G.prev_length>=Wn&&G.match_length<=G.prev_length){Et=G.strstart+G.lookahead-Wn,rt=mi(G,G.strstart-1-G.prev_match,G.prev_length-Wn),G.lookahead-=G.prev_length-1,G.prev_length-=2;do++G.strstart<=Et&&(G.ins_h=ee(G,G.ins_h,G.window[G.strstart+Wn-1]),ve=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart);while(--G.prev_length!==0);if(G.match_available=0,G.match_length=Wn-1,G.strstart++,rt&&(ke(G,!1),G.strm.avail_out===0))return Zi}else if(G.match_available){if(rt=mi(G,0,G.window[G.strstart-1]),rt&&ke(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return Zi}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&(rt=mi(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<Wn-1?G.strstart:Wn-1,Ue===Bs?(ke(G,!0),G.strm.avail_out===0?Ta:Ea):G.sym_next&&(ke(G,!1),G.strm.avail_out===0)?Zi:ra},we=(G,Ue)=>{let ve,rt,Et,gt;const pr=G.window;for(;;){if(G.lookahead<=Ks){if(U(G),G.lookahead<=Ks&&Ue===Ni)return Zi;if(G.lookahead===0)break}if(G.match_length=0,G.lookahead>=Wn&&G.strstart>0&&(Et=G.strstart-1,rt=pr[Et],rt===pr[++Et]&&rt===pr[++Et]&&rt===pr[++Et])){gt=G.strstart+Ks;do;while(rt===pr[++Et]&&rt===pr[++Et]&&rt===pr[++Et]&&rt===pr[++Et]&&rt===pr[++Et]&&rt===pr[++Et]&&rt===pr[++Et]&&rt===pr[++Et]&&Et<gt);G.match_length=Ks-(gt-Et),G.match_length>G.lookahead&&(G.match_length=G.lookahead)}if(G.match_length>=Wn?(ve=mi(G,1,G.match_length-Wn),G.lookahead-=G.match_length,G.strstart+=G.match_length,G.match_length=0):(ve=mi(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++),ve&&(ke(G,!1),G.strm.avail_out===0))return Zi}return G.insert=0,Ue===Bs?(ke(G,!0),G.strm.avail_out===0?Ta:Ea):G.sym_next&&(ke(G,!1),G.strm.avail_out===0)?Zi:ra},Be=(G,Ue)=>{let ve;for(;;){if(G.lookahead===0&&(U(G),G.lookahead===0)){if(Ue===Ni)return Zi;break}if(G.match_length=0,ve=mi(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++,ve&&(ke(G,!1),G.strm.avail_out===0))return Zi}return G.insert=0,Ue===Bs?(ke(G,!0),G.strm.avail_out===0?Ta:Ea):G.sym_next&&(ke(G,!1),G.strm.avail_out===0)?Zi:ra};function Re(G,Ue,ve,rt,Et){this.good_length=G,this.max_lazy=Ue,this.nice_length=ve,this.max_chain=rt,this.func=Et}const Te=[new Re(0,0,0,0,W),new Re(4,4,8,4,ae),new Re(4,5,16,8,ae),new Re(4,6,32,32,ae),new Re(4,4,16,16,me),new Re(8,16,32,32,me),new Re(8,16,128,128,me),new Re(8,32,128,256,me),new Re(32,128,258,1024,me),new Re(32,258,258,4096,me)],$e=G=>{G.window_size=2*G.w_size,Ee(G.head),G.max_lazy_match=Te[G.level].max_lazy,G.good_match=Te[G.level].good_length,G.nice_match=Te[G.level].nice_length,G.max_chain_length=Te[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=Wn-1,G.match_available=0,G.ins_h=0};function qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=aa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Si*2),this.dyn_dtree=new Uint16Array((2*Gs+1)*2),this.bl_tree=new Uint16Array((2*Xs+1)*2),Ee(this.dyn_ltree),Ee(this.dyn_dtree),Ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($s+1),this.heap=new Uint16Array(2*Yr+1),Ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Yr+1),Ee(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const at=G=>{if(!G)return 1;const Ue=G.state;return!Ue||Ue.strm!==G||Ue.status!==yi&&Ue.status!==Js&&Ue.status!==fa&&Ue.status!==ki&&Ue.status!==Bi&&Ue.status!==Ki&&Ue.status!==za&&Ue.status!==_s?1:0},pt=G=>{if(at(G))return Wt(G,Qi);G.total_in=G.total_out=0,G.data_type=Ra;const Ue=G.state;return Ue.pending=0,Ue.pending_out=0,Ue.wrap<0&&(Ue.wrap=-Ue.wrap),Ue.status=Ue.wrap===2?Js:Ue.wrap?yi:za,G.adler=Ue.wrap===2?0:1,Ue.last_flush=-2,zi(Ue),Ss},Ie=G=>{const Ue=pt(G);return Ue===Ss&&$e(G.state),Ue},wt=(G,Ue)=>at(G)||G.state.wrap!==2?Qi:(G.state.gzhead=Ue,Ss),At=(G,Ue,ve,rt,Et,gt)=>{if(!G)return Qi;let pr=1;if(Ue===sn&&(Ue=6),rt<0?(pr=0,rt=-rt):rt>15&&(pr=2,rt-=16),Et<1||Et>wa||ve!==aa||rt<8||rt>15||Ue<0||Ue>9||gt<0||gt>Ji||rt===8&&pr!==1)return Wt(G,Qi);rt===8&&(rt=9);const rr=new qe;return G.state=rr,rr.strm=G,rr.status=yi,rr.wrap=pr,rr.gzhead=null,rr.w_bits=rt,rr.w_size=1<<rr.w_bits,rr.w_mask=rr.w_size-1,rr.hash_bits=Et+7,rr.hash_size=1<<rr.hash_bits,rr.hash_mask=rr.hash_size-1,rr.hash_shift=~~((rr.hash_bits+Wn-1)/Wn),rr.window=new Uint8Array(rr.w_size*2),rr.head=new Uint16Array(rr.hash_size),rr.prev=new Uint16Array(rr.w_size),rr.lit_bufsize=1<<Et+6,rr.pending_buf_size=rr.lit_bufsize*4,rr.pending_buf=new Uint8Array(rr.pending_buf_size),rr.sym_buf=rr.lit_bufsize,rr.sym_end=(rr.lit_bufsize-1)*3,rr.level=Ue,rr.strategy=gt,rr.method=ve,Ie(G)},Nt=(G,Ue)=>At(G,Ue,aa,oa,Gt,si),lt=(G,Ue)=>{if(at(G)||Ue>Gi||Ue<0)return G?Wt(G,Qi):Qi;const ve=G.state;if(!G.output||G.avail_in!==0&&!G.input||ve.status===_s&&Ue!==Bs)return Wt(G,G.avail_out===0?Ot:Qi);const rt=ve.last_flush;if(ve.last_flush=Ue,ve.pending!==0){if(be(G),G.avail_out===0)return ve.last_flush=-1,Ss}else if(G.avail_in===0&&ne(Ue)<=ne(rt)&&Ue!==Bs)return Wt(G,Ot);if(ve.status===_s&&G.avail_in!==0)return Wt(G,Ot);if(ve.status===yi&&ve.wrap===0&&(ve.status=za),ve.status===yi){let Et=aa+(ve.w_bits-8<<4)<<8,gt=-1;if(ve.strategy>=ji||ve.level<2?gt=0:ve.level<6?gt=1:ve.level===6?gt=2:gt=3,Et|=gt<<6,ve.strstart!==0&&(Et|=Cs),Et+=31-Et%31,Ze(ve,Et),ve.strstart!==0&&(Ze(ve,G.adler>>>16),Ze(ve,G.adler&65535)),G.adler=1,ve.status=za,be(G),ve.pending!==0)return ve.last_flush=-1,Ss}if(ve.status===Js){if(G.adler=0,Le(ve,31),Le(ve,139),Le(ve,8),ve.gzhead)Le(ve,(ve.gzhead.text?1:0)+(ve.gzhead.hcrc?2:0)+(ve.gzhead.extra?4:0)+(ve.gzhead.name?8:0)+(ve.gzhead.comment?16:0)),Le(ve,ve.gzhead.time&255),Le(ve,ve.gzhead.time>>8&255),Le(ve,ve.gzhead.time>>16&255),Le(ve,ve.gzhead.time>>24&255),Le(ve,ve.level===9?2:ve.strategy>=ji||ve.level<2?4:0),Le(ve,ve.gzhead.os&255),ve.gzhead.extra&&ve.gzhead.extra.length&&(Le(ve,ve.gzhead.extra.length&255),Le(ve,ve.gzhead.extra.length>>8&255)),ve.gzhead.hcrc&&(G.adler=fs(G.adler,ve.pending_buf,ve.pending,0)),ve.gzindex=0,ve.status=fa;else if(Le(ve,0),Le(ve,0),Le(ve,0),Le(ve,0),Le(ve,0),Le(ve,ve.level===9?2:ve.strategy>=ji||ve.level<2?4:0),Le(ve,Qa),ve.status=za,be(G),ve.pending!==0)return ve.last_flush=-1,Ss}if(ve.status===fa){if(ve.gzhead.extra){let Et=ve.pending,gt=(ve.gzhead.extra.length&65535)-ve.gzindex;for(;ve.pending+gt>ve.pending_buf_size;){let rr=ve.pending_buf_size-ve.pending;if(ve.pending_buf.set(ve.gzhead.extra.subarray(ve.gzindex,ve.gzindex+rr),ve.pending),ve.pending=ve.pending_buf_size,ve.gzhead.hcrc&&ve.pending>Et&&(G.adler=fs(G.adler,ve.pending_buf,ve.pending-Et,Et)),ve.gzindex+=rr,be(G),ve.pending!==0)return ve.last_flush=-1,Ss;Et=0,gt-=rr}let pr=new Uint8Array(ve.gzhead.extra);ve.pending_buf.set(pr.subarray(ve.gzindex,ve.gzindex+gt),ve.pending),ve.pending+=gt,ve.gzhead.hcrc&&ve.pending>Et&&(G.adler=fs(G.adler,ve.pending_buf,ve.pending-Et,Et)),ve.gzindex=0}ve.status=ki}if(ve.status===ki){if(ve.gzhead.name){let Et=ve.pending,gt;do{if(ve.pending===ve.pending_buf_size){if(ve.gzhead.hcrc&&ve.pending>Et&&(G.adler=fs(G.adler,ve.pending_buf,ve.pending-Et,Et)),be(G),ve.pending!==0)return ve.last_flush=-1,Ss;Et=0}ve.gzindex<ve.gzhead.name.length?gt=ve.gzhead.name.charCodeAt(ve.gzindex++)&255:gt=0,Le(ve,gt)}while(gt!==0);ve.gzhead.hcrc&&ve.pending>Et&&(G.adler=fs(G.adler,ve.pending_buf,ve.pending-Et,Et)),ve.gzindex=0}ve.status=Bi}if(ve.status===Bi){if(ve.gzhead.comment){let Et=ve.pending,gt;do{if(ve.pending===ve.pending_buf_size){if(ve.gzhead.hcrc&&ve.pending>Et&&(G.adler=fs(G.adler,ve.pending_buf,ve.pending-Et,Et)),be(G),ve.pending!==0)return ve.last_flush=-1,Ss;Et=0}ve.gzindex<ve.gzhead.comment.length?gt=ve.gzhead.comment.charCodeAt(ve.gzindex++)&255:gt=0,Le(ve,gt)}while(gt!==0);ve.gzhead.hcrc&&ve.pending>Et&&(G.adler=fs(G.adler,ve.pending_buf,ve.pending-Et,Et))}ve.status=Ki}if(ve.status===Ki){if(ve.gzhead.hcrc){if(ve.pending+2>ve.pending_buf_size&&(be(G),ve.pending!==0))return ve.last_flush=-1,Ss;Le(ve,G.adler&255),Le(ve,G.adler>>8&255),G.adler=0}if(ve.status=za,be(G),ve.pending!==0)return ve.last_flush=-1,Ss}if(G.avail_in!==0||ve.lookahead!==0||Ue!==Ni&&ve.status!==_s){let Et=ve.level===0?W(ve,Ue):ve.strategy===ji?Be(ve,Ue):ve.strategy===As?we(ve,Ue):Te[ve.level].func(ve,Ue);if((Et===Ta||Et===Ea)&&(ve.status=_s),Et===Zi||Et===Ta)return G.avail_out===0&&(ve.last_flush=-1),Ss;if(Et===ra&&(Ue===Hs?gi(ve):Ue!==Gi&&(zn(ve,0,0,!1),Ue===Xi&&(Ee(ve.head),ve.lookahead===0&&(ve.strstart=0,ve.block_start=0,ve.insert=0))),be(G),G.avail_out===0))return ve.last_flush=-1,Ss}return Ue!==Bs?Ss:ve.wrap<=0?La:(ve.wrap===2?(Le(ve,G.adler&255),Le(ve,G.adler>>8&255),Le(ve,G.adler>>16&255),Le(ve,G.adler>>24&255),Le(ve,G.total_in&255),Le(ve,G.total_in>>8&255),Le(ve,G.total_in>>16&255),Le(ve,G.total_in>>24&255)):(Ze(ve,G.adler>>>16),Ze(ve,G.adler&65535)),be(G),ve.wrap>0&&(ve.wrap=-ve.wrap),ve.pending!==0?Ss:La)},Ut=G=>{if(at(G))return Qi;const Ue=G.state.status;return G.state=null,Ue===za?Wt(G,Pi):Ss},tr=(G,Ue)=>{let ve=Ue.length;if(at(G))return Qi;const rt=G.state,Et=rt.wrap;if(Et===2||Et===1&&rt.status!==yi||rt.lookahead)return Qi;if(Et===1&&(G.adler=ps(G.adler,Ue,ve,0)),rt.wrap=0,ve>=rt.w_size){Et===0&&(Ee(rt.head),rt.strstart=0,rt.block_start=0,rt.insert=0);let rs=new Uint8Array(rt.w_size);rs.set(Ue.subarray(ve-rt.w_size,ve),0),Ue=rs,ve=rt.w_size}const gt=G.avail_in,pr=G.next_in,rr=G.input;for(G.avail_in=ve,G.next_in=0,G.input=Ue,U(rt);rt.lookahead>=Wn;){let rs=rt.strstart,zt=rt.lookahead-(Wn-1);do rt.ins_h=ee(rt,rt.ins_h,rt.window[rs+Wn-1]),rt.prev[rs&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rs,rs++;while(--zt);rt.strstart=rs,rt.lookahead=Wn-1,U(rt)}return rt.strstart+=rt.lookahead,rt.block_start=rt.strstart,rt.insert=rt.lookahead,rt.lookahead=0,rt.match_length=rt.prev_length=Wn-1,rt.match_available=0,G.next_in=pr,G.input=rr,G.avail_in=gt,rt.wrap=Et,Ss};var Ft=Nt,it=At,Yt=Ie,Er=pt,lr=wt,Lt=lt,vr=Ut,ft=tr,yt="pako deflate (from Nodeca project)",$t={deflateInit:Ft,deflateInit2:it,deflateReset:Yt,deflateResetKeep:Er,deflateSetHeader:lr,deflate:Lt,deflateEnd:vr,deflateSetDictionary:ft,deflateInfo:yt};const Mt=(G,Ue)=>Object.prototype.hasOwnProperty.call(G,Ue);var jr=function(G){const Ue=Array.prototype.slice.call(arguments,1);for(;Ue.length;){const ve=Ue.shift();if(ve){if(typeof ve!="object")throw new TypeError(ve+"must be non-object");for(const rt in ve)Mt(ve,rt)&&(G[rt]=ve[rt])}}return G},Pr=G=>{let Ue=0;for(let rt=0,Et=G.length;rt<Et;rt++)Ue+=G[rt].length;const ve=new Uint8Array(Ue);for(let rt=0,Et=0,gt=G.length;rt<gt;rt++){let pr=G[rt];ve.set(pr,Et),Et+=pr.length}return ve},Mr={assign:jr,flattenChunks:Pr};let hr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hr=!1}const Ir=new Uint8Array(256);for(let G=0;G<256;G++)Ir[G]=G>=252?6:G>=248?5:G>=240?4:G>=224?3:G>=192?2:1;Ir[254]=Ir[254]=1;var Nn=G=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(G);let Ue,ve,rt,Et,gt,pr=G.length,rr=0;for(Et=0;Et<pr;Et++)ve=G.charCodeAt(Et),(ve&64512)===55296&&Et+1<pr&&(rt=G.charCodeAt(Et+1),(rt&64512)===56320&&(ve=65536+(ve-55296<<10)+(rt-56320),Et++)),rr+=ve<128?1:ve<2048?2:ve<65536?3:4;for(Ue=new Uint8Array(rr),gt=0,Et=0;gt<rr;Et++)ve=G.charCodeAt(Et),(ve&64512)===55296&&Et+1<pr&&(rt=G.charCodeAt(Et+1),(rt&64512)===56320&&(ve=65536+(ve-55296<<10)+(rt-56320),Et++)),ve<128?Ue[gt++]=ve:ve<2048?(Ue[gt++]=192|ve>>>6,Ue[gt++]=128|ve&63):ve<65536?(Ue[gt++]=224|ve>>>12,Ue[gt++]=128|ve>>>6&63,Ue[gt++]=128|ve&63):(Ue[gt++]=240|ve>>>18,Ue[gt++]=128|ve>>>12&63,Ue[gt++]=128|ve>>>6&63,Ue[gt++]=128|ve&63);return Ue};const gn=(G,Ue)=>{if(Ue<65534&&G.subarray&&hr)return String.fromCharCode.apply(null,G.length===Ue?G:G.subarray(0,Ue));let ve="";for(let rt=0;rt<Ue;rt++)ve+=String.fromCharCode(G[rt]);return ve};var st=(G,Ue)=>{const ve=Ue||G.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(G.subarray(0,Ue));let rt,Et;const gt=new Array(ve*2);for(Et=0,rt=0;rt<ve;){let pr=G[rt++];if(pr<128){gt[Et++]=pr;continue}let rr=Ir[pr];if(rr>4){gt[Et++]=65533,rt+=rr-1;continue}for(pr&=rr===2?31:rr===3?15:7;rr>1&&rt<ve;)pr=pr<<6|G[rt++]&63,rr--;if(rr>1){gt[Et++]=65533;continue}pr<65536?gt[Et++]=pr:(pr-=65536,gt[Et++]=55296|pr>>10&1023,gt[Et++]=56320|pr&1023)}return gn(gt,Et)},Tt=(G,Ue)=>{Ue=Ue||G.length,Ue>G.length&&(Ue=G.length);let ve=Ue-1;for(;ve>=0&&(G[ve]&192)===128;)ve--;return ve<0||ve===0?Ue:ve+Ir[G[ve]]>Ue?ve:Ue},It={string2buf:Nn,buf2string:st,utf8border:Tt};function er(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var nr=er;const mr=Object.prototype.toString,{Z_NO_FLUSH:Or,Z_SYNC_FLUSH:Fr,Z_FULL_FLUSH:Jr,Z_FINISH:Pn,Z_OK:Xn,Z_STREAM_END:ts,Z_DEFAULT_COMPRESSION:ws,Z_DEFAULT_STRATEGY:bt,Z_DEFLATED:Dn}=Vs;function Is(G){this.options=Mr.assign({level:ws,method:Dn,chunkSize:16384,windowBits:15,memLevel:8,strategy:bt},G||{});let Ue=this.options;Ue.raw&&Ue.windowBits>0?Ue.windowBits=-Ue.windowBits:Ue.gzip&&Ue.windowBits>0&&Ue.windowBits<16&&(Ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nr,this.strm.avail_out=0;let ve=$t.deflateInit2(this.strm,Ue.level,Ue.method,Ue.windowBits,Ue.memLevel,Ue.strategy);if(ve!==Xn)throw new Error(Sn[ve]);if(Ue.header&&$t.deflateSetHeader(this.strm,Ue.header),Ue.dictionary){let rt;if(typeof Ue.dictionary=="string"?rt=It.string2buf(Ue.dictionary):mr.call(Ue.dictionary)==="[object ArrayBuffer]"?rt=new Uint8Array(Ue.dictionary):rt=Ue.dictionary,ve=$t.deflateSetDictionary(this.strm,rt),ve!==Xn)throw new Error(Sn[ve]);this._dict_set=!0}}Is.prototype.push=function(G,Ue){const ve=this.strm,rt=this.options.chunkSize;let Et,gt;if(this.ended)return!1;for(Ue===~~Ue?gt=Ue:gt=Ue===!0?Pn:Or,typeof G=="string"?ve.input=It.string2buf(G):mr.call(G)==="[object ArrayBuffer]"?ve.input=new Uint8Array(G):ve.input=G,ve.next_in=0,ve.avail_in=ve.input.length;;){if(ve.avail_out===0&&(ve.output=new Uint8Array(rt),ve.next_out=0,ve.avail_out=rt),(gt===Fr||gt===Jr)&&ve.avail_out<=6){this.onData(ve.output.subarray(0,ve.next_out)),ve.avail_out=0;continue}if(Et=$t.deflate(ve,gt),Et===ts)return ve.next_out>0&&this.onData(ve.output.subarray(0,ve.next_out)),Et=$t.deflateEnd(this.strm),this.onEnd(Et),this.ended=!0,Et===Xn;if(ve.avail_out===0){this.onData(ve.output);continue}if(gt>0&&ve.next_out>0){this.onData(ve.output.subarray(0,ve.next_out)),ve.avail_out=0;continue}if(ve.avail_in===0)break}return!0},Is.prototype.onData=function(G){this.chunks.push(G)},Is.prototype.onEnd=function(G){G===Xn&&(this.result=Mr.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg};function dt(G,Ue){const ve=new Is(Ue);if(ve.push(G,!0),ve.err)throw ve.msg||Sn[ve.err];return ve.result}function Rt(G,Ue){return Ue=Ue||{},Ue.raw=!0,dt(G,Ue)}function ir(G,Ue){return Ue=Ue||{},Ue.gzip=!0,dt(G,Ue)}var Xt=Is,_r=dt,Lr=Rt,fn=ir,dn={Deflate:Xt,deflate:_r,deflateRaw:Lr,gzip:fn};const fr=16209,xn=16191;var Bn=function(Ue,ve){let rt,Et,gt,pr,rr,rs,zt,wr,Ls,Qn,An,Hr,sa,Us,Ts,Qs,hi,Ln,qs,ha,ys,Ei,ei,us;const Os=Ue.state;rt=Ue.next_in,ei=Ue.input,Et=rt+(Ue.avail_in-5),gt=Ue.next_out,us=Ue.output,pr=gt-(ve-Ue.avail_out),rr=gt+(Ue.avail_out-257),rs=Os.dmax,zt=Os.wsize,wr=Os.whave,Ls=Os.wnext,Qn=Os.window,An=Os.hold,Hr=Os.bits,sa=Os.lencode,Us=Os.distcode,Ts=(1<<Os.lenbits)-1,Qs=(1<<Os.distbits)-1;e:do{Hr<15&&(An+=ei[rt++]<<Hr,Hr+=8,An+=ei[rt++]<<Hr,Hr+=8),hi=sa[An&Ts];t:for(;;){if(Ln=hi>>>24,An>>>=Ln,Hr-=Ln,Ln=hi>>>16&255,Ln===0)us[gt++]=hi&65535;else if(Ln&16){qs=hi&65535,Ln&=15,Ln&&(Hr<Ln&&(An+=ei[rt++]<<Hr,Hr+=8),qs+=An&(1<<Ln)-1,An>>>=Ln,Hr-=Ln),Hr<15&&(An+=ei[rt++]<<Hr,Hr+=8,An+=ei[rt++]<<Hr,Hr+=8),hi=Us[An&Qs];r:for(;;){if(Ln=hi>>>24,An>>>=Ln,Hr-=Ln,Ln=hi>>>16&255,Ln&16){if(ha=hi&65535,Ln&=15,Hr<Ln&&(An+=ei[rt++]<<Hr,Hr+=8,Hr<Ln&&(An+=ei[rt++]<<Hr,Hr+=8)),ha+=An&(1<<Ln)-1,ha>rs){Ue.msg="invalid distance too far back",Os.mode=fr;break e}if(An>>>=Ln,Hr-=Ln,Ln=gt-pr,ha>Ln){if(Ln=ha-Ln,Ln>wr&&Os.sane){Ue.msg="invalid distance too far back",Os.mode=fr;break e}if(ys=0,Ei=Qn,Ls===0){if(ys+=zt-Ln,Ln<qs){qs-=Ln;do us[gt++]=Qn[ys++];while(--Ln);ys=gt-ha,Ei=us}}else if(Ls<Ln){if(ys+=zt+Ls-Ln,Ln-=Ls,Ln<qs){qs-=Ln;do us[gt++]=Qn[ys++];while(--Ln);if(ys=0,Ls<qs){Ln=Ls,qs-=Ln;do us[gt++]=Qn[ys++];while(--Ln);ys=gt-ha,Ei=us}}}else if(ys+=Ls-Ln,Ln<qs){qs-=Ln;do us[gt++]=Qn[ys++];while(--Ln);ys=gt-ha,Ei=us}for(;qs>2;)us[gt++]=Ei[ys++],us[gt++]=Ei[ys++],us[gt++]=Ei[ys++],qs-=3;qs&&(us[gt++]=Ei[ys++],qs>1&&(us[gt++]=Ei[ys++]))}else{ys=gt-ha;do us[gt++]=us[ys++],us[gt++]=us[ys++],us[gt++]=us[ys++],qs-=3;while(qs>2);qs&&(us[gt++]=us[ys++],qs>1&&(us[gt++]=us[ys++]))}}else if((Ln&64)===0){hi=Us[(hi&65535)+(An&(1<<Ln)-1)];continue r}else{Ue.msg="invalid distance code",Os.mode=fr;break e}break}}else if((Ln&64)===0){hi=sa[(hi&65535)+(An&(1<<Ln)-1)];continue t}else if(Ln&32){Os.mode=xn;break e}else{Ue.msg="invalid literal/length code",Os.mode=fr;break e}break}}while(rt<Et&&gt<rr);qs=Hr>>3,rt-=qs,Hr-=qs<<3,An&=(1<<Hr)-1,Ue.next_in=rt,Ue.next_out=gt,Ue.avail_in=rt<Et?5+(Et-rt):5-(rt-Et),Ue.avail_out=gt<rr?257+(rr-gt):257-(gt-rr),Os.hold=An,Os.bits=Hr};const un=15,qn=852,Fn=592,Es=0,Jn=1,ms=2,Ps=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Vi=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),as=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Mi=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ls=(G,Ue,ve,rt,Et,gt,pr,rr)=>{const rs=rr.bits;let zt=0,wr=0,Ls=0,Qn=0,An=0,Hr=0,sa=0,Us=0,Ts=0,Qs=0,hi,Ln,qs,ha,ys,Ei=null,ei;const us=new Uint16Array(un+1),Os=new Uint16Array(un+1);let so=null,ul,uo,Xa;for(zt=0;zt<=un;zt++)us[zt]=0;for(wr=0;wr<rt;wr++)us[Ue[ve+wr]]++;for(An=rs,Qn=un;Qn>=1&&us[Qn]===0;Qn--);if(An>Qn&&(An=Qn),Qn===0)return Et[gt++]=1<<24|64<<16|0,Et[gt++]=1<<24|64<<16|0,rr.bits=1,0;for(Ls=1;Ls<Qn&&us[Ls]===0;Ls++);for(An<Ls&&(An=Ls),Us=1,zt=1;zt<=un;zt++)if(Us<<=1,Us-=us[zt],Us<0)return-1;if(Us>0&&(G===Es||Qn!==1))return-1;for(Os[1]=0,zt=1;zt<un;zt++)Os[zt+1]=Os[zt]+us[zt];for(wr=0;wr<rt;wr++)Ue[ve+wr]!==0&&(pr[Os[Ue[ve+wr]]++]=wr);if(G===Es?(Ei=so=pr,ei=20):G===Jn?(Ei=Ps,so=Vi,ei=257):(Ei=as,so=Mi,ei=0),Qs=0,wr=0,zt=Ls,ys=gt,Hr=An,sa=0,qs=-1,Ts=1<<An,ha=Ts-1,G===Jn&&Ts>qn||G===ms&&Ts>Fn)return 1;for(;;){ul=zt-sa,pr[wr]+1<ei?(uo=0,Xa=pr[wr]):pr[wr]>=ei?(uo=so[pr[wr]-ei],Xa=Ei[pr[wr]-ei]):(uo=96,Xa=0),hi=1<<zt-sa,Ln=1<<Hr,Ls=Ln;do Ln-=hi,Et[ys+(Qs>>sa)+Ln]=ul<<24|uo<<16|Xa|0;while(Ln!==0);for(hi=1<<zt-1;Qs&hi;)hi>>=1;if(hi!==0?(Qs&=hi-1,Qs+=hi):Qs=0,wr++,--us[zt]===0){if(zt===Qn)break;zt=Ue[ve+pr[wr]]}if(zt>An&&(Qs&ha)!==qs){for(sa===0&&(sa=An),ys+=Ls,Hr=zt-sa,Us=1<<Hr;Hr+sa<Qn&&(Us-=us[Hr+sa],!(Us<=0));)Hr++,Us<<=1;if(Ts+=1<<Hr,G===Jn&&Ts>qn||G===ms&&Ts>Fn)return 1;qs=Qs&ha,Et[qs]=An<<24|Hr<<16|ys-gt|0}}return Qs!==0&&(Et[ys+Qs]=zt-sa<<24|64<<16|0),rr.bits=An,0};const $i=0,pn=1,In=2,{Z_FINISH:ai,Z_BLOCK:rl,Z_TREES:ja,Z_OK:$a,Z_STREAM_END:yl,Z_NEED_DICT:Ms,Z_STREAM_ERROR:Sa,Z_DATA_ERROR:ro,Z_MEM_ERROR:zo,Z_BUF_ERROR:Ba,Z_DEFLATED:ea}=Vs,Na=16180,Ya=16181,Dl=16182,Va=16183,So=16184,bl=16185,nl=16186,Ga=16187,Co=16188,Qo=16189,go=16190,lo=16191,sl=16192,Vo=16193,wl=16194,Cc=16195,Nl=16196,_c=16197,Ul=16198,xo=16199,Hl=16200,Jl=16201,dc=16202,Go=16203,fc=16204,hc=16205,il=16206,pc=16207,Zl=16208,Ds=16209,Rc=16210,al=16211,Di=852,Nc=592,Pa=15,El=G=>(G>>>24&255)+(G>>>8&65280)+((G&65280)<<8)+((G&255)<<24);function zl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ko=G=>{if(!G)return 1;const Ue=G.state;return!Ue||Ue.strm!==G||Ue.mode<Na||Ue.mode>al?1:0},Ac=G=>{if(Ko(G))return Sa;const Ue=G.state;return G.total_in=G.total_out=Ue.total=0,G.msg="",Ue.wrap&&(G.adler=Ue.wrap&1),Ue.mode=Na,Ue.last=0,Ue.havedict=0,Ue.flags=-1,Ue.dmax=32768,Ue.head=null,Ue.hold=0,Ue.bits=0,Ue.lencode=Ue.lendyn=new Int32Array(Di),Ue.distcode=Ue.distdyn=new Int32Array(Nc),Ue.sane=1,Ue.back=-1,$a},vo=G=>{if(Ko(G))return Sa;const Ue=G.state;return Ue.wsize=0,Ue.whave=0,Ue.wnext=0,Ac(G)},Pc=(G,Ue)=>{let ve;if(Ko(G))return Sa;const rt=G.state;return Ue<0?(ve=0,Ue=-Ue):(ve=(Ue>>4)+5,Ue<48&&(Ue&=15)),Ue&&(Ue<8||Ue>15)?Sa:(rt.window!==null&&rt.wbits!==Ue&&(rt.window=null),rt.wrap=ve,rt.wbits=Ue,vo(G))},ec=(G,Ue)=>{if(!G)return Sa;const ve=new zl;G.state=ve,ve.strm=G,ve.window=null,ve.mode=Na;const rt=Pc(G,Ue);return rt!==$a&&(G.state=null),rt},kc=G=>ec(G,Pa);let Ql=!0,tc,rc;const nc=G=>{if(Ql){tc=new Int32Array(512),rc=new Int32Array(32);let Ue=0;for(;Ue<144;)G.lens[Ue++]=8;for(;Ue<256;)G.lens[Ue++]=9;for(;Ue<280;)G.lens[Ue++]=7;for(;Ue<288;)G.lens[Ue++]=8;for(ls(pn,G.lens,0,288,tc,0,G.work,{bits:9}),Ue=0;Ue<32;)G.lens[Ue++]=5;ls(In,G.lens,0,32,rc,0,G.work,{bits:5}),Ql=!1}G.lencode=tc,G.lenbits=9,G.distcode=rc,G.distbits=5},sc=(G,Ue,ve,rt)=>{let Et;const gt=G.state;return gt.window===null&&(gt.wsize=1<<gt.wbits,gt.wnext=0,gt.whave=0,gt.window=new Uint8Array(gt.wsize)),rt>=gt.wsize?(gt.window.set(Ue.subarray(ve-gt.wsize,ve),0),gt.wnext=0,gt.whave=gt.wsize):(Et=gt.wsize-gt.wnext,Et>rt&&(Et=rt),gt.window.set(Ue.subarray(ve-rt,ve-rt+Et),gt.wnext),rt-=Et,rt?(gt.window.set(Ue.subarray(ve-rt,ve),0),gt.wnext=rt,gt.whave=gt.wsize):(gt.wnext+=Et,gt.wnext===gt.wsize&&(gt.wnext=0),gt.whave<gt.wsize&&(gt.whave+=Et))),0},Bc=(G,Ue)=>{let ve,rt,Et,gt,pr,rr,rs,zt,wr,Ls,Qn,An,Hr,sa,Us=0,Ts,Qs,hi,Ln,qs,ha,ys,Ei;const ei=new Uint8Array(4);let us,Os;const so=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ko(G)||!G.output||!G.input&&G.avail_in!==0)return Sa;ve=G.state,ve.mode===lo&&(ve.mode=sl),pr=G.next_out,Et=G.output,rs=G.avail_out,gt=G.next_in,rt=G.input,rr=G.avail_in,zt=ve.hold,wr=ve.bits,Ls=rr,Qn=rs,Ei=$a;e:for(;;)switch(ve.mode){case Na:if(ve.wrap===0){ve.mode=sl;break}for(;wr<16;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(ve.wrap&2&&zt===35615){ve.wbits===0&&(ve.wbits=15),ve.check=0,ei[0]=zt&255,ei[1]=zt>>>8&255,ve.check=fs(ve.check,ei,2,0),zt=0,wr=0,ve.mode=Ya;break}if(ve.head&&(ve.head.done=!1),!(ve.wrap&1)||(((zt&255)<<8)+(zt>>8))%31){G.msg="incorrect header check",ve.mode=Ds;break}if((zt&15)!==ea){G.msg="unknown compression method",ve.mode=Ds;break}if(zt>>>=4,wr-=4,ys=(zt&15)+8,ve.wbits===0&&(ve.wbits=ys),ys>15||ys>ve.wbits){G.msg="invalid window size",ve.mode=Ds;break}ve.dmax=1<<ve.wbits,ve.flags=0,G.adler=ve.check=1,ve.mode=zt&512?Qo:lo,zt=0,wr=0;break;case Ya:for(;wr<16;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(ve.flags=zt,(ve.flags&255)!==ea){G.msg="unknown compression method",ve.mode=Ds;break}if(ve.flags&57344){G.msg="unknown header flags set",ve.mode=Ds;break}ve.head&&(ve.head.text=zt>>8&1),ve.flags&512&&ve.wrap&4&&(ei[0]=zt&255,ei[1]=zt>>>8&255,ve.check=fs(ve.check,ei,2,0)),zt=0,wr=0,ve.mode=Dl;case Dl:for(;wr<32;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}ve.head&&(ve.head.time=zt),ve.flags&512&&ve.wrap&4&&(ei[0]=zt&255,ei[1]=zt>>>8&255,ei[2]=zt>>>16&255,ei[3]=zt>>>24&255,ve.check=fs(ve.check,ei,4,0)),zt=0,wr=0,ve.mode=Va;case Va:for(;wr<16;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}ve.head&&(ve.head.xflags=zt&255,ve.head.os=zt>>8),ve.flags&512&&ve.wrap&4&&(ei[0]=zt&255,ei[1]=zt>>>8&255,ve.check=fs(ve.check,ei,2,0)),zt=0,wr=0,ve.mode=So;case So:if(ve.flags&1024){for(;wr<16;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}ve.length=zt,ve.head&&(ve.head.extra_len=zt),ve.flags&512&&ve.wrap&4&&(ei[0]=zt&255,ei[1]=zt>>>8&255,ve.check=fs(ve.check,ei,2,0)),zt=0,wr=0}else ve.head&&(ve.head.extra=null);ve.mode=bl;case bl:if(ve.flags&1024&&(An=ve.length,An>rr&&(An=rr),An&&(ve.head&&(ys=ve.head.extra_len-ve.length,ve.head.extra||(ve.head.extra=new Uint8Array(ve.head.extra_len)),ve.head.extra.set(rt.subarray(gt,gt+An),ys)),ve.flags&512&&ve.wrap&4&&(ve.check=fs(ve.check,rt,An,gt)),rr-=An,gt+=An,ve.length-=An),ve.length))break e;ve.length=0,ve.mode=nl;case nl:if(ve.flags&2048){if(rr===0)break e;An=0;do ys=rt[gt+An++],ve.head&&ys&&ve.length<65536&&(ve.head.name+=String.fromCharCode(ys));while(ys&&An<rr);if(ve.flags&512&&ve.wrap&4&&(ve.check=fs(ve.check,rt,An,gt)),rr-=An,gt+=An,ys)break e}else ve.head&&(ve.head.name=null);ve.length=0,ve.mode=Ga;case Ga:if(ve.flags&4096){if(rr===0)break e;An=0;do ys=rt[gt+An++],ve.head&&ys&&ve.length<65536&&(ve.head.comment+=String.fromCharCode(ys));while(ys&&An<rr);if(ve.flags&512&&ve.wrap&4&&(ve.check=fs(ve.check,rt,An,gt)),rr-=An,gt+=An,ys)break e}else ve.head&&(ve.head.comment=null);ve.mode=Co;case Co:if(ve.flags&512){for(;wr<16;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(ve.wrap&4&&zt!==(ve.check&65535)){G.msg="header crc mismatch",ve.mode=Ds;break}zt=0,wr=0}ve.head&&(ve.head.hcrc=ve.flags>>9&1,ve.head.done=!0),G.adler=ve.check=0,ve.mode=lo;break;case Qo:for(;wr<32;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}G.adler=ve.check=El(zt),zt=0,wr=0,ve.mode=go;case go:if(ve.havedict===0)return G.next_out=pr,G.avail_out=rs,G.next_in=gt,G.avail_in=rr,ve.hold=zt,ve.bits=wr,Ms;G.adler=ve.check=1,ve.mode=lo;case lo:if(Ue===rl||Ue===ja)break e;case sl:if(ve.last){zt>>>=wr&7,wr-=wr&7,ve.mode=il;break}for(;wr<3;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}switch(ve.last=zt&1,zt>>>=1,wr-=1,zt&3){case 0:ve.mode=Vo;break;case 1:if(nc(ve),ve.mode=xo,Ue===ja){zt>>>=2,wr-=2;break e}break;case 2:ve.mode=Nl;break;case 3:G.msg="invalid block type",ve.mode=Ds}zt>>>=2,wr-=2;break;case Vo:for(zt>>>=wr&7,wr-=wr&7;wr<32;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if((zt&65535)!==(zt>>>16^65535)){G.msg="invalid stored block lengths",ve.mode=Ds;break}if(ve.length=zt&65535,zt=0,wr=0,ve.mode=wl,Ue===ja)break e;case wl:ve.mode=Cc;case Cc:if(An=ve.length,An){if(An>rr&&(An=rr),An>rs&&(An=rs),An===0)break e;Et.set(rt.subarray(gt,gt+An),pr),rr-=An,gt+=An,rs-=An,pr+=An,ve.length-=An;break}ve.mode=lo;break;case Nl:for(;wr<14;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(ve.nlen=(zt&31)+257,zt>>>=5,wr-=5,ve.ndist=(zt&31)+1,zt>>>=5,wr-=5,ve.ncode=(zt&15)+4,zt>>>=4,wr-=4,ve.nlen>286||ve.ndist>30){G.msg="too many length or distance symbols",ve.mode=Ds;break}ve.have=0,ve.mode=_c;case _c:for(;ve.have<ve.ncode;){for(;wr<3;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}ve.lens[so[ve.have++]]=zt&7,zt>>>=3,wr-=3}for(;ve.have<19;)ve.lens[so[ve.have++]]=0;if(ve.lencode=ve.lendyn,ve.lenbits=7,us={bits:ve.lenbits},Ei=ls($i,ve.lens,0,19,ve.lencode,0,ve.work,us),ve.lenbits=us.bits,Ei){G.msg="invalid code lengths set",ve.mode=Ds;break}ve.have=0,ve.mode=Ul;case Ul:for(;ve.have<ve.nlen+ve.ndist;){for(;Us=ve.lencode[zt&(1<<ve.lenbits)-1],Ts=Us>>>24,Qs=Us>>>16&255,hi=Us&65535,!(Ts<=wr);){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(hi<16)zt>>>=Ts,wr-=Ts,ve.lens[ve.have++]=hi;else{if(hi===16){for(Os=Ts+2;wr<Os;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(zt>>>=Ts,wr-=Ts,ve.have===0){G.msg="invalid bit length repeat",ve.mode=Ds;break}ys=ve.lens[ve.have-1],An=3+(zt&3),zt>>>=2,wr-=2}else if(hi===17){for(Os=Ts+3;wr<Os;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}zt>>>=Ts,wr-=Ts,ys=0,An=3+(zt&7),zt>>>=3,wr-=3}else{for(Os=Ts+7;wr<Os;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}zt>>>=Ts,wr-=Ts,ys=0,An=11+(zt&127),zt>>>=7,wr-=7}if(ve.have+An>ve.nlen+ve.ndist){G.msg="invalid bit length repeat",ve.mode=Ds;break}for(;An--;)ve.lens[ve.have++]=ys}}if(ve.mode===Ds)break;if(ve.lens[256]===0){G.msg="invalid code -- missing end-of-block",ve.mode=Ds;break}if(ve.lenbits=9,us={bits:ve.lenbits},Ei=ls(pn,ve.lens,0,ve.nlen,ve.lencode,0,ve.work,us),ve.lenbits=us.bits,Ei){G.msg="invalid literal/lengths set",ve.mode=Ds;break}if(ve.distbits=6,ve.distcode=ve.distdyn,us={bits:ve.distbits},Ei=ls(In,ve.lens,ve.nlen,ve.ndist,ve.distcode,0,ve.work,us),ve.distbits=us.bits,Ei){G.msg="invalid distances set",ve.mode=Ds;break}if(ve.mode=xo,Ue===ja)break e;case xo:ve.mode=Hl;case Hl:if(rr>=6&&rs>=258){G.next_out=pr,G.avail_out=rs,G.next_in=gt,G.avail_in=rr,ve.hold=zt,ve.bits=wr,Bn(G,Qn),pr=G.next_out,Et=G.output,rs=G.avail_out,gt=G.next_in,rt=G.input,rr=G.avail_in,zt=ve.hold,wr=ve.bits,ve.mode===lo&&(ve.back=-1);break}for(ve.back=0;Us=ve.lencode[zt&(1<<ve.lenbits)-1],Ts=Us>>>24,Qs=Us>>>16&255,hi=Us&65535,!(Ts<=wr);){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(Qs&&(Qs&240)===0){for(Ln=Ts,qs=Qs,ha=hi;Us=ve.lencode[ha+((zt&(1<<Ln+qs)-1)>>Ln)],Ts=Us>>>24,Qs=Us>>>16&255,hi=Us&65535,!(Ln+Ts<=wr);){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}zt>>>=Ln,wr-=Ln,ve.back+=Ln}if(zt>>>=Ts,wr-=Ts,ve.back+=Ts,ve.length=hi,Qs===0){ve.mode=hc;break}if(Qs&32){ve.back=-1,ve.mode=lo;break}if(Qs&64){G.msg="invalid literal/length code",ve.mode=Ds;break}ve.extra=Qs&15,ve.mode=Jl;case Jl:if(ve.extra){for(Os=ve.extra;wr<Os;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}ve.length+=zt&(1<<ve.extra)-1,zt>>>=ve.extra,wr-=ve.extra,ve.back+=ve.extra}ve.was=ve.length,ve.mode=dc;case dc:for(;Us=ve.distcode[zt&(1<<ve.distbits)-1],Ts=Us>>>24,Qs=Us>>>16&255,hi=Us&65535,!(Ts<=wr);){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if((Qs&240)===0){for(Ln=Ts,qs=Qs,ha=hi;Us=ve.distcode[ha+((zt&(1<<Ln+qs)-1)>>Ln)],Ts=Us>>>24,Qs=Us>>>16&255,hi=Us&65535,!(Ln+Ts<=wr);){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}zt>>>=Ln,wr-=Ln,ve.back+=Ln}if(zt>>>=Ts,wr-=Ts,ve.back+=Ts,Qs&64){G.msg="invalid distance code",ve.mode=Ds;break}ve.offset=hi,ve.extra=Qs&15,ve.mode=Go;case Go:if(ve.extra){for(Os=ve.extra;wr<Os;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}ve.offset+=zt&(1<<ve.extra)-1,zt>>>=ve.extra,wr-=ve.extra,ve.back+=ve.extra}if(ve.offset>ve.dmax){G.msg="invalid distance too far back",ve.mode=Ds;break}ve.mode=fc;case fc:if(rs===0)break e;if(An=Qn-rs,ve.offset>An){if(An=ve.offset-An,An>ve.whave&&ve.sane){G.msg="invalid distance too far back",ve.mode=Ds;break}An>ve.wnext?(An-=ve.wnext,Hr=ve.wsize-An):Hr=ve.wnext-An,An>ve.length&&(An=ve.length),sa=ve.window}else sa=Et,Hr=pr-ve.offset,An=ve.length;An>rs&&(An=rs),rs-=An,ve.length-=An;do Et[pr++]=sa[Hr++];while(--An);ve.length===0&&(ve.mode=Hl);break;case hc:if(rs===0)break e;Et[pr++]=ve.length,rs--,ve.mode=Hl;break;case il:if(ve.wrap){for(;wr<32;){if(rr===0)break e;rr--,zt|=rt[gt++]<<wr,wr+=8}if(Qn-=rs,G.total_out+=Qn,ve.total+=Qn,ve.wrap&4&&Qn&&(G.adler=ve.check=ve.flags?fs(ve.check,Et,Qn,pr-Qn):ps(ve.check,Et,Qn,pr-Qn)),Qn=rs,ve.wrap&4&&(ve.flags?zt:El(zt))!==ve.check){G.msg="incorrect data check",ve.mode=Ds;break}zt=0,wr=0}ve.mode=pc;case pc:if(ve.wrap&&ve.flags){for(;wr<32;){if(rr===0)break e;rr--,zt+=rt[gt++]<<wr,wr+=8}if(ve.wrap&4&&zt!==(ve.total&4294967295)){G.msg="incorrect length check",ve.mode=Ds;break}zt=0,wr=0}ve.mode=Zl;case Zl:Ei=yl;break e;case Ds:Ei=ro;break e;case Rc:return zo;case al:default:return Sa}return G.next_out=pr,G.avail_out=rs,G.next_in=gt,G.avail_in=rr,ve.hold=zt,ve.bits=wr,(ve.wsize||Qn!==G.avail_out&&ve.mode<Ds&&(ve.mode<il||Ue!==ai))&&sc(G,G.output,G.next_out,Qn-G.avail_out),Ls-=G.avail_in,Qn-=G.avail_out,G.total_in+=Ls,G.total_out+=Qn,ve.total+=Qn,ve.wrap&4&&Qn&&(G.adler=ve.check=ve.flags?fs(ve.check,Et,Qn,G.next_out-Qn):ps(ve.check,Et,Qn,G.next_out-Qn)),G.data_type=ve.bits+(ve.last?64:0)+(ve.mode===lo?128:0)+(ve.mode===xo||ve.mode===wl?256:0),(Ls===0&&Qn===0||Ue===ai)&&Ei===$a&&(Ei=Ba),Ei},qo=G=>{if(Ko(G))return Sa;let Ue=G.state;return Ue.window&&(Ue.window=null),G.state=null,$a},bu=(G,Ue)=>{if(Ko(G))return Sa;const ve=G.state;return(ve.wrap&2)===0?Sa:(ve.head=Ue,Ue.done=!1,$a)},ic=(G,Ue)=>{const ve=Ue.length;let rt,Et,gt;return Ko(G)||(rt=G.state,rt.wrap!==0&&rt.mode!==go)?Sa:rt.mode===go&&(Et=1,Et=ps(Et,Ue,ve,0),Et!==rt.check)?ro:(gt=sc(G,Ue,ve,ve),gt?(rt.mode=Rc,zo):(rt.havedict=1,$a))};var Xc=vo,wu=Pc,zs=Ac,Pl=kc,uu=ec,jl=Bc,no=qo,Wo=bu,ol=ic,Jc="pako inflate (from Nodeca project)",Mo={inflateReset:Xc,inflateReset2:wu,inflateResetKeep:zs,inflateInit:Pl,inflateInit2:uu,inflate:jl,inflateEnd:no,inflateGetHeader:Wo,inflateSetDictionary:ol,inflateInfo:Jc};function mc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var yo=mc;const ac=Object.prototype.toString,{Z_NO_FLUSH:Fo,Z_FINISH:Ic,Z_OK:Sl,Z_STREAM_END:ll,Z_NEED_DICT:Yo,Z_STREAM_ERROR:Ci,Z_DATA_ERROR:qi,Z_MEM_ERROR:Xo}=Vs;function Ca(G){this.options=Mr.assign({chunkSize:65536,windowBits:15,to:""},G||{});const Ue=this.options;Ue.raw&&Ue.windowBits>=0&&Ue.windowBits<16&&(Ue.windowBits=-Ue.windowBits,Ue.windowBits===0&&(Ue.windowBits=-15)),Ue.windowBits>=0&&Ue.windowBits<16&&!(G&&G.windowBits)&&(Ue.windowBits+=32),Ue.windowBits>15&&Ue.windowBits<48&&(Ue.windowBits&15)===0&&(Ue.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nr,this.strm.avail_out=0;let ve=Mo.inflateInit2(this.strm,Ue.windowBits);if(ve!==Sl)throw new Error(Sn[ve]);if(this.header=new yo,Mo.inflateGetHeader(this.strm,this.header),Ue.dictionary&&(typeof Ue.dictionary=="string"?Ue.dictionary=It.string2buf(Ue.dictionary):ac.call(Ue.dictionary)==="[object ArrayBuffer]"&&(Ue.dictionary=new Uint8Array(Ue.dictionary)),Ue.raw&&(ve=Mo.inflateSetDictionary(this.strm,Ue.dictionary),ve!==Sl)))throw new Error(Sn[ve])}Ca.prototype.push=function(G,Ue){const ve=this.strm,rt=this.options.chunkSize,Et=this.options.dictionary;let gt,pr,rr;if(this.ended)return!1;for(Ue===~~Ue?pr=Ue:pr=Ue===!0?Ic:Fo,ac.call(G)==="[object ArrayBuffer]"?ve.input=new Uint8Array(G):ve.input=G,ve.next_in=0,ve.avail_in=ve.input.length;;){for(ve.avail_out===0&&(ve.output=new Uint8Array(rt),ve.next_out=0,ve.avail_out=rt),gt=Mo.inflate(ve,pr),gt===Yo&&Et&&(gt=Mo.inflateSetDictionary(ve,Et),gt===Sl?gt=Mo.inflate(ve,pr):gt===qi&&(gt=Yo));ve.avail_in>0&&gt===ll&&ve.state.wrap>0&&G[ve.next_in]!==0;)Mo.inflateReset(ve),gt=Mo.inflate(ve,pr);switch(gt){case Ci:case qi:case Yo:case Xo:return this.onEnd(gt),this.ended=!0,!1}if(rr=ve.avail_out,ve.next_out&&(ve.avail_out===0||gt===ll))if(this.options.to==="string"){let rs=It.utf8border(ve.output,ve.next_out),zt=ve.next_out-rs,wr=It.buf2string(ve.output,rs);ve.next_out=zt,ve.avail_out=rt-zt,zt&&ve.output.set(ve.output.subarray(rs,rs+zt),0),this.onData(wr)}else this.onData(ve.output.length===ve.next_out?ve.output:ve.output.subarray(0,ve.next_out));if(!(gt===Sl&&rr===0)){if(gt===ll)return gt=Mo.inflateEnd(this.strm),this.onEnd(gt),this.ended=!0,!0;if(ve.avail_in===0)break}}return!0},Ca.prototype.onData=function(G){this.chunks.push(G)},Ca.prototype.onEnd=function(G){G===Sl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mr.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg};function Ia(G,Ue){const ve=new Ca(Ue);if(ve.push(G),ve.err)throw ve.msg||Sn[ve.err];return ve.result}function Cl(G,Ue){return Ue=Ue||{},Ue.raw=!0,Ia(G,Ue)}var Vl=Ca,co=Ia,cl=Cl,kl=Ia,Zc={Inflate:Vl,inflate:co,inflateRaw:cl,ungzip:kl};const{Deflate:Bl,deflate:eu,deflateRaw:Ce,gzip:Ge}=dn,{Inflate:_t,inflate:Ht,inflateRaw:cr,ungzip:Ur}=Zc;var nn=Bl,ns=eu,cs=Ce,Fs=Ge,Rs=_t,Zs=Ht,ta=cr,na=Ur,Ii=Vs,ga={Deflate:nn,deflate:ns,deflateRaw:cs,gzip:Fs,Inflate:Rs,inflate:Zs,inflateRaw:ta,ungzip:na,constants:Ii}}),"./node_modules/performance-now/lib/performance-now.js":(function(A){(function(){var m,f,g,v,b,w;typeof performance<"u"&&performance!==null&&performance.now?A.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(A.exports=function(){return(m()-b)/1e6},f=process.hrtime,m=function(){var j;return j=f(),j[0]*1e9+j[1]},v=m(),w=process.uptime()*1e9,b=v-w):Date.now?(A.exports=function(){return Date.now()-g},g=Date.now()):(A.exports=function(){return new Date().getTime()-g},g=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(A,m,f){for(var g=f("./node_modules/performance-now/lib/performance-now.js"),v=typeof window>"u"?commonjsGlobal:window,b=["moz","webkit"],w="AnimationFrame",j=v["request"+w],E=v["cancel"+w]||v["cancelRequest"+w],R=0;!j&&R<b.length;R++)j=v[b[R]+"Request"+w],E=v[b[R]+"Cancel"+w]||v[b[R]+"CancelRequest"+w];if(!j||!E){var _=0,N=0,B=[],M=1e3/60;j=function(O){if(B.length===0){var F=g(),$=Math.max(0,M-(F-_));_=$+F,setTimeout(function(){var z=B.slice(0);B.length=0;for(var se=0;se<z.length;se++)if(!z[se].cancelled)try{z[se].callback(_)}catch(ce){setTimeout(function(){throw ce},0)}},Math.round($))}return B.push({handle:++N,callback:O,cancelled:!1}),N},E=function(O){for(var F=0;F<B.length;F++)B[F].handle===O&&(B[F].cancelled=!0)}}A.exports=function(O){return j.call(v,O)},A.exports.cancel=function(){E.apply(v,arguments)},A.exports.polyfill=function(O){O||(O=v),O.requestAnimationFrame=j,O.cancelAnimationFrame=E}}),"./node_modules/rgbcolor/index.js":(function(A){A.exports=function(m){this.ok=!1,this.alpha=1,m.charAt(0)=="#"&&(m=m.substr(1,6)),m=m.replace(/ /g,""),m=m.toLowerCase();var f={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};m=f[m]||m;for(var g=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(R){return[parseInt(R[1]),parseInt(R[2]),parseInt(R[3]),parseFloat(R[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(R){return[parseInt(R[1]),parseInt(R[2]),parseInt(R[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(R){return[parseInt(R[1],16),parseInt(R[2],16),parseInt(R[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(R){return[parseInt(R[1]+R[1],16),parseInt(R[2]+R[2],16),parseInt(R[3]+R[3],16)]}}],v=0;v<g.length;v++){var b=g[v].re,w=g[v].process,j=b.exec(m);if(j){var E=w(j);this.r=E[0],this.g=E[1],this.b=E[2],E.length>3&&(this.alpha=E[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var R=this.r.toString(16),_=this.g.toString(16),N=this.b.toString(16);return R.length==1&&(R="0"+R),_.length==1&&(_="0"+_),N.length==1&&(N="0"+N),"#"+R+_+N},this.getHelpXML=function(){for(var R=new Array,_=0;_<g.length;_++)for(var N=g[_].example,B=0;B<N.length;B++)R[R.length]=N[B];for(var M in f)R[R.length]=M;var O=document.createElement("ul");O.setAttribute("id","rgbcolor-examples");for(var _=0;_<R.length;_++)try{var F=document.createElement("li"),$=new RGBColor(R[_]),z=document.createElement("div");z.style.cssText="margin: 3px; border: 1px solid black; background:"+$.toHex()+"; color:"+$.toHex(),z.appendChild(document.createTextNode("test"));var se=document.createTextNode(" "+R[_]+" -> "+$.toRGB()+" -> "+$.toHex());F.appendChild(z),F.appendChild(se),O.appendChild(F)}catch{}return O}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(A,m,f){f.r(m),f.d(m,{BlurStack:function(){return M},canvasRGB:function(){return N},canvasRGBA:function(){return R},image:function(){return j},imageDataRGB:function(){return B},imageDataRGBA:function(){return _}});function g(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(F){return typeof F}:g=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},g(O)}function v(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}var b=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],w=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function j(O,F,$,z,se,ce){if(typeof O=="string"&&(O=document.getElementById(O)),!(!O||Object.prototype.toString.call(O).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in O))){var ie=se?"offset":"natural",pe=O[ie+"Width"],xe=O[ie+"Height"];if(Object.prototype.toString.call(O).slice(8,-1)==="ImageBitmap"&&(pe=O.width,xe=O.height),typeof F=="string"&&(F=document.getElementById(F)),!(!F||!("getContext"in F))){ce||(F.style.width=pe+"px",F.style.height=xe+"px"),F.width=pe,F.height=xe;var Ae=F.getContext("2d");Ae.clearRect(0,0,pe,xe),Ae.drawImage(O,0,0,O.naturalWidth,O.naturalHeight,0,0,pe,xe),!(isNaN($)||$<1)&&(z?R(F,0,0,pe,xe,$):N(F,0,0,pe,xe,$))}}}function E(O,F,$,z,se){if(typeof O=="string"&&(O=document.getElementById(O)),!O||g(O)!=="object"||!("getContext"in O))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var ce=O.getContext("2d");try{return ce.getImageData(F,$,z,se)}catch(ie){throw new Error("unable to access image data: "+ie)}}function R(O,F,$,z,se,ce){if(!(isNaN(ce)||ce<1)){ce|=0;var ie=E(O,F,$,z,se);ie=_(ie,F,$,z,se,ce),O.getContext("2d").putImageData(ie,F,$)}}function _(O,F,$,z,se,ce){for(var ie=O.data,pe=2*ce+1,xe=z-1,Ae=se-1,ue=ce+1,Y=ue*(ue+1)/2,fe=new M,H=fe,le,de=1;de<pe;de++)H=H.next=new M,de===ue&&(le=H);H.next=fe;for(var ye=null,ge=null,je=0,Me=0,He=b[ce],Qe=w[ce],ze=0;ze<se;ze++){H=fe;for(var Ve=ie[Me],tt=ie[Me+1],nt=ie[Me+2],Ye=ie[Me+3],ut=0;ut<ue;ut++)H.r=Ve,H.g=tt,H.b=nt,H.a=Ye,H=H.next;for(var mt=0,St=0,or=0,Zt=0,Bt=ue*Ve,ur=ue*tt,Nr=ue*nt,Qr=ue*Ye,$r=Y*Ve,on=Y*tt,wn=Y*nt,En=Y*Ye,en=1;en<ue;en++){var Pt=Me+((xe<en?xe:en)<<2),ar=ie[Pt],Xr=ie[Pt+1],Cn=ie[Pt+2],tn=ie[Pt+3],vn=ue-en;$r+=(H.r=ar)*vn,on+=(H.g=Xr)*vn,wn+=(H.b=Cn)*vn,En+=(H.a=tn)*vn,mt+=ar,St+=Xr,or+=Cn,Zt+=tn,H=H.next}ye=fe,ge=le;for(var bn=0;bn<z;bn++){var Br=En*He>>>Qe;if(ie[Me+3]=Br,Br!==0){var Dt=255/Br;ie[Me]=($r*He>>>Qe)*Dt,ie[Me+1]=(on*He>>>Qe)*Dt,ie[Me+2]=(wn*He>>>Qe)*Dt}else ie[Me]=ie[Me+1]=ie[Me+2]=0;$r-=Bt,on-=ur,wn-=Nr,En-=Qr,Bt-=ye.r,ur-=ye.g,Nr-=ye.b,Qr-=ye.a;var Tr=bn+ce+1;Tr=je+(Tr<xe?Tr:xe)<<2,mt+=ye.r=ie[Tr],St+=ye.g=ie[Tr+1],or+=ye.b=ie[Tr+2],Zt+=ye.a=ie[Tr+3],$r+=mt,on+=St,wn+=or,En+=Zt,ye=ye.next;var qr=ge,Zr=qr.r,jn=qr.g,rn=qr.b,Kn=qr.a;Bt+=Zr,ur+=jn,Nr+=rn,Qr+=Kn,mt-=Zr,St-=jn,or-=rn,Zt-=Kn,ge=ge.next,Me+=4}je+=z}for(var an=0;an<z;an++){Me=an<<2;var Dr=ie[Me],Hn=ie[Me+1],Tn=ie[Me+2],es=ie[Me+3],ps=ue*Dr,Ti=ue*Hn,ui=ue*Tn,vi=ue*es,fs=Y*Dr,Sn=Y*Hn,Vs=Y*Tn,zi=Y*es;H=fe;for(var zn=0;zn<ue;zn++)H.r=Dr,H.g=Hn,H.b=Tn,H.a=es,H=H.next;for(var wi=z,mi=0,gi=0,Ni=0,Hs=0,Xi=1;Xi<=ce;Xi++){Me=wi+an<<2;var Bs=ue-Xi;fs+=(H.r=Dr=ie[Me])*Bs,Sn+=(H.g=Hn=ie[Me+1])*Bs,Vs+=(H.b=Tn=ie[Me+2])*Bs,zi+=(H.a=es=ie[Me+3])*Bs,Hs+=Dr,mi+=Hn,gi+=Tn,Ni+=es,H=H.next,Xi<Ae&&(wi+=z)}Me=an,ye=fe,ge=le;for(var Gi=0;Gi<se;Gi++){var Ss=Me<<2;ie[Ss+3]=es=zi*He>>>Qe,es>0?(es=255/es,ie[Ss]=(fs*He>>>Qe)*es,ie[Ss+1]=(Sn*He>>>Qe)*es,ie[Ss+2]=(Vs*He>>>Qe)*es):ie[Ss]=ie[Ss+1]=ie[Ss+2]=0,fs-=ps,Sn-=Ti,Vs-=ui,zi-=vi,ps-=ye.r,Ti-=ye.g,ui-=ye.b,vi-=ye.a,Ss=an+((Ss=Gi+ue)<Ae?Ss:Ae)*z<<2,fs+=Hs+=ye.r=ie[Ss],Sn+=mi+=ye.g=ie[Ss+1],Vs+=gi+=ye.b=ie[Ss+2],zi+=Ni+=ye.a=ie[Ss+3],ye=ye.next,ps+=Dr=ge.r,Ti+=Hn=ge.g,ui+=Tn=ge.b,vi+=es=ge.a,Hs-=Dr,mi-=Hn,gi-=Tn,Ni-=es,ge=ge.next,Me+=z}}return O}function N(O,F,$,z,se,ce){if(!(isNaN(ce)||ce<1)){ce|=0;var ie=E(O,F,$,z,se);ie=B(ie,F,$,z,se,ce),O.getContext("2d").putImageData(ie,F,$)}}function B(O,F,$,z,se,ce){for(var ie=O.data,pe=2*ce+1,xe=z-1,Ae=se-1,ue=ce+1,Y=ue*(ue+1)/2,fe=new M,H=fe,le,de=1;de<pe;de++)H=H.next=new M,de===ue&&(le=H);H.next=fe;for(var ye=null,ge=null,je=b[ce],Me=w[ce],He,Qe,ze=0,Ve=0,tt=0;tt<se;tt++){var nt=ie[Ve],Ye=ie[Ve+1],ut=ie[Ve+2],mt=ue*nt,St=ue*Ye,or=ue*ut,Zt=Y*nt,Bt=Y*Ye,ur=Y*ut;H=fe;for(var Nr=0;Nr<ue;Nr++)H.r=nt,H.g=Ye,H.b=ut,H=H.next;for(var Qr=0,$r=0,on=0,wn=1;wn<ue;wn++)He=Ve+((xe<wn?xe:wn)<<2),Zt+=(H.r=nt=ie[He])*(Qe=ue-wn),Bt+=(H.g=Ye=ie[He+1])*Qe,ur+=(H.b=ut=ie[He+2])*Qe,Qr+=nt,$r+=Ye,on+=ut,H=H.next;ye=fe,ge=le;for(var En=0;En<z;En++)ie[Ve]=Zt*je>>>Me,ie[Ve+1]=Bt*je>>>Me,ie[Ve+2]=ur*je>>>Me,Zt-=mt,Bt-=St,ur-=or,mt-=ye.r,St-=ye.g,or-=ye.b,He=ze+((He=En+ce+1)<xe?He:xe)<<2,Qr+=ye.r=ie[He],$r+=ye.g=ie[He+1],on+=ye.b=ie[He+2],Zt+=Qr,Bt+=$r,ur+=on,ye=ye.next,mt+=nt=ge.r,St+=Ye=ge.g,or+=ut=ge.b,Qr-=nt,$r-=Ye,on-=ut,ge=ge.next,Ve+=4;ze+=z}for(var en=0;en<z;en++){Ve=en<<2;var Pt=ie[Ve],ar=ie[Ve+1],Xr=ie[Ve+2],Cn=ue*Pt,tn=ue*ar,vn=ue*Xr,bn=Y*Pt,Br=Y*ar,Dt=Y*Xr;H=fe;for(var Tr=0;Tr<ue;Tr++)H.r=Pt,H.g=ar,H.b=Xr,H=H.next;for(var qr=0,Zr=0,jn=0,rn=1,Kn=z;rn<=ce;rn++)Ve=Kn+en<<2,bn+=(H.r=Pt=ie[Ve])*(Qe=ue-rn),Br+=(H.g=ar=ie[Ve+1])*Qe,Dt+=(H.b=Xr=ie[Ve+2])*Qe,qr+=Pt,Zr+=ar,jn+=Xr,H=H.next,rn<Ae&&(Kn+=z);Ve=en,ye=fe,ge=le;for(var an=0;an<se;an++)He=Ve<<2,ie[He]=bn*je>>>Me,ie[He+1]=Br*je>>>Me,ie[He+2]=Dt*je>>>Me,bn-=Cn,Br-=tn,Dt-=vn,Cn-=ye.r,tn-=ye.g,vn-=ye.b,He=en+((He=an+ue)<Ae?He:Ae)*z<<2,bn+=qr+=ye.r=ie[He],Br+=Zr+=ye.g=ie[He+1],Dt+=jn+=ye.b=ie[He+2],ye=ye.next,Cn+=Pt=ge.r,tn+=ar=ge.g,vn+=Xr=ge.b,qr-=Pt,Zr-=ar,jn-=Xr,ge=ge.next,Ve+=z}return O}var M=function O(){v(this,O),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(A,m,f){f.r(m),f.d(m,{COMMAND_ARG_COUNTS:function(){return Ae},SVGPathData:function(){return xe},SVGPathDataParser:function(){return pe},SVGPathDataTransformer:function(){return N},encodeSVGPath:function(){return b}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var g=function(ue,Y){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,H){fe.__proto__=H}||function(fe,H){for(var le in H)Object.prototype.hasOwnProperty.call(H,le)&&(fe[le]=H[le])})(ue,Y)};function v(ue,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function fe(){this.constructor=ue}g(ue,Y),ue.prototype=Y===null?Object.create(Y):(fe.prototype=Y.prototype,new fe)}function b(ue){var Y="";Array.isArray(ue)||(ue=[ue]);for(var fe=0;fe<ue.length;fe++){var H=ue[fe];if(H.type===xe.CLOSE_PATH)Y+="z";else if(H.type===xe.HORIZ_LINE_TO)Y+=(H.relative?"h":"H")+H.x;else if(H.type===xe.VERT_LINE_TO)Y+=(H.relative?"v":"V")+H.y;else if(H.type===xe.MOVE_TO)Y+=(H.relative?"m":"M")+H.x+" "+H.y;else if(H.type===xe.LINE_TO)Y+=(H.relative?"l":"L")+H.x+" "+H.y;else if(H.type===xe.CURVE_TO)Y+=(H.relative?"c":"C")+H.x1+" "+H.y1+" "+H.x2+" "+H.y2+" "+H.x+" "+H.y;else if(H.type===xe.SMOOTH_CURVE_TO)Y+=(H.relative?"s":"S")+H.x2+" "+H.y2+" "+H.x+" "+H.y;else if(H.type===xe.QUAD_TO)Y+=(H.relative?"q":"Q")+H.x1+" "+H.y1+" "+H.x+" "+H.y;else if(H.type===xe.SMOOTH_QUAD_TO)Y+=(H.relative?"t":"T")+H.x+" "+H.y;else{if(H.type!==xe.ARC)throw new Error('Unexpected command type "'+H.type+'" at index '+fe+".");Y+=(H.relative?"a":"A")+H.rX+" "+H.rY+" "+H.xRot+" "+ +H.lArcFlag+" "+ +H.sweepFlag+" "+H.x+" "+H.y}}return Y}function w(ue,Y){var fe=ue[0],H=ue[1];return[fe*Math.cos(Y)-H*Math.sin(Y),fe*Math.sin(Y)+H*Math.cos(Y)]}function j(){for(var ue=[],Y=0;Y<arguments.length;Y++)ue[Y]=arguments[Y];for(var fe=0;fe<ue.length;fe++)if(typeof ue[fe]!="number")throw new Error("assertNumbers arguments["+fe+"] is not a number. "+typeof ue[fe]+" == typeof "+ue[fe]);return!0}var E=Math.PI;function R(ue,Y,fe){ue.lArcFlag=ue.lArcFlag===0?0:1,ue.sweepFlag=ue.sweepFlag===0?0:1;var H=ue.rX,le=ue.rY,de=ue.x,ye=ue.y;H=Math.abs(ue.rX),le=Math.abs(ue.rY);var ge=w([(Y-de)/2,(fe-ye)/2],-ue.xRot/180*E),je=ge[0],Me=ge[1],He=Math.pow(je,2)/Math.pow(H,2)+Math.pow(Me,2)/Math.pow(le,2);1<He&&(H*=Math.sqrt(He),le*=Math.sqrt(He)),ue.rX=H,ue.rY=le;var Qe=Math.pow(H,2)*Math.pow(Me,2)+Math.pow(le,2)*Math.pow(je,2),ze=(ue.lArcFlag!==ue.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(H,2)*Math.pow(le,2)-Qe)/Qe)),Ve=H*Me/le*ze,tt=-le*je/H*ze,nt=w([Ve,tt],ue.xRot/180*E);ue.cX=nt[0]+(Y+de)/2,ue.cY=nt[1]+(fe+ye)/2,ue.phi1=Math.atan2((Me-tt)/le,(je-Ve)/H),ue.phi2=Math.atan2((-Me-tt)/le,(-je-Ve)/H),ue.sweepFlag===0&&ue.phi2>ue.phi1&&(ue.phi2-=2*E),ue.sweepFlag===1&&ue.phi2<ue.phi1&&(ue.phi2+=2*E),ue.phi1*=180/E,ue.phi2*=180/E}function _(ue,Y,fe){j(ue,Y,fe);var H=ue*ue+Y*Y-fe*fe;if(0>H)return[];if(H===0)return[[ue*fe/(ue*ue+Y*Y),Y*fe/(ue*ue+Y*Y)]];var le=Math.sqrt(H);return[[(ue*fe+Y*le)/(ue*ue+Y*Y),(Y*fe-ue*le)/(ue*ue+Y*Y)],[(ue*fe-Y*le)/(ue*ue+Y*Y),(Y*fe+ue*le)/(ue*ue+Y*Y)]]}var N,B=Math.PI/180;function M(ue,Y,fe){return(1-fe)*ue+fe*Y}function O(ue,Y,fe,H){return ue+Math.cos(H/180*E)*Y+Math.sin(H/180*E)*fe}function F(ue,Y,fe,H){var le=1e-6,de=Y-ue,ye=fe-Y,ge=3*de+3*(H-fe)-6*ye,je=6*(ye-de),Me=3*de;return Math.abs(ge)<le?[-Me/je]:(function(He,Qe,ze){var Ve=He*He/4-Qe;if(Ve<-ze)return[];if(Ve<=ze)return[-He/2];var tt=Math.sqrt(Ve);return[-He/2-tt,-He/2+tt]})(je/ge,Me/ge,le)}function $(ue,Y,fe,H,le){var de=1-le;return ue*(de*de*de)+Y*(3*de*de*le)+fe*(3*de*le*le)+H*(le*le*le)}(function(ue){function Y(){return le((function(ge,je,Me){return ge.relative&&(ge.x1!==void 0&&(ge.x1+=je),ge.y1!==void 0&&(ge.y1+=Me),ge.x2!==void 0&&(ge.x2+=je),ge.y2!==void 0&&(ge.y2+=Me),ge.x!==void 0&&(ge.x+=je),ge.y!==void 0&&(ge.y+=Me),ge.relative=!1),ge}))}function fe(){var ge=NaN,je=NaN,Me=NaN,He=NaN;return le((function(Qe,ze,Ve){return Qe.type&xe.SMOOTH_CURVE_TO&&(Qe.type=xe.CURVE_TO,ge=isNaN(ge)?ze:ge,je=isNaN(je)?Ve:je,Qe.x1=Qe.relative?ze-ge:2*ze-ge,Qe.y1=Qe.relative?Ve-je:2*Ve-je),Qe.type&xe.CURVE_TO?(ge=Qe.relative?ze+Qe.x2:Qe.x2,je=Qe.relative?Ve+Qe.y2:Qe.y2):(ge=NaN,je=NaN),Qe.type&xe.SMOOTH_QUAD_TO&&(Qe.type=xe.QUAD_TO,Me=isNaN(Me)?ze:Me,He=isNaN(He)?Ve:He,Qe.x1=Qe.relative?ze-Me:2*ze-Me,Qe.y1=Qe.relative?Ve-He:2*Ve-He),Qe.type&xe.QUAD_TO?(Me=Qe.relative?ze+Qe.x1:Qe.x1,He=Qe.relative?Ve+Qe.y1:Qe.y1):(Me=NaN,He=NaN),Qe}))}function H(){var ge=NaN,je=NaN;return le((function(Me,He,Qe){if(Me.type&xe.SMOOTH_QUAD_TO&&(Me.type=xe.QUAD_TO,ge=isNaN(ge)?He:ge,je=isNaN(je)?Qe:je,Me.x1=Me.relative?He-ge:2*He-ge,Me.y1=Me.relative?Qe-je:2*Qe-je),Me.type&xe.QUAD_TO){ge=Me.relative?He+Me.x1:Me.x1,je=Me.relative?Qe+Me.y1:Me.y1;var ze=Me.x1,Ve=Me.y1;Me.type=xe.CURVE_TO,Me.x1=((Me.relative?0:He)+2*ze)/3,Me.y1=((Me.relative?0:Qe)+2*Ve)/3,Me.x2=(Me.x+2*ze)/3,Me.y2=(Me.y+2*Ve)/3}else ge=NaN,je=NaN;return Me}))}function le(ge){var je=0,Me=0,He=NaN,Qe=NaN;return function(ze){if(isNaN(He)&&!(ze.type&xe.MOVE_TO))throw new Error("path must start with moveto");var Ve=ge(ze,je,Me,He,Qe);return ze.type&xe.CLOSE_PATH&&(je=He,Me=Qe),ze.x!==void 0&&(je=ze.relative?je+ze.x:ze.x),ze.y!==void 0&&(Me=ze.relative?Me+ze.y:ze.y),ze.type&xe.MOVE_TO&&(He=je,Qe=Me),Ve}}function de(ge,je,Me,He,Qe,ze){return j(ge,je,Me,He,Qe,ze),le((function(Ve,tt,nt,Ye){var ut=Ve.x1,mt=Ve.x2,St=Ve.relative&&!isNaN(Ye),or=Ve.x!==void 0?Ve.x:St?0:tt,Zt=Ve.y!==void 0?Ve.y:St?0:nt;function Bt(Br){return Br*Br}Ve.type&xe.HORIZ_LINE_TO&&je!==0&&(Ve.type=xe.LINE_TO,Ve.y=Ve.relative?0:nt),Ve.type&xe.VERT_LINE_TO&&Me!==0&&(Ve.type=xe.LINE_TO,Ve.x=Ve.relative?0:tt),Ve.x!==void 0&&(Ve.x=Ve.x*ge+Zt*Me+(St?0:Qe)),Ve.y!==void 0&&(Ve.y=or*je+Ve.y*He+(St?0:ze)),Ve.x1!==void 0&&(Ve.x1=Ve.x1*ge+Ve.y1*Me+(St?0:Qe)),Ve.y1!==void 0&&(Ve.y1=ut*je+Ve.y1*He+(St?0:ze)),Ve.x2!==void 0&&(Ve.x2=Ve.x2*ge+Ve.y2*Me+(St?0:Qe)),Ve.y2!==void 0&&(Ve.y2=mt*je+Ve.y2*He+(St?0:ze));var ur=ge*He-je*Me;if(Ve.xRot!==void 0&&(ge!==1||je!==0||Me!==0||He!==1))if(ur===0)delete Ve.rX,delete Ve.rY,delete Ve.xRot,delete Ve.lArcFlag,delete Ve.sweepFlag,Ve.type=xe.LINE_TO;else{var Nr=Ve.xRot*Math.PI/180,Qr=Math.sin(Nr),$r=Math.cos(Nr),on=1/Bt(Ve.rX),wn=1/Bt(Ve.rY),En=Bt($r)*on+Bt(Qr)*wn,en=2*Qr*$r*(on-wn),Pt=Bt(Qr)*on+Bt($r)*wn,ar=En*He*He-en*je*He+Pt*je*je,Xr=en*(ge*He+je*Me)-2*(En*Me*He+Pt*ge*je),Cn=En*Me*Me-en*ge*Me+Pt*ge*ge,tn=(Math.atan2(Xr,ar-Cn)+Math.PI)%Math.PI/2,vn=Math.sin(tn),bn=Math.cos(tn);Ve.rX=Math.abs(ur)/Math.sqrt(ar*Bt(bn)+Xr*vn*bn+Cn*Bt(vn)),Ve.rY=Math.abs(ur)/Math.sqrt(ar*Bt(vn)-Xr*vn*bn+Cn*Bt(bn)),Ve.xRot=180*tn/Math.PI}return Ve.sweepFlag!==void 0&&0>ur&&(Ve.sweepFlag=+!Ve.sweepFlag),Ve}))}function ye(){return function(ge){var je={};for(var Me in ge)je[Me]=ge[Me];return je}}ue.ROUND=function(ge){function je(Me){return Math.round(Me*ge)/ge}return ge===void 0&&(ge=1e13),j(ge),function(Me){return Me.x1!==void 0&&(Me.x1=je(Me.x1)),Me.y1!==void 0&&(Me.y1=je(Me.y1)),Me.x2!==void 0&&(Me.x2=je(Me.x2)),Me.y2!==void 0&&(Me.y2=je(Me.y2)),Me.x!==void 0&&(Me.x=je(Me.x)),Me.y!==void 0&&(Me.y=je(Me.y)),Me.rX!==void 0&&(Me.rX=je(Me.rX)),Me.rY!==void 0&&(Me.rY=je(Me.rY)),Me}},ue.TO_ABS=Y,ue.TO_REL=function(){return le((function(ge,je,Me){return ge.relative||(ge.x1!==void 0&&(ge.x1-=je),ge.y1!==void 0&&(ge.y1-=Me),ge.x2!==void 0&&(ge.x2-=je),ge.y2!==void 0&&(ge.y2-=Me),ge.x!==void 0&&(ge.x-=je),ge.y!==void 0&&(ge.y-=Me),ge.relative=!0),ge}))},ue.NORMALIZE_HVZ=function(ge,je,Me){return ge===void 0&&(ge=!0),je===void 0&&(je=!0),Me===void 0&&(Me=!0),le((function(He,Qe,ze,Ve,tt){if(isNaN(Ve)&&!(He.type&xe.MOVE_TO))throw new Error("path must start with moveto");return je&&He.type&xe.HORIZ_LINE_TO&&(He.type=xe.LINE_TO,He.y=He.relative?0:ze),Me&&He.type&xe.VERT_LINE_TO&&(He.type=xe.LINE_TO,He.x=He.relative?0:Qe),ge&&He.type&xe.CLOSE_PATH&&(He.type=xe.LINE_TO,He.x=He.relative?Ve-Qe:Ve,He.y=He.relative?tt-ze:tt),He.type&xe.ARC&&(He.rX===0||He.rY===0)&&(He.type=xe.LINE_TO,delete He.rX,delete He.rY,delete He.xRot,delete He.lArcFlag,delete He.sweepFlag),He}))},ue.NORMALIZE_ST=fe,ue.QT_TO_C=H,ue.INFO=le,ue.SANITIZE=function(ge){ge===void 0&&(ge=0),j(ge);var je=NaN,Me=NaN,He=NaN,Qe=NaN;return le((function(ze,Ve,tt,nt,Ye){var ut=Math.abs,mt=!1,St=0,or=0;if(ze.type&xe.SMOOTH_CURVE_TO&&(St=isNaN(je)?0:Ve-je,or=isNaN(Me)?0:tt-Me),ze.type&(xe.CURVE_TO|xe.SMOOTH_CURVE_TO)?(je=ze.relative?Ve+ze.x2:ze.x2,Me=ze.relative?tt+ze.y2:ze.y2):(je=NaN,Me=NaN),ze.type&xe.SMOOTH_QUAD_TO?(He=isNaN(He)?Ve:2*Ve-He,Qe=isNaN(Qe)?tt:2*tt-Qe):ze.type&xe.QUAD_TO?(He=ze.relative?Ve+ze.x1:ze.x1,Qe=ze.relative?tt+ze.y1:ze.y2):(He=NaN,Qe=NaN),ze.type&xe.LINE_COMMANDS||ze.type&xe.ARC&&(ze.rX===0||ze.rY===0||!ze.lArcFlag)||ze.type&xe.CURVE_TO||ze.type&xe.SMOOTH_CURVE_TO||ze.type&xe.QUAD_TO||ze.type&xe.SMOOTH_QUAD_TO){var Zt=ze.x===void 0?0:ze.relative?ze.x:ze.x-Ve,Bt=ze.y===void 0?0:ze.relative?ze.y:ze.y-tt;St=isNaN(He)?ze.x1===void 0?St:ze.relative?ze.x:ze.x1-Ve:He-Ve,or=isNaN(Qe)?ze.y1===void 0?or:ze.relative?ze.y:ze.y1-tt:Qe-tt;var ur=ze.x2===void 0?0:ze.relative?ze.x:ze.x2-Ve,Nr=ze.y2===void 0?0:ze.relative?ze.y:ze.y2-tt;ut(Zt)<=ge&&ut(Bt)<=ge&&ut(St)<=ge&&ut(or)<=ge&&ut(ur)<=ge&&ut(Nr)<=ge&&(mt=!0)}return ze.type&xe.CLOSE_PATH&&ut(Ve-nt)<=ge&&ut(tt-Ye)<=ge&&(mt=!0),mt?[]:ze}))},ue.MATRIX=de,ue.ROTATE=function(ge,je,Me){je===void 0&&(je=0),Me===void 0&&(Me=0),j(ge,je,Me);var He=Math.sin(ge),Qe=Math.cos(ge);return de(Qe,He,-He,Qe,je-je*Qe+Me*He,Me-je*He-Me*Qe)},ue.TRANSLATE=function(ge,je){return je===void 0&&(je=0),j(ge,je),de(1,0,0,1,ge,je)},ue.SCALE=function(ge,je){return je===void 0&&(je=ge),j(ge,je),de(ge,0,0,je,0,0)},ue.SKEW_X=function(ge){return j(ge),de(1,0,Math.atan(ge),1,0,0)},ue.SKEW_Y=function(ge){return j(ge),de(1,Math.atan(ge),0,1,0,0)},ue.X_AXIS_SYMMETRY=function(ge){return ge===void 0&&(ge=0),j(ge),de(-1,0,0,1,ge,0)},ue.Y_AXIS_SYMMETRY=function(ge){return ge===void 0&&(ge=0),j(ge),de(1,0,0,-1,0,ge)},ue.A_TO_C=function(){return le((function(ge,je,Me){return xe.ARC===ge.type?(function(He,Qe,ze){var Ve,tt,nt,Ye;He.cX||R(He,Qe,ze);for(var ut=Math.min(He.phi1,He.phi2),mt=Math.max(He.phi1,He.phi2)-ut,St=Math.ceil(mt/90),or=new Array(St),Zt=Qe,Bt=ze,ur=0;ur<St;ur++){var Nr=M(He.phi1,He.phi2,ur/St),Qr=M(He.phi1,He.phi2,(ur+1)/St),$r=Qr-Nr,on=4/3*Math.tan($r*B/4),wn=[Math.cos(Nr*B)-on*Math.sin(Nr*B),Math.sin(Nr*B)+on*Math.cos(Nr*B)],En=wn[0],en=wn[1],Pt=[Math.cos(Qr*B),Math.sin(Qr*B)],ar=Pt[0],Xr=Pt[1],Cn=[ar+on*Math.sin(Qr*B),Xr-on*Math.cos(Qr*B)],tn=Cn[0],vn=Cn[1];or[ur]={relative:He.relative,type:xe.CURVE_TO};var bn=function(Br,Dt){var Tr=w([Br*He.rX,Dt*He.rY],He.xRot),qr=Tr[0],Zr=Tr[1];return[He.cX+qr,He.cY+Zr]};Ve=bn(En,en),or[ur].x1=Ve[0],or[ur].y1=Ve[1],tt=bn(tn,vn),or[ur].x2=tt[0],or[ur].y2=tt[1],nt=bn(ar,Xr),or[ur].x=nt[0],or[ur].y=nt[1],He.relative&&(or[ur].x1-=Zt,or[ur].y1-=Bt,or[ur].x2-=Zt,or[ur].y2-=Bt,or[ur].x-=Zt,or[ur].y-=Bt),Zt=(Ye=[or[ur].x,or[ur].y])[0],Bt=Ye[1]}return or})(ge,ge.relative?0:je,ge.relative?0:Me):ge}))},ue.ANNOTATE_ARCS=function(){return le((function(ge,je,Me){return ge.relative&&(je=0,Me=0),xe.ARC===ge.type&&R(ge,je,Me),ge}))},ue.CLONE=ye,ue.CALCULATE_BOUNDS=function(){var ge=function(ze){var Ve={};for(var tt in ze)Ve[tt]=ze[tt];return Ve},je=Y(),Me=H(),He=fe(),Qe=le((function(ze,Ve,tt){var nt=He(Me(je(ge(ze))));function Ye(vn){vn>Qe.maxX&&(Qe.maxX=vn),vn<Qe.minX&&(Qe.minX=vn)}function ut(vn){vn>Qe.maxY&&(Qe.maxY=vn),vn<Qe.minY&&(Qe.minY=vn)}if(nt.type&xe.DRAWING_COMMANDS&&(Ye(Ve),ut(tt)),nt.type&xe.HORIZ_LINE_TO&&Ye(nt.x),nt.type&xe.VERT_LINE_TO&&ut(nt.y),nt.type&xe.LINE_TO&&(Ye(nt.x),ut(nt.y)),nt.type&xe.CURVE_TO){Ye(nt.x),ut(nt.y);for(var mt=0,St=F(Ve,nt.x1,nt.x2,nt.x);mt<St.length;mt++)0<(tn=St[mt])&&1>tn&&Ye($(Ve,nt.x1,nt.x2,nt.x,tn));for(var or=0,Zt=F(tt,nt.y1,nt.y2,nt.y);or<Zt.length;or++)0<(tn=Zt[or])&&1>tn&&ut($(tt,nt.y1,nt.y2,nt.y,tn))}if(nt.type&xe.ARC){Ye(nt.x),ut(nt.y),R(nt,Ve,tt);for(var Bt=nt.xRot/180*Math.PI,ur=Math.cos(Bt)*nt.rX,Nr=Math.sin(Bt)*nt.rX,Qr=-Math.sin(Bt)*nt.rY,$r=Math.cos(Bt)*nt.rY,on=nt.phi1<nt.phi2?[nt.phi1,nt.phi2]:-180>nt.phi2?[nt.phi2+360,nt.phi1+360]:[nt.phi2,nt.phi1],wn=on[0],En=on[1],en=function(vn){var bn=vn[0],Br=vn[1],Dt=180*Math.atan2(Br,bn)/Math.PI;return Dt<wn?Dt+360:Dt},Pt=0,ar=_(Qr,-ur,0).map(en);Pt<ar.length;Pt++)(tn=ar[Pt])>wn&&tn<En&&Ye(O(nt.cX,ur,Qr,tn));for(var Xr=0,Cn=_($r,-Nr,0).map(en);Xr<Cn.length;Xr++){var tn;(tn=Cn[Xr])>wn&&tn<En&&ut(O(nt.cY,Nr,$r,tn))}}return ze}));return Qe.minX=1/0,Qe.maxX=-1/0,Qe.minY=1/0,Qe.maxY=-1/0,Qe}})(N||(N={}));var z,se=(function(){function ue(){}return ue.prototype.round=function(Y){return this.transform(N.ROUND(Y))},ue.prototype.toAbs=function(){return this.transform(N.TO_ABS())},ue.prototype.toRel=function(){return this.transform(N.TO_REL())},ue.prototype.normalizeHVZ=function(Y,fe,H){return this.transform(N.NORMALIZE_HVZ(Y,fe,H))},ue.prototype.normalizeST=function(){return this.transform(N.NORMALIZE_ST())},ue.prototype.qtToC=function(){return this.transform(N.QT_TO_C())},ue.prototype.aToC=function(){return this.transform(N.A_TO_C())},ue.prototype.sanitize=function(Y){return this.transform(N.SANITIZE(Y))},ue.prototype.translate=function(Y,fe){return this.transform(N.TRANSLATE(Y,fe))},ue.prototype.scale=function(Y,fe){return this.transform(N.SCALE(Y,fe))},ue.prototype.rotate=function(Y,fe,H){return this.transform(N.ROTATE(Y,fe,H))},ue.prototype.matrix=function(Y,fe,H,le,de,ye){return this.transform(N.MATRIX(Y,fe,H,le,de,ye))},ue.prototype.skewX=function(Y){return this.transform(N.SKEW_X(Y))},ue.prototype.skewY=function(Y){return this.transform(N.SKEW_Y(Y))},ue.prototype.xSymmetry=function(Y){return this.transform(N.X_AXIS_SYMMETRY(Y))},ue.prototype.ySymmetry=function(Y){return this.transform(N.Y_AXIS_SYMMETRY(Y))},ue.prototype.annotateArcs=function(){return this.transform(N.ANNOTATE_ARCS())},ue})(),ce=function(ue){return ue===" "||ue==="	"||ue==="\r"||ue===`
`},ie=function(ue){return 48<=ue.charCodeAt(0)&&ue.charCodeAt(0)<=57},pe=(function(ue){function Y(){var fe=ue.call(this)||this;return fe.curNumber="",fe.curCommandType=-1,fe.curCommandRelative=!1,fe.canParseCommandOrComma=!0,fe.curNumberHasExp=!1,fe.curNumberHasExpDigits=!1,fe.curNumberHasDecimal=!1,fe.curArgs=[],fe}return v(Y,ue),Y.prototype.finish=function(fe){if(fe===void 0&&(fe=[]),this.parse(" ",fe),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return fe},Y.prototype.parse=function(fe,H){var le=this;H===void 0&&(H=[]);for(var de=function(Qe){H.push(Qe),le.curArgs.length=0,le.canParseCommandOrComma=!0},ye=0;ye<fe.length;ye++){var ge=fe[ye],je=!(this.curCommandType!==xe.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),Me=ie(ge)&&(this.curNumber==="0"&&ge==="0"||je);if(!ie(ge)||Me)if(ge!=="e"&&ge!=="E")if(ge!=="-"&&ge!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(ge!=="."||this.curNumberHasExp||this.curNumberHasDecimal||je){if(this.curNumber&&this.curCommandType!==-1){var He=Number(this.curNumber);if(isNaN(He))throw new SyntaxError("Invalid number ending at "+ye);if(this.curCommandType===xe.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>He)throw new SyntaxError('Expected positive number, got "'+He+'" at index "'+ye+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+ye+'"')}this.curArgs.push(He),this.curArgs.length===Ae[this.curCommandType]&&(xe.HORIZ_LINE_TO===this.curCommandType?de({type:xe.HORIZ_LINE_TO,relative:this.curCommandRelative,x:He}):xe.VERT_LINE_TO===this.curCommandType?de({type:xe.VERT_LINE_TO,relative:this.curCommandRelative,y:He}):this.curCommandType===xe.MOVE_TO||this.curCommandType===xe.LINE_TO||this.curCommandType===xe.SMOOTH_QUAD_TO?(de({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),xe.MOVE_TO===this.curCommandType&&(this.curCommandType=xe.LINE_TO)):this.curCommandType===xe.CURVE_TO?de({type:xe.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===xe.SMOOTH_CURVE_TO?de({type:xe.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===xe.QUAD_TO?de({type:xe.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===xe.ARC&&de({type:xe.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!ce(ge))if(ge===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(ge!=="+"&&ge!=="-"&&ge!==".")if(Me)this.curNumber=ge,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+ye+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+ge+'" at index '+ye+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,ge!=="z"&&ge!=="Z")if(ge==="h"||ge==="H")this.curCommandType=xe.HORIZ_LINE_TO,this.curCommandRelative=ge==="h";else if(ge==="v"||ge==="V")this.curCommandType=xe.VERT_LINE_TO,this.curCommandRelative=ge==="v";else if(ge==="m"||ge==="M")this.curCommandType=xe.MOVE_TO,this.curCommandRelative=ge==="m";else if(ge==="l"||ge==="L")this.curCommandType=xe.LINE_TO,this.curCommandRelative=ge==="l";else if(ge==="c"||ge==="C")this.curCommandType=xe.CURVE_TO,this.curCommandRelative=ge==="c";else if(ge==="s"||ge==="S")this.curCommandType=xe.SMOOTH_CURVE_TO,this.curCommandRelative=ge==="s";else if(ge==="q"||ge==="Q")this.curCommandType=xe.QUAD_TO,this.curCommandRelative=ge==="q";else if(ge==="t"||ge==="T")this.curCommandType=xe.SMOOTH_QUAD_TO,this.curCommandRelative=ge==="t";else{if(ge!=="a"&&ge!=="A")throw new SyntaxError('Unexpected character "'+ge+'" at index '+ye+".");this.curCommandType=xe.ARC,this.curCommandRelative=ge==="a"}else H.push({type:xe.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=ge,this.curNumberHasDecimal=ge==="."}else this.curNumber+=ge,this.curNumberHasDecimal=!0;else this.curNumber+=ge;else this.curNumber+=ge,this.curNumberHasExp=!0;else this.curNumber+=ge,this.curNumberHasExpDigits=this.curNumberHasExp}return H},Y.prototype.transform=function(fe){return Object.create(this,{parse:{value:function(H,le){le===void 0&&(le=[]);for(var de=0,ye=Object.getPrototypeOf(this).parse.call(this,H);de<ye.length;de++){var ge=ye[de],je=fe(ge);Array.isArray(je)?le.push.apply(le,je):le.push(je)}return le}}})},Y})(se),xe=(function(ue){function Y(fe){var H=ue.call(this)||this;return H.commands=typeof fe=="string"?Y.parse(fe):fe,H}return v(Y,ue),Y.prototype.encode=function(){return Y.encode(this.commands)},Y.prototype.getBounds=function(){var fe=N.CALCULATE_BOUNDS();return this.transform(fe),fe},Y.prototype.transform=function(fe){for(var H=[],le=0,de=this.commands;le<de.length;le++){var ye=fe(de[le]);Array.isArray(ye)?H.push.apply(H,ye):H.push(ye)}return this.commands=H,this},Y.encode=function(fe){return b(fe)},Y.parse=function(fe){var H=new pe,le=[];return H.parse(fe,le),H.finish(le),le},Y.CLOSE_PATH=1,Y.MOVE_TO=2,Y.HORIZ_LINE_TO=4,Y.VERT_LINE_TO=8,Y.LINE_TO=16,Y.CURVE_TO=32,Y.SMOOTH_CURVE_TO=64,Y.QUAD_TO=128,Y.SMOOTH_QUAD_TO=256,Y.ARC=512,Y.LINE_COMMANDS=Y.LINE_TO|Y.HORIZ_LINE_TO|Y.VERT_LINE_TO,Y.DRAWING_COMMANDS=Y.HORIZ_LINE_TO|Y.VERT_LINE_TO|Y.LINE_TO|Y.CURVE_TO|Y.SMOOTH_CURVE_TO|Y.QUAD_TO|Y.SMOOTH_QUAD_TO|Y.ARC,Y})(se),Ae=((z={})[xe.MOVE_TO]=2,z[xe.LINE_TO]=2,z[xe.HORIZ_LINE_TO]=1,z[xe.VERT_LINE_TO]=1,z[xe.CLOSE_PATH]=0,z[xe.QUAD_TO]=4,z[xe.SMOOTH_QUAD_TO]=2,z[xe.CURVE_TO]=6,z[xe.SMOOTH_CURVE_TO]=4,z[xe.ARC]=7,z)}),"./src/plugin/hyperlinks.js":(function(A,m,f){f.r(m),f("./node_modules/core-js/modules/es.object.to-string.js"),f("./node_modules/core-js/modules/es.string.link.js"),f("./node_modules/core-js/modules/esnext.iterator.constructor.js"),f("./node_modules/core-js/modules/esnext.iterator.for-each.js"),f("./node_modules/core-js/modules/web.dom-collections.for-each.js");var g=f("./src/worker.js"),v=f("./src/utils.js"),b=[],w={toContainer:g.default.prototype.toContainer,toPdf:g.default.prototype.toPdf};g.default.prototype.toContainer=function(){return w.toContainer.call(this).then(function(){if(this.opt.enableLinks){var R=this.prop.container,_=R.querySelectorAll("a"),N=(0,v.unitConvert)(R.getBoundingClientRect(),this.prop.pageSize.k);b=[],Array.prototype.forEach.call(_,function(B){for(var M=B.getClientRects(),O=0;O<M.length;O++){var F=(0,v.unitConvert)(M[O],this.prop.pageSize.k);F.left-=N.left,F.top-=N.top;var $=Math.floor(F.top/this.prop.pageSize.inner.height)+1,z=this.opt.margin[0]+F.top%this.prop.pageSize.inner.height,se=this.opt.margin[1]+F.left;b.push({page:$,top:z,left:se,clientRect:F,link:B})}},this)}})},g.default.prototype.toPdf=function(){return w.toPdf.call(this).then(function(){if(this.opt.enableLinks){b.forEach(function(_){this.prop.pdf.setPage(_.page),this.prop.pdf.link(_.left,_.top,_.clientRect.width,_.clientRect.height,{url:_.link.href})},this);var R=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(R)}})}}),"./src/plugin/jspdf-plugin.js":(function(A,m,f){f.r(m),f("./node_modules/core-js/modules/es.symbol.js"),f("./node_modules/core-js/modules/es.symbol.description.js"),f("./node_modules/core-js/modules/es.symbol.iterator.js"),f("./node_modules/core-js/modules/es.array.iterator.js"),f("./node_modules/core-js/modules/es.object.to-string.js"),f("./node_modules/core-js/modules/es.string.iterator.js"),f("./node_modules/core-js/modules/web.dom-collections.iterator.js");var g=f("./node_modules/jspdf/dist/jspdf.es.min.js");function v(b){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},v(b)}g.jsPDF.getPageSize=function(b,w,j){if(v(b)==="object"){var E=b;b=E.orientation,w=E.unit||w,j=E.format||j}w=w||"mm",j=j||"a4",b=(""+(b||"P")).toLowerCase();var R=(""+j).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(w){case"pt":var N=1;break;case"mm":var N=72/25.4;break;case"cm":var N=72/2.54;break;case"in":var N=72;break;case"px":var N=72/96;break;case"pc":var N=12;break;case"em":var N=12;break;case"ex":var N=6;break;default:throw"Invalid unit: "+w}if(_.hasOwnProperty(R))var B=_[R][1]/N,M=_[R][0]/N;else try{var B=j[1],M=j[0]}catch{throw new Error("Invalid format: "+j)}if(b==="p"||b==="portrait"){if(b="p",M>B){var O=M;M=B,B=O}}else if(b==="l"||b==="landscape"){if(b="l",B>M){var O=M;M=B,B=O}}else throw"Invalid orientation: "+b;var F={width:M,height:B,unit:w,k:N};return F},m.default=g.jsPDF}),"./src/plugin/pagebreaks.js":(function(A,m,f){f.r(m),f("./node_modules/core-js/modules/es.array.concat.js"),f("./node_modules/core-js/modules/es.array.join.js"),f("./node_modules/core-js/modules/es.array.slice.js"),f("./node_modules/core-js/modules/es.object.keys.js"),f("./node_modules/core-js/modules/es.object.to-string.js"),f("./node_modules/core-js/modules/esnext.iterator.constructor.js"),f("./node_modules/core-js/modules/esnext.iterator.for-each.js"),f("./node_modules/core-js/modules/web.dom-collections.for-each.js");var g=f("./src/worker.js"),v=f("./src/utils.js"),b={toContainer:g.default.prototype.toContainer};g.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},g.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){var E=this.prop.container,R=this.prop.pageSize.inner.px.height,_=[].concat(this.opt.pagebreak.mode),N={avoidAll:_.indexOf("avoid-all")!==-1,css:_.indexOf("css")!==-1,legacy:_.indexOf("legacy")!==-1},B={},M=this;["before","after","avoid"].forEach(function($){var z=N.avoidAll&&$==="avoid";B[$]=z?[]:[].concat(M.opt.pagebreak[$]||[]),B[$].length>0&&(B[$]=Array.prototype.slice.call(E.querySelectorAll(B[$].join(", "))))});var O=E.querySelectorAll(".html2pdf__page-break");O=Array.prototype.slice.call(O);var F=E.querySelectorAll("*");Array.prototype.forEach.call(F,function(z){var se={before:!1,after:N.legacy&&O.indexOf(z)!==-1,avoid:N.avoidAll};if(N.css){var ce=window.getComputedStyle(z),ie=["always","page","left","right"],pe=["avoid","avoid-page"];se={before:se.before||ie.indexOf(ce.breakBefore||ce.pageBreakBefore)!==-1,after:se.after||ie.indexOf(ce.breakAfter||ce.pageBreakAfter)!==-1,avoid:se.avoid||pe.indexOf(ce.breakInside||ce.pageBreakInside)!==-1}}Object.keys(se).forEach(function(H){se[H]=se[H]||B[H].indexOf(z)!==-1});var xe=z.getBoundingClientRect();if(se.avoid&&!se.before){var Ae=Math.floor(xe.top/R),ue=Math.floor(xe.bottom/R),Y=Math.abs(xe.bottom-xe.top)/R;ue!==Ae&&Y<=1&&(se.before=!0)}if(se.before){var fe=(0,v.createElement)("div",{style:{display:"block",height:R-xe.top%R+"px"}});z.parentNode.insertBefore(fe,z)}if(se.after){var fe=(0,v.createElement)("div",{style:{display:"block",height:R-xe.bottom%R+"px"}});z.parentNode.insertBefore(fe,z.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(A,m,f){f.r(m),f.d(m,{deepCloneBasic:function(){return j}}),f("./node_modules/core-js/modules/es.symbol.js"),f("./node_modules/core-js/modules/es.symbol.description.js"),f("./node_modules/core-js/modules/es.symbol.iterator.js"),f("./node_modules/core-js/modules/es.array.concat.js"),f("./node_modules/core-js/modules/es.array.from.js"),f("./node_modules/core-js/modules/es.array.iterator.js"),f("./node_modules/core-js/modules/es.array.slice.js"),f("./node_modules/core-js/modules/es.function.name.js"),f("./node_modules/core-js/modules/es.object.to-string.js"),f("./node_modules/core-js/modules/es.regexp.exec.js"),f("./node_modules/core-js/modules/es.regexp.test.js"),f("./node_modules/core-js/modules/es.regexp.to-string.js"),f("./node_modules/core-js/modules/es.set.js"),f("./node_modules/core-js/modules/es.string.iterator.js"),f("./node_modules/core-js/modules/esnext.set.add-all.js"),f("./node_modules/core-js/modules/esnext.set.delete-all.js"),f("./node_modules/core-js/modules/esnext.set.difference.js"),f("./node_modules/core-js/modules/esnext.set.every.js"),f("./node_modules/core-js/modules/esnext.set.filter.js"),f("./node_modules/core-js/modules/esnext.set.find.js"),f("./node_modules/core-js/modules/esnext.set.intersection.js"),f("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),f("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),f("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),f("./node_modules/core-js/modules/esnext.set.join.js"),f("./node_modules/core-js/modules/esnext.set.map.js"),f("./node_modules/core-js/modules/esnext.set.reduce.js"),f("./node_modules/core-js/modules/esnext.set.some.js"),f("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),f("./node_modules/core-js/modules/esnext.set.union.js"),f("./node_modules/core-js/modules/web.dom-collections.iterator.js");function g(E,R){var _=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!_){if(Array.isArray(E)||(_=v(E))||R){_&&(E=_);var N=0,B=function(){};return{s:B,n:function(){return N>=E.length?{done:!0}:{done:!1,value:E[N++]}},e:function(z){throw z},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,O=!0,F=!1;return{s:function(){_=_.call(E)},n:function(){var z=_.next();return O=z.done,z},e:function(z){F=!0,M=z},f:function(){try{O||_.return==null||_.return()}finally{if(F)throw M}}}}function v(E,R){if(E){if(typeof E=="string")return b(E,R);var _={}.toString.call(E).slice(8,-1);return _==="Object"&&E.constructor&&(_=E.constructor.name),_==="Map"||_==="Set"?Array.from(E):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?b(E,R):void 0}}function b(E,R){(R==null||R>E.length)&&(R=E.length);for(var _=0,N=Array(R);_<R;_++)N[_]=E[_];return N}function w(E,R){try{var _=E.currentSrc||E.src||"";if(!_)return;R.setAttribute("src",_),R.removeAttribute("srcset"),R.removeAttribute("sizes"),R.loading="eager",R.decoding="sync"}catch{}}function j(E){if(!E)throw new Error("Invalid node");var R=new Set,_=null;if(E.nodeType===Node.TEXT_NODE||E.nodeType!==Node.ELEMENT_NODE)return E.cloneNode(!0);if(E.tagName==="IFRAME"){var N=document.createElement("div");return N.style.cssText="width:".concat(E.offsetWidth,"px;height:").concat(E.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),N}if(E.tagName==="CANVAS"){var B=E.toDataURL(),M=document.createElement("img");return M.src=B,M.width=E.width,M.height=E.height,M}var O;try{O=E.cloneNode(!1),E.tagName==="IMG"&&w(E,O)}catch(ut){throw console.error("[Snapdom] Failed to clone node:",E,ut),ut}if(E instanceof HTMLTextAreaElement){O.textContent=E.value,O.value=E.value;var F=E.getBoundingClientRect();return O.style.boxSizing="border-box",O.style.width="".concat(F.width,"px"),O.style.height="".concat(F.height,"px"),O}if(E instanceof HTMLInputElement&&(E.hasAttribute("value")&&(O.value=E.value,O.setAttribute("value",E.value)),E.checked!==void 0&&(O.checked=E.checked,E.checked&&O.setAttribute("checked",""),E.indeterminate&&(O.indeterminate=E.indeterminate))),E instanceof HTMLSelectElement&&(_=E.value),E.shadowRoot){var $=Array.from(E.shadowRoot.querySelectorAll("slot")).length>0;if(!$){var z=document.createDocumentFragment(),se=g(E.shadowRoot.childNodes),ce;try{for(se.s();!(ce=se.n()).done;){var ie=ce.value;if(!(ie.nodeType===Node.ELEMENT_NODE&&ie.tagName==="STYLE")){var pe=j(ie);pe&&z.appendChild(pe)}}}catch(ut){se.e(ut)}finally{se.f()}O.appendChild(z)}}if(E.tagName==="SLOT"){var xe,Ae=((xe=E.assignedNodes)===null||xe===void 0?void 0:xe.call(E,{flatten:!0}))||[],ue=Ae.length>0?Ae:Array.from(E.childNodes),Y=document.createDocumentFragment(),fe=g(ue),H;try{for(fe.s();!(H=fe.n()).done;){var le=H.value,de=j(le);de&&Y.appendChild(de)}}catch(ut){fe.e(ut)}finally{fe.f()}return Y}var ye=g(E.childNodes),ge;try{for(ye.s();!(ge=ye.n()).done;){var je=ge.value;if(!R.has(je)){var Me=j(je);Me&&O.appendChild(Me)}}}catch(ut){ye.e(ut)}finally{ye.f()}if(_!==null&&O instanceof HTMLSelectElement){O.value=_;var He=g(O.options),Qe;try{for(He.s();!(Qe=He.n()).done;){var ze=Qe.value;ze.value===_?ze.setAttribute("selected",""):ze.removeAttribute("selected")}}catch(ut){He.e(ut)}finally{He.f()}}var Ve=E.scrollLeft,tt=E.scrollTop,nt=Ve||tt;if(nt&&O instanceof HTMLElement){O.style.overflow="hidden",O.style.scrollbarWidth="none",O.style.msOverflowStyle="none";var Ye=document.createElement("div");for(Ye.style.transform="translate(".concat(-Ve,"px, ").concat(-tt,"px)"),Ye.style.willChange="transform",Ye.style.display="inline-block",Ye.style.width="100%";O.firstChild;)Ye.appendChild(O.firstChild);O.appendChild(Ye)}return O}}),"./src/utils.js":(function(A,m,f){f.r(m),f.d(m,{createElement:function(){return w},objType:function(){return b},toPx:function(){return E},unitConvert:function(){return j}}),f("./node_modules/core-js/modules/es.symbol.js"),f("./node_modules/core-js/modules/es.symbol.description.js"),f("./node_modules/core-js/modules/es.symbol.iterator.js"),f("./node_modules/core-js/modules/es.array.iterator.js"),f("./node_modules/core-js/modules/es.number.constructor.js"),f("./node_modules/core-js/modules/es.object.to-string.js"),f("./node_modules/core-js/modules/es.string.iterator.js"),f("./node_modules/core-js/modules/web.dom-collections.iterator.js");var g=f("./node_modules/dompurify/dist/purify.es.mjs");function v(R){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},v(R)}var b=function(_){var N=v(_);return N==="undefined"?"undefined":N==="string"||_ instanceof String?"string":N==="number"||_ instanceof Number?"number":N==="function"||_ instanceof Function?"function":_&&_.constructor===Array?"array":_&&_.nodeType===1?"element":N==="object"?"object":"unknown"},w=function(_,N){var B=document.createElement(_);N.className&&(B.className=N.className),N.innerHTML&&(B.innerHTML=g.default.sanitize(N.innerHTML));for(var M in N.style)B.style[M]=N.style[M];return B},j=function(_,N){if(b(_)==="number")return _*72/96/N;var B={};for(var M in _)B[M]=_[M]*72/96/N;return B},E=function(_,N){return Math.floor(_*N/72*96)}}),"./src/worker.js":(function(A,m,f){f.r(m),f("./node_modules/core-js/modules/es.array.concat.js"),f("./node_modules/core-js/modules/es.array.map.js"),f("./node_modules/core-js/modules/es.function.name.js"),f("./node_modules/core-js/modules/es.json.stringify.js"),f("./node_modules/core-js/modules/es.object.assign.js"),f("./node_modules/core-js/modules/es.object.keys.js"),f("./node_modules/core-js/modules/es.object.to-string.js"),f("./node_modules/core-js/modules/es.promise.js"),f("./node_modules/core-js/modules/es.regexp.to-string.js"),f("./node_modules/core-js/modules/esnext.iterator.constructor.js"),f("./node_modules/core-js/modules/esnext.iterator.for-each.js"),f("./node_modules/core-js/modules/esnext.iterator.map.js"),f("./node_modules/core-js/modules/web.dom-collections.for-each.js"),f("./node_modules/core-js/modules/web.timers.js");var g=f("./node_modules/jspdf/dist/jspdf.es.min.js"),v=f("html2canvas"),b=f.n(v),w=f("./src/snapdom/clone.js"),j=f("./src/utils.js"),E=function R(_){var N=Object.assign(R.convert(Promise.resolve()),JSON.parse(JSON.stringify(R.template))),B=R.convert(Promise.resolve(),N);return B=B.setProgress(1,R,1,[R]),B=B.set(_),B};E.prototype=Object.create(Promise.prototype),E.prototype.constructor=E,E.convert=function(_,N){return _.__proto__=N||E.prototype,_},E.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},E.prototype.from=function(_,N){function B(M){switch((0,j.objType)(M)){case"string":return"string";case"element":return M.nodeName.toLowerCase&&M.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(N=N||B(_),N){case"string":return this.set({src:(0,j.createElement)("div",{innerHTML:_})});case"element":return this.set({src:_});case"canvas":return this.set({canvas:_});case"img":return this.set({img:_});default:return this.error("Unknown source type.")}})},E.prototype.to=function(_){switch(_){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},E.prototype.toContainer=function(){var _=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(_).then(function(){var B={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},M={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};B.opacity=0;var O=(0,w.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,j.createElement)("div",{className:"html2pdf__overlay",style:B}),this.prop.container=(0,j.createElement)("div",{className:"html2pdf__container",style:M}),this.prop.container.appendChild(O),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(F){return setTimeout(F,10)})})},E.prototype.toCanvas=function(){var _=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(_).then(function(){var B=Object.assign({},this.opt.html2canvas);return delete B.onrendered,b()(this.prop.container,B)}).then(function(B){var M=this.opt.html2canvas.onrendered||function(){};M(B),this.prop.canvas=B,document.body.removeChild(this.prop.overlay)})},E.prototype.toImg=function(){var _=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(_).then(function(){var B=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=B})},E.prototype.toPdf=function(){var _=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(_).then(function(){var B=this.prop.canvas,M=this.opt,O=B.height,F=Math.floor(B.width*this.prop.pageSize.inner.ratio),$=Math.ceil(O/F),z=this.prop.pageSize.inner.height,se=document.createElement("canvas"),ce=se.getContext("2d");se.width=B.width,se.height=F,this.prop.pdf=this.prop.pdf||new g.jsPDF(M.jsPDF);for(var ie=0;ie<$;ie++){ie===$-1&&O%F!==0&&(se.height=O%F,z=se.height*this.prop.pageSize.inner.width/se.width);var pe=se.width,xe=se.height;ce.fillStyle="white",ce.fillRect(0,0,pe,xe),ce.drawImage(B,0,ie*F,pe,xe,0,0,pe,xe),ie&&this.prop.pdf.addPage();var Ae=se.toDataURL("image/"+M.image.type,M.image.quality);this.prop.pdf.addImage(Ae,M.image.type,M.margin[1],M.margin[0],this.prop.pageSize.inner.width,z)}})},E.prototype.output=function(_,N,B){return B=B||"pdf",B.toLowerCase()==="img"||B.toLowerCase()==="image"?this.outputImg(_,N):this.outputPdf(_,N)},E.prototype.outputPdf=function(_,N){var B=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(B).then(function(){return this.prop.pdf.output(_,N)})},E.prototype.outputImg=function(_,N){var B=[function(){return this.prop.img||this.toImg()}];return this.thenList(B).then(function(){switch(_){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+_+'" is not supported.'}})},E.prototype.save=function(_){var N=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(N).set(_?{filename:_}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},E.prototype.set=function(_){if((0,j.objType)(_)!=="object")return this;var N=Object.keys(_||{}).map(function(B){switch(B){case"margin":return this.setMargin.bind(this,_.margin);case"jsPDF":return function(){return this.opt.jsPDF=_.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,_.pageSize);default:return B in E.template.prop?function(){this.prop[B]=_[B]}:function(){this.opt[B]=_[B]}}},this);return this.then(function(){return this.thenList(N)})},E.prototype.get=function(_,N){return this.then(function(){var M=_ in E.template.prop?this.prop[_]:this.opt[_];return N?N(M):M})},E.prototype.setMargin=function(_){return this.then(function(){switch((0,j.objType)(_)){case"number":_=[_,_,_,_];case"array":if(_.length===2&&(_=[_[0],_[1],_[0],_[1]]),_.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=_}).then(this.setPageSize)},E.prototype.setPageSize=function(_){return this.then(function(){_=_||g.jsPDF.getPageSize(this.opt.jsPDF),_.hasOwnProperty("inner")||(_.inner={width:_.width-this.opt.margin[1]-this.opt.margin[3],height:_.height-this.opt.margin[0]-this.opt.margin[2]},_.inner.px={width:(0,j.toPx)(_.inner.width,_.k),height:(0,j.toPx)(_.inner.height,_.k)},_.inner.ratio=_.inner.height/_.inner.width),this.prop.pageSize=_})},E.prototype.setProgress=function(_,N,B,M){return _!=null&&(this.progress.val=_),N!=null&&(this.progress.state=N),B!=null&&(this.progress.n=B),M!=null&&(this.progress.stack=M),this.progress.ratio=this.progress.val/this.progress.state,this},E.prototype.updateProgress=function(_,N,B,M){return this.setProgress(_?this.progress.val+_:null,N||null,B?this.progress.n+B:null,M?this.progress.stack.concat(M):null)},E.prototype.then=function(_,N){var B=this;return this.thenCore(_,N,function(O,F){return B.updateProgress(null,null,1,[O]),Promise.prototype.then.call(this,function(z){return B.updateProgress(null,O),z}).then(O,F).then(function(z){return B.updateProgress(1),z})})},E.prototype.thenCore=function(_,N,B){B=B||Promise.prototype.then;var M=this;_&&(_=_.bind(M)),N&&(N=N.bind(M));var O=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",F=O?M:E.convert(Object.assign({},M),Promise.prototype),$=B.call(F,_,N);return E.convert($,M.__proto__)},E.prototype.thenExternal=function(_,N){return Promise.prototype.then.call(this,_,N)},E.prototype.thenList=function(_){var N=this;return _.forEach(function(M){N=N.thenCore(M)}),N},E.prototype.catch=function(R){R&&(R=R.bind(this));var _=Promise.prototype.catch.call(this,R);return E.convert(_,this)},E.prototype.catchExternal=function(_){return Promise.prototype.catch.call(this,_)},E.prototype.error=function(_){return this.then(function(){throw new Error(_)})},E.prototype.using=E.prototype.set,E.prototype.saveAs=E.prototype.save,E.prototype.export=E.prototype.output,E.prototype.run=E.prototype.then,m.default=E}),html2canvas:(function(A){A.exports=n})},l={};function u(A){var m=l[A];if(m!==void 0)return m.exports;if(o[A]===void 0){var f=new Error("Cannot find module '"+A+"'");throw f.code="MODULE_NOT_FOUND",f}var g=l[A]={exports:{}};return o[A].call(g.exports,g,g.exports,u),g.exports}(function(){u.n=function(A){var m=A&&A.__esModule?function(){return A.default}:function(){return A};return u.d(m,{a:m}),m}})(),(function(){var A=Object.getPrototypeOf?function(f){return Object.getPrototypeOf(f)}:function(f){return f.__proto__},m;u.t=function(f,g){if(g&1&&(f=this(f)),g&8||typeof f=="object"&&f&&(g&4&&f.__esModule||g&16&&typeof f.then=="function"))return f;var v=Object.create(null);u.r(v);var b={};m=m||[null,A({}),A([]),A(A)];for(var w=g&2&&f;(typeof w=="object"||typeof w=="function")&&!~m.indexOf(w);w=A(w))Object.getOwnPropertyNames(w).forEach(function(j){b[j]=function(){return f[j]}});return b.default=function(){return f},u.d(v,b),v}})(),(function(){u.d=function(A,m){for(var f in m)u.o(m,f)&&!u.o(A,f)&&Object.defineProperty(A,f,{enumerable:!0,get:m[f]})}})(),(function(){u.o=function(A,m){return Object.prototype.hasOwnProperty.call(A,m)}})(),(function(){u.r=function(A){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})}})();var d={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/u.r(d);var A=u("./src/worker.js");u("./src/plugin/jspdf-plugin.js"),u("./src/plugin/pagebreaks.js"),u("./src/plugin/hyperlinks.js");var m=function f(g,v){var b=new f.Worker(v);return g?b.from(g).save():b};m.Worker=A.default,d.default=m})(),d=d.default,d})()})})(html2pdf$1)),html2pdf$1.exports}var html2pdfExports=requireHtml2pdf();const html2pdf=getDefaultExportFromCjs(html2pdfExports);async function downloadMarkdownAsPdf(e,t){const n=t.replace(/\.(md|pdf)$/i,"")+".pdf",o=document.createElement("div");o.setAttribute("aria-hidden","true"),o.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;overflow:auto;visibility:hidden;z-index:-1;pointer-events:none";const l=document.createElement("div");l.style.cssText=`
    position: relative;
    width: 210mm;
    max-width: 210mm;
    padding: 20mm;
    font-family: system-ui, -apple-system, "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
    font-size: 12pt;
    line-height: 1.6;
    color: #1f2937;
    background: white;
  `,o.appendChild(l),document.body.appendChild(o);const u={breakInside:"avoid",pageBreakInside:"avoid"},d={p:({children:m,...f})=>jsxRuntimeExports.jsx("p",{style:u,...f,children:m}),li:({children:m,...f})=>jsxRuntimeExports.jsx("li",{style:u,...f,children:m}),h1:({children:m,...f})=>jsxRuntimeExports.jsx("h1",{style:u,...f,children:m}),h2:({children:m,...f})=>jsxRuntimeExports.jsx("h2",{style:u,...f,children:m}),h3:({children:m,...f})=>jsxRuntimeExports.jsx("h3",{style:u,...f,children:m}),h4:({children:m,...f})=>jsxRuntimeExports.jsx("h4",{style:u,...f,children:m}),h5:({children:m,...f})=>jsxRuntimeExports.jsx("h5",{style:u,...f,children:m}),h6:({children:m,...f})=>jsxRuntimeExports.jsx("h6",{style:u,...f,children:m})},A=clientExports.createRoot(l);A.render(jsxRuntimeExports.jsx("div",{className:"markdown-pdf-source",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],components:d,children:e})})),await new Promise(m=>setTimeout(m,600));try{await html2pdf().set({margin:10,filename:n,pagebreak:{mode:["avoid-all","css"],avoid:["p","li","h1","h2","h3","h4","h5","h6","table",".katex",".katex-display"]},image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollX:0,scrollY:0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}}).from(l).save()}finally{A.unmount(),o.remove()}}const BASE_SUBJECT_OPTIONS=["è¯­æ–‡","æ•°å­¦","è‹±è¯­","ç‰©ç†","åŒ–å­¦","ç”Ÿç‰©","åŽ†å²","åœ°ç†","æ”¿æ²»"],CUSTOM_SUBJECT_OPTION="è‡ªå®šä¹‰",SUBJECT_OPTIONS=[...BASE_SUBJECT_OPTIONS,CUSTOM_SUBJECT_OPTION];function splitSubjectValue(e){const t=e.trim(),n=BASE_SUBJECT_OPTIONS.includes(t);return!t||n?{subject:t,subjectIsCustom:!1}:{subject:CUSTOM_SUBJECT_OPTION,subjectCustom:t,subjectIsCustom:!0}}const needsAssetGeneration=e=>e!=="editable_text"&&e!=="math_editable";function AICourseDesignPage({onNextStep:e}){const{user:t,preferences:n}=useAuth(),{addPublishedCourse:o}=usePublishedCourses(),[l,u]=reactExports.useState("form"),[d,A]=reactExports.useState(""),[m,f]=reactExports.useState(""),[g,v]=reactExports.useState(""),[b,w]=reactExports.useState(""),[j,E]=reactExports.useState(""),[R,_]=reactExports.useState(""),[N,B]=reactExports.useState("zh"),[M,O]=reactExports.useState(null),[F,$]=reactExports.useState(null),[z,se]=reactExports.useState(null),[ce,ie]=reactExports.useState(null),[pe,xe]=reactExports.useState(null),[Ae,ue]=reactExports.useState(null),[Y,fe]=reactExports.useState(!1),[H,le]=reactExports.useState(null),[de,ye]=reactExports.useState(null),[ge,je]=reactExports.useState(null),[Me,He]=reactExports.useState(null),[Qe,ze]=reactExports.useState(new Set),[Ve,tt]=reactExports.useState(null),nt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(nt.current)return;nt.current=!0;const Bt=getTeacherPreferencesFromProfile(n);if(Bt.defaultGrade&&GRADE_OPTIONS.some(ur=>ur===Bt.defaultGrade)&&v(Bt.defaultGrade),Bt.defaultSubject){const ur=prefSubjectIdToDisplay(Bt.defaultSubject);ur&&SUBJECT_OPTIONS.includes(ur)?A(ur):ur&&(A(CUSTOM_SUBJECT_OPTION),f(ur))}},[n?.defaultGrade,n?.defaultSubject]);const Ye=async()=>{const Bt=(d===CUSTOM_SUBJECT_OPTION?m:d).trim();if(!Bt||!g.trim()||!b.trim()){xe("è¯·å¡«å†™å­¦ç§‘ã€å¹´çº§å’Œè¯¾é¢˜");return}u("generating"),xe(null),O(null),$(null),se(null);const ur=j.trim()||"ç»Ÿç¼–ç‰ˆ",Nr=R.trim();trackProductEvent({eventName:"task_create_started",role:"teacher",teacherId:t?.id,language:N,properties:{source:"AICourseDesignPage",subject:Bt,grade:g.trim(),topic:b.trim()}}).catch(()=>{});try{ie("curriculum");const Qr=await generateCurriculumDesign(Bt,g.trim(),b.trim(),ur,Nr,N);O(Qr),ie("documents");const $r=await generateTaskDocuments(Bt,b.trim(),Qr,Nr,N);$($r),ie("tasks");const on=await generateSystemTaskPlan($r.studentTaskSheet,Bt,g.trim(),Nr,N);ie("assets");const wn=[...on.tasks];for(let en=0;en<wn.length;en++){const Pt=wn[en];if(needsAssetGeneration(Pt.assetType)&&Pt.assetPrompt?.trim())try{const ar=await generateTaskAsset(Pt.assetType,Pt.assetPrompt,void 0,void 0,N);ar!=null&&(wn[en]={...Pt,generatedAssetContent:typeof ar=="object"?JSON.stringify(ar):String(ar)})}catch(ar){console.error(`Asset generation failed for task ${Pt.id}:`,ar)}}const En={...on,tasks:wn};se(En),trackProductEvent({eventName:"task_create_succeeded",role:"teacher",teacherId:t?.id,language:N,properties:{source:"AICourseDesignPage",taskCount:En.tasks.length}}).catch(()=>{}),ie(null),u("preview")}catch(Qr){const $r=Qr instanceof Error?Qr.message:String(Qr);xe($r),ie(null)}},ut=async()=>{xe(null),ie("curriculum");const Bt=j.trim()||"ç»Ÿç¼–ç‰ˆ",ur=R.trim(),Nr=(d===CUSTOM_SUBJECT_OPTION?m:d).trim();try{const Qr=await generateCurriculumDesign(Nr,g.trim(),b.trim(),Bt,ur,N);O(Qr),ie("documents");const $r=await generateTaskDocuments(Nr,b.trim(),Qr,ur,N);$($r),ie("tasks");const on=await generateSystemTaskPlan($r.studentTaskSheet,Nr,g.trim(),ur,N);ie("assets");const wn=[...on.tasks];for(let en=0;en<wn.length;en++){const Pt=wn[en];if(needsAssetGeneration(Pt.assetType)&&Pt.assetPrompt?.trim())try{const ar=await generateTaskAsset(Pt.assetType,Pt.assetPrompt,void 0,void 0,N);ar!=null&&(wn[en]={...Pt,generatedAssetContent:typeof ar=="object"?JSON.stringify(ar):String(ar)})}catch(ar){console.error(`Asset generation failed for task ${Pt.id}:`,ar)}}const En={...on,tasks:wn};se(En),ie(null),u("preview")}catch(Qr){xe(Qr instanceof Error?Qr.message:String(Qr)),ie(null)}},mt=(Bt,ur)=>{if(!z)return;const Nr=[...z.tasks];Nr[Bt]={...Nr[Bt],...ur},se({...z,tasks:Nr})},St=async Bt=>{if(!z)return;const ur=z.tasks[Bt];if(!(!needsAssetGeneration(ur.assetType)||!ur.assetPrompt?.trim())){ye(ur.id);try{const Nr=await generateTaskAsset(ur.assetType,ur.assetPrompt,void 0,void 0,N);if(Nr!=null){const Qr=[...z.tasks];Qr[Bt]={...ur,generatedAssetContent:typeof Nr=="object"?JSON.stringify(Nr):String(Nr)},se({...z,tasks:Qr})}}catch(Nr){console.error("Regenerate asset failed:",Nr)}finally{ye(null)}}},or=Bt=>Bt?Bt.startsWith("data:image")?Bt:/^[A-Za-z0-9+/=\r\n]+$/.test(Bt)?`data:image/png;base64,${Bt}`:null:null,Zt=async()=>{if(!z)return;const Bt=(d===CUSTOM_SUBJECT_OPTION?m:d).trim(),ur=splitSubjectValue(Bt);fe(!0),le(null);try{const Nr=await createCourse(z,t?.id,{subject:ur.subject,subjectCustom:ur.subjectCustom,subjectIsCustom:ur.subjectIsCustom,topic:b,grade:g,language:N});if(trackProductEvent({eventName:"course_create_succeeded",role:"teacher",teacherId:t?.id,language:N,courseId:Nr.courseId,properties:{source:"AICourseDesignPage",taskCount:z.tasks.length}}).catch(()=>{}),t&&t.role==="teacher"){try{await saveCourseMetaToSupabase({publicId:Nr.courseId,teacherId:t.id,subject:d,grade:g,topic:b,textbook:j})}catch($r){console.error("Failed to save course meta to Supabase:",$r)}o({subject:d,grade:g,topic:b,textbook:j,hours:"1",status:"published",assignmentStatus:"unassigned",visibilityStatus:"private",shareStatus:"none",students:0,completion:0,lastUpdated:"åˆšåˆš"})}const Qr=`${window.location.origin}/course/${Nr.courseId}`;ue({courseId:Nr.courseId,url:Qr}),u("created"),e?.({plan:z,courseId:Nr.courseId,courseUrl:Qr})}catch(Nr){le(Nr instanceof Error?Nr.message:String(Nr))}finally{fe(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-6xl mx-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI è¯¾ç¨‹è®¾è®¡"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:"å¡«å†™åŸºç¡€ä¿¡æ¯åŽï¼Œç”± AI ç”Ÿæˆè¯¾ç¨‹è®¾è®¡ã€ä»»åŠ¡å•ä¸Žå­¦ä¹ ä»»åŠ¡ï¼Œå¹¶åˆ›å»ºè¯¾ç¨‹"})]}),l==="form"&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Layers,{className:"w-5 h-5 text-cyan-600"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"1. åŸºç¡€ä¿¡æ¯"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"subject-select",children:"å­¦ç§‘"}),jsxRuntimeExports.jsxs("select",{id:"subject-select",value:d,onChange:Bt=>A(Bt.target.value),className:"w-full h-12 px-3 py-2 border border-input rounded-md bg-input-background",children:[jsxRuntimeExports.jsx("option",{value:"",children:"è¯·é€‰æ‹©"}),SUBJECT_OPTIONS.map(Bt=>jsxRuntimeExports.jsx("option",{value:Bt,children:Bt},Bt))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"grade",children:"å¹´çº§"}),jsxRuntimeExports.jsxs("select",{id:"grade",value:g,onChange:Bt=>v(Bt.target.value),className:"w-full h-12 px-3 py-2 border border-input rounded-md bg-input-background",children:[jsxRuntimeExports.jsx("option",{value:"",children:"è¯·é€‰æ‹©"}),GRADE_OPTIONS.map(Bt=>jsxRuntimeExports.jsx("option",{value:Bt,children:Bt},Bt))]})]})]}),d===CUSTOM_SUBJECT_OPTION&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"custom-subject",children:"è‡ªå®šä¹‰å­¦ç§‘"}),jsxRuntimeExports.jsx(Input,{id:"custom-subject",placeholder:"è¯·è¾“å…¥å­¦ç§‘åç§°",value:m,onChange:Bt=>f(Bt.target.value),className:"h-12"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"topic",children:"è¯¾é¢˜"}),jsxRuntimeExports.jsx(Input,{id:"topic",placeholder:"å¦‚ï¼šç‰›é¡¿ç¬¬ä¸€å®šå¾‹",value:b,onChange:Bt=>w(Bt.target.value),className:"h-12"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"textbook",children:"æ•™æç‰ˆæœ¬"}),jsxRuntimeExports.jsx(Input,{id:"textbook",placeholder:"å¦‚ï¼šç»Ÿç¼–ç‰ˆï¼ˆå¯é€‰ï¼‰",value:j,onChange:Bt=>E(Bt.target.value),className:"h-12"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"context",children:"è¡¥å……è¯´æ˜Ž"}),jsxRuntimeExports.jsx(Textarea,{id:"context",placeholder:"å¯é€‰ï¼šè¯¾æ—¶ã€é‡ç‚¹éš¾ç‚¹ç­‰",value:R,onChange:Bt=>_(Bt.target.value),rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"language",children:"å†…å®¹è¯­è¨€"}),jsxRuntimeExports.jsxs("select",{id:"language",value:N,onChange:Bt=>B(Bt.target.value),className:"w-full h-12 px-3 py-2 border border-input rounded-md bg-input-background",children:[jsxRuntimeExports.jsx("option",{value:"zh",children:"ç®€ä½“ä¸­æ–‡"}),jsxRuntimeExports.jsx("option",{value:"en",children:"English"})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:Ye,className:"w-full h-12 bg-cyan-600 hover:bg-cyan-700 text-white",children:[jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 mr-2"}),"å¼€å§‹ç”Ÿæˆè¯¾ç¨‹è®¾è®¡"]})]})]}),l==="generating"&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"2. ç”Ÿæˆè¿›åº¦"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Progress,{value:ce==="curriculum"?25:ce==="documents"?50:ce==="tasks"?75:ce==="assets"?90:100,className:"h-2"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[ce==="curriculum"&&"æ­£åœ¨ç”Ÿæˆè¯¾ç¨‹è®¾è®¡â€¦",ce==="documents"&&"æ­£åœ¨ç”Ÿæˆä»»åŠ¡å•ä¸Žæ•™å¸ˆæŒ‡å—â€¦",ce==="tasks"&&"æ­£åœ¨ç”Ÿæˆç³»ç»Ÿä»»åŠ¡è®¡åˆ’â€¦",ce==="assets"&&"æ­£åœ¨ç”Ÿæˆç´ æâ€¦",!ce&&"å¤„ç†ä¸­â€¦"]})]}),pe&&jsxRuntimeExports.jsxs(Alert,{variant:"destructive",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertTitle,{children:"ç”Ÿæˆå¤±è´¥"}),jsxRuntimeExports.jsx(AlertDescription,{children:pe}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>u("form"),children:"è¿”å›žä¿®æ”¹"}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:ut,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-1"}),"é‡è¯•"]})]})]}),M&&jsxRuntimeExports.jsx(Accordion,{type:"single",collapsible:!0,defaultValue:"curriculum",children:jsxRuntimeExports.jsxs(AccordionItem,{value:"curriculum",children:[jsxRuntimeExports.jsx(AccordionTrigger,{children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 text-green-600"}),"è¯¾ç¨‹è®¾è®¡å·²ç”Ÿæˆ"]})}),jsxRuntimeExports.jsxs(AccordionContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"å¤§æ¦‚å¿µï¼š"}),jsxRuntimeExports.jsx("div",{className:"text-sm [&_p]:mb-2 [&_*]:break-words",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:M.bigConcept})}),jsxRuntimeExports.jsx("div",{className:"text-sm leading-relaxed [&_p]:mb-2 [&_*]:break-words mt-2",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:M.logicChain})})]})]})}),F&&jsxRuntimeExports.jsx(Accordion,{type:"single",collapsible:!0,defaultValue:"documents",children:jsxRuntimeExports.jsxs(AccordionItem,{value:"documents",children:[jsxRuntimeExports.jsxs(Header,{className:"flex items-center",children:[jsxRuntimeExports.jsxs(Trigger2,{className:"flex flex-1 items-center gap-2 py-4 text-left text-sm font-medium outline-none transition-all hover:underline [&[data-state=open]_svg]:rotate-180",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 shrink-0 text-green-600"}),"ä»»åŠ¡å•ä¸Žæ•™å¸ˆæŒ‡å—å·²ç”Ÿæˆ",jsxRuntimeExports.jsx(ChevronDown,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]}),jsxRuntimeExports.jsxs("span",{className:"flex shrink-0 items-center gap-2 py-4 pl-2",onClick:Bt=>Bt.stopPropagation(),children:[jsxRuntimeExports.jsxs("button",{type:"button",disabled:Ve==="task",onClick:async()=>{tt("task");try{await downloadMarkdownAsPdf(F.studentTaskSheet,`ä»»åŠ¡å•-${b||"è¯¾ç¨‹"}-${Date.now()}.pdf`)}finally{tt(null)}},className:"inline-flex items-center gap-1 text-xs text-cyan-600 hover:text-cyan-700 hover:underline disabled:opacity-50",children:[Ve==="task"?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-3 h-3"}),"ä»»åŠ¡å•"]}),jsxRuntimeExports.jsxs("button",{type:"button",disabled:Ve==="guide",onClick:async()=>{tt("guide");try{await downloadMarkdownAsPdf(F.teacherGuide,`æ•™å¸ˆæŒ‡å—-${b||"è¯¾ç¨‹"}-${Date.now()}.pdf`)}finally{tt(null)}},className:"inline-flex items-center gap-1 text-xs text-cyan-600 hover:text-cyan-700 hover:underline disabled:opacity-50",children:[Ve==="guide"?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-3 h-3"}),"æ•™å¸ˆæŒ‡å—"]})]})]}),jsxRuntimeExports.jsxs(AccordionContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"ä»»åŠ¡å•æ‘˜è¦ï¼ˆå‰ 500 å­—ï¼‰ï¼š"}),jsxRuntimeExports.jsx("div",{className:"text-sm max-h-48 overflow-y-auto prose prose-sm dark:prose-invert max-w-none [&_*]:break-words",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:`${F.studentTaskSheet.slice(0,500)}${F.studentTaskSheet.length>500?`
â€¦`:""}`})})]})]})}),ce&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"è¯·ç¨å€™â€¦"})]})]})]}),l==="preview"&&z&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[M&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"1. è¯¾ç¨‹è®¾è®¡ / å¤§æ¦‚å¿µ"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:jsxRuntimeExports.jsx("strong",{children:"å¤§æ¦‚å¿µï¼š"})}),jsxRuntimeExports.jsx("div",{className:"text-sm [&_p]:mb-2 [&_*]:break-words mb-4",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:M.bigConcept})}),jsxRuntimeExports.jsx("div",{className:"text-sm leading-relaxed prose prose-sm dark:prose-invert max-w-none [&_p]:mb-2 [&_*]:break-words",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:M.logicChain})})]})]}),F&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"2. ä»»åŠ¡å•ä¸Žæ•™å¸ˆæŒ‡å—"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",disabled:Ve==="task",onClick:async()=>{tt("task");try{await downloadMarkdownAsPdf(F.studentTaskSheet,`ä»»åŠ¡å•-${b||"è¯¾ç¨‹"}-${Date.now()}.pdf`)}finally{tt(null)}},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-cyan-600 hover:text-cyan-700 hover:underline border border-cyan-200 rounded-md disabled:opacity-50",children:[Ve==="task"?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"ä¸‹è½½ä»»åŠ¡å•"]}),jsxRuntimeExports.jsxs("button",{type:"button",disabled:Ve==="guide",onClick:async()=>{tt("guide");try{await downloadMarkdownAsPdf(F.teacherGuide,`æ•™å¸ˆæŒ‡å—-${b||"è¯¾ç¨‹"}-${Date.now()}.pdf`)}finally{tt(null)}},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-cyan-600 hover:text-cyan-700 hover:underline border border-cyan-200 rounded-md disabled:opacity-50",children:[Ve==="guide"?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"ä¸‹è½½æ•™å¸ˆæŒ‡å—"]})]}),jsxRuntimeExports.jsxs(Accordion,{type:"single",collapsible:!0,children:[jsxRuntimeExports.jsxs(AccordionItem,{value:"task",children:[jsxRuntimeExports.jsx(AccordionTrigger,{children:"ä»»åŠ¡å•æ‘˜è¦ï¼ˆå‰ 500 å­—ï¼‰"}),jsxRuntimeExports.jsx(AccordionContent,{children:jsxRuntimeExports.jsx("div",{className:"text-sm max-h-48 overflow-y-auto prose prose-sm dark:prose-invert max-w-none [&_*]:break-words",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:`${F.studentTaskSheet.slice(0,500)}${F.studentTaskSheet.length>500?`
â€¦`:""}`})})})]}),jsxRuntimeExports.jsxs(AccordionItem,{value:"guide",children:[jsxRuntimeExports.jsx(AccordionTrigger,{children:"æ•™å¸ˆæŒ‡å—æ‘˜è¦ï¼ˆå‰ 500 å­—ï¼‰"}),jsxRuntimeExports.jsx(AccordionContent,{children:jsxRuntimeExports.jsx("div",{className:"text-sm max-h-48 overflow-y-auto prose prose-sm dark:prose-invert max-w-none [&_*]:break-words",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm,remarkMath],rehypePlugins:[rehypeKatex],children:`${F.teacherGuide.slice(0,500)}${F.teacherGuide.length>500?`
â€¦`:""}`})})})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"3. ä»»åŠ¡åˆ—è¡¨ä¸Žåˆ›å»ºè¯¾ç¨‹"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["å…± ",z.tasks.length," ä¸ªä»»åŠ¡ï¼Œè¯·ç¡®è®¤ç´ æåŽç‚¹å‡»ã€Œåˆ›å»ºè¯¾ç¨‹ã€ã€‚"]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"space-y-4",children:z.tasks.map((Bt,ur)=>{const Nr=needsAssetGeneration(Bt.assetType)&&Bt.assetPrompt,Qr=!!Bt.generatedAssetContent;return jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50/50 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[ur+1,"."]}),jsxRuntimeExports.jsx(Input,{value:Bt.title,onChange:$r=>mt(ur,{title:$r.target.value}),className:"font-medium text-gray-900 h-8 flex-1",placeholder:"ä»»åŠ¡æ ‡é¢˜"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:ge===ur?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Textarea,{value:Bt.description||"",onChange:$r=>{if(!z)return;const on=[...z.tasks];on[ur]={...on[ur],description:$r.target.value},se({...z,tasks:on})},onBlur:()=>je(null),className:"min-h-24 text-sm",placeholder:"ä»»åŠ¡æè¿°",autoFocus:!0}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>je(null),children:"å®Œæˆç¼–è¾‘"})]}):Bt.description?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none text-slate-700",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath,remarkGfm],rehypePlugins:[rehypeKatex],components:{p:({children:$r})=>jsxRuntimeExports.jsx("p",{className:"mb-2 last:mb-0",children:$r}),strong:({children:$r})=>jsxRuntimeExports.jsx("strong",{className:"font-semibold text-slate-800",children:$r}),ul:({children:$r})=>jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside mb-2 ml-4",children:$r}),ol:({children:$r})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside mb-2 ml-4",children:$r}),li:({children:$r})=>jsxRuntimeExports.jsx("li",{className:"mb-1",children:$r})},children:(Bt.description?.length??0)>200&&!Qe.has(Bt.id)?`${Bt.description.slice(0,200)}...`:Bt.description})}),(Bt.description?.length??0)>200&&jsxRuntimeExports.jsx("button",{type:"button",className:"flex items-center gap-1 text-cyan-600 hover:text-cyan-700 text-xs font-medium",onClick:()=>ze($r=>{const on=new Set($r);return on.has(Bt.id)?on.delete(Bt.id):on.add(Bt.id),on}),children:Qe.has(Bt.id)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"}),"æ”¶èµ·"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"}),"å±•å¼€å…¨æ–‡"]})}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"ghost",className:"h-7 px-2 text-xs text-slate-500 hover:text-slate-700 -ml-1",onClick:()=>je(ur),children:[jsxRuntimeExports.jsx(Pencil,{className:"w-3 h-3 mr-1"}),"ç¼–è¾‘"]})]}):jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"ghost",className:"h-7 text-xs text-slate-500",onClick:()=>je(ur),children:[jsxRuntimeExports.jsx(Pencil,{className:"w-3 h-3 mr-1"}),"æ·»åŠ æè¿°"]})})]}),Nr&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:()=>St(ur),disabled:de===Bt.id,children:[de===Bt.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:"é‡æ–°ç”Ÿæˆ"})]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"ghost",className:"text-slate-600 hover:text-slate-800",onClick:()=>He($r=>$r===ur?null:ur),children:[jsxRuntimeExports.jsx(Pencil,{className:"w-3 h-3 mr-1"}),"ç¼–è¾‘æç¤ºè¯"]})]})]}),Nr&&jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-3",children:[Me===ur&&jsxRuntimeExports.jsxs("div",{className:"rounded border border-slate-200 bg-white p-3 space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs font-medium text-slate-600",children:"å½“å‰æç¤ºè¯ï¼ˆå¯ç”¨äºŽå›¾ç‰‡/è§†é¢‘/å®žéªŒç­‰ç”Ÿæˆï¼‰"}),jsxRuntimeExports.jsx(Textarea,{value:Bt.assetPrompt||"",onChange:$r=>{if(!z)return;const on=[...z.tasks];on[ur]={...on[ur],assetPrompt:$r.target.value},se({...z,tasks:on})},className:"min-h-20 text-sm font-mono",placeholder:"è¾“å…¥ç”Ÿæˆç´ æçš„æç¤ºè¯â€¦",autoFocus:!0}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>He(null),children:"ä¿å­˜å¹¶å…³é—­"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",onClick:()=>He(null),children:"å–æ¶ˆ"})]})]}),Qr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Bt.assetType==="image_gen"&&(()=>{const $r=or(Bt.generatedAssetContent);return $r?jsxRuntimeExports.jsx("img",{src:$r,alt:Bt.title,className:"max-h-48 w-auto object-contain rounded border border-gray-200"}):jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-600",children:"å›¾ç‰‡é¢„è§ˆä¸å¯ç”¨"})})(),Bt.assetType==="video_gen"&&(Bt.generatedAssetContent?.startsWith("data:video")?jsxRuntimeExports.jsx("video",{src:Bt.generatedAssetContent,controls:!0,className:"max-h-48 rounded border border-gray-200"}):jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-600",children:"è§†é¢‘é¢„è§ˆä¸å¯ç”¨"})),Bt.assetType==="html_webpage"&&jsxRuntimeExports.jsx("iframe",{srcDoc:Bt.generatedAssetContent,title:Bt.title,className:"w-full h-48 rounded border border-gray-200 bg-white",sandbox:"allow-scripts"}),Bt.assetType==="mindmap_code"&&jsxRuntimeExports.jsxs("pre",{className:"text-xs overflow-auto max-h-32 p-2 bg-white rounded border border-gray-200",children:[Bt.generatedAssetContent?.slice(0,300),(Bt.generatedAssetContent?.length??0)>300&&"â€¦"]}),Bt.assetType==="table_json"&&jsxRuntimeExports.jsxs("pre",{className:"text-xs overflow-auto max-h-32 p-2 bg-white rounded border border-gray-200",children:[Bt.generatedAssetContent?.slice(0,300),(Bt.generatedAssetContent?.length??0)>300&&"â€¦"]})]}):jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"æœªç”Ÿæˆç´ æ"})]})]},Bt.id)})}),H&&jsxRuntimeExports.jsx(Alert,{variant:"destructive",children:jsxRuntimeExports.jsx(AlertDescription,{children:H})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{onClick:Zt,disabled:Y,className:"bg-cyan-600 hover:bg-cyan-700",children:Y?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),"åˆ›å»ºä¸­â€¦"]}):"åˆ›å»ºè¯¾ç¨‹"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{u("form"),O(null),$(null),se(null)},children:"é‡æ–°è®¾è®¡"})]})]})]})]}),l==="created"&&Ae&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5 text-green-600"}),"è¯¾ç¨‹å·²åˆ›å»º"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"å­¦ç”Ÿç«¯é“¾æŽ¥ï¼ˆåœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å³å¯è¿›å…¥å­¦ä¹ ï¼‰ï¼š"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("a",{href:Ae.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 hover:underline break-all",children:Ae.url}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:Ae.url,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-1"}),"åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å­¦ç”Ÿç«¯"]})})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{u("form"),O(null),$(null),se(null),ue(null)},children:"å†åˆ›å»ºä¸€é—¨è¯¾ç¨‹"})]})]})]})}const TASK_TYPE_LABELS={mastery:"æŽŒæ¡åž‹ä»»åŠ¡",guided:"å¼•å¯¼åž‹ä»»åŠ¡",autonomous:"è‡ªä¸»åž‹ä»»åŠ¡"};function CourseManagementPage({initialCourseTab:e}={}){const{user:t}=useAuth(),{publishedCourses:n,refreshCourses:o}=usePublishedCourses(),{tasks:l,refreshTasks:u}=useTasks(),[d,A]=reactExports.useState("active"),[m,f]=reactExports.useState(""),[g,v]=reactExports.useState([]),[b,w]=reactExports.useState(!1),[j,E]=reactExports.useState([]),[R,_]=reactExports.useState(null),[N,B]=reactExports.useState(null),[M,O]=reactExports.useState(!1),[F,$]=reactExports.useState([]),[z,se]=reactExports.useState(e??"active"),[ce,ie]=reactExports.useState(""),[pe,xe]=reactExports.useState(!1),[Ae,ue]=reactExports.useState(null),[Y,fe]=reactExports.useState([]),[H,le]=reactExports.useState([]),[de,ye]=reactExports.useState(!1),[ge,je]=reactExports.useState(!1),[Me,He]=reactExports.useState(null),[Qe,ze]=reactExports.useState(null),[Ve,tt]=reactExports.useState(!1),[nt,Ye]=reactExports.useState(null),[ut,mt]=reactExports.useState(!1),[St,or]=reactExports.useState(null),[Zt,Bt]=reactExports.useState(""),[ur,Nr]=reactExports.useState([]),[Qr,$r]=reactExports.useState(!1),on=reactExports.useRef(null),[wn,En]=reactExports.useState("view"),[en,Pt]=reactExports.useState([]),[ar,Xr]=reactExports.useState([]),[Cn,tn]=reactExports.useState([]),[vn,bn]=reactExports.useState(!1),[Br,Dt]=reactExports.useState("now"),[Tr,qr]=reactExports.useState(""),[Zr,jn]=reactExports.useState([]),[rn,Kn]=reactExports.useState(!1);reactExports.useEffect(()=>{d==="recycle"&&E([])},[d]),reactExports.useEffect(()=>{!t?.id||d!=="recycle"||(w(!0),listTeacherTasks(t.id,{deletedOnly:!0}).then(Ot=>v(Ot.tasks??[])).catch(Ot=>console.error("Failed to load deleted tasks:",Ot)).finally(()=>w(!1)))},[t?.id,d]),reactExports.useEffect(()=>{const Ot=M||pe;!t?.id||!Ot||(Kn(!0),listTeacherClasses(t.id).then(sn=>jn((sn.classes??[]).map(mn=>({...mn,studentCount:mn.studentCount??0})))).catch(sn=>console.error("Failed to load classes:",sn)).finally(()=>Kn(!1)))},[t?.id,M,pe]),reactExports.useEffect(()=>{!t?.id||z!=="recycle"||(ye(!0),listTeacherCoursesWithStats(t.id,{deletedOnly:!0}).then(Ot=>{const sn=(Ot.courses??[]).map(mn=>({id:mn.id,title:mn.title,subject:mn.subject,grade:mn.grade,students:mn.students,completion:mn.completion,assignmentStatus:mn.assignmentStatus??"unassigned",visibilityStatus:mn.visibilityStatus??"private",shareStatus:mn.shareStatus??"none",deletedAt:mn.deletedAt,canRestore:mn.canRestore,lastUpdated:mn.lastUpdated}));fe(sn)}).catch(Ot=>console.error("Failed to load deleted courses:",Ot)).finally(()=>ye(!1)))},[z,t?.id]),reactExports.useEffect(()=>{!t?.id||z!=="shared"||(je(!0),listSharedCourses(t.id).then(Ot=>{const sn=(Ot.courses??[]).map(mn=>({id:mn.id,title:mn.title,subject:mn.subject,grade:mn.grade,students:mn.students,completion:mn.completion,assignmentStatus:mn.assignmentStatus??"unassigned",visibilityStatus:mn.visibilityStatus??"private",shareStatus:mn.shareStatus??"none",deletedAt:null,canRestore:!1,lastUpdated:mn.lastUpdated,ownerTeacherId:mn.ownerTeacherId,ownerTeacherName:mn.ownerTeacherName}));le(sn)}).catch(Ot=>console.error("Failed to load shared courses:",Ot)).finally(()=>je(!1)))},[z,t?.id]);const an=d==="active"?l:[],Dr=d==="recycle"?g:[],Hn=reactExports.useMemo(()=>(d==="active"?an:Dr).filter(Ot=>`${Ot.topic||""} ${Ot.subject||""}`.toLowerCase().includes(m.toLowerCase())),[d,an,Dr,m]),Tn=n.map(Ot=>({id:Ot.id,title:Ot.title,subject:Ot.subject,grade:Ot.grade,students:Ot.students,completion:Ot.completion,assignmentStatus:Ot.assignmentStatus,visibilityStatus:Ot.visibilityStatus,shareStatus:Ot.shareStatus,deletedAt:null,canRestore:!1,lastUpdated:Ot.lastUpdated})),ps=(z==="active"?Tn:z==="shared"?H:Y).filter(Ot=>Ot.title.toLowerCase().includes(ce.toLowerCase())||Ot.subject.toLowerCase().includes(ce.toLowerCase())),Ti=Ot=>{const sn=Ot.grade?.trim()||"",mn=Ot.subject?.trim()||"",ji=Ot.topic?.trim()||Ot.subject||"æœªå‘½åä»»åŠ¡",As=Ot.taskType?TASK_TYPE_LABELS[Ot.taskType]??Ot.taskType:null,Ji=sn&&mn?`${sn} - ${mn} - ${ji}`:ji;return As?`${Ji} - ${As}`:Ji},ui=Ot=>{E(sn=>sn.includes(Ot)?sn.filter(mn=>mn!==Ot):[...sn,Ot])},vi=Ot=>{Ot.length&&($(Ot),Xr([]),Dt("now"),qr(""),O(!0))},fs=async Ot=>{if(t?.id)try{const sn=await createCourse({taskIds:[Ot]},t.id);window.open(`${getLearnYourWayOrigin()}/course/${sn.courseId}`,"_blank")}catch(sn){console.error("Failed to preview task:",sn),alert(sn instanceof Error?sn.message:"ç”Ÿæˆé¢„è§ˆå¤±è´¥")}},Sn=async Ot=>{if(t?.id&&window.confirm(`ç¡®å®šè¦åˆ é™¤"${Ot.topic||Ot.subject||"æ­¤ä»»åŠ¡"}"å—ï¼Ÿ`)){_(Ot.taskId);try{await deleteTask(Ot.taskId,t.id),await u(),E(sn=>sn.filter(mn=>mn!==Ot.taskId))}catch(sn){console.error("Delete task failed:",sn),alert(sn instanceof Error?sn.message:"åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{_(null)}}},Vs=async Ot=>{if(t?.id){B(Ot.taskId);try{await restoreTask(Ot.taskId,t.id),v(sn=>sn.filter(mn=>mn.taskId!==Ot.taskId)),await u(),alert("ä»»åŠ¡å·²æ¢å¤")}catch(sn){console.error("Restore task failed:",sn),alert(sn instanceof Error?sn.message:"æ¢å¤å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{B(null)}}},zi=async()=>{if(!(!t?.id||F.length===0||ar.length===0)){bn(!0);try{const Ot=await createCourse({taskIds:F},t.id),sn=await assignCourseToClasses(Ot.courseId,ar,t.id);if(Br==="schedule"){if(!Tr)throw new Error("è¯·é€‰æ‹©å®šæ—¶å‘å¸ƒæ—¶é—´");await updateCourseVisibility(Ot.courseId,t.id,"schedule",new Date(Tr).toISOString())}else await updateCourseVisibility(Ot.courseId,t.id,"publish");const mn=sn.skippedCount&&sn.skippedCount>0?`æˆåŠŸåˆ†é… ${sn.assignedCount} ä¸ªç­çº§ï¼Œ${sn.skippedCount} ä¸ªç­çº§å·²åˆ†é…è¿‡`:`æˆåŠŸåˆ†é… ${sn.assignedCount} ä¸ªç­çº§`;alert(mn),O(!1),Xr([]),$([]),E([])}catch(Ot){console.error("Assign task failed:",Ot),alert(Ot instanceof Error?Ot.message:"åˆ†é…å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{bn(!1)}}},zn=async Ot=>{if(t?.id){ue(Ot),Xr([]),Dt("now"),qr(""),xe(!0);try{const{classes:sn}=await getCourseAssignments(Ot.id,t.id);tn(sn.map(mn=>({id:mn.id,name:mn.name,grade:mn.grade,studentCount:mn.studentCount})))}catch(sn){console.error("Failed to load assigned classes:",sn),tn([])}}},wi=Ot=>{Xr(sn=>sn.includes(Ot)?sn.filter(mn=>mn!==Ot):[...sn,Ot])},mi=async Ot=>{if(!(!t?.id||!Ae))try{await removeCourseAssignment(Ae.id,Ot,t.id),tn(sn=>sn.filter(mn=>mn.id!==Ot)),await o()}catch(sn){console.error("Remove assignment failed:",sn),alert(sn instanceof Error?sn.message:"ç§»é™¤åˆ†é…å¤±è´¥ï¼Œè¯·é‡è¯•")}},gi=async()=>{if(!(!t?.id||!Ae||ar.length===0)){bn(!0);try{const Ot=await assignCourseToClasses(Ae.id,ar,t.id);if(Br==="schedule"){if(!Tr)throw new Error("è¯·é€‰æ‹©å®šæ—¶å‘å¸ƒæ—¶é—´");await updateCourseVisibility(Ae.id,t.id,"schedule",new Date(Tr).toISOString())}else await updateCourseVisibility(Ae.id,t.id,"publish");const sn=Zr.filter(ji=>ar.includes(ji.id)).map(ji=>ji.name).join("ã€"),mn=Ot.skippedCount&&Ot.skippedCount>0?`æˆåŠŸå°†"${Ae.title}"åˆ†é…ç»™ ${Ot.assignedCount} ä¸ªç­çº§ï¼Œ${Ot.skippedCount} ä¸ªç­çº§å·²åˆ†é…è¿‡`:`æˆåŠŸå°†"${Ae.title}"åˆ†é…ç»™ï¼š${sn}`;alert(mn),xe(!1),Xr([]),ue(null),tn([]),await o()}catch(Ot){console.error("Assign failed:",Ot),alert(Ot instanceof Error?Ot.message:"åˆ†é…å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{bn(!1)}}},Ni=async Ot=>{if(t?.id&&window.confirm(`ç¡®å®šè¦åˆ é™¤è¯¾ç¨‹"${Ot.title}"å—ï¼Ÿè¯¾ç¨‹å°†è¿›å…¥å›žæ”¶çŠ¶æ€ï¼Œ90å¤©å†…å¯æ¢å¤ã€‚`)){He(Ot.id);try{await deleteCourse(Ot.id,t.id),await o()}catch(sn){console.error("Delete course failed:",sn),alert(sn instanceof Error?sn.message:"åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{He(null)}}},Hs=Ot=>{window.open(`${getLearnYourWayOrigin()}/course/${Ot}`,"_blank")},Xi=async Ot=>{if(t?.id){ze(Ot.id);try{await restoreCourse(Ot.id,t.id),fe(sn=>sn.filter(mn=>mn.id!==Ot.id)),await o(),alert("è¯¾ç¨‹å·²æ¢å¤")}catch(sn){console.error("Restore course failed:",sn),alert(sn instanceof Error?sn.message:"æ¢å¤å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{ze(null)}}},Bs=async Ot=>{if(t?.id){Ye(Ot),tt(!0),or(null),Bt(""),Nr([]),mt(!0);try{const{shares:sn}=await listCourseShares(Ot.id,t.id);Pt(sn)}catch(sn){console.error("Load shares failed:",sn),Pt([])}finally{mt(!1)}}};reactExports.useEffect(()=>{if(!Ve||!Zt.trim()){Nr([]);return}const Ot=setTimeout(async()=>{$r(!0);try{const{teachers:sn}=await searchTeachers(Zt.trim());Nr(sn.filter(mn=>mn.id!==t?.id))}catch{Nr([])}finally{$r(!1)}},300);return()=>clearTimeout(Ot)},[Ve,Zt,t?.id]),reactExports.useEffect(()=>{if(!Ve||ur.length===0)return;const Ot=sn=>{on.current&&!on.current.contains(sn.target)&&Nr([])};return document.addEventListener("mousedown",Ot),()=>document.removeEventListener("mousedown",Ot)},[Ve,ur.length]);const Gi=async()=>{if(!(!t?.id||!nt||!St?.id))try{await createCourseShare({courseId:nt.id,ownerTeacherId:t.id,targetTeacherId:St.id,permission:wn});const{shares:Ot}=await listCourseShares(nt.id,t.id);Pt(Ot),or(null),Bt(""),Nr([])}catch(Ot){console.error("Create share failed:",Ot),alert(Ot instanceof Error?Ot.message:"åˆ›å»ºåˆ†äº«å¤±è´¥")}},Ss=async()=>{if(!(!t?.id||!nt))try{const Ot=await createCourseShare({courseId:nt.id,ownerTeacherId:t.id,permission:wn,createLinkShare:!0}),sn=`${window.location.origin}/shared-course/${Ot.shareToken}`;await navigator.clipboard.writeText(sn),alert(`å·²ç”Ÿæˆåˆ†äº«é“¾æŽ¥å¹¶å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼š${sn}`);const{shares:mn}=await listCourseShares(nt.id,t.id);Pt(mn)}catch(Ot){console.error("Create link share failed:",Ot),alert(Ot instanceof Error?Ot.message:"åˆ›å»ºé“¾æŽ¥åˆ†äº«å¤±è´¥")}},La=async Ot=>{if(!(!t?.id||!nt))try{await deleteCourseShare(Ot,t.id);const{shares:sn}=await listCourseShares(nt.id,t.id);Pt(sn)}catch(sn){console.error("Revoke share failed:",sn),alert(sn instanceof Error?sn.message:"æ’¤é”€åˆ†äº«å¤±è´¥")}},Qi=(Ot,sn)=>{const mn=j.includes(Ot.taskId);return jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${mn?"border-blue-300 bg-blue-50/40":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-violet-600 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[sn.selectable?jsxRuntimeExports.jsx("input",{type:"checkbox",checked:mn,onChange:()=>ui(Ot.taskId),className:"w-4 h-4"}):null,jsxRuntimeExports.jsx("p",{className:"font-medium",children:Ti(Ot)})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-sm text-muted-foreground",children:jsxRuntimeExports.jsx("span",{children:[Ot.subject,Ot.grade].filter(Boolean).join(" Â· ")||Ot.taskId.slice(0,8)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>fs(Ot.taskId),children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-1"}),"é¢„è§ˆ"]}),sn.assignable?jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>vi([Ot.taskId]),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),"åˆ†é…"]}):null,jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d==="active"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Sn(Ot),disabled:R===Ot.taskId,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[R===Ot.taskId?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-1"}),"åˆ é™¤"]})}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Vs(Ot),disabled:N===Ot.taskId,children:[N===Ot.taskId?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-1 animate-spin"}):null,"æ¢å¤"]})})]})]},Ot.taskId)},Pi=(Ot,sn)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:Ot.title}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:[Ot.subject," Â· ",Ot.grade]}),jsxRuntimeExports.jsx(Badge,{variant:Ot.assignmentStatus==="assigned"?"default":"secondary",children:Ot.assignmentStatus==="assigned"?"å·²åˆ†é…":"æœªåˆ†é…"}),z==="shared"&&Ot.ownerTeacherId?jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:["åˆ†äº«è‡ª ",Ot.ownerTeacherName??Ot.ownerTeacherId]}):null,z==="active"&&jsxRuntimeExports.jsx(Badge,{variant:Ot.shareStatus==="shared"?"default":"secondary",children:Ot.shareStatus==="shared"?"å·²åˆ†äº«":"æœªåˆ†äº«"}),jsxRuntimeExports.jsxs("span",{children:[Ot.students," åå­¦ç”Ÿ"]}),jsxRuntimeExports.jsxs("span",{children:["å®ŒæˆçŽ‡ ",Ot.completion,"%"]}),z==="recycle"&&Ot.deletedAt?jsxRuntimeExports.jsxs("span",{children:["åˆ é™¤äºŽ ",new Date(Ot.deletedAt).toLocaleDateString()]}):null,jsxRuntimeExports.jsxs("span",{children:["æ›´æ–°äºŽ ",Ot.lastUpdated]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Hs(Ot.id),children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-1"}),"é¢„è§ˆ"]}),z==="shared"?jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>zn(Ot),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),"åˆ†é…"]}):z==="active"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>zn(Ot),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),"åˆ†é…"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Bs(Ot),children:[jsxRuntimeExports.jsx(Share2,{className:"w-4 h-4 mr-1"}),"åˆ†äº«"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>Ni(Ot),disabled:Me===Ot.id,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[Me===Ot.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-1"}),"åˆ é™¤"]})]}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Xi(Ot),disabled:!Ot.canRestore||Qe===Ot.id,children:[Qe===Ot.id?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-1 animate-spin"}):null,"æ¢å¤"]})]})]},Ot.id);return jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"è¯¾ç¨‹ç®¡ç†"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:"ç®¡ç†ä»»åŠ¡ä¸Žè¯¾ç¨‹ï¼Œæ”¯æŒæ‰“åŒ…ä»»åŠ¡æˆè¯¾ç¨‹ã€åˆ†é…ã€åˆ†äº«è¯¾ç¨‹"})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"ä»»åŠ¡ç®¡ç†"}),jsxRuntimeExports.jsx(CardDescription,{children:"æ”¯æŒé€‰æ‹©å•ä¸ªæˆ–è€…å¤šä¸ªä»»åŠ¡æ‰“åŒ…æˆè¯¾ç¨‹"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:jsxRuntimeExports.jsx(Button,{variant:d==="active"?"default":"outline",size:"sm",onClick:()=>A("active"),children:"æˆ‘çš„ä»»åŠ¡"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative md:w-64",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"æŒ‰ä»»åŠ¡ä¸»é¢˜æˆ–å­¦ç§‘æœç´¢...",value:m,onChange:Ot=>f(Ot.target.value),className:"pl-10 w-full"})]}),jsxRuntimeExports.jsx(Button,{variant:d==="recycle"?"default":"outline",size:"sm",onClick:()=>A("recycle"),children:"å›žæ”¶ç«™"})]})]}),d==="recycle"&&b?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):Hn.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-8 text-center",children:d==="active"?"æš‚æ— ä»»åŠ¡":"å›žæ”¶ç«™æš‚æ— ä»»åŠ¡"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[d==="active"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4 py-3 px-4 bg-primary/10 border border-primary/20 rounded-lg",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium",children:["å·²é€‰ ",j.length," ä¸ªä»»åŠ¡"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>E([]),disabled:j.length===0,children:"å–æ¶ˆé€‰æ‹©"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>vi(j),disabled:j.length===0,children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),"æ‰“åŒ…è¯¾ç¨‹å¹¶åˆ†é…"]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-[280px] overflow-y-auto",children:Hn.map(Ot=>Qi(Ot,{selectable:d==="active",assignable:d==="active"}))})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"è¯¾ç¨‹ç®¡ç†"}),jsxRuntimeExports.jsx(CardDescription,{children:"ç®¡ç†è¯¾ç¨‹çš„åˆ†é…ã€åˆ†äº«ä¸Žåˆ é™¤"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:z==="active"?"default":"outline",size:"sm",onClick:()=>se("active"),children:"æˆ‘çš„è¯¾ç¨‹"}),jsxRuntimeExports.jsx(Button,{variant:z==="shared"?"default":"outline",size:"sm",onClick:()=>se("shared"),children:"åˆ†äº«ç»™æˆ‘çš„"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative md:w-64",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"æœç´¢è¯¾ç¨‹...",value:ce,onChange:Ot=>ie(Ot.target.value),className:"pl-10 w-full"})]}),jsxRuntimeExports.jsx(Button,{variant:z==="recycle"?"default":"outline",size:"sm",onClick:()=>se("recycle"),children:"å›žæ”¶ç«™"})]})]}),z==="recycle"&&de||z==="shared"&&ge?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):ps.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-8 text-center",children:z==="active"?"æš‚æ— è¯¾ç¨‹":z==="shared"?"æš‚æ— åˆ†äº«ç»™æˆ‘çš„è¯¾ç¨‹":"å›žæ”¶ç«™æš‚æ— è¯¾ç¨‹"}):jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-[280px] overflow-y-auto",children:ps.map(Ot=>Pi(Ot))})]})})]}),M&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs(Card,{className:"w-[640px] max-h-[85vh] flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"æ‰“åŒ…è¯¾ç¨‹å¹¶åˆ†é…"}),jsxRuntimeExports.jsxs(CardDescription,{className:"mt-1",children:["å·²é€‰ä»»åŠ¡ï¼š",F.length," ä¸ª"]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>O(!1),className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 border rounded-lg p-3 bg-muted/30",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"å‘å¸ƒæ–¹å¼"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:Br==="now",onChange:()=>Dt("now")}),"ç«‹å³å‘é€"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:Br==="schedule",onChange:()=>Dt("schedule")}),"å®šæ—¶å‘é€"]})]}),Br==="schedule"&&jsxRuntimeExports.jsx(Input,{type:"datetime-local",value:Tr,onChange:Ot=>qr(Ot.target.value)})]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:"é€‰æ‹©è¦åˆ†é…çš„ç­çº§ï¼ˆå¯å¤šé€‰ï¼‰"}),rn?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):Zr.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-4 text-center",children:"æš‚æ— ç­çº§ï¼Œè¯·å…ˆåœ¨ç­çº§ç®¡ç†é¡µåˆ›å»º"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Zr.map(Ot=>jsxRuntimeExports.jsxs("div",{className:`flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 ${ar.includes(Ot.id)?"bg-blue-50 border-blue-300":""}`,onClick:()=>wi(Ot.id),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ar.includes(Ot.id),onChange:()=>wi(Ot.id),className:"mr-3 w-4 h-4"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ot.name}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:Ot.grade||"æœªè®¾å¹´çº§"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[Ot.studentCount," åå­¦ç”Ÿ"]})]})]},Ot.id))})]}),jsxRuntimeExports.jsxs("div",{className:"border-t p-4 flex justify-end gap-3 bg-gray-50",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>O(!1),children:"å–æ¶ˆ"}),jsxRuntimeExports.jsxs(Button,{onClick:zi,disabled:ar.length===0||vn||Br==="schedule"&&!Tr,children:[vn?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),"ç¡®è®¤åˆ†é…"]})]})]})}),pe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs(Card,{className:"w-[640px] max-h-[85vh] flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"åˆ†é…è¯¾ç¨‹è‡ªå­¦ä»»åŠ¡"}),jsxRuntimeExports.jsxs(CardDescription,{className:"mt-1",children:["è¯¾ç¨‹ï¼š",Ae?.title]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>xe(!1),className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 border rounded-lg p-3 bg-muted/30",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"å‘å¸ƒæ–¹å¼"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:Br==="now",onChange:()=>Dt("now")}),"ç«‹å³å‘é€"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:Br==="schedule",onChange:()=>Dt("schedule")}),"å®šæ—¶å‘é€"]})]}),Br==="schedule"&&jsxRuntimeExports.jsx(Input,{type:"datetime-local",value:Tr,onChange:Ot=>qr(Ot.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:"å·²åˆ†é…ç­çº§ï¼ˆå¯ç§»é™¤ï¼‰"}),Cn.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"å½“å‰æš‚æ— å·²åˆ†é…ç­çº§"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Cn.map(Ot=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border rounded-md p-2",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ot.name}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground ml-2",children:[Ot.grade||"æœªè®¾å¹´çº§"," Â· ",Ot.studentCount," äºº"]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>mi(Ot.id),className:"text-red-600 hover:text-red-700",children:"ç§»é™¤"})]},Ot.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:"é€‰æ‹©è¦æ–°å¢žåˆ†é…çš„ç­çº§ï¼ˆå¯å¤šé€‰ï¼‰"}),rn?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):Zr.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-4 text-center",children:"æš‚æ— ç­çº§ï¼Œè¯·å…ˆåœ¨ç­çº§ç®¡ç†é¡µåˆ›å»º"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Zr.map(Ot=>{const sn=Cn.some(mn=>mn.id===Ot.id);return jsxRuntimeExports.jsxs("div",{className:`flex items-center p-3 border rounded-lg transition-colors ${sn?"bg-gray-50 opacity-70":"cursor-pointer hover:bg-gray-50"} ${ar.includes(Ot.id)?"bg-blue-50 border-blue-300":""}`,onClick:()=>!sn&&wi(Ot.id),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ar.includes(Ot.id),disabled:sn,onChange:()=>!sn&&wi(Ot.id),className:"mr-3 w-4 h-4"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ot.name}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:Ot.grade||"æœªè®¾å¹´çº§"}),sn&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"å·²åˆ†é…"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[Ot.studentCount," åå­¦ç”Ÿ"]})]})]},Ot.id)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t p-4 flex justify-end gap-3 bg-gray-50",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>xe(!1),children:"å–æ¶ˆ"}),jsxRuntimeExports.jsxs(Button,{onClick:gi,disabled:ar.length===0||vn||Br==="schedule"&&!Tr,children:[vn?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),"ç¡®è®¤åˆ†é…"]})]})]})}),Ve&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs(Card,{className:"w-[720px] max-h-[85vh] flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"è¯¾ç¨‹åˆ†äº«"}),jsxRuntimeExports.jsxs(CardDescription,{className:"mt-1",children:["è¯¾ç¨‹ï¼š",nt?.title]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>tt(!1),className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6 space-y-4 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[jsxRuntimeExports.jsx("div",{className:"relative flex-1 min-w-[200px]",ref:on,children:St?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border rounded-md bg-muted/50",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["å·²é€‰æ‹©ï¼š",St.name]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>or(null),className:"h-6 px-2 text-muted-foreground",children:"æ¸…é™¤"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Input,{placeholder:"æœç´¢æ•™å¸ˆå§“åæˆ–é‚®ç®±...",value:Zt,onChange:Ot=>Bt(Ot.target.value),className:"pr-8"}),Qr&&jsxRuntimeExports.jsx(LoaderCircle,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"}),ur.length>0&&!Qr&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 border rounded-md bg-background shadow-lg z-10 max-h-48 overflow-y-auto",children:ur.map(Ot=>jsxRuntimeExports.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-muted transition-colors",onClick:()=>{or(Ot),Bt(""),Nr([])},children:[Ot.name,Ot.email?` (${Ot.email})`:""]},Ot.id))})]})}),jsxRuntimeExports.jsxs("select",{className:"border rounded-md px-3 py-2 text-sm h-10",value:wn,onChange:Ot=>En(Ot.target.value),children:[jsxRuntimeExports.jsx("option",{value:"view",children:"viewï¼ˆå¯é¢„è§ˆ/åˆ†é…ï¼‰"}),jsxRuntimeExports.jsx("option",{value:"edit",children:"editï¼ˆå¯ç¼–è¾‘ï¼‰"})]}),jsxRuntimeExports.jsx(Button,{onClick:Gi,disabled:!St,children:"æŒ‰è´¦å·åˆ†äº«"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:Ss,children:[jsxRuntimeExports.jsx(Link2,{className:"w-4 h-4 mr-1"}),"ç”Ÿæˆé“¾æŽ¥åˆ†äº«"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:"å·²åˆ†äº«è®°å½•"}),ut?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):en.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"æš‚æ— åˆ†äº«è®°å½•"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:en.map(Ot=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border rounded-md p-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("div",{children:Ot.target_teacher_id?`æ•™å¸ˆï¼š${Ot.target_teacher_name??Ot.target_teacher_id}`:`é“¾æŽ¥ï¼š${Ot.share_token}`}),jsxRuntimeExports.jsxs("div",{className:"text-muted-foreground",children:["æƒé™ï¼š",Ot.permission,Ot.expires_at?` Â· è¿‡æœŸï¼š${Ot.expires_at}`:""]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>La(Ot.id),className:"text-red-600 hover:text-red-700",children:"æ’¤é”€"})]},Ot.id))})]})]})]})})]})}function createSlot(e){const t=createSlotClone(e),n=reactExports.forwardRef((o,l)=>{const{children:u,...d}=o,A=reactExports.Children.toArray(u),m=A.find(isSlottable);if(m){const f=m.props.children,g=A.map(v=>v===m?reactExports.Children.count(f)>1?reactExports.Children.only(null):reactExports.isValidElement(f)?f.props.children:null:v);return jsxRuntimeExports.jsx(t,{...d,ref:l,children:reactExports.isValidElement(f)?reactExports.cloneElement(f,void 0,g):null})}return jsxRuntimeExports.jsx(t,{...d,ref:l,children:u})});return n.displayName=`${e}.Slot`,n}function createSlotClone(e){const t=reactExports.forwardRef((n,o)=>{const{children:l,...u}=n;if(reactExports.isValidElement(l)){const d=getElementRef(l),A=mergeProps(u,l.props);return l.type!==reactExports.Fragment&&(A.ref=o?composeRefs(o,d):d),reactExports.cloneElement(l,A)}return reactExports.Children.count(l)>1?reactExports.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,t){const n={...t};for(const o in t){const l=e[o],u=t[o];/^on[A-Z]/.test(o)?l&&u?n[o]=(...A)=>{const m=u(...A);return l(...A),m}:l&&(n[o]=l):o==="style"?n[o]={...l,...u}:o==="className"&&(n[o]=[l,u].filter(Boolean).join(" "))}return{...e,...n}}function getElementRef(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var DIALOG_NAME="Dialog",[createDialogContext]=createContextScope$2(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:l,onOpenChange:u,modal:d=!0}=e,A=reactExports.useRef(null),m=reactExports.useRef(null),[f,g]=useControllableState({prop:o,defaultProp:l??!1,onChange:u,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:t,triggerRef:A,contentRef:m,contentId:useId(),titleId:useId(),descriptionId:useId(),open:f,onOpenChange:g,onOpenToggle:reactExports.useCallback(()=>g(v=>!v),[g]),modal:d,children:n})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME="DialogTrigger",DialogTrigger=reactExports.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,l=useDialogContext(TRIGGER_NAME,n),u=useComposedRefs(t,l.triggerRef);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":getState(l.open),...o,ref:u,onClick:composeEventHandlers(e.onClick,l.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME,{forceMount:void 0}),DialogPortal$1=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:l}=e,u=useDialogContext(PORTAL_NAME,t);return jsxRuntimeExports.jsx(PortalProvider,{scope:t,forceMount:n,children:reactExports.Children.map(o,d=>jsxRuntimeExports.jsx(Presence,{present:n||u.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:l,children:d})}))})};DialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((e,t)=>{const n=usePortalContext(OVERLAY_NAME,e.__scopeDialog),{forceMount:o=n.forceMount,...l}=e,u=useDialogContext(OVERLAY_NAME,e.__scopeDialog);return u.modal?jsxRuntimeExports.jsx(Presence,{present:o||u.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...l,ref:t})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,l=useDialogContext(OVERLAY_NAME,n);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[l.contentRef],children:jsxRuntimeExports.jsx(Primitive$2.div,{"data-state":getState(l.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),CONTENT_NAME="DialogContent",DialogContent$1=reactExports.forwardRef((e,t)=>{const n=usePortalContext(CONTENT_NAME,e.__scopeDialog),{forceMount:o=n.forceMount,...l}=e,u=useDialogContext(CONTENT_NAME,e.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:o||u.open,children:u.modal?jsxRuntimeExports.jsx(DialogContentModal,{...l,ref:t}):jsxRuntimeExports.jsx(DialogContentNonModal,{...l,ref:t})})});DialogContent$1.displayName=CONTENT_NAME;var DialogContentModal=reactExports.forwardRef((e,t)=>{const n=useDialogContext(CONTENT_NAME,e.__scopeDialog),o=reactExports.useRef(null),l=useComposedRefs(t,n.contentRef,o);return reactExports.useEffect(()=>{const u=o.current;if(u)return hideOthers(u)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(e.onCloseAutoFocus,u=>{u.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(e.onPointerDownOutside,u=>{const d=u.detail.originalEvent,A=d.button===0&&d.ctrlKey===!0;(d.button===2||A)&&u.preventDefault()}),onFocusOutside:composeEventHandlers(e.onFocusOutside,u=>u.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((e,t)=>{const n=useDialogContext(CONTENT_NAME,e.__scopeDialog),o=reactExports.useRef(!1),l=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(o.current||n.triggerRef.current?.focus(),u.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(o.current=!0,u.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=u.target;n.triggerRef.current?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&l.current&&u.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:u,...d}=e,A=useDialogContext(CONTENT_NAME,n),m=reactExports.useRef(null),f=useComposedRefs(t,m);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:u,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:A.contentId,"aria-describedby":A.descriptionId,"aria-labelledby":A.titleId,"data-state":getState(A.open),...d,ref:f,onDismiss:()=>A.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:A.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:m,descriptionId:A.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,l=useDialogContext(TITLE_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.h2,{id:l.titleId,...o,ref:t})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,l=useDialogContext(DESCRIPTION_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.p,{id:l.descriptionId,...o,ref:t})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,l=useDialogContext(CLOSE_NAME,n);return jsxRuntimeExports.jsx(Primitive$2.button,{type:"button",...o,ref:t,onClick:composeEventHandlers(e.onClick,()=>l.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState(e){return e?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{const t=useWarningContext(TITLE_WARNING_NAME),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return reactExports.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");t&&l&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},Root=Dialog$1,Portal=DialogPortal$1,Overlay=DialogOverlay$1,Content=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;function Dialog({...e}){return jsxRuntimeExports.jsx(Root,{"data-slot":"dialog",...e})}function DialogPortal({...e}){return jsxRuntimeExports.jsx(Portal,{"data-slot":"dialog-portal",...e})}function DialogOverlay({className:e,...t}){return jsxRuntimeExports.jsx(Overlay,{"data-slot":"dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function DialogContent({className:e,children:t,...n}){return jsxRuntimeExports.jsxs(DialogPortal,{"data-slot":"dialog-portal",children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content,{"data-slot":"dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,jsxRuntimeExports.jsxs(Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[jsxRuntimeExports.jsx(X,{}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function DialogHeader({className:e,...t}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function DialogFooter({className:e,...t}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-footer",className:cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function DialogTitle({className:e,...t}){return jsxRuntimeExports.jsx(Title,{"data-slot":"dialog-title",className:cn("text-lg leading-none font-semibold",e),...t})}function DialogDescription({className:e,...t}){return jsxRuntimeExports.jsx(Description,{"data-slot":"dialog-description",className:cn("text-muted-foreground text-sm",e),...t})}function ClassManagementPage(){const{user:e}=useAuth(),[t,n]=reactExports.useState([]),[o,l]=reactExports.useState(!0),[u,d]=reactExports.useState(null),[A,m]=reactExports.useState(null),[f,g]=reactExports.useState(!1),[v,b]=reactExports.useState(""),[w,j]=reactExports.useState(!1),[E,R]=reactExports.useState(""),[_,N]=reactExports.useState(""),[B,M]=reactExports.useState(!1),[O,F]=reactExports.useState(""),[$,z]=reactExports.useState(!1),[se,ce]=reactExports.useState(""),[ie,pe]=reactExports.useState(!1),[xe,Ae]=reactExports.useState(""),ue=async()=>{if(e?.id){l(!0);try{const ge=await listTeacherClasses(e.id);n((ge.classes??[]).map(je=>({...je,studentCount:je.studentCount??0})))}catch(ge){console.error("Failed to load classes:",ge)}finally{l(!1)}}};reactExports.useEffect(()=>{ue()},[e?.id]),reactExports.useEffect(()=>{u&&e?.id?(g(!0),getClass(u).then(ge=>m({id:ge.id,name:ge.name,grade:ge.grade,students:ge.students??[]})).catch(ge=>{console.error("Failed to load class:",ge),m(null)}).finally(()=>g(!1))):m(null)},[u]);const Y=async()=>{if(!(!e?.id||!E.trim())){M(!0),F("");try{await createClass$1(e.id,E.trim(),_.trim()||void 0),j(!1),R(""),N(""),ue()}catch(ge){F(ge instanceof Error?ge.message:"åˆ›å»ºå¤±è´¥")}finally{M(!1)}}},fe=async()=>{if(!(!u||!se.trim())){pe(!0),Ae("");try{if(await addStudentToClassByEmail(u,se.trim()),z(!1),ce(""),u){const ge=await getClass(u);m({id:ge.id,name:ge.name,grade:ge.grade,students:ge.students??[]})}ue()}catch(ge){Ae(ge instanceof Error?ge.message:"æ·»åŠ å¤±è´¥ï¼Œè¯·ç¡®è®¤å­¦ç”Ÿå·²æ³¨å†Œä¸ºå­¦ç”Ÿè´¦å·")}finally{pe(!1)}}},H=async ge=>{if(u&&window.confirm("ç¡®å®šç§»å‡ºè¯¥å­¦ç”Ÿï¼Ÿ"))try{await removeStudentFromClass(u,ge),A&&m({...A,students:A.students.filter(je=>je.id!==ge)}),ue()}catch(je){console.error("Failed to remove student:",je),alert(je instanceof Error?je.message:"ç§»å‡ºå¤±è´¥")}},le=async ge=>{if(window.confirm("ç¡®å®šåˆ é™¤è¯¥ç­çº§ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚"))try{await deleteClass(ge),u===ge&&(d(null),m(null)),ue()}catch(je){console.error("Failed to delete class:",je),alert(je instanceof Error?je.message:"åˆ é™¤å¤±è´¥")}},de=(A?.students??[]).filter(ge=>(ge.name??"").toLowerCase().includes(v.toLowerCase())||(ge.email??"").toLowerCase().includes(v.toLowerCase())),ye=t.find(ge=>ge.id===u);return jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"ç­çº§ç®¡ç†"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-2",children:"ç®¡ç†æ‚¨çš„ç­çº§å’Œå­¦ç”Ÿ"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"ç­çº§æ€»æ•°"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-blue-600"})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"å­¦ç”Ÿæ€»æ•°"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:t.reduce((ge,je)=>ge+(je.studentCount??0),0)})]}),jsxRuntimeExports.jsx(UserPlus,{className:"w-8 h-8 text-green-600"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"lg:col-span-1",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{children:"ç­çº§åˆ—è¡¨"}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>j(!0),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),"æ–°å»º"]})]}),jsxRuntimeExports.jsx(CardDescription,{children:"é€‰æ‹©ä¸€ä¸ªç­çº§æŸ¥çœ‹è¯¦æƒ…"})]}),jsxRuntimeExports.jsx(CardContent,{children:o?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-8",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):t.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-4 text-center",children:"æš‚æ— ç­çº§ï¼Œç‚¹å‡»æ–°å»ºåˆ›å»º"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:t.map(ge=>jsxRuntimeExports.jsxs("div",{onClick:()=>d(ge.id),className:`p-4 border rounded-lg cursor-pointer transition-colors flex justify-between items-center ${u===ge.id?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:ge.name}),ge.grade&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:ge.grade})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[ge.studentCount??0," åå­¦ç”Ÿ"]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:je=>{je.stopPropagation(),le(ge.id)},children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]},ge.id))})})]}),jsxRuntimeExports.jsxs(Card,{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"å­¦ç”Ÿåˆ—è¡¨"}),jsxRuntimeExports.jsx(CardDescription,{children:ye?`${ye.name} çš„å­¦ç”Ÿ`:"é€‰æ‹©ç­çº§æŸ¥çœ‹å­¦ç”Ÿ"})]}),u&&jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>z(!0),children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-1"}),"æ·»åŠ å­¦ç”Ÿ"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:u?f?jsxRuntimeExports.jsx("div",{className:"flex justify-center py-12",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"æœç´¢å­¦ç”Ÿå§“åæˆ–é‚®ç®±...",value:v,onChange:ge=>b(ge.target.value),className:"pl-10"})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:de.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground py-6 text-center",children:"æš‚æ— å­¦ç”Ÿï¼Œç‚¹å‡»æ·»åŠ å­¦ç”Ÿé€šè¿‡é‚®ç®±é‚€è¯·"}):de.map(ge=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Avatar,{children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-blue-600 text-white",children:(ge.name??ge.email??"?").charAt(0)})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:ge.name||"æœªè®¾ç½®å§“å"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:ge.email||ge.id})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>H(ge.id),children:"ç§»å‡º"})]},ge.id))})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"è¯·ä»Žå·¦ä¾§é€‰æ‹©ä¸€ä¸ªç­çº§æŸ¥çœ‹å­¦ç”Ÿåˆ—è¡¨"})]})})]})]}),jsxRuntimeExports.jsx(Dialog,{open:w,onOpenChange:j,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"æ–°å»ºç­çº§"}),jsxRuntimeExports.jsx(DialogDescription,{children:"è¾“å…¥ç­çº§åç§°å’Œå¹´çº§"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"class-name",children:"ç­çº§åç§°"}),jsxRuntimeExports.jsx(Input,{id:"class-name",placeholder:"å¦‚ï¼šé«˜ä¸€3ç­",value:E,onChange:ge=>R(ge.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"class-grade",children:"å¹´çº§ï¼ˆé€‰å¡«ï¼‰"}),jsxRuntimeExports.jsx(Input,{id:"class-grade",placeholder:"å¦‚ï¼šé«˜ä¸€",value:_,onChange:ge=>N(ge.target.value)})]}),O&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:O})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>j(!1),children:"å–æ¶ˆ"}),jsxRuntimeExports.jsxs(Button,{onClick:Y,disabled:!E.trim()||B,children:[B&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),"åˆ›å»º"]})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:$,onOpenChange:z,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"æ·»åŠ å­¦ç”Ÿ"}),jsxRuntimeExports.jsx(DialogDescription,{children:"è¾“å…¥å­¦ç”Ÿæ³¨å†Œæ—¶ä½¿ç”¨çš„é‚®ç®±ï¼Œç³»ç»Ÿå°†æŸ¥æ‰¾è¯¥å­¦ç”Ÿå¹¶åŠ å…¥ç­çº§"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"student-email",children:"å­¦ç”Ÿé‚®ç®±"}),jsxRuntimeExports.jsx(Input,{id:"student-email",type:"email",placeholder:"student@example.com",value:se,onChange:ge=>ce(ge.target.value)})]}),xe&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:xe})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>z(!1),children:"å–æ¶ˆ"}),jsxRuntimeExports.jsxs(Button,{onClick:fe,disabled:!se.trim()||ie,children:[ie&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),"æ·»åŠ "]})]})]})})]})}function TypingText({text:e,speed:t=40,onComplete:n,className:o,paragraphClassName:l="text-gray-700 leading-relaxed"}){const[u,d]=reactExports.useState(0),A=e.length;reactExports.useEffect(()=>{if(u>=A){n?.();return}const g=setTimeout(()=>d(v=>Math.min(v+1,A)),t);return()=>clearTimeout(g)},[u,A,t,n]);const f=e.slice(0,u).split(`
`).filter(g=>g.length>0);return jsxRuntimeExports.jsx("div",{className:cn("space-y-4",o),children:f.map((g,v)=>jsxRuntimeExports.jsx("p",{className:l,children:g},v))})}const MathTextPreview=({text:e,className:t="text-sm text-slate-700 leading-relaxed"})=>{const n=React.useMemo(()=>e?e.split(/\n\n+/).map(o=>o.replace(/([^\n])\n([^\n])/g,`$1  
$2`)).join(`

`):"",[e]);return jsxRuntimeExports.jsx("div",{className:t,children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath,remarkGfm],rehypePlugins:[rehypeKatex],components:{p:({...o})=>jsxRuntimeExports.jsx("p",{className:"mb-2 last:mb-0 text-slate-700 whitespace-pre-line",...o}),h1:({...o})=>jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold mb-2 text-slate-800",...o}),h2:({...o})=>jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2 text-slate-800",...o}),h3:({...o})=>jsxRuntimeExports.jsx("h3",{className:"text-base font-bold mb-2 text-slate-800",...o}),strong:({...o})=>jsxRuntimeExports.jsx("strong",{className:"font-semibold text-slate-800",...o}),em:({...o})=>jsxRuntimeExports.jsx("em",{className:"italic",...o}),ul:({...o})=>jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1 ml-4",...o}),ol:({...o})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1 ml-4",...o}),li:({...o})=>jsxRuntimeExports.jsx("li",{className:"ml-2",...o}),code:({inline:o,...l})=>o?jsxRuntimeExports.jsx("code",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-xs font-mono text-slate-800",...l}):jsxRuntimeExports.jsx("code",{className:"block bg-slate-50 p-3 rounded text-xs font-mono text-slate-800 overflow-x-auto my-2",...l}),table:({...o})=>jsxRuntimeExports.jsx("div",{className:"overflow-x-auto my-4",children:jsxRuntimeExports.jsx("table",{className:"min-w-full border-collapse bg-white border border-slate-300",...o})}),thead:({...o})=>jsxRuntimeExports.jsx("thead",{className:"bg-slate-100",...o}),tbody:({...o})=>jsxRuntimeExports.jsx("tbody",{...o}),tr:({...o})=>jsxRuntimeExports.jsx("tr",{className:"border-b border-slate-200 hover:bg-slate-50",...o}),th:({...o})=>jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left font-semibold text-slate-800 border-r border-slate-300 last:border-r-0",...o}),td:({...o})=>jsxRuntimeExports.jsx("td",{className:"px-4 py-2 text-slate-700 border-r border-slate-300 last:border-r-0",...o}),blockquote:({...o})=>jsxRuntimeExports.jsx("blockquote",{className:"border-l-4 border-slate-300 pl-3 italic my-2 text-slate-600",...o})},children:n})})},STEPS=[{id:1,key:"objective",label:"å­¦ä¹ ç›®æ ‡",icon:Target},{id:2,key:"video",label:"ç´ æé€‰æ‹©",icon:Video},{id:3,key:"keyIdeas",label:"å…³é”®è¦ç‚¹",icon:ListOrdered},{id:4,key:"practice",label:"ç»ƒä¹ é¢˜ç›®",icon:FileQuestion},{id:5,key:"exitTicket",label:"ç¦»åœºåˆ¸",icon:Ticket}];function parseVideoUrl(e){try{const t=new URL(e),n=t.hostname.toLowerCase();if(n==="www.youtube.com"||n==="youtube.com"){const o=t.searchParams.get("v");if(o)return{platform:"youtube",id:o};const l=t.pathname.split("/").filter(Boolean);if((l[0]==="shorts"||l[0]==="embed")&&l[1])return{platform:"youtube",id:l[1]}}if(n==="youtu.be"){const o=t.pathname.replace(/^\//,"").split("/")[0]||"";if(o)return{platform:"youtube",id:o}}if(n.endsWith("bilibili.com")){const o=t.pathname.match(/\/video\/(BV[0-9A-Za-z]+)/i);if(o?.[1])return{platform:"bilibili",id:o[1]}}return null}catch{return null}}function normalizePlatform(e){if(e.platform==="youtube"||e.platform==="bilibili")return e.platform;try{const n=new URL(e.url).hostname.toLowerCase();if(n.includes("youtube.com")||n.includes("youtu.be"))return"youtube";if(n.includes("bilibili.com")||n.includes("b23.tv"))return"bilibili"}catch{return"unknown"}return"unknown"}function getVideoItemKey(e){const t=normalizePlatform(e);return t!=="unknown"?`${t}:${e.id}`:e.url?`url:${e.url}`:`id:${e.id}`}function getVideoEmbedUrl(e){const t=normalizePlatform(e);return t==="youtube"?`https://www.youtube.com/embed/${e.id}`:t==="bilibili"?`https://player.bilibili.com/player.html?bvid=${e.id}&p=1&danmaku=0`:null}function detectResourceKind(e){if(e.resourceKind)return e.resourceKind;const t=e.mimeType?.toLowerCase()||"";if(t.startsWith("video/"))return"video";if(t)return"document";const n=(e.url||"").toLowerCase();return/\.(mp4|webm|mov|m4v|ogg)(\?|#|$)/i.test(n),"video"}function Stepper({currentStep:e,maxStepReached:t,completedSteps:n,onStepClick:o}){return jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-1 mb-8 flex-wrap",children:STEPS.map(({id:l,label:u})=>{const d=l<=t,A=e===l,m=d;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>m&&o(l),disabled:!m&&!A,className:`
              flex items-center gap-2 px-4 py-3 rounded-lg border-2 text-sm font-medium transition-all flex-1 min-w-[100px] max-w-[180px] justify-center
              ${A?"border-amber-400 bg-amber-50 text-amber-900 shadow-sm":""}
              ${d&&!A?"border-green-300 bg-green-50 text-green-800 cursor-pointer hover:bg-green-100":""}
              ${!d&&!A?"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed opacity-70":""}
            `,children:[jsxRuntimeExports.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold ${A?"border-2 border-amber-400 bg-amber-100 text-amber-800":d?"bg-green-200 text-green-800":"border border-gray-300 bg-gray-100 text-gray-500"}`,children:d&&!A?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3"}):l}),u]},l)})})}function KeyIdeaBlock({idea:e}){const t=e.text.split("__KEY__"),n=e.blanks||[],o=t.map((l,u)=>`${l}${u<t.length-1?`ã€${n[u]??"______"}ã€‘`:""}`).join("");return jsxRuntimeExports.jsx(MathTextPreview,{text:o,className:"text-sm [&_p]:mb-0"})}function parseKeyPointToKeyIdea(e){const t=[];return{text:e.replace(/\*\*(.+?)\*\*/g,(o,l)=>{const u=l.trim();return u&&t.push(u),"__KEY__"}),blanks:t}}function keyIdeaToRaw(e){return e.text.split("__KEY__").map((n,o)=>n+(o<(e.blanks?.length??0)?`**${e.blanks[o]}**`:"")).join("")}function parseTaskDesignQuestion(e){const t=e?.question??e?.q;if(!t?.trim())return null;const n=e?.answer??e?.a,o=Array.isArray(e?.options)?e.options:void 0,l=e?.rubric??e?.hint,u=e?.question_type??e?.questionType,d=u==="multiple_choice"||u==="short_answer"||u==="true_false"?u:void 0;let A;if(o?.length&&n!=null){const m=String(n).trim().toUpperCase(),f=m.length>=1?m.charAt(0):"";f>="A"&&f<="D"&&(A=f.charCodeAt(0)-65)}return{question:t.trim(),options:o,correctIndex:A!==void 0?A:void 0,correctAnswer:n!=null?String(n).trim():void 0,explanation:l!=null?String(l).trim():void 0,questionType:d}}function buildSystemTask(e){const t=!!e.customTextInstruction?.trim()&&!e.selectedVideoItem,n=t?"text_instruction":e.selectedVideoItem?.resourceKind||"video",o=t?"å­¦ä¹ æŒ‡å¼•":n==="document"?"å­¦ä¹ èµ„æ–™":"è§†é¢‘",l=t?"å®ŒæˆæŒ‡å¼•":n==="document"?"é˜…è¯»èµ„æ–™":"è§‚çœ‹è§†é¢‘",u=e.selectedVideoItem?normalizePlatform(e.selectedVideoItem):null,d=(()=>{const A=e.selectedVideoItem?.url?.trim();if(A)return A;const m=e.selectedVideoItem?.id;return m?u==="bilibili"?`https://www.bilibili.com/video/${m}`:`https://www.youtube.com/watch?v=${m}`:""})();return{id:`task-${Date.now()}`,title:e.topic,viewType:"video_player",assetType:"video_gen",externalResourceUrl:d,videoPlatform:u==="youtube"||u==="bilibili"?u:void 0,externalResourceId:e.selectedVideoItem?.id&&(u==="youtube"||u==="bilibili")?e.selectedVideoItem.id:void 0,contentPayload:JSON.stringify({learningObjective:e.learningObjective,keyIdeas:e.keyIdeas,practiceQuestions:e.practiceQuestions,exitTicketItems:e.exitTicketQuestions,taskDesignJson:e.taskDesignJson,taskDesignMarkdown:e.taskDesignMarkdown,resourceKind:n,resourceMimeType:e.selectedVideoItem?.mimeType||"",customTextInstruction:t?e.customTextInstruction:void 0,convertedHtml:e.convertedHtml||void 0}),generatedAssetContent:"",description:[`å­¦ä¹ ç›®æ ‡ï¼š${e.learningObjective}`,e.selectedVideoItem?`${o}ï¼š${e.selectedVideoItem.title}`:t?`å­¦ä¹ æŒ‡å¼•ï¼š${e.customTextInstruction}`:"",`å…³é”®è¦ç‚¹ï¼š${e.keyIdeas.length} æ¡`,`ç»ƒä¹ é¢˜ç›®ï¼š${e.practiceQuestions.length} é¢˜`,e.exitTicketQuestions.length>0?`ç¦»åœºåˆ¸ï¼š${e.exitTicketQuestions.length} é¢˜`:""].filter(Boolean).join(`
`),assetPrompt:"",outputGoal:e.learningObjective,learningGoalId:void 0,tutorConfig:{systemInstruction:[`ä½ æ˜¯å­¦ç”Ÿçš„å­¦ä¹ åŠ©æ‰‹ã€‚æœ¬èŠ‚è¯¾ä¸»é¢˜æ˜¯ã€Œ${e.topic}ã€ï¼ˆ${e.subject}ï¼Œ${e.grade}ï¼‰ã€‚`,`å­¦ä¹ ç›®æ ‡ï¼š${e.learningObjective}`,`å­¦ç”Ÿå°†${l}å¹¶å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š`,`1. è®°å½•å…³é”®è¦ç‚¹ï¼ˆ${e.keyIdeas.length} æ¡ï¼‰`,`2. å®Œæˆç»ƒä¹ é¢˜ç›®ï¼ˆ${e.practiceQuestions.length} é¢˜ï¼‰`,"3. å®Œæˆç¦»åœºåˆ¸","è¯·å¼•å¯¼å­¦ç”Ÿé€æ­¥å®Œæˆä»»åŠ¡ï¼Œé¼“åŠ±ä»–ä»¬æ€è€ƒå¹¶ç»™å‡ºæç¤ºï¼Œä½†ä¸è¦ç›´æŽ¥ç»™å‡ºç­”æ¡ˆã€‚"].join(`
`),tone:"é¼“åŠ±ã€è€å¿ƒã€å¼•å¯¼å¼",twinId:e.twinId},evaluationCriteria:[`å…³é”®è¦ç‚¹ï¼šèƒ½æ­£ç¡®å¡«å†™ ${e.keyIdeas.length} æ¡è¦ç‚¹ä¸­çš„æ ¸å¿ƒæœ¯è¯­`,"ç»ƒä¹ é¢˜ç›®ï¼šæ­£ç¡®çŽ‡è¾¾åˆ° 80% ä»¥ä¸Š",e.exitTicketQuestions.length>0?"ç¦»åœºåˆ¸ï¼šèƒ½æ­£ç¡®å›žç­”ç¦»åœºåˆ¸é—®é¢˜":""].filter(Boolean).join(`
`)}}const DIFFICULTY_OPTIONS=["åŸºç¡€","æå‡","æŒ‘æˆ˜"],TASK_TYPES=[{id:"mastery",label:"æŽŒæ¡åž‹ä»»åŠ¡",available:!0},{id:"guided",label:"å¼•å¯¼åž‹ä»»åŠ¡",available:!1},{id:"autonomous",label:"è‡ªä¸»åž‹ä»»åŠ¡",available:!1}];function TeachingResourcesPage(){const{user:e,preferences:t}=useAuth(),{policy:n}=useRuntimePolicy(),o=resolveRuntimeExperienceConfig(),{refreshTasks:l}=useTasks(),[u,d]=reactExports.useState([]),[A,m]=reactExports.useState(""),[f,g]=reactExports.useState(0),[v,b]=reactExports.useState(0),[w,j]=reactExports.useState("mastery"),[E,R]=reactExports.useState("ç‰©ç†"),[_,N]=reactExports.useState(""),[B,M]=reactExports.useState("ç‰›é¡¿ç¬¬ä¸€å®šå¾‹"),[O,F]=reactExports.useState("é«˜ä¸€"),[$,z]=reactExports.useState("zh"),[se,ce]=reactExports.useState("15"),[ie,pe]=reactExports.useState("åŸºç¡€"),[xe,Ae]=reactExports.useState("åŠ›ï¼Œè¿åŠ¨çŠ¶æ€ï¼Œæƒ¯æ€§"),[ue,Y]=reactExports.useState(""),[fe,H]=reactExports.useState(null),[le,de]=reactExports.useState(null),[ye,ge]=reactExports.useState([]),[je,Me]=reactExports.useState(null),[He,Qe]=reactExports.useState([]),[ze,Ve]=reactExports.useState(null),[tt,nt]=reactExports.useState([]),[Ye,ut]=reactExports.useState(null),[mt,St]=reactExports.useState({}),[or,Zt]=reactExports.useState({}),[Bt,ur]=reactExports.useState({}),[Nr,Qr]=reactExports.useState(""),[$r,on]=reactExports.useState([]),[wn,En]=reactExports.useState([]),[en,Pt]=reactExports.useState(""),[ar,Xr]=reactExports.useState(""),[Cn,tn]=reactExports.useState(!1),[vn,bn]=reactExports.useState(!1),[Br,Dt]=reactExports.useState(null),[Tr,qr]=reactExports.useState(!1),Zr=reactExports.useRef(null),jn=reactExports.useRef(null),rn=reactExports.useRef(null),Kn=reactExports.useRef(null),[an,Dr]=reactExports.useState(!1),[Hn,Tn]=reactExports.useState(!1),[es,ps]=reactExports.useState(!1),[Ti,ui]=reactExports.useState(!1),[vi,fs]=reactExports.useState(!1),[Sn,Vs]=reactExports.useState(null),[zi,zn]=reactExports.useState(!1),[wi,mi]=reactExports.useState(null),[gi,Ni]=reactExports.useState(null),[Hs,Xi]=reactExports.useState(!1),[Bs,Gi]=reactExports.useState(!1),Ss=n?.video?.platformDefault??(o.entry.marketCode==="SG"?"youtube":"bilibili");o.entry.marketCode==="SG"||o.entry.marketCode;const La=Ss==="youtube"?"YouTube":Ss==="bilibili"?"Bilibili":"YouTube + Bilibili";reactExports.useEffect(()=>{e?.id&&listTeacherTwins(e.id).then(Gt=>d((Gt.twins??[]).map(Ar=>({id:Ar.id,name:Ar.name,isOwner:!0})))).catch(Gt=>console.error("Failed to load digital twins:",Gt))},[e?.id]);const Qi=reactExports.useRef(!1);reactExports.useEffect(()=>{if(Qi.current)return;Qi.current=!0;const Gt=getTeacherPreferencesFromProfile(t);Gt.defaultGrade&&GRADE_OPTIONS.some(hn=>hn===Gt.defaultGrade)&&F(Gt.defaultGrade);const Ar=prefSubjectIdToDisplay(Gt.defaultSubject);Ar&&SUBJECT_OPTIONS.includes(Ar)?R(Ar):Ar&&(R(CUSTOM_SUBJECT_OPTION),N(Ar))},[t?.defaultGrade,t?.defaultSubject]);const Pi=new Set;ue.trim()&&Pi.add(1),(fe||ar.trim())&&Pi.add(2),ye.length>0&&Pi.add(3),He.length>0&&Pi.add(4),tt.length>0&&Pi.add(5);const Ot=()=>{const Gt=(E===CUSTOM_SUBJECT_OPTION?_:E).trim(),Ar=B.trim();if(!Ar||!Gt)return;Dr(!1),Xi(!1),trackProductEvent({eventName:"task_create_started",role:"teacher",teacherId:e?.id,language:$,properties:{source:"TeachingResourcesPage",subject:Gt,grade:O,topic:Ar}}).catch(()=>{});const hn=generateTaskDesign({subject:Gt,topic:Ar,grade:O,duration:se.trim()||"15",difficulty:ie||void 0,prerequisites:xe||void 0,language:$});jn.current=hn,hn.then(()=>Dr(!0)).catch(()=>Dr(!1)),g(1),b(1),ps(!1),ui(!1),fs(!1)},sn=async()=>{const Gt=jn.current;if(!Gt){Dt("è¯·å…ˆä»Žå…¥å£é¡µç‚¹å‡»ã€Œå¼€å§‹ä»»åŠ¡è®¾è®¡ã€");return}qr(!0),Dt(null);try{const Ar=await Gt;Y(Ar.objective||""),rn.current=Ar.json??null,Kn.current=Ar.markdown??null,jn.current=null}catch(Ar){Dt(Ar instanceof Error?Ar.message:"ç”Ÿæˆå­¦ä¹ ç›®æ ‡å¤±è´¥")}finally{qr(!1)}},mn=async()=>{const Gt=Nr.trim();if(Gt){tn(!0),Dt(null);try{const{items:Ar}=await searchVideos(Gt,6,Ss);on(Ar)}catch(Ar){Dt(Ar instanceof Error?Ar.message:"æœç´¢å¤±è´¥")}finally{tn(!1)}}},ji=async()=>{const Gt=en.trim();if(!Gt)return;const Ar=parseVideoUrl(Gt);if(!Ar){Dt("è¯·è¾“å…¥æœ‰æ•ˆçš„ YouTube æˆ– Bç«™è§†é¢‘é“¾æŽ¥");return}const hn=`${Ar.platform}:${Ar.id}`;if($r.some(Yr=>getVideoItemKey(Yr)===hn)||wn.some(Yr=>getVideoItemKey(Yr)===hn)){Dt("è¯¥è§†é¢‘å·²åœ¨åˆ—è¡¨ä¸­");return}tn(!0),Dt(null);try{let Yr=Ar.platform==="bilibili"?"è‡ªå®šä¹‰Bç«™è§†é¢‘":"è‡ªå®šä¹‰YouTubeè§†é¢‘",Gs="";if(Ar.platform==="youtube"){const Si=await fetch(`https://www.youtube.com/oembed?url=${encodeURIComponent(Gt)}&format=json`);if(Si.ok){const $s=await Si.json();$s?.title&&(Yr=$s.title)}Gs=`https://img.youtube.com/vi/${Ar.id}/mqdefault.jpg`}const Xs={id:Ar.id,title:Yr,thumbnailUrl:Gs,url:Gt,platform:Ar.platform,resourceKind:"video"};En(Si=>[...Si,Xs]),Pt("")}catch(Yr){Dt(Yr instanceof Error?Yr.message:"èŽ·å–è§†é¢‘ä¿¡æ¯å¤±è´¥")}finally{tn(!1)}},As=Gt=>{de(Gt),H({title:Gt.title}),Xr(""),Dt(null)},Ji=()=>{const Gt=ar.trim();Gt&&(de(null),H({title:Gt}),Dt(null))},si=async Gt=>{bn(!0),Dt(null);try{const Ar=await uploadMaterialResource(Gt),hn={id:`${Ar.resourceKind}-${Date.now()}`,title:Ar.name,thumbnailUrl:"",url:Ar.url,resourceKind:Ar.resourceKind,mimeType:Ar.mimeType};En(Yr=>[hn,...Yr]),de(hn),H({title:Ar.name}),Xr("")}catch(Ar){Dt(Ar instanceof Error?Ar.message:"ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ”¹ç”¨ç²˜è´´è§†é¢‘é“¾æŽ¥")}finally{bn(!1)}},Ra=()=>{const Ar=rn.current?.key_points||[];ge(Ar.map(hn=>parseKeyPointToKeyIdea(hn))),g(3),b(hn=>Math.max(hn,3))};reactExports.useEffect(()=>{if(f!==4||He.length>0||!Hs)return;const Ar=rn.current?.practice;if(!Ar)return;const hn=Array.isArray(Ar.guided_practice)?Ar.guided_practice:Ar.we_do,Yr=Array.isArray(Ar.independent_practice)?Ar.independent_practice:Ar.you_do,Gs=[];[...hn||[],...Yr||[]].forEach(Xs=>{const Si=parseTaskDesignQuestion(Xs);Si&&Gs.push(Si)}),Gs.length>0&&Qe(Gs)},[f,He.length,Hs]),reactExports.useEffect(()=>{if(f!==5||tt.length>0||!Hs)return;const Ar=rn.current?.exit_ticket,hn=Array.isArray(Ar)?Ar:Array.isArray(Ar?.items)?Ar.items:[],Yr=[];hn.forEach(Gs=>{const Xs=parseTaskDesignQuestion(Gs);Xs&&Yr.push(Xs)}),Yr.length>0&&nt(Yr)},[f,tt.length,Hs]),reactExports.useEffect(()=>{if(!Hs||f!==3||ye.length>0)return;const Ar=rn.current?.key_points||[];Ar.length>0&&ge(Ar.map(hn=>parseKeyPointToKeyIdea(hn)))},[Hs,f,ye.length]);const aa=async()=>{zn(!0),Ni(null),mi(null),g(6),b(Gt=>Math.max(Gt,6));try{let Gt;const Ar=le;if(Ar?.resourceKind==="document"){const $s=(Ar.mimeType||"").toLowerCase();if($s==="text/plain"||$s==="text/markdown"){const{html:Wn}=await convertDocumentToHtml(Ar.url,Ar.mimeType);Gt=Wn||void 0}}const hn=buildSystemTask({topic:B,subject:(E===CUSTOM_SUBJECT_OPTION?_:E).trim(),grade:O,difficulty:ie,learningObjective:ue,selectedVideoItem:le,customTextInstruction:!le&&fe?fe.title:void 0,convertedHtml:Gt,keyIdeas:ye,practiceQuestions:He,exitTicketQuestions:tt,taskDesignJson:rn.current,taskDesignMarkdown:Kn.current,twinId:A||void 0});Vs(hn);const Yr=splitSubjectValue((E===CUSTOM_SUBJECT_OPTION?_:E).trim()),{taskId:Gs}=await saveTask(hn,e?.id,{subject:Yr.subject,subjectCustom:Yr.subjectCustom,subjectIsCustom:Yr.subjectIsCustom,grade:O,topic:B,taskType:w,durationMin:parseInt(se,10)||15,difficulty:ie,prerequisites:xe});trackProductEvent({eventName:"task_create_succeeded",role:"teacher",teacherId:e?.id,language:$,taskId:Gs,properties:{source:"TeachingResourcesPage",taskType:w}}).catch(()=>{});const Xs=await createCourse({taskIds:[Gs]},e?.id,{language:$,subject:Yr.subject,subjectCustom:Yr.subjectCustom,subjectIsCustom:Yr.subjectIsCustom});trackProductEvent({eventName:"course_create_succeeded",role:"teacher",teacherId:e?.id,language:$,courseId:Xs.courseId,taskId:Gs,properties:{source:"TeachingResourcesPage"}}).catch(()=>{});const Si=$==="en"?"?lang=en":"";mi(`${window.location.origin}/course/${Xs.courseId}${Si}`),await l(),zn(!1)}catch(Gt){console.error("Failed to generate task:",Gt),Ni(Gt instanceof Error?Gt.message:"ç”Ÿæˆä»»åŠ¡å¤±è´¥ï¼Œè¯·é‡è¯•"),zn(!1)}},wa=async()=>{const Gt=Kn.current;if(!Gt?.trim()){window.alert("æš‚æ— å¯å¯¼å‡ºçš„ä»»åŠ¡æ–‡æ¡£");return}Gi(!0);try{await downloadMarkdownAsPdf(Gt,`å­¦ä¹ ä»»åŠ¡-${B}-${Date.now()}.pdf`)}finally{Gi(!1)}},oa=()=>{const Gt=Kn.current;if(!Gt?.trim()){window.alert("æš‚æ— å¯å¯¼å‡ºçš„ä»»åŠ¡æ–‡æ¡£");return}const Ar=new Blob([Gt],{type:"text/markdown;charset=utf-8"}),hn=URL.createObjectURL(Ar),Yr=document.createElement("a");Yr.href=hn,Yr.download=`å­¦ä¹ ä»»åŠ¡-${B||"æœªå‘½å"}-${Date.now()}.md`,Yr.click(),URL.revokeObjectURL(hn)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-[calc(100vh-2rem)] w-full px-6 py-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"ä»»åŠ¡è®¾è®¡"})}),f>=1&&jsxRuntimeExports.jsx(Stepper,{currentStep:f,maxStepReached:v,completedSteps:Pi,onStepClick:Gt=>g(Gt)}),Br&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive mb-2",children:Br}),f===0&&jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto w-full",children:jsxRuntimeExports.jsx(Card,{className:"border-2",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-foreground",children:"ä¸ºä»»æ„å­¦ä¹ è€…è®¾è®¡å­¦ä¹ ä»»åŠ¡"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"å¡«å†™åŸºç¡€ä¿¡æ¯ï¼Œä¸¤åˆ†é’Ÿå†…ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ ä¸Žå·©å›ºæ´»åŠ¨"})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 max-w-xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:"ä»»åŠ¡ç±»åž‹"}),jsxRuntimeExports.jsx(Tabs,{value:w,onValueChange:Gt=>Gt&&j(Gt),children:jsxRuntimeExports.jsx(TabsList,{className:"grid w-full grid-cols-3",children:TASK_TYPES.map(Gt=>jsxRuntimeExports.jsxs(TabsTrigger,{value:Gt.id,disabled:!Gt.available,children:[Gt.label,!Gt.available&&jsxRuntimeExports.jsx("span",{className:"ml-1 text-[10px] text-muted-foreground",children:"(å³å°†æŽ¨å‡º)"})]},Gt.id))})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:"è¯¾ç¨‹ä¸»é¢˜"}),jsxRuntimeExports.jsx(Input,{placeholder:"è¾“å…¥ä»»ä½•ä¸»é¢˜ï¼Œå¦‚ï¼šç‰›é¡¿ç¬¬ä¸‰å®šå¾‹",value:B,onChange:Gt=>M(Gt.target.value),onKeyDown:Gt=>Gt.key==="Enter"&&B.trim()&&(E===CUSTOM_SUBJECT_OPTION?_.trim():E.trim())&&Ot(),className:"h-11 text-base"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:"ç§‘ç›®"}),jsxRuntimeExports.jsxs("select",{value:E,onChange:Gt=>R(Gt.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"è¯·é€‰æ‹©"}),SUBJECT_OPTIONS.map(Gt=>jsxRuntimeExports.jsx("option",{value:Gt,children:Gt},Gt))]})]}),E===CUSTOM_SUBJECT_OPTION&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:"è‡ªå®šä¹‰å­¦ç§‘"}),jsxRuntimeExports.jsx(Input,{placeholder:"è¯·è¾“å…¥å­¦ç§‘åç§°",value:_,onChange:Gt=>N(Gt.target.value),className:"h-11"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:"å¹´çº§"}),jsxRuntimeExports.jsxs("select",{value:O,onChange:Gt=>F(Gt.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"è¯·é€‰æ‹©"}),GRADE_OPTIONS.map(Gt=>jsxRuntimeExports.jsx("option",{value:Gt,children:Gt},Gt))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:"æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰"}),jsxRuntimeExports.jsx(Input,{type:"number",min:5,max:120,placeholder:"15",value:se,onChange:Gt=>ce(Gt.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:"å†…å®¹è¯­è¨€"}),jsxRuntimeExports.jsxs("select",{value:$,onChange:Gt=>z(Gt.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"zh",children:"ç®€ä½“ä¸­æ–‡"}),jsxRuntimeExports.jsx("option",{value:"en",children:"English"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:["éš¾åº¦ ",jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"ï¼ˆå¯é€‰ï¼‰"})]}),jsxRuntimeExports.jsxs("select",{value:ie,onChange:Gt=>pe(Gt.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"è¯·é€‰æ‹©"}),DIFFICULTY_OPTIONS.map(Gt=>jsxRuntimeExports.jsx("option",{value:Gt,children:Gt},Gt))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:["æ•°å­—åˆ†èº« ",jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"ï¼ˆå¯é€‰ï¼‰"})]}),jsxRuntimeExports.jsxs("select",{value:A,onChange:Gt=>m(Gt.target.value),className:"w-full h-11 rounded-md border border-input bg-background px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"é»˜è®¤ AI å¯¼å¸ˆ"}),u.map(Gt=>jsxRuntimeExports.jsxs("option",{value:Gt.id,children:[Gt.name,Gt.isOwner?"":"ï¼ˆåˆ†äº«ï¼‰"]},Gt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-muted-foreground block mb-1",children:["å‰ç½®çŸ¥è¯† ",jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"ï¼ˆå¯é€‰ï¼Œå¤šä¸ªä»¥ã€Œï¼Œã€åˆ†éš”ï¼‰"})]}),jsxRuntimeExports.jsx(Input,{placeholder:"ä¾‹å¦‚ï¼šåŠ›ï¼Œè¿åŠ¨çŠ¶æ€ï¼Œæƒ¯æ€§",value:xe,onChange:Gt=>Ae(Gt.target.value),className:"h-11 text-base"})]}),jsxRuntimeExports.jsxs(Button,{size:"lg",className:"w-full h-12 mt-2",onClick:Ot,disabled:!B.trim()||!(E===CUSTOM_SUBJECT_OPTION?_.trim():E.trim()),children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 mr-2"}),"å¼€å§‹ä»»åŠ¡è®¾è®¡"]})]})]})})}),f===1&&jsxRuntimeExports.jsx("div",{className:"w-full",children:ue.trim()?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"å­¦ä¹ ç›®æ ‡"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"æˆ‘ä»¬ä¸ºæ‚¨çš„ä»»åŠ¡æŽ¨èäº†ä»¥ä¸‹å­¦ä¹ ç›®æ ‡ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æŽ¥ç¼–è¾‘ï¼Œè¿›è¡Œä¼˜åŒ–ã€‚"}),jsxRuntimeExports.jsx(Textarea,{className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"ä¾‹å¦‚ï¼šæˆ‘å¯ä»¥è§£é‡Šç‰›é¡¿ç¬¬ä¸‰å®šå¾‹ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜Žä½œç”¨åŠ›ä¸Žåä½œç”¨åŠ›ã€‚æ•°å­¦å…¬å¼ç”¨ $...$ è¡¨ç¤ºï¼Œå¦‚ $F=ma$",value:ue,onChange:Gt=>Y(Gt.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>{g(0),b(0)},children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),"ä¸Šä¸€æ­¥"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{if(!ue.trim())return;const Gt=(E===CUSTOM_SUBJECT_OPTION?_:E).trim();Dt(null),ge([]),Me(null),Qe([]),Ve(null),nt([]),Xi(!1),generateTaskDesign({subject:Gt,topic:B.trim(),grade:O,duration:se.trim()||"15",difficulty:ie||void 0,prerequisites:xe||void 0,objective:ue.trim(),language:$}).then(hn=>{rn.current=hn.json??null,Kn.current=hn.markdown??null,Xi(!0)}).catch(hn=>Dt(hn instanceof Error?hn.message:"ç”Ÿæˆä»»åŠ¡å†…å®¹å¤±è´¥")),g(2),b(2)},disabled:!ue.trim(),children:["é€‰æ‹©æ•™å­¦ç´ æ ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-amber-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Target,{className:"w-7 h-7 text-amber-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`æœ‰æ•ˆçš„è¯¾ç¨‹ï¼Œå§‹äºŽæ¸…æ™°ã€å¯è¯„ä¼°çš„å­¦ä¹ ç›®æ ‡ã€‚

æœ¬ç³»ç»Ÿé‡‡ç”¨ç‹¬åˆ›çš„ã€ŒæŽŒæ¡åž‹ä»»åŠ¡ã€è®¾è®¡åŽŸåˆ™ï¼šæ¯ä¸ªç›®æ ‡éƒ½åŠ›æ±‚å…·ä½“ã€å¯æ“ä½œï¼Œä¾¿äºŽåŽç»­é€‰æ‹©å­¦ä¹ ç´ æã€è®¾è®¡å…³é”®è¦ç‚¹å’Œç»ƒä¹ é¢˜ç›®ï¼Œå½¢æˆå®Œæ•´é—­çŽ¯ã€‚

æˆ‘ä»¬ä¼šæ ¹æ®æ‚¨å¡«å†™çš„è¯¾ç¨‹ä¸»é¢˜ã€å­¦ç§‘ã€å¹´çº§å’Œéš¾åº¦ï¼Œç»¼åˆæŽ¨èä¸€ä¸ªå­¦ä¹ ç›®æ ‡ã€‚ç”Ÿæˆè¿‡ç¨‹é€šå¸¸éœ€è¦ååˆ°ä¸‰åç§’ï¼Œè¯·æ‚¨è€å¿ƒç­‰å¾…ã€‚`,speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:an?jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:sn,disabled:!B.trim()||!(E===CUSTOM_SUBJECT_OPTION?_.trim():E.trim())||Tr,children:[Tr?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin mr-2"}):jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"}),"é€‰æ‹©å­¦ä¹ ç›®æ ‡"]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}),"æ­£åœ¨ç”Ÿæˆä»»åŠ¡è®¾è®¡ï¼Œè¯·ç¨å€™â€¦"]})})]})})]})})}),f===2&&jsxRuntimeExports.jsx("div",{className:"w-full",children:Hn?jsxRuntimeExports.jsxs("div",{className:"space-y-6 w-full",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-1",children:"æ•™å­¦ç´ æ"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:`å½“å‰é»˜è®¤æ¥æºï¼š${La}ã€‚æ‚¨å¯æŸ¥çœ‹æŽ¨èè§†é¢‘ï¼Œç²˜è´´è‡ªå®šä¹‰è§†é¢‘é“¾æŽ¥ï¼Œ æˆ–è€…ç›´æŽ¥ä¸Šä¼ èµ„æ–™ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨ä¸‹é¢çš„æ–‡æœ¬æ¡†è¾“å…¥å­¦ä¹ æŒ‡å¼•ï¼Œå¼•å¯¼å­¦ç”Ÿé€šè¿‡æ´‹è‘±app æˆ–è€…è¯¾æœ¬å­¦ä¹ ã€‚`}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(Input,{placeholder:"Search keyword, e.g. Newton's first law (Enter to search)",value:Nr,onChange:Gt=>Qr(Gt.target.value),onKeyDown:Gt=>Gt.key==="Enter"&&mn(),className:"max-w-sm"})})]}),Cn&&$r.length===0&&wn.length===0?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-12",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}),"æ­£åœ¨ä¸ºæ‚¨æœç´¢æŽ¨èè§†é¢‘â€¦"]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 items-stretch",children:[[...$r,...wn.filter(Gt=>!$r.some(Ar=>getVideoItemKey(Ar)===getVideoItemKey(Gt)))].map(Gt=>jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden hover:ring-2 hover:ring-primary transition-all group h-full grid grid-rows-[auto_1fr_auto] gap-0 min-h-0",children:[jsxRuntimeExports.jsx("div",{className:"relative aspect-video w-full bg-muted overflow-hidden",children:getVideoEmbedUrl(Gt)?jsxRuntimeExports.jsx("iframe",{src:getVideoEmbedUrl(Gt),title:Gt.title,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):detectResourceKind(Gt)==="video"?jsxRuntimeExports.jsx("video",{controls:!0,className:"absolute inset-0 w-full h-full object-cover",src:Gt.url}):jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-muted-foreground gap-2 px-3 text-center",children:[jsxRuntimeExports.jsx("p",{children:"æ–‡æ¡£èµ„æ–™"}),jsxRuntimeExports.jsx("a",{href:Gt.url,target:"_blank",rel:"noreferrer",className:"underline",children:"æ‰“å¼€æ–‡æ¡£"})]})}),jsxRuntimeExports.jsx("div",{className:"p-3 min-h-0 flex items-start",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium line-clamp-2",children:Gt.title})}),jsxRuntimeExports.jsx("div",{className:"p-3 pt-0",children:le&&getVideoItemKey(le)===getVideoItemKey(Gt)?jsxRuntimeExports.jsxs("div",{className:"flex h-8 w-full items-center justify-center gap-1.5 rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground","aria-label":"å·²é€‰ä¸­",children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3"}),"å·²é€‰ä¸­"]}):jsxRuntimeExports.jsxs(Button,{size:"sm",className:"w-full",onClick:()=>As(Gt),disabled:Cn,children:[jsxRuntimeExports.jsx(Video,{className:"w-3 h-3 mr-1"}),"é€‰ç”¨"]})})]},getVideoItemKey(Gt))),jsxRuntimeExports.jsx(Card,{className:"overflow-hidden border-2 border-dashed hover:border-primary/50 transition-colors cursor-pointer flex flex-col items-center justify-center min-h-[200px]",onClick:()=>document.getElementById("paste-url-input")?.focus(),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6 flex flex-col items-center justify-center flex-1 w-full",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-light text-muted-foreground",children:"+"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"æ·»åŠ è‡ªå®šä¹‰è§†é¢‘"})]})}),jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden border-2 border-dashed hover:border-primary/50 transition-colors cursor-pointer flex flex-col items-center justify-center min-h-[200px]",onClick:()=>!vn&&Zr.current?.click(),children:[jsxRuntimeExports.jsx("input",{ref:Zr,type:"file",className:"hidden",accept:"video/*,.pdf,.doc,.docx,.ppt,.pptx,.txt,.md,.png,.jpg,.jpeg,.webp,.gif",onChange:Gt=>{const Ar=Gt.target.files?.[0];Ar&&si(Ar),Gt.currentTarget.value=""}}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6 flex flex-col items-center justify-center flex-1 w-full",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-2",children:vn?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-7 h-7 text-muted-foreground animate-spin"}):jsxRuntimeExports.jsx(Upload,{className:"w-7 h-7 text-muted-foreground"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:vn?"æ­£åœ¨ä¸Šä¼ â€¦":"ä¸Šä¼ èµ„æ–™"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[jsxRuntimeExports.jsx(Input,{id:"paste-url-input",placeholder:"Paste YouTube / Bilibili URL",value:en,onChange:Gt=>Pt(Gt.target.value),onKeyDown:Gt=>Gt.key==="Enter"&&ji(),className:"max-w-md"}),jsxRuntimeExports.jsxs(Button,{onClick:ji,disabled:!en.trim()||Cn,children:[jsxRuntimeExports.jsx(Link,{className:"w-4 h-4 mr-1"}),"èŽ·å–"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"æˆ–è¾“å…¥å­¦ä¹ æŒ‡å¼•ï¼ˆæ— è§†é¢‘/æ–‡æ¡£æ—¶ï¼‰"}),jsxRuntimeExports.jsx(Textarea,{placeholder:`è¯·æ‰“å¼€æ´‹è‘±APPå­¦ä¹ ï¼ˆæŒ‡å®šæŸå•å…ƒæŸè¯¾ï¼‰ï¼Œå®ŒæˆåŽè¿›å…¥ä¸‹ä¸€æ­¥
æˆ–è€…
è¯·å­¦ä¹ è¯¾æœ¬å†…å®¹ï¼ˆæŒ‡å®šè¯¾æœ¬å†…å®¹ï¼‰ï¼Œå®ŒæˆåŽè¿›å…¥ä¸‹ä¸€æ­¥`,value:ar,onChange:Gt=>Xr(Gt.target.value),className:"min-h-[80px] resize-y max-w-2xl",onKeyDown:Gt=>{Gt.key==="Enter"&&!Gt.shiftKey&&(Gt.preventDefault(),Ji())}}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Ji,disabled:!ar.trim(),children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 mr-1"}),"ä½¿ç”¨æ­¤æŒ‡å¼•"]})]}),fe&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-700",children:le?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["å·²é€‰ç´ æï¼šã€Š",fe.title,"ã€‹â€” å¯ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æŸ¥çœ‹å…³é”®è¦ç‚¹ã€‚"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["å·²é€‰å­¦ä¹ æŒ‡å¼•ï¼š",fe.title]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>g(1),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),"ä¸Šä¸€æ­¥"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:mn,disabled:!Nr.trim()||Cn,children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 mr-1"}),"åˆ·æ–°"]}),jsxRuntimeExports.jsxs(Button,{onClick:Ra,disabled:!fe,children:["æŸ¥çœ‹å…³é”®è¦ç‚¹ ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Video,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`å½“å‰é»˜è®¤è§†é¢‘æ¥æºä¸º ${La}ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨æŽ¨èæœç´¢ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥ç²˜è´´è§†é¢‘é“¾æŽ¥ï¼Œæˆ–ä¸Šä¼ è§†é¢‘/æ–‡æ¡£èµ„æ–™ä½œä¸ºå­¦ä¹ è¾“å…¥ã€‚`,speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:async()=>{Tn(!0);const Gt=B.trim()||"physics teaching";Qr(Gt),tn(!0),Dt(null);try{const{items:Ar}=await searchVideos(Gt,6,Ss);on(Ar)}catch(Ar){Dt(Ar instanceof Error?Ar.message:"æœç´¢è§†é¢‘å¤±è´¥")}finally{tn(!1)}},children:[jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"}),"é€‰æ‹©æ•™å­¦ç´ æ"]})})]})})]})})}),f===3&&jsxRuntimeExports.jsx("div",{className:"w-full",children:es?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"å…³é”®è¦ç‚¹"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"å­¦ç”Ÿé˜…è¯»æˆ–è§‚çœ‹å­¦ä¹ ç´ ææ—¶å¯å¡«å†™é«˜äº®å…³é”®è¯ã€‚ç‚¹å‡»æ–‡æœ¬æ¡†è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚"}),Hs?ye.length>0?jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside space-y-3 text-sm mb-4",children:ye.map((Gt,Ar)=>jsxRuntimeExports.jsx("li",{className:"flex flex-col gap-2",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"shrink-0 pt-2",children:[Ar+1,"."]}),je===Ar?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[jsxRuntimeExports.jsx(Textarea,{className:"min-h-[60px] text-sm",value:keyIdeaToRaw(Gt),onChange:hn=>{const Yr=[...ye];Yr[Ar]=parseKeyPointToKeyIdea(hn.target.value),ge(Yr)},onBlur:()=>Me(null),autoFocus:!0,placeholder:"ç”¨ **å…³é”®è¯** åŒ…è£¹å¡«ç©ºè¯ï¼Œå…¬å¼ç”¨ $...$ï¼Œå¦‚ï¼šæ ¹æ® $F=ma$ï¼Œ**åŠ›**ç­‰äºŽè´¨é‡ä¹˜ä»¥åŠ é€Ÿåº¦"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"w-fit",onClick:()=>Me(null),children:"å®Œæˆç¼–è¾‘"})]}):jsxRuntimeExports.jsx("div",{role:"button",tabIndex:0,onClick:()=>Me(Ar),onKeyDown:hn=>hn.key==="Enter"&&Me(Ar),className:"flex-1 min-h-[44px] px-3 py-2 rounded-md border border-transparent hover:border-slate-200 hover:bg-slate-50/80 cursor-text transition-colors text-left",children:jsxRuntimeExports.jsx(KeyIdeaBlock,{idea:Gt})})]})},Ar))}):null:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground py-8",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}),"æ­£åœ¨å‡†å¤‡å…³é”®è¦ç‚¹â€¦"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>g(2),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),"ä¸Šä¸€æ­¥"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{g(4),b(Gt=>Math.max(Gt,4))},disabled:!Hs,children:["æŸ¥çœ‹ç»ƒä¹ é¢˜ç›® ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(ListOrdered,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`å­¦ç”Ÿé˜…è¯»æˆ–è€…è§‚çœ‹ç´ ææ—¶åº”è®°å½•å…³é”®è¦ç‚¹ã€‚

æˆ‘ä»¬æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡å¼•å¯¼å¼ç¬”è®°ã€‚`,speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:()=>ps(!0),children:["æŸ¥çœ‹å…³é”®è¦ç‚¹ ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"})]})})]})})]})})}),f===4&&jsxRuntimeExports.jsx("div",{className:"w-full",children:Ti?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-1",children:"ç»ƒä¹ é¢˜ç›®"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"ç‚¹å‡»é¢˜ç›®è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæˆ–ç‚¹å‡»ã€Œæ˜¾ç¤ºç­”æ¡ˆã€æŸ¥çœ‹å‚è€ƒç­”æ¡ˆã€‚"}),He.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-5 mb-6",children:He.map((Gt,Ar)=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[Ar+1,"."]}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:Gt.questionType==="true_false"||!Gt.options?.length&&/^(true|false)$/i.test((Gt.correctAnswer||"").trim())?"æ˜¯éžé¢˜":Gt.options?.length?"é€‰æ‹©é¢˜":"ç®€ç­”é¢˜"}),Gt.options?.length?jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 shrink-0 text-gray-400"}):null]}),ze===Ar?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Textarea,{className:"font-medium text-gray-900 min-h-[60px]",value:Gt.question,onChange:hn=>{const Yr=[...He];Yr[Ar]={...Yr[Ar],question:hn.target.value},Qe(Yr)},placeholder:"é¢˜ç›®å†…å®¹ï¼Œå…¬å¼ç”¨ $...$ è¡¨ç¤º",autoFocus:!0}),Gt.options?.length?jsxRuntimeExports.jsx("div",{className:"space-y-2",role:"radiogroup","aria-label":`ç¬¬ ${Ar+1} é¢˜é€‰é¡¹`,children:Gt.options.map((hn,Yr)=>{const Gs=Bt[Ar]===Yr,Xs=!!or[Ar],Si=Gt.correctIndex===Yr,$s=Xs&&Gs&&!Si,Wn=Xs&&Si,Ks=Xs&&Gs&&$s;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",role:"radio","aria-checked":Gs,onClick:()=>ur(xi=>{const Cs={...xi};return xi[Ar]===Yr?delete Cs[Ar]:Cs[Ar]=Yr,Cs}),className:`
                                      flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-xs font-medium
                                      ${Wn?"bg-green-500 text-white":""}
                                      ${Ks?"bg-red-400 text-white":""}
                                      ${!Xs||!Wn&&!Ks?"bg-gray-500 text-white":""}
                                    `,children:String.fromCharCode(65+Yr)}),jsxRuntimeExports.jsx(Input,{className:`flex-1 ${Wn?"border-green-500 bg-green-50":""} ${Ks?"border-red-400 bg-red-50":""}`,value:hn,onChange:xi=>{const Cs=[...He],yi=[...Cs[Ar].options||[]];yi[Yr]=xi.target.value,Cs[Ar]={...Cs[Ar],options:yi},Qe(Cs)},placeholder:`é€‰é¡¹ ${String.fromCharCode(65+Yr)}`})]},Yr)})}):null,jsxRuntimeExports.jsxs("div",{className:"rounded-lg bg-green-50 p-3 text-sm space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-green-800",children:"å‚è€ƒç­”æ¡ˆï¼š"}),Gt.questionType==="true_false"||!Gt.options?.length&&/^(true|false)$/i.test((Gt.correctAnswer||"").trim())?jsxRuntimeExports.jsx("div",{className:"flex gap-2 mt-2",children:["True","False"].map(hn=>{const Yr=(Gt.correctAnswer||"").trim().toLowerCase()===hn.toLowerCase();return jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const Gs=[...He];Gs[Ar]={...Gs[Ar],correctAnswer:hn},Qe(Gs)},className:`px-4 py-2 rounded-lg border-2 text-sm font-medium transition-colors ${Yr?"bg-green-200 border-green-600 text-green-900":"bg-white border-green-200 text-green-800 hover:bg-green-50"}`,children:hn==="True"?"å¯¹ (True)":"é”™ (False)"},hn)})}):jsxRuntimeExports.jsx(Textarea,{className:"mt-1 min-h-[50px] border-green-200 bg-white",value:Gt.correctAnswer||"",onChange:hn=>{const Yr=[...He];Yr[Ar]={...Yr[Ar],correctAnswer:hn.target.value},Qe(Yr)},placeholder:"å‚è€ƒç­”æ¡ˆ"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-green-800",children:"è§£æžï¼š"}),jsxRuntimeExports.jsx(Textarea,{className:"mt-1 min-h-[50px] border-green-200 bg-white",value:Gt.explanation||"",onChange:hn=>{const Yr=[...He];Yr[Ar]={...Yr[Ar],explanation:hn.target.value},Qe(Yr)},placeholder:"è§£æžè¯´æ˜Ž"})]})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"w-fit",onClick:()=>Ve(null),children:"å®Œæˆç¼–è¾‘"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{role:"button",tabIndex:0,onClick:()=>Ve(Ar),onKeyDown:hn=>hn.key==="Enter"&&Ve(Ar),className:"min-h-[44px] px-3 py-2 rounded-md border border-transparent hover:border-slate-200 hover:bg-slate-50/80 cursor-text transition-colors text-left mb-4",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Gt.question,className:"font-medium text-gray-900 [&_p]:mb-0"})}),Gt.questionType==="true_false"||!Gt.options?.length&&/^(true|false)$/i.test((Gt.correctAnswer||"").trim())?jsxRuntimeExports.jsx("div",{className:"flex gap-3 mb-4",role:"radiogroup","aria-label":"å¯¹æˆ–é”™",children:[{v:0,label:"å¯¹",correctVal:"True"},{v:1,label:"é”™",correctVal:"False"}].map(({v:hn,label:Yr,correctVal:Gs})=>{const Xs=Bt[Ar]===hn,Si=!!or[Ar],$s=(Gt.correctAnswer||"").trim().toLowerCase()===Gs.toLowerCase(),Wn=Si&&Xs&&!$s,Ks=Si&&$s,xi=Si&&Xs&&Wn;return jsxRuntimeExports.jsx("button",{type:"button",role:"radio","aria-checked":Xs,onClick:Cs=>{Cs.stopPropagation(),ur(yi=>{const Js={...yi};return yi[Ar]===hn?delete Js[Ar]:Js[Ar]=hn,Js})},className:`flex items-center gap-2 px-4 py-2 rounded-lg border-2 text-sm font-medium transition-colors ${Ks?"bg-green-500 text-white border-green-600":""} ${xi?"bg-red-400 text-white border-red-500":""} ${!Si||!Ks&&!xi?"border-gray-300 bg-gray-100 text-gray-700":""}`,children:Yr},hn)})}):Gt.options?.length?jsxRuntimeExports.jsx("div",{className:"space-y-2 mb-4",role:"radiogroup","aria-label":`ç¬¬ ${Ar+1} é¢˜é€‰é¡¹`,children:Gt.options.map((hn,Yr)=>{const Gs=Bt[Ar]===Yr,Xs=!!or[Ar],Si=Gt.correctIndex===Yr,$s=Xs&&Gs&&!Si,Wn=Xs&&Si,Ks=Xs&&Gs&&$s;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",role:"radio","aria-checked":Gs,onClick:xi=>{xi.stopPropagation(),ur(Cs=>{const yi={...Cs};return Cs[Ar]===Yr?delete yi[Ar]:yi[Ar]=Yr,yi})},className:`
                                      flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-xs font-medium
                                      ${Wn?"bg-green-500 text-white":""}
                                      ${Ks?"bg-red-400 text-white":""}
                                      ${!Xs||!Wn&&!Ks?"bg-gray-500 text-white":""}
                                    `,children:String.fromCharCode(65+Yr)}),jsxRuntimeExports.jsx(MathTextPreview,{text:hn,className:"flex-1 [&_p]:mb-0"})]},Yr)})}):null,jsxRuntimeExports.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-sm text-gray-900 hover:text-gray-700",onClick:hn=>{hn.stopPropagation(),Zt(Yr=>({...Yr,[Ar]:!Yr[Ar]}))},children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),or[Ar]?"éšè—ç­”æ¡ˆ":"æ˜¾ç¤ºç­”æ¡ˆ"]}),or[Ar]&&jsxRuntimeExports.jsxs("div",{className:"mt-3 rounded-lg bg-green-50 p-3 text-sm space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-green-800",children:"å‚è€ƒç­”æ¡ˆï¼š"}),jsxRuntimeExports.jsx(MathTextPreview,{text:Gt.correctAnswer||"",className:"mt-1 [&_p]:mb-0"})]}),Gt.explanation&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-green-800",children:"è§£æžï¼š"}),jsxRuntimeExports.jsx(MathTextPreview,{text:Gt.explanation,className:"mt-1 [&_p]:mb-0"})]})]})]})]},Ar))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>g(3),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),"ä¸Šä¸€æ­¥"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{g(5),b(Gt=>Math.max(Gt,5))},children:["æŸ¥çœ‹ç¦»åœºåˆ¸ ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileQuestion,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:"æŽ¥ä¸‹æ¥ï¼Œå­¦ç”Ÿåº”è¿ç”¨æ‰€å­¦çŸ¥è¯†ã€‚æˆ‘ä»¬æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡ä»–ä»¬å¯ä»¥ä¸€èµ·å›žç­”çš„ç»ƒä¹ é¢˜ã€‚",speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:()=>ui(!0),children:["æŸ¥çœ‹ç»ƒä¹ é¢˜ç›® ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"})]})})]})})]})})}),f===5&&jsxRuntimeExports.jsx("div",{className:"w-full",children:vi?jsxRuntimeExports.jsx(Card,{className:"w-full",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"ç¦»åœºåˆ¸"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"è¯¾ç¨‹ç»“æŸæ—¶ç”¨é¢˜ç›®æ£€éªŒå­¦ä¹ æ•ˆæžœã€‚ç‚¹å‡»é¢˜ç›®è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚"}),tt.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-4 mb-4",children:tt.map((Gt,Ar)=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[jsxRuntimeExports.jsxs("label",{className:"font-medium text-gray-900 block mb-2",children:[Ar+1,". é¢˜ç›®"]}),Ye===Ar?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Textarea,{className:"mb-2 min-h-[60px]",value:Gt.question,onChange:hn=>{const Yr=[...tt];Yr[Ar]={...Yr[Ar],question:hn.target.value},nt(Yr)},placeholder:"é¢˜ç›®å†…å®¹ï¼Œå…¬å¼ç”¨ $...$ è¡¨ç¤º",autoFocus:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"å‚è€ƒç­”æ¡ˆ"}),jsxRuntimeExports.jsx(Textarea,{className:"mt-1 min-h-[50px]",value:Gt.correctAnswer||"",onChange:hn=>{const Yr=[...tt];Yr[Ar]={...Yr[Ar],correctAnswer:hn.target.value},nt(Yr)},placeholder:"å‚è€ƒç­”æ¡ˆ"})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"w-fit",onClick:()=>ut(null),children:"å®Œæˆç¼–è¾‘"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{role:"button",tabIndex:0,onClick:()=>ut(Ar),onKeyDown:hn=>hn.key==="Enter"&&ut(Ar),className:"min-h-[44px] px-3 py-2 rounded-md border border-transparent hover:border-slate-200 hover:bg-slate-50/80 cursor-text transition-colors text-left mb-2",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Gt.question,className:"font-medium text-gray-900 [&_p]:mb-0"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-auto py-0 text-xs",onClick:hn=>{hn.stopPropagation(),St(Yr=>({...Yr,[Ar]:!Yr[Ar]}))},children:mt[Ar]?"éšè—ç­”æ¡ˆ":"æ˜¾ç¤ºç­”æ¡ˆ"}),mt[Ar]&&jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700",children:"å‚è€ƒç­”æ¡ˆ"}),jsxRuntimeExports.jsx(MathTextPreview,{text:Gt.correctAnswer||"",className:"mt-1 [&_p]:mb-0"})]})]})]},Ar))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>g(4),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),"ä¸Šä¸€æ­¥"]}),jsxRuntimeExports.jsxs(Button,{onClick:aa,children:["ç”Ÿæˆå­¦ä¹ ä»»åŠ¡ ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Ticket,{className:"w-7 h-7 text-emerald-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:"è¯¾ç¨‹ç»“æŸæ—¶ï¼Œå­¦ç”Ÿåº”å±•ç¤ºæ‰€å­¦å†…å®¹ã€‚æˆ‘ä»¬ä¸ºæ‚¨å‡†å¤‡äº†ç¦»åœºåˆ¸ï¼Œè®©æ£€éªŒå­¦ä¹ æ•ˆæžœæ›´é¡ºç•…ã€‚",speed:35,className:"mb-6"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:()=>fs(!0),children:["æŸ¥çœ‹ç¦»åœºåˆ¸ ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 mr-2"})]})})]})})]})})}),f===6&&jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-indigo-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-7 h-7 text-indigo-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx(TypingText,{text:`æˆ‘ä»¬æ­£åœ¨ä¸ºæ‚¨ç”Ÿæˆå­¦ä¹ ä»»åŠ¡â€¦â€¦

â€¢ ä¸€ä»½å­¦ç”Ÿä»»åŠ¡å•ï¼Œä¾›å­¦ä¹ è€…å®Œæˆã€‚
â€¢ å¸¦æœ‰ AI äº’åŠ¨å¼•å¯¼çš„çº¿ä¸Šå­¦ä¹ çŽ¯å¢ƒã€‚
â€¢ å…³é”®è¦ç‚¹ã€ç»ƒä¹ é¢˜å’Œç¦»åœºåˆ¸ã€‚

æŽŒæ¡åž‹å­¦ä¹ ä»»åŠ¡éžå¸¸é€‚åˆï¼š
â€¢ å¸®åŠ©å­¦ç”ŸæŸ¥æ¼è¡¥ç¼ºã€‚
â€¢ å·©å›ºè¯¾å ‚æ‰€å­¦çŸ¥è¯†ã€‚
â€¢ æ”¯æŒå­¦ç”Ÿè‡ªä¸»å­¦ä¹ ã€‚

å½“æ‚¨éœ€è¦ä¸€ä»½å­¦ä¹ ä»»åŠ¡ï¼Œæˆ‘ä»¬å°±åœ¨è¿™é‡Œã€‚`,speed:30,className:"mb-6"}),gi?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:gi}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>g(5),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),"è¿”å›žç¼–è¾‘"]}),jsxRuntimeExports.jsx(Button,{onClick:aa,children:"é‡æ–°ç”Ÿæˆ"})]})]}):zi?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"æ­£åœ¨ä¿å­˜è‡³äº‘ç«¯å¹¶ç”Ÿæˆé¢„è§ˆé“¾æŽ¥â€¦"}),jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin text-muted-foreground"})]}):jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>{g(7),b(Gt=>Math.max(Gt,7))},children:["ä»»åŠ¡å®Œæˆï¼Œç‚¹å‡»å±•ç¤º ",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 ml-1"})]})})]})})]})}),f===7&&Sn&&jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-indigo-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-7 h-7 text-indigo-600"})}),jsxRuntimeExports.jsx(Card,{className:"flex-1 min-w-0 border border-gray-200 shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsx("p",{className:"text-base mb-2",children:"æ‚¨çš„å­¦ä¹ ä»»åŠ¡å·²ç”Ÿæˆå®Œæ¯•ï¼"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 mb-6",children:[jsxRuntimeExports.jsxs("li",{children:["â€¢ ä¸»é¢˜ï¼š",Sn.title]}),jsxRuntimeExports.jsxs("li",{children:["â€¢ è§†é¢‘ï¼š",le?.title??"æ— "]}),jsxRuntimeExports.jsxs("li",{children:["â€¢ å…³é”®è¦ç‚¹ï¼š",ye.length," æ¡"]}),jsxRuntimeExports.jsxs("li",{children:["â€¢ ç»ƒä¹ é¢˜ç›®ï¼š",He.length," é¢˜"]}),tt.length>0&&jsxRuntimeExports.jsxs("li",{children:["â€¢ ç¦»åœºåˆ¸ï¼š",tt.length," é¢˜"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>g(5),children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4 mr-1"}),"ä¸Šä¸€é¡µ"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:wa,disabled:Bs,children:[Bs?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-1 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-1"}),"å¯¼å‡ºä»»åŠ¡æ–‡æ¡£(PDF)"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:oa,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-1"}),"å¯¼å‡ºä»»åŠ¡æ–‡æ¡£(MD)"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{wi&&window.open(wi,"_blank")},disabled:!wi,children:["é¢„è§ˆçº¿ä¸Šä»»åŠ¡ ",jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 ml-1"})]})]})]})})]})})]})}const TEACHER_SECTIONS=["overview","course-design","courses","materials","classes","settings"];function AppContent(){const{user:e,loading:t,login:n}=useAuth(),[o,l]=useSearchParams(),{i18n:u}=useTranslation(),d=o.get("entry")??null,A=reactExports.useMemo(()=>resolveRuntimeExperienceConfig({forcedEntryId:d}),[d]),{policy:m}=useRuntimePolicy(),f=m?.navLanding,g=m?.featureFlags?.flags?.enableParentWorkspace??!0;useTheme(A.brand.themeTokens);const[v,b]=reactExports.useState("login"),[w,j]=reactExports.useState("learn-your-way"),[E,R]=reactExports.useState(A.entry.defaultLanguageSpace),[_,N]=reactExports.useState(void 0),[B,M]=reactExports.useState(null),[O,F]=reactExports.useState(null),[$,z]=reactExports.useState(null),[se,ce]=reactExports.useState(null);if(reactExports.useEffect(()=>{const mt=o.get("space");(mt==="zh"||mt==="en")&&R(mt);const St=o.get("section"),or=o.get("courseTab");St&&TEACHER_SECTIONS.includes(St)&&(j(St),St==="courses"&&(or==="active"||or==="shared"||or==="recycle")&&N(or))},[o]),reactExports.useEffect(()=>{u.changeLanguage(E)},[u,E]),reactExports.useEffect(()=>{if(!!o.get("space"))return;const St=m?.contentLanguageDefault?.defaultLanguage;(St==="zh"||St==="en")&&R(St)},[m?.contentLanguageDefault?.defaultLanguage,o]),reactExports.useEffect(()=>{if((e?.role==="teacher"||e?.role==="admin")&&TEACHER_SECTIONS.includes(w)&&o.get("section")!==w){const St=new URLSearchParams(o);St.set("section",w),w!=="courses"&&St.delete("courseTab"),l(St,{replace:!0})}},[e?.role,w,o,l]),reactExports.useEffect(()=>{if(e){const mt=o.get("section");if(mt&&j(mt),e.role==="teacher"||e.role==="admin")mt||j("overview"),b("dashboard");else if(e.role==="parent")mt||j("overview"),b("dashboard");else{const St=!e.grade&&(!e.interests||e.interests.length===0);b(St?"onboarding":"dashboard"),!St&&!mt&&j("learn-your-way")}}else b("login")},[e,o]),t)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"åŠ è½½ä¸­..."})]})});if(!e&&v==="login")return jsxRuntimeExports.jsx(LoginPage,{onSuccess:()=>{}});if(v==="onboarding")return jsxRuntimeExports.jsx(OnboardingPage,{onComplete:()=>b("dashboard")});const ie=mt=>{M(mt),b("chapter")},pe=()=>{b("quiz")},xe=()=>{b("dashboard"),M(null)},Ae=mt=>{if(j(mt),b("dashboard"),(e?.role==="teacher"||e?.role==="admin")&&TEACHER_SECTIONS.includes(mt)){const St=new URLSearchParams(o);if(St.set("section",mt),mt==="courses"){const or=o.get("courseTab");or&&["active","shared","recycle"].includes(or)&&St.set("courseTab",or)}else St.delete("courseTab");l(St,{replace:!0})}},ue=mt=>{R(mt);const St=new URLSearchParams(o);St.set("space",mt),St.set("lang",mt),l(St,{replace:!0})},Y=mt=>{console.log("Starting PDF learning with:",mt),console.log("Selected interests:",mt.interests),b("dashboard")},fe=mt=>{F(mt),b("learning-mode-selection")},H=mt=>{switch(console.log("Selected learning mode:",mt,"for PDF:",O),mt){case"immersive-text":b("immersive-text");break;case"slides-narration":b("slides-narration");break;case"audio-lesson":b("audio-lesson");break;case"mindmap":b("mindmap");break;case"game":b("game");break;case"video":b("video");break;default:b("dashboard")}},le=()=>{b("dashboard"),j("learn-your-way")},de=()=>{b("learning-mode-selection")},ye=()=>{b("learning-mode-selection")},ge=()=>{b("learning-mode-selection")},je=()=>{b("learning-mode-selection")},Me=()=>{b("learning-mode-selection")},He=()=>{b("learning-mode-selection")},Qe=mt=>{H(mt)},ze=(mt,St)=>{z({selectedText:mt,context:St,timestamp:Date.now()})},Ve=()=>{switch(w){case"overview":return jsxRuntimeExports.jsx(TeacherOverview,{});case"course-design":return jsxRuntimeExports.jsx(AICourseDesignPage,{onNextStep:mt=>{mt?.plan&&ce({...se,plan:mt.plan,courseId:mt.courseId,courseUrl:mt.courseUrl}),mt?.courseId&&b("dashboard")}});case"courses":return jsxRuntimeExports.jsx(CourseManagementPage,{initialCourseTab:_});case"classes":return jsxRuntimeExports.jsx(ClassManagementPage,{});case"materials":return jsxRuntimeExports.jsx(TeachingResourcesPage,{});case"settings":return jsxRuntimeExports.jsx(TeacherSettingsPage,{});default:return jsxRuntimeExports.jsx(TeacherOverview,{})}},tt=()=>jsxRuntimeExports.jsx(ParentDashboard,{activeSection:w,languageSpace:E}),nt=()=>{if(v==="mindmap"&&O)return jsxRuntimeExports.jsx(MindmapPage,{pdfData:O,onBack:je,onSwitchMode:Qe,onAskTutor:ze});if(v==="audio-lesson"&&O)return jsxRuntimeExports.jsx(AudioLessonPage,{pdfData:O,onBack:ge,onSwitchMode:Qe,onAskTutor:ze});if(v==="game"&&O)return jsxRuntimeExports.jsx(GamePage,{pdfData:O,onBack:Me,onSwitchMode:Qe,onAskTutor:ze});if(v==="video"&&O)return jsxRuntimeExports.jsx(VideoPage,{pdfData:O,onBack:He,onSwitchMode:Qe,onAskTutor:ze});if(v==="slides-narration"&&O)return jsxRuntimeExports.jsx(SlidesNarrationPage,{pdfData:O,onBack:ye,onSwitchMode:Qe,onAskTutor:ze});if(v==="immersive-text"&&O)return jsxRuntimeExports.jsx(ImmersiveTextPage,{pdfData:O,onBack:de,onSwitchMode:Qe,onAskTutor:ze});if(v==="learning-mode-selection"&&O)return jsxRuntimeExports.jsx(LearningModeSelection,{pdfData:O,onSelectMode:H,onBack:le});if(v==="chapter"&&B)return jsxRuntimeExports.jsx(EnhancedChapterPage,{chapterId:B,onBack:xe,onStartQuiz:pe});if(v==="quiz")return jsxRuntimeExports.jsx(QuizPage,{chapterId:B||"1",onBack:()=>b("chapter"),onComplete:xe});switch(w){case"home":return jsxRuntimeExports.jsx(HomePage,{onStartChapter:ie});case"paths":return jsxRuntimeExports.jsx(LearningPathsPage,{onStartPath:ie});case"reports":return jsxRuntimeExports.jsx(ReportsPage,{});case"learn-your-way":return jsxRuntimeExports.jsx(LearnYourWayPage,{onStartPDFLearning:Y,onPersonalizePDF:fe});case"settings":return jsxRuntimeExports.jsx(SettingsPage,{});default:return jsxRuntimeExports.jsx(HomePage,{onStartChapter:ie})}},Ye=["learning-mode-selection","immersive-text","slides-narration","audio-lesson","mindmap","game","video"].includes(v),ut=["learning-mode-selection","immersive-text","slides-narration","audio-lesson","mindmap","game","video"].includes(v);return e?.role==="teacher"||e?.role==="admin"?jsxRuntimeExports.jsx(RoleBasedLayout,{sidebar:jsxRuntimeExports.jsx(TeacherSidebar,{activeSection:w,onSectionChange:Ae,languageSpace:E,onLanguageSpaceChange:ue,navPolicy:f}),content:Ve()}):e?.role==="parent"?g?jsxRuntimeExports.jsx(RoleBasedLayout,{sidebar:jsxRuntimeExports.jsx(ParentSidebar,{activeSection:w,onSectionChange:Ae,languageSpace:E,onLanguageSpaceChange:ue,navPolicy:f}),content:tt()}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-lg rounded-xl border bg-white p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Parent workspace is disabled"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Current market policy has disabled parent workspace."})]})}):jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-muted",children:[!ut&&jsxRuntimeExports.jsx(Sidebar,{activeSection:w,onSectionChange:Ae,languageSpace:E,onLanguageSpaceChange:ue,navPolicy:f}),jsxRuntimeExports.jsx("main",{className:`flex-1 overflow-auto ${Ye?"mr-[400px]":""}`,children:nt()}),Ye&&jsxRuntimeExports.jsx("div",{className:"fixed right-0 top-0 bottom-0 w-[400px] z-30",children:jsxRuntimeExports.jsx(AITutor,{subject:"ç‰©ç†",context:"ç‰›é¡¿ç¬¬ä¸‰å®šå¾‹å­¦ä¹ ",isFixedSidebar:!0,tutorQuestionTrigger:$,onActionClick:mt=>{console.log("AI Tutor action:",mt)}})})]})}function App(){return jsxRuntimeExports.jsx(PublishedCoursesProvider,{children:jsxRuntimeExports.jsx(TasksProvider,{children:jsxRuntimeExports.jsx("div",{className:"size-full",children:jsxRuntimeExports.jsx(AppContent,{})})})})}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,n,o){let l=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),m=A?.nonce||A?.getAttribute("nonce");l=d(n.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const g=f.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":scriptRel,g||(b.as="script"),b.crossOrigin="",b.href=f,m&&b.setAttribute("nonce",m),document.head.appendChild(b),g)return new Promise((w,j)=>{b.addEventListener("load",w),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(d){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=d,window.dispatchEvent(A),!A.defaultPrevented)throw d}return l.then(d=>{for(const A of d||[])A.status==="rejected"&&u(A.reason);return t().catch(u)})},getBaseUrl=()=>"http://localhost:3002".replace(/\/$/,"");async function upsertStudentCourseProgress(e){const{data:{session:t}}=await supabase.auth.getSession();if(!t?.access_token)return;const n=getBaseUrl(),o=await fetch(`${n}/api/student-course-progress`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({courseId:e.courseId,progress:Math.min(100,Math.max(0,e.progress)),completed:e.completed??!1,timeSpentSeconds:e.timeSpentSeconds??0,lastTaskIndex:e.lastTaskIndex??0})});if(!o.ok){const l=await o.json().catch(()=>({}));console.warn("[studentProgressApi] Upsert failed:",l.error||o.statusText)}}function _objectWithoutProperties$1(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose$d(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _createClass(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf$e(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!e})()}function _possibleConstructorReturn(e,t){if(t&&(_typeof(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(e)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(e);if(t){var l=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,l)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width BÃ©zier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic BÃ©zier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a BÃ©zier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Point(e,t,n){this.x=e,this.y=t,this.time=n||new Date().getTime()}Point.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};Point.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};Point.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function Bezier(e,t,n,o){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=o}Bezier.prototype.length=function(){for(var e=10,t=0,n=void 0,o=void 0,l=0;l<=e;l+=1){var u=l/e,d=this._point(u,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),A=this._point(u,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(l>0){var m=d-n,f=A-o;t+=Math.sqrt(m*m+f*f)}n=d,o=A}return t};Bezier.prototype._point=function(e,t,n,o,l){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*o*(1-e)*e*e+l*e*e*e};function throttle(e,t,n){var o,l,u,d=null,A=0;n||(n={});var m=function(){A=n.leading===!1?0:Date.now(),d=null,u=e.apply(o,l),d||(o=l=null)};return function(){var f=Date.now();!A&&n.leading===!1&&(A=f);var g=t-(f-A);return o=this,l=arguments,g<=0||g>t?(d&&(clearTimeout(d),d=null),A=f,u=e.apply(o,l),d||(o=l=null)):!d&&n.trailing!==!1&&(d=setTimeout(m,g)),u}}function SignaturePad(e,t){var n=this,o=t||{};this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.throttle="throttle"in o?o.throttle:16,this.minDistance="minDistance"in o?o.minDistance:5,this.throttle?this._strokeMoveUpdate=throttle(SignaturePad.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=SignaturePad.prototype._strokeUpdate,this.dotSize=o.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this.onBegin=o.onBegin,this.onEnd=o.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(l){l.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(l))},this._handleMouseMove=function(l){n._mouseButtonDown&&n._strokeMoveUpdate(l)},this._handleMouseUp=function(l){l.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(l))},this._handleTouchStart=function(l){if(l.targetTouches.length===1){var u=l.changedTouches[0];n._strokeBegin(u)}},this._handleTouchMove=function(l){l.preventDefault();var u=l.targetTouches[0];n._strokeMoveUpdate(u)},this._handleTouchEnd=function(l){var u=l.target===n._canvas;u&&(l.preventDefault(),n._strokeEnd(l))},this.on()}SignaturePad.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0};SignaturePad.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=new Image,l=n.ratio||window.devicePixelRatio||1,u=n.width||this._canvas.width/l,d=n.height||this._canvas.height/l;this._reset(),o.src=e,o.onload=function(){t._ctx.drawImage(o,0,0,u,d)},this._isEmpty=!1};SignaturePad.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,o=Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return(t=this._canvas).toDataURL.apply(t,[e].concat(o))}};SignaturePad.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};SignaturePad.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};SignaturePad.prototype.isEmpty=function(){return this._isEmpty};SignaturePad.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};SignaturePad.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,o=this._createPoint(t,n),l=this._data[this._data.length-1],u=l&&l[l.length-1],d=u&&o.distanceTo(u)<this.minDistance;if(!(u&&d)){var A=this._addPoint(o),m=A.curve,f=A.widths;m&&f&&this._drawCurve(m,f.start,f.end),this._data[this._data.length-1].push({x:o.x,y:o.y,time:o.time,color:this.penColor})}};SignaturePad.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var o=this._data[this._data.length-1],l=o[o.length-1];n.equals(l)||o.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};SignaturePad.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};SignaturePad.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};SignaturePad.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};SignaturePad.prototype._createPoint=function(e,t,n){var o=this._canvas.getBoundingClientRect();return new Point(e-o.left,t-o.top,n||new Date().getTime())};SignaturePad.prototype._addPoint=function(e){var t=this.points,n=void 0;if(t.push(e),t.length>2){t.length===3&&t.unshift(t[0]),n=this._calculateCurveControlPoints(t[0],t[1],t[2]);var o=n.c2;n=this._calculateCurveControlPoints(t[1],t[2],t[3]);var l=n.c1,u=new Bezier(t[1],o,l,t[2]),d=this._calculateCurveWidths(u);return t.shift(),{curve:u,widths:d}}return{}};SignaturePad.prototype._calculateCurveControlPoints=function(e,t,n){var o=e.x-t.x,l=e.y-t.y,u=t.x-n.x,d=t.y-n.y,A={x:(e.x+t.x)/2,y:(e.y+t.y)/2},m={x:(t.x+n.x)/2,y:(t.y+n.y)/2},f=Math.sqrt(o*o+l*l),g=Math.sqrt(u*u+d*d),v=A.x-m.x,b=A.y-m.y,w=g/(f+g),j={x:m.x+v*w,y:m.y+b*w},E=t.x-j.x,R=t.y-j.y;return{c1:new Point(A.x+E,A.y+R),c2:new Point(m.x+E,m.y+R)}};SignaturePad.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,o={start:null,end:null},l=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,u=this._strokeWidth(l);return o.start=this._lastWidth,o.end=u,this._lastVelocity=l,this._lastWidth=u,o};SignaturePad.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};SignaturePad.prototype._drawPoint=function(e,t,n){var o=this._ctx;o.moveTo(e,t),o.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1};SignaturePad.prototype._drawCurve=function(e,t,n){var o=this._ctx,l=n-t,u=Math.floor(e.length());o.beginPath();for(var d=0;d<u;d+=1){var A=d/u,m=A*A,f=m*A,g=1-A,v=g*g,b=v*g,w=b*e.startPoint.x;w+=3*v*A*e.control1.x,w+=3*g*m*e.control2.x,w+=f*e.endPoint.x;var j=b*e.startPoint.y;j+=3*v*A*e.control1.y,j+=3*g*m*e.control2.y,j+=f*e.endPoint.y;var E=t+f*l;this._drawPoint(w,j,E)}o.closePath(),o.fill()};SignaturePad.prototype._drawDot=function(e){var t=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()};SignaturePad.prototype._fromData=function(e,t,n){for(var o=0;o<e.length;o+=1){var l=e[o];if(l.length>1)for(var u=0;u<l.length;u+=1){var d=l[u],A=new Point(d.x,d.y,d.time),m=d.color;if(u===0)this.penColor=m,this._reset(),this._addPoint(A);else if(u!==l.length-1){var f=this._addPoint(A),g=f.curve,v=f.widths;g&&v&&t(g,v,m)}}else{this._reset();var b=l[0];n(b)}}};SignaturePad.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,o=Math.max(window.devicePixelRatio||1,1),l=0,u=0,d=n.width/o,A=n.height/o,m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttributeNS(null,"width",n.width),m.setAttributeNS(null,"height",n.height),this._fromData(t,function(_,N,B){var M=document.createElement("path");if(!isNaN(_.control1.x)&&!isNaN(_.control1.y)&&!isNaN(_.control2.x)&&!isNaN(_.control2.y)){var O="M "+_.startPoint.x.toFixed(3)+","+_.startPoint.y.toFixed(3)+" "+("C "+_.control1.x.toFixed(3)+","+_.control1.y.toFixed(3)+" ")+(_.control2.x.toFixed(3)+","+_.control2.y.toFixed(3)+" ")+(_.endPoint.x.toFixed(3)+","+_.endPoint.y.toFixed(3));M.setAttribute("d",O),M.setAttribute("stroke-width",(N.end*2.25).toFixed(3)),M.setAttribute("stroke",B),M.setAttribute("fill","none"),M.setAttribute("stroke-linecap","round"),m.appendChild(M)}},function(_){var N=document.createElement("circle"),B=typeof e.dotSize=="function"?e.dotSize():e.dotSize;N.setAttribute("r",B),N.setAttribute("cx",_.x),N.setAttribute("cy",_.y),N.setAttribute("fill",_.color),m.appendChild(N)});var f="data:image/svg+xml;base64,",g='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+l+" "+u+" "+d+" "+A+'"')+(' width="'+d+'"')+(' height="'+A+'"')+">",v=m.innerHTML;if(v===void 0){var b=document.createElement("dummy"),w=m.childNodes;b.innerHTML="";for(var j=0;j<w.length;j+=1)b.appendChild(w[j].cloneNode(!0));v=b.innerHTML}var E="</svg>",R=g+v+E;return f+btoa(R)};SignaturePad.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(n,o){return t._drawCurve(n,o.start,o.end)},function(n){return t._drawDot(n)}),this._data=e};SignaturePad.prototype.toData=function(){return this._data};var build$1={exports:{}},build=build$1.exports,hasRequiredBuild;function requireBuild(){return hasRequiredBuild||(hasRequiredBuild=1,(function(e,t){(function(n,o){e.exports=o()})(build,function(){return(function(n){function o(u){if(l[u])return l[u].exports;var d=l[u]={exports:{},id:u,loaded:!1};return n[u].call(d.exports,d,d.exports,o),d.loaded=!0,d.exports}var l={};return o.m=n,o.c=l,o.p="",o(0)})([function(n,o){function l(f){var g=f.getContext("2d"),v=f.width,b=f.height,w=g.getImageData(0,0,v,b).data,j=A(!0,v,b,w),E=A(!1,v,b,w),R=m(!0,v,b,w),_=m(!1,v,b,w),N=_-R+1,B=E-j+1,M=g.getImageData(R,j,N,B);return f.width=N,f.height=B,g.clearRect(0,0,N,B),g.putImageData(M,0,0),f}function u(f,g,v,b){return{red:b[4*(v*g+f)],green:b[4*(v*g+f)+1],blue:b[4*(v*g+f)+2],alpha:b[4*(v*g+f)+3]}}function d(f,g,v,b){return u(f,g,v,b).alpha}function A(f,g,v,b){for(var w=f?1:-1,j=f?0:v-1,E=j;f?E<v:E>-1;E+=w)for(var R=0;R<g;R++)if(d(R,E,g,b))return E;return null}function m(f,g,v,b){for(var w=f?1:-1,j=f?0:g-1,E=j;f?E<g:E>-1;E+=w)for(var R=0;R<v;R++)if(d(E,R,g,b))return E;return null}Object.defineProperty(o,"__esModule",{value:!0}),o.default=l}])})})(build$1)),build$1.exports}var buildExports=requireBuild();const trimCanvas=getDefaultExportFromCjs(buildExports);var _excluded$2=["canvasProps","clearOnResize"],SignatureCanvas=(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var o;_classCallCheck(this,n);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return o=t.call.apply(t,[this].concat(u)),o.staticThis=o.constructor,o._sigPad=null,o._canvas=null,o.setRef=function(A){o._canvas=A,o._canvas===null&&(o._sigPad=null)},o._excludeOurProps=function(){var A=o.props;A.canvasProps,A.clearOnResize;var m=_objectWithoutProperties$1(A,_excluded$2);return m},o.componentDidMount=function(){var A=o.getCanvas();o._sigPad=new SignaturePad(A,o._excludeOurProps()),o._resizeCanvas(),o.on()},o.componentWillUnmount=function(){o.off()},o.componentDidUpdate=function(){Object.assign(o._sigPad,o._excludeOurProps())},o.getCanvas=function(){if(o._canvas===null)throw o.staticThis.refNullError;return o._canvas},o.getTrimmedCanvas=function(){var A=o.getCanvas(),m=document.createElement("canvas");return m.width=A.width,m.height=A.height,m.getContext("2d").drawImage(A,0,0),trimCanvas(m)},o.getSignaturePad=function(){if(o._sigPad===null)throw o.staticThis.refNullError;return o._sigPad},o._checkClearOnResize=function(){o.props.clearOnResize&&o._resizeCanvas()},o._resizeCanvas=function(){var A,m,f=(A=o.props.canvasProps)!==null&&A!==void 0?A:{},g=f.width,v=f.height;if(!(typeof g<"u"&&typeof v<"u")){var b=o.getCanvas(),w=Math.max((m=window.devicePixelRatio)!==null&&m!==void 0?m:1,1);typeof g>"u"&&(b.width=b.offsetWidth*w),typeof v>"u"&&(b.height=b.offsetHeight*w),b.getContext("2d").scale(w,w),o.clear()}},o.render=function(){var A=o.props.canvasProps;return React.createElement("canvas",_extends$m({ref:o.setRef},A))},o.on=function(){return window.addEventListener("resize",o._checkClearOnResize),o.getSignaturePad().on()},o.off=function(){return window.removeEventListener("resize",o._checkClearOnResize),o.getSignaturePad().off()},o.clear=function(){return o.getSignaturePad().clear()},o.isEmpty=function(){return o.getSignaturePad().isEmpty()},o.fromDataURL=function(A,m){return o.getSignaturePad().fromDataURL(A,m)},o.toDataURL=function(A,m){return o.getSignaturePad().toDataURL(A,m)},o.fromData=function(A){return o.getSignaturePad().fromData(A)},o.toData=function(){return o.getSignaturePad().toData()},o}return _createClass(n)})(reactExports.Component);SignatureCanvas.propTypes={velocityFilterWeight:PropTypes.number,minWidth:PropTypes.number,maxWidth:PropTypes.number,minDistance:PropTypes.number,dotSize:PropTypes.oneOfType([PropTypes.number,PropTypes.func]),penColor:PropTypes.string,throttle:PropTypes.number,onEnd:PropTypes.func,onBegin:PropTypes.func,canvasProps:PropTypes.object,clearOnResize:PropTypes.bool};SignatureCanvas.defaultProps={clearOnResize:!0};SignatureCanvas.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const RealTimeProgressTracker=({messages:e,studentLog:t,currentTaskIndex:n,totalTasks:o,improvementCount:l,completedTasksCount:u})=>{const{t:d}=useTranslation("progressTracker"),[A,m]=reactExports.useState({totalQuestions:0,totalEdits:0,deepInsights:0,taskProgress:0,selfDriveScore:0,focusScore:0,thinkingScore:0,improvementScore:0,recentMilestones:[]});return reactExports.useEffect(()=>{const f=e.filter(_=>_.role==="user"),g=f.filter(_=>{const N=_.text;return/[ï¼Ÿ?]|ä»€ä¹ˆ|ä¸ºä»€ä¹ˆ|å¦‚ä½•|æ€Žä¹ˆ|æ€Žæ ·|èƒ½å¦|å¯ä»¥å—/.test(N)}).length,v=f.filter(_=>{const N=_.text;return/ä¸ºä»€ä¹ˆ|å¦‚ä½•|åŽŸç†|æœ¬è´¨|å…³ç³»|è”ç³»|æœºåˆ¶|åŽŸå› /.test(N)&&N.length>20||N.length>50&&/æ€è€ƒ|ç†è§£|å‘çŽ°|æŽ¢ç´¢/.test(N)}).length,b=o>0?Math.round(u/o*100):0,w=Math.min(100,(g>0?25:0)+(l>3?35:l*8)+(b>50?30:b*.5)+(f.length>3?10:0)),j=Math.min(100,(f.length>5?35:f.length*6)+(l>5?30:l*5)+(v>0?25:0)+(b>30?10:0)),E=Math.min(100,v*20+(g>2?35:g*12)+(l>3?30:0)+(f.length>4?15:0)),R=Math.min(100,(l>5?45:l*7)+(l>0?30:0));m(_=>{const N=[];return g>_.totalQuestions&&g>0&&(g===1?N.push({id:`q-${Date.now()}`,type:"question",timestamp:Date.now(),message:d("firstQuestion"),points:10,icon:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4"})}):g%3===0&&_.totalQuestions%3!==0&&N.push({id:`q-${Date.now()}`,type:"question",timestamp:Date.now(),message:d("questionsCount",{count:g}),points:15,icon:jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4"})})),l>_.totalEdits&&l>0&&(l===1?N.push({id:`e-${Date.now()}`,type:"edit",timestamp:Date.now(),message:d("firstEdit"),points:10,icon:jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4"})}):l%3===0&&_.totalEdits%3!==0&&N.push({id:`e-${Date.now()}`,type:"edit",timestamp:Date.now(),message:d("editsCount",{count:l}),points:15,icon:jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4"})})),v>_.deepInsights&&N.push({id:`i-${Date.now()}`,type:"insight",timestamp:Date.now(),message:d("deepInsight"),points:20,icon:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"})}),b>_.taskProgress&&b>0&&N.push({id:`c-${Date.now()}`,type:"completion",timestamp:Date.now(),message:d("tasksCompleted",{completed:u,total:o}),points:25,icon:jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4"})}),{totalQuestions:g,totalEdits:l,deepInsights:v,taskProgress:b,selfDriveScore:w,focusScore:j,thinkingScore:E,improvementScore:R,recentMilestones:[...N,..._.recentMilestones].slice(0,5)}})},[e,l,u,o,d]),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-b from-cyan-50 to-white p-4 rounded-2xl border border-cyan-100 shadow-lg h-full overflow-y-auto",children:[jsxRuntimeExports.jsxs("h3",{className:"text-cyan-800 font-bold mb-4 flex items-center gap-2 text-sm uppercase",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4"}),d("title")]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-cyan-700 font-medium",children:d("taskProgress")}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-cyan-600 font-bold",children:[o>0?Math.round(u/o*100):0,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-cyan-100 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-cyan-600 h-2 rounded-full transition-all duration-500",style:{width:`${o>0?u/o*100:0}%`}})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-cyan-600 mt-1",children:d("taskCount",{current:n+1,total:o})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-cyan-800 uppercase",children:d("traitTitle")}),[{name:d("selfDrive"),score:A.selfDriveScore,bgColor:"bg-purple-500"},{name:d("focus"),score:A.focusScore,bgColor:"bg-blue-500"},{name:d("thinking"),score:A.thinkingScore,bgColor:"bg-green-500"},{name:d("improvement"),score:A.improvementScore,bgColor:"bg-orange-500"}].map((f,g)=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-700",children:f.name}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-cyan-700",children:Math.round(f.score)})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5",children:jsxRuntimeExports.jsx("div",{className:`${f.bgColor} h-1.5 rounded-full transition-all duration-500`,style:{width:`${f.score}%`}})})]},g))]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:d("questionCount")})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-cyan-700",children:A.totalQuestions})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:d("improvementCount")})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-cyan-700",children:l})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:d("deepThinking")})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-cyan-700",children:A.deepInsights})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded-xl border border-cyan-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-600",children:d("completion")})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-cyan-700",children:[Math.round(u/o*100),"%"]})]})]}),A.recentMilestones.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-cyan-800 uppercase mb-3",children:d("recentAchievements")}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:A.recentMilestones.map(f=>jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-cyan-50 to-white p-2 rounded-lg border border-cyan-200 animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-cyan-600 mt-0.5",children:f.icon}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-700",children:f.message}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-cyan-600 mt-0.5",children:d("points",{count:f.points})})]})]})},f.id))})]})]})},VisualizationTypeSelector=({selectedType:e,onSelect:t,disabled:n=!1})=>{const{t:o}=useTranslation("visualizationEditor"),l=[{type:"mindmap",labelKey:"mindmap",descKey:"mindmapDesc",icon:jsxRuntimeExports.jsx(Brain,{size:20})},{type:"conceptmap",labelKey:"conceptmap",descKey:"conceptmapDesc",icon:jsxRuntimeExports.jsx(Network,{size:20})},{type:"knowledgegraph",labelKey:"knowledgegraph",descKey:"knowledgegraphDesc",icon:jsxRuntimeExports.jsx(GitBranch,{size:20})}];return jsxRuntimeExports.jsx("div",{className:"flex gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:l.map(({type:u,labelKey:d,descKey:A,icon:m})=>jsxRuntimeExports.jsxs("button",{onClick:()=>!n&&t(u),disabled:n,className:`
            flex-1 flex flex-col items-center gap-2 p-3 rounded-lg border-2 transition-all
            ${e===u?"border-cyan-500 bg-cyan-50 text-cyan-700 shadow-sm":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:bg-slate-50"}
            ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,title:o(A),children:[m,jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:o(d)})]},u))})},CreationModeSelector=({selectedMode:e,onSelect:t,disabled:n=!1})=>{const{t:o}=useTranslation("visualizationEditor"),l=[{mode:"simple-input",labelKey:"simpleInput",descKey:"simpleInputDesc",icon:jsxRuntimeExports.jsx(Type,{size:18})},{mode:"click-create",labelKey:"clickCreate",descKey:"clickCreateDesc",icon:jsxRuntimeExports.jsx(MousePointerClick,{size:18})},{mode:"drag-drop",labelKey:"dragDrop",descKey:"dragDropDesc",icon:jsxRuntimeExports.jsx(Move,{size:18})}];return jsxRuntimeExports.jsx("div",{className:"flex gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:l.map(({mode:u,labelKey:d,descKey:A,icon:m})=>jsxRuntimeExports.jsxs("button",{onClick:()=>!n&&t(u),disabled:n,className:`
            flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg border-2 transition-all text-xs font-medium
            ${e===u?"border-purple-500 bg-purple-50 text-purple-700 shadow-sm":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:bg-slate-50"}
            ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,title:o(A),children:[m,jsxRuntimeExports.jsx("span",{children:o(d)})]},u))})};function parseTextToVisualizationData(e,t="conceptmap"){const n=e.split(`
`).map(f=>f.trim()).filter(f=>f);if(n.length===0)return{type:t,nodes:[],edges:[],metadata:{}};const o=[],l=[],u=new Map;let d=0;const A=(f,g=!1)=>{const v=f.trim();for(const[j,E]of u.entries())if(E.label===v)return E;const b=`node_${d++}`,w={id:b,label:v,type:g?"confusion":"concept"};return o.push(w),u.set(b,w),w};n.forEach((f,g)=>{const v=/(.+?)\s*(->|-->)\s*(.+)/,b=f.match(v);if(!b){const ie=f.match(/^(.+?)\s*\[å›°æƒ‘ç‚¹\]/);ie?A(ie[1],!0):A(f);return}const[,w,j,E]=b,R=w.match(/^(.+?)\s*\[å›°æƒ‘ç‚¹\]/),_=R?R[1]:w.trim(),N=!!R,B=E.match(/^(.+?)\s*\[å›°æƒ‘ç‚¹\]/);B?B[1]:E.trim();const M=!!B,O=E.split(/\s*(->|-->)\s*/);let F,$;O.length>=3&&O[1]==="->"||O[1]==="-->"?(F=O[0].trim(),$=O.slice(2).join("").trim()):$=E.trim();const z=$.match(/^(.+?)\s*\[å›°æƒ‘ç‚¹\]/);z&&($=z[1]);const se=A(_,N),ce=A($,M);l.push({id:`edge_${l.length}`,source:se.id,target:ce.id,label:F,type:F?"related":"hierarchical"})});const m=o.find(f=>!l.some(g=>g.target===f.id))?.label||o[0]?.label||"";return{type:t,nodes:o,edges:l,metadata:{centralConcept:m,confusionPoints:o.filter(f=>f.type==="confusion").map(f=>f.label)}}}const SimpleInputMode=({type:e,initialData:t,onChange:n})=>{const{t:o}=useTranslation("visualizationEditor"),[l,u]=reactExports.useState(""),[d,A]=reactExports.useState(null);reactExports.useEffect(()=>{if(t&&t.nodes.length>0){const f=[];t.edges.forEach(g=>{const v=t.nodes.find(w=>w.id===g.source),b=t.nodes.find(w=>w.id===g.target);if(v&&b){const w=g.label?`${v.label} -> ${g.label} -> ${b.label}`:`${v.label} -> ${b.label}`;f.push(w)}}),f.length===0&&t.nodes.forEach(g=>{f.push(g.label)}),u(f.join(`
`))}},[t]);const m=f=>{if(u(f),A(null),!f.trim()){n({type:e,nodes:[],edges:[],metadata:{}});return}try{const g=parseTextToVisualizationData(f,e);n(g)}catch(g){const v=g instanceof Error?g.message:o("common:parseError");A(v),console.error("Parse error:",g)}};return jsxRuntimeExports.jsx("div",{className:"w-full h-full flex flex-col",children:jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col border border-slate-200 rounded-lg overflow-hidden bg-white",children:[jsxRuntimeExports.jsx("div",{className:"p-3 border-b border-slate-200 bg-slate-50 flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-slate-700",children:o("textInput")}),jsxRuntimeExports.jsxs("div",{className:"group relative",children:[jsxRuntimeExports.jsx(CircleHelp,{size:14,className:"text-slate-400 cursor-help"}),jsxRuntimeExports.jsxs("div",{className:"absolute left-0 bottom-full mb-2 w-64 p-2 bg-slate-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none z-10 transition-opacity",children:[jsxRuntimeExports.jsx("p",{className:"font-bold mb-1",children:o("syntaxExample")}),jsxRuntimeExports.jsx("p",{children:o("syntaxLine1")}),jsxRuntimeExports.jsx("p",{children:o("syntaxLine2")}),jsxRuntimeExports.jsx("p",{children:o("syntaxLine3")}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-slate-300",children:o("syntaxHint")})]})]})]})}),jsxRuntimeExports.jsx("textarea",{value:l,onChange:f=>m(f.target.value),placeholder:o("inputPlaceholder"),className:"flex-1 w-full p-4 text-sm font-mono text-slate-700 bg-white resize-none focus:outline-none focus:ring-2 focus:ring-cyan-500/20 border-0",spellCheck:!1}),d&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-red-50 border-t border-red-200 flex items-center gap-2 text-xs text-red-700",children:[jsxRuntimeExports.jsx(CircleAlert,{size:14}),jsxRuntimeExports.jsx("span",{children:d})]})]})})};function cc(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=cc(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var noop={value:()=>{}};function dispatch(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Dispatch(n)}function Dispatch(e){this._=e}function parseTypenames$1(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",l=n.indexOf(".");if(l>=0&&(o=n.slice(l+1),n=n.slice(0,l)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n=this._,o=parseTypenames$1(e+"",n),l,u=-1,d=o.length;if(arguments.length<2){for(;++u<d;)if((l=(e=o[u]).type)&&(l=get$1(n[l],e.name)))return l;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<d;)if(l=(e=o[u]).type)n[l]=set$1(n[l],e.name,t);else if(t==null)for(l in n)n[l]=set$1(n[l],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var n=new Array(l),o=0,l,u;o<l;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],o=0,l=u.length;o<l;++o)u[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,u=o.length;l<u;++l)o[l].value.apply(t,n)}};function get$1(e,t){for(var n=0,o=e.length,l;n<o;++n)if((l=e[n]).name===t)return l.value}function set$1(e,t,n){for(var o=0,l=e.length;o<l;++o)if(e[o].name===t){e[o]=noop,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(n,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(e){return e==null?none:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var u=t[l],d=u.length,A=o[l]=new Array(d),m,f,g=0;g<d;++g)(m=u[g])&&(f=e.call(m,m.__data__,g,u))&&("__data__"in m&&(f.__data__=m.__data__),A[g]=f);return new Selection$1(o,this._parents)}function array(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty(){return[]}function selectorAll(e){return e==null?empty:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array(e.apply(this,arguments))}}function selection_selectAll(e){typeof e=="function"?e=arrayAll(e):e=selectorAll(e);for(var t=this._groups,n=t.length,o=[],l=[],u=0;u<n;++u)for(var d=t[u],A=d.length,m,f=0;f<A;++f)(m=d[f])&&(o.push(e.call(m,m.__data__,f,d)),l.push(m));return new Selection$1(o,l)}function matcher(e){return function(){return this.matches(e)}}function childMatcher(e){return function(t){return t.matches(e)}}var find=Array.prototype.find;function childFind(e){return function(){return find.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var u=t[l],d=u.length,A=o[l]=[],m,f=0;f<d;++f)(m=u[f])&&e.call(m,m.__data__,f,u)&&A.push(m);return new Selection$1(o,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant$2(e){return function(){return e}}function bindIndex(e,t,n,o,l,u){for(var d=0,A,m=t.length,f=u.length;d<f;++d)(A=t[d])?(A.__data__=u[d],o[d]=A):n[d]=new EnterNode(e,u[d]);for(;d<m;++d)(A=t[d])&&(l[d]=A)}function bindKey(e,t,n,o,l,u,d){var A,m,f=new Map,g=t.length,v=u.length,b=new Array(g),w;for(A=0;A<g;++A)(m=t[A])&&(b[A]=w=d.call(m,m.__data__,A,t)+"",f.has(w)?l[A]=m:f.set(w,m));for(A=0;A<v;++A)w=d.call(e,u[A],A,u)+"",(m=f.get(w))?(o[A]=m,m.__data__=u[A],f.delete(w)):n[A]=new EnterNode(e,u[A]);for(A=0;A<g;++A)(m=t[A])&&f.get(b[A])===m&&(l[A]=m)}function datum(e){return e.__data__}function selection_data(e,t){if(!arguments.length)return Array.from(this,datum);var n=t?bindKey:bindIndex,o=this._parents,l=this._groups;typeof e!="function"&&(e=constant$2(e));for(var u=l.length,d=new Array(u),A=new Array(u),m=new Array(u),f=0;f<u;++f){var g=o[f],v=l[f],b=v.length,w=arraylike(e.call(g,g&&g.__data__,f,o)),j=w.length,E=A[f]=new Array(j),R=d[f]=new Array(j),_=m[f]=new Array(b);n(g,v,E,R,_,w,t);for(var N=0,B=0,M,O;N<j;++N)if(M=E[N]){for(N>=B&&(B=N+1);!(O=R[B])&&++B<j;);M._next=O||null}}return d=new Selection$1(d,o),d._enter=A,d._exit=m,d}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,t,n){var o=this.enter(),l=this,u=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(l=t(l),l&&(l=l.selection())),n==null?u.remove():n(u),o&&l?o.merge(l).order():l}function selection_merge(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,l=n.length,u=o.length,d=Math.min(l,u),A=new Array(l),m=0;m<d;++m)for(var f=n[m],g=o[m],v=f.length,b=A[m]=new Array(v),w,j=0;j<v;++j)(w=f[j]||g[j])&&(b[j]=w);for(;m<l;++m)A[m]=n[m];return new Selection$1(A,this._parents)}function selection_order(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],l=o.length-1,u=o[l],d;--l>=0;)(d=o[l])&&(u&&d.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(d,u),u=d);return this}function selection_sort(e){e||(e=ascending);function t(v,b){return v&&b?e(v.__data__,b.__data__):!v-!b}for(var n=this._groups,o=n.length,l=new Array(o),u=0;u<o;++u){for(var d=n[u],A=d.length,m=l[u]=new Array(A),f,g=0;g<A;++g)(f=d[g])&&(m[g]=f);m.sort(t)}return new Selection$1(l,this._parents).order()}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],l=0,u=o.length;l<u;++l){var d=o[l];if(d)return d}return null}function selection_size(){let e=0;for(const t of this)++e;return e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var l=t[n],u=0,d=l.length,A;u<d;++u)(A=l[u])&&e.call(A,A.__data__,u,l);return this}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS$1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction$1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function attrFunctionNS$1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function selection_attr(e,t){var n=namespace(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?attrRemoveNS$1:attrRemove$1:typeof t=="function"?n.local?attrFunctionNS$1:attrFunction$1:n.local?attrConstantNS$1:attrConstant$1)(n,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove$1(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function styleFunction$1(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function selection_style(e,t,n){return arguments.length>1?this.each((t==null?styleRemove$1:typeof t=="function"?styleFunction$1:styleConstant$1)(e,t,n??"")):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function selection_property(e,t){return arguments.length>1?this.each((t==null?propertyRemove:typeof t=="function"?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,t){for(var n=classList(e),o=-1,l=t.length;++o<l;)n.add(t[o])}function classedRemove(e,t){for(var n=classList(e),o=-1,l=t.length;++o<l;)n.remove(t[o])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var n=classArray(e+"");if(arguments.length<2){for(var o=classList(this.node()),l=-1,u=n.length;++l<u;)if(!o.contains(n[l]))return!1;return!0}return this.each((typeof t=="function"?classedFunction:t?classedTrue:classedFalse)(n,t))}function textRemove(){this.textContent=""}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction$1:textConstant$1)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var n=typeof e=="function"?e:creator(e),o=t==null?constantNull:typeof t=="function"?t:selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener(e){return function(t){e.call(this,t,this.__data__)}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,l=t.length,u;n<l;++n)u=t[n],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++o]=u;++o?t.length=o:delete this.__on}}}function onAdd(e,t,n){return function(){var o=this.__on,l,u=contextListener(t);if(o){for(var d=0,A=o.length;d<A;++d)if((l=o[d]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=n),l.value=t;return}}this.addEventListener(e.type,u,n),l={type:e.type,name:e.name,value:t,listener:u,options:n},o?o.push(l):this.__on=[l]}}function selection_on(e,t,n){var o=parseTypenames(e+""),l,u=o.length,d;if(arguments.length<2){var A=this.node().__on;if(A){for(var m=0,f=A.length,g;m<f;++m)for(l=0,g=A[m];l<u;++l)if((d=o[l]).type===g.type&&d.name===g.name)return g.value}return}for(A=t?onAdd:onRemove,l=0;l<u;++l)this.each(A(o[l],t,n));return this}function dispatchEvent(e,t,n){var o=defaultView(e),l=o.CustomEvent;typeof l=="function"?l=new l(t,n):(l=o.document.createEvent("Event"),n?(l.initEvent(t,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(t,!1,!1)),e.dispatchEvent(l)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each((typeof t=="function"?dispatchFunction:dispatchConstant)(e,t))}function*selection_iterator(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],l=0,u=o.length,d;l<u;++l)(d=o[l])&&(yield d)}var root=[null];function Selection$1(e,t){this._groups=e,this._parents=t}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(e){return typeof e=="string"?new Selection$1([[document.querySelector(e)]],[document.documentElement]):new Selection$1([[e]],root)}function sourceEvent(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pointer(e,t){if(e=sourceEvent(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}}return[e.pageX,e.pageY]}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$1(e){e.stopImmediatePropagation()}function noevent$1(e){e.preventDefault(),e.stopImmediatePropagation()}function dragDisable(e){var t=e.document.documentElement,n=select(e).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in t?n.on("selectstart.drag",noevent$1,nonpassivecapture):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function yesdrag(e,t){var n=e.document.documentElement,o=select(e).on("dragstart.drag",null);t&&(o.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const constant$1=e=>()=>e;function DragEvent(e,{sourceEvent:t,subject:n,target:o,identifier:l,active:u,x:d,y:A,dx:m,dy:f,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:A,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:g}})}DragEvent.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function defaultFilter$1(e){return!e.ctrlKey&&!e.button}function defaultContainer(){return this.parentNode}function defaultSubject(e,t){return t??{x:e.x,y:e.y}}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var e=defaultFilter$1,t=defaultContainer,n=defaultSubject,o=defaultTouchable$1,l={},u=dispatch("start","drag","end"),d=0,A,m,f,g,v=0;function b(M){M.on("mousedown.drag",w).filter(o).on("touchstart.drag",R).on("touchmove.drag",_,nonpassive).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(M,O){if(!(g||!e.call(this,M,O))){var F=B(this,t.call(this,M,O),M,O,"mouse");F&&(select(M.view).on("mousemove.drag",j,nonpassivecapture).on("mouseup.drag",E,nonpassivecapture),dragDisable(M.view),nopropagation$1(M),f=!1,A=M.clientX,m=M.clientY,F("start",M))}}function j(M){if(noevent$1(M),!f){var O=M.clientX-A,F=M.clientY-m;f=O*O+F*F>v}l.mouse("drag",M)}function E(M){select(M.view).on("mousemove.drag mouseup.drag",null),yesdrag(M.view,f),noevent$1(M),l.mouse("end",M)}function R(M,O){if(e.call(this,M,O)){var F=M.changedTouches,$=t.call(this,M,O),z=F.length,se,ce;for(se=0;se<z;++se)(ce=B(this,$,M,O,F[se].identifier,F[se]))&&(nopropagation$1(M),ce("start",M,F[se]))}}function _(M){var O=M.changedTouches,F=O.length,$,z;for($=0;$<F;++$)(z=l[O[$].identifier])&&(noevent$1(M),z("drag",M,O[$]))}function N(M){var O=M.changedTouches,F=O.length,$,z;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),$=0;$<F;++$)(z=l[O[$].identifier])&&(nopropagation$1(M),z("end",M,O[$]))}function B(M,O,F,$,z,se){var ce=u.copy(),ie=pointer(se||F,O),pe,xe,Ae;if((Ae=n.call(M,new DragEvent("beforestart",{sourceEvent:F,target:b,identifier:z,active:d,x:ie[0],y:ie[1],dx:0,dy:0,dispatch:ce}),$))!=null)return pe=Ae.x-ie[0]||0,xe=Ae.y-ie[1]||0,function ue(Y,fe,H){var le=ie,de;switch(Y){case"start":l[z]=ue,de=d++;break;case"end":delete l[z],--d;case"drag":ie=pointer(H||fe,O),de=d;break}ce.call(Y,M,new DragEvent(Y,{sourceEvent:fe,subject:Ae,target:b,identifier:z,active:de,x:ie[0]+pe,y:ie[1]+xe,dx:ie[0]-le[0],dy:ie[1]-le[1],dispatch:ce}),$)}}return b.filter=function(M){return arguments.length?(e=typeof M=="function"?M:constant$1(!!M),b):e},b.container=function(M){return arguments.length?(t=typeof M=="function"?M:constant$1(M),b):t},b.subject=function(M){return arguments.length?(n=typeof M=="function"?M:constant$1(M),b):n},b.touchable=function(M){return arguments.length?(o=typeof M=="function"?M:constant$1(!!M),b):o},b.on=function(){var M=u.on.apply(u,arguments);return M===u?b:M},b.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,b):Math.sqrt(v)},b}var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?now():+n)+(t==null?0:+t),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(e,t,n){var o=new Timer;return o.restart(e,t,n),o}function timerFlush(){now(),++frame;for(var e=taskHead,t;e;)(t=clockNow-e._time)>=0&&e._call.call(void 0,t),e=e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),t=e-clockLast;t>pokeDelay&&(clockSkew-=t,clockLast=e)}function nap(){for(var e,t=taskHead,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:taskHead=n);taskTail=e,sleep(o)}function sleep(e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var t=e-clockNow;t>24?(e<1/0&&(timeout$1=setTimeout(wake,e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(e,t,n){var o=new Timer;return t=t==null?0:+t,o.restart(l=>{o.stop(),e(l+t)},t,n),o}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(e,t,n,o,l,u){var d=e.__transition;if(!d)e.__transition={};else if(n in d)return;create(e,n,{name:t,index:o,group:l,on:emptyOn,tween:emptyTween,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:CREATED})}function init(e,t){var n=get(e,t);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set(e,t){var n=get(e,t);if(n.state>STARTED)throw new Error("too late; already running");return n}function get(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function create(e,t,n){var o=e.__transition,l;o[t]=n,n.timer=timer(u,0,n.time);function u(f){n.state=SCHEDULED,n.timer.restart(d,n.delay,n.time),n.delay<=f&&d(f-n.delay)}function d(f){var g,v,b,w;if(n.state!==SCHEDULED)return m();for(g in o)if(w=o[g],w.name===n.name){if(w.state===STARTED)return timeout(d);w.state===RUNNING?(w.state=ENDED,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete o[g]):+g<t&&(w.state=ENDED,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete o[g])}if(timeout(function(){n.state===STARTED&&(n.state=RUNNING,n.timer.restart(A,n.delay,n.time),A(f))}),n.state=STARTING,n.on.call("start",e,e.__data__,n.index,n.group),n.state===STARTING){for(n.state=STARTED,l=new Array(b=n.tween.length),g=0,v=-1;g<b;++g)(w=n.tween[g].value.call(e,e.__data__,n.index,n.group))&&(l[++v]=w);l.length=v+1}}function A(f){for(var g=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(m),n.state=ENDING,1),v=-1,b=l.length;++v<b;)l[v].call(e,g);n.state===ENDING&&(n.on.call("end",e,e.__data__,n.index,n.group),m())}function m(){n.state=ENDED,n.timer.stop(),delete o[t];for(var f in o)return;delete e.__transition}}function interrupt(e,t){var n=e.__transition,o,l,u=!0,d;if(n){t=t==null?null:t+"";for(d in n){if((o=n[d]).name!==t){u=!1;continue}l=o.state>STARTING&&o.state<ENDING,o.state=ENDED,o.timer.stop(),o.on.call(l?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[d]}u&&delete e.__transition}}function selection_interrupt(e){return this.each(function(){interrupt(this,e)})}function tweenRemove(e,t){var n,o;return function(){var l=set(this,e),u=l.tween;if(u!==n){o=n=u;for(var d=0,A=o.length;d<A;++d)if(o[d].name===t){o=o.slice(),o.splice(d,1);break}}l.tween=o}}function tweenFunction(e,t,n){var o,l;if(typeof n!="function")throw new Error;return function(){var u=set(this,e),d=u.tween;if(d!==o){l=(o=d).slice();for(var A={name:t,value:n},m=0,f=l.length;m<f;++m)if(l[m].name===t){l[m]=A;break}m===f&&l.push(A)}u.tween=l}}function transition_tween(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=get(this.node(),n).tween,l=0,u=o.length,d;l<u;++l)if((d=o[l]).name===e)return d.value;return null}return this.each((t==null?tweenRemove:tweenFunction)(n,e,t))}function tweenValue(e,t,n){var o=e._id;return e.each(function(){var l=set(this,o);(l.value||(l.value={}))[t]=n.apply(this,arguments)}),function(l){return get(l,o).value[t]}}function interpolate(e,t){var n;return(typeof t=="number"?interpolateNumber$1:t instanceof color$1?interpolateRgb:(n=color$1(t))?(t=n,interpolateRgb):interpolateString)(e,t)}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t,n){var o,l=n+"",u;return function(){var d=this.getAttribute(e);return d===l?null:d===o?u:u=t(o=d,n)}}function attrConstantNS(e,t,n){var o,l=n+"",u;return function(){var d=this.getAttributeNS(e.space,e.local);return d===l?null:d===o?u:u=t(o=d,n)}}function attrFunction(e,t,n){var o,l,u;return function(){var d,A=n(this),m;return A==null?void this.removeAttribute(e):(d=this.getAttribute(e),m=A+"",d===m?null:d===o&&m===l?u:(l=m,u=t(o=d,A)))}}function attrFunctionNS(e,t,n){var o,l,u;return function(){var d,A=n(this),m;return A==null?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local),m=A+"",d===m?null:d===o&&m===l?u:(l=m,u=t(o=d,A)))}}function transition_attr(e,t){var n=namespace(e),o=n==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(e,typeof t=="function"?(n.local?attrFunctionNS:attrFunction)(n,o,tweenValue(this,"attr."+e,t)):t==null?(n.local?attrRemoveNS:attrRemove)(n):(n.local?attrConstantNS:attrConstant)(n,o,t))}function attrInterpolate(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function attrInterpolateNS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function attrTweenNS(e,t){var n,o;function l(){var u=t.apply(this,arguments);return u!==o&&(n=(o=u)&&attrInterpolateNS(e,u)),n}return l._value=t,l}function attrTween(e,t){var n,o;function l(){var u=t.apply(this,arguments);return u!==o&&(n=(o=u)&&attrInterpolate(e,u)),n}return l._value=t,l}function transition_attrTween(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=namespace(e);return this.tween(n,(o.local?attrTweenNS:attrTween)(o,t))}function delayFunction(e,t){return function(){init(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){init(this,e).delay=t}}function transition_delay(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?delayFunction:delayConstant)(t,e)):get(this.node(),t).delay}function durationFunction(e,t){return function(){set(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){set(this,e).duration=t}}function transition_duration(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?durationFunction:durationConstant)(t,e)):get(this.node(),t).duration}function easeConstant(e,t){if(typeof t!="function")throw new Error;return function(){set(this,e).ease=t}}function transition_ease(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):get(this.node(),t).ease}function easeVarying(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;set(this,e).ease=n}}function transition_easeVarying(e){if(typeof e!="function")throw new Error;return this.each(easeVarying(this._id,e))}function transition_filter(e){typeof e!="function"&&(e=matcher(e));for(var t=this._groups,n=t.length,o=new Array(n),l=0;l<n;++l)for(var u=t[l],d=u.length,A=o[l]=[],m,f=0;f<d;++f)(m=u[f])&&e.call(m,m.__data__,f,u)&&A.push(m);return new Transition(o,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,l=n.length,u=Math.min(o,l),d=new Array(o),A=0;A<u;++A)for(var m=t[A],f=n[A],g=m.length,v=d[A]=new Array(g),b,w=0;w<g;++w)(b=m[w]||f[w])&&(v[w]=b);for(;A<o;++A)d[A]=t[A];return new Transition(d,this._parents,this._name,this._id)}function start(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function onFunction(e,t,n){var o,l,u=start(t)?init:set;return function(){var d=u(this,e),A=d.on;A!==o&&(l=(o=A).copy()).on(t,n),d.on=l}}function transition_on(e,t){var n=this._id;return arguments.length<2?get(this.node(),n).on.on(e):this.each(onFunction(n,e,t))}function removeFunction(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var t=this._name,n=this._id;typeof e!="function"&&(e=selector(e));for(var o=this._groups,l=o.length,u=new Array(l),d=0;d<l;++d)for(var A=o[d],m=A.length,f=u[d]=new Array(m),g,v,b=0;b<m;++b)(g=A[b])&&(v=e.call(g,g.__data__,b,A))&&("__data__"in g&&(v.__data__=g.__data__),f[b]=v,schedule(f[b],t,n,b,f,get(g,n)));return new Transition(u,this._parents,t,n)}function transition_selectAll(e){var t=this._name,n=this._id;typeof e!="function"&&(e=selectorAll(e));for(var o=this._groups,l=o.length,u=[],d=[],A=0;A<l;++A)for(var m=o[A],f=m.length,g,v=0;v<f;++v)if(g=m[v]){for(var b=e.call(g,g.__data__,v,m),w,j=get(g,n),E=0,R=b.length;E<R;++E)(w=b[E])&&schedule(w,t,n,E,b,j);u.push(b),d.push(g)}return new Transition(u,d,t,n)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(e,t){var n,o,l;return function(){var u=styleValue(this,e),d=(this.style.removeProperty(e),styleValue(this,e));return u===d?null:u===n&&d===o?l:l=t(n=u,o=d)}}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,n){var o,l=n+"",u;return function(){var d=styleValue(this,e);return d===l?null:d===o?u:u=t(o=d,n)}}function styleFunction(e,t,n){var o,l,u;return function(){var d=styleValue(this,e),A=n(this),m=A+"";return A==null&&(m=A=(this.style.removeProperty(e),styleValue(this,e))),d===m?null:d===o&&m===l?u:(l=m,u=t(o=d,A))}}function styleMaybeRemove(e,t){var n,o,l,u="style."+t,d="end."+u,A;return function(){var m=set(this,e),f=m.on,g=m.value[u]==null?A||(A=styleRemove(t)):void 0;(f!==n||l!==g)&&(o=(n=f).copy()).on(d,l=g),m.on=o}}function transition_style(e,t,n){var o=(e+="")=="transform"?interpolateTransformCss:interpolate;return t==null?this.styleTween(e,styleNull(e,o)).on("end.style."+e,styleRemove(e)):typeof t=="function"?this.styleTween(e,styleFunction(e,o,tweenValue(this,"style."+e,t))).each(styleMaybeRemove(this._id,e)):this.styleTween(e,styleConstant(e,o,t),n).on("end.style."+e,null)}function styleInterpolate(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function styleTween(e,t,n){var o,l;function u(){var d=t.apply(this,arguments);return d!==l&&(o=(l=d)&&styleInterpolate(e,d,n)),o}return u._value=t,u}function transition_styleTween(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,styleTween(e,t,n??""))}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e(this);this.textContent=t??""}}function transition_text(e){return this.tween("text",typeof e=="function"?textFunction(tweenValue(this,"text",e)):textConstant(e==null?"":e+""))}function textInterpolate(e){return function(t){this.textContent=e.call(this,t)}}function textTween(e){var t,n;function o(){var l=e.apply(this,arguments);return l!==n&&(t=(n=l)&&textInterpolate(l)),t}return o._value=e,o}function transition_textTween(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,textTween(e))}function transition_transition(){for(var e=this._name,t=this._id,n=newId(),o=this._groups,l=o.length,u=0;u<l;++u)for(var d=o[u],A=d.length,m,f=0;f<A;++f)if(m=d[f]){var g=get(m,t);schedule(m,e,n,f,d,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Transition(o,this._parents,e,n)}function transition_end(){var e,t,n=this,o=n._id,l=n.size();return new Promise(function(u,d){var A={value:d},m={value:function(){--l===0&&u()}};n.each(function(){var f=set(this,o),g=f.on;g!==e&&(t=(e=g).copy(),t._.cancel.push(A),t._.interrupt.push(A),t._.end.push(m)),f.on=t}),l===0&&u()})}var id=0;function Transition(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function selection_transition(e){var t,n;e instanceof Transition?(t=e._id,e=e._name):(t=newId(),(n=defaultTiming).time=now(),e=e==null?null:e+"");for(var o=this._groups,l=o.length,u=0;u<l;++u)for(var d=o[u],A=d.length,m,f=0;f<A;++f)(m=d[f])&&schedule(m,e,t,f,d,n||inherit(m,t));return new Transition(o,this._parents,e,t)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const constant=e=>()=>e;function ZoomEvent(e,{sourceEvent:t,target:n,transform:o,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:l}})}function Transform(e,t,n){this.k=e,this.x=t,this.y=n}Transform.prototype={constructor:Transform,scale:function(e){return e===1?this:new Transform(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Transform(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$1=new Transform(1,0,0);transform.prototype=Transform.prototype;function transform(e){for(;!e.__zoom;)if(!(e=e.parentNode))return identity$1;return e.__zoom}function nopropagation(e){e.stopImmediatePropagation()}function noevent(e){e.preventDefault(),e.stopImmediatePropagation()}function defaultFilter(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||identity$1}function defaultWheelDelta(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(e,t,n){var o=e.invertX(t[0][0])-n[0][0],l=e.invertX(t[1][0])-n[1][0],u=e.invertY(t[0][1])-n[0][1],d=e.invertY(t[1][1])-n[1][1];return e.translate(l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l),d>u?(u+d)/2:Math.min(0,u)||Math.max(0,d))}function zoom(){var e=defaultFilter,t=defaultExtent,n=defaultConstrain,o=defaultWheelDelta,l=defaultTouchable,u=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],A=250,m=interpolateZoom,f=dispatch("start","zoom","end"),g,v,b,w=500,j=150,E=0,R=10;function _(Ae){Ae.property("__zoom",defaultTransform).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",se).on("dblclick.zoom",ce).filter(l).on("touchstart.zoom",ie).on("touchmove.zoom",pe).on("touchend.zoom touchcancel.zoom",xe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(Ae,ue,Y,fe){var H=Ae.selection?Ae.selection():Ae;H.property("__zoom",defaultTransform),Ae!==H?O(Ae,ue,Y,fe):H.interrupt().each(function(){F(this,arguments).event(fe).start().zoom(null,typeof ue=="function"?ue.apply(this,arguments):ue).end()})},_.scaleBy=function(Ae,ue,Y,fe){_.scaleTo(Ae,function(){var H=this.__zoom.k,le=typeof ue=="function"?ue.apply(this,arguments):ue;return H*le},Y,fe)},_.scaleTo=function(Ae,ue,Y,fe){_.transform(Ae,function(){var H=t.apply(this,arguments),le=this.__zoom,de=Y==null?M(H):typeof Y=="function"?Y.apply(this,arguments):Y,ye=le.invert(de),ge=typeof ue=="function"?ue.apply(this,arguments):ue;return n(B(N(le,ge),de,ye),H,d)},Y,fe)},_.translateBy=function(Ae,ue,Y,fe){_.transform(Ae,function(){return n(this.__zoom.translate(typeof ue=="function"?ue.apply(this,arguments):ue,typeof Y=="function"?Y.apply(this,arguments):Y),t.apply(this,arguments),d)},null,fe)},_.translateTo=function(Ae,ue,Y,fe,H){_.transform(Ae,function(){var le=t.apply(this,arguments),de=this.__zoom,ye=fe==null?M(le):typeof fe=="function"?fe.apply(this,arguments):fe;return n(identity$1.translate(ye[0],ye[1]).scale(de.k).translate(typeof ue=="function"?-ue.apply(this,arguments):-ue,typeof Y=="function"?-Y.apply(this,arguments):-Y),le,d)},fe,H)};function N(Ae,ue){return ue=Math.max(u[0],Math.min(u[1],ue)),ue===Ae.k?Ae:new Transform(ue,Ae.x,Ae.y)}function B(Ae,ue,Y){var fe=ue[0]-Y[0]*Ae.k,H=ue[1]-Y[1]*Ae.k;return fe===Ae.x&&H===Ae.y?Ae:new Transform(Ae.k,fe,H)}function M(Ae){return[(+Ae[0][0]+ +Ae[1][0])/2,(+Ae[0][1]+ +Ae[1][1])/2]}function O(Ae,ue,Y,fe){Ae.on("start.zoom",function(){F(this,arguments).event(fe).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(fe).end()}).tween("zoom",function(){var H=this,le=arguments,de=F(H,le).event(fe),ye=t.apply(H,le),ge=Y==null?M(ye):typeof Y=="function"?Y.apply(H,le):Y,je=Math.max(ye[1][0]-ye[0][0],ye[1][1]-ye[0][1]),Me=H.__zoom,He=typeof ue=="function"?ue.apply(H,le):ue,Qe=m(Me.invert(ge).concat(je/Me.k),He.invert(ge).concat(je/He.k));return function(ze){if(ze===1)ze=He;else{var Ve=Qe(ze),tt=je/Ve[2];ze=new Transform(tt,ge[0]-Ve[0]*tt,ge[1]-Ve[1]*tt)}de.zoom(null,ze)}})}function F(Ae,ue,Y){return!Y&&Ae.__zooming||new $(Ae,ue)}function $(Ae,ue){this.that=Ae,this.args=ue,this.active=0,this.sourceEvent=null,this.extent=t.apply(Ae,ue),this.taps=0}$.prototype={event:function(Ae){return Ae&&(this.sourceEvent=Ae),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Ae,ue){return this.mouse&&Ae!=="mouse"&&(this.mouse[1]=ue.invert(this.mouse[0])),this.touch0&&Ae!=="touch"&&(this.touch0[1]=ue.invert(this.touch0[0])),this.touch1&&Ae!=="touch"&&(this.touch1[1]=ue.invert(this.touch1[0])),this.that.__zoom=ue,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Ae){var ue=select(this.that).datum();f.call(Ae,this.that,new ZoomEvent(Ae,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:f}),ue)}};function z(Ae,...ue){if(!e.apply(this,arguments))return;var Y=F(this,ue).event(Ae),fe=this.__zoom,H=Math.max(u[0],Math.min(u[1],fe.k*Math.pow(2,o.apply(this,arguments)))),le=pointer(Ae);if(Y.wheel)(Y.mouse[0][0]!==le[0]||Y.mouse[0][1]!==le[1])&&(Y.mouse[1]=fe.invert(Y.mouse[0]=le)),clearTimeout(Y.wheel);else{if(fe.k===H)return;Y.mouse=[le,fe.invert(le)],interrupt(this),Y.start()}noevent(Ae),Y.wheel=setTimeout(de,j),Y.zoom("mouse",n(B(N(fe,H),Y.mouse[0],Y.mouse[1]),Y.extent,d));function de(){Y.wheel=null,Y.end()}}function se(Ae,...ue){if(b||!e.apply(this,arguments))return;var Y=Ae.currentTarget,fe=F(this,ue,!0).event(Ae),H=select(Ae.view).on("mousemove.zoom",ge,!0).on("mouseup.zoom",je,!0),le=pointer(Ae,Y),de=Ae.clientX,ye=Ae.clientY;dragDisable(Ae.view),nopropagation(Ae),fe.mouse=[le,this.__zoom.invert(le)],interrupt(this),fe.start();function ge(Me){if(noevent(Me),!fe.moved){var He=Me.clientX-de,Qe=Me.clientY-ye;fe.moved=He*He+Qe*Qe>E}fe.event(Me).zoom("mouse",n(B(fe.that.__zoom,fe.mouse[0]=pointer(Me,Y),fe.mouse[1]),fe.extent,d))}function je(Me){H.on("mousemove.zoom mouseup.zoom",null),yesdrag(Me.view,fe.moved),noevent(Me),fe.event(Me).end()}}function ce(Ae,...ue){if(e.apply(this,arguments)){var Y=this.__zoom,fe=pointer(Ae.changedTouches?Ae.changedTouches[0]:Ae,this),H=Y.invert(fe),le=Y.k*(Ae.shiftKey?.5:2),de=n(B(N(Y,le),fe,H),t.apply(this,ue),d);noevent(Ae),A>0?select(this).transition().duration(A).call(O,de,fe,Ae):select(this).call(_.transform,de,fe,Ae)}}function ie(Ae,...ue){if(e.apply(this,arguments)){var Y=Ae.touches,fe=Y.length,H=F(this,ue,Ae.changedTouches.length===fe).event(Ae),le,de,ye,ge;for(nopropagation(Ae),de=0;de<fe;++de)ye=Y[de],ge=pointer(ye,this),ge=[ge,this.__zoom.invert(ge),ye.identifier],H.touch0?!H.touch1&&H.touch0[2]!==ge[2]&&(H.touch1=ge,H.taps=0):(H.touch0=ge,le=!0,H.taps=1+!!g);g&&(g=clearTimeout(g)),le&&(H.taps<2&&(v=ge[0],g=setTimeout(function(){g=null},w)),interrupt(this),H.start())}}function pe(Ae,...ue){if(this.__zooming){var Y=F(this,ue).event(Ae),fe=Ae.changedTouches,H=fe.length,le,de,ye,ge;for(noevent(Ae),le=0;le<H;++le)de=fe[le],ye=pointer(de,this),Y.touch0&&Y.touch0[2]===de.identifier?Y.touch0[0]=ye:Y.touch1&&Y.touch1[2]===de.identifier&&(Y.touch1[0]=ye);if(de=Y.that.__zoom,Y.touch1){var je=Y.touch0[0],Me=Y.touch0[1],He=Y.touch1[0],Qe=Y.touch1[1],ze=(ze=He[0]-je[0])*ze+(ze=He[1]-je[1])*ze,Ve=(Ve=Qe[0]-Me[0])*Ve+(Ve=Qe[1]-Me[1])*Ve;de=N(de,Math.sqrt(ze/Ve)),ye=[(je[0]+He[0])/2,(je[1]+He[1])/2],ge=[(Me[0]+Qe[0])/2,(Me[1]+Qe[1])/2]}else if(Y.touch0)ye=Y.touch0[0],ge=Y.touch0[1];else return;Y.zoom("touch",n(B(de,ye,ge),Y.extent,d))}}function xe(Ae,...ue){if(this.__zooming){var Y=F(this,ue).event(Ae),fe=Ae.changedTouches,H=fe.length,le,de;for(nopropagation(Ae),b&&clearTimeout(b),b=setTimeout(function(){b=null},w),le=0;le<H;++le)de=fe[le],Y.touch0&&Y.touch0[2]===de.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===de.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(de=pointer(de,this),Math.hypot(v[0]-de[0],v[1]-de[1])<R)){var ye=select(this).on("dblclick.zoom");ye&&ye.apply(this,arguments)}}}return _.wheelDelta=function(Ae){return arguments.length?(o=typeof Ae=="function"?Ae:constant(+Ae),_):o},_.filter=function(Ae){return arguments.length?(e=typeof Ae=="function"?Ae:constant(!!Ae),_):e},_.touchable=function(Ae){return arguments.length?(l=typeof Ae=="function"?Ae:constant(!!Ae),_):l},_.extent=function(Ae){return arguments.length?(t=typeof Ae=="function"?Ae:constant([[+Ae[0][0],+Ae[0][1]],[+Ae[1][0],+Ae[1][1]]]),_):t},_.scaleExtent=function(Ae){return arguments.length?(u[0]=+Ae[0],u[1]=+Ae[1],_):[u[0],u[1]]},_.translateExtent=function(Ae){return arguments.length?(d[0][0]=+Ae[0][0],d[1][0]=+Ae[1][0],d[0][1]=+Ae[0][1],d[1][1]=+Ae[1][1],_):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},_.constrain=function(Ae){return arguments.length?(n=Ae,_):n},_.duration=function(Ae){return arguments.length?(A=+Ae,_):A},_.interpolate=function(Ae){return arguments.length?(m=Ae,_):m},_.on=function(){var Ae=f.on.apply(f,arguments);return Ae===f?_:Ae},_.clickDistance=function(Ae){return arguments.length?(E=(Ae=+Ae)*Ae,_):Math.sqrt(E)},_.tapDistance=function(Ae){return arguments.length?(R=+Ae,_):R},_}const errorMessages={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:o}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},infiniteExtent=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],elementSelectionKeys=["Enter"," ","Escape"],defaultAriaLabelConfig={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ConnectionMode;(function(e){e.Strict="strict",e.Loose="loose"})(ConnectionMode||(ConnectionMode={}));var PanOnScrollMode;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(PanOnScrollMode||(PanOnScrollMode={}));var SelectionMode;(function(e){e.Partial="partial",e.Full="full"})(SelectionMode||(SelectionMode={}));const initialConnection={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ConnectionLineType;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ConnectionLineType||(ConnectionLineType={}));var MarkerType;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(MarkerType||(MarkerType={}));var Position;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Position||(Position={}));const oppositePosition={[Position.Left]:Position.Right,[Position.Right]:Position.Left,[Position.Top]:Position.Bottom,[Position.Bottom]:Position.Top};function getConnectionStatus(e){return e===null?null:e?"valid":"invalid"}const isEdgeBase=e=>"id"in e&&"source"in e&&"target"in e,isNodeBase=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),isInternalNodeBase=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),getNodePositionWithOrigin=(e,t=[0,0])=>{const{width:n,height:o}=getNodeDimensions(e),l=e.origin??t,u=n*l[0],d=o*l[1];return{x:e.position.x-u,y:e.position.y-d}},getNodesBounds=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,l)=>{const u=typeof l=="string";let d=!t.nodeLookup&&!u?l:void 0;t.nodeLookup&&(d=u?t.nodeLookup.get(l):isInternalNodeBase(l)?l:t.nodeLookup.get(l.id));const A=d?nodeToBox(d,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return getBoundsOfBoxes(o,A)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return boxToRect(n)},getInternalNodesBounds=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(l=>{(t.filter===void 0||t.filter(l))&&(n=getBoundsOfBoxes(n,nodeToBox(l)),o=!0)}),o?boxToRect(n):{x:0,y:0,width:0,height:0}},getNodesInside=(e,t,[n,o,l]=[0,0,1],u=!1,d=!1)=>{const A={...pointToRendererPoint(t,[n,o,l]),width:t.width/l,height:t.height/l},m=[];for(const f of e.values()){const{measured:g,selectable:v=!0,hidden:b=!1}=f;if(d&&!v||b)continue;const w=g.width??f.width??f.initialWidth??null,j=g.height??f.height??f.initialHeight??null,E=getOverlappingArea(A,nodeToRect(f)),R=(w??0)*(j??0),_=u&&E>0;(!f.internals.handleBounds||_||E>=R||f.dragging)&&m.push(f)}return m},getConnectedEdges=(e,t)=>{const n=new Set;return e.forEach(o=>{n.add(o.id)}),t.filter(o=>n.has(o.source)||n.has(o.target))};function getFitViewNodes(e,t){const n=new Map,o=t?.nodes?new Set(t.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(t?.includeHiddenNodes||!l.hidden)&&(!o||o.has(l.id))&&n.set(l.id,l)}),n}async function fitViewport({nodes:e,width:t,height:n,panZoom:o,minZoom:l,maxZoom:u},d){if(e.size===0)return Promise.resolve(!0);const A=getFitViewNodes(e,d),m=getInternalNodesBounds(A),f=getViewportForBounds(m,t,n,d?.minZoom??l,d?.maxZoom??u,d?.padding??.1);return await o.setViewport(f,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function calculateNodePosition({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:l,onError:u}){const d=n.get(e),A=d.parentId?n.get(d.parentId):void 0,{x:m,y:f}=A?A.internals.positionAbsolute:{x:0,y:0},g=d.origin??o;let v=d.extent||l;if(d.extent==="parent"&&!d.expandParent)if(!A)u?.("005",errorMessages.error005());else{const w=A.measured.width,j=A.measured.height;w&&j&&(v=[[m,f],[m+w,f+j]])}else A&&isCoordinateExtent(d.extent)&&(v=[[d.extent[0][0]+m,d.extent[0][1]+f],[d.extent[1][0]+m,d.extent[1][1]+f]]);const b=isCoordinateExtent(v)?clampPosition(t,v,d.measured):t;return(d.measured.width===void 0||d.measured.height===void 0)&&u?.("015",errorMessages.error015()),{position:{x:b.x-m+(d.measured.width??0)*g[0],y:b.y-f+(d.measured.height??0)*g[1]},positionAbsolute:b}}async function getElementsToRemove({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:l}){const u=new Set(e.map(b=>b.id)),d=[];for(const b of n){if(b.deletable===!1)continue;const w=u.has(b.id),j=!w&&b.parentId&&d.find(E=>E.id===b.parentId);(w||j)&&d.push(b)}const A=new Set(t.map(b=>b.id)),m=o.filter(b=>b.deletable!==!1),g=getConnectedEdges(d,m);for(const b of m)A.has(b.id)&&!g.find(j=>j.id===b.id)&&g.push(b);if(!l)return{edges:g,nodes:d};const v=await l({nodes:d,edges:g});return typeof v=="boolean"?v?{edges:g,nodes:d}:{edges:[],nodes:[]}:v}const clamp=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),clampPosition=(e={x:0,y:0},t,n)=>({x:clamp(e.x,t[0][0],t[1][0]-(n?.width??0)),y:clamp(e.y,t[0][1],t[1][1]-(n?.height??0))});function clampPositionToParent(e,t,n){const{width:o,height:l}=getNodeDimensions(n),{x:u,y:d}=n.internals.positionAbsolute;return clampPosition(e,[[u,d],[u+o,d+l]],t)}const calcAutoPanVelocity=(e,t,n)=>e<t?clamp(Math.abs(e-t),1,t)/t:e>n?-clamp(Math.abs(e-n),1,t)/t:0,calcAutoPan=(e,t,n=15,o=40)=>{const l=calcAutoPanVelocity(e.x,o,t.width-o)*n,u=calcAutoPanVelocity(e.y,o,t.height-o)*n;return[l,u]},getBoundsOfBoxes=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),rectToBox=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),boxToRect=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),nodeToRect=(e,t=[0,0])=>{const{x:n,y:o}=isInternalNodeBase(e)?e.internals.positionAbsolute:getNodePositionWithOrigin(e,t);return{x:n,y:o,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},nodeToBox=(e,t=[0,0])=>{const{x:n,y:o}=isInternalNodeBase(e)?e.internals.positionAbsolute:getNodePositionWithOrigin(e,t);return{x:n,y:o,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:o+(e.measured?.height??e.height??e.initialHeight??0)}},getBoundsOfRects=(e,t)=>boxToRect(getBoundsOfBoxes(rectToBox(e),rectToBox(t))),getOverlappingArea=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},isRectObject=e=>isNumeric(e.width)&&isNumeric(e.height)&&isNumeric(e.x)&&isNumeric(e.y),isNumeric=e=>!isNaN(e)&&isFinite(e),devWarn=(e,t)=>{},snapPosition=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),pointToRendererPoint=({x:e,y:t},[n,o,l],u=!1,d=[1,1])=>{const A={x:(e-n)/l,y:(t-o)/l};return u?snapPosition(A,d):A},rendererPointToPoint=({x:e,y:t},[n,o,l])=>({x:e*l+n,y:t*l+o});function parsePadding(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function parsePaddings(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=parsePadding(e,n),l=parsePadding(e,t);return{top:o,right:l,bottom:o,left:l,x:l*2,y:o*2}}if(typeof e=="object"){const o=parsePadding(e.top??e.y??0,n),l=parsePadding(e.bottom??e.y??0,n),u=parsePadding(e.left??e.x??0,t),d=parsePadding(e.right??e.x??0,t);return{top:o,right:d,bottom:l,left:u,x:u+d,y:o+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function calculateAppliedPaddings(e,t,n,o,l,u){const{x:d,y:A}=rendererPointToPoint(e,[t,n,o]),{x:m,y:f}=rendererPointToPoint({x:e.x+e.width,y:e.y+e.height},[t,n,o]),g=l-m,v=u-f;return{left:Math.floor(d),top:Math.floor(A),right:Math.floor(g),bottom:Math.floor(v)}}const getViewportForBounds=(e,t,n,o,l,u)=>{const d=parsePaddings(u,t,n),A=(t-d.x)/e.width,m=(n-d.y)/e.height,f=Math.min(A,m),g=clamp(f,o,l),v=e.x+e.width/2,b=e.y+e.height/2,w=t/2-v*g,j=n/2-b*g,E=calculateAppliedPaddings(e,w,j,g,t,n),R={left:Math.min(E.left-d.left,0),top:Math.min(E.top-d.top,0),right:Math.min(E.right-d.right,0),bottom:Math.min(E.bottom-d.bottom,0)};return{x:w-R.left+R.right,y:j-R.top+R.bottom,zoom:g}},isMacOs=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function isCoordinateExtent(e){return e!=null&&e!=="parent"}function getNodeDimensions(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function nodeHasDimensions(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function evaluateAbsolutePosition(e,t={width:0,height:0},n,o,l){const u={...e},d=o.get(n);if(d){const A=d.origin||l;u.x+=d.internals.positionAbsolute.x-(t.width??0)*A[0],u.y+=d.internals.positionAbsolute.y-(t.height??0)*A[1]}return u}function areSetsEqual(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function withResolvers(){let e,t;return{promise:new Promise((o,l)=>{e=o,t=l}),resolve:e,reject:t}}function mergeAriaLabelConfig(e){return{...defaultAriaLabelConfig,...e||{}}}function getPointerPosition(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:l}){const{x:u,y:d}=getEventPosition(e),A=pointToRendererPoint({x:u-(l?.left??0),y:d-(l?.top??0)},o),{x:m,y:f}=n?snapPosition(A,t):A;return{xSnapped:m,ySnapped:f,...A}}const getDimensions=e=>({width:e.offsetWidth,height:e.offsetHeight}),getHostForElement=e=>e?.getRootNode?.()||window?.document,inputTags=["INPUT","SELECT","TEXTAREA"];function isInputDOMNode(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:inputTags.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const isMouseEvent=e=>"clientX"in e,getEventPosition=(e,t)=>{const n=isMouseEvent(e),o=n?e.clientX:e.touches?.[0].clientX,l=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:l-(t?.top??0)}},getHandleBounds=(e,t,n,o,l)=>{const u=t.querySelectorAll(`.${e}`);return!u||!u.length?null:Array.from(u).map(d=>{const A=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:e,nodeId:l,position:d.getAttribute("data-handlepos"),x:(A.left-n.left)/o,y:(A.top-n.top)/o,...getDimensions(d)}})};function getBezierEdgeCenter({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:A}){const m=e*.125+l*.375+d*.375+n*.125,f=t*.125+u*.375+A*.375+o*.125,g=Math.abs(m-e),v=Math.abs(f-t);return[m,f,g,v]}function calculateControlOffset(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function getControlWithCurvature({pos:e,x1:t,y1:n,x2:o,y2:l,c:u}){switch(e){case Position.Left:return[t-calculateControlOffset(t-o,u),n];case Position.Right:return[t+calculateControlOffset(o-t,u),n];case Position.Top:return[t,n-calculateControlOffset(n-l,u)];case Position.Bottom:return[t,n+calculateControlOffset(l-n,u)]}}function getBezierPath({sourceX:e,sourceY:t,sourcePosition:n=Position.Bottom,targetX:o,targetY:l,targetPosition:u=Position.Top,curvature:d=.25}){const[A,m]=getControlWithCurvature({pos:n,x1:e,y1:t,x2:o,y2:l,c:d}),[f,g]=getControlWithCurvature({pos:u,x1:o,y1:l,x2:e,y2:t,c:d}),[v,b,w,j]=getBezierEdgeCenter({sourceX:e,sourceY:t,targetX:o,targetY:l,sourceControlX:A,sourceControlY:m,targetControlX:f,targetControlY:g});return[`M${e},${t} C${A},${m} ${f},${g} ${o},${l}`,v,b,w,j]}function getEdgeCenter({sourceX:e,sourceY:t,targetX:n,targetY:o}){const l=Math.abs(n-e)/2,u=n<e?n+l:n-l,d=Math.abs(o-t)/2,A=o<t?o+d:o-d;return[u,A,l,d]}function getElevatedEdgeZIndex({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o=0,elevateOnSelect:l=!1,zIndexMode:u="basic"}){if(u==="manual")return o;const d=l&&n?o+1e3:o,A=Math.max(e.parentId||l&&e.selected?e.internals.z:0,t.parentId||l&&t.selected?t.internals.z:0);return d+A}function isEdgeVisible({sourceNode:e,targetNode:t,width:n,height:o,transform:l}){const u=getBoundsOfBoxes(nodeToBox(e),nodeToBox(t));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d={x:-l[0]/l[2],y:-l[1]/l[2],width:n/l[2],height:o/l[2]};return getOverlappingArea(d,boxToRect(u))>0}const getEdgeId=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`,connectionExists=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),addEdge=(e,t,n={})=>{if(!e.source||!e.target)return t;const o=n.getEdgeId||getEdgeId;let l;return isEdgeBase(e)?l={...e}:l={...e,id:o(e)},connectionExists(l,t)?t:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,t.concat(l))};function getStraightPath({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[l,u,d,A]=getEdgeCenter({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,l,u,d,A]}const handleDirections={[Position.Left]:{x:-1,y:0},[Position.Right]:{x:1,y:0},[Position.Top]:{x:0,y:-1},[Position.Bottom]:{x:0,y:1}},getDirection=({source:e,sourcePosition:t=Position.Bottom,target:n})=>t===Position.Left||t===Position.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},distance=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function getPoints({source:e,sourcePosition:t=Position.Bottom,target:n,targetPosition:o=Position.Top,center:l,offset:u,stepPosition:d}){const A=handleDirections[t],m=handleDirections[o],f={x:e.x+A.x*u,y:e.y+A.y*u},g={x:n.x+m.x*u,y:n.y+m.y*u},v=getDirection({source:f,sourcePosition:t,target:g}),b=v.x!==0?"x":"y",w=v[b];let j=[],E,R;const _={x:0,y:0},N={x:0,y:0},[,,B,M]=getEdgeCenter({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(A[b]*m[b]===-1){b==="x"?(E=l.x??f.x+(g.x-f.x)*d,R=l.y??(f.y+g.y)/2):(E=l.x??(f.x+g.x)/2,R=l.y??f.y+(g.y-f.y)*d);const F=[{x:E,y:f.y},{x:E,y:g.y}],$=[{x:f.x,y:R},{x:g.x,y:R}];A[b]===w?j=b==="x"?F:$:j=b==="x"?$:F}else{const F=[{x:f.x,y:g.y}],$=[{x:g.x,y:f.y}];if(b==="x"?j=A.x===w?$:F:j=A.y===w?F:$,t===o){const pe=Math.abs(e[b]-n[b]);if(pe<=u){const xe=Math.min(u-1,u-pe);A[b]===w?_[b]=(f[b]>e[b]?-1:1)*xe:N[b]=(g[b]>n[b]?-1:1)*xe}}if(t!==o){const pe=b==="x"?"y":"x",xe=A[b]===m[pe],Ae=f[pe]>g[pe],ue=f[pe]<g[pe];(A[b]===1&&(!xe&&Ae||xe&&ue)||A[b]!==1&&(!xe&&ue||xe&&Ae))&&(j=b==="x"?F:$)}const z={x:f.x+_.x,y:f.y+_.y},se={x:g.x+N.x,y:g.y+N.y},ce=Math.max(Math.abs(z.x-j[0].x),Math.abs(se.x-j[0].x)),ie=Math.max(Math.abs(z.y-j[0].y),Math.abs(se.y-j[0].y));ce>=ie?(E=(z.x+se.x)/2,R=j[0].y):(E=j[0].x,R=(z.y+se.y)/2)}return[[e,{x:f.x+_.x,y:f.y+_.y},...j,{x:g.x+N.x,y:g.y+N.y},n],E,R,B,M]}function getBend(e,t,n,o){const l=Math.min(distance(e,t)/2,distance(t,n)/2,o),{x:u,y:d}=t;if(e.x===u&&u===n.x||e.y===d&&d===n.y)return`L${u} ${d}`;if(e.y===d){const f=e.x<n.x?-1:1,g=e.y<n.y?1:-1;return`L ${u+l*f},${d}Q ${u},${d} ${u},${d+l*g}`}const A=e.x<n.x?1:-1,m=e.y<n.y?-1:1;return`L ${u},${d+l*m}Q ${u},${d} ${u+l*A},${d}`}function getSmoothStepPath({sourceX:e,sourceY:t,sourcePosition:n=Position.Bottom,targetX:o,targetY:l,targetPosition:u=Position.Top,borderRadius:d=5,centerX:A,centerY:m,offset:f=20,stepPosition:g=.5}){const[v,b,w,j,E]=getPoints({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:l},targetPosition:u,center:{x:A,y:m},offset:f,stepPosition:g});return[v.reduce((_,N,B)=>{let M="";return B>0&&B<v.length-1?M=getBend(v[B-1],N,v[B+1],d):M=`${B===0?"M":"L"}${N.x} ${N.y}`,_+=M,_},""),b,w,j,E]}function isNodeInitialized(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function getEdgePosition(e){const{sourceNode:t,targetNode:n}=e;if(!isNodeInitialized(t)||!isNodeInitialized(n))return null;const o=t.internals.handleBounds||toHandleBounds(t.handles),l=n.internals.handleBounds||toHandleBounds(n.handles),u=getHandle$1(o?.source??[],e.sourceHandle),d=getHandle$1(e.connectionMode===ConnectionMode.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!u||!d)return e.onError?.("008",errorMessages.error008(u?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const A=u?.position||Position.Bottom,m=d?.position||Position.Top,f=getHandlePosition(t,u,A),g=getHandlePosition(n,d,m);return{sourceX:f.x,sourceY:f.y,targetX:g.x,targetY:g.y,sourcePosition:A,targetPosition:m}}function toHandleBounds(e){if(!e)return null;const t=[],n=[];for(const o of e)o.width=o.width??1,o.height=o.height??1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function getHandlePosition(e,t,n=Position.Left,o=!1){const l=(t?.x??0)+e.internals.positionAbsolute.x,u=(t?.y??0)+e.internals.positionAbsolute.y,{width:d,height:A}=t??getNodeDimensions(e);if(o)return{x:l+d/2,y:u+A/2};switch(t?.position??n){case Position.Top:return{x:l+d/2,y:u};case Position.Right:return{x:l+d,y:u+A/2};case Position.Bottom:return{x:l+d/2,y:u+A};case Position.Left:return{x:l,y:u+A/2}}}function getHandle$1(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function getMarkerId(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`:""}function createMarkerIds(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:l}){const u=new Set;return e.reduce((d,A)=>([A.markerStart||o,A.markerEnd||l].forEach(m=>{if(m&&typeof m=="object"){const f=getMarkerId(m,t);u.has(f)||(d.push({id:f,color:m.color||n,...m}),u.add(f))}}),d),[]).sort((d,A)=>d.id.localeCompare(A.id))}const SELECTED_NODE_Z=1e3,ROOT_PARENT_Z_INCREMENT=10,defaultOptions={nodeOrigin:[0,0],nodeExtent:infiniteExtent,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},adoptUserNodesDefaultOptions={...defaultOptions,checkEquality:!0};function mergeObjects(e,t){const n={...e};for(const o in t)t[o]!==void 0&&(n[o]=t[o]);return n}function updateAbsolutePositions(e,t,n){const o=mergeObjects(defaultOptions,n);for(const l of e.values())if(l.parentId)updateChildNode(l,e,t,o);else{const u=getNodePositionWithOrigin(l,o.nodeOrigin),d=isCoordinateExtent(l.extent)?l.extent:o.nodeExtent,A=clampPosition(u,d,getNodeDimensions(l));l.internals.positionAbsolute=A}}function parseHandles(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],o=[];for(const l of e.handles){const u={id:l.id,width:l.width??1,height:l.height??1,nodeId:e.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?n.push(u):l.type==="target"&&o.push(u)}return{source:n,target:o}}function isManualZIndexMode(e){return e==="manual"}function adoptUserNodes(e,t,n,o={}){const l=mergeObjects(adoptUserNodesDefaultOptions,o),u={i:0},d=new Map(t),A=l?.elevateNodesOnSelect&&!isManualZIndexMode(l.zIndexMode)?SELECTED_NODE_Z:0;let m=e.length>0;t.clear(),n.clear();for(const f of e){let g=d.get(f.id);if(l.checkEquality&&f===g?.internals.userNode)t.set(f.id,g);else{const v=getNodePositionWithOrigin(f,l.nodeOrigin),b=isCoordinateExtent(f.extent)?f.extent:l.nodeExtent,w=clampPosition(v,b,getNodeDimensions(f));g={...l.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:w,handleBounds:parseHandles(f,g),z:calculateZ(f,A,l.zIndexMode),userNode:f}},t.set(f.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(m=!1),f.parentId&&updateChildNode(g,t,n,o,u)}return m}function updateParentLookup(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function updateChildNode(e,t,n,o,l){const{elevateNodesOnSelect:u,nodeOrigin:d,nodeExtent:A,zIndexMode:m}=mergeObjects(defaultOptions,o),f=e.parentId,g=t.get(f);if(!g){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}updateParentLookup(e,n),l&&!g.parentId&&g.internals.rootParentIndex===void 0&&m==="auto"&&(g.internals.rootParentIndex=++l.i,g.internals.z=g.internals.z+l.i*ROOT_PARENT_Z_INCREMENT),l&&g.internals.rootParentIndex!==void 0&&(l.i=g.internals.rootParentIndex);const v=u&&!isManualZIndexMode(m)?SELECTED_NODE_Z:0,{x:b,y:w,z:j}=calculateChildXYZ(e,g,d,A,v,m),{positionAbsolute:E}=e.internals,R=b!==E.x||w!==E.y;(R||j!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:R?{x:b,y:w}:E,z:j}})}function calculateZ(e,t,n){const o=isNumeric(e.zIndex)?e.zIndex:0;return isManualZIndexMode(n)?o:o+(e.selected?t:0)}function calculateChildXYZ(e,t,n,o,l,u){const{x:d,y:A}=t.internals.positionAbsolute,m=getNodeDimensions(e),f=getNodePositionWithOrigin(e,n),g=isCoordinateExtent(e.extent)?clampPosition(f,e.extent,m):f;let v=clampPosition({x:d+g.x,y:A+g.y},o,m);e.extent==="parent"&&(v=clampPositionToParent(v,m,t));const b=calculateZ(e,l,u),w=t.internals.z??0;return{x:v.x,y:v.y,z:w>=b?w+1:b}}function handleExpandParent(e,t,n,o=[0,0]){const l=[],u=new Map;for(const d of e){const A=t.get(d.parentId);if(!A)continue;const m=u.get(d.parentId)?.expandedRect??nodeToRect(A),f=getBoundsOfRects(m,d.rect);u.set(d.parentId,{expandedRect:f,parent:A})}return u.size>0&&u.forEach(({expandedRect:d,parent:A},m)=>{const f=A.internals.positionAbsolute,g=getNodeDimensions(A),v=A.origin??o,b=d.x<f.x?Math.round(Math.abs(f.x-d.x)):0,w=d.y<f.y?Math.round(Math.abs(f.y-d.y)):0,j=Math.max(g.width,Math.round(d.width)),E=Math.max(g.height,Math.round(d.height)),R=(j-g.width)*v[0],_=(E-g.height)*v[1];(b>0||w>0||R||_)&&(l.push({id:m,type:"position",position:{x:A.position.x-b+R,y:A.position.y-w+_}}),n.get(m)?.forEach(N=>{e.some(B=>B.id===N.id)||l.push({id:N.id,type:"position",position:{x:N.position.x+b,y:N.position.y+w}})})),(g.width<d.width||g.height<d.height||b||w)&&l.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:j+(b?v[0]*b-R:0),height:E+(w?v[1]*w-_:0)}})}),l}function updateNodeInternals(e,t,n,o,l,u,d){const A=o?.querySelector(".xyflow__viewport");let m=!1;if(!A)return{changes:[],updatedInternals:m};const f=[],g=window.getComputedStyle(A),{m22:v}=new window.DOMMatrixReadOnly(g.transform),b=[];for(const w of e.values()){const j=t.get(w.id);if(!j)continue;if(j.hidden){t.set(j.id,{...j,internals:{...j.internals,handleBounds:void 0}}),m=!0;continue}const E=getDimensions(w.nodeElement),R=j.measured.width!==E.width||j.measured.height!==E.height;if(!!(E.width&&E.height&&(R||!j.internals.handleBounds||w.force))){const N=w.nodeElement.getBoundingClientRect(),B=isCoordinateExtent(j.extent)?j.extent:u;let{positionAbsolute:M}=j.internals;j.parentId&&j.extent==="parent"?M=clampPositionToParent(M,E,t.get(j.parentId)):B&&(M=clampPosition(M,B,E));const O={...j,measured:E,internals:{...j.internals,positionAbsolute:M,handleBounds:{source:getHandleBounds("source",w.nodeElement,N,v,j.id),target:getHandleBounds("target",w.nodeElement,N,v,j.id)}}};t.set(j.id,O),j.parentId&&updateChildNode(O,t,n,{nodeOrigin:l,zIndexMode:d}),m=!0,R&&(f.push({id:j.id,type:"dimensions",dimensions:E}),j.expandParent&&j.parentId&&b.push({id:j.id,parentId:j.parentId,rect:nodeToRect(O,l)}))}}if(b.length>0){const w=handleExpandParent(b,t,n,l);f.push(...w)}return{changes:f,updatedInternals:m}}async function panBy({delta:e,panZoom:t,transform:n,translateExtent:o,width:l,height:u}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const d=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[l,u]],o),A=!!d&&(d.x!==n[0]||d.y!==n[1]||d.k!==n[2]);return Promise.resolve(A)}function addConnectionToLookup(e,t,n,o,l,u){let d=l;const A=o.get(d)||new Map;o.set(d,A.set(n,t)),d=`${l}-${e}`;const m=o.get(d)||new Map;if(o.set(d,m.set(n,t)),u){d=`${l}-${e}-${u}`;const f=o.get(d)||new Map;o.set(d,f.set(n,t))}}function updateConnectionLookup(e,t,n){e.clear(),t.clear();for(const o of n){const{source:l,target:u,sourceHandle:d=null,targetHandle:A=null}=o,m={edgeId:o.id,source:l,target:u,sourceHandle:d,targetHandle:A},f=`${l}-${d}--${u}-${A}`,g=`${u}-${A}--${l}-${d}`;addConnectionToLookup("source",m,g,e,l,d),addConnectionToLookup("target",m,f,e,u,A),t.set(o.id,o)}}function isParentSelected(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:isParentSelected(n,t):!1}function hasSelector(e,t,n){let o=e;do{if(o?.matches?.(t))return!0;if(o===n)return!1;o=o?.parentElement}while(o);return!1}function getDragItems(e,t,n,o){const l=new Map;for(const[u,d]of e)if((d.selected||d.id===o)&&(!d.parentId||!isParentSelected(d,e))&&(d.draggable||t&&typeof d.draggable>"u")){const A=e.get(u);A&&l.set(u,{id:u,position:A.position||{x:0,y:0},distance:{x:n.x-A.internals.positionAbsolute.x,y:n.y-A.internals.positionAbsolute.y},extent:A.extent,parentId:A.parentId,origin:A.origin,expandParent:A.expandParent,internals:{positionAbsolute:A.internals.positionAbsolute||{x:0,y:0}},measured:{width:A.measured.width??0,height:A.measured.height??0}})}return l}function getEventHandlerParams({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){const l=[];for(const[d,A]of t){const m=n.get(d)?.internals.userNode;m&&l.push({...m,position:A.position,dragging:o})}if(!e)return[l[0],l];const u=n.get(e)?.internals.userNode;return[u?{...u,position:t.get(e)?.position||u.position,dragging:o}:l[0],l]}function calculateSnapOffset({dragItems:e,snapGrid:t,x:n,y:o}){const l=e.values().next().value;if(!l)return null;const u={x:n-l.distance.x,y:o-l.distance.y},d=snapPosition(u,t);return{x:d.x-u.x,y:d.y-u.y}}function XYDrag({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:l}){let u={x:null,y:null},d=0,A=new Map,m=!1,f={x:0,y:0},g=null,v=!1,b=null,w=!1,j=!1,E=null;function R({noDragClassName:N,handleSelector:B,domNode:M,isSelectable:O,nodeId:F,nodeClickDistance:$=0}){b=select(M);function z({x:pe,y:xe}){const{nodeLookup:Ae,nodeExtent:ue,snapGrid:Y,snapToGrid:fe,nodeOrigin:H,onNodeDrag:le,onSelectionDrag:de,onError:ye,updateNodePositions:ge}=t();u={x:pe,y:xe};let je=!1;const Me=A.size>1,He=Me&&ue?rectToBox(getInternalNodesBounds(A)):null,Qe=Me&&fe?calculateSnapOffset({dragItems:A,snapGrid:Y,x:pe,y:xe}):null;for(const[ze,Ve]of A){if(!Ae.has(ze))continue;let tt={x:pe-Ve.distance.x,y:xe-Ve.distance.y};fe&&(tt=Qe?{x:Math.round(tt.x+Qe.x),y:Math.round(tt.y+Qe.y)}:snapPosition(tt,Y));let nt=null;if(Me&&ue&&!Ve.extent&&He){const{positionAbsolute:mt}=Ve.internals,St=mt.x-He.x+ue[0][0],or=mt.x+Ve.measured.width-He.x2+ue[1][0],Zt=mt.y-He.y+ue[0][1],Bt=mt.y+Ve.measured.height-He.y2+ue[1][1];nt=[[St,Zt],[or,Bt]]}const{position:Ye,positionAbsolute:ut}=calculateNodePosition({nodeId:ze,nextPosition:tt,nodeLookup:Ae,nodeExtent:nt||ue,nodeOrigin:H,onError:ye});je=je||Ve.position.x!==Ye.x||Ve.position.y!==Ye.y,Ve.position=Ye,Ve.internals.positionAbsolute=ut}if(j=j||je,!!je&&(ge(A,!0),E&&(o||le||!F&&de))){const[ze,Ve]=getEventHandlerParams({nodeId:F,dragItems:A,nodeLookup:Ae});o?.(E,A,ze,Ve),le?.(E,ze,Ve),F||de?.(E,Ve)}}async function se(){if(!g)return;const{transform:pe,panBy:xe,autoPanSpeed:Ae,autoPanOnNodeDrag:ue}=t();if(!ue){m=!1,cancelAnimationFrame(d);return}const[Y,fe]=calcAutoPan(f,g,Ae);(Y!==0||fe!==0)&&(u.x=(u.x??0)-Y/pe[2],u.y=(u.y??0)-fe/pe[2],await xe({x:Y,y:fe})&&z(u)),d=requestAnimationFrame(se)}function ce(pe){const{nodeLookup:xe,multiSelectionActive:Ae,nodesDraggable:ue,transform:Y,snapGrid:fe,snapToGrid:H,selectNodesOnDrag:le,onNodeDragStart:de,onSelectionDragStart:ye,unselectNodesAndEdges:ge}=t();v=!0,(!le||!O)&&!Ae&&F&&(xe.get(F)?.selected||ge()),O&&le&&F&&e?.(F);const je=getPointerPosition(pe.sourceEvent,{transform:Y,snapGrid:fe,snapToGrid:H,containerBounds:g});if(u=je,A=getDragItems(xe,ue,je,F),A.size>0&&(n||de||!F&&ye)){const[Me,He]=getEventHandlerParams({nodeId:F,dragItems:A,nodeLookup:xe});n?.(pe.sourceEvent,A,Me,He),de?.(pe.sourceEvent,Me,He),F||ye?.(pe.sourceEvent,He)}}const ie=drag().clickDistance($).on("start",pe=>{const{domNode:xe,nodeDragThreshold:Ae,transform:ue,snapGrid:Y,snapToGrid:fe}=t();g=xe?.getBoundingClientRect()||null,w=!1,j=!1,E=pe.sourceEvent,Ae===0&&ce(pe),u=getPointerPosition(pe.sourceEvent,{transform:ue,snapGrid:Y,snapToGrid:fe,containerBounds:g}),f=getEventPosition(pe.sourceEvent,g)}).on("drag",pe=>{const{autoPanOnNodeDrag:xe,transform:Ae,snapGrid:ue,snapToGrid:Y,nodeDragThreshold:fe,nodeLookup:H}=t(),le=getPointerPosition(pe.sourceEvent,{transform:Ae,snapGrid:ue,snapToGrid:Y,containerBounds:g});if(E=pe.sourceEvent,(pe.sourceEvent.type==="touchmove"&&pe.sourceEvent.touches.length>1||F&&!H.has(F))&&(w=!0),!w){if(!m&&xe&&v&&(m=!0,se()),!v){const de=getEventPosition(pe.sourceEvent,g),ye=de.x-f.x,ge=de.y-f.y;Math.sqrt(ye*ye+ge*ge)>fe&&ce(pe)}(u.x!==le.xSnapped||u.y!==le.ySnapped)&&A&&v&&(f=getEventPosition(pe.sourceEvent,g),z(le))}}).on("end",pe=>{if(!(!v||w)&&(m=!1,v=!1,cancelAnimationFrame(d),A.size>0)){const{nodeLookup:xe,updateNodePositions:Ae,onNodeDragStop:ue,onSelectionDragStop:Y}=t();if(j&&(Ae(A,!1),j=!1),l||ue||!F&&Y){const[fe,H]=getEventHandlerParams({nodeId:F,dragItems:A,nodeLookup:xe,dragging:!1});l?.(pe.sourceEvent,A,fe,H),ue?.(pe.sourceEvent,fe,H),F||Y?.(pe.sourceEvent,H)}}}).filter(pe=>{const xe=pe.target;return!pe.button&&(!N||!hasSelector(xe,`.${N}`,M))&&(!B||hasSelector(xe,B,M))});b.call(ie)}function _(){b?.on(".drag",null)}return{update:R,destroy:_}}function getNodesWithinDistance(e,t,n){const o=[],l={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const u of t.values())getOverlappingArea(l,nodeToRect(u))>0&&o.push(u);return o}const ADDITIONAL_DISTANCE=250;function getClosestHandle(e,t,n,o){let l=[],u=1/0;const d=getNodesWithinDistance(e,n,t+ADDITIONAL_DISTANCE);for(const A of d){const m=[...A.internals.handleBounds?.source??[],...A.internals.handleBounds?.target??[]];for(const f of m){if(o.nodeId===f.nodeId&&o.type===f.type&&o.id===f.id)continue;const{x:g,y:v}=getHandlePosition(A,f,f.position,!0),b=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(v-e.y,2));b>t||(b<u?(l=[{...f,x:g,y:v}],u=b):b===u&&l.push({...f,x:g,y:v}))}}if(!l.length)return null;if(l.length>1){const A=o.type==="source"?"target":"source";return l.find(m=>m.type===A)??l[0]}return l[0]}function getHandle(e,t,n,o,l,u=!1){const d=o.get(e);if(!d)return null;const A=l==="strict"?d.internals.handleBounds?.[t]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],m=(n?A?.find(f=>f.id===n):A?.[0])??null;return m&&u?{...m,...getHandlePosition(d,m,m.position,!0)}:m}function getHandleType(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function isConnectionValid(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const alwaysValid=()=>!0;function onPointerDown(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:l,edgeUpdaterType:u,isTarget:d,domNode:A,nodeLookup:m,lib:f,autoPanOnConnect:g,flowId:v,panBy:b,cancelConnection:w,onConnectStart:j,onConnect:E,onConnectEnd:R,isValidConnection:_=alwaysValid,onReconnectEnd:N,updateConnection:B,getTransform:M,getFromHandle:O,autoPanSpeed:F,dragThreshold:$=1,handleDomNode:z}){const se=getHostForElement(e.target);let ce=0,ie;const{x:pe,y:xe}=getEventPosition(e),Ae=getHandleType(u,z),ue=A?.getBoundingClientRect();let Y=!1;if(!ue||!Ae)return;const fe=getHandle(l,Ae,o,m,t);if(!fe)return;let H=getEventPosition(e,ue),le=!1,de=null,ye=!1,ge=null;function je(){if(!g||!ue)return;const[Ye,ut]=calcAutoPan(H,ue,F);b({x:Ye,y:ut}),ce=requestAnimationFrame(je)}const Me={...fe,nodeId:l,type:Ae,position:fe.position},He=m.get(l);let ze={inProgress:!0,isValid:null,from:getHandlePosition(He,Me,Position.Left,!0),fromHandle:Me,fromPosition:Me.position,fromNode:He,to:H,toHandle:null,toPosition:oppositePosition[Me.position],toNode:null,pointer:H};function Ve(){Y=!0,B(ze),j?.(e,{nodeId:l,handleId:o,handleType:Ae})}$===0&&Ve();function tt(Ye){if(!Y){const{x:Bt,y:ur}=getEventPosition(Ye),Nr=Bt-pe,Qr=ur-xe;if(!(Nr*Nr+Qr*Qr>$*$))return;Ve()}if(!O()||!Me){nt(Ye);return}const ut=M();H=getEventPosition(Ye,ue),ie=getClosestHandle(pointToRendererPoint(H,ut,!1,[1,1]),n,m,Me),le||(je(),le=!0);const mt=isValidHandle(Ye,{handle:ie,connectionMode:t,fromNodeId:l,fromHandleId:o,fromType:d?"target":"source",isValidConnection:_,doc:se,lib:f,flowId:v,nodeLookup:m});ge=mt.handleDomNode,de=mt.connection,ye=isConnectionValid(!!ie,mt.isValid);const St=m.get(l),or=St?getHandlePosition(St,Me,Position.Left,!0):ze.from,Zt={...ze,from:or,isValid:ye,to:mt.toHandle&&ye?rendererPointToPoint({x:mt.toHandle.x,y:mt.toHandle.y},ut):H,toHandle:mt.toHandle,toPosition:ye&&mt.toHandle?mt.toHandle.position:oppositePosition[Me.position],toNode:mt.toHandle?m.get(mt.toHandle.nodeId):null,pointer:H};B(Zt),ze=Zt}function nt(Ye){if(!("touches"in Ye&&Ye.touches.length>0)){if(Y){(ie||ge)&&de&&ye&&E?.(de);const{inProgress:ut,...mt}=ze,St={...mt,toPosition:ze.toHandle?ze.toPosition:null};R?.(Ye,St),u&&N?.(Ye,St)}w(),cancelAnimationFrame(ce),le=!1,ye=!1,de=null,ge=null,se.removeEventListener("mousemove",tt),se.removeEventListener("mouseup",nt),se.removeEventListener("touchmove",tt),se.removeEventListener("touchend",nt)}}se.addEventListener("mousemove",tt),se.addEventListener("mouseup",nt),se.addEventListener("touchmove",tt),se.addEventListener("touchend",nt)}function isValidHandle(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:l,fromType:u,doc:d,lib:A,flowId:m,isValidConnection:f=alwaysValid,nodeLookup:g}){const v=u==="target",b=t?d.querySelector(`.${A}-flow__handle[data-id="${m}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:w,y:j}=getEventPosition(e),E=d.elementFromPoint(w,j),R=E?.classList.contains(`${A}-flow__handle`)?E:b,_={handleDomNode:R,isValid:!1,connection:null,toHandle:null};if(R){const N=getHandleType(void 0,R),B=R.getAttribute("data-nodeid"),M=R.getAttribute("data-handleid"),O=R.classList.contains("connectable"),F=R.classList.contains("connectableend");if(!B||!N)return _;const $={source:v?B:o,sourceHandle:v?M:l,target:v?o:B,targetHandle:v?l:M};_.connection=$;const se=O&&F&&(n===ConnectionMode.Strict?v&&N==="source"||!v&&N==="target":B!==o||M!==l);_.isValid=se&&f($),_.toHandle=getHandle(B,N,M,g,n,!0)}return _}const XYHandle={onPointerDown,isValid:isValidHandle};function XYMinimap({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){const l=select(e);function u({translateExtent:A,width:m,height:f,zoomStep:g=1,pannable:v=!0,zoomable:b=!0,inversePan:w=!1}){const j=B=>{if(B.sourceEvent.type!=="wheel"||!t)return;const M=n(),O=B.sourceEvent.ctrlKey&&isMacOs()?10:1,F=-B.sourceEvent.deltaY*(B.sourceEvent.deltaMode===1?.05:B.sourceEvent.deltaMode?1:.002)*g,$=M[2]*Math.pow(2,F*O);t.scaleTo($)};let E=[0,0];const R=B=>{(B.sourceEvent.type==="mousedown"||B.sourceEvent.type==="touchstart")&&(E=[B.sourceEvent.clientX??B.sourceEvent.touches[0].clientX,B.sourceEvent.clientY??B.sourceEvent.touches[0].clientY])},_=B=>{const M=n();if(B.sourceEvent.type!=="mousemove"&&B.sourceEvent.type!=="touchmove"||!t)return;const O=[B.sourceEvent.clientX??B.sourceEvent.touches[0].clientX,B.sourceEvent.clientY??B.sourceEvent.touches[0].clientY],F=[O[0]-E[0],O[1]-E[1]];E=O;const $=o()*Math.max(M[2],Math.log(M[2]))*(w?-1:1),z={x:M[0]-F[0]*$,y:M[1]-F[1]*$},se=[[0,0],[m,f]];t.setViewportConstrained({x:z.x,y:z.y,zoom:M[2]},se,A)},N=zoom().on("start",R).on("zoom",v?_:null).on("zoom.wheel",b?j:null);l.call(N,{})}function d(){l.on("zoom",null)}return{update:u,destroy:d,pointer}}const transformToViewport=e=>({x:e.x,y:e.y,zoom:e.k}),viewportToTransform=({x:e,y:t,zoom:n})=>identity$1.translate(e,t).scale(n),isWrappedWithClass=(e,t)=>e.target.closest(`.${t}`),isRightClickPan=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),defaultEase=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,getD3Transition=(e,t=0,n=defaultEase,o=()=>{})=>{const l=typeof t=="number"&&t>0;return l||o(),l?e.transition().duration(t).ease(n).on("end",o):e},wheelDelta=e=>{const t=e.ctrlKey&&isMacOs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function createPanOnScrollHandler({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:d,onPanZoomStart:A,onPanZoom:m,onPanZoomEnd:f}){return g=>{if(isWrappedWithClass(g,t))return g.ctrlKey&&g.preventDefault(),!1;g.preventDefault(),g.stopImmediatePropagation();const v=n.property("__zoom").k||1;if(g.ctrlKey&&d){const R=pointer(g),_=wheelDelta(g),N=v*Math.pow(2,_);o.scaleTo(n,N,R,g);return}const b=g.deltaMode===1?20:1;let w=l===PanOnScrollMode.Vertical?0:g.deltaX*b,j=l===PanOnScrollMode.Horizontal?0:g.deltaY*b;!isMacOs()&&g.shiftKey&&l!==PanOnScrollMode.Vertical&&(w=g.deltaY*b,j=0),o.translateBy(n,-(w/v)*u,-(j/v)*u,{internal:!0});const E=transformToViewport(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(m?.(g,E),e.panScrollTimeout=setTimeout(()=>{f?.(g,E),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,A?.(g,E))}}function createZoomOnScrollHandler({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,l){const u=o.type==="wheel",d=!t&&u&&!o.ctrlKey,A=isWrappedWithClass(o,e);if(o.ctrlKey&&u&&A&&o.preventDefault(),d||A)return null;o.preventDefault(),n.call(this,o,l)}}function createPanZoomStartHandler({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{if(o.sourceEvent?.internal)return;const l=transformToViewport(o.transform);e.mouseButton=o.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,o.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(o.sourceEvent,l)}}function createPanZoomHandler({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:l}){return u=>{e.usedRightMouseButton=!!(n&&isRightClickPan(t,e.mouseButton??0)),u.sourceEvent?.sync||o([u.transform.x,u.transform.y,u.transform.k]),l&&!u.sourceEvent?.internal&&l?.(u.sourceEvent,transformToViewport(u.transform))}}function createPanZoomEndHandler({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:l,onPaneContextMenu:u}){return d=>{if(!d.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,u&&isRightClickPan(t,e.mouseButton??0)&&!e.usedRightMouseButton&&d.sourceEvent&&u(d.sourceEvent),e.usedRightMouseButton=!1,o(!1),l)){const A=transformToViewport(d.transform);e.prevViewport=A,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(d.sourceEvent,A)},n?150:0)}}}function createFilter({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:d,noWheelClassName:A,noPanClassName:m,lib:f,connectionInProgress:g}){return v=>{const b=e||t,w=n&&v.ctrlKey,j=v.type==="wheel";if(v.button===1&&v.type==="mousedown"&&(isWrappedWithClass(v,`${f}-flow__node`)||isWrappedWithClass(v,`${f}-flow__edge`)))return!0;if(!o&&!b&&!l&&!u&&!n||d||g&&!j||isWrappedWithClass(v,A)&&j||isWrappedWithClass(v,m)&&(!j||l&&j&&!e)||!n&&v.ctrlKey&&j)return!1;if(!n&&v.type==="touchstart"&&v.touches?.length>1)return v.preventDefault(),!1;if(!b&&!l&&!w&&j||!o&&(v.type==="mousedown"||v.type==="touchstart")||Array.isArray(o)&&!o.includes(v.button)&&v.type==="mousedown")return!1;const E=Array.isArray(o)&&o.includes(v.button)||!v.button||v.button<=1;return(!v.ctrlKey||j)&&E}}function XYPanZoom({domNode:e,minZoom:t,maxZoom:n,translateExtent:o,viewport:l,onPanZoom:u,onPanZoomStart:d,onPanZoomEnd:A,onDraggingChange:m}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=e.getBoundingClientRect(),v=zoom().scaleExtent([t,n]).translateExtent(o),b=select(e).call(v);N({x:l.x,y:l.y,zoom:clamp(l.zoom,t,n)},[[0,0],[g.width,g.height]],o);const w=b.on("wheel.zoom"),j=b.on("dblclick.zoom");v.wheelDelta(wheelDelta);function E(ie,pe){return b?new Promise(xe=>{v?.interpolate(pe?.interpolate==="linear"?interpolate$1:interpolateZoom).transform(getD3Transition(b,pe?.duration,pe?.ease,()=>xe(!0)),ie)}):Promise.resolve(!1)}function R({noWheelClassName:ie,noPanClassName:pe,onPaneContextMenu:xe,userSelectionActive:Ae,panOnScroll:ue,panOnDrag:Y,panOnScrollMode:fe,panOnScrollSpeed:H,preventScrolling:le,zoomOnPinch:de,zoomOnScroll:ye,zoomOnDoubleClick:ge,zoomActivationKeyPressed:je,lib:Me,onTransformChange:He,connectionInProgress:Qe,paneClickDistance:ze,selectionOnDrag:Ve}){Ae&&!f.isZoomingOrPanning&&_();const tt=ue&&!je&&!Ae;v.clickDistance(Ve?1/0:!isNumeric(ze)||ze<0?0:ze);const nt=tt?createPanOnScrollHandler({zoomPanValues:f,noWheelClassName:ie,d3Selection:b,d3Zoom:v,panOnScrollMode:fe,panOnScrollSpeed:H,zoomOnPinch:de,onPanZoomStart:d,onPanZoom:u,onPanZoomEnd:A}):createZoomOnScrollHandler({noWheelClassName:ie,preventScrolling:le,d3ZoomHandler:w});if(b.on("wheel.zoom",nt,{passive:!1}),!Ae){const ut=createPanZoomStartHandler({zoomPanValues:f,onDraggingChange:m,onPanZoomStart:d});v.on("start",ut);const mt=createPanZoomHandler({zoomPanValues:f,panOnDrag:Y,onPaneContextMenu:!!xe,onPanZoom:u,onTransformChange:He});v.on("zoom",mt);const St=createPanZoomEndHandler({zoomPanValues:f,panOnDrag:Y,panOnScroll:ue,onPaneContextMenu:xe,onPanZoomEnd:A,onDraggingChange:m});v.on("end",St)}const Ye=createFilter({zoomActivationKeyPressed:je,panOnDrag:Y,zoomOnScroll:ye,panOnScroll:ue,zoomOnDoubleClick:ge,zoomOnPinch:de,userSelectionActive:Ae,noPanClassName:pe,noWheelClassName:ie,lib:Me,connectionInProgress:Qe});v.filter(Ye),ge?b.on("dblclick.zoom",j):b.on("dblclick.zoom",null)}function _(){v.on("zoom",null)}async function N(ie,pe,xe){const Ae=viewportToTransform(ie),ue=v?.constrain()(Ae,pe,xe);return ue&&await E(ue),new Promise(Y=>Y(ue))}async function B(ie,pe){const xe=viewportToTransform(ie);return await E(xe,pe),new Promise(Ae=>Ae(xe))}function M(ie){if(b){const pe=viewportToTransform(ie),xe=b.property("__zoom");(xe.k!==ie.zoom||xe.x!==ie.x||xe.y!==ie.y)&&v?.transform(b,pe,null,{sync:!0})}}function O(){const ie=b?transform(b.node()):{x:0,y:0,k:1};return{x:ie.x,y:ie.y,zoom:ie.k}}function F(ie,pe){return b?new Promise(xe=>{v?.interpolate(pe?.interpolate==="linear"?interpolate$1:interpolateZoom).scaleTo(getD3Transition(b,pe?.duration,pe?.ease,()=>xe(!0)),ie)}):Promise.resolve(!1)}function $(ie,pe){return b?new Promise(xe=>{v?.interpolate(pe?.interpolate==="linear"?interpolate$1:interpolateZoom).scaleBy(getD3Transition(b,pe?.duration,pe?.ease,()=>xe(!0)),ie)}):Promise.resolve(!1)}function z(ie){v?.scaleExtent(ie)}function se(ie){v?.translateExtent(ie)}function ce(ie){const pe=!isNumeric(ie)||ie<0?0:ie;v?.clickDistance(pe)}return{update:R,destroy:_,setViewport:B,setViewportConstrained:N,getViewport:O,scaleTo:F,scaleBy:$,setScaleExtent:z,setTranslateExtent:se,syncViewport:M,setClickDistance:ce}}var ResizeControlVariant;(function(e){e.Line="line",e.Handle="handle"})(ResizeControlVariant||(ResizeControlVariant={}));function getResizeDirection({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:l,affectsY:u}){const d=e-t,A=n-o,m=[d>0?1:d<0?-1:0,A>0?1:A<0?-1:0];return d&&l&&(m[0]=m[0]*-1),A&&u&&(m[1]=m[1]*-1),m}function getControlDirection(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),o=e.includes("left"),l=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:o,affectsY:l}}function getLowerExtentClamp(e,t){return Math.max(0,t-e)}function getUpperExtentClamp(e,t){return Math.max(0,e-t)}function getSizeClamp(e,t,n){return Math.max(0,t-e,e-n)}function xor(e,t){return e?!t:t}function getDimensionsAfterResize(e,t,n,o,l,u,d,A){let{affectsX:m,affectsY:f}=t;const{isHorizontal:g,isVertical:v}=t,b=g&&v,{xSnapped:w,ySnapped:j}=n,{minWidth:E,maxWidth:R,minHeight:_,maxHeight:N}=o,{x:B,y:M,width:O,height:F,aspectRatio:$}=e;let z=Math.floor(g?w-e.pointerX:0),se=Math.floor(v?j-e.pointerY:0);const ce=O+(m?-z:z),ie=F+(f?-se:se),pe=-u[0]*O,xe=-u[1]*F;let Ae=getSizeClamp(ce,E,R),ue=getSizeClamp(ie,_,N);if(d){let H=0,le=0;m&&z<0?H=getLowerExtentClamp(B+z+pe,d[0][0]):!m&&z>0&&(H=getUpperExtentClamp(B+ce+pe,d[1][0])),f&&se<0?le=getLowerExtentClamp(M+se+xe,d[0][1]):!f&&se>0&&(le=getUpperExtentClamp(M+ie+xe,d[1][1])),Ae=Math.max(Ae,H),ue=Math.max(ue,le)}if(A){let H=0,le=0;m&&z>0?H=getUpperExtentClamp(B+z,A[0][0]):!m&&z<0&&(H=getLowerExtentClamp(B+ce,A[1][0])),f&&se>0?le=getUpperExtentClamp(M+se,A[0][1]):!f&&se<0&&(le=getLowerExtentClamp(M+ie,A[1][1])),Ae=Math.max(Ae,H),ue=Math.max(ue,le)}if(l){if(g){const H=getSizeClamp(ce/$,_,N)*$;if(Ae=Math.max(Ae,H),d){let le=0;!m&&!f||m&&!f&&b?le=getUpperExtentClamp(M+xe+ce/$,d[1][1])*$:le=getLowerExtentClamp(M+xe+(m?z:-z)/$,d[0][1])*$,Ae=Math.max(Ae,le)}if(A){let le=0;!m&&!f||m&&!f&&b?le=getLowerExtentClamp(M+ce/$,A[1][1])*$:le=getUpperExtentClamp(M+(m?z:-z)/$,A[0][1])*$,Ae=Math.max(Ae,le)}}if(v){const H=getSizeClamp(ie*$,E,R)/$;if(ue=Math.max(ue,H),d){let le=0;!m&&!f||f&&!m&&b?le=getUpperExtentClamp(B+ie*$+pe,d[1][0])/$:le=getLowerExtentClamp(B+(f?se:-se)*$+pe,d[0][0])/$,ue=Math.max(ue,le)}if(A){let le=0;!m&&!f||f&&!m&&b?le=getLowerExtentClamp(B+ie*$,A[1][0])/$:le=getUpperExtentClamp(B+(f?se:-se)*$,A[0][0])/$,ue=Math.max(ue,le)}}}se=se+(se<0?ue:-ue),z=z+(z<0?Ae:-Ae),l&&(b?ce>ie*$?se=(xor(m,f)?-z:z)/$:z=(xor(m,f)?-se:se)*$:g?(se=z/$,f=m):(z=se*$,m=f));const Y=m?B+z:B,fe=f?M+se:M;return{width:O+(m?-z:z),height:F+(f?-se:se),x:u[0]*z*(m?-1:1)+Y,y:u[1]*se*(f?-1:1)+fe}}const initPrevValues$1={width:0,height:0,x:0,y:0},initStartValues={...initPrevValues$1,pointerX:0,pointerY:0,aspectRatio:1};function nodeToParentExtent(e){return[[0,0],[e.measured.width,e.measured.height]]}function nodeToChildExtent(e,t,n){const o=t.position.x+e.position.x,l=t.position.y+e.position.y,u=e.measured.width??0,d=e.measured.height??0,A=n[0]*u,m=n[1]*d;return[[o-A,l-m],[o+u-A,l+d-m]]}function XYResizer({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:l}){const u=select(e);let d={controlDirection:getControlDirection("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function A({controlPosition:f,boundaries:g,keepAspectRatio:v,resizeDirection:b,onResizeStart:w,onResize:j,onResizeEnd:E,shouldResize:R}){let _={...initPrevValues$1},N={...initStartValues};d={boundaries:g,resizeDirection:b,keepAspectRatio:v,controlDirection:getControlDirection(f)};let B,M=null,O=[],F,$,z,se=!1;const ce=drag().on("start",ie=>{const{nodeLookup:pe,transform:xe,snapGrid:Ae,snapToGrid:ue,nodeOrigin:Y,paneDomNode:fe}=n();if(B=pe.get(t),!B)return;M=fe?.getBoundingClientRect()??null;const{xSnapped:H,ySnapped:le}=getPointerPosition(ie.sourceEvent,{transform:xe,snapGrid:Ae,snapToGrid:ue,containerBounds:M});_={width:B.measured.width??0,height:B.measured.height??0,x:B.position.x??0,y:B.position.y??0},N={..._,pointerX:H,pointerY:le,aspectRatio:_.width/_.height},F=void 0,B.parentId&&(B.extent==="parent"||B.expandParent)&&(F=pe.get(B.parentId),$=F&&B.extent==="parent"?nodeToParentExtent(F):void 0),O=[],z=void 0;for(const[de,ye]of pe)if(ye.parentId===t&&(O.push({id:de,position:{...ye.position},extent:ye.extent}),ye.extent==="parent"||ye.expandParent)){const ge=nodeToChildExtent(ye,B,ye.origin??Y);z?z=[[Math.min(ge[0][0],z[0][0]),Math.min(ge[0][1],z[0][1])],[Math.max(ge[1][0],z[1][0]),Math.max(ge[1][1],z[1][1])]]:z=ge}w?.(ie,{..._})}).on("drag",ie=>{const{transform:pe,snapGrid:xe,snapToGrid:Ae,nodeOrigin:ue}=n(),Y=getPointerPosition(ie.sourceEvent,{transform:pe,snapGrid:xe,snapToGrid:Ae,containerBounds:M}),fe=[];if(!B)return;const{x:H,y:le,width:de,height:ye}=_,ge={},je=B.origin??ue,{width:Me,height:He,x:Qe,y:ze}=getDimensionsAfterResize(N,d.controlDirection,Y,d.boundaries,d.keepAspectRatio,je,$,z),Ve=Me!==de,tt=He!==ye,nt=Qe!==H&&Ve,Ye=ze!==le&&tt;if(!nt&&!Ye&&!Ve&&!tt)return;if((nt||Ye||je[0]===1||je[1]===1)&&(ge.x=nt?Qe:_.x,ge.y=Ye?ze:_.y,_.x=ge.x,_.y=ge.y,O.length>0)){const or=Qe-H,Zt=ze-le;for(const Bt of O)Bt.position={x:Bt.position.x-or+je[0]*(Me-de),y:Bt.position.y-Zt+je[1]*(He-ye)},fe.push(Bt)}if((Ve||tt)&&(ge.width=Ve&&(!d.resizeDirection||d.resizeDirection==="horizontal")?Me:_.width,ge.height=tt&&(!d.resizeDirection||d.resizeDirection==="vertical")?He:_.height,_.width=ge.width,_.height=ge.height),F&&B.expandParent){const or=je[0]*(ge.width??0);ge.x&&ge.x<or&&(_.x=or,N.x=N.x-(ge.x-or));const Zt=je[1]*(ge.height??0);ge.y&&ge.y<Zt&&(_.y=Zt,N.y=N.y-(ge.y-Zt))}const ut=getResizeDirection({width:_.width,prevWidth:de,height:_.height,prevHeight:ye,affectsX:d.controlDirection.affectsX,affectsY:d.controlDirection.affectsY}),mt={..._,direction:ut};R?.(ie,mt)!==!1&&(se=!0,j?.(ie,mt),o(ge,fe))}).on("end",ie=>{se&&(E?.(ie,{..._}),l?.({..._}),se=!1)});u.call(ce)}function m(){u.on(".drag",null)}return{update:A,destroy:m}}var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var e=requireReact(),t=requireShim();function n(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var o=typeof Object.is=="function"?Object.is:n,l=t.useSyncExternalStore,u=e.useRef,d=e.useEffect,A=e.useMemo,m=e.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(f,g,v,b,w){var j=u(null);if(j.current===null){var E={hasValue:!1,value:null};j.current=E}else E=j.current;j=A(function(){function _(F){if(!N){if(N=!0,B=F,F=b(F),w!==void 0&&E.hasValue){var $=E.value;if(w($,F))return M=$}return M=F}if($=M,o(B,F))return $;var z=b(F);return w!==void 0&&w($,z)?(B=F,$):(B=F,M=z)}var N=!1,B,M,O=v===void 0?null:v;return[function(){return _(g())},O===null?void 0:function(){return _(O())}]},[g,v,b,w]);var R=l(f,j[0],j[1]);return d(function(){E.hasValue=!0,E.value=R},[R]),m(R),R},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__={},createStoreImpl=e=>{let t;const n=new Set,o=(g,v)=>{const b=typeof g=="function"?g(t):g;if(!Object.is(b,t)){const w=t;t=v??(typeof b!="object"||b===null)?b:Object.assign({},t,b),n.forEach(j=>j(t,w))}},l=()=>t,m={setState:o,getState:l,getInitialState:()=>f,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(o,l,m);return m},createStore$1=e=>e?createStoreImpl(e):createStoreImpl,{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports,identity=e=>e;function useStoreWithEqualityFn(e,t=identity,n){const o=useSyncExternalStoreWithSelector(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return useDebugValue(o),o}const createWithEqualityFnImpl=(e,t)=>{const n=createStore$1(e),o=(l,u=t)=>useStoreWithEqualityFn(n,l,u);return Object.assign(o,n),o},createWithEqualityFn=(e,t)=>e?createWithEqualityFnImpl(e,t):createWithEqualityFnImpl;function shallow$1(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,l]of e)if(!Object.is(l,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}const StoreContext=reactExports.createContext(null),Provider$1=StoreContext.Provider,zustandErrorMessage=errorMessages.error001();function useStore(e,t){const n=reactExports.useContext(StoreContext);if(n===null)throw new Error(zustandErrorMessage);return useStoreWithEqualityFn(n,e,t)}function useStoreApi(){const e=reactExports.useContext(StoreContext);if(e===null)throw new Error(zustandErrorMessage);return reactExports.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const style={display:"none"},ariaLiveStyle={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ARIA_NODE_DESC_KEY="react-flow__node-desc",ARIA_EDGE_DESC_KEY="react-flow__edge-desc",ARIA_LIVE_MESSAGE="react-flow__aria-live",ariaLiveSelector=e=>e.ariaLiveMessage,ariaLabelConfigSelector=e=>e.ariaLabelConfig;function AriaLiveMessage({rfId:e}){const t=useStore(ariaLiveSelector);return jsxRuntimeExports.jsx("div",{id:`${ARIA_LIVE_MESSAGE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:ariaLiveStyle,children:t})}function A11yDescriptions({rfId:e,disableKeyboardA11y:t}){const n=useStore(ariaLabelConfigSelector);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{id:`${ARIA_NODE_DESC_KEY}-${e}`,style,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),jsxRuntimeExports.jsx("div",{id:`${ARIA_EDGE_DESC_KEY}-${e}`,style,children:n["edge.a11yDescription.default"]}),!t&&jsxRuntimeExports.jsx(AriaLiveMessage,{rfId:e})]})}const Panel=reactExports.forwardRef(({position:e="top-left",children:t,className:n,style:o,...l},u)=>{const d=`${e}`.split("-");return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__panel",n,...d]),style:o,ref:u,...l,children:t})});Panel.displayName="Panel";function Attribution({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:jsxRuntimeExports.jsx(Panel,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:jsxRuntimeExports.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const selector$m=e=>{const t=[],n=[];for(const[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(const[,o]of e.edgeLookup)o.selected&&n.push(o);return{selectedNodes:t,selectedEdges:n}},selectId=e=>e.id;function areEqual(e,t){return shallow$1(e.selectedNodes.map(selectId),t.selectedNodes.map(selectId))&&shallow$1(e.selectedEdges.map(selectId),t.selectedEdges.map(selectId))}function SelectionListenerInner({onSelectionChange:e}){const t=useStoreApi(),{selectedNodes:n,selectedEdges:o}=useStore(selector$m,areEqual);return reactExports.useEffect(()=>{const l={nodes:n,edges:o};e?.(l),t.getState().onSelectionChangeHandlers.forEach(u=>u(l))},[n,o,e]),null}const changeSelector=e=>!!e.onSelectionChangeHandlers;function SelectionListener({onSelectionChange:e}){const t=useStore(changeSelector);return e||t?jsxRuntimeExports.jsx(SelectionListenerInner,{onSelectionChange:e}):null}const defaultNodeOrigin=[0,0],defaultViewport={x:0,y:0,zoom:1},reactFlowFieldsToTrack=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],fieldsToTrack=[...reactFlowFieldsToTrack,"rfId"],selector$l=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),initPrevValues={translateExtent:infiniteExtent,nodeOrigin:defaultNodeOrigin,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function StoreUpdater(e){const{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:l,setTranslateExtent:u,setNodeExtent:d,reset:A,setDefaultNodesAndEdges:m}=useStore(selector$l,shallow$1),f=useStoreApi();reactExports.useEffect(()=>(m(e.defaultNodes,e.defaultEdges),()=>{g.current=initPrevValues,A()}),[]);const g=reactExports.useRef(initPrevValues);return reactExports.useEffect(()=>{for(const v of fieldsToTrack){const b=e[v],w=g.current[v];b!==w&&(typeof e[v]>"u"||(v==="nodes"?t(b):v==="edges"?n(b):v==="minZoom"?o(b):v==="maxZoom"?l(b):v==="translateExtent"?u(b):v==="nodeExtent"?d(b):v==="ariaLabelConfig"?f.setState({ariaLabelConfig:mergeAriaLabelConfig(b)}):v==="fitView"?f.setState({fitViewQueued:b}):v==="fitViewOptions"?f.setState({fitViewOptions:b}):f.setState({[v]:b})))}g.current=e},fieldsToTrack.map(v=>e[v])),null}function getMediaQuery(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function useColorModeClass(e){const[t,n]=reactExports.useState(e==="system"?null:e);return reactExports.useEffect(()=>{if(e!=="system"){n(e);return}const o=getMediaQuery(),l=()=>n(o?.matches?"dark":"light");return l(),o?.addEventListener("change",l),()=>{o?.removeEventListener("change",l)}},[e]),t!==null?t:getMediaQuery()?.matches?"dark":"light"}const defaultDoc=typeof document<"u"?document:null;function useKeyPress(e=null,t={target:defaultDoc,actInsideInputWithModifier:!0}){const[n,o]=reactExports.useState(!1),l=reactExports.useRef(!1),u=reactExports.useRef(new Set([])),[d,A]=reactExports.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(v=>typeof v=="string").map(v=>v.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=f.reduce((v,b)=>v.concat(...b),[]);return[f,g]}return[[],[]]},[e]);return reactExports.useEffect(()=>{const m=t?.target??defaultDoc,f=t?.actInsideInputWithModifier??!0;if(e!==null){const g=w=>{if(l.current=w.ctrlKey||w.metaKey||w.shiftKey||w.altKey,(!l.current||l.current&&!f)&&isInputDOMNode(w))return!1;const E=useKeyOrCode(w.code,A);if(u.current.add(w[E]),isMatchingKey(d,u.current,!1)){const R=w.composedPath?.()?.[0]||w.target,_=R?.nodeName==="BUTTON"||R?.nodeName==="A";t.preventDefault!==!1&&(l.current||!_)&&w.preventDefault(),o(!0)}},v=w=>{const j=useKeyOrCode(w.code,A);isMatchingKey(d,u.current,!0)?(o(!1),u.current.clear()):u.current.delete(w[j]),w.key==="Meta"&&u.current.clear(),l.current=!1},b=()=>{u.current.clear(),o(!1)};return m?.addEventListener("keydown",g),m?.addEventListener("keyup",v),window.addEventListener("blur",b),window.addEventListener("contextmenu",b),()=>{m?.removeEventListener("keydown",g),m?.removeEventListener("keyup",v),window.removeEventListener("blur",b),window.removeEventListener("contextmenu",b)}}},[e,o]),n}function isMatchingKey(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(l=>t.has(l)))}function useKeyOrCode(e,t){return t.includes(e)?"code":"key"}const useViewportHelper=()=>{const e=useStoreApi();return reactExports.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[o,l,u],panZoom:d}=e.getState();return d?(await d.setViewport({x:t.x??o,y:t.y??l,zoom:t.zoom??u},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},setCenter:async(t,n,o)=>e.getState().setCenter(t,n,o),fitBounds:async(t,n)=>{const{width:o,height:l,minZoom:u,maxZoom:d,panZoom:A}=e.getState(),m=getViewportForBounds(t,o,l,u,d,n?.padding??.1);return A?(await A.setViewport(m,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:o,snapGrid:l,snapToGrid:u,domNode:d}=e.getState();if(!d)return t;const{x:A,y:m}=d.getBoundingClientRect(),f={x:t.x-A,y:t.y-m},g=n.snapGrid??l,v=n.snapToGrid??u;return pointToRendererPoint(f,o,v,g)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:l,y:u}=o.getBoundingClientRect(),d=rendererPointToPoint(t,n);return{x:d.x+l,y:d.y+u}}}),[])};function applyChanges(e,t){const n=[],o=new Map,l=[];for(const u of e)if(u.type==="add"){l.push(u);continue}else if(u.type==="remove"||u.type==="replace")o.set(u.id,[u]);else{const d=o.get(u.id);d?d.push(u):o.set(u.id,[u])}for(const u of t){const d=o.get(u.id);if(!d){n.push(u);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){n.push({...d[0].item});continue}const A={...u};for(const m of d)applyChange(m,A);n.push(A)}return l.length&&l.forEach(u=>{u.index!==void 0?n.splice(u.index,0,{...u.item}):n.push({...u.item})}),n}function applyChange(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function applyNodeChanges(e,t){return applyChanges(e,t)}function applyEdgeChanges(e,t){return applyChanges(e,t)}function createSelectionChange(e,t){return{id:e,type:"select",selected:t}}function getSelectionChanges(e,t=new Set,n=!1){const o=[];for(const[l,u]of e){const d=t.has(l);!(u.selected===void 0&&!d)&&u.selected!==d&&(n&&(u.selected=d),o.push(createSelectionChange(u.id,d)))}return o}function getElementsDiffChanges({items:e=[],lookup:t}){const n=[],o=new Map(e.map(l=>[l.id,l]));for(const[l,u]of e.entries()){const d=t.get(u.id),A=d?.internals?.userNode??d;A!==void 0&&A!==u&&n.push({id:u.id,item:u,type:"replace"}),A===void 0&&n.push({item:u,type:"add",index:l})}for(const[l]of t)o.get(l)===void 0&&n.push({id:l,type:"remove"});return n}function elementToRemoveChange(e){return{id:e.id,type:"remove"}}const isNode=e=>isNodeBase(e),isEdge=e=>isEdgeBase(e);function fixedForwardRef(e){return reactExports.forwardRef(e)}const useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useQueue(e){const[t,n]=reactExports.useState(BigInt(0)),[o]=reactExports.useState(()=>createQueue(()=>n(l=>l+BigInt(1))));return useIsomorphicLayoutEffect(()=>{const l=o.get();l.length&&(e(l),o.reset())},[t]),o}function createQueue(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const BatchContext=reactExports.createContext(null);function BatchProvider({children:e}){const t=useStoreApi(),n=reactExports.useCallback(A=>{const{nodes:m=[],setNodes:f,hasDefaultNodes:g,onNodesChange:v,nodeLookup:b,fitViewQueued:w,onNodesChangeMiddlewareMap:j}=t.getState();let E=m;for(const _ of A)E=typeof _=="function"?_(E):_;let R=getElementsDiffChanges({items:E,lookup:b});for(const _ of j.values())R=_(R);g&&f(E),R.length>0?v?.(R):w&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:N,setNodes:B}=t.getState();_&&B(N)})},[]),o=useQueue(n),l=reactExports.useCallback(A=>{const{edges:m=[],setEdges:f,hasDefaultEdges:g,onEdgesChange:v,edgeLookup:b}=t.getState();let w=m;for(const j of A)w=typeof j=="function"?j(w):j;g?f(w):v&&v(getElementsDiffChanges({items:w,lookup:b}))},[]),u=useQueue(l),d=reactExports.useMemo(()=>({nodeQueue:o,edgeQueue:u}),[]);return jsxRuntimeExports.jsx(BatchContext.Provider,{value:d,children:e})}function useBatchContext(){const e=reactExports.useContext(BatchContext);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const selector$k=e=>!!e.panZoom;function useReactFlow(){const e=useViewportHelper(),t=useStoreApi(),n=useBatchContext(),o=useStore(selector$k),l=reactExports.useMemo(()=>{const u=v=>t.getState().nodeLookup.get(v),d=v=>{n.nodeQueue.push(v)},A=v=>{n.edgeQueue.push(v)},m=v=>{const{nodeLookup:b,nodeOrigin:w}=t.getState(),j=isNode(v)?v:b.get(v.id),E=j.parentId?evaluateAbsolutePosition(j.position,j.measured,j.parentId,b,w):j.position,R={...j,position:E,width:j.measured?.width??j.width,height:j.measured?.height??j.height};return nodeToRect(R)},f=(v,b,w={replace:!1})=>{d(j=>j.map(E=>{if(E.id===v){const R=typeof b=="function"?b(E):b;return w.replace&&isNode(R)?R:{...E,...R}}return E}))},g=(v,b,w={replace:!1})=>{A(j=>j.map(E=>{if(E.id===v){const R=typeof b=="function"?b(E):b;return w.replace&&isEdge(R)?R:{...E,...R}}return E}))};return{getNodes:()=>t.getState().nodes.map(v=>({...v})),getNode:v=>u(v)?.internals.userNode,getInternalNode:u,getEdges:()=>{const{edges:v=[]}=t.getState();return v.map(b=>({...b}))},getEdge:v=>t.getState().edgeLookup.get(v),setNodes:d,setEdges:A,addNodes:v=>{const b=Array.isArray(v)?v:[v];n.nodeQueue.push(w=>[...w,...b])},addEdges:v=>{const b=Array.isArray(v)?v:[v];n.edgeQueue.push(w=>[...w,...b])},toObject:()=>{const{nodes:v=[],edges:b=[],transform:w}=t.getState(),[j,E,R]=w;return{nodes:v.map(_=>({..._})),edges:b.map(_=>({..._})),viewport:{x:j,y:E,zoom:R}}},deleteElements:async({nodes:v=[],edges:b=[]})=>{const{nodes:w,edges:j,onNodesDelete:E,onEdgesDelete:R,triggerNodeChanges:_,triggerEdgeChanges:N,onDelete:B,onBeforeDelete:M}=t.getState(),{nodes:O,edges:F}=await getElementsToRemove({nodesToRemove:v,edgesToRemove:b,nodes:w,edges:j,onBeforeDelete:M}),$=F.length>0,z=O.length>0;if($){const se=F.map(elementToRemoveChange);R?.(F),N(se)}if(z){const se=O.map(elementToRemoveChange);E?.(O),_(se)}return(z||$)&&B?.({nodes:O,edges:F}),{deletedNodes:O,deletedEdges:F}},getIntersectingNodes:(v,b=!0,w)=>{const j=isRectObject(v),E=j?v:m(v),R=w!==void 0;return E?(w||t.getState().nodes).filter(_=>{const N=t.getState().nodeLookup.get(_.id);if(N&&!j&&(_.id===v.id||!N.internals.positionAbsolute))return!1;const B=nodeToRect(R?_:N),M=getOverlappingArea(B,E);return b&&M>0||M>=B.width*B.height||M>=E.width*E.height}):[]},isNodeIntersecting:(v,b,w=!0)=>{const E=isRectObject(v)?v:m(v);if(!E)return!1;const R=getOverlappingArea(E,b);return w&&R>0||R>=b.width*b.height||R>=E.width*E.height},updateNode:f,updateNodeData:(v,b,w={replace:!1})=>{f(v,j=>{const E=typeof b=="function"?b(j):b;return w.replace?{...j,data:E}:{...j,data:{...j.data,...E}}},w)},updateEdge:g,updateEdgeData:(v,b,w={replace:!1})=>{g(v,j=>{const E=typeof b=="function"?b(j):b;return w.replace?{...j,data:E}:{...j,data:{...j.data,...E}}},w)},getNodesBounds:v=>{const{nodeLookup:b,nodeOrigin:w}=t.getState();return getNodesBounds(v,{nodeLookup:b,nodeOrigin:w})},getHandleConnections:({type:v,id:b,nodeId:w})=>Array.from(t.getState().connectionLookup.get(`${w}-${v}${b?`-${b}`:""}`)?.values()??[]),getNodeConnections:({type:v,handleId:b,nodeId:w})=>Array.from(t.getState().connectionLookup.get(`${w}${v?b?`-${v}-${b}`:`-${v}`:""}`)?.values()??[]),fitView:async v=>{const b=t.getState().fitViewResolver??withResolvers();return t.setState({fitViewQueued:!0,fitViewOptions:v,fitViewResolver:b}),n.nodeQueue.push(w=>[...w]),b.promise}}},[]);return reactExports.useMemo(()=>({...l,...e,viewportInitialized:o}),[o])}const selected=e=>e.selected,win$1=typeof window<"u"?window:void 0;function useGlobalKeyHandler({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=useStoreApi(),{deleteElements:o}=useReactFlow(),l=useKeyPress(e,{actInsideInputWithModifier:!1}),u=useKeyPress(t,{target:win$1});reactExports.useEffect(()=>{if(l){const{edges:d,nodes:A}=n.getState();o({nodes:A.filter(selected),edges:d.filter(selected)}),n.setState({nodesSelectionActive:!1})}},[l]),reactExports.useEffect(()=>{n.setState({multiSelectionActive:u})},[u])}function useResizeHandler(e){const t=useStoreApi();reactExports.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const o=getDimensions(e.current);(o.height===0||o.width===0)&&t.getState().onError?.("004",errorMessages.error004()),t.setState({width:o.width||500,height:o.height||500})};if(e.current){n(),window.addEventListener("resize",n);const o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}const containerStyle={position:"absolute",width:"100%",height:"100%",top:0,left:0},selector$j=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function ZoomPane({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=PanOnScrollMode.Free,zoomOnDoubleClick:d=!0,panOnDrag:A=!0,defaultViewport:m,translateExtent:f,minZoom:g,maxZoom:v,zoomActivationKeyCode:b,preventScrolling:w=!0,children:j,noWheelClassName:E,noPanClassName:R,onViewportChange:_,isControlledViewport:N,paneClickDistance:B,selectionOnDrag:M}){const O=useStoreApi(),F=reactExports.useRef(null),{userSelectionActive:$,lib:z,connectionInProgress:se}=useStore(selector$j,shallow$1),ce=useKeyPress(b),ie=reactExports.useRef();useResizeHandler(F);const pe=reactExports.useCallback(xe=>{_?.({x:xe[0],y:xe[1],zoom:xe[2]}),N||O.setState({transform:xe})},[_,N]);return reactExports.useEffect(()=>{if(F.current){ie.current=XYPanZoom({domNode:F.current,minZoom:g,maxZoom:v,translateExtent:f,viewport:m,onDraggingChange:Y=>O.setState({paneDragging:Y}),onPanZoomStart:(Y,fe)=>{const{onViewportChangeStart:H,onMoveStart:le}=O.getState();le?.(Y,fe),H?.(fe)},onPanZoom:(Y,fe)=>{const{onViewportChange:H,onMove:le}=O.getState();le?.(Y,fe),H?.(fe)},onPanZoomEnd:(Y,fe)=>{const{onViewportChangeEnd:H,onMoveEnd:le}=O.getState();le?.(Y,fe),H?.(fe)}});const{x:xe,y:Ae,zoom:ue}=ie.current.getViewport();return O.setState({panZoom:ie.current,transform:[xe,Ae,ue],domNode:F.current.closest(".react-flow")}),()=>{ie.current?.destroy()}}},[]),reactExports.useEffect(()=>{ie.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:l,panOnScrollMode:u,zoomOnDoubleClick:d,panOnDrag:A,zoomActivationKeyPressed:ce,preventScrolling:w,noPanClassName:R,userSelectionActive:$,noWheelClassName:E,lib:z,onTransformChange:pe,connectionInProgress:se,selectionOnDrag:M,paneClickDistance:B})},[e,t,n,o,l,u,d,A,ce,w,R,$,E,z,pe,se,M,B]),jsxRuntimeExports.jsx("div",{className:"react-flow__renderer",ref:F,style:containerStyle,children:j})}const selector$i=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function UserSelection(){const{userSelectionActive:e,userSelectionRect:t}=useStore(selector$i,shallow$1);return e&&t?jsxRuntimeExports.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const wrapHandler=(e,t)=>n=>{n.target===t.current&&e?.(n)},selector$h=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Pane({isSelecting:e,selectionKeyPressed:t,selectionMode:n=SelectionMode.Full,panOnDrag:o,paneClickDistance:l,selectionOnDrag:u,onSelectionStart:d,onSelectionEnd:A,onPaneClick:m,onPaneContextMenu:f,onPaneScroll:g,onPaneMouseEnter:v,onPaneMouseMove:b,onPaneMouseLeave:w,children:j}){const E=useStoreApi(),{userSelectionActive:R,elementsSelectable:_,dragging:N,connectionInProgress:B}=useStore(selector$h,shallow$1),M=_&&(e||R),O=reactExports.useRef(null),F=reactExports.useRef(),$=reactExports.useRef(new Set),z=reactExports.useRef(new Set),se=reactExports.useRef(!1),ce=H=>{if(se.current||B){se.current=!1;return}m?.(H),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},ie=H=>{if(Array.isArray(o)&&o?.includes(2)){H.preventDefault();return}f?.(H)},pe=g?H=>g(H):void 0,xe=H=>{se.current&&(H.stopPropagation(),se.current=!1)},Ae=H=>{const{domNode:le}=E.getState();if(F.current=le?.getBoundingClientRect(),!F.current)return;const de=H.target===O.current;if(!de&&!!H.target.closest(".nokey")||!e||!(u&&de||t)||H.button!==0||!H.isPrimary)return;H.target?.setPointerCapture?.(H.pointerId),se.current=!1;const{x:je,y:Me}=getEventPosition(H.nativeEvent,F.current);E.setState({userSelectionRect:{width:0,height:0,startX:je,startY:Me,x:je,y:Me}}),de||(H.stopPropagation(),H.preventDefault())},ue=H=>{const{userSelectionRect:le,transform:de,nodeLookup:ye,edgeLookup:ge,connectionLookup:je,triggerNodeChanges:Me,triggerEdgeChanges:He,defaultEdgeOptions:Qe,resetSelectedElements:ze}=E.getState();if(!F.current||!le)return;const{x:Ve,y:tt}=getEventPosition(H.nativeEvent,F.current),{startX:nt,startY:Ye}=le;if(!se.current){const Zt=t?0:l;if(Math.hypot(Ve-nt,tt-Ye)<=Zt)return;ze(),d?.(H)}se.current=!0;const ut={startX:nt,startY:Ye,x:Ve<nt?Ve:nt,y:tt<Ye?tt:Ye,width:Math.abs(Ve-nt),height:Math.abs(tt-Ye)},mt=$.current,St=z.current;$.current=new Set(getNodesInside(ye,ut,de,n===SelectionMode.Partial,!0).map(Zt=>Zt.id)),z.current=new Set;const or=Qe?.selectable??!0;for(const Zt of $.current){const Bt=je.get(Zt);if(Bt)for(const{edgeId:ur}of Bt.values()){const Nr=ge.get(ur);Nr&&(Nr.selectable??or)&&z.current.add(ur)}}if(!areSetsEqual(mt,$.current)){const Zt=getSelectionChanges(ye,$.current,!0);Me(Zt)}if(!areSetsEqual(St,z.current)){const Zt=getSelectionChanges(ge,z.current);He(Zt)}E.setState({userSelectionRect:ut,userSelectionActive:!0,nodesSelectionActive:!1})},Y=H=>{H.button===0&&(H.target?.releasePointerCapture?.(H.pointerId),!R&&H.target===O.current&&E.getState().userSelectionRect&&ce?.(H),E.setState({userSelectionActive:!1,userSelectionRect:null}),se.current&&(A?.(H),E.setState({nodesSelectionActive:$.current.size>0})))},fe=o===!0||Array.isArray(o)&&o.includes(0);return jsxRuntimeExports.jsxs("div",{className:cc(["react-flow__pane",{draggable:fe,dragging:N,selection:e}]),onClick:M?void 0:wrapHandler(ce,O),onContextMenu:wrapHandler(ie,O),onWheel:wrapHandler(pe,O),onPointerEnter:M?void 0:v,onPointerMove:M?ue:b,onPointerUp:M?Y:void 0,onPointerDownCapture:M?Ae:void 0,onClickCapture:M?xe:void 0,onPointerLeave:w,ref:O,style:containerStyle,children:[j,jsxRuntimeExports.jsx(UserSelection,{})]})}function handleNodeClick({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:d,nodeLookup:A,onError:m}=t.getState(),f=A.get(e);if(!f){m?.("012",errorMessages.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&d)&&(u({nodes:[f],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):l([e])}function useDrag({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:l,isSelectable:u,nodeClickDistance:d}){const A=useStoreApi(),[m,f]=reactExports.useState(!1),g=reactExports.useRef();return reactExports.useEffect(()=>{g.current=XYDrag({getStoreItems:()=>A.getState(),onNodeMouseDown:v=>{handleNodeClick({id:v,store:A,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),reactExports.useEffect(()=>{if(t)g.current?.destroy();else if(e.current)return g.current?.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:u,nodeId:l,nodeClickDistance:d}),()=>{g.current?.destroy()}},[n,o,t,u,e,l]),m}const selectedAndDraggable=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function useMoveSelectedNodes(){const e=useStoreApi();return reactExports.useCallback(n=>{const{nodeExtent:o,snapToGrid:l,snapGrid:u,nodesDraggable:d,onError:A,updateNodePositions:m,nodeLookup:f,nodeOrigin:g}=e.getState(),v=new Map,b=selectedAndDraggable(d),w=l?u[0]:5,j=l?u[1]:5,E=n.direction.x*w*n.factor,R=n.direction.y*j*n.factor;for(const[,_]of f){if(!b(_))continue;let N={x:_.internals.positionAbsolute.x+E,y:_.internals.positionAbsolute.y+R};l&&(N=snapPosition(N,u));const{position:B,positionAbsolute:M}=calculateNodePosition({nodeId:_.id,nextPosition:N,nodeLookup:f,nodeExtent:o,nodeOrigin:g,onError:A});_.position=B,_.internals.positionAbsolute=M,v.set(_.id,_)}m(v)},[])}const NodeIdContext=reactExports.createContext(null),Provider=NodeIdContext.Provider;NodeIdContext.Consumer;const useNodeId=()=>reactExports.useContext(NodeIdContext),selector$g=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),connectingSelector=(e,t,n)=>o=>{const{connectionClickStartHandle:l,connectionMode:u,connection:d}=o,{fromHandle:A,toHandle:m,isValid:f}=d,g=m?.nodeId===e&&m?.id===t&&m?.type===n;return{connectingFrom:A?.nodeId===e&&A?.id===t&&A?.type===n,connectingTo:g,clickConnecting:l?.nodeId===e&&l?.id===t&&l?.type===n,isPossibleEndHandle:u===ConnectionMode.Strict?A?.type!==n:e!==A?.nodeId||t!==A?.id,connectionInProcess:!!A,clickConnectionInProcess:!!l,valid:g&&f}};function HandleComponent({type:e="source",position:t=Position.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:d,onConnect:A,children:m,className:f,onMouseDown:g,onTouchStart:v,...b},w){const j=d||null,E=e==="target",R=useStoreApi(),_=useNodeId(),{connectOnClick:N,noPanClassName:B,rfId:M}=useStore(selector$g,shallow$1),{connectingFrom:O,connectingTo:F,clickConnecting:$,isPossibleEndHandle:z,connectionInProcess:se,clickConnectionInProcess:ce,valid:ie}=useStore(connectingSelector(_,j,e),shallow$1);_||R.getState().onError?.("010",errorMessages.error010());const pe=ue=>{const{defaultEdgeOptions:Y,onConnect:fe,hasDefaultEdges:H}=R.getState(),le={...Y,...ue};if(H){const{edges:de,setEdges:ye}=R.getState();ye(addEdge(le,de))}fe?.(le),A?.(le)},xe=ue=>{if(!_)return;const Y=isMouseEvent(ue.nativeEvent);if(l&&(Y&&ue.button===0||!Y)){const fe=R.getState();XYHandle.onPointerDown(ue.nativeEvent,{handleDomNode:ue.currentTarget,autoPanOnConnect:fe.autoPanOnConnect,connectionMode:fe.connectionMode,connectionRadius:fe.connectionRadius,domNode:fe.domNode,nodeLookup:fe.nodeLookup,lib:fe.lib,isTarget:E,handleId:j,nodeId:_,flowId:fe.rfId,panBy:fe.panBy,cancelConnection:fe.cancelConnection,onConnectStart:fe.onConnectStart,onConnectEnd:fe.onConnectEnd,updateConnection:fe.updateConnection,onConnect:pe,isValidConnection:n||fe.isValidConnection,getTransform:()=>R.getState().transform,getFromHandle:()=>R.getState().connection.fromHandle,autoPanSpeed:fe.autoPanSpeed,dragThreshold:fe.connectionDragThreshold})}Y?g?.(ue):v?.(ue)},Ae=ue=>{const{onClickConnectStart:Y,onClickConnectEnd:fe,connectionClickStartHandle:H,connectionMode:le,isValidConnection:de,lib:ye,rfId:ge,nodeLookup:je,connection:Me}=R.getState();if(!_||!H&&!l)return;if(!H){Y?.(ue.nativeEvent,{nodeId:_,handleId:j,handleType:e}),R.setState({connectionClickStartHandle:{nodeId:_,type:e,id:j}});return}const He=getHostForElement(ue.target),Qe=n||de,{connection:ze,isValid:Ve}=XYHandle.isValid(ue.nativeEvent,{handle:{nodeId:_,id:j,type:e},connectionMode:le,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:Qe,flowId:ge,doc:He,lib:ye,nodeLookup:je});Ve&&ze&&pe(ze);const tt=structuredClone(Me);delete tt.inProgress,tt.toPosition=tt.toHandle?tt.toHandle.position:null,fe?.(ue,tt),R.setState({connectionClickStartHandle:null})};return jsxRuntimeExports.jsx("div",{"data-handleid":j,"data-nodeid":_,"data-handlepos":t,"data-id":`${M}-${_}-${j}-${e}`,className:cc(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",B,f,{source:!E,target:E,connectable:o,connectablestart:l,connectableend:u,clickconnecting:$,connectingfrom:O,connectingto:F,valid:ie,connectionindicator:o&&(!se||z)&&(se||ce?u:l)}]),onMouseDown:xe,onTouchStart:xe,onClick:N?Ae:void 0,ref:w,...b,children:m})}const Handle=reactExports.memo(fixedForwardRef(HandleComponent));function InputNode({data:e,isConnectable:t,sourcePosition:n=Position.Bottom}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e?.label,jsxRuntimeExports.jsx(Handle,{type:"source",position:n,isConnectable:t})]})}function DefaultNode({data:e,isConnectable:t,targetPosition:n=Position.Top,sourcePosition:o=Position.Bottom}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:n,isConnectable:t}),e?.label,jsxRuntimeExports.jsx(Handle,{type:"source",position:o,isConnectable:t})]})}function GroupNode(){return null}function OutputNode({data:e,isConnectable:t,targetPosition:n=Position.Top}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:n,isConnectable:t}),e?.label]})}const arrowKeyDiffs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},builtinNodeTypes={input:InputNode,default:DefaultNode,output:OutputNode,group:GroupNode};function getNodeInlineStyleDimensions(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const selector$f=e=>{const{width:t,height:n,x:o,y:l}=getInternalNodesBounds(e.nodeLookup,{filter:u=>!!u.selected});return{width:isNumeric(t)?t:null,height:isNumeric(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${l}px)`}};function NodesSelection({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=useStoreApi(),{width:l,height:u,transformString:d,userSelectionActive:A}=useStore(selector$f,shallow$1),m=useMoveSelectedNodes(),f=reactExports.useRef(null);if(reactExports.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),useDrag({nodeRef:f}),A||!l||!u)return null;const g=e?b=>{const w=o.getState().nodes.filter(j=>j.selected);e(b,w)}:void 0,v=b=>{Object.prototype.hasOwnProperty.call(arrowKeyDiffs,b.key)&&(b.preventDefault(),m({direction:arrowKeyDiffs[b.key],factor:b.shiftKey?4:1}))};return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__nodesselection","react-flow__container",t]),style:{transform:d},children:jsxRuntimeExports.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:n?void 0:-1,onKeyDown:n?void 0:v,style:{width:l,height:u}})})}const win=typeof window<"u"?window:void 0,selector$e=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function FlowRendererComponent({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:d,paneClickDistance:A,deleteKeyCode:m,selectionKeyCode:f,selectionOnDrag:g,selectionMode:v,onSelectionStart:b,onSelectionEnd:w,multiSelectionKeyCode:j,panActivationKeyCode:E,zoomActivationKeyCode:R,elementsSelectable:_,zoomOnScroll:N,zoomOnPinch:B,panOnScroll:M,panOnScrollSpeed:O,panOnScrollMode:F,zoomOnDoubleClick:$,panOnDrag:z,defaultViewport:se,translateExtent:ce,minZoom:ie,maxZoom:pe,preventScrolling:xe,onSelectionContextMenu:Ae,noWheelClassName:ue,noPanClassName:Y,disableKeyboardA11y:fe,onViewportChange:H,isControlledViewport:le}){const{nodesSelectionActive:de,userSelectionActive:ye}=useStore(selector$e,shallow$1),ge=useKeyPress(f,{target:win}),je=useKeyPress(E,{target:win}),Me=je||z,He=je||M,Qe=g&&Me!==!0,ze=ge||ye||Qe;return useGlobalKeyHandler({deleteKeyCode:m,multiSelectionKeyCode:j}),jsxRuntimeExports.jsx(ZoomPane,{onPaneContextMenu:u,elementsSelectable:_,zoomOnScroll:N,zoomOnPinch:B,panOnScroll:He,panOnScrollSpeed:O,panOnScrollMode:F,zoomOnDoubleClick:$,panOnDrag:!ge&&Me,defaultViewport:se,translateExtent:ce,minZoom:ie,maxZoom:pe,zoomActivationKeyCode:R,preventScrolling:xe,noWheelClassName:ue,noPanClassName:Y,onViewportChange:H,isControlledViewport:le,paneClickDistance:A,selectionOnDrag:Qe,children:jsxRuntimeExports.jsxs(Pane,{onSelectionStart:b,onSelectionEnd:w,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:d,panOnDrag:Me,isSelecting:!!ze,selectionMode:v,selectionKeyPressed:ge,paneClickDistance:A,selectionOnDrag:Qe,children:[e,de&&jsxRuntimeExports.jsx(NodesSelection,{onSelectionContextMenu:Ae,noPanClassName:Y,disableKeyboardA11y:fe})]})})}FlowRendererComponent.displayName="FlowRenderer";const FlowRenderer=reactExports.memo(FlowRendererComponent),selector$d=e=>t=>e?getNodesInside(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function useVisibleNodeIds(e){return useStore(reactExports.useCallback(selector$d(e),[e]),shallow$1)}const selector$c=e=>e.updateNodeInternals;function useResizeObserver(){const e=useStore(selector$c),[t]=reactExports.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const o=new Map;n.forEach(l=>{const u=l.target.getAttribute("data-id");o.set(u,{id:u,nodeElement:l.target,force:!0})}),e(o)}));return reactExports.useEffect(()=>()=>{t?.disconnect()},[t]),t}function useNodeObserver({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){const l=useStoreApi(),u=reactExports.useRef(null),d=reactExports.useRef(null),A=reactExports.useRef(e.sourcePosition),m=reactExports.useRef(e.targetPosition),f=reactExports.useRef(t),g=n&&!!e.internals.handleBounds;return reactExports.useEffect(()=>{u.current&&!e.hidden&&(!g||d.current!==u.current)&&(d.current&&o?.unobserve(d.current),o?.observe(u.current),d.current=u.current)},[g,e.hidden]),reactExports.useEffect(()=>()=>{d.current&&(o?.unobserve(d.current),d.current=null)},[]),reactExports.useEffect(()=>{if(u.current){const v=f.current!==t,b=A.current!==e.sourcePosition,w=m.current!==e.targetPosition;(v||b||w)&&(f.current=t,A.current=e.sourcePosition,m.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:u.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),u}function NodeWrapper({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:l,onContextMenu:u,onDoubleClick:d,nodesDraggable:A,elementsSelectable:m,nodesConnectable:f,nodesFocusable:g,resizeObserver:v,noDragClassName:b,noPanClassName:w,disableKeyboardA11y:j,rfId:E,nodeTypes:R,nodeClickDistance:_,onError:N}){const{node:B,internals:M,isParent:O}=useStore(Ve=>{const tt=Ve.nodeLookup.get(e),nt=Ve.parentLookup.has(e);return{node:tt,internals:tt.internals,isParent:nt}},shallow$1);let F=B.type||"default",$=R?.[F]||builtinNodeTypes[F];$===void 0&&(N?.("003",errorMessages.error003(F)),F="default",$=R?.default||builtinNodeTypes.default);const z=!!(B.draggable||A&&typeof B.draggable>"u"),se=!!(B.selectable||m&&typeof B.selectable>"u"),ce=!!(B.connectable||f&&typeof B.connectable>"u"),ie=!!(B.focusable||g&&typeof B.focusable>"u"),pe=useStoreApi(),xe=nodeHasDimensions(B),Ae=useNodeObserver({node:B,nodeType:F,hasDimensions:xe,resizeObserver:v}),ue=useDrag({nodeRef:Ae,disabled:B.hidden||!z,noDragClassName:b,handleSelector:B.dragHandle,nodeId:e,isSelectable:se,nodeClickDistance:_}),Y=useMoveSelectedNodes();if(B.hidden)return null;const fe=getNodeDimensions(B),H=getNodeInlineStyleDimensions(B),le=se||z||t||n||o||l,de=n?Ve=>n(Ve,{...M.userNode}):void 0,ye=o?Ve=>o(Ve,{...M.userNode}):void 0,ge=l?Ve=>l(Ve,{...M.userNode}):void 0,je=u?Ve=>u(Ve,{...M.userNode}):void 0,Me=d?Ve=>d(Ve,{...M.userNode}):void 0,He=Ve=>{const{selectNodesOnDrag:tt,nodeDragThreshold:nt}=pe.getState();se&&(!tt||!z||nt>0)&&handleNodeClick({id:e,store:pe,nodeRef:Ae}),t&&t(Ve,{...M.userNode})},Qe=Ve=>{if(!(isInputDOMNode(Ve.nativeEvent)||j)){if(elementSelectionKeys.includes(Ve.key)&&se){const tt=Ve.key==="Escape";handleNodeClick({id:e,store:pe,unselect:tt,nodeRef:Ae})}else if(z&&B.selected&&Object.prototype.hasOwnProperty.call(arrowKeyDiffs,Ve.key)){Ve.preventDefault();const{ariaLabelConfig:tt}=pe.getState();pe.setState({ariaLiveMessage:tt["node.a11yDescription.ariaLiveMessage"]({direction:Ve.key.replace("Arrow","").toLowerCase(),x:~~M.positionAbsolute.x,y:~~M.positionAbsolute.y})}),Y({direction:arrowKeyDiffs[Ve.key],factor:Ve.shiftKey?4:1})}}},ze=()=>{if(j||!Ae.current?.matches(":focus-visible"))return;const{transform:Ve,width:tt,height:nt,autoPanOnNodeFocus:Ye,setCenter:ut}=pe.getState();if(!Ye)return;getNodesInside(new Map([[e,B]]),{x:0,y:0,width:tt,height:nt},Ve,!0).length>0||ut(B.position.x+fe.width/2,B.position.y+fe.height/2,{zoom:Ve[2]})};return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__node",`react-flow__node-${F}`,{[w]:z},B.className,{selected:B.selected,selectable:se,parent:O,draggable:z,dragging:ue}]),ref:Ae,style:{zIndex:M.z,transform:`translate(${M.positionAbsolute.x}px,${M.positionAbsolute.y}px)`,pointerEvents:le?"all":"none",visibility:xe?"visible":"hidden",...B.style,...H},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:de,onMouseMove:ye,onMouseLeave:ge,onContextMenu:je,onClick:He,onDoubleClick:Me,onKeyDown:ie?Qe:void 0,tabIndex:ie?0:void 0,onFocus:ie?ze:void 0,role:B.ariaRole??(ie?"group":void 0),"aria-roledescription":"node","aria-describedby":j?void 0:`${ARIA_NODE_DESC_KEY}-${E}`,"aria-label":B.ariaLabel,...B.domAttributes,children:jsxRuntimeExports.jsx(Provider,{value:e,children:jsxRuntimeExports.jsx($,{id:e,data:B.data,type:F,positionAbsoluteX:M.positionAbsolute.x,positionAbsoluteY:M.positionAbsolute.y,selected:B.selected??!1,selectable:se,draggable:z,deletable:B.deletable??!0,isConnectable:ce,sourcePosition:B.sourcePosition,targetPosition:B.targetPosition,dragging:ue,dragHandle:B.dragHandle,zIndex:M.z,parentId:B.parentId,...fe})})})}var NodeWrapper$1=reactExports.memo(NodeWrapper);const selector$b=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function NodeRendererComponent(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:l,onError:u}=useStore(selector$b,shallow$1),d=useVisibleNodeIds(e.onlyRenderVisibleElements),A=useResizeObserver();return jsxRuntimeExports.jsx("div",{className:"react-flow__nodes",style:containerStyle,children:d.map(m=>jsxRuntimeExports.jsx(NodeWrapper$1,{id:m,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:A,nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:u},m))})}NodeRendererComponent.displayName="NodeRenderer";const NodeRenderer=reactExports.memo(NodeRendererComponent);function useVisibleEdgeIds(e){return useStore(reactExports.useCallback(n=>{if(!e)return n.edges.map(l=>l.id);const o=[];if(n.width&&n.height)for(const l of n.edges){const u=n.nodeLookup.get(l.source),d=n.nodeLookup.get(l.target);u&&d&&isEdgeVisible({sourceNode:u,targetNode:d,width:n.width,height:n.height,transform:n.transform})&&o.push(l.id)}return o},[e]),shallow$1)}const ArrowSymbol=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return jsxRuntimeExports.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},ArrowClosedSymbol=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return jsxRuntimeExports.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},MarkerSymbols={[MarkerType.Arrow]:ArrowSymbol,[MarkerType.ArrowClosed]:ArrowClosedSymbol};function useMarkerSymbol(e){const t=useStoreApi();return reactExports.useMemo(()=>Object.prototype.hasOwnProperty.call(MarkerSymbols,e)?MarkerSymbols[e]:(t.getState().onError?.("009",errorMessages.error009(e)),null),[e])}const Marker=({id:e,type:t,color:n,width:o=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:d,orient:A="auto-start-reverse"})=>{const m=useMarkerSymbol(t);return m?jsxRuntimeExports.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:A,refX:"0",refY:"0",children:jsxRuntimeExports.jsx(m,{color:n,strokeWidth:d})}):null},MarkerDefinitions=({defaultColor:e,rfId:t})=>{const n=useStore(u=>u.edges),o=useStore(u=>u.defaultEdgeOptions),l=reactExports.useMemo(()=>createMarkerIds(n,{id:t,defaultColor:e,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[n,o,t,e]);return l.length?jsxRuntimeExports.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:jsxRuntimeExports.jsx("defs",{children:l.map(u=>jsxRuntimeExports.jsx(Marker,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};MarkerDefinitions.displayName="MarkerDefinitions";var MarkerDefinitions$1=reactExports.memo(MarkerDefinitions);function EdgeTextComponent({x:e,y:t,label:n,labelStyle:o,labelShowBg:l=!0,labelBgStyle:u,labelBgPadding:d=[2,4],labelBgBorderRadius:A=2,children:m,className:f,...g}){const[v,b]=reactExports.useState({x:1,y:0,width:0,height:0}),w=cc(["react-flow__edge-textwrapper",f]),j=reactExports.useRef(null);return reactExports.useEffect(()=>{if(j.current){const E=j.current.getBBox();b({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),n?jsxRuntimeExports.jsxs("g",{transform:`translate(${e-v.width/2} ${t-v.height/2})`,className:w,visibility:v.width?"visible":"hidden",...g,children:[l&&jsxRuntimeExports.jsx("rect",{width:v.width+2*d[0],x:-d[0],y:-d[1],height:v.height+2*d[1],className:"react-flow__edge-textbg",style:u,rx:A,ry:A}),jsxRuntimeExports.jsx("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:j,style:o,children:n}),m]}):null}EdgeTextComponent.displayName="EdgeText";const EdgeText=reactExports.memo(EdgeTextComponent);function BaseEdge({path:e,labelX:t,labelY:n,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:A,labelBgBorderRadius:m,interactionWidth:f=20,...g}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{...g,d:e,fill:"none",className:cc(["react-flow__edge-path",g.className])}),f?jsxRuntimeExports.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,o&&isNumeric(t)&&isNumeric(n)?jsxRuntimeExports.jsx(EdgeText,{x:t,y:n,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:A,labelBgBorderRadius:m}):null]})}function getControl({pos:e,x1:t,y1:n,x2:o,y2:l}){return e===Position.Left||e===Position.Right?[.5*(t+o),n]:[t,.5*(n+l)]}function getSimpleBezierPath({sourceX:e,sourceY:t,sourcePosition:n=Position.Bottom,targetX:o,targetY:l,targetPosition:u=Position.Top}){const[d,A]=getControl({pos:n,x1:e,y1:t,x2:o,y2:l}),[m,f]=getControl({pos:u,x1:o,y1:l,x2:e,y2:t}),[g,v,b,w]=getBezierEdgeCenter({sourceX:e,sourceY:t,targetX:o,targetY:l,sourceControlX:d,sourceControlY:A,targetControlX:m,targetControlY:f});return[`M${e},${t} C${d},${A} ${m},${f} ${o},${l}`,g,v,b,w]}function createSimpleBezierEdge(e){return reactExports.memo(({id:t,sourceX:n,sourceY:o,targetX:l,targetY:u,sourcePosition:d,targetPosition:A,label:m,labelStyle:f,labelShowBg:g,labelBgStyle:v,labelBgPadding:b,labelBgBorderRadius:w,style:j,markerEnd:E,markerStart:R,interactionWidth:_})=>{const[N,B,M]=getSimpleBezierPath({sourceX:n,sourceY:o,sourcePosition:d,targetX:l,targetY:u,targetPosition:A}),O=e.isInternal?void 0:t;return jsxRuntimeExports.jsx(BaseEdge,{id:O,path:N,labelX:B,labelY:M,label:m,labelStyle:f,labelShowBg:g,labelBgStyle:v,labelBgPadding:b,labelBgBorderRadius:w,style:j,markerEnd:E,markerStart:R,interactionWidth:_})})}const SimpleBezierEdge=createSimpleBezierEdge({isInternal:!1}),SimpleBezierEdgeInternal=createSimpleBezierEdge({isInternal:!0});SimpleBezierEdge.displayName="SimpleBezierEdge";SimpleBezierEdgeInternal.displayName="SimpleBezierEdgeInternal";function createSmoothStepEdge(e){return reactExports.memo(({id:t,sourceX:n,sourceY:o,targetX:l,targetY:u,label:d,labelStyle:A,labelShowBg:m,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:v,style:b,sourcePosition:w=Position.Bottom,targetPosition:j=Position.Top,markerEnd:E,markerStart:R,pathOptions:_,interactionWidth:N})=>{const[B,M,O]=getSmoothStepPath({sourceX:n,sourceY:o,sourcePosition:w,targetX:l,targetY:u,targetPosition:j,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),F=e.isInternal?void 0:t;return jsxRuntimeExports.jsx(BaseEdge,{id:F,path:B,labelX:M,labelY:O,label:d,labelStyle:A,labelShowBg:m,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:E,markerStart:R,interactionWidth:N})})}const SmoothStepEdge=createSmoothStepEdge({isInternal:!1}),SmoothStepEdgeInternal=createSmoothStepEdge({isInternal:!0});SmoothStepEdge.displayName="SmoothStepEdge";SmoothStepEdgeInternal.displayName="SmoothStepEdgeInternal";function createStepEdge(e){return reactExports.memo(({id:t,...n})=>{const o=e.isInternal?void 0:t;return jsxRuntimeExports.jsx(SmoothStepEdge,{...n,id:o,pathOptions:reactExports.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const StepEdge=createStepEdge({isInternal:!1}),StepEdgeInternal=createStepEdge({isInternal:!0});StepEdge.displayName="StepEdge";StepEdgeInternal.displayName="StepEdgeInternal";function createStraightEdge(e){return reactExports.memo(({id:t,sourceX:n,sourceY:o,targetX:l,targetY:u,label:d,labelStyle:A,labelShowBg:m,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:w,markerStart:j,interactionWidth:E})=>{const[R,_,N]=getStraightPath({sourceX:n,sourceY:o,targetX:l,targetY:u}),B=e.isInternal?void 0:t;return jsxRuntimeExports.jsx(BaseEdge,{id:B,path:R,labelX:_,labelY:N,label:d,labelStyle:A,labelShowBg:m,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:w,markerStart:j,interactionWidth:E})})}const StraightEdge=createStraightEdge({isInternal:!1}),StraightEdgeInternal=createStraightEdge({isInternal:!0});StraightEdge.displayName="StraightEdge";StraightEdgeInternal.displayName="StraightEdgeInternal";function createBezierEdge(e){return reactExports.memo(({id:t,sourceX:n,sourceY:o,targetX:l,targetY:u,sourcePosition:d=Position.Bottom,targetPosition:A=Position.Top,label:m,labelStyle:f,labelShowBg:g,labelBgStyle:v,labelBgPadding:b,labelBgBorderRadius:w,style:j,markerEnd:E,markerStart:R,pathOptions:_,interactionWidth:N})=>{const[B,M,O]=getBezierPath({sourceX:n,sourceY:o,sourcePosition:d,targetX:l,targetY:u,targetPosition:A,curvature:_?.curvature}),F=e.isInternal?void 0:t;return jsxRuntimeExports.jsx(BaseEdge,{id:F,path:B,labelX:M,labelY:O,label:m,labelStyle:f,labelShowBg:g,labelBgStyle:v,labelBgPadding:b,labelBgBorderRadius:w,style:j,markerEnd:E,markerStart:R,interactionWidth:N})})}const BezierEdge=createBezierEdge({isInternal:!1}),BezierEdgeInternal=createBezierEdge({isInternal:!0});BezierEdge.displayName="BezierEdge";BezierEdgeInternal.displayName="BezierEdgeInternal";const builtinEdgeTypes={default:BezierEdgeInternal,straight:StraightEdgeInternal,step:StepEdgeInternal,smoothstep:SmoothStepEdgeInternal,simplebezier:SimpleBezierEdgeInternal},nullPosition={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},shiftX=(e,t,n)=>n===Position.Left?e-t:n===Position.Right?e+t:e,shiftY=(e,t,n)=>n===Position.Top?e-t:n===Position.Bottom?e+t:e,EdgeUpdaterClassName="react-flow__edgeupdater";function EdgeAnchor({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:l,onMouseEnter:u,onMouseOut:d,type:A}){return jsxRuntimeExports.jsx("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:d,className:cc([EdgeUpdaterClassName,`${EdgeUpdaterClassName}-${A}`]),cx:shiftX(t,o,e),cy:shiftY(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function EdgeUpdateAnchors({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:l,targetX:u,targetY:d,sourcePosition:A,targetPosition:m,onReconnect:f,onReconnectStart:g,onReconnectEnd:v,setReconnecting:b,setUpdateHover:w}){const j=useStoreApi(),E=(M,O)=>{if(M.button!==0)return;const{autoPanOnConnect:F,domNode:$,isValidConnection:z,connectionMode:se,connectionRadius:ce,lib:ie,onConnectStart:pe,onConnectEnd:xe,cancelConnection:Ae,nodeLookup:ue,rfId:Y,panBy:fe,updateConnection:H}=j.getState(),le=O.type==="target",de=(je,Me)=>{b(!1),v?.(je,n,O.type,Me)},ye=je=>f?.(n,je),ge=(je,Me)=>{b(!0),g?.(M,n,O.type),pe?.(je,Me)};XYHandle.onPointerDown(M.nativeEvent,{autoPanOnConnect:F,connectionMode:se,connectionRadius:ce,domNode:$,handleId:O.id,nodeId:O.nodeId,nodeLookup:ue,isTarget:le,edgeUpdaterType:O.type,lib:ie,flowId:Y,cancelConnection:Ae,panBy:fe,isValidConnection:z,onConnect:ye,onConnectStart:ge,onConnectEnd:xe,onReconnectEnd:de,updateConnection:H,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,dragThreshold:j.getState().connectionDragThreshold,handleDomNode:M.currentTarget})},R=M=>E(M,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=M=>E(M,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),N=()=>w(!0),B=()=>w(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(e===!0||e==="source")&&jsxRuntimeExports.jsx(EdgeAnchor,{position:A,centerX:o,centerY:l,radius:t,onMouseDown:R,onMouseEnter:N,onMouseOut:B,type:"source"}),(e===!0||e==="target")&&jsxRuntimeExports.jsx(EdgeAnchor,{position:m,centerX:u,centerY:d,radius:t,onMouseDown:_,onMouseEnter:N,onMouseOut:B,type:"target"})]})}function EdgeWrapper({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:l,onDoubleClick:u,onContextMenu:d,onMouseEnter:A,onMouseMove:m,onMouseLeave:f,reconnectRadius:g,onReconnect:v,onReconnectStart:b,onReconnectEnd:w,rfId:j,edgeTypes:E,noPanClassName:R,onError:_,disableKeyboardA11y:N}){let B=useStore(ut=>ut.edgeLookup.get(e));const M=useStore(ut=>ut.defaultEdgeOptions);B=M?{...M,...B}:B;let O=B.type||"default",F=E?.[O]||builtinEdgeTypes[O];F===void 0&&(_?.("011",errorMessages.error011(O)),O="default",F=E?.default||builtinEdgeTypes.default);const $=!!(B.focusable||t&&typeof B.focusable>"u"),z=typeof v<"u"&&(B.reconnectable||n&&typeof B.reconnectable>"u"),se=!!(B.selectable||o&&typeof B.selectable>"u"),ce=reactExports.useRef(null),[ie,pe]=reactExports.useState(!1),[xe,Ae]=reactExports.useState(!1),ue=useStoreApi(),{zIndex:Y,sourceX:fe,sourceY:H,targetX:le,targetY:de,sourcePosition:ye,targetPosition:ge}=useStore(reactExports.useCallback(ut=>{const mt=ut.nodeLookup.get(B.source),St=ut.nodeLookup.get(B.target);if(!mt||!St)return{zIndex:B.zIndex,...nullPosition};const or=getEdgePosition({id:e,sourceNode:mt,targetNode:St,sourceHandle:B.sourceHandle||null,targetHandle:B.targetHandle||null,connectionMode:ut.connectionMode,onError:_});return{zIndex:getElevatedEdgeZIndex({selected:B.selected,zIndex:B.zIndex,sourceNode:mt,targetNode:St,elevateOnSelect:ut.elevateEdgesOnSelect,zIndexMode:ut.zIndexMode}),...or||nullPosition}},[B.source,B.target,B.sourceHandle,B.targetHandle,B.selected,B.zIndex]),shallow$1),je=reactExports.useMemo(()=>B.markerStart?`url('#${getMarkerId(B.markerStart,j)}')`:void 0,[B.markerStart,j]),Me=reactExports.useMemo(()=>B.markerEnd?`url('#${getMarkerId(B.markerEnd,j)}')`:void 0,[B.markerEnd,j]);if(B.hidden||fe===null||H===null||le===null||de===null)return null;const He=ut=>{const{addSelectedEdges:mt,unselectNodesAndEdges:St,multiSelectionActive:or}=ue.getState();se&&(ue.setState({nodesSelectionActive:!1}),B.selected&&or?(St({nodes:[],edges:[B]}),ce.current?.blur()):mt([e])),l&&l(ut,B)},Qe=u?ut=>{u(ut,{...B})}:void 0,ze=d?ut=>{d(ut,{...B})}:void 0,Ve=A?ut=>{A(ut,{...B})}:void 0,tt=m?ut=>{m(ut,{...B})}:void 0,nt=f?ut=>{f(ut,{...B})}:void 0,Ye=ut=>{if(!N&&elementSelectionKeys.includes(ut.key)&&se){const{unselectNodesAndEdges:mt,addSelectedEdges:St}=ue.getState();ut.key==="Escape"?(ce.current?.blur(),mt({edges:[B]})):St([e])}};return jsxRuntimeExports.jsx("svg",{style:{zIndex:Y},children:jsxRuntimeExports.jsxs("g",{className:cc(["react-flow__edge",`react-flow__edge-${O}`,B.className,R,{selected:B.selected,animated:B.animated,inactive:!se&&!l,updating:ie,selectable:se}]),onClick:He,onDoubleClick:Qe,onContextMenu:ze,onMouseEnter:Ve,onMouseMove:tt,onMouseLeave:nt,onKeyDown:$?Ye:void 0,tabIndex:$?0:void 0,role:B.ariaRole??($?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":B.ariaLabel===null?void 0:B.ariaLabel||`Edge from ${B.source} to ${B.target}`,"aria-describedby":$?`${ARIA_EDGE_DESC_KEY}-${j}`:void 0,ref:ce,...B.domAttributes,children:[!xe&&jsxRuntimeExports.jsx(F,{id:e,source:B.source,target:B.target,type:B.type,selected:B.selected,animated:B.animated,selectable:se,deletable:B.deletable??!0,label:B.label,labelStyle:B.labelStyle,labelShowBg:B.labelShowBg,labelBgStyle:B.labelBgStyle,labelBgPadding:B.labelBgPadding,labelBgBorderRadius:B.labelBgBorderRadius,sourceX:fe,sourceY:H,targetX:le,targetY:de,sourcePosition:ye,targetPosition:ge,data:B.data,style:B.style,sourceHandleId:B.sourceHandle,targetHandleId:B.targetHandle,markerStart:je,markerEnd:Me,pathOptions:"pathOptions"in B?B.pathOptions:void 0,interactionWidth:B.interactionWidth}),z&&jsxRuntimeExports.jsx(EdgeUpdateAnchors,{edge:B,isReconnectable:z,reconnectRadius:g,onReconnect:v,onReconnectStart:b,onReconnectEnd:w,sourceX:fe,sourceY:H,targetX:le,targetY:de,sourcePosition:ye,targetPosition:ge,setUpdateHover:pe,setReconnecting:Ae})]})})}var EdgeWrapper$1=reactExports.memo(EdgeWrapper);const selector$a=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function EdgeRendererComponent({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:l,onReconnect:u,onEdgeContextMenu:d,onEdgeMouseEnter:A,onEdgeMouseMove:m,onEdgeMouseLeave:f,onEdgeClick:g,reconnectRadius:v,onEdgeDoubleClick:b,onReconnectStart:w,onReconnectEnd:j,disableKeyboardA11y:E}){const{edgesFocusable:R,edgesReconnectable:_,elementsSelectable:N,onError:B}=useStore(selector$a,shallow$1),M=useVisibleEdgeIds(t);return jsxRuntimeExports.jsxs("div",{className:"react-flow__edges",children:[jsxRuntimeExports.jsx(MarkerDefinitions$1,{defaultColor:e,rfId:n}),M.map(O=>jsxRuntimeExports.jsx(EdgeWrapper$1,{id:O,edgesFocusable:R,edgesReconnectable:_,elementsSelectable:N,noPanClassName:l,onReconnect:u,onContextMenu:d,onMouseEnter:A,onMouseMove:m,onMouseLeave:f,onClick:g,reconnectRadius:v,onDoubleClick:b,onReconnectStart:w,onReconnectEnd:j,rfId:n,onError:B,edgeTypes:o,disableKeyboardA11y:E},O))]})}EdgeRendererComponent.displayName="EdgeRenderer";const EdgeRenderer=reactExports.memo(EdgeRendererComponent),selector$9=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Viewport({children:e}){const t=useStore(selector$9);return jsxRuntimeExports.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function useOnInitHandler(e){const t=useReactFlow(),n=reactExports.useRef(!1);reactExports.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const selector$8=e=>e.panZoom?.syncViewport;function useViewportSync(e){const t=useStore(selector$8),n=useStoreApi();return reactExports.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function storeSelector$1(e){return e.connection.inProgress?{...e.connection,to:pointToRendererPoint(e.connection.to,e.transform)}:{...e.connection}}function getSelector(e){return storeSelector$1}function useConnection(e){const t=getSelector();return useStore(t,shallow$1)}const selector$7=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function ConnectionLineWrapper({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:l,width:u,height:d,isValid:A,inProgress:m}=useStore(selector$7,shallow$1);return!(u&&l&&m)?null:jsxRuntimeExports.jsx("svg",{style:e,width:u,height:d,className:"react-flow__connectionline react-flow__container",children:jsxRuntimeExports.jsx("g",{className:cc(["react-flow__connection",getConnectionStatus(A)]),children:jsxRuntimeExports.jsx(ConnectionLine,{style:t,type:n,CustomComponent:o,isValid:A})})})}const ConnectionLine=({style:e,type:t=ConnectionLineType.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:l,from:u,fromNode:d,fromHandle:A,fromPosition:m,to:f,toNode:g,toHandle:v,toPosition:b,pointer:w}=useConnection();if(!l)return;if(n)return jsxRuntimeExports.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:d,fromHandle:A,fromX:u.x,fromY:u.y,toX:f.x,toY:f.y,fromPosition:m,toPosition:b,connectionStatus:getConnectionStatus(o),toNode:g,toHandle:v,pointer:w});let j="";const E={sourceX:u.x,sourceY:u.y,sourcePosition:m,targetX:f.x,targetY:f.y,targetPosition:b};switch(t){case ConnectionLineType.Bezier:[j]=getBezierPath(E);break;case ConnectionLineType.SimpleBezier:[j]=getSimpleBezierPath(E);break;case ConnectionLineType.Step:[j]=getSmoothStepPath({...E,borderRadius:0});break;case ConnectionLineType.SmoothStep:[j]=getSmoothStepPath(E);break;default:[j]=getStraightPath(E)}return jsxRuntimeExports.jsx("path",{d:j,fill:"none",className:"react-flow__connection-path",style:e})};ConnectionLine.displayName="ConnectionLine";const emptyTypes={};function useNodeOrEdgeTypesWarning(e=emptyTypes){reactExports.useRef(e),useStoreApi(),reactExports.useEffect(()=>{},[e])}function useStylesLoadedWarning(){useStoreApi(),reactExports.useRef(!1),reactExports.useEffect(()=>{},[])}function GraphViewComponent({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:A,onNodeMouseMove:m,onNodeMouseLeave:f,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:b,onSelectionEnd:w,connectionLineType:j,connectionLineStyle:E,connectionLineComponent:R,connectionLineContainerStyle:_,selectionKeyCode:N,selectionOnDrag:B,selectionMode:M,multiSelectionKeyCode:O,panActivationKeyCode:F,zoomActivationKeyCode:$,deleteKeyCode:z,onlyRenderVisibleElements:se,elementsSelectable:ce,defaultViewport:ie,translateExtent:pe,minZoom:xe,maxZoom:Ae,preventScrolling:ue,defaultMarkerColor:Y,zoomOnScroll:fe,zoomOnPinch:H,panOnScroll:le,panOnScrollSpeed:de,panOnScrollMode:ye,zoomOnDoubleClick:ge,panOnDrag:je,onPaneClick:Me,onPaneMouseEnter:He,onPaneMouseMove:Qe,onPaneMouseLeave:ze,onPaneScroll:Ve,onPaneContextMenu:tt,paneClickDistance:nt,nodeClickDistance:Ye,onEdgeContextMenu:ut,onEdgeMouseEnter:mt,onEdgeMouseMove:St,onEdgeMouseLeave:or,reconnectRadius:Zt,onReconnect:Bt,onReconnectStart:ur,onReconnectEnd:Nr,noDragClassName:Qr,noWheelClassName:$r,noPanClassName:on,disableKeyboardA11y:wn,nodeExtent:En,rfId:en,viewport:Pt,onViewportChange:ar}){return useNodeOrEdgeTypesWarning(e),useNodeOrEdgeTypesWarning(t),useStylesLoadedWarning(),useOnInitHandler(n),useViewportSync(Pt),jsxRuntimeExports.jsx(FlowRenderer,{onPaneClick:Me,onPaneMouseEnter:He,onPaneMouseMove:Qe,onPaneMouseLeave:ze,onPaneContextMenu:tt,onPaneScroll:Ve,paneClickDistance:nt,deleteKeyCode:z,selectionKeyCode:N,selectionOnDrag:B,selectionMode:M,onSelectionStart:b,onSelectionEnd:w,multiSelectionKeyCode:O,panActivationKeyCode:F,zoomActivationKeyCode:$,elementsSelectable:ce,zoomOnScroll:fe,zoomOnPinch:H,zoomOnDoubleClick:ge,panOnScroll:le,panOnScrollSpeed:de,panOnScrollMode:ye,panOnDrag:je,defaultViewport:ie,translateExtent:pe,minZoom:xe,maxZoom:Ae,onSelectionContextMenu:v,preventScrolling:ue,noDragClassName:Qr,noWheelClassName:$r,noPanClassName:on,disableKeyboardA11y:wn,onViewportChange:ar,isControlledViewport:!!Pt,children:jsxRuntimeExports.jsxs(Viewport,{children:[jsxRuntimeExports.jsx(EdgeRenderer,{edgeTypes:t,onEdgeClick:l,onEdgeDoubleClick:d,onReconnect:Bt,onReconnectStart:ur,onReconnectEnd:Nr,onlyRenderVisibleElements:se,onEdgeContextMenu:ut,onEdgeMouseEnter:mt,onEdgeMouseMove:St,onEdgeMouseLeave:or,reconnectRadius:Zt,defaultMarkerColor:Y,noPanClassName:on,disableKeyboardA11y:wn,rfId:en}),jsxRuntimeExports.jsx(ConnectionLineWrapper,{style:E,type:j,component:R,containerStyle:_}),jsxRuntimeExports.jsx("div",{className:"react-flow__edgelabel-renderer"}),jsxRuntimeExports.jsx(NodeRenderer,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:u,onNodeMouseEnter:A,onNodeMouseMove:m,onNodeMouseLeave:f,onNodeContextMenu:g,nodeClickDistance:Ye,onlyRenderVisibleElements:se,noPanClassName:on,noDragClassName:Qr,disableKeyboardA11y:wn,nodeExtent:En,rfId:en}),jsxRuntimeExports.jsx("div",{className:"react-flow__viewport-portal"})]})})}GraphViewComponent.displayName="GraphView";const GraphView=reactExports.memo(GraphViewComponent),getInitialState=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:l,height:u,fitView:d,fitViewOptions:A,minZoom:m=.5,maxZoom:f=2,nodeOrigin:g,nodeExtent:v,zIndexMode:b="basic"}={})=>{const w=new Map,j=new Map,E=new Map,R=new Map,_=o??t??[],N=n??e??[],B=g??[0,0],M=v??infiniteExtent;updateConnectionLookup(E,R,_);const O=adoptUserNodes(N,w,j,{nodeOrigin:B,nodeExtent:M,zIndexMode:b});let F=[0,0,1];if(d&&l&&u){const $=getInternalNodesBounds(w,{filter:ie=>!!((ie.width||ie.initialWidth)&&(ie.height||ie.initialHeight))}),{x:z,y:se,zoom:ce}=getViewportForBounds($,l,u,m,f,A?.padding??.1);F=[z,se,ce]}return{rfId:"1",width:l??0,height:u??0,transform:F,nodes:N,nodesInitialized:O,nodeLookup:w,parentLookup:j,edges:_,edgeLookup:R,connectionLookup:E,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:m,maxZoom:f,translateExtent:infiniteExtent,nodeExtent:M,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ConnectionMode.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:B,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:A,fitViewResolver:null,connection:{...initialConnection},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:devWarn,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:defaultAriaLabelConfig,zIndexMode:b,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},createStore=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:l,height:u,fitView:d,fitViewOptions:A,minZoom:m,maxZoom:f,nodeOrigin:g,nodeExtent:v,zIndexMode:b})=>createWithEqualityFn((w,j)=>{async function E(){const{nodeLookup:R,panZoom:_,fitViewOptions:N,fitViewResolver:B,width:M,height:O,minZoom:F,maxZoom:$}=j();_&&(await fitViewport({nodes:R,width:M,height:O,panZoom:_,minZoom:F,maxZoom:$},N),B?.resolve(!0),w({fitViewResolver:null}))}return{...getInitialState({nodes:e,edges:t,width:l,height:u,fitView:d,fitViewOptions:A,minZoom:m,maxZoom:f,nodeOrigin:g,nodeExtent:v,defaultNodes:n,defaultEdges:o,zIndexMode:b}),setNodes:R=>{const{nodeLookup:_,parentLookup:N,nodeOrigin:B,elevateNodesOnSelect:M,fitViewQueued:O,zIndexMode:F}=j(),$=adoptUserNodes(R,_,N,{nodeOrigin:B,nodeExtent:v,elevateNodesOnSelect:M,checkEquality:!0,zIndexMode:F});O&&$?(E(),w({nodes:R,nodesInitialized:$,fitViewQueued:!1,fitViewOptions:void 0})):w({nodes:R,nodesInitialized:$})},setEdges:R=>{const{connectionLookup:_,edgeLookup:N}=j();updateConnectionLookup(_,N,R),w({edges:R})},setDefaultNodesAndEdges:(R,_)=>{if(R){const{setNodes:N}=j();N(R),w({hasDefaultNodes:!0})}if(_){const{setEdges:N}=j();N(_),w({hasDefaultEdges:!0})}},updateNodeInternals:R=>{const{triggerNodeChanges:_,nodeLookup:N,parentLookup:B,domNode:M,nodeOrigin:O,nodeExtent:F,debug:$,fitViewQueued:z,zIndexMode:se}=j(),{changes:ce,updatedInternals:ie}=updateNodeInternals(R,N,B,M,O,F,se);ie&&(updateAbsolutePositions(N,B,{nodeOrigin:O,nodeExtent:F,zIndexMode:se}),z?(E(),w({fitViewQueued:!1,fitViewOptions:void 0})):w({}),ce?.length>0&&($&&console.log("React Flow: trigger node changes",ce),_?.(ce)))},updateNodePositions:(R,_=!1)=>{const N=[];let B=[];const{nodeLookup:M,triggerNodeChanges:O,connection:F,updateConnection:$,onNodesChangeMiddlewareMap:z}=j();for(const[se,ce]of R){const ie=M.get(se),pe=!!(ie?.expandParent&&ie?.parentId&&ce?.position),xe={id:se,type:"position",position:pe?{x:Math.max(0,ce.position.x),y:Math.max(0,ce.position.y)}:ce.position,dragging:_};if(ie&&F.inProgress&&F.fromNode.id===ie.id){const Ae=getHandlePosition(ie,F.fromHandle,Position.Left,!0);$({...F,from:Ae})}pe&&ie.parentId&&N.push({id:se,parentId:ie.parentId,rect:{...ce.internals.positionAbsolute,width:ce.measured.width??0,height:ce.measured.height??0}}),B.push(xe)}if(N.length>0){const{parentLookup:se,nodeOrigin:ce}=j(),ie=handleExpandParent(N,M,se,ce);B.push(...ie)}for(const se of z.values())B=se(B);O(B)},triggerNodeChanges:R=>{const{onNodesChange:_,setNodes:N,nodes:B,hasDefaultNodes:M,debug:O}=j();if(R?.length){if(M){const F=applyNodeChanges(R,B);N(F)}O&&console.log("React Flow: trigger node changes",R),_?.(R)}},triggerEdgeChanges:R=>{const{onEdgesChange:_,setEdges:N,edges:B,hasDefaultEdges:M,debug:O}=j();if(R?.length){if(M){const F=applyEdgeChanges(R,B);N(F)}O&&console.log("React Flow: trigger edge changes",R),_?.(R)}},addSelectedNodes:R=>{const{multiSelectionActive:_,edgeLookup:N,nodeLookup:B,triggerNodeChanges:M,triggerEdgeChanges:O}=j();if(_){const F=R.map($=>createSelectionChange($,!0));M(F);return}M(getSelectionChanges(B,new Set([...R]),!0)),O(getSelectionChanges(N))},addSelectedEdges:R=>{const{multiSelectionActive:_,edgeLookup:N,nodeLookup:B,triggerNodeChanges:M,triggerEdgeChanges:O}=j();if(_){const F=R.map($=>createSelectionChange($,!0));O(F);return}O(getSelectionChanges(N,new Set([...R]))),M(getSelectionChanges(B,new Set,!0))},unselectNodesAndEdges:({nodes:R,edges:_}={})=>{const{edges:N,nodes:B,nodeLookup:M,triggerNodeChanges:O,triggerEdgeChanges:F}=j(),$=R||B,z=_||N,se=$.map(ie=>{const pe=M.get(ie.id);return pe&&(pe.selected=!1),createSelectionChange(ie.id,!1)}),ce=z.map(ie=>createSelectionChange(ie.id,!1));O(se),F(ce)},setMinZoom:R=>{const{panZoom:_,maxZoom:N}=j();_?.setScaleExtent([R,N]),w({minZoom:R})},setMaxZoom:R=>{const{panZoom:_,minZoom:N}=j();_?.setScaleExtent([N,R]),w({maxZoom:R})},setTranslateExtent:R=>{j().panZoom?.setTranslateExtent(R),w({translateExtent:R})},resetSelectedElements:()=>{const{edges:R,nodes:_,triggerNodeChanges:N,triggerEdgeChanges:B,elementsSelectable:M}=j();if(!M)return;const O=_.reduce(($,z)=>z.selected?[...$,createSelectionChange(z.id,!1)]:$,[]),F=R.reduce(($,z)=>z.selected?[...$,createSelectionChange(z.id,!1)]:$,[]);N(O),B(F)},setNodeExtent:R=>{const{nodes:_,nodeLookup:N,parentLookup:B,nodeOrigin:M,elevateNodesOnSelect:O,nodeExtent:F,zIndexMode:$}=j();R[0][0]===F[0][0]&&R[0][1]===F[0][1]&&R[1][0]===F[1][0]&&R[1][1]===F[1][1]||(adoptUserNodes(_,N,B,{nodeOrigin:M,nodeExtent:R,elevateNodesOnSelect:O,checkEquality:!1,zIndexMode:$}),w({nodeExtent:R}))},panBy:R=>{const{transform:_,width:N,height:B,panZoom:M,translateExtent:O}=j();return panBy({delta:R,panZoom:M,transform:_,translateExtent:O,width:N,height:B})},setCenter:async(R,_,N)=>{const{width:B,height:M,maxZoom:O,panZoom:F}=j();if(!F)return Promise.resolve(!1);const $=typeof N?.zoom<"u"?N.zoom:O;return await F.setViewport({x:B/2-R*$,y:M/2-_*$,zoom:$},{duration:N?.duration,ease:N?.ease,interpolate:N?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{w({connection:{...initialConnection}})},updateConnection:R=>{w({connection:R})},reset:()=>w({...getInitialState()})}},Object.is);function ReactFlowProvider({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:l,initialHeight:u,initialMinZoom:d,initialMaxZoom:A,initialFitViewOptions:m,fitView:f,nodeOrigin:g,nodeExtent:v,zIndexMode:b,children:w}){const[j]=reactExports.useState(()=>createStore({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:l,height:u,fitView:f,minZoom:d,maxZoom:A,fitViewOptions:m,nodeOrigin:g,nodeExtent:v,zIndexMode:b}));return jsxRuntimeExports.jsx(Provider$1,{value:j,children:jsxRuntimeExports.jsx(BatchProvider,{children:w})})}function Wrapper({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:l,width:u,height:d,fitView:A,fitViewOptions:m,minZoom:f,maxZoom:g,nodeOrigin:v,nodeExtent:b,zIndexMode:w}){return reactExports.useContext(StoreContext)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e}):jsxRuntimeExports.jsx(ReactFlowProvider,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:l,initialWidth:u,initialHeight:d,fitView:A,initialFitViewOptions:m,initialMinZoom:f,initialMaxZoom:g,nodeOrigin:v,nodeExtent:b,zIndexMode:w,children:e})}const wrapperStyle={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ReactFlow({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:l,nodeTypes:u,edgeTypes:d,onNodeClick:A,onEdgeClick:m,onInit:f,onMove:g,onMoveStart:v,onMoveEnd:b,onConnect:w,onConnectStart:j,onConnectEnd:E,onClickConnectStart:R,onClickConnectEnd:_,onNodeMouseEnter:N,onNodeMouseMove:B,onNodeMouseLeave:M,onNodeContextMenu:O,onNodeDoubleClick:F,onNodeDragStart:$,onNodeDrag:z,onNodeDragStop:se,onNodesDelete:ce,onEdgesDelete:ie,onDelete:pe,onSelectionChange:xe,onSelectionDragStart:Ae,onSelectionDrag:ue,onSelectionDragStop:Y,onSelectionContextMenu:fe,onSelectionStart:H,onSelectionEnd:le,onBeforeDelete:de,connectionMode:ye,connectionLineType:ge=ConnectionLineType.Bezier,connectionLineStyle:je,connectionLineComponent:Me,connectionLineContainerStyle:He,deleteKeyCode:Qe="Backspace",selectionKeyCode:ze="Shift",selectionOnDrag:Ve=!1,selectionMode:tt=SelectionMode.Full,panActivationKeyCode:nt="Space",multiSelectionKeyCode:Ye=isMacOs()?"Meta":"Control",zoomActivationKeyCode:ut=isMacOs()?"Meta":"Control",snapToGrid:mt,snapGrid:St,onlyRenderVisibleElements:or=!1,selectNodesOnDrag:Zt,nodesDraggable:Bt,autoPanOnNodeFocus:ur,nodesConnectable:Nr,nodesFocusable:Qr,nodeOrigin:$r=defaultNodeOrigin,edgesFocusable:on,edgesReconnectable:wn,elementsSelectable:En=!0,defaultViewport:en=defaultViewport,minZoom:Pt=.5,maxZoom:ar=2,translateExtent:Xr=infiniteExtent,preventScrolling:Cn=!0,nodeExtent:tn,defaultMarkerColor:vn="#b1b1b7",zoomOnScroll:bn=!0,zoomOnPinch:Br=!0,panOnScroll:Dt=!1,panOnScrollSpeed:Tr=.5,panOnScrollMode:qr=PanOnScrollMode.Free,zoomOnDoubleClick:Zr=!0,panOnDrag:jn=!0,onPaneClick:rn,onPaneMouseEnter:Kn,onPaneMouseMove:an,onPaneMouseLeave:Dr,onPaneScroll:Hn,onPaneContextMenu:Tn,paneClickDistance:es=1,nodeClickDistance:ps=0,children:Ti,onReconnect:ui,onReconnectStart:vi,onReconnectEnd:fs,onEdgeContextMenu:Sn,onEdgeDoubleClick:Vs,onEdgeMouseEnter:zi,onEdgeMouseMove:zn,onEdgeMouseLeave:wi,reconnectRadius:mi=10,onNodesChange:gi,onEdgesChange:Ni,noDragClassName:Hs="nodrag",noWheelClassName:Xi="nowheel",noPanClassName:Bs="nopan",fitView:Gi,fitViewOptions:Ss,connectOnClick:La,attributionPosition:Qi,proOptions:Pi,defaultEdgeOptions:Ot,elevateNodesOnSelect:sn=!0,elevateEdgesOnSelect:mn=!1,disableKeyboardA11y:ji=!1,autoPanOnConnect:As,autoPanOnNodeDrag:Ji,autoPanSpeed:si,connectionRadius:Ra,isValidConnection:aa,onError:wa,style:oa,id:Gt,nodeDragThreshold:Ar,connectionDragThreshold:hn,viewport:Yr,onViewportChange:Gs,width:Xs,height:Si,colorMode:$s="light",debug:Wn,onScroll:Ks,ariaLabelConfig:xi,zIndexMode:Cs="basic",...yi},Js){const fa=Gt||"1",ki=useColorModeClass($s),Bi=reactExports.useCallback(Ki=>{Ki.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ks?.(Ki)},[Ks]);return jsxRuntimeExports.jsx("div",{"data-testid":"rf__wrapper",...yi,onScroll:Bi,style:{...oa,...wrapperStyle},ref:Js,className:cc(["react-flow",l,ki]),id:Gt,role:"application",children:jsxRuntimeExports.jsxs(Wrapper,{nodes:e,edges:t,width:Xs,height:Si,fitView:Gi,fitViewOptions:Ss,minZoom:Pt,maxZoom:ar,nodeOrigin:$r,nodeExtent:tn,zIndexMode:Cs,children:[jsxRuntimeExports.jsx(GraphView,{onInit:f,onNodeClick:A,onEdgeClick:m,onNodeMouseEnter:N,onNodeMouseMove:B,onNodeMouseLeave:M,onNodeContextMenu:O,onNodeDoubleClick:F,nodeTypes:u,edgeTypes:d,connectionLineType:ge,connectionLineStyle:je,connectionLineComponent:Me,connectionLineContainerStyle:He,selectionKeyCode:ze,selectionOnDrag:Ve,selectionMode:tt,deleteKeyCode:Qe,multiSelectionKeyCode:Ye,panActivationKeyCode:nt,zoomActivationKeyCode:ut,onlyRenderVisibleElements:or,defaultViewport:en,translateExtent:Xr,minZoom:Pt,maxZoom:ar,preventScrolling:Cn,zoomOnScroll:bn,zoomOnPinch:Br,zoomOnDoubleClick:Zr,panOnScroll:Dt,panOnScrollSpeed:Tr,panOnScrollMode:qr,panOnDrag:jn,onPaneClick:rn,onPaneMouseEnter:Kn,onPaneMouseMove:an,onPaneMouseLeave:Dr,onPaneScroll:Hn,onPaneContextMenu:Tn,paneClickDistance:es,nodeClickDistance:ps,onSelectionContextMenu:fe,onSelectionStart:H,onSelectionEnd:le,onReconnect:ui,onReconnectStart:vi,onReconnectEnd:fs,onEdgeContextMenu:Sn,onEdgeDoubleClick:Vs,onEdgeMouseEnter:zi,onEdgeMouseMove:zn,onEdgeMouseLeave:wi,reconnectRadius:mi,defaultMarkerColor:vn,noDragClassName:Hs,noWheelClassName:Xi,noPanClassName:Bs,rfId:fa,disableKeyboardA11y:ji,nodeExtent:tn,viewport:Yr,onViewportChange:Gs}),jsxRuntimeExports.jsx(StoreUpdater,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:w,onConnectStart:j,onConnectEnd:E,onClickConnectStart:R,onClickConnectEnd:_,nodesDraggable:Bt,autoPanOnNodeFocus:ur,nodesConnectable:Nr,nodesFocusable:Qr,edgesFocusable:on,edgesReconnectable:wn,elementsSelectable:En,elevateNodesOnSelect:sn,elevateEdgesOnSelect:mn,minZoom:Pt,maxZoom:ar,nodeExtent:tn,onNodesChange:gi,onEdgesChange:Ni,snapToGrid:mt,snapGrid:St,connectionMode:ye,translateExtent:Xr,connectOnClick:La,defaultEdgeOptions:Ot,fitView:Gi,fitViewOptions:Ss,onNodesDelete:ce,onEdgesDelete:ie,onDelete:pe,onNodeDragStart:$,onNodeDrag:z,onNodeDragStop:se,onSelectionDrag:ue,onSelectionDragStart:Ae,onSelectionDragStop:Y,onMove:g,onMoveStart:v,onMoveEnd:b,noPanClassName:Bs,nodeOrigin:$r,rfId:fa,autoPanOnConnect:As,autoPanOnNodeDrag:Ji,autoPanSpeed:si,onError:wa,connectionRadius:Ra,isValidConnection:aa,selectNodesOnDrag:Zt,nodeDragThreshold:Ar,connectionDragThreshold:hn,onBeforeDelete:de,debug:Wn,ariaLabelConfig:xi,zIndexMode:Cs}),jsxRuntimeExports.jsx(SelectionListener,{onSelectionChange:xe}),Ti,jsxRuntimeExports.jsx(Attribution,{proOptions:Pi,position:Qi}),jsxRuntimeExports.jsx(A11yDescriptions,{rfId:fa,disableKeyboardA11y:ji})]})})}var index=fixedForwardRef(ReactFlow);function useNodesState(e){const[t,n]=reactExports.useState(e),o=reactExports.useCallback(l=>n(u=>applyNodeChanges(l,u)),[]);return[t,n,o]}function useEdgesState(e){const[t,n]=reactExports.useState(e),o=reactExports.useCallback(l=>n(u=>applyEdgeChanges(l,u)),[]);return[t,n,o]}function LinePattern({dimensions:e,lineWidth:t,variant:n,className:o}){return jsxRuntimeExports.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:cc(["react-flow__background-pattern",n,o])})}function DotPattern({radius:e,className:t}){return jsxRuntimeExports.jsx("circle",{cx:e,cy:e,r:e,className:cc(["react-flow__background-pattern","dots",t])})}var BackgroundVariant;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(BackgroundVariant||(BackgroundVariant={}));const defaultSize={[BackgroundVariant.Dots]:1,[BackgroundVariant.Lines]:1,[BackgroundVariant.Cross]:6},selector$3=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function BackgroundComponent({id:e,variant:t=BackgroundVariant.Dots,gap:n=20,size:o,lineWidth:l=1,offset:u=0,color:d,bgColor:A,style:m,className:f,patternClassName:g}){const v=reactExports.useRef(null),{transform:b,patternId:w}=useStore(selector$3,shallow$1),j=o||defaultSize[t],E=t===BackgroundVariant.Dots,R=t===BackgroundVariant.Cross,_=Array.isArray(n)?n:[n,n],N=[_[0]*b[2]||1,_[1]*b[2]||1],B=j*b[2],M=Array.isArray(u)?u:[u,u],O=R?[B,B]:N,F=[M[0]*b[2]||1+O[0]/2,M[1]*b[2]||1+O[1]/2],$=`${w}${e||""}`;return jsxRuntimeExports.jsxs("svg",{className:cc(["react-flow__background",f]),style:{...m,...containerStyle,"--xy-background-color-props":A,"--xy-background-pattern-color-props":d},ref:v,"data-testid":"rf__background",children:[jsxRuntimeExports.jsx("pattern",{id:$,x:b[0]%N[0],y:b[1]%N[1],width:N[0],height:N[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`,children:E?jsxRuntimeExports.jsx(DotPattern,{radius:B/2,className:g}):jsxRuntimeExports.jsx(LinePattern,{dimensions:O,lineWidth:l,variant:t,className:g})}),jsxRuntimeExports.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${$})`})]})}BackgroundComponent.displayName="Background";const Background=reactExports.memo(BackgroundComponent);function PlusIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:jsxRuntimeExports.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function MinusIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:jsxRuntimeExports.jsx("path",{d:"M0 0h32v4.2H0z"})})}function FitViewIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:jsxRuntimeExports.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function LockIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:jsxRuntimeExports.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function UnlockIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:jsxRuntimeExports.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ControlButton({children:e,className:t,...n}){return jsxRuntimeExports.jsx("button",{type:"button",className:cc(["react-flow__controls-button",t]),...n,children:e})}const selector$2=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ControlsComponent({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:d,onFitView:A,onInteractiveChange:m,className:f,children:g,position:v="bottom-left",orientation:b="vertical","aria-label":w}){const j=useStoreApi(),{isInteractive:E,minZoomReached:R,maxZoomReached:_,ariaLabelConfig:N}=useStore(selector$2,shallow$1),{zoomIn:B,zoomOut:M,fitView:O}=useReactFlow(),F=()=>{B(),u?.()},$=()=>{M(),d?.()},z=()=>{O(l),A?.()},se=()=>{j.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),m?.(!E)},ce=b==="horizontal"?"horizontal":"vertical";return jsxRuntimeExports.jsxs(Panel,{className:cc(["react-flow__controls",ce,f]),position:v,style:e,"data-testid":"rf__controls","aria-label":w??N["controls.ariaLabel"],children:[t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ControlButton,{onClick:F,className:"react-flow__controls-zoomin",title:N["controls.zoomIn.ariaLabel"],"aria-label":N["controls.zoomIn.ariaLabel"],disabled:_,children:jsxRuntimeExports.jsx(PlusIcon,{})}),jsxRuntimeExports.jsx(ControlButton,{onClick:$,className:"react-flow__controls-zoomout",title:N["controls.zoomOut.ariaLabel"],"aria-label":N["controls.zoomOut.ariaLabel"],disabled:R,children:jsxRuntimeExports.jsx(MinusIcon,{})})]}),n&&jsxRuntimeExports.jsx(ControlButton,{className:"react-flow__controls-fitview",onClick:z,title:N["controls.fitView.ariaLabel"],"aria-label":N["controls.fitView.ariaLabel"],children:jsxRuntimeExports.jsx(FitViewIcon,{})}),o&&jsxRuntimeExports.jsx(ControlButton,{className:"react-flow__controls-interactive",onClick:se,title:N["controls.interactive.ariaLabel"],"aria-label":N["controls.interactive.ariaLabel"],children:E?jsxRuntimeExports.jsx(UnlockIcon,{}):jsxRuntimeExports.jsx(LockIcon,{})}),g]})}ControlsComponent.displayName="Controls";const Controls=reactExports.memo(ControlsComponent);function MiniMapNodeComponent({id:e,x:t,y:n,width:o,height:l,style:u,color:d,strokeColor:A,strokeWidth:m,className:f,borderRadius:g,shapeRendering:v,selected:b,onClick:w}){const{background:j,backgroundColor:E}=u||{},R=d||j||E;return jsxRuntimeExports.jsx("rect",{className:cc(["react-flow__minimap-node",{selected:b},f]),x:t,y:n,rx:g,ry:g,width:o,height:l,style:{fill:R,stroke:A,strokeWidth:m},shapeRendering:v,onClick:w?_=>w(_,e):void 0})}const MiniMapNode=reactExports.memo(MiniMapNodeComponent),selectorNodeIds=e=>e.nodes.map(t=>t.id),getAttrFunction=e=>e instanceof Function?e:()=>e;function MiniMapNodes({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:u=MiniMapNode,onClick:d}){const A=useStore(selectorNodeIds,shallow$1),m=getAttrFunction(t),f=getAttrFunction(e),g=getAttrFunction(n),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:A.map(b=>jsxRuntimeExports.jsx(NodeComponentWrapper,{id:b,nodeColorFunc:m,nodeStrokeColorFunc:f,nodeClassNameFunc:g,nodeBorderRadius:o,nodeStrokeWidth:l,NodeComponent:u,onClick:d,shapeRendering:v},b))})}function NodeComponentWrapperInner({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:l,nodeStrokeWidth:u,shapeRendering:d,NodeComponent:A,onClick:m}){const{node:f,x:g,y:v,width:b,height:w}=useStore(j=>{const{internals:E}=j.nodeLookup.get(e),R=E.userNode,{x:_,y:N}=E.positionAbsolute,{width:B,height:M}=getNodeDimensions(R);return{node:R,x:_,y:N,width:B,height:M}},shallow$1);return!f||f.hidden||!nodeHasDimensions(f)?null:jsxRuntimeExports.jsx(A,{x:g,y:v,width:b,height:w,style:f.style,selected:!!f.selected,className:o(f),color:t(f),borderRadius:l,strokeColor:n(f),strokeWidth:u,shapeRendering:d,onClick:m,id:f.id})}const NodeComponentWrapper=reactExports.memo(NodeComponentWrapperInner);var MiniMapNodes$1=reactExports.memo(MiniMapNodes);const defaultWidth=200,defaultHeight=150,filterHidden=e=>!e.hidden,selector$1=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?getBoundsOfRects(getInternalNodesBounds(e.nodeLookup,{filter:filterHidden}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},ARIA_LABEL_KEY="react-flow__minimap-desc";function MiniMapComponent({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:d,nodeComponent:A,bgColor:m,maskColor:f,maskStrokeColor:g,maskStrokeWidth:v,position:b="bottom-right",onClick:w,onNodeClick:j,pannable:E=!1,zoomable:R=!1,ariaLabel:_,inversePan:N,zoomStep:B=1,offsetScale:M=5}){const O=useStoreApi(),F=reactExports.useRef(null),{boundingRect:$,viewBB:z,rfId:se,panZoom:ce,translateExtent:ie,flowWidth:pe,flowHeight:xe,ariaLabelConfig:Ae}=useStore(selector$1,shallow$1),ue=e?.width??defaultWidth,Y=e?.height??defaultHeight,fe=$.width/ue,H=$.height/Y,le=Math.max(fe,H),de=le*ue,ye=le*Y,ge=M*le,je=$.x-(de-$.width)/2-ge,Me=$.y-(ye-$.height)/2-ge,He=de+ge*2,Qe=ye+ge*2,ze=`${ARIA_LABEL_KEY}-${se}`,Ve=reactExports.useRef(0),tt=reactExports.useRef();Ve.current=le,reactExports.useEffect(()=>{if(F.current&&ce)return tt.current=XYMinimap({domNode:F.current,panZoom:ce,getTransform:()=>O.getState().transform,getViewScale:()=>Ve.current}),()=>{tt.current?.destroy()}},[ce]),reactExports.useEffect(()=>{tt.current?.update({translateExtent:ie,width:pe,height:xe,inversePan:N,pannable:E,zoomStep:B,zoomable:R})},[E,R,N,B,ie,pe,xe]);const nt=w?mt=>{const[St,or]=tt.current?.pointer(mt)||[0,0];w(mt,{x:St,y:or})}:void 0,Ye=j?reactExports.useCallback((mt,St)=>{const or=O.getState().nodeLookup.get(St).internals.userNode;j(mt,or)},[]):void 0,ut=_??Ae["minimap.ariaLabel"];return jsxRuntimeExports.jsx(Panel,{position:b,style:{...e,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof v=="number"?v*le:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:cc(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:jsxRuntimeExports.jsxs("svg",{width:ue,height:Y,viewBox:`${je} ${Me} ${He} ${Qe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ze,ref:F,onClick:nt,children:[ut&&jsxRuntimeExports.jsx("title",{id:ze,children:ut}),jsxRuntimeExports.jsx(MiniMapNodes$1,{onClick:Ye,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:A}),jsxRuntimeExports.jsx("path",{className:"react-flow__minimap-mask",d:`M${je-ge},${Me-ge}h${He+ge*2}v${Qe+ge*2}h${-He-ge*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}MiniMapComponent.displayName="MiniMap";const MiniMap=reactExports.memo(MiniMapComponent),scaleSelector=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,defaultPositions={[ResizeControlVariant.Line]:"right",[ResizeControlVariant.Handle]:"bottom-right"};function ResizeControl({nodeId:e,position:t,variant:n=ResizeControlVariant.Handle,className:o,style:l=void 0,children:u,color:d,minWidth:A=10,minHeight:m=10,maxWidth:f=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:v=!1,resizeDirection:b,autoScale:w=!0,shouldResize:j,onResizeStart:E,onResize:R,onResizeEnd:_}){const N=useNodeId(),B=typeof e=="string"?e:N,M=useStoreApi(),O=reactExports.useRef(null),F=n===ResizeControlVariant.Handle,$=useStore(reactExports.useCallback(scaleSelector(F&&w),[F,w]),shallow$1),z=reactExports.useRef(null),se=t??defaultPositions[n];reactExports.useEffect(()=>{if(!(!O.current||!B))return z.current||(z.current=XYResizer({domNode:O.current,nodeId:B,getStoreItems:()=>{const{nodeLookup:ie,transform:pe,snapGrid:xe,snapToGrid:Ae,nodeOrigin:ue,domNode:Y}=M.getState();return{nodeLookup:ie,transform:pe,snapGrid:xe,snapToGrid:Ae,nodeOrigin:ue,paneDomNode:Y}},onChange:(ie,pe)=>{const{triggerNodeChanges:xe,nodeLookup:Ae,parentLookup:ue,nodeOrigin:Y}=M.getState(),fe=[],H={x:ie.x,y:ie.y},le=Ae.get(B);if(le&&le.expandParent&&le.parentId){const de=le.origin??Y,ye=ie.width??le.measured.width??0,ge=ie.height??le.measured.height??0,je={id:le.id,parentId:le.parentId,rect:{width:ye,height:ge,...evaluateAbsolutePosition({x:ie.x??le.position.x,y:ie.y??le.position.y},{width:ye,height:ge},le.parentId,Ae,de)}},Me=handleExpandParent([je],Ae,ue,Y);fe.push(...Me),H.x=ie.x?Math.max(de[0]*ye,ie.x):void 0,H.y=ie.y?Math.max(de[1]*ge,ie.y):void 0}if(H.x!==void 0&&H.y!==void 0){const de={id:B,type:"position",position:{...H}};fe.push(de)}if(ie.width!==void 0&&ie.height!==void 0){const ye={id:B,type:"dimensions",resizing:!0,setAttributes:b?b==="horizontal"?"width":"height":!0,dimensions:{width:ie.width,height:ie.height}};fe.push(ye)}for(const de of pe){const ye={...de,type:"position"};fe.push(ye)}xe(fe)},onEnd:({width:ie,height:pe})=>{const xe={id:B,type:"dimensions",resizing:!1,dimensions:{width:ie,height:pe}};M.getState().triggerNodeChanges([xe])}})),z.current.update({controlPosition:se,boundaries:{minWidth:A,minHeight:m,maxWidth:f,maxHeight:g},keepAspectRatio:v,resizeDirection:b,onResizeStart:E,onResize:R,onResizeEnd:_,shouldResize:j}),()=>{z.current?.destroy()}},[se,A,m,f,g,v,E,R,_,j]);const ce=se.split("-");return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__resize-control","nodrag",...ce,n,o]),ref:O,style:{...l,scale:$,...d&&{[F?"backgroundColor":"borderColor"]:d}},children:u})}reactExports.memo(ResizeControl);const CustomNode=({data:e,selected:t})=>{const n=e;return jsxRuntimeExports.jsxs("div",{className:`px-4 py-3 shadow-md rounded-lg border-2 transition-all ${n.isConfusion?"bg-amber-50 border-amber-500":"bg-white border-indigo-500"} ${t?"ring-2 ring-cyan-500 ring-offset-2":""}`,style:{minWidth:"120px"},children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:Position.Top,className:"!bg-indigo-500 !w-3 !h-3 !border-2 !border-white",style:{borderRadius:"50%"}}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-slate-800 text-center",children:n.label}),jsxRuntimeExports.jsx(Handle,{type:"source",position:Position.Bottom,className:"!bg-indigo-500 !w-3 !h-3 !border-2 !border-white",style:{borderRadius:"50%"}})]})},nodeTypes={default:CustomNode},ClickCreateMode=({initialData:e,onChange:t,onNodeCreated:n,onNodeEdited:o,onEdgeCreated:l,onConfusionMarked:u})=>{const[d,A]=reactExports.useState(null),[m,f]=reactExports.useState(null),[g,v]=reactExports.useState(""),[b,w]=reactExports.useState(()=>typeof window<"u"?!localStorage.getItem("visualizationEditorGuideShown"):!0),j=reactExports.useRef(null),E=reactExports.useRef(!1),R=reactExports.useRef(""),_=reactExports.useCallback(de=>!de.nodes||de.nodes.length===0?[]:de.nodes.map((ye,ge)=>({id:ye.id,type:"default",position:ye.position||{x:300+ge%3*300,y:200+Math.floor(ge/3)*200},data:{label:ye.label,isConfusion:ye.type==="confusion"}})),[]),N=reactExports.useCallback(de=>(de?.edges||[]).map(ye=>({id:ye.id,source:ye.source,target:ye.target,label:ye.label||"",markerEnd:{type:MarkerType.ArrowClosed,width:20,height:20},style:{strokeWidth:2,stroke:"#6366f1"},labelStyle:{fill:"#64748b",fontWeight:500,fontSize:"12px"}})),[]),B=_(e||{type:"mindmap",nodes:[],edges:[],metadata:{}}),M=N(e||{type:"mindmap",nodes:[],edges:[],metadata:{}}),[O,F,$]=useNodesState(B),[z,se,ce]=useEdgesState(M),ie=reactExports.useCallback((de,ye)=>{de.stopPropagation();const ge=ye.data;f(ye.id),v(ge.label)},[]),pe=reactExports.useCallback((de,ye)=>{de.preventDefault(),A({nodeId:ye.id,x:de.clientX,y:de.clientY})},[]),xe=()=>{const{screenToFlowPosition:de}=useReactFlow(),ye=reactExports.useCallback(je=>{const Me=de({x:je.clientX,y:je.clientY}),He={id:`node_${Date.now()}`,type:"default",position:Me,data:{label:"æ–°æ¦‚å¿µ",isConfusion:!1}},Qe=[...O,He];F(Qe),Ae(Qe,z,{newNodeId:He.id}),A(null)},[O,z,F,A,de,Ae]),ge=reactExports.useCallback(je=>{if(!je.source||!je.target)return;const Me=addEdge(je,z);se(Me);const He=Me[Me.length-1];He&&Ae(O,Me,{newEdgeId:He.id})},[O,z,se,Ae]);return jsxRuntimeExports.jsxs(index,{nodes:O,edges:z,nodeTypes,onNodesChange:$,onEdgesChange:ce,onConnect:ge,onPaneClick:ye,onNodeDoubleClick:ie,onNodeContextMenu:pe,fitView:!0,className:"bg-slate-50",connectionLineStyle:{stroke:"#6366f1",strokeWidth:2},defaultEdgeOptions:{type:"smoothstep",animated:!1,style:{strokeWidth:2,stroke:"#6366f1"},markerEnd:{type:MarkerType.ArrowClosed,width:20,height:20}},children:[jsxRuntimeExports.jsx(Background,{color:"#e5e7eb",gap:16}),jsxRuntimeExports.jsx(Controls,{className:"bg-white border border-slate-200 rounded-lg shadow-sm"}),jsxRuntimeExports.jsx(MiniMap,{className:"bg-white border border-slate-200 rounded-lg shadow-sm",nodeColor:je=>je.data.isConfusion?"#f59e0b":"#6366f1"})]})},Ae=reactExports.useCallback((de,ye,ge={})=>{const je=de.map(ze=>({id:ze.id,label:String(ze.data.label||""),type:ze.data.isConfusion?"confusion":"concept",position:ze.position})),Me=ye.map(ze=>({id:ze.id,source:ze.source,target:ze.target,label:typeof ze.label=="string"?ze.label:ze.label?String(ze.label):void 0,type:"hierarchical"})),He={type:"mindmap",nodes:je,edges:Me,metadata:{centralConcept:String(de[0]?.data.label||"Root"),confusionPoints:de.filter(ze=>ze.data.isConfusion).map(ze=>String(ze.data.label||""))}},Qe=JSON.stringify({nodes:je.map(ze=>({id:ze.id,label:ze.label,type:ze.type})),edges:Me.map(ze=>({id:ze.id,source:ze.source,target:ze.target}))});if(R.current!==Qe&&(R.current=Qe,t(He)),ge.newNodeId){const ze=je.find(Ve=>Ve.id===ge.newNodeId);ze&&n?.(ze)}if(ge.editedNodeId){const ze=je.find(Ve=>Ve.id===ge.editedNodeId);ze&&o?.(ze)}if(ge.newEdgeId){const ze=Me.find(Ve=>Ve.id===ge.newEdgeId);ze&&l?.(ze)}if(ge.confusionNodeId){const ze=je.find(Ve=>Ve.id===ge.confusionNodeId);ze&&u?.(ze.id,ze.label)}},[t,n,o,l,u]);reactExports.useEffect(()=>{if(e){const de=JSON.stringify({nodes:e.nodes.map(je=>({id:je.id,label:je.label,type:je.type})),edges:e.edges.map(je=>({id:je.id,source:je.source,target:je.target}))});if(R.current===de&&E.current)return;const ye=_(e),ge=N(e);F(ye),se(ge),R.current=de,E.current=!0}else E.current||(F([]),se([]),E.current=!0)},[e,_,N,F,se]);const ue=reactExports.useCallback(()=>{if(m&&g.trim()){const de=O.map(ye=>ye.id===m?{...ye,data:{...ye.data,label:g.trim()}}:ye);F(de),Ae(de,z,{editedNodeId:m}),f(null),v("")}},[m,g,O,z,F,Ae]),Y=reactExports.useCallback(()=>{f(null),v("")},[]),fe=reactExports.useCallback(de=>{const ye=O.map(Me=>{if(Me.id===de){const He=Me.data,Qe=!He.isConfusion;return{...Me,data:{...He,isConfusion:Qe},style:{...Me.style,background:Qe?"#fef3c7":"#fff",border:Qe?"2px solid #f59e0b":"2px solid #6366f1"}}}return Me});F(ye);const je=!O.find(Me=>Me.id===de)?.data?.isConfusion;Ae(ye,z,je?{confusionNodeId:de}:{}),A(null)},[O,z,F,Ae]),H=reactExports.useCallback(de=>{const ye=O.filter(je=>je.id!==de),ge=z.filter(je=>je.source!==de&&je.target!==de);F(ye),se(ge),Ae(ye,ge),A(null)},[O,z,F,se,Ae]);reactExports.useEffect(()=>{const de=()=>A(null);if(d)return document.addEventListener("click",de),()=>document.removeEventListener("click",de)},[d]);const le=()=>{w(!1),typeof window<"u"&&localStorage.setItem("visualizationEditorGuideShown","true")};return jsxRuntimeExports.jsx(ReactFlowProvider,{children:jsxRuntimeExports.jsxs("div",{ref:j,className:"w-full h-full relative",children:[b&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl animate-fade-in-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"æ¬¢è¿Žä½¿ç”¨æ€ç»´å¯¼å›¾ç¼–è¾‘å™¨ï¼"}),jsxRuntimeExports.jsx("button",{onClick:le,className:"p-1 rounded-lg hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors",children:jsxRuntimeExports.jsx(X,{size:18})})]}),jsxRuntimeExports.jsxs("ol",{className:"space-y-3 text-sm text-slate-700 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-cyan-100 text-cyan-700 flex items-center justify-center text-xs font-bold",children:"1"}),jsxRuntimeExports.jsx("span",{children:"ç‚¹å‡»ç©ºç™½å¤„åˆ›å»ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-purple-100 text-purple-700 flex items-center justify-center text-xs font-bold",children:"2"}),jsxRuntimeExports.jsx("span",{children:"åŒå‡»èŠ‚ç‚¹ç¼–è¾‘åç§°"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center text-xs font-bold",children:"3"}),jsxRuntimeExports.jsx("span",{children:"æ‹–æ‹½èŠ‚ç‚¹è¾¹ç¼˜çš„è¿žæŽ¥ç‚¹åˆ›å»ºå…³ç³»"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center text-xs font-bold",children:"4"}),jsxRuntimeExports.jsx("span",{children:"å³é”®èŠ‚ç‚¹å¯ä»¥æ ‡è®°å›°æƒ‘ç‚¹æˆ–åˆ é™¤"})]})]}),jsxRuntimeExports.jsx("button",{onClick:le,className:"w-full bg-gradient-to-r from-cyan-600 to-purple-600 text-white py-3 rounded-lg font-bold hover:from-cyan-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl",children:"å¼€å§‹ä½¿ç”¨"})]})}),jsxRuntimeExports.jsx(xe,{}),m&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 min-w-[300px] border border-slate-200",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-slate-800 mb-4",children:"ç¼–è¾‘èŠ‚ç‚¹åç§°"}),jsxRuntimeExports.jsx("input",{type:"text",value:g,onChange:de=>v(de.target.value),onKeyDown:de=>{de.key==="Enter"&&ue(),de.key==="Escape"&&Y()},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 mb-4",autoFocus:!0}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:Y,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"å–æ¶ˆ"}),jsxRuntimeExports.jsx("button",{onClick:ue,disabled:!g.trim(),className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium",children:"ä¿å­˜"})]})]})}),d&&jsxRuntimeExports.jsxs("div",{className:"absolute bg-white border border-slate-200 rounded-lg shadow-lg p-1 z-50 min-w-[180px]",style:{left:d.x,top:d.y},onClick:de=>de.stopPropagation(),children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{const de=O.find(ye=>ye.id===d.nodeId);if(de){const ye=de.data;f(de.id),v(ye.label)}A(null)},className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(Pen,{size:14,className:"text-slate-600"}),jsxRuntimeExports.jsx("span",{children:"ç¼–è¾‘åç§°"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>fe(d.nodeId),className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleHelp,{size:14,className:"text-amber-600"}),jsxRuntimeExports.jsx("span",{children:"æ ‡è®°å›°æƒ‘ç‚¹"})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-slate-200 my-1"}),jsxRuntimeExports.jsxs("button",{onClick:()=>H(d.nodeId),className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 text-red-600 rounded flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trash2,{size:14}),jsxRuntimeExports.jsx("span",{children:"åˆ é™¤èŠ‚ç‚¹"})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm border border-slate-200 rounded-lg p-3 text-xs text-slate-600 shadow-lg max-w-[280px]",children:[jsxRuntimeExports.jsx("p",{className:"font-bold mb-2 text-slate-800",children:"ðŸ’¡ æ“ä½œæç¤ºï¼š"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-1 text-slate-600",children:[jsxRuntimeExports.jsx("li",{children:"â€¢ ç‚¹å‡»ç©ºç™½å¤„åˆ›å»ºæ–°èŠ‚ç‚¹"}),jsxRuntimeExports.jsx("li",{children:"â€¢ åŒå‡»èŠ‚ç‚¹ç¼–è¾‘åç§°"}),jsxRuntimeExports.jsx("li",{children:"â€¢ æ‹–æ‹½èŠ‚ç‚¹è¿žæŽ¥ç‚¹åˆ›å»ºå…³ç³»"}),jsxRuntimeExports.jsx("li",{children:"â€¢ å³é”®èŠ‚ç‚¹æŸ¥çœ‹æ›´å¤šæ“ä½œ"}),jsxRuntimeExports.jsx("li",{children:"â€¢ æ‹–æ‹½èŠ‚ç‚¹è°ƒæ•´ä½ç½®"})]})]})]})})},MindMapRenderer=reactExports.lazy(()=>__vitePreload(()=>import("./MindMapRenderer-CpKJamlP.js"),[]).then(e=>({default:e.MindMapRenderer}))),VisualizationEditor=({initialData:e,onChange:t,onClose:n,editable:o=!0,courseTopic:l,onGenerateFramework:u,onNodeCreated:d,onNodeEdited:A,onEdgeCreated:m,onConfusionMarked:f,onProgressUpdate:g})=>{const{t:v}=useTranslation("visualizationEditor"),[b,w]=reactExports.useState(()=>e||{type:"mindmap",mode:"simple-input",nodes:[],edges:[],metadata:{}}),[j,E]=reactExports.useState(e?.mode||"click-create"),[R,_]=reactExports.useState(!1);reactExports.useEffect(()=>{e&&(w(e),e.mode&&E(e.mode))},[e]);const N=$=>{const z={...$,mode:j};w(z),t?.(z);const se={totalNodes:z.nodes.length,totalEdges:z.edges.length,confusionPoints:z.metadata?.confusionPoints?.length||0,completionRate:B(z)};g?.(se)},B=$=>{const ce=Math.min($.nodes.length/3,1)*50,ie=Math.min($.edges.length/2,1)*50;return Math.round(ce+ie)},M=$=>{const z={...b,type:$,nodes:b.nodes,edges:b.edges};N(z)},O=$=>{E($);const z={...b,mode:$};N(z)},F=async()=>{if(!(!u||!l)){_(!0);try{const $=await u(l);w($),N($)}catch($){console.error("Failed to generate framework:",$)}finally{_(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col bg-white rounded-lg border border-slate-200 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-slate-200 bg-gradient-to-r from-purple-50 to-cyan-50 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-slate-800",children:"å¯è§†åŒ–ç¼–è¾‘å™¨"}),o&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VisualizationTypeSelector,{selectedType:b.type,onSelect:M}),jsxRuntimeExports.jsx(CreationModeSelector,{selectedMode:j,onSelect:O}),u&&l&&jsxRuntimeExports.jsx("button",{onClick:F,disabled:R,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-500 to-cyan-500 text-white text-xs font-bold rounded-lg hover:from-purple-600 hover:to-cyan-600 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",title:v("aiGenerateFrameworkTitle"),children:R?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{size:14,className:"animate-spin"}),jsxRuntimeExports.jsx("span",{children:v("generating")})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{size:14}),jsxRuntimeExports.jsx("span",{children:v("aiGenerateFramework")})]})})]})]}),n&&jsxRuntimeExports.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-white/50 transition-colors text-slate-600 hover:text-slate-800",title:v("closeEditor"),children:jsxRuntimeExports.jsx(X,{size:18})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden relative",children:j==="simple-input"&&o?jsxRuntimeExports.jsx(SimpleInputMode,{type:b.type,initialData:b,onChange:N}):j==="click-create"&&o?jsxRuntimeExports.jsx(ClickCreateMode,{initialData:b,onChange:N,onNodeCreated:d,onNodeEdited:A,onEdgeCreated:m,onConfusionMarked:f}):j==="drag-drop"&&o?jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:"æ‹–æ‹½æž„å»ºæ¨¡å¼ï¼ˆå¼€å‘ä¸­ï¼‰"}):jsxRuntimeExports.jsxs("div",{className:"w-full h-full",children:[b.type==="mindmap"&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-50",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-400",children:"æ­£åœ¨åŠ è½½æ€ç»´å¯¼å›¾..."})}),children:jsxRuntimeExports.jsx(MindMapRenderer,{data:b,onChange:o?N:void 0,editable:o})}),b.type==="conceptmap"&&jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:"æ¦‚å¿µåœ°å›¾ç¼–è¾‘å™¨ï¼ˆå¼€å‘ä¸­ï¼‰"}),b.type==="knowledgegraph"&&jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:"çŸ¥è¯†å›¾è°±ç¼–è¾‘å™¨ï¼ˆå¼€å‘ä¸­ï¼‰"})]})})]})};var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&(function(e,t){module.exports=t()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var n,o=e.length,l;for(n=0;n<o;n+=1){l=e[n].prototype;for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(t.prototype[u]=l[u])}}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=(function(){function e(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(n){this.audios.push(n)},pause:function(){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].pause()},resume:function(){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].resume()},setRate:function(n){var o,l=this.audios.length;for(o=0;o<l;o+=1)this.audios[o].setRate(n)},createAudio:function(n){return this.audioFactory?this.audioFactory(n):window.Howl?new window.Howl({src:[n]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(n){this.audioFactory=n},setVolume:function(n){this._volume=n,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var n,o=this.audios.length;for(n=0;n<o;n+=1)this.audios[n].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}})(),createTypedArray=(function(){function e(n,o){var l=0,u=[],d;switch(n){case"int16":case"uint8c":d=1;break;default:d=1.1;break}for(l=0;l<o;l+=1)u.push(d);return u}function t(n,o){return n==="float32"?new Float32Array(o):n==="int16"?new Int16Array(o):n==="uint8c"?new Uint8ClampedArray(o):e(n,o)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?t:e})();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t,n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(e){var t=_typeof$6(e);if(t==="object"&&e.length){var n=createSizedArray(e.length),o,l=e.length;for(o=0;o<l;o+=1)n[o]=Math.abs(e[o]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,n,o){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=o<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,o){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=o<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=(function(){var e=0;return function(){return e+=1,idPrefix$1+"__lottie_element_"+e}})();function HSVtoRGB(e,t,n){var o,l,u,d,A,m,f,g;switch(d=Math.floor(e*6),A=e*6-d,m=n*(1-t),f=n*(1-A*t),g=n*(1-(1-A)*t),d%6){case 0:o=n,l=g,u=m;break;case 1:o=f,l=n,u=m;break;case 2:o=m,l=n,u=g;break;case 3:o=m,l=f,u=n;break;case 4:o=g,l=m,u=n;break;case 5:o=n,l=m,u=f;break}return[o,l,u]}function RGBtoHSV(e,t,n){var o=Math.max(e,t,n),l=Math.min(e,t,n),u=o-l,d,A=o===0?0:u/o,m=o/255;switch(o){case l:d=0;break;case e:d=t-n+u*(t<n?6:0),d/=6*u;break;case t:d=n-e+u*2,d/=6*u;break;case n:d=e-t+u*4,d/=6*u;break}return[d,A,m]}function addSaturationToRGB(e,t){var n=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=(function(){var e=[],t,n;for(t=0;t<256;t+=1)n=t.toString(16),e[t]=n.length===1?"0"+n:n;return function(o,l,u){return o<0&&(o=0),l<0&&(l=0),u<0&&(u=0),"#"+e[o]+e[l]+e[u]}})(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(e)}var dataManager=(function(){var e=1,t=[],n,o,l={onmessage:function(){},postMessage:function(w){n({data:w})}},u={postMessage:function(w){l.onmessage({data:w})}};function d(b){if(window.Worker&&window.Blob&&getWebWorker()){var w=new Blob(["var _workerSelf = self; self.onmessage = ",b.toString()],{type:"text/javascript"}),j=URL.createObjectURL(w);return new Worker(j)}return n=b,l}function A(){o||(o=d(function(w){function j(){function R(ue,Y){var fe,H,le=ue.length,de,ye,ge,je;for(H=0;H<le;H+=1)if(fe=ue[H],"ks"in fe&&!fe.completed){if(fe.completed=!0,fe.hasMask){var Me=fe.masksProperties;for(ye=Me.length,de=0;de<ye;de+=1)if(Me[de].pt.k.i)O(Me[de].pt.k);else for(je=Me[de].pt.k.length,ge=0;ge<je;ge+=1)Me[de].pt.k[ge].s&&O(Me[de].pt.k[ge].s[0]),Me[de].pt.k[ge].e&&O(Me[de].pt.k[ge].e[0])}fe.ty===0?(fe.layers=B(fe.refId,Y),R(fe.layers,Y)):fe.ty===4?M(fe.shapes):fe.ty===5&&xe(fe)}}function _(ue,Y){if(ue){var fe=0,H=ue.length;for(fe=0;fe<H;fe+=1)ue[fe].t===1&&(ue[fe].data.layers=B(ue[fe].data.refId,Y),R(ue[fe].data.layers,Y))}}function N(ue,Y){for(var fe=0,H=Y.length;fe<H;){if(Y[fe].id===ue)return Y[fe];fe+=1}return null}function B(ue,Y){var fe=N(ue,Y);return fe?fe.layers.__used?JSON.parse(JSON.stringify(fe.layers)):(fe.layers.__used=!0,fe.layers):null}function M(ue){var Y,fe=ue.length,H,le;for(Y=fe-1;Y>=0;Y-=1)if(ue[Y].ty==="sh")if(ue[Y].ks.k.i)O(ue[Y].ks.k);else for(le=ue[Y].ks.k.length,H=0;H<le;H+=1)ue[Y].ks.k[H].s&&O(ue[Y].ks.k[H].s[0]),ue[Y].ks.k[H].e&&O(ue[Y].ks.k[H].e[0]);else ue[Y].ty==="gr"&&M(ue[Y].it)}function O(ue){var Y,fe=ue.i.length;for(Y=0;Y<fe;Y+=1)ue.i[Y][0]+=ue.v[Y][0],ue.i[Y][1]+=ue.v[Y][1],ue.o[Y][0]+=ue.v[Y][0],ue.o[Y][1]+=ue.v[Y][1]}function F(ue,Y){var fe=Y?Y.split("."):[100,100,100];return ue[0]>fe[0]?!0:fe[0]>ue[0]?!1:ue[1]>fe[1]?!0:fe[1]>ue[1]?!1:ue[2]>fe[2]?!0:fe[2]>ue[2]?!1:null}var $=(function(){var ue=[4,4,14];function Y(H){var le=H.t.d;H.t.d={k:[{s:le,t:0}]}}function fe(H){var le,de=H.length;for(le=0;le<de;le+=1)H[le].ty===5&&Y(H[le])}return function(H){if(F(ue,H.v)&&(fe(H.layers),H.assets)){var le,de=H.assets.length;for(le=0;le<de;le+=1)H.assets[le].layers&&fe(H.assets[le].layers)}}})(),z=(function(){var ue=[4,7,99];return function(Y){if(Y.chars&&!F(ue,Y.v)){var fe,H=Y.chars.length;for(fe=0;fe<H;fe+=1){var le=Y.chars[fe];le.data&&le.data.shapes&&(M(le.data.shapes),le.data.ip=0,le.data.op=99999,le.data.st=0,le.data.sr=1,le.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Y.chars[fe].t||(le.data.shapes.push({ty:"no"}),le.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),se=(function(){var ue=[5,7,15];function Y(H){var le=H.t.p;typeof le.a=="number"&&(le.a={a:0,k:le.a}),typeof le.p=="number"&&(le.p={a:0,k:le.p}),typeof le.r=="number"&&(le.r={a:0,k:le.r})}function fe(H){var le,de=H.length;for(le=0;le<de;le+=1)H[le].ty===5&&Y(H[le])}return function(H){if(F(ue,H.v)&&(fe(H.layers),H.assets)){var le,de=H.assets.length;for(le=0;le<de;le+=1)H.assets[le].layers&&fe(H.assets[le].layers)}}})(),ce=(function(){var ue=[4,1,9];function Y(H){var le,de=H.length,ye,ge;for(le=0;le<de;le+=1)if(H[le].ty==="gr")Y(H[le].it);else if(H[le].ty==="fl"||H[le].ty==="st")if(H[le].c.k&&H[le].c.k[0].i)for(ge=H[le].c.k.length,ye=0;ye<ge;ye+=1)H[le].c.k[ye].s&&(H[le].c.k[ye].s[0]/=255,H[le].c.k[ye].s[1]/=255,H[le].c.k[ye].s[2]/=255,H[le].c.k[ye].s[3]/=255),H[le].c.k[ye].e&&(H[le].c.k[ye].e[0]/=255,H[le].c.k[ye].e[1]/=255,H[le].c.k[ye].e[2]/=255,H[le].c.k[ye].e[3]/=255);else H[le].c.k[0]/=255,H[le].c.k[1]/=255,H[le].c.k[2]/=255,H[le].c.k[3]/=255}function fe(H){var le,de=H.length;for(le=0;le<de;le+=1)H[le].ty===4&&Y(H[le].shapes)}return function(H){if(F(ue,H.v)&&(fe(H.layers),H.assets)){var le,de=H.assets.length;for(le=0;le<de;le+=1)H.assets[le].layers&&fe(H.assets[le].layers)}}})(),ie=(function(){var ue=[4,4,18];function Y(H){var le,de=H.length,ye,ge;for(le=de-1;le>=0;le-=1)if(H[le].ty==="sh")if(H[le].ks.k.i)H[le].ks.k.c=H[le].closed;else for(ge=H[le].ks.k.length,ye=0;ye<ge;ye+=1)H[le].ks.k[ye].s&&(H[le].ks.k[ye].s[0].c=H[le].closed),H[le].ks.k[ye].e&&(H[le].ks.k[ye].e[0].c=H[le].closed);else H[le].ty==="gr"&&Y(H[le].it)}function fe(H){var le,de,ye=H.length,ge,je,Me,He;for(de=0;de<ye;de+=1){if(le=H[de],le.hasMask){var Qe=le.masksProperties;for(je=Qe.length,ge=0;ge<je;ge+=1)if(Qe[ge].pt.k.i)Qe[ge].pt.k.c=Qe[ge].cl;else for(He=Qe[ge].pt.k.length,Me=0;Me<He;Me+=1)Qe[ge].pt.k[Me].s&&(Qe[ge].pt.k[Me].s[0].c=Qe[ge].cl),Qe[ge].pt.k[Me].e&&(Qe[ge].pt.k[Me].e[0].c=Qe[ge].cl)}le.ty===4&&Y(le.shapes)}}return function(H){if(F(ue,H.v)&&(fe(H.layers),H.assets)){var le,de=H.assets.length;for(le=0;le<de;le+=1)H.assets[le].layers&&fe(H.assets[le].layers)}}})();function pe(ue){ue.__complete||(ce(ue),$(ue),z(ue),se(ue),ie(ue),R(ue.layers,ue.assets),_(ue.chars,ue.assets),ue.__complete=!0)}function xe(ue){ue.t.a.length===0&&"m"in ue.t.p}var Ae={};return Ae.completeData=pe,Ae.checkColors=ce,Ae.checkChars=z,Ae.checkPathProperties=se,Ae.checkShapes=ie,Ae.completeLayers=R,Ae}if(u.dataManager||(u.dataManager=j()),u.assetLoader||(u.assetLoader=(function(){function R(N){var B=N.getResponseHeader("content-type");return B&&N.responseType==="json"&&B.indexOf("json")!==-1||N.response&&_typeof$5(N.response)==="object"?N.response:N.response&&typeof N.response=="string"?JSON.parse(N.response):N.responseText?JSON.parse(N.responseText):null}function _(N,B,M,O){var F,$=new XMLHttpRequest;try{$.responseType="json"}catch{}$.onreadystatechange=function(){if($.readyState===4)if($.status===200)F=R($),M(F);else try{F=R($),M(F)}catch(z){O&&O(z)}};try{$.open(["G","E","T"].join(""),N,!0)}catch{$.open(["G","E","T"].join(""),B+"/"+N,!0)}$.send()}return{load:_}})()),w.data.type==="loadAnimation")u.assetLoader.load(w.data.path,w.data.fullPath,function(R){u.dataManager.completeData(R),u.postMessage({id:w.data.id,payload:R,status:"success"})},function(){u.postMessage({id:w.data.id,status:"error"})});else if(w.data.type==="complete"){var E=w.data.animation;u.dataManager.completeData(E),u.postMessage({id:w.data.id,payload:E,status:"success"})}else w.data.type==="loadData"&&u.assetLoader.load(w.data.path,w.data.fullPath,function(R){u.postMessage({id:w.data.id,payload:R,status:"success"})},function(){u.postMessage({id:w.data.id,status:"error"})})}),o.onmessage=function(b){var w=b.data,j=w.id,E=t[j];t[j]=null,w.status==="success"?E.onComplete(w.payload):E.onError&&E.onError()})}function m(b,w){e+=1;var j="processId_"+e;return t[j]={onComplete:b,onError:w},j}function f(b,w,j){A();var E=m(w,j);o.postMessage({type:"loadAnimation",path:b,fullPath:window.location.origin+window.location.pathname,id:E})}function g(b,w,j){A();var E=m(w,j);o.postMessage({type:"loadData",path:b,fullPath:window.location.origin+window.location.pathname,id:E})}function v(b,w,j){A();var E=m(w,j);o.postMessage({type:"complete",animation:b,id:E})}return{loadAnimation:f,loadData:g,completeAnimation:v}})(),ImagePreloader=(function(){var e=(function(){var _=createTag("canvas");_.width=1,_.height=1;var N=_.getContext("2d");return N.fillStyle="rgba(0,0,0,0)",N.fillRect(0,0,1,1),_})();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(_,N,B){var M="";if(_.e)M=_.p;else if(N){var O=_.p;O.indexOf("images/")!==-1&&(O=O.split("/")[1]),M=N+O}else M=B,M+=_.u?_.u:"",M+=_.p;return M}function l(_){var N=0,B=setInterval(function(){var M=_.getBBox();(M.width||N>500)&&(this._imageLoaded(),clearInterval(B)),N+=1}.bind(this),50)}function u(_){var N=o(_,this.assetsPath,this.path),B=createNS("image");isSafari?this.testImageLoaded(B):B.addEventListener("load",this._imageLoaded,!1),B.addEventListener("error",function(){M.img=e,this._imageLoaded()}.bind(this),!1),B.setAttributeNS("http://www.w3.org/1999/xlink","href",N),this._elementHelper.append?this._elementHelper.append(B):this._elementHelper.appendChild(B);var M={img:B,assetData:_};return M}function d(_){var N=o(_,this.assetsPath,this.path),B=createTag("img");B.crossOrigin="anonymous",B.addEventListener("load",this._imageLoaded,!1),B.addEventListener("error",function(){M.img=e,this._imageLoaded()}.bind(this),!1),B.src=N;var M={img:B,assetData:_};return M}function A(_){var N={assetData:_},B=o(_,this.assetsPath,this.path);return dataManager.loadData(B,function(M){N.img=M,this._footageLoaded()}.bind(this),function(){N.img={},this._footageLoaded()}.bind(this)),N}function m(_,N){this.imagesLoadedCb=N;var B,M=_.length;for(B=0;B<M;B+=1)_[B].layers||(!_[B].t||_[B].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(_[B]))):_[B].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(_[B]))))}function f(_){this.path=_||""}function g(_){this.assetsPath=_||""}function v(_){for(var N=0,B=this.images.length;N<B;){if(this.images[N].assetData===_)return this.images[N].img;N+=1}return null}function b(){this.imagesLoadedCb=null,this.images.length=0}function w(){return this.totalImages===this.loadedAssets}function j(){return this.totalFootages===this.loadedFootagesCount}function E(_,N){_==="svg"?(this._elementHelper=N,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function R(){this._imageLoaded=t.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=A.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return R.prototype={loadAssets:m,setAssetsPath:g,setPath:f,loadedImages:w,loadedFootages:j,destroy:b,getAsset:v,createImgData:d,createImageData:u,imageLoaded:t,footageLoaded:n,setCacheType:E},R})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,n){if(this._cbs[t])for(var o=this._cbs[t],l=0;l<o.length;l+=1)o[l](n)},addEventListener:function(t,n){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(n),function(){this.removeEventListener(t,n)}.bind(this)},removeEventListener:function(t,n){if(!n)this._cbs[t]=null;else if(this._cbs[t]){for(var o=0,l=this._cbs[t].length;o<l;)this._cbs[t][o]===n&&(this._cbs[t].splice(o,1),o-=1,l-=1),o+=1;this._cbs[t].length||(this._cbs[t]=null)}}};var markerParser=(function(){function e(t){for(var n=t.split(`\r
`),o={},l,u=0,d=0;d<n.length;d+=1)l=n[d].split(":"),l.length===2&&(o[l[0]]=l[1].trim(),u+=1);if(u===0)throw new Error;return o}return function(t){for(var n=[],o=0;o<t.length;o+=1){var l=t[o],u={time:l.tm,duration:l.dr};try{u.payload=JSON.parse(t[o].cm)}catch{try{u.payload=e(t[o].cm)}catch{u.payload={name:t[o].cm}}}n.push(u)}return n}})(),ProjectInterface=(function(){function e(t){this.compositions.push(t)}return function(){function t(n){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===n)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}})(),renderers={},registerRenderer=function(t,n){renderers[t]=n};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var n=getRenderer(t);this.renderer=new n(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay="autoplay"in e?e.autoplay:!0,this.name=e.name?e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(e,"autoloadSegments")?e.autoloadSegments:!0,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&_typeof$4(t)!=="object"&&(t=JSON.parse(t));var n={wrapper:e,animationData:t},o=e.attributes;n.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",n.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?n.loop=!1:l==="true"?n.loop=!0:l!==""&&(n.loop=parseInt(l,10));var u=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:o.getNamedItem("bm-autoplay")?o.getNamedItem("bm-autoplay").value:!0;n.autoplay=u!=="false",n.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"";var d=o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"";d==="false"&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t=this.animationData.layers,n,o=t.length,l=e.layers,u,d=l.length;for(u=0;u<d;u+=1)for(n=0;n<o;){if(t[n].id===l[u].id){t[n]=l[u];break}n+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(o=e.assets.length,n=0;n<o;n+=1)this.animationData.assets.push(e.assets[n]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var e=this.animationData.segments;e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var n=typeof e=="number"?e:void 0,o=typeof t=="number"?t:void 0;this.renderer.updateContainerSize(n,o)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,n=0;n<this.markers.length;n+=1)if(t=this.markers[n],t.payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,n){if(!(n&&this.name!==n)){var o=Number(e);if(isNaN(o)){var l=this.getMarkerData(e);l&&this.goToAndStop(l.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,n){if(!(n&&this.name!==n)){var o=Number(e);if(isNaN(o)){var l=this.getMarkerData(e);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,t,n);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!(this.isPaused===!0||this.isLoaded===!1)){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):t<0?this.checkSegments(t%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,t=0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),_typeof$4(e[0])==="object"){var n,o=e.length;for(n=0;n<o;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return this.segments.length?(this.adjustSegment(this.segments.shift(),e),!0):!1},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,n){try{var o=this.renderer.getElementByPath(e);o.updateDocumentData(t,n)}catch{}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=(function(){var e={},t=[],n=0,o=0,l=0,u=!0,d=!1;function A(Y){for(var fe=0,H=Y.target;fe<o;)t[fe].animation===H&&(t.splice(fe,1),fe-=1,o-=1,H.isPaused||v()),fe+=1}function m(Y,fe){if(!Y)return null;for(var H=0;H<o;){if(t[H].elem===Y&&t[H].elem!==null)return t[H].animation;H+=1}var le=new AnimationItem;return b(le,Y),le.setData(Y,fe),le}function f(){var Y,fe=t.length,H=[];for(Y=0;Y<fe;Y+=1)H.push(t[Y].animation);return H}function g(){l+=1,ce()}function v(){l-=1}function b(Y,fe){Y.addEventListener("destroy",A),Y.addEventListener("_active",g),Y.addEventListener("_idle",v),t.push({elem:fe,animation:Y}),o+=1}function w(Y){var fe=new AnimationItem;return b(fe,null),fe.setParams(Y),fe}function j(Y,fe){var H;for(H=0;H<o;H+=1)t[H].animation.setSpeed(Y,fe)}function E(Y,fe){var H;for(H=0;H<o;H+=1)t[H].animation.setDirection(Y,fe)}function R(Y){var fe;for(fe=0;fe<o;fe+=1)t[fe].animation.play(Y)}function _(Y){var fe=Y-n,H;for(H=0;H<o;H+=1)t[H].animation.advanceTime(fe);n=Y,l&&!d?window.requestAnimationFrame(_):u=!0}function N(Y){n=Y,window.requestAnimationFrame(_)}function B(Y){var fe;for(fe=0;fe<o;fe+=1)t[fe].animation.pause(Y)}function M(Y,fe,H){var le;for(le=0;le<o;le+=1)t[le].animation.goToAndStop(Y,fe,H)}function O(Y){var fe;for(fe=0;fe<o;fe+=1)t[fe].animation.stop(Y)}function F(Y){var fe;for(fe=0;fe<o;fe+=1)t[fe].animation.togglePause(Y)}function $(Y){var fe;for(fe=o-1;fe>=0;fe-=1)t[fe].animation.destroy(Y)}function z(Y,fe,H){var le=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),de,ye=le.length;for(de=0;de<ye;de+=1)H&&le[de].setAttribute("data-bm-type",H),m(le[de],Y);if(fe&&ye===0){H||(H="svg");var ge=document.getElementsByTagName("body")[0];ge.innerText="";var je=createTag("div");je.style.width="100%",je.style.height="100%",je.setAttribute("data-bm-type",H),ge.appendChild(je),m(je,Y)}}function se(){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.resize()}function ce(){!d&&l&&u&&(window.requestAnimationFrame(N),u=!1)}function ie(){d=!0}function pe(){d=!1,ce()}function xe(Y,fe){var H;for(H=0;H<o;H+=1)t[H].animation.setVolume(Y,fe)}function Ae(Y){var fe;for(fe=0;fe<o;fe+=1)t[fe].animation.mute(Y)}function ue(Y){var fe;for(fe=0;fe<o;fe+=1)t[fe].animation.unmute(Y)}return e.registerAnimation=m,e.loadAnimation=w,e.setSpeed=j,e.setDirection=E,e.play=R,e.pause=B,e.stop=O,e.togglePause=F,e.searchAnimations=z,e.resize=se,e.goToAndStop=M,e.destroy=$,e.freeze=ie,e.unfreeze=pe,e.setVolume=xe,e.mute=Ae,e.unmute=ue,e.getRegisteredAnimations=f,e})(),BezierFactory=(function(){var e={};e.getBezierEasing=n;var t={};function n(N,B,M,O,F){var $=F||("bez_"+N+"_"+B+"_"+M+"_"+O).replace(/\./g,"p");if(t[$])return t[$];var z=new _([N,B,M,O]);return t[$]=z,z}var o=4,l=.001,u=1e-7,d=10,A=11,m=1/(A-1),f=typeof Float32Array=="function";function g(N,B){return 1-3*B+3*N}function v(N,B){return 3*B-6*N}function b(N){return 3*N}function w(N,B,M){return((g(B,M)*N+v(B,M))*N+b(B))*N}function j(N,B,M){return 3*g(B,M)*N*N+2*v(B,M)*N+b(B)}function E(N,B,M,O,F){var $,z,se=0;do z=B+(M-B)/2,$=w(z,O,F)-N,$>0?M=z:B=z;while(Math.abs($)>u&&++se<d);return z}function R(N,B,M,O){for(var F=0;F<o;++F){var $=j(B,M,O);if($===0)return B;var z=w(B,M,O)-N;B-=z/$}return B}function _(N){this._p=N,this._mSampleValues=f?new Float32Array(A):new Array(A),this._precomputed=!1,this.get=this.get.bind(this)}return _.prototype={get:function(B){var M=this._p[0],O=this._p[1],F=this._p[2],$=this._p[3];return this._precomputed||this._precompute(),M===O&&F===$?B:B===0?0:B===1?1:w(this._getTForX(B),O,$)},_precompute:function(){var B=this._p[0],M=this._p[1],O=this._p[2],F=this._p[3];this._precomputed=!0,(B!==M||O!==F)&&this._calcSampleValues()},_calcSampleValues:function(){for(var B=this._p[0],M=this._p[2],O=0;O<A;++O)this._mSampleValues[O]=w(O*m,B,M)},_getTForX:function(B){for(var M=this._p[0],O=this._p[2],F=this._mSampleValues,$=0,z=1,se=A-1;z!==se&&F[z]<=B;++z)$+=m;--z;var ce=(B-F[z])/(F[z+1]-F[z]),ie=$+ce*m,pe=j(ie,M,O);return pe>=l?R(B,ie,M,O):pe===0?ie:E(B,$,$+m,M,O)}},e})(),pooling=(function(){function e(t){return t.concat(createSizedArray(t.length))}return{double:e}})(),poolFactory=(function(){return function(e,t,n){var o=0,l=e,u=createSizedArray(l),d={newElement:A,release:m};function A(){var f;return o?(o-=1,f=u[o]):f=t(),f}function m(f){o===l&&(u=pooling.double(u),l*=2),n&&n(f),u[o]=f,o+=1}return d}})(),bezierLengthPool=(function(){function e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,e)})(),segmentsLengthPool=(function(){function e(){return{lengths:[],totalLength:0}}function t(n){var o,l=n.lengths.length;for(o=0;o<l;o+=1)bezierLengthPool.release(n.lengths[o]);n.lengths.length=0}return poolFactory(8,e,t)})();function bezFunction(){var e=Math;function t(b,w,j,E,R,_){var N=b*E+w*R+j*_-R*E-_*b-j*w;return N>-.001&&N<.001}function n(b,w,j,E,R,_,N,B,M){if(j===0&&_===0&&M===0)return t(b,w,E,R,N,B);var O=e.sqrt(e.pow(E-b,2)+e.pow(R-w,2)+e.pow(_-j,2)),F=e.sqrt(e.pow(N-b,2)+e.pow(B-w,2)+e.pow(M-j,2)),$=e.sqrt(e.pow(N-E,2)+e.pow(B-R,2)+e.pow(M-_,2)),z;return O>F?O>$?z=O-F-$:z=$-F-O:$>F?z=$-F-O:z=F-O-$,z>-1e-4&&z<1e-4}var o=(function(){return function(b,w,j,E){var R=getDefaultCurveSegments(),_,N,B,M,O,F=0,$,z=[],se=[],ce=bezierLengthPool.newElement();for(B=j.length,_=0;_<R;_+=1){for(O=_/(R-1),$=0,N=0;N<B;N+=1)M=bmPow(1-O,3)*b[N]+3*bmPow(1-O,2)*O*j[N]+3*(1-O)*bmPow(O,2)*E[N]+bmPow(O,3)*w[N],z[N]=M,se[N]!==null&&($+=bmPow(z[N]-se[N],2)),se[N]=z[N];$&&($=bmSqrt($),F+=$),ce.percents[_]=O,ce.lengths[_]=F}return ce.addedLength=F,ce}})();function l(b){var w=segmentsLengthPool.newElement(),j=b.c,E=b.v,R=b.o,_=b.i,N,B=b._length,M=w.lengths,O=0;for(N=0;N<B-1;N+=1)M[N]=o(E[N],E[N+1],R[N],_[N+1]),O+=M[N].addedLength;return j&&B&&(M[N]=o(E[N],E[0],R[N],_[0]),O+=M[N].addedLength),w.totalLength=O,w}function u(b){this.segmentLength=0,this.points=new Array(b)}function d(b,w){this.partialLength=b,this.point=w}var A=(function(){var b={};return function(w,j,E,R){var _=(w[0]+"_"+w[1]+"_"+j[0]+"_"+j[1]+"_"+E[0]+"_"+E[1]+"_"+R[0]+"_"+R[1]).replace(/\./g,"p");if(!b[_]){var N=getDefaultCurveSegments(),B,M,O,F,$,z=0,se,ce,ie=null;w.length===2&&(w[0]!==j[0]||w[1]!==j[1])&&t(w[0],w[1],j[0],j[1],w[0]+E[0],w[1]+E[1])&&t(w[0],w[1],j[0],j[1],j[0]+R[0],j[1]+R[1])&&(N=2);var pe=new u(N);for(O=E.length,B=0;B<N;B+=1){for(ce=createSizedArray(O),$=B/(N-1),se=0,M=0;M<O;M+=1)F=bmPow(1-$,3)*w[M]+3*bmPow(1-$,2)*$*(w[M]+E[M])+3*(1-$)*bmPow($,2)*(j[M]+R[M])+bmPow($,3)*j[M],ce[M]=F,ie!==null&&(se+=bmPow(ce[M]-ie[M],2));se=bmSqrt(se),z+=se,pe.points[B]=new d(se,ce),ie=ce}pe.segmentLength=z,b[_]=pe}return b[_]}})();function m(b,w){var j=w.percents,E=w.lengths,R=j.length,_=bmFloor((R-1)*b),N=b*w.addedLength,B=0;if(_===R-1||_===0||N===E[_])return j[_];for(var M=E[_]>N?-1:1,O=!0;O;)if(E[_]<=N&&E[_+1]>N?(B=(N-E[_])/(E[_+1]-E[_]),O=!1):_+=M,_<0||_>=R-1){if(_===R-1)return j[_];O=!1}return j[_]+(j[_+1]-j[_])*B}function f(b,w,j,E,R,_){var N=m(R,_),B=1-N,M=e.round((B*B*B*b[0]+(N*B*B+B*N*B+B*B*N)*j[0]+(N*N*B+B*N*N+N*B*N)*E[0]+N*N*N*w[0])*1e3)/1e3,O=e.round((B*B*B*b[1]+(N*B*B+B*N*B+B*B*N)*j[1]+(N*N*B+B*N*N+N*B*N)*E[1]+N*N*N*w[1])*1e3)/1e3;return[M,O]}var g=createTypedArray("float32",8);function v(b,w,j,E,R,_,N){R<0?R=0:R>1&&(R=1);var B=m(R,N);_=_>1?1:_;var M=m(_,N),O,F=b.length,$=1-B,z=1-M,se=$*$*$,ce=B*$*$*3,ie=B*B*$*3,pe=B*B*B,xe=$*$*z,Ae=B*$*z+$*B*z+$*$*M,ue=B*B*z+$*B*M+B*$*M,Y=B*B*M,fe=$*z*z,H=B*z*z+$*M*z+$*z*M,le=B*M*z+$*M*M+B*z*M,de=B*M*M,ye=z*z*z,ge=M*z*z+z*M*z+z*z*M,je=M*M*z+z*M*M+M*z*M,Me=M*M*M;for(O=0;O<F;O+=1)g[O*4]=e.round((se*b[O]+ce*j[O]+ie*E[O]+pe*w[O])*1e3)/1e3,g[O*4+1]=e.round((xe*b[O]+Ae*j[O]+ue*E[O]+Y*w[O])*1e3)/1e3,g[O*4+2]=e.round((fe*b[O]+H*j[O]+le*E[O]+de*w[O])*1e3)/1e3,g[O*4+3]=e.round((ye*b[O]+ge*j[O]+je*E[O]+Me*w[O])*1e3)/1e3;return g}return{getSegmentsLength:l,getNewSegment:v,getPointInSegment:f,buildBezierData:A,pointOnLine2D:t,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var n=this.offsetTime,o;this.propType==="multidimensional"&&(o=createTypedArray("float32",this.pv.length));for(var l=t.lastIndex,u=l,d=this.keyframes.length-1,A=!0,m,f,g;A;){if(m=this.keyframes[u],f=this.keyframes[u+1],u===d-1&&e>=f.t-n){m.h&&(m=f),l=0;break}if(f.t-n>e){l=u;break}u<d-1?u+=1:(l=0,A=!1)}g=this.keyframesMetadata[u]||{};var v,b,w,j,E,R,_=f.t-n,N=m.t-n,B;if(m.to){g.bezierData||(g.bezierData=bez.buildBezierData(m.s,f.s||m.e,m.to,m.ti));var M=g.bezierData;if(e>=_||e<N){var O=e>=_?M.points.length-1:0;for(b=M.points[O].point.length,v=0;v<b;v+=1)o[v]=M.points[O].point[v]}else{g.__fnct?R=g.__fnct:(R=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y,m.n).get,g.__fnct=R),w=R((e-N)/(_-N));var F=M.segmentLength*w,$,z=t.lastFrame<e&&t._lastKeyframeIndex===u?t._lastAddedLength:0;for(E=t.lastFrame<e&&t._lastKeyframeIndex===u?t._lastPoint:0,A=!0,j=M.points.length;A;){if(z+=M.points[E].partialLength,F===0||w===0||E===M.points.length-1){for(b=M.points[E].point.length,v=0;v<b;v+=1)o[v]=M.points[E].point[v];break}else if(F>=z&&F<z+M.points[E+1].partialLength){for($=(F-z)/M.points[E+1].partialLength,b=M.points[E].point.length,v=0;v<b;v+=1)o[v]=M.points[E].point[v]+(M.points[E+1].point[v]-M.points[E].point[v])*$;break}E<j-1?E+=1:A=!1}t._lastPoint=E,t._lastAddedLength=z-M.points[E].partialLength,t._lastKeyframeIndex=u}}else{var se,ce,ie,pe,xe;if(d=m.s.length,B=f.s||m.e,this.sh&&m.h!==1)if(e>=_)o[0]=B[0],o[1]=B[1],o[2]=B[2];else if(e<=N)o[0]=m.s[0],o[1]=m.s[1],o[2]=m.s[2];else{var Ae=createQuaternion(m.s),ue=createQuaternion(B),Y=(e-N)/(_-N);quaternionToEuler(o,slerp(Ae,ue,Y))}else for(u=0;u<d;u+=1)m.h!==1&&(e>=_?w=1:e<N?w=0:(m.o.x.constructor===Array?(g.__fnct||(g.__fnct=[]),g.__fnct[u]?R=g.__fnct[u]:(se=m.o.x[u]===void 0?m.o.x[0]:m.o.x[u],ce=m.o.y[u]===void 0?m.o.y[0]:m.o.y[u],ie=m.i.x[u]===void 0?m.i.x[0]:m.i.x[u],pe=m.i.y[u]===void 0?m.i.y[0]:m.i.y[u],R=BezierFactory.getBezierEasing(se,ce,ie,pe).get,g.__fnct[u]=R)):g.__fnct?R=g.__fnct:(se=m.o.x,ce=m.o.y,ie=m.i.x,pe=m.i.y,R=BezierFactory.getBezierEasing(se,ce,ie,pe).get,m.keyframeMetadata=R),w=R((e-N)/(_-N)))),B=f.s||m.e,xe=m.h===1?m.s[u]:m.s[u]+(B[u]-m.s[u])*w,this.propType==="multidimensional"?o[u]=xe:o=xe}return t.lastIndex=l,o}function slerp(e,t,n){var o=[],l=e[0],u=e[1],d=e[2],A=e[3],m=t[0],f=t[1],g=t[2],v=t[3],b,w,j,E,R;return w=l*m+u*f+d*g+A*v,w<0&&(w=-w,m=-m,f=-f,g=-g,v=-v),1-w>1e-6?(b=Math.acos(w),j=Math.sin(b),E=Math.sin((1-n)*b)/j,R=Math.sin(n*b)/j):(E=1-n,R=n),o[0]=E*l+R*m,o[1]=E*u+R*f,o[2]=E*d+R*g,o[3]=E*A+R*v,o}function quaternionToEuler(e,t){var n=t[0],o=t[1],l=t[2],u=t[3],d=Math.atan2(2*o*u-2*n*l,1-2*o*o-2*l*l),A=Math.asin(2*n*o+2*l*u),m=Math.atan2(2*n*u-2*o*l,1-2*n*n-2*l*l);e[0]=d/degToRads,e[1]=A/degToRads,e[2]=m/degToRads}function createQuaternion(e){var t=e[0]*degToRads,n=e[1]*degToRads,o=e[2]*degToRads,l=Math.cos(t/2),u=Math.cos(n/2),d=Math.cos(o/2),A=Math.sin(t/2),m=Math.sin(n/2),f=Math.sin(o/2),g=l*u*d-A*m*f,v=A*m*d+l*u*f,b=A*u*d+l*m*f,w=l*m*d-A*u*f;return[v,b,w,g]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&e>=n||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(e,this._caching);this.pv=o}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if(this.propType==="unidimensional")t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var n=0,o=this.v.length;n<o;)t=e[n]*this.mult,mathAbs(this.v[n]-t)>1e-5&&(this.v[n]=t,this._mdf=!0),n+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,n,o){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=o,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,n,o){this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=o,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l,u=t.k.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),this.vel=createTypedArray("float32",u),l=0;l<u;l+=1)this.v[l]=t.k[l]*this.mult,this.pv[l]=t.k[l];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,n,o){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=n||1,this.elem=e,this.container=o,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,n,o){this.propType="multidimensional";var l,u=t.k.length,d,A,m,f;for(l=0;l<u-1;l+=1)t.k[l].to&&t.k[l].s&&t.k[l+1]&&t.k[l+1].s&&(d=t.k[l].s,A=t.k[l+1].s,m=t.k[l].to,f=t.k[l].ti,(d.length===2&&!(d[0]===A[0]&&d[1]===A[1])&&bez.pointOnLine2D(d[0],d[1],A[0],A[1],d[0]+m[0],d[1]+m[1])&&bez.pointOnLine2D(d[0],d[1],A[0],A[1],A[0]+f[0],A[1]+f[1])||d.length===3&&!(d[0]===A[0]&&d[1]===A[1]&&d[2]===A[2])&&bez.pointOnLine3D(d[0],d[1],d[2],A[0],A[1],A[2],d[0]+m[0],d[1]+m[1],d[2]+m[2])&&bez.pointOnLine3D(d[0],d[1],d[2],A[0],A[1],A[2],A[0]+f[0],A[1]+f[1],A[2]+f[2]))&&(t.k[l].to=null,t.k[l].ti=null),d[0]===A[0]&&d[1]===A[1]&&m[0]===0&&m[1]===0&&f[0]===0&&f[1]===0&&(d.length===2||d[2]===A[2]&&m[2]===0&&f[2]===0)&&(t.k[l].to=null,t.k[l].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=e,this.container=o,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var g=t.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),l=0;l<g;l+=1)this.v[l]=initFrame,this.pv[l]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=addEffect}var PropertyFactory=(function(){function e(n,o,l,u,d){o.sid&&(o=n.globalData.slotManager.getProp(o));var A;if(!o.k.length)A=new ValueProperty(n,o,u,d);else if(typeof o.k[0]=="number")A=new MultiDimensionalProperty(n,o,u,d);else switch(l){case 0:A=new KeyframedValueProperty(n,o,u,d);break;case 1:A=new KeyframedMultidimensionalProperty(n,o,u,d);break}return A.effectsSequence.length&&d.addDynamicProperty(A),A}var t={getProp:e};return t})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,n=this.dynamicProperties.length;for(t=0;t<n;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function e(){return createTypedArray("float32",2)}return poolFactory(8,e)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,o,l){var u;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":u=this.v;break;case"i":u=this.i;break;case"o":u=this.o;break;default:u=[];break}(!u[o]||u[o]&&!l)&&(u[o]=pointPool.newElement()),u[o][0]=e,u[o][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,o,l,u,d,A){this.setXYAt(e,t,"v",d,A),this.setXYAt(n,o,"o",d,A),this.setXYAt(l,u,"i",d,A)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,n=this.o,o=this.i,l=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],o[0][0],o[0][1],n[0][0],n[0][1],0,!1),l=1);var u=this._length-1,d=this._length,A;for(A=l;A<d;A+=1)e.setTripleAt(t[u][0],t[u][1],o[u][0],o[u][1],n[u][0],n[u][1],A,!1),u-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function e(){return new ShapePath}function t(l){var u=l._length,d;for(d=0;d<u;d+=1)pointPool.release(l.v[d]),pointPool.release(l.i[d]),pointPool.release(l.o[d]),l.v[d]=null,l.i[d]=null,l.o[d]=null;l._length=0,l.c=!1}function n(l){var u=o.newElement(),d,A=l._length===void 0?l.v.length:l._length;for(u.setLength(A),u.c=l.c,d=0;d<A;d+=1)u.setTripleAt(l.v[d][0],l.v[d][1],l.o[d][0],l.o[d][1],l.i[d][0],l.i[d][1],d);return u}var o=poolFactory(4,e,t);return o.clone=n,o})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(function(){var e={newShapeCollection:l,release:u},t=0,n=4,o=createSizedArray(n);function l(){var d;return t?(t-=1,d=o[t]):d=new ShapeCollection,d}function u(d){var A,m=d._length;for(A=0;A<m;A+=1)shapePool.release(d.shapes[A]);d._length=0,t===n&&(o=pooling.double(o),n*=2),o[t]=d,t+=1}return e})(),ShapePropertyFactory=(function(){var e=-999999;function t(_,N,B){var M=B.lastIndex,O,F,$,z,se,ce,ie,pe,xe,Ae=this.keyframes;if(_<Ae[0].t-this.offsetTime)O=Ae[0].s[0],$=!0,M=0;else if(_>=Ae[Ae.length-1].t-this.offsetTime)O=Ae[Ae.length-1].s?Ae[Ae.length-1].s[0]:Ae[Ae.length-2].e[0],$=!0;else{for(var ue=M,Y=Ae.length-1,fe=!0,H,le,de;fe&&(H=Ae[ue],le=Ae[ue+1],!(le.t-this.offsetTime>_));)ue<Y-1?ue+=1:fe=!1;if(de=this.keyframesMetadata[ue]||{},$=H.h===1,M=ue,!$){if(_>=le.t-this.offsetTime)pe=1;else if(_<H.t-this.offsetTime)pe=0;else{var ye;de.__fnct?ye=de.__fnct:(ye=BezierFactory.getBezierEasing(H.o.x,H.o.y,H.i.x,H.i.y).get,de.__fnct=ye),pe=ye((_-(H.t-this.offsetTime))/(le.t-this.offsetTime-(H.t-this.offsetTime)))}F=le.s?le.s[0]:H.e[0]}O=H.s[0]}for(ce=N._length,ie=O.i[0].length,B.lastIndex=M,z=0;z<ce;z+=1)for(se=0;se<ie;se+=1)xe=$?O.i[z][se]:O.i[z][se]+(F.i[z][se]-O.i[z][se])*pe,N.i[z][se]=xe,xe=$?O.o[z][se]:O.o[z][se]+(F.o[z][se]-O.o[z][se])*pe,N.o[z][se]=xe,xe=$?O.v[z][se]:O.v[z][se]+(F.v[z][se]-O.v[z][se])*pe,N.v[z][se]=xe}function n(){var _=this.comp.renderedFrame-this.offsetTime,N=this.keyframes[0].t-this.offsetTime,B=this.keyframes[this.keyframes.length-1].t-this.offsetTime,M=this._caching.lastFrame;return M!==e&&(M<N&&_<N||M>B&&_>B)||(this._caching.lastIndex=M<_?this._caching.lastIndex:0,this.interpolateShape(_,this.pv,this._caching)),this._caching.lastFrame=_,this.pv}function o(){this.paths=this.localShapeCollection}function l(_,N){if(_._length!==N._length||_.c!==N.c)return!1;var B,M=_._length;for(B=0;B<M;B+=1)if(_.v[B][0]!==N.v[B][0]||_.v[B][1]!==N.v[B][1]||_.o[B][0]!==N.o[B][0]||_.o[B][1]!==N.o[B][1]||_.i[B][0]!==N.i[B][0]||_.i[B][1]!==N.i[B][1])return!1;return!0}function u(_){l(this.v,_)||(this.v=shapePool.clone(_),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function d(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var _;this.kf?_=this.pv:this.data.ks?_=this.data.ks.k:_=this.data.pt.k;var N,B=this.effectsSequence.length;for(N=0;N<B;N+=1)_=this.effectsSequence[N](_);this.setVValue(_),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function A(_,N,B){this.propType="shape",this.comp=_.comp,this.container=_,this.elem=_,this.data=N,this.k=!1,this.kf=!1,this._mdf=!1;var M=B===3?N.pt.k:N.ks.k;this.v=shapePool.clone(M),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function m(_){this.effectsSequence.push(_),this.container.addDynamicProperty(this)}A.prototype.interpolateShape=t,A.prototype.getValue=d,A.prototype.setVValue=u,A.prototype.addEffect=m;function f(_,N,B){this.propType="shape",this.comp=_.comp,this.elem=_,this.container=_,this.offsetTime=_.data.st,this.keyframes=B===3?N.pt.k:N.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var M=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,M),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=o,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[n.bind(this)]}f.prototype.getValue=d,f.prototype.interpolateShape=t,f.prototype.setVValue=u,f.prototype.addEffect=m;var g=(function(){var _=roundCorner;function N(B,M){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=M.d,this.elem=B,this.comp=B.comp,this.frameId=-1,this.initDynamicPropertyContainer(B),this.p=PropertyFactory.getProp(B,M.p,1,0,this),this.s=PropertyFactory.getProp(B,M.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return N.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var M=this.p.v[0],O=this.p.v[1],F=this.s.v[0]/2,$=this.s.v[1]/2,z=this.d!==3,se=this.v;se.v[0][0]=M,se.v[0][1]=O-$,se.v[1][0]=z?M+F:M-F,se.v[1][1]=O,se.v[2][0]=M,se.v[2][1]=O+$,se.v[3][0]=z?M-F:M+F,se.v[3][1]=O,se.i[0][0]=z?M-F*_:M+F*_,se.i[0][1]=O-$,se.i[1][0]=z?M+F:M-F,se.i[1][1]=O-$*_,se.i[2][0]=z?M+F*_:M-F*_,se.i[2][1]=O+$,se.i[3][0]=z?M-F:M+F,se.i[3][1]=O+$*_,se.o[0][0]=z?M+F*_:M-F*_,se.o[0][1]=O-$,se.o[1][0]=z?M+F:M-F,se.o[1][1]=O+$*_,se.o[2][0]=z?M-F*_:M+F*_,se.o[2][1]=O+$,se.o[3][0]=z?M-F:M+F,se.o[3][1]=O-$*_}},extendPrototype([DynamicPropertyContainer],N),N})(),v=(function(){function _(N,B){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=N,this.comp=N.comp,this.data=B,this.frameId=-1,this.d=B.d,this.initDynamicPropertyContainer(N),B.sy===1?(this.ir=PropertyFactory.getProp(N,B.ir,0,0,this),this.is=PropertyFactory.getProp(N,B.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(N,B.pt,0,0,this),this.p=PropertyFactory.getProp(N,B.p,1,0,this),this.r=PropertyFactory.getProp(N,B.r,0,degToRads,this),this.or=PropertyFactory.getProp(N,B.or,0,0,this),this.os=PropertyFactory.getProp(N,B.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var B=Math.floor(this.pt.v)*2,M=Math.PI*2/B,O=!0,F=this.or.v,$=this.ir.v,z=this.os.v,se=this.is.v,ce=2*Math.PI*F/(B*2),ie=2*Math.PI*$/(B*2),pe,xe,Ae,ue,Y=-Math.PI/2;Y+=this.r.v;var fe=this.data.d===3?-1:1;for(this.v._length=0,pe=0;pe<B;pe+=1){xe=O?F:$,Ae=O?z:se,ue=O?ce:ie;var H=xe*Math.cos(Y),le=xe*Math.sin(Y),de=H===0&&le===0?0:le/Math.sqrt(H*H+le*le),ye=H===0&&le===0?0:-H/Math.sqrt(H*H+le*le);H+=+this.p.v[0],le+=+this.p.v[1],this.v.setTripleAt(H,le,H-de*ue*Ae*fe,le-ye*ue*Ae*fe,H+de*ue*Ae*fe,le+ye*ue*Ae*fe,pe,!0),O=!O,Y+=M*fe}},convertPolygonToPath:function(){var B=Math.floor(this.pt.v),M=Math.PI*2/B,O=this.or.v,F=this.os.v,$=2*Math.PI*O/(B*4),z,se=-Math.PI*.5,ce=this.data.d===3?-1:1;for(se+=this.r.v,this.v._length=0,z=0;z<B;z+=1){var ie=O*Math.cos(se),pe=O*Math.sin(se),xe=ie===0&&pe===0?0:pe/Math.sqrt(ie*ie+pe*pe),Ae=ie===0&&pe===0?0:-ie/Math.sqrt(ie*ie+pe*pe);ie+=+this.p.v[0],pe+=+this.p.v[1],this.v.setTripleAt(ie,pe,ie-xe*$*F*ce,pe-Ae*$*F*ce,ie+xe*$*F*ce,pe+Ae*$*F*ce,z,!0),se+=M*ce}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_),_})(),b=(function(){function _(N,B){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=N,this.comp=N.comp,this.frameId=-1,this.d=B.d,this.initDynamicPropertyContainer(N),this.p=PropertyFactory.getProp(N,B.p,1,0,this),this.s=PropertyFactory.getProp(N,B.s,1,0,this),this.r=PropertyFactory.getProp(N,B.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _.prototype={convertRectToPath:function(){var B=this.p.v[0],M=this.p.v[1],O=this.s.v[0]/2,F=this.s.v[1]/2,$=bmMin(O,F,this.r.v),z=$*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(B+O,M-F+$,B+O,M-F+$,B+O,M-F+z,0,!0),this.v.setTripleAt(B+O,M+F-$,B+O,M+F-z,B+O,M+F-$,1,!0),$!==0?(this.v.setTripleAt(B+O-$,M+F,B+O-$,M+F,B+O-z,M+F,2,!0),this.v.setTripleAt(B-O+$,M+F,B-O+z,M+F,B-O+$,M+F,3,!0),this.v.setTripleAt(B-O,M+F-$,B-O,M+F-$,B-O,M+F-z,4,!0),this.v.setTripleAt(B-O,M-F+$,B-O,M-F+z,B-O,M-F+$,5,!0),this.v.setTripleAt(B-O+$,M-F,B-O+$,M-F,B-O+z,M-F,6,!0),this.v.setTripleAt(B+O-$,M-F,B+O-z,M-F,B+O-$,M-F,7,!0)):(this.v.setTripleAt(B-O,M+F,B-O+z,M+F,B-O,M+F,2),this.v.setTripleAt(B-O,M-F,B-O,M-F+z,B-O,M-F,3))):(this.v.setTripleAt(B+O,M-F+$,B+O,M-F+z,B+O,M-F+$,0,!0),$!==0?(this.v.setTripleAt(B+O-$,M-F,B+O-$,M-F,B+O-z,M-F,1,!0),this.v.setTripleAt(B-O+$,M-F,B-O+z,M-F,B-O+$,M-F,2,!0),this.v.setTripleAt(B-O,M-F+$,B-O,M-F+$,B-O,M-F+z,3,!0),this.v.setTripleAt(B-O,M+F-$,B-O,M+F-z,B-O,M+F-$,4,!0),this.v.setTripleAt(B-O+$,M+F,B-O+$,M+F,B-O+z,M+F,5,!0),this.v.setTripleAt(B+O-$,M+F,B+O-z,M+F,B+O-$,M+F,6,!0),this.v.setTripleAt(B+O,M+F-$,B+O,M+F-$,B+O,M+F-z,7,!0)):(this.v.setTripleAt(B-O,M-F,B-O+z,M-F,B-O,M-F,1,!0),this.v.setTripleAt(B-O,M+F,B-O,M+F-z,B-O,M+F,2,!0),this.v.setTripleAt(B+O,M+F,B+O-z,M+F,B+O,M+F,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],_),_})();function w(_,N,B){var M;if(B===3||B===4){var O=B===3?N.pt:N.ks,F=O.k;F.length?M=new f(_,N,B):M=new A(_,N,B)}else B===5?M=new b(_,N):B===6?M=new g(_,N):B===7&&(M=new v(_,N));return M.k&&_.addDynamicProperty(M),M}function j(){return A}function E(){return f}var R={};return R.getShapeProp=w,R.getConstructorFunction=j,R.getKeyframedConstructorFunction=E,R})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var e=Math.cos,t=Math.sin,n=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function u(H){if(H===0)return this;var le=e(H),de=t(H);return this._t(le,-de,0,0,de,le,0,0,0,0,1,0,0,0,0,1)}function d(H){if(H===0)return this;var le=e(H),de=t(H);return this._t(1,0,0,0,0,le,-de,0,0,de,le,0,0,0,0,1)}function A(H){if(H===0)return this;var le=e(H),de=t(H);return this._t(le,0,de,0,0,1,0,0,-de,0,le,0,0,0,0,1)}function m(H){if(H===0)return this;var le=e(H),de=t(H);return this._t(le,-de,0,0,de,le,0,0,0,0,1,0,0,0,0,1)}function f(H,le){return this._t(1,le,H,1,0,0)}function g(H,le){return this.shear(n(H),n(le))}function v(H,le){var de=e(le),ye=t(le);return this._t(de,ye,0,0,-ye,de,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(H),1,0,0,0,0,1,0,0,0,0,1)._t(de,-ye,0,0,ye,de,0,0,0,0,1,0,0,0,0,1)}function b(H,le,de){return!de&&de!==0&&(de=1),H===1&&le===1&&de===1?this:this._t(H,0,0,0,0,le,0,0,0,0,de,0,0,0,0,1)}function w(H,le,de,ye,ge,je,Me,He,Qe,ze,Ve,tt,nt,Ye,ut,mt){return this.props[0]=H,this.props[1]=le,this.props[2]=de,this.props[3]=ye,this.props[4]=ge,this.props[5]=je,this.props[6]=Me,this.props[7]=He,this.props[8]=Qe,this.props[9]=ze,this.props[10]=Ve,this.props[11]=tt,this.props[12]=nt,this.props[13]=Ye,this.props[14]=ut,this.props[15]=mt,this}function j(H,le,de){return de=de||0,H!==0||le!==0||de!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,H,le,de,1):this}function E(H,le,de,ye,ge,je,Me,He,Qe,ze,Ve,tt,nt,Ye,ut,mt){var St=this.props;if(H===1&&le===0&&de===0&&ye===0&&ge===0&&je===1&&Me===0&&He===0&&Qe===0&&ze===0&&Ve===1&&tt===0)return St[12]=St[12]*H+St[15]*nt,St[13]=St[13]*je+St[15]*Ye,St[14]=St[14]*Ve+St[15]*ut,St[15]*=mt,this._identityCalculated=!1,this;var or=St[0],Zt=St[1],Bt=St[2],ur=St[3],Nr=St[4],Qr=St[5],$r=St[6],on=St[7],wn=St[8],En=St[9],en=St[10],Pt=St[11],ar=St[12],Xr=St[13],Cn=St[14],tn=St[15];return St[0]=or*H+Zt*ge+Bt*Qe+ur*nt,St[1]=or*le+Zt*je+Bt*ze+ur*Ye,St[2]=or*de+Zt*Me+Bt*Ve+ur*ut,St[3]=or*ye+Zt*He+Bt*tt+ur*mt,St[4]=Nr*H+Qr*ge+$r*Qe+on*nt,St[5]=Nr*le+Qr*je+$r*ze+on*Ye,St[6]=Nr*de+Qr*Me+$r*Ve+on*ut,St[7]=Nr*ye+Qr*He+$r*tt+on*mt,St[8]=wn*H+En*ge+en*Qe+Pt*nt,St[9]=wn*le+En*je+en*ze+Pt*Ye,St[10]=wn*de+En*Me+en*Ve+Pt*ut,St[11]=wn*ye+En*He+en*tt+Pt*mt,St[12]=ar*H+Xr*ge+Cn*Qe+tn*nt,St[13]=ar*le+Xr*je+Cn*ze+tn*Ye,St[14]=ar*de+Xr*Me+Cn*Ve+tn*ut,St[15]=ar*ye+Xr*He+Cn*tt+tn*mt,this._identityCalculated=!1,this}function R(H){var le=H.props;return this.transform(le[0],le[1],le[2],le[3],le[4],le[5],le[6],le[7],le[8],le[9],le[10],le[11],le[12],le[13],le[14],le[15])}function _(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function N(H){for(var le=0;le<16;){if(H.props[le]!==this.props[le])return!1;le+=1}return!0}function B(H){var le;for(le=0;le<16;le+=1)H.props[le]=this.props[le];return H}function M(H){var le;for(le=0;le<16;le+=1)this.props[le]=H[le]}function O(H,le,de){return{x:H*this.props[0]+le*this.props[4]+de*this.props[8]+this.props[12],y:H*this.props[1]+le*this.props[5]+de*this.props[9]+this.props[13],z:H*this.props[2]+le*this.props[6]+de*this.props[10]+this.props[14]}}function F(H,le,de){return H*this.props[0]+le*this.props[4]+de*this.props[8]+this.props[12]}function $(H,le,de){return H*this.props[1]+le*this.props[5]+de*this.props[9]+this.props[13]}function z(H,le,de){return H*this.props[2]+le*this.props[6]+de*this.props[10]+this.props[14]}function se(){var H=this.props[0]*this.props[5]-this.props[1]*this.props[4],le=this.props[5]/H,de=-this.props[1]/H,ye=-this.props[4]/H,ge=this.props[0]/H,je=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/H,Me=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/H,He=new Matrix;return He.props[0]=le,He.props[1]=de,He.props[4]=ye,He.props[5]=ge,He.props[12]=je,He.props[13]=Me,He}function ce(H){var le=this.getInverseMatrix();return le.applyToPointArray(H[0],H[1],H[2]||0)}function ie(H){var le,de=H.length,ye=[];for(le=0;le<de;le+=1)ye[le]=ce(H[le]);return ye}function pe(H,le,de){var ye=createTypedArray("float32",6);if(this.isIdentity())ye[0]=H[0],ye[1]=H[1],ye[2]=le[0],ye[3]=le[1],ye[4]=de[0],ye[5]=de[1];else{var ge=this.props[0],je=this.props[1],Me=this.props[4],He=this.props[5],Qe=this.props[12],ze=this.props[13];ye[0]=H[0]*ge+H[1]*Me+Qe,ye[1]=H[0]*je+H[1]*He+ze,ye[2]=le[0]*ge+le[1]*Me+Qe,ye[3]=le[0]*je+le[1]*He+ze,ye[4]=de[0]*ge+de[1]*Me+Qe,ye[5]=de[0]*je+de[1]*He+ze}return ye}function xe(H,le,de){var ye;return this.isIdentity()?ye=[H,le,de]:ye=[H*this.props[0]+le*this.props[4]+de*this.props[8]+this.props[12],H*this.props[1]+le*this.props[5]+de*this.props[9]+this.props[13],H*this.props[2]+le*this.props[6]+de*this.props[10]+this.props[14]],ye}function Ae(H,le){if(this.isIdentity())return H+","+le;var de=this.props;return Math.round((H*de[0]+le*de[4]+de[12])*100)/100+","+Math.round((H*de[1]+le*de[5]+de[13])*100)/100}function ue(){for(var H=0,le=this.props,de="matrix3d(",ye=1e4;H<16;)de+=o(le[H]*ye)/ye,de+=H===15?")":",",H+=1;return de}function Y(H){var le=1e4;return H<1e-6&&H>0||H>-1e-6&&H<0?o(H*le)/le:H}function fe(){var H=this.props,le=Y(H[0]),de=Y(H[1]),ye=Y(H[4]),ge=Y(H[5]),je=Y(H[12]),Me=Y(H[13]);return"matrix("+le+","+de+","+ye+","+ge+","+je+","+Me+")"}return function(){this.reset=l,this.rotate=u,this.rotateX=d,this.rotateY=A,this.rotateZ=m,this.skew=g,this.skewFromAxis=v,this.shear=f,this.scale=b,this.setTransform=w,this.translate=j,this.transform=E,this.multiply=R,this.applyToPoint=O,this.applyToX=F,this.applyToY=$,this.applyToZ=z,this.applyToPointArray=xe,this.applyToTriplePoints=pe,this.applyToPointStringified=Ae,this.toCSS=ue,this.to2dCSS=fe,this.clone=B,this.cloneFromProps=M,this.equals=N,this.inversePoints=ie,this.inversePoint=ce,this.getInverseMatrix=se,this._t=this.transform,this.isIdentity=_,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(e,t){e==="expressions"&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n+=1){var o=t[n].split("=");if(decodeURIComponent(o[0])==e)return decodeURIComponent(o[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=(function(){var e={},t={};e.registerModifier=n,e.getModifier=o;function n(l,u){t[l]||(t[l]=u)}function o(l,u,d){return new t[l](u,d)}return e})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,o,l){var u=[];t<=1?u.push({s:e,e:t}):e>=1?u.push({s:e-1,e:t-1}):(u.push({s:e,e:1}),u.push({s:0,e:t-1}));var d=[],A,m=u.length,f;for(A=0;A<m;A+=1)if(f=u[A],!(f.e*l<o||f.s*l>o+n)){var g,v;f.s*l<=o?g=0:g=(f.s*l-o)/n,f.e*l>=o+n?v=1:v=(f.e*l-o)/n,d.push([g,v])}return d.length||d.push([0,0]),d},TrimModifier.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,n;if(this._mdf||e){var o=this.o.v%360/360;if(o<0&&(o+=1),this.s.v>1?t=1+o:this.s.v<0?t=0+o:t=this.s.v+o,this.e.v>1?n=1+o:this.e.v<0?n=0+o:n=this.e.v+o,t>n){var l=t;t=n,n=l}t=Math.round(t*1e4)*1e-4,n=Math.round(n*1e4)*1e-4,this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var u,d,A=this.shapes.length,m,f,g,v,b,w=0;if(n===t)for(d=0;d<A;d+=1)this.shapes[d].localShapeCollection.releaseShapes(),this.shapes[d].shape._mdf=!0,this.shapes[d].shape.paths=this.shapes[d].localShapeCollection,this._mdf&&(this.shapes[d].pathsData.length=0);else if(n===1&&t===0||n===0&&t===1){if(this._mdf)for(d=0;d<A;d+=1)this.shapes[d].pathsData.length=0,this.shapes[d].shape._mdf=!0}else{var j=[],E,R;for(d=0;d<A;d+=1)if(E=this.shapes[d],!E.shape._mdf&&!this._mdf&&!e&&this.m!==2)E.shape.paths=E.localShapeCollection;else{if(u=E.shape.paths,f=u._length,b=0,!E.shape._mdf&&E.pathsData.length)b=E.totalShapeLength;else{for(g=this.releasePathsData(E.pathsData),m=0;m<f;m+=1)v=bez.getSegmentsLength(u.shapes[m]),g.push(v),b+=v.totalLength;E.totalShapeLength=b,E.pathsData=g}w+=b,E.shape._mdf=!0}var _=t,N=n,B=0,M;for(d=A-1;d>=0;d-=1)if(E=this.shapes[d],E.shape._mdf){for(R=E.localShapeCollection,R.releaseShapes(),this.m===2&&A>1?(M=this.calculateShapeEdges(t,n,E.totalShapeLength,B,w),B+=E.totalShapeLength):M=[[_,N]],f=M.length,m=0;m<f;m+=1){_=M[m][0],N=M[m][1],j.length=0,N<=1?j.push({s:E.totalShapeLength*_,e:E.totalShapeLength*N}):_>=1?j.push({s:E.totalShapeLength*(_-1),e:E.totalShapeLength*(N-1)}):(j.push({s:E.totalShapeLength*_,e:E.totalShapeLength}),j.push({s:0,e:E.totalShapeLength*(N-1)}));var O=this.addShapes(E,j[0]);if(j[0].s!==j[0].e){if(j.length>1){var F=E.shape.paths.shapes[E.shape.paths._length-1];if(F.c){var $=O.pop();this.addPaths(O,R),O=this.addShapes(E,j[1],$)}else this.addPaths(O,R),O=this.addShapes(E,j[1])}this.addPaths(O,R)}}E.shape.paths=R}}},TrimModifier.prototype.addPaths=function(e,t){var n,o=e.length;for(n=0;n<o;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,o,l,u,d){l.setXYAt(t[0],t[1],"o",u),l.setXYAt(n[0],n[1],"i",u+1),d&&l.setXYAt(e[0],e[1],"v",u),l.setXYAt(o[0],o[1],"v",u+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,n,o){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),o&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,n){var o=e.pathsData,l=e.shape.paths.shapes,u,d=e.shape.paths._length,A,m,f=0,g,v,b,w,j=[],E,R=!0;for(n?(v=n._length,E=n._length):(n=shapePool.newElement(),v=0,E=0),j.push(n),u=0;u<d;u+=1){for(b=o[u].lengths,n.c=l[u].c,m=l[u].c?b.length:b.length+1,A=1;A<m;A+=1)if(g=b[A-1],f+g.addedLength<t.s)f+=g.addedLength,n.c=!1;else if(f>t.e){n.c=!1;break}else t.s<=f&&t.e>=f+g.addedLength?(this.addSegment(l[u].v[A-1],l[u].o[A-1],l[u].i[A],l[u].v[A],n,v,R),R=!1):(w=bez.getNewSegment(l[u].v[A-1],l[u].v[A],l[u].o[A-1],l[u].i[A],(t.s-f)/g.addedLength,(t.e-f)/g.addedLength,b[A-1]),this.addSegmentFromArray(w,n,v,R),R=!1,n.c=!1),f+=g.addedLength,v+=1;if(l[u].c&&b.length){if(g=b[A-1],f<=t.e){var _=b[A-1].addedLength;t.s<=f&&t.e>=f+_?(this.addSegment(l[u].v[A-1],l[u].o[A-1],l[u].i[0],l[u].v[0],n,v,R),R=!1):(w=bez.getNewSegment(l[u].v[A-1],l[u].v[0],l[u].o[A-1],l[u].i[0],(t.s-f)/_,(t.e-f)/_,b[A-1]),this.addSegmentFromArray(w,n,v,R),R=!1,n.c=!1)}else n.c=!1;f+=g.addedLength,v+=1}if(n._length&&(n.setXYAt(n.v[E][0],n.v[E][1],"i",E),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>t.e)break;u<d-1&&(n=shapePool.newElement(),R=!0,j.push(n),v=0)}return j};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var n=t/100,o=[0,0],l=e._length,u=0;for(u=0;u<l;u+=1)o[0]+=e.v[u][0],o[1]+=e.v[u][1];o[0]/=l,o[1]/=l;var d=shapePool.newElement();d.c=e.c;var A,m,f,g,v,b;for(u=0;u<l;u+=1)A=e.v[u][0]+(o[0]-e.v[u][0])*n,m=e.v[u][1]+(o[1]-e.v[u][1])*n,f=e.o[u][0]+(o[0]-e.o[u][0])*-n,g=e.o[u][1]+(o[1]-e.o[u][1])*-n,v=e.i[u][0]+(o[0]-e.i[u][0])*-n,b=e.i[u][1]+(o[1]-e.i[u][1])*-n,d.setTripleAt(A,m,f,g,v,b,u);return d},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,n,o=this.shapes.length,l,u,d=this.amount.v;if(d!==0){var A,m;for(n=0;n<o;n+=1){if(A=this.shapes[n],m=A.localShapeCollection,!(!A.shape._mdf&&!this._mdf&&!e))for(m.releaseShapes(),A.shape._mdf=!0,t=A.shape.paths.shapes,u=A.shape.paths._length,l=0;l<u;l+=1)m.addShape(this.processPath(t[l],d));A.shape.paths=A.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var e=[0,0];function t(m){var f=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||f,this.a&&m.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&m.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&m.skewFromAxis(-this.sk.v,this.sa.v),this.r?m.rotate(-this.r.v):m.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?m.translate(this.px.v,this.py.v,-this.pz.v):m.translate(this.px.v,this.py.v,0):m.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(m){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||m){var f;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var g,v;if(f=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(g=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/f,0),v=this.p.getValueAtTime(this.p.keyframes[0].t/f,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(g=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/f,0),v=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/f,0)):(g=this.p.pv,v=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/f,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){g=[],v=[];var b=this.px,w=this.py;b._caching.lastFrame+b.offsetTime<=b.keyframes[0].t?(g[0]=b.getValueAtTime((b.keyframes[0].t+.01)/f,0),g[1]=w.getValueAtTime((w.keyframes[0].t+.01)/f,0),v[0]=b.getValueAtTime(b.keyframes[0].t/f,0),v[1]=w.getValueAtTime(w.keyframes[0].t/f,0)):b._caching.lastFrame+b.offsetTime>=b.keyframes[b.keyframes.length-1].t?(g[0]=b.getValueAtTime(b.keyframes[b.keyframes.length-1].t/f,0),g[1]=w.getValueAtTime(w.keyframes[w.keyframes.length-1].t/f,0),v[0]=b.getValueAtTime((b.keyframes[b.keyframes.length-1].t-.01)/f,0),v[1]=w.getValueAtTime((w.keyframes[w.keyframes.length-1].t-.01)/f,0)):(g=[b.pv,w.pv],v[0]=b.getValueAtTime((b._caching.lastFrame+b.offsetTime-.01)/f,b.offsetTime),v[1]=w.getValueAtTime((w._caching.lastFrame+w.offsetTime-.01)/f,w.offsetTime))}else v=e,g=v;this.v.rotate(-Math.atan2(g[1]-v[1],g[0]-v[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function o(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function l(){}function u(m){this._addDynamicProperty(m),this.elem.addDynamicProperty(m),this._isDirty=!0}function d(m,f,g){if(this.elem=m,this.frameId=-1,this.propType="transform",this.data=f,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(g||m),f.p&&f.p.s?(this.px=PropertyFactory.getProp(m,f.p.x,0,0,this),this.py=PropertyFactory.getProp(m,f.p.y,0,0,this),f.p.z&&(this.pz=PropertyFactory.getProp(m,f.p.z,0,0,this))):this.p=PropertyFactory.getProp(m,f.p||{k:[0,0,0]},1,0,this),f.rx){if(this.rx=PropertyFactory.getProp(m,f.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(m,f.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(m,f.rz,0,degToRads,this),f.or.k[0].ti){var v,b=f.or.k.length;for(v=0;v<b;v+=1)f.or.k[v].to=null,f.or.k[v].ti=null}this.or=PropertyFactory.getProp(m,f.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(m,f.r||{k:0},0,degToRads,this);f.sk&&(this.sk=PropertyFactory.getProp(m,f.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(m,f.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(m,f.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(m,f.s||{k:[100,100,100]},1,.01,this),f.o?this.o=PropertyFactory.getProp(m,f.o,0,.01,m):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}d.prototype={applyToMatrix:t,getValue:n,precalculateMatrix:o,autoOrient:l},extendPrototype([DynamicPropertyContainer],d),d.prototype.addDynamicProperty=u,d.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function A(m,f,g){return new d(m,f,g)}return{getTransformProperty:A}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,o,l,u){var d=u?-1:1,A=o.s.v[0]+(1-o.s.v[0])*(1-l),m=o.s.v[1]+(1-o.s.v[1])*(1-l);e.translate(o.p.v[0]*d*l,o.p.v[1]*d*l,o.p.v[2]),t.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),t.rotate(-o.r.v*d*l),t.translate(o.a.v[0],o.a.v[1],o.a.v[2]),n.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),n.scale(u?1/A:A,u?1/m:m),n.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,o){for(this.elem=e,this.arr=t,this.pos=n,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);n>0;)n-=1,this._elements.unshift(t[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,e[t].ty==="gr"&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,o=e.length;for(n=0;n<o;n+=1)e[n]._render=t,e[n].ty==="gr"&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,n,o,l,u,d=!1;if(this._mdf||e){var A=Math.ceil(this.c.v);if(this._groups.length<A){for(;this._groups.length<A;){var m={it:this.cloneElements(this._elements),ty:"gr"};m.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,m),this._groups.splice(0,0,m),this._currentCopies+=1}this.elem.reloadShapes(),d=!0}u=0;var f;for(o=0;o<=this._groups.length-1;o+=1){if(f=u<A,this._groups[o]._render=f,this.changeGroupRender(this._groups[o].it,f),!f){var g=this.elemsData[o].it,v=g[g.length-1];v.transform.op.v!==0?(v.transform.op._mdf=!0,v.transform.op.v=0):v.transform.op._mdf=!1}u+=1}this._currentCopies=A;var b=this.o.v,w=b%1,j=b>0?Math.floor(b):Math.ceil(b),E=this.pMatrix.props,R=this.rMatrix.props,_=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var N=0;if(b>0){for(;N<j;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),N+=1;w&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,w,!1),N+=w)}else if(b<0){for(;N>j;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),N-=1;w&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-w,!0),N-=w)}o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,u=this._currentCopies;for(var B,M;u;){if(t=this.elemsData[o].it,n=t[t.length-1].transform.mProps.v.props,M=n.length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),N!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8],R[9],R[10],R[11],R[12],R[13],R[14],R[15]),this.matrix.transform(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]),this.matrix.transform(E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15]),B=0;B<M;B+=1)n[B]=this.matrix.props[B];this.matrix.reset()}else for(this.matrix.reset(),B=0;B<M;B+=1)n[B]=this.matrix.props[B];N+=1,u-=1,o+=l}}else for(u=this._currentCopies,o=0,l=1;u;)t=this.elemsData[o].it,n=t[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,u-=1,o+=l;return d},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var n=shapePool.newElement();n.c=e.c;var o,l=e._length,u,d,A,m,f,g,v=0,b,w,j,E,R,_;for(o=0;o<l;o+=1)u=e.v[o],A=e.o[o],d=e.i[o],u[0]===A[0]&&u[1]===A[1]&&u[0]===d[0]&&u[1]===d[1]?(o===0||o===l-1)&&!e.c?(n.setTripleAt(u[0],u[1],A[0],A[1],d[0],d[1],v),v+=1):(o===0?m=e.v[l-1]:m=e.v[o-1],f=Math.sqrt(Math.pow(u[0]-m[0],2)+Math.pow(u[1]-m[1],2)),g=f?Math.min(f/2,t)/f:0,R=u[0]+(m[0]-u[0])*g,b=R,_=u[1]-(u[1]-m[1])*g,w=_,j=b-(b-u[0])*roundCorner,E=w-(w-u[1])*roundCorner,n.setTripleAt(b,w,j,E,R,_,v),v+=1,o===l-1?m=e.v[0]:m=e.v[o+1],f=Math.sqrt(Math.pow(u[0]-m[0],2)+Math.pow(u[1]-m[1],2)),g=f?Math.min(f/2,t)/f:0,j=u[0]+(m[0]-u[0])*g,b=j,E=u[1]+(m[1]-u[1])*g,w=E,R=b-(b-u[0])*roundCorner,_=w-(w-u[1])*roundCorner,n.setTripleAt(b,w,j,E,R,_,v),v+=1):(n.setTripleAt(e.v[o][0],e.v[o][1],e.o[o][0],e.o[o][1],e.i[o][0],e.i[o][1],v),v+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,n,o=this.shapes.length,l,u,d=this.rd.v;if(d!==0){var A,m;for(n=0;n<o;n+=1){if(A=this.shapes[n],m=A.localShapeCollection,!(!A.shape._mdf&&!this._mdf&&!e))for(m.releaseShapes(),A.shape._mdf=!0,t=A.shape.paths.shapes,u=A.shape.paths._length,l=0;l<u;l+=1)m.addShape(this.processPath(t[l],d));A.shape.paths=A.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(e,t){return Math.abs(e-t)*1e5<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,n){return e*(1-n)+t*n}function lerpPoint(e,t,n){return[lerp(e[0],t[0],n),lerp(e[1],t[1],n)]}function quadRoots(e,t,n){if(e===0)return[];var o=t*t-4*e*n;if(o<0)return[];var l=-t/(2*e);if(o===0)return[l];var u=Math.sqrt(o)/(2*e);return[l-u,l+u]}function polynomialCoefficients(e,t,n,o){return[-e+3*t-3*n+o,3*e-6*t+3*n,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,n,o,l){l&&pointEqual(e,t)&&(t=lerpPoint(e,o,1/3)),l&&pointEqual(n,o)&&(n=lerpPoint(e,o,2/3));var u=polynomialCoefficients(e[0],t[0],n[0],o[0]),d=polynomialCoefficients(e[1],t[1],n[1],o[1]);this.a=[u[0],d[0]],this.b=[u[1],d[1]],this.c=[u[2],d[2]],this.d=[u[3],d[3]],this.points=[e,t,n,o]}PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,n=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(n<0)return[];var o=Math.sqrt(n);return floatZero(o)?o>0&&o<1?[t]:[]:[t-o,t+o].filter(function(l){return l>0&&l<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),n=lerpPoint(this.points[1],this.points[2],e),o=lerpPoint(this.points[2],this.points[3],e),l=lerpPoint(t,n,e),u=lerpPoint(n,o,e),d=lerpPoint(l,u,e);return[new PolynomialBezier(this.points[0],t,l,d,!0),new PolynomialBezier(d,u,o,this.points[3],!0)]};function extrema(e,t){var n=e.points[0][t],o=e.points[e.points.length-1][t];if(n>o){var l=o;o=n,n=l}for(var u=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),d=0;d<u.length;d+=1)if(u[d]>0&&u[d]<1){var A=e.point(u[d])[t];A<n?n=A:A>o&&(o=A)}return{min:n,max:o}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}};function intersectData(e,t,n){var o=e.boundingBox();return{cx:o.cx,cy:o.cy,width:o.width,height:o.height,bez:e,t:(t+n)/2,t1:t,t2:n}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return Math.abs(e.cx-t.cx)*2<e.width+t.width&&Math.abs(e.cy-t.cy)*2<e.height+t.height}function intersectsImpl(e,t,n,o,l,u){if(boxIntersect(e,t)){if(n>=u||e.width<=o&&e.height<=o&&t.width<=o&&t.height<=o){l.push([e.t,t.t]);return}var d=splitData(e),A=splitData(t);intersectsImpl(d[0],A[0],n+1,o,l,u),intersectsImpl(d[0],A[1],n+1,o,l,u),intersectsImpl(d[1],A[0],n+1,o,l,u),intersectsImpl(d[1],A[1],n+1,o,l,u)}}PolynomialBezier.prototype.intersections=function(e,t,n){t===void 0&&(t=2),n===void 0&&(n=7);var o=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,o,n),o},PolynomialBezier.shapeSegment=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[n],e.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var n=(t+1)%e.length();return new PolynomialBezier(e.v[n],e.i[n],e.o[t],e.v[t],!0)};function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,n,o){var l=[e[0],e[1],1],u=[t[0],t[1],1],d=[n[0],n[1],1],A=[o[0],o[1],1],m=crossProduct(crossProduct(l,u),crossProduct(d,A));return floatZero(m[2])?null:[m[0]/m[2],m[1]/m[2]]}function polarOffset(e,t,n){return[e[0]+Math.cos(t)*n,e[1]-Math.sin(t)*n]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(e,t,n,o,l,u,d){var A=n-Math.PI/2,m=n+Math.PI/2,f=t[0]+Math.cos(n)*o*l,g=t[1]-Math.sin(n)*o*l;e.setTripleAt(f,g,f+Math.cos(A)*u,g-Math.sin(A)*u,f+Math.cos(m)*d,g-Math.sin(m)*d,e.length())}function getPerpendicularVector(e,t){var n=[t[0]-e[0],t[1]-e[1]],o=-Math.PI*.5,l=[Math.cos(o)*n[0]-Math.sin(o)*n[1],Math.sin(o)*n[0]+Math.cos(o)*n[1]];return l}function getProjectingAngle(e,t){var n=t===0?e.length()-1:t-1,o=(t+1)%e.length(),l=e.v[n],u=e.v[o],d=getPerpendicularVector(l,u);return Math.atan2(0,1)-Math.atan2(d[1],d[0])}function zigZagCorner(e,t,n,o,l,u,d){var A=getProjectingAngle(t,n),m=t.v[n%t._length],f=t.v[n===0?t._length-1:n-1],g=t.v[(n+1)%t._length],v=u===2?Math.sqrt(Math.pow(m[0]-f[0],2)+Math.pow(m[1]-f[1],2)):0,b=u===2?Math.sqrt(Math.pow(m[0]-g[0],2)+Math.pow(m[1]-g[1],2)):0;setPoint(e,t.v[n%t._length],A,d,o,b/((l+1)*2),v/((l+1)*2))}function zigZagSegment(e,t,n,o,l,u){for(var d=0;d<o;d+=1){var A=(d+1)/(o+1),m=l===2?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,f=t.normalAngle(A),g=t.point(A);setPoint(e,g,f,u,n,m/((o+1)*2),m/((o+1)*2)),u=-u}return u}ZigZagModifier.prototype.processPath=function(e,t,n,o){var l=e._length,u=shapePool.newElement();if(u.c=e.c,e.c||(l-=1),l===0)return u;var d=-1,A=PolynomialBezier.shapeSegment(e,0);zigZagCorner(u,e,0,t,n,o,d);for(var m=0;m<l;m+=1)d=zigZagSegment(u,A,t,n,o,-d),m===l-1&&!e.c?A=null:A=PolynomialBezier.shapeSegment(e,(m+1)%l),zigZagCorner(u,e,m+1,t,n,o,d);return u},ZigZagModifier.prototype.processShapes=function(e){var t,n,o=this.shapes.length,l,u,d=this.amplitude.v,A=Math.max(0,Math.round(this.frequency.v)),m=this.pointsType.v;if(d!==0){var f,g;for(n=0;n<o;n+=1){if(f=this.shapes[n],g=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!e))for(g.releaseShapes(),f.shape._mdf=!0,t=f.shape.paths.shapes,u=f.shape.paths._length,l=0;l<u;l+=1)g.addShape(this.processPath(t[l],d,A,m));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(e,t,n){var o=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,o,n),polarOffset(t,o,n)]}function offsetSegment(e,t){var n,o,l,u,d,A,m;m=linearOffset(e.points[0],e.points[1],t),n=m[0],o=m[1],m=linearOffset(e.points[1],e.points[2],t),l=m[0],u=m[1],m=linearOffset(e.points[2],e.points[3],t),d=m[0],A=m[1];var f=lineIntersection(n,o,l,u);f===null&&(f=o);var g=lineIntersection(d,A,l,u);return g===null&&(g=d),new PolynomialBezier(n,f,g,A)}function joinLines(e,t,n,o,l){var u=t.points[3],d=n.points[0];if(o===3||pointEqual(u,d))return u;if(o===2){var A=-t.tangentAngle(1),m=-n.tangentAngle(0)+Math.PI,f=lineIntersection(u,polarOffset(u,A+Math.PI/2,100),d,polarOffset(d,A+Math.PI/2,100)),g=f?pointDistance(f,u):pointDistance(u,d)/2,v=polarOffset(u,A,2*g*roundCorner);return e.setXYAt(v[0],v[1],"o",e.length()-1),v=polarOffset(d,m,2*g*roundCorner),e.setTripleAt(d[0],d[1],d[0],d[1],v[0],v[1],e.length()),d}var b=pointEqual(u,t.points[2])?t.points[0]:t.points[2],w=pointEqual(d,n.points[1])?n.points[3]:n.points[1],j=lineIntersection(b,u,d,w);return j&&pointDistance(j,u)<l?(e.setTripleAt(j[0],j[1],j[0],j[1],j[0],j[1],e.length()),j):u}function getIntersection(e,t){var n=e.intersections(t);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(e,t){var n=e.slice(),o=t.slice(),l=getIntersection(e[e.length-1],t[0]);return l&&(n[e.length-1]=e[e.length-1].split(l[0])[0],o[0]=t[0].split(l[1])[1]),e.length>1&&t.length>1&&(l=getIntersection(e[0],t[t.length-1]),l)?[[e[0].split(l[0])[0]],[t[t.length-1].split(l[1])[1]]]:[n,o]}function pruneIntersections(e){for(var t,n=1;n<e.length;n+=1)t=pruneSegmentIntersection(e[n-1],e[n]),e[n-1]=t[0],e[n]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var n=e.inflectionPoints(),o,l,u,d;if(n.length===0)return[offsetSegment(e,t)];if(n.length===1||floatEqual(n[1],1))return u=e.split(n[0]),o=u[0],l=u[1],[offsetSegment(o,t),offsetSegment(l,t)];u=e.split(n[0]),o=u[0];var A=(n[1]-n[0])/(1-n[0]);return u=u[1].split(A),d=u[0],l=u[1],[offsetSegment(o,t),offsetSegment(d,t),offsetSegment(l,t)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,t,n,o){var l=shapePool.newElement();l.c=e.c;var u=e.length();e.c||(u-=1);var d,A,m,f=[];for(d=0;d<u;d+=1)m=PolynomialBezier.shapeSegment(e,d),f.push(offsetSegmentSplit(m,t));if(!e.c)for(d=u-1;d>=0;d-=1)m=PolynomialBezier.shapeSegmentInverted(e,d),f.push(offsetSegmentSplit(m,t));f=pruneIntersections(f);var g=null,v=null;for(d=0;d<f.length;d+=1){var b=f[d];for(v&&(g=joinLines(l,v,b[0],n,o)),v=b[b.length-1],A=0;A<b.length;A+=1)m=b[A],g&&pointEqual(m.points[0],g)?l.setXYAt(m.points[1][0],m.points[1][1],"o",l.length()-1):l.setTripleAt(m.points[0][0],m.points[0][1],m.points[1][0],m.points[1][1],m.points[0][0],m.points[0][1],l.length()),l.setTripleAt(m.points[3][0],m.points[3][1],m.points[3][0],m.points[3][1],m.points[2][0],m.points[2][1],l.length()),g=m.points[3]}return f.length&&joinLines(l,v,f[0][0],n,o),l},OffsetPathModifier.prototype.processShapes=function(e){var t,n,o=this.shapes.length,l,u,d=this.amount.v,A=this.miterLimit.v,m=this.lineJoin;if(d!==0){var f,g;for(n=0;n<o;n+=1){if(f=this.shapes[n],g=f.localShapeCollection,!(!f.shape._mdf&&!this._mdf&&!e))for(g.releaseShapes(),f.shape._mdf=!0,t=f.shape.paths.shapes,u=f.shape.paths._length,l=0;l<u;l+=1)g.addShape(this.processPath(t[l],d,m,A));f.shape.paths=f.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],n="normal",o="normal",l=t.length,u,d=0;d<l;d+=1)switch(u=t[d].toLowerCase(),u){case"italic":o="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200";break}return{style:o,weight:e.fWeight||n}}var FontManager=(function(){var e=5e3,t={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var o=127988,l=917631,u=917601,d=917626,A=65039,m=8205,f=127462,g=127487,v=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function b(Y){var fe=Y.split(","),H,le=fe.length,de=[];for(H=0;H<le;H+=1)fe[H]!=="sans-serif"&&fe[H]!=="monospace"&&de.push(fe[H]);return de.join(",")}function w(Y,fe){var H=createTag("span");H.setAttribute("aria-hidden",!0),H.style.fontFamily=fe;var le=createTag("span");le.innerText="giItT1WQy@!-/#",H.style.position="absolute",H.style.left="-10000px",H.style.top="-10000px",H.style.fontSize="300px",H.style.fontVariant="normal",H.style.fontStyle="normal",H.style.fontWeight="normal",H.style.letterSpacing="0",H.appendChild(le),document.body.appendChild(H);var de=le.offsetWidth;return le.style.fontFamily=b(Y)+", "+fe,{node:le,w:de,parent:H}}function j(){var Y,fe=this.fonts.length,H,le,de=fe;for(Y=0;Y<fe;Y+=1)this.fonts[Y].loaded?de-=1:this.fonts[Y].fOrigin==="n"||this.fonts[Y].origin===0?this.fonts[Y].loaded=!0:(H=this.fonts[Y].monoCase.node,le=this.fonts[Y].monoCase.w,H.offsetWidth!==le?(de-=1,this.fonts[Y].loaded=!0):(H=this.fonts[Y].sansCase.node,le=this.fonts[Y].sansCase.w,H.offsetWidth!==le&&(de-=1,this.fonts[Y].loaded=!0)),this.fonts[Y].loaded&&(this.fonts[Y].sansCase.parent.parentNode.removeChild(this.fonts[Y].sansCase.parent),this.fonts[Y].monoCase.parent.parentNode.removeChild(this.fonts[Y].monoCase.parent)));de!==0&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function E(Y,fe){var H=document.body&&fe?"svg":"canvas",le,de=getFontProperties(Y);if(H==="svg"){var ye=createNS("text");ye.style.fontSize="100px",ye.setAttribute("font-family",Y.fFamily),ye.setAttribute("font-style",de.style),ye.setAttribute("font-weight",de.weight),ye.textContent="1",Y.fClass?(ye.style.fontFamily="inherit",ye.setAttribute("class",Y.fClass)):ye.style.fontFamily=Y.fFamily,fe.appendChild(ye),le=ye}else{var ge=new OffscreenCanvas(500,500).getContext("2d");ge.font=de.style+" "+de.weight+" 100px "+Y.fFamily,le=ge}function je(Me){return H==="svg"?(le.textContent=Me,le.getComputedTextLength()):le.measureText(Me).width}return{measureText:je}}function R(Y,fe){if(!Y){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Y.list;return}if(!document.body){this.isLoaded=!0,Y.list.forEach(function(Ve){Ve.helper=E(Ve),Ve.cache={}}),this.fonts=Y.list;return}var H=Y.list,le,de=H.length,ye=de;for(le=0;le<de;le+=1){var ge=!0,je,Me;if(H[le].loaded=!1,H[le].monoCase=w(H[le].fFamily,"monospace"),H[le].sansCase=w(H[le].fFamily,"sans-serif"),!H[le].fPath)H[le].loaded=!0,ye-=1;else if(H[le].fOrigin==="p"||H[le].origin===3){if(je=document.querySelectorAll('style[f-forigin="p"][f-family="'+H[le].fFamily+'"], style[f-origin="3"][f-family="'+H[le].fFamily+'"]'),je.length>0&&(ge=!1),ge){var He=createTag("style");He.setAttribute("f-forigin",H[le].fOrigin),He.setAttribute("f-origin",H[le].origin),He.setAttribute("f-family",H[le].fFamily),He.type="text/css",He.innerText="@font-face {font-family: "+H[le].fFamily+"; font-style: normal; src: url('"+H[le].fPath+"');}",fe.appendChild(He)}}else if(H[le].fOrigin==="g"||H[le].origin===1){for(je=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Me=0;Me<je.length;Me+=1)je[Me].href.indexOf(H[le].fPath)!==-1&&(ge=!1);if(ge){var Qe=createTag("link");Qe.setAttribute("f-forigin",H[le].fOrigin),Qe.setAttribute("f-origin",H[le].origin),Qe.type="text/css",Qe.rel="stylesheet",Qe.href=H[le].fPath,document.body.appendChild(Qe)}}else if(H[le].fOrigin==="t"||H[le].origin===2){for(je=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Me=0;Me<je.length;Me+=1)H[le].fPath===je[Me].src&&(ge=!1);if(ge){var ze=createTag("link");ze.setAttribute("f-forigin",H[le].fOrigin),ze.setAttribute("f-origin",H[le].origin),ze.setAttribute("rel","stylesheet"),ze.setAttribute("href",H[le].fPath),fe.appendChild(ze)}}H[le].helper=E(H[le],fe),H[le].cache={},this.fonts.push(H[le])}ye===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function _(Y){if(Y){this.chars||(this.chars=[]);var fe,H=Y.length,le,de=this.chars.length,ye;for(fe=0;fe<H;fe+=1){for(le=0,ye=!1;le<de;)this.chars[le].style===Y[fe].style&&this.chars[le].fFamily===Y[fe].fFamily&&this.chars[le].ch===Y[fe].ch&&(ye=!0),le+=1;ye||(this.chars.push(Y[fe]),de+=1)}}}function N(Y,fe,H){for(var le=0,de=this.chars.length;le<de;){if(this.chars[le].ch===Y&&this.chars[le].style===fe&&this.chars[le].fFamily===H)return this.chars[le];le+=1}return(typeof Y=="string"&&Y.charCodeAt(0)!==13||!Y)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Y,fe,H)),t}function B(Y,fe,H){var le=this.getFontByName(fe),de=Y;if(!le.cache[de]){var ye=le.helper;if(Y===" "){var ge=ye.measureText("|"+Y+"|"),je=ye.measureText("||");le.cache[de]=(ge-je)/100}else le.cache[de]=ye.measureText(Y)/100}return le.cache[de]*H}function M(Y){for(var fe=0,H=this.fonts.length;fe<H;){if(this.fonts[fe].fName===Y)return this.fonts[fe];fe+=1}return this.fonts[0]}function O(Y){var fe=0,H=Y.charCodeAt(0);if(H>=55296&&H<=56319){var le=Y.charCodeAt(1);le>=56320&&le<=57343&&(fe=(H-55296)*1024+le-56320+65536)}return fe}function F(Y,fe){var H=Y.toString(16)+fe.toString(16);return v.indexOf(H)!==-1}function $(Y){return Y===m}function z(Y){return Y===A}function se(Y){var fe=O(Y);return fe>=f&&fe<=g}function ce(Y){return se(Y.substr(0,2))&&se(Y.substr(2,2))}function ie(Y){return n.indexOf(Y)!==-1}function pe(Y,fe){var H=O(Y.substr(fe,2));if(H!==o)return!1;var le=0;for(fe+=2;le<5;){if(H=O(Y.substr(fe,2)),H<u||H>d)return!1;le+=1,fe+=2}return O(Y.substr(fe,2))===l}function xe(){this.isLoaded=!0}var Ae=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Ae.isModifier=F,Ae.isZeroWidthJoiner=$,Ae.isFlagEmoji=ce,Ae.isRegionalCode=se,Ae.isCombinedCharacter=ie,Ae.isRegionalFlag=pe,Ae.isVariationSelector=z,Ae.BLACK_FLAG_CODE_POINT=o;var ue={addChars:_,addFonts:R,getCharData:N,getFontByName:M,measureText:B,checkLoadedFonts:j,setIsLoaded:xe};return Ae.prototype=ue,Ae})();function SlotManager(e){this.animationData=e}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e};function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,n=this.renderableComponents.length;for(t=0;t<n;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}})();function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var n=e.ef||[];this.effectElements=[];var o,l=n.length,u;for(o=0;o<l;o+=1)u=new GroupEffect(n[o],t),this.effectElements.push(u)}function GroupEffect(e,t){this.init(e,t)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,o=this.data.ef.length,l,u=this.data.ef;for(n=0;n<o;n+=1){switch(l=null,u[n].ty){case 0:l=new SliderEffect(u[n],t,this);break;case 1:l=new AngleEffect(u[n],t,this);break;case 2:l=new ColorEffect(u[n],t,this);break;case 3:l=new PointEffect(u[n],t,this);break;case 4:case 7:l=new CheckboxEffect(u[n],t,this);break;case 10:l=new LayerIndexEffect(u[n],t,this);break;case 11:l=new MaskIndexEffect(u[n],t,this);break;case 5:l=new EffectsManager(u[n],t);break;default:l=new NoValueEffect(u[n]);break}l&&this.effectElements.push(l)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,n=this.data.masksProperties.length;t<n;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var n=t("layer"),o=t("effects"),l=t("shape"),u=t("text"),d=t("comp");this.layerInterface=n(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var A=o.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(A),this.data.ty===0||this.data.xt?this.compInterface=d(this):this.data.ty===4?(this.layerInterface.shapeInterface=l(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=u(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),n=this.baseElement||this.layerElement;n.style["mix-blend-mode"]=t},initBaseData:function(t,n,o){this.globalData=n,this.comp=o,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,n){var o,l=this.dynamicProperties.length;for(o=0;o<l;o+=1)(n||this._isParent&&this.dynamicProperties[o].propType==="transform")&&(this.dynamicProperties[o].getValue(),this.dynamicProperties[o]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}};function FootageElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,n)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(e,t,n){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,n),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(e){var t,n=this.layers.length,o;for(this.completeLayers=!0,t=n-1;t>=0;t-=1)this.elements[t]||(o=this.layers[t],o.ip-o.st<=e-this.layers[t].st&&o.op-o.st>e-this.layers[t].st&&this.buildItem(t)),this.completeLayers=this.elements[t]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,n=e.length,o,l=this.layers.length;for(t=0;t<n;t+=1)for(o=0;o<l;){if(this.layers[o].id===e[t].id){this.layers[o]=e[t];break}o+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){for(var o=this.elements,l=this.layers,u=0,d=l.length;u<d;)l[u].ind==t&&(!o[u]||o[u]===!0?(this.buildItem(u),this.addPendingElement(e)):(n.push(o[u]),o[u].setAsParent(),l[u].parent!==void 0?this.buildElementParenting(e,l[u].parent,n):e.setHierarchy(n))),u+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var o=this.createComp(e[t]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.getElementById=function(e){var t,n=this.elements.length;for(t=0;t<n;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t=e.shift(),n;if(typeof t=="number")n=this.elements[t];else{var o,l=this.elements.length;for(o=0;o<l;o+=1)if(this.elements[o].data.nm===t){n=this.elements[o];break}}return e.length===0?n:n.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,n=this.finalTransform.mat,o=0,l=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;o<l;){if(this.hierarchy[o].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}o+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,n.cloneFromProps(t),o=0;o<l;o+=1)n.multiply(this.hierarchy[o].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,n=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<n;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var o=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(o),t=1;t<n;t+=1){var l=this.localTransforms[t].matrix;o.multiply(l)}o.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var u=this.finalTransform.localOpacity;for(t=0;t<n;t+=1)u*=this.localTransforms[t].opacity*.01;this.finalTransform.localOpacity=u}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var n=0,o=t.length;for(n=0;n<o;n+=1)this.localTransforms.push(t[n])}}},globalToLocal:function(t){var n=[];n.push(this.finalTransform);for(var o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&n.splice(0,0,l.finalTransform),l=l.comp):o=!1;var u,d=n.length,A;for(u=0;u<d;u+=1)A=n[u].mat.applyToPointArray(0,0,0),t=[t[0]-A[0],t[1]-A[1],0];return t},mHelper:new Matrix};function MaskElement(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o=this.globalData.defs,l,u=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(u),this.solidPath="";var d,A=this.masksProperties,m=0,f=[],g,v,b=createElementID(),w,j,E,R,_="clipPath",N="clip-path";for(l=0;l<u;l+=1)if((A[l].mode!=="a"&&A[l].mode!=="n"||A[l].inv||A[l].o.k!==100||A[l].o.x)&&(_="mask",N="mask"),(A[l].mode==="s"||A[l].mode==="i")&&m===0?(w=createNS("rect"),w.setAttribute("fill","#ffffff"),w.setAttribute("width",this.element.comp.data.w||0),w.setAttribute("height",this.element.comp.data.h||0),f.push(w)):w=null,d=createNS("path"),A[l].mode==="n")this.viewData[l]={op:PropertyFactory.getProp(this.element,A[l].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,A[l],3),elem:d,lastPath:""},o.appendChild(d);else{m+=1,d.setAttribute("fill",A[l].mode==="s"?"#000000":"#ffffff"),d.setAttribute("clip-rule","nonzero");var B;if(A[l].x.k!==0?(_="mask",N="mask",R=PropertyFactory.getProp(this.element,A[l].x,0,null,this.element),B=createElementID(),j=createNS("filter"),j.setAttribute("id",B),E=createNS("feMorphology"),E.setAttribute("operator","erode"),E.setAttribute("in","SourceGraphic"),E.setAttribute("radius","0"),j.appendChild(E),o.appendChild(j),d.setAttribute("stroke",A[l].mode==="s"?"#000000":"#ffffff")):(E=null,R=null),this.storedData[l]={elem:d,x:R,expan:E,lastPath:"",lastOperator:"",filterId:B,lastRadius:0},A[l].mode==="i"){v=f.length;var M=createNS("g");for(g=0;g<v;g+=1)M.appendChild(f[g]);var O=createNS("mask");O.setAttribute("mask-type","alpha"),O.setAttribute("id",b+"_"+m),O.appendChild(d),o.appendChild(O),M.setAttribute("mask","url("+getLocationHref()+"#"+b+"_"+m+")"),f.length=0,f.push(M)}else f.push(d);A[l].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[l]={elem:d,lastPath:"",op:PropertyFactory.getProp(this.element,A[l].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,A[l],3),invRect:w},this.viewData[l].prop.k||this.drawPath(A[l],this.viewData[l].prop.v,this.viewData[l])}for(this.maskElement=createNS(_),u=f.length,l=0;l<u;l+=1)this.maskElement.appendChild(f[l]);m>0&&(this.maskElement.setAttribute("id",b),this.element.maskedElement.setAttribute(N,"url("+getLocationHref()+"#"+b+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t=this.element.finalTransform.mat,n,o=this.masksProperties.length;for(n=0;n<o;n+=1)if((this.viewData[n].prop._mdf||e)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||e)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),this.masksProperties[n].mode!=="n"&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[n].invRect.setAttribute("transform",t.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||e))){var l=this.storedData[n].expan;this.storedData[n].x.v<0?(this.storedData[n].lastOperator!=="erode"&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[n].filterId+")")),l.setAttribute("radius",-this.storedData[n].x.v)):(this.storedData[n].lastOperator!=="dilate"&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",this.storedData[n].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",e},MaskElement.prototype.drawPath=function(e,t,n){var o=" M"+t.v[0][0]+","+t.v[0][1],l,u;for(u=t._length,l=1;l<u;l+=1)o+=" C"+t.o[l-1][0]+","+t.o[l-1][1]+" "+t.i[l][0]+","+t.i[l][1]+" "+t.v[l][0]+","+t.v[l][1];if(t.c&&u>1&&(o+=" C"+t.o[l-1][0]+","+t.o[l-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==o){var d="";n.elem&&(t.c&&(d=e.inv?this.solidPath+o:o),n.elem.setAttribute("d",d)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var e={};e.createFilter=t,e.createAlphaToLuminanceFilter=n;function t(o,l){var u=createNS("filter");return u.setAttribute("id",o),l!==!0&&(u.setAttribute("filterUnits","objectBoundingBox"),u.setAttribute("x","0%"),u.setAttribute("y","0%"),u.setAttribute("width","100%"),u.setAttribute("height","100%")),u}function n(){var o=createNS("feColorMatrix");return o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),o}return e})(),featureSupport=(function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,n="SourceGraphic",o=e.data.ef?e.data.ef.length:0,l=createElementID(),u=filtersFactory.createFilter(l,!0),d=0;this.filters=[];var A;for(t=0;t<o;t+=1){A=null;var m=e.data.ef[t].ty;if(registeredEffects$1[m]){var f=registeredEffects$1[m].effect;A=new f(u,e.effectsManager.effectElements[t],e,idPrefix+d,n),n=idPrefix+d,registeredEffects$1[m].countsAsEffect&&(d+=1)}A&&this.filters.push(A)}d&&(e.globalData.defs.appendChild(u),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+l+")")),this.filters.length&&e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,n=this.filters.length,o=[];for(t=0;t<n;t+=1)this.filters[t].type===e&&o.push(this.filters[t]);return o};function registerEffect$1(e,t,n){registeredEffects$1[e]={effect:t,countsAsEffect:n}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var n=createNS("g");n.setAttribute("id",this.layerId),n.appendChild(this.layerElement),t=n,this.globalData.defs.appendChild(n)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var o=createNS("clipPath"),l=createNS("path");l.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var u=createElementID();if(o.setAttribute("id",u),o.appendChild(l),this.globalData.defs.appendChild(o),this.checkMasks()){var d=createNS("g");d.setAttribute("clip-path","url("+getLocationHref()+"#"+u+")"),d.appendChild(this.layerElement),this.transformedElement=d,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+u+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var n=this.layerId+"_"+t,o,l,u,d;if(t===1||t===3){var A=createNS("mask");A.setAttribute("id",n),A.setAttribute("mask-type",t===3?"luminance":"alpha"),u=createNS("use"),u.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),A.appendChild(u),this.globalData.defs.appendChild(A),!featureSupport.maskType&&t===1&&(A.setAttribute("mask-type","luminance"),o=createElementID(),l=filtersFactory.createFilter(o),this.globalData.defs.appendChild(l),l.appendChild(filtersFactory.createAlphaToLuminanceFilter()),d=createNS("g"),d.appendChild(u),A.appendChild(d),d.setAttribute("filter","url("+getLocationHref()+"#"+o+")"))}else if(t===2){var m=createNS("mask");m.setAttribute("id",n),m.setAttribute("mask-type","alpha");var f=createNS("g");m.appendChild(f),o=createElementID(),l=filtersFactory.createFilter(o);var g=createNS("feComponentTransfer");g.setAttribute("in","SourceGraphic"),l.appendChild(g);var v=createNS("feFuncA");v.setAttribute("type","table"),v.setAttribute("tableValues","1.0 0.0"),g.appendChild(v),this.globalData.defs.appendChild(l);var b=createNS("rect");b.setAttribute("width",this.comp.data.w),b.setAttribute("height",this.comp.data.h),b.setAttribute("x","0"),b.setAttribute("y","0"),b.setAttribute("fill","#ffffff"),b.setAttribute("opacity","0"),f.setAttribute("filter","url("+getLocationHref()+"#"+o+")"),f.appendChild(b),u=createNS("use"),u.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),f.appendChild(u),featureSupport.maskType||(m.setAttribute("mask-type","luminance"),l.appendChild(filtersFactory.createAlphaToLuminanceFilter()),d=createNS("g"),f.appendChild(b),d.appendChild(this.layerElement),f.appendChild(d)),this.globalData.defs.appendChild(m)}this.matteMasks[t]=n}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var e={initElement:function(n,o,l){this.initFrame(),this.initBaseData(n,o,l),this.initTransform(n,o,l),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var n=this.baseElement||this.layerElement;n.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var n=this.baseElement||this.layerElement;n.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(n){this._mdf=!1,this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(e)],RenderableDOMElement)})();function IImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(t){var n,o=this.shapeModifiers.length;for(n=0;n<o;n+=1)this.shapeModifiers[n].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var n=0,o=this.shapeModifiers.length;n<o;)if(this.shapeModifiers[n].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,n=this.shapes.length;for(t=0;t<n;t+=1)this.shapes[t].sh.reset();n=this.shapeModifiers.length;var o;for(t=n-1;t>=0&&(o=this.shapeModifiers[t].processShapes(this._isFirstFrame),!o);t-=1);}},searchProcessedElement:function(t){for(var n=this.processedElements,o=0,l=n.length;o<l;){if(n[o].elem===t)return n[o].pos;o+=1}return 0},addProcessedElement:function(t,n){for(var o=this.processedElements,l=o.length;l;)if(l-=1,o[l].elem===t){o[l].pos=n;return}o.push(new ProcessedElement(t,n))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var o=0,l=e.length;o<l;){if(e[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(e,t,n,o){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var l,u=t.length||0,d;for(l=0;l<u;l+=1)d=PropertyFactory.getProp(e,t[l].v,0,0,this),this.k=d.k||this.k,this.dataProps[l]={n:t[l].n,p:d};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(e){if(!(this.elem.globalData.frameId===this.frameId&&!e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<n;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=n}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(e,t,n){this.data=t,this.c=createTypedArray("uint8c",t.p*4);var o=t.k.k[0].s?t.k.k[0].s.length-t.p*4:t.k.k.length-t.p*4;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(e,t){for(var n=0,o=this.o.length/2,l;n<o;){if(l=Math.abs(e[n*4]-e[t*4+n*2]),l>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n=this.data.p*4,o,l;for(t=0;t<n;t+=1)o=t%4===0?100:255,l=Math.round(this.prop.v[t]*o),this.c[t]!==l&&(this.c[t]=l,this._cmdf=!e);if(this.o.length)for(n=this.prop.v.length,t=this.data.p*4;t<n;t+=1)o=t%2===0?100:1,l=t%2===0?Math.round(this.prop.v[t]*100):this.prop.v[t],this.o[t-this.data.p*4]!==l&&(this.o[t-this.data.p*4]=l,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}SVGGradientFillStyleData.prototype.initGradientData=function(e,t,n){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var n=createElementID(),o=createNS(t.t===1?"linearGradient":"radialGradient");o.setAttribute("id",n),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l=[],u,d,A;for(A=t.g.p*4,d=0;d<A;d+=4)u=createNS("stop"),o.appendChild(u),l.push(u);e.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=o,this.cst=l},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,o,l,u=createNS("mask"),d=createNS("path");u.appendChild(d);var A=createElementID(),m=createElementID();u.setAttribute("id",m);var f=createNS(e.t===1?"linearGradient":"radialGradient");f.setAttribute("id",A),f.setAttribute("spreadMethod","pad"),f.setAttribute("gradientUnits","userSpaceOnUse"),l=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var g=this.stops;for(o=e.g.p*4;o<l;o+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),f.appendChild(n),g.push(n);d.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+A+")"),e.ty==="gs"&&(d.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),d.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&d.setAttribute("stroke-miterlimit",e.ml)),this.of=f,this.ms=u,this.ost=g,this.maskId=m,t.msElem=d}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(t,n,o,l){if(n===0)return"";var u=t.o,d=t.i,A=t.v,m,f=" M"+l.applyToPointStringified(A[0][0],A[0][1]);for(m=1;m<n;m+=1)f+=" C"+l.applyToPointStringified(u[m-1][0],u[m-1][1])+" "+l.applyToPointStringified(d[m][0],d[m][1])+" "+l.applyToPointStringified(A[m][0],A[m][1]);return o&&n&&(f+=" C"+l.applyToPointStringified(u[m-1][0],u[m-1][1])+" "+l.applyToPointStringified(d[0][0],d[0][1])+" "+l.applyToPointStringified(A[0][0],A[0][1]),f+="z"),f},SVGElementsRenderer=(function(){var e=new Matrix,t=new Matrix,n={createRenderFunction:o};function o(v){switch(v.ty){case"fl":return A;case"gf":return f;case"gs":return m;case"st":return g;case"sh":case"el":case"rc":case"sr":return d;case"tr":return l;case"no":return u;default:return null}}function l(v,b,w){(w||b.transform.op._mdf)&&b.transform.container.setAttribute("opacity",b.transform.op.v),(w||b.transform.mProps._mdf)&&b.transform.container.setAttribute("transform",b.transform.mProps.v.to2dCSS())}function u(){}function d(v,b,w){var j,E,R,_,N,B,M=b.styles.length,O=b.lvl,F,$,z,se;for(B=0;B<M;B+=1){if(_=b.sh._mdf||w,b.styles[B].lvl<O){for($=t.reset(),z=O-b.styles[B].lvl,se=b.transformers.length-1;!_&&z>0;)_=b.transformers[se].mProps._mdf||_,z-=1,se-=1;if(_)for(z=O-b.styles[B].lvl,se=b.transformers.length-1;z>0;)$.multiply(b.transformers[se].mProps.v),z-=1,se-=1}else $=e;if(F=b.sh.paths,E=F._length,_){for(R="",j=0;j<E;j+=1)N=F.shapes[j],N&&N._length&&(R+=buildShapeString(N,N._length,N.c,$));b.caches[B]=R}else R=b.caches[B];b.styles[B].d+=v.hd===!0?"":R,b.styles[B]._mdf=_||b.styles[B]._mdf}}function A(v,b,w){var j=b.style;(b.c._mdf||w)&&j.pElem.setAttribute("fill","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||w)&&j.pElem.setAttribute("fill-opacity",b.o.v)}function m(v,b,w){f(v,b,w),g(v,b,w)}function f(v,b,w){var j=b.gf,E=b.g._hasOpacity,R=b.s.v,_=b.e.v;if(b.o._mdf||w){var N=v.ty==="gf"?"fill-opacity":"stroke-opacity";b.style.pElem.setAttribute(N,b.o.v)}if(b.s._mdf||w){var B=v.t===1?"x1":"cx",M=B==="x1"?"y1":"cy";j.setAttribute(B,R[0]),j.setAttribute(M,R[1]),E&&!b.g._collapsable&&(b.of.setAttribute(B,R[0]),b.of.setAttribute(M,R[1]))}var O,F,$,z;if(b.g._cmdf||w){O=b.cst;var se=b.g.c;for($=O.length,F=0;F<$;F+=1)z=O[F],z.setAttribute("offset",se[F*4]+"%"),z.setAttribute("stop-color","rgb("+se[F*4+1]+","+se[F*4+2]+","+se[F*4+3]+")")}if(E&&(b.g._omdf||w)){var ce=b.g.o;for(b.g._collapsable?O=b.cst:O=b.ost,$=O.length,F=0;F<$;F+=1)z=O[F],b.g._collapsable||z.setAttribute("offset",ce[F*2]+"%"),z.setAttribute("stop-opacity",ce[F*2+1])}if(v.t===1)(b.e._mdf||w)&&(j.setAttribute("x2",_[0]),j.setAttribute("y2",_[1]),E&&!b.g._collapsable&&(b.of.setAttribute("x2",_[0]),b.of.setAttribute("y2",_[1])));else{var ie;if((b.s._mdf||b.e._mdf||w)&&(ie=Math.sqrt(Math.pow(R[0]-_[0],2)+Math.pow(R[1]-_[1],2)),j.setAttribute("r",ie),E&&!b.g._collapsable&&b.of.setAttribute("r",ie)),b.s._mdf||b.e._mdf||b.h._mdf||b.a._mdf||w){ie||(ie=Math.sqrt(Math.pow(R[0]-_[0],2)+Math.pow(R[1]-_[1],2)));var pe=Math.atan2(_[1]-R[1],_[0]-R[0]),xe=b.h.v;xe>=1?xe=.99:xe<=-1&&(xe=-.99);var Ae=ie*xe,ue=Math.cos(pe+b.a.v)*Ae+R[0],Y=Math.sin(pe+b.a.v)*Ae+R[1];j.setAttribute("fx",ue),j.setAttribute("fy",Y),E&&!b.g._collapsable&&(b.of.setAttribute("fx",ue),b.of.setAttribute("fy",Y))}}}function g(v,b,w){var j=b.style,E=b.d;E&&(E._mdf||w)&&E.dashStr&&(j.pElem.setAttribute("stroke-dasharray",E.dashStr),j.pElem.setAttribute("stroke-dashoffset",E.dashoffset[0])),b.c&&(b.c._mdf||w)&&j.pElem.setAttribute("stroke","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||w)&&j.pElem.setAttribute("stroke-opacity",b.o.v),(b.w._mdf||w)&&(j.pElem.setAttribute("stroke-width",b.w.v),j.msElem&&j.msElem.setAttribute("stroke-width",b.w.v))}return n})();function SVGShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t=this.shapes.length,n,o,l=this.stylesList.length,u,d=[],A=!1;for(o=0;o<l;o+=1){for(u=this.stylesList[o],A=!1,d.length=0,e=0;e<t;e+=1)n=this.shapes[e],n.styles.indexOf(u)!==-1&&(d.push(n),A=n._isAnimated||A);d.length>1&&A&&this.setShapesAsAnimated(d)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var n,o=new SVGStyleData(e,t),l=o.pElem;if(e.ty==="st")n=new SVGStrokeStyleData(this,e,o);else if(e.ty==="fl")n=new SVGFillStyleData(this,e,o);else if(e.ty==="gf"||e.ty==="gs"){var u=e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new u(this,e,o),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),l.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else e.ty==="no"&&(n=new SVGNoStyleData(this,e,o));return(e.ty==="st"||e.ty==="gs")&&(l.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),l.setAttribute("fill-opacity","0"),e.lj===1&&l.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&l.setAttribute("fill-rule","evenodd"),e.ln&&l.setAttribute("id",e.ln),e.cl&&l.setAttribute("class",e.cl),e.bm&&(l.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(o),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var n=TransformPropertyFactory.getTransformProperty(this,e,this),o=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.createShapeElement=function(e,t,n){var o=4;e.ty==="rc"?o=5:e.ty==="el"?o=6:e.ty==="sr"&&(o=7);var l=ShapePropertyFactory.getShapeProp(this,e,o,this),u=new SVGShapeData(t,n,l);return this.shapes.push(u),this.addShapeToModifiers(u),this.addToAnimatedContents(e,u),u},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var n=0,o=this.animatedContents.length;n<o;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t=e.styles,n,o=this.stylesList.length;for(n=0;n<o;n+=1)t.indexOf(this.stylesList[n])===-1&&!this.stylesList[n].closed&&t.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,n,o,l,u,d){var A=[].concat(u),m,f=e.length-1,g,v,b=[],w=[],j,E,R;for(m=f;m>=0;m-=1){if(R=this.searchProcessedElement(e[m]),R?t[m]=n[R-1]:e[m]._render=d,e[m].ty==="fl"||e[m].ty==="st"||e[m].ty==="gf"||e[m].ty==="gs"||e[m].ty==="no")R?t[m].style.closed=e[m].hd:t[m]=this.createStyleElement(e[m],l),e[m]._render&&t[m].style.pElem.parentNode!==o&&o.appendChild(t[m].style.pElem),b.push(t[m].style);else if(e[m].ty==="gr"){if(!R)t[m]=this.createGroupElement(e[m]);else for(v=t[m].it.length,g=0;g<v;g+=1)t[m].prevViewData[g]=t[m].it[g];this.searchShapes(e[m].it,t[m].it,t[m].prevViewData,t[m].gr,l+1,A,d),e[m]._render&&t[m].gr.parentNode!==o&&o.appendChild(t[m].gr)}else e[m].ty==="tr"?(R||(t[m]=this.createTransformElement(e[m],o)),j=t[m].transform,A.push(j)):e[m].ty==="sh"||e[m].ty==="rc"||e[m].ty==="el"||e[m].ty==="sr"?(R||(t[m]=this.createShapeElement(e[m],A,l)),this.setElementStyles(t[m])):e[m].ty==="tm"||e[m].ty==="rd"||e[m].ty==="ms"||e[m].ty==="pb"||e[m].ty==="zz"||e[m].ty==="op"?(R?(E=t[m],E.closed=!1):(E=ShapeModifiers.getModifier(e[m].ty),E.init(this,e[m]),t[m]=E,this.shapeModifiers.push(E)),w.push(E)):e[m].ty==="rp"&&(R?(E=t[m],E.closed=!0):(E=ShapeModifiers.getModifier(e[m].ty),t[m]=E,E.init(this,e,m,t),this.shapeModifiers.push(E),d=!1),w.push(E));this.addProcessedElement(e[m],m+1)}for(f=b.length,m=0;m<f;m+=1)b[m].closed=!0;for(f=w.length,m=0;m<f;m+=1)w[m].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t=this.animatedContents.length,n;for(e=0;e<t;e+=1)n=this.animatedContents[e],(this._isFirstFrame||n.element._isAnimated)&&n.data!==!0&&n.fn(n.data,n.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(e,t,n,o,l,u){this.o=e,this.sw=t,this.sc=n,this.fc=o,this.m=l,this.p=u,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!o,m:!0,p:!0}}LetterProps.prototype.update=function(e,t,n,o,l,u){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var d=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,d=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,d=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,d=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,d=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,d=!0),u.length&&(this.p[0]!==u[0]||this.p[1]!==u[1]||this.p[4]!==u[4]||this.p[5]!==u[5]||this.p[12]!==u[12]||this.p[13]!==u[13])&&(this.p=u,this._mdf.p=!0,d=!0),d};function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var o,l=this.effectsSequence.length,u=e||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)n!==this.keysIndex?u=this.effectsSequence[o](u,u.t):u=this.effectsSequence[o](this.currentData,u.t);t!==u&&this.setCurrentData(u),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,o=e.length;n<=o-1&&!(n===o-1||e[n+1].t>t);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t=[],n=0,o=e.length,l,u,d=!1,A=!1,m="";n<o;)d=A,A=!1,l=e.charCodeAt(n),m=e.charAt(n),FontManager.isCombinedCharacter(l)?d=!0:l>=55296&&l<=56319?FontManager.isRegionalFlag(e,n)?m=e.substr(n,14):(u=e.charCodeAt(n+1),u>=56320&&u<=57343&&(FontManager.isModifier(l,u)?(m=e.substr(n,2),d=!0):FontManager.isFlagEmoji(e.substr(n,4))?m=e.substr(n,4):m=e.substr(n,2))):l>56319?(u=e.charCodeAt(n+1),FontManager.isVariationSelector(l)&&(d=!0)):FontManager.isZeroWidthJoiner(l)&&(d=!0,A=!0),d?(t[t.length-1]+=m,d=!1):t.push(m),n+=m.length;return t},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t=this.elem.globalData.fontManager,n=this.data,o=[],l,u,d,A=0,m,f=n.m.g,g=0,v=0,b=0,w=[],j=0,E=0,R,_,N=t.getFontByName(e.f),B,M=0,O=getFontProperties(N);e.fWeight=O.weight,e.fStyle=O.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),u=e.finalText.length,e.finalLineHeight=e.lh;var F=e.tr/1e3*e.finalSize,$;if(e.sz)for(var z=!0,se=e.sz[0],ce=e.sz[1],ie,pe;z;){pe=this.buildFinalText(e.t),ie=0,j=0,u=pe.length,F=e.tr/1e3*e.finalSize;var xe=-1;for(l=0;l<u;l+=1)$=pe[l].charCodeAt(0),d=!1,pe[l]===" "?xe=l:($===13||$===3)&&(j=0,d=!0,ie+=e.finalLineHeight||e.finalSize*1.2),t.chars?(B=t.getCharData(pe[l],N.fStyle,N.fFamily),M=d?0:B.w*e.finalSize/100):M=t.measureText(pe[l],e.f,e.finalSize),j+M>se&&pe[l]!==" "?(xe===-1?u+=1:l=xe,ie+=e.finalLineHeight||e.finalSize*1.2,pe.splice(l,xe===l?1:0,"\r"),xe=-1,j=0):(j+=M,j+=F);ie+=N.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&ce<ie?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=pe,u=e.finalText.length,z=!1)}j=-F,M=0;var Ae=0,ue;for(l=0;l<u;l+=1)if(d=!1,ue=e.finalText[l],$=ue.charCodeAt(0),$===13||$===3?(Ae=0,w.push(j),E=j>E?j:E,j=-2*F,m="",d=!0,b+=1):m=ue,t.chars?(B=t.getCharData(ue,N.fStyle,t.getFontByName(e.f).fFamily),M=d?0:B.w*e.finalSize/100):M=t.measureText(m,e.f,e.finalSize),ue===" "?Ae+=M+F:(j+=M+F+Ae,Ae=0),o.push({l:M,an:M,add:g,n:d,anIndexes:[],val:m,line:b,animatorJustifyOffset:0}),f==2){if(g+=M,m===""||m===" "||l===u-1){for((m===""||m===" ")&&(g-=M);v<=l;)o[v].an=g,o[v].ind=A,o[v].extra=M,v+=1;A+=1,g=0}}else if(f==3){if(g+=M,m===""||l===u-1){for(m===""&&(g-=M);v<=l;)o[v].an=g,o[v].ind=A,o[v].extra=M,v+=1;g=0,A+=1}}else o[A].ind=A,o[A].extra=0,A+=1;if(e.l=o,E=j>E?j:E,w.push(j),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=E,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=w;var Y=n.a,fe,H;_=Y.length;var le,de,ye=[];for(R=0;R<_;R+=1){for(fe=Y[R],fe.a.sc&&(e.strokeColorAnim=!0),fe.a.sw&&(e.strokeWidthAnim=!0),(fe.a.fc||fe.a.fh||fe.a.fs||fe.a.fb)&&(e.fillColorAnim=!0),de=0,le=fe.s.b,l=0;l<u;l+=1)H=o[l],H.anIndexes[R]=de,(le==1&&H.val!==""||le==2&&H.val!==""&&H.val!==" "||le==3&&(H.n||H.val==" "||l==u-1)||le==4&&(H.n||l==u-1))&&(fe.s.rn===1&&ye.push(de),de+=1);n.a[R].s.totalChars=de;var ge=-1,je;if(fe.s.rn===1)for(l=0;l<u;l+=1)H=o[l],ge!=H.anIndexes[R]&&(ge=H.anIndexes[R],je=ye.splice(Math.floor(Math.random()*ye.length),1)[0]),H.anIndexes[R]=je}e.yOffset=e.finalLineHeight||e.finalSize*1.2,e.ls=e.ls||0,e.ascent=N.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=t===void 0?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var e=Math.max,t=Math.min,n=Math.floor;function o(u,d){this._currentTextLength=-1,this.k=!1,this.data=d,this.elem=u,this.comp=u.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(u),this.s=PropertyFactory.getProp(u,d.s||{k:0},0,0,this),"e"in d?this.e=PropertyFactory.getProp(u,d.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(u,d.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(u,d.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(u,d.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(u,d.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(u,d.a,0,.01,this),this.dynamicProperties.length||this.getValue()}o.prototype={getMult:function(d){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var A=0,m=0,f=1,g=1;this.ne.v>0?A=this.ne.v/100:m=-this.ne.v/100,this.xe.v>0?f=1-this.xe.v/100:g=1+this.xe.v/100;var v=BezierFactory.getBezierEasing(A,m,f,g).get,b=0,w=this.finalS,j=this.finalE,E=this.data.sh;if(E===2)j===w?b=d>=j?1:0:b=e(0,t(.5/(j-w)+(d-w)/(j-w),1)),b=v(b);else if(E===3)j===w?b=d>=j?0:1:b=1-e(0,t(.5/(j-w)+(d-w)/(j-w),1)),b=v(b);else if(E===4)j===w?b=0:(b=e(0,t(.5/(j-w)+(d-w)/(j-w),1)),b<.5?b*=2:b=1-2*(b-.5)),b=v(b);else if(E===5){if(j===w)b=0;else{var R=j-w;d=t(e(0,d+.5-w),j-w);var _=-R/2+d,N=R/2;b=Math.sqrt(1-_*_/(N*N))}b=v(b)}else E===6?(j===w?b=0:(d=t(e(0,d+.5-w),j-w),b=(1+Math.cos(Math.PI+Math.PI*2*d/(j-w)))/2),b=v(b)):(d>=n(w)&&(d-w<0?b=e(0,t(t(j,1)-(w-d),1)):b=e(0,t(j-d,1))),b=v(b));if(this.sm.v!==100){var B=this.sm.v*.01;B===0&&(B=1e-8);var M=.5-B*.5;b<M?b=0:(b=(b-M)/B,b>1&&(b=1))}return b*this.a.v},getValue:function(d){this.iterateDynamicProperties(),this._mdf=d||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,d&&this.data.r===2&&(this.e.v=this._currentTextLength);var A=this.data.r===2?1:100/this.data.totalChars,m=this.o.v/A,f=this.s.v/A+m,g=this.e.v/A+m;if(f>g){var v=f;f=g,g=v}this.finalS=f,this.finalE=g}},extendPrototype([DynamicPropertyContainer],o);function l(u,d,A){return new o(u,d)}return{getTextSelectorProp:l}})();function TextAnimatorDataProperty(e,t,n){var o={propType:!1},l=PropertyFactory.getProp,u=t.a;this.a={r:u.r?l(e,u.r,0,degToRads,n):o,rx:u.rx?l(e,u.rx,0,degToRads,n):o,ry:u.ry?l(e,u.ry,0,degToRads,n):o,sk:u.sk?l(e,u.sk,0,degToRads,n):o,sa:u.sa?l(e,u.sa,0,degToRads,n):o,s:u.s?l(e,u.s,1,.01,n):o,a:u.a?l(e,u.a,1,0,n):o,o:u.o?l(e,u.o,0,.01,n):o,p:u.p?l(e,u.p,1,0,n):o,sw:u.sw?l(e,u.sw,0,0,n):o,sc:u.sc?l(e,u.sc,1,0,n):o,fc:u.fc?l(e,u.fc,1,0,n):o,fh:u.fh?l(e,u.fh,0,0,n):o,fs:u.fs?l(e,u.fs,0,.01,n):o,fb:u.fb?l(e,u.fb,0,.01,n):o,t:u.t?l(e,u.t,0,0,n):o},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function TextAnimatorProperty(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t=this._textData.a.length,n,o=PropertyFactory.getProp;for(e=0;e<t;e+=1)n=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,n,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,!(!this._mdf&&!this._isFirstFrame&&!t&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var n=this._moreOptions.alignment.v,o=this._animatorsData,l=this._textData,u=this.mHelper,d=this._renderType,A=this.renderedLetters.length,m,f,g,v,b=e.l,w,j,E,R,_,N,B,M,O,F,$,z,se,ce,ie;if(this._hasMaskedPath){if(ie=this._pathData.m,!this._pathData.n||this._pathData._mdf){var pe=ie.v;this._pathData.r.v&&(pe=pe.reverse()),w={tLength:0,segments:[]},v=pe._length-1;var xe;for(z=0,g=0;g<v;g+=1)xe=bez.buildBezierData(pe.v[g],pe.v[g+1],[pe.o[g][0]-pe.v[g][0],pe.o[g][1]-pe.v[g][1]],[pe.i[g+1][0]-pe.v[g+1][0],pe.i[g+1][1]-pe.v[g+1][1]]),w.tLength+=xe.segmentLength,w.segments.push(xe),z+=xe.segmentLength;g=v,ie.v.c&&(xe=bez.buildBezierData(pe.v[g],pe.v[0],[pe.o[g][0]-pe.v[g][0],pe.o[g][1]-pe.v[g][1]],[pe.i[0][0]-pe.v[0][0],pe.i[0][1]-pe.v[0][1]]),w.tLength+=xe.segmentLength,w.segments.push(xe),z+=xe.segmentLength),this._pathData.pi=w}if(w=this._pathData.pi,j=this._pathData.f.v,B=0,N=1,R=0,_=!0,F=w.segments,j<0&&ie.v.c)for(w.tLength<Math.abs(j)&&(j=-Math.abs(j)%w.tLength),B=F.length-1,O=F[B].points,N=O.length-1;j<0;)j+=O[N].partialLength,N-=1,N<0&&(B-=1,O=F[B].points,N=O.length-1);O=F[B].points,M=O[N-1],E=O[N],$=E.partialLength}v=b.length,m=0,f=0;var Ae=e.finalSize*1.2*.714,ue=!0,Y,fe,H,le,de;le=o.length;var ye,ge=-1,je,Me,He,Qe=j,ze=B,Ve=N,tt=-1,nt,Ye,ut,mt,St,or,Zt,Bt,ur="",Nr=this.defaultPropsArray,Qr;if(e.j===2||e.j===1){var $r=0,on=0,wn=e.j===2?-.5:-1,En=0,en=!0;for(g=0;g<v;g+=1)if(b[g].n){for($r&&($r+=on);En<g;)b[En].animatorJustifyOffset=$r,En+=1;$r=0,en=!0}else{for(H=0;H<le;H+=1)Y=o[H].a,Y.t.propType&&(en&&e.j===2&&(on+=Y.t.v*wn),fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),ye.length?$r+=Y.t.v*ye[0]*wn:$r+=Y.t.v*ye*wn);en=!1}for($r&&($r+=on);En<g;)b[En].animatorJustifyOffset=$r,En+=1}for(g=0;g<v;g+=1){if(u.reset(),nt=1,b[g].n)m=0,f+=e.yOffset,f+=ue?1:0,j=Qe,ue=!1,this._hasMaskedPath&&(B=ze,N=Ve,O=F[B].points,M=O[N-1],E=O[N],$=E.partialLength,R=0),ur="",Bt="",or="",Qr="",Nr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(tt!==b[g].line){switch(e.j){case 1:j+=z-e.lineWidths[b[g].line];break;case 2:j+=(z-e.lineWidths[b[g].line])/2;break}tt=b[g].line}ge!==b[g].ind&&(b[ge]&&(j+=b[ge].extra),j+=b[g].an/2,ge=b[g].ind),j+=n[0]*b[g].an*.005;var Pt=0;for(H=0;H<le;H+=1)Y=o[H].a,Y.p.propType&&(fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),ye.length?Pt+=Y.p.v[0]*ye[0]:Pt+=Y.p.v[0]*ye),Y.a.propType&&(fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),ye.length?Pt+=Y.a.v[0]*ye[0]:Pt+=Y.a.v[0]*ye);for(_=!0,this._pathData.a.v&&(j=b[0].an*.5+(z-this._pathData.f.v-b[0].an*.5-b[b.length-1].an*.5)*ge/(v-1),j+=this._pathData.f.v);_;)R+$>=j+Pt||!O?(se=(j+Pt-R)/E.partialLength,Me=M.point[0]+(E.point[0]-M.point[0])*se,He=M.point[1]+(E.point[1]-M.point[1])*se,u.translate(-n[0]*b[g].an*.005,-(n[1]*Ae)*.01),_=!1):O&&(R+=E.partialLength,N+=1,N>=O.length&&(N=0,B+=1,F[B]?O=F[B].points:ie.v.c?(N=0,B=0,O=F[B].points):(R-=E.partialLength,O=null)),O&&(M=E,E=O[N],$=E.partialLength));je=b[g].an/2-b[g].add,u.translate(-je,0,0)}else je=b[g].an/2-b[g].add,u.translate(-je,0,0),u.translate(-n[0]*b[g].an*.005,-n[1]*Ae*.01,0);for(H=0;H<le;H+=1)Y=o[H].a,Y.t.propType&&(fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),(m!==0||e.j!==0)&&(this._hasMaskedPath?ye.length?j+=Y.t.v*ye[0]:j+=Y.t.v*ye:ye.length?m+=Y.t.v*ye[0]:m+=Y.t.v*ye));for(e.strokeWidthAnim&&(ut=e.sw||0),e.strokeColorAnim&&(e.sc?Ye=[e.sc[0],e.sc[1],e.sc[2]]:Ye=[0,0,0]),e.fillColorAnim&&e.fc&&(mt=[e.fc[0],e.fc[1],e.fc[2]]),H=0;H<le;H+=1)Y=o[H].a,Y.a.propType&&(fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),ye.length?u.translate(-Y.a.v[0]*ye[0],-Y.a.v[1]*ye[1],Y.a.v[2]*ye[2]):u.translate(-Y.a.v[0]*ye,-Y.a.v[1]*ye,Y.a.v[2]*ye));for(H=0;H<le;H+=1)Y=o[H].a,Y.s.propType&&(fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),ye.length?u.scale(1+(Y.s.v[0]-1)*ye[0],1+(Y.s.v[1]-1)*ye[1],1):u.scale(1+(Y.s.v[0]-1)*ye,1+(Y.s.v[1]-1)*ye,1));for(H=0;H<le;H+=1){if(Y=o[H].a,fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),Y.sk.propType&&(ye.length?u.skewFromAxis(-Y.sk.v*ye[0],Y.sa.v*ye[1]):u.skewFromAxis(-Y.sk.v*ye,Y.sa.v*ye)),Y.r.propType&&(ye.length?u.rotateZ(-Y.r.v*ye[2]):u.rotateZ(-Y.r.v*ye)),Y.ry.propType&&(ye.length?u.rotateY(Y.ry.v*ye[1]):u.rotateY(Y.ry.v*ye)),Y.rx.propType&&(ye.length?u.rotateX(Y.rx.v*ye[0]):u.rotateX(Y.rx.v*ye)),Y.o.propType&&(ye.length?nt+=(Y.o.v*ye[0]-nt)*ye[0]:nt+=(Y.o.v*ye-nt)*ye),e.strokeWidthAnim&&Y.sw.propType&&(ye.length?ut+=Y.sw.v*ye[0]:ut+=Y.sw.v*ye),e.strokeColorAnim&&Y.sc.propType)for(St=0;St<3;St+=1)ye.length?Ye[St]+=(Y.sc.v[St]-Ye[St])*ye[0]:Ye[St]+=(Y.sc.v[St]-Ye[St])*ye;if(e.fillColorAnim&&e.fc){if(Y.fc.propType)for(St=0;St<3;St+=1)ye.length?mt[St]+=(Y.fc.v[St]-mt[St])*ye[0]:mt[St]+=(Y.fc.v[St]-mt[St])*ye;Y.fh.propType&&(ye.length?mt=addHueToRGB(mt,Y.fh.v*ye[0]):mt=addHueToRGB(mt,Y.fh.v*ye)),Y.fs.propType&&(ye.length?mt=addSaturationToRGB(mt,Y.fs.v*ye[0]):mt=addSaturationToRGB(mt,Y.fs.v*ye)),Y.fb.propType&&(ye.length?mt=addBrightnessToRGB(mt,Y.fb.v*ye[0]):mt=addBrightnessToRGB(mt,Y.fb.v*ye))}}for(H=0;H<le;H+=1)Y=o[H].a,Y.p.propType&&(fe=o[H].s,ye=fe.getMult(b[g].anIndexes[H],l.a[H].s.totalChars),this._hasMaskedPath?ye.length?u.translate(0,Y.p.v[1]*ye[0],-Y.p.v[2]*ye[1]):u.translate(0,Y.p.v[1]*ye,-Y.p.v[2]*ye):ye.length?u.translate(Y.p.v[0]*ye[0],Y.p.v[1]*ye[1],-Y.p.v[2]*ye[2]):u.translate(Y.p.v[0]*ye,Y.p.v[1]*ye,-Y.p.v[2]*ye));if(e.strokeWidthAnim&&(or=ut<0?0:ut),e.strokeColorAnim&&(Zt="rgb("+Math.round(Ye[0]*255)+","+Math.round(Ye[1]*255)+","+Math.round(Ye[2]*255)+")"),e.fillColorAnim&&e.fc&&(Bt="rgb("+Math.round(mt[0]*255)+","+Math.round(mt[1]*255)+","+Math.round(mt[2]*255)+")"),this._hasMaskedPath){if(u.translate(0,-e.ls),u.translate(0,n[1]*Ae*.01+f,0),this._pathData.p.v){ce=(E.point[1]-M.point[1])/(E.point[0]-M.point[0]);var ar=Math.atan(ce)*180/Math.PI;E.point[0]<M.point[0]&&(ar+=180),u.rotate(-ar*Math.PI/180)}u.translate(Me,He,0),j-=n[0]*b[g].an*.005,b[g+1]&&ge!==b[g+1].ind&&(j+=b[g].an/2,j+=e.tr*.001*e.finalSize)}else{switch(u.translate(m,f,0),e.ps&&u.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:u.translate(b[g].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[b[g].line]),0,0);break;case 2:u.translate(b[g].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[b[g].line])/2,0,0);break}u.translate(0,-e.ls),u.translate(je,0,0),u.translate(n[0]*b[g].an*.005,n[1]*Ae*.01,0),m+=b[g].l+e.tr*.001*e.finalSize}d==="html"?ur=u.toCSS():d==="svg"?ur=u.to2dCSS():Nr=[u.props[0],u.props[1],u.props[2],u.props[3],u.props[4],u.props[5],u.props[6],u.props[7],u.props[8],u.props[9],u.props[10],u.props[11],u.props[12],u.props[13],u.props[14],u.props[15]],Qr=nt}A<=g?(de=new LetterProps(Qr,or,Zt,Bt,ur,Nr),this.renderedLetters.push(de),A+=1,this.lettersChangedFlag=!0):(de=this.renderedLetters[g],this.lettersChangedFlag=de.update(Qr,or,Zt,Bt,ur,Nr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var n,o=t.length,l,u="";for(n=0;n<o;n+=1)t[n].ty==="sh"&&(l=t[n].ks.k,u+=buildShapeString(l,l.i.length,!0,e));return u},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,o,l){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0);break}t.translate(o,l,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(e[0]*255)+","+Math.round(e[1]*255)+","+Math.round(e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,n=e.length,o=[],l="";t<n;)e[t]==="\r"||e[t]===""?(o.push(l),l=""):l+=e[t],t+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var n=e.shapes[0];if(n.it){var o=n.it[n.it.length-1];o.s&&(o.s.k[0]=t,o.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,t,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var o=this.globalData.fontManager.getFontByName(n.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=n.fWeight,u=n.fStyle;this.layerElement.setAttribute("font-style",u),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",n.t);var d=n.l||[],A=!!this.globalData.fontManager.chars;t=d.length;var m,f=this.mHelper,g="",v=this.data.singleShape,b=0,w=0,j=!0,E=n.tr*.001*n.finalSize;if(v&&!A&&!n.sz){var R=this.textContainer,_="start";switch(n.j){case 1:_="end";break;case 2:_="middle";break;default:_="start";break}R.setAttribute("text-anchor",_),R.setAttribute("letter-spacing",E);var N=this.buildTextContents(n.finalText);for(t=N.length,w=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)m=this.textSpans[e].span||createNS("tspan"),m.textContent=N[e],m.setAttribute("x",0),m.setAttribute("y",w),m.style.display="inherit",R.appendChild(m),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=m,w+=n.finalLineHeight;this.layerElement.appendChild(R)}else{var B=this.textSpans.length,M;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!A||!v||e===0){if(m=B>e?this.textSpans[e].span:createNS(A?"g":"text"),B<=e){if(m.setAttribute("stroke-linecap","butt"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=m,A){var O=createNS("g");m.appendChild(O),this.textSpans[e].childSpan=O}this.textSpans[e].span=m,this.layerElement.appendChild(m)}m.style.display="inherit"}if(f.reset(),v&&(d[e].n&&(b=-E,w+=n.yOffset,w+=j?1:0,j=!1),this.applyTextPropertiesToMatrix(n,f,d[e].line,b,w),b+=d[e].l||0,b+=E),A){M=this.globalData.fontManager.getCharData(n.finalText[e],o.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily);var F;if(M.t===1)F=new SVGCompElement(M.data,this.globalData,this);else{var $=emptyShapeData;M.data&&M.data.shapes&&($=this.buildShapeData(M.data,n.finalSize)),F=new SVGShapeElement($,this.globalData,this)}if(this.textSpans[e].glyph){var z=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(z.layerElement),z.destroy()}this.textSpans[e].glyph=F,F._debug=!0,F.prepareFrame(0),F.renderFrame(),this.textSpans[e].childSpan.appendChild(F.layerElement),M.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else v&&m.setAttribute("transform","translate("+f.props[12]+","+f.props[13]+")"),m.textContent=d[e].val,m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}v&&m&&m.setAttribute("d",g)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t=this.textSpans.length,n;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<t;e+=1)n=this.textSpans[e].glyph,n&&(n.prepareFrame(this.comp.renderedFrame-this.data.st),n._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,n=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;t=o.length;var l,u,d;for(e=0;e<t;e+=1)o[e].n||(l=n[e],u=this.textSpans[e].span,d=this.textSpans[e].glyph,d&&d.renderFrame(),l._mdf.m&&u.setAttribute("transform",l.m),l._mdf.o&&u.setAttribute("opacity",l.o),l._mdf.sw&&u.setAttribute("stroke-width",l.sw),l._mdf.sc&&u.setAttribute("stroke",l.sc),l._mdf.fc&&u.setAttribute("fill",l.fc))}};function ISolidElement(e,t,n){this.initElement(e,t,n)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)};function NullElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",e.w),o.setAttribute("height",e.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();n.setAttribute("id",l),n.appendChild(o),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+l+")"),t.appendChild(n),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,n=this.layers.length;for(t=0;t<n;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){t[e]=!0;var n=this.createItem(this.layers[e]);if(t[e]=n,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt){var o="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(o===-1)return;if(!this.elements[o]||this.elements[o]===!0)this.buildItem(o),this.addPendingElement(n);else{var l=t[o],u=l.getMatte(this.layers[e].tt);n.setMatte(u)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){var o="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,l=this.elements[o],u=l.getMatte(this.layers[t].tt);e.setMatte(u);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(!(this.renderedFrame===e||this.destroyed)){e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var o=0,l;o<t;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement()&&(l=this.elements[o].getBaseElement()),o+=1;l?this.layerElement.insertBefore(n,l):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!t.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=t.title,this.svgElement.appendChild(o),n+=l}if(t&&t.description){var u=createNS("desc"),d=createElementID();u.setAttribute("id",d),u.textContent=t.description,this.svgElement.appendChild(u),n+=" "+d}n&&this.svgElement.setAttribute("aria-labelledby",n);var A=createNS("defs");this.svgElement.appendChild(A);var m=createNS("g");this.svgElement.appendChild(m),this.layerElement=m,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:A,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(t){var n,o=t.length,l="_";for(n=0;n<o;n+=1)l+=t[n].transform.key+"_";var u=this.sequences[l];return u||(u={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[l]=u,this.sequenceList.push(u)),u},processSequence:function(t,n){for(var o=0,l=t.transforms.length,u=n;o<l&&!n;){if(t.transforms[o].transform.mProps._mdf){u=!0;break}o+=1}if(u)for(t.finalTransform.reset(),o=l-1;o>=0;o-=1)t.finalTransform.multiply(t.transforms[o].transform.mProps.v);t._mdf=u},processSequences:function(t){var n,o=this.sequenceList.length;for(n=0;n<o;n+=1)this.processSequence(this.sequenceList[n],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",n=null,o=null,l=null;function u(){var m=createNS("svg"),f=createNS("filter"),g=createNS("feColorMatrix");return f.setAttribute("id",t),g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),f.appendChild(g),m.appendChild(f),m.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(m.style.display="none"),m}function d(){n||(l=u(),document.body.appendChild(l),n=createTag("canvas"),o=n.getContext("2d"),o.filter="url(#"+t+")",o.fillStyle="rgba(0,0,0,0)",o.fillRect(0,0,1,1))}function A(m){return n||d(),n.width=m.width,n.height=m.height,o.filter="url(#"+t+")",n}return{load:d,get:A}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var n=createTag("canvas");return n.width=e,n.height=t,n}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(e){var t,n=e.data.ef?e.data.ef.length:0;this.filters=[];var o;for(t=0;t<n;t+=1){o=null;var l=e.data.ef[t].ty;if(registeredEffects[l]){var u=registeredEffects[l].effect;o=new u(e.effectsManager.effectElements[t],e)}o&&this.filters.push(o)}this.filters.length&&e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,n=this.filters.length,o=[];for(t=0;t<n;t+=1)this.filters[t].type===e&&o.push(this.filters[t]);return o};function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,o=this.masksProperties.length,l=!1;for(n=0;n<o;n+=1)this.masksProperties[n].mode!=="n"&&(l=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e=this.element.finalTransform.mat,t=this.element.canvasContext,n,o=this.masksProperties.length,l,u,d;for(t.beginPath(),n=0;n<o;n+=1)if(this.masksProperties[n].mode!=="n"){this.masksProperties[n].inv&&(t.moveTo(0,0),t.lineTo(this.element.globalData.compSize.w,0),t.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),t.lineTo(0,this.element.globalData.compSize.h),t.lineTo(0,0)),d=this.viewData[n].v,l=e.applyToPointArray(d.v[0][0],d.v[0][1],0),t.moveTo(l[0],l[1]);var A,m=d._length;for(A=1;A<m;A+=1)u=e.applyToTriplePoints(d.o[A-1],d.i[A],d.v[A]),t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);u=e.applyToTriplePoints(d.o[A-1],d.i[0],d.v[0]),t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5])}this.element.globalData.renderer.save(!0),t.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n);var o=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(o),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var n=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=n}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],n=t.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],n=t.getContext("2d");this.clearCanvas(n),n.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var o=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(o.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var l=assetLoader.getLumaCanvas(this.canvasContext.canvas),u=l.getContext("2d");u.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(l,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var n=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(n),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(n),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(e,t,n,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l=4;t.ty==="rc"?l=5:t.ty==="el"?l=6:t.ty==="sr"&&(l=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,l,e);var u,d=n.length,A;for(u=0;u<d;u+=1)n[u].closed||(A={transforms:o.addTransformSequence(n[u].transforms),trNodes:[]},this.styledShapes.push(A),n[u].elements.push(A))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var n={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:e.hd===!0},o={};if(e.ty==="fl"||e.ty==="st"?(o.c=PropertyFactory.getProp(this,e.c,1,255,this),o.c.k||(n.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):(e.ty==="gf"||e.ty==="gs")&&(o.s=PropertyFactory.getProp(this,e.s,1,null,this),o.e=PropertyFactory.getProp(this,e.e,1,null,this),o.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,e.g,this)),o.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(n.lc=lineCapEnum[e.lc||2],n.lj=lineJoinEnum[e.lj||2],e.lj==1&&(n.ml=e.ml),o.w=PropertyFactory.getProp(this,e.w,0,null,this),o.w.k||(n.wi=o.w.v),e.d){var l=new DashProperty(this,e.d,"canvas",this);o.d=l,o.d.k||(n.da=o.d.dashArray,n.do=o.d.dashoffset[0])}}else n.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(n),o.style=n,o},CVShapeElement.prototype.createGroupElement=function(){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(e){var t={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return t},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,n,o,l){var u,d=e.length-1,A,m,f=[],g=[],v,b,w,j=[].concat(l);for(u=d;u>=0;u-=1){if(v=this.searchProcessedElement(e[u]),v?t[u]=n[v-1]:e[u]._shouldRender=o,e[u].ty==="fl"||e[u].ty==="st"||e[u].ty==="gf"||e[u].ty==="gs")v?t[u].style.closed=!1:t[u]=this.createStyleElement(e[u],j),f.push(t[u].style);else if(e[u].ty==="gr"){if(!v)t[u]=this.createGroupElement(e[u]);else for(m=t[u].it.length,A=0;A<m;A+=1)t[u].prevViewData[A]=t[u].it[A];this.searchShapes(e[u].it,t[u].it,t[u].prevViewData,o,j)}else e[u].ty==="tr"?(v||(w=this.createTransformElement(e[u]),t[u]=w),j.push(t[u]),this.addTransformToStyleList(t[u])):e[u].ty==="sh"||e[u].ty==="rc"||e[u].ty==="el"||e[u].ty==="sr"?v||(t[u]=this.createShapeElement(e[u])):e[u].ty==="tm"||e[u].ty==="rd"||e[u].ty==="pb"||e[u].ty==="zz"||e[u].ty==="op"?(v?(b=t[u],b.closed=!1):(b=ShapeModifiers.getModifier(e[u].ty),b.init(this,e[u]),t[u]=b,this.shapeModifiers.push(b)),g.push(b)):e[u].ty==="rp"&&(v?(b=t[u],b.closed=!0):(b=ShapeModifiers.getModifier(e[u].ty),t[u]=b,b.init(this,e,u,t),this.shapeModifiers.push(b),o=!1),g.push(b));this.addProcessedElement(e[u],u+1)}for(this.removeTransformFromStyleList(),this.closeStyles(f),d=g.length,u=0;u<d;u+=1)g[u].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t=this.stylesList.length,n,o,l,u,d,A,m=this.globalData.renderer,f=this.globalData.canvasContext,g,v;for(e=0;e<t;e+=1)if(v=this.stylesList[e],g=v.type,!((g==="st"||g==="gs")&&v.wi===0||!v.data._shouldRender||v.coOp===0||this.globalData.currentGlobalAlpha===0)){for(m.save(),d=v.elements,g==="st"||g==="gs"?(m.ctxStrokeStyle(g==="st"?v.co:v.grd),m.ctxLineWidth(v.wi),m.ctxLineCap(v.lc),m.ctxLineJoin(v.lj),m.ctxMiterLimit(v.ml||0)):m.ctxFillStyle(g==="fl"?v.co:v.grd),m.ctxOpacity(v.coOp),g!=="st"&&g!=="gs"&&f.beginPath(),m.ctxTransform(v.preTransforms.finalTransform.props),o=d.length,n=0;n<o;n+=1){for((g==="st"||g==="gs")&&(f.beginPath(),v.da&&(f.setLineDash(v.da),f.lineDashOffset=v.do)),A=d[n].trNodes,u=A.length,l=0;l<u;l+=1)A[l].t==="m"?f.moveTo(A[l].p[0],A[l].p[1]):A[l].t==="c"?f.bezierCurveTo(A[l].pts[0],A[l].pts[1],A[l].pts[2],A[l].pts[3],A[l].pts[4],A[l].pts[5]):f.closePath();(g==="st"||g==="gs")&&(m.ctxStroke(),v.da&&f.setLineDash(this.dashResetter))}g!=="st"&&g!=="gs"&&this.globalData.renderer.ctxFill(v.r),m.restore()}},CVShapeElement.prototype.renderShape=function(e,t,n,o){var l,u=t.length-1,d;for(d=e,l=u;l>=0;l-=1)t[l].ty==="tr"?(d=n[l].transform,this.renderShapeTransform(e,d)):t[l].ty==="sh"||t[l].ty==="el"||t[l].ty==="rc"||t[l].ty==="sr"?this.renderPath(t[l],n[l]):t[l].ty==="fl"?this.renderFill(t[l],n[l],d):t[l].ty==="st"?this.renderStroke(t[l],n[l],d):t[l].ty==="gf"||t[l].ty==="gs"?this.renderGradientFill(t[l],n[l],d):t[l].ty==="gr"?this.renderShape(d,t[l].it,n[l].it):t[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var n=e.trNodes,o=t.paths,l,u,d,A=o._length;n.length=0;var m=e.transforms.finalTransform;for(d=0;d<A;d+=1){var f=o.shapes[d];if(f&&f.v){for(u=f._length,l=1;l<u;l+=1)l===1&&n.push({t:"m",p:m.applyToPointArray(f.v[0][0],f.v[0][1],0)}),n.push({t:"c",pts:m.applyToTriplePoints(f.o[l-1],f.i[l],f.v[l])});u===1&&n.push({t:"m",p:m.applyToPointArray(f.v[0][0],f.v[0][1],0)}),f.c&&u&&(n.push({t:"c",pts:m.applyToTriplePoints(f.o[l-1],f.i[0],f.v[0])}),n.push({t:"z"}))}}e.trNodes=n}},CVShapeElement.prototype.renderPath=function(e,t){if(e.hd!==!0&&e._shouldRender){var n,o=t.styledShapes.length;for(n=0;n<o;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,n){var o=t.style;(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,n){var o=t.style,l;if(!o.grd||t.g._mdf||t.s._mdf||t.e._mdf||e.t!==1&&(t.h._mdf||t.a._mdf)){var u=this.globalData.canvasContext,d=t.s.v,A=t.e.v;if(e.t===1)l=u.createLinearGradient(d[0],d[1],A[0],A[1]);else{var m=Math.sqrt(Math.pow(d[0]-A[0],2)+Math.pow(d[1]-A[1],2)),f=Math.atan2(A[1]-d[1],A[0]-d[0]),g=t.h.v;g>=1?g=.99:g<=-1&&(g=-.99);var v=m*g,b=Math.cos(f+t.a.v)*v+d[0],w=Math.sin(f+t.a.v)*v+d[1];l=u.createRadialGradient(b,w,0,d[0],d[1],m)}var j,E=e.g.p,R=t.g.c,_=1;for(j=0;j<E;j+=1)t.g._hasOpacity&&t.g._collapsable&&(_=t.g.o[j*2+1]),l.addColorStop(R[j*4]/100,"rgba("+R[j*4+1]+","+R[j*4+2]+","+R[j*4+3]+","+_+")");o.grd=l}o.coOp=t.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(e,t,n){var o=t.style,l=t.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*n.opacity),(t.w._mdf||this._isFirstFrame)&&(o.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(e,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;e.sc&&(n=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var o=this.globalData.fontManager.getFontByName(e.f),l,u,d=e.l,A=this.mHelper;this.stroke=n,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,u=e.finalText.length;var m,f,g,v,b,w,j,E,R,_,N=this.data.singleShape,B=e.tr*.001*e.finalSize,M=0,O=0,F=!0,$=0;for(l=0;l<u;l+=1){m=this.globalData.fontManager.getCharData(e.finalText[l],o.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),f=m&&m.data||{},A.reset(),N&&d[l].n&&(M=-B,O+=e.yOffset,O+=F?1:0,F=!1),b=f.shapes?f.shapes[0].it:[],j=b.length,A.scale(e.finalSize/100,e.finalSize/100),N&&this.applyTextPropertiesToMatrix(e,A,d[l].line,M,O),R=createSizedArray(j-1);var z=0;for(w=0;w<j;w+=1)if(b[w].ty==="sh"){for(v=b[w].ks.k.i.length,E=b[w].ks.k,_=[],g=1;g<v;g+=1)g===1&&_.push(A.applyToX(E.v[0][0],E.v[0][1],0),A.applyToY(E.v[0][0],E.v[0][1],0)),_.push(A.applyToX(E.o[g-1][0],E.o[g-1][1],0),A.applyToY(E.o[g-1][0],E.o[g-1][1],0),A.applyToX(E.i[g][0],E.i[g][1],0),A.applyToY(E.i[g][0],E.i[g][1],0),A.applyToX(E.v[g][0],E.v[g][1],0),A.applyToY(E.v[g][0],E.v[g][1],0));_.push(A.applyToX(E.o[g-1][0],E.o[g-1][1],0),A.applyToY(E.o[g-1][0],E.o[g-1][1],0),A.applyToX(E.i[0][0],E.i[0][1],0),A.applyToY(E.i[0][0],E.i[0][1],0),A.applyToX(E.v[0][0],E.v[0][1],0),A.applyToY(E.v[0][0],E.v[0][1],0)),R[z]=_,z+=1}N&&(M+=d[l].l,M+=B),this.textSpans[$]?this.textSpans[$].elem=R:this.textSpans[$]={elem:R},$+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var e=this.canvasContext;e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,n,o,l,u,d,A=this.textAnimator.renderedLetters,m=this.textProperty.currentData.l;n=m.length;var f,g=null,v=null,b=null,w,j,E=this.globalData.renderer;for(t=0;t<n;t+=1)if(!m[t].n){if(f=A[t],f&&(E.save(),E.ctxTransform(f.p),E.ctxOpacity(f.o)),this.fill){for(f&&f.fc?g!==f.fc&&(E.ctxFillStyle(f.fc),g=f.fc):g!==this.values.fill&&(g=this.values.fill,E.ctxFillStyle(this.values.fill)),w=this.textSpans[t].elem,l=w.length,this.globalData.canvasContext.beginPath(),o=0;o<l;o+=1)for(j=w[o],d=j.length,this.globalData.canvasContext.moveTo(j[0],j[1]),u=2;u<d;u+=6)this.globalData.canvasContext.bezierCurveTo(j[u],j[u+1],j[u+2],j[u+3],j[u+4],j[u+5]);this.globalData.canvasContext.closePath(),E.ctxFill()}if(this.stroke){for(f&&f.sw?b!==f.sw&&(b=f.sw,E.ctxLineWidth(f.sw)):b!==this.values.sWidth&&(b=this.values.sWidth,E.ctxLineWidth(this.values.sWidth)),f&&f.sc?v!==f.sc&&(v=f.sc,E.ctxStrokeStyle(f.sc)):v!==this.values.stroke&&(v=this.values.stroke,E.ctxStrokeStyle(this.values.stroke)),w=this.textSpans[t].elem,l=w.length,this.globalData.canvasContext.beginPath(),o=0;o<l;o+=1)for(j=w[o],d=j.length,this.globalData.canvasContext.moveTo(j[0],j[1]),u=2;u<d;u+=6)this.globalData.canvasContext.bezierCurveTo(j[u],j[u+1],j[u+2],j[u+3],j[u+4],j[u+5]);this.globalData.canvasContext.closePath(),E.ctxStroke()}f&&this.globalData.renderer.restore()}};function CVImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t=e.getContext("2d"),n=this.img.width,o=this.img.height,l=n/o,u=this.assetData.w/this.assetData.h,d,A,m=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;l>u&&m==="xMidYMid slice"||l<u&&m!=="xMidYMid slice"?(A=o,d=A*u):(d=n,A=d/u),t.drawImage(this.img,(n-d)/2,(o-A)/2,d,A,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(e,t,n){this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,n,o){this.canvasContext.fillRect(e,t,n,o)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var n="0px 0px 0px";t.transformOrigin=n,t.mozTransformOrigin=n,t.webkitTransformOrigin=n,t["-webkit-transform"]=n,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){this.reset();var n,o;e?(n=e,o=t,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=o):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,o=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=o*this.renderConfig.dpr);var l,u;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var d=this.renderConfig.preserveAspectRatio.split(" "),A=d[1]||"meet",m=d[0]||"xMidYMid",f=m.substr(0,4),g=m.substr(4);l=n/o,u=this.transformCanvas.w/this.transformCanvas.h,u>l&&A==="meet"||u<l&&A==="slice"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr)),f==="xMid"&&(u<l&&A==="meet"||u>l&&A==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(o/this.transformCanvas.h))/2*this.renderConfig.dpr:f==="xMax"&&(u<l&&A==="meet"||u>l&&A==="slice")?this.transformCanvas.tx=(n-this.transformCanvas.w*(o/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,g==="YMid"&&(u>l&&A==="meet"||u<l&&A==="slice")?this.transformCanvas.ty=(o-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:g==="YMax"&&(u>l&&A==="meet"||u<l&&A==="slice")?this.transformCanvas.ty=(o-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e,t=this.layers?this.layers.length:0;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if(!(this.renderedFrame===e&&this.renderConfig.clearCanvas===!0&&!t||this.destroyed||e===-1)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n,o=this.layers.length;for(this.completeLayers||this.checkLayers(e),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(e-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=o-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){var n=this.createItem(this.layers[e],this,this.globalData);t[e]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e,t=15;for(e=0;e<t;e+=1){var n=new CanvasContext;this.stack[e]=n}this._length=t,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var e=this._length*2,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t=this.stack[this.cArrPos],n=t.transform,o,l=this.cTr.props;for(o=0;o<16;o+=1)l[o]=n[o];if(e){this.nativeContext.restore();var u=this.stack[this.cArrPos+1];this.appliedFillStyle=u.fillStyle,this.appliedStrokeStyle=u.strokeStyle,this.appliedLineWidth=u.lineWidth,this.appliedLineCap=u.lineCap,this.appliedLineJoin=u.lineJoin,this.appliedMiterLimit=u.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(e||t.opacity!==-1&&this.currentOpacity!==t.opacity)&&(this.nativeContext.globalAlpha=t.opacity,this.currentOpacity=t.opacity),this.currentFillStyle=t.fillStyle,this.currentStrokeStyle=t.strokeStyle,this.currentLineWidth=t.lineWidth,this.currentLineCap=t.lineCap,this.currentLineJoin=t.lineJoin,this.currentMiterLimit=t.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n=this.stack[this.cArrPos],o;for(o=0;o<16;o+=1)n.transform[o]=t[o];this.cArrPos+=1;var l=this.stack[this.cArrPos];l.opacity=n.opacity,l.fillStyle=n.fillStyle,l.strokeStyle=n.strokeStyle,l.lineWidth=n.lineWidth,l.lineCap=n.lineCap,l.lineJoin=n.lineJoin,l.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var n=t.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,n,o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,n,o)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(e,t,n){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var t,n=this.layers.length;for(t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var e,t=this.layers.length;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:t&&t.clearCanvas!==void 0?t.clearCanvas:!0,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var n=this.finalTransform.mat.toCSS();t.transform=n,t.webkitTransform=n}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(e,t,n){this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)};function HShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var n,o=e.length;for(n=0;n<o;n+=1)t=e[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var n=e.sh.v,o=e.transformers,l,u=n._length,d,A,m,f;if(!(u<=1)){for(l=0;l<u-1;l+=1)d=this.getTransformedPoint(o,n.v[l]),A=this.getTransformedPoint(o,n.o[l]),m=this.getTransformedPoint(o,n.i[l+1]),f=this.getTransformedPoint(o,n.v[l+1]),this.checkBounds(d,A,m,f,t);n.c&&(d=this.getTransformedPoint(o,n.v[l]),A=this.getTransformedPoint(o,n.o[l]),m=this.getTransformedPoint(o,n.i[0]),f=this.getTransformedPoint(o,n.v[0]),this.checkBounds(d,A,m,f,t))}},HShapeElement.prototype.checkBounds=function(e,t,n,o,l){this.getBoundsOfCurve(e,t,n,o);var u=this.shapeBoundingBox;l.x=bmMin(u.left,l.x),l.xMax=bmMax(u.right,l.xMax),l.y=bmMin(u.top,l.y),l.yMax=bmMax(u.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,n,o){for(var l=[[e[0],o[0]],[e[1],o[1]]],u,d,A,m,f,g,v,b=0;b<2;++b)d=6*e[b]-12*t[b]+6*n[b],u=-3*e[b]+9*t[b]-9*n[b]+3*o[b],A=3*t[b]-3*e[b],d|=0,u|=0,A|=0,u===0&&d===0||(u===0?(m=-A/d,m>0&&m<1&&l[b].push(this.calculateF(m,e,t,n,o,b))):(f=d*d-4*A*u,f>=0&&(g=(-d+bmSqrt(f))/(2*u),g>0&&g<1&&l[b].push(this.calculateF(g,e,t,n,o,b)),v=(-d-bmSqrt(f))/(2*u),v>0&&v<1&&l[b].push(this.calculateF(v,e,t,n,o,b)))));this.shapeBoundingBox.left=bmMin.apply(null,l[0]),this.shapeBoundingBox.top=bmMin.apply(null,l[1]),this.shapeBoundingBox.right=bmMax.apply(null,l[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,l[1])},HShapeElement.prototype.calculateF=function(e,t,n,o,l,u){return bmPow(1-e,3)*t[u]+3*bmPow(1-e,2)*e*n[u]+3*(1-e)*bmPow(e,2)*o[u]+bmPow(e,3)*l[u]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var n,o=e.length;for(n=0;n<o;n+=1)e[n]&&e[n].sh?this.calculateShapeBoundingBox(e[n],t):e[n]&&e[n].it?this.calculateBoundingBox(e[n].it,t):e[n]&&e[n].style&&e[n].w&&this.expandStrokeBoundingBox(e[n].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var n=0;if(e.keyframes){for(var o=0;o<e.keyframes.length;o+=1){var l=e.keyframes[o].s;l>n&&(n=l)}n*=e.mult}else n=e.v*e.mult;t.x-=n,t.xMax+=n,t.y-=n,t.yMax+=n},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var n=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),n=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),n=!0),n||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}};function HTextElement(e,t,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,n=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=n,t.color=n,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var o=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{t.fontFamily=o.fFamily;var l=e.fWeight,u=e.fStyle;t.fontStyle=u,t.fontWeight=l}var d,A,m=e.l;A=m.length;var f,g,v,b=this.mHelper,w,j="",E=0;for(d=0;d<A;d+=1){if(this.globalData.fontManager.chars?(this.textPaths[E]?f=this.textPaths[E]:(f=createNS("path"),f.setAttribute("stroke-linecap",lineCapEnum[1]),f.setAttribute("stroke-linejoin",lineJoinEnum[2]),f.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[E]?(g=this.textSpans[E],v=g.children[0]):(g=createTag("div"),g.style.lineHeight=0,v=createNS("svg"),v.appendChild(f),styleDiv(g)))):this.isMasked?f=this.textPaths[E]?this.textPaths[E]:createNS("text"):this.textSpans[E]?(g=this.textSpans[E],f=this.textPaths[E]):(g=createTag("span"),styleDiv(g),f=createTag("span"),styleDiv(f),g.appendChild(f)),this.globalData.fontManager.chars){var R=this.globalData.fontManager.getCharData(e.finalText[d],o.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),_;if(R?_=R.data:_=null,b.reset(),_&&_.shapes&&_.shapes.length&&(w=_.shapes[0].it,b.scale(e.finalSize/100,e.finalSize/100),j=this.createPathShape(b,w),f.setAttribute("d",j)),this.isMasked)this.innerElem.appendChild(f);else{if(this.innerElem.appendChild(g),_&&_.shapes){document.body.appendChild(v);var N=v.getBBox();v.setAttribute("width",N.width+2),v.setAttribute("height",N.height+2),v.setAttribute("viewBox",N.x-1+" "+(N.y-1)+" "+(N.width+2)+" "+(N.height+2));var B=v.style,M="translate("+(N.x-1)+"px,"+(N.y-1)+"px)";B.transform=M,B.webkitTransform=M,m[d].yOffset=N.y-1}else v.setAttribute("width",1),v.setAttribute("height",1);g.appendChild(v)}}else if(f.textContent=m[d].val,f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(f);else{this.innerElem.appendChild(g);var O=f.style,F="translate3d(0,"+-e.finalSize/1.2+"px,0)";O.transform=F,O.webkitTransform=F}this.isMasked?this.textSpans[E]=f:this.textSpans[E]=g,this.textSpans[E].style.display="block",this.textPaths[E]=f,E+=1}for(;E<this.textSpans.length;)this.textSpans[E].style.display="none",E+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var n,o,l=0,u=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;o=d.length;var A,m,f;for(n=0;n<o;n+=1)d[n].n?l+=1:(m=this.textSpans[n],f=this.textPaths[n],A=u[l],l+=1,A._mdf.m&&(this.isMasked?m.setAttribute("transform",A.m):(m.style.webkitTransform=A.m,m.style.transform=A.m)),m.style.opacity=A.o,A.sw&&A._mdf.sw&&f.setAttribute("stroke-width",A.sw),A.sc&&A._mdf.sc&&f.setAttribute("stroke",A.sc),A.fc&&A._mdf.fc&&(f.setAttribute("fill",A.fc),f.style.color=A.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var g=this.innerElem.getBBox();this.currentBBox.w!==g.width&&(this.currentBBox.w=g.width,this.svgElement.setAttribute("width",g.width)),this.currentBBox.h!==g.height&&(this.currentBBox.h=g.height,this.svgElement.setAttribute("height",g.height));var v=1;if(this.currentBBox.w!==g.width+v*2||this.currentBBox.h!==g.height+v*2||this.currentBBox.x!==g.x-v||this.currentBBox.y!==g.y-v){this.currentBBox.w=g.width+v*2,this.currentBBox.h=g.height+v*2,this.currentBBox.x=g.x-v,this.currentBBox.y=g.y-v,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var b="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=b,e.webkitTransform=b}}}};function HCameraElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,e.pe,0,0,this),e.ks.p.s?(this.px=o(this,e.ks.p.x,1,0,this),this.py=o(this,e.ks.p.y,1,0,this),this.pz=o(this,e.ks.p.z,1,0,this)):this.p=o(this,e.ks.p,1,0,this),e.ks.a&&(this.a=o(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var l,u=e.ks.or.k.length;for(l=0;l<u;l+=1)e.ks.or.k[l].to=null,e.ks.or.k[l].ti=null}this.or=o(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,e.ks.rx,0,degToRads,this),this.ry=o(this,e.ks.ry,0,degToRads,this),this.rz=o(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t=this.comp.threeDElements.length,n,o,l;for(e=0;e<t;e+=1)if(n=this.comp.threeDElements[e],n.type==="3d"){o=n.perspectiveElem.style,l=n.container.style;var u=this.pe.v+"px",d="0px 0px 0px",A="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.perspective=u,o.webkitPerspective=u,l.transformOrigin=d,l.mozTransformOrigin=d,l.webkitTransformOrigin=d,o.transform=A,o.webkitTransform=A}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e=this._isFirstFrame,t,n;if(this.hierarchy)for(n=this.hierarchy.length,t=0;t<n;t+=1)e=this.hierarchy[t].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=this.hierarchy.length-1,t=n;t>=0;t-=1){var o=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;this.p?l=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:l=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var u=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),d=[l[0]/u,l[1]/u,l[2]/u],A=Math.sqrt(d[2]*d[2]+d[0]*d[0]),m=Math.atan2(d[1],A),f=Math.atan2(d[0],-d[2]);this.mat.rotateY(f).rotateX(-m)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var g=!this._prevMat.equals(this.mat);if((g||this.pe._mdf)&&this.comp.threeDElements){n=this.comp.threeDElements.length;var v,b,w;for(t=0;t<n;t+=1)if(v=this.comp.threeDElements[t],v.type==="3d"){if(g){var j=this.mat.toCSS();w=v.container.style,w.transform=j,w.webkitTransform=j}this.pe._mdf&&(b=v.perspectiveElem.style,b.perspective=this.pe.v+"px",b.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){var o=this.layers[t];if(!o.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(n,t);else{for(var l=0,u,d,A;l<t;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement&&(d=this.elements[l],A=this.layers[l].ddd?this.getThreeDContainerByPos(l):d.getBaseElement(),u=A||u),l+=1;u?(!o.ddd||!this.supports3d)&&this.layerElement.insertBefore(n,u):(!o.ddd||!this.supports3d)&&this.layerElement.appendChild(n)}else this.addTo3dContainer(n,t)}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var n=createTag("div"),o,l;styleDiv(n);var u=createTag("div");if(styleDiv(u),t==="3d"){o=n.style,o.width=this.globalData.compSize.w+"px",o.height=this.globalData.compSize.h+"px";var d="50% 50%";o.webkitTransformOrigin=d,o.mozTransformOrigin=d,o.transformOrigin=d,l=u.style;var A="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";l.transform=A,l.webkitTransform=A}n.appendChild(u);var m={container:u,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(m),m},HybridRendererBase.prototype.build3dContainers=function(){var e,t=this.layers.length,n,o="";for(e=0;e<t;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(o!=="3d"&&(o="3d",n=this.createThreeDContainer(e,"3d")),n.endPos=Math.max(n.endPos,e)):(o!=="2d"&&(o="2d",n=this.createThreeDContainer(e,"2d")),n.endPos=Math.max(n.endPos,e));for(t=this.threeDElements.length,e=t-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var n=0,o=this.threeDElements.length;n<o;){if(t<=this.threeDElements[n].endPos){for(var l=this.threeDElements[n].startPos,u;l<t;)this.elements[l]&&this.elements[l].getBaseElement&&(u=this.elements[l].getBaseElement()),l+=1;u?this.threeDElements[n].container.insertBefore(e,u):this.threeDElements[n].container.appendChild(e);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),n=this.animationItem.wrapper,o=t.style;o.width=e.w+"px",o.height=e.h+"px",this.resizerElem=t,styleDiv(t),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),n.appendChild(t),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var u=createNS("defs");l.appendChild(u),this.data=e,this.setupGlobalData(e,l),this.globalData.defs=u,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,n=e/t,o=this.globalData.compSize.w/this.globalData.compSize.h,l,u,d,A;o>n?(l=e/this.globalData.compSize.w,u=e/this.globalData.compSize.w,d=0,A=(t-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(l=t/this.globalData.compSize.h,u=t/this.globalData.compSize.h,d=(e-this.globalData.compSize.w*(t/this.globalData.compSize.h))/2,A=0);var m=this.resizerElem.style;m.webkitTransform="matrix3d("+l+",0,0,0,0,"+u+",0,0,0,0,1,0,"+d+","+A+",0,1)",m.transform=m.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e=this.globalData.compSize.w,t=this.globalData.compSize.h,n,o=this.threeDElements.length;for(n=0;n<o;n+=1){var l=this.threeDElements[n].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))+"px",l.perspective=l.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,n=e.length,o=createTag("div");for(t=0;t<n;t+=1)if(e[t].xt){var l=this.createComp(e[t],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}};function HCompElement(e,t,n){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var n=0,o;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(o=this.elements[n].getBaseElement()),n+=1;o?this.layerElement.insertBefore(e,o):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=(function(){return function(e){function t(n){for(var o=0,l=e.layers.length;o<l;){if(e.layers[o].nm===n||e.layers[o].ind===n)return e.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t}})();function _typeof$2(e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(e)}function seedRandom(e,t){var n=this,o=256,l=6,u=52,d="random",A=t.pow(o,l),m=t.pow(2,u),f=m*2,g=o-1,v;function b(B,M,O){var F=[];M=M===!0?{entropy:!0}:M||{};var $=R(E(M.entropy?[B,N(e)]:B===null?_():B,3),F),z=new w(F),se=function(){for(var ie=z.g(l),pe=A,xe=0;ie<m;)ie=(ie+xe)*o,pe*=o,xe=z.g(1);for(;ie>=f;)ie/=2,pe/=2,xe>>>=1;return(ie+xe)/pe};return se.int32=function(){return z.g(4)|0},se.quick=function(){return z.g(4)/4294967296},se.double=se,R(N(z.S),e),(M.pass||O||function(ce,ie,pe,xe){return xe&&(xe.S&&j(xe,z),ce.state=function(){return j(z,{})}),pe?(t[d]=ce,ie):ce})(se,$,"global"in M?M.global:this==t,M.state)}t["seed"+d]=b;function w(B){var M,O=B.length,F=this,$=0,z=F.i=F.j=0,se=F.S=[];for(O||(B=[O++]);$<o;)se[$]=$++;for($=0;$<o;$++)se[$]=se[z=g&z+B[$%O]+(M=se[$])],se[z]=M;F.g=function(ce){for(var ie,pe=0,xe=F.i,Ae=F.j,ue=F.S;ce--;)ie=ue[xe=g&xe+1],pe=pe*o+ue[g&(ue[xe]=ue[Ae=g&Ae+ie])+(ue[Ae]=ie)];return F.i=xe,F.j=Ae,pe}}function j(B,M){return M.i=B.i,M.j=B.j,M.S=B.S.slice(),M}function E(B,M){var O=[],F=_typeof$2(B),$;if(M&&F=="object")for($ in B)try{O.push(E(B[$],M-1))}catch{}return O.length?O:F=="string"?B:B+"\0"}function R(B,M){for(var O=B+"",F,$=0;$<O.length;)M[g&$]=g&(F^=M[g&$]*19)+O.charCodeAt($++);return N(M)}function _(){try{var B=new Uint8Array(o);return(n.crypto||n.msCrypto).getRandomValues(B),N(B)}catch{var M=n.navigator,O=M&&M.plugins;return[+new Date,n,O,n.screen,N(e)]}}function N(B){return String.fromCharCode.apply(0,B)}R(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return e==="number"||t instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var t=_typeof$1(e);if(t==="number"||e instanceof Number||t==="boolean")return-e;if($bm_isInstanceOfArray(e)){var n,o=e.length,l=[];for(n=0;n<o;n+=1)l[n]=-e[n];return l}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var n=_typeof$1(e),o=_typeof$1(t);if(isNumerable(n,e)&&isNumerable(o,t)||n==="string"||o==="string")return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t))return e=e.slice(0),e[0]+=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var l=0,u=e.length,d=t.length,A=[];l<u||l<d;)(typeof e[l]=="number"||e[l]instanceof Number)&&(typeof t[l]=="number"||t[l]instanceof Number)?A[l]=e[l]+t[l]:A[l]=t[l]===void 0?e[l]:e[l]||t[l],l+=1;return A}return 0}var add=sum;function sub(e,t){var n=_typeof$1(e),o=_typeof$1(t);if(isNumerable(n,e)&&isNumerable(o,t))return n==="string"&&(e=parseInt(e,10)),o==="string"&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t))return e=e.slice(0),e[0]-=t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var l=0,u=e.length,d=t.length,A=[];l<u||l<d;)(typeof e[l]=="number"||e[l]instanceof Number)&&(typeof t[l]=="number"||t[l]instanceof Number)?A[l]=e[l]-t[l]:A[l]=t[l]===void 0?e[l]:e[l]||t[l],l+=1;return A}return 0}function mul(e,t){var n=_typeof$1(e),o=_typeof$1(t),l;if(isNumerable(n,e)&&isNumerable(o,t))return e*t;var u,d;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(d=e.length,l=createTypedArray("float32",d),u=0;u<d;u+=1)l[u]=e[u]*t;return l}if(isNumerable(n,e)&&$bm_isInstanceOfArray(t)){for(d=t.length,l=createTypedArray("float32",d),u=0;u<d;u+=1)l[u]=e*t[u];return l}return 0}function div(e,t){var n=_typeof$1(e),o=_typeof$1(t),l;if(isNumerable(n,e)&&isNumerable(o,t))return e/t;var u,d;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(d=e.length,l=createTypedArray("float32",d),u=0;u<d;u+=1)l[u]=e[u]/t;return l}if(isNumerable(n,e)&&$bm_isInstanceOfArray(t)){for(d=t.length,l=createTypedArray("float32",d),u=0;u<d;u+=1)l[u]=e/t[u];return l}return 0}function mod(e,t){return typeof e=="string"&&(e=parseInt(e,10)),typeof t=="string"&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,n){if(t>n){var o=n;n=t,t=o}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if(typeof e=="number"||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var n,o=Math.min(e.length,t.length),l=0;for(n=0;n<o;n+=1)l+=Math.pow(t[n]-e[n],2);return Math.sqrt(l)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t=e[0],n=e[1],o=e[2],l=Math.max(t,n,o),u=Math.min(t,n,o),d,A,m=(l+u)/2;if(l===u)d=0,A=0;else{var f=l-u;switch(A=m>.5?f/(2-l-u):f/(l+u),l){case t:d=(n-o)/f+(n<o?6:0);break;case n:d=(o-t)/f+2;break;case o:d=(t-n)/f+4;break}d/=6}return[d,A,m,e[3]]}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e){var t=e[0],n=e[1],o=e[2],l,u,d;if(n===0)l=o,d=o,u=o;else{var A=o<.5?o*(1+n):o+n-o*n,m=2*o-A;l=hue2rgb(m,A,t+1/3),u=hue2rgb(m,A,t),d=hue2rgb(m,A,t-1/3)}return[l,u,d,e[3]]}function linear(e,t,n,o,l){if((o===void 0||l===void 0)&&(o=t,l=n,t=0,n=1),n<t){var u=n;n=t,t=u}if(e<=t)return o;if(e>=n)return l;var d=n===t?0:(e-t)/(n-t);if(!o.length)return o+(l-o)*d;var A,m=o.length,f=createTypedArray("float32",m);for(A=0;A<m;A+=1)f[A]=o[A]+(l[A]-o[A])*d;return f}function random(e,t){if(t===void 0&&(e===void 0?(e=0,t=1):(t=e,e=void 0)),t.length){var n,o=t.length;e||(e=createTypedArray("float32",o));var l=createTypedArray("float32",o),u=BMMath.random();for(n=0;n<o;n+=1)l[n]=e[n]+u*(t[n]-e[n]);return l}e===void 0&&(e=0);var d=BMMath.random();return e+d*(t-e)}function createPath(e,t,n,o){var l,u=e.length,d=shapePool.newElement();d.setPathData(!!o,u);var A=[0,0],m,f;for(l=0;l<u;l+=1)m=t&&t[l]?t[l]:A,f=n&&n[l]?n[l]:A,d.setTripleAt(e[l][0],e[l][1],f[0]+e[l][0],f[1]+e[l][1],m[0]+e[l][0],m[1]+e[l][1],l,!0);return d}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function e(t,n){var o,l,u=this.pv.length?this.pv.length:1,d=createTypedArray("float32",u);t=5;var A=Math.floor(time*t);for(o=0,l=0;o<A;){for(l=0;l<u;l+=1)d[l]+=-n+n*2*BMMath.random();o+=1}var m=time*t,f=m-Math.floor(m),g=createTypedArray("float32",u);if(u>1){for(l=0;l<u;l+=1)g[l]=this.pv[l]+d[l]+(-n+n*2*BMMath.random())*f;return g}return this.pv+d[0]+(-n+n*2*BMMath.random())*f}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],o=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,l=-Math.atan2(n[1],n[2])/degToRads;return[l,o,0]}function easeOut(e,t,n,o,l){return applyEase(easeOutBez,e,t,n,o,l)}function easeIn(e,t,n,o,l){return applyEase(easeInBez,e,t,n,o,l)}function ease(e,t,n,o,l){return applyEase(easeInOutBez,e,t,n,o,l)}function applyEase(e,t,n,o,l,u){l===void 0?(l=n,u=o):t=(t-n)/(o-n),t>1?t=1:t<0&&(t=0);var d=e(t);if($bm_isInstanceOfArray(l)){var A,m=l.length,f=createTypedArray("float32",m);for(A=0;A<m;A+=1)f[A]=(u[A]-l[A])*d+l[A];return f}return(u-l)*d+l}function nearestKey(e){var t,n=data.k.length,o,l;if(!data.k.length||typeof data.k[0]=="number")o=0,l=0;else if(o=-1,e*=elem.comp.globalData.frameRate,e<data.k[0].t)o=1,l=data.k[0].t;else{for(t=0;t<n-1;t+=1)if(e===data.k[t].t){o=t+1,l=data.k[t].t;break}else if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(o=t+2,l=data.k[t+1].t):(o=t+1,l=data.k[t].t);break}o===-1&&(o=t+1,l=data.k[t].t)}var u={};return u.index=o,u.time=l/elem.comp.globalData.frameRate,u}function key(e){var t,n,o;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var l=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(o=l.length,n=0;n<o;n+=1)t[n]=l[n],t.value[n]=l[n];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return!e&&e!==0&&(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return typeof value=="string"?t===void 0?value.substring(e):value.substring(e,t):""}function substr(e,t){return typeof value=="string"?t===void 0?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var e={};e.initExpressions=t,e.resetFrame=ExpressionManager.resetFrame;function t(n){var o=0,l=[];function u(){o+=1}function d(){o-=1,o===0&&m()}function A(f){l.indexOf(f)===-1&&l.push(f)}function m(){var f,g=l.length;for(f=0;f<g;f+=1)l[f].release();l.length=0}n.renderer.compInterface=CompExpressionInterface(n.renderer),n.renderer.globalData.projectInterface.registerComposition(n.renderer),n.renderer.globalData.pushExpression=u,n.renderer.globalData.popExpression=d,n.renderer.globalData.registerExpressionProperty=A}return e})(),MaskManagerInterface=(function(){function e(n,o){this._mask=n,this._data=o}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var t=function(o){var l=createSizedArray(o.viewData.length),u,d=o.viewData.length;for(u=0;u<d;u+=1)l[u]=new e(o.viewData[u],o.masksProperties[u]);var A=function(f){for(u=0;u<d;){if(o.masksProperties[u].nm===f)return l[u];u+=1}return null};return A};return t})(),ExpressionPropertyInterface=(function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(d,A,m){Object.defineProperty(d,"velocity",{get:function(){return A.getVelocityAtTime(A.comp.currentFrame)}}),d.numKeys=A.keyframes?A.keyframes.length:0,d.key=function(f){if(!d.numKeys)return 0;var g="";"s"in A.keyframes[f-1]?g=A.keyframes[f-1].s:"e"in A.keyframes[f-2]?g=A.keyframes[f-2].e:g=A.keyframes[f-2].s;var v=m==="unidimensional"?new Number(g):Object.assign({},g);return v.time=A.keyframes[f-1].t/A.elem.comp.globalData.frameRate,v.value=m==="unidimensional"?g[0]:g,v},d.valueAtTime=A.getValueAtTime,d.speedAtTime=A.getSpeedAtTime,d.velocityAtTime=A.getVelocityAtTime,d.propertyGroup=A.propertyGroup}function o(d){(!d||!("pv"in d))&&(d=e);var A=1/d.mult,m=d.pv*A,f=new Number(m);return f.value=m,n(f,d,"unidimensional"),function(){return d.k&&d.getValue(),m=d.v*A,f.value!==m&&(f=new Number(m),f.value=m,f[0]=m,n(f,d,"unidimensional")),f}}function l(d){(!d||!("pv"in d))&&(d=t);var A=1/d.mult,m=d.data&&d.data.l||d.pv.length,f=createTypedArray("float32",m),g=createTypedArray("float32",m);return f.value=g,n(f,d,"multidimensional"),function(){d.k&&d.getValue();for(var v=0;v<m;v+=1)g[v]=d.v[v]*A,f[v]=g[v];return f}}function u(){return e}return function(d){return d?d.propType==="unidimensional"?o(d):l(d):u}})(),TransformExpressionInterface=(function(){return function(e){function t(d){switch(d){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)});var n,o,l,u;return e.p?u=ExpressionPropertyInterface(e.p):(n=ExpressionPropertyInterface(e.px),o=ExpressionPropertyInterface(e.py),e.pz&&(l=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?u():[n(),o(),l?l():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t}})(),LayerExpressionInterface=(function(){function e(f){var g=new Matrix;if(f!==void 0){var v=this._elem.finalTransform.mProp.getValueAtTime(f);v.clone(g)}else{var b=this._elem.finalTransform.mProp;b.applyToMatrix(g)}return g}function t(f,g){var v=this.getMatrix(g);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.applyPoint(v,f)}function n(f,g){var v=this.getMatrix(g);return this.applyPoint(v,f)}function o(f,g){var v=this.getMatrix(g);return v.props[12]=0,v.props[13]=0,v.props[14]=0,this.invertPoint(v,f)}function l(f,g){var v=this.getMatrix(g);return this.invertPoint(v,f)}function u(f,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,b=this._elem.hierarchy.length;for(v=0;v<b;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(f)}return f.applyToPointArray(g[0],g[1],g[2]||0)}function d(f,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var v,b=this._elem.hierarchy.length;for(v=0;v<b;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(f)}return f.inversePoint(g)}function A(f){var g=new Matrix;if(g.reset(),this._elem.finalTransform.mProp.applyToMatrix(g),this._elem.hierarchy&&this._elem.hierarchy.length){var v,b=this._elem.hierarchy.length;for(v=0;v<b;v+=1)this._elem.hierarchy[v].finalTransform.mProp.applyToMatrix(g);return g.inversePoint(f)}return g.inversePoint(f)}function m(){return[1,1,1,1]}return function(f){var g;function v(E){w.mask=new MaskManagerInterface(E,f)}function b(E){w.effect=E}function w(E){switch(E){case"ADBE Root Vectors Group":case"Contents":case 2:return w.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return g;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return w.effect;case"ADBE Text Properties":return w.textInterface;default:return null}}w.getMatrix=e,w.invertPoint=d,w.applyPoint=u,w.toWorld=n,w.toWorldVec=t,w.fromWorld=l,w.fromWorldVec=o,w.toComp=n,w.fromComp=A,w.sampleImage=m,w.sourceRectAtTime=f.sourceRectAtTime.bind(f),w._elem=f,g=TransformExpressionInterface(f.finalTransform.mProp);var j=getDescriptor(g,"anchorPoint");return Object.defineProperties(w,{hasParent:{get:function(){return f.hierarchy.length}},parent:{get:function(){return f.hierarchy[0].layerInterface}},rotation:getDescriptor(g,"rotation"),scale:getDescriptor(g,"scale"),position:getDescriptor(g,"position"),opacity:getDescriptor(g,"opacity"),anchorPoint:j,anchor_point:j,transform:{get:function(){return g}},active:{get:function(){return f.isInRange}}}),w.startTime=f.data.st,w.index=f.data.ind,w.source=f.data.refId,w.height=f.data.ty===0?f.data.h:100,w.width=f.data.ty===0?f.data.w:100,w.inPoint=f.data.ip/f.comp.globalData.frameRate,w.outPoint=f.data.op/f.comp.globalData.frameRate,w._name=f.data.nm,w.registerMaskInterface=v,w.registerEffectsInterface=b,w}})(),propertyGroupFactory=(function(){return function(e,t){return function(n){return n=n===void 0?1:n,n<=0?e:t(n-1)}}})(),PropertyInterface=(function(){return function(e,t){var n={_name:e};function o(l){return l=l===void 0?1:l,l<=0?n:t(l-1)}return o}})(),EffectsExpressionInterface=(function(){var e={createEffectsInterface:t};function t(l,u){if(l.effectsManager){var d=[],A=l.data.ef,m,f=l.effectsManager.effectElements.length;for(m=0;m<f;m+=1)d.push(n(A[m],l.effectsManager.effectElements[m],u,l));var g=l.data.ef||[],v=function(w){for(m=0,f=g.length;m<f;){if(w===g[m].nm||w===g[m].mn||w===g[m].ix)return d[m];m+=1}return null};return Object.defineProperty(v,"numProperties",{get:function(){return g.length}}),v}return null}function n(l,u,d,A){function m(w){for(var j=l.ef,E=0,R=j.length;E<R;){if(w===j[E].nm||w===j[E].mn||w===j[E].ix)return j[E].ty===5?g[E]:g[E]();E+=1}throw new Error}var f=propertyGroupFactory(m,d),g=[],v,b=l.ef.length;for(v=0;v<b;v+=1)l.ef[v].ty===5?g.push(n(l.ef[v],u.effectElements[v],u.effectElements[v].propertyGroup,A)):g.push(o(u.effectElements[v],l.ef[v].ty,A,f));return l.mn==="ADBE Color Control"&&Object.defineProperty(m,"color",{get:function(){return g[0]()}}),Object.defineProperties(m,{numProperties:{get:function(){return l.np}},_name:{value:l.nm},propertyGroup:{value:f}}),m.enabled=l.en!==0,m.active=m.enabled,m}function o(l,u,d,A){var m=ExpressionPropertyInterface(l.p);function f(){return u===10?d.comp.compInterface(l.p.v):m()}return l.p.setGroupProperty&&l.p.setGroupProperty(PropertyInterface("",A)),f}return e})(),ShapePathInterface=(function(){return function(t,n,o){var l=n.sh;function u(A){return A==="Shape"||A==="shape"||A==="Path"||A==="path"||A==="ADBE Vector Shape"||A===2?u.path:null}var d=propertyGroupFactory(u,o);return l.setGroupProperty(PropertyInterface("Path",d)),Object.defineProperties(u,{path:{get:function(){return l.k&&l.getValue(),l}},shape:{get:function(){return l.k&&l.getValue(),l}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:o}}),u}})(),ShapeExpressionInterface=(function(){function e(j,E,R){var _=[],N,B=j?j.length:0;for(N=0;N<B;N+=1)j[N].ty==="gr"?_.push(n(j[N],E[N],R)):j[N].ty==="fl"?_.push(o(j[N],E[N],R)):j[N].ty==="st"?_.push(d(j[N],E[N],R)):j[N].ty==="tm"?_.push(A(j[N],E[N],R)):j[N].ty==="tr"||(j[N].ty==="el"?_.push(f(j[N],E[N],R)):j[N].ty==="sr"?_.push(g(j[N],E[N],R)):j[N].ty==="sh"?_.push(ShapePathInterface(j[N],E[N],R)):j[N].ty==="rc"?_.push(v(j[N],E[N],R)):j[N].ty==="rd"?_.push(b(j[N],E[N],R)):j[N].ty==="rp"?_.push(w(j[N],E[N],R)):j[N].ty==="gf"?_.push(l(j[N],E[N],R)):_.push(u(j[N],E[N])));return _}function t(j,E,R){var _,N=function(O){for(var F=0,$=_.length;F<$;){if(_[F]._name===O||_[F].mn===O||_[F].propertyIndex===O||_[F].ix===O||_[F].ind===O)return _[F];F+=1}return typeof O=="number"?_[O-1]:null};N.propertyGroup=propertyGroupFactory(N,R),_=e(j.it,E.it,N.propertyGroup),N.numProperties=_.length;var B=m(j.it[j.it.length-1],E.it[E.it.length-1],N.propertyGroup);return N.transform=B,N.propertyIndex=j.cix,N._name=j.nm,N}function n(j,E,R){var _=function(O){switch(O){case"ADBE Vectors Group":case"Contents":case 2:return _.content;default:return _.transform}};_.propertyGroup=propertyGroupFactory(_,R);var N=t(j,E,_.propertyGroup),B=m(j.it[j.it.length-1],E.it[E.it.length-1],_.propertyGroup);return _.content=N,_.transform=B,Object.defineProperty(_,"_name",{get:function(){return j.nm}}),_.numProperties=j.np,_.propertyIndex=j.ix,_.nm=j.nm,_.mn=j.mn,_}function o(j,E,R){function _(N){return N==="Color"||N==="color"?_.color:N==="Opacity"||N==="opacity"?_.opacity:null}return Object.defineProperties(_,{color:{get:ExpressionPropertyInterface(E.c)},opacity:{get:ExpressionPropertyInterface(E.o)},_name:{value:j.nm},mn:{value:j.mn}}),E.c.setGroupProperty(PropertyInterface("Color",R)),E.o.setGroupProperty(PropertyInterface("Opacity",R)),_}function l(j,E,R){function _(N){return N==="Start Point"||N==="start point"?_.startPoint:N==="End Point"||N==="end point"?_.endPoint:N==="Opacity"||N==="opacity"?_.opacity:null}return Object.defineProperties(_,{startPoint:{get:ExpressionPropertyInterface(E.s)},endPoint:{get:ExpressionPropertyInterface(E.e)},opacity:{get:ExpressionPropertyInterface(E.o)},type:{get:function(){return"a"}},_name:{value:j.nm},mn:{value:j.mn}}),E.s.setGroupProperty(PropertyInterface("Start Point",R)),E.e.setGroupProperty(PropertyInterface("End Point",R)),E.o.setGroupProperty(PropertyInterface("Opacity",R)),_}function u(){function j(){return null}return j}function d(j,E,R){var _=propertyGroupFactory($,R),N=propertyGroupFactory(F,_);function B(z){Object.defineProperty(F,j.d[z].nm,{get:ExpressionPropertyInterface(E.d.dataProps[z].p)})}var M,O=j.d?j.d.length:0,F={};for(M=0;M<O;M+=1)B(M),E.d.dataProps[M].p.setGroupProperty(N);function $(z){return z==="Color"||z==="color"?$.color:z==="Opacity"||z==="opacity"?$.opacity:z==="Stroke Width"||z==="stroke width"?$.strokeWidth:null}return Object.defineProperties($,{color:{get:ExpressionPropertyInterface(E.c)},opacity:{get:ExpressionPropertyInterface(E.o)},strokeWidth:{get:ExpressionPropertyInterface(E.w)},dash:{get:function(){return F}},_name:{value:j.nm},mn:{value:j.mn}}),E.c.setGroupProperty(PropertyInterface("Color",_)),E.o.setGroupProperty(PropertyInterface("Opacity",_)),E.w.setGroupProperty(PropertyInterface("Stroke Width",_)),$}function A(j,E,R){function _(B){return B===j.e.ix||B==="End"||B==="end"?_.end:B===j.s.ix?_.start:B===j.o.ix?_.offset:null}var N=propertyGroupFactory(_,R);return _.propertyIndex=j.ix,E.s.setGroupProperty(PropertyInterface("Start",N)),E.e.setGroupProperty(PropertyInterface("End",N)),E.o.setGroupProperty(PropertyInterface("Offset",N)),_.propertyIndex=j.ix,_.propertyGroup=R,Object.defineProperties(_,{start:{get:ExpressionPropertyInterface(E.s)},end:{get:ExpressionPropertyInterface(E.e)},offset:{get:ExpressionPropertyInterface(E.o)},_name:{value:j.nm}}),_.mn=j.mn,_}function m(j,E,R){function _(B){return j.a.ix===B||B==="Anchor Point"?_.anchorPoint:j.o.ix===B||B==="Opacity"?_.opacity:j.p.ix===B||B==="Position"?_.position:j.r.ix===B||B==="Rotation"||B==="ADBE Vector Rotation"?_.rotation:j.s.ix===B||B==="Scale"?_.scale:j.sk&&j.sk.ix===B||B==="Skew"?_.skew:j.sa&&j.sa.ix===B||B==="Skew Axis"?_.skewAxis:null}var N=propertyGroupFactory(_,R);return E.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",N)),E.transform.mProps.p.setGroupProperty(PropertyInterface("Position",N)),E.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",N)),E.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",N)),E.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",N)),E.transform.mProps.sk&&(E.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",N)),E.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",N))),E.transform.op.setGroupProperty(PropertyInterface("Opacity",N)),Object.defineProperties(_,{opacity:{get:ExpressionPropertyInterface(E.transform.mProps.o)},position:{get:ExpressionPropertyInterface(E.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(E.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(E.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(E.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(E.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(E.transform.mProps.sa)},_name:{value:j.nm}}),_.ty="tr",_.mn=j.mn,_.propertyGroup=R,_}function f(j,E,R){function _(M){return j.p.ix===M?_.position:j.s.ix===M?_.size:null}var N=propertyGroupFactory(_,R);_.propertyIndex=j.ix;var B=E.sh.ty==="tm"?E.sh.prop:E.sh;return B.s.setGroupProperty(PropertyInterface("Size",N)),B.p.setGroupProperty(PropertyInterface("Position",N)),Object.defineProperties(_,{size:{get:ExpressionPropertyInterface(B.s)},position:{get:ExpressionPropertyInterface(B.p)},_name:{value:j.nm}}),_.mn=j.mn,_}function g(j,E,R){function _(M){return j.p.ix===M?_.position:j.r.ix===M?_.rotation:j.pt.ix===M?_.points:j.or.ix===M||M==="ADBE Vector Star Outer Radius"?_.outerRadius:j.os.ix===M?_.outerRoundness:j.ir&&(j.ir.ix===M||M==="ADBE Vector Star Inner Radius")?_.innerRadius:j.is&&j.is.ix===M?_.innerRoundness:null}var N=propertyGroupFactory(_,R),B=E.sh.ty==="tm"?E.sh.prop:E.sh;return _.propertyIndex=j.ix,B.or.setGroupProperty(PropertyInterface("Outer Radius",N)),B.os.setGroupProperty(PropertyInterface("Outer Roundness",N)),B.pt.setGroupProperty(PropertyInterface("Points",N)),B.p.setGroupProperty(PropertyInterface("Position",N)),B.r.setGroupProperty(PropertyInterface("Rotation",N)),j.ir&&(B.ir.setGroupProperty(PropertyInterface("Inner Radius",N)),B.is.setGroupProperty(PropertyInterface("Inner Roundness",N))),Object.defineProperties(_,{position:{get:ExpressionPropertyInterface(B.p)},rotation:{get:ExpressionPropertyInterface(B.r)},points:{get:ExpressionPropertyInterface(B.pt)},outerRadius:{get:ExpressionPropertyInterface(B.or)},outerRoundness:{get:ExpressionPropertyInterface(B.os)},innerRadius:{get:ExpressionPropertyInterface(B.ir)},innerRoundness:{get:ExpressionPropertyInterface(B.is)},_name:{value:j.nm}}),_.mn=j.mn,_}function v(j,E,R){function _(M){return j.p.ix===M?_.position:j.r.ix===M?_.roundness:j.s.ix===M||M==="Size"||M==="ADBE Vector Rect Size"?_.size:null}var N=propertyGroupFactory(_,R),B=E.sh.ty==="tm"?E.sh.prop:E.sh;return _.propertyIndex=j.ix,B.p.setGroupProperty(PropertyInterface("Position",N)),B.s.setGroupProperty(PropertyInterface("Size",N)),B.r.setGroupProperty(PropertyInterface("Rotation",N)),Object.defineProperties(_,{position:{get:ExpressionPropertyInterface(B.p)},roundness:{get:ExpressionPropertyInterface(B.r)},size:{get:ExpressionPropertyInterface(B.s)},_name:{value:j.nm}}),_.mn=j.mn,_}function b(j,E,R){function _(M){return j.r.ix===M||M==="Round Corners 1"?_.radius:null}var N=propertyGroupFactory(_,R),B=E;return _.propertyIndex=j.ix,B.rd.setGroupProperty(PropertyInterface("Radius",N)),Object.defineProperties(_,{radius:{get:ExpressionPropertyInterface(B.rd)},_name:{value:j.nm}}),_.mn=j.mn,_}function w(j,E,R){function _(M){return j.c.ix===M||M==="Copies"?_.copies:j.o.ix===M||M==="Offset"?_.offset:null}var N=propertyGroupFactory(_,R),B=E;return _.propertyIndex=j.ix,B.c.setGroupProperty(PropertyInterface("Copies",N)),B.o.setGroupProperty(PropertyInterface("Offset",N)),Object.defineProperties(_,{copies:{get:ExpressionPropertyInterface(B.c)},offset:{get:ExpressionPropertyInterface(B.o)},_name:{value:j.nm}}),_.mn=j.mn,_}return function(j,E,R){var _;function N(M){if(typeof M=="number")return M=M===void 0?1:M,M===0?R:_[M-1];for(var O=0,F=_.length;O<F;){if(_[O]._name===M)return _[O];O+=1}return null}function B(){return R}return N.propertyGroup=propertyGroupFactory(N,B),_=e(j,E,N.propertyGroup),N.numProperties=_.length,N._name="Contents",N}})(),TextExpressionInterface=(function(){return function(e){var t;function n(o){switch(o){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var l=e.textProperty.currentData.t;return(!t||l!==t.value)&&(t=new String(l),t.value=l||new String(l),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),n}})();function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var FootageInterface=(function(){var e=function(o){var l="",u=o.getFootageData();function d(){return l="",u=o.getFootageData(),A}function A(m){if(u[m])return l=m,u=u[m],_typeof(u)==="object"?A:u;var f=m.indexOf(l);if(f!==-1){var g=parseInt(m.substr(f+l.length),10);return u=u[g],_typeof(u)==="object"?A:u}return""}return d},t=function(o){function l(u){return u==="Outline"?l.outlineInterface():null}return l._name="Outline",l.outlineInterface=e(o),l};return function(n){function o(l){return l==="Data"?o.dataInterface:null}return o._name="Data",o.dataInterface=t(n),o}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=(function(){function e(d,A,m){A.x&&(m.k=!0,m.x=!0,m.initiateExpression=ExpressionManager.initiateExpression,m.effectsSequence.push(m.initiateExpression(d,A,m).bind(m)))}function t(d){return d*=this.elem.globalData.frameRate,d-=this.offsetTime,d!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<d?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(d,this._cachingAtTime),this._cachingAtTime.lastFrame=d),this._cachingAtTime.value}function n(d){var A=-.01,m=this.getValueAtTime(d),f=this.getValueAtTime(d+A),g=0;if(m.length){var v;for(v=0;v<m.length;v+=1)g+=Math.pow(f[v]-m[v],2);g=Math.sqrt(g)*100}else g=0;return g}function o(d){if(this.vel!==void 0)return this.vel;var A=-.001,m=this.getValueAtTime(d),f=this.getValueAtTime(d+A),g;if(m.length){g=createTypedArray("float32",m.length);var v;for(v=0;v<m.length;v+=1)g[v]=(f[v]-m[v])/A}else g=(f-m)/A;return g}function l(){return this.pv}function u(d){this.propertyGroup=d}return{searchExpressions:e,getSpeedAtTime:n,getVelocityAtTime:o,getValueAtTime:t,getStaticValueAtTime:l,setGroupProperty:u}})();function addPropertyDecorator(){function e(b,w,j){if(!this.k||!this.keyframes)return this.pv;b=b?b.toLowerCase():"";var E=this.comp.renderedFrame,R=this.keyframes,_=R[R.length-1].t;if(E<=_)return this.pv;var N,B;j?(w?N=Math.abs(_-this.elem.comp.globalData.frameRate*w):N=Math.max(0,_-this.elem.data.ip),B=_-N):((!w||w>R.length-1)&&(w=R.length-1),B=R[R.length-1-w].t,N=_-B);var M,O,F;if(b==="pingpong"){var $=Math.floor((E-B)/N);if($%2!==0)return this.getValueAtTime((N-(E-B)%N+B)/this.comp.globalData.frameRate,0)}else if(b==="offset"){var z=this.getValueAtTime(B/this.comp.globalData.frameRate,0),se=this.getValueAtTime(_/this.comp.globalData.frameRate,0),ce=this.getValueAtTime(((E-B)%N+B)/this.comp.globalData.frameRate,0),ie=Math.floor((E-B)/N);if(this.pv.length){for(F=new Array(z.length),O=F.length,M=0;M<O;M+=1)F[M]=(se[M]-z[M])*ie+ce[M];return F}return(se-z)*ie+ce}else if(b==="continue"){var pe=this.getValueAtTime(_/this.comp.globalData.frameRate,0),xe=this.getValueAtTime((_-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(F=new Array(pe.length),O=F.length,M=0;M<O;M+=1)F[M]=pe[M]+(pe[M]-xe[M])*((E-_)/this.comp.globalData.frameRate)/5e-4;return F}return pe+(pe-xe)*((E-_)/.001)}return this.getValueAtTime(((E-B)%N+B)/this.comp.globalData.frameRate,0)}function t(b,w,j){if(!this.k)return this.pv;b=b?b.toLowerCase():"";var E=this.comp.renderedFrame,R=this.keyframes,_=R[0].t;if(E>=_)return this.pv;var N,B;j?(w?N=Math.abs(this.elem.comp.globalData.frameRate*w):N=Math.max(0,this.elem.data.op-_),B=_+N):((!w||w>R.length-1)&&(w=R.length-1),B=R[w].t,N=B-_);var M,O,F;if(b==="pingpong"){var $=Math.floor((_-E)/N);if($%2===0)return this.getValueAtTime(((_-E)%N+_)/this.comp.globalData.frameRate,0)}else if(b==="offset"){var z=this.getValueAtTime(_/this.comp.globalData.frameRate,0),se=this.getValueAtTime(B/this.comp.globalData.frameRate,0),ce=this.getValueAtTime((N-(_-E)%N+_)/this.comp.globalData.frameRate,0),ie=Math.floor((_-E)/N)+1;if(this.pv.length){for(F=new Array(z.length),O=F.length,M=0;M<O;M+=1)F[M]=ce[M]-(se[M]-z[M])*ie;return F}return ce-(se-z)*ie}else if(b==="continue"){var pe=this.getValueAtTime(_/this.comp.globalData.frameRate,0),xe=this.getValueAtTime((_+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(F=new Array(pe.length),O=F.length,M=0;M<O;M+=1)F[M]=pe[M]+(pe[M]-xe[M])*(_-E)/.001;return F}return pe+(pe-xe)*(_-E)/.001}return this.getValueAtTime((N-((_-E)%N+_))/this.comp.globalData.frameRate,0)}function n(b,w){if(!this.k)return this.pv;if(b=(b||.4)*.5,w=Math.floor(w||5),w<=1)return this.pv;var j=this.comp.renderedFrame/this.comp.globalData.frameRate,E=j-b,R=j+b,_=w>1?(R-E)/(w-1):1,N=0,B=0,M;this.pv.length?M=createTypedArray("float32",this.pv.length):M=0;for(var O;N<w;){if(O=this.getValueAtTime(E+N*_),this.pv.length)for(B=0;B<this.pv.length;B+=1)M[B]+=O[B];else M+=O;N+=1}if(this.pv.length)for(B=0;B<this.pv.length;B+=1)M[B]/=w;else M/=w;return M}function o(b){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var w=this._transformCachingAtTime.v;if(w.cloneFromProps(this.pre.props),this.appliedTransformations<1){var j=this.a.getValueAtTime(b);w.translate(-j[0]*this.a.mult,-j[1]*this.a.mult,j[2]*this.a.mult)}if(this.appliedTransformations<2){var E=this.s.getValueAtTime(b);w.scale(E[0]*this.s.mult,E[1]*this.s.mult,E[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var R=this.sk.getValueAtTime(b),_=this.sa.getValueAtTime(b);w.skewFromAxis(-R*this.sk.mult,_*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var N=this.r.getValueAtTime(b);w.rotate(-N*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var B=this.rz.getValueAtTime(b),M=this.ry.getValueAtTime(b),O=this.rx.getValueAtTime(b),F=this.or.getValueAtTime(b);w.rotateZ(-B*this.rz.mult).rotateY(M*this.ry.mult).rotateX(O*this.rx.mult).rotateZ(-F[2]*this.or.mult).rotateY(F[1]*this.or.mult).rotateX(F[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var $=this.px.getValueAtTime(b),z=this.py.getValueAtTime(b);if(this.data.p.z){var se=this.pz.getValueAtTime(b);w.translate($*this.px.mult,z*this.py.mult,-se*this.pz.mult)}else w.translate($*this.px.mult,z*this.py.mult,0)}else{var ce=this.p.getValueAtTime(b);w.translate(ce[0]*this.p.mult,ce[1]*this.p.mult,-ce[2]*this.p.mult)}return w}function l(){return this.v.clone(new Matrix)}var u=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(b,w,j){var E=u(b,w,j);return E.dynamicProperties.length?E.getValueAtTime=o.bind(E):E.getValueAtTime=l.bind(E),E.setGroupProperty=expressionHelpers.setGroupProperty,E};var d=PropertyFactory.getProp;PropertyFactory.getProp=function(b,w,j,E,R){var _=d(b,w,j,E,R);_.kf?_.getValueAtTime=expressionHelpers.getValueAtTime.bind(_):_.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(_),_.setGroupProperty=expressionHelpers.setGroupProperty,_.loopOut=e,_.loopIn=t,_.smooth=n,_.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(_),_.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(_),_.numKeys=w.a===1?w.k.length:0,_.propertyIndex=w.ix;var N=0;return j!==0&&(N=createTypedArray("float32",w.a===1?w.k[0].s.length:w.k.length)),_._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:N},expressionHelpers.searchExpressions(b,w,_),_.k&&R.addDynamicProperty(_),_};function A(b){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),b*=this.elem.globalData.frameRate,b-=this.offsetTime,b!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<b?this._caching.lastIndex:0,this._cachingAtTime.lastTime=b,this.interpolateShape(b,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var m=ShapePropertyFactory.getConstructorFunction(),f=ShapePropertyFactory.getKeyframedConstructorFunction();function g(){}g.prototype={vertices:function(w,j){this.k&&this.getValue();var E=this.v;j!==void 0&&(E=this.getValueAtTime(j,0));var R,_=E._length,N=E[w],B=E.v,M=createSizedArray(_);for(R=0;R<_;R+=1)w==="i"||w==="o"?M[R]=[N[R][0]-B[R][0],N[R][1]-B[R][1]]:M[R]=[N[R][0],N[R][1]];return M},points:function(w){return this.vertices("v",w)},inTangents:function(w){return this.vertices("i",w)},outTangents:function(w){return this.vertices("o",w)},isClosed:function(){return this.v.c},pointOnPath:function(w,j){var E=this.v;j!==void 0&&(E=this.getValueAtTime(j,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(E));for(var R=this._segmentsLength,_=R.lengths,N=R.totalLength*w,B=0,M=_.length,O=0,F;B<M;){if(O+_[B].addedLength>N){var $=B,z=E.c&&B===M-1?0:B+1,se=(N-O)/_[B].addedLength;F=bez.getPointInSegment(E.v[$],E.v[z],E.o[$],E.i[z],se,_[B]);break}else O+=_[B].addedLength;B+=1}return F||(F=E.c?[E.v[0][0],E.v[0][1]]:[E.v[E._length-1][0],E.v[E._length-1][1]]),F},vectorOnPath:function(w,j,E){w==1?w=this.v.c:w==0&&(w=.999);var R=this.pointOnPath(w,j),_=this.pointOnPath(w+.001,j),N=_[0]-R[0],B=_[1]-R[1],M=Math.sqrt(Math.pow(N,2)+Math.pow(B,2));if(M===0)return[0,0];var O=E==="tangent"?[N/M,B/M]:[-B/M,N/M];return O},tangentOnPath:function(w,j){return this.vectorOnPath(w,j,"tangent")},normalOnPath:function(w,j){return this.vectorOnPath(w,j,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([g],m),extendPrototype([g],f),f.prototype.getValueAtTime=A,f.prototype.initiateExpression=ExpressionManager.initiateExpression;var v=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(b,w,j,E,R){var _=v(b,w,j,E,R);return _.propertyIndex=w.ix,_.lock=!1,j===3?expressionHelpers.searchExpressions(b,w.pt,_):j===4&&expressionHelpers.searchExpressions(b,w.ks,_),_.k&&b.addDynamicProperty(_),_}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,n){var o=this.calculateExpression(n);if(t.t!==o){var l={};return this.copyData(l,t),l.t=o.toString(),l.__complete=!1,l}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),n=this.searchExpressions();return this.kf=t||n,this.kf},TextProperty.prototype.searchExpressions=e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function e(t,n){var o=createNS("feMerge");o.setAttribute("result",t);var l,u;for(u=0;u<n.length;u+=1)l=createNS("feMergeNode"),l.setAttribute("in",n[u]),o.appendChild(l),o.appendChild(l);return o}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,n,o,l){this.filterManager=t;var u=createNS("feColorMatrix");u.setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","linearRGB"),u.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=u,u.setAttribute("result",o+"_tint_1"),e.appendChild(u),u=createNS("feColorMatrix"),u.setAttribute("type","matrix"),u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),u.setAttribute("result",o+"_tint_2"),e.appendChild(u),this.matrixFilter=u;var d=this.createMergeNode(o,[l,o+"_tint_1",o+"_tint_2"]);e.appendChild(d)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+o+" 0"),this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}};function SVGFillFilter(e,t,n,o){this.filterManager=t;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","sRGB"),l.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),l.setAttribute("result",o),e.appendChild(l),this.matrixFilter=l}SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}};function SVGStrokeEffect(e,t,n){this.initialized=!1,this.filterManager=t,this.elem=n,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var e=this.elem.layerElement.children||this.elem.layerElement.childNodes,t,n,o,l;for(this.filterManager.effectElements[1].p.v===1?(l=this.elem.maskManager.masksProperties.length,o=0):(o=this.filterManager.effectElements[0].p.v-1,l=o+1),n=createNS("g"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),o;o<l;o+=1)t=createNS("path"),n.appendChild(t),this.paths.push({p:t,m:o});if(this.filterManager.effectElements[10].p.v===3){var u=createNS("mask"),d=createElementID();u.setAttribute("id",d),u.setAttribute("mask-type","alpha"),u.appendChild(n),this.elem.globalData.defs.appendChild(u);var A=createNS("g");for(A.setAttribute("mask","url("+getLocationHref()+"#"+d+")");e[0];)A.appendChild(e[0]);this.elem.layerElement.appendChild(A),this.masker=u,n.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(n),this.elem.layerElement.removeAttribute("mask"),n.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=n},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,n=this.paths.length,o,l;for(t=0;t<n;t+=1)if(this.paths[t].m!==-1&&(o=this.elem.maskManager.viewData[this.paths[t].m],l=this.paths[t].p,(e||this.filterManager._mdf||o.prop._mdf)&&l.setAttribute("d",o.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||o.prop._mdf)){var u;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var d=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,A=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,m=l.getTotalLength();u="0 0 0 "+m*d+" ";var f=m*(A-d),g=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,v=Math.floor(f/g),b;for(b=0;b<v;b+=1)u+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";u+="0 "+m*10+" 0 0"}else u="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;l.setAttribute("stroke-dasharray",u)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var w=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(w[0]*255)+","+bmFloor(w[1]*255)+","+bmFloor(w[2]*255)+")")}};function SVGTritoneFilter(e,t,n,o){this.filterManager=t;var l=createNS("feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("color-interpolation-filters","linearRGB"),l.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(l);var u=createNS("feComponentTransfer");u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),this.matrixFilter=u;var d=createNS("feFuncR");d.setAttribute("type","table"),u.appendChild(d),this.feFuncR=d;var A=createNS("feFuncG");A.setAttribute("type","table"),u.appendChild(A),this.feFuncG=A;var m=createNS("feFuncB");m.setAttribute("type","table"),u.appendChild(m),this.feFuncB=m,e.appendChild(u)}SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+n[0]+" "+t[0],u=o[1]+" "+n[1]+" "+t[1],d=o[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",u),this.feFuncB.setAttribute("tableValues",d)}};function SVGProLevelsFilter(e,t,n,o){this.filterManager=t;var l=this.filterManager.effectElements,u=createNS("feComponentTransfer");(l[10].p.k||l[10].p.v!==0||l[11].p.k||l[11].p.v!==1||l[12].p.k||l[12].p.v!==1||l[13].p.k||l[13].p.v!==0||l[14].p.k||l[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",u)),(l[17].p.k||l[17].p.v!==0||l[18].p.k||l[18].p.v!==1||l[19].p.k||l[19].p.v!==1||l[20].p.k||l[20].p.v!==0||l[21].p.k||l[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",u)),(l[24].p.k||l[24].p.v!==0||l[25].p.k||l[25].p.v!==1||l[26].p.k||l[26].p.v!==1||l[27].p.k||l[27].p.v!==0||l[28].p.k||l[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",u)),(l[31].p.k||l[31].p.v!==0||l[32].p.k||l[32].p.v!==1||l[33].p.k||l[33].p.v!==1||l[34].p.k||l[34].p.v!==0||l[35].p.k||l[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",u)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(u.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(u)),(l[3].p.k||l[3].p.v!==0||l[4].p.k||l[4].p.v!==1||l[5].p.k||l[5].p.v!==1||l[6].p.k||l[6].p.v!==0||l[7].p.k||l[7].p.v!==1)&&(u=createNS("feComponentTransfer"),u.setAttribute("color-interpolation-filters","sRGB"),u.setAttribute("result",o),e.appendChild(u),this.feFuncRComposed=this.createFeFunc("feFuncR",u),this.feFuncGComposed=this.createFeFunc("feFuncG",u),this.feFuncBComposed=this.createFeFunc("feFuncB",u))}SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=createNS(e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,o,l){for(var u=0,d=256,A,m=Math.min(e,t),f=Math.max(e,t),g=Array.call(null,{length:d}),v,b=0,w=l-o,j=t-e;u<=256;)A=u/256,A<=m?v=j<0?l:o:A>=f?v=j<0?o:l:v=o+w*Math.pow((A-e)/j,1/n),g[b]=v,b+=1,u+=256/(d-1);return g.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}};function SVGDropShadowEffect(e,t,n,o,l){var u=t.container.globalData.renderConfig.filterSize,d=t.data.fs||u;e.setAttribute("x",d.x||u.x),e.setAttribute("y",d.y||u.y),e.setAttribute("width",d.width||u.width),e.setAttribute("height",d.height||u.height),this.filterManager=t;var A=createNS("feGaussianBlur");A.setAttribute("in","SourceAlpha"),A.setAttribute("result",o+"_drop_shadow_1"),A.setAttribute("stdDeviation","0"),this.feGaussianBlur=A,e.appendChild(A);var m=createNS("feOffset");m.setAttribute("dx","25"),m.setAttribute("dy","0"),m.setAttribute("in",o+"_drop_shadow_1"),m.setAttribute("result",o+"_drop_shadow_2"),this.feOffset=m,e.appendChild(m);var f=createNS("feFlood");f.setAttribute("flood-color","#00ff00"),f.setAttribute("flood-opacity","1"),f.setAttribute("result",o+"_drop_shadow_3"),this.feFlood=f,e.appendChild(f);var g=createNS("feComposite");g.setAttribute("in",o+"_drop_shadow_3"),g.setAttribute("in2",o+"_drop_shadow_2"),g.setAttribute("operator","in"),g.setAttribute("result",o+"_drop_shadow_4"),e.appendChild(g);var v=this.createMergeNode(o,[o+"_drop_shadow_4",l]);e.appendChild(v)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(t[0]*255),Math.round(t[1]*255),Math.round(t[2]*255)))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=n*Math.cos(o),u=n*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",u)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var n=e.layerElement.parentNode;if(n){for(var o=n.children,l=0,u=o.length;l<u&&o[l]!==e.layerElement;)l+=1;var d;l<=u-2&&(d=o[l+1]);var A=createNS("use");A.setAttribute("href","#"+t),d?n.insertBefore(A,d):n.appendChild(A)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var n=createElementID(),o=createNS("mask");o.setAttribute("id",t.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var l=e.globalData.defs;l.appendChild(o);var u=createNS("symbol");u.setAttribute("id",n),this.replaceInParent(t,n),u.appendChild(t.layerElement),l.appendChild(u);var d=createNS("use");d.setAttribute("href","#"+n),o.appendChild(d),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,o=t.length;n<o;)t[n]&&t[n].data.ind===e&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(e,t,n,o){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var l=createNS("feGaussianBlur");l.setAttribute("result",o),e.appendChild(l),this.feGaussianBlur=l}SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3,n=this.filterManager.effectElements[0].p.v*t,o=this.filterManager.effectElements[1].p.v,l=o==3?0:n,u=o==2?0:n;this.feGaussianBlur.setAttribute("stdDeviation",l+" "+u);var d=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",d)}};function TransformEffect(){}TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,n=t[0].p.v,o=t[1].p.v,l=t[2].p.v===1,u=t[3].p.v,d=l?u:t[4].p.v,A=t[5].p.v,m=t[6].p.v,f=t[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(d*.01,u*.01,1),this.matrix.rotate(-f*degToRads),this.matrix.skewFromAxis(-A*degToRads,(m+90)*degToRads),this.matrix.translate(o[0],o[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(e,t){this.init(t)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(e){this.init(e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _iterableToArrayLimit(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o,l,u,d,A=[],m=!0,f=!1;try{if(u=(n=n.call(e)).next,t!==0)for(;!(m=(o=u.call(n)).done)&&(A.push(o.value),A.length!==t);m=!0);}catch(g){f=!0,l=g}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw l}}return A}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(o){_defineProperty(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function _objectWithoutProperties(e,t){if(e==null)return{};var n,o,l=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.includes(o))continue;n[o]=e[o]}return n}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toPrimitive(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:t+""}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function e(t,n){var o=t.animationData,l=t.loop,u=t.autoplay,d=t.initialSegment,A=t.onComplete,m=t.onLoopComplete,f=t.onEnterFrame,g=t.onSegmentStart,v=t.onConfigReady,b=t.onDataReady,w=t.onDataFailed,j=t.onLoadedImages,E=t.onDOMLoaded,R=t.onDestroy;t.lottieRef,t.renderer,t.name,t.assetsPath,t.rendererSettings;var _=_objectWithoutProperties(t,_excluded$1),N=reactExports.useState(!1),B=_slicedToArray(N,2),M=B[0],O=B[1],F=reactExports.useRef(),$=reactExports.useRef(null),z=function(){var ge;(ge=F.current)===null||ge===void 0||ge.play()},se=function(){var ge;(ge=F.current)===null||ge===void 0||ge.stop()},ce=function(){var ge;(ge=F.current)===null||ge===void 0||ge.pause()},ie=function(ge){var je;(je=F.current)===null||je===void 0||je.setSpeed(ge)},pe=function(ge,je){var Me;(Me=F.current)===null||Me===void 0||Me.goToAndPlay(ge,je)},xe=function(ge,je){var Me;(Me=F.current)===null||Me===void 0||Me.goToAndStop(ge,je)},Ae=function(ge){var je;(je=F.current)===null||je===void 0||je.setDirection(ge)},ue=function(ge,je){var Me;(Me=F.current)===null||Me===void 0||Me.playSegments(ge,je)},Y=function(ge){var je;(je=F.current)===null||je===void 0||je.setSubframe(ge)},fe=function(ge){var je;return(je=F.current)===null||je===void 0?void 0:je.getDuration(ge)},H=function(){var ge;(ge=F.current)===null||ge===void 0||ge.destroy(),F.current=void 0},le=function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},je;if($.current){(je=F.current)===null||je===void 0||je.destroy();var Me=_objectSpread2(_objectSpread2(_objectSpread2({},t),ge),{},{container:$.current});return F.current=lottie.loadAnimation(Me),O(!!F.current),function(){var He;(He=F.current)===null||He===void 0||He.destroy(),F.current=void 0}}};reactExports.useEffect(function(){var ye=le();return function(){return ye?.()}},[o,l]),reactExports.useEffect(function(){F.current&&(F.current.autoplay=!!u)},[u]),reactExports.useEffect(function(){if(F.current){if(!d){F.current.resetSegments(!0);return}!Array.isArray(d)||!d.length||((F.current.currentRawFrame<d[0]||F.current.currentRawFrame>d[1])&&(F.current.currentRawFrame=d[0]),F.current.setSegment(d[0],d[1]))}},[d]),reactExports.useEffect(function(){var ye=[{name:"complete",handler:A},{name:"loopComplete",handler:m},{name:"enterFrame",handler:f},{name:"segmentStart",handler:g},{name:"config_ready",handler:v},{name:"data_ready",handler:b},{name:"data_failed",handler:w},{name:"loaded_images",handler:j},{name:"DOMLoaded",handler:E},{name:"destroy",handler:R}],ge=ye.filter(function(Me){return Me.handler!=null});if(ge.length){var je=ge.map(function(Me){var He;return(He=F.current)===null||He===void 0||He.addEventListener(Me.name,Me.handler),function(){var Qe;(Qe=F.current)===null||Qe===void 0||Qe.removeEventListener(Me.name,Me.handler)}});return function(){je.forEach(function(Me){return Me()})}}},[A,m,f,g,v,b,w,j,E,R]);var de=React.createElement("div",_objectSpread2({style:n,ref:$},_));return{View:de,play:z,stop:se,pause:ce,setSpeed:ie,goToAndStop:xe,goToAndPlay:pe,setDirection:Ae,playSegments:ue,setSubframe:Y,getDuration:fe,destroy:H,animationContainerRef:$,animationLoaded:M,animationItem:F.current}};function getContainerVisibility(e){var t=e.getBoundingClientRect(),n=t.top,o=t.height,l=window.innerHeight-n,u=window.innerHeight+o;return l/u}function getContainerCursorPosition(e,t,n){var o=e.getBoundingClientRect(),l=o.top,u=o.left,d=o.width,A=o.height,m=(t-u)/d,f=(n-l)/A;return{x:m,y:f}}var useInitInteractivity=function e(t){var n=t.wrapperRef,o=t.animationItem,l=t.mode,u=t.actions;reactExports.useEffect(function(){var d=n.current;if(!(!d||!o||!u.length)){o.stop();var A=function(){var g=null,v=function(){var w=getContainerVisibility(d),j=u.find(function(R){var _=R.visibility;return _&&w>=_[0]&&w<=_[1]});if(j){if(j.type==="seek"&&j.visibility&&j.frames.length===2){var E=j.frames[0]+Math.ceil((w-j.visibility[0])/(j.visibility[1]-j.visibility[0])*j.frames[1]);//! goToAndStop must be relative to the start of the current segment
o.goToAndStop(E-o.firstFrame-1,!0)}j.type==="loop"&&(g===null||g!==j.frames||o.isPaused)&&(o.playSegments(j.frames,!0),g=j.frames),j.type==="play"&&o.isPaused&&(o.resetSegments(!0),o.play()),j.type==="stop"&&o.goToAndStop(j.frames[0]-o.firstFrame-1,!0)}};return document.addEventListener("scroll",v),function(){document.removeEventListener("scroll",v)}},m=function(){var g=function(j,E){var R=j,_=E;if(R!==-1&&_!==-1){var N=getContainerCursorPosition(d,R,_);R=N.x,_=N.y}var B=u.find(function(F){var $=F.position;return $&&Array.isArray($.x)&&Array.isArray($.y)?R>=$.x[0]&&R<=$.x[1]&&_>=$.y[0]&&_<=$.y[1]:$&&!Number.isNaN($.x)&&!Number.isNaN($.y)?R===$.x&&_===$.y:!1});if(B){if(B.type==="seek"&&B.position&&Array.isArray(B.position.x)&&Array.isArray(B.position.y)&&B.frames.length===2){var M=(R-B.position.x[0])/(B.position.x[1]-B.position.x[0]),O=(_-B.position.y[0])/(B.position.y[1]-B.position.y[0]);o.playSegments(B.frames,!0),o.goToAndStop(Math.ceil((M+O)/2*(B.frames[1]-B.frames[0])),!0)}B.type==="loop"&&o.playSegments(B.frames,!0),B.type==="play"&&(o.isPaused&&o.resetSegments(!1),o.playSegments(B.frames)),B.type==="stop"&&o.goToAndStop(B.frames[0],!0)}},v=function(j){g(j.clientX,j.clientY)},b=function(){g(-1,-1)};return d.addEventListener("mousemove",v),d.addEventListener("mouseout",b),function(){d.removeEventListener("mousemove",v),d.removeEventListener("mouseout",b)}};switch(l){case"scroll":return A();case"cursor":return m()}}},[l,o])},useLottieInteractivity=function e(t){var n=t.actions,o=t.mode,l=t.lottieObj,u=l.animationItem,d=l.View,A=l.animationContainerRef;return useInitInteractivity({actions:n,animationItem:u,mode:o,wrapperRef:A}),d},_excluded=["style","interactivity"],Lottie=function e(t){var n,o,l,u=t.style,d=t.interactivity,A=_objectWithoutProperties(t,_excluded),m=useLottie(A,u),f=m.View,g=m.play,v=m.stop,b=m.pause,w=m.setSpeed,j=m.goToAndStop,E=m.goToAndPlay,R=m.setDirection,_=m.playSegments,N=m.setSubframe,B=m.getDuration,M=m.destroy,O=m.animationContainerRef,F=m.animationLoaded,$=m.animationItem;return reactExports.useEffect(function(){t.lottieRef&&(t.lottieRef.current={play:g,stop:v,pause:b,setSpeed:w,goToAndPlay:E,goToAndStop:j,setDirection:R,playSegments:_,setSubframe:N,getDuration:B,destroy:M,animationContainerRef:O,animationLoaded:F,animationItem:$})},[(n=t.lottieRef)===null||n===void 0?void 0:n.current]),useLottieInteractivity({lottieObj:{View:f,play:g,stop:v,pause:b,setSpeed:w,goToAndStop:j,goToAndPlay:E,setDirection:R,playSegments:_,setSubframe:N,getDuration:B,destroy:M,animationContainerRef:O,animationLoaded:F,animationItem:$},actions:(o=d?.actions)!==null&&o!==void 0?o:[],mode:(l=d?.mode)!==null&&l!==void 0?l:"scroll"})};const FallbackAvatar=({state:e,size:t})=>{const n=()=>{switch(e){case"speaking":return"ðŸ—£ï¸";case"thinking":return"ðŸ¤”";case"listening":return"ðŸ‘‚";default:return"ðŸ˜Š"}};return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-purple-500",style:{width:t,height:t},children:jsxRuntimeExports.jsx("span",{className:"text-4xl animate-pulse",style:{fontSize:t*.5},children:n()})})},AnimatedAvatar=({state:e,size:t=80,className:n=""})=>{const[o,l]=reactExports.useState(null),[u,d]=reactExports.useState(!0),[A,m]=reactExports.useState(!1),f=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{d(!0),m(!1);try{const b=`/animations/${e}.json`,w=await fetch(b);if(w.ok){const j=await w.json();l(j),m(!1)}else m(!0)}catch(b){console.warn(`Animation file for state "${e}" not found, using fallback`,b),m(!0)}finally{d(!1)}})()},[e]),reactExports.useEffect(()=>{f.current&&o&&!A&&f.current.goToAndPlay(0)},[e,o,A]);const g=n.includes("w-full")||n.includes("h-full");return u?jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center ${n}`,style:g?{width:"100%",height:"100%"}:{width:t,height:t},children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):A||!o?jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center ${n}`,style:g?{width:"100%",height:"100%"}:{width:t,height:t},children:jsxRuntimeExports.jsx(FallbackAvatar,{state:e,size:g?200:t})}):jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center ${n}`,style:g?{width:"100%",height:"100%"}:{width:t,height:t},children:jsxRuntimeExports.jsx(Lottie,{lottieRef:f,animationData:o,loop:e==="idle"||e==="thinking"||e==="listening",autoplay:!0,style:g?{width:"100%",height:"100%"}:{width:t,height:t}})})},FullscreenModal=({isOpen:e,onClose:t,title:n,children:o})=>{const{t:l}=useTranslation("common");return reactExports.useEffect(()=>{if(!e)return;const u=d=>{d.key==="Escape"&&t()};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e,t]),reactExports.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e?jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[9999] animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-white flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"h-14 border-b border-slate-200 flex items-center justify-between px-6 bg-white/95 backdrop-blur-sm shrink-0 z-10",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:n&&jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-slate-800",children:n})}),jsxRuntimeExports.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-100 transition-colors",title:l("restoreTitle"),children:[jsxRuntimeExports.jsx(Minimize2,{size:16}),jsxRuntimeExports.jsx("span",{children:l("restore")})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden relative",children:o})]})]}):null},toServerLanguage=e=>e.toLowerCase().startsWith("zh")?"cmn-CN":e;function useSpeechRecognition(e={}){const{language:t="zh-CN",onResult:n,onError:o}=e,[l,u]=reactExports.useState(!1),[d,A]=reactExports.useState(!1),[m,f]=reactExports.useState(null),g=reactExports.useRef(null),v=reactExports.useRef([]),b=reactExports.useRef(null),w=reactExports.useRef(null),j=()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition;if(!M)return null;const O=new M;return O.lang=t,O.continuous=!1,O.interimResults=!1,O},E=reactExports.useCallback(async()=>{try{f(null);const M=j();if(!M){const O=new Error("å½“å‰æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«");f(O.message),o?.(O);return}w.current=M,M.onstart=()=>{u(!0),A(!1)},M.onresult=O=>{const F=O.results?.[0]?.[0]?.transcript?.trim();F&&n?.(F)},M.onerror=O=>{const F=new Error(O.error||"è¯­éŸ³è¯†åˆ«å¤±è´¥");f(F.message),o?.(F)},M.onend=()=>{u(!1),A(!1)},A(!0),M.start()}catch(M){const O=M instanceof Error?M:new Error("è¯­éŸ³è¯†åˆ«å¯åŠ¨å¤±è´¥");f(O.message),u(!1),A(!1),o?.(O)}},[t,n,o]),R=reactExports.useCallback(async()=>{try{f(null);const M=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});b.current=M;const O=new MediaRecorder(M,{mimeType:"audio/webm;codecs=opus"});g.current=O,v.current=[],O.ondataavailable=F=>{F.data.size>0&&v.current.push(F.data)},O.onstop=async()=>{b.current&&(b.current.getTracks().forEach(z=>z.stop()),b.current=null);const F=new Blob(v.current,{type:"audio/webm"}),$=new FileReader;$.onloadend=async()=>{const z=$.result;A(!0);try{const{speechToText:se}=await __vitePreload(async()=>{const{speechToText:ie}=await Promise.resolve().then(()=>backendApi);return{speechToText:ie}},void 0),ce=await se(z,toServerLanguage(t));ce&&n&&n(ce)}catch(se){const ce=se instanceof Error?se:new Error("Unknown error"),ie=ce.message.includes("not configured")||ce.message.includes("credentials");f(ie?"è¯­éŸ³æœåŠ¡æœªé…ç½®ï¼Œè¯·ä½¿ç”¨æ–‡å­—è¾“å…¥":ce.message),o?.(ce)}finally{A(!1)}},$.readAsDataURL(F)},O.start(),u(!0)}catch(M){const O=M instanceof Error?M:new Error("Failed to start recording");f(O.message),u(!1),o?.(O)}},[t,n,o]),_=reactExports.useCallback(async()=>{await R()},[E,R]),N=reactExports.useCallback(async()=>{g.current&&l&&(g.current.stop(),u(!1))},[l]),B=reactExports.useCallback(()=>{g.current&&l&&(g.current.stop(),u(!1)),b.current&&(b.current.getTracks().forEach(M=>M.stop()),b.current=null),v.current=[],f(null)},[l]);return{isRecording:l,isProcessing:d,error:m,startRecording:_,stopRecording:N,cancelRecording:B}}function getByteLength(e){return new Blob([e]).size}function removeEmojis(e){const t=/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{1F900}-\u{1F9FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{1F600}-\u{1F64F}]|[\u{1F680}-\u{1F6FF}]|[\u{1F700}-\u{1F77F}]|[\u{1F780}-\u{1F7FF}]|[\u{1F800}-\u{1F8FF}]|[\u{1FA00}-\u{1FA6F}]|[\u{1FA70}-\u{1FAFF}]|[\u{200D}]|[\u{FE00}-\u{FE0F}]|[\u{20D0}-\u{20FF}]/gu;let n=e.replace(t,"");return n=n.replace(/âŸª[^âŸ«]*â§¸[^âŸ«]*âŸ«/g,""),n=n.replace(/âŸª[^â§¸âŸ«]*â§¸[^âŸ«]*/g,""),n=n.replace(/âŸª[^âŸ«]*/g,""),n=n.replace(/â§¸[^âŸ«]*âŸ«/g,""),n=n.replace(/[âŸªâŸ«â§¸]/g,""),n=n.replace(/[\u{1D100}-\u{1D1FF}]/gu,""),n=n.replace(/\s+/g," ").trim(),n}function splitLongSentencesToChunks(e,t=800){const n=e.replace(/\s+/g," ").trim();if(!n)return[];const o=/([ã€‚ï¼ï¼Ÿ\n])/,l=n.split(o),u=[];let d="";for(let A=0;A<l.length;A++){const m=l[A];if(!m)continue;if(/^[ã€‚ï¼ï¼Ÿ\n]$/.test(m)){d+=m,d.trim()&&u.push(d.trim()),d="";continue}const f=getByteLength(d),g=getByteLength(m);if(f+g>t)if(d.trim()&&u.push(d.trim()),g>t){const v=m.split(/([ï¼Œï¼›ã€])/);let b="";for(const w of v)if(w)if(/^[ï¼Œï¼›ã€]$/.test(w))b+=w,b.trim()&&u.push(b.trim()),b="";else{const j=getByteLength(b),E=getByteLength(w);if(j+E>t)if(b.trim()&&u.push(b.trim()),E>t){let R=0;for(;R<w.length;){let _="",N=0;for(;R<w.length&&N<t;){const B=w[R],M=getByteLength(B);if(N+M>t)break;_+=B,N+=M,R++}_.trim()&&u.push(_.trim())}b=""}else b=w;else b+=w}b.trim()?d=b:d=""}else d=m;else d+=m}return d.trim()&&u.push(d.trim()),u.filter(A=>A.length>0)}async function mapWithConcurrency(e,t,n){const o=new Array(e.length);let l=0;const u=new Array(Math.min(t,e.length)).fill(0).map(async()=>{for(;l<e.length;){const d=l++;o[d]=await n(e[d],d)}});return await Promise.all(u),o}function useTextToSpeech(e={}){const{language:t="cmn-CN",voiceName:n="cmn-CN-Chirp3-HD-Despina",onPlayStart:o,onPlayEnd:l,onError:u}=e,[d,A]=reactExports.useState(!1),[m,f]=reactExports.useState(!1),[g,v]=reactExports.useState(null),b=reactExports.useRef(null),w=reactExports.useRef(0),j=reactExports.useCallback(async _=>{if(_.trim())try{v(null),f(!0),b.current&&(b.current.pause(),b.current=null);let N=removeEmojis(_);if(!N){f(!1);return}const B=async ce=>{const{textToSpeech:ie}=await __vitePreload(async()=>{const{textToSpeech:pe}=await Promise.resolve().then(()=>backendApi);return{textToSpeech:pe}},void 0);return ie(ce,t,n)};let M=0;const O=2;let F=N,$=800;const z=++w.current;let se=!1;for(;M<=O;)try{const ce=splitLongSentencesToChunks(F,$);if(ce.length===0){f(!1);return}const ie=await mapWithConcurrency(ce,10,B);for(let pe=0;pe<ie.length&&w.current===z;pe++){const xe=ie[pe],Ae=new Audio(xe);b.current=Ae,await new Promise((ue,Y)=>{Ae.onplay=()=>{se||(se=!0,A(!0),f(!1),o&&o())},Ae.onended=()=>{ue()},Ae.onerror=fe=>{const H=fe instanceof Event?fe.target:Ae;let le="Audio playback failed";if(H?.error){const de=H.error;switch(de.code){case de.MEDIA_ERR_ABORTED:le="Audio playback was aborted";break;case de.MEDIA_ERR_NETWORK:le="Network error while loading audio";break;case de.MEDIA_ERR_DECODE:le="Audio decoding error";break;case de.MEDIA_ERR_SRC_NOT_SUPPORTED:le="Audio format not supported";break;default:le=`Audio error: ${de.message||"Unknown error"}`}}Y(new Error(le))},Ae.play().catch(fe=>{if(fe?.name==="NotAllowedError"){Y(new Error("éœ€è¦å…ˆç‚¹å‡»é¡µé¢æˆ–æŒ‰ä»»æ„é”®ï¼Œæ‰èƒ½æ’­æ”¾è¯­éŸ³"));return}Y(fe)})})}w.current===z&&se&&(A(!1),b.current=null,l&&l());return}catch(ce){const ie=ce instanceof Error?ce.message:String(ce);if((ie.includes("too long")||ie.includes("sentence"))&&M<O){if(M++,$=Math.max(500,$-200),F=removeEmojis(_),F===N&&M>1)throw ce;continue}throw ce}}catch(N){let B;if(N instanceof Error)B=N;else if(N&&typeof N=="object"&&"target"in N){const F=N.target,$=F?.error?`Audio error: ${F.error.code} - ${F.error.message}`:"Audio playback failed";B=new Error($)}else{const O=N?.toString()||String(N)||"Unknown error";B=new Error(O)}const M=B.message.includes("not configured")||B.message.includes("credentials");v(M?"è¯­éŸ³æœåŠ¡æœªé…ç½®ï¼Œä»…æ˜¾ç¤ºæ–‡å­—å›žå¤":B.message),f(!1),A(!1),u&&u(B)}},[t,n,o,l,u]),E=reactExports.useCallback(()=>{w.current+=1,b.current&&(b.current.pause(),b.current.currentTime=0,b.current=null,A(!1))},[]),R=reactExports.useCallback(()=>{b.current&&d&&(b.current.pause(),A(!1))},[d]);return{isPlaying:d,isLoading:m,error:g,play:j,stop:E,pause:R}}function visualizationDataToMermaid(e){if(e.type!=="mindmap")throw new Error("Only mindmap type can be converted to Mermaid");const t=e.nodes,n=e.edges,o=e.metadata?.centralConcept||t.find(m=>!n.some(f=>f.target===m.id))?.label||t[0]?.label||"Root";let l=`mindmap
  Root((${o}))
`;const u=new Map;t.forEach(m=>u.set(m.id,m));const d=n.filter(m=>u.get(m.source)?.label===o||!m.source),A=(m,f)=>{n.filter(v=>v.source===m).forEach(v=>{const b=u.get(v.target);if(b){const w=b.type==="confusion"?`â“ ${b.label}`:b.label;l+=`${f}    ${w.replace(/[()]/g,"")}
`,A(v.target,f+"    ")}})};return d.forEach(m=>{const f=u.get(m.target);if(f){const g=f.type==="confusion"?`â“ ${f.label}`:f.label;l+=`    ${g.replace(/[()]/g,"")}
`,A(m.target,"    ")}}),n.length===0&&t.length>1&&t.slice(1).forEach(m=>{const f=m.type==="confusion"?`â“ ${m.label}`:m.label;l+=`    ${f.replace(/[()]/g,"")}
`}),l.trim()}function mermaidToVisualizationData(e){const t=e.split(`
`).map(d=>d.trim()).filter(d=>d&&!d.startsWith("%%"));if(t.length===0)return{type:"mindmap",nodes:[],edges:[],metadata:{}};const n=t[0],o=[],l=[];let u="Root";if(n.startsWith("graph")||n.startsWith("flowchart")){const d=new Map;let A=0,m=null;for(let f=1;f<t.length;f++){const g=t[f],v=g.match(/^\s*(\w+)\s*[\[\(]\s*(.*?)\s*[\]\)]/);if(v){const w=v[1],j=v[2].replace(/^â“\s*/,""),E=v[2].includes("â“");if(!d.has(w)){const R={id:`node_${A++}`,label:j||w,type:E?"confusion":"concept"};d.set(w,R),o.push(R),m===null&&(m=R.id,u=j||w)}}const b=g.match(/^\s*(\w+)\s*(-->|--)\s*(?:[|"](.*?)[|"])?\s*(\w+)/);if(b){const w=b[1],j=b[4],E=b[3];if(!d.has(w)){const N={id:`node_${A++}`,label:w,type:"concept"};d.set(w,N),o.push(N),m===null&&(m=N.id,u=w)}if(!d.has(j)){const N={id:`node_${A++}`,label:j,type:"concept"};d.set(j,N),o.push(N)}const R=d.get(w),_=d.get(j);R&&_&&l.push({id:`edge_${l.length}`,source:R.id,target:_.id,label:E,type:"hierarchical"})}}return m===null&&o.length>0&&(m=o[0].id,u=o[0].label),{type:"conceptmap",nodes:o,edges:l,metadata:{centralConcept:u,confusionPoints:o.filter(f=>f.type==="confusion").map(f=>f.label)}}}if(n.startsWith("mindmap")){const d=t[1]?.match(/Root\(\((.*?)\)\)/);d&&(u=d[1],o.push({id:"root",label:u,type:"concept"}));let A=1;const m=new Map;o.length>0&&m.set("root",{node:o[0],level:0});for(let f=2;f<t.length;f++){const g=t[f],v=g.match(/^(\s*)/),b=v?v[1].length/4:0,w=g.trim().replace(/^â“\s*/,""),j=g.includes("â“"),E=`node_${A++}`,R={id:E,label:w,type:j?"confusion":"concept"};o.push(R),m.set(E,{node:R,level:b});let _="root";for(let N=f-1;N>=1;N--){const B=t[N],M=B.match(/^(\s*)/),O=M?M[1].length/4:0;if(O<b){const F=B.trim().replace(/^â“\s*/,"");for(const[$,{node:z}]of m.entries())if(z.label===F&&m.get($).level===O){_=$;break}break}}l.push({id:`edge_${l.length}`,source:_,target:E,type:"hierarchical"})}return{type:"mindmap",nodes:o,edges:l,metadata:{centralConcept:u,confusionPoints:o.filter(f=>f.type==="confusion").map(f=>f.label)}}}return console.warn(`Unsupported Mermaid format: ${n}. Returning empty visualization data.`),{type:"mindmap",nodes:[],edges:[],metadata:{}}}function getTypeLabel(e){switch(e){case"mindmap":return"æ€ç»´å¯¼å›¾";case"conceptmap":return"æ¦‚å¿µåœ°å›¾";case"knowledgegraph":return"çŸ¥è¯†å›¾è°±";default:return"å¯è§†åŒ–"}}function generateGuidancePrompt(e,t,n=0){const o=e.nodes.length,l=e.edges.length,u=e.metadata?.confusionPoints?.length||0;let d=`å­¦ç”Ÿæ­£åœ¨æž„å»º${getTypeLabel(e.type)}ï¼š
`;if(d+=`- å½“å‰èŠ‚ç‚¹æ•°ï¼š${o}
`,d+=`- å½“å‰è¿žæŽ¥æ•°ï¼š${l}
`,d+=`- å›°æƒ‘ç‚¹ï¼š${u}

`,t==="node_created"){const A=e.nodes[e.nodes.length-1];d+=`å­¦ç”Ÿåˆšåˆšåˆ›å»ºäº†èŠ‚ç‚¹"${A.label}"ã€‚`,o===1?d+='è¿™æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚è¯·é¼“åŠ±å­¦ç”Ÿï¼Œå¹¶å¼•å¯¼ä»–ä»¬æ€è€ƒï¼š"è¿™ä¸ªæ¦‚å¿µå¯ä»¥åˆ†æˆå“ªäº›æ–¹é¢ï¼Ÿ"':o===2?d+="å¾ˆå¥½ï¼ä½ å·²ç»æœ‰äº†ä¸¤ä¸ªæ¦‚å¿µã€‚çŽ°åœ¨æƒ³æƒ³ï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ":d+="è¯·å¼•å¯¼å­¦ç”Ÿæ€è€ƒè¿™ä¸ªèŠ‚ç‚¹ä¸Žå…¶ä»–èŠ‚ç‚¹çš„å…³ç³»ã€‚"}else if(t==="edge_created"){const A=e.edges[e.edges.length-1],m=e.nodes.find(g=>g.id===A.source),f=e.nodes.find(g=>g.id===A.target);d+=`å­¦ç”Ÿåˆšåˆšåˆ›å»ºäº†ä¸€ä¸ªè¿žæŽ¥ï¼š${m?.label||"æœªçŸ¥"} -> ${f?.label||"æœªçŸ¥"}ã€‚`,d+='è¯·å¼•å¯¼å­¦ç”Ÿæ€è€ƒï¼š"è¿™ä¸ªå…³ç³»è¯´æ˜Žäº†ä»€ä¹ˆï¼Ÿè¿˜æœ‰å“ªäº›æ¦‚å¿µä¹‹é—´ä¹Ÿæœ‰å…³ç³»ï¼Ÿ"'}else t==="confusion_marked"?d+='å­¦ç”Ÿæ ‡è®°äº†å›°æƒ‘ç‚¹ã€‚è¯·ç»™äºˆé¼“åŠ±ï¼Œå¹¶è¯¢é—®ï¼š"ä½ è§‰å¾—è¿™ä¸ªæ¦‚å¿µçš„å“ªä¸ªéƒ¨åˆ†è®©ä½ å›°æƒ‘ï¼Ÿ"':t==="idle"&&n>12e4?d+=`å­¦ç”Ÿå·²ç»${Math.round(n/6e4)}åˆ†é’Ÿæ²¡æœ‰æ“ä½œäº†ã€‚è¯·ä¸»åŠ¨è¯¢é—®ï¼š"ä½ åœ¨æž„å»ºè¿‡ç¨‹ä¸­é‡åˆ°ä»€ä¹ˆå›°éš¾äº†å—ï¼Ÿ"`:t==="idle"&&(o===0?d+='å­¦ç”Ÿè¿˜æ²¡æœ‰å¼€å§‹æž„å»ºã€‚è¯·å¼•å¯¼ä»–ä»¬æ€è€ƒï¼š"è¿™èŠ‚è¯¾çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿ"':o>0&&l===0?d+=`å­¦ç”Ÿå·²ç»åˆ›å»ºäº†${o}ä¸ªèŠ‚ç‚¹ï¼Œä½†è¿˜æ²¡æœ‰åˆ›å»ºè¿žæŽ¥ã€‚è¯·å¼•å¯¼ä»–ä»¬æ€è€ƒè¿™äº›æ¦‚å¿µä¹‹é—´çš„å…³ç³»ã€‚`:o>=3&&l>=2&&(d+=`å­¦ç”Ÿçš„${getTypeLabel(e.type)}å·²ç»åˆå…·è§„æ¨¡ã€‚å¯ä»¥å¼•å¯¼ä»–ä»¬æ£€æŸ¥æ˜¯å¦è¿˜æœ‰é‡è¦çš„æ¦‚å¿µæˆ–å…³ç³»éœ€è¦è¡¥å……ã€‚`));return d}function calculateCompletionRate(e){const o=Math.min(e.nodes.length/3,1)*50,l=Math.min(e.edges.length/2,1)*50;return Math.round(o+l)}function shouldTriggerAIFeedback(e,t,n,o,l,u){return e==="node_created"&&t===0&&n===1||e==="node_created"&&n===3&&l===0||e==="edge_created"&&o===0&&l===1||e==="confusion_marked"}function parseGuidedPayload(e){if(!e?.trim())return null;try{const t=JSON.parse(e),n=t.taskDesignJson??null,o=n?.why_it_matters,l=(()=>{if(typeof o=="string"&&o.trim())return{meaning_anchor:o.trim(),advance_organizer:""};const u=o;return u&&(u.meaning_anchor||u.advance_organizer)?u:void 0})();return{learningObjective:typeof t.learningObjective=="string"?t.learningObjective:void 0,whyItMatters:l,keyIdeas:Array.isArray(t.keyIdeas)?t.keyIdeas:[],practiceQuestions:Array.isArray(t.practiceQuestions)?t.practiceQuestions:[],exitTicket:t.exitTicket??null,exitTicketItems:(()=>{const u=t.exitTicketItems;if(Array.isArray(u)&&u.length>0)return u;const d=n?.exit_ticket;return(Array.isArray(d)?d:Array.isArray(d?.items)?d.items:[]).map(m=>{const f=m?.question_type??m?.questionType,g=f==="multiple_choice"||f==="short_answer"||f==="true_false"?f:void 0;return{question:String((m?.question??m?.q)||"").trim(),correctAnswer:(m?.answer??m?.a)!=null?String(m.answer??m.a):void 0,options:Array.isArray(m?.options)?m.options:void 0,questionType:g}}).filter(m=>m.question.length>0)})(),taskDesignJson:n,customTextInstruction:typeof t.customTextInstruction=="string"&&t.customTextInstruction.trim()||void 0,resourceKind:typeof t.resourceKind=="string"&&["video","document","text_instruction"].includes(t.resourceKind)?t.resourceKind:void 0,resourceMimeType:typeof t.resourceMimeType=="string"&&t.resourceMimeType.trim()||void 0,convertedHtml:typeof t.convertedHtml=="string"&&t.convertedHtml.trim()||void 0}}catch{return null}}function normalizeOptionText(e){return e.replace(/^[A-D][\.\)\u3001\s]+/i,"").trim()}function extractQuestionStemAndOptions(e,t){if(t&&t.length>0)return{stem:e,options:t.map(normalizeOptionText)};const n=e.split(`
`).map(l=>l.trim()).filter(Boolean),o=n.filter(l=>/^[A-D][\.\)\u3001\s]/i.test(l));if(o.length>=2){const l=n.filter(d=>!/^[A-D][\.\)\u3001\s]/i.test(d)),u=o.map(d=>d.replace(/^[A-D][\.\)\u3001\s]+/i,"").trim());return{stem:l.join(`
`).trim()||e,options:u}}return{stem:e,options:[]}}function extractYouTubeVideoId(e){try{const t=new URL(e),n=t.hostname.toLowerCase();if(n.includes("youtu.be"))return t.pathname.replace(/^\//,"").split("/")[0]||null;if(n.includes("youtube.com")){const o=t.searchParams.get("v");if(o)return o;const l=t.pathname.split("/").filter(Boolean);if(l[0]==="embed"||l[0]==="shorts")return l[1]||null}}catch{return null}return null}function extractBilibiliBvid(e){if(!e?.trim())return null;const n=e.trim().match(/\b(BV[0-9A-Za-z]+)\b/i);if(n)return n[1];try{const o=new URL(e),l=o.hostname.toLowerCase();if(!l.includes("bilibili.com")&&!l.includes("b23.tv"))return null;const u=o.searchParams.get("bvid");return u||(o.pathname.match(/(?:\/video\/|\/)(BV[0-9A-Za-z]+)/i)?.[1]??null)}catch{return null}}const StudentConsole=({plan:e,onComplete:t,onApiKeyError:n,contentLanguage:o="zh"})=>{const{user:l}=useAuth(),u=useParams(),{t:d}=useTranslation("studentConsole"),A=u.id,m=reactExports.useRef(Date.now()),f=reactExports.useCallback((dt,Rt,ir)=>{if(!A||!l?.id)return;const Xt=Math.round((Date.now()-m.current)/1e3);upsertStudentCourseProgress({courseId:A,progress:dt,completed:Rt,timeSpentSeconds:Xt,lastTaskIndex:ir}).catch(_r=>console.warn("[StudentConsole] Progress report failed:",_r))},[A,l?.id]),[g,v]=reactExports.useState(()=>{if(typeof window<"u"){const dt=localStorage.getItem("currentTaskIndex");if(dt!==null){const Rt=parseInt(dt,10);if(!isNaN(Rt)&&Rt>=0&&Rt<e.tasks.length)return Rt}}return 0}),b=reactExports.useCallback(async(dt,Rt)=>{const{data:ir}=await supabase.auth.getSession();await trackProductEvent({eventName:dt,role:"student",language:o,courseId:A,taskId:e.tasks[g]?.id,studentId:l?.id,properties:{taskIndex:g,...Rt}},ir.session?.access_token)},[o,A,g,e.tasks,l?.id]),[w,j]=reactExports.useState([]),[E,R]=reactExports.useState(""),[_,N]=reactExports.useState(!1),[B,M]=reactExports.useState([]),[O,F]=reactExports.useState(60),[$,z]=reactExports.useState(25),[se,ce]=reactExports.useState(!1),[ie,pe]=reactExports.useState(!1),xe=reactExports.useRef(null),[Ae,ue]=reactExports.useState(null),[Y,fe]=reactExports.useState(!1),[H,le]=reactExports.useState(""),[de,ye]=reactExports.useState(null),[ge,je]=reactExports.useState(1),[Me,He]=reactExports.useState([]),[Qe,ze]=reactExports.useState(!1),[Ve,tt]=reactExports.useState(""),[nt,Ye]=reactExports.useState(null),[ut,mt]=reactExports.useState(!1),[St,or]=reactExports.useState(!1),[Zt,Bt]=reactExports.useState({totalNodes:0,totalEdges:0,confusionPoints:0,completionRate:0}),[ur,Nr]=reactExports.useState("idle"),[Qr,$r]=reactExports.useState(Date.now()),[on,wn]=reactExports.useState(0),[En,en]=reactExports.useState(0),[Pt,ar]=reactExports.useState({columns:[],rows:[]}),[Xr,Cn]=reactExports.useState(""),[tn,vn]=reactExports.useState(!1),[bn,Br]=reactExports.useState(""),[Dt,Tr]=reactExports.useState(1),[qr,Zr]=reactExports.useState(1),[jn,rn]=reactExports.useState({}),[Kn,an]=reactExports.useState({}),[Dr,Hn]=reactExports.useState({}),[Tn,es]=reactExports.useState({}),[ps,Ti]=reactExports.useState({}),[ui,vi]=reactExports.useState(0),fs=reactExports.useRef(null),[Sn,Vs]=reactExports.useState({}),[zi,zn]=reactExports.useState({}),[wi,mi]=reactExports.useState(0),[gi,Ni]=reactExports.useState(!1),[Hs,Xi]=reactExports.useState(""),[Bs,Gi]=reactExports.useState({}),[Ss,La]=reactExports.useState(!1),[Qi,Pi]=reactExports.useState({mindMap:0,table:0,text:0,math:0}),[Ot,sn]=reactExports.useState(0),[mn,ji]=reactExports.useState(null),[As,Ji]=reactExports.useState(!1),[si,Ra]=reactExports.useState(new Set),[aa,wa]=reactExports.useState(!1),[oa,Gt]=reactExports.useState(null),[Ar,hn]=reactExports.useState("self_drive"),[Yr,Gs]=reactExports.useState(null),[Xs,Si]=reactExports.useState(""),[$s,Wn]=reactExports.useState(()=>typeof window<"u"&&localStorage.getItem("studentName")||"æ‚¨");reactExports.useEffect(()=>{l?.name?.trim()&&(Wn(l.name.trim()),typeof window<"u"&&localStorage.setItem("studentName",l.name.trim()))},[l?.name]);const Ks=d("aiSystem"),[xi,Cs]=reactExports.useState("idle"),yi=reactExports.useRef(null),[Js,fa]=reactExports.useState(!1),[ki,Bi]=reactExports.useState(!1),[Ki,za]=reactExports.useState(!0),[_s,Zi]=reactExports.useState("text"),[ra,Ta]=reactExports.useState([]),[Ea,Qa]=reactExports.useState(!1),[Wt,ne]=reactExports.useState(null),[Ee,Se]=reactExports.useState(()=>{if(typeof window<"u"){const dt=localStorage.getItem("ttsVoiceName");if(dt)return dt}return"cmn-CN-Chirp3-HD-Despina"}),J=reactExports.useRef(null),[ee,be]=reactExports.useState(!1),ke=reactExports.useRef(null);reactExports.useEffect(()=>{const dt=()=>be(!0);return window.addEventListener("pointerdown",dt,{once:!0}),window.addEventListener("keydown",dt,{once:!0}),()=>{window.removeEventListener("pointerdown",dt),window.removeEventListener("keydown",dt)}},[]),reactExports.useEffect(()=>{if(!Ki)return;let dt=!1;return getSpeechVoices().then(Rt=>{if(dt)return;const ir=Rt.voices??[];Ta(ir.filter(Xt=>Xt.name).map(Xt=>({name:Xt.name,ssmlGender:Xt.ssmlGender}))),Rt.recommended&&ne(Rt.recommended),Qa(!0)}).catch(()=>{dt||(Ta([]),Qa(!0))}),()=>{dt=!0}},[Ki]);const{isRecording:Le,isProcessing:Ze,error:ht,startRecording:V,stopRecording:U,cancelRecording:W}=useSpeechRecognition({language:o==="en"?"en-US":"zh-CN",onResult:dt=>{Tt(dt)},onError:dt=>{console.error("Speech recognition error:",dt),(dt.message.includes("not configured")||dt.message.includes("credentials"))&&(za(!1),fa(!1))}}),{isPlaying:ae,play:me,stop:we}=useTextToSpeech({language:o==="en"?"en-US":"cmn-CN",voiceName:Ee,onPlayStart:()=>{Cs("speaking")},onPlayEnd:()=>{Cs("idle")},onError:dt=>{console.error("Text-to-speech error:",dt),(dt.message.includes("not configured")||dt.message.includes("credentials"))&&(za(!1),Bi(!1))}}),Be="ä½ å¥½å‘€ï¼Œæˆ‘ä¼šç”¨è¿™ä¸ªå£°éŸ³é™ªä½ å­¦ä¹ ï¼Œå¬å¬çœ‹å–œä¸å–œæ¬¢";reactExports.useEffect(()=>{J.current=Ee},[]),reactExports.useEffect(()=>{J.current!==null&&J.current!==Ee&&(J.current=Ee,me(Be).catch(dt=>console.warn("Voice demo failed:",dt)))},[Ee,me]),reactExports.useEffect(()=>{if(!ee)return;const dt=ke.current;dt&&ki&&Js&&Ki&&(ke.current=null,setTimeout(()=>{me(dt).catch(Rt=>{console.warn("Deferred auto-play voice failed:",Rt)})},200))},[ee,ki,Js,Ki,me]);const Re=reactExports.useRef(null),Te=reactExports.useRef(null),$e=reactExports.useRef(null),qe=reactExports.useRef(new Set),at=reactExports.useRef(!1),pt=reactExports.useRef(0),Ie=e.tasks[g]??e.tasks[0],wt=Ie.viewType||"text_editor",At=reactExports.useMemo(()=>parseGuidedPayload(Ie.contentPayload),[Ie.contentPayload]),Nt=At?.keyIdeas||[],lt=At?.practiceQuestions||[],Ut=At?.exitTicket||null,tr=reactExports.useMemo(()=>{const dt=At?.exitTicketItems||[];return dt.length>0?dt:Ut?[Ut]:[]},[At?.exitTicketItems,Ut]),Ft=reactExports.useMemo(()=>Dt!==5?!0:tr.length===0?Hs.trim().length>0:tr.every((dt,Rt)=>(Bs[Rt]??(Rt===0?Hs:"")).trim().length>0),[Dt,tr,Bs,Hs]),it=wt==="video_player"&&!!At?.learningObjective;reactExports.useEffect(()=>{Dt===4&&vi(0)},[Dt]),reactExports.useEffect(()=>{mi(0),Ni(!1)},[g]),reactExports.useEffect(()=>{Dt===4&&fs.current?.clear()},[Dt,ui]);const Yt=dt=>{switch(dt){case"self_drive":return jsxRuntimeExports.jsx(Target,{size:18,className:"text-cyan-600"});case"focus":return jsxRuntimeExports.jsx(Zap,{size:18,className:"text-yellow-600"});case"thinking":return jsxRuntimeExports.jsx(Search,{size:18,className:"text-purple-600"});case"improvement":return jsxRuntimeExports.jsx(TrendingUp,{size:18,className:"text-emerald-600"});default:return jsxRuntimeExports.jsx(Activity,{size:18})}},Er=reactExports.useCallback(()=>ce(!0),[]),lr=reactExports.useCallback(()=>pe(!0),[]),Lt=reactExports.useCallback(()=>{ce(!1),pe(!1)},[]),vr=reactExports.useCallback(dt=>{if(se&&xe.current){const Rt=xe.current.getBoundingClientRect(),ir=(dt.clientX-Rt.left)/Rt.width*100;if(ir>=25&&ir<=60){const Xt=100-ir-15,_r=Math.min($,Xt);F(ir),_r!==$&&z(_r)}}},[se,O,$]),ft=reactExports.useCallback(dt=>{if(ie&&xe.current){const Rt=xe.current.getBoundingClientRect(),Xt=(dt.clientX-Rt.left)/Rt.width*100-O,_r=100-O-Xt;_r>=15&&_r<=35&&Xt>=20&&z(Xt)}},[ie,O]);reactExports.useEffect(()=>{if(!(typeof window>"u"))return se&&(window.addEventListener("mousemove",vr),window.addEventListener("mouseup",Lt)),ie&&(window.addEventListener("mousemove",ft),window.addEventListener("mouseup",Lt)),()=>{window.removeEventListener("mousemove",vr),window.removeEventListener("mousemove",ft),window.removeEventListener("mouseup",Lt)}},[se,ie,vr,ft,Lt]),reactExports.useEffect(()=>{Tr(1),Zr(1),rn({}),an({}),Hn({}),Vs({}),Xi(""),Gi({}),La(!1)},[g]),reactExports.useEffect(()=>{requestAnimationFrame(()=>{$e.current&&($e.current.scrollTop=$e.current.scrollHeight)})},[w]),reactExports.useEffect(()=>{if(yi.current&&(clearTimeout(yi.current),yi.current=null),Le)Cs("listening");else if(E.trim().length>0)Cs("listening");else if(_)Cs("thinking");else if(ae)Cs("speaking");else if(w.length>0){const dt=w[w.length-1];dt.role==="model"&&Date.now()-dt.timestamp<5e3?(Cs("speaking"),yi.current=setTimeout(()=>{Cs("idle"),yi.current=null},5e3)):Cs("idle")}else Cs("idle");return()=>{yi.current&&(clearTimeout(yi.current),yi.current=null)}},[_,w,Le,ae,E]),reactExports.useEffect(()=>{typeof window>"u"||__vitePreload(()=>import("./mermaid.core-CptPZmbg.js").then(dt=>dt.b7),[]).then(dt=>{dt.default.initialize({startOnLoad:!1,theme:"base",securityLevel:"loose",fontFamily:"sans-serif",themeVariables:{darkMode:!1,background:"#ffffff",primaryColor:"#e0f2fe",edgeLabelBackground:"#ffffff",lineColor:"#334155",textColor:"#0f172a",mainBkg:"#f0f9ff",nodeBorder:"#0284c7"}})}).catch(dt=>{console.error("Failed to load mermaid:",dt)})},[]);const yt=reactExports.useRef(null),$t=async(dt,Rt)=>{if(!(typeof window>"u")&&(yt.current||(yt.current=`mermaid-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),Rt.current))try{const Xt=(await __vitePreload(()=>import("./mermaid.core-CptPZmbg.js").then(dn=>dn.b7),[])).default,_r=dt.trim();if(!_r)return;const Lr=_r.startsWith("graph")||_r.startsWith("mindmap")?_r:`graph TD
  Node["${_r.replace(/"/g,"'")}"]`,{svg:fn}=await Xt.render(yt.current,Lr);Rt.current&&(Rt.current.innerHTML=fn,Rt===Re&&ye(null))}catch(ir){console.debug("Mermaid render warning:",ir),Rt===Re&&ye("è¯­æ³•ç»“æž„ä¸å®Œæ•´æˆ–æœ‰è¯¯")}};reactExports.useEffect(()=>{if(wt==="mindmap_editor"){const dt=setTimeout(()=>{$t(H,Re)},600);return()=>clearTimeout(dt)}},[H,wt]),reactExports.useEffect(()=>{(()=>{Mt(`Started Task ${g+1}: ${Ie.title} (${wt})`),b("step_entered",{taskTitle:Ie.title}).catch(()=>{}),ue(null),ye(null),je(1),fe(!1),He([]),ze(!1),tt(""),Ye(null),Pi({mindMap:0,table:0,text:0,math:0});const Rt=Ie.generatedAssetContent;try{if(wt==="mindmap_editor")if(Rt){le(Rt);try{const ir=mermaidToVisualizationData(Rt);Ye(ir)}catch(ir){console.error("Failed to convert Mermaid to VisualizationData:",ir),Ye({type:"mindmap",nodes:[],edges:[],metadata:{}})}}else{const ir=Ie.contentPayload||Ie.assetPrompt||"";if(ir.trim().startsWith("graph")||ir.trim().startsWith("mindmap")){le(ir);try{const Xt=mermaidToVisualizationData(ir);Ye(Xt)}catch(Xt){console.error("Failed to convert Mermaid to VisualizationData:",Xt),Ye({type:"mindmap",nodes:[],edges:[],metadata:{}})}}else if(Ie.title?.includes("çŸ¥è¯†ä½“ç³»")||Ie.outputGoal?.includes("çŸ¥è¯†ä½“ç³»")){const _r=Ie.title||"æœ¬èŠ‚è¯¾ä¸»é¢˜",Lr=`mindmap
  Root((${_r}))
    A[æ¦‚å¿µä¸€]
    B[æ¦‚å¿µäºŒ]`;le(Lr);try{const fn=mermaidToVisualizationData(Lr);Ye(fn)}catch{Ye({type:"mindmap",nodes:[{id:"root",label:_r,type:"concept"}],edges:[],metadata:{centralConcept:_r}})}}else le(`mindmap
  Root((ä¸­å¿ƒæ¦‚å¿µ))`),Ye({type:"mindmap",nodes:[{id:"root",label:"ä¸­å¿ƒæ¦‚å¿µ",type:"concept"}],edges:[],metadata:{centralConcept:"ä¸­å¿ƒæ¦‚å¿µ"}})}else if(wt==="table_editor")if(Rt)try{const ir=JSON.parse(Rt);if(ir&&ir.columns&&ir.rows){const Xt=Array(ir.rows).fill(null).map(()=>Array(ir.columns.length).fill(""));ar({columns:ir.columns,rows:Xt})}else throw new Error("æ— æ•ˆçš„è¡¨æ ¼æ•°æ®")}catch{ar({columns:["åˆ—A","åˆ—B"],rows:[["",""],["",""]]})}else ar({columns:["æ¦‚å¿µ","å®šä¹‰","ä¸¾ä¾‹"],rows:[["","",""],["","",""]]});else if(wt==="text_editor"){const ir=Ie.contentPayload||Ie.description||"",_r=(Lr=>{if(!Lr)return Lr;if(/(\d+\.)/.test(Lr)){const dn=Lr.split(/(?=\d+\.)/).filter(fr=>fr.trim());if(dn.length>1)return dn.map(fr=>fr.trim()).join(`

`)}return Lr})(ir);Cn(_r),ue(Ie.contentPayload)}else if(wt==="math_editor"){const ir=Ie.contentPayload||Ie.description||"";Br(ir),ue(Ie.contentPayload)}else if(wt==="video_player"){const ir=(Ie.externalResourceUrl||Rt||"").trim();ir&&ue(ir)}else Rt?ue(Rt):Ie.assetPrompt&&(fe(!0),generateTaskAsset(Ie.assetType,Ie.assetPrompt,A,Ie.id,o).then(ir=>{ue(ir)}).finally(()=>fe(!1)))}catch(ir){console.error("Task Init Error",ir)}if(!qe.current.has(g)){const ir=Ie.title||d("newTask"),_r=(Ie.description||"").substring(0,100).replace(/\n/g," ").trim(),Lr=g===0?[d("greetingFirst",{name:$s}),_r?d("greetingFirstWithHint",{title:ir}):d("greetingFirstNoHint",{title:ir}),d("greetingFirstEnd")]:[d("greetingLater",{name:$s}),d("greetingLaterBody",{title:ir}),d("greetingLaterEnd")],fn=Date.now();j(fr=>[...fr,...Lr.map(xn=>({role:"model",text:xn,timestamp:fn}))]),qe.current.add(g);const dn=Lr.join(`

`);g===0&&ki&&Js&&Ki&&(ee?setTimeout(()=>{me(dn).catch(fr=>{console.warn("Auto-play greeting voice failed:",fr)})},500):ke.current=dn)}})()},[g,b,e]),reactExports.useEffect(()=>{if(e.tasks[g]?.viewType!=="mindmap_editor"||!nt)return;const Rt=setInterval(()=>{const ir=Date.now()-Qr;if(ir>12e4&&ur==="idle"){const Xt=generateGuidancePrompt(nt,"idle",ir);Tt(void 0,Xt),$r(Date.now())}},3e4);return()=>clearInterval(Rt)},[e.tasks,g,nt,ur,Qr]);const Mt=dt=>{const Rt=new Date().toISOString().substring(11,19);M(ir=>[...ir,`[${Rt}] ${dt}`])},jr=reactExports.useCallback(dt=>{const Rt=nt?.nodes.length||0,ir=nt?.edges.length||0,Xt=dt.nodes.length,_r=dt.edges.length;Ye(dt);const Lr={totalNodes:Xt,totalEdges:_r,confusionPoints:dt.metadata?.confusionPoints?.length||0,completionRate:calculateCompletionRate(dt)};if(Bt(Lr),wn(Rt),en(ir),dt.type==="mindmap")try{const fn=visualizationDataToMermaid(dt);le(fn),Pi(dn=>({...dn,mindMap:dn.mindMap+1})),mn!==null&&Ji(!0)}catch(fn){console.error("Failed to convert VisualizationData to Mermaid:",fn),ye("è½¬æ¢é”™è¯¯ï¼šæ— æ³•ç”Ÿæˆ Mermaid ä»£ç ")}else Pi(fn=>({...fn,mindMap:fn.mindMap+1})),mn!==null&&Ji(!0)},[nt,mn]),Pr=reactExports.useCallback(dt=>{Nr("node_created"),$r(Date.now()),Mt(`åˆ›å»ºèŠ‚ç‚¹ï¼š${dt.label}`);const Rt=nt||{type:"mindmap",nodes:[],edges:[],metadata:{}},ir=Rt.nodes.length+1;if(shouldTriggerAIFeedback("node_created",on,ir,En,Rt.edges.length)){const _r={...Rt,nodes:[...Rt.nodes,dt]},Lr=generateGuidancePrompt(_r,"node_created",0);Tt(void 0,Lr)}},[nt,on,En]),Mr=reactExports.useCallback(dt=>{Nr("idle"),$r(Date.now()),Mt(`ç¼–è¾‘èŠ‚ç‚¹ï¼š${dt.label}`)},[]),hr=reactExports.useCallback(dt=>{Nr("edge_created"),$r(Date.now());const Rt=nt||{type:"mindmap",nodes:[],edges:[],metadata:{}},ir=Rt.nodes.find(fn=>fn.id===dt.source),Xt=Rt.nodes.find(fn=>fn.id===dt.target);Mt(`åˆ›å»ºè¿žæŽ¥ï¼š${ir?.label||"æœªçŸ¥"} -> ${Xt?.label||"æœªçŸ¥"}`);const _r=Rt.edges.length+1;if(shouldTriggerAIFeedback("edge_created",on,Rt.nodes.length,En,_r)){const fn={...Rt,edges:[...Rt.edges,dt]},dn=generateGuidancePrompt(fn,"edge_created",0);Tt(void 0,dn)}},[nt,on,En]),Ir=reactExports.useCallback((dt,Rt)=>{Nr("confusion_marked"),$r(Date.now()),Mt(`æ ‡è®°å›°æƒ‘ç‚¹ï¼š${Rt}`);const Xt=generateGuidancePrompt(nt||{type:"mindmap",nodes:[],edges:[],metadata:{}},"confusion_marked",0);Tt(void 0,Xt)},[nt]),Nn=reactExports.useCallback(dt=>{Bt(dt)},[]),gn=reactExports.useCallback(async dt=>{fe(!0);try{const Rt=`æ ¹æ®è¯¾ç¨‹ä¸»é¢˜"${dt}"ï¼Œç”Ÿæˆä¸€ä¸ªæ€ç»´å¯¼å›¾æ¡†æž¶ï¼ŒåŒ…å«3-5ä¸ªæ ¸å¿ƒæ¦‚å¿µèŠ‚ç‚¹ã€‚è¦æ±‚ï¼š
1. ä½¿ç”¨Mermaid mindmapæ ¼å¼
2. ä¸­å¿ƒæ¦‚å¿µä¸º"${dt}"
3. åŒ…å«3-5ä¸ªä¸»è¦åˆ†æ”¯æ¦‚å¿µ
4. æ¯ä¸ªæ¦‚å¿µåº”è¯¥æ˜¯è¯¥ä¸»é¢˜çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹
5. è¾“å‡ºæ ¼å¼ï¼šmindmap\\n  Root((${dt}))\\n    æ¦‚å¿µ1\\n    æ¦‚å¿µ2\\n    ...`,ir=await generateTaskAsset("mindmap_code",Rt,A,Ie?.id,o);if(ir){const Xt=mermaidToVisualizationData(ir);return Ye(Xt),le(ir),Mt(`AIç”Ÿæˆäº†æ€ç»´å¯¼å›¾æ¡†æž¶ï¼š${dt}`),Xt}else throw new Error("Failed to generate framework")}catch(Rt){throw console.error("Failed to generate framework:",Rt),Rt}finally{fe(!1)}},[A,Ie?.id,o]),st=()=>{let dt="";return wt==="mindmap_editor"?nt?nt.type==="mindmap"?dt=`Student ${nt.type==="mindmap"?"Mindmap":nt.type==="conceptmap"?"Concept Map":"Knowledge Graph"}: 
${H||JSON.stringify(nt,null,2)}`:dt=`Student ${nt.type==="conceptmap"?"Concept Map":"Knowledge Graph"}: 
Nodes: ${nt.nodes.map(Rt=>Rt.label).join(", ")}
Edges: ${nt.edges.length} connections
${JSON.stringify(nt,null,2)}`:dt=`Student Mindmap Code: 
${H}`:wt==="table_editor"?dt=`Student Table Data: 
Columns: ${Pt.columns.join(", ")}. 
Current Content: ${JSON.stringify(Pt.rows)}`:wt==="text_editor"?dt=`Student Text Editor Content: 
${Xr}`:wt==="math_editor"?dt=`Student Math Editor Content: 
${bn}`:wt==="image_gallery"?dt="Student is viewing an AI generated image.":wt==="video_player"?dt="Student is watching a video.":wt==="interactive_experiment"?dt="Student is performing an interactive experiment.":dt=`Student is performing task type: ${wt}`,dt},Tt=async(dt,Rt,ir)=>{const Xt=dt||E;if(!Xt.trim()||_)return;const _r=Date.now(),Lr={role:"user",text:Xt,timestamp:_r};j(un=>[...un,Lr]),R(""),N(!0),Cs("thinking"),Mt(`User Input: "${Xt}"`),setTimeout(()=>{$e.current&&($e.current.scrollTop=$e.current.scrollHeight)},50);let fn=st();if(Rt&&(fn+=`
System Note: ${Rt}`),wt==="image_gallery"&&Ie.description){const un=Ie.description;fn+=`
Task Description for Image Context: ${un.substring(0,500)}`}const dn=e.subject||Ie.title||Ie.description||"é€šç”¨",fr=["æ•°å­¦","ç‰©ç†","åŒ–å­¦","ç”Ÿç‰©","ç§‘å­¦","math","physics","chemistry","biology","science"].some(un=>dn.toLowerCase().includes(un.toLowerCase()));let xn="";wt==="image_gallery"&&Ie.description&&(xn=`

## å›¾åƒä¿¡æ¯è¡¥å……ï¼ˆå½“å­¦ç”Ÿè¯¢é—®å›¾åƒç»†èŠ‚æ—¶ä½¿ç”¨ï¼‰
å¦‚æžœå­¦ç”Ÿè¯¢é—®å›¾åƒä¸­çš„å…·ä½“ä¿¡æ¯ï¼ˆå¦‚ä»·æ ¼ã€æ•°é‡ã€ä½ç½®ç­‰ï¼‰ï¼Œè€Œå›¾åƒä¿¡æ¯ä¸è¶³æ—¶ï¼Œè¯·æ ¹æ®ä»¥ä¸‹ä»»åŠ¡æè¿°æä¾›æ–‡å­—è¯´æ˜Žï¼š
${Ie.description.substring(0,800)}
è¯·ç”¨è‡ªç„¶ã€ç”ŸåŠ¨çš„è¯­è¨€æè¿°åœºæ™¯ï¼Œå¸®åŠ©å­¦ç”Ÿç†è§£å›¾åƒæ‰€è¡¨è¾¾çš„æƒ…å¢ƒã€‚`);let Bn=`
${o==="en"?`## MANDATORY - RESPOND IN ENGLISH ONLY
Your ENTIRE response must be in English. Do NOT use any Chinese characters. Every sentence must be written in English.
`:""}
## å½“å‰ä»»åŠ¡ä¿¡æ¯
- ä»»åŠ¡æ ‡é¢˜ï¼š${Ie.title}
- å­¦ä¹ ç›®æ ‡ï¼š${Ie.outputGoal}
- å­¦ç”Ÿå½“å‰çŠ¶æ€ï¼š${fn}

## æ•™å­¦ç­–ç•¥
${Ie.tutorConfig.systemInstruction||"å¼•å¯¼å­¦ç”Ÿè‡ªä¸»æ€è€ƒï¼Œé€šè¿‡æé—®å’Œè®¨è®ºå¸®åŠ©å­¦ç”Ÿç†è§£ã€‚"}${xn}

## è¯­æ°”è¦æ±‚
- è¯­æ°”é£Žæ ¼ï¼š${Ie.tutorConfig.tone==="Socratic"?"è‹æ ¼æ‹‰åº•å¼æé—®ï¼Œä½†è¦ç”¨æ¸©æš–ã€é¼“åŠ±çš„æ–¹å¼æé—®ï¼Œä¸è¦æ˜¾å¾—å’„å’„é€¼äºº":Ie.tutorConfig.tone}
- è¯­è¨€ï¼š${o==="en"?"English only":"ç®€ä½“ä¸­æ–‡"}

## å­¦ç§‘ç‰¹åˆ«æŒ‡å¯¼
${fr?`
**ç†ç§‘ç‰¹åˆ«æŒ‡å¯¼**ï¼š
- æ•°å­¦ã€ç‰©ç†ç­‰å­¦ç§‘è™½ç„¶ä¸¥è°¨ï¼Œä½†ä½ çš„è¡¨è¾¾è¦æ¸©æš–ã€‚ä¸è¦è¯´"æ ¹æ®å…¬å¼ $y=kx+b$"ï¼Œè€Œè¦è¯´"æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹è¿™ä¸ªå‡½æ•° $y=kx+b$ï¼Œå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹å‘¢ï¼Ÿ"
- ç”¨ç”Ÿæ´»åŒ–çš„ä¾‹å­å¸®åŠ©ç†è§£æŠ½è±¡æ¦‚å¿µã€‚æ¯”å¦‚"æƒ³è±¡ä¸€ä¸‹ï¼Œå°±åƒ..."
- å½“å­¦ç”Ÿå¡ä½æ—¶ï¼Œä¸è¦è¯´"ä½ é”™äº†"ï¼Œè€Œè¦è¯´"è®©æˆ‘ä»¬æ¢ä¸ªè§’åº¦æƒ³æƒ³..."
- å¤šç”¨é¼“åŠ±ï¼š"ä½ å·²ç»å¾ˆæŽ¥è¿‘äº†ï¼"ã€"è¿™ä¸ªæ€è·¯å¾ˆæ£’ï¼"
- å¦‚æžœæ¶‰åŠæ•°å­¦å…¬å¼ï¼Œä½¿ç”¨LaTeXæ ¼å¼ï¼š$å…¬å¼$

**æ¦‚å¿µä»‹ç»ç‰¹åˆ«è¦æ±‚**ï¼š
- å½“éœ€è¦ä»‹ç»æ–°æ¦‚å¿µï¼ˆå¦‚æˆªè·ã€æ–œçŽ‡ã€å‡½æ•°ç­‰ï¼‰æ—¶ï¼Œä¸è¦ç›´æŽ¥ç»™å‡ºå®Œæ•´å®šä¹‰
- å…ˆé€šè¿‡æé—®å¼•å¯¼å­¦ç”Ÿæ€è€ƒï¼š"ä½ è§‰å¾—...æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"ã€"å¦‚æžœæˆ‘ä»¬æŠŠ...æ¯”ä½œ...ï¼Œä½ è§‰å¾—...ï¼Ÿ"
- ç­‰å¾…å­¦ç”Ÿå›žåº”åŽï¼Œå†æ ¹æ®ä»–ä»¬çš„ç†è§£é€æ­¥æ­ç¤ºæ¦‚å¿µçš„å…³é”®ç‰¹å¾
- è®©å­¦ç”Ÿè‡ªå·±"å‘çŽ°"æ¦‚å¿µï¼Œè€Œä¸æ˜¯è¢«åŠ¨æŽ¥å—å®šä¹‰
`:`
**æ–‡ç§‘æŒ‡å¯¼**ï¼š
- ä¿æŒç”ŸåŠ¨æœ‰è¶£çš„è¯­è¨€é£Žæ ¼
- ç”¨æ•…äº‹ã€æ¯”å–»è®©å†…å®¹æ›´ç”ŸåŠ¨
- é¼“åŠ±å­¦ç”Ÿè¡¨è¾¾è‡ªå·±çš„è§è§£
`}

## æç¤ºç­–ç•¥ï¼ˆå½“å­¦ç”Ÿè¯·æ±‚å¸®åŠ©æ—¶ï¼‰
- **åˆ†æ­¥ç»™å‡ºæç¤º**ï¼šæ¯æ¬¡åªç»™ä¸€ä¸ªå…³é”®æç¤ºç‚¹ï¼Œä¸è¦ä¸€æ¬¡æ€§å‘ˆçŽ°æ‰€æœ‰æç¤º
- **ç­‰å¾…å­¦ç”Ÿå°è¯•**ï¼šç»™å‡ºæç¤ºåŽï¼Œç­‰å¾…å­¦ç”Ÿå›žåº”æˆ–å°è¯•ï¼Œå†å†³å®šæ˜¯å¦ç»§ç»­
- **æ ¹æ®è¿›åº¦è°ƒæ•´**ï¼šå¦‚æžœå­¦ç”Ÿç†è§£äº†ç¬¬ä¸€ä¸ªæç¤ºï¼Œå¯èƒ½ä¸éœ€è¦åŽç»­æç¤ºï¼›å¦‚æžœä»æœ‰å›°éš¾ï¼Œå†é€æ­¥ç»™å‡ºä¸‹ä¸€ä¸ªæç¤º
- **é¿å…ä¿¡æ¯è¿‡è½½**ï¼šä¸€æ¬¡åªèšç„¦ä¸€ä¸ªå…³é”®ç‚¹ï¼Œè®©å­¦ç”Ÿæœ‰è¶³å¤Ÿæ—¶é—´æ¶ˆåŒ–å’Œç†è§£

## å›žå¤æ ¼å¼è¦æ±‚
- ä¸è¦ä½¿ç”¨Markdownæ ¼å¼ï¼ˆå¦‚**ç²—ä½“**ã€#æ ‡é¢˜ç­‰ï¼‰ï¼Œç”¨è‡ªç„¶çš„${o==="en"?"English":"ä¸­æ–‡"}è¡¨è¾¾
- å¯ä»¥é€‚å½“ä½¿ç”¨è¡¨æƒ…ç¬¦å·ï¼ˆå¦‚ðŸ˜Šã€ðŸ’¡ã€ðŸ‘ï¼‰ï¼Œä½†æ¯æ¡æœ€å¤š1ä¸ª
- **è¯­è¨€ç”ŸåŠ¨ä½†ç®€æ´**ï¼šæ¯æ¬¡å›žå¤ 2-4 å¥ï¼Œæ€»é•¿åº¦ 60-120 å­—ã€‚${o==="en"?"Respond in English only.":"ä½¿ç”¨ç®€ä½“ä¸­æ–‡ã€‚"}
- å¦‚æžœæ¶‰åŠæ•°å­¦å…¬å¼ï¼Œä½¿ç”¨LaTeXæ ¼å¼ï¼š$å…¬å¼$
- **ç¦æ­¢é‡å¤**ä¸Šä¸€æ¡æ¶ˆæ¯ä¸­å·²è¯´è¿‡çš„å†…å®¹ï¼›ç¦æ­¢åœ¨åŒä¸€æ¡å›žå¤ä¸­å‡ºçŽ°é‡å¤æ®µè½
- **åªèšç„¦å½“å‰æ­¥éª¤**ï¼Œä¸è¦ä¸»åŠ¨æåŠå…¶ä»–ä»»åŠ¡ç±»åž‹ï¼ˆå­¦ç”Ÿåšè§†é¢‘ä»»åŠ¡æ—¶ä¸ææ€ç»´å¯¼å›¾ç­‰ï¼‰
`;o==="en"&&(Bn=`
## CURRENT TASK
- Title: ${Ie.title}
- Learning objective: ${Ie.outputGoal}
- Student status: ${fn}

## Teaching strategy
- Be warm, encouraging, and concise.
- Ask one focused question at a time.
- Only discuss the CURRENT task/step.
- Do not reveal full answers directly.

## Subject guidance
${fr?`- For math/science, explain with concrete everyday examples and short formula references when needed (LaTeX: $...$).
- Keep explanations intuitive before formal definitions.`:"- For non-STEM tasks, use clear language and practical examples."}

## Response rules
- Output language: English ONLY. Do not use any Chinese characters.
- No Markdown formatting.
- 2-4 sentences, concise and natural.
- Do not repeat prior wording.
- If student asks for hints, provide exactly ONE hint first.
`);try{const un=await sendChatMessage(w.concat(Lr),Lr.text,Bn,o,{...ir&&ir.length>0?{images:ir}:{},...Ie.tutorConfig.twinId?{twinId:Ie.tutorConfig.twinId}:{}});j(qn=>[...qn,{role:"model",text:un,timestamp:_r}]),Mt(`AI Response: "${un.substring(0,30)}..."`),ki&&Js&&Ki&&setTimeout(()=>{me(un).catch(qn=>{console.warn("Auto-play voice failed:",qn)})},500)}catch(un){(un instanceof Error?un.message:String(un)).includes("Requested entity was not found")&&n&&n(),j(Fn=>[...Fn,{role:"model",text:d("connectionError"),timestamp:_r}]),Cs("idle")}finally{N(!1),at.current=!1}},It=()=>{if(!it)return"";if(Dt===3&&Nt.length>0){const dt=[o==="en"?"KEY IDEAS FILLING - Current items with student answers vs reference keywords:":"å…³é”®è¦ç‚¹å¡«ç©º - å½“å‰é¢˜ç›®ã€å­¦ç”Ÿå·²å¡«å†…å®¹ã€å‚è€ƒç­”æ¡ˆï¼ˆä¾›æ¸è¿›å¼æç¤ºä½¿ç”¨ï¼‰ï¼š"];return Nt.forEach((Rt,ir)=>{const Xt=Rt.text.split("__KEY__"),_r=Math.max(0,Xt.length-1),Lr=Rt.blanks||[],fn=_r>0?Array.from({length:_r}).map((fr,xn)=>jn[`blank-${ir}-${xn}`]||""):[jn[`idea-${ir}`]||""],dn=fn.map((fr,xn)=>fr.trim()?"":`[ç©º${xn+1}]`).filter(Boolean);dt.push(`[${ir+1}] é¢˜å¹²: ${Rt.text.replace(/__KEY__/g,"___")} | å­¦ç”Ÿå·²å¡«: ${JSON.stringify(fn)} | ç¼ºå¤±: ${dn.join(" ")||"æ— "} | å‚è€ƒç­”æ¡ˆ: ${JSON.stringify(Lr)}`)}),dt.push(o==="en"?`Stuck clicks so far: ${wi}. Give hint #${wi+1} - start vague, increase specificity with each click.`:`å·²ç‚¹å‡»ã€Œæˆ‘å¡ä½äº†ã€${wi} æ¬¡ã€‚ç»™å‡ºç¬¬ ${wi+1} æ¬¡æç¤º - å¾ªåºæ¸è¿›ï¼Œæ¯æ¬¡ç‚¹å‡»æ—¶ä¿¡æ¯é‡é€æ¸å¢žå¼ºã€‚`),dt.join(`
`)}if(Dt===4&&lt.length>0){const dt=ui,Rt=lt[dt],ir=extractQuestionStemAndOptions(Rt.question||"",Rt.options),Xt=zi[dt]??0,Lr=Rt.questionType==="true_false"||!ir.options?.length&&/^(true|false)$/i.test((Rt.correctAnswer||"").trim())?typeof Dr[dt]=="number"?(o==="en"?["True","False"]:["å¯¹","é”™"])[Dr[dt]]:"":ir.options?.length?typeof Dr[dt]=="number"?ir.options[Dr[dt]]:"":Kn[dt]||(Tn[dt]?"[æ‰‹å†™]":""),fn=Rt.correctAnswer||"";return[o==="en"?"PRACTICE QUESTION - Current question, student answer, reference answer:":"ç»ƒä¹ é¢˜ç›® - å½“å‰é¢˜ç›®ã€å­¦ç”Ÿç­”æ¡ˆã€å‚è€ƒç­”æ¡ˆï¼ˆä¾›æ¸è¿›å¼æç¤ºä½¿ç”¨ï¼‰ï¼š",`é¢˜ç›®: ${ir.stem}`,`å­¦ç”Ÿç­”æ¡ˆ: ${Lr||"(æœªç­”)"}`,`å‚è€ƒç­”æ¡ˆ: ${fn}`,o==="en"?`Stuck clicks on this question: ${Xt}. Give hint #${Xt+1} - start vague, increase specificity with each click.`:`æœ¬é¢˜å·²ç‚¹å‡»ã€Œæˆ‘å¡ä½äº†ã€${Xt} æ¬¡ã€‚ç»™å‡ºç¬¬ ${Xt+1} æ¬¡æç¤º - å¾ªåºæ¸è¿›ï¼Œæ¯æ¬¡ç‚¹å‡»æ—¶ä¿¡æ¯é‡é€æ¸å¢žå¼ºã€‚`].join(`
`)}return""},er=()=>{let dt=!1;if(it&&Dt===3&&Nt.length>0){const fn=wi+1;mi(fn),fn>=5&&(Ni(!0),dt=!0)}if(it&&Dt===4&&lt.length>0){const fn=ui,dn=(zi[fn]??0)+1;zn(fr=>({...fr,[fn]:dn})),dn>=5&&(Vs(fr=>({...fr,[fn]:!0})),dt=!0)}const Rt=st(),ir=it?`
Guided step ${Dt}/5: ${[d("guidedStep1"),d("guidedStep2"),d("guidedStep3"),d("guidedStep4"),d("guidedStep5")][Dt-1]||""}
${Jr()}`:"",Xt=It(),_r=dt?o==="en"?`

IMPORTANT: The student has clicked 'I'm Stuck' 5 times on this item. The reference answer has been revealed on screen. In your response, you MUST briefly acknowledge this (e.g. 'I see the reference answer is now visible') and encourage them to try with the hint.`:`

é‡è¦ï¼šå­¦ç”Ÿå·²åœ¨æœ¬æ¡ä¸Šç‚¹å‡»ã€Œæˆ‘å¡ä½äº†ã€5 æ¬¡ï¼Œå‚è€ƒç­”æ¡ˆå·²å±•ç¤ºåœ¨å±å¹•ä¸Šã€‚ä½ å¿…é¡»åœ¨å›žå¤ä¸­ç®€è¦è¯´æ˜Žè¿™ä¸€ç‚¹ï¼ˆä¾‹å¦‚ã€Œå‚è€ƒç­”æ¡ˆå·²ç»æ˜¾ç¤ºå‡ºæ¥äº†ã€ï¼‰ï¼Œå¹¶é¼“åŠ±ä»–ä»¬å€ŸåŠ©æç¤ºå†è¯•ä¸€è¯•ã€‚`:"",Lr=o==="en"?`

PROGRESSIVE HINT STRATEGY (MUST follow):
- Base your hint on the CURRENT item and what the student has MISSED (compare student answer vs reference).
- Hint intensity: 1st click = very vague (e.g. direction/category); 2nd = a bit more specific; 3rd-4th = narrow down (e.g. first letter, word count); 5th = if answer revealed, encourage trying.
- Each hint must be concrete and actionable - avoid generic advice like "think carefully".`:`

æ¸è¿›å¼æç¤ºç­–ç•¥ï¼ˆå¿…é¡»éµå¾ªï¼‰ï¼š
- æç¤ºå¿…é¡»åŸºäºŽå½“å‰é¢˜ç›®ã€ä»¥åŠå­¦ç”Ÿç¼ºå¤±çš„ä¿¡æ¯ï¼ˆå¯¹æ¯”å­¦ç”Ÿç­”æ¡ˆä¸Žå‚è€ƒç­”æ¡ˆï¼‰ã€‚
- æç¤ºå¼ºåº¦ï¼šç¬¬1æ¬¡=æžç®€æ–¹å‘ï¼›ç¬¬2æ¬¡=ç¨å…·ä½“ï¼›ç¬¬3-4æ¬¡=é€æ­¥æ”¶çª„ï¼ˆå¦‚é¦–å­—ã€å­—æ•°ï¼‰ï¼›ç¬¬5æ¬¡=è‹¥å·²å±•ç¤ºç­”æ¡ˆï¼Œé¼“åŠ±å°è¯•ã€‚
- æ¯æ¬¡æç¤ºé¡»å…·ä½“å¯æ“ä½œï¼Œé¿å…ç©ºæ³›å»ºè®®ã€‚`;Tt(d("stuckHint"),`Student clicked 'I'm Stuck'. Context: ${Rt}${ir}
${Xt?`
${Xt}`:""}${_r}${Lr}

CRITICAL: Give hints STEP BY STEP, not all at once.
- Give ONLY ONE hint/guidance point in this response (2-3 sentences, max 100 chars)
- Wait for the student to respond or try before giving the next hint
- Only discuss the CURRENT step/task; do NOT mention other task types
- Do NOT give the answer directly
- Do NOT list multiple hints in one response - focus on ONE key point`),b("stuck_clicked",{guidedStep:Dt,isGuidedVideoFlow:it}).catch(()=>{})},nr=()=>{if(at.current)return;const dt=Date.now();if(mn!==null&&As&&dt-mn<300*1e3&&(sn(ir=>ir+1),Ji(!1)),ji(dt),b("step_completed",{guidedStep:Dt,isGuidedVideoFlow:it}).catch(()=>{}),it){if(Dt===5&&!Ft){const fr=o==="en"?"Please complete all exit ticket questions before finishing this step.":"è¯·å…ˆå®Œæˆå‡ºé—¨æ¡å…¨éƒ¨é¢˜ç›®ï¼Œå†ç‚¹å‡»â€œæˆ‘åšå®Œäº†â€ã€‚";window.alert(fr);return}at.current=!0;const Xt=[d("guidedStep1"),d("guidedStep2"),d("guidedStep3"),d("guidedStep4"),d("guidedStep5")][Dt-1]||`æ­¥éª¤${Dt}`,_r=Jr(),Lr=Dt<=2;if(Lr){const xn=d(Dt===1?"guidedStep1PresetReplies":"guidedStep2PresetReplies",{returnObjects:!0}),Bn=Array.isArray(xn)&&xn.length>0?xn[Math.floor(Math.random()*xn.length)]:o==="zh"?"å¾ˆå¥½ï¼ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›å…¥ä¸‹ä¸€æ­¥ã€‚":"Great! Click the button below to continue.",un=Date.now(),qn={role:"user",text:d("guidedDoneStep",{step:Xt}),timestamp:un},Fn={role:"model",text:`${Bn} [STEP_PASS]`,timestamp:un};j(Es=>[...Es,qn,Fn]),at.current=!1,setTimeout(()=>{$e.current&&($e.current.scrollTop=$e.current.scrollHeight)},50);return}const fn=Dt===4&&Object.keys(Tn).length>0?Object.entries(Tn).filter(([,fr])=>!!fr).sort((fr,xn)=>Number(fr[0])-Number(xn[0])).map(([,fr])=>fr):[],dn=`Student clicked 'I'm Done' for guided step ${Dt}: "${Xt}".
Task: ${Ie.title}
Goal: ${Ie.outputGoal}
${_r}

STEP VERIFICATION PROTOCOL (guided flow):
- You are verifying step ${Dt}/5: "${Xt}".
- ${Lr?"This is a lightweight step (reading/watching). Acknowledge and approve directly.":Dt===4&&fn.length>0?"Review the student's practice answers. HANDWRITTEN IMAGES are attached - compare each answer with the provided reference answer, judge correctness, and give specific encouraging feedback.":"Review the student's work for this step. Be encouraging but check completeness."}
- Language: vivid but concise, 2-4 sentences, max 100 chars. Output in ${o==="en"?"English":"Simplified Chinese"} only.
- Do NOT mention other steps, mindmaps, or unrelated concepts.
- Do NOT repeat content from previous messages.
- CRITICAL: If the step is satisfactorily completed, you MUST end your response with the EXACT marker: [STEP_PASS]
  This marker tells the system to show a "${o==="en"?"Next Step":"è¿›å…¥ä¸‹ä¸€æ­¥"}" button.
- If the step is NOT complete, give ONE specific suggestion to improve, then encourage retry. Do NOT include [STEP_PASS].
- Do NOT include [STEP_PASS] unless you truly approve this step.`;Tt(d("guidedDoneStep",{step:Xt}),dn,fn.length>0?fn:void 0);return}const Rt=st();Tt(d("guidedDoneTask"),`Student clicked 'I'm Done'. Context: ${Rt}. 
Evaluation Criteria: ${Ie.evaluationCriteria}. 
Output Goal: ${Ie.outputGoal}

CRITICAL TASK COMPLETION PROTOCOL:
1. First, review their work against the outputGoal: "${Ie.outputGoal}"
2. If their work meets the core requirements, give positive feedback
3. If there are gaps, provide 1-2 specific improvement suggestions (but don't be overly strict)
4. MOST IMPORTANT: After evaluation, if the task is substantially complete, you MUST explicitly tell the student (in ${o==="en"?"English":"Chinese"}):
   ${o==="en"?`"Great! You have completed this task. You can click the 'Next Task' button to continue."`:`"å¾ˆå¥½ï¼ä½ å·²ç»å®Œæˆäº†è¿™ä¸ªä»»åŠ¡ã€‚ä½ å¯ä»¥ç‚¹å‡»'ä¸‹ä¸€ä¸ªä»»åŠ¡'æŒ‰é’®ç»§ç»­å­¦ä¹ äº†ã€‚"`}
5. Do NOT continue asking questions or requesting more work if the core goal is met
6. Allow students to move forward even if their work isn't perfect - learning is iterative
7. Give immediate positive feedback on what they did well before any suggestions`)},mr=async()=>{if(!_&&g<e.tasks.length-1){const dt=Ie,Rt=st(),ir=g+1,Xt=e.tasks[ir];fe(!1),qe.current.add(ir),v(ir);const _r=Math.round((g+1)/e.tasks.length*100);f(_r,!1,ir),typeof window<"u"&&localStorage.setItem("currentTaskIndex",ir.toString()),Pi({mindMap:0,table:0,text:0,math:0}),ji(null),Ji(!1),setTimeout(()=>{$e.current&&($e.current.scrollTop=$e.current.scrollHeight)},100);const Lr=o==="en"?`You are the student's learning tutor. Generate a short transition feedback using the context below.

[Previous task]
- Title: ${dt.title}
- Goal: ${dt.outputGoal}
- Evaluation criteria: ${dt.evaluationCriteria}
- Current student state: ${Rt}

[Next task]
- Title: ${Xt?.title||"Next task"}
- Goal: ${Xt?.outputGoal||"Please read the task instruction"}

Requirements:
1) First sentence: affirm the previous step (praise + 1 practical suggestion)
2) Second sentence: guide what to do first in the next step
3) Warm and concise, no Markdown, 2-3 sentences
4) English ONLY. Do not use Chinese.
5) Do not ask the student to redo completed work.`:`ä½ æ˜¯å­¦ç”Ÿçš„å­¦ä¹ å¯¼å¸ˆã€‚è¯·åŸºäºŽä»¥ä¸‹ä¸Šä¸‹æ–‡ï¼Œè¾“å‡ºä¸€æ®µâ€œè¿‡æ¸¡åé¦ˆâ€ï¼š

ã€ä¸Šä¸€æ­¥ä»»åŠ¡ã€‘
- æ ‡é¢˜ï¼š${dt.title}
- ç›®æ ‡ï¼š${dt.outputGoal}
- è¯„ä»·æ ‡å‡†ï¼š${dt.evaluationCriteria}
- å­¦ç”Ÿå½“å‰å®ŒæˆçŠ¶æ€ï¼š${Rt}

ã€ä¸‹ä¸€æ­¥ä»»åŠ¡ã€‘
- æ ‡é¢˜ï¼š${Xt?.title||"ä¸‹ä¸€ä»»åŠ¡"}
- ç›®æ ‡ï¼š${Xt?.outputGoal||"è¯·é˜…è¯»ä»»åŠ¡è¯´æ˜Ž"}

è¾“å‡ºè¦æ±‚ï¼ˆå¿…é¡»åŒæ—¶åŒ…å«ï¼‰ï¼š
1) å…ˆç”¨ 1 å¥è¯è¯„ä»·å­¦ç”Ÿåˆšå®Œæˆçš„ä¸Šä¸€æ­¥ï¼ˆè‚¯å®š + 1æ¡å»ºè®®ï¼‰
2) å†ç”¨ 1 å¥è¯å¼•å¯¼ä¸‹ä¸€æ­¥ï¼ˆå‘Šè¯‰ä»–å…ˆåšä»€ä¹ˆï¼‰
3) è¯­æ°”æ¸©æš–ã€ç”ŸåŠ¨ä½†ç®€æ´ï¼›ä¸ä½¿ç”¨ Markdownï¼›æ€»é•¿åº¦ 60-100 å­—
4) ä¸è¦è¦æ±‚å­¦ç”Ÿè¿”å›žé‡åšï¼›ä¸è¦é‡å¤å‰é¢æ¶ˆæ¯ä¸­å·²è¯´è¿‡çš„å†…å®¹

CRITICAL: Output language must be ç®€ä½“ä¸­æ–‡ only.
`;try{N(!0);const fn=await sendChatMessage(w,o==="en"?"System event: student clicked Next":"ç³»ç»Ÿäº‹ä»¶ï¼šå­¦ç”Ÿç‚¹å‡»äº†â€œä¸‹ä¸€æ­¥â€",Lr,o,Ie.tutorConfig.twinId?{twinId:Ie.tutorConfig.twinId}:void 0),dn=Date.now();j(fr=>[...fr,{role:"model",text:fn,timestamp:dn}]),Mt(`AI Transition: "${fn.substring(0,40)}..."`),ki&&Js&&Ki&&setTimeout(()=>{me(fn).catch(fr=>{console.warn("Transition voice failed:",fr)})},300)}catch(fn){console.error("Transition guidance failed:",fn)}finally{N(!1)}}},Or=()=>{if(!_&&g>0){const dt=g-1;fe(!1),qe.current.add(dt),v(dt);const Rt=Math.round((dt+1)/e.tasks.length*100);f(Rt,!1,dt),typeof window<"u"&&localStorage.setItem("currentTaskIndex",dt.toString()),Pi({mindMap:0,table:0,text:0,math:0}),ji(null),Ji(!1),setTimeout(()=>{$e.current&&($e.current.scrollTop=$e.current.scrollHeight)},100)}},Fr=dt=>{if(_||dt<0||dt>=e.tasks.length||dt===g)return;fe(!1),qe.current.add(dt),v(dt);const Rt=Math.round((dt+1)/e.tasks.length*100);f(Rt,!1,dt),typeof window<"u"&&localStorage.setItem("currentTaskIndex",dt.toString()),Pi({mindMap:0,table:0,text:0,math:0}),ji(null),Ji(!1),setTimeout(()=>{$e.current&&($e.current.scrollTop=$e.current.scrollHeight)},100)},Jr=()=>{const Rt=[d("guidedStep1"),d("guidedStep2"),d("guidedStep3"),d("guidedStep4"),d("guidedStep5")][Dt-1]||`æ­¥éª¤${Dt}`;if(Dt===1)return`å½“å‰æ­¥éª¤ã€Œ${Rt}ã€ï¼šå­¦ç”Ÿå·²é˜…è¯»å­¦ä¹ ç›®æ ‡ã€‚`;if(Dt===2)return`å½“å‰æ­¥éª¤ã€Œ${Rt}ã€ï¼šå­¦ç”Ÿå·²å®Œæˆè‡ªä¸»å­¦ä¹ ã€‚`;if(Dt===3){const ir=Nt.reduce((Lr,fn)=>{const dn=Math.max(0,fn.text.split("__KEY__").length-1);return Lr+(dn>0?dn:1)},0),Xt=Nt.reduce((Lr,fn,dn)=>{const fr=Math.max(0,fn.text.split("__KEY__").length-1);return fr>0?Lr+Array.from({length:fr}).filter((xn,Bn)=>(jn[`blank-${dn}-${Bn}`]||"").trim().length>0).length:Lr+((jn[`idea-${dn}`]||"").trim().length>0?1:0)},0),_r=Nt.map((Lr,fn)=>{const dn=Math.max(0,Lr.text.split("__KEY__").length-1);return dn>0?Array.from({length:dn}).map((fr,xn)=>jn[`blank-${fn}-${xn}`]||""):[jn[`idea-${fn}`]||""]});return`å½“å‰æ­¥éª¤ã€Œ${Rt}ã€ï¼šå¡«ç©ºå®Œæˆ ${Xt}/${ir}ã€‚å­¦ç”Ÿç­”æ¡ˆï¼š${JSON.stringify(_r)}`}if(Dt===4){const ir=lt.length,Xt=lt.filter((fr,xn)=>{const Bn=extractQuestionStemAndOptions(fr.question||"",fr.options);return fr.questionType==="true_false"||!Bn.options?.length&&/^(true|false)$/i.test((fr.correctAnswer||"").trim())||Bn.options.length>0?typeof Dr[xn]=="number":(Kn[xn]||"").trim().length>0||!!Tn[xn]}).length;let _r=0;const Lr=o==="en"?["True","False"]:["å¯¹","é”™"],fn=lt.map((fr,xn)=>{const Bn=extractQuestionStemAndOptions(fr.question||"",fr.options),un=fr.correctAnswer?`å‚è€ƒç­”æ¡ˆï¼š${fr.correctAnswer}`:"";return(fr.questionType==="true_false"||!Bn.options?.length&&/^(true|false)$/i.test((fr.correctAnswer||"").trim()))&&typeof Dr[xn]=="number"?`Q${xn+1}: ${Lr[Dr[xn]]} ${un}`:Bn.options.length>0&&typeof Dr[xn]=="number"?`Q${xn+1}: ${String.fromCharCode(65+Dr[xn])}. ${Bn.options[Dr[xn]]||""} ${un}`:Tn[xn]?(_r+=1,`Q${xn+1}: [æ‰‹å†™ç­”æ¡ˆï¼Œè§é™„ä»¶å›¾ç‰‡${_r}] ${un}`):`Q${xn+1}: ${Kn[xn]||"(æœªç­”)"} ${un}`}),dn=_r>0?" é™„ä»¶ä¸­æœ‰æ‰‹å†™ç­”æ¡ˆå›¾ç‰‡ï¼ŒæŒ‰é¡ºåºå¯¹åº”ä¸Šè¿°é¢˜ç›®ã€‚è¯·æŸ¥çœ‹å›¾ç‰‡ï¼Œå¯¹æ¯”å‚è€ƒç­”æ¡ˆåˆ¤æ–­å¯¹é”™å¹¶ç»™å‡ºé’ˆå¯¹æ€§åé¦ˆã€‚":"";return`å½“å‰æ­¥éª¤ã€Œ${Rt}ã€ï¼šå®Œæˆ ${Xt}/${ir}ã€‚é¢˜ç›®ä¸Žç­”æ¡ˆï¼š${fn.join("ï¼›")}${dn}`}if(Dt===5){const ir=tr.map((Xt,_r)=>({question:Xt.question,answer:(Bs[_r]??(_r===0?Hs:"")).trim()||"(ç©º)"}));return`å½“å‰æ­¥éª¤ã€Œ${Rt}ã€ï¼šå­¦ç”Ÿå‡ºé—¨æ¡å›žç­”ï¼š${JSON.stringify(ir)}`}return`å½“å‰æ­¥éª¤ã€Œ${Rt}ã€ï¼šå­¦ç”Ÿå·²å®Œæˆã€‚`},Pn=()=>{if(Dt<5){const dt=Dt+1;Zr(Rt=>Math.max(Rt,dt)),dt===5&&(pt.current=w.length),Tr(dt)}else g<e.tasks.length-1?mr():ws()},Xn=dt=>["ä»»åŠ¡å®Œæˆ","å¯ä»¥ç‚¹å‡».*ä¸‹ä¸€ä¸ªä»»åŠ¡","å¯ä»¥è¿›å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡","ä¸‹ä¸€ä¸ªä»»åŠ¡.*æŒ‰é’®","å®Œæˆäº†è¿™ä¸ªä»»åŠ¡","å¯ä»¥ç‚¹å‡».*ä¸‹ä¸€ä¸ª","è¿›å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡"].some(ir=>{try{return new RegExp(ir,"i").test(dt)}catch{return dt.includes(ir)}});reactExports.useEffect(()=>{const dt=["ä»»åŠ¡å®Œæˆ","å¯ä»¥ç‚¹å‡».*ä¸‹ä¸€ä¸ªä»»åŠ¡","å¯ä»¥è¿›å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡","ä¸‹ä¸€ä¸ªä»»åŠ¡.*æŒ‰é’®","å®Œæˆäº†è¿™ä¸ªä»»åŠ¡","å¯ä»¥ç‚¹å‡».*ä¸‹ä¸€ä¸ª","è¿›å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡"],Rt=ir=>dt.some(Xt=>{try{return new RegExp(Xt,"i").test(ir)}catch{return ir.includes(Xt)}});w.forEach(ir=>{ir.role==="model"&&Rt(ir.text)&&Ra(Xt=>Xt.has(g)?Xt:new Set([...Xt,g]))})},[w,g]);const ts=(dt,Rt,ir)=>{const Xt=[];Rt.map(pn=>{try{const In=pn.match(/\[(\d{2}):(\d{2}):(\d{2})\]/);if(In&&In.length>=4){const ai=parseInt(In[1],10),rl=parseInt(In[2],10),ja=parseInt(In[3],10);if(!isNaN(ai)&&!isNaN(rl)&&!isNaN(ja)){const $a=ai*3600+rl*60+ja;return Xt.push($a),{timestamp:$a,text:pn}}}}catch{}return{timestamp:0,text:pn}});const _r=Xt.filter(pn=>pn>0).sort((pn,In)=>pn-In),Lr=[];for(let pn=1;pn<_r.length;pn++){const In=_r[pn]-_r[pn-1];In>0&&In<86400&&Lr.push(In)}const fn=dt.filter(pn=>pn.role==="user").map(pn=>pn.text),dn=fn.map(pn=>pn.length),fr=dn.length>0?dn.reduce((pn,In)=>pn+In,0)/dn.length:0,xn=["?","ï¼Ÿ","ä»€ä¹ˆ","ä¸ºä»€ä¹ˆ","å¦‚ä½•","æ€Žä¹ˆ","æ€Žæ ·","èƒ½å¦","å¯ä»¥å—"],Bn=fn.filter(pn=>xn.some(In=>pn.includes(In))).length,un=Rt.filter(pn=>pn.includes("æˆ‘å¡ä½äº†")||pn.includes("stuck")).length,qn=Rt.filter(pn=>pn.includes("æˆ‘åšå®Œäº†")||pn.includes("done")).length,Fn=Rt.filter(pn=>pn.includes("è¯·æ±‚è¯„ä»·")||pn.includes("evaluate")||pn.includes("feedback")).length,Es=Rt.filter(pn=>pn.includes("mindmap")||pn.includes("æ€ç»´å¯¼å›¾")).length,Jn=Rt.filter(pn=>pn.includes("table")||pn.includes("è¡¨æ ¼")).length,ms=Rt.filter(pn=>pn.includes("text")||pn.includes("æ–‡æœ¬")).length,Ps=Rt.filter(pn=>pn.includes("math")||pn.includes("æ•°å­¦")).length,Vi=Es+Jn+ms+Ps,as=Rt.filter(pn=>pn.includes("Started Task")||pn.includes("ä»»åŠ¡")).length,Mi=_r.length>0&&_r[_r.length-1]>_r[0]?_r[_r.length-1]-_r[0]:0,ks=Lr.length>0?Lr.reduce((pn,In)=>pn+In,0)/Lr.length:0,ls=Lr.filter(pn=>pn>300).length,$i=Lr.filter(pn=>pn<30).length;return{averageInputLength:isNaN(fr)?0:fr,totalInputs:fn.length||0,shortInputs:dn.filter(pn=>pn<10).length||0,longInputs:dn.filter(pn=>pn>200).length||0,totalQuestions:Bn||0,stuckClicks:un||0,doneClicks:qn||0,evaluateClicks:Fn||0,totalSessionTime:isNaN(Mi)?0:Mi,averageTimeBetweenActions:isNaN(ks)?0:ks,longGaps:ls||0,shortGaps:$i||0,totalEdits:Vi||0,mindMapEdits:Es||0,tableEdits:Jn||0,textEdits:ms||0,mathEdits:Ps||0,tasksCompleted:ir||0,tasksSkipped:0,taskSwitchCount:as||0}},ws=async()=>{const dt=wt==="mindmap_editor"?H:void 0,Rt=B.join(`
`);let ir;try{ir=ts(w,B,e.tasks.length),console.log("[StudentConsole] Extracted objective metrics:",ir)}catch(Xt){console.error("[StudentConsole] Error extracting objective metrics:",Xt),ir=void 0}f(100,!0,e.tasks.length-1),b("course_completed",{totalTasks:e.tasks.length}).catch(()=>{}),Si(Rt),dt&&Gs(dt),wa(!0),Gt(null);try{console.log("[StudentConsole] Calling generateExitTicket with:",{logLength:Rt.length,studentName:$s,hasObjectiveMetrics:!!ir});const Xt=await generateExitTicket(Rt,o,$s,ir);console.log("[StudentConsole] Exit ticket generated successfully"),Gt(Xt),Xt&&Array.isArray(Xt.characteristics)&&Xt.characteristics.length>0&&hn(Xt.characteristics[0].key)}catch(Xt){console.error("[StudentConsole] Error generating exit ticket:",Xt),Xt instanceof Error&&(console.error("[StudentConsole] Error message:",Xt.message),console.error("[StudentConsole] Error stack:",Xt.stack)),Gt(null)}},bt=()=>{wa(!1),Gt(null),Si(""),Gs(null),v(0),typeof window<"u"&&localStorage.removeItem("currentTaskIndex"),j([]),M([]),le(""),ar({columns:[],rows:[]}),Cn(""),Br(""),ue(null),He([]),ze(!1),tt(""),Pi({mindMap:0,table:0,text:0,math:0})},Dn=()=>{typeof window<"u"&&(window.close(),setTimeout(()=>{document.hidden||(window.location.href="/")},100))};if(aa&&!oa)return jsxRuntimeExports.jsxs("div",{className:"relative min-h-screen bg-slate-50 flex flex-col p-6 text-slate-800 font-sans overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"z-10 flex flex-col items-center justify-center flex-shrink-0",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-16 h-16 text-cyan-600 animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-2",children:d("processing")}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 mb-4 leading-relaxed border-l-2 border-cyan-500 pl-4 text-left italic bg-white p-4 rounded-r-lg shadow-sm max-w-md",children:d("processingTip")}),jsxRuntimeExports.jsx("div",{className:"h-1 w-48 bg-slate-200 rounded-full mx-auto overflow-hidden mb-6",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-cyan-500 animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite] w-full origin-left"})})]}),(B.length>0||w.length>0)&&jsxRuntimeExports.jsxs("div",{className:"flex-1 min-h-0 flex flex-col max-w-2xl mx-auto w-full",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-bold text-slate-600 mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{size:16})," å­¦ä¹ è¿‡ç¨‹å›žé¡¾"]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto bg-white rounded-2xl border border-slate-200 shadow-sm p-4 space-y-4",children:[B.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-2",children:"æ€ç»´æ—¥å¿—"}),jsxRuntimeExports.jsx("div",{className:"space-y-1.5 text-sm text-slate-700",children:B.slice(-12).map((dt,Rt)=>jsxRuntimeExports.jsx("div",{className:"pl-3 border-l-2 border-amber-200 py-0.5",children:dt},Rt))})]}),w.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-cyan-600 uppercase tracking-wider mb-2",children:"å¯¹è¯æ‘˜è¦"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto text-sm",children:w.slice(-8).map((dt,Rt)=>jsxRuntimeExports.jsxs("div",{className:`px-3 py-2 rounded-lg ${dt.role==="user"?"bg-emerald-50 text-slate-800":"bg-slate-50 text-slate-700"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase opacity-70",children:dt.role==="user"?"æˆ‘":Ks||d("aiSystem")}),jsxRuntimeExports.jsxs("div",{className:"mt-0.5 line-clamp-2",children:[dt.text.slice(0,120),dt.text.length>120?"â€¦":""]})]},Rt))})]})]})]})]});if(aa&&oa){const dt=oa.characteristics.map(Xt=>({subject:Xt.name,A:Xt.score,fullMark:100,key:Xt.key})),Rt=oa.characteristics.find(Xt=>Xt.key===Ar),ir=Rt?Rt.dimensions.map(Xt=>({name:Xt.name.split(" ")[0],fullName:Xt.name,score:Xt.score,comment:Xt.comment})):[];return jsxRuntimeExports.jsx("div",{className:"relative min-h-screen bg-slate-50 p-6 text-slate-800 font-sans overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-100 mb-4 border border-emerald-200",children:jsxRuntimeExports.jsx(Award,{size:32,className:"text-emerald-600"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:d("sessionComplete")}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 uppercase tracking-widest text-xs",children:d("ticketGenerated")})]}),jsxRuntimeExports.jsx("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl transition-all hover:shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-none w-full md:w-auto md:min-w-[200px] text-center md:text-left md:border-r border-slate-100 md:pr-8 pb-6 md:pb-0 border-b md:border-b-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-xs uppercase font-bold text-slate-400 mb-3",children:d("masteryScore")}),jsxRuntimeExports.jsxs("div",{className:"flex items-baseline justify-center md:justify-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-7xl font-bold text-emerald-600 tracking-tighter",children:oa.overallScore}),jsxRuntimeExports.jsx("span",{className:"text-xl text-slate-400 font-medium",children:"/100"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xs uppercase font-bold text-slate-400 mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Star,{size:14,className:"text-amber-500"})," ",d("keyTakeaway")]}),jsxRuntimeExports.jsx("p",{className:"text-lg leading-relaxed text-slate-800 font-medium",children:oa.summary})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-white p-8 rounded-3xl border border-indigo-100 shadow-lg",children:[jsxRuntimeExports.jsxs("h3",{className:"text-indigo-700 font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wider",children:[jsxRuntimeExports.jsx(List$1,{size:18})," ",d("nextSteps")]}),jsxRuntimeExports.jsx("p",{className:"text-slate-700 text-md leading-relaxed",children:oa.nextSteps})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-bold text-slate-500 mb-8 uppercase w-full flex items-center gap-2 border-b border-slate-100 pb-4",children:[jsxRuntimeExports.jsx(Activity,{size:18,className:"text-purple-600"})," ",d("radarTitle")]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"h-72 w-full relative",children:[jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(RadarChart,{cx:"50%",cy:"50%",outerRadius:"75%",data:dt,children:[jsxRuntimeExports.jsx(PolarGrid,{stroke:"#e2e8f0"}),jsxRuntimeExports.jsx(PolarAngleAxis,{dataKey:"subject",tick:{fill:"#64748b",fontSize:12,fontWeight:"bold"}}),jsxRuntimeExports.jsx(PolarRadiusAxis,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),jsxRuntimeExports.jsx(Radar,{name:$s,dataKey:"A",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})}),jsxRuntimeExports.jsx("div",{className:"text-center text-xs text-slate-400 mt-2",children:"ç‚¹å‡»å³ä¾§å¡ç‰‡æŸ¥çœ‹è¯¦æƒ… â†’"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:oa.characteristics.map(Xt=>jsxRuntimeExports.jsxs("button",{onClick:()=>hn(Xt.key),className:`p-4 rounded-xl border text-left transition-all ${Ar===Xt.key?"bg-purple-50 border-purple-300 ring-2 ring-purple-200 shadow-sm":"bg-slate-50 border-slate-200 hover:bg-white hover:shadow-md"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Yt(Xt.key),jsxRuntimeExports.jsx("span",{className:"text-xl font-bold text-slate-800",children:Xt.score})]}),jsxRuntimeExports.jsx("div",{className:"text-xs font-bold text-slate-600",children:Xt.name})]},Xt.key))})]}),Rt&&jsxRuntimeExports.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 animate-fade-in-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[Yt(Rt.key),jsxRuntimeExports.jsxs("h3",{className:"font-bold text-lg text-slate-800",children:[Rt.name," - ç»´åº¦åˆ†æž"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsx("div",{className:"h-60 w-full bg-slate-50 rounded-xl p-4 border border-slate-100",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:ir,layout:"vertical",children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",horizontal:!1}),jsxRuntimeExports.jsx(XAxis,{type:"number",domain:[0,100],hide:!0}),jsxRuntimeExports.jsx(YAxis,{dataKey:"fullName",type:"category",width:120,tick:{fontSize:11,fill:"#64748b"},interval:0}),jsxRuntimeExports.jsx(Tooltip,{cursor:{fill:"transparent"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"score",fill:"#10b981",radius:[0,4,4,0],barSize:20})]})})}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Rt.dimensions.map((Xt,_r)=>jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-bold bg-white border border-slate-200 px-2 py-0.5 rounded text-slate-600",children:Xt.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-emerald-600",children:[Xt.score,"/100"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:Xt.comment})]},_r))})]})]})]}),e.learningGoals&&e.learningGoals.length>0||e.bigConcept?jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white p-8 rounded-3xl border border-amber-100 shadow-lg",children:[jsxRuntimeExports.jsxs("h3",{className:"text-amber-700 font-bold mb-6 flex items-center gap-2 text-sm uppercase tracking-wider",children:[jsxRuntimeExports.jsx(BookOpen,{size:18})," å­¦ä¹ å›žé¡¾"]}),e.bigConcept&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-amber-600 mb-2 uppercase tracking-wider",children:"å¤§æ¦‚å¿µ"}),jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-xl border border-amber-200",children:jsxRuntimeExports.jsx("div",{className:"text-slate-700 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:e.bigConcept})})})]}),e.learningGoals&&e.learningGoals.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-amber-600 mb-3 uppercase tracking-wider",children:"å­¦ä¹ ç›®æ ‡"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:e.learningGoals.map((Xt,_r)=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-xl border border-amber-200 flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center text-xs font-bold",children:_r+1}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"text-slate-700 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Xt.text})})})]},Xt.id||_r))})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-xs text-amber-600 italic",children:"ðŸ’¡ å›žé¡¾è¿™äº›æ ¸å¿ƒæ¦‚å¿µå’Œç›®æ ‡ï¼Œçœ‹çœ‹æ‚¨æ˜¯å¦å·²ç»æŽŒæ¡äº†å®ƒä»¬"})]}):null,jsxRuntimeExports.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-xl",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xs uppercase font-bold text-slate-400 mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(List$1,{size:14})," ",d("systemLog")]}),jsxRuntimeExports.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200 max-h-60 overflow-y-auto font-mono text-[11px] text-slate-500 leading-normal custom-scrollbar",children:Xs.split(`
`).map((Xt,_r)=>jsxRuntimeExports.jsx("div",{className:"mb-2 border-l-2 border-slate-300 pl-3",children:Xt},_r))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 pt-8 pb-12",children:[jsxRuntimeExports.jsxs("button",{onClick:bt,className:"px-8 py-4 bg-cyan-600 hover:bg-cyan-700 rounded-full text-white font-bold transition-all shadow-lg hover:shadow-cyan-600/30 flex items-center gap-3 transform hover:-translate-y-1 active:translate-y-0",children:[jsxRuntimeExports.jsx(RefreshCcw,{size:20})," ",d("restartLearning")]}),jsxRuntimeExports.jsxs("button",{onClick:Dn,className:"px-8 py-4 bg-slate-600 hover:bg-slate-700 rounded-full text-white font-bold transition-all shadow-lg hover:shadow-slate-600/30 flex items-center gap-3 transform hover:-translate-y-1 active:translate-y-0",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:20})," ",d("endLearning")]})]})]})})}const Is=()=>{if(it){const dt=Ie.externalResourceUrl||(typeof Ae=="string"?Ae:"")||"",Rt=Ie.videoPlatform,ir=Ie.externalResourceId?.trim(),Xt=Rt==="youtube"&&ir?ir:Rt!=="bilibili"?extractYouTubeVideoId(dt):null,_r=Rt==="bilibili"&&ir?ir:Rt!=="youtube"?extractBilibiliBvid(dt):null,Lr=Rt==="youtube"&&Xt||!Rt&&Xt,fn=Rt==="bilibili"&&_r||!Rt&&_r&&!Xt,dn=[d("guidedStep1"),d("guidedStep2"),d("guidedStep3"),d("guidedStep4"),d("guidedStep5")];return jsxRuntimeExports.jsxs("div",{className:"w-full h-full bg-slate-50/30 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 border-b border-slate-200 bg-white",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 gap-2",children:dn.map((fr,xn)=>{const Bn=xn+1,un=Dt===Bn,qn=Bn<=qr,Fn=qn;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{Fn&&Tr(Bn)},disabled:!Fn&&!un,className:`rounded-md border px-2 py-2 text-[11px] font-medium transition-colors ${un?"bg-cyan-100 border-cyan-300 text-cyan-800":qn?"bg-emerald-50 border-emerald-200 text-emerald-700 cursor-pointer hover:bg-emerald-100":"bg-white border-slate-200 text-slate-400 cursor-not-allowed"}`,children:[qn&&!un&&jsxRuntimeExports.jsx(CircleCheckBig,{size:10,className:"inline mr-1 -mt-0.5"}),Bn,". ",fr]},fr)})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-5",children:[Dt===1&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-3",children:d("guidedStep1")}),jsxRuntimeExports.jsxs("div",{className:"text-slate-700 leading-relaxed space-y-4",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsxs("strong",{children:[d("learningObjective"),"ï¼š"]}),jsxRuntimeExports.jsx(MathTextPreview,{text:At?.learningObjective||Ie.outputGoal||d("learnObjectivePlaceholder"),className:"inline [&_p]:inline [&_p]:mb-0"})]}),At?.whyItMatters?.meaning_anchor&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:d("whyLearnThis")})," ",jsxRuntimeExports.jsx(MathTextPreview,{text:At.whyItMatters.meaning_anchor,className:"inline [&_p]:inline [&_p]:mb-0"})]}),At?.whyItMatters?.advance_organizer&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:d("whatToLearn")})," ",jsxRuntimeExports.jsx(MathTextPreview,{text:At.whyItMatters.advance_organizer,className:"inline [&_p]:inline [&_p]:mb-0"})]})]})]}),Dt===2&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-3 px-2",children:d("guidedStep2")}),jsxRuntimeExports.jsx("div",{className:"rounded-lg overflow-hidden bg-black/80",children:At?.customTextInstruction?.trim()&&!dt?jsxRuntimeExports.jsx("div",{className:"p-6 bg-slate-100 text-slate-800 min-h-[120px]",children:jsxRuntimeExports.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",children:jsxRuntimeExports.jsx(MathTextPreview,{text:At.customTextInstruction.trim()})})}):At?.resourceKind==="document"&&At?.convertedHtml?.trim()?jsxRuntimeExports.jsx("div",{className:"p-6 bg-white text-slate-800 prose prose-sm max-w-none min-h-[120px] overflow-y-auto",dangerouslySetInnerHTML:{__html:At.convertedHtml}}):At?.resourceKind==="document"&&dt?(()=>{const fr=(At?.resourceMimeType||"").toLowerCase(),Bn=fr.includes("document")||fr.includes("wordprocessing")||fr.includes("presentation")||fr.includes("powerpoint")?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(dt)}`:dt;return jsxRuntimeExports.jsx("iframe",{src:Bn,title:d("instructionalVideo"),className:"w-full min-h-[60vh] border-0",allowFullScreen:!0})})():Lr?jsxRuntimeExports.jsx("iframe",{src:`https://www.youtube.com/embed/${Xt}`,title:d("instructionalVideo"),className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):fn?jsxRuntimeExports.jsx("iframe",{src:`https://player.bilibili.com/player.html?bvid=${_r}&p=1&danmaku=0`,title:d("instructionalVideo"),className:"w-full aspect-video",scrolling:"no",frameBorder:"0",allowFullScreen:!0}):dt?jsxRuntimeExports.jsx("video",{controls:!0,className:"w-full aspect-video",src:dt,children:d("browserNoVideo")}):jsxRuntimeExports.jsx("div",{className:"aspect-video flex items-center justify-center text-slate-300 text-sm",children:d("noVideoAvailable")})})]}),Dt===3&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:d("guidedStep3")}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500 mb-4",children:d("fillKeywordHint")}),jsxRuntimeExports.jsx("div",{className:"space-y-5",children:Nt.map((fr,xn)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 w-7 h-7 rounded-full bg-emerald-500 text-white text-xs font-bold flex items-center justify-center shrink-0",children:xn+1}),jsxRuntimeExports.jsxs("div",{className:"flex-1 rounded-lg border border-slate-200 p-4 bg-white shadow-sm",children:[(()=>{const Bn=fr.text.split("__KEY__");return Math.max(0,Bn.length-1)>0?jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-700 leading-8 flex flex-wrap items-center",children:Bn.map((qn,Fn)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(MathTextPreview,{text:qn,className:"inline text-sm text-slate-700 [&_p]:inline [&_p]:mb-0 [&>div]:inline"}),Fn<Bn.length-1&&jsxRuntimeExports.jsx("input",{type:"text",value:jn[`blank-${xn}-${Fn}`]||"",onChange:Es=>rn(Jn=>({...Jn,[`blank-${xn}-${Fn}`]:Es.target.value})),placeholder:`${Fn+1}`,className:"mx-1 inline-block h-7 min-w-[72px] max-w-[120px] rounded-md border border-emerald-300 bg-emerald-50 px-2 text-xs text-emerald-700 align-middle focus:outline-none focus:ring-2 focus:ring-emerald-200"})]},Fn))}):jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-sm text-slate-700 leading-7",children:[jsxRuntimeExports.jsx(MathTextPreview,{text:fr.text,className:"text-sm text-slate-700"}),jsxRuntimeExports.jsx("input",{type:"text",value:jn[`idea-${xn}`]||"",onChange:qn=>rn(Fn=>({...Fn,[`idea-${xn}`]:qn.target.value})),placeholder:d("fillBlank"),className:"inline-block h-7 min-w-[72px] max-w-[120px] rounded-md border border-emerald-300 bg-emerald-50 px-2 text-xs text-emerald-700 align-middle focus:outline-none focus:ring-2 focus:ring-emerald-200"})]})})(),fr.blanks&&fr.blanks.length>0&&gi&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500 mt-3 flex gap-1 items-start",children:[jsxRuntimeExports.jsx("span",{children:"å‚è€ƒå…³é”®è¯ï¼š"}),jsxRuntimeExports.jsx(MathTextPreview,{text:fr.blanks.join("ã€"),className:"text-xs text-slate-500 [&_p]:mb-0 inline"})]})]})]},xn))})]}),Dt===4&&lt.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800",children:d("guidedStep4")}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-500",children:["ç¬¬ ",ui+1," / ",lt.length," é¢˜"]})]}),(()=>{const fr=ui,xn=lt[fr],Bn=extractQuestionStemAndOptions(xn.question||"",xn.options),un=ps[fr]||"text",qn=!!Tn[fr],Fn=xn.questionType==="true_false"||!Bn.options?.length&&/^(true|false)$/i.test((xn.correctAnswer||"").trim()),Es=o==="en"?["True","False"]:["å¯¹","é”™"];return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-slate-200 p-4 bg-slate-50/60",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-semibold text-slate-800 mb-3 flex gap-1",children:[jsxRuntimeExports.jsxs("span",{children:[fr+1,"."]}),jsxRuntimeExports.jsx(MathTextPreview,{text:Bn.stem,className:"text-sm font-semibold text-slate-800 [&_p]:mb-0"})]}),Fn?jsxRuntimeExports.jsx("div",{className:"flex gap-4 mt-3",role:"radiogroup","aria-label":o==="en"?"True or False":"å¯¹æˆ–é”™",children:[0,1].map(Jn=>{const ms=Dr[fr]===Jn,Ps=Es[Jn],Vi=Jn===0?Check:X;return jsxRuntimeExports.jsxs("button",{type:"button",role:"radio","aria-checked":ms,onClick:()=>Hn(as=>({...as,[fr]:Jn})),className:`flex-1 min-h-[48px] flex items-center justify-center gap-2 rounded-lg border-2 px-4 py-3 text-base font-medium transition-all ${ms?"bg-cyan-50 border-cyan-400 text-cyan-800":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:[jsxRuntimeExports.jsx(Vi,{size:20}),Ps]},Jn)})}):Bn.options.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Bn.options.map((Jn,ms)=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Hn(Ps=>({...Ps,[fr]:ms})),className:`w-full text-left rounded-md border px-3 py-2 text-sm transition-colors ${Dr[fr]===ms?"bg-cyan-50 border-cyan-300 text-cyan-800":"bg-white border-slate-300 text-slate-700"}`,children:jsxRuntimeExports.jsxs("span",{className:"flex gap-1 items-start",children:[jsxRuntimeExports.jsxs("span",{children:[String.fromCharCode(65+ms),"."]}),jsxRuntimeExports.jsx(MathTextPreview,{text:Jn,className:"text-sm [&_p]:mb-0 inline"})]})},`${fr}-${ms}`))}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-3",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Ti(Jn=>({...Jn,[fr]:"text"})),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${un==="text"?"bg-cyan-100 text-cyan-800 border border-cyan-300":"bg-white text-slate-600 border border-slate-300 hover:bg-slate-50"}`,children:[jsxRuntimeExports.jsx(Type,{size:14})," æ–‡å­—è¾“å…¥"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Ti(Jn=>({...Jn,[fr]:"upload"})),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${un==="upload"?"bg-cyan-100 text-cyan-800 border border-cyan-300":"bg-white text-slate-600 border border-slate-300 hover:bg-slate-50"}`,children:[jsxRuntimeExports.jsx(Camera,{size:14})," æ‹ç…§ä¸Šä¼ "]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Ti(Jn=>({...Jn,[fr]:"draw"})),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${un==="draw"?"bg-cyan-100 text-cyan-800 border border-cyan-300":"bg-white text-slate-600 border border-slate-300 hover:bg-slate-50"}`,children:[jsxRuntimeExports.jsx(Pencil,{size:14})," å±å¹•æ‰‹å†™"]})]}),un==="text"&&jsxRuntimeExports.jsx("textarea",{value:Kn[fr]||"",onChange:Jn=>an(ms=>({...ms,[fr]:Jn.target.value})),placeholder:d("enterYourAnswer"),className:"w-full min-h-[90px] rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-200 resize-y"}),un==="upload"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col items-center justify-center w-full min-h-[120px] border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors",children:[jsxRuntimeExports.jsx(Camera,{className:"w-8 h-8 text-slate-400 mb-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-slate-600",children:d("takePhotoUpload")}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"sr-only",onChange:Jn=>{const ms=Jn.target?.files?.[0];if(!ms)return;const Ps=new FileReader;Ps.onload=()=>{const Vi=Ps.result;es(as=>({...as,[fr]:Vi}))},Ps.readAsDataURL(ms)}})]}),qn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:Tn[fr],alt:d("handwrittenAnswer"),className:"max-h-24 rounded border border-slate-200"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>es(Jn=>({...Jn,[fr]:""})),className:"text-xs text-red-600 hover:underline",children:"ç§»é™¤"})]})]}),un==="draw"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"border border-slate-300 rounded-lg overflow-hidden bg-white",children:jsxRuntimeExports.jsx(SignatureCanvas,{ref:fs,canvasProps:{className:"w-full h-36 touch-none"},penColor:"black",backgroundColor:"white"})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>fs.current?.clear(),className:"px-3 py-1.5 text-xs rounded border border-slate-300 bg-white hover:bg-slate-50",children:"æ¸…ç©º"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const Jn=fs.current?.toDataURL("image/png");Jn&&es(ms=>({...ms,[fr]:Jn}))},className:"px-3 py-1.5 text-xs rounded bg-cyan-600 text-white hover:bg-cyan-700",children:"ä¿å­˜æ‰‹å†™"})]}),qn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:Tn[fr],alt:d("handwrittenAnswer"),className:"max-h-24 rounded border border-slate-200"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>es(Jn=>({...Jn,[fr]:""})),className:"text-xs text-red-600 hover:underline",children:"é‡æ–°ç»˜åˆ¶"})]})]})]}),xn.correctAnswer&&(zi[fr]??0)>=5&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Vs(Jn=>({...Jn,[fr]:!Jn[fr]})),className:"text-xs text-slate-700 border border-slate-300 rounded-full px-3 py-1 bg-white hover:bg-slate-100",children:Sn[fr]?"éšè—ç­”æ¡ˆ":"æŸ¥çœ‹ç­”æ¡ˆ"}),Sn[fr]&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-emerald-700 mt-2 flex gap-1 items-start",children:[jsxRuntimeExports.jsx("span",{children:"å‚è€ƒç­”æ¡ˆï¼š"}),jsxRuntimeExports.jsx(MathTextPreview,{text:xn.correctAnswer,className:"text-xs text-emerald-700 [&_p]:mb-0 inline"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>vi(Jn=>Math.max(0,Jn-1)),disabled:ui===0,className:"flex items-center gap-1 px-4 py-2 rounded-lg border border-slate-300 bg-white text-slate-700 text-sm font-medium disabled:opacity-40 disabled:cursor-not-allowed hover:bg-slate-50",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16})," ä¸Šä¸€é¢˜"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>vi(Jn=>Math.min(lt.length-1,Jn+1)),disabled:ui===lt.length-1,className:"flex items-center gap-1 px-4 py-2 rounded-lg border border-slate-300 bg-white text-slate-700 text-sm font-medium disabled:opacity-40 disabled:cursor-not-allowed hover:bg-slate-50",children:["ä¸‹ä¸€é¢˜ ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]})]})]})})()]}),Dt===5&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:d("guidedStep5")}),(tr.length>0?tr:[{question:"è¯·ç”¨1-2å¥è¯æ€»ç»“æœ¬èŠ‚è¯¾ä½ æœ€é‡è¦çš„æ”¶èŽ·ã€‚"}]).map((fr,xn)=>jsxRuntimeExports.jsxs("div",{className:"mb-4 last:mb-0",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["é¢˜ç›® ",xn+1]}),jsxRuntimeExports.jsx(MathTextPreview,{text:fr.question,className:"text-sm text-slate-800 mb-2 [&_p]:mb-0"}),jsxRuntimeExports.jsx("textarea",{value:Bs[xn]??(xn===0?Hs:""),onChange:Bn=>{const un=Bn.target.value;Gi(qn=>({...qn,[xn]:un})),xn===0&&Xi(un)},placeholder:d("enterYourReviewAnswer"),className:"w-full min-h-[96px] rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-200 resize-y"})]},`exit-ticket-${xn}`)),tr.some(fr=>fr.correctAnswer)&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>La(fr=>!fr),className:"text-xs text-slate-700 border border-slate-300 rounded-full px-3 py-1 bg-white hover:bg-slate-100",children:d(Ss?"hideReferenceAnswer":"viewReferenceAnswer")}),Ss&&jsxRuntimeExports.jsx("div",{className:"text-xs text-emerald-700 mt-2 space-y-2",children:tr.map((fr,xn)=>fr.correctAnswer?jsxRuntimeExports.jsxs("div",{className:"flex gap-1 items-start",children:[jsxRuntimeExports.jsxs("span",{children:["å‚è€ƒç­”æ¡ˆ",xn+1,"ï¼š"]}),jsxRuntimeExports.jsx(MathTextPreview,{text:fr.correctAnswer,className:"text-xs text-emerald-700 [&_p]:mb-0 inline"})]},`exit-answer-${xn}`):null)})]})]})]})})]})}if(wt==="table_editor")return jsxRuntimeExports.jsxs("div",{className:"w-full h-full bg-white flex flex-col relative",children:[Ie.description&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 bg-slate-50 border-b border-slate-200",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Ie.description})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-8 overflow-auto custom-scrollbar bg-slate-50/30",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100 border-b border-slate-200",children:jsxRuntimeExports.jsx("tr",{children:Pt.columns.map((dt,Rt)=>jsxRuntimeExports.jsx("th",{className:"px-6 py-4 font-bold tracking-wider",children:dt},Rt))})}),jsxRuntimeExports.jsx("tbody",{children:Pt.rows.map((dt,Rt)=>jsxRuntimeExports.jsx("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50 transition-colors",children:dt.map((ir,Xt)=>jsxRuntimeExports.jsx("td",{className:"p-2 border-r border-slate-100 last:border-r-0",children:jsxRuntimeExports.jsx("textarea",{className:"w-full h-24 p-3 bg-transparent resize-none focus:outline-none focus:bg-cyan-50/50 rounded transition-colors text-slate-800 leading-relaxed placeholder-slate-300",placeholder:"...",value:ir,onChange:_r=>{const Lr=[...Pt.rows];Lr[Rt][Xt]=_r.target.value,ar({...Pt,rows:Lr}),Pi(fn=>({...fn,table:fn.table+1})),mn!==null&&Ji(!0)}})},Xt))},Rt))})]}),jsxRuntimeExports.jsx("div",{className:"bg-slate-50 p-2 text-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>{const dt=Array(Pt.columns.length).fill("");ar({...Pt,rows:[...Pt.rows,dt]})},className:"text-xs text-slate-500 hover:text-cyan-600 font-bold py-2 w-full flex items-center justify-center gap-1",children:"+ æ·»åŠ è¡Œ"})})]})})]});if(wt==="mindmap_editor"){const dt=Ie.title||Ie.outputGoal||"æœ¬èŠ‚è¯¾ä¸»é¢˜";return jsxRuntimeExports.jsxs("div",{className:"w-full h-full bg-white flex flex-col relative border-r border-slate-200",children:[Ie.description&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 bg-slate-50 border-b border-slate-200",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Ie.description})})}),nt&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2 z-50",children:jsxRuntimeExports.jsx("button",{onClick:()=>or(!0),className:"p-2 rounded-lg bg-white/90 hover:bg-white border border-slate-200 shadow-md transition-all hover:shadow-lg text-slate-700 hover:text-slate-900",title:d("fullscreen"),children:jsxRuntimeExports.jsx(Maximize,{size:16})})}),Y&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 z-50 bg-white/80 backdrop-blur-sm flex items-center justify-center flex-col gap-2 animate-fade-in",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:32,className:"animate-spin text-purple-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-slate-500",children:"AI æ­£åœ¨ç”Ÿæˆæ€ç»´å¯¼å›¾æ¡†æž¶..."})]}),nt?jsxRuntimeExports.jsx(VisualizationEditor,{initialData:nt,onChange:jr,editable:!0,courseTopic:dt,onGenerateFramework:gn,onNodeCreated:Pr,onNodeEdited:Mr,onEdgeCreated:hr,onConfusionMarked:Ir,onProgressUpdate:Nn}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:"æ­£åœ¨åˆå§‹åŒ–å¯è§†åŒ–ç¼–è¾‘å™¨..."})]})}return wt==="text_editor"?jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col bg-white shadow-inner",children:[Ie.description&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 bg-slate-50 border-b border-slate-200",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Ie.description})})}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 shrink-0 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 font-bold text-sm",children:[jsxRuntimeExports.jsx(FileText,{size:16})," å†™ä½œç©ºé—´"]}),jsxRuntimeExports.jsx("button",{onClick:()=>vn(!tn),className:"px-3 py-1.5 text-xs font-medium bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-slate-700 flex items-center gap-1",children:tn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SquarePen,{size:14})," ç¼–è¾‘"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Eye,{size:14})," é¢„è§ˆ"]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 relative bg-white",children:tn?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-full h-full p-8 overflow-y-auto custom-scrollbar",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Xr||d("noContent")})}):jsxRuntimeExports.jsx("textarea",{className:"absolute inset-0 w-full h-full p-8 resize-none focus:outline-none text-slate-900 bg-white leading-relaxed text-sm placeholder-slate-400 custom-scrollbar whitespace-pre-wrap",placeholder:d("textEditorPlaceholder"),value:Xr,onChange:dt=>{Cn(dt.target.value),dt.target.value!==Xr&&dt.target.value.length>0&&(Pi(Rt=>({...Rt,text:Rt.text+1})),mn!==null&&Ji(!0))}})})]}):wt==="math_editor"?jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col bg-white shadow-inner",children:[Ie.description&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 bg-slate-50 border-b border-slate-200",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Ie.description})})}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-bold text-sm",children:[jsxRuntimeExports.jsx(Type,{size:16})," æ•°å­¦ç¼–è¾‘å™¨"]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 relative bg-white",children:jsxRuntimeExports.jsx("textarea",{className:"absolute inset-0 w-full h-full p-8 resize-none focus:outline-none text-slate-900 bg-white leading-relaxed text-sm placeholder-slate-400 custom-scrollbar font-mono",placeholder:d("mathEditorPlaceholder"),value:bn,onChange:dt=>{Br(dt.target.value),dt.target.value!==bn&&dt.target.value.length>0&&(Pi(Rt=>({...Rt,math:Rt.math+1})),mn!==null&&Ji(!0))}})})]}):wt==="interactive_experiment"?jsxRuntimeExports.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center relative bg-white",children:Y?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:48,className:"animate-spin text-cyan-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-slate-500",children:"æ­£åœ¨ç»„è£…è™šæ‹Ÿå®žéªŒå®¤..."})]}):Ae?jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col relative",children:[Ie.description&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 bg-slate-50 border-b border-slate-200",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Ie.description})})}),jsxRuntimeExports.jsxs("div",{className:"h-8 bg-slate-100 border-b border-slate-200 flex items-center justify-between px-4 text-[10px] text-slate-500 shrink-0",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold flex items-center gap-1",children:[jsxRuntimeExports.jsx(Sparkles,{size:12})," äº¤äº’å¼å®žéªŒå®¤"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ae.trim().startsWith("http")?jsxRuntimeExports.jsxs("span",{className:"text-cyan-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Globe,{size:12})," PhET æ¥æº"]}):jsxRuntimeExports.jsxs("span",{className:"text-purple-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Brain,{size:12})," AI ç”Ÿæˆ"]}),jsxRuntimeExports.jsx("button",{onClick:()=>mt(!0),className:"p-1.5 rounded-lg hover:bg-slate-200 transition-colors text-slate-600 hover:text-slate-800",title:d("fullscreen"),children:jsxRuntimeExports.jsx(Maximize,{size:14})})]})]}),jsxRuntimeExports.jsx("iframe",{src:Ae.trim().startsWith("http")?Ae:void 0,srcDoc:Ae.trim().startsWith("http")?void 0:Ae,className:"w-full flex-1 border-none",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",title:d("interactiveSimulation")})]}):jsxRuntimeExports.jsxs("div",{className:"text-slate-400 flex flex-col items-center select-none",children:[jsxRuntimeExports.jsx(Image$2,{size:64,className:"mb-4 opacity-20"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono uppercase tracking-widest opacity-50",children:"æœªæ‰¾åˆ°å®žéªŒèµ„æº"})]})}):jsxRuntimeExports.jsx("div",{className:"w-full min-h-[calc(100vh-10rem)] flex flex-col items-center justify-start relative group p-6 bg-slate-50/50",children:Y?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:32,className:"animate-spin text-cyan-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-slate-400",children:d("loadingAsset")})]}):Ae?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[wt==="image_gallery"&&jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-h-0 rounded-xl overflow-hidden shadow-2xl border border-slate-200 bg-white w-full max-w-4xl",children:[Ie.description&&jsxRuntimeExports.jsx("div",{className:"shrink-0 p-4 bg-slate-50 border-b border-slate-200",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Ie.description})})}),jsxRuntimeExports.jsx("div",{className:"relative flex-1 min-h-[120px] flex items-center justify-center bg-black/5",children:jsxRuntimeExports.jsx("img",{src:Ae,alt:"AI Generated",className:"max-w-full max-h-[70vh] object-contain"})}),jsxRuntimeExports.jsx("div",{className:"bg-white/90 backdrop-blur-sm p-2 text-[10px] text-slate-500 px-4 border-t border-slate-100",children:"ç”± Gemini Imagen 3 ç”Ÿæˆ"})]}),wt==="video_player"&&jsxRuntimeExports.jsxs("div",{className:"w-full max-w-3xl space-y-4 bg-black rounded-lg overflow-hidden shadow-2xl",children:[Ie.description&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200 rounded-t-lg",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Ie.description})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-900 text-cyan-400 border-b border-slate-800",children:[jsxRuntimeExports.jsx(Video,{size:18}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:At?.customTextInstruction?"å­¦ä¹ æŒ‡å¼•":At?.resourceKind==="document"?"å­¦ä¹ èµ„æ–™":d("instructionalVideo")})]}),(()=>{const dt=Ie.externalResourceUrl||(typeof Ae=="string"?Ae:"")||"",Rt=At?.customTextInstruction?.trim(),ir=At?.resourceKind,Xt=At?.convertedHtml?.trim(),_r=(At?.resourceMimeType||"").toLowerCase();if(Rt&&!dt&&!Ie.externalResourceId)return jsxRuntimeExports.jsx("div",{className:"p-6 bg-slate-100 text-slate-800 min-h-[200px]",children:jsxRuntimeExports.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",children:jsxRuntimeExports.jsx(MathTextPreview,{text:Rt})})});if(ir==="document"&&Xt)return jsxRuntimeExports.jsx("div",{className:"p-6 bg-white text-slate-800 prose prose-sm max-w-none min-h-[200px] overflow-y-auto custom-scrollbar",dangerouslySetInnerHTML:{__html:Xt}});if(ir==="document"&&dt){const qn=_r.includes("document")||_r.includes("wordprocessing")||_r.includes("presentation")||_r.includes("powerpoint")?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(dt)}`:dt;return jsxRuntimeExports.jsx("iframe",{src:qn,title:d("instructionalVideo"),className:"w-full min-h-[60vh] border-0",allowFullScreen:!0})}const Lr=Ie.videoPlatform,fn=Ie.externalResourceId?.trim(),dn=Lr==="youtube"&&fn?fn:Lr!=="bilibili"?extractYouTubeVideoId(dt):null,fr=Lr==="bilibili"&&fn?fn:Lr!=="youtube"?extractBilibiliBvid(dt):null,xn=Lr==="youtube"&&dn||!Lr&&dn,Bn=Lr==="bilibili"&&fr||!Lr&&fr&&!dn;return xn?jsxRuntimeExports.jsx("iframe",{src:`https://www.youtube.com/embed/${dn}`,title:d("instructionalVideo"),className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):Bn?jsxRuntimeExports.jsx("iframe",{src:`https://player.bilibili.com/player.html?bvid=${fr}&p=1&danmaku=0`,title:d("instructionalVideo"),className:"w-full aspect-video",scrolling:"no",frameBorder:"0",allowFullScreen:!0}):dt?jsxRuntimeExports.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,className:"w-full aspect-video",src:dt,children:d("browserNoVideo")}):jsxRuntimeExports.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,className:"w-full aspect-video",src:dt,children:d("browserNoVideo")})})()]})]}):jsxRuntimeExports.jsxs("div",{className:"text-slate-400 flex flex-col items-center select-none",children:[jsxRuntimeExports.jsx(Image$2,{size:64,className:"mb-4 opacity-20"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono uppercase tracking-widest opacity-50",children:"ç´ ææœªå°±ç»ª"})]})})};return jsxRuntimeExports.jsxs("div",{ref:xe,className:"flex w-full bg-slate-50 text-slate-800 overflow-hidden font-sans selection:bg-cyan-200 student-console",style:{minHeight:"100vh",height:"100vh"},children:[jsxRuntimeExports.jsxs("div",{style:{width:`${O}%`},className:"h-full flex flex-col bg-white relative shrink-0 border-r border-slate-200 min-h-0",children:[(se||ie)&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"})," ",jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-slate-200 p-3 shrink-0 z-20 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-4 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-hidden min-w-0 flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col shrink-0",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-0.5",children:d("taskOrder",{n:g+1})}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-slate-800 truncate",title:Ie.title,children:Ie.title})]}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-slate-200 hidden md:block shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"text-slate-600 text-xs font-medium line-clamp-2 min-w-0 flex-1",title:At?.learningObjective||Ie.outputGoal||"",children:[jsxRuntimeExports.jsxs("span",{className:"text-slate-500",children:[d("learningObjective"),": "]}),jsxRuntimeExports.jsx(MathTextPreview,{text:At?.learningObjective||Ie.outputGoal||d("noLearningObjective")})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 shrink-0 ml-4",children:[jsxRuntimeExports.jsx(FontSizeSelector,{}),jsxRuntimeExports.jsx("div",{className:"flex gap-1.5 shrink-0",children:e.tasks.map((dt,Rt)=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Fr(Rt),disabled:_,title:d("taskOrder",{n:Rt+1}),className:`h-1.5 rounded-full transition-all duration-500 disabled:cursor-not-allowed ${Rt===g?"bg-cyan-500 w-6":Rt<g?"bg-cyan-200 w-2 hover:bg-cyan-300":"bg-slate-200 w-2 hover:bg-slate-300"}`},Rt))})]})]})}),jsxRuntimeExports.jsx("div",{className:"student-console-content flex-1 overflow-y-auto overflow-x-hidden relative bg-slate-50/10 min-h-0 custom-scrollbar",children:Is()}),jsxRuntimeExports.jsxs("div",{className:"bg-white border-t border-slate-200 p-4 shrink-0 flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.tasks.length>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[jsxRuntimeExports.jsxs("button",{onClick:Or,disabled:g===0||_,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium bg-slate-100 text-slate-700 hover:bg-slate-200 disabled:opacity-40 disabled:cursor-not-allowed border border-slate-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:14})," ä¸Šä¸€ä¸ª"]}),jsxRuntimeExports.jsxs("button",{onClick:mr,disabled:g>=e.tasks.length-1||_,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium bg-slate-100 text-slate-700 hover:bg-slate-200 disabled:opacity-40 disabled:cursor-not-allowed border border-slate-200",children:["ä¸‹ä¸€ä¸ª ",jsxRuntimeExports.jsx(ArrowRight,{size:14})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-500",children:d("hintClickDone")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[jsxRuntimeExports.jsxs("button",{onClick:er,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold bg-amber-100 text-amber-700 hover:bg-amber-200 border border-amber-200 transition-colors shadow-sm",children:[jsxRuntimeExports.jsx(CircleHelp,{size:16})," ",d("stuck")]}),jsxRuntimeExports.jsxs("button",{onClick:nr,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold bg-green-100 text-green-700 hover:bg-green-200 border border-green-200 transition-colors shadow-sm",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:16})," ",d("done")]})]})]})]}),jsxRuntimeExports.jsx("div",{className:`w-1.5 hover:w-2 bg-slate-200 hover:bg-cyan-400 cursor-col-resize transition-all z-30 flex items-center justify-center group shrink-0 relative ${se?"bg-cyan-500 w-2":""}`,onMouseDown:Er,children:jsxRuntimeExports.jsx("div",{className:`h-8 w-1 rounded-full transition-colors ${se?"bg-white":"bg-slate-300 group-hover:bg-white"}`})}),jsxRuntimeExports.jsxs("div",{style:{width:`${$}%`},className:"h-full flex flex-col bg-slate-50 relative shrink-0 min-h-0",children:[(se||ie)&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"}),jsxRuntimeExports.jsx("div",{className:"h-14 border-b border-slate-200 flex items-center justify-between px-6 bg-white/90 backdrop-blur-md z-10 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(AnimatedAvatar,{state:xi,size:40}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-[pulse_2s_infinite]"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-mono text-emerald-600 tracking-wider",children:d("tutorOnline")})]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-slate-500",children:Ks||d("aiSystem")})]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-slate-500 border border-slate-200 px-1.5 py-0.5 rounded uppercase bg-slate-100",children:Ie.tutorConfig.tone})]})}),Ki&&jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 bg-white/95 backdrop-blur-sm shrink-0 flex items-center justify-between gap-3 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-slate-500",children:d("voiceBroadcast")}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"tts-voice-select",className:"sr-only",children:d("selectVoice")}),jsxRuntimeExports.jsx("select",{id:"tts-voice-select",value:Ee,onChange:dt=>{const Rt=dt.target.value;Se(Rt),typeof window<"u"&&localStorage.setItem("ttsVoiceName",Rt)},className:"rounded-md border border-slate-300 bg-white px-2 py-1 text-xs text-slate-700 focus:outline-none focus:ring-2 focus:ring-cyan-200 max-w-[180px]",title:d("selectVoice"),children:Ea?ra.length===0?jsxRuntimeExports.jsx("option",{value:Ee,children:d("noVoices")}):(ra.some(ir=>ir.name===Ee)?ra:[{name:Ee},...ra]).map(ir=>jsxRuntimeExports.jsxs("option",{value:ir.name,children:[ir.name.replace(/^cmn-CN-/,""),ir.ssmlGender==="FEMALE"?` ${d("voiceFemale")}`:ir.ssmlGender==="MALE"?` ${d("voiceMale")}`:""]},ir.name)):jsxRuntimeExports.jsx("option",{value:Ee,children:d("loadingVoices")})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const dt=!Js;fa(dt),Bi(dt),!dt&&ae&&we()},className:`px-3 py-1 rounded-full text-xs border transition-colors ${Js?"bg-emerald-50 border-emerald-300 text-emerald-700":"bg-white border-slate-300 text-slate-600"}`,title:d(Js?"voiceTurnOff":"voiceTurnOn"),children:d(Js?"voiceOn":"voiceOff")})]})]}),jsxRuntimeExports.jsxs("div",{ref:$e,className:"student-console-chat flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar scroll-smooth min-h-0 bg-[#f7f7f7]",children:[w.map((dt,Rt)=>{const ir=dt.role==="model"&&Xn(dt.text),Xt=dt.role==="model"&&dt.text.includes("[STEP_PASS]"),_r=Rt===w.length-1,Lr=Xt&&_r&&it&&!_,fn=dt.text.replace(/\s*\[STEP_PASS\]\s*/g,"").trim();return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:`flex ${dt.role==="user"?"justify-end":"justify-start"} items-end gap-2 animate-fade-in-up`,children:[dt.role==="model"&&jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center text-xs text-slate-600",children:(Ks||d("aiSystem")).slice(0,1)}),jsxRuntimeExports.jsxs("div",{className:`max-w-[78%] rounded-2xl px-3 py-2 text-sm leading-relaxed shadow-sm ${dt.role==="user"?"bg-[#95ec69] text-slate-900 rounded-br-none":"bg-white text-slate-700 rounded-bl-none"}`,children:[jsxRuntimeExports.jsx("div",{className:"opacity-60 text-[10px] uppercase font-bold tracking-wider mb-1",children:dt.role==="user"?$s:Ks||d("aiSystem")}),dt.role==="user"?jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap",children:dt.text}):jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath],rehypePlugins:[rehypeKatex],components:{p:({...dn})=>jsxRuntimeExports.jsx("p",{className:"mb-2 last:mb-0 text-slate-700",...dn}),strong:({...dn})=>jsxRuntimeExports.jsx("strong",{className:"font-semibold text-slate-800",...dn}),em:({...dn})=>jsxRuntimeExports.jsx("em",{className:"italic",...dn}),code:({inline:dn,...fr})=>dn?jsxRuntimeExports.jsx("code",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-xs font-mono text-slate-800",...fr}):jsxRuntimeExports.jsx("code",{className:"block bg-slate-50 p-3 rounded text-xs font-mono text-slate-800 overflow-x-auto my-2",...fr}),ul:({...dn})=>jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1",...dn}),ol:({...dn})=>jsxRuntimeExports.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1",...dn}),li:({...dn})=>jsxRuntimeExports.jsx("li",{className:"ml-2",...dn}),blockquote:({...dn})=>jsxRuntimeExports.jsx("blockquote",{className:"border-l-4 border-slate-300 pl-3 italic my-2 text-slate-600",...dn})},children:fn})})]}),dt.role==="user"&&jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-full bg-[#95ec69] flex items-center justify-center text-xs text-slate-900",children:$s.slice(0,1)})]}),ir&&_r&&!it&&!_&&jsxRuntimeExports.jsx("div",{className:"flex justify-start animate-fade-in-up ml-0 gap-3 flex-wrap",children:g<e.tasks.length-1?jsxRuntimeExports.jsxs("button",{onClick:mr,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white",children:[d("next")," ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:Dn,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-slate-600 hover:bg-slate-500 text-white",children:d("endNow")}),jsxRuntimeExports.jsxs("button",{onClick:ws,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white",children:[d("scholarAnalysis")," ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]})]})}),Lr&&jsxRuntimeExports.jsx("div",{className:"flex justify-start animate-fade-in-up ml-0 gap-3 flex-wrap",children:Dt<5||g<e.tasks.length-1?jsxRuntimeExports.jsxs("button",{onClick:Pn,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white",children:[Dt<5?d("nextStep"):d("nextTask")," ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]}):Dt===5&&w.length<=pt.current?jsxRuntimeExports.jsx("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded-lg px-3 py-2",children:o==="en"?`Please complete all exit ticket questions and click "I'm Done" for AI to evaluate. The completion buttons will appear after AI approval.`:"è¯·å®Œæˆå‡ºé—¨æ¡é¢˜ç›®åŽç‚¹å‡»ã€Œæˆ‘åšå®Œäº†ã€ï¼ŒAI åˆ¤å®šåˆç†åŽæ‰ä¼šæ˜¾ç¤ºã€Œç»“æŸå­¦ä¹ ã€å’Œã€Œèƒ½åŠ›åˆ†æžã€æŒ‰é’®ã€‚"}):Ft&&(Dt<5||w.length>pt.current)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:Dn,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-slate-600 hover:bg-slate-500 text-white",children:d("endNow")}),jsxRuntimeExports.jsxs("button",{onClick:ws,className:"flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-bold transition-all shadow-lg hover:shadow-xl hover:translate-y-[-2px] active:translate-y-0 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white",children:[d("scholarAnalysis")," ",jsxRuntimeExports.jsx(ArrowRight,{size:16})]})]}):jsxRuntimeExports.jsx("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded-lg px-3 py-2",children:"è¯·å…ˆå®Œæˆå‡ºé—¨æ¡å…¨éƒ¨é¢˜ç›®ï¼Œå®ŒæˆåŽæ‰ä¼šæ˜¾ç¤ºâ€œç»“æŸ/è¯„ä¼°â€æŒ‰é’®ã€‚"})})]},Rt)}),_&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsxs("div",{className:"bg-white px-4 py-2 rounded-full text-xs text-slate-500 flex items-center gap-2 border border-slate-200 shadow-sm",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:12,className:"animate-spin text-cyan-600"})," ",d("aiProcessing")]})}),jsxRuntimeExports.jsx("div",{ref:Te})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-[#f7f7f7] border-t border-slate-200 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-2",children:[_s==="text"?jsxRuntimeExports.jsx("textarea",{value:E,onChange:dt=>R(dt.target.value),onKeyDown:dt=>{dt.key==="Enter"&&!dt.shiftKey&&(dt.preventDefault(),Tt())},placeholder:d("inputPlaceholder"),className:"flex-1 bg-white border border-slate-300 rounded-full px-4 py-2 text-sm focus:outline-none focus:border-[#07c160] focus:ring-1 focus:ring-[#07c160]/20 transition-all resize-none h-10 text-slate-800 placeholder-slate-400"}):jsxRuntimeExports.jsx("button",{onPointerDown:dt=>{dt.preventDefault(),!(Ze||_)&&(Le||V())},onPointerUp:dt=>{dt.preventDefault(),Le&&U()},onPointerLeave:dt=>{dt.preventDefault(),Le&&W()},onPointerCancel:dt=>{dt.preventDefault(),Le&&W()},disabled:Ze||_,className:`flex-1 h-10 rounded-full border transition-all text-sm ${Le?"bg-red-500 border-red-500 text-white animate-pulse":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"}`,children:d(Le?"releaseToSend":"holdToSpeak")}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ki&&jsxRuntimeExports.jsx("button",{onClick:()=>{Zi(dt=>dt==="text"?"voice":"text")},disabled:Ze||_,className:"w-10 h-10 rounded-full border border-slate-300 bg-white text-slate-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:d(_s==="text"?"switchToVoice":"switchToKeyboard"),children:_s==="text"?jsxRuntimeExports.jsx(Mic,{size:16,className:"mx-auto"}):jsxRuntimeExports.jsx(Type,{size:16,className:"mx-auto"})}),_s==="text"&&jsxRuntimeExports.jsx("button",{onClick:()=>Tt(),disabled:!E.trim()||_,className:"h-10 px-4 rounded-full bg-[#07c160] hover:bg-[#06ad56] text-white text-sm disabled:opacity-50 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",children:d("send")})]})]}),(Le||Ze||ht)&&jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs",children:[Le&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),d("recording")]}),Ze&&jsxRuntimeExports.jsxs("span",{className:"text-blue-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(LoaderCircle,{size:12,className:"animate-spin"}),d("recognizing")]}),ht&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleAlert,{size:12}),d("speechError"),": ",ht]})]})]})]}),jsxRuntimeExports.jsx("div",{className:`w-1.5 hover:w-2 bg-slate-200 hover:bg-cyan-400 cursor-col-resize transition-all z-30 flex items-center justify-center group shrink-0 relative ${ie?"bg-cyan-500 w-2":""}`,onMouseDown:lr,children:jsxRuntimeExports.jsx("div",{className:`h-8 w-1 rounded-full transition-colors ${ie?"bg-white":"bg-slate-300 group-hover:bg-white"}`})}),jsxRuntimeExports.jsxs("div",{style:{width:`${100-O-$}%`},className:"h-full flex flex-col bg-slate-50 relative shrink-0 border-l border-slate-200 min-h-0",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-slate-200 bg-gradient-to-br from-white to-cyan-50/30 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"w-full aspect-square bg-white rounded-xl border-2 border-cyan-300 shadow-lg ring-2 ring-cyan-100 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-200/20 to-blue-200/20"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:jsxRuntimeExports.jsx(AnimatedAvatar,{state:xi,size:1e3,className:"w-full h-full"})})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:jsxRuntimeExports.jsx(RealTimeProgressTracker,{messages:w,studentLog:B,currentTaskIndex:g,totalTasks:e.tasks.length,improvementCount:Ot,completedTasksCount:si.size})})]}),jsxRuntimeExports.jsx(FullscreenModal,{isOpen:ut,onClose:()=>mt(!1),title:d("interactiveLab"),children:Ae&&jsxRuntimeExports.jsxs("div",{className:"w-full h-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-slate-100 border-b border-slate-200 flex items-center justify-between px-4 text-[10px] text-slate-500 shrink-0",children:Ae.trim().startsWith("http")?jsxRuntimeExports.jsxs("span",{className:"text-cyan-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Globe,{size:12})," PhET æ¥æº"]}):jsxRuntimeExports.jsxs("span",{className:"text-purple-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Brain,{size:12})," AI ç”Ÿæˆ"]})}),jsxRuntimeExports.jsx("iframe",{src:Ae.trim().startsWith("http")?Ae:void 0,srcDoc:Ae.trim().startsWith("http")?void 0:Ae,className:"w-full flex-1 border-none",sandbox:"allow-scripts allow-same-origin allow-popups allow-forms",title:d("interactiveSimulation")})]})}),jsxRuntimeExports.jsx(FullscreenModal,{isOpen:St,onClose:()=>or(!1),title:d("mindMapEditor"),children:nt?jsxRuntimeExports.jsx(VisualizationEditor,{initialData:nt,onChange:jr,editable:!0,courseTopic:Ie.title||Ie.outputGoal||"æœ¬èŠ‚è¯¾ä¸»é¢˜",onGenerateFramework:gn,onNodeCreated:Pr,onNodeEdited:Mr,onEdgeCreated:hr,onConfusionMarked:Ir,onProgressUpdate:Nn}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:"æ­£åœ¨åˆå§‹åŒ–å¯è§†åŒ–ç¼–è¾‘å™¨..."})})]})};function CoursePage(){const e=useParams(),t=useNavigate(),[n]=useSearchParams(),{t:o,i18n:l}=useTranslation("coursePage"),{policy:u}=useRuntimePolicy(),d=e.id??"",[A,m]=reactExports.useState(null),[f,g]=reactExports.useState(!0),[v,b]=reactExports.useState(null),w=reactExports.useMemo(()=>{const R=n.get("lang");if(R==="zh"||R==="en")return R;const _=u?.contentLanguageDefault?.defaultLanguage;if(_==="zh"||_==="en")return _;const N=typeof window<"u"?window.location.hostname.toLowerCase():"";return N.startsWith("sg.")||N.includes(".sg.")?"en":(N.startsWith("cn.")||N.includes(".cn."),"zh")},[n,u?.contentLanguageDefault?.defaultLanguage]);reactExports.useEffect(()=>{l.changeLanguage(w)},[l,w]),reactExports.useEffect(()=>{(async()=>{if(!d){b(o("invalidCourseId")),g(!1);return}try{g(!0),b(null);const _=await getCourse(d);if(!_?.plan)throw new Error(o("dataFormatError"));m(_.plan);const{data:N}=await supabase.auth.getSession(),B=N.session?.access_token;await trackProductEvent({eventName:"course_opened",role:"student",language:w,courseId:d,properties:{source:"CoursePage"}},B)}catch(_){console.error("Failed to load course:",_),b(_ instanceof Error?_.message:o("loadFailedCheckLink"))}finally{g(!1)}})()},[d,o]);const j=(R,_)=>{},E=()=>{console.warn("API Key Error")};return f?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex flex-col",children:jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-primary mx-auto mb-4",size:32}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:o("loading")})]})})}):v||!A?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex flex-col",children:jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-card p-8 rounded-2xl shadow-xl max-w-md text-center border border-border",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(CircleAlert,{className:"text-destructive",size:32})}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold mb-2 text-foreground",children:o("courseLoadFailed")}),jsxRuntimeExports.jsxs("div",{className:"text-muted-foreground mb-6 space-y-2",children:[jsxRuntimeExports.jsx("p",{children:v||o("courseNotExistOrExpired")}),d&&jsxRuntimeExports.jsxs("p",{className:"text-xs mt-2",children:[o("courseIdLabel"),": ",d]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>t("/"),className:"px-6 py-3 bg-primary hover:bg-primary-hover text-primary-foreground font-bold rounded-lg transition-all",children:o("backToHome")}),jsxRuntimeExports.jsx("button",{onClick:()=>{b(null),g(!0),d&&getCourse(d).then(R=>{m(R.plan),b(null)}).catch(R=>b(R.message||o("retryFailed"))).finally(()=>g(!1))},className:"px-6 py-3 bg-muted hover:bg-muted/80 text-foreground font-bold rounded-lg transition-all",children:o("retry")})]})]})})}):jsxRuntimeExports.jsx(StudentConsole,{plan:A,onComplete:j,onApiKeyError:E,contentLanguage:w})}function SharedCourseLandingPage(){const{token:e}=useParams(),t=useNavigate(),{user:n,loading:o}=useAuth(),[l,u]=reactExports.useState(null),[d,A]=reactExports.useState(null),[m,f]=reactExports.useState(!0),[g,v]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!e){A("é“¾æŽ¥æ— æ•ˆ"),f(!1);return}resolveShareToken(e).then(E=>u(E)).catch(E=>A(E instanceof Error?E.message:"åˆ†äº«é“¾æŽ¥æ— æ•ˆæˆ–å·²è¿‡æœŸ")).finally(()=>f(!1))},[e]);const b=()=>{const E=encodeURIComponent(`/shared-course/${e}`);t(`/?redirect=${E}`)},w=async()=>{if(!(!n?.id||!e)){v(!0);try{await acceptShareLink(e,n.id),t("/?section=courses&courseTab=shared")}catch(E){A(E instanceof Error?E.message:"åŠ å…¥å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{v(!1)}}},j=()=>{l?.courseId&&window.open(`${getLearnYourWayOrigin()}/course/${l.courseId}`,"_blank")};return o||m?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-10 h-10 animate-spin text-primary mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"åŠ è½½ä¸­..."})]})}):d||!l?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-8 h-8 text-destructive"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-center",children:"é“¾æŽ¥æ— æ•ˆæˆ–å·²è¿‡æœŸ"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:d||"è¯¾ç¨‹ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤"})]}),jsxRuntimeExports.jsx(CardContent,{className:"flex justify-center",children:jsxRuntimeExports.jsx(Button,{onClick:()=>t("/"),children:"è¿”å›žé¦–é¡µ"})})]})}):n?n.role==="teacher"?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-primary"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-center",children:l.title}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-center",children:[l.subject," Â· ",l.grade]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å°†è¯¾ç¨‹åŠ å…¥ã€Œåˆ†äº«ç»™æˆ‘çš„ã€ï¼Œå³å¯åœ¨è¯¾ç¨‹ç®¡ç†ä¸­é¢„è§ˆå’Œåˆ†é…ç»™å­¦ç”Ÿ"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:w,disabled:g,children:[g?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 mr-2"}),"åŠ å…¥æˆ‘çš„è¯¾ç¨‹"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>t("/"),children:"è¿”å›žé¦–é¡µ"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-primary"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-center",children:l.title}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-center",children:[l.subject," Â· ",l.grade]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹å­¦ä¹ "}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:j,children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 mr-2"}),"å¼€å§‹å­¦ä¹ "]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>t("/"),children:"è¿”å›žé¦–é¡µ"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-primary"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-center",children:l.title}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-center",children:[l.subject," Â· ",l.grade]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"ç™»å½•åŽå¯å°†æ­¤è¯¾ç¨‹åŠ å…¥ã€Œåˆ†äº«ç»™æˆ‘çš„ã€å¹¶åœ¨è¯¾ç¨‹ç®¡ç†ä¸­åˆ†é…ç»™å­¦ç”Ÿ"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3",children:[jsxRuntimeExports.jsxs(Button,{onClick:b,children:[jsxRuntimeExports.jsx(LogIn,{className:"w-4 h-4 mr-2"}),"ç™»å½•åŽåŠ å…¥æˆ‘çš„è¯¾ç¨‹"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>t("/"),children:"è¿”å›žé¦–é¡µ"})]})]})]})})}function SharedTwinLandingPage(){const{token:e}=useParams(),t=useNavigate(),[n,o]=reactExports.useState(!0),[l,u]=reactExports.useState(null),[d,A]=reactExports.useState(null);return reactExports.useEffect(()=>{if(!e){u("é“¾æŽ¥æ— æ•ˆ"),o(!1);return}resolveTeacherTwinShareToken(e).then(m=>A(m)).catch(m=>u(m instanceof Error?m.message:"é“¾æŽ¥æ— æ•ˆæˆ–å·²è¿‡æœŸ")).finally(()=>o(!1))},[e]),n?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-primary"})}):l||!d?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-full bg-destructive/10 flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-7 h-7 text-destructive"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-center",children:"é“¾æŽ¥æ— æ•ˆ"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:l??"åˆ†äº«é“¾æŽ¥å¤±æ•ˆ"})]}),jsxRuntimeExports.jsx(CardContent,{className:"flex justify-center",children:jsxRuntimeExports.jsx(Button,{onClick:()=>t("/"),children:"è¿”å›žé¦–é¡µ"})})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-muted flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-lg",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-7 h-7 text-primary"})}),jsxRuntimeExports.jsxs(CardTitle,{children:[d.avatar||"ðŸ¤–"," ",d.name]}),jsxRuntimeExports.jsxs(CardDescription,{children:["æ•™å­¦é£Žæ ¼ï¼š",d.teachingStyle]})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:d.persona}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3",children:[jsxRuntimeExports.jsx(Button,{onClick:()=>t("/?section=settings"),children:"å‰å¾€æ•™å¸ˆè®¾ç½®ä½¿ç”¨è¯¥åˆ†èº«"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>t("/"),children:"è¿”å›žé¦–é¡µ"})]})]})]})})}function ForgotPasswordPage(){const e=useNavigate(),{resetPasswordForEmail:t}=useAuth(),[n,o]=reactExports.useState(""),[l,u]=reactExports.useState(!1),[d,A]=reactExports.useState(""),[m,f]=reactExports.useState(!1),g=async v=>{v.preventDefault(),u(!0),A("");try{await t(n),f(!0)}catch(b){A(b.message||"å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{u(!1)}};return m?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-[#1a73e8]",children:[jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5"}),"é‚®ä»¶å·²å‘é€"]}),jsxRuntimeExports.jsxs(CardDescription,{children:["æˆ‘ä»¬å·²å‘ ",jsxRuntimeExports.jsx("strong",{children:n})," å‘é€äº†é‡ç½®å¯†ç é“¾æŽ¥ã€‚è¯·æŸ¥æ”¶é‚®ä»¶å¹¶ç‚¹å‡»é“¾æŽ¥è®¾ç½®æ–°å¯†ç ã€‚",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs mt-2 block",children:"è‹¥æœªæ”¶åˆ°ï¼Œè¯·æ£€æŸ¥åžƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹ã€‚"})]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"w-full",onClick:()=>e("/"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"è¿”å›žç™»å½•"]})})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl border-gray-200",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl text-[#1a73e8]",children:"å¿˜è®°å¯†ç "}),jsxRuntimeExports.jsx(CardDescription,{children:"è¾“å…¥æ³¨å†Œé‚®ç®±ï¼Œæˆ‘ä»¬å°†å‘é€é‡ç½®å¯†ç é“¾æŽ¥åˆ°æ‚¨çš„é‚®ç®±"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:d}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"é‚®ç®±"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"è¾“å…¥æ³¨å†Œé‚®ç®±",value:n,onChange:v=>o(v.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:l,children:l?"å‘é€ä¸­â€¦":"å‘é€é‡ç½®é“¾æŽ¥"}),jsxRuntimeExports.jsx(Link$1,{to:"/",children:jsxRuntimeExports.jsxs(Button,{type:"button",variant:"ghost",className:"w-full",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"è¿”å›žç™»å½•"]})})]})})]})})}function ResetPasswordPage(){const e=useNavigate(),[t,n]=reactExports.useState(""),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(!1),[A,m]=reactExports.useState(""),[f,g]=reactExports.useState(!1),[v,b]=reactExports.useState(null);reactExports.useEffect(()=>{if(new URLSearchParams(window.location.hash.slice(1)).get("type")==="recovery"){b(!0);return}supabase.auth.getSession().then(({data:{session:_}})=>{b(!!_)})},[]);const w=async j=>{if(j.preventDefault(),m(""),t.length<6){m("æ–°å¯†ç è‡³å°‘ 6 ä¸ªå­—ç¬¦");return}if(t!==o){m("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´");return}d(!0);try{const{error:E}=await supabase.auth.updateUser({password:t});if(E)throw new Error(E.message);g(!0),setTimeout(()=>e("/"),2e3)}catch(E){m(E.message||"è®¾ç½®å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚é“¾æŽ¥å¯èƒ½å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç”³è¯·é‡ç½®ã€‚")}finally{d(!1)}};return v===null?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-[#1a73e8]"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"éªŒè¯é“¾æŽ¥ä¸­â€¦"})]})}):v===!1?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"é“¾æŽ¥æ— æ•ˆæˆ–å·²è¿‡æœŸ"}),jsxRuntimeExports.jsx(CardDescription,{children:"è¯·è¿”å›žç™»å½•é¡µé‡æ–°ç”³è¯·ã€Œå¿˜è®°å¯†ç ã€ã€‚"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Button,{className:"w-full",onClick:()=>e("/"),children:"è¿”å›žç™»å½•"})})]})}):f?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsx(Card,{className:"w-full max-w-md shadow-xl",children:jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-green-600",children:"å¯†ç å·²æ›´æ–°"}),jsxRuntimeExports.jsx(CardDescription,{children:"æ­£åœ¨è·³è½¬åˆ°ç™»å½•é¡µâ€¦"})]})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-[#F8F9FA]",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-xl border-gray-200",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-[#1a73e8]",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5"}),"è®¾ç½®æ–°å¯†ç "]}),jsxRuntimeExports.jsx(CardDescription,{children:"è¯·è¾“å…¥æ‚¨çš„æ–°å¯†ç "})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:w,className:"space-y-4",children:[A&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:A}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"new-password",children:"æ–°å¯†ç "}),jsxRuntimeExports.jsx(Input,{id:"new-password",type:"password",placeholder:"è‡³å°‘ 6 ä¸ªå­—ç¬¦",value:t,onChange:j=>n(j.target.value),autoComplete:"new-password"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"confirm-password",children:"ç¡®è®¤æ–°å¯†ç "}),jsxRuntimeExports.jsx(Input,{id:"confirm-password",type:"password",placeholder:"å†æ¬¡è¾“å…¥æ–°å¯†ç ",value:o,onChange:j=>l(j.target.value),autoComplete:"new-password"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full !bg-[#1a73e8] hover:!bg-[#1557b0] !text-white",disabled:u||!t||!o,children:u?"æ›´æ–°ä¸­â€¦":"ç¡®è®¤å¹¶ç™»å½•"})]})})]})})}function AdminLoginPage(){const e=useNavigate(),[t,n]=reactExports.useState(""),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(!1),[A,m]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{const{data:g}=await supabase.auth.getSession(),v=g.session?.user;if(!v)return;const{data:b}=await supabase.from("admin_users").select("active").eq("user_id",v.id).maybeSingle();b?.active===!0&&e("/admin/cost",{replace:!0})})()},[e]);const f=async g=>{g.preventDefault(),d(!0),m("");try{const{data:v,error:b}=await supabase.auth.signInWithPassword({email:t,password:o});if(b||!v.user)throw b||new Error("ç™»å½•å¤±è´¥");const{data:w,error:j}=await supabase.from("admin_users").select("active").eq("user_id",v.user.id).maybeSingle();if(j||!w||w.active!==!0)throw await supabase.auth.signOut(),new Error("å½“å‰è´¦å·ä¸æ˜¯ç®¡ç†å‘˜è´¦å·ã€‚");e("/admin/cost",{replace:!0})}catch(v){m(v instanceof Error?v.message:"ç™»å½•å¤±è´¥")}finally{d(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-xl border bg-white shadow-sm p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Admin Portal"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"ç™»å½•åŽå¯æŸ¥çœ‹ token æˆæœ¬çœ‹æ¿"}),jsxRuntimeExports.jsxs("form",{onSubmit:f,className:"space-y-4 mt-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"é‚®ç®±"}),jsxRuntimeExports.jsx("input",{className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",type:"email",value:t,onChange:g=>n(g.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"å¯†ç "}),jsxRuntimeExports.jsx("input",{className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",type:"password",value:o,onChange:g=>l(g.target.value),required:!0})]}),A?jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:A}):null,jsxRuntimeExports.jsx("button",{type:"submit",disabled:u,className:"w-full rounded-md bg-slate-900 text-white py-2.5 text-sm font-medium disabled:opacity-50",children:u?"ç™»å½•ä¸­...":"ç™»å½• Admin"})]})]})})}const TABS=[{to:"/admin/cost",label:"Cost"},{to:"/admin/performance",label:"Performance"},{to:"/admin/business",label:"Business"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/data",label:"æ•°æ®ç®¡ç†"},{to:"/admin/settings",label:"Settings"}];function AdminTopNav(){const e=useLocation(),t=useNavigate(),n=async()=>{await supabase.auth.signOut(),t("/admin/login",{replace:!0})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Admin Portal"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Operational dashboards"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[TABS.map(o=>{const l=e.pathname===o.to;return jsxRuntimeExports.jsx(Link$1,{to:o.to,className:`rounded-md px-3 py-2 text-sm border ${l?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 hover:bg-slate-100 border-slate-200"}`,children:o.label},o.to)}),jsxRuntimeExports.jsx("button",{onClick:n,className:"rounded-md border px-3 py-2 text-sm hover:bg-slate-100",children:"é€€å‡º"})]})]}),jsxRuntimeExports.jsx("button",{onClick:n,className:"fixed bottom-6 left-6 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 shadow-sm",children:"é€€å‡ºç™»å½•"})]})}function AdminFilterBar({startDate:e,endDate:t,onStartDateChange:n,onEndDateChange:o,topN:l,onTopNChange:u,topNMin:d=1,topNMax:A=100,extraControls:m,onRefresh:f,refreshLabel:g="åˆ·æ–°"}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4 flex items-end gap-3 flex-wrap",children:[e!=null&&n?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"å¼€å§‹æ—¥æœŸ"}),jsxRuntimeExports.jsx("input",{type:"date",value:e,onChange:v=>n(v.target.value),className:"rounded-md border px-3 py-2 text-sm"})]}):null,t!=null&&o?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"ç»“æŸæ—¥æœŸ"}),jsxRuntimeExports.jsx("input",{type:"date",value:t,onChange:v=>o(v.target.value),className:"rounded-md border px-3 py-2 text-sm"})]}):null,l!=null&&u?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Top N"}),jsxRuntimeExports.jsx("input",{type:"number",min:d,max:A,value:l,onChange:v=>{const b=Number(v.target.value||l);u(Math.max(d,Math.min(A,b)))},className:"rounded-md border px-3 py-2 text-sm w-24"})]}):null,m,jsxRuntimeExports.jsx("button",{onClick:f,className:"rounded-md bg-slate-900 text-white px-4 py-2 text-sm",children:g})]})}function AdminSelectControl({label:e,value:t,options:n,onChange:o}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:e}),jsxRuntimeExports.jsx("select",{value:t,onChange:l=>o(l.target.value),className:"rounded-md border px-3 py-2 text-sm",children:n.map(l=>jsxRuntimeExports.jsx("option",{value:l.value,children:l.label},l.value))})]})}function AdminTextControl({label:e,value:t,onChange:n,placeholder:o,className:l="rounded-md border px-3 py-2 text-sm w-56"}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:e}),jsxRuntimeExports.jsx("input",{value:t,onChange:u=>n(u.target.value),placeholder:o,className:l})]})}function AdminStatGrid({children:e,columns:t=6}){const n=t===4?"grid grid-cols-1 md:grid-cols-4 gap-3":t===5?"grid grid-cols-1 md:grid-cols-5 gap-3":"grid grid-cols-1 md:grid-cols-6 gap-3";return jsxRuntimeExports.jsx("div",{className:n,children:e})}function AdminStatCard({label:e,value:t}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500",children:e}),jsxRuntimeExports.jsx("div",{className:"text-xl font-semibold text-slate-900 mt-1",children:t})]})}function AdminTableCard({title:e,headers:t,rows:n}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-3",children:e}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{className:"border-b",children:t.map(o=>jsxRuntimeExports.jsx("th",{className:"text-left font-medium text-slate-600 py-2 pr-4",children:o},o))})}),jsxRuntimeExports.jsx("tbody",{children:n.map((o,l)=>jsxRuntimeExports.jsx("tr",{className:"border-b last:border-0",children:o.map((u,d)=>jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:u},d))},`${e}-${l}`))})]})})]})}function AdminCostPage(){const e=useNavigate(),[t,n]=reactExports.useState(!0),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(null),[A,m]=reactExports.useState(()=>new Date(Date.now()-168*3600*1e3).toISOString().slice(0,10)),[f,g]=reactExports.useState(()=>new Date().toISOString().slice(0,10)),[v,b]=reactExports.useState(10),[w,j]=reactExports.useState(.01),E=reactExports.useMemo(()=>`${A} ~ ${f}`,[A,f]),R=async()=>{n(!0),l("");try{const{data:_}=await supabase.auth.getSession(),N=_.session?.access_token;if(!N){e("/admin/login",{replace:!0});return}const B=await getAdminCostAnalytics({startDate:A,endDate:f,topN:v},N);d(B)}catch(_){const N=_ instanceof Error?_.message:"åŠ è½½å¤±è´¥";if(N.includes("Admin access required")||N.includes("Missing bearer token")||N.includes("Invalid token")){await supabase.auth.signOut(),e("/admin/login",{replace:!0});return}l(N)}finally{n(!1)}};return reactExports.useEffect(()=>{R()},[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto space-y-4",children:[jsxRuntimeExports.jsx(AdminTopNav,{}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cost Dashboard"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:["LLM usage and token cost overview (",E,")"]})]}),jsxRuntimeExports.jsx(AdminFilterBar,{startDate:A,endDate:f,onStartDateChange:m,onEndDateChange:g,topN:v,onTopNChange:b,onRefresh:R,extraControls:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"å¼‚å¸¸é˜ˆå€¼(USD)"}),jsxRuntimeExports.jsx("input",{type:"number",min:0,step:1e-4,value:w,onChange:_=>j(Math.max(0,Number(_.target.value||0))),className:"rounded-md border px-3 py-2 text-sm w-28"})]})}),t?jsxRuntimeExports.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-slate-500",children:"åŠ è½½ä¸­..."}):null,o?jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:o}):null,u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(AdminStatGrid,{columns:6,children:[jsxRuntimeExports.jsx(AdminStatCard,{label:"æ€»è¯·æ±‚æ•°",value:String(u.summary.totalRequests)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æ€» Tokens In",value:String(u.summary.totalTokensIn)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æ€» Tokens Out",value:String(u.summary.totalTokensOut)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æ€» Tokens",value:String(u.summary.totalTokens)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æ€»æˆæœ¬(USD)",value:u.summary.totalCostUsd.toFixed(4)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"å•è¯·æ±‚å¹³å‡æˆæœ¬(USD)",value:u.summary.avgCostPerRequestUsd.toFixed(6)})]}),jsxRuntimeExports.jsx(AdminTableCard,{title:"æŒ‰æ¨¡åž‹",headers:["Model","Requests","Cost (USD)"],rows:u.byModel.sort((_,N)=>N.costUsd-_.costUsd).map(_=>[_.model,String(_.requests),_.costUsd.toFixed(4)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"æŒ‰æŽ¥å£/åŠŸèƒ½",headers:["Endpoint/Feature","Requests","Cost (USD)"],rows:u.byEndpoint.sort((_,N)=>N.costUsd-_.costUsd).map(_=>[_.endpoint,String(_.requests),_.costUsd.toFixed(4)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"æŒ‰æ—¥æœŸ",headers:["Day","Requests","Cost (USD)"],rows:u.byDay.sort((_,N)=>_.day.localeCompare(N.day)).map(_=>[_.day,String(_.requests),_.costUsd.toFixed(4)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:`æ•™å¸ˆ Top ${v}`,headers:["Teacher","Requests","Tokens In","Tokens Out","Cost (USD)"],rows:u.teacherTopN.map(_=>[_.teacherName,String(_.requests),String(_.tokensIn),String(_.tokensOut),_.costUsd.toFixed(4)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:`å­¦ç”Ÿ Top ${v}`,headers:["Student","Requests","Tokens In","Tokens Out","Cost (USD)"],rows:u.studentTopN.map(_=>[_.studentName,String(_.requests),String(_.tokensIn),String(_.tokensOut),_.costUsd.toFixed(4)])}),jsxRuntimeExports.jsx(AnomalyTable,{title:"å•æ¬¡è¯·æ±‚é«˜æˆæœ¬å¼‚å¸¸æ¦œ",thresholdUsd:w,rows:u.highCostAnomalies.map(_=>({runId:_.runId,time:new Date(_.createdAt).toLocaleString(),endpoint:_.endpoint,model:_.model,costUsd:_.costUsd,tokens:_.tokensTotal,retry:_.retryCount,latencyMs:_.latencyMs,success:_.success}))})]}):null]})})}function AnomalyTable({title:e,thresholdUsd:t,rows:n}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-base font-semibold text-slate-900 mb-3",children:[e,jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-500 ml-2",children:["(é«˜äº®é˜ˆå€¼: $",t.toFixed(4),")"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{className:"border-b",children:["Run ID","Time","Endpoint","Model","Cost (USD)","Tokens","Retry","Latency(ms)","Success"].map(o=>jsxRuntimeExports.jsx("th",{className:"text-left font-medium text-slate-600 py-2 pr-4",children:o},o))})}),jsxRuntimeExports.jsx("tbody",{children:n.map((o,l)=>{const u=o.costUsd>=t;return jsxRuntimeExports.jsxs("tr",{className:`border-b last:border-0 ${u?"bg-amber-50":""}`,children:[jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.runId}),jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.time}),jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.endpoint}),jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.model}),jsxRuntimeExports.jsx("td",{className:`py-2 pr-4 font-medium ${u?"text-amber-700":"text-slate-800"}`,children:o.costUsd.toFixed(6)}),jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.tokens}),jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.retry}),jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.latencyMs}),jsxRuntimeExports.jsx("td",{className:"py-2 pr-4 text-slate-800",children:o.success?"Y":"N"})]},`${o.runId}-${l}`)})})]})})]})}function AdminChartCard({title:e,children:t}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-3",children:e}),t]})}function AdminPerformancePage(){const e=useNavigate(),[t,n]=reactExports.useState(!0),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(null),[A,m]=reactExports.useState(()=>new Date(Date.now()-168*3600*1e3).toISOString().slice(0,10)),[f,g]=reactExports.useState(()=>new Date().toISOString().slice(0,10)),[v,b]=reactExports.useState(10),w=reactExports.useMemo(()=>`${A} ~ ${f}`,[A,f]),j=async()=>{n(!0),l("");try{const{data:E}=await supabase.auth.getSession(),R=E.session?.access_token;if(!R){e("/admin/login",{replace:!0});return}const _=await getAdminPerformanceAnalytics({startDate:A,endDate:f,topN:v},R);d(_)}catch(E){l(E instanceof Error?E.message:"åŠ è½½å¤±è´¥")}finally{n(!1)}};return reactExports.useEffect(()=>{j()},[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto space-y-4",children:[jsxRuntimeExports.jsx(AdminTopNav,{}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Performance Dashboard"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:["Runtime stability, latency and reliability (",w,")"]})]}),jsxRuntimeExports.jsx(AdminFilterBar,{startDate:A,endDate:f,onStartDateChange:m,onEndDateChange:g,topN:v,onTopNChange:b,onRefresh:j}),t?jsxRuntimeExports.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-slate-500",children:"åŠ è½½ä¸­..."}):null,o?jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:o}):null,u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(AdminStatGrid,{columns:6,children:[jsxRuntimeExports.jsx(AdminStatCard,{label:"è¯·æ±‚æ•°",value:String(u.summary.totalRequests)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æˆåŠŸçŽ‡",value:`${(u.summary.successRate*100).toFixed(1)}%`}),jsxRuntimeExports.jsx(AdminStatCard,{label:"å¤±è´¥çŽ‡",value:`${(u.summary.failRate*100).toFixed(1)}%`}),jsxRuntimeExports.jsx(AdminStatCard,{label:"P95 å»¶è¿Ÿ(ms)",value:String(u.summary.p95LatencyMs)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"P99 å»¶è¿Ÿ(ms)",value:String(u.summary.p99LatencyMs)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"é‡è¯•è¯·æ±‚çŽ‡",value:`${(u.summary.retriedRequestRate*100).toFixed(1)}%`})]}),jsxRuntimeExports.jsx(AdminChartCard,{title:"æ¯æ—¥æˆåŠŸçŽ‡è¶‹åŠ¿",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:280,children:jsxRuntimeExports.jsxs(LineChart,{data:u.dailyTrend.map(E=>({...E,successRatePercent:Number((E.successRate*100).toFixed(1))})),children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"day"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"successRatePercent",stroke:"#0f766e",strokeWidth:2})]})})}),jsxRuntimeExports.jsx(AdminChartCard,{title:"æŽ¥å£ P95 å»¶è¿Ÿ Top",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:320,children:jsxRuntimeExports.jsxs(BarChart,{data:u.endpointTop.map(E=>({...E,endpoint:E.endpoint.length>26?`${E.endpoint.slice(0,26)}...`:E.endpoint})),children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"endpoint",interval:0,angle:-20,textAnchor:"end",height:70}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"p95LatencyMs",fill:"#3b82f6"})]})})}),jsxRuntimeExports.jsx(AdminTableCard,{title:"æŽ¥å£æ€§èƒ½ Top",headers:["Endpoint","Requests","Success Rate","Retry Rate","P95(ms)","Avg Retry"],rows:u.endpointTop.map(E=>[E.endpoint,String(E.requests),`${(E.successRate*100).toFixed(1)}%`,`${(E.retriedRequestRate*100).toFixed(1)}%`,String(E.p95LatencyMs),E.avgRetryCount.toFixed(2)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"æ¨¡åž‹æ€§èƒ½ Top",headers:["Model","Requests","Success Rate","P95(ms)","Avg Retry"],rows:u.modelTop.map(E=>[E.model,String(E.requests),`${(E.successRate*100).toFixed(1)}%`,String(E.p95LatencyMs),E.avgRetryCount.toFixed(2)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"é«˜å»¶è¿Ÿå¼‚å¸¸è¯·æ±‚",headers:["Run ID","Time","Endpoint","Model","Latency(ms)","Retry","Success"],rows:u.highLatencyAnomalies.map(E=>[E.runId,new Date(E.createdAt).toLocaleString(),E.endpoint,E.model,String(E.latencyMs),String(E.retryCount),E.success?"Y":"N"])})]}):null]})})}function AdminBusinessPage(){const e=useNavigate(),[t,n]=reactExports.useState(!0),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(null),[A,m]=reactExports.useState(()=>new Date(Date.now()-720*3600*1e3).toISOString().slice(0,10)),[f,g]=reactExports.useState(()=>new Date().toISOString().slice(0,10)),[v,b]=reactExports.useState(10),w=reactExports.useMemo(()=>`${A} ~ ${f}`,[A,f]),j=async()=>{n(!0),l("");try{const{data:E}=await supabase.auth.getSession(),R=E.session?.access_token;if(!R){e("/admin/login",{replace:!0});return}const _=await getAdminBusinessAnalytics({startDate:A,endDate:f,topN:v},R);d(_)}catch(E){l(E instanceof Error?E.message:"åŠ è½½å¤±è´¥")}finally{n(!1)}};return reactExports.useEffect(()=>{j()},[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto space-y-4",children:[jsxRuntimeExports.jsx(AdminTopNav,{}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Business Dashboard"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:["Growth, funnel and learning outcome overview (",w,")"]})]}),jsxRuntimeExports.jsx(AdminFilterBar,{startDate:A,endDate:f,onStartDateChange:m,onEndDateChange:g,topN:v,onTopNChange:b,onRefresh:j}),t?jsxRuntimeExports.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-slate-500",children:"åŠ è½½ä¸­..."}):null,o?jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:o}):null,u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(AdminStatGrid,{columns:6,children:[jsxRuntimeExports.jsx(AdminStatCard,{label:"è€å¸ˆæ€»æ•°",value:String(u.summary.teachersTotal)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"å­¦ç”Ÿæ€»æ•°",value:String(u.summary.studentsTotal)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æ´»è·ƒè€å¸ˆ",value:String(u.summary.activeTeachers)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æ´»è·ƒå­¦ç”Ÿ",value:String(u.summary.activeStudents)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"è¯¾ç¨‹å®ŒæˆçŽ‡",value:`${(u.summary.courseCompletionRate*100).toFixed(1)}%`}),jsxRuntimeExports.jsx(AdminStatCard,{label:"å¹³å‡å­¦ä¹ æ—¶é•¿(åˆ†)",value:u.summary.avgTimeSpentMinutes.toFixed(1)})]}),jsxRuntimeExports.jsxs(AdminStatGrid,{columns:5,children:[jsxRuntimeExports.jsx(AdminStatCard,{label:"è€å¸ˆ D7 ç•™å­˜",value:`${(u.summary.teacherD7Retention*100).toFixed(1)}%`}),jsxRuntimeExports.jsx(AdminStatCard,{label:"å­¦ç”Ÿ D7 ç•™å­˜",value:`${(u.summary.studentD7Retention*100).toFixed(1)}%`}),jsxRuntimeExports.jsx(AdminStatCard,{label:"è€å¸ˆæ¿€æ´»ä¸­ä½æ—¶é•¿(å°æ—¶)",value:u.summary.teacherMedianActivationHours.toFixed(1)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"å­¦ç”Ÿæ¿€æ´»ä¸­ä½æ—¶é•¿(å°æ—¶)",value:u.summary.studentMedianActivationHours.toFixed(1)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"æ±‚åŠ©å¯†åº¦(æ¯æ¬¡å¼€è¯¾)",value:u.summary.stuckPerCourseOpen.toFixed(2)})]}),jsxRuntimeExports.jsx(AdminChartCard,{title:"ä¸šåŠ¡æ¼æ–—ï¼ˆè¯¾ç¨‹é“¾è·¯ï¼‰",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:260,children:jsxRuntimeExports.jsxs(BarChart,{data:[{stage:"Created",value:u.funnel.courseCreated},{stage:"Published",value:u.funnel.coursePublished},{stage:"Assigned",value:u.funnel.courseAssigned},{stage:"Completed",value:u.funnel.courseCompleted}],children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"stage"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"value",fill:"#0ea5e9"})]})})}),jsxRuntimeExports.jsx(AdminChartCard,{title:"æ•™å¸ˆæ¿€æ´»æ¼æ–—",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:260,children:jsxRuntimeExports.jsxs(BarChart,{data:u.teacherActivationFunnel,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"stage"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"value",fill:"#0284c7"})]})})}),jsxRuntimeExports.jsx(AdminChartCard,{title:"å­¦ç”Ÿå­¦ä¹ æ¼æ–—",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:260,children:jsxRuntimeExports.jsxs(BarChart,{data:u.studentLearningFunnel,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"stage"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"value",fill:"#16a34a"})]})})}),jsxRuntimeExports.jsx(AdminChartCard,{title:"æ¯æ—¥ä¸šåŠ¡è¶‹åŠ¿",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:u.dailyTrend,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"day"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"courseCreated",stroke:"#0ea5e9",name:"Course Created"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"courseCompleted",stroke:"#16a34a",name:"Course Completed"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"activeStudents",stroke:"#f59e0b",name:"Active Students"})]})})}),jsxRuntimeExports.jsx(AdminChartCard,{title:"ç•™å­˜è¶‹åŠ¿ï¼ˆD1/D7ï¼‰",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(LineChart,{data:u.retention.byDay,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"day"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"teacherD1",stroke:"#0ea5e9",name:"Teacher D1"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"teacherD7",stroke:"#0284c7",name:"Teacher D7"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"studentD1",stroke:"#22c55e",name:"Student D1"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"studentD7",stroke:"#15803d",name:"Student D7"})]})})}),jsxRuntimeExports.jsx(AdminTableCard,{title:`æ•™å¸ˆ Top ${v}ï¼ˆæŒ‰åˆ›å»ºè¯¾ç¨‹ï¼‰`,headers:["Teacher","Course Count"],rows:u.topTeachersByCourses.map(E=>[E.teacherName,String(E.courseCount)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:`å­¦ç”Ÿ Top ${v}ï¼ˆæŒ‰å®Œæˆè¯¾ç¨‹ï¼‰`,headers:["Student","Completed Courses","Avg Progress"],rows:u.topStudentsByCompletion.map(E=>[E.studentName,String(E.completedCourses),`${E.avgProgress.toFixed(1)}%`])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"çƒ­é—¨å­¦ç§‘",headers:["Subject","Course Count"],rows:u.topSubjects.map(E=>[E.subject,String(E.count)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"çƒ­é—¨å¹´çº§",headers:["Grade","Course Count"],rows:u.topGrades.map(E=>[E.grade,String(E.count)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"å­¦ä¹ è´¨é‡ä»£ç†ï¼ˆå¡ç‚¹ Topï¼‰",headers:["Task Step","Stuck Count"],rows:u.learningQualityProxy.topStuckSteps.map(E=>[E.step,String(E.count)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"å‘å¸ƒé˜ˆå€¼å‘Šè­¦",headers:["Level","Metric","Value","Threshold","Message"],rows:u.releaseAlerts.map(E=>[E.level,E.metric,String(E.value),String(E.threshold),E.message])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"å‘¨åº¦è¿è¥å¤ç›˜ï¼ˆè¿‘ 7 å¤© vs å‰ 7 å¤©ï¼‰",headers:["Metric","Current","Previous","Delta %"],rows:u.weeklyReview.map(E=>[E.metric,String(E.current),String(E.previous),`${E.deltaPct.toFixed(2)}%`])})]}):null]})})}function AdminFeedbackPage(){const e=useNavigate(),[t,n]=reactExports.useState(!0),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState(null),[A,m]=reactExports.useState(()=>new Date(Date.now()-720*3600*1e3).toISOString().slice(0,10)),[f,g]=reactExports.useState(()=>new Date().toISOString().slice(0,10)),[v,b]=reactExports.useState(""),[w,j]=reactExports.useState(""),[E,R]=reactExports.useState(200),_=reactExports.useMemo(()=>`${A} ~ ${f}`,[A,f]),N=async()=>{n(!0),l("");try{const{data:B}=await supabase.auth.getSession(),M=B.session?.access_token;if(!M){e("/admin/login",{replace:!0});return}const O=await getAdminFeedbacks({startDate:A,endDate:f,feedbackType:v,q:w.trim()||void 0,limit:E},M);d(O)}catch(B){l(B instanceof Error?B.message:"åŠ è½½å¤±è´¥")}finally{n(!1)}};return reactExports.useEffect(()=>{N()},[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-4",children:[jsxRuntimeExports.jsx(AdminTopNav,{}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Feedback Dashboard"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:["All feedback collected by FeedbackButton (",_,")"]})]}),jsxRuntimeExports.jsx(AdminFilterBar,{startDate:A,endDate:f,onStartDateChange:m,onEndDateChange:g,onRefresh:N,extraControls:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AdminSelectControl,{label:"ç±»åž‹",value:v,onChange:B=>b(B),options:[{value:"",label:"å…¨éƒ¨"},{value:"bug",label:"Bug"},{value:"suggestion",label:"Suggestion"},{value:"other",label:"Other"}]}),jsxRuntimeExports.jsx(AdminTextControl,{label:"å…³é”®è¯",value:w,onChange:j,placeholder:"æœç´¢åé¦ˆå†…å®¹"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Limit"}),jsxRuntimeExports.jsx("input",{type:"number",min:1,max:500,value:E,onChange:B=>R(Math.max(1,Math.min(500,Number(B.target.value||200)))),className:"rounded-md border px-3 py-2 text-sm w-24"})]})]})}),t?jsxRuntimeExports.jsx("div",{className:"rounded-xl border bg-white p-6 text-sm text-slate-500",children:"åŠ è½½ä¸­..."}):null,o?jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:o}):null,u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(AdminStatGrid,{columns:5,children:[jsxRuntimeExports.jsx(AdminStatCard,{label:"åé¦ˆæ€»æ•°",value:String(u.summary.total)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"Bug",value:String(u.summary.bugCount)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"Suggestion",value:String(u.summary.suggestionCount)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"Other",value:String(u.summary.otherCount)}),jsxRuntimeExports.jsx(AdminStatCard,{label:"å¹³å‡è¯„åˆ†",value:u.summary.avgRating>0?u.summary.avgRating.toFixed(2):"-"})]}),jsxRuntimeExports.jsx(AdminTableCard,{title:"Feedback åˆ—è¡¨",headers:["æ—¶é—´","ç±»åž‹","è¯„åˆ†","ç”¨æˆ·","é‚®ç®±","User ID","é¡µé¢","åé¦ˆå†…å®¹","ç”¨æˆ·æ ‡è¯†"],rows:u.items.map(B=>[jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap",children:new Date(B.createdAt).toLocaleString()}),B.feedbackType,B.rating??"-",jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap",children:B.userName||"åŒ¿å"}),jsxRuntimeExports.jsx("span",{className:"text-xs whitespace-nowrap",children:B.userEmail||"-"}),jsxRuntimeExports.jsx("span",{className:"text-xs break-all",children:B.userId||"-"}),jsxRuntimeExports.jsxs("div",{className:"min-w-48",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:B.pageName||"-"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500 break-all",children:B.pagePath||"-"})]}),jsxRuntimeExports.jsx("div",{className:"min-w-96 whitespace-pre-wrap",children:B.feedbackText}),jsxRuntimeExports.jsx("span",{className:"text-xs break-all",children:B.userIdentifier||"-"})])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"åé¦ˆä¸»é¢˜åˆ†å¸ƒï¼ˆå…³é”®è¯ï¼‰",headers:["Topic","Count"],rows:u.topicDistribution.map(B=>[B.topic,String(B.count)])}),jsxRuntimeExports.jsx(AdminTableCard,{title:"é«˜é£Žé™©åé¦ˆé˜Ÿåˆ—ï¼ˆä½Žè¯„åˆ† + Bugï¼‰",headers:["æ—¶é—´","ç±»åž‹","è¯„åˆ†","ç”¨æˆ·","é¡µé¢","åé¦ˆå†…å®¹"],rows:u.highRiskQueue.map(B=>[jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap",children:new Date(B.createdAt).toLocaleString()}),B.feedbackType,B.rating??"-",jsxRuntimeExports.jsx("span",{className:"whitespace-nowrap",children:B.userName||"åŒ¿å"}),jsxRuntimeExports.jsx("span",{className:"text-xs break-all",children:B.pagePath||"-"}),jsxRuntimeExports.jsx("div",{className:"min-w-96 whitespace-pre-wrap",children:B.feedbackText})])})]}):null]})})}const POLICY_TEMPLATES={video_platform:{platformDefault:"bilibili",fallbackPlatforms:["bilibili","youtube"]},content_language_default:{defaultLanguage:"zh",allowOverride:!0},feature_flags:{flags:{enableParentWorkspace:!0,enableLanguageSpaceSwitcher:!0}},nav_landing:{hiddenSectionsByRole:{},sectionOrderByRole:{},labelOverrides:{},landingVariantByRole:{}}};function AdminSettingsPage(){const e=useNavigate(),[t,n]=reactExports.useState(!0),[o,l]=reactExports.useState(!1),[u,d]=reactExports.useState(""),[A,m]=reactExports.useState([]),[f,g]=reactExports.useState([]),[v,b]=reactExports.useState(null),[w,j]=reactExports.useState("video_platform"),[E,R]=reactExports.useState(""),[_,N]=reactExports.useState(""),[B,M]=reactExports.useState(""),[O,F]=reactExports.useState(""),[$,z]=reactExports.useState(!0),[se,ce]=reactExports.useState(JSON.stringify(POLICY_TEMPLATES.video_platform,null,2)),ie=reactExports.useMemo(()=>{const Y=[];return E.trim()&&Y.push(`tenant:${E.trim()}`),_&&Y.push(`market:${_}`),B&&Y.push(`space:${B}`),O&&Y.push(`role:${O}`),Y.length>0?Y.join(" | "):"global"},[E,_,B,O]),pe=async()=>{const{data:Y}=await supabase.auth.getSession(),fe=Y.session?.access_token;return fe||(e("/admin/login",{replace:!0}),null)},xe=async()=>{n(!0),d("");try{const Y=await pe();if(!Y)return;const fe=await listAdminMarketPolicies({},Y);m(fe.policies);const H=await listAdminTenants({limit:100},Y);g(H.tenants)}catch(Y){const fe=Y instanceof Error?Y.message:"åŠ è½½å¤±è´¥";if(fe.includes("Admin access required")||fe.includes("Invalid token")){await supabase.auth.signOut(),e("/admin/login",{replace:!0});return}d(fe)}finally{n(!1)}},Ae=async()=>{d("");try{const Y=await pe();if(!Y)return;const fe=await resolveAdminMarketPolicy({tenantId:E.trim()||null,marketCode:_||null,space:B||null,role:O||null},Y);b(fe.policy)}catch(Y){d(Y instanceof Error?Y.message:"ç­–ç•¥é¢„è§ˆå¤±è´¥")}},ue=async()=>{l(!0),d("");try{const Y=await pe();if(!Y)return;let fe;try{fe=JSON.parse(se)}catch{d("policy_json ä¸æ˜¯åˆæ³• JSON"),l(!1);return}const H=E.trim();if(H&&!f.some(de=>de.id===H)){d(`Tenant ID "${H}" ä¸å­˜åœ¨ï¼Œè¯·å…ˆä»Žç§Ÿæˆ·åˆ—è¡¨é€‰æ‹©æœ‰æ•ˆå€¼ã€‚`),l(!1);return}await upsertAdminMarketPolicy({policyKey:w,tenantId:H||null,marketCode:_||null,space:B||null,role:O||null,policyJson:fe,enabled:$},Y),await xe(),await Ae()}catch(Y){d(Y instanceof Error?Y.message:"ä¿å­˜å¤±è´¥")}finally{l(!1)}};return reactExports.useEffect(()=>{xe()},[]),reactExports.useEffect(()=>{ce(JSON.stringify(POLICY_TEMPLATES[w],null,2))},[w]),jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-4",children:[jsxRuntimeExports.jsx(AdminTopNav,{}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Market Strategy Settings"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Configure policy by scope: global / market / space / tenant."})]}),u?jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:u}):null,jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4 space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold",children:"Edit Policy"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Policy Key"}),jsxRuntimeExports.jsxs("select",{value:w,onChange:Y=>j(Y.target.value),className:"w-full rounded-md border px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"video_platform",children:"video_platform"}),jsxRuntimeExports.jsx("option",{value:"content_language_default",children:"content_language_default"}),jsxRuntimeExports.jsx("option",{value:"feature_flags",children:"feature_flags"}),jsxRuntimeExports.jsx("option",{value:"nav_landing",children:"nav_landing"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Tenant ID"}),jsxRuntimeExports.jsxs("select",{value:E,onChange:Y=>R(Y.target.value),className:"w-full rounded-md border px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"(none)"}),f.map(Y=>jsxRuntimeExports.jsxs("option",{value:Y.id,children:[Y.market_code??"N/A"," / ",Y.name," (",Y.id,")"]},Y.id))]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"ä»Žå·²é…ç½®ç§Ÿæˆ·ä¸­é€‰æ‹©ï¼›ä¸ºç©ºè¡¨ç¤ºä¸æŒ‰ tenant ç»´åº¦é™åˆ¶ã€‚"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Market"}),jsxRuntimeExports.jsxs("select",{value:_,onChange:Y=>N(Y.target.value),className:"w-full rounded-md border px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"(none)"}),jsxRuntimeExports.jsx("option",{value:"CN",children:"CN"}),jsxRuntimeExports.jsx("option",{value:"SG",children:"SG"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Space"}),jsxRuntimeExports.jsxs("select",{value:B,onChange:Y=>M(Y.target.value),className:"w-full rounded-md border px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"(none)"}),jsxRuntimeExports.jsx("option",{value:"zh",children:"zh"}),jsxRuntimeExports.jsx("option",{value:"en",children:"en"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Role"}),jsxRuntimeExports.jsxs("select",{value:O,onChange:Y=>F(Y.target.value),className:"w-full rounded-md border px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"(none)"}),jsxRuntimeExports.jsx("option",{value:"teacher",children:"teacher"}),jsxRuntimeExports.jsx("option",{value:"student",children:"student"}),jsxRuntimeExports.jsx("option",{value:"parent",children:"parent"}),jsxRuntimeExports.jsx("option",{value:"admin",children:"admin"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:$,onChange:Y=>z(Y.target.checked)}),"enabled"]})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Scope Preview"}),jsxRuntimeExports.jsx("div",{className:"rounded-md bg-slate-100 px-3 py-2 text-sm",children:ie})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"policy_json"}),jsxRuntimeExports.jsx("textarea",{value:se,onChange:Y=>ce(Y.target.value),className:"w-full min-h-[220px] rounded-md border px-3 py-2 text-xs font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:ue,disabled:o,className:"rounded-md bg-slate-900 text-white px-3 py-2 text-sm disabled:opacity-60",children:o?"Saving...":"Save Policy"}),jsxRuntimeExports.jsx("button",{onClick:Ae,className:"rounded-md border px-3 py-2 text-sm hover:bg-slate-100",children:"Preview Effective Policy"})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-4 space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold",children:"Effective Policy Preview"}),jsxRuntimeExports.jsx("pre",{className:"rounded-md bg-slate-50 border p-3 text-xs overflow-auto min-h-[220px]",children:v?JSON.stringify(v,null,2):'Click "Preview Effective Policy"'}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold mt-2",children:"Recent Policies"}),jsxRuntimeExports.jsx("div",{className:"max-h-[320px] overflow-auto rounded-md border",children:t?jsxRuntimeExports.jsx("div",{className:"p-3 text-sm text-slate-500",children:"Loading..."}):A.length===0?jsxRuntimeExports.jsx("div",{className:"p-3 text-sm text-slate-500",children:"No policies yet."}):jsxRuntimeExports.jsxs("table",{className:"min-w-full text-xs",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b bg-slate-50",children:[jsxRuntimeExports.jsx("th",{className:"text-left px-2 py-2",children:"Key"}),jsxRuntimeExports.jsx("th",{className:"text-left px-2 py-2",children:"Scope"}),jsxRuntimeExports.jsx("th",{className:"text-left px-2 py-2",children:"Enabled"})]})}),jsxRuntimeExports.jsx("tbody",{children:A.map(Y=>jsxRuntimeExports.jsxs("tr",{className:"border-b last:border-0",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Y.policy_key}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Y.scope_key}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Y.enabled?"Y":"N"})]},`${Y.id}`))})]})})]})]})]})})}function AdminDataPage(){const e=useNavigate(),[t,n]=reactExports.useState(!0),[o,l]=reactExports.useState(""),[u,d]=reactExports.useState([]),[A,m]=reactExports.useState(""),[f,g]=reactExports.useState("student"),[v,b]=reactExports.useState(""),[w,j]=reactExports.useState(""),[E,R]=reactExports.useState([]),[_,N]=reactExports.useState([]),[B,M]=reactExports.useState(!1),[O,F]=reactExports.useState(!1),[$,z]=reactExports.useState(null),se=async()=>{const{data:ie}=await supabase.auth.getSession(),pe=ie.session?.access_token;return pe||(e("/admin/login",{replace:!0}),null)};reactExports.useEffect(()=>{let ie=!1;return(async()=>{n(!0),l("");try{const xe=await se();if(!xe||ie)return;const Ae=await listAdminTenants({limit:100},xe);ie||d(Ae.tenants??[])}catch(xe){if(!ie){const Ae=xe instanceof Error?xe.message:"åŠ è½½å¤±è´¥";if(Ae.includes("Admin access required")||Ae.includes("Invalid token")){await supabase.auth.signOut(),e("/admin/login",{replace:!0});return}l(Ae)}}finally{ie||n(!1)}})(),()=>{ie=!0}},[e]),reactExports.useEffect(()=>{if(f!=="student"||!A.trim()){N([]),R([]);return}let ie=!1;return(async()=>{M(!0);try{const xe=await se();if(!xe||ie)return;const Ae=await listAdminClasses(A.trim(),xe);ie||N(Ae.classes??[])}catch{ie||N([])}finally{ie||M(!1)}})(),()=>{ie=!0}},[f,A]);const ce=async ie=>{ie.preventDefault(),l(""),z(null);const pe=await se();if(!pe)return;if(!A.trim()){l("è¯·é€‰æ‹© Tenant");return}if(f==="student"&&E.length===0){l("å­¦ç”Ÿè§’è‰²éœ€è¦é€‰æ‹©è‡³å°‘ä¸€ä¸ªç­çº§");return}if(!v||v.length<6){l("è¯·è¾“å…¥è‡³å°‘ 6 ä½é»˜è®¤å¯†ç ");return}const xe=w.split(/[\n,]+/).map(Ae=>Ae.trim()).filter(Boolean);if(xe.length===0){l("è¯·è¾“å…¥è‡³å°‘ä¸€ä¸ªé‚®ç®±/æ‰‹æœºå·/è´¦å·åï¼Œæ¯è¡Œä¸€ä¸ª");return}F(!0);try{const Ae=await batchCreateAccounts({tenantId:A.trim(),role:f,defaultPassword:v,identifiers:xe,...f==="student"&&E.length>0?{classIds:E}:{}},pe);z(Ae)}catch(Ae){l(Ae instanceof Error?Ae.message:"æ‰¹é‡åˆ›å»ºå¤±è´¥")}finally{F(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[jsxRuntimeExports.jsx(AdminTopNav,{}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"æ•°æ®ç®¡ç† Â· æ‰¹é‡ç”Ÿæˆè´¦å·"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"æ”¯æŒé‚®ç®±ã€æ‰‹æœºå·æˆ–ç®€å•è´¦å·åï¼›é€‰æ‹©ç§Ÿæˆ·å’Œè§’è‰²åŽæ‰¹é‡åˆ›å»ºï¼Œå­¦ç”Ÿéœ€é€‰æ‹©ç­çº§ã€‚"})]}),o?jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:o}):null,jsxRuntimeExports.jsxs("form",{onSubmit:ce,className:"rounded-xl border bg-white p-6 space-y-5",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tenant"}),jsxRuntimeExports.jsxs("select",{value:A,onChange:ie=>m(ie.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- é€‰æ‹©ç§Ÿæˆ· --"}),u.map(ie=>jsxRuntimeExports.jsxs("option",{value:ie.id,children:[ie.market_code??"N/A"," / ",ie.name," (",ie.id,")"]},ie.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"è§’è‰² (Role)"}),jsxRuntimeExports.jsxs("select",{value:f,onChange:ie=>g(ie.target.value),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",children:[jsxRuntimeExports.jsx("option",{value:"teacher",children:"æ•™å¸ˆ (teacher)"}),jsxRuntimeExports.jsx("option",{value:"student",children:"å­¦ç”Ÿ (student)"}),jsxRuntimeExports.jsx("option",{value:"parent",children:"å®¶é•¿ (parent)"})]})]})]}),f==="student"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ç­çº§ï¼ˆå­¦ç”Ÿå¿…é€‰ï¼Œå¯å¤šé€‰ï¼‰"}),A.trim()?B?jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"åŠ è½½ç­çº§ä¸­..."}):_.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-600",children:"è¯¥ç§Ÿæˆ·ä¸‹æš‚æ— ç­çº§ï¼Œè¯·å…ˆåœ¨æ•™å¸ˆç«¯åˆ›å»ºç­çº§"}):jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(ie=>{const pe=E.includes(ie.id);return jsxRuntimeExports.jsxs("label",{className:`inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm cursor-pointer ${pe?"border-slate-900 bg-slate-50":"border-slate-200 hover:bg-slate-50"}`,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:pe,onChange:xe=>{xe.target.checked?R(Ae=>[...Ae,ie.id]):R(Ae=>Ae.filter(ue=>ue!==ie.id))}}),ie.name,ie.grade?` (${ie.grade})`:"",ie.studentCount!=null?` Â· ${ie.studentCount}äºº`:""]},ie.id)})}):jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"è¯·å…ˆé€‰æ‹© Tenant"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"é»˜è®¤å¯†ç  (è‡³å°‘ 6 ä½)"}),jsxRuntimeExports.jsx("input",{type:"password",value:v,onChange:ie=>b(ie.target.value),placeholder:"ä¾‹å¦‚: ChangeMe123",className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm",minLength:6,required:!0,autoComplete:"new-password"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"é‚®ç®± / æ‰‹æœºå· / è´¦å·åï¼ˆæ¯è¡Œä¸€ä¸ªï¼Œæ”¯æŒé€—å·åˆ†éš”ï¼‰"}),jsxRuntimeExports.jsx("textarea",{value:w,onChange:ie=>j(ie.target.value),placeholder:`user1@example.com
+8613800138000
student001
zhangsan`,className:"w-full min-h-[180px] rounded-md border border-slate-300 px-3 py-2 text-sm font-mono",required:!0})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:O||t,className:"rounded-md bg-slate-900 text-white px-4 py-2 text-sm font-medium disabled:opacity-60",children:O?"ç”Ÿæˆä¸­...":"æ‰¹é‡ç”Ÿæˆè´¦å·"})})]}),$&&jsxRuntimeExports.jsxs("div",{className:"rounded-xl border bg-white p-6 space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold",children:"æ‰§è¡Œç»“æžœ"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 text-sm",children:[jsxRuntimeExports.jsxs("span",{className:"text-green-600",children:["æ–°å»º: ",$.summary.created]}),jsxRuntimeExports.jsxs("span",{className:"text-blue-600",children:["æ›´æ–°: ",$.summary.updated]}),jsxRuntimeExports.jsxs("span",{className:"text-slate-500",children:["è·³è¿‡: ",$.summary.skipped]}),$.summary.errors>0&&jsxRuntimeExports.jsxs("span",{className:"text-red-600",children:["å¤±è´¥: ",$.summary.errors]})]}),jsxRuntimeExports.jsx("div",{className:"max-h-[240px] overflow-auto rounded-md border",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-xs",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b bg-slate-50",children:[jsxRuntimeExports.jsx("th",{className:"text-left px-3 py-2",children:"é‚®ç®±/æ‰‹æœºå·/è´¦å·"}),jsxRuntimeExports.jsx("th",{className:"text-left px-3 py-2",children:"çŠ¶æ€"}),jsxRuntimeExports.jsx("th",{className:"text-left px-3 py-2",children:"è¯´æ˜Ž"})]})}),jsxRuntimeExports.jsx("tbody",{children:$.results.map((ie,pe)=>jsxRuntimeExports.jsxs("tr",{className:"border-b last:border-0",children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-2 font-mono",children:ie.identifier}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2",children:jsxRuntimeExports.jsx("span",{className:ie.status==="created"?"text-green-600":ie.status==="updated"?"text-blue-600":ie.status==="error"?"text-red-600":"text-slate-500",children:ie.status==="created"?"æ–°å»º":ie.status==="updated"?"æ›´æ–°":ie.status==="error"?"å¤±è´¥":"è·³è¿‡"})}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-slate-600",children:ie.message??(ie.userId?ie.userId.slice(0,8)+"...":"")})]},pe))})]})})]})]})})}function AdminPortal(){return jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/admin/login",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(AdminLoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/cost",element:jsxRuntimeExports.jsx(AdminCostPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/performance",element:jsxRuntimeExports.jsx(AdminPerformancePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/business",element:jsxRuntimeExports.jsx(AdminBusinessPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/feedback",element:jsxRuntimeExports.jsx(AdminFeedbackPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(AdminSettingsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/data",element:jsxRuntimeExports.jsx(AdminDataPage,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/admin/login",replace:!0})})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(FontSizeProvider,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(FeedbackButton,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(App,{})}),jsxRuntimeExports.jsx(Route,{path:"/app",element:jsxRuntimeExports.jsx(App,{})}),jsxRuntimeExports.jsx(Route,{path:"/app/:space",element:jsxRuntimeExports.jsx(App,{})}),jsxRuntimeExports.jsx(Route,{path:"/shared-course/:token",element:jsxRuntimeExports.jsx(SharedCourseLandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/shared-twin/:token",element:jsxRuntimeExports.jsx(SharedTwinLandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot-password",element:jsxRuntimeExports.jsx(ForgotPasswordPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/reset-password",element:jsxRuntimeExports.jsx(ResetPasswordPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/course/:id",element:jsxRuntimeExports.jsx(CoursePage,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/*",element:jsxRuntimeExports.jsx(AdminPortal,{})})]})]})})}));export{timeWednesday as $,asin as A,Background as B,Controls as C,acos as D,array$1 as E,ordinal as F,getDefaultExportFromCjs as G,Handle as H,Rgb as I,rgbConvert as J,define as K,extend$2 as L,MarkerType as M,Color as N,nogamma as O,Position as P,hue as Q,React as R,time as S,min$1 as T,max$1 as U,timeFormat as V,timeMonth as W,timeSunday as X,timeSaturday as Y,timeFriday as Z,timeThursday as _,ReactFlowProvider as a,timeTuesday as a0,timeMonday as a1,timeDay as a2,timeHour as a3,timeMinute as a4,second as a5,millisecond as a6,format as a7,Basis as a8,noop$1 as a9,__vitePreload as aa,stepBefore as ab,stepAfter as ac,curveStep as ad,curveNatural as ae,monotoneY as af,monotoneX as ag,curveLinearClosed as ah,curveLinear as ai,bumpY as aj,bumpX as ak,curveBasisOpen as al,curveBasisClosed as am,getAugmentedNamespace as an,katex$1 as ao,useEdgesState as b,addEdge as c,MiniMap as d,band as e,line as f,curveBasis as g,cos as h,index as i,jsxRuntimeExports as j,sin as k,linear as l,constant$4 as m,halfPi as n,epsilon$1 as o,pi$1 as p,sqrt$1 as q,reactExports as r,select as s,tau$1 as t,useNodesState as u,min$2 as v,withPath as w,abs as x,atan2 as y,max$2 as z};
